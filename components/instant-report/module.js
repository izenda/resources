var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
izendaRequire.define("common/core/module-definition", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // create izenda.common.core angular module
    var izendaCoreModule = angular.module('izenda.common.core', ['rx']);
    exports.default = izendaCoreModule;
});
izendaRequire.define("common/core/tools/msie-detect", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MsieDetect = /** @class */ (function () {
        function MsieDetect() {
        }
        MsieDetect.isSpecificIeVersion = function (version, comparison) {
            var ieCompareOperator = 'IE';
            var b = document.createElement('B');
            var docElem = document.documentElement;
            if (version) {
                ieCompareOperator += " " + version;
                if (comparison) {
                    ieCompareOperator = comparison + " " + ieCompareOperator;
                }
            }
            b.innerHTML = "<!--[if " + ieCompareOperator + "]><b id=\"iecctest\"></b><![endif]-->";
            docElem.appendChild(b);
            var isIeResult = !!document.getElementById('iecctest');
            docElem.removeChild(b);
            var docMode = document['documentMode'];
            var isCompatibilityMode = (typeof docMode !== 'undefined' &&
                ((comparison === 'lte' && Number(docMode) <= version) ||
                    (comparison === 'gte' && Number(docMode) >= version) ||
                    (comparison === 'lt' && Number(docMode) < version) ||
                    (comparison === 'gt' && Number(docMode) > version) ||
                    (comparison === 'eq' && Number(docMode) === version)));
            return isIeResult || isCompatibilityMode;
        };
        return MsieDetect;
    }());
    exports.default = MsieDetect;
});
izendaRequire.define("common/core/services/compatibility-service", ["require", "exports", "common/core/tools/msie-detect", "izenda-external-libs"], function (require, exports, msie_detect_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaCompatibilityService = /** @class */ (function () {
        function IzendaCompatibilityService($window) {
            this.$window = $window;
            this.rightNone = 'None';
            this.rightReadOnly = 'Read Only';
            this.rightViewOnly = 'View Only';
            this.rightLocked = 'Locked';
            this.rightFullAccess = 'Full Access';
            this.currentRights = this.rightNone;
            this.ie8 = msie_detect_1.default.isSpecificIeVersion(8, 'lte');
            this.lteIe10 = msie_detect_1.default.isSpecificIeVersion(10, 'lte');
            this.gteIe9 = msie_detect_1.default.isSpecificIeVersion(9, 'gte');
        }
        Object.defineProperty(IzendaCompatibilityService, "injectModules", {
            get: function () {
                return ['$window'];
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.prototype.isIe8 = function () {
            return this.ie8;
        };
        IzendaCompatibilityService.prototype.isIe = function () {
            return this.gteIe9;
        };
        IzendaCompatibilityService.prototype.isLteIe10 = function () {
            return this.lteIe10;
        };
        IzendaCompatibilityService.prototype.isHtml5FullScreenSupported = function () {
            return !this.lteIe10
                && (document['fullscreenEnabled'] || document['webkitFullscreenEnabled'] || document['mozFullScreenEnabled'] || document['msFullscreenEnabled']);
        };
        /**
         * Check is page should have mobile view.
         */
        IzendaCompatibilityService.prototype.isMobile = function () {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        };
        /**
         * Check is page window is too small to fit several columns of tiles.
         */
        IzendaCompatibilityService.prototype.isSmallResolution = function () {
            return this.$window.innerWidth <= 991;
        };
        /**
         * Check if one column view required
         */
        IzendaCompatibilityService.prototype.isOneColumnView = function () {
            return this.isMobile() || this.isSmallResolution();
        };
        ;
        /**
         * Set flag that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.setUsesHiddenColumns = function (value) {
            this.usesHiddenColumns = value;
        };
        /**
         * Get flat that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.isUsesHiddenColumns = function () {
            return this.usesHiddenColumns;
        };
        /**
         * Set rights for current dashboard
         */
        IzendaCompatibilityService.prototype.setRights = function (rights) {
            this.currentRights = rights ? rights : this.rightNone;
        };
        /**
         * Get current rights
         */
        IzendaCompatibilityService.prototype.getRights = function () {
            return this.currentRights ? this.currentRights : this.rightNone;
        };
        /**
         * Set full access right as current right.
         */
        IzendaCompatibilityService.prototype.setFullAccess = function () {
            this.setRights(this.rightFullAccess);
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isFullAccess = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isOneColumnView();
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save as allowed
         */
        IzendaCompatibilityService.prototype.isSaveAsAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed with hidden columns
         */
        IzendaCompatibilityService.prototype.isSaveAllowedWithHidden = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed
         */
        IzendaCompatibilityService.prototype.isSaveAllowed = function () {
            return this.isSaveAllowedWithHidden() && !this.usesHiddenColumns;
        };
        /**
         * Check is filters editing allowed
         */
        IzendaCompatibilityService.prototype.isFiltersEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly, this.rightLocked].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        Object.defineProperty(IzendaCompatibilityService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.register = function (module) {
            module.service('$izendaCompatibilityService', IzendaCompatibilityService.injectModules.concat(IzendaCompatibilityService));
        };
        return IzendaCompatibilityService;
    }());
    exports.default = IzendaCompatibilityService;
});
izendaRequire.define("common/core/services/event-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaEventService = /** @class */ (function () {
        function IzendaEventService($rootScope, $log) {
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.events = {};
        }
        Object.defineProperty(IzendaEventService, "injectModules", {
            get: function () {
                return ['$rootScope', '$log'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add event to queue.
         */
        IzendaEventService.prototype.queueEvent = function (eventName, eventArguments, clearQueue) {
            if (!(eventName in this.events) || clearQueue) {
                this.events[eventName] = [];
            }
            var eventRecord = {
                args: eventArguments
            };
            this.events[eventName].push(eventRecord);
            this.$log.debug("event \"" + eventName + "\" queued");
            this.$rootScope.$broadcast(eventName, eventArguments);
        };
        /**
         * Retrieve event record from queue and return it's record.
         */
        IzendaEventService.prototype.handleQueuedEvent = function (eventName, scope, eventContext, eventHandler) {
            var _this = this;
            if (!angular.isFunction(eventHandler))
                throw 'eventHandler should be a function';
            if (!(eventName in this.events) || !angular.isArray(this.events[eventName]))
                this.events[eventName] = [];
            while (this.events[eventName].length > 0) {
                var eventRecord = this.events[eventName].shift();
                this.$log.debug("event \"" + eventName + "\" run from queue");
                eventHandler.apply(eventContext, eventRecord.args);
            }
            // start handling event using angular events.
            if (scope.$$listeners) {
                var eventArr = scope.$$listeners[eventName];
                if (eventArr) {
                    for (var i = 0; i < eventArr.length; i++) {
                        if (eventArr[i] === eventHandler) {
                            eventArr.splice(i, 1);
                        }
                    }
                }
            }
            ;
            scope.$on(eventName, function (event, args) {
                _this.$log.debug("event \"" + eventName + "\" run from $on");
                _this.events[eventName] = [];
                eventHandler.apply(eventContext, args);
            });
        };
        /**
         * Clear all queued events (for manual $broadcast handling)
         */
        IzendaEventService.prototype.clearEventQueue = function (eventName) {
            this.events[eventName] = [];
        };
        Object.defineProperty(IzendaEventService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaEventService.register = function (module) {
            module.service('$izendaEventService', IzendaEventService.injectModules.concat(IzendaEventService));
        };
        return IzendaEventService;
    }());
    exports.default = IzendaEventService;
});
izendaRequire.define("common/core/services/localization-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Localization service. Gets localized strings from the "IzLocal" object.
     */
    var IzendaLocalizationService = /** @class */ (function () {
        function IzendaLocalizationService() {
            IzLocal.LocalizePage();
        }
        Object.defineProperty(IzendaLocalizationService, "injectModules", {
            get: function () {
                return [];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get localized text.
         * @param {string} key. Locale string key (defined in resources.aspx)
         * @param {string} defaultValue. Default value, when locale text couldn't be got
         * @returns {string} localized text.
         */
        IzendaLocalizationService.prototype.localeText = function (key, defaultValue) {
            var defaultText = angular.isString(defaultValue) ? defaultValue : '';
            return IzLocal.Res(key, defaultText);
        };
        /**
         * Apply locale string in format "...{0}...{1}..." and apply instead of '{n}' params[n]
         * @param {string} locale text key. This key contains in resources.
         * @param {strong} defaultValue. Default value if locale resource wasn't found.
         * @param {Array} params. Additional params.
         * @returns {string}. Localized text.
         */
        IzendaLocalizationService.prototype.localeTextWithParams = function (key, defaultValue, params) {
            var result = this.localeText(key, defaultValue);
            if (angular.isArray(params))
                params.forEach(function (param, iParam) {
                    return result = result.replaceAll("{" + iParam + "}", param);
                });
            return result;
        };
        Object.defineProperty(IzendaLocalizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaLocalizationService.register = function (module) {
            module.service('$izendaLocaleService', IzendaLocalizationService.injectModules.concat(IzendaLocalizationService));
            /**
             * Filter which is used for the applying localization.
             * Sample usage: <div ng-bind=":: 'js_close' | izendaLocale: 'Close'" /> where 'Close' - "defaultValue" parameter value.
             */
            module.filter('izendaLocale', [
                '$izendaLocaleService',
                function ($izendaLocaleService) {
                    return function (text, defaultValue) { return $izendaLocaleService.localeText(text, defaultValue); };
                }
            ]);
        };
        return IzendaLocalizationService;
    }());
    exports.default = IzendaLocalizationService;
});
izendaRequire.define("common/core/services/util-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Utility service. Provides the utility functions.
     */
    var IzendaUtilService = /** @class */ (function () {
        function IzendaUtilService($izendaLocaleService) {
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaUtilService, "injectModules", {
            get: function () {
                return ['$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create human readable variable name version
         * @param {string} text Text
         */
        IzendaUtilService.prototype.humanizeVariableName = function (text) {
            if (!angular.isString(text))
                return text;
            var result = text
                // insert a space between lower & upper
                .replace(/([a-z])([A-Z\d])/g, '$1 $2')
                // space before last upper in a sequence followed by lower
                .replace(/\b([A-Z\d]+)([A-Z\d])([a-z])/, '$1 $2$3')
                // uppercase the first character
                .replace(/^./, function (txt) { return txt.toUpperCase(); });
            return result;
        };
        Object.defineProperty(IzendaUtilService.prototype, "uncategorized", {
            /**
             * "Uncategorized" category localized name getter.
             */
            get: function () {
                return this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get "Uncategorized" category localized name.
         */
        IzendaUtilService.prototype.getUncategorized = function () {
            return this.uncategorized;
        };
        /**
         * Check whether "uncategorized" category or not.
         */
        IzendaUtilService.prototype.isUncategorized = function (category) {
            if (!category || !angular.isString(category))
                return true;
            return category.toLowerCase() === this.uncategorized.toLowerCase();
        };
        /**
         * Check whether categories equal or not.
         * @param {string} cat1 Category name.
         * @param {string} cat2 Category name.
         */
        IzendaUtilService.prototype.isCategoriesEqual = function (cat1, cat2) {
            return (this.isUncategorized(cat1) && this.isUncategorized(cat2)) || cat1 === cat2;
        };
        /**
         * Generate report full name
         * @param {string} reportName report name.
         * @param {string} separator directories separator symbol.
         * @param {string} category report category (optional).
         * @return {string} generated report full name.
         */
        IzendaUtilService.prototype.createReportFullName = function (reportName, separator, category) {
            if (!reportName || reportName.trim() === '')
                throw new Error('Empty "reportName" parameter isn\'t allowed.');
            return this.isUncategorized(category)
                ? reportName
                : category + separator + reportName;
        };
        /**
         * Convert options which have got from server using "GetOptionsByPath" query into
         * one dimentional array, which allow to use it as <option>
         */
        IzendaUtilService.prototype.convertOptionsByPath = function (optionGroups) {
            if (!angular.isArray(optionGroups))
                return [];
            var groups = [];
            optionGroups.forEach(function (group) {
                group.options.forEach(function (option) {
                    option.group = angular.isString(group.name) && group.name !== ''
                        ? group.name
                        : undefined;
                    groups.push(option);
                });
            });
            return groups;
        };
        /**
         * Get option by value from array of objects with "value" property (case insensitive):
         * [{value:'text1',...}, {value:'text2', ...}, ...]
         */
        IzendaUtilService.prototype.getOptionByValue = function (options, value, isLowerCaseComparison) {
            var i = 0;
            if (!angular.isArray(options) || !options.length)
                return null;
            while (i < options.length) {
                var option = options[i];
                if (!isLowerCaseComparison && option.value === value)
                    return option;
                if (isLowerCaseComparison && option.value.toLowerCase() === value.toLowerCase())
                    return option;
                i++;
            }
            return null;
        };
        Object.defineProperty(IzendaUtilService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilService.register = function (module) {
            module.service('$izendaUtilService', IzendaUtilService.injectModules.concat(IzendaUtilService));
        };
        return IzendaUtilService;
    }());
    exports.default = IzendaUtilService;
});
izendaRequire.define("common/core/services/util-ui-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaUtilUiService = /** @class */ (function () {
        function IzendaUtilUiService($timeout, $izendaLocaleService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.notificationHideDelay = 5000;
            this.notificationsIdCounter = 1;
            this.notifications = [];
            this.message = null;
            this.dialogBox = null;
        }
        Object.defineProperty(IzendaUtilUiService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Immediately close notification.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.closeNotification = function (notificationId) {
            var i = 0;
            while (i < this.notifications.length) {
                if (this.notifications[i].id === notificationId) {
                    this.cancelNotificationTimeout(notificationId);
                    this.notifications.splice(i, 1);
                    return;
                }
                i++;
            }
        };
        /**
         * Cancel notification autohide.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.cancelNotificationTimeout = function (notificationId) {
            var itm = this.getNotificationById(notificationId);
            if (itm.timeoutId) {
                this.$timeout.cancel(itm.timeoutId);
                itm.timeoutId = null;
            }
        };
        /**
         *  Shows pop up notification panel. If no <izenda-notification-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} text Message text.
         * @param {string} title Title text (optional).
         * @param {string} icon Icon (optional). Possible values 'error' or no value.
         */
        IzendaUtilUiService.prototype.showNotification = function (text, title, icon) {
            var _this = this;
            var nextId = this.notificationsIdCounter++;
            var iconClass = angular.isString(icon) && icon === 'error' ? 'glyphicon glyphicon-exclamation-sign' : '';
            var objToShow = {
                id: nextId,
                title: title ? title : '',
                text: text,
                iconClass: iconClass,
                timeoutId: null
            };
            objToShow.timeoutId = this.$timeout(function () {
                _this.closeNotification(objToShow.id);
            }, this.notificationHideDelay);
            this.notifications.push(objToShow);
        };
        /**
         * Shows message dialog. If no <izenda-message-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         */
        IzendaUtilUiService.prototype.showMessageDialog = function (message, title, alertInfo) {
            this.message = {
                message: message,
                title: angular.isDefined(title) ? title : '',
                alertInfo: angular.isDefined(alertInfo) ? alertInfo : 'info'
            };
        };
        /**
         * Shows error dialog.
         * @param {string} componentId ID of component. Used for distinguish different similar components.
         * @param {string} message Error text
         * @param {string} title Error title (optional)
         */
        IzendaUtilUiService.prototype.showErrorDialog = function (message, title) {
            var titleText = angular.isDefined(title) ? title : this.$izendaLocaleService.localeText('js_Error', 'Error');
            this.showMessageDialog(message, titleText, 'danger');
        };
        /**
         * Close message dialog.
         */
        IzendaUtilUiService.prototype.closeMessageDialog = function () {
            this.message = null;
        };
        /**
         * Shows dialog box. If no <izenda-dialog-box-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         * @param {Array} buttons dialog buttons (optional).
         * @param {Array} checkboxes checkboxes collection (optional).
         */
        IzendaUtilUiService.prototype.showDialogBox = function (options) {
            this.dialogBox = {
                message: options.message,
                title: angular.isDefined(options.title) ? options.title : '',
                alertInfo: angular.isDefined(options.alertInfo) ? options.alertInfo : 'info',
                buttons: angular.isDefined(options.buttons) ? options.buttons : [{ text: 'Close' }],
                checkboxes: angular.isDefined(options.checkboxes) ? options.checkboxes : []
            };
        };
        /**
         * Close dialog box
         */
        IzendaUtilUiService.prototype.closeDialogBox = function () {
            this.dialogBox = null;
        };
        IzendaUtilUiService.prototype.getNotificationById = function (id) {
            var found = this.notifications.find(function (n) {
                return n.id === id;
            });
            return found ? found : null;
        };
        Object.defineProperty(IzendaUtilUiService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilUiService.register = function (module) {
            module.service('$izendaUtilUiService', IzendaUtilUiService.injectModules.concat(IzendaUtilUiService));
        };
        return IzendaUtilUiService;
    }());
    exports.default = IzendaUtilUiService;
});
izendaRequire.define("common/core/directives/bootstrap-modal", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Bootstrap modal directive. Usage:
     * <izenda-bootstrap-modal opened="...">...</izenda-bootstrap-modal>
     */
    var IzendaBootstrapModalDirective = /** @class */ (function () {
        function IzendaBootstrapModalDirective($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                keyboard: '=',
                backdrop: '=',
                modalSize: '@',
                isModernBootstrapVersion: '@',
                onModalOpened: '&',
                onModalClosed: '&'
            };
            this.template = "\n<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n\t<div class=\"modal-dialog\" ng-class=\"getModalSizeClass()\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div ng-transclude=\"\"></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapModalDirective.prototype.link = function ($directiveScope, $element) {
                $directiveScope.getModalSizeClass = function () { return $directiveScope.modalSize === 'large' ? 'modal-lg' : ''; };
                var $modal = $element.children('.modal');
                if (!$directiveScope.isModernBootstrapVersion) {
                    $modal.css({
                        'overflow-x': 'hidden',
                        'overflow-y': 'scroll'
                    });
                }
                // additional bootstrap parameters
                if ($directiveScope.keyboard != null)
                    $modal.attr('data-keyboard', $directiveScope.keyboard);
                if ($directiveScope.backdrop != null)
                    $modal.attr('data-backdrop', $directiveScope.backdrop);
                // modal show handler
                $modal.on('show.bs.modal', function () {
                    $modal.css('background-color', 'rgba(0,0,0,0.8)');
                    $modal.css('filter', 'alpha(opacity=80)');
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('margin-right', '0');
                        angular.element('body').css('overflow', 'hidden');
                    }
                });
                // modal shown handler
                $modal.on('shown.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'hidden');
                        angular.element('body').scrollTop();
                    }
                    if (angular.isFunction($directiveScope.onModalOpened)) {
                        $directiveScope.onModalOpened({});
                    }
                    $directiveScope.$applyAsync();
                });
                // modal hidden handler
                $modal.on('hidden.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'inherit');
                        angular.element('body').css('margin-right', '0');
                    }
                    $directiveScope.opened = false;
                    if (angular.isFunction($directiveScope.onModalClosed)) {
                        $directiveScope.onModalClosed({});
                    }
                    $directiveScope.$applyAsync();
                });
                $directiveScope.$watch('opened', function (newVal) {
                    // create/hide modal dialog
                    if (newVal)
                        $element.children('.modal')['modal']();
                    else
                        $element.children('.modal')['modal']('hide');
                });
            };
        }
        IzendaBootstrapModalDirective.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapModalDirective($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapModalDirective;
    }());
    module_definition_1.default.directive('izendaBootstrapModal', ['$timeout', IzendaBootstrapModalDirective.factory()]);
});
izendaRequire.define("common/core/directives/utility", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Angular filter which replaces string.
     * Usage:
     * {{ 'some string' | izendaReplaceString: [{ from: 's', to: '$' }, { from: 'o', to: '0' } ] }}
     * this sample will produce string '$0me $tring'
     */
    module_definition_2.default.filter('izendaReplaceString', function () {
        return function (text, rules) {
            if (!angular.isArray(rules))
                return text;
            var resultText = text;
            if (!resultText)
                return resultText;
            rules.forEach(function (rule) { return resultText = resultText.replaceAll(rule.from, rule.to); });
            return resultText;
        };
    });
    /**
     * Attribute directive "izenda-scroll-bottom-action=""" which fires handler on container scroll end (-100px).
     * Event: scroll-bottom-action
     */
    var IzendaScrollBottomAction = /** @class */ (function () {
        function IzendaScrollBottomAction() {
            this.restrict = 'A';
            IzendaScrollBottomAction.prototype.link =
                function ($scope, $element, attrs) {
                    var $parent = $element.parent();
                    $parent.on('scroll', function () {
                        var height = $element.height();
                        if (height === 0)
                            return;
                        if (height - $parent.height() - 100 < $parent.scrollTop()) {
                            $scope.$eval(attrs.izendaScrollBottomAction);
                        }
                    });
                };
        }
        IzendaScrollBottomAction.factory = function () {
            return function () { return new IzendaScrollBottomAction(); };
        };
        return IzendaScrollBottomAction;
    }());
    exports.IzendaScrollBottomAction = IzendaScrollBottomAction;
    module_definition_2.default.directive('izendaScrollBottomAction', [IzendaScrollBottomAction.factory()]);
    /**
     * Set focus on element directive.
     * Usage:
     * <some-tag izenda-focus="{{expression_which_returns_bool}}" ...>
     *   ...
     * </some-tag>
     */
    var IzendaFocus = /** @class */ (function () {
        function IzendaFocus($timeout) {
            var _this = this;
            this.$timeout = $timeout;
            this.scope = {
                trigger: '@izendaFocus'
            };
            IzendaFocus.prototype.link = function ($scope, $element) {
                $scope.$watch('trigger', function (value) {
                    if (value)
                        _this.$timeout(function () { return $element[0].focus(); });
                });
            };
        }
        IzendaFocus.factory = function () {
            var directive = function ($timeout) { return new IzendaFocus($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaFocus;
    }());
    module_definition_2.default.directive('izendaFocus', ['$timeout', IzendaFocus.factory()]);
    /**
     * izenda-fit-absolute-element directive.
     */
    var IzendaFitAbsoluteElement = /** @class */ (function () {
        function IzendaFitAbsoluteElement($window, $timeout, $interval) {
            var _this = this;
            this.$window = $window;
            this.$timeout = $timeout;
            this.$interval = $interval;
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link = function ($scope, $element, attrs) {
                var windowResizeEventName = "resize.izendaFitAbsoluteElement." + Math.random();
                var deltaTopString = String(attrs['deltaTop']);
                var deltaTop = parseInt(deltaTopString) || 0;
                var $parent = angular.element($element.parent());
                var topCache = -1;
                var setTop = function () {
                    var $childs = $parent.children('[data-izenda-fit-absolute-element-relative=top]');
                    if ($childs.length === 0)
                        return false;
                    var topHeight = 0;
                    var isSuccess = true;
                    for (var i = 0; i < $childs.length; i++) {
                        var $child = angular.element($childs[i]);
                        var topValue = String($child.attr('data-izenda-fit-absolute-element-relative'));
                        if (topValue === 'top') {
                            var childHeight = $child.height();
                            if (childHeight <= 0)
                                isSuccess = false;
                            topHeight += childHeight;
                        }
                    }
                    if (topHeight > 0 && topCache < 0 || topHeight + deltaTop !== topCache) {
                        topCache = topHeight + deltaTop;
                        $element.css('top', topHeight + deltaTop + 'px');
                    }
                    return isSuccess;
                };
                var setTopUntilSuccess = function () {
                    var attemptCount = 0;
                    if (setTop())
                        return;
                    var toolbarIntervalPromise = _this.$interval(function () {
                        if (setTop() || attemptCount > 50) {
                            _this.$interval.cancel(toolbarIntervalPromise);
                            toolbarIntervalPromise = null;
                            attemptCount = 0;
                        }
                        attemptCount++;
                    }, 100);
                };
                setTopUntilSuccess();
                angular.element(_this.$window).on(windowResizeEventName, function () {
                    setTopUntilSuccess();
                });
                angular.element(_this.$window).on('izendaCustomResize', function () {
                    setTopUntilSuccess();
                });
                // destruction method
                $element.on('$destroy', function () {
                    angular.element(_this.$window).off(windowResizeEventName);
                    angular.element(_this.$window).off('izendaCustomResize');
                });
            };
        }
        IzendaFitAbsoluteElement.factory = function () {
            var directive = function ($window, $timeout, $interval) { return new IzendaFitAbsoluteElement($window, $timeout, $interval); };
            directive.$inject = ['$window', '$timeout', '$interval'];
            return directive;
        };
        return IzendaFitAbsoluteElement;
    }());
    module_definition_2.default.directive('izendaFitAbsoluteElement', IzendaFitAbsoluteElement.factory());
    /**
     * Directive for input element which allows to input only positive integer values.
     */
    var IzendaIntegerInput = /** @class */ (function () {
        function IzendaIntegerInput() {
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link =
                function ($scope, $element) {
                    $element.on('keydown', function (evt) {
                        var ctrlOrMeta = evt.ctrlKey || evt.metaKey;
                        if ([46, 8, 9, 27, 13].indexOf(evt.keyCode) >= 0 /*Allow: backspace, delete, tab, escape, enter*/
                            || (evt.keyCode === 65 && ctrlOrMeta) /*Allow: Ctrl/cmd+A*/
                            || (evt.keyCode === 67 && ctrlOrMeta) /*Allow: Ctrl/cmd+C*/
                            || (evt.keyCode === 88 && ctrlOrMeta) /*Allow: Ctrl/cmd+X*/
                            || (evt.keyCode >= 35 && evt.keyCode <= 40)) { /*Allow: home, end, left, right*/
                            // let it happen, don't do anything
                            return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((evt.shiftKey || (evt.keyCode < 48 || evt.keyCode > 57)) && (evt.keyCode < 96 || evt.keyCode > 105)) {
                            evt.preventDefault();
                        }
                    });
                };
        }
        IzendaIntegerInput.factory = function () {
            var directive = function () { return new IzendaIntegerInput(); };
            return directive;
        };
        return IzendaIntegerInput;
    }());
    module_definition_2.default.directive('izendaIntegerInput', IzendaIntegerInput.factory());
});
izendaRequire.define("common/core/tools/izenda-component", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // ReSharper disable once InconsistentNaming
    function IzendaComponent(moduleOrName, selector, dependencies, options) {
        return function (controller) {
            var module = typeof (moduleOrName) === 'string' ? angular.module(moduleOrName) : moduleOrName;
            var extendedOptions = angular.copy(options);
            var $inject = controller.$inject = dependencies;
            controller.prototype.$inject = $inject;
            controller.$inject = $inject;
            extendedOptions.controller = dependencies.concat(controller);
            module.component(selector, extendedOptions);
        };
    }
    exports.default = IzendaComponent;
});
izendaRequire.define("common/core/components/dialog-box/dialog-box-component", ["require", "exports", "angular", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, angular, module_definition_3, izenda_component_1, util_ui_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Handle button click.
         */
        IzendaDialogBoxComponent.prototype.onButtonClick = function (button) {
            if (!button)
                return;
            if (angular.isFunction(button.callback)) {
                button.callback(this.$izendaUtilUiService.dialogBox.checkboxes);
            }
            this.closeModal();
        };
        /**
         * Close modal dialog.
         */
        IzendaDialogBoxComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeDialogBox();
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_1.default(module_definition_3.default, 'izendaDialogBoxComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.dialog-box.dialog-box-template.html',
                bindings: {
                    componentId: '@',
                    useGlobalEventListening: '<',
                    opened: '<',
                    title: '<',
                    message: '<',
                    alertInfo: '<',
                    buttons: '<',
                    checkboxes: '<'
                },
            }),
            __metadata("design:paramtypes", [util_ui_service_1.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/components/message/message-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_4, izenda_component_2, localization_service_1, util_ui_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaMessageComponent = /** @class */ (function () {
        function IzendaMessageComponent($izendaLocaleService, $izendaUtilUiService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Close modal dialog.
         */
        IzendaMessageComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeMessageDialog();
        };
        IzendaMessageComponent = __decorate([
            izenda_component_2.default(module_definition_4.default, 'izendaMessageComponent', ['$izendaLocaleService', '$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.message.message-template.html',
                bindings: {},
            }),
            __metadata("design:paramtypes", [localization_service_1.default,
                util_ui_service_2.default])
        ], IzendaMessageComponent);
        return IzendaMessageComponent;
    }());
    exports.default = IzendaMessageComponent;
});
izendaRequire.define("common/core/components/notification/notification-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_5, izenda_component_3, util_ui_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Notification component
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.notifications = $izendaUtilUiService.notifications;
        }
        /**
         * Close notification.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.closeNotification = function (notification) {
            this.$izendaUtilUiService.closeNotification(notification.id);
        };
        /**
         * Cancel notification autohide.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.cancelNotificationTimeout = function (notification) {
            this.$izendaUtilUiService.cancelNotificationTimeout(notification.id);
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_3.default(module_definition_5.default, 'izendaNotificationComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.notification.notification-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [util_ui_service_3.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/module", ["require", "exports", "common/core/module-definition", "common/core/services/compatibility-service", "common/core/services/event-service", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/directives/bootstrap-modal", "common/core/directives/utility", "common/core/components/dialog-box/dialog-box-component", "common/core/components/message/message-component", "common/core/components/notification/notification-component"], function (require, exports, module_definition_6, compatibility_service_1, event_service_1, localization_service_2, util_service_1, util_ui_service_4) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    compatibility_service_1.default.register(module_definition_6.default);
    event_service_1.default.register(module_definition_6.default);
    localization_service_2.default.register(module_definition_6.default);
    util_service_1.default.register(module_definition_6.default);
    util_ui_service_4.default.register(module_definition_6.default);
});
izendaRequire.define("common/query/module-definition", ["require", "exports", "angular", "common/core/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaQueryModule = angular.module('izenda.common.query', ['rx', 'izenda.common.core']);
    exports.default = izendaQueryModule;
});
izendaRequire.define("common/query/services/rs-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaRsQueryService = /** @class */ (function () {
        function IzendaRsQueryService($window, $http, $q, $injector, $izendaLocaleService, $izendaUtilUiService) {
            this.$window = $window;
            this.$http = $http;
            this.$q = $q;
            this.$injector = $injector;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.urlSettings = this.$window.urlSettings$;
            this.rsQueryBaseUrl = this.urlSettings.urlRsPage;
            this.requestList = new Array();
        }
        Object.defineProperty(IzendaRsQueryService, "injectModules", {
            get: function () {
                return ['$window', '$http', '$q', '$injector', '$izendaLocaleService', '$izendaUtilUiService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Custom query to the izenda response server
         * @param {any} queryParams Query parameters.
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.rsQuery = function (queryParams, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.customQuery(this.rsQueryBaseUrl, queryParams, options, errorOptions, invalidateInCacheParameter);
        };
        /**
         * Custom query to the izenda API.
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.query = function (wsCmd, wsArgs, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            // prepare params:
            var params = this.createQueryParametersObject(wsCmd, wsArgs);
            // set default error options if it is not defined:
            var currentErrorOptions = angular.isObject(errorOptions)
                ? errorOptions
                : {
                    handler: function (wsCmd2, wsArgs2) { return "Query: \"" + wsCmd2 + "\" [" + wsArgs2 + "] failed."; },
                    params: [wsCmd, wsArgs]
                };
            return this.rsQuery(params, options, currentErrorOptions, invalidateInCacheParameter);
        };
        /**
         * Query to the izenda API (POST request which returns JSON).
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.apiQuery = function (wsCmd, wsArgs, invalidateInCacheParameter) {
            var _this = this;
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.$q(function (resolve, reject) {
                // check params:
                if (!angular.isString(wsCmd) || wsCmd === '') {
                    reject('Parameter error: wsCmd parameter should be non-empty string.');
                    return;
                }
                if (!angular.isArray(wsArgs)) {
                    reject('Parameter error: wsArgs parameter should be array.');
                    return;
                }
                // create params array
                var params = _this.createQueryParametersObject(wsCmd, wsArgs);
                // run query
                _this.rsQuery(params, { dataType: 'json', method: 'POST' }, null, invalidateInCacheParameter)
                    .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
            });
        };
        /**
         * Cancel all running queries
         * @param {any} options (optional) options.cancelList may set custom queries to cancel.
         */
        IzendaRsQueryService.prototype.cancelAllQueries = function (options) {
            var opts = options || {};
            // queries which we can cancel
            var cancellableQueries = opts.hasOwnProperty('cancelList')
                ? opts['cancelList']
                : this.$injector.get('izenda.common.query.cancellableQueries');
            var count = this.requestList.length;
            var i = 0;
            while (i < this.requestList.length) {
                var request = this.requestList[0];
                var cancel = false;
                if (angular.isArray(cancellableQueries)) {
                    var requestUrl = request.url;
                    var requestParams = request.queryParamsFinal;
                    for (var j = 0; j < cancellableQueries.length; j++) {
                        var cancelRule = cancellableQueries[j];
                        if (angular.isString(cancelRule)) {
                            cancel = cancel || requestUrl.indexOf(cancelRule) >= 0;
                        }
                        else if (angular.isObject(cancelRule)) {
                            if ('wscmd' in cancelRule) {
                                cancel = cancel || requestUrl.indexOf("wscmd=" + cancelRule['wscmd']) >= 0;
                                cancel = cancel || requestParams.hasOwnProperty('wscmd') && requestParams['wscmd'] === cancelRule['wscmd'];
                            }
                        }
                        else {
                            throw "Unknown cancel rule: " + cancelRule;
                        }
                    }
                }
                if (cancel) {
                    request.canceller.resolve();
                    request.resolver.$izendaRsQueryCancelled = false;
                    this.requestList.splice(i, 1);
                }
                else {
                    i++;
                }
            }
            return count - i;
        };
        /**
         * Send post request and receive file attachment.
         * @param {string} method GET/POST
         * @param {string} url Url.
         * @param {any} parameters Url parameters dictionary.
         * @return {angular.IPromise<void>} Promise without parameters.
         */
        IzendaRsQueryService.prototype.downloadFileRequest = function (method, url, parameters) {
            return this.$q(function (resolve) {
                if (typeof (Blob) !== 'undefined') {
                    // post request for download the file
                    var xhr_1 = new XMLHttpRequest();
                    xhr_1.open(method, url, true);
                    xhr_1.responseType = 'arraybuffer';
                    var selfXhr_1 = xhr_1;
                    xhr_1.onload = function (evt) {
                        console.log('downloadFileRequest xhr.onload evt: ', evt);
                        if (selfXhr_1.status !== 200)
                            return;
                        var disposition = xhr_1.getResponseHeader('Content-Disposition');
                        var filename = '';
                        if (disposition && disposition.toLowerCase().indexOf('attachment') !== -1) {
                            var filenameRegex = /[Ff]ilename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;
                            var matches = filenameRegex.exec(disposition);
                            if (matches != null && matches[1])
                                filename = matches[1].replace(/['"]/g, '');
                        }
                        var type = xhr_1.getResponseHeader('Content-Type');
                        var blob = new Blob([selfXhr_1.response], { type: type });
                        if (typeof window.navigator.msSaveBlob !== 'undefined') {
                            // IE workaround for "HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. 
                            // These URLs will no longer resolve as the data backing the URL has been freed."
                            window.navigator.msSaveBlob(blob, filename);
                            resolve();
                        }
                        else {
                            var urlFunc_1 = window.URL || window['webkitURL'];
                            var downloadUrl = urlFunc_1.createObjectURL(blob);
                            if (filename) {
                                // use HTML5 a[download] attribute to specify filename
                                var linkElement = document.createElement('a');
                                // safari doesn't support this yet
                                if (typeof linkElement.download === 'undefined') {
                                    window.location.href = downloadUrl;
                                }
                                else {
                                    linkElement.href = downloadUrl;
                                    linkElement.target = '_blank';
                                    linkElement.download = filename;
                                    document.body.appendChild(linkElement);
                                    linkElement.click();
                                    document.body.removeChild(linkElement);
                                }
                            }
                            else {
                                window.location.href = downloadUrl;
                            }
                            setTimeout(function () {
                                urlFunc_1.revokeObjectURL(downloadUrl);
                                resolve();
                            }, 100); // cleanup
                        }
                    };
                    xhr_1.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                    if (method.toLowerCase() === 'post')
                        xhr_1.send(angular.element.param(parameters || {}));
                    else if (method.toLowerCase() === 'get')
                        xhr_1.send();
                    else
                        throw "Unsupported request method: " + method;
                }
                else {
                    if (method.toLowerCase() === 'post') {
                        // old browser post request
                        var form = document.createElement('form');
                        form.action = url;
                        form.method = method;
                        form.target = '_blank';
                        if (parameters)
                            for (var key in parameters)
                                if (parameters.hasOwnProperty(key)) {
                                    var input = document.createElement('textarea');
                                    input.name = key;
                                    input.value = typeof parameters[key] === 'object' ? JSON.stringify(parameters[key]) : parameters[key];
                                    form.appendChild(input);
                                }
                        form.style.display = 'none';
                        document.body.appendChild(form);
                        form.submit();
                        document.body.removeChild(form);
                    }
                    else {
                        // old browser get request
                        var linkElement2 = document.createElement('a');
                        linkElement2.href = url;
                        linkElement2.target = '_blank';
                        document.body.appendChild(linkElement2);
                        linkElement2.click();
                        document.body.removeChild(linkElement2);
                    }
                    resolve();
                }
            });
        };
        /**
         * Do query to custom url
         */
        IzendaRsQueryService.prototype.customQuery = function (baseUrl, queryParams, options, errorOptions, invalidateInCacheParameter) {
            var _this = this;
            var queryParamsFinal = angular.copy(queryParams);
            // apply izendaPageId$
            if (typeof (window['izendaPageId$']) !== 'undefined')
                queryParamsFinal['izpid'] = window['izendaPageId$'];
            if (typeof (window['angularPageId$']) !== 'undefined')
                queryParamsFinal['anpid'] = window['angularPageId$'];
            var isPost = options && options.method === 'POST';
            var postData = {};
            var url = baseUrl;
            if (!isPost) {
                // GET request url:
                var kvStrings = [];
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        kvStrings.push(paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]));
                if (invalidateInCacheParameter)
                    kvStrings.push('iic=1');
                url += "?" + kvStrings.join('&');
            }
            else {
                // POST request params string:
                var postParamsString = 'urlencoded=true';
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        postParamsString += "&" + paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]);
                postData = {
                    data: postParamsString
                };
                if (invalidateInCacheParameter)
                    url += '?iic=1';
            }
            // create promises
            var canceler = this.$q.defer();
            var resolver = this.$q.defer();
            resolver['$izendaRsQueryCancelled'] = true;
            resolver['errorOptions'] = angular.isObject(errorOptions) ? errorOptions : null;
            // prepare request optinos
            var dataType = angular.isDefined(options) && angular.isString(options.dataType)
                ? options.dataType
                : 'text';
            var contentType = 'text/html';
            if (dataType === 'json')
                contentType = 'text/json';
            url = getAppendedUrl(url);
            var requestId = (+new Date).toString() + '_' + Math.floor(Math.random() * 1000000).toString(); // pseudo random UID.
            var reqHeaders = {};
            reqHeaders['Content-Type'] = contentType;
            var req = {};
            req.method = 'GET';
            req.url = url;
            req.headers = reqHeaders;
            req.timeout = canceler.promise;
            if (angular.isObject(options)) {
                angular.extend(req, options);
            }
            angular.extend(req, postData); // it is empty for http GET requests
            // custom
            req['requestId'] = requestId;
            req['queryParamsFinal'] = queryParamsFinal;
            // add request to requestList
            this.requestList.push(new RequestListItem(requestId, url, queryParamsFinal, canceler, resolver));
            // run query
            this.$http(req).then(function (response) {
                // handle success
                _this.removeRequest(response.config['requestId']);
                if (!angular.isObject(response)) {
                    // resolve non-object responses
                    resolver.resolve(response);
                    return;
                }
                // object response
                var data = response.data;
                if (angular.isObject(data) && angular.isString(data['izendaQueryStatus'])) {
                    // API query result
                    if (data['izendaQueryStatus'] === 'ok')
                        resolver.resolve(data['result']);
                    else if (data['izendaQueryStatus'] === 'error')
                        resolver.reject(data['error']);
                    else
                        resolver.reject('Unknown izendaQueryStatus: ' + data['izendaQueryStatus']);
                }
                else {
                    // Non-API json query result
                    resolver.resolve(data);
                }
            }, function (response) {
                // handle request error
                _this.removeRequest(response.config.requestId);
                var needToReject = true;
                var errorText;
                if (resolver['errorOptions'] != null) {
                    needToReject = false;
                    errorText = resolver['errorOptions'].handler.apply(response, resolver['errorOptions'].params ? resolver['errorOptions'].params : []);
                }
                else if (response.message)
                    errorText = response.message;
                else if (response.config)
                    errorText = _this.$izendaLocaleService.localeText('js_QueryFailed', 'Query failed') + ': ' + JSON.stringify(response.config);
                else
                    errorText = _this.$izendaLocaleService.localeText('localeVariable', 'An unknown error occurred.');
                if (resolver['$izendaRsQueryCancelled']) {
                    if (needToReject)
                        resolver.reject(errorText);
                    else
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                }
            });
            return resolver.promise;
        };
        /**
         * Remove request from array
         */
        IzendaRsQueryService.prototype.removeRequest = function (requestId) {
            var foundIndex = -1;
            var i = 0;
            while (foundIndex < 0 && i < this.requestList.length) {
                if (this.requestList[i].requestId === requestId) {
                    foundIndex = i;
                }
                i++;
            }
            if (foundIndex >= 0) {
                this.requestList.splice(foundIndex, 1);
            }
        };
        IzendaRsQueryService.prototype.createQueryParametersObject = function (wsCmd, wsArgs) {
            var params = {
                'wscmd': wsCmd
            };
            // add wsargN=... parameters into params variable.
            if (wsArgs && wsArgs.length)
                params = wsArgs.reduce(function (currentParams, wsArg, wsArgIdx) {
                    currentParams["wsarg" + wsArgIdx] = typeof (wsArg) !== 'undefined' && wsArg != null ? wsArg : '';
                    return currentParams;
                }, params);
            return params;
        };
        Object.defineProperty(IzendaRsQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaRsQueryService.register = function (module) {
            module.constant('izenda.common.query.cancellableQueries', [{
                    wscmd: 'loadDashboardConfigNew' // load dashboard layout query
                }, {
                    wscmd: 'getDashboardCategoriesNew'
                }, {
                    wscmd: 'getDashboardTilePreviewNew' // load tile html query
                }, {
                    wscmd: 'getCrsSchedule'
                }, {
                    wscmd: 'getCrsShare'
                }])
                .service('$izendaRsQueryService', IzendaRsQueryService.injectModules.concat(IzendaRsQueryService));
        };
        return IzendaRsQueryService;
    }());
    exports.default = IzendaRsQueryService;
    var RequestListItem = /** @class */ (function () {
        function RequestListItem(requestId, url, queryParamsFinal, canceller, resolver) {
            this.requestId = requestId;
            this.url = url;
            this.queryParamsFinal = queryParamsFinal;
            this.canceller = canceller;
            this.resolver = resolver;
        }
        return RequestListItem;
    }());
    exports.RequestListItem = RequestListItem;
});
izendaRequire.define("common/common-module-definition", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    String.prototype.replaceAll = function (search, replacement) {
        var target = this;
        if (typeof search !== 'string' || search === '')
            return this;
        return target.split(search).join(replacement);
    };
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    var IzendaCommonLoader = /** @class */ (function () {
        function IzendaCommonLoader() {
        }
        IzendaCommonLoader.loadSettings = function () {
            var deferredObject = angular.element.Deferred();
            var urlSettings = window.urlSettings$;
            var rsPageUrl = urlSettings.urlRsPage;
            var settingsUrl = rsPageUrl + '?wscmd=getCommonSettings';
            // load common settings:
            angular.element.get(settingsUrl, function (configJson) {
                var configObject = configJson;
                angular
                    .module('izenda.common.core')
                    .constant('$izendaCommonSettings', configObject);
                deferredObject.resolve();
            });
            return deferredObject.promise();
        };
        return IzendaCommonLoader;
    }());
    exports.IzendaCommonLoader = IzendaCommonLoader;
});
izendaRequire.define("common/query/services/settings-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DateTimeFormat = /** @class */ (function () {
        function DateTimeFormat(longDate, longTime, shortDate, shortTime, timeFormatForInnerIzendaProcessing, // this time format used in method DateLocToUs for saving filters.
        showTimeInFilterPickers, defaultFilterDateFormat) {
            this.longDate = longDate;
            this.longTime = longTime;
            this.shortDate = shortDate;
            this.shortTime = shortTime;
            this.timeFormatForInnerIzendaProcessing = timeFormatForInnerIzendaProcessing;
            this.showTimeInFilterPickers = showTimeInFilterPickers;
            this.defaultFilterDateFormat = defaultFilterDateFormat;
        }
        return DateTimeFormat;
    }());
    exports.DateTimeFormat = DateTimeFormat;
    var IzendaQuerySettingsService = /** @class */ (function () {
        function IzendaQuerySettingsService($izendaUtilService, $izendaCommonSettings) {
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaCommonSettings = $izendaCommonSettings;
            // initialize formats
            this.defaultDateFormat = new DateTimeFormat('dddd, MMMM DD, YYYY', 'h:mm:ss A', 'MM/DD/YYYY', 'h:mm A', 'HH:mm:ss', false, 'MM/DD/YYYY' + ($izendaCommonSettings.showTimeInFilterPickers ? ' HH:mm:ss' : ''));
            var format = this.defaultDateFormat;
            this.dateFormat = new DateTimeFormat(format.longDate, format.longTime, format.shortDate, format.shortTime, format.timeFormatForInnerIzendaProcessing, format.showTimeInFilterPickers, '');
            this.dateFormat.longDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatLong);
            this.dateFormat.longTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatLong);
            this.dateFormat.shortDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatShort);
            this.dateFormat.shortTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatShort);
            this.dateFormat.showTimeInFilterPickers = $izendaCommonSettings.showTimeInFilterPickers;
            this.dateFormat.defaultFilterDateFormat = this.dateFormat.shortDate +
                ($izendaCommonSettings.showTimeInFilterPickers ? " " + this.dateFormat.longTime : '');
            // culture
            this.culture = $izendaCommonSettings.culture;
            if (this.culture.indexOf('-') > 0)
                this.culture = this.culture.substring(0, this.culture.indexOf('-'));
            // bulk csv
            this.bulkCsv = false;
            if (typeof $izendaCommonSettings.bulkCsv != 'undefined')
                this.bulkCsv = $izendaCommonSettings.bulkCsv;
            // category character
            this.categoryCharacter = '\\';
            if (typeof $izendaCommonSettings.categoryCharacter != 'undefined')
                this.categoryCharacter = $izendaCommonSettings.categoryCharacter;
        }
        Object.defineProperty(IzendaQuerySettingsService, "injectModules", {
            get: function () {
                return ['$izendaUtilService', '$izendaCommonSettings'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Default date formats
         * @returns {DateTimeFormat}
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormat = function () {
            return this.defaultDateFormat;
        };
        /**
         * Default format string (en-US). This format used for sending dates to the server.
         * @param {string} customDateFormatString. Alternative date format if required.
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormatString = function (customDateFormatString) {
            var showTime = this.$izendaCommonSettings.showTimeInFilterPickers;
            var timeFormatString = showTime ? ' ' + this.defaultDateFormat.timeFormatForInnerIzendaProcessing : '';
            var dateFormatString = this.defaultDateFormat.shortDate;
            if (angular.isString(customDateFormatString) && customDateFormatString.trim() !== '') {
                dateFormatString = customDateFormatString;
            }
            return dateFormatString + timeFormatString;
        };
        /**
         * Convert .net date time format string to momentjs format string.
         * @param {string} format .net format string
         * @returns {string} momentjs format string
         */
        IzendaQuerySettingsService.prototype.convertDotNetTimeFormatToMoment = function (format) {
            var converter = izenda.utils.date.formatConverter;
            return converter.convert(format, converter.dotNet, converter.momentJs);
        };
        /**
        * Get common settings
        */
        IzendaQuerySettingsService.prototype.getCommonSettings = function () {
            return this.$izendaCommonSettings;
        };
        /**
         * Get date format.
         */
        IzendaQuerySettingsService.prototype.getDateFormat = function () {
            return this.dateFormat;
        };
        /**
         * Get current page culture.
         */
        IzendaQuerySettingsService.prototype.getCulture = function () {
            return this.culture;
        };
        /**
         * Get "bulk csv" CSV export mode enabled.
         */
        IzendaQuerySettingsService.prototype.getBulkCsv = function () {
            return this.bulkCsv;
        };
        IzendaQuerySettingsService.prototype.getCategoryCharacter = function () {
            return this.categoryCharacter;
        };
        IzendaQuerySettingsService.prototype.getReportFullName = function (reportName, reportCategory) {
            var result = null;
            if (reportName) {
                result = '';
                if (!this.$izendaUtilService.isUncategorized(reportCategory))
                    result = reportCategory + this.getCategoryCharacter();
                result += reportName;
            }
            return result;
        };
        Object.defineProperty(IzendaQuerySettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaQuerySettingsService.register = function (module) {
            module.service('$izendaSettingsService', IzendaQuerySettingsService.injectModules.concat(IzendaQuerySettingsService));
        };
        return IzendaQuerySettingsService;
    }());
    exports.default = IzendaQuerySettingsService;
});
izendaRequire.define("common/query/services/common-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * This service provides API query methods.
     */
    var IzendaCommonQueryService = /** @class */ (function () {
        function IzendaCommonQueryService($izendaRsQueryService, $izendaLocaleService) {
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaCommonQueryService, "injectModules", {
            get: function () {
                return ['$izendaRsQueryService', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Used for refresh session timeout
         */
        IzendaCommonQueryService.prototype.ping = function () {
            return this.$izendaRsQueryService.query('ping', [], { dataType: 'text' });
        };
        /**
         * Create new dashboard report set and set it as CurrentReportSet
         */
        IzendaCommonQueryService.prototype.newDashboard = function () {
            var _this = this;
            return this.$izendaRsQueryService.query('newcrs', ['DashboardDesigner'], { dataType: 'json' }, {
                handler: function () { return _this.$izendaLocaleService.localeText('js_DashboardCreateError', 'Failed to create new dashboard'); },
                params: []
            });
        };
        /**
         * Check report set is exist. Returns promise with 'true' value if exists
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.checkReportSetExist = function (reportSetFullName) {
            if (!angular.isString(reportSetFullName) || reportSetFullName.trim() === '')
                throw new Error('reportSetFullName should be non empty string');
            var errorText = this.$izendaLocaleService.localeText('js_DashboardCheckExistError', 'Failed to check dashboard exist');
            return this.$izendaRsQueryService.query('checkreportsetexists', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Set AdHocContext current report set
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.setCrs = function (reportSetFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_SetCrsError', 'Failed to set current report set');
            return this.$izendaRsQueryService.query('setcurrentreportset', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Get report list by category
         * @param {string} category category name.
         */
        IzendaCommonQueryService.prototype.getReportSetCategory = function (category) {
            var categoryStr = angular.isDefined(category)
                ? (category.toLowerCase() === this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized').toLowerCase()
                    ? ''
                    : category)
                : '';
            var errorText = this.$izendaLocaleService.localeText('js_GetCategoryError', 'Failed to get reports for category');
            return this.$izendaRsQueryService.query('reportlistdatalite', [categoryStr], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [category]
            });
        };
        /**
         * Get report parts
         * @param {string} reportFullName Report full name (xxx@aaa\bbb).
         */
        IzendaCommonQueryService.prototype.getReportParts = function (reportFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_ReportPartsError', 'Failed to get report parts for report');
            return this.$izendaRsQueryService.query('reportdata', [reportFullName], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportFullName]
            });
        };
        /**
         * Get data which needed for schedule
         * @param {number} clientTimezoneOffset Default timezone.
         */
        IzendaCommonQueryService.prototype.getScheduleData = function (clientTimezoneOffset) {
            return this.$izendaRsQueryService.query('getCrsSchedule', [String(clientTimezoneOffset)], { dataType: 'json' }, {
                handler: function () { return 'Failed to get schedule data'; },
                params: []
            });
        };
        /**
         * Get data which needed for schedule
         * @param {boolean} defaultShareConfig If true - share config will get from new empty reportset, false - from current report set.
         */
        IzendaCommonQueryService.prototype.getShareData = function (defaultShareConfig) {
            return this.$izendaRsQueryService.query('getCrsShare', [defaultShareConfig ? 'true' : 'false'], { dataType: 'json' }, {
                handler: function () { return 'Failed to get share data'; },
                params: []
            });
        };
        Object.defineProperty(IzendaCommonQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCommonQueryService.register = function (module) {
            module.service('$izendaCommonQueryService', IzendaCommonQueryService.injectModules.concat(IzendaCommonQueryService));
        };
        return IzendaCommonQueryService;
    }());
    exports.default = IzendaCommonQueryService;
});
izendaRequire.define("common/query/services/ping-service", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaPingService = /** @class */ (function () {
        function IzendaPingService($timeout, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.minute = 60 * 1000;
            this.defaultTimeout = 15 * this.minute; // default timeout - 15 minutes.
            this.timeout = -1;
            this.pingTimer = null;
        }
        Object.defineProperty(IzendaPingService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Stop ping queries
         */
        IzendaPingService.prototype.stopPing = function () {
            if (this.pingTimer !== null) {
                this.$timeout.cancel(this.pingTimer);
                this.pingTimer = null;
            }
        };
        /**
         * Make ping iteration and create timeout for next iteration.
         */
        IzendaPingService.prototype.ping = function () {
            var _this = this;
            // cancel previous timer:
            this.stopPing();
            // hint: start immediately if timeout variable wasn't set.
            this.pingTimer = this.$timeout(function () {
                _this.$izendaCommonQueryService.ping().then(function (data) {
                    // set timeout
                    _this.timeout = (data > 0)
                        ? Math.round(data * 0.75 * _this.minute)
                        : _this.defaultTimeout;
                    _this.ping();
                });
            }, this.timeout >= 0 ? this.timeout : 0);
        };
        /**
         * Start ping queries
         */
        IzendaPingService.prototype.startPing = function () {
            this.ping();
        };
        Object.defineProperty(IzendaPingService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaPingService.register = function (module) {
            module.service('$izendaPingService', IzendaPingService.injectModules.concat(IzendaPingService));
        };
        return IzendaPingService;
    }());
    exports.default = IzendaPingService;
});
izendaRequire.define("common/query/services/url-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLocationModel = /** @class */ (function () {
        function IzendaLocationModel() {
            this.fullName = null;
            this.category = null;
            this.name = null;
            this.isNew = false;
        }
        IzendaLocationModel.fromJson = function (json) {
            var location = new IzendaLocationModel();
            location.fullName = json.fullName || null;
            location.category = json.category || null;
            location.name = json.name || null;
            location.isNew = !!json.isNew;
            return location;
        };
        return IzendaLocationModel;
    }());
    exports.IzendaLocationModel = IzendaLocationModel;
    var IzendaUrlService = /** @class */ (function () {
        function IzendaUrlService(rx, $window, $izendaSettingsService, $izendaPingService, $izendaUtilService) {
            var _this = this;
            this.rx = rx;
            this.$window = $window;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaPingService = $izendaPingService;
            this.$izendaUtilService = $izendaUtilService;
            this.settings = $window.urlSettings$;
            this.reportNameInfo = this.getLocation();
            this.location = new this.rx.BehaviorSubject(this.reportNameInfo);
            // subscribe on location change:
            window.onpopstate = function (event) {
                if (event.state && (event.state.rn || event.state.new)) {
                    _this.locationChangedHandler();
                }
            };
            // start ping
            this.$izendaPingService.startPing();
        }
        Object.defineProperty(IzendaUrlService, "injectModules", {
            get: function () {
                return ['rx',
                    '$window',
                    '$izendaSettingsService',
                    '$izendaPingService',
                    '$izendaUtilService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Set report name and category to location
         * @param {IzendaLocationModel} locationInfo location object
         */
        IzendaUrlService.prototype.setLocation = function (locationInfo) {
            if (!angular.isObject(locationInfo))
                throw new Error('"locationInfo" parameter should be object');
            // if is new
            if (locationInfo.isNew) {
                this.setUrl({ isNew: '1' }, { new: true });
                this.locationChangedHandler();
                return;
            }
            // navigate to existing report
            this.setUrl({ rn: locationInfo.fullName.replaceAll(' ', '+') }, { rn: locationInfo.fullName });
            this.locationChangedHandler();
        };
        /**
         * Change url if possible, otherwise reload the page with new url.
         * @param {any} params - url params object.
         * @param {any} additionalParams - additional params for pushState.
         */
        IzendaUrlService.prototype.setUrl = function (params, additionalParams) {
            var previousUrlParams = this.getUrlParams(window.location.href);
            var isRnOldExist = angular.isString(previousUrlParams.rn);
            var isRnNewExist = angular.isString(params.rn) && params.rn !== '';
            var rnOld = isRnOldExist ? 'rn=' + previousUrlParams.rn.replaceAll(' ', '+') : '';
            var rnNew = isRnNewExist ? 'rn=' + params.rn.replaceAll(' ', '+') : '';
            var isNewOldExist = angular.isString(previousUrlParams.isNew);
            var isNewNewExist = angular.isString(params.isNew);
            if (isRnOldExist && isRnNewExist && rnOld === rnNew)
                // same rn
                return;
            if (isNewOldExist && isNewNewExist)
                // same isNew
                return;
            if (isRnNewExist && isNewNewExist)
                throw 'Incorrect params: both "rn" and "isNew" defined.';
            var newPath = window.location.pathname;
            var newParams = window.location.search ? window.location.search : '?';
            if (isNewNewExist) {
                // go to new report
                // remove rn
                newParams = newParams.replaceAll(rnOld, '');
                newParams += (newParams.endsWith('?') ? '' : '&') + 'isNew=1';
            }
            else if (isRnNewExist) {
                // go to existing report
                // remove isNew
                newParams = newParams.replaceAll('isNew=1', '');
                if (isRnOldExist)
                    newParams = newParams.replaceAll(rnOld, rnNew);
                else
                    newParams += (newParams.endsWith('?') ? '' : '&') + rnNew;
            }
            newParams = newParams.replaceAll('?&', '?');
            newParams = newParams.replaceAll('&&', '&');
            // navigate new url
            var newUrl = newPath + newParams;
            if (this.$window.history && this.$window.history.pushState) {
                this.$window.history.pushState(additionalParams, document.title, newUrl);
            }
            else
                window.location.href = newUrl;
        };
        /**
         * Returns report full name (category delimiter: $izendaSettingsService.getCategoryCharacter())
         * @return {IzendaLocationModel} current location model.
         */
        IzendaUrlService.prototype.getLocation = function () {
            this.settings = new UrlSettings(); // retrieve current url settings
            var reportInfo = this.settings.reportInfo;
            // existing report
            if (reportInfo.fullName)
                return IzendaLocationModel.fromJson(reportInfo);
            // isNew
            var result = new IzendaLocationModel();
            result.isNew = reportInfo.isNew;
            return result;
        };
        ;
        /**
         * Set report name and category to location.
         * @param {string} fullName Report full name.
         */
        IzendaUrlService.prototype.setReportFullName = function (fullName) {
            this.setLocation({
                fullName: fullName,
                name: this.extractReportName(fullName),
                category: this.extractReportCategory(fullName),
                isNew: false
            });
        };
        ;
        /**
         * Go to "new"
         */
        IzendaUrlService.prototype.setIsNew = function () {
            this.setLocation({
                fullName: null,
                name: null,
                category: null,
                isNew: true
            });
        };
        ;
        /**
         * Handler, which reacts on page load and $location change.
         */
        IzendaUrlService.prototype.locationChangedHandler = function () {
            // update url settings object because url has changed
            this.settings = new UrlSettings();
            // cancel all current queries
            //const countCancelled = this.$izendaRsQueryService.cancelAllQueries();
            //if (countCancelled > 0)
            //	this.$log.debug(`>>> Cancelled ${countCancelled} queries`);
            // set current report set if location has changed
            var newLocationModel = this.getLocation();
            if (newLocationModel.fullName !== this.reportNameInfo.fullName || newLocationModel.isNew !== this.reportNameInfo.isNew) {
                this.reportNameInfo = newLocationModel;
                this.location.onNext(this.reportNameInfo);
            }
        };
        ;
        /**
         * Create filter parameters url part using current filterParameters from UrlSettings object.
         * @return {string} Url parameters string: '&p1=v1&p2=v2...&pN=vN'.
         */
        IzendaUrlService.prototype.getFilterParamsString = function () {
            var requestString = '';
            if (this.settings.filterParameters.length > 0) {
                for (var i = 0; i < this.settings.filterParameters.length; i++) {
                    var paramObject = this.settings.filterParameters[i];
                    requestString += "&" + paramObject[0] + "=" + encodeURIComponent(paramObject[1]);
                }
            }
            return requestString;
        };
        /**
         * Extract report name from category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report name without category.
         */
        IzendaUrlService.prototype.extractReportName = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var parts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            return parts[parts.length - 1];
        };
        /**
         * Extract report category from "category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report category.
         */
        IzendaUrlService.prototype.extractReportCategory = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report category from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var reportFullNameParts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            var category;
            if (reportFullNameParts.length >= 2)
                category = reportFullNameParts.slice(0, reportFullNameParts.length - 1).join(this.$izendaSettingsService.getCategoryCharacter());
            else
                category = this.$izendaUtilService.getUncategorized();
            return category;
        };
        ;
        /**
         * Extract report name, category, report set name for report part.
         * @param {string} fullName Report full name.
         * @return {any} report parts object.
         */
        IzendaUrlService.prototype.extractReportPartNames = function (fullName, isPartNameAtRight) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report part name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var result = {
                reportPartName: null,
                reportFullName: fullName,
                reportSetName: null,
                reportName: null,
                reportCategory: null,
                reportNameWithCategory: null
            };
            // extract report part name
            var reportSetName = fullName;
            if (fullName.indexOf('@') >= 0) {
                var parts = fullName.split('@');
                if (!angular.isUndefined(isPartNameAtRight) && isPartNameAtRight) {
                    reportSetName = parts[0], result.reportPartName = parts[1];
                }
                else {
                    result.reportPartName = parts[0], reportSetName = parts[1];
                }
            }
            // collect results into one object:
            result.reportSetName = reportSetName;
            result.reportName = this.extractReportName(reportSetName);
            result.reportCategory = this.extractReportCategory(reportSetName);
            result.reportNameWithCategory = result.reportName;
            if (this.$izendaUtilService.isUncategorized(result.reportCategory))
                result.reportNameWithCategory =
                    result.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + result.reportNameWithCategory;
            result.reportFullName = (result.reportPartName != null ? result.reportPartName + '@' : '') + result.reportSetName;
            return result;
        };
        /**
         * Get current report info object.
         */
        IzendaUrlService.prototype.getReportInfo = function () {
            return this.reportNameInfo;
        };
        IzendaUrlService.prototype.getUrlParams = function (url) {
            var urlObj = (typeof (angular.element['url']) === 'undefined') ? window.purl(url) : angular.element['url'](url);
            return urlObj.data.param.query;
        };
        Object.defineProperty(IzendaUrlService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUrlService.register = function (module) {
            module.service('$izendaUrlService', IzendaUrlService.injectModules.concat(IzendaUrlService));
        };
        return IzendaUrlService;
    }());
    exports.default = IzendaUrlService;
});
izendaRequire.define("common/query/module", ["require", "exports", "angular", "common/query/module-definition", "common/query/services/rs-query-service", "common/query/services/settings-service", "common/query/services/common-query-service", "common/query/services/ping-service", "common/query/services/url-service"], function (require, exports, angular, module_definition_7, rs_query_service_1, settings_service_1, common_query_service_1, ping_service_1, url_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register http provider
    module_definition_7.default.config(['$httpProvider', function ($httpProvider) {
            $httpProvider.defaults.transformResponse.push(function (responseData) {
                // convert $http response. We need to translate asp.net dates 
                // in string format '/Date(ticksNumber)/' to js Date objects (only for json response type):
                var regexDate = /^\/Date\(([-]{0,1}\d+)\)\/$/;
                var convertDateStringsToDates = function (input) {
                    if (!angular.isObject(input))
                        return;
                    for (var key in input) {
                        if (!input.hasOwnProperty(key))
                            continue;
                        var value = input[key];
                        if (angular.isString(value)) {
                            var match = value.match(regexDate);
                            if (angular.isArray(match) && match.length > 0) {
                                var milliseconds = parseInt(match[match.length - 1]);
                                if (!isNaN(milliseconds)) {
                                    input[key] = new Date(milliseconds);
                                }
                            }
                        }
                        else if (angular.isObject(value)) {
                            convertDateStringsToDates(value);
                        }
                    }
                };
                convertDateStringsToDates(responseData);
                return responseData;
            });
        }]);
    // register services
    rs_query_service_1.default.register(module_definition_7.default);
    settings_service_1.default.register(module_definition_7.default);
    common_query_service_1.default.register(module_definition_7.default);
    ping_service_1.default.register(module_definition_7.default);
    url_service_1.default.register(module_definition_7.default);
});
izendaRequire.define("common/ui/module-definition", ["require", "exports", "angular", "izenda-external-libs", "common/core/module", "common/query/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaUiModule = angular
        .module('izenda.common.ui', ['rx', 'izenda.common.core', 'izenda.common.query'])
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_Name', 'Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    exports.default = izendaUiModule;
});
izendaRequire.define("common/core/models/select-item-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * IzendaSelectItemModel class is used to provide uniform angular bindings style for <select>.
     */
    var IzendaSelectItemModel = /** @class */ (function () {
        function IzendaSelectItemModel(text, value, group, selected, enabled) {
            if (typeof (value) === 'undefined')
                throw new Error('value should be defined');
            this.text = text;
            this.value = value;
            this.group = group ? group : undefined;
            this.selected = selected ? selected : false;
            this.enabled = enabled ? enabled : true;
        }
        Object.defineProperty(IzendaSelectItemModel.prototype, "disabled", {
            get: function () {
                return !this.enabled;
            },
            enumerable: true,
            configurable: true
        });
        IzendaSelectItemModel.prototype.isEqual = function (testValue, isLowerCaseComparison) {
            if (testValue === null && this.value === null)
                return true;
            if (testValue === null || this.value === null)
                return false;
            return isLowerCaseComparison
                ? testValue.toLowerCase() === this.value.toLowerCase()
                : testValue === this.value;
        };
        IzendaSelectItemModel.prototype.isEqualWithItem = function (item, isLowerCaseComparison) {
            if (!item)
                return false;
            return this.isEqual(item.value, isLowerCaseComparison);
        };
        return IzendaSelectItemModel;
    }());
    exports.IzendaSelectItemModel = IzendaSelectItemModel;
});
izendaRequire.define("common/core/models/raw-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("common/core/models/share-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Model for the list of share rules.
     */
    var IzendaShareModel = /** @class */ (function () {
        function IzendaShareModel() {
            this.shareRules = new Array();
        }
        /**
         * Deserialize share rules. This method sets this.shareRules field.
         * @param {any[]} json Serialized share rules array.
         * @param {Core.IzendaSelectItemModel[]} availableRights Right model collection.
         * @param {Core.IzendaSelectItemModel[]} availableSubjects Subject model collection.
         */
        IzendaShareModel.prototype.fromJson = function (json, availableRights, availableSubjects) {
            if (!json) {
                this.shareRules = [];
                return;
            }
            this.shareRules = json.map(function (ruleJson) {
                var shareRule = new IzendaShareRuleModel();
                shareRule.fromJson(ruleJson, availableRights, availableSubjects);
                return shareRule;
            });
        };
        /**
         * Serialize current share rules to json object.
         * @return {any[]} array of serialized share rules.
         */
        IzendaShareModel.prototype.toJson = function () {
            var json = this.shareRules
                .filter(function (shareRule) { return shareRule.subject && shareRule.right; })
                .map(function (shareRule) { return shareRule.toJson(); });
            return json;
        };
        return IzendaShareModel;
    }());
    exports.IzendaShareModel = IzendaShareModel;
    /**
     * Model for subject-right pair.
     */
    var IzendaShareRuleModel = /** @class */ (function () {
        function IzendaShareRuleModel(subjects) {
            this.availableSubjects = new Array();
            this.right = null;
            this.subject = null;
            if (subjects)
                this.setAvailableSubjects(subjects, null);
        }
        IzendaShareRuleModel.prototype.setAvailableSubjects = function (subjects, subjectValue) {
            var subjValue = subjectValue
                ? subjectValue
                : this.subject
                    ? this.subject.value
                    : null;
            // update available subjects collection
            this.availableSubjects = subjects && subjects.length ? subjects.slice() : [];
            // update subject
            this.subject = null;
            if (subjValue !== null)
                this.subject = this.availableSubjects.find(function (s) { return s.value === subjValue; }) || null;
        };
        IzendaShareRuleModel.prototype.fromJson = function (json, rights, subjects) {
            // set right
            this.right = null;
            if (rights && rights.length)
                this.right = rights.find(function (r) { return json && r.value === json.right; }) || null;
            // set available subject
            this.setAvailableSubjects(subjects, json ? json.subject : null);
        };
        IzendaShareRuleModel.prototype.toJson = function () {
            if (!this.right && !this.subject)
                // you can face with this situation only if you call toJson directly for this class, 
                //because when you serialize collection, there is additional check for empty subject and right.
                return null;
            var json = {
                right: this.right.value,
                subject: this.subject.value
            };
            return json;
        };
        return IzendaShareRuleModel;
    }());
    exports.IzendaShareRuleModel = IzendaShareRuleModel;
});
izendaRequire.define("common/ui/services/share-service", ["require", "exports", "common/core/models/select-item-model", "common/core/models/share-model", "common/core/models/share-model", "izenda-external-libs"], function (require, exports, select_item_model_1, share_model_1, share_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Service used for store data in share control
     */
    var IzendaShareService = /** @class */ (function () {
        function IzendaShareService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaShareService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add new empty share rule.
         */
        IzendaShareService.prototype.addNewShareRule = function () {
            var shareRuleModel = new share_model_2.IzendaShareRuleModel(this.subjects);
            this.shareModel.shareRules.push(shareRuleModel);
        };
        /**
         * Remove share rule
         * @param {Core.IzendaShareRuleModel} shareRule Share rule for removal.
         */
        IzendaShareService.prototype.removeShareRule = function (shareRule) {
            if (!shareRule)
                return;
            var idx = this.shareModel.shareRules.indexOf(shareRule);
            this.shareModel.shareRules.splice(idx, 1);
        };
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaShareService.prototype.getShareConfigForSend = function () {
            return this.shareModel.toJson();
        };
        /**
         * Set current share config.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.setShareConfig = function (json) {
            var _this = this;
            var isDefaultConfig = !json;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillShareConfigFromJson(json, isDefaultConfig).then(function () { return resolve(); });
            });
        };
        /**
         * Set share service state from the config object.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.fillShareConfigFromJson = function (json, isDefaultConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                _this.loadShareData().then(function () {
                    if (isDefaultConfig) {
                        json = [{
                                subject: 'Everyone',
                                right: 'None'
                            }];
                    }
                    _this.shareModel = new share_model_1.IzendaShareModel();
                    _this.shareModel.fromJson(json, _this.rights, _this.subjects);
                    resolve();
                });
            });
        };
        /**
         * Load share data and available values from server.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.loadShareData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaCommonQueryService.getShareData().then(function (json) {
                    // fill available rights collection
                    _this.rights = json.Rights.map(function (rightJson) { return new select_item_model_1.IzendaSelectItemModel(rightJson.Text, rightJson.Value); });
                    // fill available subjects collection
                    _this.subjects = json.ShareWith.map(function (subjectJson) { return new select_item_model_1.IzendaSelectItemModel(subjectJson.Text, subjectJson.Value); });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaShareService.prototype.reset = function () {
            this.rights = new Array();
            this.subjects = new Array();
            this.shareModel = new share_model_1.IzendaShareModel();
        };
        Object.defineProperty(IzendaShareService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaShareService.register = function (module) {
            module.service('$izendaShareService', IzendaShareService.injectModules.concat(IzendaShareService));
        };
        return IzendaShareService;
    }());
    exports.default = IzendaShareService;
});
izendaRequire.define("common/core/models/schedule-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleModel = /** @class */ (function () {
        function IzendaScheduleModel() {
            this.date = new Date();
            this.email = null;
            this.recipients = '';
            this.repeat = null;
            this.timezone = null;
        }
        /**
         * Fill this object from server-side dto object.
         * @param {any} json dto object.
         * @param {Core.IzendaSelectItemModel[]} emailTypes Email type models collection.
         * @param {Core.IzendaSelectItemModel[]} repeatTypes Repeat type models collection.
         * @param {Core.IzendaSelectItemModel[]} timezones Timezone models collection.
         */
        IzendaScheduleModel.prototype.fromJson = function (json, emailTypes, repeatTypes, timezones) {
            // parse and set date
            if (json && json.dateString) {
                var dateString = json.dateString.trim();
                var momentDate = void 0;
                if (json.timeString) {
                    dateString += " " + json.timeString.trim();
                    momentDate = moment(dateString, 'YYYY-MM-DD HH:mm:ss');
                }
                else {
                    momentDate = moment(dateString, 'YYYY-MM-DD');
                }
                this.date = momentDate.isValid() ? momentDate._d : new Date();
            }
            else
                this.date = new Date();
            if (!this.date || this.date.getFullYear() <= 1900)
                this.date = new Date();
            // timezone
            this.timezone = timezones.length ? (timezones.find(function (tz) { return tz.selected; }) || timezones[0]) : null;
            if (json && json.timezoneId)
                this.timezone = timezones.find(function (tz) { return tz.value === json.timezoneId; }) || this.timezone;
            // email type
            this.email = emailTypes.length ? (emailTypes.find(function (e) { return e.selected; }) || emailTypes[0]) : null;
            // repeat type
            this.repeat = repeatTypes.length ? (repeatTypes.find(function (r) { return r.selected; }) || repeatTypes[0]) : null;
            // recipients
            this.recipients = json && json.recipients ? json.recipients : '';
        };
        /**
         * Create server-side dto object for this schedule model object.
         * @return {any} New json object.
         */
        IzendaScheduleModel.prototype.toJson = function () {
            var dateString = null;
            var timeString = null;
            if (this.date) {
                dateString = moment(this.date).format('YYYY-MM-DD');
                timeString = moment(this.date).format('HH:mm:ss');
            }
            var json = {
                dateString: dateString,
                timeString: timeString,
                recipients: this.recipients,
                email: this.email ? this.email.value : null,
                repeat: this.repeat ? this.repeat.value : null,
                timezoneId: this.timezone ? this.timezone.value : null
            };
            return json;
        };
        return IzendaScheduleModel;
    }());
    exports.IzendaScheduleModel = IzendaScheduleModel;
});
izendaRequire.define("common/ui/services/schedule-service", ["require", "exports", "common/core/models/schedule-model", "common/core/models/select-item-model", "izenda-external-libs"], function (require, exports, schedule_model_1, select_item_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleService = /** @class */ (function () {
        function IzendaScheduleService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaScheduleService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaScheduleService.prototype.getScheduleConfigForSend = function () {
            return this.scheduleConfig.toJson();
        };
        /**
         * Set current schedule config.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.setScheduleConfig = function (json) {
            var _this = this;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillScheduleConfigFromJson(json).then(function () { return resolve(); });
            });
        };
        /**
         * Set schedule service state from the config object.
         * Schedule timezones, repeat types and others are supposed to be loaded.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.fillScheduleConfigFromJson = function (json) {
            var _this = this;
            return this.$q(function (resolve) {
                // Load schedule collections.
                _this.loadScheduleData().then(function () {
                    // Fill schedule config from json after loading collections.
                    _this.scheduleConfig.fromJson(json, _this.sendEmailTypes, _this.repeatTypes, _this.timezones);
                    resolve();
                });
            });
        };
        /**
         * Load schedule data and available values from server
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.loadScheduleData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                // calculate current timezone std offset:
                var rightNow = new Date();
                var jan1 = new Date(rightNow.getFullYear(), 0, 1, 0, 0, 0, 0);
                var temp = jan1.toGMTString();
                var jan2 = new Date(temp.substring(0, temp.lastIndexOf(' ')));
                var stdTimeOffset = (jan1.getTime() - jan2.getTime()) / (1000 * 60);
                // load schedule dictionaries:
                _this.$izendaCommonQueryService.getScheduleData(stdTimeOffset).then(function (json) {
                    _this.timezones = json.TimeZones.map(function (tz) {
                        var tzText = tz.Text ? tz.Text.replaceAll('&nbsp;', ' ') : '';
                        return new select_item_model_2.IzendaSelectItemModel(tzText, tz.Value, undefined, tz.Selected, tz.Enabled);
                    });
                    _this.sendEmailTypes = json.SendEmailList.map(function (eml) {
                        return new select_item_model_2.IzendaSelectItemModel(eml.Text, eml.Value, undefined, eml.Selected, eml.Enabled);
                    });
                    _this.repeatTypes = json.RepeatTypes.map(function (rt) {
                        return new select_item_model_2.IzendaSelectItemModel(rt.Text, rt.Value, undefined, rt.Selected, rt.Enabled);
                    });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaScheduleService.prototype.reset = function () {
            this.scheduleConfig = new schedule_model_1.IzendaScheduleModel();
            this.timezones = [];
            this.sendEmailTypes = [];
            this.repeatTypes = [];
        };
        Object.defineProperty(IzendaScheduleService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaScheduleService.register = function (module) {
            module.service('$izendaScheduleService', IzendaScheduleService.injectModules.concat(IzendaScheduleService));
        };
        return IzendaScheduleService;
    }());
    exports.default = IzendaScheduleService;
});
izendaRequire.define("common/ui/directives/align-switcher", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_8) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Align switcher directive.
     */
    var IzendaAlignSwitcher = /** @class */ (function () {
        function IzendaAlignSwitcher() {
            this.restrict = 'AE';
            this.scope = {
                ngModel: '=',
                title: '@'
            };
            this.template = "<span class=\"izenda-common-align-switcher glyphicon\" ng-click=\"nextValue()\" ng-attr-title=\"title\" ng-class=\"alignShortcut\"></span>";
            IzendaAlignSwitcher.prototype.link = function ($scope, $element, attrs) {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var shortcuts = {
                    'L': 'glyphicon-align-left',
                    'M': 'glyphicon-align-center',
                    'J': 'glyphicon-align-center',
                    'R': 'glyphicon-align-right',
                    ' ': 'glyphicon-none'
                };
                var validateValue = function (model) {
                    if (angular.isUndefined(model))
                        return;
                    if (itemsArray.indexOf(model) < 0)
                        throw 'Unknown align value: ' + model;
                };
                var updateShortcut = function (model) { return $scope.alignShortcut = shortcuts[model]; };
                $scope.nextValue = function () {
                    var idx = itemsArray.indexOf($scope.ngModel);
                    if (idx < itemsArray.length - 1)
                        idx++;
                    else
                        idx = 0;
                    $scope.ngModel = itemsArray[idx];
                    updateShortcut($scope.ngModel);
                };
                //
                $scope.$parent.$watch(attrs.ngModel, function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    validateValue(newValue);
                    updateShortcut(newValue);
                });
                validateValue($scope.ngModel);
                updateShortcut($scope.ngModel);
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaAlignSwitcher.factory = function () {
            var directive = function () { return new IzendaAlignSwitcher(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAlignSwitcher;
    }());
    module_definition_8.default.directive('izendaAlignSwitcher', [IzendaAlignSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/autocomplete", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_9) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Autocomplete directive. Uses "tagit". Applyed for <input izenda-autocomplete> element.
     */
    var IzendaAutocomplete = /** @class */ (function () {
        function IzendaAutocomplete() {
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                ngModel: '=',
                autocompleteItems: '=',
                updateAutocompleteItems: '&'
            };
            IzendaAutocomplete.prototype.link = function ($scope, $element) {
                /**
                 * Create array with autocomplete item texts
                 * @param {Array<object>} items.
                 * @returns {Array<string>}.
                 */
                var prepareSource = function (items) {
                    if (!angular.isArray(items) || !items.length)
                        return [];
                    return items
                        .filter(function (item) { return angular.isObject(item); })
                        .map(function (item) { return item['text']; });
                };
                // initialize component
                $element.val($scope.ngModel);
                $element['tagit']({
                    tagSource: function (req, responseFunction) {
                        if (!angular.isFunction($scope.updateAutocompleteItems))
                            return;
                        var possibleText = req.term.split(/,\s*/).pop();
                        // update suggested items:
                        $scope.updateAutocompleteItems({ arg0: possibleText }).then(function (newExistentValuesList) {
                            var items = prepareSource(newExistentValuesList);
                            var result = items
                                .filter(function (item) { return !!item && item != '...'; })
                                .map(function (item) { return item.replaceAll('#||#', ','); });
                            responseFunction(result);
                        });
                    },
                    caseSensitive: true,
                    allowDuplicates: false,
                    singleFieldDelimiter: jsResources.literalComma,
                    processValuesForSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll(',', '#||#'); }); },
                    processValuesFromSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll('#||#', ','); }); }
                });
                // add watchers
                $scope.$watch('ngModel', function (newValue) {
                    if (!newValue)
                        $element['tagit']('removeAll');
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element['tagit']('removeAll');
                });
            };
        }
        IzendaAutocomplete.factory = function () {
            var directive = function () { return new IzendaAutocomplete(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAutocomplete;
    }());
    module_definition_9.default.directive('izendaAutocomplete', [IzendaAutocomplete.factory()]);
});
izendaRequire.define("common/ui/directives/bootstrap", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_10) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Collapsible container directive.
     */
    var IzendaBootstrapCollapse = /** @class */ (function () {
        function IzendaBootstrapCollapse($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                collapsed: '=',
                useDelay: '=',
                onComplete: '&'
            };
            IzendaBootstrapCollapse.prototype.link = function ($scope, $element, attrs) {
                /**
                 * Invoke complete handler.
                 */
                var collapseCompleted = function (result) {
                    if (angular.isFunction($scope.onComplete)) {
                        $scope.onComplete({
                            collapsed: result
                        });
                    }
                };
                $element.addClass('collapse');
                if ($scope.collapsed)
                    $element.addClass('in');
                $element['collapse'](); // call bootstrap jquery_element.collapse() method.
                // add event collapse handlers
                $element.on('hidden.bs.collapse', function () { return collapseCompleted(true); });
                $element.on('shown.bs.collapse', function () { return collapseCompleted(false); });
                // watch for collapsed state change
                $scope.$watch('collapsed', function () {
                    if ($scope.useDelay)
                        $timeout(function () { return $element['collapse']($scope.collapsed ? 'hide' : 'show'); }, 1000);
                    else
                        $element['collapse']($scope.collapsed ? 'hide' : 'show');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapCollapse.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapCollapse($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapCollapse;
    }());
    module_definition_10.default.directive('izendaBootstrapCollapse', ['$timeout', IzendaBootstrapCollapse.factory()]);
    /**
     * Tooltip directive
     */
    var IzendaBootstrapTooltip = /** @class */ (function () {
        function IzendaBootstrapTooltip() {
            this.restrict = 'A';
            this.scope = {
                tooltipItems: '='
            };
            IzendaBootstrapTooltip.prototype.link = function ($scope, $element) {
                $scope.$watch('tooltipItems', function (newVal) {
                    if (!angular.isArray(newVal)) {
                        $element.attr('title', '');
                        return;
                    }
                    var result = '';
                    for (var i = 0; i < newVal.length; i++) {
                        if (newVal.length > 1)
                            result += i + '. ';
                        result += newVal[i].message + '<br/>';
                    }
                    $element.attr('title', result);
                    $element['tooltip']('hide')
                        .attr('data-original-title', newVal)
                        .tooltip('update');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapTooltip.factory = function () {
            return function () { return new IzendaBootstrapTooltip(); };
        };
        return IzendaBootstrapTooltip;
    }());
    module_definition_10.default.directive('izendaBootstrapTooltip', [IzendaBootstrapTooltip.factory()]);
    /**
     * Bootstrap dropdown directive
     */
    var IzendaBootstrapDropdown = /** @class */ (function () {
        function IzendaBootstrapDropdown($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                attachToElement: '@',
                width: '@',
                height: '@',
                onOpen: '&',
                onClose: '&'
            };
            this.template = "<div class=\"dropdown\">\n\t<div class=\"dropdown-menu izenda-common-dropdown-strong-shadow dropdown-no-close-on-click\"\n\t\tng-click=\"$event.stopPropagation();\">\n\t\t<div class=\"izenda-common-dropdown-triangle\"></div>\n\t\t<div ng-style=\"{'width': width, 'height': height}\">\n\t\t\t<div ng-transclude></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapDropdown.prototype.link = function ($scope, $element, attrs) {
                var id = ('' + Math.random()).substring(2);
                var scrollEventId = 'scroll.izendaBootstrapDropdown' + id;
                var resizeEventId = 'resize.izendaBootstrapDropdown' + id;
                var keyEventId = 'keyup.izendaBootstrapDropdown' + id;
                var $dropdown = $element.find('.dropdown');
                var $menu = $element.find('.dropdown-menu');
                $dropdown.find('.izenda-common-dropdown-triangle').on('click', function () { return close(); });
                angular.element($window).on(scrollEventId, function () { return close(); });
                angular.element($window).on(resizeEventId, function () { return close(); });
                angular.element($window).on(keyEventId, function (event) {
                    // esc button handler
                    if (event.keyCode == 27 && $scope.opened) {
                        close();
                    }
                });
                $scope.$watch('opened', function (newVal) {
                    if (newVal && !$dropdown.hasClass('open'))
                        open();
                    if (!newVal && $dropdown.hasClass('open'))
                        close();
                });
                function open() {
                    var $attachToElement = angular.element($scope.attachToElement);
                    var $tile = $attachToElement.closest('.iz-dash-tile');
                    $dropdown.addClass('open');
                    $menu.css('position', 'absolute');
                    $menu.css('z-index', 9999);
                    var left = $tile.width() - $menu.width() - 16;
                    var delta = 0;
                    if (left < 0) {
                        delta = -left;
                        left = 0;
                    }
                    var top = 44;
                    $menu.children('.izenda-common-dropdown-triangle').css('left', $menu.width() - delta - 58);
                    $menu.css({
                        left: left + 'px',
                        top: top + 'px'
                    });
                    if (angular.isFunction($scope.onOpen))
                        $scope.onOpen({});
                }
                function close() {
                    $dropdown.removeClass('open');
                    $menu.data('open', false);
                    $scope.opened = false;
                    if (angular.isFunction($scope.onClose))
                        $scope.onClose({});
                    $scope.$applyAsync();
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off(scrollEventId);
                    angular.element($window).off(resizeEventId);
                    angular.element($window).off(keyEventId);
                });
            };
        }
        IzendaBootstrapDropdown.factory = function () {
            var directive = function ($window) { return new IzendaBootstrapDropdown($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaBootstrapDropdown;
    }());
    module_definition_10.default.directive('izendaBootstrapDropdown', ['$window', IzendaBootstrapDropdown.factory()]);
});
izendaRequire.define("common/ui/directives/color-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_11) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Color picker directive. Requires "jquery-minicolors" jQuery plugin. Usage:
     * <izenda-color-picker ng-model="..."></izenda-color-picker>
     */
    var IzendaColorPicker = /** @class */ (function () {
        function IzendaColorPicker() {
            this.restrict = 'A';
            this.scope = {
                ngModel: '=',
                inline: '@',
                additionalClass: '@'
            };
            this.template = '<input class="minicolors form-control" ng-class="additionalClass"></input>';
            IzendaColorPicker.prototype.link = function ($scope, $element) {
                var $input = $element.find('input.minicolors');
                // watch active item changed
                $scope.$watch('ngModel', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    $input.val(newVal);
                    $input['minicolors']('value', newVal);
                });
                initializeControl();
                // destruction method
                $element.on('$destroy', function () {
                    $input['minicolors']('destroy');
                    $input.remove();
                });
                function initializeControl() {
                    $input['minicolors']('destroy');
                    $input.val($scope.ngModel);
                    $input['minicolors']({
                        inline: $scope.inline === 'true',
                        lettercase: 'lowercase',
                        theme: 'bootstrap',
                        color: $scope.color,
                        position: 'bottom right',
                        change: function (hex) {
                            var val = String($input.val());
                            if (val.match(/^#{0,1}[0-9a-f]{6}$/gi)) {
                                $scope.ngModel = hex;
                                angular.element('.iz-dash-background').css('background-color', hex);
                                $scope.$applyAsync();
                            }
                        }
                    });
                    $element.find('.minicolors-grid, .minicolors-slider').click(function (e) {
                        e.stopPropagation();
                        return false;
                    });
                }
            };
        }
        IzendaColorPicker.factory = function () {
            return function () { return new IzendaColorPicker(); };
        };
        return IzendaColorPicker;
    }());
    module_definition_11.default.directive('izendaColorPicker', [IzendaColorPicker.factory()]);
});
izendaRequire.define("common/ui/directives/datetime-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_12) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaDateTimePicker = /** @class */ (function () {
        function IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
            this.$window = $window;
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                model: '=ngModel',
                ngDisabled: '=',
                dateFormat: '=',
                locale: '=',
                datepart: '=',
                showAdditionalButtons: '@',
                htmlContainerSelector: '@',
                onChange: '&'
            };
            this.template = "<input type=\"text\" class=\"form-control\" />\n<span class=\"input-group-addon\">\n\t<span class=\"glyphicon-calendar glyphicon\"></span>\n</span>";
            // change template if resolution is too low
            if (this.$izendaCompatibilityService.isSmallResolution())
                this.template = '<div class="izenda-common-date-picker-inline"/>';
            IzendaDateTimePicker.prototype.link = function ($scope, $element, attrs, ngModelCtrl) {
                var uid = Math.floor(Math.random() * 1000000);
                var $input = $element.children('input,.izenda-common-date-picker-inline');
                var $btn = $element.children('.input-group-addon');
                var isSmallResolution = $izendaCompatibilityService.isSmallResolution();
                var getPicker = function () { return $input.data('DateTimePicker'); };
                /**
                 * Create new date object based on baseDate with updated from the newDate date or time or both.
                 * @param {Date} baseDate current date
                 * @param {Date} newDate updated date
                 * @param {string} datepart what part will be updated: '"date"|"time"|"datetime"'
                 */
                var getUpdatedDateValue = function (baseDate, newDate, datepart) {
                    if (!baseDate)
                        return new Date(newDate);
                    var currDate = new Date(baseDate);
                    if (datepart === 'datetime') {
                        currDate = new Date(newDate);
                    }
                    else if (datepart === 'date') {
                        currDate = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate(), baseDate.getHours(), baseDate.getMinutes(), baseDate.getSeconds(), 0);
                    }
                    else if (datepart === 'time') {
                        currDate = new Date(baseDate.getFullYear(), baseDate.getMonth(), baseDate.getDate(), newDate.getHours(), newDate.getMinutes(), newDate.getSeconds(), 0);
                    }
                    return currDate;
                };
                /**
                 * Set date to the picker
                 */
                var setDate = function (newDate) {
                    if (!newDate)
                        getPicker().date(null);
                    else if (angular.isDate(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, newDate, $scope.datepart));
                    else if (angular.isString(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, new Date(newDate), $scope.datepart));
                    else
                        throw "Unknown date type: " + typeof (newDate);
                };
                /**
                 * Enable/Disable picker
                 */
                var setDisabled = function (isDisabled) {
                    if (isDisabled)
                        getPicker().disable();
                    else
                        getPicker().enable();
                };
                /**
                 * Apply date format in the picker
                 */
                var setFormat = function (format) {
                    if (!angular.isString(format))
                        getPicker().format(false);
                    else
                        getPicker().format(format);
                };
                /**
                 * Apply locale in the picker
                 */
                var setLocale = function (locale) {
                    if (!angular.isString(locale))
                        return;
                    getPicker().locale(locale);
                };
                // create date picker config json
                var config = {};
                if ($scope.showAdditionalButtons === 'true') {
                    config = {
                        showTodayButton: true,
                        showClear: true
                    };
                }
                angular.extend(config, {
                    locale: $scope.locale,
                    inline: isSmallResolution,
                    widgetParent: isSmallResolution ? null : angular.element($scope.htmlContainerSelector),
                    toolbarPlacement: 'bottom',
                    widgetPositioning: {
                        vertical: 'bottom'
                    },
                    tooltips: {
                        today: $izendaLocaleService.localeText('js_GoToToday', 'Go to today'),
                        clear: $izendaLocaleService.localeText('js_ClearSelection', 'Clear selection'),
                        close: $izendaLocaleService.localeText('js_ClosePicker', 'Close the picker'),
                        selectMonth: $izendaLocaleService.localeText('js_SelectMonth', 'Select Month'),
                        prevMonth: $izendaLocaleService.localeText('js_PreviousMonth', 'Previous Month'),
                        nextMonth: $izendaLocaleService.localeText('js_NextMonth', 'Next Month'),
                        selectYear: $izendaLocaleService.localeText('js_SelectYear', 'Select Year'),
                        prevYear: $izendaLocaleService.localeText('js_PreviousYear', 'Previous Year'),
                        nextYear: $izendaLocaleService.localeText('js_NextYear', 'Next Year'),
                        selectDecade: $izendaLocaleService.localeText('js_SelectDecade', 'Select Decade'),
                        prevDecade: $izendaLocaleService.localeText('js_PreviousDecade', 'Previous Decade'),
                        nextDecade: $izendaLocaleService.localeText('js_NextDecade', 'Next Decade'),
                        prevCentury: $izendaLocaleService.localeText('js_PreviousCentury', 'Previous Century'),
                        nextCentury: $izendaLocaleService.localeText('js_NextCentury', 'Next Century')
                    }
                });
                // create picker
                $scope.dateTimePicker = $input['datetimepicker'](config);
                // date picker 'on show' handler
                $input.on('dp.show', function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.show();
                    $widget.css({
                        top: $input.offset().top - $widget.parent().offset().top + $input.height() + 20,
                        left: $input.offset().left - $widget.parent().offset().left
                    });
                });
                // window resize handler
                angular.element($window).on('resize.dp' + uid, function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.hide();
                    $timeout(function () { return $input.blur(); }, 10);
                });
                $btn.on('click', function () {
                    if (!$scope.ngDisabled)
                        $input.focus();
                });
                // watch variables:
                $scope.$watch('ngDisabled', function (newVal) { return setDisabled(newVal); });
                $scope.$watch('dateFormat', function (newVal) { return setFormat(newVal); });
                $scope.$watch('locale', function (newVal) { return setLocale(newVal); });
                // initialize values
                setDisabled($scope.ngDisabled);
                setFormat($scope.dateFormat);
                setLocale($scope.locale);
                if (ngModelCtrl) {
                    $scope.$watch('model', function (newVal) { return setDate(newVal); });
                    $timeout(function () {
                        ngModelCtrl.$render = function () { return setDate(ngModelCtrl.$viewValue); };
                    });
                    $input.on('dp.change', function (e) {
                        var newDateValue = e['date'] ? getUpdatedDateValue($scope.model, e['date'].toDate(), $scope.datepart) : null;
                        ngModelCtrl.$setViewValue(newDateValue);
                    });
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('resize.dp' + uid);
                    var picker = getPicker();
                    if (picker)
                        getPicker().destroy();
                });
            };
        }
        IzendaDateTimePicker.factory = function () {
            var directive = function ($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
                return new IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService);
            };
            directive.$inject = ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService'];
            return directive;
        };
        return IzendaDateTimePicker;
    }());
    module_definition_12.default.directive('izendaDateTimePicker', ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService', IzendaDateTimePicker.factory()]);
});
izendaRequire.define("common/ui/directives/report-viewer", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_13) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaReportViewer = /** @class */ (function () {
        function IzendaReportViewer($rootScope, $timeout) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.restrict = 'AE';
            this.scope = {
                allowColReorder: '@',
                allowedColumnsForReorder: '=',
                reportSetOptions: '=',
                allowColRemove: '@',
                droppableAccept: '@',
                onReorder: '&',
                onHeaderClick: '&',
                onPagingClick: '&',
                onDragOver: '&',
                onRemove: '&',
                emptyText: '=',
                currentInsertColumnOrder: '=',
                htmlText: '='
            };
            this.template = "<div class=\"izenda-report-viewer\">\n\t<div class=\"html-container-placeholder hidden\"></div>\n\t<div class=\"html-container-loading\" style=\"display: none;\" ng-bind=\":: 'js_Loading' | izendaLocale: 'Loading...'\"></div>\n\t<div id=\"renderedReportDiv\" class=\"html-container\"></div>\n</div>";
            IzendaReportViewer.prototype.link = function ($scope, $element) {
                //////////////////////////////////////////////////////////////
                // apply tile html function
                var $htmlContainer = $element.find('.html-container');
                var $htmlContainerLoading = $element.find('.html-container-loading');
                var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
                /**
                 * Prepare report table
                 * @param {jquery object} $table
                 */
                var processReportTable = function () {
                    // prepare table
                    if (!IzendaReportViewer.isTableIsGood($scope.$table))
                        return;
                    IzendaReportViewer.addColReorderHandler($scope, $timeout, function ($from, $to, isVisualGroup) {
                        IzendaReportViewer.onReorder($scope, $from, $to, isVisualGroup);
                    });
                    // add other handlers
                    IzendaReportViewer.addDragHandlers($scope, $rootScope, $element);
                    IzendaReportViewer.addClickHandler($scope);
                    IzendaReportViewer.addColRemoveButtons($scope);
                    izenda.report.registerPostRenderHandlers();
                };
                /**
                 * Apply report content html
                 * @param {string} html
                 */
                var applyHtml = function (html) {
                    // show/hide loading indicator
                    if (html === null) {
                        $htmlContainer.hide();
                        $htmlContainerLoading.show();
                    }
                    else {
                        $htmlContainer.show();
                        $htmlContainerLoading.hide();
                    }
                    // empty result
                    if (typeof (html) !== 'string' || (html && typeof (html) === 'string' && html.trim() === '')) {
                        $htmlContainer.text($scope.emptyText);
                        return;
                    }
                    $htmlContainer.html(html);
                    // is paging enabled
                    IzendaReportViewer.preparePageLinks($scope, $htmlContainer);
                    IzendaReportViewer.preparePagingInput($scope, $htmlContainer);
                    IzendaReportViewer.prepareGoToRecordBtn($scope, $htmlContainer);
                    $scope.$table = $htmlContainer.find('table[name=reportTable],table.ReportTable');
                    if ($scope.$table.length > 0) {
                        // prepare report table
                        processReportTable();
                    }
                };
                // htmlText change handler
                $scope.$watch('htmlText', function (newVal) { return applyHtml(newVal); });
                // is dragging enabled handler
                $rootScope.$watch('isDraggingNow', function (newVal) {
                    if (!newVal) {
                        $htmlContainerPlaceholder.addClass('hidden');
                    }
                });
                // run
                applyHtml($scope.htmlText);
                //////////////////////////////////////////////////////////////
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        /**
         * Check is any kind of visual group applied.
         */
        IzendaReportViewer.isVgApplyed = function ($scope) {
            return angular.isObject($scope.reportSetOptions)
                ? $scope.reportSetOptions.isVgUsed
                : false;
        };
        /**
         * Check is applied AG or VGHierarchy.
         */
        IzendaReportViewer.isTableContainVgColumns = function ($scope) {
            return IzendaReportViewer.isVgApplyed($scope) &&
                ['AnalysisGrid', 'VGHierarchy'].indexOf($scope.reportSetOptions.vgStyle) >= 0;
        };
        /**
         * Calculate count of visual group column.
         */
        IzendaReportViewer.getCountOfVgColumns = function ($scope) {
            var countOfVgColumns = 0;
            if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                var fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
                countOfVgColumns = fieldsInTable.filter(function (field) { return field.isVgUsed; }).length;
            }
            return countOfVgColumns;
        };
        /**
         * Get fields which have own column in preview table
         * @returns {Array} array of field objects.
         */
        IzendaReportViewer.getColumnFields = function ($scope) {
            var fieldsInTable;
            if (IzendaReportViewer.isTableContainVgColumns($scope))
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
            else
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields.filter(function (field) { return !field.isVgUsed; });
            return fieldsInTable;
        };
        IzendaReportViewer.isTableIsGood = function ($table) {
            if (!$table)
                return false;
            // if no table headers - stop:
            var $tableHeader = $table.children('tbody').children('tr.ReportHeader');
            if ($tableHeader.length === 0)
                return false;
            // check if table contains visual groups:
            return true;
        };
        /**
         * Add col reorder handler.
         */
        IzendaReportViewer.addColReorderHandler = function ($scope, $timeout, onColumnReorderCompleted) {
            if ($scope.allowColReorder !== 'true')
                return;
            var bodyOnselectstartSave = String(angular.element(document.body).attr('onselectstart'));
            var bodyUnselectableSave = String(angular.element(document.body).attr('unselectable'));
            var disableTextSelection = function () {
                // jQuery doesn't support the element.text attribute in MSIE 8
                // http://stackoverflow.com/questions/2692770/style-style-textcss-appendtohead-does-not-work-in-ie
                var $style = angular.element('<style id="__disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');
                angular.element(document.head).append($style);
                angular.element(document.body).attr('onselectstart', 'return false;').attr('unselectable', 'on');
                if (window.getSelection) {
                    window.getSelection().removeAllRanges();
                }
                else {
                    document.selection.empty(); // MSIE http://msdn.microsoft.com/en-us/library/ms535869%28v=VS.85%29.aspx
                }
            };
            var restoreTextSelection = function () {
                angular.element('#__disable_text_selection__').remove();
                if (bodyOnselectstartSave)
                    angular.element(document.body).attr('onselectstart', bodyOnselectstartSave);
                else
                    angular.element(document.body).removeAttr('onselectstart');
                if (bodyUnselectableSave)
                    angular.element(document.body).attr('unselectable', bodyUnselectableSave);
                else
                    angular.element(document.body).removeAttr('unselectable');
            };
            var createHelper = function (innerOffset) {
                var $cell = $scope.reorderState.$from;
                var $clone = $cell.clone().wrap('<div class="izenda-common-col-reorder-helper"></div>').parent();
                $clone.width($cell.outerWidth());
                $clone.height($cell.outerHeight());
                $clone.css('top', $cell.position().top);
                $clone.css('left', $cell.position().left + innerOffset);
                $scope.reorderState.$helper = $clone;
                $scope.reorderState.helperOffset = innerOffset;
                $scope.$table.append($clone);
                return $clone;
            };
            var removeHelper = function () {
                $scope.reorderState.$helper.remove();
            };
            var beforeReorderStarted = function () {
                disableTextSelection();
                $scope.reorderState.$from.addClass('izenda-reorder-cell-selected');
                $scope.reorderState.previousPosition = $scope.$table.css('position');
                $scope.$table.css('position', 'relative');
            };
            var afterReorderCompleted = function () {
                $scope.reorderState.$from.removeClass('izenda-reorder-cell-selected');
                $scope.reorderState.itemsCache = null;
                $scope.$table.css('position', $scope.reorderState.previousPosition);
                $scope.$table.find('.izenda-common-col-reorder-active').removeClass('izenda-col-reorder-active');
                removeHelper();
                restoreTextSelection();
            };
            var getCurrentItemsForReorder = function () {
                if (!$scope.reorderState.itemsCache) {
                    $scope.reorderState.itemsCache = $scope.reorderState.$from.parent().children();
                }
                return $scope.reorderState.itemsCache;
            };
            var completeReorder = function () {
                if (!$scope.reorderState.started)
                    return;
                $scope.reorderState.started = false;
                afterReorderCompleted();
                if (angular.isFunction(onColumnReorderCompleted)) {
                    var isVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                    onColumnReorderCompleted($scope.reorderState.$from, $scope.reorderState.$to, isVg);
                }
            };
            $scope.reorderState = {
                started: false,
                $from: null
            };
            // add table handlers:
            angular.element(document).off('mousemove.izendaColReorder');
            angular.element(document).off('mouseup.izendaColReorder');
            angular.element(document).on('mousemove.izendaColReorder', function (e) {
                if (!$scope.reorderState.started)
                    return;
                var currentTableX = e.pageX - $scope.$table.offset().left;
                var isFromColumnVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                // highlight current column
                var $tds = getCurrentItemsForReorder();
                var $toTd = null;
                angular.element.each($tds, function (iTd, td) {
                    var $currTd = angular.element(td);
                    var tdLeft = $currTd.position().left, tdWidth = $currTd.outerWidth();
                    var isTdColumnVg = String($currTd.attr('data-is-vg-column')) === 'true';
                    if (!$currTd.hasClass('izenda-col-reorder-disabled') &&
                        isFromColumnVg === isTdColumnVg &&
                        currentTableX >= tdLeft &&
                        currentTableX < tdLeft + tdWidth) {
                        $toTd = $currTd;
                    }
                });
                // is $toTd changed?
                if ($toTd && (!$scope.reorderState.$to || $toTd.index() !== $scope.reorderState.$to.index())) {
                    $scope.reorderState.$to = $toTd;
                    $tds.removeClass('izenda-common-col-reorder-active');
                    if (!$scope.reorderState.$to.hasClass('izenda-common-col-reorder-active')) {
                        $scope.reorderState.$to.addClass('izenda-common-col-reorder-active');
                    }
                    // bubble inner content
                    var fromIndex = $scope.reorderState.$from.index();
                    var toIndex = $scope.reorderState.$to.index();
                    angular.element.each($tds, function (iTd, td) {
                        var $currTd2 = angular.element(td);
                        var $backups = $currTd2.children('.izenda-common-col-reorder-hidden');
                        if ($backups.length > 0) {
                            $currTd2.children().not('.izenda-common-col-reorder-hidden').remove();
                        }
                        $currTd2.children().removeClass('izenda-common-col-reorder-hidden');
                    });
                    var $currentTd = void 0;
                    var $nextTd = void 0;
                    var i = void 0;
                    if (fromIndex < toIndex) {
                        for (i = fromIndex; i < toIndex; i++) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i + 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                    else {
                        for (i = fromIndex; i > toIndex; i--) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i - 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                }
                // move helper
                $scope.reorderState.$helper.css('left', currentTableX - $scope.reorderState.helperOffset);
            });
            angular.element(document).on('mouseup.izendaColReorder', function () {
                if ($scope.reorderState.downTimer)
                    $timeout.cancel($scope.reorderState.downTimer);
                completeReorder();
            });
            // initialize:
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            // fieldsInTable should contain only fields which have column
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iHeaderRow, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell < fieldsInTable.length) {
                        if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                            var field = fieldsInTable[iCell];
                            $cell.attr('data-is-vg-column', field.isVgUsed ? 'true' : 'false');
                        }
                        else {
                            $cell.attr('data-is-vg-column', 'false');
                        }
                        // mouse down handler
                        $cell.on('mousedown.izendaColReorder', function (e) {
                            $scope.reorderState.started = false;
                            if (e.which !== 1)
                                return;
                            if ($scope.reorderState.downTimer)
                                $timeout.cancel($scope.reorderState.downTimer);
                            $scope.reorderState.downTimer = null;
                            $scope.reorderState.$from = angular.element(e.delegateTarget);
                            $scope.reorderState.downTimer = $timeout(function () {
                                beforeReorderStarted();
                                createHelper(e.offsetX);
                                $scope.reorderState.started = true;
                            }, 250);
                        });
                    }
                    else {
                        $cell.addClass('izenda-col-reorder-disabled');
                    }
                });
            });
        };
        /**
         * Reorder completed handler
         * @param {jquery dom element} $from. Element which we dragged
         * @param {jquery dom element} $to. $from element dropped to this element.
         */
        IzendaReportViewer.onReorder = function ($scope, $from, $to, isVg) {
            if (!angular.isFunction($scope.onReorder))
                return;
            if (!$to || !$from)
                return;
            var fromIndex = $from.index();
            var toIndex = $to.index();
            if (fromIndex === toIndex)
                return;
            if (!isVg) {
                var vgColumnsCount = IzendaReportViewer.getCountOfVgColumns($scope);
                fromIndex -= vgColumnsCount;
                toIndex -= vgColumnsCount;
            }
            $scope.onReorder({ arg0: fromIndex, arg1: toIndex, arg2: isVg });
        };
        ;
        /**
         * Add drag handlers to table
         */
        IzendaReportViewer.addDragHandlers = function ($scope, $rootScope, $element) {
            var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
            // mouse over
            if (!angular.isString($scope.droppableAccept))
                return;
            var $currenttable = $scope.$table;
            var currentTableLeft = $currenttable.offset().left;
            $htmlContainerPlaceholder.height($currenttable.height());
            var columnCoords = [];
            var $currenttableHeader = $scope.$table.find('tr.ReportHeader').last();
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            var $currenttableRows = $currenttableHeader.children('td').slice(0, fieldsInTable.length);
            var countOfVgColumns = IzendaReportViewer.getCountOfVgColumns($scope);
            // calculate 
            angular.element.each($currenttableRows, function (iTh, th) {
                var $th = angular.element(th);
                if (iTh >= countOfVgColumns) {
                    columnCoords.push({
                        left: $th.position().left,
                        width: $th.outerWidth()
                    });
                }
            });
            // mouse enter handler
            $scope.$table.on('mouseenter', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                currentTableLeft = $currenttable.offset().left;
                $htmlContainerPlaceholder.css('top', $currenttable.position().top + 'px');
                $htmlContainerPlaceholder.height($currenttable.height());
                if (columnCoords.length > 0)
                    $htmlContainerPlaceholder.css('left', columnCoords[0].left + 'px');
                $htmlContainerPlaceholder.removeClass('hidden');
            });
            // mouse leave handler
            $scope.$table.on('mouseleave', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                if (event['toElement'] && angular.element(event['toElement']).hasClass('html-container-placeholder'))
                    return;
                $htmlContainerPlaceholder.addClass('hidden');
            });
            // mouse move handler
            $scope.$table.on('mousemove', function (event) {
                if (!$rootScope.isDraggingNow)
                    return;
                var left = event.pageX - currentTableLeft;
                for (var k = 0; k < columnCoords.length; k++) {
                    var column = columnCoords[k];
                    if (k < columnCoords.length - 1) {
                        var nextColumn = columnCoords[k + 1];
                        if (column.left <= left && left < nextColumn.left) {
                            if (left <= column.left + (nextColumn.left - column.left) / 2) {
                                $htmlContainerPlaceholder.css('left', column.left + 'px');
                                $scope.currentInsertColumnOrder = k;
                                $scope.$applyAsync();
                            }
                            else {
                                $htmlContainerPlaceholder.css('left', nextColumn.left + 'px');
                                $scope.currentInsertColumnOrder = k + 1;
                                $scope.$applyAsync();
                            }
                        }
                    }
                    else {
                        if (left >= column.left + column.width / 2) {
                            $htmlContainerPlaceholder.css('left', (column.left + column.width) + 'px');
                            $scope.currentInsertColumnOrder = k + 1;
                            $scope.$applyAsync();
                        }
                        else if (left >= column.left) {
                            $htmlContainerPlaceholder.css('left', (column.left) + 'px');
                            $scope.currentInsertColumnOrder = k;
                            $scope.$applyAsync();
                        }
                    }
                }
            });
        };
        ;
        /**
         * Add table header click handler
         */
        IzendaReportViewer.addClickHandler = function ($scope) {
            if (!angular.isFunction($scope.onHeaderClick))
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iTableHeader, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell >= fieldsInTable.length)
                        return;
                    $cell.on('mousedown', function (e) {
                        if (e.which !== 1)
                            return;
                        if (!angular.isFunction($scope.onHeaderClick))
                            return;
                        var $this = angular.element(e.delegateTarget);
                        var fieldIndex = $this.index();
                        $scope.onHeaderClick({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Add buttons which allow to remvoe table columns
         */
        IzendaReportViewer.addColRemoveButtons = function ($scope) {
            if ($scope.allowColRemove !== 'true')
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            // iterate headers
            angular.element.each($headerRows, function (iHeaderRow, headerRow) {
                var $tableHeader = angular.element(headerRow);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    $cell.css('position', 'relative');
                    if (iCell >= fieldsInTable.length)
                        return;
                    // add cell handlers
                    $cell.on('mouseover.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').show();
                    });
                    $cell.on('mouseout.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').hide();
                    });
                    // add button
                    var $reportColumnRemoveButton = angular.element('<div class="izenda-common-remove-column-btn"><span class="glyphicon glyphicon-remove"></span></div>');
                    $cell.append($reportColumnRemoveButton);
                    $reportColumnRemoveButton.on('mousedown.removebtn', function (e) {
                        if (e.which !== 1)
                            return;
                        e.stopImmediatePropagation();
                        if (!angular.isFunction($scope.onRemove))
                            return;
                        var fieldIndex = angular.element(e.delegateTarget).parent().index();
                        $scope.onRemove({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Remove 'onkeydown' event and add own keydown and blur events, which call onPagingClick handler.
         * @param {} $scope Current directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls
         */
        IzendaReportViewer.preparePagingInput = function ($scope, $htmlContainer) {
            var $pageInputs = $htmlContainer.find('.iz-pagelink-exact-page-input');
            if (!$pageInputs.length)
                return;
            angular.element.each($pageInputs, function (iPageInput, pageInput) {
                var $pageInput = angular.element(pageInput);
                $pageInput.attr('onkeydown', null);
                // input changed handler
                var onInputChanged = function ($input) {
                    var pagesCount = parseInt(String($input.attr('data-pages-count')));
                    var itemsPerPage = parseInt(String($input.attr('data-items-per-page')));
                    var val = Number($input.val());
                    if (val < 1)
                        val = 1;
                    if (val > pagesCount)
                        val = pagesCount;
                    var startRecord = ((val - 1) * itemsPerPage) + 1;
                    var finishRecord = startRecord + itemsPerPage - 1;
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink-exact-page-input',
                        arg1: startRecord + '-' + finishRecord
                    });
                };
                $pageInput.on('blur', function (event) {
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
                $pageInput.on('keydown', function (event) {
                    var kc = event.keyCode || event.which;
                    if (kc !== 13)
                        return;
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event, which call onPagingClick handler.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.preparePageLinks = function ($scope, $htmlContainer) {
            var $pageLinks = $htmlContainer.find('.iz-pagelink, .iz-pagelink-direction-btn');
            if (!$pageLinks.length || !angular.isFunction($scope.onPagingClick))
                return;
            angular.element.each($pageLinks, function (iPageLink, pageLink) {
                var $pageLink = angular.element(pageLink);
                var onClickScript = String($pageLink.attr('onclick'));
                var matchResult = /results=(\d+\-\d+)/g.exec(onClickScript);
                if (matchResult && matchResult.length === 2)
                    $pageLink.attr('data-active-page', matchResult[1]);
                $pageLink.attr('onclick', null);
                $pageLink.on('click', function (e) {
                    var $currentLink = angular.element(e.delegateTarget);
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink',
                        arg1: $currentLink.attr('data-active-page')
                    });
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.prepareGoToRecordBtn = function ($scope, $htmlContainer) {
            var $btn = $htmlContainer.find('.iz-pagelink-go-to-page-btn');
            $btn.attr('onclick', null);
            $btn.on('click', function (e) {
                var $this = angular.element(e.delegateTarget);
                var itemsCount = parseInt(String($this.attr('data-items-count')));
                var itemsPerPage = parseInt(String($this.attr('data-items-per-page')));
                var inputValue;
                try {
                    inputValue = parseInt(String(angular.element('#pageNumEd').val()));
                }
                catch (e) {
                    inputValue = 1;
                }
                if (itemsCount < inputValue)
                    inputValue = itemsCount;
                var startRecord = inputValue - (inputValue - 1) % itemsPerPage;
                var finishRecord = startRecord + itemsPerPage - 1;
                $scope.onPagingClick({
                    arg0: 'iz-pagelink-exact-page-input',
                    arg1: startRecord + '-' + finishRecord
                });
            });
        };
        IzendaReportViewer.factory = function () {
            var directive = function ($rootScope, $timeout) {
                return new IzendaReportViewer($rootScope, $timeout);
            };
            directive.$inject = ['$rootScope', '$timeout'];
            return directive;
        };
        return IzendaReportViewer;
    }());
    module_definition_13.default.directive('izendaReportViewer', ['$rootScope', '$timeout', IzendaReportViewer.factory()]);
});
izendaRequire.define("common/ui/directives/select-checkboxes", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_14) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select checkboxes directive.
     */
    var IzendaSelectCheckboxes = /** @class */ (function () {
        function IzendaSelectCheckboxes() {
            this.restrict = 'AE';
            this.scope = {
                existentValues: '=',
                ngModel: '='
            };
            this.template = "<div ng-repeat=\"existentValue in existentValues\">\n\t<label class=\"izenda-common-select-checkboxes-label\">\n\t\t<input type=\"checkbox\" ng-click=\"clickCheckbox(existentValue)\" ng-checked=\"isChecked(existentValue)\"/>\n\t\t<span ng-bind=\"existentValue.text\"></span>\n\t</label>\n</div>";
            IzendaSelectCheckboxes.prototype.link = function ($scope, $element, attrs) {
                $element.addClass('izenda-common-select-checkboxes');
                $scope.$watch('existentValues', function () { return $scope.$parent.$eval(attrs.ngChange); }, true);
                $scope.$watchCollection('ngModel', function () { return $scope.$parent.$eval(attrs.ngChange); });
                $scope.isChecked = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    return viewValue.indexOf(existentValue.value) >= 0;
                };
                $scope.clickCheckbox = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    if (viewValue.indexOf(existentValue.value) >= 0)
                        viewValue.splice(viewValue.indexOf(existentValue.value), 1);
                    else
                        viewValue.push(existentValue.value);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSelectCheckboxes.factory = function () {
            return function () { return new IzendaSelectCheckboxes(); };
        };
        return IzendaSelectCheckboxes;
    }());
    module_definition_14.default.directive('izendaSelectCheckboxes', [IzendaSelectCheckboxes.factory()]);
});
izendaRequire.define("common/ui/directives/splashscreen", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_15) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaSplashScreen = /** @class */ (function () {
        function IzendaSplashScreen($timeout, $izendaUrlService) {
            this.$timeout = $timeout;
            this.restrict = 'EA';
            this.scope = {
                ngShow: '=',
                text: '=',
                loadingIndicatorUrl: '@',
                parentSelector: '@'
            };
            IzendaSplashScreen.prototype.link = function ($scope) {
                var splashTimeout = null;
                var template = "<div class=\"izenda-common-splashscreen hidden\">\n\t<div class=\"izenda-common-splashscreen-inner text-center\">\n\t\t<img class=\"izenda-common-splashscreen-loading\"/>\n\t\t<span class=\"izenda-common-splashscreen-text\"></span>\n\t</div>\n</div>";
                var $element = angular.element(template);
                var added = false;
                // loading spinner
                var defaultLoadingIndicatorUrl = angular.isString($scope.loadingIndicatorUrl)
                    ? $scope.loadingIndicatorUrl
                    : $izendaUrlService.settings.urlRpPage + 'image=ModernImages.loading-grid.gif';
                var parentSelectorText = angular.isString($scope.parentSelector) ? $scope.parentSelector : 'body';
                var bodyOverflow;
                var bodyPadding;
                var $body;
                var initialize = function () {
                    $element.find('.izenda-common-splashscreen-loading').attr('src', defaultLoadingIndicatorUrl);
                    $body = angular.element(parentSelectorText);
                    if ($body.length > 0 && !added) {
                        bodyOverflow = $body.css('overflow');
                        bodyPadding = $body.css('padding-left');
                        $body.append($element);
                        added = true;
                    }
                };
                var setText = function () {
                    var $inner = $element.find('.izenda-common-splashscreen-text');
                    $inner.text($scope.text);
                };
                var bodyHasScrollbar = function () {
                    return $body.length > 0 && $body.get(0).scrollHeight > $body.height();
                };
                var showSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                    }
                    splashTimeout = $timeout(function () {
                        $element.removeClass('hidden');
                        bodyOverflow = $body.css('overflow');
                        $body.css('overflow', 'hidden');
                        if (bodyHasScrollbar()) {
                            bodyPadding = $body.css('padding-left');
                            $body.css('padding-right', '17px');
                        }
                    }, 1000);
                };
                var hideSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                        $element.addClass('hidden');
                        $body.css('overflow', bodyOverflow);
                        if (bodyHasScrollbar()) {
                            $body.css('padding-right', bodyPadding);
                        }
                    }
                };
                $scope.$watch('ngShow', function (newVal) {
                    if (newVal)
                        showSplash();
                    else
                        hideSplash();
                });
                $scope.$watch('text', function () { return setText(); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSplashScreen.factory = function () {
            var directive = function ($timeout, $izendaUrlService) { return new IzendaSplashScreen($timeout, $izendaUrlService); };
            directive.$inject = ['$timeout', '$izendaUrlService'];
            return directive;
        };
        return IzendaSplashScreen;
    }());
    module_definition_15.default.directive('izendaSplashScreen', ['$timeout', '$izendaUrlService', IzendaSplashScreen.factory()]);
});
izendaRequire.define("common/ui/directives/switcher", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_16) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Switcher directive
     */
    var IzendaSwitcher = /** @class */ (function () {
        function IzendaSwitcher() {
            this.restrict = 'A';
            this.scope = {
                tooltip: '=',
                label: '=',
                ngModel: '='
            };
            this.template = "<span ng-show=\"label != null && label != ''\" class=\"izenda-common-switcher-label\">{{label}}</span>\n<span class=\"izenda-common-switcher\" title=\"{{tooltip}}\">\n\t<span class=\"izenda-common-switcher-text-off\">O</span>\n\t<span class=\"izenda-common-switcher-item\"></span>\n\t<span class=\"izenda-common-switcher-text-on\">I</span>\n</span>";
            IzendaSwitcher.prototype.link = function ($scope, $element) {
                $element.click(function (e) {
                    e.stopPropagation();
                    $scope.ngModel = !$scope.ngModel;
                    $scope.$parent.$apply();
                });
                var $switcher = $element.find('.izenda-common-switcher');
                $scope.$watch('ngModel', function (newVal) {
                    if (newVal)
                        $switcher.addClass('on');
                    else
                        $switcher.removeClass('on');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSwitcher.factory = function () {
            return function () { return new IzendaSwitcher(); };
        };
        return IzendaSwitcher;
    }());
    module_definition_16.default.directive('izendaSwitcher', [IzendaSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/toggle-button", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_17) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Toggle button directive
     */
    var IzendaToggleButton = /** @class */ (function () {
        function IzendaToggleButton() {
            this.restrict = 'EA';
            this.transclude = true;
            this.require = ['ngModel'];
            this.scope = {
                trueValue: '=',
                falseValue: '='
            };
            this.template = "<span type=\"button\" class=\"btn izenda-toggle-button-btn active\" data-toggle=\"button\">\n\t<ng-transclude></ng-transclude>\n</span>";
            IzendaToggleButton.prototype.link = function ($scope, $element, attrs, requiredParams) {
                var ngModel = requiredParams[0];
                var btn = $element.children('.btn');
                $scope.$parent.$watch(attrs.ngModel, function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    if (newVal == $scope.trueValue) {
                        if (btn.hasClass('active')) {
                            btn.removeClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                    else if (newVal == $scope.falseValue) {
                        if (!btn.hasClass('active')) {
                            btn.addClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                });
                if (ngModel.$viewValue === $scope.trueValue) {
                    if (btn.hasClass('active')) {
                        btn.removeClass('active');
                    }
                }
                else if (ngModel.$viewValue === $scope.falseValue) {
                    if (!btn.hasClass('active')) {
                        btn.addClass('active');
                    }
                }
                $element.on('click', function () { return ngModel.$setViewValue(!ngModel.$viewValue); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToggleButton.factory = function () {
            return function () { return new IzendaToggleButton(); };
        };
        return IzendaToggleButton;
    }());
    module_definition_17.default.directive('izendaToggleButton', [IzendaToggleButton.factory()]);
});
izendaRequire.define("common/ui/components/schedule/schedule-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/settings-service", "common/ui/services/schedule-service", "izenda-external-libs"], function (require, exports, module_definition_18, izenda_component_4, localization_service_3, settings_service_2, schedule_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Schedule component definition
     */
    var IzendaScheduleComponent = /** @class */ (function () {
        function IzendaScheduleComponent($izendaLocaleService, $izendaSettingsService, $izendaScheduleService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaScheduleService = $izendaScheduleService;
        }
        /**
         * Component init
         */
        IzendaScheduleComponent.prototype.$onInit = function () {
            this.dateFormat = this.$izendaSettingsService.dateFormat;
            this.culture = this.$izendaSettingsService.culture;
        };
        IzendaScheduleComponent = __decorate([
            izenda_component_4.default(module_definition_18.default, 'izendaScheduleComponent', ['$izendaLocaleService', '$izendaSettingsService', '$izendaScheduleService'], {
                templateUrl: '###RS###extres=components.common.ui.components.schedule.schedule-template.html',
                bindings: {
                    scheduleConfig: '=',
                    repeatTypes: '<',
                    emailTypes: '<',
                    timezones: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_3.default,
                settings_service_2.default,
                schedule_service_1.default])
        ], IzendaScheduleComponent);
        return IzendaScheduleComponent;
    }());
    exports.default = IzendaScheduleComponent;
});
izendaRequire.define("common/ui/components/select-report/select-report-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_19, izenda_component_5, localization_service_4, url_service_2, settings_service_3, common_query_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report component definition
     */
    var IzendaSelectReportComponent = /** @class */ (function () {
        function IzendaSelectReportComponent($timeout, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.uncategorizedText = this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.reset();
        }
        IzendaSelectReportComponent.prototype.$onChanges = function (changesObj) {
            var _this = this;
            if (!changesObj.opened)
                return;
            var currentOpened = changesObj.opened.currentValue;
            if (currentOpened) {
                this.reset();
                this.openedInner = true;
                // timeout is needed for the smoother modal animation
                this.$timeout(function () {
                    _this.hideAll = false;
                    _this.$izendaCommonQueryService.getReportSetCategory(_this.uncategorizedText).then(function (data) {
                        var reportSets = data.ReportSets;
                        _this.addCategoriesToModal(reportSets);
                        _this.addReportsToModal(reportSets);
                        _this.isLoading = false;
                    });
                }, 1000);
            }
        };
        /**
         * Add report parts to modal
         */
        IzendaSelectReportComponent.prototype.addReportPartsToModal = function (reportParts) {
            this.groups = [];
            if (!reportParts || !reportParts.length)
                return;
            // add groups:
            var currentGroup = [];
            for (var i = 0; i < reportParts.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportPart = reportParts[i];
                reportPart.isReportPart = true;
                currentGroup.push(reportPart);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Add reportset categories to modal select control.
         */
        IzendaSelectReportComponent.prototype.addCategoriesToModal = function (reportSets) {
            var _this = this;
            if (!reportSets)
                return;
            this.categories = reportSets
                .filter(function (report) { return !report.Dashboard; })
                .map(function (report) {
                var category = report.Category ? report.Category : _this.uncategorizedText;
                return !report.Subcategory
                    ? category
                    : category + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
            });
            // make categories unique
            this.categories = Array.from(new Set(this.categories));
            if (!this.category)
                this.category = this.uncategorizedText;
        };
        /**
         * Add report to modal dialog body.
         */
        IzendaSelectReportComponent.prototype.addReportsToModal = function (reportSets) {
            this.groups = [];
            var reportSetsToShow = [];
            if (reportSets && reportSets.length)
                reportSetsToShow = reportSets.filter(function (rs) { return !rs.Dashboard && rs.Name; });
            if (!reportSetsToShow || !reportSetsToShow.length)
                return;
            // add groups:
            var currentGroup = [];
            this.groups.length = 0;
            for (var i = 0; i < reportSetsToShow.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportSet = reportSetsToShow[i];
                reportSet.isReportPart = false;
                currentGroup.push(reportSet);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Select category handler
         */
        IzendaSelectReportComponent.prototype.categoryChangedHandler = function () {
            var _this = this;
            if (this.isLoading)
                return;
            this.isLoading = true;
            this.groups = [];
            if (!this.category)
                this.category = this.uncategorizedText;
            this.$izendaCommonQueryService.getReportSetCategory(this.category).then(function (data) {
                _this.addReportsToModal(data.ReportSets);
                _this.isLoading = false;
            });
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * User clicked to report set item
         */
        IzendaSelectReportComponent.prototype.itemSelectedHandler = function (item) {
            var _this = this;
            var isReportPart = item.isReportPart;
            var reportFullName = item.Name;
            if (item.CategoryFull)
                reportFullName = item.CategoryFull + this.$izendaSettingsService.getCategoryCharacter() + reportFullName;
            if (!isReportPart) {
                // if report set selected
                this.isLoading = true;
                this.groups = [];
                this.$izendaCommonQueryService.getReportParts(reportFullName).then(function (data) {
                    var reports = data.Reports;
                    _this.addReportPartsToModal(reports);
                    _this.isLoading = false;
                });
            }
            else {
                this.openedInner = false;
                // if report part selected
                if (angular.isFunction(this.onSelected))
                    this.onSelected({ reportPartInfo: item });
            }
        };
        /**
         * Reset form
         */
        IzendaSelectReportComponent.prototype.reset = function () {
            this.openedInner = false;
            this.category = this.uncategorizedText;
            this.categories = [];
            this.groups = [];
            this.isLoading = true;
            this.hideAll = true;
        };
        IzendaSelectReportComponent = __decorate([
            izenda_component_5.default(module_definition_19.default, 'izendaSelectReportComponent', ['$timeout', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report.select-report-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_4.default,
                url_service_2.default,
                settings_service_3.default,
                common_query_service_2.default])
        ], IzendaSelectReportComponent);
        return IzendaSelectReportComponent;
    }());
    exports.default = IzendaSelectReportComponent;
});
izendaRequire.define("common/ui/components/select-report-name/select-report-name-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_20, izenda_component_6, localization_service_5, url_service_3, settings_service_4, common_query_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report name component definition
     */
    var IzendaSelectReportNameComponent = /** @class */ (function () {
        function IzendaSelectReportNameComponent($q, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService, reportNameInputPlaceholderText, reportNameEmptyError, reportNameInvalidError) {
            this.$q = $q;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reportNameEmptyError = reportNameEmptyError;
            this.reportNameInvalidError = reportNameInvalidError;
            // other
            this.nextId = 1;
            this.isCategoryAllowed = $izendaSettingsService.getCommonSettings().showCategoryTextboxInSaveDialog;
            this.reportNameInputPlaceholderText = this.$izendaLocaleService
                .localeText(reportNameInputPlaceholderText[0], reportNameInputPlaceholderText[1]);
            this.textCreateNew = $izendaLocaleService.localeText('js_CreateNew', 'Create New');
            this.textUncategorized = $izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.textErrorReportNameEmpty = $izendaLocaleService.localeText(reportNameEmptyError[0], reportNameEmptyError[1]);
            this.textErrorInvalidReportName = $izendaLocaleService.localeText(reportNameInvalidError[0], reportNameInvalidError[1]);
            this.textErrorInvalidCategoryName = $izendaLocaleService.localeText('js_InvalidCategoryName', 'Invalid Category Name');
            this.isOpenedInner = false;
            this.isNewReportDialog = false;
            this.reportName = '';
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.errorMessages = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        }
        IzendaSelectReportNameComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.opened) {
                var currentOpened = changesObj.opened.currentValue;
                if (currentOpened)
                    this.openModal();
            }
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportNameComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * Close modal dialog
         */
        IzendaSelectReportNameComponent.prototype.closeModal = function () {
            this.isOpenedInner = false;
        };
        /**
         * Open modal dialog
         */
        IzendaSelectReportNameComponent.prototype.openModal = function () {
            var _this = this;
            this.isSelectDisabled = true;
            this.isOpenedInner = true;
            this.resetForm();
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.nextId = 1;
            // show loading message inside select control
            this.categories = [];
            this.categories.push({
                id: -1,
                name: this.$izendaLocaleService.localeText('js_Loading', 'Loading...')
            });
            this.selectedCategory = this.categories[0];
            this.reportName = reportInfo.name;
            this.$izendaCommonQueryService.getReportSetCategory(this.textUncategorized).then(function (data) {
                _this.categories = [];
                _this.selectedCategory = null;
                _this.reportSets = data.ReportSets;
                // add categories
                // "Create new"
                if (_this.$izendaSettingsService.getCommonSettings().allowCreateNewCategory)
                    _this.categories.push({
                        id: _this.nextId++,
                        name: _this.textCreateNew
                    });
                // "Uncategorized"
                _this.categories.push({
                    id: _this.nextId++,
                    name: _this.textUncategorized
                });
                _this.selectedCategory = _this.getCategoryObjectByName(_this.textUncategorized);
                // Other categories
                if (angular.isArray(_this.reportSets)) {
                    _this.reportSets.forEach(function (report) {
                        var id = _this.nextId++;
                        var currentCategoryName = report.Category;
                        if (!currentCategoryName)
                            currentCategoryName = _this.textUncategorized;
                        currentCategoryName = !report.Subcategory
                            ? currentCategoryName
                            : currentCategoryName + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
                        if (_this.categories && _this.categories.length) {
                            if (!_this.categories.find(function (c) { return c.name === currentCategoryName; })) {
                                // if have't already added
                                var cat = {
                                    id: id,
                                    name: currentCategoryName
                                };
                                _this.categories.push(cat);
                                if (reportInfo.category === currentCategoryName) {
                                    _this.selectedCategory = cat;
                                }
                            }
                        }
                    });
                }
                _this.isSelectDisabled = false;
            });
        };
        /**
         * "Enter" button key press handler for report name <input>
         * @param {event object} $event.
         */
        IzendaSelectReportNameComponent.prototype.reportNameKeyPressed = function ($event) {
            if ($event.keyCode === 13 /* Enter */)
                this.completeHandler();
        };
        /**
         * OK button pressed
         */
        IzendaSelectReportNameComponent.prototype.completeHandler = function () {
            var _this = this;
            this.validateForm().then(function () {
                _this.closeModal();
                var categoryName = _this.isCreatingNewCategory ? _this.newCategoryName : _this.selectedCategory.name;
                if (angular.isFunction(_this.onSelected)) {
                    _this.onSelected({
                        reportName: _this.reportName,
                        categoryName: categoryName
                    });
                }
            }, function () { });
        };
        /**
         * Get report with given name from report list
         * @param {string} report name.
         * @param {Array} list with reports.
         */
        IzendaSelectReportNameComponent.prototype.isReportInReportList = function (reportName, reportList) {
            if (!reportList || !reportList.length)
                return false;
            return reportList.find(function (rs) { return rs.Name === reportName.trim(); });
        };
        /**
         * Set form to it's initial state
         */
        IzendaSelectReportNameComponent.prototype.resetForm = function () {
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.errorMessages = [];
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
            if (this.isNewReportDialog) {
                this.reportName = '';
            }
            else {
                var separatorIndex = (reportInfo && reportInfo.name)
                    ? reportInfo.name.lastIndexOf(this.$izendaSettingsService.getCategoryCharacter())
                    : -1;
                this.reportName = (separatorIndex < 0) ? reportInfo.name : reportInfo.name.substr(separatorIndex + 1);
            }
        };
        /**
         * Clear all focus
         */
        IzendaSelectReportNameComponent.prototype.clearFocus = function () {
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        };
        /**
         * Set focus on report name input
         */
        IzendaSelectReportNameComponent.prototype.setFocus = function () {
            this.isNameFocused = true;
        };
        /**
         * Categories were updated.
         */
        IzendaSelectReportNameComponent.prototype.updateCategoriesHandler = function (newCategories) {
            var _this = this;
            this.categories = newCategories.map(function (newCategoryName) {
                return {
                    id: _this.nextId++,
                    name: newCategoryName
                };
            });
            var selectedCategoryName = this.selectedCategory ? this.selectedCategory.name : null;
            this.selectedCategory = this.getCategoryObjectByName(selectedCategoryName);
        };
        /**
         * Report category selected handler
         */
        IzendaSelectReportNameComponent.prototype.categorySelectedHandler = function (category) {
            if (!this.isCategoryAllowed) {
                this.selectedCategory = this.getCategoryObjectByName(this.textUncategorized);
                return;
            }
            this.selectedCategory = this.getCategoryObjectByName(category);
            if (this.selectedCategory !== null) {
                if (this.selectedCategory.name === this.textCreateNew) {
                    this.isCreatingNewCategory = true;
                    this.clearFocus();
                    this.isCategoryFocused = true;
                }
                else {
                    this.isCreatingNewCategory = false;
                }
            }
            else {
                this.isCreatingNewCategory = false;
            }
        };
        /**
         * Validate form
         */
        IzendaSelectReportNameComponent.prototype.validateForm = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                // check report name not empty
                _this.errorMessages.length = 0;
                _this.reportName = angular.isString(_this.reportName) ? _this.reportName.trim() : '';
                if (!_this.reportName) {
                    _this.errorMessages.push(_this.textErrorReportNameEmpty);
                    reject();
                    return false;
                }
                // check report name is valid
                var settings = _this.$izendaSettingsService.getCommonSettings();
                var reportNameFixed = window.utility.fixReportNamePath(_this.reportName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                if (!reportNameFixed) {
                    _this.errorMessages.push(_this.textErrorInvalidReportName);
                    reject();
                    return false;
                }
                _this.reportName = reportNameFixed;
                // check category
                if (_this.isCreatingNewCategory) {
                    var fixedCategoryName = window.utility.fixReportNamePath(_this.newCategoryName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                    if (!fixedCategoryName) {
                        _this.errorMessages.push(_this.textErrorInvalidCategoryName);
                        reject();
                        return false;
                    }
                    _this.newCategoryName = fixedCategoryName;
                    for (var i = 0; i < _this.categories.length; i++) {
                        if (_this.newCategoryName === _this.categories[i]['name']) {
                            _this.errorMessages.push(_this.getErrorTextCategoryExist(_this.newCategoryName));
                            reject();
                            return false;
                        }
                    }
                    resolve();
                    return true;
                }
                // check report name
                var selectedCategoryName = _this.selectedCategory.name;
                // resolve if it is same report
                var reportInfo = _this.$izendaUrlService.getReportInfo();
                if (reportInfo.name === _this.reportName && reportInfo.category === selectedCategoryName) {
                    _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                        _this.$izendaSettingsService.getCategoryCharacter() +
                        _this.reportName));
                    reject();
                    return false;
                }
                // check report isn't in that category
                if (selectedCategoryName === _this.textUncategorized) {
                    if (_this.isReportInReportList(_this.reportName, _this.reportSets)) {
                        _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                            _this.$izendaSettingsService.getCategoryCharacter() +
                            _this.reportName));
                        reject();
                        return false;
                    }
                    resolve();
                    return true;
                }
                else {
                    _this.$izendaCommonQueryService.getReportSetCategory(selectedCategoryName).then(function (data) {
                        _this.reportSets = data.ReportSets;
                        if (_this.isReportInReportList(_this.reportName, data.ReportSets)) {
                            _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                                _this.$izendaSettingsService.getCategoryCharacter() +
                                _this.reportName));
                            reject();
                            return false;
                        }
                        resolve();
                        return true;
                    });
                }
                return true;
            });
        };
        /**
         * Get category object by it's id
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectById = function (id) {
            return this.categories.find(function (category) { return category.id === id; }) || null;
        };
        /**
         * Get category object by it's name
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectByName = function (name) {
            return this.categories.find(function (category) { return category.name === name; }) || null;
        };
        IzendaSelectReportNameComponent.prototype.getInvalidCharsRegex = function () {
            var additionalCharacter = '';
            if (jsResources.categoryCharacter !== '\\')
                additionalCharacter = jsResources.categoryCharacter.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
            return new RegExp('[^A-Za-z0-9_/' + additionalCharacter + "\\-'' \\\\]", 'g');
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextCategoryExist = function (categoryName) {
            return this.$izendaLocaleService.localeTextWithParams('js_CategoryExist', 'Category with name "{0}" already exist.', [categoryName]);
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextReportExist = function (fullReportName) {
            return this.$izendaLocaleService.localeTextWithParams('js_ReportAlreadyExist', 'Dashboard or report "{0}" already exist', [fullReportName]);
        };
        IzendaSelectReportNameComponent = __decorate([
            izenda_component_6.default(module_definition_20.default, 'izendaSelectReportNameComponent', ['$q', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService', 'izenda.common.ui.reportNameInputPlaceholderText',
                'izenda.common.ui.reportNameEmptyError', 'izenda.common.ui.reportNameInvalidError'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report-name.select-report-name-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_5.default,
                url_service_3.default,
                settings_service_4.default,
                common_query_service_3.default, Array, String, String])
        ], IzendaSelectReportNameComponent);
        return IzendaSelectReportNameComponent;
    }());
    exports.default = IzendaSelectReportNameComponent;
    /**
     * Directive docs.
     */
    var IzendaCategorySelect = /** @class */ (function () {
        function IzendaCategorySelect($izendaSettingsService) {
            this.$izendaSettingsService = $izendaSettingsService;
            this.restrict = 'A';
            this.scope = {
                categories: '=',
                category: '=',
                onSelect: '&',
                onCategoriesChanged: '&'
            };
            IzendaCategorySelect.prototype.link = function ($scope, $element) {
                var categoryCharacter = $izendaSettingsService.getCategoryCharacter();
                var commonSettings = $izendaSettingsService.getCommonSettings();
                var stripInvalidCharacters = commonSettings.stripInvalidCharacters;
                var allowInvalidCharacters = commonSettings.allowInvalidCharacters;
                var categoryControl = new AdHoc.Utility.IzendaCategorySelectorControl($element, categoryCharacter, stripInvalidCharacters, allowInvalidCharacters);
                categoryControl.addSelectedHandler(function (val) {
                    if (angular.isFunction($scope.onSelect)) {
                        $scope.onSelect({
                            val: val
                        });
                        $scope.$applyAsync();
                    }
                });
                // watch for collapsed state change
                $scope.$watchCollection('categories', function () {
                    updateCategories();
                    updateCategory();
                });
                $scope.$watch('category', function () {
                    updateCategory();
                });
                function updateCategories() {
                    var previousLength = $scope.categories.length;
                    categoryControl.setCategories($scope.categories);
                    var newCategories = collectCategories();
                    if (previousLength !== newCategories.length && angular.isFunction($scope.onCategoriesChanged)) {
                        $scope.onCategoriesChanged({
                            newCategories: newCategories
                        });
                        $scope.$applyAsync();
                    }
                }
                function updateCategory() {
                    if (angular.isObject($scope.category) && $scope.category.id !== 1) {
                        categoryControl.select($scope.category.name);
                    }
                }
                function collectCategories() {
                    var options = angular.element.map($element.children('option'), function ($option) {
                        return $option.value;
                    });
                    return options;
                }
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaCategorySelect.factory = function () {
            var directive = function ($izendaSettingsService) { return new IzendaCategorySelect($izendaSettingsService); };
            directive.$inject = ['$izendaSettingsService'];
            return directive;
        };
        return IzendaCategorySelect;
    }());
    module_definition_20.default.directive('izendaCategorySelect', ['$izendaSettingsService', IzendaCategorySelect.factory()]);
    var CategoryObject = /** @class */ (function () {
        function CategoryObject() {
        }
        return CategoryObject;
    }());
});
izendaRequire.define("common/ui/components/share/share-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/ui/services/share-service", "izenda-external-libs"], function (require, exports, module_definition_21, izenda_component_7, localization_service_6, share_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaShareComponent = /** @class */ (function () {
        function IzendaShareComponent($izendaLocaleService, $izendaShareService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaShareService = $izendaShareService;
        }
        /**
         * Check is share rule selected right is valid
         */
        IzendaShareComponent.prototype.getShareRuleValidationMessage = function (shareRule) {
            if (!shareRule.right && !shareRule.subject)
                return this.$izendaLocaleService.localeText('js_NessesarySelectRight', 'It is necessary to choose the right, otherwise it will be ignored.');
            return null;
        };
        /**
         * Remove share rule handler.
         * @param {Core.IzendaShareRuleModel} shareRule
         */
        IzendaShareComponent.prototype.removeShareRule = function (shareRule) {
            this.$izendaShareService.removeShareRule(shareRule);
        };
        /**
         * Add share rule
         */
        IzendaShareComponent.prototype.addShareRule = function () {
            this.$izendaShareService.addNewShareRule();
        };
        IzendaShareComponent = __decorate([
            izenda_component_7.default(module_definition_21.default, 'izendaShareComponent', ['$izendaLocaleService', '$izendaShareService'], {
                templateUrl: '###RS###extres=components.common.ui.components.share.share-template.html',
                bindings: {
                    subjects: '<',
                    rights: '<',
                    shareRules: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_6.default,
                share_service_1.default])
        ], IzendaShareComponent);
        return IzendaShareComponent;
    }());
    exports.default = IzendaShareComponent;
});
izendaRequire.define("common/ui/module", ["require", "exports", "common/ui/module-definition", "common/ui/services/share-service", "common/ui/services/schedule-service", "common/ui/directives/align-switcher", "common/ui/directives/autocomplete", "common/ui/directives/bootstrap", "common/ui/directives/color-picker", "common/ui/directives/datetime-picker", "common/ui/directives/report-viewer", "common/ui/directives/select-checkboxes", "common/ui/directives/splashscreen", "common/ui/directives/switcher", "common/ui/directives/toggle-button", "common/ui/components/schedule/schedule-component", "common/ui/components/select-report/select-report-component", "common/ui/components/select-report-name/select-report-name-component", "common/ui/components/share/share-component"], function (require, exports, module_definition_22, share_service_2, schedule_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    share_service_2.default.register(module_definition_22.default);
    schedule_service_2.default.register(module_definition_22.default);
});
izendaRequire.define("instant-report/models/instant-report-config", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("instant-report/module-definition", ["require", "exports", "angular", "common/ui/module-definition", "common/common-module-definition", "izenda-external-libs", "common/core/module", "common/query/module", "common/ui/module"], function (require, exports, angular, module_definition_23, common_module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // Create instant report angular module
    var izendaInstantReportModule = angular.module('izendaInstantReport', [
        'ngCookies',
        'rx',
        'izenda.common.core',
        'izenda.common.query',
        'izenda.common.ui'
    ]);
    exports.default = izendaInstantReportModule;
    // configure common ui module:
    module_definition_23.default
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_ReportName', 'Report Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    var IzendaInstantReportLoader = /** @class */ (function () {
        function IzendaInstantReportLoader() {
        }
        IzendaInstantReportLoader.configureInstantReportModules = function (instantReportConfig) {
            // configure instant report module
            var module = izendaInstantReportModule
                .config(['$logProvider', function ($logProvider) { return $logProvider.debugEnabled(false); }])
                .config(['$provide', function ($provide) {
                    $provide.decorator('$browser', ['$delegate', function ($delegate) {
                            $delegate.onUrlChange = function () { };
                            $delegate.url = function () { return ''; };
                            return $delegate;
                        }]);
                }])
                .value('$izendaInstantReportSettingsValue', instantReportConfig);
            return module;
        };
        /**
         * Bootstrap angular app:
         * window.urlSettings$ objects should be defined before this moment.
         */
        IzendaInstantReportLoader.bootstrap = function () {
            angular.element(document).ready(function () {
                // common settings promise:
                var commonQuerySettingsPromise = common_module_definition_1.IzendaCommonLoader.loadSettings();
                // instant report settings promise:
                var urlSettings = window.urlSettings$;
                var rsPageUrl = urlSettings.urlRsPage;
                var settingsUrl = rsPageUrl + '?wscmd=getInstantReportSettings';
                var instantReportSettingsPromise = angular.element.get(settingsUrl);
                // wait while all settings are loaded:
                angular.element
                    .when(commonQuerySettingsPromise, instantReportSettingsPromise)
                    .then(function (commonSettingsResult, instantReportSettingsResult) {
                    // get instant report config object
                    var configObject = instantReportSettingsResult[0];
                    configObject.moveUncategorizedToLastPosition = true;
                    // create and configure modules:
                    IzendaInstantReportLoader.configureInstantReportModules(configObject);
                    // bootstrap application:
                    angular.element('#izendaInstantReportRootContainer').removeClass('hidden');
                    angular.bootstrap('#izendaInstantReportRootContainer', ['izendaInstantReport']);
                });
            });
        };
        return IzendaInstantReportLoader;
    }());
    exports.IzendaInstantReportLoader = IzendaInstantReportLoader;
});
izendaRequire.define("instant-report/services/instant-report-query", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda query service which provides dashboard specific queries
     * this is singleton
     */
    var IzendaInstantReportQueryService = /** @class */ (function () {
        function IzendaInstantReportQueryService($q, $http, $window, $izendaLocaleService, $izendaUtilUiService, $izendaUrlService, $izendaSettingsService, $izendaRsQueryService) {
            this.$q = $q;
            this.$http = $http;
            this.$window = $window;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.requestList = [];
        }
        Object.defineProperty(IzendaInstantReportQueryService, "injectModules", {
            get: function () {
                return ['$q', '$http', '$window', '$izendaLocaleService', '$izendaUtilUiService', '$izendaUrlService',
                    '$izendaSettingsService', '$izendaRsQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get type group of field operator
         */
        IzendaInstantReportQueryService.prototype.getFieldFilterOperatorValueType = function (operator) {
            var hiddenOperators = ['Blank', 'NotBlank', 'UsePreviousOR', 'True', 'False'];
            var oneValueOperators = [
                'LessThan', 'GreaterThan', 'LessThanNot', 'GreaterThanNot', 'Equals', 'NotEquals', 'Like',
                'BeginsWith', 'EndsWith', 'NotLike', 'LessThan_DaysOld', 'GreaterThan_DaysOld', 'Equals_DaysOld',
                'LessThan_DaysOld',
                'GreaterThan_DaysOld', 'Equals_DaysOld'
            ];
            var twoValueOperators = ['Between', 'NotBetween'];
            var selectValuesOperators = ['Equals_Select', 'NotEquals_Select'];
            var selectMultipleValuesOperators = ['Equals_Multiple', 'NotEquals_Multiple'];
            var selectPopupValuesOperators = ['EqualsPopup', 'NotEqualsPopup'];
            var selectCheckboxesValuesOperators = ['Equals_CheckBoxes'];
            var selectOneDateOperators = ['EqualsCalendar', 'NotEqualsCalendar'];
            var selectTwoDatesOperators = ['BetweenTwoDates', 'NotBetweenTwoDates'];
            var fieldOperators = ['LessThanField', 'GreaterThanField', 'EqualsField', 'NotEqualsField'];
            var inTimePeriod = ['InTimePeriod'];
            if (!angular.isObject(operator))
                return 'hidden';
            if (!operator.value || hiddenOperators.indexOf(operator.value) >= 0)
                return 'hidden';
            if (oneValueOperators.indexOf(operator.value) >= 0)
                return 'oneValue';
            if (twoValueOperators.indexOf(operator.value) >= 0)
                return 'twoValues';
            if (selectValuesOperators.indexOf(operator.value) >= 0)
                return 'select';
            if (selectMultipleValuesOperators.indexOf(operator.value) >= 0)
                return 'select_multiple';
            if (selectPopupValuesOperators.indexOf(operator.value) >= 0)
                return 'select_popup';
            if (selectCheckboxesValuesOperators.indexOf(operator.value) >= 0)
                return 'select_checkboxes';
            if (selectOneDateOperators.indexOf(operator.value) >= 0)
                return 'oneDate';
            if (selectTwoDatesOperators.indexOf(operator.value) >= 0)
                return 'twoDates';
            if (fieldOperators.indexOf(operator.value) >= 0)
                return 'field';
            if (inTimePeriod.indexOf(operator.value) >= 0) {
                return 'inTimePeriod';
            }
            return operator.value;
        };
        /**
         * Calculate current actual type group for field.
         */
        IzendaInstantReportQueryService.prototype.getCurrentTypeGroup = function (field, dataTypeGroup) {
            var typeGroup;
            if (angular.isDefined(dataTypeGroup)) {
                typeGroup = dataTypeGroup;
            }
            else {
                var expressionType = field.expressionType;
                typeGroup = angular.isObject(expressionType) && expressionType.value !== '...'
                    ? expressionType.value
                    : field.typeGroup;
            }
            return typeGroup;
        };
        /**
         * Get datasources
         */
        IzendaInstantReportQueryService.prototype.getDatasources = function () {
            return this.$izendaRsQueryService.query('getjsonschema', ['lazy'], {
                dataType: 'json'
            }, {
                handler: function () { return 'Failed to get datasources'; },
                params: []
            });
        };
        /**
         * Load field info by given sql column name.
         */
        IzendaInstantReportQueryService.prototype.getFieldsInfo = function (fieldSysName) {
            return this.$izendaRsQueryService.query('getfieldsinfo', [fieldSysName], {
                dataType: 'json'
            }, {
                handler: function (fieldName) { return "Failed to get field info for field " + fieldName; },
                params: [fieldSysName]
            });
        };
        /**
         * Search fields in datasources (returns range of values [from, to])
         */
        IzendaInstantReportQueryService.prototype.findInDatasources = function (searchString, from, to) {
            var params = [encodeURIComponent(searchString)];
            if (angular.isNumber(from) && angular.isNumber(to))
                params = params.concat(String(from), String(to));
            return this.$izendaRsQueryService.query('findfields', params, {
                dataType: 'json'
            }, {
                handler: function (sString) { return "Failed to search fields and tables by keyword: " + sString; },
                params: [searchString]
            });
        };
        /**
         * Load report json config
         */
        IzendaInstantReportQueryService.prototype.loadReport = function (reportFullName) {
            return this.$izendaRsQueryService.apiQuery('loadReportSetConfigJson', [reportFullName]);
        };
        /**
         * Cancel all running preview queries. All queries will be rejected.
         */
        IzendaInstantReportQueryService.prototype.cancelAllPreviewQueries = function () {
            for (var i = 0; i < this.requestList.length; i++) {
                var request = this.requestList[i];
                request.canceller.resolve('Cancelled!');
            }
            this.requestList = [];
        };
        ;
        /**
         * Run reportSet preview request. If request R2 have come earlier that request R1 - R1 request cancels.
         */
        IzendaInstantReportQueryService.prototype.getReportSetPreviewQueued = function (reportSetConfig) {
            var _this = this;
            this.cancelAllPreviewQueries();
            // prepare params
            var paramsArray = [
                'iic=1',
                'urlencoded=true',
                'wscmd=getNewReportSetPreviewFromJson',
                "wsarg0=" + encodeURIComponent(JSON.stringify(reportSetConfig))
            ];
            if (typeof (window.izendaPageId$) !== 'undefined')
                paramsArray.push("izpid=" + window.izendaPageId$);
            if (typeof (window.angularPageId$) !== 'undefined')
                paramsArray.push("anpid=" + window.angularPageId$);
            var rnParamValue = (reportSetConfig.reportCategory
                ? reportSetConfig.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + reportSetConfig.reportName
                : reportSetConfig.reportName);
            var resolver = this.$q.defer();
            var canceller = this.$q.defer();
            var req = {
                method: 'POST',
                url: this.$izendaUrlService.settings.urlRsPage,
                params: { 'rnalt': rnParamValue },
                timeout: canceller.promise,
                dataType: 'text',
                data: paramsArray.join('&'),
                headers: {
                    'Content-Type': 'text/html'
                }
            };
            // add request to current requests list
            this.requestList.push({
                canceller: canceller,
                resolver: resolver
            });
            var requestPromise = this.$http(req);
            requestPromise
                .then(function (response) { return resolver.resolve(response.data); }, function (response) {
                if (response.config.timeout.$$state.value !== 'Cancelled!') {
                    //handle errors:
                    var errorText = _this.$izendaLocaleService.localeText('js_FailedToLoadPreview', 'Failed to load preview.');
                    _this.$izendaUtilUiService.showErrorDialog(errorText);
                    resolver.reject(response.data);
                }
            });
            return resolver.promise;
        };
        /**
         * Create report set from json and save it.
         */
        IzendaInstantReportQueryService.prototype.saveReportSet = function (reportSetConfig) {
            var paramsString = JSON.stringify(reportSetConfig);
            return this.$izendaRsQueryService.apiQuery('saveReportSetNew', [paramsString]);
        };
        /**
         * Create report set from json and set it as CurrentReportSet.
         */
        IzendaInstantReportQueryService.prototype.setReportAsCrs = function (reportSetConfig) {
            var paramsString = JSON.stringify(reportSetConfig);
            return this.$izendaRsQueryService.query('setReportSetFromJsonToCrs', [paramsString], {
                dataType: 'text',
                headers: {
                    'Content-Type': 'text/html'
                },
                method: 'POST'
            }, {
                handler: function () { return 'Failed to set current report as CurrentReportSet'; }
            });
        };
        ;
        /**
         * Open window for print.
         */
        IzendaInstantReportQueryService.prototype.openPrintWindow = function (parameters, resolve) {
            // open html print window
            var form = document.createElement('form');
            form.action = this.$izendaUrlService.settings.urlRsPage;
            form.method = 'POST';
            // set custom (our) window as target window
            form.target = 'form-target';
            if (parameters) {
                for (var key in parameters) {
                    if (parameters.hasOwnProperty(key)) {
                        var input = document.createElement('textarea');
                        input.name = key;
                        input.value = typeof parameters[key] === 'object'
                            ? JSON.stringify(parameters[key])
                            : parameters[key];
                        form.appendChild(input);
                    }
                }
            }
            form.style.display = 'none';
            document.body.appendChild(form);
            // open window for form and submit for into that window
            var formWindow = window.open('', 'form-target', '');
            form.submit();
            // workaround for webkit ajax request block
            if ('WebkitAppearance' in document.documentElement.style) {
                var intervalId = setInterval(function () {
                    if (!formWindow || formWindow.closed) {
                        clearInterval(intervalId);
                        intervalId = null;
                        resolve();
                    }
                }, 500);
            }
            else
                resolve();
        };
        /**
         * Open url in new window.
         */
        IzendaInstantReportQueryService.prototype.exportReportInNewWindow = function (reportSetToSend, exportType) {
            var _this = this;
            return this.$q(function (resolve) {
                // create url for export
                var urlParams = {
                    'wscmd': exportType === 'print' ? 'printReportSet' : 'exportReportSet',
                    'wsarg0': JSON.stringify(reportSetToSend),
                    'wsarg1': exportType
                };
                if (typeof (_this.$window.izendaPageId$) !== 'undefined')
                    urlParams['izpid'] = _this.$window.izendaPageId$;
                if (exportType !== 'print') {
                    // export file
                    _this.$izendaRsQueryService.downloadFileRequest('POST', _this.$izendaUrlService.settings.urlRsPage, urlParams)
                        .then(function () {
                        resolve();
                    });
                }
                else {
                    // print html
                    _this.openPrintWindow(urlParams, resolve);
                }
            });
        };
        IzendaInstantReportQueryService.prototype.getVisualizationConfig = function () {
            return this.$izendaRsQueryService.query('getVisualizationConfig', [], {
                dataType: 'json'
            }, {
                handler: function () { return 'Failed to get visualizations config'; }
            });
        };
        /**
         * Get list of constraints
         */
        IzendaInstantReportQueryService.prototype.getConstraintsInfo = function () {
            return this.$izendaRsQueryService.query('getconstraintslist', [], {
                dataType: 'json'
            }, {
                handler: function () { return 'Failed to get constraints info'; }
            });
        };
        IzendaInstantReportQueryService.prototype.getFieldFunctions = function (field, functionPurpose) {
            if (!angular.isObject(field))
                throw 'Field should be object';
            var parameters = null;
            var typeGroup = this.getCurrentTypeGroup(field);
            if (functionPurpose === 'subtotal') {
                // available functions for subtotals
                parameters = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'FunctionList',
                    'type': field.sqlType,
                    'typeGroup': typeGroup,
                    'includeBlank': 'true',
                    'includeGroupBy': 'false',
                    'forSubtotals': 'true',
                    'extraFunction': 'false',
                    'forDundasMap': 'false',
                    'onlyNumericResults': 'false',
                    'resultType': 'json'
                };
            }
            else if (functionPurpose === 'field') {
                // available functions for column
                parameters = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'FunctionList',
                    'type': field.sqlType,
                    'typeGroup': typeGroup,
                    'includeBlank': 'true',
                    'includeGroupBy': 'true',
                    'forSubtotals': 'false',
                    'extraFunction': 'false',
                    'forDundasMap': 'false',
                    'onlyNumericResults': 'false',
                    'resultType': 'json'
                };
            }
            else if (functionPurpose === 'pivotField') {
                parameters = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'FunctionList',
                    'type': field.sqlType,
                    'typeGroup': typeGroup,
                    'includeBlank': 'true',
                    'includeGroupBy': 'true',
                    'forSubtotals': 'false',
                    'extraFunction': 'true',
                    'forDundasMap': 'false',
                    'onlyNumericResults': 'false',
                    'resultType': 'json'
                };
            }
            return this.$izendaRsQueryService.rsQuery(parameters, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (fieldParam) { return "Failed to get function list info for field " + fieldParam.sysname; },
                params: [field]
            });
        };
        IzendaInstantReportQueryService.prototype.getPeriodList = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'PeriodList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get period list.'; },
                params: []
            });
        };
        ;
        IzendaInstantReportQueryService.prototype.getExistentPopupValuesList = function (field, table) {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'ExistentPopupValuesList',
                'columnName': field.sysname,
                'tbl0': table.sysname,
                'ta0': '',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get custom popups styles.'; },
                params: []
            });
        };
        ;
        IzendaInstantReportQueryService.prototype.getDrillDownStyles = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'DrillDownStyleList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get drilldown styles.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getExpressionTypes = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'ExpressionTypeList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get expression types.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getSubreports = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'SubreportsList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get subreports.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getVgStyles = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'VgStyleList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get available visual group styles.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getFieldFormats = function (field, dataTypeGroup) {
            if (!angular.isObject(field))
                throw 'Field should be object';
            var typeGroup = this.getCurrentTypeGroup(field, dataTypeGroup);
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'FormatList',
                'typeGroup': typeGroup,
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (fieldParam) { return "Failed to get format list info for field " + fieldParam.sysname; },
                params: [field]
            });
        };
        IzendaInstantReportQueryService.prototype.getFilterFormats = function (filter) {
            if (!angular.isObject(filter) || !angular.isObject(filter.field))
                throw 'filter and filter.field should be objects.';
            var typeGroup = this.getCurrentTypeGroup(filter.field);
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'FormatList',
                'typeGroup': typeGroup,
                'onlySimple': 'true',
                'forceSimple': 'true',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (filterParam) { return "Failed to get format list info for filter " + filterParam.field.sysname; },
                params: [filter]
            });
        };
        IzendaInstantReportQueryService.prototype.getFieldOperatorList = function (field, tablesString, dataTypeGroup) {
            if (!angular.isObject(field))
                throw 'Field should be object.';
            var typeGroup = this.getCurrentTypeGroup(field, dataTypeGroup);
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'OperatorList',
                'typeGroup': typeGroup,
                'tables': tablesString,
                'colFullName': field.sysname,
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (fieldParam) { return "Failed to get operator list for field " + fieldParam.sysname; },
                params: [field]
            });
        };
        IzendaInstantReportQueryService.prototype.getExistentValuesList = function (tables, constraintFilters, filter, simpleJoins, filterLogic) {
            var _this = this;
            if (filter.field === null || !angular.isString(filter.field.sysname))
                throw 'filter field sysname should be defined.';
            if (!angular.isArray(tables))
                throw 'tables should be array';
            // create base query params
            var queryParams = {
                'cmd': 'GetOptionsByPath',
                'p': 'ExistentValuesList',
                'columnName': filter.field.sysname,
                'resultType': 'json'
            };
            if (angular.isString(filter.possibleValue)) {
                queryParams['possibleValue'] = filter.possibleValue.replace('&', '%26');
            }
            // add constraint filters params
            var counter = 0;
            if (constraintFilters)
                constraintFilters.forEach(function (constraintFilter) {
                    var constraintFilterOperatorValue = constraintFilter && constraintFilter.operator ? constraintFilter.operator.value : '';
                    if (constraintFilter.field !== null && angular.isObject(constraintFilter.operator)
                        && constraintFilterOperatorValue !== '' && angular.isArray(constraintFilter.values)
                        && constraintFilter.values.length > 0) {
                        var constraintParamPart = {};
                        constraintParamPart["fc" + counter] = constraintFilter.field.sysname;
                        constraintParamPart["fo" + counter] = constraintFilterOperatorValue;
                        var constraintOperatorType = _this.getFieldFilterOperatorValueType(constraintFilter.operator);
                        if (constraintOperatorType === 'twoValues') {
                            constraintParamPart["fvl" + counter] = constraintFilter.values[0];
                            constraintParamPart["fvr" + counter] = constraintFilter.values[1];
                        }
                        else if (constraintOperatorType === 'twoDates') {
                            constraintParamPart["fvl" + counter] = moment(constraintFilter.values[0]).format(_this.$izendaSettingsService.getDateFormat().shortDate);
                            constraintParamPart["fvr" + counter] = moment(constraintFilter.values[1]).format(_this.$izendaSettingsService.getDateFormat().shortDate);
                        }
                        else if (constraintOperatorType === 'oneDate') {
                            constraintParamPart["fvl" + counter] = moment(constraintFilter.values[0]).format(_this.$izendaSettingsService.getDateFormat().shortDate);
                        }
                        else if (constraintOperatorType === 'field') {
                            var val = angular.isObject(constraintFilter.values[0])
                                ? constraintFilter.values[0].sysname
                                : '';
                            constraintParamPart["fvl" + counter] = val;
                        }
                        else {
                            constraintParamPart["fvl" + counter] = constraintFilter.values.join(',');
                        }
                        angular.extend(queryParams, constraintParamPart);
                        counter++;
                    }
                });
            if (simpleJoins) {
                // create tablenames
                var tableNames = tables.map(function (x) { return x.sysname; });
                queryParams['tbl0'] = tableNames.join('\'');
                if (angular.isString(filterLogic) && filterLogic.trim() !== '') {
                    queryParams['filterLogic'] = filterLogic;
                }
                // run query
                return this.$izendaRsQueryService.rsQuery(queryParams, {
                    'dataType': 'json',
                    cache: true
                }, {
                    handler: function (tablesParam, fieldParam) { return "Failed to existent values list list for tables " + tablesParam + " and field " + fieldParam; },
                    params: [tableNames.join(','), filter.field.sysname]
                });
            }
            else {
                // Custom joins request:
                /*
                cmd:GetOptionsByPath
                p:ExistentValuesList
                columnName:[dbo].[Categories].[CategoryID]
                tbl0:[dbo].[Categories]
                ta0:
                tbl1:[dbo].[Invoices]
                ta1:
                lclm1:[dbo].[Invoices].[OrderID]
                rclm1:[dbo].[Categories].[CategoryID]
                jn1:INNER
                */
                throw 'Custom joins hasn\'t implemented yet';
            }
        };
        Object.defineProperty(IzendaInstantReportQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportQueryService.register = function (module) {
            module.service('$izendaInstantReportQueryService', IzendaInstantReportQueryService.injectModules.concat(IzendaInstantReportQueryService));
        };
        return IzendaInstantReportQueryService;
    }());
    exports.default = IzendaInstantReportQueryService;
});
izendaRequire.define("instant-report/models/instant-report-pivot-config", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportDefaultPivotConfig = /** @class */ (function () {
        function IzendaInstantReportDefaultPivotConfig() {
            this.pivotColumn = null;
            this.cellValues = [];
            this.options = {
                addSideTotals: false
            };
        }
        IzendaInstantReportDefaultPivotConfig.fromObject = function (object) {
            var result = new IzendaInstantReportDefaultPivotConfig();
            result.pivotColumn = object.pivotColumn;
            result.cellValues = object.cellValues;
            result.options = {
                addSideTotals: object.options.addSideTotals
            };
            return result;
        };
        IzendaInstantReportDefaultPivotConfig.prototype.clone = function () {
            var result = new IzendaInstantReportDefaultPivotConfig();
            result.pivotColumn = this.pivotColumn;
            result.cellValues = new Array(this.cellValues);
            result.options = { addSideTotals: this.options ? this.options.addSideTotals : false };
            return result;
        };
        return IzendaInstantReportDefaultPivotConfig;
    }());
    exports.default = IzendaInstantReportDefaultPivotConfig;
});
izendaRequire.define("instant-report/services/instant-report-pivot", ["require", "exports", "angular", "instant-report/models/instant-report-pivot-config", "izenda-external-libs"], function (require, exports, angular, instant_report_pivot_config_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Pivot storage service
     */
    var IzendaInstantReportPivotService = /** @class */ (function () {
        function IzendaInstantReportPivotService($injector, $q, $izendaUtilService) {
            this.$injector = $injector;
            this.$q = $q;
            this.$izendaUtilService = $izendaUtilService;
            var defaultConfig = this.$injector.get(IzendaInstantReportPivotService.$izendaInstantReportPivotsDefaultConfigName);
            this.pivotConfig = instant_report_pivot_config_1.default.fromObject(defaultConfig);
            this.pivotsPanelOpened = false;
        }
        Object.defineProperty(IzendaInstantReportPivotService, "injectModules", {
            get: function () {
                return ['$injector', '$q', '$izendaUtilService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get pivot column field wrapper
         */
        IzendaInstantReportPivotService.prototype.getPivotColumn = function () {
            return this.pivotConfig.pivotColumn;
        };
        /**
         * Set pivot column
         */
        IzendaInstantReportPivotService.prototype.setPivotColumn = function (value) {
            this.pivotConfig.pivotColumn = value;
        };
        /**
         * Set default group for pivot column.
         */
        IzendaInstantReportPivotService.prototype.setDefaultGroup = function () {
            if (!angular.isObject(this.pivotConfig.pivotColumn))
                return;
            if (!this.pivotConfig.pivotColumn.groupByFunction)
                this.pivotConfig.pivotColumn.groupByFunction = this.$izendaUtilService.getOptionByValue(this.pivotConfig.pivotColumn.groupByFunctionOptions, 'GROUP', true);
        };
        /**
         * Clear pivots
         */
        IzendaInstantReportPivotService.prototype.removePivots = function () {
            this.pivotConfig.pivotColumn = null;
            this.pivotConfig.cellValues = [];
            this.pivotConfig.options.addSideTotals = false;
        };
        /**
         * Get pivot options object
         */
        IzendaInstantReportPivotService.prototype.getPivotOptions = function () {
            return this.pivotConfig.options;
        };
        /**
         * Get pivots panel state
         */
        IzendaInstantReportPivotService.prototype.getPivotsPanelOpened = function () {
            return this.pivotsPanelOpened;
        };
        /**
         * Set pivots panel state
         */
        IzendaInstantReportPivotService.prototype.setPivotsPanelOpened = function (value) {
            this.pivotsPanelOpened = value;
        };
        /////////////////////////////////////////
        // cell value functions
        /////////////////////////////////////////
        /**
         * Get pivot fields wrappers
         */
        IzendaInstantReportPivotService.prototype.getCellValues = function () {
            return this.pivotConfig.cellValues;
        };
        /**
         * Check is pivot added and valid.
         * @returns {boolean} is valid
         */
        IzendaInstantReportPivotService.prototype.isPivotValid = function () {
            return angular.isObject(this.pivotConfig.pivotColumn) && this.pivotConfig.cellValues.length > 0;
        };
        /**
         * Add cell value field
         */
        IzendaInstantReportPivotService.prototype.addCellValue = function () {
            this.pivotConfig.cellValues.push(null);
        };
        /**
         * Remove cell value
         */
        IzendaInstantReportPivotService.prototype.removeCellValue = function (cellValue) {
            var cellValues = this.pivotConfig.cellValues;
            var idx = cellValues.indexOf(cellValue);
            if (idx >= 0) {
                cellValues.splice(idx, 1);
            }
        };
        /**
         * Replace cell values by each other
         */
        IzendaInstantReportPivotService.prototype.swapCellValues = function (fromIndex, toIndex) {
            var cellValues = this.pivotConfig.cellValues;
            var temp = cellValues[fromIndex];
            cellValues[fromIndex] = cellValues[toIndex];
            cellValues[toIndex] = temp;
        };
        /**
         * Move cell value to position
         */
        IzendaInstantReportPivotService.prototype.moveCellValueTo = function (fromIndex, toIndex) {
            var cellValues = this.pivotConfig.cellValues;
            cellValues.splice(toIndex, 0, cellValues.splice(fromIndex, 1)[0]);
        };
        /**
         * Set cell value field, update available groups, formats, etc...
         */
        IzendaInstantReportPivotService.prototype.setCellValueField = function (index, newField) {
            this.pivotConfig.cellValues[index] = newField;
        };
        /**
         * Add pivot column or cell if pivot column already defined
         */
        IzendaInstantReportPivotService.prototype.addPivotItem = function (fieldCopy) {
            if (!angular.isObject(this.pivotConfig.pivotColumn)) {
                this.pivotConfig.pivotColumn = fieldCopy;
            }
            else {
                this.pivotConfig.cellValues.push(fieldCopy);
            }
        };
        /**
         * Synchronizes pivot
         */
        IzendaInstantReportPivotService.prototype.syncPivotState = function (activeFieldsInActiveTables) {
            this.removeNotActiveFields(activeFieldsInActiveTables);
        };
        /**
         * Remove pivot column and pivot cell if corresponging fields are no
         * longer available.
         * @param {array} array of currently active fields.
         */
        IzendaInstantReportPivotService.prototype.removeNotActiveFields = function (activeFieldsInActiveTables) {
            var isFieldInList = function (field, fieldList) { return fieldList && fieldList.some(function (f) { return f.sysname === field.sysname; }); };
            if (this.pivotConfig.pivotColumn && !isFieldInList(this.pivotConfig.pivotColumn, activeFieldsInActiveTables))
                this.pivotConfig.pivotColumn = null;
            this.pivotConfig.cellValues = this.pivotConfig.cellValues.filter(function (cv) { return isFieldInList(cv, activeFieldsInActiveTables); });
        };
        /////////////////////////////////////////
        // data
        /////////////////////////////////////////
        /**
         * Prepare pivots for send
         */
        IzendaInstantReportPivotService.prototype.getPivotDataForSend = function () {
            return this.pivotConfig.pivotColumn ? this.pivotConfig : null;
        };
        /**
         * Load pivot
         */
        IzendaInstantReportPivotService.prototype.loadPivotData = function (pivotData) {
            this.pivotConfig = pivotData;
            return this.$q(function (resolve) { return resolve(); });
        };
        Object.defineProperty(IzendaInstantReportPivotService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportPivotService.register = function (module) {
            module
                .value(IzendaInstantReportPivotService.$izendaInstantReportPivotsDefaultConfigName, {
                pivotColumn: null,
                cellValues: [],
                options: {
                    addSideTotals: false
                }
            })
                .service('$izendaInstantReportPivotService', IzendaInstantReportPivotService.injectModules.concat(IzendaInstantReportPivotService));
        };
        IzendaInstantReportPivotService.$izendaInstantReportPivotsDefaultConfigName = '$izendaInstantReportPivotsDefaultConfig';
        return IzendaInstantReportPivotService;
    }());
    exports.default = IzendaInstantReportPivotService;
});
izendaRequire.define("instant-report/services/instant-report-settings", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report settings service.
     */
    var IzendaInstantReportSettingsService = /** @class */ (function () {
        function IzendaInstantReportSettingsService($injector, $izendaRsQueryService) {
            var _this = this;
            this.$injector = $injector;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.settingsObject = null;
            // first try to get settings object if it have been already loaded
            this.settingsObject = this.$injector.get('$izendaInstantReportSettingsValue');
            if (!angular.isObject(this.settingsObject))
                // if not loaded - load now.
                this.loadInstantReportSettings().then(function (resultObject) {
                    _this.settingsObject = resultObject;
                });
        }
        Object.defineProperty(IzendaInstantReportSettingsService, "injectModules", {
            get: function () {
                return ['$injector', '$izendaRsQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get instant report settings from server.
         */
        IzendaInstantReportSettingsService.prototype.loadInstantReportSettings = function () {
            return this.$izendaRsQueryService.query('getInstantReportSettings', [], {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get instant report settings'; },
                params: []
            });
        };
        /**
         * Settings getter
         */
        IzendaInstantReportSettingsService.prototype.getSettings = function () {
            return this.settingsObject;
        };
        Object.defineProperty(IzendaInstantReportSettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportSettingsService.register = function (module) {
            module.service('$izendaInstantReportSettingsService', IzendaInstantReportSettingsService.injectModules.concat(IzendaInstantReportSettingsService));
        };
        return IzendaInstantReportSettingsService;
    }());
    exports.default = IzendaInstantReportSettingsService;
});
izendaRequire.define("instant-report/services/instant-report-visualization", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report chart service. Contains charts data and its functions.
     */
    var IzendaInstantReportVisualizationService = /** @class */ (function () {
        function IzendaInstantReportVisualizationService($q, $izendaInstantReportQueryService) {
            this.$q = $q;
            this.$izendaInstantReportQueryService = $izendaInstantReportQueryService;
            this.visConfig = this.createDefaultConfig();
        }
        Object.defineProperty(IzendaInstantReportVisualizationService, "injectModules", {
            get: function () {
                return ['$q', '$izendaInstantReportQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create default config object
         */
        IzendaInstantReportVisualizationService.prototype.createDefaultConfig = function () {
            return {
                categories: []
            };
        };
        /**
         * Get current config.
         */
        IzendaInstantReportVisualizationService.prototype.getVisualizationConfig = function () {
            return this.visConfig;
        };
        /**
         * Load visualizations. Designed as async operation for future async config loading.
         * @returns {promise object}.
         */
        IzendaInstantReportVisualizationService.prototype.loadVisualizations = function () {
            var _this = this;
            this.visConfig = this.createDefaultConfig();
            return this.$q(function (resolve) {
                // run query:
                _this.$izendaInstantReportQueryService.getVisualizationConfig().then(function (config) {
                    if (!angular.isObject(config) || !angular.isArray(config.categories)) {
                        resolve();
                        return;
                    }
                    // set config:
                    _this.visConfig = config;
                    // add category name to each visualization object:
                    _this.visConfig.categories
                        .filter(function (c) { return !!c.charts; })
                        .forEach(function (c) { return c.charts.forEach(function (chart) { return chart.categoryName = c.name; }); });
                    resolve();
                });
            });
        };
        /**
         * Find visualization object by given name and category.
         * @param {string} category.
         * @param {string} name.
         * @returns {object} visualization object.
         */
        IzendaInstantReportVisualizationService.prototype.findVisualization = function (category, name) {
            var result = null;
            this.visConfig.categories
                .filter(function (c) { return c.name === category; })
                .forEach(function (c) {
                var charts = c.charts.filter(function (ch) { return ch.name === name; });
                if (charts && charts.length)
                    result = charts[0];
            });
            return result;
        };
        Object.defineProperty(IzendaInstantReportVisualizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportVisualizationService.register = function (module) {
            module.service('$izendaInstantReportVisualizationService', IzendaInstantReportVisualizationService.injectModules.concat(IzendaInstantReportVisualizationService));
        };
        return IzendaInstantReportVisualizationService;
    }());
    exports.default = IzendaInstantReportVisualizationService;
});
izendaRequire.define("common/core/tools/izenda-linq", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLinq;
    (function (IzendaLinq) {
        Array.prototype.firstOrDefault = function (predicate) {
            return this.reduce(function (accumulator, currentValue) {
                if (!accumulator && predicate(currentValue))
                    accumulator = currentValue;
                return accumulator;
            }, null);
        };
        Array.prototype.pushAll = function (collection) {
            var _this = this;
            if (collection === null)
                return this;
            collection.forEach(function (t) { return _this.push(t); });
            return this;
        };
        Array.prototype.firstOrDefaultInInner = function (innerObjectKey, innerObjectPredicate) {
            for (var i = 0; i < this.length; i++) {
                var parentObject = this[i];
                if (!parentObject.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + parentObject;
                var innerObject = parentObject[innerObjectKey];
                if (innerObject && innerObject instanceof Array) {
                    var foundInner = innerObject.firstOrDefault(innerObjectPredicate);
                    if (foundInner)
                        return foundInner;
                }
            }
            return null;
        };
        Array.prototype.filterInInner = function (innerObjectKey, innerObjectPredicate) {
            return this.reduce(function (result, currentTopLevel) {
                if (!currentTopLevel.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + currentTopLevel;
                var inner = currentTopLevel[innerObjectKey];
                if (inner && inner instanceof Array)
                    return result.concat(inner.filter(innerObjectPredicate));
                return result;
            }, []);
        };
    })(IzendaLinq = exports.IzendaLinq || (exports.IzendaLinq = {}));
});
izendaRequire.define("instant-report/services/instant-report-storage", ["require", "exports", "angular", "izenda-external-libs", "common/core/tools/izenda-linq"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportStorageService = /** @class */ (function () {
        function IzendaInstantReportStorageService($injector, $window, $q, $log, $rootScope, $izendaUtilUiService, $izendaUtilService, $izendaUrlService, $izendaLocaleService, $izendaSettingsService, $izendaCompatibilityService, $izendaScheduleService, $izendaShareService, $izendaInstantReportSettingsService, $izendaInstantReportQueryService, $izendaInstantReportPivotService, $izendaInstantReportVisualizationService) {
            this.$injector = $injector;
            this.$window = $window;
            this.$q = $q;
            this.$log = $log;
            this.$rootScope = $rootScope;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
            this.$izendaInstantReportSettingsService = $izendaInstantReportSettingsService;
            this.$izendaInstantReportQueryService = $izendaInstantReportQueryService;
            this.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            this.$izendaInstantReportVisualizationService = $izendaInstantReportVisualizationService;
            // const:
            this.emptyFieldGroupOption = $injector.get('izendaDefaultFunctionObject');
            this.emptySubtotalFieldGroupOptions = $injector.get('izendaDefaultSubtotalFunctionObject');
            this.emptyExpressionType = {
                value: '...',
                text: '...'
            };
            this.emptyFieldFormatOption = $injector.get('izendaDefaultFormatObject');
            this.isPageInitialized = false;
            this.isPageReady = false;
            this.existingReportLoadingSchedule = null;
            this.newReportLoadingSchedule = null;
            this.isPreviewSplashVisible = false;
            this.previewSplashText = $izendaLocaleService.localeText('js_WaitPreviewLoading', 'Please wait while preview is loading...');
            this.reportSet = angular.merge({}, $injector.get('izendaInstantReportObjectDefaults'));
            this.reportSet.options.distinct = $izendaInstantReportSettingsService.getSettings().distinct; // set default distinct setting value
            this.restoreDefaultColors(); // set default report colors
            this.activeTables = [];
            this.activeFields = [];
            this.calcFields = [];
            this.activeCheckedFields = [];
            this.constraints = [];
            this.vgStyles = null;
            this.drillDownStyles = null;
            this.expressionTypes = null;
            this.subreports = null;
            this.currentActiveField = null;
            this.uiPanelsState = {
                filtersPanelOpened: false
            };
            this.nextId = 1;
            this.orderCounter = 1;
            this.previewHtml = '';
            this.initialize();
        }
        Object.defineProperty(IzendaInstantReportStorageService, "injectModules", {
            get: function () {
                return [
                    '$injector',
                    '$window',
                    '$q',
                    '$log',
                    '$rootScope',
                    '$izendaUtilUiService',
                    '$izendaUtilService',
                    '$izendaUrlService',
                    '$izendaLocaleService',
                    '$izendaSettingsService',
                    '$izendaCompatibilityService',
                    '$izendaScheduleService',
                    '$izendaShareService',
                    '$izendaInstantReportSettingsService',
                    '$izendaInstantReportQueryService',
                    '$izendaInstantReportPivotService',
                    '$izendaInstantReportVisualizationService'
                ];
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportStorageService.prototype.initialize = function () {
            var _this = this;
            // initialize:
            this.$log.debug('Start instant report initialize');
            this.isPageInitialized = false;
            this.isPageReady = false;
            var startInitializingTimestamp = (new Date()).getTime();
            this.$q.all([this.loadDataSources(), this.initializeVgStyles(), this.initializeSubreports(), this.initializeDrillDownStyles(),
                this.initializeExpressionTypes(), this.$izendaInstantReportVisualizationService.loadVisualizations()]).then(function () {
                _this.isPageInitialized = true;
                if (angular.isString(_this.existingReportLoadingSchedule)) {
                    // existing report
                    _this.$log.debug('Start loading scheduled report', _this.existingReportLoadingSchedule);
                    _this.loadReport(_this.existingReportLoadingSchedule).then(function () {
                        _this.$log.debug('End loading scheduled report');
                        _this.existingReportLoadingSchedule = null;
                        _this.isPageReady = true;
                        _this.$rootScope.$applyAsync();
                        _this.$log.debug('Page ready: ', (new Date()).getTime() - startInitializingTimestamp + "ms");
                    });
                }
                else if (angular.isString(_this.newReportLoadingSchedule)) {
                    // new report
                    _this.$log.debug('Start creating new report');
                    _this.newReport().then(function () {
                        _this.$log.debug('End creating new report');
                        _this.newReportLoadingSchedule = null;
                        _this.isPageReady = true;
                        _this.$rootScope.$applyAsync();
                        _this.$log.debug('Page ready: ', (new Date()).getTime() - startInitializingTimestamp + "ms");
                    });
                }
                else {
                    // default
                    _this.isPageReady = true;
                    _this.$log.debug('Page ready: ', (new Date()).getTime() - startInitializingTimestamp + "ms");
                }
            });
        };
        /////////////////////////////////////////
        // common functions
        /////////////////////////////////////////
        /**
         * Get type group of field operator
         */
        IzendaInstantReportStorageService.prototype.getFieldFilterOperatorValueType = function (operator) {
            return this.$izendaInstantReportQueryService.getFieldFilterOperatorValueType(operator);
        };
        IzendaInstantReportStorageService.prototype.getReportSetFullName = function () {
            var category = this.reportSet.reportCategory;
            var name = this.reportSet.reportName;
            if (!angular.isString(name) || name.trim() === '')
                return null;
            var result = '';
            if (!this.$izendaUtilService.isUncategorized(category)) {
                result += category + this.$izendaSettingsService.getCategoryCharacter();
            }
            result += name;
            return result;
        };
        IzendaInstantReportStorageService.prototype.getNextId = function () {
            return this.nextId++;
        };
        IzendaInstantReportStorageService.prototype.guid = function () {
            function s4() {
                return Math.floor((1 + Math.random()) * 0x10000)
                    .toString(16)
                    .substring(1);
            }
            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
                s4() + '-' + s4() + s4() + s4();
        };
        IzendaInstantReportStorageService.prototype.getNextOrder = function () {
            return this.orderCounter++;
        };
        /**
         * Becomes true when page is ready to work
         */
        IzendaInstantReportStorageService.prototype.getPageReady = function () {
            return this.isPageReady;
        };
        /**
         * Get whole report set
         */
        IzendaInstantReportStorageService.prototype.getReportSet = function () {
            return this.reportSet;
        };
        /**
         * Get datasources
         */
        IzendaInstantReportStorageService.prototype.getDataSources = function () {
            return this.reportSet.dataSources;
        };
        /**
         * Set datasources
         */
        IzendaInstantReportStorageService.prototype.setDataSources = function (dataSources) {
            if (!angular.isArray(dataSources))
                throw '"dataSources" parameter should be array.';
            this.reportSet.dataSources = dataSources;
        };
        /**
         * Get filters reference
         */
        IzendaInstantReportStorageService.prototype.getFilters = function () {
            return this.reportSet.filters;
        };
        /**
         * Get report set options
         */
        IzendaInstantReportStorageService.prototype.getOptions = function () {
            return this.reportSet.options;
        };
        /**
         * Get drilldown fields
         */
        IzendaInstantReportStorageService.prototype.getDrillDownFields = function () {
            return this.reportSet.drillDownFields;
        };
        /**
         * Get filter options
         */
        IzendaInstantReportStorageService.prototype.getFilterOptions = function () {
            return this.reportSet.filterOptions;
        };
        /**
         * Get preview html
         */
        IzendaInstantReportStorageService.prototype.getPreview = function () {
            return this.previewHtml;
        };
        /**
         * Parse and set constraints
         */
        IzendaInstantReportStorageService.prototype.setConstraints = function (constraintsData) {
            this.constraints = constraintsData.Data;
        };
        /**
         * Find category by given id
         */
        IzendaInstantReportStorageService.prototype.getCategoryById = function (id) {
            var i = 0;
            var datasources = this.getDataSources();
            while (i < datasources.length) {
                var datasource = datasources[i];
                if (datasource.id === id)
                    return datasource;
                i++;
            }
            return null;
        };
        /**
         * Find first table by property value.
         */
        IzendaInstantReportStorageService.prototype.getTableByProperty = function (propertyName, value, caseIndependent) {
            if (angular.isUndefined(propertyName))
                throw 'propertyName parameter should be set.';
            var datasources = this.getDataSources();
            for (var i = 0; i < datasources.length; i++) {
                var category = datasources[i];
                for (var j = 0; j < category.tables.length; j++) {
                    var table = category.tables[j];
                    if (!table.hasOwnProperty(propertyName))
                        throw 'Table don\'t have property ' + propertyName;
                    var propertyValue = table[propertyName];
                    var compareValue = value;
                    if (propertyValue && caseIndependent)
                        propertyValue = (propertyValue + '').toLowerCase();
                    if (compareValue && caseIndependent)
                        compareValue = (compareValue + '').toLowerCase();
                    if (propertyValue === compareValue)
                        return table;
                }
            }
            return null;
        };
        /**
         * Find table by given id
         */
        IzendaInstantReportStorageService.prototype.getTableById = function (id) {
            return this.getTableByProperty('id', id);
        };
        /**
         * Find table by given sysname
         * @param {string} sysname.
         * @returns {object} table object.
         */
        IzendaInstantReportStorageService.prototype.getTableBySysname = function (sysname) {
            return this.getTableByProperty('sysname', sysname);
        };
        /**
         * Find table by name. (Case independent)
         * @param {string} name.
         * @returns {object} table object.
         */
        IzendaInstantReportStorageService.prototype.getTableByName = function (name) {
            return this.getTableByProperty('name', name, true);
        };
        /**
         * Find field by given id
         */
        IzendaInstantReportStorageService.prototype.getFieldById = function (id) {
            var i = 0;
            var datasources = this.getDataSources();
            while (i < datasources.length) {
                var j = 0;
                var tables = datasources[i].tables;
                while (j < tables.length) {
                    var k = 0;
                    var fields = tables[j].fields;
                    while (k < fields.length) {
                        var field = fields[k];
                        if (field.id === id) {
                            return field;
                        }
                        if (field.isMultipleColumns && field.multipleColumns.length) {
                            var multipleField = field.multipleColumns.firstOrDefault(function (f) { return f.id === id; });
                            if (multipleField)
                                return multipleField;
                        }
                        k++;
                    }
                    j++;
                }
                i++;
            }
            return null;
        };
        /**
         * Get all tables in all datasources
         */
        IzendaInstantReportStorageService.prototype.getAllTables = function () {
            return this.getDataSources().reduce(function (result, category) { return result.concat(category.tables); }, []);
        };
        /**
        * Get checked tables
        */
        IzendaInstantReportStorageService.prototype.getActiveTables = function () {
            return this.activeTables;
        };
        /**
         * Find field by guid
         */
        IzendaInstantReportStorageService.prototype.getCalcField = function (calcFieldId) {
            return this.calcFields.firstOrDefault(function (c) { return c.sysname === calcFieldId; });
        };
        IzendaInstantReportStorageService.prototype.getField = function (propertyName, propertyValue, findInAllTables) {
            if (propertyValue && propertyValue.indexOf('fldId|') === 0)
                return this.getCalcField(propertyValue);
            var tablesCollection = (typeof (findInAllTables) === 'boolean' && findInAllTables)
                ? this.getAllTables()
                : this.getActiveTables();
            // find first field in tables which matches predicate "propertyName = propertyValue":
            return tablesCollection.firstOrDefaultInInner('fields', function (f) {
                return f.hasOwnProperty(propertyName) && f[propertyName] === propertyValue;
            });
        };
        /**
         * Find field by sysname
         */
        IzendaInstantReportStorageService.prototype.getFieldBySysName = function (sysname, findInAllTables) {
            return this.getField('sysname', sysname, findInAllTables);
        };
        /**
         * Check if functions allowed to field
         */
        IzendaInstantReportStorageService.prototype.isBinaryField = function (field) {
            if (!field)
                return false;
            var expressionType = field.expressionType;
            if (expressionType && expressionType.value && expressionType.value !== '...')
                return ['Binary', 'Other', 'None'].indexOf(expressionType.value) >= 0;
            return field.sqlType === 'Text' || field.sqlType === 'Image';
        };
        /**
         * Get checked and not checked fields in active tables;
         * TODO: it is not a good idea to assign values to "additionalGroup" property in get function.
         */
        IzendaInstantReportStorageService.prototype.getAllFieldsInActiveTables = function (appendCalcFields) {
            var _this = this;
            this.activeFields.forEach(function (f) {
                return f.additionalGroup = f.tableName;
            });
            if (!appendCalcFields)
                return this.activeFields;
            this.calcFields.forEach(function (f) {
                return f.additionalGroup = _this.$izendaLocaleService.localeText('js_calcFields', 'Calculated Fields');
            });
            return this.activeFields.concat(this.calcFields);
        };
        /**
         * Get active (checked) fields (including multiple fields).
         * @param {object} table Table object.
         * @returns {object[]} Checked fields collection.
         */
        IzendaInstantReportStorageService.prototype.getActiveFields = function (table) {
            return table.fields.reduce(function (result, f) {
                if (!f.isMultipleColumns && f.checked)
                    result.push(f);
                else if (f.isMultipleColumns)
                    result = result.concat(f.multipleColumns.filter(function (fm) { return fm.checked; }));
                return result;
            }, []);
        };
        /**
         * Base fields iterator function
         * @param {function} fieldHandler iterator "each" handler
         * @param {function} getFieldsFunction field filter function (function(table) {... return fieldsArray; })
         * @param {object} context context object
         */
        IzendaInstantReportStorageService.prototype.eachFieldsBase = function (fieldHandler, getFieldsFunction, context) {
            var _this = this;
            if (!angular.isFunction(fieldHandler))
                throw 'fieldHandler should be a function.';
            this.getActiveTables().forEach(function (t) {
                var aFields = getFieldsFunction(t);
                if (aFields && aFields.length)
                    aFields.forEach(function (f) { return fieldHandler.call(angular.isDefined(context) ? context : _this, f, t); });
            });
        };
        /**
         * Works like each. Iterate through checked fields
         */
        IzendaInstantReportStorageService.prototype.eachActiveFields = function (fieldHandler, context) {
            this.eachFieldsBase(fieldHandler, this.getActiveFields, context);
        };
        /**
         * Get all checked fields.
         */
        IzendaInstantReportStorageService.prototype.getAllActiveFields = function () {
            var result = [];
            this.eachActiveFields(function (field) { return result.push(field); });
            return result;
        };
        /**
         * Get all checked and visible fields.
         */
        IzendaInstantReportStorageService.prototype.getAllVisibleFields = function () {
            return this.getAllActiveFields().filter(function (f) { return f.visible; });
        };
        /////////////////////////////////////////
        // group functions
        /////////////////////////////////////////
        /**
         * Check if functions allowed to field
         */
        IzendaInstantReportStorageService.prototype.isActiveFieldsContainsBinary = function () {
            var _this = this;
            return this.getAllActiveFields().some(function (f) { return _this.isBinaryField(f); });
        };
        /////////////////////////////////////////
        // group functions
        /////////////////////////////////////////
        /**
         * Check if field grouped
         */
        IzendaInstantReportStorageService.prototype.isFieldGrouped = function (field) {
            var compareWithValue = this.emptyFieldGroupOption.value;
            if (!field.groupByFunction || !field.groupByFunction.value)
                return false;
            return field.groupByFunction.value.toLowerCase() !== compareWithValue.toLowerCase();
        };
        /**
         * Check if field grouped and not 'group' function is applied.
         */
        IzendaInstantReportStorageService.prototype.isFieldGroupedWithFunction = function (field) {
            return this.isFieldGrouped(field) && field.groupByFunction.value.toLowerCase() !== 'group';
        };
        /**
         * Update field formats (it depends on selected group function)
         */
        IzendaInstantReportStorageService.prototype.updateFieldFormats = function (field, defaultFormatString) {
            var _this = this;
            var gotFieldFormats = function (returnObj, defaultTypeGroup, resolveFunc) {
                field.formatOptionGroups = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                var formatToApply;
                var defaultTypeGroupFormatString = _this.getDefaultFieldFormat(defaultTypeGroup);
                if (angular.isString(defaultFormatString) && defaultFormatString) {
                    formatToApply = _this.$izendaUtilService.getOptionByValue(field.formatOptionGroups, defaultFormatString);
                    if (!formatToApply) {
                        formatToApply =
                            _this.$izendaUtilService.getOptionByValue(field.formatOptionGroups, defaultTypeGroupFormatString);
                    }
                }
                else {
                    formatToApply =
                        _this.$izendaUtilService.getOptionByValue(field.formatOptionGroups, defaultTypeGroupFormatString);
                }
                field.format = formatToApply;
                resolveFunc(field);
            };
            return this.$q(function (resolve) {
                // isFieldGrouped guarantees that field.groupByFunction.value will be non-empty and don't have "None" value.
                if (_this.isFieldGrouped(field) && ['min', 'max', 'sum', 'sum_distinct', 'group'].indexOf(field.groupByFunction.value.toLowerCase()) < 0) {
                    _this.$izendaInstantReportQueryService.getFieldFormats(field, field.groupByFunction.dataTypeGroup).then(function (returnObj) {
                        gotFieldFormats(returnObj, field.groupByFunction.dataTypeGroup, resolve);
                    });
                }
                else {
                    _this.$izendaInstantReportQueryService.getFieldFormats(field).then(function (returnObj) {
                        gotFieldFormats(returnObj, field.typeGroup, resolve);
                    });
                }
            });
        };
        /**
         * Get group by given value
         */
        IzendaInstantReportStorageService.prototype.getGroupByValue = function (field, value) {
            return this.$izendaUtilService.getOptionByValue(field.groupByFunctionOptions, value, true);
        };
        /**
         * Get Subtotal group by given value
         */
        IzendaInstantReportStorageService.prototype.getGroupBySubtotalValue = function (field, value) {
            return this.$izendaUtilService.getOptionByValue(field.groupBySubtotalFunctionOptions, value, true);
        };
        /**
         * Check if checked fields has function
         */
        IzendaInstantReportStorageService.prototype.isReportUseGroup = function () {
            var _this = this;
            var activeTables = this.getActiveTables();
            if (activeTables.length === 0)
                return false;
            var result = false;
            this.eachActiveFields(function (field) {
                if (_this.isFieldGrouped(field))
                    result = true;
            });
            return result;
        };
        /**
         * Reset all groups which was grouped automatically.
         */
        IzendaInstantReportStorageService.prototype.resetAutoGroups = function () {
            var _this = this;
            // check group function:
            this.eachActiveFields(function (field) {
                if (!_this.isBinaryField(field)) {
                    field.groupByFunction = _this.getGroupByValue(field, 'NONE');
                    _this.updateFieldFormats(field);
                }
            });
        };
        /**
         * Check if report has group and apply group by for other columns.
         */
        IzendaInstantReportStorageService.prototype.applyAutoGroups = function (force) {
            var _this = this;
            if (!force) {
                var hasGroup = this.isReportUseGroup();
                if (!hasGroup)
                    return;
            }
            // check group function:
            this.eachActiveFields(function (field) {
                if (_this.isBinaryField(field))
                    return;
                if (!_this.isFieldGrouped(field)) {
                    field.groupByFunction = _this.getGroupByValue(field, 'GROUP');
                    _this.updateFieldFormats(field);
                }
            });
        };
        /**
         * Get possible visual group styles from server
         */
        IzendaInstantReportStorageService.prototype.initializeVgStyles = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getVgStyles().then(function (result) {
                    _this.vgStyles = result[0].options;
                    resolve();
                });
            });
        };
        /**
         * Get visual group styles
         */
        IzendaInstantReportStorageService.prototype.getVgStyles = function () {
            return this.vgStyles;
        };
        /**
         * Initialize possible expression types.
         */
        IzendaInstantReportStorageService.prototype.initializeExpressionTypes = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getExpressionTypes().then(function (result) {
                    _this.expressionTypes = [];
                    var options = result[0].options;
                    if (options)
                        _this.expressionTypes = _this.expressionTypes.concat(options.filter(function (o) { return o.value !== ''; }));
                    resolve();
                });
            });
        };
        /**
         * Initialize possible drilldown styles from server
         */
        IzendaInstantReportStorageService.prototype.initializeDrillDownStyles = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getDrillDownStyles().then(function (result) {
                    _this.drillDownStyles = [];
                    var options = result[0].options;
                    if (options)
                        options.forEach(function (o) {
                            o.disabled = false;
                            _this.drillDownStyles.push(o);
                        });
                    resolve();
                });
            });
        };
        /**
         * Disable EmbeddedDetail drilldown style for current report and (AUTO)
         */
        IzendaInstantReportStorageService.prototype.disableEmbeddedDrillDownStyle = function (field) {
            var _this = this;
            this.drillDownStyles.forEach(function (ddStyle) {
                ddStyle.disabled = false;
                var reportInfo = _this.$izendaUrlService.getReportInfo();
                if (ddStyle.value === 'EmbeddedDetail') {
                    ddStyle.disabled = field.subreport === '(AUTO)' || field.subreport === reportInfo.fullName;
                }
            });
        };
        /**
         * Get drilldown styles
         */
        IzendaInstantReportStorageService.prototype.getDrillDownStyles = function () {
            return this.drillDownStyles;
        };
        IzendaInstantReportStorageService.prototype.getExpressionTypes = function () {
            return this.expressionTypes;
        };
        IzendaInstantReportStorageService.prototype.initializeSubreports = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getSubreports().then(function (result) {
                    _this.subreports = result[0].options;
                    resolve();
                });
            });
        };
        IzendaInstantReportStorageService.prototype.getSubreports = function () {
            return this.subreports;
        };
        /////////////////////////////////////////
        // validation functions
        /////////////////////////////////////////
        /**
         * Remove all validation messages
         */
        IzendaInstantReportStorageService.prototype.clearValidation = function () {
            if (!angular.isArray(this.getDataSources()))
                return;
            this.getDataSources().forEach(function (category) {
                category.tables.forEach(function (table) {
                    table.validateMessages = [];
                    table.validateMessageLevel = null;
                    table.fields.forEach(function (field) {
                        field.validateMessages = [];
                        field.validateMessageLevel = null;
                    });
                });
            });
        };
        /**
         * Validate report and set validate messages to tables and fields
         */
        IzendaInstantReportStorageService.prototype.validateReport = function () {
            var _this = this;
            this.clearValidation();
            var validationFailed = false;
            var activeTables = this.getActiveTables();
            if (activeTables.length === 0)
                return false;
            var hasGroup = this.isReportUseGroup();
            this.eachActiveFields(function (field) {
                if (hasGroup && _this.isBinaryField(field)) {
                    // if field have sql type which can't be grouped
                    field.validateMessages.push({
                        messageType: 'danger',
                        message: _this.$izendaLocaleService.localeTextWithParams('js_CantUseWithGroup', 'Can\'t use fields with sql type "{0}" with GROUP BY statement', [field.sqlType])
                    });
                    field.validateMessageLevel = 'danger';
                    validationFailed = true;
                }
                else if (hasGroup && !_this.isFieldGrouped(field)) {
                    // if field have no group function
                    field.validateMessages.push({
                        messageType: 'danger',
                        message: _this.$izendaLocaleService.localeText('js_MustBeFunction', 'If functions are used, each selection must be a function.')
                    });
                    field.validateMessageLevel = 'danger';
                    validationFailed = true;
                }
            });
            return validationFailed;
        };
        /////////////////////////////////////////
        // common UI functions
        /////////////////////////////////////////
        IzendaInstantReportStorageService.prototype.hideAllPanels = function () {
            this.uiPanelsState.filtersPanelOpened = false;
        };
        IzendaInstantReportStorageService.prototype.getFiltersPanelOpened = function () {
            return this.uiPanelsState.filtersPanelOpened;
        };
        IzendaInstantReportStorageService.prototype.setFiltersPanelOpened = function (value) {
            this.hideAllPanels();
            this.uiPanelsState.filtersPanelOpened = value;
        };
        /////////////////////////////////////////
        // datasources functions
        /////////////////////////////////////////
        /**
         * Algorithm which find nodes which can't be deactivated
         */
        IzendaInstantReportStorageService.prototype.findBridgesForGraph = function (nodes, links) {
            var n = nodes.length;
            var used = new Array(n);
            var tin = new Array(n);
            var fup = new Array(n);
            var timer = 0;
            var bridgeNodes = [];
            var getLinksForNode = function (node) {
                var result = [];
                for (var i = 0; i < links.length; i++) {
                    var link = links[i];
                    var link1 = link[0];
                    var link2 = link[1];
                    if (link1 === link2)
                        continue;
                    if (link1 === node && result.indexOf(link2) < 0)
                        result.push(link2);
                    if (link2 === node && result.indexOf(link1) < 0)
                        result.push(link1);
                }
                return result;
            };
            var dfs = function (v, p) {
                used[v] = true;
                tin[v] = fup[v] = timer++;
                var currentLinks = getLinksForNode(nodes[v]);
                for (var i = 0; i < currentLinks.length; i++) {
                    var to = currentLinks[i];
                    if (to === p)
                        continue;
                    if (used[to])
                        fup[v] = Math.min(fup[v], tin[to]);
                    else {
                        dfs(to, v);
                        fup[v] = Math.min(fup[v], fup[to]);
                        if (fup[to] > tin[v]) {
                            var isToNodeEdge = getLinksForNode(to).length < 2;
                            var isVNodeEdge = currentLinks.length < 2;
                            if (!isToNodeEdge && bridgeNodes.indexOf(to) < 0) {
                                bridgeNodes.push(to);
                            }
                            if (!isVNodeEdge && bridgeNodes.indexOf(v) < 0) {
                                bridgeNodes.push(v);
                            }
                        }
                    }
                }
            };
            var findBridges = function () {
                timer = 0;
                for (var ii = 0; ii < n; ii++) {
                    used[ii] = false;
                    tin[ii] = null;
                    fup[ii] = null;
                }
                for (var i = 0; i < n; i++)
                    if (!used[i])
                        dfs(i);
            };
            findBridges();
            return bridgeNodes;
        };
        /**
         * Constraints check and update tables availability.
         */
        IzendaInstantReportStorageService.prototype.updateTablesAvailability = function () {
            var _this = this;
            // create tables which available by foreign keys
            var currentActiveTables = this.getActiveTables();
            var applyConstraints = currentActiveTables.length !== 0;
            var activeTableNames = [];
            var nodeConstraints = [];
            var nodes = [];
            currentActiveTables.forEach(function (table, iTable) {
                nodes.push(iTable);
                activeTableNames.push(table.sysname);
            });
            // process constraints data
            var foreignKeyTables = [];
            this.constraints.forEach(function (constraint) {
                var part1 = constraint[0], part2 = constraint[1];
                var part1Index = activeTableNames.indexOf(part1);
                var part2Index = activeTableNames.indexOf(part2);
                if (part1Index >= 0 && part2Index >= 0 && part1 !== part2) {
                    nodeConstraints.push([part1Index, part2Index]);
                }
                currentActiveTables.forEach(function (table) {
                    if (part1 === table.sysname || part2 === table.sysname) {
                        if (foreignKeyTables.indexOf(part1) < 0)
                            foreignKeyTables.push(part1);
                        if (foreignKeyTables.indexOf(part2) < 0)
                            foreignKeyTables.push(part2);
                    }
                });
            });
            // enable/disable tables
            this.getDataSources().forEach(function (category) {
                category.enabled = false;
                // check tables
                category.tables.forEach(function (table) {
                    if (!applyConstraints) {
                        category.enabled = true;
                        table.enabled = true;
                        table.fields.forEach(function (field) {
                            field.enabled = table.enabled;
                        });
                        return;
                    }
                    table.enabled = table.active
                        || (foreignKeyTables.indexOf(table.sysname) >= 0
                            && _this.$izendaInstantReportSettingsService.getSettings().maxAllowedTables > currentActiveTables.length);
                    category.enabled |= table.enabled;
                    table.fields.forEach(function (field) {
                        field.enabled = table.enabled;
                    });
                });
            });
            // disable bridge tables (tables which are links between two other active tables):
            var result = this.findBridgesForGraph(nodes, nodeConstraints);
            result.forEach(function (idx) { return currentActiveTables[idx].enabled = false; });
        };
        /**
         * Set "selected = false" for all fields
         */
        IzendaInstantReportStorageService.prototype.unselectAllFields = function () {
            this.getDataSources().forEach(function (category) {
                category.tables.forEach(function (table) {
                    table.fields.forEach(function (field) {
                        field.selected = false;
                        field.multipleColumns.forEach(function (mField) { return mField.selected = false; });
                    });
                });
            });
        };
        /**
         * Check is calc field exist
         */
        IzendaInstantReportStorageService.prototype.calcFieldExist = function (calcFieldId) {
            return this.calcFields.some(function (c) { return c.sysname === calcFieldId; });
        };
        /**
         * Update calc field properties
         */
        IzendaInstantReportStorageService.prototype.updateCalcField = function (field, calcField) {
            calcField.name = "[" + field.description + "] (calc)";
        };
        /**
         * Create calc field
         */
        IzendaInstantReportStorageService.prototype.createCalcField = function (field) {
            var result = angular.copy(field);
            result.sysname = "fldId|" + field.guid;
            this.updateCalcField(field, result);
            return result;
        };
        /**
         * Sync calc fields
         */
        IzendaInstantReportStorageService.prototype.syncCalcFieldsArray = function () {
            var _this = this;
            var newCalcFields = [];
            // remove old calc fields
            this.calcFields.forEach(function (calcField) {
                var foundField = null;
                var fieldGuid = calcField.sysname.substring(6);
                _this.eachActiveFields(function (field) {
                    if (fieldGuid === field.guid)
                        foundField = field;
                });
                var isExpressionSet = foundField
                    && angular.isString(foundField.expression)
                    && foundField.expression.trim() !== '';
                if (foundField && (_this.isFieldGroupedWithFunction(foundField) || isExpressionSet)) {
                    newCalcFields.push(calcField);
                    _this.updateCalcField(foundField, calcField);
                }
            });
            this.calcFields = newCalcFields;
            // add new
            this.eachActiveFields(function (field) {
                var isExpressionSet = angular.isString(field.expression)
                    && field.expression.trim() !== '';
                // if field grouped and it is not simple 'GROUP' or it has expression
                if (!_this.calcFieldExist("fldId|" + field.guid) && (_this.isFieldGroupedWithFunction(field) || isExpressionSet)) {
                    var calcField = _this.createCalcField(field);
                    _this.calcFields.push(calcField);
                }
            });
        };
        /**
         * Create active tables array
         */
        IzendaInstantReportStorageService.prototype.syncActiveTablesArray = function () {
            var _this = this;
            this.activeTables = [];
            this.activeFields = [];
            this.activeCheckedFields = [];
            this.getDataSources().forEach(function (category) {
                category.tables.filter(function (t) { return t.active; }).forEach(function (table) {
                    _this.activeTables.push(table);
                    _this.activeFields = _this.activeFields.concat(table.fields);
                    _this.activeCheckedFields = _this.activeCheckedFields.concat(table.fields.filter(function (f) { return f.checked; }));
                });
            });
            this.syncCalcFieldsArray();
        };
        /**
         * Update tree state after checking table
         */
        IzendaInstantReportStorageService.prototype.updateParentFolders = function (table, syncCollapse) {
            var parentCategory = this.getCategoryById(table.parentId);
            this.syncActiveTablesArray();
            // update category active
            parentCategory.active = parentCategory.tables.some(function (t) { return t.active; });
            if (syncCollapse)
                parentCategory.collapsed = !parentCategory.active;
            this.updateTablesAvailability();
        };
        /**
         * Update tree state after checking field
         */
        IzendaInstantReportStorageService.prototype.updateParentFoldersAndTables = function (field, syncCollapse, restrictTableUncheck) {
            var table = this.getTableById(field.parentId);
            var hasCheckedFields = table.fields.some(function (f) { return f.checked; });
            // if table checked state false -> true:
            if (hasCheckedFields && !table.active)
                table.order = this.getNextOrder();
            // update table active
            table.active = restrictTableUncheck || hasCheckedFields || !table.enabled;
            if (syncCollapse)
                table.collapsed = !hasCheckedFields;
            // update table
            this.updateParentFolders(table, syncCollapse);
        };
        /**
         * Update drilldowns
         */
        IzendaInstantReportStorageService.prototype.updateDrilldowns = function () {
            var _this = this;
            this.reportSet.drillDownFields = this.reportSet.drillDownFields.filter(function (drilldownField) {
                return _this.getAllFieldsInActiveTables().some(function (f) { return drilldownField.id === f.id; });
            });
        };
        /**
        * Get filtered datasources
        */
        IzendaInstantReportStorageService.prototype.searchInDataDources = function (searchString, from, to) {
            var _this = this;
            return this.$q(function (resolve) {
                if (searchString === '') {
                    resolve([]);
                    return;
                }
                // start search
                _this.$izendaInstantReportQueryService.findInDatasources(searchString, from, to).then(function (results) {
                    // search completed
                    if (results && results.length)
                        results.forEach(function (item, idx) { return item.id = from + idx; });
                    resolve(results);
                });
            });
        };
        IzendaInstantReportStorageService.prototype.resetFieldObject = function (fieldObject, defaultValues) {
            fieldObject.isInitialized = false;
            fieldObject.isMultipleColumns = false;
            fieldObject.multipleColumns = [];
            fieldObject.highlight = false;
            fieldObject.enabled = true;
            fieldObject.checked = false;
            fieldObject.selected = false;
            fieldObject.collapsed = false;
            fieldObject.isVgUsed = false;
            fieldObject.breakPageAfterVg = false;
            fieldObject.description = this.$izendaUtilService.humanizeVariableName(fieldObject.name);
            fieldObject.isDescriptionSetManually = false;
            fieldObject.order = 0;
            fieldObject.format = this.emptyFieldFormatOption;
            fieldObject.formatOptionGroups = [];
            fieldObject.groupByFunction = this.emptyFieldGroupOption;
            fieldObject.groupByFunctionOptions = [];
            fieldObject.groupBySubtotalFunction = this.emptySubtotalFieldGroupOptions;
            fieldObject.groupBySubtotalFunctionOptions = [];
            fieldObject.subtotalExpression = '';
            fieldObject.allowedInFilters = true;
            fieldObject.isSpParameter = false;
            fieldObject.sort = null;
            fieldObject.italic = false;
            fieldObject.columnGroup = '';
            fieldObject.separator = false;
            fieldObject.textHighlight = '';
            fieldObject.cellHighlight = '';
            fieldObject.valueRange = '';
            fieldObject.width = '';
            fieldObject.labelJustification = 'M';
            fieldObject.valueJustification = ' ';
            fieldObject.visible = true;
            fieldObject.gradient = false;
            fieldObject.bold = false;
            fieldObject.drillDownStyle = '';
            fieldObject.customUrl = '';
            fieldObject.subreport = '';
            fieldObject.expression = '';
            fieldObject.expressionType = this.emptyExpressionType;
            fieldObject.groupByExpression = false;
            fieldObject.validateMessages = [];
            fieldObject.validateMessageLevel = null;
            angular.extend(fieldObject, defaultValues);
        };
        IzendaInstantReportStorageService.prototype.createFieldObjectInner = function (fieldProperties) {
            var fieldObject = {
                id: this.getNextId(),
                parentFieldId: null,
                parentId: null,
                name: null,
                tableSysname: null,
                tableName: null,
                sysname: null,
                typeGroup: null,
                type: null,
                sqlType: null,
                allowedInFilters: null,
                isDescriptionSetManually: null,
                description: null,
                order: 0,
                guid: null,
                selected: null,
                checked: null
            };
            this.resetFieldObject(fieldObject, fieldProperties);
            return fieldObject;
        };
        /**
         * Create field object.
         */
        IzendaInstantReportStorageService.prototype.createFieldObject = function (fieldName, tableId, tableSysname, tableName, fieldSysname, fieldTypeGroup, fieldType, fieldSqlType, allowedInFilters, isSpParameter) {
            var fieldObject = this.createFieldObjectInner({
                guid: this.guid(),
                parentId: tableId,
                name: fieldName,
                tableSysname: tableSysname,
                tableName: tableName,
                sysname: fieldSysname,
                typeGroup: fieldTypeGroup,
                type: fieldType,
                sqlType: fieldSqlType,
                allowedInFilters: allowedInFilters,
                isSpParameter: isSpParameter
            });
            return fieldObject;
        };
        /**
         * Copy field object state
         */
        IzendaInstantReportStorageService.prototype.copyFieldObject = function (from, to, replaceName) {
            to.id = from.id;
            to.guid = from.guid;
            to.isInitialized = from.isInitialized;
            to.parentId = from.parentId;
            to.tableSysname = from.tableSysname;
            if (replaceName)
                to.name = from.name;
            to.sysname = from.sysname;
            to.typeGroup = from.typeGroup;
            to.type = from.type;
            to.sqlType = from.sqlType;
            to.enabled = from.enabled;
            to.expression = from.expression;
            to.expressionType = from.expressionType;
            to.groupByExpression = from.groupByExpression;
            to.checked = from.checked;
            to.isVgUsed = from.isVgUsed;
            to.breakPageAfterVg = from.breakPageAfterVg;
            to.description = from.description;
            to.isDescriptionSetManually = from.isDescriptionSetManually;
            to.order = from.order;
            to.format = from.format;
            to.formatOptionGroups = from.formatOptionGroups;
            to.groupByFunction = from.groupByFunction;
            to.groupByFunctionOptions = from.groupByFunctionOptions;
            to.groupBySubtotalFunction = from.groupBySubtotalFunction;
            to.groupBySubtotalFunctionOptions = from.groupBySubtotalFunctionOptions;
            to.sort = from.sort;
            to.italic = from.italic;
            to.columnGroup = from.columnGroup;
            to.separator = from.separator;
            to.textHighlight = from.textHighlight;
            to.cellHighlight = from.cellHighlight;
            to.valueRange = from.valueRange;
            to.width = from.width;
            to.labelJustification = from.labelJustification;
            to.valueJustification = from.valueJustification;
            to.gradient = from.gradient;
            to.visible = from.visible;
            to.bold = from.bold;
            to.drillDownStyle = from.drillDownStyle;
            to.customUrl = from.customUrl;
            to.subreport = from.subreport;
            to.validateMessages = from.validateMessages;
            to.validateMessageLevel = from.validateMessageLevel;
        };
        /**
         * Reset datasources state
         */
        IzendaInstantReportStorageService.prototype.resetDataSources = function () {
            var _this = this;
            var datasources = this.getDataSources();
            if (!angular.isArray(datasources))
                return;
            datasources.forEach(function (category) {
                category.visible = true;
                category.active = false;
                category.enabled = true;
                category.collapsed = true;
                // iterate tables
                category.tables.forEach(function (table) {
                    table.visible = true;
                    table.active = false;
                    table.enabled = true;
                    table.collapsed = true;
                    table.validateMessages = [];
                    table.validateMessageLevel = null;
                    // iterate fields
                    table.fields.forEach(function (field) {
                        _this.resetFieldObject(field);
                    });
                });
            });
        };
        /**
         * Refresh field description
         */
        IzendaInstantReportStorageService.prototype.autoUpdateFieldDescription = function (field) {
            if (!field.isDescriptionSetManually) {
                field.description = this.generateDescription(field);
            }
        };
        /**
         * Convert fields which got from server into format which used in app and add it to table object.
         * @param {Array} fields. Server side fields object.
         */
        IzendaInstantReportStorageService.prototype.convertAndAddFields = function (tableObject, fields) {
            var _this = this;
            if (fields && fields.length)
                fields.forEach(function (field) {
                    var fieldObject = _this.createFieldObject(field.name, tableObject.id, tableObject.sysname, tableObject.name, field.sysname, field.typeGroup, field.type, field.sqlType, field.allowedInFilters, field.isSpParameter === 'True');
                    _this.autoUpdateFieldDescription(fieldObject);
                    tableObject.fields.push(fieldObject);
                });
            tableObject.lazy = false;
        };
        /**
        * Convert datasources for future use it in app
        */
        IzendaInstantReportStorageService.prototype.convertDataSources = function (dataSources) {
            var _this = this;
            if (!angular.isArray(dataSources))
                return [];
            var result = [];
            // iterate categories
            var uncategorized = null;
            dataSources.forEach(function (category) {
                var categoryObject = {
                    id: _this.getNextId(),
                    name: category.DataSourceCategory,
                    tables: [],
                    visible: true,
                    active: false,
                    enabled: true,
                    collapsed: true
                };
                // iterate tables
                category.tables.forEach(function (table) {
                    var tableObject = {
                        id: _this.getNextId(),
                        order: 0,
                        parentId: categoryObject.id,
                        name: table.name,
                        sysname: table.sysname,
                        tableType: table.tableType,
                        fields: [],
                        visible: true,
                        active: false,
                        enabled: true,
                        collapsed: true,
                        validateMessages: [],
                        validateMessageLevel: null,
                        lazy: null
                    };
                    // add field if loaded
                    if (table.fields === 'LAZIED') {
                        tableObject.lazy = true;
                    }
                    else {
                        _this.convertAndAddFields(tableObject, table.fields);
                    }
                    categoryObject.tables.push(tableObject);
                });
                if (_this.$izendaUtilService.isUncategorized(categoryObject.name)
                    && _this.$izendaInstantReportSettingsService.getSettings().moveUncategorizedToLastPosition) {
                    uncategorized = categoryObject;
                }
                else {
                    result.push(categoryObject);
                }
            });
            // move uncategorized to the last position:
            if (uncategorized !== null) {
                result.push(uncategorized);
            }
            if (result.length > 0) {
                result[0].collapsed = false;
            }
            return result;
        };
        IzendaInstantReportStorageService.prototype.createFieldObjectForSend = function (field) {
            return {
                guid: field.guid,
                sysname: field.sysname,
                description: field.description ? field.description : this.$izendaUtilService.humanizeVariableName(field.name),
                format: field.format,
                groupByFunction: field.groupByFunction,
                groupBySubtotalFunction: field.groupBySubtotalFunction,
                subtotalExpression: field.subtotalExpression,
                allowedInFilters: field.allowedInFilters,
                sort: field.sort,
                order: field.order,
                italic: field.italic,
                columnGroup: field.columnGroup,
                separator: field.separator,
                valueRange: field.valueRange,
                textHighlight: field.textHighlight,
                cellHighlight: field.cellHighlight,
                width: field.width,
                labelJustification: field.labelJustification,
                valueJustification: field.valueJustification,
                gradient: field.gradient,
                visible: field.visible,
                isVgUsed: field.isVgUsed,
                breakPageAfterVg: field.breakPageAfterVg,
                bold: field.bold,
                drillDownStyle: field.drillDownStyle,
                customUrl: field.customUrl,
                subreport: field.subreport,
                expression: field.expression,
                expressionType: field.expressionType.value,
                groupByExpression: field.groupByExpression
            };
        };
        /**
         * Create object with report data which will be send to server.
         */
        IzendaInstantReportStorageService.prototype.createReportSetConfigForSend = function (previewTop) {
            var _this = this;
            // iterate through active fields.
            var activeTables = this.getActiveTables();
            if (activeTables.length === 0)
                return null;
            var options = angular.extend({}, this.getOptions());
            var filterOptions = angular.extend({}, this.getFilterOptions());
            var reportSetConfig = {
                reportName: this.reportSet.reportName,
                reportCategory: this.reportSet.reportCategory,
                joinedTables: [],
                drillDownFields: [],
                fields: [],
                filters: [],
                charts: [],
                options: options,
                filterOptions: filterOptions,
                schedule: null,
                share: {},
                pivot: null
            };
            if (typeof (reportSetConfig.options.page.itemsPerPage) !== 'number') {
                reportSetConfig.options.page.itemsPerPage = parseInt(reportSetConfig.options.page.itemsPerPage);
            }
            // preview top
            var reportTop = parseInt(reportSetConfig.options.top);
            if (angular.isNumber(previewTop)) {
                if (!isNaN(reportTop) && (reportTop < previewTop || previewTop < 0))
                    reportSetConfig.options.top = reportTop;
                else
                    reportSetConfig.options.top = previewTop;
            }
            // schedule
            reportSetConfig.schedule = this.$izendaScheduleService.getScheduleConfigForSend();
            // share
            reportSetConfig.share = this.$izendaShareService.getShareConfigForSend();
            // add drilldown fields.
            reportSetConfig.drillDownFields = this.getDrillDownFields().map(function (f) { return f.sysname; });
            // add charts
            if (this.reportSet.charts.length > 0) {
                var chart = this.reportSet.charts[0];
                if (chart) {
                    reportSetConfig.charts[0] = {
                        name: chart.name,
                        category: chart.categoryName,
                        properties: chart.properties ? chart.properties : null
                    };
                }
            }
            // prepare tables
            var activeFieldsList = this.getAllActiveFields();
            activeFieldsList.sort(function (field1, field2) { return field1.order - field2.order; });
            for (var i = 0; i < activeFieldsList.length; i++)
                activeFieldsList[i].order = i + 1;
            // add filters to config
            this.getFilters().forEach(function (filter) {
                if (filter.field === null || !angular.isObject(filter.operator)) {
                    filter.isValid = false;
                    return;
                }
                filter.isValid = true;
                // prepare filter values to send
                var preparedValues = filter.values;
                // date string created according to format which used in "internal static string DateLocToUs(string date)":
                var valueType = _this.getFieldFilterOperatorValueType(filter.operator);
                if (valueType === 'select_multiple' || valueType === 'select_popup' || valueType === 'select_checkboxes') {
                    preparedValues = [filter.values.join(',')];
                }
                else if (valueType === 'field' && filter.values.length === 1 && filter.values[0] !== null) {
                    preparedValues = [filter.values[0].sysname];
                }
                else if (valueType === 'twoDates') {
                    var momentObj1 = null;
                    var momentObj2 = null;
                    if (filter.values[0])
                        momentObj1 = moment(filter.values[0]);
                    if (filter.values[1])
                        momentObj2 = moment(filter.values[1]);
                    preparedValues = [
                        momentObj1 && momentObj1.isValid() ? momentObj1.format(_this.$izendaSettingsService.getDefaultDateFormatString()) : null,
                        momentObj2 && momentObj2.isValid() ? momentObj2.format(_this.$izendaSettingsService.getDefaultDateFormatString()) : null
                    ];
                }
                else if (valueType === 'oneDate') {
                    var momentObj = null;
                    if (filter.values[0])
                        momentObj = moment(filter.values[0]);
                    preparedValues = [
                        momentObj && momentObj.isValid() ? momentObj.format(_this.$izendaSettingsService.getDefaultDateFormatString()) : null
                    ];
                }
                var filterObj = {
                    required: filter.required,
                    description: filter.description,
                    parameter: filter.parameter,
                    sysname: filter.field.sysname,
                    operatorString: filter.operator.value,
                    values: preparedValues,
                    titleFormat: filter.titleFormat,
                    customPopupTemplateUrl: filter.customPopupTemplateUrl
                };
                var isBlank = filterObj.values.every(function (v) { return v === ''; });
                if (isBlank)
                    filterObj.values = [];
                reportSetConfig.filters.push(filterObj);
            });
            // pivot
            this.$izendaInstantReportPivotService.syncPivotState(this.getAllFieldsInActiveTables());
            var pivotConfig = this.$izendaInstantReportPivotService.getPivotDataForSend();
            if (!pivotConfig)
                reportSetConfig.pivot = null;
            else {
                reportSetConfig.pivot = {
                    options: pivotConfig.options
                };
                reportSetConfig.pivot.pivotColumn = this.createFieldObjectForSend(pivotConfig.pivotColumn);
                reportSetConfig.pivot.cellValues = pivotConfig.cellValues
                    .filter(function (c) { return !!c; })
                    .map(function (c) { return _this.createFieldObjectForSend(c); });
            }
            // fill joined tables:
            reportSetConfig.joinedTables = activeTables.map(function (t) {
                return { sysname: t.sysname };
            });
            // fill fields
            activeTables.forEach(function (table) {
                var activeFields = _this.getActiveFields(table);
                reportSetConfig.fields.pushAll(activeFields.map(_this.createFieldObjectForSend));
            });
            // update field order 
            reportSetConfig.fields.sort(function (f1, f2) {
                if (f1.isVgUsed ^ f2.isVgUsed)
                    if (f1.isVgUsed)
                        return -1;
                    else
                        return 1;
                else
                    return f1.order - f2.order;
            });
            reportSetConfig.fields.forEach(function (f) { return f.order = _this.getNextOrder(); });
            this.$log.debug('reportSetConfig: ', reportSetConfig);
            return reportSetConfig;
        };
        /**
         * Load fields for lazy table
         * @param {object} table
         */
        IzendaInstantReportStorageService.prototype.loadLazyFields = function (table) {
            var _this = this;
            return this.$q(function (resolve) {
                if (!table.lazy) {
                    resolve(false);
                    return;
                }
                _this.$izendaInstantReportQueryService.getFieldsInfo(table.sysname).then(function (data) {
                    _this.convertAndAddFields(table, data.fields);
                    resolve(true);
                });
            });
        };
        /**
         * Clear report preview.
         */
        IzendaInstantReportStorageService.prototype.clearReportPreviewHtml = function () {
            this.previewHtml = '';
            this.$izendaInstantReportQueryService.cancelAllPreviewQueries();
        };
        /**
         * Get and apply preview for current report set config.
         */
        IzendaInstantReportStorageService.prototype.getReportPreviewHtml = function () {
            var _this = this;
            this.clearReportPreviewHtml();
            this.isPreviewSplashVisible = true;
            this.$rootScope.$applyAsync();
            return this.$q(function (resolve) {
                var options = _this.getOptions();
                var reportSetToSend = _this.createReportSetConfigForSend(options.previewTop);
                _this.$izendaInstantReportQueryService.getReportSetPreviewQueued(reportSetToSend).then(function (data) {
                    _this.previewHtml = data;
                    _this.isPreviewSplashVisible = false;
                    _this.getOptions().rowsRange = null;
                    _this.$rootScope.$applyAsync();
                    resolve();
                }, function () {
                    // reject
                    _this.isPreviewSplashVisible = false;
                    _this.$rootScope.$applyAsync();
                    resolve();
                });
            });
        };
        /**
         * Set top value for preview
         */
        IzendaInstantReportStorageService.prototype.setPreviewTop = function (value) {
            var options = this.getOptions();
            if (!angular.isNumber(value) || value < 0) {
                options.previewTop = -2147483648;
            }
            else {
                options.previewTop = value;
            }
        };
        /**
         * Save report set
         */
        IzendaInstantReportStorageService.prototype.saveReportSet = function (name, category) {
            var _this = this;
            var rs = this.getReportSet();
            var nameToSave = angular.isDefined(name) ? name : rs.reportName;
            var categoryToSave = angular.isString(category) && category !== '' ? category : '';
            rs.reportName = nameToSave;
            rs.reportCategory = categoryToSave;
            if (this.$izendaUtilService.isUncategorized(rs.reportCategory))
                rs.reportCategory = '';
            var reportSetToSend = this.createReportSetConfigForSend();
            return this.$q(function (resolve, reject) {
                _this.$izendaInstantReportQueryService.saveReportSet(reportSetToSend).then(function (result) {
                    var reportSetFullName = _this.getReportSetFullName();
                    if (angular.isString(reportSetFullName))
                        _this.$izendaUrlService.setReportFullName(reportSetFullName);
                    resolve(result);
                }, function (error) {
                    reject(error);
                });
            });
        };
        /**
         * Send send report set to server and set it as CRS
         */
        IzendaInstantReportStorageService.prototype.setReportSetAsCrs = function (applyPreviewTop) {
            var _this = this;
            return this.$q(function (resolve) {
                var reportSetToSend = _this.createReportSetConfigForSend();
                if (applyPreviewTop)
                    reportSetToSend.options.applyPreviewTop = true;
                _this.$izendaInstantReportQueryService.setReportAsCrs(reportSetToSend).then(function (result) {
                    if (result === 'OK') {
                        resolve([true]);
                    }
                    else {
                        resolve([false, result]);
                    }
                });
            });
        };
        /**
         * Generate pdf with current report and send file to user
         */
        IzendaInstantReportStorageService.prototype.exportReportAs = function (exportType) {
            var _this = this;
            return this.$q(function (resolve) {
                var reportSetToSend = _this.createReportSetConfigForSend();
                reportSetToSend.options.applyPreviewTop = false;
                _this.$izendaInstantReportQueryService
                    .exportReportInNewWindow(reportSetToSend, exportType)
                    .then(function () { return resolve(true); });
            });
        };
        /**
         * Generate html and open print page.
         */
        IzendaInstantReportStorageService.prototype.printReportAsHtml = function () {
            var _this = this;
            return this.$q(function (resolve) {
                var reportSetToSend = _this.createReportSetConfigForSend();
                reportSetToSend.options.applyPreviewTop = false;
                _this.$izendaInstantReportQueryService
                    .exportReportInNewWindow(reportSetToSend, 'print')
                    .then(function () { return resolve(true); });
            });
        };
        /**
         * Print report function
         */
        IzendaInstantReportStorageService.prototype.printReport = function (printType) {
            var _this = this;
            return this.$q(function (resolve) {
                if (printType === 'html') {
                    _this.printReportAsHtml()
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (printType === 'pdf') {
                    _this.exportReportAs('PDF').then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else {
                    resolve({
                        success: false,
                        message: "Unknown print type " + printType
                    });
                }
            });
        };
        /**
         * Open report in report designer.
         */
        IzendaInstantReportStorageService.prototype.openReportInDesigner = function () {
            var _this = this;
            this.setReportSetAsCrs().then(function () {
                var url = _this.$izendaUrlService.settings.urlReportDesigner;
                if (angular.isString(_this.reportSet.reportName) && _this.reportSet.reportName !== '')
                    url += "?rn=" + _this.getReportSetFullName() + "&tab=Fields";
                else
                    url += '?tab=Fields';
                _this.$window.location.href = getAppendedUrl(url);
            });
        };
        /**
         * Export report function
         */
        IzendaInstantReportStorageService.prototype.exportReport = function (exportType) {
            var _this = this;
            return this.$q(function (resolve) {
                if (exportType === 'excel') {
                    _this.exportReportAs('XLS(MIME)')
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (exportType === 'word') {
                    _this.exportReportAs('DOC')
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (exportType === 'csv') {
                    var exportMode = _this.$izendaSettingsService.getBulkCsv() ? 'BULKCSV' : 'CSV';
                    _this.exportReportAs(exportMode)
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (exportType === 'xml') {
                    _this.exportReportAs('XML')
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else {
                    resolve({
                        success: false,
                        message: "Unknown export type " + exportType
                    });
                }
            });
        };
        /**
         * Send report link via client email
         */
        IzendaInstantReportStorageService.prototype.sendReportLinkEmail = function () {
            var reportInfo = this.$izendaUrlService.getReportInfo();
            if (!angular.isObject(reportInfo) || !angular.isString(reportInfo.fullName) || reportInfo.fullName === '')
                throw 'Can\'t send email without report name';
            var reportViewerLocation = location.href.replaceAll(this.$izendaUrlService.settings.urlInstantReport, this.$izendaUrlService.settings.urlReportViewer);
            var redirectUrl = "?subject=" + encodeURIComponent(reportInfo.fullName) + "&body=" + encodeURIComponent(reportViewerLocation);
            redirectUrl = "mailto:" + redirectUrl.replace(/ /g, '%20');
            this.$window.top.location.href = getAppendedUrl(redirectUrl);
        };
        /**
         * Load instant report datasources
         */
        IzendaInstantReportStorageService.prototype.loadDataSources = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getConstraintsInfo().then(function (constraintsData) {
                    _this.setConstraints(constraintsData);
                    _this.$izendaInstantReportQueryService.getDatasources().then(function (data) {
                        _this.setDataSources(_this.convertDataSources(data));
                        resolve();
                    });
                });
            });
        };
        /////////////////////////////////////////
        // charts
        /////////////////////////////////////////
        /**
         * Set current chart
         */
        IzendaInstantReportStorageService.prototype.selectChart = function (chart) {
            this.reportSet.charts[0] = chart;
        };
        /**
         * Get current chart
         */
        IzendaInstantReportStorageService.prototype.getSelectedChart = function () {
            return this.reportSet.charts.length ? this.reportSet.charts[0] : null;
        };
        /////////////////////////////////////////
        // filters
        /////////////////////////////////////////
        IzendaInstantReportStorageService.prototype.validateFilter = function (filter) {
            filter.isValid = true;
            filter.validationMessages = [];
            filter.validationMessageString = '';
            // check: is filter refer to field which in active table.
            if (filter.field !== null) {
                var filterField_1 = filter.field;
                var found = this.getAllFieldsInActiveTables(true).some(function (f) { return f.sysname === filterField_1.sysname; });
                if (!found) {
                    filter.isValid = false;
                    filter.validationMessages.push(this.$izendaLocaleService.localeText('js_FilterFieldIsntIncluded', 'Filter field refers on datasource which isn\'t included to report'));
                    filter.validationMessageString = filter.validationMessages.join(', ');
                }
            }
        };
        /**
         * Disable filters which are not pass validation
         */
        IzendaInstantReportStorageService.prototype.validateFilters = function () {
            var _this = this;
            this.reportSet.filters.forEach(function (f) { return _this.validateFilter(f); });
        };
        /**
         * Mark filters as ready to use.
         */
        IzendaInstantReportStorageService.prototype.startFilters = function () {
            this.reportSet.filters.forEach(function (f) { return f.isFilterReady = true; });
        };
        /**
         * Find filter operator by string value
         */
        IzendaInstantReportStorageService.prototype.getFilterOperatorByValue = function (filter, value) {
            if (!angular.isString(value) || !value)
                return null;
            return filter.operators.firstOrDefault(function (f) { return f.value === value; });
        };
        /**
         * Check all stored procedure parameters assigned in filters
         */
        IzendaInstantReportStorageService.prototype.isAllSpParametersAssigned = function () {
            var spParamFields = this.getAllFieldsInActiveTables().filter(function (field) { return field.isSpParameter; });
            if (!spParamFields.length)
                return true;
            var filters = this.getFilters();
            var foundUnassignedParam = false;
            spParamFields.forEach(function (field) {
                var found = filters.some(function (f) { return f.field && f.field === field; });
                if (!found)
                    foundUnassignedParam = true;
            });
            return !foundUnassignedParam;
        };
        /**
         * Get filter operator list for field
         */
        IzendaInstantReportStorageService.prototype.getFieldFilterOperatorList = function (field) {
            var _this = this;
            return this.$q(function (resolve) {
                var tablesParam = _this.getActiveTables().map(function (table) { return table.sysname; }).join(',');
                _this.$izendaInstantReportQueryService.getFieldOperatorList(field, tablesParam).then(function (data) {
                    var result = [];
                    data.forEach(function (d) {
                        var groupName = d.name ? d.name : undefined;
                        result = result.concat(d.options
                            .filter(function (o) { return o.value !== '...'; })
                            .map(function (o) { return angular.extend({ groupName: groupName }, o); }));
                    });
                    resolve(result);
                });
            });
        };
        /**
         * Set filter operator and update available values
         */
        IzendaInstantReportStorageService.prototype.setFilterOperator = function (filter, operatorName) {
            var _this = this;
            return this.$q(function (resolve) {
                if (!angular.isObject(filter.field)) {
                    filter.operators = [];
                    filter.operator = null;
                    resolve(filter);
                    return;
                }
                _this.getFieldFilterOperatorList(filter.field).then(function (result) {
                    // select filter operator to apply
                    var operatorNameToApply = null;
                    if (filter.operator)
                        operatorNameToApply = filter.operator.value;
                    if (angular.isString(operatorName))
                        operatorNameToApply = operatorName;
                    filter.operators = result;
                    filter.operator = _this.getFilterOperatorByValue(filter, operatorNameToApply);
                    // update field value
                    var operatorType = _this.getFieldFilterOperatorValueType(filter.operator);
                    if (operatorType === 'field') {
                        filter.values = [_this.getFieldBySysName(filter.values[0])];
                    }
                    else if (operatorType === 'oneDate' || operatorType === 'twoDates') {
                        filter.values = filter.values.map(function (v) {
                            var parsedDate = moment(v, [_this.$izendaSettingsService.getDefaultDateFormatString(), _this.$izendaSettingsService.getDefaultDateFormatString('M/D/YYYY')], true);
                            if (parsedDate.isValid())
                                return parsedDate._d;
                            return null;
                        });
                    }
                    else if (filter.operator && filter.operator.value === 'Equals_TextArea') {
                        filter.currentValue = filter.values.join();
                    }
                    resolve(filter);
                });
            });
        };
        /**
         * Load filter existent values list (you need to ensure that all operators were applied before starting update existing values)
         */
        IzendaInstantReportStorageService.prototype.updateFieldFilterExistentValues = function (filter, forceUpdate) {
            var _this = this;
            // parse unicode symbols util
            var parseHtmlUnicodeEntities = function (str) {
                return angular.element('<textarea />').html(str).text();
            };
            // convert options which we have got from server.
            var convertOptionsForSelect = function (options, operatorType) {
                if (!angular.isArray(options))
                    return [];
                var result = [];
                options.forEach(function (option) {
                    if (option.value === '...') {
                        if (operatorType === 'select' || operatorType === 'inTimePeriod' || operatorType === 'select_multiple') {
                            option.text = parseHtmlUnicodeEntities(option.text);
                            option.value = option.value;
                            result.push(option);
                        }
                    }
                    else {
                        option.text = parseHtmlUnicodeEntities(option.text);
                        option.value = option.value;
                        result.push(option);
                    }
                });
                return result;
            };
            var syncValues = function (filterObject) {
                if (filterObject.values.length === 0 || filterObject.operator.value === 'Equals_Autocomplete')
                    return;
                filterObject.values = filterObject.values.filter(function (fv) {
                    return filterObject.existentValues.map(function (e) { return e.value; }).includes(fv);
                });
            };
            // return promise
            return this.$q(function (resolve) {
                if (!angular.isObject(filter)) {
                    resolve(filter);
                    return;
                }
                if (!angular.isObject(filter.field) || !angular.isObject(filter.operator)) {
                    filter.existentValues = [];
                    filter.values = [];
                    filter.initialized = true;
                    resolve(filter);
                    return;
                }
                var isCascadingDisabled = _this.$window.nrvConfig && !_this.$window.nrvConfig.CascadeFilterValues;
                if (!forceUpdate && (_this.reportSet.filterOptions.filterLogic || isCascadingDisabled)) {
                    resolve(filter);
                    return;
                }
                // get constraint filters
                var allFilters = _this.getFilters();
                var idx = allFilters.indexOf(filter);
                if (idx < 0)
                    throw "Filter " + (filter.field !== null ? filter.field.sysname : '') + " isn't found in report set filters collection.";
                // Add constraint filters if filter logic wasn't applied
                var constraintFilters = [];
                if (!_this.reportSet.filterOptions.filterLogic)
                    constraintFilters = allFilters.slice(0, idx);
                // load existent values
                var operatorType = _this.getFieldFilterOperatorValueType(filter.operator);
                if (['select', 'Equals_Autocomplete', 'select_multiple', 'select_popup', 'select_checkboxes'].indexOf(operatorType) >= 0) {
                    _this.setReportSetAsCrs(false).then(function () {
                        _this.$izendaInstantReportQueryService
                            .getExistentValuesList(_this.getActiveTables(), constraintFilters, filter, true, _this.reportSet.filterOptions.filterLogic)
                            .then(function (data) {
                            filter.existentValues = convertOptionsForSelect(data && data.length ? data[0].options : [], operatorType);
                            syncValues(filter);
                            var defaultValue = _this.$izendaUtilService.getOptionByValue(filter.existentValues, '...');
                            if (filter.values.length === 0 && defaultValue)
                                filter.values = [defaultValue.value];
                            filter.initialized = true;
                            resolve(filter);
                        });
                    });
                }
                else if (operatorType === 'inTimePeriod') {
                    _this.$izendaInstantReportQueryService.getPeriodList().then(function (data) {
                        filter.existentValues = convertOptionsForSelect(data && data.length ? data[0].options : [], operatorType);
                        syncValues(filter);
                        var defaultValue = _this.$izendaUtilService.getOptionByValue(filter.existentValues, '...');
                        if (filter.values.length === 0 && defaultValue)
                            filter.values = [defaultValue.value];
                        filter.initialized = true;
                        resolve(filter);
                    });
                }
                else {
                    filter.existentValues = [];
                    filter.initialized = true;
                    resolve(filter);
                }
            });
        };
        /**
         * Set filter existing values when filterLogic
         */
        IzendaInstantReportStorageService.prototype.refreshFiltersForFilterLogic = function () {
            var _this = this;
            return this.$q(function (resolve) {
                if (!_this.reportSet.filterOptions.filterLogic) {
                    resolve();
                    return;
                }
                var allFilters = _this.getFilters();
                var promises = allFilters.map(function (filter) { return _this.updateFieldFilterExistentValues(filter, true); });
                _this.$q.all(promises).then(function () { return resolve(); });
            });
        };
        /**
         * Refresh next filter values.
         */
        IzendaInstantReportStorageService.prototype.refreshNextFiltersCascading = function (filter) {
            var _this = this;
            return this.$q(function (resolve) {
                var isCascadingDisabled = _this.$window.nrvConfig && !_this.$window.nrvConfig.CascadeFilterValues;
                if (_this.reportSet.filterOptions.filterLogic || isCascadingDisabled) {
                    resolve();
                    return;
                }
                var allFilters = _this.getFilters();
                // TODO: change to: const filtersToRefresh = allFilters.filter((f, fi) => {...});
                var filtersToRefresh;
                if (filter) {
                    var idx = allFilters.indexOf(filter);
                    if (idx < 0)
                        throw "Filter " + (filter.field !== null ? filter.field.sysname + ' ' : '') + "isn't found in report set filters collection.";
                    filtersToRefresh = allFilters.slice(idx + 1);
                }
                else {
                    filtersToRefresh = allFilters.slice(0);
                }
                // cascading filters update
                if (filtersToRefresh.length > 0) {
                    var refreshingFilter_1 = filtersToRefresh[0];
                    _this.updateFieldFilterExistentValues(refreshingFilter_1).then(function () {
                        _this.refreshNextFiltersCascading(refreshingFilter_1).then(function () {
                            // we don't need to call markAllFiltersAsRefreshing(false); here, because the last time when that function
                            // will be called - it will go through the "else" condition.
                            resolve(filter);
                        });
                    });
                }
                else {
                    resolve(filter);
                }
            });
        };
        /**
         * Create filter object without loading its format.
         */
        IzendaInstantReportStorageService.prototype.createNewFilterBase = function (fieldSysName, operatorName, values, required, description, parameter, customPopupTemplateUrl) {
            var filterObject = angular.extend({}, this.$injector.get('izendaFilterObjectDefaults'));
            // set field
            var field;
            if (fieldSysName && fieldSysName.indexOf('fldId|') === 0) {
                field = this.getCalcField(fieldSysName);
            }
            else
                field = this.getFieldBySysName(fieldSysName);
            while (field && field.mcAncestor)
                field = field.mcAncestor;
            filterObject.field = field;
            if (angular.isDefined(values)) {
                filterObject.values = values;
                if (operatorName === 'Equals_Autocomplete')
                    filterObject.values = [values.join(',')];
            }
            if (angular.isDefined(required))
                filterObject.required = required;
            if (angular.isDefined(description))
                filterObject.description = description;
            if (angular.isDefined(parameter))
                filterObject.parameter = parameter;
            if (angular.isDefined(operatorName))
                filterObject.operatorString = operatorName;
            if (angular.isDefined(customPopupTemplateUrl))
                filterObject.customPopupTemplateUrl = customPopupTemplateUrl;
            return filterObject;
        };
        /**
         * Load possible formats collection and set format for filter string in description.
         * @param {object} filter. Filter object (field must me set to apply format)
         * @param {string} titleFormatName. Format object value
         * @returns {angular promise}. Promise parameter: filter object.
         */
        IzendaInstantReportStorageService.prototype.loadFilterFormats = function (filter, titleFormatName) {
            var _this = this;
            // load and set filter format:
            var filterFormatNameToApply = this.emptyFieldFormatOption.value;
            if (angular.isString(titleFormatName) && titleFormatName !== '')
                filterFormatNameToApply = titleFormatName;
            return this.$q(function (resolve) {
                if (filter.field) {
                    _this.$izendaInstantReportQueryService.getFilterFormats(filter).then(function (returnObj) {
                        filter.titleFormats = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                        filter.titleFormat = _this.$izendaUtilService.getOptionByValue(filter.titleFormats, filterFormatNameToApply);
                        resolve(filter);
                    });
                }
                else {
                    resolve(filter);
                }
            });
        };
        /**
         * Create new filter object with default values
         */
        IzendaInstantReportStorageService.prototype.createNewFilter = function (fieldSysName, operatorName, values, required, description, parameter, titleFormatName, customPopupTemplateUrl) {
            var filterObject = this.createNewFilterBase(fieldSysName, operatorName, values, required, description, parameter, customPopupTemplateUrl);
            filterObject.isFilterReady = true;
            return this.loadFilterFormats(filterObject, titleFormatName);
        };
        /**
         * Delete filter from collection
         */
        IzendaInstantReportStorageService.prototype.removeFilter = function (filter) {
            var index = this.reportSet.filters.indexOf(filter);
            if (index >= 0) {
                this.reportSet.filters[index].field = null;
                this.reportSet.filters.splice(index, 1);
            }
        };
        /**
         * Swap filter
         */
        IzendaInstantReportStorageService.prototype.swapFilters = function (index0, index1) {
            var filters = this.reportSet.filters;
            var temp = filters[index0];
            filters[index0] = filters[index1];
            filters[index1] = temp;
        };
        /**
         * Move filter from position to position
         */
        IzendaInstantReportStorageService.prototype.moveFilterTo = function (fromIndex, toIndex) {
            this.reportSet.filters.splice(toIndex, 0, this.reportSet.filters.splice(fromIndex, 1)[0]);
        };
        /**
         * Check current active tables and remove filters which connected to non-active fields
         */
        IzendaInstantReportStorageService.prototype.syncFilters = function () {
            var _this = this;
            var aFields = this.getAllFieldsInActiveTables(true);
            var filters = this.getFilters();
            // find filters to remove
            var filtersToRemove = [];
            filters.forEach(function (filter) {
                var isFilterActive = aFields
                    .some(function (activeField) { return filter.field === null || activeField.sysname === filter.field.sysname; });
                if (!isFilterActive)
                    filtersToRemove.push(filter);
            });
            // remove filters
            filtersToRemove.forEach(function (f) { return _this.removeFilter(f); });
        };
        /**
         * Load custom template for popup filter.
         */
        IzendaInstantReportStorageService.prototype.getPopupFilterCustomTemplate = function (filter) {
            var _this = this;
            return this.$q(function (resolve) {
                var field = filter.field;
                if (!filter.field) {
                    resolve();
                    return;
                }
                var table = _this.getTableById(field.parentId);
                _this.$izendaInstantReportQueryService.getExistentPopupValuesList(field, table).then(function (data) {
                    if (data.userpage != null)
                        filter.customPopupTemplateUrl = data.userpage;
                    else
                        filter.customPopupTemplateUrl = null;
                    resolve();
                });
            });
        };
        /////////////////////////////////////////
        // field options
        /////////////////////////////////////////
        /**
         * Load field function and apply group by function to field
         */
        IzendaInstantReportStorageService.prototype.loadFieldFunctions = function (field, defaultGroupString) {
            var _this = this;
            return this.$q(function (resolve) {
                var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                    ? defaultGroupString
                    : 'NONE';
                _this.$izendaInstantReportQueryService
                    .getFieldFunctions(field, field.isPivotColumn ? 'pivotField' : 'field')
                    .then(function (returnObj) {
                    field.groupByFunctionOptions = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                    var isSimpleGroupFunction = field.groupByFunctionOptions.length === 2
                        && field.groupByFunctionOptions[0].value.toLowerCase() === 'none'
                        && field.groupByFunctionOptions[1].value.toLowerCase() === 'group';
                    if (isSimpleGroupFunction && groupToApply.toLowerCase() === 'none')
                        groupToApply = 'GROUP';
                    field.groupByFunction = _this.getGroupByValue(field, groupToApply);
                    // if group list was changed and current group function not in list
                    if (field.groupByFunction === null)
                        field.groupByFunction = _this.getGroupByValue(field, 'NONE');
                    resolve(field);
                });
            });
        };
        /**
         * Load Subtotal field function and apply Subtotal group by function to field
         */
        IzendaInstantReportStorageService.prototype.loadSubtotalFieldFunctions = function (field, defaultGroupString) {
            var _this = this;
            return this.$q(function (resolve) {
                var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                    ? defaultGroupString
                    : 'DEFAULT';
                _this.$izendaInstantReportQueryService
                    .getFieldFunctions(field, 'subtotal')
                    .then(function (returnObj) {
                    field.groupBySubtotalFunctionOptions = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                    field.groupBySubtotalFunction = _this.getGroupBySubtotalValue(field, groupToApply);
                    // if group list was changed and current group function not in list
                    if (field.groupBySubtotalFunction === null)
                        field.groupByFunction = _this.getGroupBySubtotalValue(field, 'DEFAULT');
                    resolve(field);
                });
            });
        };
        /**
         * Load group functions to field
         */
        IzendaInstantReportStorageService.prototype.loadGroupFunctionsAndFormatsToField = function (field, defaultGroupString, defaultFormatString, defaultSubtotalGroupString) {
            var _this = this;
            return this.$q(function (resolve) {
                var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                    ? defaultGroupString
                    : 'NONE';
                var groupSubtotalToApply = angular.isString(defaultSubtotalGroupString) && defaultSubtotalGroupString
                    ? defaultSubtotalGroupString
                    : 'DEFAULT';
                if (_this.isBinaryField(field)) {
                    // if field type doesn't support group by.
                    field.groupByFunctionOptions = [_this.emptyFieldGroupOption];
                    field.groupByFunction = _this.emptyFieldGroupOption;
                    field.groupBySubtotalFunctionOptions = [_this.emptySubtotalFieldGroupOptions];
                    field.groupBySubtotalFunction = _this.emptySubtotalFieldGroupOptions;
                    _this.updateFieldFormats(field, defaultFormatString).then(function (f) { return resolve(f); });
                }
                else {
                    // get field and Subtotal functions from server or request cache:
                    var functionPromise = _this.loadFieldFunctions(field, groupToApply);
                    var subtotalPromise = _this.loadSubtotalFieldFunctions(field, groupSubtotalToApply);
                    _this.$q
                        .all([functionPromise, subtotalPromise])
                        .then(function () {
                        return _this.updateFieldFormats(field, defaultFormatString)
                            .then(function () {
                            return resolve(field);
                        });
                    });
                }
            });
        };
        /**
         * Field initialization (async: returns promise)
         */
        IzendaInstantReportStorageService.prototype.initializeField = function (field) {
            var _this = this;
            return this.$q(function (resolve) {
                if (field.isInitialized) {
                    resolve(field);
                    return;
                }
                // load group and format collections:
                _this.loadGroupFunctionsAndFormatsToField(field).then(function (f) {
                    f.isInitialized = true;
                    resolve(f);
                });
            });
        };
        /**
         * Get current field which we are editing now.
         */
        IzendaInstantReportStorageService.prototype.getCurrentActiveField = function () {
            return this.currentActiveField;
        };
        /**
         * Set current field for editing it.
         */
        IzendaInstantReportStorageService.prototype.setCurrentActiveField = function (field) {
            this.currentActiveField = field;
        };
        /**
         * Create auto description.
         */
        IzendaInstantReportStorageService.prototype.generateDescription = function (field) {
            if (this.isFieldGrouped(field) && field.groupByFunction.value.toLowerCase() !== 'group')
                return field.groupByFunction.text + ' (' + this.$izendaUtilService.humanizeVariableName(field.name) + ')';
            else
                return this.$izendaUtilService.humanizeVariableName(field.name);
        };
        /**
         * Set aggregate function for field.
         */
        IzendaInstantReportStorageService.prototype.onFieldFunctionApplied = function (field) {
            // do not change format for max, min, sum and sum distinct
            if (this.isFieldGrouped(field)) {
                this.applyAutoGroups();
            }
            else {
                this.resetAutoGroups();
            }
            this.updateFieldFormats(field);
            // auto update description
            this.autoUpdateFieldDescription(field);
            this.syncCalcFieldsArray();
            // validate
            this.validateReport();
        };
        /**
         * Update functions, formats after expression typegroup was changed
         */
        IzendaInstantReportStorageService.prototype.onExpressionTypeGroupApplied = function (field) {
            var _this = this;
            this.loadGroupFunctionsAndFormatsToField(field, field.groupByFunction.value, field.format.value, field.groupBySubtotalFunction.value)
                .then(function () { return _this.syncCalcFieldsArray(); });
        };
        /**
         * Update calc fields collection when expression was changed.
         * @param {any} field - target field.
         */
        IzendaInstantReportStorageService.prototype.onExpressionApplied = function () {
            this.syncCalcFieldsArray();
        };
        /**
         * Update Ui and show preview
         */
        IzendaInstantReportStorageService.prototype.updateUiStateAndRefreshPreview = function () {
            // remove drilldowns which are not in active tables
            this.updateDrilldowns();
            // update pivot state
            this.$izendaInstantReportPivotService.syncPivotState(this.getAllFieldsInActiveTables());
            // update filters state
            this.syncFilters();
            // apply/reset autogroups
            if (this.getActiveTables().length === 0 || this.isActiveFieldsContainsBinary()) {
                this.resetAutoGroups();
            }
            else {
                this.applyAutoGroups();
            }
        };
        /**
         * Fires when user check/uncheck field
         */
        IzendaInstantReportStorageService.prototype.applyFieldChecked = function (field, value, restrictTableUncheck) {
            var _this = this;
            return this.$q(function (resolve) {
                if (!field.enabled) {
                    _this.validateReport();
                    resolve();
                    return;
                }
                field.checked = angular.isDefined(value) ? value : !field.checked;
                field.order = _this.getNextOrder();
                // update state of datasources tree
                _this.updateParentFoldersAndTables(field, false, restrictTableUncheck);
                _this.initializeField(field).then(function () {
                    _this.updateUiStateAndRefreshPreview();
                    resolve();
                });
            });
        };
        /**
         * Select/unselect field
         */
        IzendaInstantReportStorageService.prototype.applyFieldSelected = function (field, value) {
            if (!angular.isObject(field)) {
                this.unselectAllFields();
                this.setCurrentActiveField(null);
                return;
            }
            if (!field.enabled)
                return;
            if (field.isMultipleColumns) {
                field.collapsed = !field.collapsed;
                return;
            }
            this.unselectAllFields();
            this.setCurrentActiveField(null);
            if (value) {
                this.setCurrentActiveField(field);
                field.selected = value;
                this.initializeField(field);
            }
        };
        /**
         * Check/uncheck table
         */
        IzendaInstantReportStorageService.prototype.applyTableActive = function (table) {
            var _this = this;
            return this.$q(function (resolve) {
                var updateAndResolve = function () {
                    _this.updateParentFolders(table);
                    _this.updateUiStateAndRefreshPreview();
                    resolve();
                };
                if (!table.enabled) {
                    return;
                }
                table.active = !table.active;
                table.order = _this.getNextOrder();
                if (!table.active) {
                    // deactivate all table fields
                    table.fields.forEach(function (f) { return f.checked = false; });
                    updateAndResolve();
                    return;
                }
                // table activated
                if (table.lazy) {
                    // load lazy fields
                    _this.loadLazyFields(table).then(function () {
                        updateAndResolve();
                    });
                }
                else {
                    updateAndResolve();
                }
            });
        };
        IzendaInstantReportStorageService.prototype.prepareParentFieldForMultipleFields = function (field) {
            var parentField = field;
            if (parentField.multipleColumns.length === 0) {
                // if field has no multiple fields:
                var copyField = angular.copy(field);
                parentField = copyField;
                copyField.mcAncestor = field;
                copyField.originId = field.id;
                copyField.isMultipleColumns = true;
                copyField.multipleColumnsCounter = 1;
                copyField.multipleColumns.push(field);
                var table = this.getTableById(field.parentId);
                var fieldIndex = table.fields.indexOf(field);
                table.fields[fieldIndex] = copyField;
            }
            return parentField;
        };
        /**
         * Add ready-to-use another field (no need to clone parent field)
         */
        IzendaInstantReportStorageService.prototype.addExactAnotherField = function (field, anotherFieldProperties) {
            var anotherField = this.createFieldObjectInner(anotherFieldProperties);
            // add to parent field.
            var parentField = this.prepareParentFieldForMultipleFields(field);
            parentField.multipleColumns.push(anotherField);
            parentField.multipleColumnsCounter++;
            anotherField.parentFieldId = parentField.id;
            anotherField.parentId = parentField.parentId;
            anotherField.name = parentField.name + parentField.multipleColumnsCounter;
            anotherField.tableSysname = parentField.tableSysname;
            anotherField.tableName = parentField.tableName;
            anotherField.sysname = parentField.sysname;
            anotherField.typeGroup = parentField.typeGroup;
            anotherField.type = parentField.type;
            anotherField.sqlType = parentField.sqlType;
            anotherField.allowedInFilters = parentField.allowedInFilters;
            anotherField.isDescriptionSetManually = true;
            return anotherField;
        };
        /**
         * Add more than one same field to report
         */
        IzendaInstantReportStorageService.prototype.addAnotherField = function (field, needToSelect) {
            var _this = this;
            var parentField = this.prepareParentFieldForMultipleFields(field);
            // add another field to parentField
            parentField.multipleColumnsCounter++;
            var anotherField = this.createFieldObject(parentField.name + parentField.multipleColumnsCounter, parentField.parentId, parentField.tableSysname, parentField.tableName, parentField.sysname, parentField.typeGroup, parentField.type, parentField.sqlType, parentField.allowedInFilters, parentField.isSpParameter);
            if (parentField.description)
                anotherField.description = parentField.description + ' ' + (parentField.multipleColumns.length + 1);
            anotherField.allowedInFilters = parentField.allowedInFilters;
            anotherField.order = this.getNextOrder();
            anotherField.guid = this.guid();
            anotherField.parentFieldId = parentField.id;
            this.initializeField(anotherField).then(function () {
                _this.applyAutoGroups();
            });
            parentField.multipleColumns.push(anotherField);
            // select if needed
            if (needToSelect) {
                this.unselectAllFields();
                anotherField.selected = true;
                this.setCurrentActiveField(anotherField);
            }
            return anotherField;
        };
        /**
         * Apply field config to field
         */
        IzendaInstantReportStorageService.prototype.loadReportField = function (field, fieldConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                var functionValue = fieldConfig.groupByFunction.value;
                var subtotalFunctionValue = fieldConfig.groupBySubtotalFunction.value;
                var formatValue = fieldConfig.format.value;
                angular.extend(field, fieldConfig);
                // remove column group from description: 'field description@column group'
                if (field.description.lastIndexOf('@') > 0 && field.columnGroup) {
                    field.description = field.description.substring(0, field.description.lastIndexOf('@'));
                }
                if (field.order > _this.orderCounter)
                    _this.orderCounter = field.order + 1;
                fieldConfig.expressionType = fieldConfig.expressionType || '...';
                var expressionType = _this.expressionTypes.firstOrDefault(function (e) { return e.value === fieldConfig.expressionType; });
                if (expressionType)
                    field.expressionType = expressionType;
                _this.loadGroupFunctionsAndFormatsToField(field, functionValue, formatValue, subtotalFunctionValue)
                    .then(function (f) {
                    if (fieldConfig.description) {
                        // if description differs from the default generated description: mark it as "set manually"
                        f.isDescriptionSetManually = fieldConfig.description !== _this.generateDescription(f);
                        f.description = fieldConfig.description;
                    }
                    else
                        _this.autoUpdateFieldDescription(f);
                    f.isInitialized = true;
                    resolve(f);
                });
            });
        };
        IzendaInstantReportStorageService.prototype.applyDescription = function (field) {
            var autoDescription = this.generateDescription(field);
            if (!field.description)
                field.isDescriptionSetManually = false;
            else
                field.isDescriptionSetManually = field.description !== autoDescription;
            this.syncCalcFieldsArray();
        };
        /**
         * Select drilldown fields
         */
        IzendaInstantReportStorageService.prototype.convertDrilldownFieldNamesToFields = function () {
            for (var i = 0; i < this.reportSet.drillDownFields.length; i++) {
                var currentItem = this.reportSet.drillDownFields[i];
                if (angular.isString(currentItem)) {
                    this.reportSet.drillDownFields[i] = this.getFieldBySysName(currentItem, true);
                }
            }
        };
        /**
         * Select charts
         */
        IzendaInstantReportStorageService.prototype.convertChartNamesToCharts = function () {
            for (var i = 0; i < this.reportSet.charts.length; i++) {
                var chart = this.reportSet.charts[i];
                if (chart && chart.hasOwnProperty('name') && chart.hasOwnProperty('category')) {
                    var vis = this.$izendaInstantReportVisualizationService.findVisualization(chart.category, chart.name);
                    vis.properties = this.reportSet.charts[i].properties;
                    this.reportSet.charts[i] = vis;
                }
            }
        };
        /**
         * Add loaded filters. reportSet.filters at this stage is not initialized
         * and we need to set field, operator and value objects.
         */
        IzendaInstantReportStorageService.prototype.loadFilters = function () {
            var _this = this;
            return this.$q(function (resolve) {
                var filterOperatorPromises = [];
                if (!angular.isArray(_this.reportSet.filters) || _this.reportSet.filters.length === 0) {
                    resolve();
                    return;
                }
                for (var i = 0; i < _this.reportSet.filters.length; i++) {
                    var filter = _this.reportSet.filters[i];
                    var filterConfig = {
                        fieldSysName: filter.sysname,
                        operatorName: filter.operatorString,
                        values: filter.values,
                        required: filter.required,
                        description: filter.description,
                        parameter: filter.parameter,
                        titleFormat: filter.titleFormat,
                        customPopupTemplateUrl: filter.customPopupTemplateUrl
                    };
                    var newFilter = _this.createNewFilterBase(filterConfig.fieldSysName, filterConfig.operatorName, filterConfig.values, filterConfig.required, filterConfig.description, filterConfig.parameter, filter.customPopupTemplateUrl);
                    _this.reportSet.filters[i] = newFilter;
                    // load filter formats
                    var formatLoadPromise = _this.loadFilterFormats(newFilter, filterConfig.titleFormat);
                    filterOperatorPromises.push(formatLoadPromise);
                    // set operator
                    var operatorPromise = void 0;
                    if (angular.isString(filterConfig.operatorName) && filterConfig.operatorName) {
                        operatorPromise = _this.setFilterOperator(newFilter, filterConfig.operatorName);
                    }
                    else {
                        operatorPromise = _this.setFilterOperator(newFilter, null);
                    }
                    filterOperatorPromises.push(operatorPromise);
                }
                // wait when all operators loaded
                _this.$q.all(filterOperatorPromises).then(function () {
                    var existentValuesPromises = _this.reportSet.filters.reduce(function (promise, filter) {
                        return promise.then(function () { return _this.updateFieldFilterExistentValues(filter, true); });
                    }, Promise.resolve([]));
                    // wait when all existent values loaded
                    _this.$q.all(existentValuesPromises).then(function () { return resolve(); });
                });
            });
        };
        /**
         * Initialize service for new report
         */
        IzendaInstantReportStorageService.prototype.newReport = function () {
            var _this = this;
            return this.$q(function (resolve) {
                if (!_this.isPageInitialized) {
                    _this.newReportLoadingSchedule = 'new!';
                    _this.$log.debug('newReport scheduled');
                    resolve(false);
                    return;
                }
                var promises = [];
                // load schedule data with default config for new report
                promises.push(_this.$izendaScheduleService.setScheduleConfig(null));
                promises.push(_this.$izendaShareService.setShareConfig(null));
                // set full access for new report:
                _this.$izendaCompatibilityService.setFullAccess();
                // load default table if defined
                var defaultTableName = _this.$izendaInstantReportSettingsService.getSettings().defaultTable;
                if (defaultTableName) {
                    var table = _this.getTableBySysname(defaultTableName) || _this.getTableByName(defaultTableName);
                    if (table) {
                        table.collapsed = false;
                        promises.push(_this.applyTableActive(table));
                    }
                }
                // wait until completed all asynchronous operations
                _this.$q.all(promises).then(function () { return resolve(); });
            });
        };
        /**
         * Load existing report
         */
        IzendaInstantReportStorageService.prototype.loadReport = function (reportFullName) {
            var _this = this;
            this.$log.debug("loadReport " + reportFullName + " start");
            return this.$q(function (resolve) {
                if (!_this.isPageInitialized) {
                    _this.existingReportLoadingSchedule = reportFullName;
                    _this.$log.debug('loadReport scheduled');
                    resolve([false]);
                    return;
                }
                // update UI params
                _this.currentActiveField = null;
                _this.setFiltersPanelOpened(false);
                var previousPreviewTop = 100;
                if (_this.reportSet && _this.reportSet.options)
                    previousPreviewTop = _this.reportSet.options.previewTop;
                // load report data
                _this.$izendaInstantReportQueryService.loadReport(reportFullName).then(function (reportSetConfig) {
                    _this.resetDataSources();
                    _this.reportSet = angular.extend(_this.reportSet, reportSetConfig);
                    _this.$izendaCompatibilityService.setRights(_this.reportSet.options.effectiveRights);
                    _this.$izendaCompatibilityService.setUsesHiddenColumns(_this.reportSet.options.usesHiddenColumns);
                    // update top
                    if (_this.reportSet.options.top < 0)
                        _this.reportSet.options.top = '';
                    _this.reportSet.options.previewTop = previousPreviewTop;
                    var lazyPromises = [];
                    _this.reportSet.joinedTables.forEach(function (tableObj) {
                        var table = _this.getTableBySysname(tableObj.sysname);
                        var loadFieldPromise = _this.loadLazyFields(table);
                        table.active = true;
                        table.order = _this.getNextOrder();
                        lazyPromises.push(loadFieldPromise);
                    });
                    // wait until table fields will be loaded:
                    _this.$q.all(lazyPromises).then(function () {
                        // initialization promises
                        var promises = [];
                        // convert chart names to chart objects collection
                        _this.convertChartNamesToCharts();
                        // convert drilldown field sysnames to fields collection:
                        _this.convertDrilldownFieldNamesToFields();
                        // load pivot fields
                        if (angular.isObject(_this.reportSet.pivot)) {
                            var pivotColumnConfig = angular.copy(_this.reportSet.pivot.pivotColumn);
                            var pivotColumnField = _this.getFieldBySysName(pivotColumnConfig.sysname, true);
                            _this.reportSet.pivot.pivotColumn = angular.copy(pivotColumnField);
                            _this.reportSet.pivot.pivotColumn.isPivotColumn = true;
                            promises.push(_this.loadReportField(_this.reportSet.pivot.pivotColumn, pivotColumnConfig));
                            for (var i = 0; i < _this.reportSet.pivot.cellValues.length; i++) {
                                var cellValueConfig = angular.copy(_this.reportSet.pivot.cellValues[i]);
                                _this.reportSet.pivot.cellValues[i] = angular.copy(_this.getFieldBySysName(cellValueConfig.sysname, true));
                                promises.push(_this.loadReportField(_this.reportSet.pivot.cellValues[i], cellValueConfig));
                            }
                        }
                        // convert fields
                        var addedFieldSysNames = [];
                        _this.reportSet.activeFields.forEach(function (activeField) {
                            var sysname = activeField.sysname;
                            var field = _this.getFieldBySysName(sysname, true);
                            if (!angular.isObject(field))
                                _this.$log.error("Field " + sysname + " not found in datasources");
                            var isFieldMultiple = addedFieldSysNames.indexOf(sysname) >= 0;
                            if (!isFieldMultiple) {
                                field.guid = activeField.guid;
                                promises.push(_this.loadReportField(field, activeField));
                                field.checked = true;
                                _this.updateParentFoldersAndTables(field, true);
                                addedFieldSysNames.push(sysname);
                            }
                            else {
                                var anotherField = _this.addExactAnotherField(field, activeField);
                                anotherField.guid = activeField.guid;
                                if (activeField.description) {
                                    anotherField.isDescriptionSetManually = true;
                                    anotherField.description = activeField.description;
                                }
                                promises.push(_this.loadReportField(anotherField, activeField));
                                anotherField.checked = true;
                            }
                        });
                        _this.syncCalcFieldsArray();
                        // pivots initialization
                        if (angular.isObject(_this.reportSet.pivot)) {
                            var pivotData = _this.reportSet.pivot;
                            promises.push(_this.$izendaInstantReportPivotService.loadPivotData(pivotData));
                            _this.reportSet.pivot = null;
                        }
                        // convert filters
                        promises.push(_this.loadFilters());
                        // load schedule data for config
                        var scheduleConfigData = angular.extend({}, reportSetConfig.schedule);
                        promises.push(_this.$izendaScheduleService.setScheduleConfig(scheduleConfigData));
                        // load share data for config
                        var shareConfigData = angular.extend([], reportSetConfig.share);
                        promises.push(_this.$izendaShareService.setShareConfig(shareConfigData));
                        // wait for all preparations completion
                        _this.$q.all(promises).then(function () {
                            _this.validateFilters();
                            _this.startFilters();
                            if (_this.$izendaCompatibilityService.isUsesHiddenColumns()) {
                                if (_this.reportSet.activeFields.length > 0)
                                    _this.$izendaUtilUiService.showMessageDialog(_this.$izendaLocaleService.localeText('js_reportSetUsesHiddenColumns', 'This ReportSet has publicly unavailable fields in configuration, therefore it misses some elements on current page, and cannot be saved/updated. Use Save As with different name instead.'));
                                else
                                    _this.$izendaUtilUiService.showMessageDialog(_this.$izendaLocaleService.localeText('js_reportSetUsesAllHiddenColumns', 'All fields in this report are unavailable. Please choose another fields and use Save As with different name instead.'));
                            }
                            _this.$log.debug('loadReport end');
                            resolve([true, true]);
                        });
                    });
                }, function (error) {
                    // error loading report set config
                    // show error dialog
                    _this.$izendaUtilUiService.showErrorDialog(_this.$izendaLocaleService.localeText('js_FailedToLoadReport', 'Failed to load report') + ': "' + error + '"', _this.$izendaLocaleService.localeText('js_ReportLoadError', 'Report load error'));
                    // redirect to new report
                    _this.$izendaUrlService.setIsNew();
                    resolve([true, false]);
                });
            });
        };
        /**
         * Remove another field
         */
        IzendaInstantReportStorageService.prototype.removeAnotherField = function (field, anotherField) {
            var idx = field.multipleColumns.indexOf(anotherField);
            if (idx >= 0) {
                if (this.getCurrentActiveField() === anotherField)
                    this.setCurrentActiveField(null);
                var isReplaceIdNeeded = field.originId === anotherField.id;
                field.multipleColumns.splice(idx, 1);
                if (field.multipleColumns.length > 0 && isReplaceIdNeeded)
                    field.multipleColumns[0].id = field.originId;
            }
            else {
                throw "Can't find " + anotherField.name + " in multipleColumns collection.";
            }
            if (field.multipleColumns.length === 1) {
                this.copyFieldObject(field.multipleColumns[0], field);
                field.multipleColumns = [];
                field.isMultipleColumns = false;
                field.collapsed = false;
                field.parentFieldId = null;
                this.autoUpdateFieldDescription(field);
            }
        };
        /**
         * Set sort value for field.
         */
        IzendaInstantReportStorageService.prototype.applyFieldSort = function (field, sortString) {
            if (angular.isString(sortString)) {
                if (sortString === 'asc') {
                    field.sort = 'asc';
                }
                else if (sortString === 'desc') {
                    field.sort = 'desc';
                }
                else {
                    if (!field.isVgUsed)
                        field.sort = null;
                }
            }
            else {
                if (!field.isVgUsed)
                    field.sort = null;
            }
        };
        /**
         * Set field italic
         */
        IzendaInstantReportStorageService.prototype.applyFieldItalic = function (field, value) {
            field.italic = value;
        };
        /**
         * Set field visible
         */
        IzendaInstantReportStorageService.prototype.applyFieldVisible = function (field, value) {
            if (!value)
                field.isVgUsed = false;
            field.visible = value;
        };
        /**
         * Set field bold
         */
        IzendaInstantReportStorageService.prototype.applyFieldBold = function (field, value) {
            field.bold = value;
        };
        /**
         * Set visual group
         */
        IzendaInstantReportStorageService.prototype.applyVisualGroup = function (field, value) {
            if (value && field.sort === null) {
                this.applyFieldSort(field, 'asc');
            }
            field.isVgUsed = value;
            this.updateVisualGroupFieldOrders(field);
        };
        /**
         * Column reorder. Indexes started from 1: 1,2,3,4,5,6
         */
        IzendaInstantReportStorageService.prototype.swapFields = function (fromIndex, toIndex) {
            if (fromIndex === toIndex)
                return;
            var activeFieldsSortedList = this.getAllActiveFields().filter(function (item) { return !item.isVgUsed; });
            activeFieldsSortedList.sort(function (f1, f2) { return f1.order - f2.order; });
            var field1 = activeFieldsSortedList[fromIndex - 1];
            var field2 = activeFieldsSortedList[toIndex - 1];
            var fieldOrder1 = field1.order;
            var fieldOrder2 = field2.order;
            field1.order = fieldOrder2;
            field2.order = fieldOrder1;
        };
        /**
         * We need to set visual group fields order first and other fields next.
         */
        IzendaInstantReportStorageService.prototype.updateVisualGroupFieldOrders = function (recentlyChangedField) {
            var _this = this;
            var activeFields = this.getAllActiveFields();
            var vgFields = activeFields.filter(function (f) { return f.isVgUsed; });
            // if we don't have VG fields - do nothing.
            if (vgFields.length === 0)
                return;
            // we need to update field orders:
            // vgField1, vgField2, ..., vgFieldN, nonVg1, nonVg2, ..., nonVgM
            // if we turned on visual group on currently changed field - move it to the last position of vg fields
            if (recentlyChangedField && recentlyChangedField.isVgUsed)
                recentlyChangedField.order = vgFields.reduce(function (max, f) { return f.order > max ? f.order : max; }, vgFields[0].order) + 1;
            // recalculate fields order
            vgFields.sort(function (a, b) { return a.order - b.order; });
            vgFields.forEach(function (f) { return f.order = _this.getNextOrder(); });
            var nonVgFields = activeFields.filter(function (f) { return !f.isVgUsed; });
            // if we turned off visual group on currently changed field - move it to the first position of non-vg fields.
            if (nonVgFields.length && recentlyChangedField && !recentlyChangedField.isVgUsed)
                recentlyChangedField.order = nonVgFields.reduce(function (min, f) { return f.order < min ? f.order : min; }, nonVgFields[0].order) - 1;
            // recalculate fields order
            nonVgFields.sort(function (a, b) { return a.order - b.order; });
            nonVgFields.forEach(function (f) { return f.order = _this.getNextOrder(); });
        };
        /**
         * Change field order
         */
        IzendaInstantReportStorageService.prototype.moveFieldToPosition = function (fromIndex, toIndex, isVisualGroup, takeCareOfInvisibleFields) {
            if (fromIndex === toIndex)
                return;
            var fields = this.getAllActiveFields().filter(function (field) {
                // extract vg|non-vg fields (depends on isVisualGroup param)
                return (isVisualGroup ^ field.isVgUsed) === 0;
            });
            var activeFieldsSorted = fields.sort(function (f1, f2) { return f1.order - f2.order; });
            var visibleFieldsSorted = takeCareOfInvisibleFields
                ? activeFieldsSorted.filter(function (f) { return f.visible; })
                : activeFieldsSorted;
            // calculate actual fromIndex and toIndex
            var fromElement = visibleFieldsSorted[fromIndex];
            if (takeCareOfInvisibleFields) {
                fromIndex = activeFieldsSorted.indexOf(fromElement);
                var element = visibleFieldsSorted[toIndex];
                toIndex = activeFieldsSorted.indexOf(element);
            }
            // Move element: fromIndex -> toIndex that way:
            // for example, we're sorting visual group columns which has orders activeFieldsSorted=[c1=1,c2=2,c3=5]
            // (3, 4, 6,... - are non vg columns)
            // and we need to move 1 --> 3, so the result orders will be [c1=5,c2=1,c3=2]. non vg column orders won't be touched.
            if (fromIndex < toIndex) {
                var previousOrder = activeFieldsSorted[fromIndex].order;
                for (var j = fromIndex + 1; j <= toIndex; j++) {
                    var order = activeFieldsSorted[j].order;
                    activeFieldsSorted[j].order = previousOrder;
                    previousOrder = order;
                }
                activeFieldsSorted[fromIndex].order = previousOrder;
            }
            else {
                var nextOrder = activeFieldsSorted[fromIndex].order;
                for (var j = fromIndex - 1; j >= toIndex; j--) {
                    var order = activeFieldsSorted[j].order;
                    activeFieldsSorted[j].order = nextOrder;
                    nextOrder = order;
                }
                activeFieldsSorted[fromIndex].order = nextOrder;
            }
        };
        IzendaInstantReportStorageService.prototype.getPreviewSplashVisible = function () {
            return this.isPreviewSplashVisible;
        };
        IzendaInstantReportStorageService.prototype.getPreviewSplashText = function () {
            return this.previewSplashText;
        };
        IzendaInstantReportStorageService.prototype.hasAggregateFormats = function () {
            if (!this.activeCheckedFields)
                return false;
            var aggregateFormats = [
                'PercentOfGroup',
                'PercentOfGroupWithRounding',
                'Gauge',
                'GaugeVariable',
                'GaugeDashboard'
            ];
            for (var i = 0; i < this.activeCheckedFields.length; i++) {
                var field = this.activeCheckedFields[i];
                if (!field || !field.format || !field.format.value)
                    continue;
                if (aggregateFormats.indexOf(field.format.value) >= 0)
                    return true;
            }
            return false;
        };
        /**
         * Restore default color settings.
         */
        IzendaInstantReportStorageService.prototype.restoreDefaultColors = function () {
            var style = this.reportSet.options.style;
            var settings = this.$izendaInstantReportSettingsService.getSettings();
            style.borderColor = settings.reportBorderColor;
            style.headerColor = settings.reportHeaderColor;
            style.headerForecolor = settings.headerForegroundColor;
            style.itemColor = settings.reportItemColor;
            style.itemForeColor = settings.itemForegroundColor;
            style.itemAltColor = settings.reportAlternatingItemColor;
        };
        /**
         * Get default field format (based on field typegroup)
         * @param {object} field Field.
         */
        IzendaInstantReportStorageService.prototype.getDefaultFieldFormat = function (typeGroup) {
            var formatKey;
            switch (typeGroup) {
                case 'Numeric':
                    formatKey = '{0:#,0}';
                    break;
                case 'Real':
                    formatKey = '{0:#,0.00}';
                    break;
                case 'Money':
                    formatKey = '{0:C2}';
                    break;
                case 'DateTime':
                    formatKey = '{0:d}';
                    break;
                default:
                    formatKey = '{0}';
            }
            return formatKey;
        };
        Object.defineProperty(IzendaInstantReportStorageService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportStorageService.register = function (module) {
            module
                .constant('izendaInstantReportObjectDefaults', {
                reportName: null,
                reportCategory: null,
                dataSources: [],
                charts: [],
                filters: [],
                filterOptions: {
                    require: 'None',
                    filterLogic: ''
                },
                drillDownFields: [],
                options: {
                    usesHiddenColumns: false,
                    rowsRange: null,
                    distinct: true,
                    showFiltersInReportDescription: false,
                    isSubtotalsEnabled: false,
                    exposeAsDatasource: false,
                    hideGrid: false,
                    top: '',
                    previewTop: 100,
                    imageAlign: 'L',
                    title: '',
                    titleAlign: 'L',
                    description: '',
                    descriptionAlign: 'L',
                    headerAndFooter: {
                        reportHeader: '',
                        reportHeaderAlign: 'L',
                        reportFooter: '',
                        reportFooterAlign: 'L',
                        pageHeader: ''
                    },
                    style: {
                        borderColor: '#ffffff',
                        headerColor: '#483d8b',
                        headerForecolor: '#ffffff',
                        itemColor: '#ffffff',
                        itemForeColor: '#000000',
                        itemAltColor: '#dcdcdc',
                        isHeadersBold: false,
                        isHeadersItalic: false,
                        customCss: ''
                    },
                    page: {
                        landscapePrinting: false,
                        showPageNumber: false,
                        showDateAndTime: false,
                        usePagination: true,
                        itemsPerPage: 10000,
                        addBookmarkForVg: false,
                        pageBreakAfterVg: false,
                        minimizeGridWidth: true,
                        enableResponsiveGrid: true,
                        vgStyle: 'CommaDelimited',
                        pivotsPerPage: '',
                        splitAllColumns: false,
                        pageBreakOnSplit: false
                    }
                },
                isFieldsAutoGrouped: false
            })
                .constant('izendaFilterObjectDefaults', {
                initialized: false,
                field: null,
                required: false,
                description: '',
                parameter: true,
                operatorString: '',
                operator: null,
                operators: [],
                existentValues: [],
                values: [],
                titleFormat: null,
                titleFormats: [],
                isValid: true,
                validationMessages: [],
                validationMessageString: '',
                customPopupTemplateUrl: null,
                isFilterReady: false
            })
                .constant('izendaDefaultFunctionObject', {
                dataType: 'Unknown',
                dataTypeGroup: 'None',
                isScalar: '0',
                sqlTemplate: '{0}',
                text: '...',
                value: 'None',
                group: ''
            })
                .constant('izendaDefaultSubtotalFunctionObject', {
                dataType: 'Unknown',
                dataTypeGroup: 'None',
                isScalar: '0',
                sqlTemplate: '{0}',
                text: '(Default)',
                value: 'DEFAULT',
                group: ''
            })
                .constant('izendaDefaultFormatObject', {
                text: '...',
                value: '{0}',
                group: ''
            })
                .service('$izendaInstantReportStorageService', IzendaInstantReportStorageService.injectModules.concat(IzendaInstantReportStorageService));
        };
        return IzendaInstantReportStorageService;
    }());
    exports.default = IzendaInstantReportStorageService;
});
izendaRequire.define("instant-report/services/instant-report-validation", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportValidationService = /** @class */ (function () {
        function IzendaInstantReportValidationService($izendaLocaleService, $izendaInstantReportStorageService, $izendaInstantReportPivotService, $izendaInstantReportSettingsService, $izendaCompatibilityService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            this.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            this.$izendaInstantReportSettingsService = $izendaInstantReportSettingsService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.validation = {
                isValid: true,
                messages: []
            };
            this.binaryFieldsArray = ['Null', 'Unknown', 'Binary', 'VarBinary', 'Text', 'Image'];
        }
        Object.defineProperty(IzendaInstantReportValidationService, "injectModules", {
            get: function () {
                return [
                    '$izendaLocaleService',
                    '$izendaInstantReportStorageService',
                    '$izendaInstantReportPivotService',
                    '$izendaInstantReportSettingsService',
                    '$izendaCompatibilityService'
                ];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Is report valid getter
         * @returns {boolean}
         */
        IzendaInstantReportValidationService.prototype.isReportValid = function () {
            return this.validation.isValid;
        };
        /**
         * Validation object getter
         * @returns {object}
         */
        IzendaInstantReportValidationService.prototype.getValidation = function () {
            return this.validation;
        };
        /**
         * Get list of validation messages
         * @returns {Array}.
         */
        IzendaInstantReportValidationService.prototype.getValidationMessages = function () {
            return this.validation.messages;
        };
        /**
         * Validate pivots.
         */
        IzendaInstantReportValidationService.prototype.validatePivots = function () {
            var pivotColumn = this.$izendaInstantReportPivotService.getPivotColumn();
            var pivotCells = this.$izendaInstantReportPivotService.getCellValues();
            // check if pivot column was set:
            if (angular.isObject(pivotColumn)) {
                if (!pivotCells || !pivotCells.length) {
                    // show warning when pivot cells wasn't added.
                    this.validation.isValid = false;
                    this.validation.messages.push({
                        type: 'info',
                        text: this.$izendaLocaleService.localeText('js_AddPivotCellsWarning', 'You should add pivot cells to enable pivot view.')
                    });
                }
                else {
                    var havePivotCells = pivotCells.some(function (p) { return angular.isObject(p); });
                    if (!havePivotCells) {
                        this.validation.isValid = false;
                        this.validation.messages.push({
                            type: 'info',
                            text: this.$izendaLocaleService.localeText('js_SpecifyPivotColumnWarning', 'You should specify column for at least one pivot cell (pivot cells without column will be ignored).')
                        });
                    }
                }
            }
        };
        /**
         * Clear all validation messages and state
         */
        IzendaInstantReportValidationService.prototype.clearValidation = function () {
            this.validation.isValid = true;
            this.validation.messages = [];
        };
        /**
         * Return existing validation actions
         */
        IzendaInstantReportValidationService.prototype.getValidationActions = function () {
            return this.validation.messages
                .map(function (m) { return m.additionalActionType; })
                .filter(function (a) { return !!a; });
        };
        /**
         * Validate report set
         * @returns {boolean} report is valid
         */
        IzendaInstantReportValidationService.prototype.validateReportSet = function () {
            var _this = this;
            this.clearValidation();
            var pivotColumn = this.$izendaInstantReportPivotService.getPivotColumn();
            var activeFields = this.$izendaInstantReportStorageService.getAllFieldsInActiveTables();
            var options = this.$izendaInstantReportStorageService.getOptions();
            // try to find at least one active field
            var binaryFields = [];
            var hasActiveFields = false;
            activeFields.forEach(function (field) {
                hasActiveFields = hasActiveFields || field.checked;
                if (field.checked && _this.binaryFieldsArray.indexOf(field.sqlType) >= 0) {
                    binaryFields.push(field);
                }
            });
            // try to find active pivot fields
            hasActiveFields = hasActiveFields || this.$izendaInstantReportPivotService.isPivotValid();
            // create validation result for fields
            if (!hasActiveFields && !pivotColumn) {
                this.validation.isValid = false;
                this.validation.messages.push({
                    type: 'info',
                    text: this.$izendaLocaleService.localeText('js_YouShouldSelectField', 'You should select at least one field to see preview.')
                });
            }
            // stored procedure parameters validation
            if (!this.$izendaInstantReportStorageService.isAllSpParametersAssigned()) {
                this.validation.isValid = false;
                this.validation.messages.push({
                    type: 'info',
                    text: this.$izendaLocaleService.localeText('js_spParameterIsRequired', 'Please specify values for your stored procedure parameters in the filters.')
                });
            }
            // distinct validation
            if (this.$izendaInstantReportSettingsService.getSettings().showDistinct && options.distinct && binaryFields.length > 0) {
                var binaryFieldsString = binaryFields
                    .map(function (bField) { return "\"" + bField.name + "\" (" + bField.sqlType + ")"; })
                    .join(', ');
                this.validation.messages.push({
                    type: 'info',
                    additionalActionType: 'TURN_OFF_DISTINCT',
                    text: this.$izendaLocaleService.localeTextWithParams('js_ColumnsIsntCompatibleWithDistinct', 'Report contain columns: {0}. These columns are not compatable with "distinct" setting. Distinct setting was disabled!', [binaryFieldsString])
                });
            }
            // run pivots validation
            this.validatePivots();
            return this.validation.isValid;
        };
        ;
        /**
         * Validate report set and refresh preview.
         */
        IzendaInstantReportValidationService.prototype.validateReportSetAndRefresh = function (forceRefresh) {
            if (forceRefresh === void 0) { forceRefresh = false; }
            var validationResult = this.validateReportSet();
            var validationActions = this.getValidationActions();
            if (validationResult) {
                // report is valid
                if (validationActions.indexOf('TURN_OFF_DISTINCT') >= 0)
                    this.$izendaInstantReportStorageService.getOptions().distinct = false;
                if (forceRefresh || !this.$izendaCompatibilityService.isSmallResolution())
                    this.$izendaInstantReportStorageService.getReportPreviewHtml();
            }
            else {
                // report not valid
                this.$izendaInstantReportStorageService.clearReportPreviewHtml();
            }
        };
        Object.defineProperty(IzendaInstantReportValidationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportValidationService.register = function (module) {
            module.service('$izendaInstantReportValidationService', IzendaInstantReportValidationService.injectModules.concat(IzendaInstantReportValidationService));
        };
        return IzendaInstantReportValidationService;
    }());
    exports.default = IzendaInstantReportValidationService;
});
izendaRequire.define("instant-report/directive/instant-report-field-draggable", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_24) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Item draggable directive
     */
    module_definition_24.default.directive('izendaInstantReportFieldDraggable', ['$rootScope',
        function ($rootScope) {
            return {
                restrict: 'A',
                link: function (scope, elem, attrs) {
                    var handle = attrs.draggableHandle || false;
                    angular.element(elem)['draggable']({
                        handle: handle,
                        start: function () {
                            $rootScope.isDraggingNow = true;
                            $rootScope.$applyAsync();
                        },
                        stop: function () {
                            $rootScope.isDraggingNow = false;
                            $rootScope.$applyAsync();
                        },
                        helper: function (event) {
                            var $target = angular.element(this);
                            var $helper = $target.clone();
                            $helper.css({
                                'position': 'absolute',
                                'width': $target.width(),
                                'height': $target.height()
                            });
                            $helper.attr('draggable-data-id', $target.attr('draggable-data-id'));
                            return $helper;
                        },
                        cursorAt: { left: -10, top: -10 },
                        appendTo: 'body',
                        distance: 10,
                        cursor: 'move',
                        zIndex: 9999
                    });
                    scope.$parent.$watch(attrs.draggableEnabled, function (newEnabled) {
                        angular.element(elem)['draggable'](newEnabled ? 'enable' : 'disable');
                    });
                }
            };
        }
    ]);
    /**
     * Item droppable directive
     */
    module_definition_24.default.directive('izendaInstantReportFieldDroppable', [
        function () {
            return {
                restrict: 'A',
                scope: {
                    droppableAccept: '@',
                    onDrop: '&'
                },
                link: function (scope, elem, attrs) {
                    angular.element(elem)['droppable']({
                        accept: scope.droppableAccept,
                        activeClass: 'draggable-highlight',
                        hoverClass: 'draggable-highlight-hover',
                        tolerance: 'pointer',
                        drop: function (event, ui) {
                            if (angular.isFunction(scope.onDrop)) {
                                scope.onDrop({
                                    arg0: angular.element(ui.helper).attr('draggable-data-id')
                                });
                            }
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/directive/instant-report-left-panel-resize", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_25) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportLeftPanelResizeDirective = /** @class */ (function () {
        function IzendaInstantReportLeftPanelResizeDirective($window, $izendaCompatibilityService) {
            var _this = this;
            this.$window = $window;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.restrict = 'A';
            this.scope = {
                leftPanelSelector: '@',
                mainPanelSelector: '@',
                opened: '='
            };
            IzendaInstantReportLeftPanelResizeDirective.prototype.link = function ($scope, $element) {
                var getWidth = function ($el) {
                    var elWidth = $el.width();
                    var styleData = String($el.attr('data-style'));
                    var styleString = styleData ? styleData : String($el.attr('style'));
                    if (styleString) {
                        // find "width: NNNpx" items and parse it.
                        styleString.split(';')
                            .filter(function (x) { return x && x.trim().indexOf('width') === 0; })
                            .forEach(function (x) {
                            var widthArray = x.split(':');
                            var widthString = widthArray[1].trim();
                            var initialValue = elWidth;
                            elWidth = parseInt(widthString.substring(0, widthString.length - 2));
                            if (isNaN(elWidth))
                                elWidth = initialValue;
                        });
                    }
                    return elWidth;
                };
                var applyCustomEvent = function () {
                    if (!_this.$izendaCompatibilityService.isIe()) {
                        _this.$window.dispatchEvent(new Event('izendaCustomResize'));
                    }
                    else {
                        var evt = document.createEvent('UIEvents');
                        evt.initUIEvent('resize', true, false, window, 0);
                        window.dispatchEvent(evt);
                    }
                };
                $scope.$izendaCompatibilityService = _this.$izendaCompatibilityService;
                var $elem = angular.element($element);
                var $left = angular.element($scope.leftPanelSelector);
                var $main = angular.element($scope.mainPanelSelector);
                var isLeftInitialized = false;
                var isMainInitialized = false;
                // initialize jquery objects
                var initializeElements = function () {
                    if (!isLeftInitialized) {
                        $left = angular.element($scope.leftPanelSelector);
                        isLeftInitialized = $left.length > 0;
                    }
                    if (!isMainInitialized) {
                        $main = angular.element($scope.mainPanelSelector);
                        isMainInitialized = $main.length > 0;
                    }
                };
                var initStyles = function ($el) {
                    var width = getWidth($el);
                    var leftStyle = "width: " + width + "px";
                    var mainStyle = "margin-left: " + (width + 4) + "px";
                    $elem.attr('style', "width: " + width + "px");
                    $elem.attr('data-style', "left: " + width + "px");
                    $left.attr('style', leftStyle);
                    $left.attr('data-style', leftStyle);
                    $main.attr('style', mainStyle);
                    $main.attr('data-style', mainStyle);
                };
                // initialize draggable
                var windowWidth = angular.element(_this.$window).width();
                $elem['draggable']({
                    axis: 'x',
                    zIndex: 2,
                    containment: [350, 0, Math.min(1500, windowWidth - 500), 0],
                    drag: function (event, ui) {
                        initializeElements();
                        var currentLeftStyle = "width: " + ui.position.left + "px";
                        var currentMainStyle = "margin-left: " + (ui.position.left + 4) + "px";
                        $elem.attr('data-style', "left: " + ui.position.left + "px");
                        $left.attr('style', currentLeftStyle);
                        $left.attr('data-style', currentLeftStyle);
                        $main.attr('style', currentMainStyle);
                        $main.attr('data-style', currentMainStyle);
                        applyCustomEvent();
                    }
                });
                initializeElements();
                initStyles($left);
                // open/close left panel handler
                $scope.$watch('opened', function (newOpened) {
                    initializeElements();
                    var isMobileView = _this.$izendaCompatibilityService.isSmallResolution();
                    var collapsedLeft = isMobileView ? 48 : 128;
                    var width = getWidth($left);
                    if (newOpened) {
                        var dataStyleLeft = String($left.attr('data-style')) || "width: " + (isMobileView ? '100%' : width + 'px');
                        var dataStyleMain = String($main.attr('data-style')) || "margin-left: " + (width + 4) + "px;";
                        var dataStyleElem = String($elem.attr('data-style')) || "left: " + width + "px;";
                        $left.attr('style', dataStyleLeft);
                        $main.attr('style', dataStyleMain);
                        $element.attr('style', dataStyleElem);
                    }
                    else {
                        $left.attr('style', "width: " + collapsedLeft + "px;");
                        $main.attr('style', "margin-left: " + collapsedLeft + "px;");
                        $element.attr('style', 'left: -4px;');
                    }
                    applyCustomEvent();
                });
            };
        }
        IzendaInstantReportLeftPanelResizeDirective.factory = function () {
            var directive = function ($window, $izendaCompatibilityService) {
                return new IzendaInstantReportLeftPanelResizeDirective($window, $izendaCompatibilityService);
            };
            directive.$inject = ['$window', '$izendaCompatibilityService'];
            return directive;
        };
        return IzendaInstantReportLeftPanelResizeDirective;
    }());
    module_definition_25.default.directive('izendaInstantReportLeftPanelResize', [
        '$window', '$izendaCompatibilityService', IzendaInstantReportLeftPanelResizeDirective.factory()
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-charts-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_26) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report charts controller definition
     */
    module_definition_26.default.controller('InstantReportChartsController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$izendaUrlService',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportVisualizationService',
        '$izendaInstantReportValidationService',
        '$log',
        function ($rootScope, $scope, $window, $timeout, $q, $izendaUrlService, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportVisualizationService, $izendaInstantReportValidationService, $log) {
            'use strict';
            var vm = this;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaInstantReportVisualizationService = $izendaInstantReportVisualizationService;
            vm.visualizationConfig = $izendaInstantReportVisualizationService.getVisualizationConfig();
            vm.selectedChart = null;
            /**
             * Select chart
             */
            vm.selectChart = function (chart) {
                if (vm.selectedChart === chart) {
                    vm.selectedChart = null;
                    $izendaInstantReportStorageService.selectChart(null);
                    if (!$izendaCompatibilityService.isSmallResolution())
                        $izendaInstantReportValidationService.validateReportSetAndRefresh();
                }
                else {
                    vm.selectedChart = chart;
                    $izendaInstantReportStorageService.selectChart(chart);
                    if (!$izendaCompatibilityService.isSmallResolution())
                        $izendaInstantReportValidationService.validateReportSetAndRefresh();
                }
            };
            /**
             * Prepare config
             */
            vm.prepareConfig = function () {
                if (!angular.isObject(vm.visualizationConfig))
                    return;
                if (!angular.isArray(vm.visualizationConfig.categories))
                    return;
                angular.element.each(vm.visualizationConfig.categories, function (iCategory, category) {
                    category.opened = iCategory === 0;
                });
            };
            /**
             * Open new window with chart help
             * @param {object} chart object
             */
            vm.showChartHelp = function (chart) {
                if (!angular.isObject(chart))
                    throw 'Chart parameter should be object';
                $window.open(chart.docUrl, '_blank');
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                $scope.$watch('$izendaInstantReportVisualizationService.getVisualizationConfig()', function (visConfig) {
                    vm.visualizationConfig = visConfig;
                    vm.prepareConfig();
                });
                $scope.$watch('$izendaInstantReportStorageService.getSelectedChart()', function (chart) {
                    vm.selectedChart = chart;
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-columns-sort-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_27) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report filters controller
     */
    module_definition_27.default.controller('InstantReportColumnsSortController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportValidationService) {
            'use strict';
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            var vm = this;
            //vm.panelOpened = false;
            vm.activeFields = $izendaInstantReportStorageService.getAllActiveFields();
            vm.columnReordered = function (fromIndex, toIndex, isVisualGroupColumn) {
                $izendaInstantReportStorageService.moveFieldToPosition(fromIndex, toIndex, isVisualGroupColumn, false);
                if (!$izendaCompatibilityService.isSmallResolution())
                    $izendaInstantReportValidationService.validateReportSetAndRefresh();
                $scope.$applyAsync();
            };
            vm.columnSelected = function (field) {
                $izendaInstantReportStorageService.applyFieldSelected(field, true);
                $scope.$applyAsync();
            };
            /**
             * Initialize watches
             */
            vm.initWatchers = function () {
                $scope.$watch('$izendaInstantReportStorageService.getAllActiveFields()', function (newActiveFields) {
                    vm.activeFields = newActiveFields;
                }, true);
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
            };
            vm.initWatchers();
        }
    ]);
    /**
     * Columns reorder directive
     */
    angular.module('izendaInstantReport').directive('instantReportColumnsReorder', [
        '$izendaLocaleService',
        '$izendaInstantReportStorageService',
        function ($izendaLocaleService, $izendaInstantReportStorageService) {
            return {
                restrict: 'EA',
                scope: {
                    ngItems: '=',
                    showSortButtons: '@',
                    onReorder: '&',
                    onClick: '&'
                },
                template: '<div class="izenda-reorder-header vg">' + $izendaLocaleService.localeText('js_VisGroupColumns', 'Visual group columns') + '</div>' +
                    '<ul class="izenda-reorder list-unstyled vg">' +
                    '<li class="izenda-reorder-item" ng-repeat="item in vgList" ng-bind="item.title">' +
                    '<span class="pull-right glyphicon glyphicon-arrow-up"></span>' +
                    '<span class="pull-right glyphicon glyphicon-arrow-down"></span>' +
                    '</li>' +
                    '</ul>' +
                    '<div class="izenda-reorder-header simple">' + $izendaLocaleService.localeText('js_Columns', 'Columns') + '</div>' +
                    '<ul class="izenda-reorder list-unstyled simple">' +
                    '<li class="izenda-reorder-item" ng-repeat="item in simpleList" ng-bind="item.title">' +
                    '<span class="pull-right glyphicon glyphicon-arrow-up"></span>' +
                    '<span class="pull-right glyphicon glyphicon-arrow-down"></span>' +
                    '</li>' +
                    '</ul>',
                link: function (scope, element, attrs) {
                    var $vgList = element.find('.izenda-reorder.vg'), $simpleList = element.find('.izenda-reorder.simple'), $vgListHeader = element.find('.izenda-reorder-header.vg'), $simpleListHeader = element.find('.izenda-reorder-header.simple');
                    var doClick = function (field) {
                        if (field && angular.isFunction(scope.onClick))
                            scope.onClick({ field: field });
                    };
                    /**
                     * Call reorder handler
                     */
                    var doReorder = function (startPosition, endPosition, isVg) {
                        if (angular.isFunction(scope.onReorder))
                            scope.onReorder({
                                arg0: startPosition,
                                arg1: endPosition,
                                arg2: isVg
                            });
                    };
                    /**
                     * Sort handler
                     */
                    var sortUpdateHandler = function (event, ui) {
                        var $elem = ui.item, $parent = $elem.closest('.izenda-reorder');
                        var startPosition = parseInt($elem.attr('data-order'));
                        var endPosition = $elem.index();
                        // update indexes
                        $parent.children().each(function (i) {
                            angular.element(this).attr('data-order', i);
                        });
                        doReorder(startPosition, endPosition, $parent.hasClass('vg'));
                    };
                    /**
                     * Prepare data and update sortable
                     */
                    var prepare = function (items) {
                        // prepare lists
                        var vgList = [], simpleList = [];
                        if (angular.isArray(items)) {
                            for (var i = 0; i < items.length; i++) {
                                var item = items[i];
                                if (item.isVgUsed)
                                    vgList.push(item);
                                else
                                    simpleList.push(item);
                            }
                        }
                        vgList.sort(function (a, b) {
                            return a.order - b.order;
                        });
                        simpleList.sort(function (a, b) {
                            return a.order - b.order;
                        });
                        // create elements:
                        if (vgList.length > 0) {
                            $vgListHeader.show();
                            $vgList.show();
                            $vgList.empty();
                            angular.element.each(vgList, function (i) {
                                var table = $izendaInstantReportStorageService.getTableById(this.parentId);
                                var $el = angular.element('<li class="izenda-reorder-item"></li>');
                                $el.attr('data-order', i);
                                $vgList.append($el);
                                var $span = angular.element('<span class="izenda-reorder-item-text"></span>');
                                $span.text(table.name + ' → ' + (this.description !== '' ? this.description : this.name));
                                $span.on('click', function () {
                                    doClick(vgList[i]);
                                });
                                $el.append($span);
                                if (scope.showSortButtons) {
                                    var $arrowUp = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn1" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnUp', 'Move column up') + '"><span class="glyphicon glyphicon-arrow-up"></span></span>');
                                    $el.append($arrowUp);
                                    $arrowUp.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index > 0) {
                                            doReorder(index, index - 1, true);
                                        }
                                    });
                                    var $arrowDown = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn2" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnDown', 'Move column down') + '"><span class="glyphicon glyphicon-arrow-down"></span></span>');
                                    $el.append($arrowDown);
                                    $arrowDown.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index < vgList.length - 1) {
                                            doReorder(index, index + 1, true);
                                        }
                                    });
                                }
                            });
                            $vgList['sortable']('refresh');
                        }
                        else {
                            $vgListHeader.hide();
                            $vgList.hide();
                            $vgList.empty();
                        }
                        if (simpleList.length > 0) {
                            if (vgList.length > 0)
                                $simpleListHeader.show();
                            else
                                $simpleListHeader.hide();
                            $simpleList.show();
                            $simpleList.empty();
                            angular.element.each(simpleList, function (i) {
                                var table = $izendaInstantReportStorageService.getTableById(this.parentId);
                                var $el = angular.element('<li class="izenda-reorder-item"></li>');
                                $el.attr('data-order', i);
                                $simpleList.append($el);
                                var $span = angular.element('<span class="izenda-reorder-item-text"></span>');
                                $span.text(table.name + ' → ' + (this.description !== '' ? this.description : this.name));
                                $span.on('click', function () {
                                    doClick(simpleList[i]);
                                });
                                $el.append($span);
                                if (scope.showSortButtons) {
                                    var $arrowUp = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn1" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnUp', 'Move column up') + '"><span class="glyphicon glyphicon-arrow-up"></span></span>');
                                    $el.append($arrowUp);
                                    $arrowUp.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index > 0) {
                                            doReorder(index, index - 1, false);
                                        }
                                    });
                                    var $arrowDown = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn2" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnDown', 'Move column down') + '"><span class="glyphicon glyphicon-arrow-down"></span></span>');
                                    $el.append($arrowDown);
                                    $arrowDown.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index < simpleList.length - 1) {
                                            doReorder(index, index + 1, false);
                                        }
                                    });
                                }
                            });
                            $simpleList['sortable']('refresh');
                        }
                        else {
                            $simpleListHeader.hide();
                            $simpleList.hide();
                            $simpleList.empty();
                        }
                    };
                    // initialize
                    $vgList['sortable']({
                        update: sortUpdateHandler,
                        axis: 'y'
                    });
                    $vgList['disableSelection']();
                    $simpleList['sortable']({
                        update: sortUpdateHandler,
                        axis: 'y'
                    });
                    $simpleList['disableSelection']();
                    prepare(scope.ngItems);
                    // watch for updates
                    scope.$watch('ngItems', function (newVal) {
                        prepare(newVal);
                    }, true);
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_28) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report controller definition
     */
    module_definition_28.default.controller('InstantReportController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$cookies',
        '$q',
        '$log',
        '$izendaUtilUiService',
        '$izendaUrlService',
        '$izendaLocaleService',
        '$izendaSettingsService',
        '$izendaCompatibilityService',
        '$izendaScheduleService',
        '$izendaShareService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportPivotService',
        '$izendaInstantReportValidationService',
        '$izendaInstantReportSettingsService',
        function ($rootScope, $scope, $window, $timeout, $cookies, $q, $log, $izendaUtilUiService, $izendaUrlService, $izendaLocaleService, $izendaSettingsService, $izendaCompatibilityService, $izendaScheduleService, $izendaShareService, $izendaInstantReportStorageService, $izendaInstantReportPivotService, $izendaInstantReportValidationService, $izendaInstantReportSettingsService) {
            'use strict';
            var vm = this;
            var UNCATEGORIZED = $izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            $scope.$izendaInstantReportValidationService = $izendaInstantReportValidationService;
            $scope.$izendaUrlService = $izendaUrlService;
            $scope.$izendaLocaleService = $izendaLocaleService;
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            $scope.$izendaScheduleService = $izendaScheduleService;
            $scope.$izendaShareService = $izendaShareService;
            vm.isSmallResolution = $izendaCompatibilityService.isSmallResolution();
            vm.isSaveReportModalOpened = false;
            vm.isLoading = true;
            vm.previewHtml = $izendaInstantReportStorageService.getPreview();
            vm.reportSetOptions = {
                isVgUsed: false,
                vgStyle: null,
                sortedActiveFields: []
            };
            ;
            vm.filtersPanelOpened = $izendaInstantReportStorageService.getFiltersPanelOpened();
            vm.pivotsPanelOpened = $izendaInstantReportPivotService.getPivotsPanelOpened();
            vm.isValid = true;
            vm.activeField = null;
            vm.filtersCount = $izendaInstantReportStorageService.getFilters().length;
            vm.pivotCellsCount = $izendaInstantReportPivotService.getCellValues().length;
            vm.top = $izendaInstantReportStorageService.getOptions().top;
            vm.previewTop = $izendaInstantReportStorageService.getOptions().previewTop;
            vm.activeFields = $izendaInstantReportStorageService.getAllActiveFields();
            vm.settings = $izendaInstantReportSettingsService.getSettings();
            vm.reportInfo = null;
            vm.isExistingReport = false;
            vm.currentInsertColumnOrder = -1; // used for select field position for drag'n'drop fields
            // Left panel state object
            var previewPanelId = 6;
            vm.leftPanel = {
                activeItem: 0,
                previousPanelId: 0,
                opened: true
            };
            vm.exportProgress = null;
            vm.effectiveRights = $izendaCompatibilityService.getRights();
            _updateReportSetRightVariables();
            /**
             * Wait message header for export and print
             */
            vm.getWaitMessageHeaderText = function () {
                if (vm.exportProgress === 'export') {
                    return $izendaLocaleService.localeText('js_ExportingInProgress', 'Exporting in progress.');
                }
                if (vm.exportProgress === 'print') {
                    return $izendaLocaleService.localeText('js_PrintingInProgress', 'Printing in progress.');
                }
                return '';
            };
            /**
             * Wait message for export and print
             */
            vm.getWaitMessageText = function () {
                if (vm.exportProgress === 'export') {
                    return $izendaLocaleService.localeText('js_FinishExporting', 'Please wait till export is completed...');
                }
                if (vm.exportProgress === 'print') {
                    return $izendaLocaleService.localeText('js_FinishPrinting', 'Please finish printing before continue.');
                }
                return '';
            };
            /**
             * Set active panel
             */
            vm.setLeftPanelActiveItem = function (id) {
                vm.leftPanel.activeItem = id;
                if (id !== previewPanelId)
                    vm.leftPanel.previousPanelId = id;
                vm.leftPanel.opened = true;
            };
            /**
             * Open report designer.
             */
            vm.openReportInDesigner = function () {
                $izendaInstantReportStorageService.openReportInDesigner();
            };
            /**
             * Refresh preview
             */
            vm.applyChanges = function () {
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Refresh preview for mobile devices
             */
            vm.applyChangesMobile = function () {
                if (vm.leftPanel.previousPanelId === vm.leftPanel.activeItem) {
                    vm.setLeftPanelActiveItem(6);
                    vm.updateReportSetValidationAndRefresh(true);
                    //$izendaInstantReportValidationService.validateReportSetAndRefresh();
                }
                else {
                    vm.setLeftPanelActiveItem(vm.leftPanel.previousPanelId);
                    vm.leftPanel.previousPanelId = vm.leftPanel.activeItem;
                }
            };
            /**
             * Set preview value
             */
            vm.setPreviewTop = function (value) {
                $izendaInstantReportStorageService.setPreviewTop(value);
                vm.applyChanges();
                vm.closeAllNavbars();
            };
            /**
             * Returns active class for panel
             */
            vm.getLeftPanelClass = function (id) {
                var result = vm.isExistingReport ? 'has-title' : '';
                if (vm.isLeftPanelBodyActive(id))
                    result += ' active';
                return result.trim();
            };
            /**
             * Get class for mobile view
             */
            vm.getMobileClass = function () {
                return vm.isSmallResolution ? ' iz-inst-mobile ' : '';
            };
            /**
             * returns true only for active panel in left panel
             */
            vm.isLeftPanelBodyActive = function (id) {
                return vm.leftPanel.activeItem === id;
            };
            /**
             * Hide/show left panel
             */
            vm.toggleLeftPanel = function () {
                vm.leftPanel.opened = !vm.leftPanel.opened;
            };
            /**
             * Get toggle left panel button title
             */
            vm.getToggleButtonTitle = function () {
                if (vm.leftPanel.opened)
                    return $izendaLocaleService.localeText('js_HideLeftPanel', 'Hide left panel');
                else
                    return $izendaLocaleService.localeText('js_ShowLeftPanel', 'Show left panel');
            };
            /**
             * Handler column drag/drop reorder
             */
            vm.columnReordered = function (fromIndex, toIndex, isVg) {
                // we need to understand that swap from <-> to doesn't take into concideration invisible fields.
                $izendaInstantReportStorageService.moveFieldToPosition(fromIndex, toIndex, isVg, true);
                vm.updateReportSetValidationAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Get columns, allowed for reorder
             * @returns {number} count of columns which allowed for reorder.
             */
            vm.getAllowedColumnsForReorder = function () {
                return vm.activeFields.length;
            };
            /**
             * Column selected
             */
            vm.selectedColumn = function (field) {
                $izendaInstantReportStorageService.unselectAllFields();
                field.selected = true;
                $izendaInstantReportStorageService.setCurrentActiveField(field);
                $scope.$applyAsync();
            };
            /**
             * Remove column by given index
             * @param {number} index
             */
            vm.removeColumn = function (field) {
                if (!angular.isNumber(field.parentFieldId)) {
                    // if it is not multiple column for one database field.
                    $izendaInstantReportStorageService.applyFieldChecked(field).then(function () {
                        var selectedField = $izendaInstantReportStorageService.getCurrentActiveField();
                        if (selectedField === field)
                            $izendaInstantReportStorageService.applyFieldSelected(field, false);
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                else {
                    var parentField = $izendaInstantReportStorageService.getFieldById(field.parentFieldId);
                    $izendaInstantReportStorageService.removeAnotherField(parentField, field);
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                }
            };
            /**
             * Open filters modal dialog
            */
            vm.openFiltersPanel = function (value) {
                $izendaInstantReportPivotService.setPivotsPanelOpened(false);
                if (angular.isDefined(value)) {
                    $izendaInstantReportStorageService.setFiltersPanelOpened(value);
                }
                else {
                    var opened = $izendaInstantReportStorageService.getFiltersPanelOpened();
                    $izendaInstantReportStorageService.setFiltersPanelOpened(!opened);
                }
            };
            /**
             * Open pivots panel
             */
            vm.openPivotsPanel = function (value) {
                $izendaInstantReportStorageService.setFiltersPanelOpened(false);
                if (angular.isDefined(value)) {
                    $izendaInstantReportPivotService.setPivotsPanelOpened(value);
                }
                else {
                    var opened = $izendaInstantReportPivotService.getPivotsPanelOpened();
                    $izendaInstantReportPivotService.setPivotsPanelOpened(!opened);
                }
            };
            /**
             * Open filters panel and add filter
             */
            vm.addFilter = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorageService.getActiveTables().length === 0)
                    return;
                vm.openFiltersPanel(true);
                $izendaInstantReportStorageService.createNewFilter(fieldSysName).then(function (filter) {
                    $izendaInstantReportStorageService.getFilters().push(filter);
                    filter.initialized = true;
                    $izendaInstantReportValidationService.validateReportSet();
                    $izendaInstantReportStorageService.setFilterOperator(filter, null).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Open pivots panel and add pivot item
             */
            vm.addPivotItem = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorageService.getActiveTables().length === 0)
                    return;
                vm.openPivotsPanel(true);
                var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName);
                var newItem = $izendaInstantReportStorageService.createFieldObject(field.name, field.parentId, field.tableSysname, field.tableName, field.sysname, field.typeGroup, field.type, field.sqlType);
                $izendaInstantReportStorageService.initializeField(newItem).then(function (f) {
                    $scope.$applyAsync();
                });
                $izendaInstantReportPivotService.addPivotItem(newItem);
                $izendaInstantReportStorageService.applyAutoGroups(true);
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function (forceRefresh) {
                $izendaInstantReportValidationService.validateReportSetAndRefresh(forceRefresh);
            };
            /**
             * Add field to report
             */
            vm.addFieldToReport = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName, true);
                if (field.checked) {
                    var anotherField = $izendaInstantReportStorageService.addAnotherField(field, true);
                    $izendaInstantReportStorageService.applyFieldChecked(anotherField).then(function () {
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                else {
                    $izendaInstantReportStorageService.unselectAllFields();
                    field.selected = true;
                    $izendaInstantReportStorageService.setCurrentActiveField(field);
                    $izendaInstantReportStorageService.applyFieldChecked(field).then(function () {
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                // move field from last postions to selected position if it is drag-n-drop:
                if (field.checked && vm.currentInsertColumnOrder >= 0) {
                    var fieldsArray = $izendaInstantReportStorageService.getAllVisibleFields().slice();
                    fieldsArray = angular.element.grep(fieldsArray, function (f) {
                        return !f.isVgUsed;
                    });
                    fieldsArray.sort(function (a, b) {
                        return a.order - b.order;
                    });
                    var from = fieldsArray.length - 1;
                    var to = vm.currentInsertColumnOrder;
                    $izendaInstantReportStorageService.moveFieldToPosition(from, to, false, true);
                }
                vm.currentInsertColumnOrder = -1;
            };
            /**
             * Close all navbar opened dropdowns
             */
            vm.closeAllNavbars = function () {
                var $navBar = angular.element('.iz-inst-navbar');
                $navBar.find('.navbar-nav > li.open').each(function () {
                    angular.element(this).removeClass('open');
                });
            };
            /**
             * Place dropdown to the proper position.
             */
            vm.alignNavDropdowns = function () {
                var $navbar = angular.element('.iz-inst-navbar');
                var $liList = $navbar.find('.iz-inst-nav > li.open');
                if (!$liList.length)
                    return;
                $liList.each(function () {
                    var $li = angular.element(this);
                    var liWidth = $li.width();
                    var $dropdown = $li.children('.dropdown-menu');
                    var isRightNow = $dropdown.hasClass('dropdown-menu-right');
                    var dropdownWidth = $dropdown.width();
                    var deltaLeft = $li.position().left + $dropdown.position().left;
                    var deltaRight = $navbar.width() - deltaLeft - dropdownWidth;
                    var isRightAlign = false;
                    var needToMove = false;
                    if (deltaRight < 0) {
                        isRightAlign = true;
                        needToMove = true;
                    }
                    if (deltaLeft < 0 || (isRightNow && deltaRight + liWidth > dropdownWidth + 10)) {
                        needToMove = true;
                        isRightAlign = false;
                    }
                    if (needToMove)
                        if (isRightAlign)
                            $dropdown.addClass('dropdown-menu-right');
                        else
                            $dropdown.removeClass('dropdown-menu-right');
                });
            };
            /**
             * Open navbar dropdown accordingly to its relative position to the edges of the screen.
             * @param {object} $event angular click event object.
             */
            vm.openNavBarDropdown = function ($event, doSync) {
                function openDropdown($li) {
                    vm.closeAllNavbars();
                    $li.addClass('open');
                    vm.alignNavDropdowns();
                }
                $event.stopPropagation();
                if (!vm.isValid)
                    return;
                // dropdown elements
                var $aElement = angular.element($event.currentTarget);
                var $liElement = $aElement.parent();
                var $dropdownElement = $aElement.siblings('.dropdown-menu');
                // close
                if ($liElement.hasClass('open')) {
                    $dropdownElement.removeClass('dropdown-menu-right');
                    $liElement.removeClass('open');
                    return;
                }
                // open
                if (doSync)
                    $izendaInstantReportStorageService.setReportSetAsCrs(false).then(function () {
                        openDropdown($liElement);
                    });
                else
                    openDropdown($liElement);
            };
            vm.isSaveButtonVisible = function () {
                return vm.settings.showSaveControls && vm.rights.isSaveAllowed && vm.activeFields.length > 0;
            };
            vm.isSaveAsButtonVisible = function () {
                return vm.settings.showSaveControls && vm.rights.isSaveAsAllowed && vm.activeFields.length > 0;
            };
            /**
             * Save dialog closed handler.
             */
            vm.onSaveClosed = function () {
                vm.isSaveReportModalOpened = false;
            };
            /**
             * Report name/category selected. Save report handler.
             */
            vm.onSave = function (reportName, categoryName) {
                _saveReportWithGivenName(reportName, categoryName);
                vm.isSaveReportModalOpened = false;
            };
            /**
             * Save report
             */
            vm.saveReport = function (forceRename) {
                vm.isSaveReportModalOpened = false;
                var rs = $izendaInstantReportStorageService.getReportSet();
                var needToRename = forceRename || !rs.reportName;
                if (needToRename) {
                    vm.isSaveReportModalOpened = true;
                }
                else {
                    _saveReportWithGivenName(rs.reportName, rs.reportCategory);
                }
                vm.closeAllNavbars();
            };
            /**
             * Print report buttons handler.
             */
            vm.printReport = function (printType) {
                vm.exportProgress = 'print';
                $timeout(function () {
                    $izendaInstantReportStorageService.printReport(printType).then(function (results) {
                        if (!results.success) {
                            var reportSet = $izendaInstantReportStorageService.getReportSet();
                            var rsReportName = reportSet.reportName;
                            // show message
                            $izendaUtilUiService.showErrorDialog($izendaLocaleService.localeTextWithParams('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.', [rsReportName, results.message]), $izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error'));
                        }
                        vm.exportProgress = null;
                    });
                    $scope.$applyAsync();
                }, 500);
                vm.closeAllNavbars();
            };
            var exportReportInternal = function (exportType) {
                vm.exportProgress = 'export';
                $izendaInstantReportStorageService.exportReport(exportType).then(function (results) {
                    if (!results.success) {
                        var reportSet = $izendaInstantReportStorageService.getReportSet();
                        var rsReportName = reportSet.reportName;
                        // show error dialog
                        $izendaUtilUiService.showErrorDialog($izendaLocaleService.localeTextWithParams('js_FailedExportReport', 'Failed to export report "{0}". Error description: {1}.', [rsReportName, results.message]), $izendaLocaleService.localeText('js_FailedExportReportTitle', 'Report export error'));
                    }
                    vm.exportProgress = null;
                });
            };
            var showCsvBulkUnsupportedFormatWarning = function (exportType) {
                var message = $izendaLocaleService.localeText('js_CsvBulkUnsupportFormatsWarning', 'Csv(bulk) export does not support following formats: percent of group, percent of group (with rounding), gauge, gauge (variable), dash gauge. Default format will be applied instead of them.');
                var checkboxes = [
                    {
                        label: $izendaLocaleService.localeText('js_DoNotShowThisDialogAgain', 'Do not show this dialog again'),
                        checked: false
                    }
                ];
                var warningArgs = {
                    title: $izendaLocaleService.localeText('js_Warning', 'Warning'),
                    message: message,
                    buttons: [
                        {
                            text: $izendaLocaleService.localeText('js_Ok', 'Ok'),
                            callback: function (checkboxes) {
                                if (checkboxes && checkboxes.length > 0) {
                                    var doNotShowAgain = checkboxes[0];
                                    if (doNotShowAgain && doNotShowAgain.checked) {
                                        var date = new Date;
                                        date.setDate(date.getDate() + 365);
                                        var cookieOptions = { expires: date };
                                        $cookies.put("izendaHideCsvBulkUnsupportedFormatWarning", true, cookieOptions);
                                    }
                                }
                                exportReportInternal(exportType);
                            }
                        },
                        { text: $izendaLocaleService.localeText('js_Cancel', 'Cancel') }
                    ],
                    checkboxes: checkboxes,
                    alertInfo: 'warning'
                };
                $izendaUtilUiService.showDialogBox(warningArgs);
            };
            var isCsvBulkWithUnsupportedFormat = function (exportType) {
                var isCsvBulk = exportType === 'csv' && $izendaSettingsService.getBulkCsv();
                if (!isCsvBulk)
                    return false;
                var hasAggregateFormats = $izendaInstantReportStorageService.hasAggregateFormats();
                return hasAggregateFormats;
            };
            /**
             * Export report buttons handler
             */
            vm.exportReport = function (exportType) {
                var hideCsvWarning = $cookies.get("izendaHideCsvBulkUnsupportedFormatWarning");
                if (isCsvBulkWithUnsupportedFormat(exportType) && !hideCsvWarning) {
                    showCsvBulkUnsupportedFormatWarning(exportType);
                    return;
                }
                exportReportInternal(exportType);
                vm.closeAllNavbars();
            };
            /**
             * on-page-click report preview handler. Raises when user clicks on paging controls in preview.
             */
            vm.onPagingClick = function (pagingControlType, pageRange) {
                var rs = $izendaInstantReportStorageService.getReportSet();
                rs.options.rowsRange = pageRange;
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Send report link via email
             */
            vm.sendReportLinkEmail = function () {
                $izendaInstantReportStorageService.sendReportLinkEmail();
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
                var applyReportInfo = function (reportInfo) {
                    if (!angular.isObject(reportInfo)) {
                        vm.isExistingReport = false;
                        vm.reportInfo = null;
                        return;
                    }
                    if (angular.isString(reportInfo.fullName) && reportInfo.fullName.trim() !== '') {
                        // if location contains report name: load it
                        $izendaInstantReportStorageService.loadReport(reportInfo.fullName).then(function () {
                            vm.isExistingReport = true;
                            vm.reportInfo = reportInfo;
                            $scope.$applyAsync();
                        });
                    }
                    else {
                        $izendaInstantReportStorageService.newReport().then(function () {
                            vm.isExistingReport = false;
                            vm.reportInfo = reportInfo;
                            $scope.$applyAsync();
                        });
                    }
                };
                $scope.$watch('$izendaCompatibilityService.isSmallResolution()', function (value, prevValue) {
                    vm.isSmallResolution = value;
                    if (vm.isSmallResolution) {
                        angular.element('.iz-inst-mainpanel-body').css('visibility', 'hidden');
                    }
                    else {
                        $timeout(function () {
                            angular.element('.iz-inst-mainpanel-body').css('visibility', 'visible');
                        }, 600);
                    }
                    if (prevValue && !value) {
                        // small -> normal
                        vm.setLeftPanelActiveItem(0);
                    }
                });
                $scope.$watch('$izendaCompatibilityService.getRights()', function (value, prevValue) {
                    if (value === prevValue)
                        return;
                    vm.effectiveRights = value;
                    _updateReportSetRightVariables();
                });
                //
                $scope.$on('changeVisualizationProperties', function (event, args) {
                    $izendaInstantReportStorageService.getReportSet().charts[0].properties = args[0];
                });
                // look for location change
                $scope.$watch('$izendaUrlService.getReportInfo()', function (reportInfo) {
                    applyReportInfo(reportInfo);
                });
                /**
                 * Listen for complete loading page.
                 */
                $scope.$watch('$izendaInstantReportStorageService.getPageReady()', function (isPageReady) {
                    if (isPageReady) {
                        vm.isLoading = false;
                        vm.updateReportSetValidationAndRefresh();
                    }
                });
                // Look for preview change
                $scope.$watch('$izendaInstantReportStorageService.getPreview()', function (previewHtml) {
                    // prepare options:
                    var options = $izendaInstantReportStorageService.getOptions();
                    vm.reportSetOptions = {
                        isVgUsed: false,
                        vgStyle: options.page.vgStyle,
                        sortedActiveFields: [],
                        pivotCellsCount: vm.pivotCellsCount
                    };
                    // add active fields.
                    vm.reportSetOptions.sortedActiveFields = $izendaInstantReportStorageService.getAllVisibleFields();
                    vm.reportSetOptions.sortedActiveFields.sort(function (a, b) {
                        return a.order - b.order;
                    });
                    angular.element.each(vm.reportSetOptions.sortedActiveFields, function () {
                        if (this.isVgUsed)
                            vm.reportSetOptions.isVgUsed = true;
                    });
                    // set preview html
                    vm.previewHtml = previewHtml;
                });
                $scope.$watch('$izendaInstantReportStorageService.getFiltersPanelOpened()', function (opened) {
                    vm.filtersPanelOpened = opened;
                });
                $scope.$watch('$izendaInstantReportPivotService.getPivotsPanelOpened()', function (opened) {
                    vm.pivotsPanelOpened = opened;
                });
                $scope.$watch('$izendaInstantReportStorageService.getCurrentActiveField()', function (field) {
                    vm.activeField = field;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions().top', function (top) {
                    vm.top = top;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions().previewTop', function (top) {
                    vm.previewTop = top;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getFilters()', function (filters) {
                    vm.filtersCount = filters.length;
                });
                $scope.$watchCollection('$izendaInstantReportPivotService.getCellValues()', function (cellValues) {
                    vm.pivotCellsCount = cellValues.length;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllActiveFields()', function (activeFields) {
                    vm.activeFields = activeFields;
                });
                $scope.$watch('$izendaInstantReportStorageService.getPreviewSplashVisible()', function (visible) {
                    vm.reportLoadingIndicatorIsVisible = visible;
                });
                // listen for validation state change.
                $scope.$watch('$izendaInstantReportValidationService.isReportValid()', function (isValid) {
                    vm.isValid = isValid;
                });
                /**
                 * Report name selected handler
                 */
                $scope.$on('selectedNewReportNameEvent', function (event, args) {
                    if (!angular.isArray(args) || args.length !== 2)
                        throw 'Array with 2 elements expected';
                    var name = args[0], category = args[1];
                    _saveReportWithGivenName(name, category);
                });
                // todo: move that javascript to special directive in future, because DOM manipulations in controller is bad practice:
                var $root = angular.element('.iz-inst-root');
                angular.element(window).resize(function () {
                    vm.alignNavDropdowns();
                    $root.height(angular.element(window).height() - $root.offset().top - 30);
                });
                $root.height(angular.element(window).height() - $root.offset().top - 30);
                // left panel resize sensor
                var $panel = angular.element('.iz-inst-left-panel');
                if ($panel.length)
                    resizeSensor($panel.get(0), function () {
                        vm.alignNavDropdowns();
                    });
            };
            function _updateReportSetRightVariables() {
                vm.rights = {};
                vm.rights.isFiltersEditAllowed = $izendaCompatibilityService.isFiltersEditAllowed();
                vm.rights.isFullAccess = $izendaCompatibilityService.isFullAccess();
                vm.rights.isEditAllowed = $izendaCompatibilityService.isEditAllowed();
                vm.rights.isSaveAsAllowed = $izendaCompatibilityService.isSaveAsAllowed();
                vm.rights.isSaveAllowed = $izendaCompatibilityService.isSaveAllowed();
            }
            /**
             * Save report with selected name
             */
            function _saveReportWithGivenName(reportName, reportCategory) {
                var category = reportCategory;
                if (!angular.isString(category) || category.toLowerCase() === UNCATEGORIZED.toLowerCase())
                    category = '';
                var rsReportName = reportName;
                if (angular.isString(reportCategory) && reportCategory !== '')
                    rsReportName = reportCategory + $izendaSettingsService.getCategoryCharacter() + rsReportName;
                var savePromise;
                if (angular.isString(reportName) && reportName !== '') {
                    savePromise = $izendaInstantReportStorageService.saveReportSet(reportName, category);
                }
                else {
                    savePromise = $izendaInstantReportStorageService.saveReportSet();
                }
                savePromise.then(function () {
                    var notificationMessage = $izendaLocaleService.localeTextWithParams('js_ReportSaved', 'Report "{0}" sucessfully saved.', [rsReportName]);
                    $izendaUtilUiService.showNotification(notificationMessage);
                }, function (error) {
                    var errorTitle = $izendaLocaleService.localeText('js_FailedSaveReportTitle', 'Report save error');
                    var errorMessage = $izendaLocaleService.localeTextWithParams('js_FailedSaveReport', 'Failed to save report "{0}". Error description: {1}', [rsReportName, error]);
                    $izendaUtilUiService.showErrorDialog(errorMessage, errorTitle);
                });
            }
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-data-source-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_29) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report data sources controller definition
     */
    module_definition_29.default.controller('InstantReportDataSourceController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$log',
        '$sce',
        '$anchorScroll',
        '$izendaUrlService',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportQueryService',
        '$izendaInstantReportPivotService',
        '$izendaInstantReportValidationService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportSettingsService',
        function ($rootScope, $scope, $window, $timeout, $q, $log, $sce, $anchorScroll, $izendaUrlService, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportQueryService, $izendaInstantReportPivotService, $izendaInstantReportValidationService, $izendaInstantReportStorageService, $izendaInstantReportSettingsService) {
            'use strict';
            var vm = this;
            var angularJq$ = angular.element;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            $scope.$izendaUrlService = $izendaUrlService;
            $scope.$izendaInstantReportSettingsService = $izendaInstantReportSettingsService;
            $scope.trustAsHtml = function (value) {
                return $sce.trustAsHtml(value);
            };
            vm.searchString = '';
            vm.dataSources = null;
            vm.isDataSourcesLoading = true;
            vm.searchResults = [];
            var previousResultsCount = null;
            vm.searchPanelOpened = false;
            vm.options = $izendaInstantReportStorageService.getOptions();
            vm.columnSortPanelOpened = false;
            vm.columnSortPanelButtonEnabled = false;
            var searchState = {
                timeoutId: null,
                changing: false
            };
            var collapseState = {
                started: false
            };
            /**
             * Collapse animation completed handler.
             */
            vm.collapseCompleted = function (collapsed) {
                collapseState.started = false;
                $scope.$applyAsync();
            };
            /**
             * Toggle opened/collapsed state.
             */
            vm.toggleItemCollapse = function (item) {
                if (!collapseState.started) {
                    collapseState.started = true;
                    item.collapsed = !item.collapsed;
                }
            };
            /**
             * Turn off search panel and reset it to default state.
             * @param {boolean} resetSearchResults. Clear search string and results.
             */
            vm.turnOffSearch = function (resetSearchResults) {
                vm.searchPanelOpened = false;
                if (resetSearchResults) {
                    angular.element('#izInstDataSourcesTree').get(0).scrollTop = 0;
                    vm.searchString = '';
                    vm.searchResults = [];
                    previousResultsCount = null;
                }
            };
            /**
             * Run search query.
             */
            vm.runSearchQuery = function (clearResults) {
                if (vm.searchQueryRunning)
                    return;
                if (!angular.isString(vm.searchString) || vm.searchString.trim() === '') {
                    vm.searchPanelOpened = false;
                    vm.searchQueryRunning = false;
                    return;
                }
                vm.searchQueryRunning = true;
                var count = 50;
                if (clearResults) {
                    vm.searchResults = [];
                    previousResultsCount = null;
                    angular.element('#izInstDataSourcesTree').get(0).scrollTop = 0;
                }
                if (previousResultsCount === 0) {
                    vm.searchQueryRunning = false;
                    return;
                }
                $izendaInstantReportStorageService.searchInDataDources(vm.searchString, vm.searchResults.length, vm.searchResults.length + count - 1).then(function (searchResults) {
                    previousResultsCount = searchResults.length;
                    angular.element.each(searchResults, function () {
                        vm.searchResults.push(this);
                    });
                    vm.searchPanelOpened = true;
                    $scope.$applyAsync();
                    vm.searchQueryRunning = false;
                });
            };
            /**
             * Get filtered datasources
             */
            vm.searchInDataDources = function () {
                if ($izendaCompatibilityService.isSmallResolution())
                    return;
                if (searchState.timeoutId !== null)
                    $timeout.cancel(searchState.timeoutId);
                searchState.timeoutId = $timeout(function () {
                    vm.runSearchQuery(true);
                }, 500);
            };
            /**
             * Get classes for category/table folder icons
             */
            vm.getFolderClass = function (item) {
                var css = '';
                if (!item.collapsed) {
                    css += ' open';
                }
                if (item.active) {
                    css += ' active';
                }
                return css.trim();
            };
            /**
             * Get classes for category/table labels
             */
            vm.getFolderLabelClass = function (item) {
                var css = '';
                if (item.active) {
                    css += ' active';
                }
                if (item.highlight) {
                    css += ' highlight';
                }
                if (!item.enabled) {
                    css += ' disabled';
                }
                if (item.selected) {
                    css += ' selected';
                }
                return css.trim();
            };
            vm.getFieldClass = function (item) {
                var css = '';
                if (item.checked) {
                    css += ' checked';
                }
                if (item.highlight) {
                    css += ' highlight';
                }
                if (!item.enabled) {
                    css += ' disabled';
                }
                return css.trim();
            };
            vm.getFieldTextClass = function (item) {
                var css = '';
                if (item.selected) {
                    css += ' selected';
                }
                return css.trim();
            };
            vm.getFieldCheckClass = function (item, ignoreFolderIcon) {
                if (!ignoreFolderIcon && item.isMultipleColumns) {
                    if (!item.collapsed)
                        return 'glyphicon-chevron-down';
                    return 'glyphicon-chevron-right';
                }
                var css = '';
                if (item.checked) {
                    css += ' glyphicon-check';
                }
                else {
                    css += ' glyphicon-unchecked';
                }
                return css.trim();
            };
            /**
             * Check if field have group
             */
            vm.isFieldGrouped = function (field) {
                return field.checked && $izendaInstantReportStorageService.isFieldGrouped(field);
            };
            /**
             * Toggle table collapsed
             * @param {object} table. Toggling table object
             */
            vm.toggleTableCollapse = function (table) {
                return $q(function (resolve) {
                    table.collapsed = !table.collapsed;
                    // if table is lazy - load fields.
                    if (table.lazy) {
                        $izendaInstantReportStorageService.loadLazyFields(table).then(function () {
                            $scope.$applyAsync();
                            resolve(table);
                        });
                    }
                    else {
                        resolve(table);
                    }
                });
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function () {
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Check/uncheck field.
             */
            vm.toggleFieldChecked = function (field) {
                if (!field)
                    return;
                var needToCheck = !field.checked;
                var pivotsEnabled = $izendaInstantReportPivotService.isPivotValid();
                $izendaInstantReportStorageService.applyFieldChecked(field, needToCheck, pivotsEnabled).then(function () {
                    // turn on autogroup if pivots are turned on
                    if (pivotsEnabled && needToCheck) {
                        $izendaInstantReportStorageService.applyAutoGroups(true);
                    }
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            vm.getFieldTooltip = function (field) {
                if (!field.checked)
                    return $izendaLocaleService.localeText('js_ToggleReportField', 'Toggle report field');
                else if (!field.selected)
                    return $izendaLocaleService.localeText('js_SelectReportField', 'Select report field');
                else
                    return '';
            };
            /**
             * Check/uncheck field handler
             */
            vm.checkField = function (field, allowUncheck) {
                if (field.isMultipleColumns) {
                    vm.toggleItemCollapse(field);
                    return;
                }
                vm.selectField(field);
                // exit if field checked but we not allowed to uncheck
                if (field.checked && !allowUncheck)
                    return;
                if (!$izendaCompatibilityService.isSmallResolution()) {
                    // check field occurs in selectField function
                    vm.toggleFieldChecked(field);
                }
            };
            /**
             * Activate/deactivate table
             */
            vm.activateTable = function (table) {
                $izendaInstantReportStorageService.applyTableActive(table).then(function () {
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            /**
             * Show field options
             */
            vm.selectField = function (field) {
                if ($izendaCompatibilityService.isSmallResolution()) {
                    vm.toggleFieldChecked(field);
                }
                else {
                    $izendaInstantReportStorageService.applyFieldSelected(field, true);
                }
            };
            /**
             * Show field options button
             */
            vm.showFieldOptions = function (field) {
                $izendaInstantReportStorageService.applyFieldSelected(field, true);
                if ($izendaCompatibilityService.isSmallResolution()) {
                    $scope.irController.setLeftPanelActiveItem(7);
                }
            };
            /**
             * Is all tables collapsed
             */
            vm.isTablesCollapsed = function (category) {
                var result = true;
                angularJq$.each(category.tables, function () {
                    if (!this.collapsed)
                        result = false;
                });
                return result;
            };
            /**
             * Collapse all tables inside category
             */
            vm.collapseCategoryTables = function (category) {
                angularJq$.each(category.tables, function () {
                    this.collapsed = true;
                });
            };
            /**
             * Add more than one same fields to report
             */
            vm.addAnotherField = function (field) {
                var anotherField = $izendaInstantReportStorageService.addAnotherField(field, true);
                vm.toggleFieldChecked(anotherField);
            };
            /**
             * Remove more than one same field
             */
            vm.removeAnotherField = function (field, multiField) {
                $izendaInstantReportStorageService.removeAnotherField(field, multiField);
                vm.updateReportSetValidationAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Open/close column sort panel
             */
            vm.openColumnsSortPanel = function (value) {
                if (angular.isDefined(value))
                    vm.columnSortPanelOpened = value;
                else {
                    vm.columnSortPanelOpened = !vm.columnSortPanelOpened;
                }
            };
            /**
             * Go to found field or table
             * @param {object} searchResultObject. Object, with table sysname and field sysname.
             */
            vm.revealSearchResult = function (searchResultObject) {
                function gotoSearchTarget(searchResult) {
                    var isField = searchResult.hasOwnProperty('fSysName');
                    var tSysName = searchResult['tSysName'];
                    if (isField) {
                        var fieldSysName = searchResult['fSysName'];
                        var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName, true);
                        vm.selectField(field);
                        $scope.$applyAsync();
                    }
                    // scroll to element
                    $timeout(function () {
                        var tableEl = document.getElementById('anchor' + tSysName);
                        if (tableEl)
                            angular.element('#izInstDataSourcesTree').get(0).scrollTop = angular.element(tableEl).position().top;
                    }, 300);
                }
                vm.selectField(null);
                vm.turnOffSearch(true);
                $scope.$applyAsync();
                var table = $izendaInstantReportStorageService.getTableBySysname(searchResultObject['tSysName']);
                if (!table.collapsed) {
                    gotoSearchTarget(searchResultObject);
                }
                else {
                    vm.toggleTableCollapse(table).then(function () {
                        gotoSearchTarget(searchResultObject);
                    });
                }
            };
            /**
            * Initialize watchers
            */
            vm.initWatchers = function () {
                $scope.$watch(angular.bind(vm, function () {
                    return this.searchString;
                }), function () {
                    vm.searchInDataDources();
                });
                /**
                 * Look for options change
                 */
                $scope.$watch('$izendaInstantReportStorageService.getOptions()', function (options) {
                    vm.options = options;
                });
                /**
                 * Listen for complete loading page.
                 */
                $scope.$watch('$izendaInstantReportStorageService.getPageReady()', function (isPageReady) {
                    if (isPageReady) {
                        vm.isDataSourcesLoading = false;
                    }
                });
                /**
                 * Look for datasources change
                 */
                $scope.$watch('$izendaInstantReportStorageService.getDataSources()', function (datasources) {
                    vm.dataSources = datasources;
                });
                /**
                 * Look for checked fields count
                 */
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllActiveFields()', function (newActiveFields) {
                    vm.columnSortPanelButtonEnabled = newActiveFields.length > 1;
                });
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
            };
            // initialize with controller
            vm.initWatchers();
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-field-options-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_30) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report field options controller
     */
    module_definition_30.default.controller('InstantReportFieldOptionsController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportQueryService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportQueryService, $izendaInstantReportStorageService, $izendaInstantReportValidationService) {
            'use strict';
            var vm = this;
            var primaryButtonClass = "izenda-common-btn-dark", activeButtonClass = "izenda-common-btn-dark active";
            $scope.$izendaLocaleService = $izendaLocaleService;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            vm.field = null;
            vm.currentSortFunction = 'asc';
            vm.isSubtotalsEnabled = false;
            vm.drillDownStyles = $izendaInstantReportStorageService.getDrillDownStyles();
            vm.subreports = $izendaInstantReportStorageService.getSubreports();
            vm.expanded = false;
            vm.ddkValuesMaxAmount = -1;
            /**
             * Get class
             */
            vm.getPanelClass = function () {
                if ($izendaCompatibilityService.isSmallResolution())
                    return 'expanded';
                if (!angular.isObject(vm.field) || !$scope.irController.isLeftPanelBodyActive(0))
                    return 'collapsed';
                if (vm.expanded)
                    return 'expanded';
                return '';
            };
            /**
             * Get classes for validate messages icon
             */
            vm.getValidateMessageIconClass = function (message) {
                return message;
            };
            /**
             * Fires when description was set manually.
             */
            vm.onDescriptionWasSet = function () {
                $izendaInstantReportStorageService.applyDescription(vm.field);
            };
            /**
             * Fires when group was selected
             */
            vm.onFunctionSelected = function () {
                if (vm.field.groupByFunction === null)
                    return;
                $izendaInstantReportStorageService.onFieldFunctionApplied(vm.field);
            };
            /**
             * Fires when typegroup was selected
             */
            vm.onTypeGroupSelected = function () {
                $izendaInstantReportStorageService.onExpressionTypeGroupApplied(vm.field);
            };
            /**
             * Fires when expression changed.
             */
            vm.onExpressionChanged = function () {
                $izendaInstantReportStorageService.onExpressionApplied();
            };
            /**
             * Update preview
             */
            vm.applyChanges = function () {
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Toggle label justification
             */
            vm.toggleLabelJustification = function () {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var idx = itemsArray.indexOf(vm.field.labelJustification);
                if (idx < itemsArray.length - 1)
                    idx++;
                else
                    idx = 0;
                vm.field.labelJustification = itemsArray[idx];
            };
            /**
             * Toggle value justification
             */
            vm.toggleValueJustification = function () {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var idx = itemsArray.indexOf(vm.field.valueJustification);
                if (idx < itemsArray.length - 1)
                    idx++;
                else
                    idx = 0;
                vm.field.valueJustification = itemsArray[idx];
            };
            /**
             * Get sort button class
             */
            vm.getSortButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.sort !== null ? 'active' : '';
            };
            /**
             * Get sort button icon class
             */
            vm.getSortButtonGlyphClass = function () {
                return vm.currentSortFunction === 'desc' ? 'glyphicon-sort-by-alphabet-alt' : 'glyphicon-sort-by-alphabet';
            };
            /**
             * Apply field sort. Parameter should be 'asc', 'desc' or null
             */
            vm.applyFieldSort = function (sortFunction) {
                if (!angular.isDefined(sortFunction)) {
                    if (vm.field.sort === null) {
                        // enable selected sort
                        $izendaInstantReportStorageService.applyFieldSort(vm.field, vm.currentSortFunction);
                    }
                    else {
                        // disable selected sort
                        $izendaInstantReportStorageService.applyFieldSort(vm.field, null);
                    }
                }
                else {
                    // set and enable selected sort
                    vm.currentSortFunction = sortFunction;
                    $izendaInstantReportStorageService.applyFieldSort(vm.field, vm.currentSortFunction);
                }
            };
            /**
             * Get italic button class
             */
            vm.getItalicButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.italic ? 'active' : '';
            };
            /**
             * Apply field italic.
             */
            vm.applyFieldItalic = function () {
                $izendaInstantReportStorageService.applyFieldItalic(vm.field, !vm.field.italic);
            };
            /**
             * Get visible button class
             */
            vm.getVisibleButtonClass = function () {
                if (!vm.field)
                    return '';
                var classes = [];
                if (vm.field.isVgUsed)
                    classes.push('disabled');
                if (!vm.field.visible)
                    classes.push('active');
                return classes.join(' ');
            };
            /**
             * Apply field italic.
             */
            vm.applyFieldVisible = function () {
                if (vm.field.isVgUsed)
                    return;
                $izendaInstantReportStorageService.applyFieldVisible(vm.field, !vm.field.visible);
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Get bold button class
             */
            vm.getBoldButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.bold ? 'active' : '';
            };
            /**
             * Apply field bold.
             */
            vm.applyFieldBold = function () {
                $izendaInstantReportStorageService.applyFieldBold(vm.field, !vm.field.bold);
            };
            /**
             * Get visual group button class
             */
            vm.getVgButtonClass = function () {
                if (!vm.field)
                    return '';
                var classes = [];
                if (!vm.field.visible)
                    classes.push('disabled');
                if (vm.field.isVgUsed)
                    classes.push('active');
                return classes.join(' ');
            };
            /**
             * Apply visual group changed
             */
            vm.applyVg = function () {
                if (!vm.field.visible)
                    return;
                $izendaInstantReportStorageService.applyVisualGroup(vm.field, !vm.field.isVgUsed);
            };
            /**
             * If user selects non-default subtotal function, we need to turn on subtotals.
             */
            vm.onSubtotalFunctionSelect = function () {
                var subtotalFunction = vm.field.groupBySubtotalFunction;
                if (subtotalFunction !== 'DEFAULT')
                    $izendaInstantReportStorageService.getOptions().isSubtotalsEnabled = true;
            };
            /**
             * Check is subtotal group function === expression
             */
            vm.isSubtotalExpressionDisabled = function () {
                if (!angular.isObject(vm.field))
                    return true;
                if (!vm.isSubtotalsEnabled)
                    return true;
                if (!angular.isObject(vm.field.groupBySubtotalFunction))
                    return true;
                return vm.field.groupBySubtotalFunction.value !== 'EXPRESSION';
            };
            /**
            * Subreport selected handler
            */
            vm.subreportSelectedHandler = function () {
                vm.field.drillDownStyle = (vm.field.subreport) ? 'DetailLinkNewWindow' : '';
                $izendaInstantReportStorageService.disableEmbeddedDrillDownStyle(vm.field);
                $scope.$applyAsync();
            };
            /**
             * Close panel
             */
            vm.closePanel = function () {
                $izendaInstantReportStorageService.setCurrentActiveField(null);
            };
            /**
            * Initialize watchers
            */
            vm.initWatchers = function () {
                $scope.$watch('$izendaInstantReportStorageService.getCurrentActiveField()', function (field) {
                    vm.field = field;
                    vm.expanded = false;
                    if (angular.isObject(vm.field)) {
                        $izendaInstantReportStorageService.disableEmbeddedDrillDownStyle(vm.field);
                    }
                });
                $scope.$watch('$izendaInstantReportStorageService.getDrillDownStyles()', function (ddStyles) {
                    vm.drillDownStyles = ddStyles;
                });
                $scope.$watch('$izendaInstantReportStorageService.getExpressionTypes()', function (types) {
                    vm.expressionTypes = types;
                });
                $scope.$watch('$izendaInstantReportStorageService.getSubreports()', function (subreports) {
                    vm.subreports = subreports;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions().isSubtotalsEnabled', function (isSubtotalsEnabled) {
                    vm.isSubtotalsEnabled = isSubtotalsEnabled;
                });
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
            };
            // initialize with controller
            vm.initWatchers();
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-filters-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_31) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report filters controller
     */
    module_definition_31.default.controller('InstantReportFiltersController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocaleService',
        '$izendaSettingsService',
        '$izendaCompatibilityService',
        '$izendaUtilUiService',
        '$izendaInstantReportQueryService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocaleService, $izendaSettingsService, $izendaCompatibilityService, $izendaUtilUiService, $izendaInstantReportQueryService, $izendaInstantReportStorageService, $izendaInstantReportValidationService) {
            'use strict';
            $scope.$izendaLocaleService = $izendaLocaleService;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaSettingsService = $izendaSettingsService;
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            var vm = this;
            vm.panelOpened = false;
            vm.filters = [];
            vm.filterOptions = $izendaInstantReportStorageService.getFilterOptions();
            vm.options = $izendaInstantReportStorageService.getOptions();
            vm.activeFields = [];
            vm.currentValue = '';
            vm.dateFormat = $izendaSettingsService.getDateFormat();
            vm.culture = $izendaSettingsService.getCulture();
            /**
             * Add new filter
             */
            vm.addFilter = function (fieldSysName) {
                $izendaInstantReportStorageService.createNewFilter(fieldSysName).then(function (filter) {
                    if (filter.field !== null && !filter.field.allowedInFilters) {
                        var errorTitle = $izendaLocaleService.localeText('js_Error', 'Error');
                        var errorText = $izendaLocaleService.localeText('js_FieldForbiddenForFiltering', 'This field is forbidden to use for filtering.');
                        $izendaUtilUiService.showNotification(errorText, errorTitle);
                        return;
                    }
                    $izendaInstantReportStorageService.getFilters().push(filter);
                    filter.initialized = true;
                    $izendaInstantReportValidationService.validateReportSet();
                    $izendaInstantReportStorageService.setFilterOperator(filter, null).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Swap filter handler
             */
            vm.reorderFilters = function (index1, index2) {
                $izendaInstantReportStorageService.swapFilters(index1, index2);
                var allfilters = $izendaInstantReportStorageService.getFilters();
                var index = Math.min(index1, index2);
                var filter = allfilters[index];
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Move to filter handler
             */
            vm.moveFilterTo = function (index1, index2) {
                $izendaInstantReportStorageService.moveFilterTo(index1, index2);
                var allfilters = $izendaInstantReportStorageService.getFilters();
                var index = Math.min(index1, index2);
                index = index > 0 ? index - 1 : 0;
                var filter = allfilters[index];
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Remove filter
             */
            vm.removeFilter = function (filter) {
                var allfilters = $izendaInstantReportStorageService.getFilters();
                var count = allfilters.length;
                var index = $izendaInstantReportStorageService.getFilters().indexOf(filter);
                $izendaInstantReportStorageService.removeFilter(filter);
                $izendaInstantReportValidationService.validateReportSet();
                if (count === 0)
                    return;
                // refresh next filters after apply cascading
                var nextFilter;
                if (index === 0) {
                    nextFilter = allfilters[0];
                }
                else {
                    nextFilter = allfilters[index - 1];
                }
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(nextFilter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(nextFilter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Handler when field selected
             */
            vm.onFilterFieldChange = function (filter) {
                if (!filter.initialized)
                    return;
                filter.values = [];
                filter.currentValue = '';
                $izendaInstantReportValidationService.validateReportSet();
                $izendaInstantReportStorageService.loadFilterFormats(filter);
                $izendaInstantReportStorageService.setFilterOperator(filter).then(function () {
                    $izendaInstantReportStorageService.getPopupFilterCustomTemplate(filter);
                    $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter, true).then(function () {
                        $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                            $scope.$applyAsync();
                        });
                    });
                });
            };
            /**
             * Prepare filter values and existing values
             */
            vm.onFilterOperatorChange = function (filter) {
                filter.values = [];
                var asyncPromise = $q(function (resolve) {
                    var operatorType = $izendaInstantReportStorageService.getFieldFilterOperatorValueType(filter.operator);
                    if (operatorType === 'oneValue' || operatorType === 'oneDate') {
                        filter.values = [''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'twoValues' || operatorType === 'twoDates') {
                        filter.values = ['', ''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'Equals_TextArea') {
                        filter.currentValue = '';
                        resolve();
                        return;
                    }
                    if (operatorType === 'Equals_Autocomplete' || operatorType === 'select_multiple') {
                        filter.values = [''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'select_popup') {
                        $izendaInstantReportStorageService.getPopupFilterCustomTemplate(filter).then(function () {
                            resolve();
                        });
                        return;
                    }
                    resolve();
                });
                asyncPromise.then(function () {
                    $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter, true).then(function () {
                        $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                            $scope.$applyAsync();
                        });
                    });
                });
            };
            /**
             * Return array of titles
             */
            vm.getExistentValuesSimpleList = function (existentValues) {
                var result = angular.element.map(existentValues, function (val) {
                    return val.text;
                });
                return result;
            };
            /**
             * Update autocomplete items while user entering some text
             * @param {object} filter
             * @param {string} autocompleteText
             * @return {angular promise}. Promise on complete
             */
            vm.updateAutoCompleteItems = function (filter, autocompleteText) {
                return $q(function (resolve) {
                    filter.possibleValue = autocompleteText;
                    $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter, true).then(function () {
                        filter.possibleValue = null;
                        resolve(filter.existentValues);
                    });
                });
            };
            /**
             * Prepare value for filter
             */
            vm.onCurrentValueChange = function (filter) {
                if (!filter.isFilterReady)
                    return;
                // prepare data:
                if (filter.operator.value === 'Equals_TextArea') {
                    var values = filter.currentValue.match(/^.*((\r\n|\n|\r)|$)/gm);
                    filter.values = [];
                    angular.element.each(values, function () {
                        if (this.trim() !== '' && filter.values.indexOf(this.trim()) < 0)
                            filter.values.push(this.trim());
                    });
                }
                // refresh cascading:
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * On filter logic change.
             */
            vm.onFilterLogicChange = function () {
                if (vm.filters.length === 0)
                    return;
                if (vm.filterOptions.filterLogic) {
                    $izendaInstantReportStorageService.refreshFiltersForFilterLogic().then(function () {
                        $scope.$applyAsync();
                    });
                }
                else {
                    vm.onCurrentValueChange(vm.filters[0]);
                }
            };
            /**
             * Change value handler for custom popup filter.
             */
            vm.onPopupValueChange = function (filter, newValue) {
                filter.values = newValue.split(',');
                $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                    $scope.$applyAsync();
                });
            };
            /**
             * Get btn text for popup
             */
            vm.getPopupBtnText = function (filter) {
                if (!angular.isArray(filter.values) || filter.values.length === 0)
                    return '...';
                var labels = [];
                angular.element.each(filter.values, function () {
                    var filterValue = this;
                    angular.element.each(filter.existentValues, function () {
                        var existentValue = this;
                        if (existentValue.value === filterValue)
                            labels.push(existentValue.text);
                    });
                });
                var result = labels.join(', ');
                if (result.length > 30) {
                    result = result.substring(0, 30);
                    result += '...';
                }
                return result;
            };
            /**
             * Toggle filter value
             */
            vm.toggleValue = function (filter, value) {
                var values = filter.values;
                var index = values.indexOf(value);
                if (index >= 0)
                    values.splice(index, 1);
                else
                    values.push(value);
                $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                    $scope.$applyAsync();
                });
            };
            /**
             * Is value in values collection in filter
             */
            vm.isValueChecked = function (filter, value) {
                var values = filter.values;
                return values.indexOf(value) >= 0;
            };
            /**
             * Get filter value type
             */
            vm.getFilterOperatorType = function (filter) {
                return $izendaInstantReportStorageService.getFieldFilterOperatorValueType(filter.operator);
            };
            /**
             * Apply filters
             */
            vm.applyFilters = function () {
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Close filters panel
             */
            vm.closeFiltersPanel = function () {
                $izendaInstantReportStorageService.setFiltersPanelOpened(false);
            };
            /**
             * Initialize watches
             */
            vm.initWatchers = function () {
                $scope.$watch('$izendaSettingsService.getDateFormat()', function (dateFormat) {
                    vm.dateFormat = dateFormat;
                }, true);
                $scope.$watch('$izendaSettingsService.getCulture()', function (culture) {
                    vm.culture = culture;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getFilters()', function (newFilters, oldFilters) {
                    vm.filters = newFilters;
                });
                $scope.$watch('$izendaInstantReportStorageService.getFilterOptions()', function (newValue) {
                    vm.filterOptions = newValue;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions()', function (options) {
                    vm.options = options;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllFieldsInActiveTables(true)', function (newActiveFields) {
                    // sync collection elements:
                    // add:
                    angular.element.each(newActiveFields, function () {
                        var newActiveField = this;
                        if (!newActiveField.allowedInFilters)
                            return;
                        var found = false;
                        angular.element.each(vm.activeFields, function () {
                            if (this === newActiveField)
                                found = true;
                        });
                        if (!found)
                            vm.activeFields.push(newActiveField);
                    });
                    // remove:
                    var i = 0;
                    while (i < vm.activeFields.length) {
                        var field = vm.activeFields[i];
                        var found = false;
                        for (var j = 0; j < newActiveFields.length; j++) {
                            if (newActiveFields[j] === field)
                                found = true;
                        }
                        if (!found)
                            vm.activeFields.splice(i, 1);
                        else
                            i++;
                    }
                });
                $scope.$watch('$izendaInstantReportStorageService.getFiltersPanelOpened()', function (opened) {
                    vm.panelOpened = opened;
                });
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
                vm.filters = $izendaInstantReportStorageService.getFilters();
            };
            vm.initWatchers();
        }
    ]);
    /**
     * Find all opened filter popup modals and close it.
     */
    window.hideModal = function () {
        var popupModals = document.getElementsByName('filtersPopupModalDialog');
        angular.element.each(popupModals, function () {
            var $modal = angular.element(this);
            if ($modal.hasClass('modal') && $modal.hasClass('in')) {
                $modal['modal']('hide');
            }
        });
    };
    /**
     * Custom popup filter modal submit callback.
     */
    window.CC_CustomFilterPageValueReceived = function () { };
    /**
     * Override hide modal function.
     */
    window.hm = function () {
        window.hideModal();
    };
    /**
     * Directive, which used for listening custom popup filters value change.
     */
    module_definition_31.default.directive('izendaOnPopupValueChange', [
        '$interval',
        function ($interval) {
            return {
                restrict: 'A',
                scope: {
                    handler: '&izendaOnPopupValueChange'
                },
                link: function ($scope, $element, attrs) {
                    var previousValue = $element.val();
                    var intervalId = $interval(function () {
                        var newValue = $element.val();
                        if (newValue !== previousValue) {
                            $scope.handler({
                                newValue: newValue
                            });
                            previousValue = newValue;
                        }
                    }, 20);
                    // we should turn off interval on destroy input tag.
                    $scope.$on('$destroy', function handleDestroyEvent() {
                        if (intervalId) {
                            $interval.cancel(intervalId);
                            intervalId = null;
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-format-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_32) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report formatting controller definition
     */
    module_definition_32.default.controller('InstantReportFormatController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$log',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportSettingsService',
        function ($rootScope, $scope, $window, $timeout, $q, $log, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportSettingsService) {
            'use strict';
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            var vm = this;
            vm.optGroups = {
                'headerAndFooter': {
                    opened: false
                },
                'color': {
                    opened: false
                },
                'page': {
                    opened: false
                },
                'drilldowns': {
                    opened: false
                }
            };
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            vm.options = $izendaInstantReportStorageService.getOptions();
            vm.vgStyles = [];
            vm.allActiveFields = [];
            vm.drillDownFields = $izendaInstantReportStorageService.getDrillDownFields();
            vm.selectedDrilldownField = null;
            vm.settings = $izendaInstantReportSettingsService.getSettings();
            vm.ddkValuesMaxAmount = vm.settings.ddkValuesMaxAmount;
            vm.allowVirtualDataSources = vm.settings.allowVirtualDataSources;
            /**
             * Restore default color settings.
             */
            vm.restoreDefaultColors = function () {
                $izendaInstantReportStorageService.restoreDefaultColors();
            };
            /**
             * Remove fields which are already in drilldown collection
             */
            vm.removeDrilldownFieldsFromAvailable = function () {
                vm.allActiveFields = angular.element.grep(vm.allActiveFields, function (f) {
                    var found = false;
                    angular.element.each(vm.drillDownFields, function () {
                        var ddField = this;
                        if (ddField.id === f.id)
                            found = true;
                    });
                    return !found;
                });
            };
            /**
             * update available collection
             */
            vm.syncAvailableCollection = function () {
                var activeTables = $izendaInstantReportStorageService.getActiveTables();
                vm.allActiveFields = [];
                angular.element.each(activeTables, function () {
                    var table = this;
                    angular.element.each(table.fields, function () {
                        vm.allActiveFields.push(this);
                    });
                });
                vm.removeDrilldownFieldsFromAvailable();
            };
            /**
             * Add drilldown key
             */
            vm.addDrilldown = function () {
                if (vm.selectedDrilldownField === null)
                    return;
                if (vm.drillDownFields.length >= vm.ddkValuesMaxAmount)
                    return;
                vm.drillDownFields.push(vm.selectedDrilldownField);
                vm.syncAvailableCollection();
            };
            /**
             * Remove drilldown field
             */
            vm.removeDrilldownField = function (field) {
                var index = vm.drillDownFields.indexOf(field);
                vm.drillDownFields.splice(index, 1);
                vm.syncAvailableCollection();
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                /**
                 * Look for options change
                 */
                $scope.$watch('$izendaInstantReportStorageService.getOptions()', function (options) {
                    vm.options = options;
                });
                $scope.$watch('$izendaInstantReportStorageService.getVgStyles()', function (styles) {
                    vm.vgStyles = styles;
                });
                $scope.$watch('$izendaInstantReportStorageService.getDrillDownFields()', function (ddFields) {
                    vm.drillDownFields = ddFields;
                    vm.syncAvailableCollection();
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getActiveTables()', function () {
                    vm.syncAvailableCollection();
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-pivot-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_33) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    module_definition_33.default.controller('InstantReportPivotsController', [
        '$rootScope',
        '$scope',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportPivotService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportPivotService, $izendaInstantReportValidationService) {
            var vm = this;
            $scope.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            vm.panelOpened = false; // pivot panel state
            vm.activeFields = $izendaInstantReportStorageService.getAllFieldsInActiveTables(true);
            vm.pivotColumn = $izendaInstantReportPivotService.getPivotColumn();
            vm.pivotOptions = $izendaInstantReportPivotService.getPivotOptions();
            vm.cellValues = $izendaInstantReportPivotService.getCellValues();
            vm.selectedFields = [];
            var updateSelectedFieldsArray = function () {
                vm.selectedFields = [];
                vm.cellValues.forEach(function (cellValue) {
                    if (cellValue)
                        vm.selectedFields.push($izendaInstantReportStorageService.getFieldBySysName(cellValue.sysname));
                });
            };
            updateSelectedFieldsArray();
            ////////////////////////////
            // pivot column
            ////////////////////////////
            /**
             * Get additional class for "add cell value" button.
             * @returns {string} class names 'class1 class2 ...'.
             */
            vm.getAddCellBtnClass = function () {
                if (!vm.pivotColumn)
                    return 'disabled';
                var result = false;
                angular.element.each(vm.cellValues, function (iValue, value) {
                    if (!value)
                        result = true;
                });
                return result ? 'disabled' : '';
            };
            /**
             * Update validation
             */
            vm.updateValidation = function () {
                $izendaInstantReportValidationService.validateReportSet();
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function () {
                $izendaInstantReportPivotService.setDefaultGroup();
                $izendaInstantReportStorageService.clearReportPreviewHtml();
                $izendaInstantReportStorageService.applyAutoGroups(true);
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * User selected pivot column
             */
            vm.onPivotColumnFieldSelect = function () {
                if (vm.pivotColumn !== null) {
                    var sourceField = $izendaInstantReportStorageService.getFieldBySysName(vm.pivotColumn.sysname);
                    var groupName = null;
                    var oldPivotColumn = $izendaInstantReportPivotService.getPivotColumn();
                    if (angular.isObject(oldPivotColumn) && sourceField.sysname === oldPivotColumn.sysname) {
                        groupName = oldPivotColumn.groupByFunction.value;
                    }
                    $izendaInstantReportStorageService.copyFieldObject(sourceField, vm.pivotColumn, true);
                    $izendaInstantReportStorageService.resetFieldObject(vm.pivotColumn);
                    vm.pivotColumn.isPivotColumn = true;
                    $izendaInstantReportPivotService.setPivotColumn(vm.pivotColumn);
                    $izendaInstantReportStorageService.initializeField(vm.pivotColumn).then(function () {
                        if (groupName !== null) {
                            angular.element.each(vm.pivotColumn.groupByFunctionOptions, function () {
                                if (this.value === groupName)
                                    vm.pivotColumn.groupByFunction = this;
                            });
                        }
                        if (vm.cellValues.length === 0) {
                            vm.addCellValue();
                        }
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
            };
            ////////////////////////////
            // cell values
            ////////////////////////////
            /**
             * Cell value field select handler
             */
            vm.onCellValueFieldSelect = function (index) {
                var selectedField = vm.selectedFields[index];
                var cellValue = vm.cellValues[index];
                if (angular.isObject(cellValue) && selectedField.sysname === cellValue.sysname)
                    return;
                if (cellValue === null) {
                    // if field wasn't set yet
                    vm.cellValues[index] = cellValue = $izendaInstantReportStorageService.createFieldObject(selectedField.name, selectedField.parentId, selectedField.tableSysname, selectedField.tableName, selectedField.sysname, selectedField.typeGroup, selectedField.type, selectedField.sqlType);
                }
                $izendaInstantReportStorageService.copyFieldObject(selectedField, cellValue, true);
                $izendaInstantReportStorageService.resetFieldObject(cellValue);
                $izendaInstantReportStorageService.initializeField(cellValue).then(function (f) {
                    angular.element.each(f.groupByFunctionOptions, function () {
                        if (this.value.toLowerCase() === 'group')
                            f.groupByFunction = this;
                    });
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            /**
             * Cell value function select handler
             */
            vm.onCellValueFunctionSelect = function (cellValue) {
                if (cellValue.groupByFunction === null)
                    return;
                $izendaInstantReportStorageService.onFieldFunctionApplied(cellValue);
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Cell value
             */
            vm.showAdvancedOptions = function (cellValue) {
                cellValue.isPivotCellValue = true;
                $izendaInstantReportStorageService.applyFieldSelected(cellValue, true);
            };
            /**
             * Create cell value item
             */
            vm.addCellValue = function () {
                $izendaInstantReportPivotService.addCellValue();
                vm.selectedFields.push(null);
                vm.updateValidation();
            };
            vm.clearPivots = function () {
                $izendaInstantReportPivotService.removePivots();
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Remove cell value
             */
            vm.removeCellValue = function (cellValue) {
                var idx = vm.cellValues.indexOf(cellValue);
                vm.selectedFields.splice(idx, 1);
                $izendaInstantReportPivotService.removeCellValue(cellValue);
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Move cell value
             */
            vm.moveCellValueTo = function (fromIndex, toIndex) {
                $izendaInstantReportPivotService.moveCellValueTo(fromIndex, toIndex);
                vm.selectedFields.splice(toIndex, 0, vm.selectedFields.splice(fromIndex, 1)[0]);
                $scope.$applyAsync();
            };
            /**
             * Reorder cells
             */
            vm.reorderCellValue = function (fromIndex, toIndex) {
                $izendaInstantReportPivotService.swapCellValues(fromIndex, toIndex);
                var temp = vm.selectedFields[fromIndex];
                vm.selectedFields[fromIndex] = vm.selectedFields[toIndex];
                vm.selectedFields[toIndex] = temp;
                $scope.$applyAsync();
            };
            /**
             * Add pivot item
             */
            vm.addPivotItem = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorageService.getActiveTables().length === 0)
                    return;
                // open panel
                $izendaInstantReportStorageService.setFiltersPanelOpened(false);
                $izendaInstantReportPivotService.setPivotsPanelOpened(true);
                // create and add pivot item
                var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName);
                var newItem = $izendaInstantReportStorageService.createFieldObject(field.name, field.parentId, field.tableSysname, field.tableName, field.sysname, field.typeGroup, field.type, field.sqlType);
                $izendaInstantReportStorageService.initializeField(newItem).then(function (f) {
                    $scope.$applyAsync();
                });
                $izendaInstantReportPivotService.addPivotItem(newItem);
                $izendaInstantReportStorageService.applyAutoGroups(true);
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                // pivot panel state listener
                $scope.$watch('$izendaInstantReportPivotService.getPivotsPanelOpened()', function (opened) {
                    vm.panelOpened = opened;
                });
                // main pivot column
                $scope.$watch('$izendaInstantReportPivotService.getPivotColumn()', function (pivotColumn) {
                    vm.pivotColumn = pivotColumn;
                });
                // pivot cell values
                $scope.$watchCollection('$izendaInstantReportPivotService.getCellValues()', function (cellValues) {
                    vm.cellValues = cellValues;
                    updateSelectedFieldsArray();
                });
                $scope.$watch('$izendaInstantReportPivotService.getPivotOptions()', function (pivotOptions) {
                    vm.pivotOptions = pivotOptions;
                });
                // listen for active field items
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllFieldsInActiveTables(true)', function (newActiveFields) {
                    // add:
                    var countOfChanges = 0;
                    angular.element.each(newActiveFields, function () {
                        var newActiveField = this;
                        var found = false;
                        angular.element.each(vm.activeFields, function () {
                            if (this.sysname === newActiveField.sysname)
                                found = true;
                        });
                        if (!found) {
                            vm.activeFields.push(newActiveField);
                            countOfChanges++;
                        }
                    });
                    // remove:
                    var i = 0;
                    while (i < vm.activeFields.length) {
                        var field = vm.activeFields[i];
                        var found = false;
                        for (var j = 0; j < newActiveFields.length; j++) {
                            if (newActiveFields[j].sysname === field.sysname)
                                found = true;
                        }
                        if (!found) {
                            vm.activeFields.splice(i, 1);
                            countOfChanges++;
                        }
                        else
                            i++;
                    }
                    $izendaInstantReportPivotService.syncPivotState(vm.activeFields);
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-validation-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_34) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report validation controller.
     */
    module_definition_34.default.controller('InstantReportValidationController', [
        '$rootScope',
        '$scope',
        '$izendaLocaleService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $izendaLocaleService, $izendaInstantReportValidationService) {
            'use strict';
            var vm = this;
            $scope.$izendaInstantReportValidationService = $izendaInstantReportValidationService;
            vm.isValid = true;
            vm.messages = [];
            vm.infoMessages = [];
            /**
            * Initialize controller
            */
            vm.init = function () {
                $scope.$watch('$izendaInstantReportValidationService.getValidationMessages()', function (messages) {
                    vm.isValid = $izendaInstantReportValidationService.isReportValid();
                    vm.messages = [];
                    vm.infoMessages = [];
                    angular.element.each(messages, function () {
                        var message = this;
                        if (message.type === 'info') {
                            vm.infoMessages.push(message);
                        }
                        else {
                            vm.messages.push(message);
                        }
                    });
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/module", ["require", "exports", "instant-report/module-definition", "instant-report/services/instant-report-query", "instant-report/services/instant-report-pivot", "instant-report/services/instant-report-settings", "instant-report/services/instant-report-visualization", "instant-report/services/instant-report-storage", "instant-report/services/instant-report-validation", "izenda-external-libs", "instant-report/directive/instant-report-field-draggable", "instant-report/directive/instant-report-left-panel-resize", "instant-report/controllers/instant-report-charts-controller", "instant-report/controllers/instant-report-columns-sort-controller", "instant-report/controllers/instant-report-controller", "instant-report/controllers/instant-report-data-source-controller", "instant-report/controllers/instant-report-field-options-controller", "instant-report/controllers/instant-report-filters-controller", "instant-report/controllers/instant-report-format-controller", "instant-report/controllers/instant-report-pivot-controller", "instant-report/controllers/instant-report-validation-controller"], function (require, exports, module_definition_35, instant_report_query_1, instant_report_pivot_1, instant_report_settings_1, instant_report_visualization_1, instant_report_storage_1, instant_report_validation_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    instant_report_query_1.default.register(module_definition_35.default);
    instant_report_pivot_1.default.register(module_definition_35.default);
    instant_report_settings_1.default.register(module_definition_35.default);
    instant_report_visualization_1.default.register(module_definition_35.default);
    instant_report_storage_1.default.register(module_definition_35.default);
    instant_report_validation_1.default.register(module_definition_35.default);
});
izendaRequire.define("common/core/models/filters-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Server-side filters object raw model.
     */
    var IzendaFiltersModel = /** @class */ (function () {
        function IzendaFiltersModel() {
            this.filterLogic = '';
            this.filters = [];
            this.subreportsFilters = null;
        }
        IzendaFiltersModel.prototype.fromJson = function (json) {
            this.filterLogic = json.FilterLogic || '';
            this.filters = json.Filters || [];
            this.subreportsFilters = json.SubreportsFilters || null;
        };
        IzendaFiltersModel.prototype.toJson = function () {
            return {
                FilterLogic: this.filterLogic,
                Filters: this.filters,
                SubreportFilters: this.subreportsFilters
            };
        };
        return IzendaFiltersModel;
    }());
    exports.IzendaFiltersModel = IzendaFiltersModel;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvbXNpZS1kZXRlY3QudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC1tb2RhbC50cyIsImNvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eS50cyIsImNvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL2RpYWxvZy1ib3gvZGlhbG9nLWJveC1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50LnRzIiwiY29tbW9uL2NvcmUvbW9kdWxlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS50cyIsImNvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbC50cyIsImNvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsLnRzIiwiY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZS50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3JlcG9ydC12aWV3ZXIudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcy50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbi50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3N3aXRjaGVyLnRzIiwiY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbi50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NlbGVjdC1yZXBvcnQvc2VsZWN0LXJlcG9ydC1jb21wb25lbnQudHMiLCJjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9tb2R1bGUudHMiLCJpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImluc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXF1ZXJ5LnRzIiwiaW5zdGFudC1yZXBvcnQvbW9kZWxzL2luc3RhbnQtcmVwb3J0LXBpdm90LWNvbmZpZy50cyIsImluc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXBpdm90LnRzIiwiaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtc2V0dGluZ3MudHMiLCJpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC12aXN1YWxpemF0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWxpbnEudHMiLCJpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zdG9yYWdlLnRzIiwiaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtdmFsaWRhdGlvbi50cyIsImluc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1maWVsZC1kcmFnZ2FibGUudHMiLCJpbnN0YW50LXJlcG9ydC9kaXJlY3RpdmUvaW5zdGFudC1yZXBvcnQtbGVmdC1wYW5lbC1yZXNpemUudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1jaGFydHMtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWNvbHVtbnMtc29ydC1jb250cm9sbGVyLnRzIiwiaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWRhdGEtc291cmNlLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWVsZC1vcHRpb25zLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWx0ZXJzLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1mb3JtYXQtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LXBpdm90LWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9tb2R1bGUudHMiLCJjb21tb24vY29yZS9tb2RlbHMvZmlsdGVycy1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwudHMiLCJpbnN0YW50LXJlcG9ydC9tb2RlbHMvaW5zdGFudC1yZXBvcnQtY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztJQUVBLDJDQUEyQztJQUMzQyxJQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLGtCQUFlLGdCQUFnQixDQUFDOzs7OztJQ0poQztRQUFBO1FBMEJBLENBQUM7UUF6Qk8sOEJBQW1CLEdBQTFCLFVBQTJCLE9BQWUsRUFBRSxVQUFrQjtZQUM3RCxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQztZQUM3QixJQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3RDLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7WUFDekMsSUFBSSxPQUFPLEVBQUU7Z0JBQ1osaUJBQWlCLElBQUksTUFBSSxPQUFTLENBQUM7Z0JBQ25DLElBQUksVUFBVSxFQUFFO29CQUNmLGlCQUFpQixHQUFNLFVBQVUsU0FB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QyxDQUFDLFFBQVEsQ0FBQyw0QkFBeUIsQ0FBQyxDQUFDO0lBQ3RFLG1DQUFvQyxDQUFDLFFBQVEsQ0FBQyw0QkFBeUIsQ0FBQyxDQUFDOzs7OztJQ1p6RTs7T0FFRztJQUNIO1FBQUE7WUFFQyxnQkFBVyxHQUFXLEVBQUUsQ0FBQztZQUN6QixZQUFPLEdBQVUsRUFBRSxDQUFDO1lBQ3BCLHNCQUFpQixHQUFRLElBQUksQ0FBQztRQWUvQixDQUFDO1FBYkEscUNBQVEsR0FBUixVQUFTLElBQVM7WUFDakIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQztZQUMxQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxDQUFDO1FBQ3pELENBQUM7UUFFRCxtQ0FBTSxHQUFOO1lBQ0MsT0FBTztnQkFDTixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7Z0JBQzdCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztnQkFDckIsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjthQUN4QyxDQUFDO1FBQ0gsQ0FBQztRQUNGLHlCQUFDO0lBQUQsQ0FuQkEsQUFtQkMsSUFBQTtJQW5CWSxnREFBa0IiLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuXHJcbi8vIGNyZWF0ZSBpemVuZGEuY29tbW9uLmNvcmUgYW5ndWxhciBtb2R1bGVcclxuY29uc3QgaXplbmRhQ29yZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGEuY29tbW9uLmNvcmUnLCBbJ3J4J10pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFDb3JlTW9kdWxlO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNc2llRGV0ZWN0IHtcclxuXHRzdGF0aWMgaXNTcGVjaWZpY0llVmVyc2lvbih2ZXJzaW9uOiBudW1iZXIsIGNvbXBhcmlzb246IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGllQ29tcGFyZU9wZXJhdG9yID0gJ0lFJztcclxuXHRcdGNvbnN0IGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdCJyk7XHJcblx0XHRjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cdFx0aWYgKHZlcnNpb24pIHtcclxuXHRcdFx0aWVDb21wYXJlT3BlcmF0b3IgKz0gYCAke3ZlcnNpb259YDtcclxuXHRcdFx0aWYgKGNvbXBhcmlzb24pIHtcclxuXHRcdFx0XHRpZUNvbXBhcmVPcGVyYXRvciA9IGAke2NvbXBhcmlzb259ICR7aWVDb21wYXJlT3BlcmF0b3J9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Yi5pbm5lckhUTUwgPSBgPCEtLVtpZiAke2llQ29tcGFyZU9wZXJhdG9yfV0+PGIgaWQ9XCJpZWNjdGVzdFwiPjwvYj48IVtlbmRpZl0tLT5gO1xyXG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZChiKTtcclxuXHRcdGNvbnN0IGlzSWVSZXN1bHQgPSAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZWNjdGVzdCcpO1xyXG5cdFx0ZG9jRWxlbS5yZW1vdmVDaGlsZChiKTtcclxuXHRcdGNvbnN0IGRvY01vZGUgPSBkb2N1bWVudFsnZG9jdW1lbnRNb2RlJ107XHJcblx0XHRjb25zdCBpc0NvbXBhdGliaWxpdHlNb2RlID1cclxuXHRcdFx0KHR5cGVvZiBkb2NNb2RlICE9PSAndW5kZWZpbmVkJyAmJlxyXG5cdFx0XHRcdChcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnbHRlJyAmJiBOdW1iZXIoZG9jTW9kZSkgPD0gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnZ3RlJyAmJiBOdW1iZXIoZG9jTW9kZSkgPj0gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnbHQnICYmIE51bWJlcihkb2NNb2RlKSA8IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2d0JyAmJiBOdW1iZXIoZG9jTW9kZSkgPiB2ZXJzaW9uKSB8fFxyXG5cdFx0XHRcdFx0KGNvbXBhcmlzb24gPT09ICdlcScgJiYgTnVtYmVyKGRvY01vZGUpID09PSB2ZXJzaW9uKSkpO1xyXG5cdFx0cmV0dXJuIGlzSWVSZXN1bHQgfHwgaXNDb21wYXRpYmlsaXR5TW9kZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBNc2llRGV0ZWN0IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL21zaWUtZGV0ZWN0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0Tm9uZSA9ICdOb25lJztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0UmVhZE9ubHkgPSAnUmVhZCBPbmx5JztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0Vmlld09ubHkgPSAnVmlldyBPbmx5JztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0TG9ja2VkID0gJ0xvY2tlZCc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodEZ1bGxBY2Nlc3MgPSAnRnVsbCBBY2Nlc3MnO1xyXG5cdHByaXZhdGUgY3VycmVudFJpZ2h0czogc3RyaW5nID0gdGhpcy5yaWdodE5vbmU7XHJcblx0cHJpdmF0ZSByZWFkb25seSBpZTg6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSByZWFkb25seSBsdGVJZTEwOiBib29sZWFuO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZ3RlSWU5OiBib29sZWFuO1xyXG5cdHByaXZhdGUgdXNlc0hpZGRlbkNvbHVtbnM6IGJvb2xlYW47XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckd2luZG93J107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmllOCA9IE1zaWVEZXRlY3QuaXNTcGVjaWZpY0llVmVyc2lvbig4LCAnbHRlJyk7XHJcblx0XHR0aGlzLmx0ZUllMTAgPSBNc2llRGV0ZWN0LmlzU3BlY2lmaWNJZVZlcnNpb24oMTAsICdsdGUnKTtcclxuXHRcdHRoaXMuZ3RlSWU5ID0gTXNpZURldGVjdC5pc1NwZWNpZmljSWVWZXJzaW9uKDksICdndGUnKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNJZTgoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pZTg7XHJcblx0fVxyXG5cclxuXHRpc0llKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ3RlSWU5O1xyXG5cdH1cclxuXHJcblx0aXNMdGVJZTEwKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMubHRlSWUxMDtcclxuXHR9XHJcblxyXG5cdGlzSHRtbDVGdWxsU2NyZWVuU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLmx0ZUllMTBcclxuXHRcdFx0JiYgKGRvY3VtZW50WydmdWxsc2NyZWVuRW5hYmxlZCddIHx8IGRvY3VtZW50Wyd3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCddIHx8IGRvY3VtZW50Wydtb3pGdWxsU2NyZWVuRW5hYmxlZCddIHx8IGRvY3VtZW50Wydtc0Z1bGxzY3JlZW5FbmFibGVkJ10pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgcGFnZSBzaG91bGQgaGF2ZSBtb2JpbGUgdmlldy5cclxuXHQgKi9cclxuXHRpc01vYmlsZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBwYWdlIHdpbmRvdyBpcyB0b28gc21hbGwgdG8gZml0IHNldmVyYWwgY29sdW1ucyBvZiB0aWxlcy5cclxuXHQgKi9cclxuXHRpc1NtYWxsUmVzb2x1dGlvbigpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLiR3aW5kb3cuaW5uZXJXaWR0aCA8PSA5OTE7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBvbmUgY29sdW1uIHZpZXcgcmVxdWlyZWRcclxuXHQgKi9cclxuXHRpc09uZUNvbHVtblZpZXcoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc01vYmlsZSgpIHx8IHRoaXMuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IHJlcG9ydCB3aXRoIGhpZGRlbiBjb2x1bW5zIGlzIGN1cnJlbmx5IGxvYWRlZC5cclxuXHQgKi9cclxuXHRzZXRVc2VzSGlkZGVuQ29sdW1ucyh2YWx1ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy51c2VzSGlkZGVuQ29sdW1ucyA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGZsYXQgdGhhdCBpbmRpY2F0ZXMgdGhhdCByZXBvcnQgd2l0aCBoaWRkZW4gY29sdW1ucyBpcyBjdXJyZW5seSBsb2FkZWQuXHJcblx0ICovXHJcblx0aXNVc2VzSGlkZGVuQ29sdW1ucygpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnVzZXNIaWRkZW5Db2x1bW5zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJpZ2h0cyBmb3IgY3VycmVudCBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRzZXRSaWdodHMocmlnaHRzOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuY3VycmVudFJpZ2h0cyA9IHJpZ2h0cyA/IHJpZ2h0cyA6IHRoaXMucmlnaHROb25lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgcmlnaHRzXHJcblx0ICovXHJcblx0Z2V0UmlnaHRzKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50UmlnaHRzID8gdGhpcy5jdXJyZW50UmlnaHRzIDogdGhpcy5yaWdodE5vbmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZnVsbCBhY2Nlc3MgcmlnaHQgYXMgY3VycmVudCByaWdodC5cclxuXHQgKi9cclxuXHRzZXRGdWxsQWNjZXNzKCkge1xyXG5cdFx0dGhpcy5zZXRSaWdodHModGhpcy5yaWdodEZ1bGxBY2Nlc3MpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgdGlsZSBlZGl0aW5nIGFsbG93ZWQuXHJcblx0ICovXHJcblx0aXNGdWxsQWNjZXNzKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3NdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHRpbGUgZWRpdGluZyBhbGxvd2VkLlxyXG5cdCAqL1xyXG5cdGlzRWRpdEFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2VzcywgdGhpcy5yaWdodFJlYWRPbmx5XS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc09uZUNvbHVtblZpZXcoKTtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYXMgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzU2F2ZUFzQWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzLCB0aGlzLnJpZ2h0UmVhZE9ubHldLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYWxsb3dlZCB3aXRoIGhpZGRlbiBjb2x1bW5zXHJcblx0ICovXHJcblx0aXNTYXZlQWxsb3dlZFdpdGhIaWRkZW4oKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2Vzc10uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNJZTgoKTtcclxuXHRcdHJldHVybiBhbGxvd2VkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgc2F2ZSBhbGxvd2VkXHJcblx0ICovXHJcblx0aXNTYXZlQWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmlzU2F2ZUFsbG93ZWRXaXRoSGlkZGVuKCkgJiYgIXRoaXMudXNlc0hpZGRlbkNvbHVtbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBmaWx0ZXJzIGVkaXRpbmcgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzRmlsdGVyc0VkaXRBbGxvd2VkKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3MsIHRoaXMucmlnaHRSZWFkT25seSwgdGhpcy5yaWdodExvY2tlZF0uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNJZTgoKTtcclxuXHRcdHJldHVybiBhbGxvd2VkO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUV2ZW50U2VydmljZSB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBldmVudHM6IGFueSA9IHt9O1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHJvb3RTY29wZScsICckbG9nJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRsb2c6IG5nLklMb2dTZXJ2aWNlKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGV2ZW50IHRvIHF1ZXVlLiBcclxuXHQgKi9cclxuXHRxdWV1ZUV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEFyZ3VtZW50czogYW55W10sIGNsZWFyUXVldWU6IGJvb2xlYW4pIHtcclxuXHRcdGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykgfHwgY2xlYXJRdWV1ZSkge1xyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblx0XHR9XHJcblx0XHRjb25zdCBldmVudFJlY29yZCA9IHtcclxuXHRcdFx0YXJnczogZXZlbnRBcmd1bWVudHNcclxuXHRcdH07XHJcblx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZXZlbnRSZWNvcmQpO1xyXG5cdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHF1ZXVlZGApO1xyXG5cdFx0dGhpcy4kcm9vdFNjb3BlLiRicm9hZGNhc3QoZXZlbnROYW1lLCBldmVudEFyZ3VtZW50cyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXRyaWV2ZSBldmVudCByZWNvcmQgZnJvbSBxdWV1ZSBhbmQgcmV0dXJuIGl0J3MgcmVjb3JkLlxyXG5cdCAqL1xyXG5cdGhhbmRsZVF1ZXVlZEV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBzY29wZTogYW55LCBldmVudENvbnRleHQ6IGFueSwgZXZlbnRIYW5kbGVyOiBhbnkpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKGV2ZW50SGFuZGxlcikpXHJcblx0XHRcdHRocm93ICdldmVudEhhbmRsZXIgc2hvdWxkIGJlIGEgZnVuY3Rpb24nO1xyXG5cdFx0aWYgKCEoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRzKSB8fCAhYW5ndWxhci5pc0FycmF5KHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pKVxyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblxyXG5cdFx0d2hpbGUgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCBldmVudFJlY29yZCA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uc2hpZnQoKTtcclxuXHRcdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHJ1biBmcm9tIHF1ZXVlYCk7XHJcblx0XHRcdGV2ZW50SGFuZGxlci5hcHBseShldmVudENvbnRleHQsIGV2ZW50UmVjb3JkLmFyZ3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHN0YXJ0IGhhbmRsaW5nIGV2ZW50IHVzaW5nIGFuZ3VsYXIgZXZlbnRzLlxyXG5cdFx0aWYgKHNjb3BlLiQkbGlzdGVuZXJzKSB7XHJcblx0XHRcdGNvbnN0IGV2ZW50QXJyID0gc2NvcGUuJCRsaXN0ZW5lcnNbZXZlbnROYW1lXTtcclxuXHRcdFx0aWYgKGV2ZW50QXJyKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBldmVudEFyci5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGV2ZW50QXJyW2ldID09PSBldmVudEhhbmRsZXIpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnRBcnIuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHNjb3BlLiRvbihldmVudE5hbWUsIChldmVudCwgYXJncykgPT4ge1xyXG5cdFx0XHR0aGlzLiRsb2cuZGVidWcoYGV2ZW50IFwiJHtldmVudE5hbWV9XCIgcnVuIGZyb20gJG9uYCk7XHJcblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcclxuXHRcdFx0ZXZlbnRIYW5kbGVyLmFwcGx5KGV2ZW50Q29udGV4dCwgYXJncyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIGFsbCBxdWV1ZWQgZXZlbnRzIChmb3IgbWFudWFsICRicm9hZGNhc3QgaGFuZGxpbmcpXHJcblx0ICovXHJcblx0Y2xlYXJFdmVudFF1ZXVlKGV2ZW50TmFtZSkge1xyXG5cdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhRXZlbnRTZXJ2aWNlJywgSXplbmRhRXZlbnRTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYUV2ZW50U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuXHJcbi8qKlxyXG4gKiBMb2NhbGl6YXRpb24gc2VydmljZS4gR2V0cyBsb2NhbGl6ZWQgc3RyaW5ncyBmcm9tIHRoZSBcIkl6TG9jYWxcIiBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXpMb2NhbC5Mb2NhbGl6ZVBhZ2UoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBsb2NhbGl6ZWQgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5LiBMb2NhbGUgc3RyaW5nIGtleSAoZGVmaW5lZCBpbiByZXNvdXJjZXMuYXNweClcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdFZhbHVlLiBEZWZhdWx0IHZhbHVlLCB3aGVuIGxvY2FsZSB0ZXh0IGNvdWxkbid0IGJlIGdvdFxyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IGxvY2FsaXplZCB0ZXh0LlxyXG5cdCAqL1xyXG5cdGxvY2FsZVRleHQoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGRlZmF1bHRUZXh0ID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlIDogJyc7XHJcblx0XHRyZXR1cm4gSXpMb2NhbC5SZXMoa2V5LCBkZWZhdWx0VGV4dCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBcHBseSBsb2NhbGUgc3RyaW5nIGluIGZvcm1hdCBcIi4uLnswfS4uLnsxfS4uLlwiIGFuZCBhcHBseSBpbnN0ZWFkIG9mICd7bn0nIHBhcmFtc1tuXVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgdGV4dCBrZXkuIFRoaXMga2V5IGNvbnRhaW5zIGluIHJlc291cmNlcy5cclxuXHQgKiBAcGFyYW0ge3N0cm9uZ30gZGVmYXVsdFZhbHVlLiBEZWZhdWx0IHZhbHVlIGlmIGxvY2FsZSByZXNvdXJjZSB3YXNuJ3QgZm91bmQuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gcGFyYW1zLiBBZGRpdGlvbmFsIHBhcmFtcy5cclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfS4gTG9jYWxpemVkIHRleHQuIFxyXG5cdCAqL1xyXG5cdGxvY2FsZVRleHRXaXRoUGFyYW1zKGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZywgcGFyYW1zOiBzdHJpbmdbXSk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gdGhpcy5sb2NhbGVUZXh0KGtleSwgZGVmYXVsdFZhbHVlKTtcclxuXHRcdGlmIChhbmd1bGFyLmlzQXJyYXkocGFyYW1zKSlcclxuXHRcdFx0cGFyYW1zLmZvckVhY2goKHBhcmFtLCBpUGFyYW0pID0+XHJcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0LnJlcGxhY2VBbGwoYHske2lQYXJhbX19YCwgcGFyYW0pKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSk7XHJcblx0XHQvKipcclxuXHRcdCAqIEZpbHRlciB3aGljaCBpcyB1c2VkIGZvciB0aGUgYXBwbHlpbmcgbG9jYWxpemF0aW9uLlxyXG5cdFx0ICogU2FtcGxlIHVzYWdlOiA8ZGl2IG5nLWJpbmQ9XCI6OiAnanNfY2xvc2UnIHwgaXplbmRhTG9jYWxlOiAnQ2xvc2UnXCIgLz4gd2hlcmUgJ0Nsb3NlJyAtIFwiZGVmYXVsdFZhbHVlXCIgcGFyYW1ldGVyIHZhbHVlLlxyXG5cdFx0ICovXHJcblx0XHRtb2R1bGUuZmlsdGVyKCdpemVuZGFMb2NhbGUnLCBbXHJcblx0XHRcdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0XHRcdCgkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiAodGV4dDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZykgPT4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCh0ZXh0LCBkZWZhdWx0VmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHRdKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBVdGlsaXR5IHNlcnZpY2UuIFByb3ZpZGVzIHRoZSB1dGlsaXR5IGZ1bmN0aW9ucy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVV0aWxTZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRpemVuZGFMb2NhbGVTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGh1bWFuIHJlYWRhYmxlIHZhcmlhYmxlIG5hbWUgdmVyc2lvblxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHRcclxuXHQgKi9cclxuXHRodW1hbml6ZVZhcmlhYmxlTmFtZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHRleHQpKVxyXG5cdFx0XHRyZXR1cm4gdGV4dDtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHRleHRcclxuXHRcdFx0Ly8gaW5zZXJ0IGEgc3BhY2UgYmV0d2VlbiBsb3dlciAmIHVwcGVyXHJcblx0XHRcdC5yZXBsYWNlKC8oW2Etel0pKFtBLVpcXGRdKS9nLCAnJDEgJDInKVxyXG5cdFx0XHQvLyBzcGFjZSBiZWZvcmUgbGFzdCB1cHBlciBpbiBhIHNlcXVlbmNlIGZvbGxvd2VkIGJ5IGxvd2VyXHJcblx0XHRcdC5yZXBsYWNlKC9cXGIoW0EtWlxcZF0rKShbQS1aXFxkXSkoW2Etel0pLywgJyQxICQyJDMnKVxyXG5cdFx0XHQvLyB1cHBlcmNhc2UgdGhlIGZpcnN0IGNoYXJhY3RlclxyXG5cdFx0XHQucmVwbGFjZSgvXi4vLCB0eHQgPT4gdHh0LnRvVXBwZXJDYXNlKCkpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFwiVW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IGxvY2FsaXplZCBuYW1lIGdldHRlci5cclxuXHQgKi9cclxuXHRnZXQgdW5jYXRlZ29yaXplZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgXCJVbmNhdGVnb3JpemVkXCIgY2F0ZWdvcnkgbG9jYWxpemVkIG5hbWUuXHJcblx0ICovXHJcblx0Z2V0VW5jYXRlZ29yaXplZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudW5jYXRlZ29yaXplZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIHdoZXRoZXIgXCJ1bmNhdGVnb3JpemVkXCIgY2F0ZWdvcnkgb3Igbm90LlxyXG5cdCAqL1xyXG5cdGlzVW5jYXRlZ29yaXplZChjYXRlZ29yeTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWNhdGVnb3J5IHx8ICFhbmd1bGFyLmlzU3RyaW5nKGNhdGVnb3J5KSlcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRyZXR1cm4gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy51bmNhdGVnb3JpemVkLnRvTG93ZXJDYXNlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayB3aGV0aGVyIGNhdGVnb3JpZXMgZXF1YWwgb3Igbm90LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXQxIENhdGVnb3J5IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdDIgQ2F0ZWdvcnkgbmFtZS5cclxuXHQgKi9cclxuXHRpc0NhdGVnb3JpZXNFcXVhbChjYXQxOiBzdHJpbmcsIGNhdDI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICh0aGlzLmlzVW5jYXRlZ29yaXplZChjYXQxKSAmJiB0aGlzLmlzVW5jYXRlZ29yaXplZChjYXQyKSkgfHwgY2F0MSA9PT0gY2F0MjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0TmFtZSByZXBvcnQgbmFtZS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yIGRpcmVjdG9yaWVzIHNlcGFyYXRvciBzeW1ib2wuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5IHJlcG9ydCBjYXRlZ29yeSAob3B0aW9uYWwpLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gZ2VuZXJhdGVkIHJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICovXHJcblx0Y3JlYXRlUmVwb3J0RnVsbE5hbWUocmVwb3J0TmFtZTogc3RyaW5nLCBzZXBhcmF0b3I6IHN0cmluZywgY2F0ZWdvcnk/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFyZXBvcnROYW1lIHx8IHJlcG9ydE5hbWUudHJpbSgpID09PSAnJylcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFbXB0eSBcInJlcG9ydE5hbWVcIiBwYXJhbWV0ZXIgaXNuXFwndCBhbGxvd2VkLicpO1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNVbmNhdGVnb3JpemVkKGNhdGVnb3J5KVxyXG5cdFx0XHQ/IHJlcG9ydE5hbWVcclxuXHRcdFx0OiBjYXRlZ29yeSArIHNlcGFyYXRvciArIHJlcG9ydE5hbWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IG9wdGlvbnMgd2hpY2ggaGF2ZSBnb3QgZnJvbSBzZXJ2ZXIgdXNpbmcgXCJHZXRPcHRpb25zQnlQYXRoXCIgcXVlcnkgaW50byBcclxuXHQgKiBvbmUgZGltZW50aW9uYWwgYXJyYXksIHdoaWNoIGFsbG93IHRvIHVzZSBpdCBhcyA8b3B0aW9uPlxyXG5cdCAqL1xyXG5cdGNvbnZlcnRPcHRpb25zQnlQYXRoKG9wdGlvbkdyb3VwczogYW55W10pOiBhbnlbXSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25Hcm91cHMpKVxyXG5cdFx0XHRyZXR1cm4gW107XHJcblxyXG5cdFx0Y29uc3QgZ3JvdXBzID0gW107XHJcblx0XHRvcHRpb25Hcm91cHMuZm9yRWFjaChncm91cCA9PiB7XHJcblx0XHRcdGdyb3VwLm9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xyXG5cdFx0XHRcdG9wdGlvbi5ncm91cCA9IGFuZ3VsYXIuaXNTdHJpbmcoZ3JvdXAubmFtZSkgJiYgZ3JvdXAubmFtZSAhPT0gJydcclxuXHRcdFx0XHRcdD8gZ3JvdXAubmFtZVxyXG5cdFx0XHRcdFx0OiB1bmRlZmluZWQ7XHJcblx0XHRcdFx0Z3JvdXBzLnB1c2gob3B0aW9uKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBncm91cHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgb3B0aW9uIGJ5IHZhbHVlIGZyb20gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIFwidmFsdWVcIiBwcm9wZXJ0eSAoY2FzZSBpbnNlbnNpdGl2ZSk6IFxyXG5cdCAqIFt7dmFsdWU6J3RleHQxJywuLi59LCB7dmFsdWU6J3RleHQyJywgLi4ufSwgLi4uXVxyXG5cdCAqL1xyXG5cdGdldE9wdGlvbkJ5VmFsdWUob3B0aW9uczogYW55W10sIHZhbHVlOiBzdHJpbmcsIGlzTG93ZXJDYXNlQ29tcGFyaXNvbj86IGJvb2xlYW4pIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KG9wdGlvbnMpIHx8ICFvcHRpb25zLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR3aGlsZSAoaSA8IG9wdGlvbnMubGVuZ3RoKSB7XHJcblx0XHRcdGNvbnN0IG9wdGlvbjogYW55ID0gb3B0aW9uc1tpXTtcclxuXHRcdFx0aWYgKCFpc0xvd2VyQ2FzZUNvbXBhcmlzb24gJiYgb3B0aW9uLnZhbHVlID09PSB2YWx1ZSlcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9uO1xyXG5cdFx0XHRpZiAoaXNMb3dlckNhc2VDb21wYXJpc29uICYmIG9wdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdHJldHVybiBvcHRpb247XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXRpbFNlcnZpY2UnLCBJemVuZGFVdGlsU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFVdGlsU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhVXRpbFVpU2VydmljZSB7XHJcblx0cHJpdmF0ZSBub3RpZmljYXRpb25IaWRlRGVsYXkgPSA1MDAwO1xyXG5cdHByaXZhdGUgbm90aWZpY2F0aW9uc0lkQ291bnRlciA9IDE7XHJcblx0bm90aWZpY2F0aW9uczogYW55W10gPSBbXTtcclxuXHJcblx0bWVzc2FnZTogYW55ID0gbnVsbDtcclxuXHRkaWFsb2dCb3g6IGFueSA9IG51bGw7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckdGltZW91dCcsICckaXplbmRhTG9jYWxlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbW1lZGlhdGVseSBjbG9zZSBub3RpZmljYXRpb24uXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vdGlmaWNhdGlvbklkIG5vdGlmaWNhdGlvbiBpZFxyXG5cdCAqL1xyXG5cdGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBudW1iZXIpIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlIChpIDwgdGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5ub3RpZmljYXRpb25zW2ldLmlkID09PSBub3RpZmljYXRpb25JZCkge1xyXG5cdFx0XHRcdHRoaXMuY2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb25JZCk7XHJcblx0XHRcdFx0dGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIG5vdGlmaWNhdGlvbiBhdXRvaGlkZS5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbm90aWZpY2F0aW9uSWQgbm90aWZpY2F0aW9uIGlkXHJcblx0ICovXHJcblx0Y2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb25JZDogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBpdG0gPSB0aGlzLmdldE5vdGlmaWNhdGlvbkJ5SWQobm90aWZpY2F0aW9uSWQpO1xyXG5cdFx0aWYgKGl0bS50aW1lb3V0SWQpIHtcclxuXHRcdFx0dGhpcy4kdGltZW91dC5jYW5jZWwoaXRtLnRpbWVvdXRJZCk7XHJcblx0XHRcdGl0bS50aW1lb3V0SWQgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogIFNob3dzIHBvcCB1cCBub3RpZmljYXRpb24gcGFuZWwuIElmIG5vIDxpemVuZGEtbm90aWZpY2F0aW9uLWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaWNvbiBJY29uIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlcyAnZXJyb3InIG9yIG5vIHZhbHVlLlxyXG5cdCAqL1xyXG5cdHNob3dOb3RpZmljYXRpb24odGV4dDogc3RyaW5nLCB0aXRsZT86IHN0cmluZywgaWNvbj86IHN0cmluZykge1xyXG5cdFx0Y29uc3QgbmV4dElkID0gdGhpcy5ub3RpZmljYXRpb25zSWRDb3VudGVyKys7XHJcblx0XHRjb25zdCBpY29uQ2xhc3MgPSBhbmd1bGFyLmlzU3RyaW5nKGljb24pICYmIGljb24gPT09ICdlcnJvcicgPyAnZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduJyA6ICcnO1xyXG5cdFx0dmFyIG9ialRvU2hvdyA9IHtcclxuXHRcdFx0aWQ6IG5leHRJZCxcclxuXHRcdFx0dGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJyxcclxuXHRcdFx0dGV4dDogdGV4dCxcclxuXHRcdFx0aWNvbkNsYXNzOiBpY29uQ2xhc3MsXHJcblx0XHRcdHRpbWVvdXRJZDogbnVsbFxyXG5cdFx0fTtcclxuXHRcdG9ialRvU2hvdy50aW1lb3V0SWQgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZU5vdGlmaWNhdGlvbihvYmpUb1Nob3cuaWQpO1xyXG5cdFx0fSwgdGhpcy5ub3RpZmljYXRpb25IaWRlRGVsYXkpO1xyXG5cdFx0dGhpcy5ub3RpZmljYXRpb25zLnB1c2gob2JqVG9TaG93KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIG1lc3NhZ2UgZGlhbG9nLiBJZiBubyA8aXplbmRhLW1lc3NhZ2UtY29tcG9uZW50PiBkZWZpbmVkIG9yIG5vIGNvbXBvbmVudHMgd2l0aCBjb21wb25lbnRJZCB3aWxsIGJlIGZvdW5kXHJcblx0ICogdGhlbiBub3RoaW5nIHdpbGwgaGFwcGVuLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGl0bGUgdGV4dCAob3B0aW9uYWwpLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydEluZm8gVHlwZSBvZiBkaWFsb2cgKG9wdGlvbmFsKS4gUG9zc2libGUgdmFsdWVzOiAnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZGFuZ2VyJ1xyXG5cdCAqL1xyXG5cdHNob3dNZXNzYWdlRGlhbG9nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIGFsZXJ0SW5mbz86IHN0cmluZykge1xyXG5cdFx0dGhpcy5tZXNzYWdlID0ge1xyXG5cdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxyXG5cdFx0XHR0aXRsZTogYW5ndWxhci5pc0RlZmluZWQodGl0bGUpID8gdGl0bGUgOiAnJyxcclxuXHRcdFx0YWxlcnRJbmZvOiBhbmd1bGFyLmlzRGVmaW5lZChhbGVydEluZm8pID8gYWxlcnRJbmZvIDogJ2luZm8nXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvd3MgZXJyb3IgZGlhbG9nLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRJZCBJRCBvZiBjb21wb25lbnQuIFVzZWQgZm9yIGRpc3Rpbmd1aXNoIGRpZmZlcmVudCBzaW1pbGFyIGNvbXBvbmVudHMuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgdGV4dFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBFcnJvciB0aXRsZSAob3B0aW9uYWwpXHJcblx0ICovXHJcblx0c2hvd0Vycm9yRGlhbG9nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IHRpdGxlVGV4dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHRpdGxlKSA/IHRpdGxlIDogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FcnJvcicsICdFcnJvcicpO1xyXG5cdFx0dGhpcy5zaG93TWVzc2FnZURpYWxvZyhtZXNzYWdlLCB0aXRsZVRleHQsICdkYW5nZXInKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIG1lc3NhZ2UgZGlhbG9nLlxyXG5cdCAqL1xyXG5cdGNsb3NlTWVzc2FnZURpYWxvZygpIHtcclxuXHRcdHRoaXMubWVzc2FnZSA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93cyBkaWFsb2cgYm94LiBJZiBubyA8aXplbmRhLWRpYWxvZy1ib3gtY29tcG9uZW50PiBkZWZpbmVkIG9yIG5vIGNvbXBvbmVudHMgd2l0aCBjb21wb25lbnRJZCB3aWxsIGJlIGZvdW5kXHJcblx0ICogdGhlbiBub3RoaW5nIHdpbGwgaGFwcGVuLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGl0bGUgdGV4dCAob3B0aW9uYWwpLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydEluZm8gVHlwZSBvZiBkaWFsb2cgKG9wdGlvbmFsKS4gUG9zc2libGUgdmFsdWVzOiAnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZGFuZ2VyJ1xyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGJ1dHRvbnMgZGlhbG9nIGJ1dHRvbnMgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge0FycmF5fSBjaGVja2JveGVzIGNoZWNrYm94ZXMgY29sbGVjdGlvbiAob3B0aW9uYWwpLlxyXG5cdCAqL1xyXG5cdHNob3dEaWFsb2dCb3gob3B0aW9uczogYW55KSB7XHJcblx0XHR0aGlzLmRpYWxvZ0JveCA9IHtcclxuXHRcdFx0bWVzc2FnZTogb3B0aW9ucy5tZXNzYWdlLFxyXG5cdFx0XHR0aXRsZTogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy50aXRsZSkgPyBvcHRpb25zLnRpdGxlIDogJycsXHJcblx0XHRcdGFsZXJ0SW5mbzogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hbGVydEluZm8pID8gb3B0aW9ucy5hbGVydEluZm8gOiAnaW5mbycsXHJcblx0XHRcdGJ1dHRvbnM6IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYnV0dG9ucykgPyBvcHRpb25zLmJ1dHRvbnMgOiBbeyB0ZXh0OiAnQ2xvc2UnIH1dLFxyXG5cdFx0XHRjaGVja2JveGVzOiBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmNoZWNrYm94ZXMpID8gb3B0aW9ucy5jaGVja2JveGVzIDogW11cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBkaWFsb2cgYm94XHJcblx0ICovXHJcblx0Y2xvc2VEaWFsb2dCb3goKSB7XHJcblx0XHR0aGlzLmRpYWxvZ0JveCA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldE5vdGlmaWNhdGlvbkJ5SWQoaWQpIHtcclxuXHRcdGNvbnN0IGZvdW5kID0gdGhpcy5ub3RpZmljYXRpb25zLmZpbmQobiA9PiB7XHJcblx0XHRcdHJldHVybiBuLmlkID09PSBpZDtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGZvdW5kID8gZm91bmQgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXRpbFVpU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYVV0aWxVaVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXRpbFVpU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEJvb3RzdHJhcCBtb2RhbCBkaXJlY3RpdmUuIFVzYWdlOlxyXG4gKiA8aXplbmRhLWJvb3RzdHJhcC1tb2RhbCBvcGVuZWQ9XCIuLi5cIj4uLi48L2l6ZW5kYS1ib290c3RyYXAtbW9kYWw+XHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBNb2RhbERpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRzY29wZSA9IHtcclxuXHRcdG9wZW5lZDogJz0nLFxyXG5cdFx0a2V5Ym9hcmQ6ICc9JyxcclxuXHRcdGJhY2tkcm9wOiAnPScsXHJcblx0XHRtb2RhbFNpemU6ICdAJyxcclxuXHRcdGlzTW9kZXJuQm9vdHN0cmFwVmVyc2lvbjogJ0AnLFxyXG5cdFx0b25Nb2RhbE9wZW5lZDogJyYnLFxyXG5cdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPSBgXHJcbjxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuXHQ8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgbmctY2xhc3M9XCJnZXRNb2RhbFNpemVDbGFzcygpXCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG5cdFx0XHQ8ZGl2IG5nLXRyYW5zY2x1ZGU9XCJcIj48L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cclxuXHRsaW5rOiAoJGRpcmVjdGl2ZVNjb3BlOiBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUucHJvdG90eXBlLmxpbmsgPSAoJGRpcmVjdGl2ZVNjb3BlOiBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JGRpcmVjdGl2ZVNjb3BlLmdldE1vZGFsU2l6ZUNsYXNzID0gKCkgPT4gJGRpcmVjdGl2ZVNjb3BlLm1vZGFsU2l6ZSA9PT0gJ2xhcmdlJyA/ICdtb2RhbC1sZycgOiAnJztcclxuXHJcblx0XHRcdHZhciAkbW9kYWwgPSAkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJyk7XHJcblxyXG5cdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHQkbW9kYWwuY3NzKHtcclxuXHRcdFx0XHRcdCdvdmVyZmxvdy14JzogJ2hpZGRlbicsXHJcblx0XHRcdFx0XHQnb3ZlcmZsb3cteSc6ICdzY3JvbGwnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZGl0aW9uYWwgYm9vdHN0cmFwIHBhcmFtZXRlcnNcclxuXHRcdFx0aWYgKCRkaXJlY3RpdmVTY29wZS5rZXlib2FyZCAhPSBudWxsKVxyXG5cdFx0XHRcdCRtb2RhbC5hdHRyKCdkYXRhLWtleWJvYXJkJywgJGRpcmVjdGl2ZVNjb3BlLmtleWJvYXJkKTtcclxuXHRcdFx0aWYgKCRkaXJlY3RpdmVTY29wZS5iYWNrZHJvcCAhPSBudWxsKVxyXG5cdFx0XHRcdCRtb2RhbC5hdHRyKCdkYXRhLWJhY2tkcm9wJywgJGRpcmVjdGl2ZVNjb3BlLmJhY2tkcm9wKTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIHNob3cgaGFuZGxlclxyXG5cdFx0XHQkbW9kYWwub24oJ3Nob3cuYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0JG1vZGFsLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdyZ2JhKDAsMCwwLDAuOCknKTtcclxuXHRcdFx0XHQkbW9kYWwuY3NzKCdmaWx0ZXInLCAnYWxwaGEob3BhY2l0eT04MCknKTtcclxuXHRcdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIHNob3duIGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdzaG93bi5icy5tb2RhbCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5zY3JvbGxUb3AoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkZGlyZWN0aXZlU2NvcGUub25Nb2RhbE9wZW5lZCkpIHtcclxuXHRcdFx0XHRcdCRkaXJlY3RpdmVTY29wZS5vbk1vZGFsT3BlbmVkKHt9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbW9kYWwgaGlkZGVuIGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2luaGVyaXQnKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLm9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxDbG9zZWQpKSB7XHJcblx0XHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRkaXJlY3RpdmVTY29wZS4kd2F0Y2goJ29wZW5lZCcsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0Ly8gY3JlYXRlL2hpZGUgbW9kYWwgZGlhbG9nXHJcblx0XHRcdFx0aWYgKG5ld1ZhbClcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcubW9kYWwnKVsnbW9kYWwnXSgpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcubW9kYWwnKVsnbW9kYWwnXSgnaGlkZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0b3BlbmVkOiBib29sZWFuO1xyXG5cdGtleWJvYXJkOiBzdHJpbmc7XHJcblx0YmFja2Ryb3A6IHN0cmluZztcclxuXHRtb2RhbFNpemU6IHN0cmluZztcclxuXHRpc01vZGVybkJvb3RzdHJhcFZlcnNpb246IGJvb2xlYW47XHJcblx0b25Nb2RhbE9wZW5lZDogKGFueSkgPT4gYW55O1xyXG5cdG9uTW9kYWxDbG9zZWQ6IChhbnkpID0+IGFueTtcclxuXHRnZXRNb2RhbFNpemVDbGFzczogKCkgPT4gc3RyaW5nO1xyXG59XHJcblxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwTW9kYWwnLCBbJyR0aW1lb3V0JywgSXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogQW5ndWxhciBmaWx0ZXIgd2hpY2ggcmVwbGFjZXMgc3RyaW5nLlxyXG4gKiBVc2FnZTpcclxuICoge3sgJ3NvbWUgc3RyaW5nJyB8IGl6ZW5kYVJlcGxhY2VTdHJpbmc6IFt7IGZyb206ICdzJywgdG86ICckJyB9LCB7IGZyb206ICdvJywgdG86ICcwJyB9IF0gfX1cclxuICogdGhpcyBzYW1wbGUgd2lsbCBwcm9kdWNlIHN0cmluZyAnJDBtZSAkdHJpbmcnXHJcbiAqL1xyXG5pemVuZGFDb3JlTW9kdWxlLmZpbHRlcignaXplbmRhUmVwbGFjZVN0cmluZycsICgpID0+XHJcblx0KHRleHQ6IHN0cmluZywgcnVsZXM6IEFycmF5PHsgZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nIH0+KSA9PiB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShydWxlcykpXHJcblx0XHRcdHJldHVybiB0ZXh0O1xyXG5cdFx0dmFyIHJlc3VsdFRleHQgPSB0ZXh0O1xyXG5cdFx0aWYgKCFyZXN1bHRUZXh0KVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0VGV4dDtcclxuXHJcblx0XHRydWxlcy5mb3JFYWNoKHJ1bGUgPT4gcmVzdWx0VGV4dCA9IHJlc3VsdFRleHQucmVwbGFjZUFsbChydWxlLmZyb20sIHJ1bGUudG8pKTtcclxuXHRcdHJldHVybiByZXN1bHRUZXh0O1xyXG5cdH0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBdHRyaWJ1dGUgZGlyZWN0aXZlIFwiaXplbmRhLXNjcm9sbC1ib3R0b20tYWN0aW9uPVwiXCJcIiB3aGljaCBmaXJlcyBoYW5kbGVyIG9uIGNvbnRhaW5lciBzY3JvbGwgZW5kICgtMTAwcHgpLlxyXG4gKiBFdmVudDogc2Nyb2xsLWJvdHRvbS1hY3Rpb25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTY3JvbGxCb3R0b21BY3Rpb24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uLnByb3RvdHlwZS5saW5rID1cclxuXHRcdFx0KCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnN0ICRwYXJlbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcclxuXHRcdFx0XHQkcGFyZW50Lm9uKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBoZWlnaHQgPSAkZWxlbWVudC5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdGlmIChoZWlnaHQgPT09IDApXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdGlmIChoZWlnaHQgLSAkcGFyZW50LmhlaWdodCgpIC0gMTAwIDwgJHBhcmVudC5zY3JvbGxUb3AoKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGV2YWwoYXR0cnMuaXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFTY3JvbGxCb3R0b21BY3Rpb24nLCBbSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uLmZhY3RvcnkoKV0pO1xyXG5cclxuLyoqXHJcbiAqIFNldCBmb2N1cyBvbiBlbGVtZW50IGRpcmVjdGl2ZS5cclxuICogVXNhZ2U6IFxyXG4gKiA8c29tZS10YWcgaXplbmRhLWZvY3VzPVwie3tleHByZXNzaW9uX3doaWNoX3JldHVybnNfYm9vbH19XCIgLi4uPlxyXG4gKiAgIC4uLlxyXG4gKiA8L3NvbWUtdGFnPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRm9jdXMgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRzY29wZSA9IHtcclxuXHRcdHRyaWdnZXI6ICdAaXplbmRhRm9jdXMnXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhRm9jdXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhRm9jdXMucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRm9jdXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndHJpZ2dlcicsIHZhbHVlID0+IHtcclxuXHRcdFx0XHRpZiAodmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLiR0aW1lb3V0KCgpID0+ICRlbGVtZW50WzBdLmZvY3VzKCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IGFueSkgPT4gbmV3IEl6ZW5kYUZvY3VzKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaW50ZXJmYWNlIElJemVuZGFGb2N1c1Njb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0cmlnZ2VyOiBhbnk7XHJcbn1cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUZvY3VzJywgWyckdGltZW91dCcsIEl6ZW5kYUZvY3VzLmZhY3RvcnkoKV0pO1xyXG5cclxuLyoqXHJcbiAqIGl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudCBkaXJlY3RpdmUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlKSB7XHJcblxyXG5cdFx0SXplbmRhRml0QWJzb2x1dGVFbGVtZW50LnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblx0XHRcdGNvbnN0IHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSA9IGByZXNpemUuaXplbmRhRml0QWJzb2x1dGVFbGVtZW50LiR7TWF0aC5yYW5kb20oKX1gO1xyXG5cdFx0XHRjb25zdCBkZWx0YVRvcFN0cmluZyA9IFN0cmluZyhhdHRyc1snZGVsdGFUb3AnXSk7XHJcblx0XHRcdGNvbnN0IGRlbHRhVG9wID0gcGFyc2VJbnQoZGVsdGFUb3BTdHJpbmcpIHx8IDA7XHJcblx0XHRcdGNvbnN0ICRwYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQucGFyZW50KCkpO1xyXG5cdFx0XHRsZXQgdG9wQ2FjaGUgPSAtMTtcclxuXHJcblx0XHRcdGNvbnN0IHNldFRvcCA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2hpbGRzID0gJHBhcmVudC5jaGlsZHJlbignW2RhdGEtaXplbmRhLWZpdC1hYnNvbHV0ZS1lbGVtZW50LXJlbGF0aXZlPXRvcF0nKTtcclxuXHRcdFx0XHRpZiAoJGNoaWxkcy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRcdGxldCB0b3BIZWlnaHQgPSAwO1xyXG5cdFx0XHRcdGxldCBpc1N1Y2Nlc3MgPSB0cnVlO1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgJGNoaWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGNoaWxkID0gYW5ndWxhci5lbGVtZW50KCRjaGlsZHNbaV0pO1xyXG5cdFx0XHRcdFx0Y29uc3QgdG9wVmFsdWUgPSBTdHJpbmcoJGNoaWxkLmF0dHIoJ2RhdGEtaXplbmRhLWZpdC1hYnNvbHV0ZS1lbGVtZW50LXJlbGF0aXZlJykpO1xyXG5cdFx0XHRcdFx0aWYgKHRvcFZhbHVlID09PSAndG9wJykge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjaGlsZEhlaWdodCA9ICRjaGlsZC5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdFx0aWYgKGNoaWxkSGVpZ2h0IDw9IDApXHJcblx0XHRcdFx0XHRcdFx0aXNTdWNjZXNzID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHRvcEhlaWdodCArPSBjaGlsZEhlaWdodDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHRvcEhlaWdodCA+IDAgJiYgdG9wQ2FjaGUgPCAwIHx8IHRvcEhlaWdodCArIGRlbHRhVG9wICE9PSB0b3BDYWNoZSkge1xyXG5cdFx0XHRcdFx0dG9wQ2FjaGUgPSB0b3BIZWlnaHQgKyBkZWx0YVRvcDtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNzcygndG9wJywgdG9wSGVpZ2h0ICsgZGVsdGFUb3AgKyAncHgnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGlzU3VjY2VzcztcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHNldFRvcFVudGlsU3VjY2VzcyA9ICgpID0+IHtcclxuXHRcdFx0XHRsZXQgYXR0ZW1wdENvdW50ID0gMDtcclxuXHRcdFx0XHRpZiAoc2V0VG9wKCkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0bGV0IHRvb2xiYXJJbnRlcnZhbFByb21pc2UgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoc2V0VG9wKCkgfHwgYXR0ZW1wdENvdW50ID4gNTApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRvb2xiYXJJbnRlcnZhbFByb21pc2UpO1xyXG5cdFx0XHRcdFx0XHR0b29sYmFySW50ZXJ2YWxQcm9taXNlID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0YXR0ZW1wdENvdW50ID0gMDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGF0dGVtcHRDb3VudCsrO1xyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzZXRUb3BVbnRpbFN1Y2Nlc3MoKTtcclxuXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLm9uKHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSwgKCkgPT4ge1xyXG5cdFx0XHRcdHNldFRvcFVudGlsU3VjY2VzcygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLm9uKCdpemVuZGFDdXN0b21SZXNpemUnLCAoKSA9PiB7XHJcblx0XHRcdFx0c2V0VG9wVW50aWxTdWNjZXNzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vZmYod2luZG93UmVzaXplRXZlbnROYW1lKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vZmYoJ2l6ZW5kYUN1c3RvbVJlc2l6ZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPVxyXG5cdFx0XHQoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSkgPT4gbmV3IEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudCgkd2luZG93LCAkdGltZW91dCwgJGludGVydmFsKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpbnRlcnZhbCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUZpdEFic29sdXRlRWxlbWVudCcsIEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5mYWN0b3J5KCkpO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBEaXJlY3RpdmUgZm9yIGlucHV0IGVsZW1lbnQgd2hpY2ggYWxsb3dzIHRvIGlucHV0IG9ubHkgcG9zaXRpdmUgaW50ZWdlciB2YWx1ZXMuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFJbnRlZ2VySW5wdXQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5wcm90b3R5cGUubGluayA9XHJcblx0XHRcdCgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0XHQkZWxlbWVudC5vbigna2V5ZG93bicsIGV2dCA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBjdHJsT3JNZXRhID0gZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXk7XHJcblx0XHRcdFx0XHRpZiAoWzQ2LCA4LCA5LCAyNywgMTNdLmluZGV4T2YoZXZ0LmtleUNvZGUpID49IDAgLypBbGxvdzogYmFja3NwYWNlLCBkZWxldGUsIHRhYiwgZXNjYXBlLCBlbnRlciovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA9PT0gNjUgJiYgY3RybE9yTWV0YSkgLypBbGxvdzogQ3RybC9jbWQrQSovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA9PT0gNjcgJiYgY3RybE9yTWV0YSkgLypBbGxvdzogQ3RybC9jbWQrQyovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA9PT0gODggJiYgY3RybE9yTWV0YSkgLypBbGxvdzogQ3RybC9jbWQrWCovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA+PSAzNSAmJiBldnQua2V5Q29kZSA8PSA0MCkpIHsgLypBbGxvdzogaG9tZSwgZW5kLCBsZWZ0LCByaWdodCovXHJcblx0XHRcdFx0XHRcdC8vIGxldCBpdCBoYXBwZW4sIGRvbid0IGRvIGFueXRoaW5nXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIEVuc3VyZSB0aGF0IGl0IGlzIGEgbnVtYmVyIGFuZCBzdG9wIHRoZSBrZXlwcmVzc1xyXG5cdFx0XHRcdFx0aWYgKChldnQuc2hpZnRLZXkgfHwgKGV2dC5rZXlDb2RlIDwgNDggfHwgZXZ0LmtleUNvZGUgPiA1NykpICYmIChldnQua2V5Q29kZSA8IDk2IHx8IGV2dC5rZXlDb2RlID4gMTA1KSkge1xyXG5cdFx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgpID0+IG5ldyBJemVuZGFJbnRlZ2VySW5wdXQoKTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFJbnRlZ2VySW5wdXQnLCBJemVuZGFJbnRlZ2VySW5wdXQuZmFjdG9yeSgpKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5cclxuLy8gUmVTaGFycGVyIGRpc2FibGUgb25jZSBJbmNvbnNpc3RlbnROYW1pbmdcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSXplbmRhQ29tcG9uZW50KG1vZHVsZU9yTmFtZTogc3RyaW5nIHwgbmcuSU1vZHVsZSxcclxuXHRzZWxlY3Rvcjogc3RyaW5nLFxyXG5cdGRlcGVuZGVuY2llczogYW55W10sXHJcblx0b3B0aW9uczoge1xyXG5cdFx0dGVtcGxhdGU/OiBzdHJpbmcsXHJcblx0XHR0ZW1wbGF0ZVVybD86IHN0cmluZyxcclxuXHRcdGJpbmRpbmdzPzogYW55LFxyXG5cdFx0Y29udHJvbGxlcj86IGFueSxcclxuXHR9KSB7XHJcblx0cmV0dXJuIChjb250cm9sbGVyOiBGdW5jdGlvbikgPT4ge1xyXG5cdFx0Y29uc3QgbW9kdWxlID0gdHlwZW9mIChtb2R1bGVPck5hbWUpID09PSAnc3RyaW5nJyA/IGFuZ3VsYXIubW9kdWxlKG1vZHVsZU9yTmFtZSkgOiBtb2R1bGVPck5hbWU7XHJcblx0XHRjb25zdCBleHRlbmRlZE9wdGlvbnM6IG5nLklDb21wb25lbnRPcHRpb25zID0gYW5ndWxhci5jb3B5KG9wdGlvbnMpO1xyXG5cclxuXHRcdHZhciAkaW5qZWN0ID0gY29udHJvbGxlci4kaW5qZWN0ID0gZGVwZW5kZW5jaWVzO1xyXG5cdFx0Y29udHJvbGxlci5wcm90b3R5cGUuJGluamVjdCA9ICRpbmplY3Q7XHJcblx0XHRjb250cm9sbGVyLiRpbmplY3QgPSAkaW5qZWN0O1xyXG5cclxuXHRcdGV4dGVuZGVkT3B0aW9ucy5jb250cm9sbGVyID0gZGVwZW5kZW5jaWVzLmNvbmNhdChjb250cm9sbGVyKTtcclxuXHRcdG1vZHVsZS5jb21wb25lbnQoc2VsZWN0b3IsIGV4dGVuZGVkT3B0aW9ucyk7XHJcblx0fVxyXG59IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBNZXNzYWdlIGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KGl6ZW5kYUNvcmVNb2R1bGUsICdpemVuZGFEaWFsb2dCb3hDb21wb25lbnQnLCBbJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5kaWFsb2ctYm94LmRpYWxvZy1ib3gtdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHtcclxuXHRcdGNvbXBvbmVudElkOiAnQCcsXHJcblx0XHR1c2VHbG9iYWxFdmVudExpc3RlbmluZzogJzwnLFxyXG5cdFx0b3BlbmVkOiAnPCcsXHJcblx0XHR0aXRsZTogJzwnLFxyXG5cdFx0bWVzc2FnZTogJzwnLFxyXG5cdFx0YWxlcnRJbmZvOiAnPCcsXHJcblx0XHRidXR0b25zOiAnPCcsXHJcblx0XHRjaGVja2JveGVzOiAnPCdcclxuXHR9LFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFEaWFsb2dCb3hDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSGFuZGxlIGJ1dHRvbiBjbGljay5cclxuXHQgKi9cclxuXHRvbkJ1dHRvbkNsaWNrKGJ1dHRvbikge1xyXG5cdFx0aWYgKCFidXR0b24pIHJldHVybjtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oYnV0dG9uLmNhbGxiYWNrKSkge1xyXG5cdFx0XHRidXR0b24uY2FsbGJhY2sodGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5kaWFsb2dCb3guY2hlY2tib3hlcyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmNsb3NlTW9kYWwoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIG1vZGFsIGRpYWxvZy5cclxuXHQgKi9cclxuXHRjbG9zZU1vZGFsKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5jbG9zZURpYWxvZ0JveCgpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogTWVzc2FnZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChpemVuZGFDb3JlTW9kdWxlLCAnaXplbmRhTWVzc2FnZUNvbXBvbmVudCcsIFsnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnXSwge1xyXG5cdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24uY29yZS5jb21wb25lbnRzLm1lc3NhZ2UubWVzc2FnZS10ZW1wbGF0ZS5odG1sJyxcclxuXHRiaW5kaW5nczoge30sXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYU1lc3NhZ2VDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2cuXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VNZXNzYWdlRGlhbG9nKCk7XHJcblx0fVxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIE5vdGlmaWNhdGlvbiBjb21wb25lbnRcclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoaXplbmRhQ29yZU1vZHVsZSwgJ2l6ZW5kYU5vdGlmaWNhdGlvbkNvbXBvbmVudCcsIFsnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnXSwge1xyXG5cdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24uY29yZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb24tdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHt9XHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYURpYWxvZ0JveENvbXBvbmVudCB7XHJcblx0bm90aWZpY2F0aW9uczogYW55W107XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHRcdHRoaXMubm90aWZpY2F0aW9ucyA9ICRpemVuZGFVdGlsVWlTZXJ2aWNlLm5vdGlmaWNhdGlvbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBub3RpZmljYXRpb24uXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG5vdGlmaWNhdGlvbiBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xyXG5cdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5jbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24uaWQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIG5vdGlmaWNhdGlvbiBhdXRvaGlkZS5cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gbm90aWZpY2F0aW9uIE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcblx0ICovXHJcblx0Y2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb24pIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb24uaWQpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhRXZlbnRTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2V2ZW50LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLy8gcmVnaXN0ZXIgc2VydmljZXNcclxuSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYUV2ZW50U2VydmljZS5yZWdpc3RlcihpemVuZGFDb3JlTW9kdWxlKTtcclxuSXplbmRhTG9jYWxpemF0aW9uU2VydmljZS5yZWdpc3RlcihpemVuZGFDb3JlTW9kdWxlKTtcclxuSXplbmRhVXRpbFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYVV0aWxVaVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcblxyXG4vLyByZWdpc3RlciBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzXHJcbmltcG9ydCAnY29tbW9uL2NvcmUvZGlyZWN0aXZlcy9ib290c3RyYXAtbW9kYWwnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eSc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvY29tcG9uZW50cy9kaWFsb2ctYm94L2RpYWxvZy1ib3gtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2NvbXBvbmVudHMvbm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi1jb21wb25lbnQnO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL21vZHVsZSc7XHJcblxyXG5jb25zdCBpemVuZGFRdWVyeU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGEuY29tbW9uLnF1ZXJ5JywgWydyeCcsICdpemVuZGEuY29tbW9uLmNvcmUnXSk7XHJcbmV4cG9ydCBkZWZhdWx0IGl6ZW5kYVF1ZXJ5TW9kdWxlO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhUnNRdWVyeVNlcnZpY2Uge1xyXG5cclxuXHR1cmxTZXR0aW5nczogYW55O1xyXG5cdHJzUXVlcnlCYXNlVXJsOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByZXF1ZXN0TGlzdDogQXJyYXk8UmVxdWVzdExpc3RJdGVtPjtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyR3aW5kb3cnLCAnJGh0dHAnLCAnJHEnLCAnJGluamVjdG9yJywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRodHRwOiBuZy5JSHR0cFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnVybFNldHRpbmdzID0gdGhpcy4kd2luZG93LnVybFNldHRpbmdzJDtcclxuXHRcdHRoaXMucnNRdWVyeUJhc2VVcmwgPSB0aGlzLnVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdHRoaXMucmVxdWVzdExpc3QgPSBuZXcgQXJyYXk8UmVxdWVzdExpc3RJdGVtPigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3VzdG9tIHF1ZXJ5IHRvIHRoZSBpemVuZGEgcmVzcG9uc2Ugc2VydmVyXHJcblx0ICogQHBhcmFtIHthbnl9IHF1ZXJ5UGFyYW1zIFF1ZXJ5IHBhcmFtZXRlcnMuXHJcblx0ICogQHBhcmFtIHthbnl9IG9wdGlvbnMgUXVlcnkgb3B0aW9ucy5cclxuXHQgKiBAcGFyYW0ge2FueX0gZXJyb3JPcHRpb25zIEVycm9yIG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlciBEbyB3ZSBuZWVkIHRvIGludmFsaWRhdGUgY2FjaGVzLlxyXG5cdCAqL1xyXG5cdHJzUXVlcnkocXVlcnlQYXJhbXM6IGFueSwgb3B0aW9uczogYW55LCBlcnJvck9wdGlvbnM6IGFueSwgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXN0b21RdWVyeSh0aGlzLnJzUXVlcnlCYXNlVXJsLCBxdWVyeVBhcmFtcywgb3B0aW9ucywgZXJyb3JPcHRpb25zLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDdXN0b20gcXVlcnkgdG8gdGhlIGl6ZW5kYSBBUEkuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdzQ21kIEl6ZW5kYSBBUEkgY29tbWFuZC5cclxuXHQgKiBAcGFyYW0ge2FueVtdfSB3c0FyZ3MgSXplbmRhIEFQSSBjb21tYW5kIHBhcmFtZXRlcnMgKHdzYXJnMCwgd3NhcmcxLC4uLikuXHJcblx0ICogQHBhcmFtIHthbnl9IG9wdGlvbnMgUXVlcnkgb3B0aW9ucy5cclxuXHQgKiBAcGFyYW0ge2FueX0gZXJyb3JPcHRpb25zIEVycm9yIG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlciBEbyB3ZSBuZWVkIHRvIGludmFsaWRhdGUgY2FjaGVzLlxyXG5cdCAqL1xyXG5cdHF1ZXJ5KHdzQ21kOiBzdHJpbmcsIHdzQXJnczogYW55W10sIG9wdGlvbnM6IGFueSwgZXJyb3JPcHRpb25zPzogYW55LCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcjogYm9vbGVhbiA9IGZhbHNlKVxyXG5cdFx0OiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cclxuXHRcdC8vIHByZXBhcmUgcGFyYW1zOlxyXG5cdFx0Y29uc3QgcGFyYW1zID0gdGhpcy5jcmVhdGVRdWVyeVBhcmFtZXRlcnNPYmplY3Qod3NDbWQsIHdzQXJncyk7XHJcblxyXG5cdFx0Ly8gc2V0IGRlZmF1bHQgZXJyb3Igb3B0aW9ucyBpZiBpdCBpcyBub3QgZGVmaW5lZDpcclxuXHRcdGNvbnN0IGN1cnJlbnRFcnJvck9wdGlvbnMgPSBhbmd1bGFyLmlzT2JqZWN0KGVycm9yT3B0aW9ucylcclxuXHRcdFx0PyBlcnJvck9wdGlvbnNcclxuXHRcdFx0OiB7XHJcblx0XHRcdFx0aGFuZGxlcjogKHdzQ21kMiwgd3NBcmdzMikgPT4gYFF1ZXJ5OiBcIiR7d3NDbWQyfVwiIFske3dzQXJnczJ9XSBmYWlsZWQuYCxcclxuXHRcdFx0XHRwYXJhbXM6IFt3c0NtZCwgd3NBcmdzXVxyXG5cdFx0XHR9O1xyXG5cdFx0cmV0dXJuIHRoaXMucnNRdWVyeShwYXJhbXMsIG9wdGlvbnMsIGN1cnJlbnRFcnJvck9wdGlvbnMsIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFF1ZXJ5IHRvIHRoZSBpemVuZGEgQVBJIChQT1NUIHJlcXVlc3Qgd2hpY2ggcmV0dXJucyBKU09OKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd3NDbWQgSXplbmRhIEFQSSBjb21tYW5kLlxyXG5cdCAqIEBwYXJhbSB7YW55W119IHdzQXJncyBJemVuZGEgQVBJIGNvbW1hbmQgcGFyYW1ldGVycyAod3NhcmcwLCB3c2FyZzEsLi4uKS5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyIERvIHdlIG5lZWQgdG8gaW52YWxpZGF0ZSBjYWNoZXMuXHJcblx0ICovXHJcblx0YXBpUXVlcnkod3NDbWQ6IHN0cmluZywgd3NBcmdzOiBhbnlbXSwgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdC8vIGNoZWNrIHBhcmFtczpcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHdzQ21kKSB8fCB3c0NtZCA9PT0gJycpIHtcclxuXHRcdFx0XHRyZWplY3QoJ1BhcmFtZXRlciBlcnJvcjogd3NDbWQgcGFyYW1ldGVyIHNob3VsZCBiZSBub24tZW1wdHkgc3RyaW5nLicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheSh3c0FyZ3MpKSB7XHJcblx0XHRcdFx0cmVqZWN0KCdQYXJhbWV0ZXIgZXJyb3I6IHdzQXJncyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGFycmF5LicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIHBhcmFtcyBhcnJheVxyXG5cdFx0XHRjb25zdCBwYXJhbXMgPSB0aGlzLmNyZWF0ZVF1ZXJ5UGFyYW1ldGVyc09iamVjdCh3c0NtZCwgd3NBcmdzKTtcclxuXHJcblx0XHRcdC8vIHJ1biBxdWVyeVxyXG5cdFx0XHR0aGlzLnJzUXVlcnkocGFyYW1zLCB7IGRhdGFUeXBlOiAnanNvbicsIG1ldGhvZDogJ1BPU1QnIH0sIG51bGwsIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyKVxyXG5cdFx0XHRcdC50aGVuKHJlc3VsdCA9PiByZXNvbHZlKHJlc3VsdCksIGVycm9yID0+IHJlamVjdChlcnJvcikpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYW5jZWwgYWxsIHJ1bm5pbmcgcXVlcmllc1xyXG5cdCAqIEBwYXJhbSB7YW55fSBvcHRpb25zIChvcHRpb25hbCkgb3B0aW9ucy5jYW5jZWxMaXN0IG1heSBzZXQgY3VzdG9tIHF1ZXJpZXMgdG8gY2FuY2VsLlxyXG5cdCAqL1xyXG5cdGNhbmNlbEFsbFF1ZXJpZXMob3B0aW9ucz86IGFueSkge1xyXG5cdFx0Y29uc3Qgb3B0cyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBxdWVyaWVzIHdoaWNoIHdlIGNhbiBjYW5jZWxcclxuXHRcdGNvbnN0IGNhbmNlbGxhYmxlUXVlcmllcyA9IG9wdHMuaGFzT3duUHJvcGVydHkoJ2NhbmNlbExpc3QnKVxyXG5cdFx0XHQ/IG9wdHNbJ2NhbmNlbExpc3QnXVxyXG5cdFx0XHQ6IHRoaXMuJGluamVjdG9yLmdldCgnaXplbmRhLmNvbW1vbi5xdWVyeS5jYW5jZWxsYWJsZVF1ZXJpZXMnKTtcclxuXHJcblx0XHRjb25zdCBjb3VudCA9IHRoaXMucmVxdWVzdExpc3QubGVuZ3RoO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUgKGkgPCB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCByZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0TGlzdFswXTtcclxuXHRcdFx0bGV0IGNhbmNlbCA9IGZhbHNlO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0FycmF5KGNhbmNlbGxhYmxlUXVlcmllcykpIHtcclxuXHRcdFx0XHRjb25zdCByZXF1ZXN0VXJsID0gcmVxdWVzdC51cmw7XHJcblx0XHRcdFx0Y29uc3QgcmVxdWVzdFBhcmFtcyA9IHJlcXVlc3QucXVlcnlQYXJhbXNGaW5hbDtcclxuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNhbmNlbGxhYmxlUXVlcmllcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0Y29uc3QgY2FuY2VsUnVsZSA9IGNhbmNlbGxhYmxlUXVlcmllc1tqXTtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGNhbmNlbFJ1bGUpKSB7XHJcblx0XHRcdFx0XHRcdGNhbmNlbCA9IGNhbmNlbCB8fCByZXF1ZXN0VXJsLmluZGV4T2YoY2FuY2VsUnVsZSkgPj0gMDtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYW5ndWxhci5pc09iamVjdChjYW5jZWxSdWxlKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoJ3dzY21kJyBpbiBjYW5jZWxSdWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2FuY2VsID0gY2FuY2VsIHx8IHJlcXVlc3RVcmwuaW5kZXhPZihgd3NjbWQ9JHtjYW5jZWxSdWxlWyd3c2NtZCddfWApID49IDA7XHJcblx0XHRcdFx0XHRcdFx0Y2FuY2VsID0gY2FuY2VsIHx8IHJlcXVlc3RQYXJhbXMuaGFzT3duUHJvcGVydHkoJ3dzY21kJykgJiYgcmVxdWVzdFBhcmFtc1snd3NjbWQnXSA9PT0gY2FuY2VsUnVsZVsnd3NjbWQnXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgYFVua25vd24gY2FuY2VsIHJ1bGU6ICR7Y2FuY2VsUnVsZX1gO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGNhbmNlbCkge1xyXG5cdFx0XHRcdHJlcXVlc3QuY2FuY2VsbGVyLnJlc29sdmUoKTtcclxuXHRcdFx0XHRyZXF1ZXN0LnJlc29sdmVyLiRpemVuZGFSc1F1ZXJ5Q2FuY2VsbGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5yZXF1ZXN0TGlzdC5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aSsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNvdW50IC0gaTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbmQgcG9zdCByZXF1ZXN0IGFuZCByZWNlaXZlIGZpbGUgYXR0YWNobWVudC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIEdFVC9QT1NUXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmwuXHJcblx0ICogQHBhcmFtIHthbnl9IHBhcmFtZXRlcnMgVXJsIHBhcmFtZXRlcnMgZGljdGlvbmFyeS5cclxuXHQgKiBAcmV0dXJuIHthbmd1bGFyLklQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVycy5cclxuXHQgKi9cclxuXHRkb3dubG9hZEZpbGVSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1ldGVycz86IGFueSk6IGFuZ3VsYXIuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmU6ICgpID0+IHZvaWQpID0+IHtcclxuXHRcdFx0aWYgKHR5cGVvZiAoQmxvYikgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly8gcG9zdCByZXF1ZXN0IGZvciBkb3dubG9hZCB0aGUgZmlsZVxyXG5cdFx0XHRcdGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cdFx0XHRcdHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcclxuXHRcdFx0XHR4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuXHJcblx0XHRcdFx0Y29uc3Qgc2VsZlhociA9IHhocjtcclxuXHRcdFx0XHR4aHIub25sb2FkID0gKGV2dCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Rvd25sb2FkRmlsZVJlcXVlc3QgeGhyLm9ubG9hZCBldnQ6ICcsIGV2dCk7XHJcblx0XHRcdFx0XHRpZiAoc2VsZlhoci5zdGF0dXMgIT09IDIwMClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlzcG9zaXRpb24gPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nKTtcclxuXHRcdFx0XHRcdGxldCBmaWxlbmFtZSA9ICcnO1xyXG5cdFx0XHRcdFx0aWYgKGRpc3Bvc2l0aW9uICYmIGRpc3Bvc2l0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignYXR0YWNobWVudCcpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmaWxlbmFtZVJlZ2V4ID0gL1tGZl1pbGVuYW1lW147PVxcbl0qPSgoWydcIl0pLio/XFwyfFteO1xcbl0qKS87XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1hdGNoZXMgPSBmaWxlbmFtZVJlZ2V4LmV4ZWMoZGlzcG9zaXRpb24pO1xyXG5cdFx0XHRcdFx0XHRpZiAobWF0Y2hlcyAhPSBudWxsICYmIG1hdGNoZXNbMV0pXHJcblx0XHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBtYXRjaGVzWzFdLnJlcGxhY2UoL1snXCJdL2csICcnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IHR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc2VsZlhoci5yZXNwb25zZV0sIHsgdHlwZTogdHlwZSB9KTtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2Ygd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHQvLyBJRSB3b3JrYXJvdW5kIGZvciBcIkhUTUw3MDA3OiBPbmUgb3IgbW9yZSBibG9iIFVSTHMgd2VyZSByZXZva2VkIGJ5IGNsb3NpbmcgdGhlIGJsb2IgZm9yIHdoaWNoIHRoZXkgd2VyZSBjcmVhdGVkLiBcclxuXHRcdFx0XHRcdFx0Ly8gVGhlc2UgVVJMcyB3aWxsIG5vIGxvbmdlciByZXNvbHZlIGFzIHRoZSBkYXRhIGJhY2tpbmcgdGhlIFVSTCBoYXMgYmVlbiBmcmVlZC5cIlxyXG5cdFx0XHRcdFx0XHR3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZW5hbWUpO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb25zdCB1cmxGdW5jID0gd2luZG93LlVSTCB8fCB3aW5kb3dbJ3dlYmtpdFVSTCddO1xyXG5cdFx0XHRcdFx0XHR2YXIgZG93bmxvYWRVcmwgPSB1cmxGdW5jLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdFx0XHRcdFx0aWYgKGZpbGVuYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gdXNlIEhUTUw1IGFbZG93bmxvYWRdIGF0dHJpYnV0ZSB0byBzcGVjaWZ5IGZpbGVuYW1lXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gc2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIHlldFxyXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbGlua0VsZW1lbnQuZG93bmxvYWQgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRvd25sb2FkVXJsO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5ocmVmID0gZG93bmxvYWRVcmw7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtFbGVtZW50LmRvd25sb2FkID0gZmlsZW5hbWU7XHJcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmtFbGVtZW50KTtcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtFbGVtZW50LmNsaWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmtFbGVtZW50KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBkb3dubG9hZFVybDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR1cmxGdW5jLnJldm9rZU9iamVjdFVSTChkb3dubG9hZFVybCk7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDApOyAvLyBjbGVhbnVwXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuXHRcdFx0XHRpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdwb3N0JylcclxuXHRcdFx0XHRcdHhoci5zZW5kKGFuZ3VsYXIuZWxlbWVudC5wYXJhbShwYXJhbWV0ZXJzIHx8IHt9KSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdnZXQnKVxyXG5cdFx0XHRcdFx0eGhyLnNlbmQoKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBgVW5zdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2Q6ICR7bWV0aG9kfWA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncG9zdCcpIHtcclxuXHRcdFx0XHRcdC8vIG9sZCBicm93c2VyIHBvc3QgcmVxdWVzdFxyXG5cdFx0XHRcdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuXHRcdFx0XHRcdGZvcm0uYWN0aW9uID0gdXJsO1xyXG5cdFx0XHRcdFx0Zm9ybS5tZXRob2QgPSBtZXRob2Q7XHJcblx0XHRcdFx0XHRmb3JtLnRhcmdldCA9ICdfYmxhbmsnO1xyXG5cdFx0XHRcdFx0aWYgKHBhcmFtZXRlcnMpXHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGtleSBpbiBwYXJhbWV0ZXJzKVxyXG5cdFx0XHRcdFx0XHRcdGlmIChwYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0Lm5hbWUgPSBrZXk7XHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dC52YWx1ZSA9IHR5cGVvZiBwYXJhbWV0ZXJzW2tleV0gPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkocGFyYW1ldGVyc1trZXldKSA6IHBhcmFtZXRlcnNba2V5XTtcclxuXHRcdFx0XHRcdFx0XHRcdGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblx0XHRcdFx0XHRmb3JtLnN1Ym1pdCgpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gb2xkIGJyb3dzZXIgZ2V0IHJlcXVlc3RcclxuXHRcdFx0XHRcdGNvbnN0IGxpbmtFbGVtZW50MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0XHRcdGxpbmtFbGVtZW50Mi5ocmVmID0gdXJsO1xyXG5cdFx0XHRcdFx0bGlua0VsZW1lbnQyLnRhcmdldCA9ICdfYmxhbmsnO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rRWxlbWVudDIpO1xyXG5cdFx0XHRcdFx0bGlua0VsZW1lbnQyLmNsaWNrKCk7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmtFbGVtZW50Mik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEbyBxdWVyeSB0byBjdXN0b20gdXJsXHJcblx0ICovXHJcblx0cHJpdmF0ZSBjdXN0b21RdWVyeShcclxuXHRcdGJhc2VVcmw6IHN0cmluZyxcclxuXHRcdHF1ZXJ5UGFyYW1zOiBvYmplY3QsXHJcblx0XHRvcHRpb25zOiB7IG1ldGhvZDogc3RyaW5nLCBkYXRhVHlwZTogc3RyaW5nIH0sXHJcblx0XHRlcnJvck9wdGlvbnM6IGFueSxcclxuXHRcdGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHJcblx0XHRjb25zdCBxdWVyeVBhcmFtc0ZpbmFsID0gYW5ndWxhci5jb3B5PG9iamVjdD4ocXVlcnlQYXJhbXMpO1xyXG5cclxuXHRcdC8vIGFwcGx5IGl6ZW5kYVBhZ2VJZCRcclxuXHRcdGlmICh0eXBlb2YgKHdpbmRvd1snaXplbmRhUGFnZUlkJCddKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHF1ZXJ5UGFyYW1zRmluYWxbJ2l6cGlkJ10gPSB3aW5kb3dbJ2l6ZW5kYVBhZ2VJZCQnXTtcclxuXHRcdGlmICh0eXBlb2YgKHdpbmRvd1snYW5ndWxhclBhZ2VJZCQnXSkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRxdWVyeVBhcmFtc0ZpbmFsWydhbnBpZCddID0gd2luZG93Wydhbmd1bGFyUGFnZUlkJCddO1xyXG5cclxuXHRcdGNvbnN0IGlzUG9zdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJztcclxuXHJcblx0XHRsZXQgcG9zdERhdGEgPSB7fTtcclxuXHRcdGxldCB1cmwgPSBiYXNlVXJsO1xyXG5cdFx0aWYgKCFpc1Bvc3QpIHtcclxuXHRcdFx0Ly8gR0VUIHJlcXVlc3QgdXJsOlxyXG5cdFx0XHRjb25zdCBrdlN0cmluZ3M6IHN0cmluZ1tdID0gW107XHJcblx0XHRcdGZvciAobGV0IHBhcmFtTmFtZSBpbiBxdWVyeVBhcmFtc0ZpbmFsKVxyXG5cdFx0XHRcdGlmIChxdWVyeVBhcmFtc0ZpbmFsLmhhc093blByb3BlcnR5KHBhcmFtTmFtZSkpXHJcblx0XHRcdFx0XHRrdlN0cmluZ3MucHVzaChgJHtwYXJhbU5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1zRmluYWxbcGFyYW1OYW1lXSl9YCk7XHJcblx0XHRcdGlmIChpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHRrdlN0cmluZ3MucHVzaCgnaWljPTEnKTtcclxuXHRcdFx0dXJsICs9IGA/JHtrdlN0cmluZ3Muam9pbignJicpfWA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBQT1NUIHJlcXVlc3QgcGFyYW1zIHN0cmluZzpcclxuXHRcdFx0bGV0IHBvc3RQYXJhbXNTdHJpbmcgPSAndXJsZW5jb2RlZD10cnVlJztcclxuXHRcdFx0Zm9yIChsZXQgcGFyYW1OYW1lIGluIHF1ZXJ5UGFyYW1zRmluYWwpXHJcblx0XHRcdFx0aWYgKHF1ZXJ5UGFyYW1zRmluYWwuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lKSlcclxuXHRcdFx0XHRcdHBvc3RQYXJhbXNTdHJpbmcgKz0gYCYke3BhcmFtTmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnlQYXJhbXNGaW5hbFtwYXJhbU5hbWVdKX1gO1xyXG5cdFx0XHRwb3N0RGF0YSA9IHtcclxuXHRcdFx0XHRkYXRhOiBwb3N0UGFyYW1zU3RyaW5nXHJcblx0XHRcdH07XHJcblx0XHRcdGlmIChpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHR1cmwgKz0gJz9paWM9MSc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3JlYXRlIHByb21pc2VzXHJcblx0XHRjb25zdCBjYW5jZWxlciA9IHRoaXMuJHEuZGVmZXI8YW55PigpO1xyXG5cdFx0Y29uc3QgcmVzb2x2ZXIgPSB0aGlzLiRxLmRlZmVyPGFueT4oKTtcclxuXHRcdHJlc29sdmVyWyckaXplbmRhUnNRdWVyeUNhbmNlbGxlZCddID0gdHJ1ZTtcclxuXHRcdHJlc29sdmVyWydlcnJvck9wdGlvbnMnXSA9IGFuZ3VsYXIuaXNPYmplY3QoZXJyb3JPcHRpb25zKSA/IGVycm9yT3B0aW9ucyA6IG51bGw7XHJcblxyXG5cdFx0Ly8gcHJlcGFyZSByZXF1ZXN0IG9wdGlub3NcclxuXHRcdGNvbnN0IGRhdGFUeXBlID0gYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucykgJiYgYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLmRhdGFUeXBlKVxyXG5cdFx0XHQ/IG9wdGlvbnMuZGF0YVR5cGVcclxuXHRcdFx0OiAndGV4dCc7XHJcblx0XHRsZXQgY29udGVudFR5cGUgPSAndGV4dC9odG1sJztcclxuXHRcdGlmIChkYXRhVHlwZSA9PT0gJ2pzb24nKVxyXG5cdFx0XHRjb250ZW50VHlwZSA9ICd0ZXh0L2pzb24nO1xyXG5cdFx0dXJsID0gZ2V0QXBwZW5kZWRVcmwodXJsKTtcclxuXHRcdGNvbnN0IHJlcXVlc3RJZCA9ICgrbmV3IERhdGUpLnRvU3RyaW5nKCkgKyAnXycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKS50b1N0cmluZygpOyAvLyBwc2V1ZG8gcmFuZG9tIFVJRC5cclxuXHRcdGNvbnN0IHJlcUhlYWRlcnMgPSB7fSBhcyBuZy5JSHR0cFJlcXVlc3RDb25maWdIZWFkZXJzO1xyXG5cdFx0cmVxSGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSBjb250ZW50VHlwZTtcclxuXHRcdGNvbnN0IHJlcSA9IHt9IGFzIG5nLklSZXF1ZXN0Q29uZmlnO1xyXG5cdFx0cmVxLm1ldGhvZCA9ICdHRVQnO1xyXG5cdFx0cmVxLnVybCA9IHVybDtcclxuXHRcdHJlcS5oZWFkZXJzID0gcmVxSGVhZGVycztcclxuXHRcdHJlcS50aW1lb3V0ID0gY2FuY2VsZXIucHJvbWlzZTtcclxuXHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KG9wdGlvbnMpKSB7XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKHJlcSwgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRhbmd1bGFyLmV4dGVuZChyZXEsIHBvc3REYXRhKTsgLy8gaXQgaXMgZW1wdHkgZm9yIGh0dHAgR0VUIHJlcXVlc3RzXHJcblx0XHQvLyBjdXN0b21cclxuXHRcdHJlcVsncmVxdWVzdElkJ10gPSByZXF1ZXN0SWQ7XHJcblx0XHRyZXFbJ3F1ZXJ5UGFyYW1zRmluYWwnXSA9IHF1ZXJ5UGFyYW1zRmluYWw7XHJcblxyXG5cdFx0Ly8gYWRkIHJlcXVlc3QgdG8gcmVxdWVzdExpc3RcclxuXHRcdHRoaXMucmVxdWVzdExpc3QucHVzaChuZXcgUmVxdWVzdExpc3RJdGVtKHJlcXVlc3RJZCwgdXJsLCBxdWVyeVBhcmFtc0ZpbmFsLCBjYW5jZWxlciwgcmVzb2x2ZXIpKTtcclxuXHJcblx0XHQvLyBydW4gcXVlcnlcclxuXHRcdHRoaXMuJGh0dHAocmVxKS50aGVuKHJlc3BvbnNlID0+IHtcclxuXHRcdFx0Ly8gaGFuZGxlIHN1Y2Nlc3NcclxuXHRcdFx0dGhpcy5yZW1vdmVSZXF1ZXN0KHJlc3BvbnNlLmNvbmZpZ1sncmVxdWVzdElkJ10pO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVzcG9uc2UpKSB7XHJcblx0XHRcdFx0Ly8gcmVzb2x2ZSBub24tb2JqZWN0IHJlc3BvbnNlc1xyXG5cdFx0XHRcdHJlc29sdmVyLnJlc29sdmUocmVzcG9uc2UpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBvYmplY3QgcmVzcG9uc2VcclxuXHRcdFx0dmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc09iamVjdChkYXRhKSAmJiBhbmd1bGFyLmlzU3RyaW5nKGRhdGFbJ2l6ZW5kYVF1ZXJ5U3RhdHVzJ10pKSB7XHJcblx0XHRcdFx0Ly8gQVBJIHF1ZXJ5IHJlc3VsdFxyXG5cdFx0XHRcdGlmIChkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddID09PSAnb2snKVxyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShkYXRhWydyZXN1bHQnXSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSA9PT0gJ2Vycm9yJylcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlamVjdChkYXRhWydlcnJvciddKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXNvbHZlci5yZWplY3QoJ1Vua25vd24gaXplbmRhUXVlcnlTdGF0dXM6ICcgKyBkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBOb24tQVBJIGpzb24gcXVlcnkgcmVzdWx0XHJcblx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShkYXRhKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgcmVzcG9uc2UgPT4ge1xyXG5cdFx0XHQvLyBoYW5kbGUgcmVxdWVzdCBlcnJvclxyXG5cdFx0XHR0aGlzLnJlbW92ZVJlcXVlc3QocmVzcG9uc2UuY29uZmlnLnJlcXVlc3RJZCk7XHJcblxyXG5cdFx0XHRsZXQgbmVlZFRvUmVqZWN0ID0gdHJ1ZTtcclxuXHRcdFx0bGV0IGVycm9yVGV4dDogc3RyaW5nO1xyXG5cdFx0XHRpZiAocmVzb2x2ZXJbJ2Vycm9yT3B0aW9ucyddICE9IG51bGwpIHtcclxuXHRcdFx0XHRuZWVkVG9SZWplY3QgPSBmYWxzZTtcclxuXHRcdFx0XHRlcnJvclRleHQgPSByZXNvbHZlclsnZXJyb3JPcHRpb25zJ10uaGFuZGxlci5hcHBseShyZXNwb25zZSxcclxuXHRcdFx0XHRcdHJlc29sdmVyWydlcnJvck9wdGlvbnMnXS5wYXJhbXMgPyByZXNvbHZlclsnZXJyb3JPcHRpb25zJ10ucGFyYW1zIDogW10pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpXHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gcmVzcG9uc2UubWVzc2FnZTtcclxuXHRcdFx0ZWxzZSBpZiAocmVzcG9uc2UuY29uZmlnKVxyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUXVlcnlGYWlsZWQnLCAnUXVlcnkgZmFpbGVkJykgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuY29uZmlnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnbG9jYWxlVmFyaWFibGUnLCAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4nKTtcclxuXHRcdFx0aWYgKHJlc29sdmVyWyckaXplbmRhUnNRdWVyeUNhbmNlbGxlZCddKSB7XHJcblx0XHRcdFx0aWYgKG5lZWRUb1JlamVjdClcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlamVjdChlcnJvclRleHQpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc29sdmVyLnByb21pc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgcmVxdWVzdCBmcm9tIGFycmF5XHJcblx0ICovXHJcblx0cHJpdmF0ZSByZW1vdmVSZXF1ZXN0KHJlcXVlc3RJZDogc3RyaW5nKSB7XHJcblx0XHRsZXQgZm91bmRJbmRleCA9IC0xO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUgKGZvdW5kSW5kZXggPCAwICYmIGkgPCB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5yZXF1ZXN0TGlzdFtpXS5yZXF1ZXN0SWQgPT09IHJlcXVlc3RJZCkge1xyXG5cdFx0XHRcdGZvdW5kSW5kZXggPSBpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdGlmIChmb3VuZEluZGV4ID49IDApIHtcclxuXHRcdFx0dGhpcy5yZXF1ZXN0TGlzdC5zcGxpY2UoZm91bmRJbmRleCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZVF1ZXJ5UGFyYW1ldGVyc09iamVjdCh3c0NtZDogc3RyaW5nLCB3c0FyZ3M6IGFueVtdKTogb2JqZWN0IHtcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdCd3c2NtZCc6IHdzQ21kXHJcblx0XHR9O1xyXG5cdFx0Ly8gYWRkIHdzYXJnTj0uLi4gcGFyYW1ldGVycyBpbnRvIHBhcmFtcyB2YXJpYWJsZS5cclxuXHRcdGlmICh3c0FyZ3MgJiYgd3NBcmdzLmxlbmd0aClcclxuXHRcdFx0cGFyYW1zID0gd3NBcmdzLnJlZHVjZSgoY3VycmVudFBhcmFtczogYW55LCB3c0FyZzogYW55LCB3c0FyZ0lkeDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0Y3VycmVudFBhcmFtc1tgd3Nhcmcke3dzQXJnSWR4fWBdID0gdHlwZW9mICh3c0FyZykgIT09ICd1bmRlZmluZWQnICYmIHdzQXJnICE9IG51bGwgPyB3c0FyZyA6ICcnO1xyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50UGFyYW1zO1xyXG5cdFx0XHR9LCBwYXJhbXMpO1xyXG5cdFx0cmV0dXJuIHBhcmFtcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuY29uc3RhbnQoJ2l6ZW5kYS5jb21tb24ucXVlcnkuY2FuY2VsbGFibGVRdWVyaWVzJywgW3tcclxuXHRcdFx0d3NjbWQ6ICdsb2FkRGFzaGJvYXJkQ29uZmlnTmV3JyAvLyBsb2FkIGRhc2hib2FyZCBsYXlvdXQgcXVlcnlcclxuXHRcdH0sIHtcclxuXHRcdFx0d3NjbWQ6ICdnZXREYXNoYm9hcmRDYXRlZ29yaWVzTmV3J1xyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldERhc2hib2FyZFRpbGVQcmV2aWV3TmV3JyAvLyBsb2FkIHRpbGUgaHRtbCBxdWVyeVxyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldENyc1NjaGVkdWxlJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldENyc1NoYXJlJ1xyXG5cdFx0fV0pXHJcblx0XHRcdC5zZXJ2aWNlKCckaXplbmRhUnNRdWVyeVNlcnZpY2UnLCBJemVuZGFSc1F1ZXJ5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFSc1F1ZXJ5U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlcXVlc3RMaXN0SXRlbSB7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwdWJsaWMgcmVxdWVzdElkOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgdXJsOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgcXVlcnlQYXJhbXNGaW5hbDogYW55LFxyXG5cdFx0cHVibGljIGNhbmNlbGxlcjogYW55LFxyXG5cdFx0cHVibGljIHJlc29sdmVyOiBhbnkpIHsgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHNlYXJjaCwgcmVwbGFjZW1lbnQpIHtcclxuXHRjb25zdCB0YXJnZXQgPSB0aGlzO1xyXG5cdGlmICh0eXBlb2Ygc2VhcmNoICE9PSAnc3RyaW5nJyB8fCBzZWFyY2ggPT09ICcnKVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0cmV0dXJuIHRhcmdldC5zcGxpdChzZWFyY2gpLmpvaW4ocmVwbGFjZW1lbnQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIHJlcXVpcmVqcyBtb2R1bGUsIHdoaWNoIGNyZWF0ZXMgYW5ndWxhciBtb2R1bGVzLlxyXG4gKiByZXR1cm5zICdsb2FkU2V0dGluZ3MnIGZ1bmN0aW9uLCB3aGljaCBjb3VsZCBsb2FkIHNldHRpbmdzIGZvciB0aGlzIG1vZHVsZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFDb21tb25Mb2FkZXIge1xyXG5cdHN0YXRpYyBsb2FkU2V0dGluZ3MoKSB7XHRcclxuXHRcdGNvbnN0IGRlZmVycmVkT2JqZWN0ID0gYW5ndWxhci5lbGVtZW50LkRlZmVycmVkKCk7XHJcblx0XHRjb25zdCB1cmxTZXR0aW5ncyA9IHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHRjb25zdCByc1BhZ2VVcmwgPSB1cmxTZXR0aW5ncy51cmxSc1BhZ2U7XHJcblx0XHRjb25zdCBzZXR0aW5nc1VybCA9IHJzUGFnZVVybCArICc/d3NjbWQ9Z2V0Q29tbW9uU2V0dGluZ3MnO1xyXG5cdFx0Ly8gbG9hZCBjb21tb24gc2V0dGluZ3M6XHJcblxyXG5cdFx0YW5ndWxhci5lbGVtZW50LmdldChzZXR0aW5nc1VybCwgKGNvbmZpZ0pzb24pID0+IHtcclxuXHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IGNvbmZpZ0pzb24gYXMgSUl6ZW5kYUNvbW1vblNldHRpbmdzO1xyXG5cdFx0XHRhbmd1bGFyXHJcblx0XHRcdFx0Lm1vZHVsZSgnaXplbmRhLmNvbW1vbi5jb3JlJylcclxuXHRcdFx0XHQuY29uc3RhbnQoJyRpemVuZGFDb21tb25TZXR0aW5ncycsIGNvbmZpZ09iamVjdCk7XHJcblx0XHRcdGRlZmVycmVkT2JqZWN0LnJlc29sdmUoKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVycmVkT2JqZWN0LnByb21pc2UoKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl6ZW5kYUNvbW1vblNldHRpbmdzIHtcclxuXHRhbGxvd0NyZWF0ZU5ld0NhdGVnb3J5OiBib29sZWFuO1xyXG5cdGFsbG93SW52YWxpZENoYXJhY3RlcnM6IGJvb2xlYW47XHJcblx0YnVsa0NzdjogYm9vbGVhbjtcclxuXHRjYXRlZ29yeUNoYXJhY3Rlcjogc3RyaW5nO1xyXG5cdGN1bHR1cmU6IHN0cmluZztcclxuXHRkYXRlRm9ybWF0TG9uZzogc3RyaW5nO1xyXG5cdGRhdGVGb3JtYXRTaG9ydDogc3RyaW5nO1xyXG5cdHNob3dBbGxJblJlc3VsdHM6IGJvb2xlYW47XHJcblx0c2hvd0NhdGVnb3J5VGV4dGJveEluU2F2ZURpYWxvZzogYm9vbGVhbjtcclxuXHRzaG93RGVzaWduTGlua3M6IGJvb2xlYW47XHJcblx0c2hvd1NhdmVBc1Rvb2xiYXJCdXR0b246IGJvb2xlYW47XHJcblx0c2hvd1NhdmVDb250cm9sczogYm9vbGVhbjtcclxuXHRzaG93VGltZUluRmlsdGVyUGlja2VyczogYm9vbGVhbjtcclxuXHRzdHJpcEludmFsaWRDaGFyYWN0ZXJzOiBib29sZWFuO1xyXG5cdHRpbWVGb3JtYXRMb25nOiBzdHJpbmc7XHJcblx0dGltZUZvcm1hdFNob3J0OiBzdHJpbmc7XHJcbn0iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCB7IElJemVuZGFDb21tb25TZXR0aW5ncyB9IGZyb20gJ2NvbW1vbi9jb21tb24tbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGVUaW1lRm9ybWF0IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHB1YmxpYyBsb25nRGF0ZTogc3RyaW5nLFxyXG5cdFx0cHVibGljIGxvbmdUaW1lOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgc2hvcnREYXRlOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgc2hvcnRUaW1lOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgdGltZUZvcm1hdEZvcklubmVySXplbmRhUHJvY2Vzc2luZzogc3RyaW5nLCAvLyB0aGlzIHRpbWUgZm9ybWF0IHVzZWQgaW4gbWV0aG9kIERhdGVMb2NUb1VzIGZvciBzYXZpbmcgZmlsdGVycy5cclxuXHRcdHB1YmxpYyBzaG93VGltZUluRmlsdGVyUGlja2VyczogYm9vbGVhbixcclxuXHRcdHB1YmxpYyBkZWZhdWx0RmlsdGVyRGF0ZUZvcm1hdDogc3RyaW5nKSB7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSB7XHJcblxyXG5cdHJlYWRvbmx5IGRlZmF1bHREYXRlRm9ybWF0OiBEYXRlVGltZUZvcm1hdDtcclxuXHRyZWFkb25seSBkYXRlRm9ybWF0OiBEYXRlVGltZUZvcm1hdDtcclxuXHRyZWFkb25seSBjdWx0dXJlOiBzdHJpbmc7XHJcblx0cmVhZG9ubHkgYnVsa0NzdjogYm9vbGVhbjtcclxuXHRyZWFkb25seSBjYXRlZ29yeUNoYXJhY3Rlcjogc3RyaW5nO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgJyRpemVuZGFDb21tb25TZXR0aW5ncyddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25TZXR0aW5nczogSUl6ZW5kYUNvbW1vblNldHRpbmdzKSB7XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZSBmb3JtYXRzXHJcblx0XHR0aGlzLmRlZmF1bHREYXRlRm9ybWF0ID0gbmV3IERhdGVUaW1lRm9ybWF0KFxyXG5cdFx0XHQnZGRkZCwgTU1NTSBERCwgWVlZWScsXHJcblx0XHRcdCdoOm1tOnNzIEEnLFxyXG5cdFx0XHQnTU0vREQvWVlZWScsXHJcblx0XHRcdCdoOm1tIEEnLFxyXG5cdFx0XHQnSEg6bW06c3MnLFxyXG5cdFx0XHRmYWxzZSxcclxuXHRcdFx0J01NL0REL1lZWVknICsgKCRpemVuZGFDb21tb25TZXR0aW5ncy5zaG93VGltZUluRmlsdGVyUGlja2VycyA/ICcgSEg6bW06c3MnIDogJycpKTtcclxuXHRcdGNvbnN0IGZvcm1hdCA9IHRoaXMuZGVmYXVsdERhdGVGb3JtYXQ7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQoZm9ybWF0LmxvbmdEYXRlLCBmb3JtYXQubG9uZ1RpbWUsIGZvcm1hdC5zaG9ydERhdGUsXHJcblx0XHRcdGZvcm1hdC5zaG9ydFRpbWUsIGZvcm1hdC50aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nLCBmb3JtYXQuc2hvd1RpbWVJbkZpbHRlclBpY2tlcnMsICcnKTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5sb25nRGF0ZSA9IHRoaXMuY29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudCgkaXplbmRhQ29tbW9uU2V0dGluZ3MuZGF0ZUZvcm1hdExvbmcpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LmxvbmdUaW1lID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy50aW1lRm9ybWF0TG9uZyk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQuc2hvcnREYXRlID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy5kYXRlRm9ybWF0U2hvcnQpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LnNob3J0VGltZSA9IHRoaXMuY29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudCgkaXplbmRhQ29tbW9uU2V0dGluZ3MudGltZUZvcm1hdFNob3J0KTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5zaG93VGltZUluRmlsdGVyUGlja2VycyA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5zaG93VGltZUluRmlsdGVyUGlja2VycztcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5kZWZhdWx0RmlsdGVyRGF0ZUZvcm1hdCA9IHRoaXMuZGF0ZUZvcm1hdC5zaG9ydERhdGUgK1xyXG5cdFx0XHQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzID8gYCAke3RoaXMuZGF0ZUZvcm1hdC5sb25nVGltZX1gIDogJycpO1xyXG5cclxuXHRcdC8vIGN1bHR1cmVcclxuXHRcdHRoaXMuY3VsdHVyZSA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5jdWx0dXJlO1xyXG5cdFx0aWYgKHRoaXMuY3VsdHVyZS5pbmRleE9mKCctJykgPiAwKVxyXG5cdFx0XHR0aGlzLmN1bHR1cmUgPSB0aGlzLmN1bHR1cmUuc3Vic3RyaW5nKDAsIHRoaXMuY3VsdHVyZS5pbmRleE9mKCctJykpO1xyXG5cclxuXHRcdC8vIGJ1bGsgY3N2XHJcblx0XHR0aGlzLmJ1bGtDc3YgPSBmYWxzZTtcclxuXHRcdGlmICh0eXBlb2YgJGl6ZW5kYUNvbW1vblNldHRpbmdzLmJ1bGtDc3YgIT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHRoaXMuYnVsa0NzdiA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5idWxrQ3N2O1xyXG5cclxuXHRcdC8vIGNhdGVnb3J5IGNoYXJhY3RlclxyXG5cdFx0dGhpcy5jYXRlZ29yeUNoYXJhY3RlciA9ICdcXFxcJztcclxuXHRcdGlmICh0eXBlb2YgJGl6ZW5kYUNvbW1vblNldHRpbmdzLmNhdGVnb3J5Q2hhcmFjdGVyICE9ICd1bmRlZmluZWQnKVxyXG5cdFx0XHR0aGlzLmNhdGVnb3J5Q2hhcmFjdGVyID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLmNhdGVnb3J5Q2hhcmFjdGVyO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVmYXVsdCBkYXRlIGZvcm1hdHNcclxuXHQgKiBAcmV0dXJucyB7RGF0ZVRpbWVGb3JtYXR9IFxyXG5cdCAqL1xyXG5cdGdldERlZmF1bHREYXRlRm9ybWF0KCk6IERhdGVUaW1lRm9ybWF0IHtcclxuXHRcdHJldHVybiB0aGlzLmRlZmF1bHREYXRlRm9ybWF0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVmYXVsdCBmb3JtYXQgc3RyaW5nIChlbi1VUykuIFRoaXMgZm9ybWF0IHVzZWQgZm9yIHNlbmRpbmcgZGF0ZXMgdG8gdGhlIHNlcnZlci5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY3VzdG9tRGF0ZUZvcm1hdFN0cmluZy4gQWx0ZXJuYXRpdmUgZGF0ZSBmb3JtYXQgaWYgcmVxdWlyZWQuXHJcblx0ICovXHJcblx0Z2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoY3VzdG9tRGF0ZUZvcm1hdFN0cmluZz86IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBzaG93VGltZSA9IHRoaXMuJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzO1xyXG5cdFx0Y29uc3QgdGltZUZvcm1hdFN0cmluZyA9IHNob3dUaW1lID8gJyAnICsgdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdC50aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nIDogJyc7XHJcblx0XHRsZXQgZGF0ZUZvcm1hdFN0cmluZyA9IHRoaXMuZGVmYXVsdERhdGVGb3JtYXQuc2hvcnREYXRlO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoY3VzdG9tRGF0ZUZvcm1hdFN0cmluZykgJiYgY3VzdG9tRGF0ZUZvcm1hdFN0cmluZy50cmltKCkgIT09ICcnKSB7XHJcblx0XHRcdGRhdGVGb3JtYXRTdHJpbmcgPSBjdXN0b21EYXRlRm9ybWF0U3RyaW5nO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGRhdGVGb3JtYXRTdHJpbmcgKyB0aW1lRm9ybWF0U3RyaW5nO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCAubmV0IGRhdGUgdGltZSBmb3JtYXQgc3RyaW5nIHRvIG1vbWVudGpzIGZvcm1hdCBzdHJpbmcuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCAubmV0IGZvcm1hdCBzdHJpbmdcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBtb21lbnRqcyBmb3JtYXQgc3RyaW5nXHJcblx0ICovXHJcblx0Y29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudChmb3JtYXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBjb252ZXJ0ZXIgPSBpemVuZGEudXRpbHMuZGF0ZS5mb3JtYXRDb252ZXJ0ZXI7XHJcblx0XHRyZXR1cm4gY29udmVydGVyLmNvbnZlcnQoZm9ybWF0LCBjb252ZXJ0ZXIuZG90TmV0LCBjb252ZXJ0ZXIubW9tZW50SnMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBHZXQgY29tbW9uIHNldHRpbmdzXHJcblx0Ki9cclxuXHRnZXRDb21tb25TZXR0aW5ncygpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbW1vblNldHRpbmdzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGUgZm9ybWF0LlxyXG5cdCAqL1xyXG5cdGdldERhdGVGb3JtYXQoKTogRGF0ZVRpbWVGb3JtYXQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0ZUZvcm1hdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IHBhZ2UgY3VsdHVyZS5cclxuXHQgKi9cclxuXHRnZXRDdWx0dXJlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdWx0dXJlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFwiYnVsayBjc3ZcIiBDU1YgZXhwb3J0IG1vZGUgZW5hYmxlZC5cclxuXHQgKi9cclxuXHRnZXRCdWxrQ3N2KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuYnVsa0NzdjtcclxuXHR9XHJcblxyXG5cdGdldENhdGVnb3J5Q2hhcmFjdGVyKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYXRlZ29yeUNoYXJhY3RlcjtcclxuXHR9XHJcblxyXG5cdGdldFJlcG9ydEZ1bGxOYW1lKHJlcG9ydE5hbWU6IHN0cmluZywgcmVwb3J0Q2F0ZWdvcnk/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlc3VsdCA9IG51bGw7XHJcblx0XHRpZiAocmVwb3J0TmFtZSkge1xyXG5cdFx0XHRyZXN1bHQgPSAnJztcclxuXHRcdFx0aWYgKCF0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQocmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlcG9ydENhdGVnb3J5ICsgdGhpcy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0XHRyZXN1bHQgKz0gcmVwb3J0TmFtZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLFxyXG5cdFx0XHRJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgc2VydmljZSBwcm92aWRlcyBBUEkgcXVlcnkgbWV0aG9kcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhUnNRdWVyeVNlcnZpY2UnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeVNlcnZpY2U6IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVzZWQgZm9yIHJlZnJlc2ggc2Vzc2lvbiB0aW1lb3V0XHJcblx0ICovXHJcblx0cGluZygpOiBhbmd1bGFyLklQcm9taXNlPG51bWJlcj4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdwaW5nJywgW10sIHsgZGF0YVR5cGU6ICd0ZXh0JyB9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBuZXcgZGFzaGJvYXJkIHJlcG9ydCBzZXQgYW5kIHNldCBpdCBhcyBDdXJyZW50UmVwb3J0U2V0XHJcblx0ICovXHJcblx0bmV3RGFzaGJvYXJkKCk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ25ld2NycycsIFsnRGFzaGJvYXJkRGVzaWduZXInXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogKCkgPT4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRDcmVhdGVFcnJvcicsICdGYWlsZWQgdG8gY3JlYXRlIG5ldyBkYXNoYm9hcmQnKSxcclxuXHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayByZXBvcnQgc2V0IGlzIGV4aXN0LiBSZXR1cm5zIHByb21pc2Ugd2l0aCAndHJ1ZScgdmFsdWUgaWYgZXhpc3RzXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydFNldEZ1bGxOYW1lIFJlcG9ydCBzZXQgZnVsbCBuYW1lIGZvciBjaGVjay5cclxuXHQgKi9cclxuXHRjaGVja1JlcG9ydFNldEV4aXN0KHJlcG9ydFNldEZ1bGxOYW1lOiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHJlcG9ydFNldEZ1bGxOYW1lKSB8fCByZXBvcnRTZXRGdWxsTmFtZS50cmltKCkgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3JlcG9ydFNldEZ1bGxOYW1lIHNob3VsZCBiZSBub24gZW1wdHkgc3RyaW5nJyk7XHJcblxyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRDaGVja0V4aXN0RXJyb3InLCAnRmFpbGVkIHRvIGNoZWNrIGRhc2hib2FyZCBleGlzdCcpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdjaGVja3JlcG9ydHNldGV4aXN0cycsIFtyZXBvcnRTZXRGdWxsTmFtZV0sIHsgZGF0YVR5cGU6ICd0ZXh0JyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6IG5hbWUgPT4gYCR7ZXJyb3JUZXh0fTogJHtuYW1lfWAsXHJcblx0XHRcdHBhcmFtczogW3JlcG9ydFNldEZ1bGxOYW1lXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgQWRIb2NDb250ZXh0IGN1cnJlbnQgcmVwb3J0IHNldFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRTZXRGdWxsTmFtZSBSZXBvcnQgc2V0IGZ1bGwgbmFtZSBmb3IgY2hlY2suXHJcblx0ICovXHJcblx0c2V0Q3JzKHJlcG9ydFNldEZ1bGxOYW1lOiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TZXRDcnNFcnJvcicsICdGYWlsZWQgdG8gc2V0IGN1cnJlbnQgcmVwb3J0IHNldCcpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdzZXRjdXJyZW50cmVwb3J0c2V0JywgW3JlcG9ydFNldEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0U2V0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgbGlzdCBieSBjYXRlZ29yeVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSBjYXRlZ29yeSBuYW1lLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFNldENhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0dmFyIGNhdGVnb3J5U3RyID0gYW5ndWxhci5pc0RlZmluZWQoY2F0ZWdvcnkpXHJcblx0XHRcdD8gKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJykudG9Mb3dlckNhc2UoKVxyXG5cdFx0XHRcdD8gJydcclxuXHRcdFx0XHQ6IGNhdGVnb3J5KVxyXG5cdFx0XHQ6ICcnO1xyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19HZXRDYXRlZ29yeUVycm9yJywgJ0ZhaWxlZCB0byBnZXQgcmVwb3J0cyBmb3IgY2F0ZWdvcnknKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgncmVwb3J0bGlzdGRhdGFsaXRlJywgW2NhdGVnb3J5U3RyXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbY2F0ZWdvcnldXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgcGFydHNcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0RnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZSAoeHh4QGFhYVxcYmJiKS5cclxuXHQgKi9cclxuXHRnZXRSZXBvcnRQYXJ0cyhyZXBvcnRGdWxsTmFtZTogc3RyaW5nKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUmVwb3J0UGFydHNFcnJvcicsICdGYWlsZWQgdG8gZ2V0IHJlcG9ydCBwYXJ0cyBmb3IgcmVwb3J0Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ3JlcG9ydGRhdGEnLCBbcmVwb3J0RnVsbE5hbWVdLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiBuYW1lID0+IGAke2Vycm9yVGV4dH06ICR7bmFtZX1gLFxyXG5cdFx0XHRwYXJhbXM6IFtyZXBvcnRGdWxsTmFtZV1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGEgd2hpY2ggbmVlZGVkIGZvciBzY2hlZHVsZVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRUaW1lem9uZU9mZnNldCBEZWZhdWx0IHRpbWV6b25lLlxyXG5cdCAqL1xyXG5cdGdldFNjaGVkdWxlRGF0YShjbGllbnRUaW1lem9uZU9mZnNldDogbnVtYmVyKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0Q3JzU2NoZWR1bGUnLCBbU3RyaW5nKGNsaWVudFRpbWV6b25lT2Zmc2V0KV0sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHNjaGVkdWxlIGRhdGEnLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRhIHdoaWNoIG5lZWRlZCBmb3Igc2NoZWR1bGVcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZmF1bHRTaGFyZUNvbmZpZyBJZiB0cnVlIC0gc2hhcmUgY29uZmlnIHdpbGwgZ2V0IGZyb20gbmV3IGVtcHR5IHJlcG9ydHNldCwgZmFsc2UgLSBmcm9tIGN1cnJlbnQgcmVwb3J0IHNldC5cclxuXHQgKi9cclxuXHRnZXRTaGFyZURhdGEoZGVmYXVsdFNoYXJlQ29uZmlnPzogYm9vbGVhbik6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2dldENyc1NoYXJlJywgW2RlZmF1bHRTaGFyZUNvbmZpZyA/ICd0cnVlJyA6ICdmYWxzZSddLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBzaGFyZSBkYXRhJyxcclxuXHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnLCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFQaW5nU2VydmljZSB7XHJcblxyXG5cdHByaXZhdGUgcmVhZG9ubHkgbWludXRlOiBudW1iZXI7XHJcblx0cHJpdmF0ZSByZWFkb25seSBkZWZhdWx0VGltZW91dDogbnVtYmVyO1xyXG5cdHByaXZhdGUgdGltZW91dDogbnVtYmVyO1xyXG5cdHByaXZhdGUgcGluZ1RpbWVyOiBhbnk7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckdGltZW91dCcsICckaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZTogSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLm1pbnV0ZSA9IDYwICogMTAwMDtcclxuXHRcdHRoaXMuZGVmYXVsdFRpbWVvdXQgPSAxNSAqIHRoaXMubWludXRlOyAvLyBkZWZhdWx0IHRpbWVvdXQgLSAxNSBtaW51dGVzLlxyXG5cdFx0dGhpcy50aW1lb3V0ID0gLTE7XHJcblx0XHR0aGlzLnBpbmdUaW1lciA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIHBpbmcgcXVlcmllc1xyXG5cdCAqL1xyXG5cdHN0b3BQaW5nKCkge1xyXG5cdFx0aWYgKHRoaXMucGluZ1RpbWVyICE9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMuJHRpbWVvdXQuY2FuY2VsKHRoaXMucGluZ1RpbWVyKTtcclxuXHRcdFx0dGhpcy5waW5nVGltZXIgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWFrZSBwaW5nIGl0ZXJhdGlvbiBhbmQgY3JlYXRlIHRpbWVvdXQgZm9yIG5leHQgaXRlcmF0aW9uLlxyXG5cdCAqL1xyXG5cdHBpbmcoKSB7XHJcblx0XHQvLyBjYW5jZWwgcHJldmlvdXMgdGltZXI6XHJcblx0XHR0aGlzLnN0b3BQaW5nKCk7XHJcblxyXG5cdFx0Ly8gaGludDogc3RhcnQgaW1tZWRpYXRlbHkgaWYgdGltZW91dCB2YXJpYWJsZSB3YXNuJ3Qgc2V0LlxyXG5cdFx0dGhpcy5waW5nVGltZXIgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLnBpbmcoKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdC8vIHNldCB0aW1lb3V0XHJcblx0XHRcdFx0dGhpcy50aW1lb3V0ID0gKGRhdGEgPiAwKVxyXG5cdFx0XHRcdFx0PyBNYXRoLnJvdW5kKGRhdGEgKiAwLjc1ICogdGhpcy5taW51dGUpXHJcblx0XHRcdFx0XHQ6IHRoaXMuZGVmYXVsdFRpbWVvdXQ7XHJcblx0XHRcdFx0dGhpcy5waW5nKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdFx0dGhpcy50aW1lb3V0ID49IDAgPyB0aGlzLnRpbWVvdXQgOiAwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IHBpbmcgcXVlcmllc1xyXG5cdCAqL1xyXG5cdHN0YXJ0UGluZygpIHtcclxuXHRcdHRoaXMucGluZygpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhUGluZ1NlcnZpY2UnLCBJemVuZGFQaW5nU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFQaW5nU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFQaW5nU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRmdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRjYXRlZ29yeTogc3RyaW5nID0gbnVsbDtcclxuXHRuYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdGlzTmV3OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdHN0YXRpYyBmcm9tSnNvbihqc29uOiBhbnkpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdGNvbnN0IGxvY2F0aW9uID0gbmV3IEl6ZW5kYUxvY2F0aW9uTW9kZWwoKTtcclxuXHRcdGxvY2F0aW9uLmZ1bGxOYW1lID0ganNvbi5mdWxsTmFtZSB8fCBudWxsO1xyXG5cdFx0bG9jYXRpb24uY2F0ZWdvcnkgPSBqc29uLmNhdGVnb3J5IHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5uYW1lID0ganNvbi5uYW1lIHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5pc05ldyA9ICEhanNvbi5pc05ldztcclxuXHRcdHJldHVybiBsb2NhdGlvbjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVVybFNlcnZpY2Uge1xyXG5cclxuXHRzZXR0aW5nczogYW55OyAvLyB1cmwgc2V0dGluZ3MuXHJcblx0cmVwb3J0TmFtZUluZm86IEl6ZW5kYUxvY2F0aW9uTW9kZWw7XHJcblx0bG9jYXRpb246IGFueTsgLy8gY3VycmVudCBsb2NhdGlvbiAocnguQmVoYXZpb3JTdWJqZWN0IG9iamVjdClcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJ3J4JyxcclxuXHRcdFx0JyR3aW5kb3cnLFxyXG5cdFx0XHQnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhUGluZ1NlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVV0aWxTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcng6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUGluZ1NlcnZpY2U6IEl6ZW5kYVBpbmdTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlKSB7XHJcblxyXG5cdFx0dGhpcy5zZXR0aW5ncyA9ICR3aW5kb3cudXJsU2V0dGluZ3MkO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lSW5mbyA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuXHRcdHRoaXMubG9jYXRpb24gPSBuZXcgdGhpcy5yeC5CZWhhdmlvclN1YmplY3QodGhpcy5yZXBvcnROYW1lSW5mbyk7XHJcblx0XHQvLyBzdWJzY3JpYmUgb24gbG9jYXRpb24gY2hhbmdlOlxyXG5cdFx0d2luZG93Lm9ucG9wc3RhdGUgPSBldmVudCA9PiB7XHJcblx0XHRcdGlmIChldmVudC5zdGF0ZSAmJiAoZXZlbnQuc3RhdGUucm4gfHwgZXZlbnQuc3RhdGUubmV3KSkge1xyXG5cdFx0XHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBzdGFydCBwaW5nXHJcblx0XHR0aGlzLiRpemVuZGFQaW5nU2VydmljZS5zdGFydFBpbmcoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCByZXBvcnQgbmFtZSBhbmQgY2F0ZWdvcnkgdG8gbG9jYXRpb25cclxuXHQgKiBAcGFyYW0ge0l6ZW5kYUxvY2F0aW9uTW9kZWx9IGxvY2F0aW9uSW5mbyBsb2NhdGlvbiBvYmplY3RcclxuXHQgKi9cclxuXHRzZXRMb2NhdGlvbihsb2NhdGlvbkluZm86IEl6ZW5kYUxvY2F0aW9uTW9kZWwpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChsb2NhdGlvbkluZm8pKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1wibG9jYXRpb25JbmZvXCIgcGFyYW1ldGVyIHNob3VsZCBiZSBvYmplY3QnKTtcclxuXHJcblx0XHQvLyBpZiBpcyBuZXdcclxuXHRcdGlmIChsb2NhdGlvbkluZm8uaXNOZXcpIHtcclxuXHRcdFx0dGhpcy5zZXRVcmwoeyBpc05ldzogJzEnIH0sIHsgbmV3OiB0cnVlIH0pO1xyXG5cdFx0XHR0aGlzLmxvY2F0aW9uQ2hhbmdlZEhhbmRsZXIoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG5hdmlnYXRlIHRvIGV4aXN0aW5nIHJlcG9ydFxyXG5cdFx0dGhpcy5zZXRVcmwoeyBybjogbG9jYXRpb25JbmZvLmZ1bGxOYW1lLnJlcGxhY2VBbGwoJyAnLCAnKycpIH0sIHsgcm46IGxvY2F0aW9uSW5mby5mdWxsTmFtZSB9KTtcclxuXHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hhbmdlIHVybCBpZiBwb3NzaWJsZSwgb3RoZXJ3aXNlIHJlbG9hZCB0aGUgcGFnZSB3aXRoIG5ldyB1cmwuXHJcblx0ICogQHBhcmFtIHthbnl9IHBhcmFtcyAtIHVybCBwYXJhbXMgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBhZGRpdGlvbmFsUGFyYW1zIC0gYWRkaXRpb25hbCBwYXJhbXMgZm9yIHB1c2hTdGF0ZS5cclxuXHQgKi9cclxuXHRzZXRVcmwocGFyYW1zOiBhbnksIGFkZGl0aW9uYWxQYXJhbXM6IGFueSkge1xyXG5cdFx0Y29uc3QgcHJldmlvdXNVcmxQYXJhbXMgPSB0aGlzLmdldFVybFBhcmFtcyh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblxyXG5cdFx0Y29uc3QgaXNSbk9sZEV4aXN0ID0gYW5ndWxhci5pc1N0cmluZyhwcmV2aW91c1VybFBhcmFtcy5ybik7XHJcblx0XHRjb25zdCBpc1JuTmV3RXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHBhcmFtcy5ybikgJiYgcGFyYW1zLnJuICE9PSAnJztcclxuXHJcblx0XHRjb25zdCBybk9sZCA9IGlzUm5PbGRFeGlzdCA/ICdybj0nICsgcHJldmlvdXNVcmxQYXJhbXMucm4ucmVwbGFjZUFsbCgnICcsICcrJykgOiAnJztcclxuXHRcdGNvbnN0IHJuTmV3ID0gaXNSbk5ld0V4aXN0ID8gJ3JuPScgKyBwYXJhbXMucm4ucmVwbGFjZUFsbCgnICcsICcrJykgOiAnJztcclxuXHJcblx0XHRjb25zdCBpc05ld09sZEV4aXN0ID0gYW5ndWxhci5pc1N0cmluZyhwcmV2aW91c1VybFBhcmFtcy5pc05ldyk7XHJcblx0XHRjb25zdCBpc05ld05ld0V4aXN0ID0gYW5ndWxhci5pc1N0cmluZyhwYXJhbXMuaXNOZXcpO1xyXG5cclxuXHRcdGlmIChpc1JuT2xkRXhpc3QgJiYgaXNSbk5ld0V4aXN0ICYmIHJuT2xkID09PSBybk5ldylcclxuXHRcdFx0Ly8gc2FtZSByblxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoaXNOZXdPbGRFeGlzdCAmJiBpc05ld05ld0V4aXN0KVxyXG5cdFx0XHQvLyBzYW1lIGlzTmV3XHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChpc1JuTmV3RXhpc3QgJiYgaXNOZXdOZXdFeGlzdClcclxuXHRcdFx0dGhyb3cgJ0luY29ycmVjdCBwYXJhbXM6IGJvdGggXCJyblwiIGFuZCBcImlzTmV3XCIgZGVmaW5lZC4nO1xyXG5cclxuXHRcdGNvbnN0IG5ld1BhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcblx0XHRsZXQgbmV3UGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaCA/IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggOiAnPyc7XHJcblxyXG5cdFx0aWYgKGlzTmV3TmV3RXhpc3QpIHtcclxuXHRcdFx0Ly8gZ28gdG8gbmV3IHJlcG9ydFxyXG5cdFx0XHQvLyByZW1vdmUgcm5cclxuXHRcdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwocm5PbGQsICcnKTtcclxuXHRcdFx0bmV3UGFyYW1zICs9IChuZXdQYXJhbXMuZW5kc1dpdGgoJz8nKSA/ICcnIDogJyYnKSArICdpc05ldz0xJztcclxuXHRcdH0gZWxzZSBpZiAoaXNSbk5ld0V4aXN0KSB7XHJcblx0XHRcdC8vIGdvIHRvIGV4aXN0aW5nIHJlcG9ydFxyXG5cdFx0XHQvLyByZW1vdmUgaXNOZXdcclxuXHRcdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwoJ2lzTmV3PTEnLCAnJyk7XHJcblx0XHRcdGlmIChpc1JuT2xkRXhpc3QpXHJcblx0XHRcdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwocm5PbGQsIHJuTmV3KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG5ld1BhcmFtcyArPSAobmV3UGFyYW1zLmVuZHNXaXRoKCc/JykgPyAnJyA6ICcmJykgKyBybk5ldztcclxuXHRcdH1cclxuXHRcdG5ld1BhcmFtcyA9IG5ld1BhcmFtcy5yZXBsYWNlQWxsKCc/JicsICc/Jyk7XHJcblx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbCgnJiYnLCAnJicpO1xyXG5cclxuXHRcdC8vIG5hdmlnYXRlIG5ldyB1cmxcclxuXHRcdGNvbnN0IG5ld1VybCA9IG5ld1BhdGggKyBuZXdQYXJhbXM7XHJcblx0XHRpZiAodGhpcy4kd2luZG93Lmhpc3RvcnkgJiYgdGhpcy4kd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XHJcblx0XHRcdHRoaXMuJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShhZGRpdGlvbmFsUGFyYW1zLCBkb2N1bWVudC50aXRsZSwgbmV3VXJsKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5ld1VybDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgcmVwb3J0IGZ1bGwgbmFtZSAoY2F0ZWdvcnkgZGVsaW1pdGVyOiAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkpXHJcblx0ICogQHJldHVybiB7SXplbmRhTG9jYXRpb25Nb2RlbH0gY3VycmVudCBsb2NhdGlvbiBtb2RlbC5cclxuXHQgKi9cclxuXHRnZXRMb2NhdGlvbigpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBuZXcgVXJsU2V0dGluZ3MoKTsgLy8gcmV0cmlldmUgY3VycmVudCB1cmwgc2V0dGluZ3NcclxuXHRcdGNvbnN0IHJlcG9ydEluZm8gPSB0aGlzLnNldHRpbmdzLnJlcG9ydEluZm87XHJcblxyXG5cdFx0Ly8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHRpZiAocmVwb3J0SW5mby5mdWxsTmFtZSlcclxuXHRcdFx0cmV0dXJuIEl6ZW5kYUxvY2F0aW9uTW9kZWwuZnJvbUpzb24ocmVwb3J0SW5mbyk7XHJcblxyXG5cdFx0Ly8gaXNOZXdcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBJemVuZGFMb2NhdGlvbk1vZGVsKCk7XHJcblx0XHRyZXN1bHQuaXNOZXcgPSByZXBvcnRJbmZvLmlzTmV3O1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgcmVwb3J0IG5hbWUgYW5kIGNhdGVnb3J5IHRvIGxvY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqL1xyXG5cdHNldFJlcG9ydEZ1bGxOYW1lKGZ1bGxOYW1lOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuc2V0TG9jYXRpb24oe1xyXG5cdFx0XHRmdWxsTmFtZTogZnVsbE5hbWUsXHJcblx0XHRcdG5hbWU6IHRoaXMuZXh0cmFjdFJlcG9ydE5hbWUoZnVsbE5hbWUpLFxyXG5cdFx0XHRjYXRlZ29yeTogdGhpcy5leHRyYWN0UmVwb3J0Q2F0ZWdvcnkoZnVsbE5hbWUpLFxyXG5cdFx0XHRpc05ldzogZmFsc2VcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdvIHRvIFwibmV3XCJcclxuXHQgKi9cclxuXHRzZXRJc05ldygpIHtcclxuXHRcdHRoaXMuc2V0TG9jYXRpb24oe1xyXG5cdFx0XHRmdWxsTmFtZTogbnVsbCxcclxuXHRcdFx0bmFtZTogbnVsbCxcclxuXHRcdFx0Y2F0ZWdvcnk6IG51bGwsXHJcblx0XHRcdGlzTmV3OiB0cnVlXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBIYW5kbGVyLCB3aGljaCByZWFjdHMgb24gcGFnZSBsb2FkIGFuZCAkbG9jYXRpb24gY2hhbmdlLlxyXG5cdCAqL1xyXG5cdGxvY2F0aW9uQ2hhbmdlZEhhbmRsZXIoKSB7XHJcblx0XHQvLyB1cGRhdGUgdXJsIHNldHRpbmdzIG9iamVjdCBiZWNhdXNlIHVybCBoYXMgY2hhbmdlZFxyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IG5ldyBVcmxTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIGNhbmNlbCBhbGwgY3VycmVudCBxdWVyaWVzXHJcblx0XHQvL2NvbnN0IGNvdW50Q2FuY2VsbGVkID0gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuY2FuY2VsQWxsUXVlcmllcygpO1xyXG5cdFx0Ly9pZiAoY291bnRDYW5jZWxsZWQgPiAwKVxyXG5cdFx0Ly9cdHRoaXMuJGxvZy5kZWJ1ZyhgPj4+IENhbmNlbGxlZCAke2NvdW50Q2FuY2VsbGVkfSBxdWVyaWVzYCk7XHJcblxyXG5cdFx0Ly8gc2V0IGN1cnJlbnQgcmVwb3J0IHNldCBpZiBsb2NhdGlvbiBoYXMgY2hhbmdlZFxyXG5cdFx0Y29uc3QgbmV3TG9jYXRpb25Nb2RlbCA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuXHRcdGlmIChuZXdMb2NhdGlvbk1vZGVsLmZ1bGxOYW1lICE9PSB0aGlzLnJlcG9ydE5hbWVJbmZvLmZ1bGxOYW1lIHx8IG5ld0xvY2F0aW9uTW9kZWwuaXNOZXcgIT09IHRoaXMucmVwb3J0TmFtZUluZm8uaXNOZXcpIHtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lSW5mbyA9IG5ld0xvY2F0aW9uTW9kZWw7XHJcblx0XHRcdHRoaXMubG9jYXRpb24ub25OZXh0KHRoaXMucmVwb3J0TmFtZUluZm8pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBmaWx0ZXIgcGFyYW1ldGVycyB1cmwgcGFydCB1c2luZyBjdXJyZW50IGZpbHRlclBhcmFtZXRlcnMgZnJvbSBVcmxTZXR0aW5ncyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7c3RyaW5nfSBVcmwgcGFyYW1ldGVycyBzdHJpbmc6ICcmcDE9djEmcDI9djIuLi4mcE49dk4nLlxyXG5cdCAqL1xyXG5cdGdldEZpbHRlclBhcmFtc1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlcXVlc3RTdHJpbmcgPSAnJztcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmZpbHRlclBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2V0dGluZ3MuZmlsdGVyUGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IHBhcmFtT2JqZWN0ID0gdGhpcy5zZXR0aW5ncy5maWx0ZXJQYXJhbWV0ZXJzW2ldO1xyXG5cdFx0XHRcdHJlcXVlc3RTdHJpbmcgKz0gYCYke3BhcmFtT2JqZWN0WzBdfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbU9iamVjdFsxXSl9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcXVlc3RTdHJpbmc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHRyYWN0IHJlcG9ydCBuYW1lIGZyb20gY2F0ZWdvcnlcXHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IHJlcG9ydCBuYW1lIHdpdGhvdXQgY2F0ZWdvcnkuXHJcblx0ICovXHJcblx0ZXh0cmFjdFJlcG9ydE5hbWUoZnVsbE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZnVsbE5hbWUpIHx8IGZ1bGxOYW1lID09PSAnJylcclxuXHRcdFx0dGhyb3cgYENhbid0IGV4dHJhY3QgcmVwb3J0IG5hbWUgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cdFx0Y29uc3QgcGFydHMgPSBmdWxsTmFtZS5zcGxpdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRyZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHRyYWN0IHJlcG9ydCBjYXRlZ29yeSBmcm9tIFwiY2F0ZWdvcnlcXHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IHJlcG9ydCBjYXRlZ29yeS5cclxuXHQgKi9cclxuXHRleHRyYWN0UmVwb3J0Q2F0ZWdvcnkoZnVsbE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZnVsbE5hbWUpIHx8IGZ1bGxOYW1lID09PSAnJylcclxuXHRcdFx0dGhyb3cgYENhbid0IGV4dHJhY3QgcmVwb3J0IGNhdGVnb3J5IGZyb20gb2JqZWN0IFwiJHtKU09OLnN0cmluZ2lmeShmdWxsTmFtZSl9XCIgd2l0aCB0eXBlICR7dHlwZW9mIChmdWxsTmFtZSl9YDtcclxuXHJcblx0XHRjb25zdCByZXBvcnRGdWxsTmFtZVBhcnRzID0gZnVsbE5hbWUuc3BsaXQodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkpO1xyXG5cdFx0bGV0IGNhdGVnb3J5OiBzdHJpbmc7XHJcblx0XHRpZiAocmVwb3J0RnVsbE5hbWVQYXJ0cy5sZW5ndGggPj0gMilcclxuXHRcdFx0Y2F0ZWdvcnkgPSByZXBvcnRGdWxsTmFtZVBhcnRzLnNsaWNlKDAsIHJlcG9ydEZ1bGxOYW1lUGFydHMubGVuZ3RoIC0gMSkuam9pbih0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGNhdGVnb3J5ID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0VW5jYXRlZ29yaXplZCgpO1xyXG5cdFx0cmV0dXJuIGNhdGVnb3J5O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IG5hbWUsIGNhdGVnb3J5LCByZXBvcnQgc2V0IG5hbWUgZm9yIHJlcG9ydCBwYXJ0LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gcmVwb3J0IHBhcnRzIG9iamVjdC5cclxuXHQgKi9cclxuXHRleHRyYWN0UmVwb3J0UGFydE5hbWVzKGZ1bGxOYW1lOiBzdHJpbmcsIGlzUGFydE5hbWVBdFJpZ2h0OiBib29sZWFuKTogYW55IHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgcGFydCBuYW1lIGZyb20gb2JqZWN0IFwiJHtKU09OLnN0cmluZ2lmeShmdWxsTmFtZSl9XCIgd2l0aCB0eXBlICR7dHlwZW9mIChmdWxsTmFtZSl9YDtcclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSB7XHJcblx0XHRcdHJlcG9ydFBhcnROYW1lOiBudWxsLFxyXG5cdFx0XHRyZXBvcnRGdWxsTmFtZTogZnVsbE5hbWUsXHJcblx0XHRcdHJlcG9ydFNldE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydENhdGVnb3J5OiBudWxsLFxyXG5cdFx0XHRyZXBvcnROYW1lV2l0aENhdGVnb3J5OiBudWxsXHJcblx0XHR9O1xyXG5cdFx0Ly8gZXh0cmFjdCByZXBvcnQgcGFydCBuYW1lXHJcblx0XHRsZXQgcmVwb3J0U2V0TmFtZSA9IGZ1bGxOYW1lO1xyXG5cdFx0aWYgKGZ1bGxOYW1lLmluZGV4T2YoJ0AnKSA+PSAwKSB7XHJcblx0XHRcdGNvbnN0IHBhcnRzID0gZnVsbE5hbWUuc3BsaXQoJ0AnKTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzVW5kZWZpbmVkKGlzUGFydE5hbWVBdFJpZ2h0KSAmJiBpc1BhcnROYW1lQXRSaWdodCkge1xyXG5cdFx0XHRcdFtyZXBvcnRTZXROYW1lLCByZXN1bHQucmVwb3J0UGFydE5hbWVdID0gcGFydHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0W3Jlc3VsdC5yZXBvcnRQYXJ0TmFtZSwgcmVwb3J0U2V0TmFtZV0gPSBwYXJ0cztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly8gY29sbGVjdCByZXN1bHRzIGludG8gb25lIG9iamVjdDpcclxuXHRcdHJlc3VsdC5yZXBvcnRTZXROYW1lID0gcmVwb3J0U2V0TmFtZTtcclxuXHRcdHJlc3VsdC5yZXBvcnROYW1lID0gdGhpcy5leHRyYWN0UmVwb3J0TmFtZShyZXBvcnRTZXROYW1lKTtcclxuXHRcdHJlc3VsdC5yZXBvcnRDYXRlZ29yeSA9IHRoaXMuZXh0cmFjdFJlcG9ydENhdGVnb3J5KHJlcG9ydFNldE5hbWUpO1xyXG5cdFx0cmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnkgPSByZXN1bHQucmVwb3J0TmFtZTtcclxuXHRcdGlmICh0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQocmVzdWx0LnJlcG9ydENhdGVnb3J5KSlcclxuXHRcdFx0cmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnkgPVxyXG5cdFx0XHRcdHJlc3VsdC5yZXBvcnRDYXRlZ29yeSArIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk7XHJcblx0XHRyZXN1bHQucmVwb3J0RnVsbE5hbWUgPSAocmVzdWx0LnJlcG9ydFBhcnROYW1lICE9IG51bGwgPyByZXN1bHQucmVwb3J0UGFydE5hbWUgKyAnQCcgOiAnJykgKyByZXN1bHQucmVwb3J0U2V0TmFtZTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY3VycmVudCByZXBvcnQgaW5mbyBvYmplY3QuXHJcblx0ICovXHJcblx0Z2V0UmVwb3J0SW5mbygpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydE5hbWVJbmZvO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRVcmxQYXJhbXModXJsKSB7XHJcblx0XHRjb25zdCB1cmxPYmogPSAodHlwZW9mIChhbmd1bGFyLmVsZW1lbnRbJ3VybCddKSA9PT0gJ3VuZGVmaW5lZCcpID8gd2luZG93LnB1cmwodXJsKSA6IGFuZ3VsYXIuZWxlbWVudFsndXJsJ10odXJsKTtcclxuXHRcdHJldHVybiB1cmxPYmouZGF0YS5wYXJhbS5xdWVyeTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVVybFNlcnZpY2UnLCBJemVuZGFVcmxTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVVybFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0IGl6ZW5kYVF1ZXJ5TW9kdWxlIGZyb20gJ2NvbW1vbi9xdWVyeS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVBpbmdTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9waW5nLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5cclxuLy8gcmVnaXN0ZXIgaHR0cCBwcm92aWRlclxyXG5pemVuZGFRdWVyeU1vZHVsZS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgJGh0dHBQcm92aWRlciA9PiB7XHJcblx0JGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZS5wdXNoKHJlc3BvbnNlRGF0YSA9PiB7XHJcblx0XHQvLyBjb252ZXJ0ICRodHRwIHJlc3BvbnNlLiBXZSBuZWVkIHRvIHRyYW5zbGF0ZSBhc3AubmV0IGRhdGVzIFxyXG5cdFx0Ly8gaW4gc3RyaW5nIGZvcm1hdCAnL0RhdGUodGlja3NOdW1iZXIpLycgdG8ganMgRGF0ZSBvYmplY3RzIChvbmx5IGZvciBqc29uIHJlc3BvbnNlIHR5cGUpOlxyXG5cdFx0dmFyIHJlZ2V4RGF0ZSA9IC9eXFwvRGF0ZVxcKChbLV17MCwxfVxcZCspXFwpXFwvJC87XHJcblx0XHR2YXIgY29udmVydERhdGVTdHJpbmdzVG9EYXRlcyA9IGlucHV0ID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGlucHV0KSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBpbnB1dCkge1xyXG5cdFx0XHRcdGlmICghaW5wdXQuaGFzT3duUHJvcGVydHkoa2V5KSkgY29udGludWU7XHJcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBpbnB1dFtrZXldO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaChyZWdleERhdGUpO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheShtYXRjaCkgJiYgbWF0Y2gubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtaWxsaXNlY29uZHMgPSBwYXJzZUludChtYXRjaFttYXRjaC5sZW5ndGggLSAxXSk7XHJcblx0XHRcdFx0XHRcdGlmICghaXNOYU4obWlsbGlzZWNvbmRzKSkge1xyXG5cdFx0XHRcdFx0XHRcdGlucHV0W2tleV0gPSBuZXcgRGF0ZShtaWxsaXNlY29uZHMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0Y29udmVydERhdGVTdHJpbmdzVG9EYXRlcyh2YWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y29udmVydERhdGVTdHJpbmdzVG9EYXRlcyhyZXNwb25zZURhdGEpO1xyXG5cdFx0cmV0dXJuIHJlc3BvbnNlRGF0YTtcclxuXHR9KTtcclxufV0pO1xyXG5cclxuLy8gcmVnaXN0ZXIgc2VydmljZXNcclxuSXplbmRhUnNRdWVyeVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG5JemVuZGFRdWVyeVNldHRpbmdzU2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYVBpbmdTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhVXJsU2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL21vZHVsZSc7XHJcbmltcG9ydCAnY29tbW9uL3F1ZXJ5L21vZHVsZSc7XHJcblxyXG5jb25zdCBpemVuZGFVaU1vZHVsZSA9IGFuZ3VsYXJcclxuXHQubW9kdWxlKCdpemVuZGEuY29tbW9uLnVpJywgWydyeCcsICdpemVuZGEuY29tbW9uLmNvcmUnLCAnaXplbmRhLmNvbW1vbi5xdWVyeSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQnLCBbJ2pzX05hbWUnLCAnTmFtZSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lRW1wdHlFcnJvcicsIFsnanNfTmFtZUNhbnRCZUVtcHR5JywgJ1JlcG9ydCBuYW1lIGNhblxcJ3QgYmUgZW1wdHkuJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnZhbGlkRXJyb3InLCBbJ2pzX0ludmFsaWRSZXBvcnROYW1lJywgJ0ludmFsaWQgcmVwb3J0IG5hbWUnXSk7XHJcbmV4cG9ydCBkZWZhdWx0IGl6ZW5kYVVpTW9kdWxlO1xyXG5cclxuIiwiLyoqXHJcbiAqIEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCBjbGFzcyBpcyB1c2VkIHRvIHByb3ZpZGUgdW5pZm9ybSBhbmd1bGFyIGJpbmRpbmdzIHN0eWxlIGZvciA8c2VsZWN0Pi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTZWxlY3RJdGVtTW9kZWwge1xyXG5cdHRleHQ6IHN0cmluZztcclxuXHR2YWx1ZTogc3RyaW5nO1xyXG5cdGdyb3VwOiBzdHJpbmc7XHJcblx0c2VsZWN0ZWQ6IGJvb2xlYW47XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHJcblx0Y29uc3RydWN0b3IodGV4dDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBncm91cD86IHN0cmluZywgc2VsZWN0ZWQ/OiBib29sZWFuLCBlbmFibGVkPzogYm9vbGVhbikge1xyXG5cdFx0aWYgKHR5cGVvZiAodmFsdWUpID09PSAndW5kZWZpbmVkJylcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBzaG91bGQgYmUgZGVmaW5lZCcpO1xyXG5cdFx0dGhpcy50ZXh0ID0gdGV4dDtcclxuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHRcdHRoaXMuZ3JvdXAgPSBncm91cCA/IGdyb3VwIDogdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkID8gc2VsZWN0ZWQgOiBmYWxzZTtcclxuXHRcdHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgPyBlbmFibGVkIDogdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGdldCBkaXNhYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAhdGhpcy5lbmFibGVkO1xyXG5cdH1cclxuXHJcblx0aXNFcXVhbCh0ZXN0VmFsdWU6IHN0cmluZywgaXNMb3dlckNhc2VDb21wYXJpc29uPzogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKHRlc3RWYWx1ZSA9PT0gbnVsbCAmJiB0aGlzLnZhbHVlID09PSBudWxsKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGlmICh0ZXN0VmFsdWUgPT09IG51bGwgfHwgdGhpcy52YWx1ZSA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIGlzTG93ZXJDYXNlQ29tcGFyaXNvblxyXG5cdFx0XHQ/IHRlc3RWYWx1ZS50b0xvd2VyQ2FzZSgpID09PSB0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKClcclxuXHRcdFx0OiB0ZXN0VmFsdWUgPT09IHRoaXMudmFsdWU7XHJcblx0fVxyXG5cclxuXHRpc0VxdWFsV2l0aEl0ZW0oaXRlbTogSXplbmRhU2VsZWN0SXRlbU1vZGVsLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWl0ZW0pXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiB0aGlzLmlzRXF1YWwoaXRlbS52YWx1ZSwgaXNMb3dlckNhc2VDb21wYXJpc29uKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCB7IElJemVuZGFSYXdNb2RlbCBhcyBJUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuXHJcbi8qKlxyXG4gKiBNb2RlbCBmb3IgdGhlIGxpc3Qgb2Ygc2hhcmUgcnVsZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2hhcmVNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNoYXJlIHJ1bGVzIG1vZGVsIGNvbGxlY3Rpb25cclxuXHQgKi9cclxuXHRzaGFyZVJ1bGVzOiBJemVuZGFTaGFyZVJ1bGVNb2RlbFtdO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuc2hhcmVSdWxlcyA9IG5ldyBBcnJheTxJemVuZGFTaGFyZVJ1bGVNb2RlbD4oKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2VyaWFsaXplIHNoYXJlIHJ1bGVzLiBUaGlzIG1ldGhvZCBzZXRzIHRoaXMuc2hhcmVSdWxlcyBmaWVsZC5cclxuXHQgKiBAcGFyYW0ge2FueVtdfSBqc29uIFNlcmlhbGl6ZWQgc2hhcmUgcnVsZXMgYXJyYXkuXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSBhdmFpbGFibGVSaWdodHMgUmlnaHQgbW9kZWwgY29sbGVjdGlvbi5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IGF2YWlsYWJsZVN1YmplY3RzIFN1YmplY3QgbW9kZWwgY29sbGVjdGlvbi5cclxuXHQgKi9cclxuXHRmcm9tSnNvbihqc29uOiBhbnksXHJcblx0XHRhdmFpbGFibGVSaWdodHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLFxyXG5cdFx0YXZhaWxhYmxlU3ViamVjdHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblx0XHRpZiAoIWpzb24pIHtcclxuXHRcdFx0dGhpcy5zaGFyZVJ1bGVzID0gW107XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuc2hhcmVSdWxlcyA9IGpzb24ubWFwKHJ1bGVKc29uID0+IHtcclxuXHRcdFx0Y29uc3Qgc2hhcmVSdWxlID0gbmV3IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKCk7XHJcblx0XHRcdHNoYXJlUnVsZS5mcm9tSnNvbihydWxlSnNvbiwgYXZhaWxhYmxlUmlnaHRzLCBhdmFpbGFibGVTdWJqZWN0cyk7XHJcblx0XHRcdHJldHVybiBzaGFyZVJ1bGU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlcmlhbGl6ZSBjdXJyZW50IHNoYXJlIHJ1bGVzIHRvIGpzb24gb2JqZWN0LlxyXG5cdCAqIEByZXR1cm4ge2FueVtdfSBhcnJheSBvZiBzZXJpYWxpemVkIHNoYXJlIHJ1bGVzLlxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnlbXSB7XHJcblx0XHRjb25zdCBqc29uID0gdGhpcy5zaGFyZVJ1bGVzXHJcblx0XHRcdC5maWx0ZXIoc2hhcmVSdWxlID0+IHNoYXJlUnVsZS5zdWJqZWN0ICYmIHNoYXJlUnVsZS5yaWdodClcclxuXHRcdFx0Lm1hcChzaGFyZVJ1bGUgPT4gc2hhcmVSdWxlLnRvSnNvbigpKTtcclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE1vZGVsIGZvciBzdWJqZWN0LXJpZ2h0IHBhaXIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2hhcmVSdWxlTW9kZWwgaW1wbGVtZW50cyBJUmF3TW9kZWwge1xyXG5cclxuXHRhdmFpbGFibGVTdWJqZWN0cyA9IG5ldyBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+KCk7XHJcblx0cmlnaHQ6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCA9IG51bGw7XHJcblx0c3ViamVjdDogSXplbmRhU2VsZWN0SXRlbU1vZGVsID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3Ioc3ViamVjdHM/OiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cdFx0aWYgKHN1YmplY3RzKVxyXG5cdFx0XHR0aGlzLnNldEF2YWlsYWJsZVN1YmplY3RzKHN1YmplY3RzLCBudWxsKTtcclxuXHR9XHJcblxyXG5cdHNldEF2YWlsYWJsZVN1YmplY3RzKHN1YmplY3RzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSwgc3ViamVjdFZhbHVlPzogc3RyaW5nKSB7XHJcblxyXG5cdFx0Y29uc3Qgc3VialZhbHVlID0gc3ViamVjdFZhbHVlXHJcblx0XHRcdD8gc3ViamVjdFZhbHVlXHJcblx0XHRcdDogdGhpcy5zdWJqZWN0XHJcblx0XHRcdFx0PyB0aGlzLnN1YmplY3QudmFsdWVcclxuXHRcdFx0XHQ6IG51bGw7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIGF2YWlsYWJsZSBzdWJqZWN0cyBjb2xsZWN0aW9uXHJcblx0XHR0aGlzLmF2YWlsYWJsZVN1YmplY3RzID0gc3ViamVjdHMgJiYgc3ViamVjdHMubGVuZ3RoID8gWy4uLnN1YmplY3RzXSA6IFtdO1xyXG5cclxuXHRcdC8vIHVwZGF0ZSBzdWJqZWN0XHJcblx0XHR0aGlzLnN1YmplY3QgPSBudWxsO1xyXG5cdFx0aWYgKHN1YmpWYWx1ZSAhPT0gbnVsbClcclxuXHRcdFx0dGhpcy5zdWJqZWN0ID0gdGhpcy5hdmFpbGFibGVTdWJqZWN0cy5maW5kKHMgPT4gcy52YWx1ZSA9PT0gc3VialZhbHVlKSB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0ZnJvbUpzb24oanNvbjogYW55LCByaWdodHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLCBzdWJqZWN0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10pIHtcclxuXHJcblx0XHQvLyBzZXQgcmlnaHRcclxuXHRcdHRoaXMucmlnaHQgPSBudWxsO1xyXG5cdFx0aWYgKHJpZ2h0cyAmJiByaWdodHMubGVuZ3RoKVxyXG5cdFx0XHR0aGlzLnJpZ2h0ID0gcmlnaHRzLmZpbmQociA9PiBqc29uICYmIHIudmFsdWUgPT09IGpzb24ucmlnaHQpIHx8IG51bGw7XHJcblxyXG5cdFx0Ly8gc2V0IGF2YWlsYWJsZSBzdWJqZWN0XHJcblx0XHR0aGlzLnNldEF2YWlsYWJsZVN1YmplY3RzKHN1YmplY3RzLCBqc29uID8ganNvbi5zdWJqZWN0IDogbnVsbCk7XHJcblx0fVxyXG5cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHJcblx0XHRpZiAoIXRoaXMucmlnaHQgJiYgIXRoaXMuc3ViamVjdClcclxuXHRcdFx0Ly8geW91IGNhbiBmYWNlIHdpdGggdGhpcyBzaXR1YXRpb24gb25seSBpZiB5b3UgY2FsbCB0b0pzb24gZGlyZWN0bHkgZm9yIHRoaXMgY2xhc3MsIFxyXG5cdFx0XHQvL2JlY2F1c2Ugd2hlbiB5b3Ugc2VyaWFsaXplIGNvbGxlY3Rpb24sIHRoZXJlIGlzIGFkZGl0aW9uYWwgY2hlY2sgZm9yIGVtcHR5IHN1YmplY3QgYW5kIHJpZ2h0LlxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0XHRjb25zdCBqc29uID0ge1xyXG5cdFx0XHRyaWdodDogdGhpcy5yaWdodC52YWx1ZSxcclxuXHRcdFx0c3ViamVjdDogdGhpcy5zdWJqZWN0LnZhbHVlXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2hhcmVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNoYXJlUnVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNlcnZpY2UgdXNlZCBmb3Igc3RvcmUgZGF0YSBpbiBzaGFyZSBjb250cm9sXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTaGFyZVNlcnZpY2Uge1xyXG5cclxuXHRyaWdodHM6IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD47XHJcblx0c3ViamVjdHM6IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD47XHJcblx0c2hhcmVNb2RlbDogSXplbmRhU2hhcmVNb2RlbDtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBuZXcgZW1wdHkgc2hhcmUgcnVsZS5cclxuXHQgKi9cclxuXHRhZGROZXdTaGFyZVJ1bGUoKSB7XHJcblx0XHRjb25zdCBzaGFyZVJ1bGVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZVJ1bGVNb2RlbCh0aGlzLnN1YmplY3RzKTtcclxuXHRcdHRoaXMuc2hhcmVNb2RlbC5zaGFyZVJ1bGVzLnB1c2goc2hhcmVSdWxlTW9kZWwpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlIHNoYXJlIHJ1bGVcclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2hhcmVSdWxlTW9kZWx9IHNoYXJlUnVsZSBTaGFyZSBydWxlIGZvciByZW1vdmFsLlxyXG5cdCAqL1xyXG5cdHJlbW92ZVNoYXJlUnVsZShzaGFyZVJ1bGU6IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKSB7XHJcblx0XHRpZiAoIXNoYXJlUnVsZSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgaWR4ID0gdGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMuaW5kZXhPZihzaGFyZVJ1bGUpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMuc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgY3VycmVudCBzY2hldWxlIGNvbmZpZyBqc29uIGZvciBzZW5kIHRvIHNlcnZlci5cclxuXHQgKiBAcmV0dXJuIHthbnl9IFJhdyBtb2RlbCBmb3Igc2VuZGluZyB0byBzZXJ2ZXIuXHJcblx0ICovXHJcblx0Z2V0U2hhcmVDb25maWdGb3JTZW5kKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zaGFyZU1vZGVsLnRvSnNvbigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGN1cnJlbnQgc2hhcmUgY29uZmlnLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFNoYXJlIG1vZGVsIHJhdyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHNldFNoYXJlQ29uZmlnKGpzb246IGFueSk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHZhciBpc0RlZmF1bHRDb25maWcgPSAhanNvbjtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLmZpbGxTaGFyZUNvbmZpZ0Zyb21Kc29uKGpzb24sIGlzRGVmYXVsdENvbmZpZykudGhlbigoKSA9PiByZXNvbHZlKCkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgc2hhcmUgc2VydmljZSBzdGF0ZSBmcm9tIHRoZSBjb25maWcgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFNoYXJlIG1vZGVsIHJhdyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgZmlsbFNoYXJlQ29uZmlnRnJvbUpzb24oanNvbjogYW55LCBpc0RlZmF1bHRDb25maWc6IGJvb2xlYW4pOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy5sb2FkU2hhcmVEYXRhKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGlzRGVmYXVsdENvbmZpZykge1xyXG5cdFx0XHRcdFx0anNvbiA9IFt7XHJcblx0XHRcdFx0XHRcdHN1YmplY3Q6ICdFdmVyeW9uZScsXHJcblx0XHRcdFx0XHRcdHJpZ2h0OiAnTm9uZSdcclxuXHRcdFx0XHRcdH1dO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnNoYXJlTW9kZWwgPSBuZXcgSXplbmRhU2hhcmVNb2RlbCgpO1xyXG5cdFx0XHRcdHRoaXMuc2hhcmVNb2RlbC5mcm9tSnNvbihqc29uLCB0aGlzLnJpZ2h0cywgdGhpcy5zdWJqZWN0cyk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgc2hhcmUgZGF0YSBhbmQgYXZhaWxhYmxlIHZhbHVlcyBmcm9tIHNlcnZlci5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkU2hhcmVEYXRhKCk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFNoYXJlRGF0YSgpLnRoZW4oanNvbiA9PiB7XHJcblx0XHRcdFx0Ly8gZmlsbCBhdmFpbGFibGUgcmlnaHRzIGNvbGxlY3Rpb25cclxuXHRcdFx0XHR0aGlzLnJpZ2h0cyA9IGpzb24uUmlnaHRzLm1hcChyaWdodEpzb24gPT4gbmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChyaWdodEpzb24uVGV4dCwgcmlnaHRKc29uLlZhbHVlKSk7XHJcblxyXG5cdFx0XHRcdC8vIGZpbGwgYXZhaWxhYmxlIHN1YmplY3RzIGNvbGxlY3Rpb25cclxuXHRcdFx0XHR0aGlzLnN1YmplY3RzID0ganNvbi5TaGFyZVdpdGgubWFwKHN1YmplY3RKc29uID0+IG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwoc3ViamVjdEpzb24uVGV4dCwgc3ViamVjdEpzb24uVmFsdWUpKTtcclxuXHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGRlZmF1bHQgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgcmVzZXQoKTogdm9pZCB7XHJcblx0XHR0aGlzLnJpZ2h0cyA9IG5ldyBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+KCk7XHJcblx0XHR0aGlzLnN1YmplY3RzID0gbmV3IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD4oKTtcclxuXHRcdHRoaXMuc2hhcmVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZU1vZGVsKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBbmd1bGFyIGRlcGVuZGVuY2llc1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVNoYXJlU2VydmljZScsIEl6ZW5kYVNoYXJlU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFTaGFyZVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCB7IElJemVuZGFSYXdNb2RlbCBhcyBJUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSXplbmRhU2NoZWR1bGVNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblx0ZGF0ZTogRGF0ZTtcclxuXHRyZWNpcGllbnRzOiBzdHJpbmc7XHJcblxyXG5cdGVtYWlsOiBJemVuZGFTZWxlY3RJdGVtTW9kZWw7XHJcblx0cmVwZWF0OiBJemVuZGFTZWxlY3RJdGVtTW9kZWw7XHJcblx0dGltZXpvbmU6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0dGhpcy5lbWFpbCA9IG51bGw7XHJcblx0XHR0aGlzLnJlY2lwaWVudHMgPSAnJztcclxuXHRcdHRoaXMucmVwZWF0ID0gbnVsbDtcclxuXHRcdHRoaXMudGltZXpvbmUgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmlsbCB0aGlzIG9iamVjdCBmcm9tIHNlcnZlci1zaWRlIGR0byBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gZHRvIG9iamVjdC5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IGVtYWlsVHlwZXMgRW1haWwgdHlwZSBtb2RlbHMgY29sbGVjdGlvbi5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IHJlcGVhdFR5cGVzIFJlcGVhdCB0eXBlIG1vZGVscyBjb2xsZWN0aW9uLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gdGltZXpvbmVzIFRpbWV6b25lIG1vZGVscyBjb2xsZWN0aW9uLlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSxcclxuXHRcdGVtYWlsVHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLFxyXG5cdFx0cmVwZWF0VHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLFxyXG5cdFx0dGltZXpvbmVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cclxuXHRcdC8vIHBhcnNlIGFuZCBzZXQgZGF0ZVxyXG5cdFx0aWYgKGpzb24gJiYganNvbi5kYXRlU3RyaW5nKSB7XHJcblx0XHRcdGxldCBkYXRlU3RyaW5nID0ganNvbi5kYXRlU3RyaW5nLnRyaW0oKTtcclxuXHRcdFx0bGV0IG1vbWVudERhdGU6IGFueTtcclxuXHRcdFx0aWYgKGpzb24udGltZVN0cmluZykge1xyXG5cdFx0XHRcdGRhdGVTdHJpbmcgKz0gYCAke2pzb24udGltZVN0cmluZy50cmltKCl9YDtcclxuXHRcdFx0XHRtb21lbnREYXRlID0gbW9tZW50KGRhdGVTdHJpbmcsICdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bW9tZW50RGF0ZSA9IG1vbWVudChkYXRlU3RyaW5nLCAnWVlZWS1NTS1ERCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuZGF0ZSA9IG1vbWVudERhdGUuaXNWYWxpZCgpID8gbW9tZW50RGF0ZS5fZCA6IG5ldyBEYXRlKCk7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0dGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHRcdGlmICghdGhpcy5kYXRlIHx8IHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDE5MDApXHJcblx0XHRcdHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gdGltZXpvbmVcclxuXHRcdHRoaXMudGltZXpvbmUgPSB0aW1lem9uZXMubGVuZ3RoID8gKHRpbWV6b25lcy5maW5kKHR6ID0+IHR6LnNlbGVjdGVkKSB8fCB0aW1lem9uZXNbMF0pIDogbnVsbDtcclxuXHRcdGlmIChqc29uICYmIGpzb24udGltZXpvbmVJZClcclxuXHRcdFx0dGhpcy50aW1lem9uZSA9IHRpbWV6b25lcy5maW5kKHR6ID0+IHR6LnZhbHVlID09PSBqc29uLnRpbWV6b25lSWQpIHx8IHRoaXMudGltZXpvbmU7XHJcblxyXG5cdFx0Ly8gZW1haWwgdHlwZVxyXG5cdFx0dGhpcy5lbWFpbCA9IGVtYWlsVHlwZXMubGVuZ3RoID8gKGVtYWlsVHlwZXMuZmluZChlID0+IGUuc2VsZWN0ZWQpIHx8IGVtYWlsVHlwZXNbMF0pIDogbnVsbDtcclxuXHJcblx0XHQvLyByZXBlYXQgdHlwZVxyXG5cdFx0dGhpcy5yZXBlYXQgPSByZXBlYXRUeXBlcy5sZW5ndGggPyAocmVwZWF0VHlwZXMuZmluZChyID0+IHIuc2VsZWN0ZWQpIHx8IHJlcGVhdFR5cGVzWzBdKSA6IG51bGw7XHJcblxyXG5cdFx0Ly8gcmVjaXBpZW50c1xyXG5cdFx0dGhpcy5yZWNpcGllbnRzID0ganNvbiAmJiBqc29uLnJlY2lwaWVudHMgPyBqc29uLnJlY2lwaWVudHMgOiAnJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBzZXJ2ZXItc2lkZSBkdG8gb2JqZWN0IGZvciB0aGlzIHNjaGVkdWxlIG1vZGVsIG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHthbnl9IE5ldyBqc29uIG9iamVjdC5cclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHRcdGxldCBkYXRlU3RyaW5nOiBzdHJpbmcgPSBudWxsO1xyXG5cdFx0bGV0IHRpbWVTdHJpbmc6IHN0cmluZyA9IG51bGw7XHJcblx0XHRpZiAodGhpcy5kYXRlKSB7XHJcblx0XHRcdGRhdGVTdHJpbmcgPSBtb21lbnQodGhpcy5kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuXHRcdFx0dGltZVN0cmluZyA9IG1vbWVudCh0aGlzLmRhdGUpLmZvcm1hdCgnSEg6bW06c3MnKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGpzb24gPSB7XHJcblx0XHRcdGRhdGVTdHJpbmc6IGRhdGVTdHJpbmcsXHJcblx0XHRcdHRpbWVTdHJpbmc6IHRpbWVTdHJpbmcsXHJcblx0XHRcdHJlY2lwaWVudHM6IHRoaXMucmVjaXBpZW50cyxcclxuXHRcdFx0ZW1haWw6IHRoaXMuZW1haWwgPyB0aGlzLmVtYWlsLnZhbHVlIDogbnVsbCxcclxuXHRcdFx0cmVwZWF0OiB0aGlzLnJlcGVhdCA/IHRoaXMucmVwZWF0LnZhbHVlIDogbnVsbCxcclxuXHRcdFx0dGltZXpvbmVJZDogdGhpcy50aW1lem9uZSA/IHRoaXMudGltZXpvbmUudmFsdWUgOiBudWxsXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGpzb247XHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSXplbmRhU2NoZWR1bGVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zY2hlZHVsZS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNjaGVkdWxlU2VydmljZSB7XHJcblxyXG5cdHNjaGVkdWxlQ29uZmlnOiBJemVuZGFTY2hlZHVsZU1vZGVsO1xyXG5cdHRpbWV6b25lczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW107XHJcblx0c2VuZEVtYWlsVHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdO1xyXG5cdHJlcGVhdFR5cGVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBjdXJyZW50IHNjaGV1bGUgY29uZmlnIGpzb24gZm9yIHNlbmQgdG8gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gUmF3IG1vZGVsIGZvciBzZW5kaW5nIHRvIHNlcnZlci5cclxuXHQgKi9cclxuXHRnZXRTY2hlZHVsZUNvbmZpZ0ZvclNlbmQoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLnNjaGVkdWxlQ29uZmlnLnRvSnNvbigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGN1cnJlbnQgc2NoZWR1bGUgY29uZmlnLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIHNjaGVkdWxlIHJhdyBtb2RlbC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0c2V0U2NoZWR1bGVDb25maWcoanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuZmlsbFNjaGVkdWxlQ29uZmlnRnJvbUpzb24oanNvbikudGhlbigoKSA9PiByZXNvbHZlKCkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgc2NoZWR1bGUgc2VydmljZSBzdGF0ZSBmcm9tIHRoZSBjb25maWcgb2JqZWN0LlxyXG5cdCAqIFNjaGVkdWxlIHRpbWV6b25lcywgcmVwZWF0IHR5cGVzIGFuZCBvdGhlcnMgYXJlIHN1cHBvc2VkIHRvIGJlIGxvYWRlZC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBzY2hlZHVsZSByYXcgbW9kZWwuXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgZmlsbFNjaGVkdWxlQ29uZmlnRnJvbUpzb24oanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdC8vIExvYWQgc2NoZWR1bGUgY29sbGVjdGlvbnMuXHJcblx0XHRcdHRoaXMubG9hZFNjaGVkdWxlRGF0YSgpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdC8vIEZpbGwgc2NoZWR1bGUgY29uZmlnIGZyb20ganNvbiBhZnRlciBsb2FkaW5nIGNvbGxlY3Rpb25zLlxyXG5cdFx0XHRcdHRoaXMuc2NoZWR1bGVDb25maWcuZnJvbUpzb24oanNvbiwgdGhpcy5zZW5kRW1haWxUeXBlcywgdGhpcy5yZXBlYXRUeXBlcywgdGhpcy50aW1lem9uZXMpO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgc2NoZWR1bGUgZGF0YSBhbmQgYXZhaWxhYmxlIHZhbHVlcyBmcm9tIHNlcnZlclxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRwcml2YXRlIGxvYWRTY2hlZHVsZURhdGEoKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblxyXG5cdFx0XHQvLyBjYWxjdWxhdGUgY3VycmVudCB0aW1lem9uZSBzdGQgb2Zmc2V0OlxyXG5cdFx0XHRjb25zdCByaWdodE5vdyA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdGNvbnN0IGphbjEgPSBuZXcgRGF0ZShyaWdodE5vdy5nZXRGdWxsWWVhcigpLCAwLCAxLCAwLCAwLCAwLCAwKTtcclxuXHRcdFx0Y29uc3QgdGVtcCA9IGphbjEudG9HTVRTdHJpbmcoKTtcclxuXHRcdFx0Y29uc3QgamFuMiA9IG5ldyBEYXRlKHRlbXAuc3Vic3RyaW5nKDAsIHRlbXAubGFzdEluZGV4T2YoJyAnKSkpO1xyXG5cdFx0XHRjb25zdCBzdGRUaW1lT2Zmc2V0ID0gKGphbjEuZ2V0VGltZSgpIC0gamFuMi5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCk7XHJcblxyXG5cdFx0XHQvLyBsb2FkIHNjaGVkdWxlIGRpY3Rpb25hcmllczpcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFNjaGVkdWxlRGF0YShzdGRUaW1lT2Zmc2V0KS50aGVuKGpzb24gPT4ge1xyXG5cclxuXHRcdFx0XHR0aGlzLnRpbWV6b25lcyA9IGpzb24uVGltZVpvbmVzLm1hcCh0eiA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCB0elRleHQgPSB0ei5UZXh0ID8gdHouVGV4dC5yZXBsYWNlQWxsKCcmbmJzcDsnLCAnICcpIDogJyc7XHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCh0elRleHQsIHR6LlZhbHVlLCB1bmRlZmluZWQsIHR6LlNlbGVjdGVkLCB0ei5FbmFibGVkKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dGhpcy5zZW5kRW1haWxUeXBlcyA9IGpzb24uU2VuZEVtYWlsTGlzdC5tYXAoZW1sID0+XHJcblx0XHRcdFx0XHRuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKGVtbC5UZXh0LCBlbWwuVmFsdWUsIHVuZGVmaW5lZCwgZW1sLlNlbGVjdGVkLCBlbWwuRW5hYmxlZCkpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnJlcGVhdFR5cGVzID0ganNvbi5SZXBlYXRUeXBlcy5tYXAocnQgPT5cclxuXHRcdFx0XHRcdG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwocnQuVGV4dCwgcnQuVmFsdWUsIHVuZGVmaW5lZCwgcnQuU2VsZWN0ZWQsIHJ0LkVuYWJsZWQpKTtcclxuXHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGRlZmF1bHQgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgcmVzZXQoKTogdm9pZCB7XHJcblx0XHR0aGlzLnNjaGVkdWxlQ29uZmlnID0gbmV3IEl6ZW5kYVNjaGVkdWxlTW9kZWwoKTtcclxuXHRcdHRoaXMudGltZXpvbmVzID0gW107XHJcblx0XHR0aGlzLnNlbmRFbWFpbFR5cGVzID0gW107XHJcblx0XHR0aGlzLnJlcGVhdFR5cGVzID0gW107XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnLCBJemVuZGFTY2hlZHVsZVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhU2NoZWR1bGVTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQWxpZ25Td2l0Y2hlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0dGl0bGU6IHN0cmluZztcclxuXHRhbGlnblNob3J0Y3V0OiBzdHJpbmc7XHJcblx0bmV4dFZhbHVlOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGlnbiBzd2l0Y2hlciBkaXJlY3RpdmUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFBbGlnblN3aXRjaGVyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0dGl0bGU6ICdAJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPSBgPHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLWFsaWduLXN3aXRjaGVyIGdseXBoaWNvblwiIG5nLWNsaWNrPVwibmV4dFZhbHVlKClcIiBuZy1hdHRyLXRpdGxlPVwidGl0bGVcIiBuZy1jbGFzcz1cImFsaWduU2hvcnRjdXRcIj48L3NwYW4+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUFsaWduU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFBbGlnblN3aXRjaGVyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUFsaWduU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgaXRlbXNBcnJheSA9IFsnTCcsICdNJywgJ1InLCAnSicsICcgJ107XHJcblx0XHRcdGNvbnN0IHNob3J0Y3V0cyA9IHtcclxuXHRcdFx0XHQnTCc6ICdnbHlwaGljb24tYWxpZ24tbGVmdCcsXHJcblx0XHRcdFx0J00nOiAnZ2x5cGhpY29uLWFsaWduLWNlbnRlcicsXHJcblx0XHRcdFx0J0onOiAnZ2x5cGhpY29uLWFsaWduLWNlbnRlcicsXHJcblx0XHRcdFx0J1InOiAnZ2x5cGhpY29uLWFsaWduLXJpZ2h0JyxcclxuXHRcdFx0XHQnICc6ICdnbHlwaGljb24tbm9uZSdcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHZhbGlkYXRlVmFsdWUgPSAobW9kZWwpID0+IHtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChtb2RlbCkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0aWYgKGl0ZW1zQXJyYXkuaW5kZXhPZihtb2RlbCkgPCAwKVxyXG5cdFx0XHRcdFx0dGhyb3cgJ1Vua25vd24gYWxpZ24gdmFsdWU6ICcgKyBtb2RlbDtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciB1cGRhdGVTaG9ydGN1dCA9IChtb2RlbCkgPT4gJHNjb3BlLmFsaWduU2hvcnRjdXQgPSBzaG9ydGN1dHNbbW9kZWxdO1xyXG5cclxuXHRcdFx0JHNjb3BlLm5leHRWYWx1ZSA9ICgpID0+IHtcclxuXHRcdFx0XHR2YXIgaWR4ID0gaXRlbXNBcnJheS5pbmRleE9mKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0XHRpZiAoaWR4IDwgaXRlbXNBcnJheS5sZW5ndGggLSAxKVxyXG5cdFx0XHRcdFx0aWR4Kys7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0aWR4ID0gMDtcclxuXHRcdFx0XHQkc2NvcGUubmdNb2RlbCA9IGl0ZW1zQXJyYXlbaWR4XTtcclxuXHRcdFx0XHR1cGRhdGVTaG9ydGN1dCgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvL1xyXG5cdFx0XHQkc2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0cnMubmdNb2RlbCwgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xyXG5cdFx0XHRcdGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dmFsaWRhdGVWYWx1ZShuZXdWYWx1ZSk7XHJcblx0XHRcdFx0dXBkYXRlU2hvcnRjdXQobmV3VmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFsaWRhdGVWYWx1ZSgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdHVwZGF0ZVNob3J0Y3V0KCRzY29wZS5uZ01vZGVsKTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgpID0+IG5ldyBJemVuZGFBbGlnblN3aXRjaGVyKCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFtdO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFBbGlnblN3aXRjaGVyJywgW0l6ZW5kYUFsaWduU3dpdGNoZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQXV0b2NvbXBsZXRlU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG5nTW9kZWw6IHN0cmluZztcclxuXHRhdXRvY29tcGxldGVJdGVtczogYW55O1xyXG5cdHVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdXRvY29tcGxldGUgZGlyZWN0aXZlLiBVc2VzIFwidGFnaXRcIi4gQXBwbHllZCBmb3IgPGlucHV0IGl6ZW5kYS1hdXRvY29tcGxldGU+IGVsZW1lbnQuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFBdXRvY29tcGxldGUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRyZXF1aXJlID0gJ25nTW9kZWwnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0YXV0b2NvbXBsZXRlSXRlbXM6ICc9JyxcclxuXHRcdHVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zOiAnJidcclxuXHR9O1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQXV0b2NvbXBsZXRlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQXV0b2NvbXBsZXRlLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUF1dG9jb21wbGV0ZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENyZWF0ZSBhcnJheSB3aXRoIGF1dG9jb21wbGV0ZSBpdGVtIHRleHRzXHJcblx0XHRcdCAqIEBwYXJhbSB7QXJyYXk8b2JqZWN0Pn0gaXRlbXMuXHJcblx0XHRcdCAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fS5cclxuXHRcdFx0ICovXHJcblx0XHRcdGxldCBwcmVwYXJlU291cmNlID0gKGl0ZW1zOiBhbnlbXSk6IHN0cmluZ1tdID0+IHtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShpdGVtcykgfHwgIWl0ZW1zLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybiBbXTtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbXNcclxuXHRcdFx0XHRcdC5maWx0ZXIoaXRlbSA9PiBhbmd1bGFyLmlzT2JqZWN0KGl0ZW0pKVxyXG5cdFx0XHRcdFx0Lm1hcChpdGVtID0+IGl0ZW1bJ3RleHQnXSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIGNvbXBvbmVudFxyXG5cdFx0XHQkZWxlbWVudC52YWwoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHQkZWxlbWVudFsndGFnaXQnXSh7XHJcblx0XHRcdFx0dGFnU291cmNlOiAocmVxLCByZXNwb25zZUZ1bmN0aW9uKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUudXBkYXRlQXV0b2NvbXBsZXRlSXRlbXMpKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR2YXIgcG9zc2libGVUZXh0ID0gcmVxLnRlcm0uc3BsaXQoLyxcXHMqLykucG9wKCk7XHJcblx0XHRcdFx0XHQvLyB1cGRhdGUgc3VnZ2VzdGVkIGl0ZW1zOlxyXG5cdFx0XHRcdFx0JHNjb3BlLnVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zKHsgYXJnMDogcG9zc2libGVUZXh0IH0pLnRoZW4obmV3RXhpc3RlbnRWYWx1ZXNMaXN0ID0+IHtcclxuXHRcdFx0XHRcdFx0dmFyIGl0ZW1zID0gcHJlcGFyZVNvdXJjZShuZXdFeGlzdGVudFZhbHVlc0xpc3QgYXMgYW55W10pO1xyXG5cdFx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSBpdGVtc1xyXG5cdFx0XHRcdFx0XHRcdC5maWx0ZXIoaXRlbSA9PiAhIWl0ZW0gJiYgaXRlbSAhPSAnLi4uJylcclxuXHRcdFx0XHRcdFx0XHQubWFwKGl0ZW0gPT4gaXRlbS5yZXBsYWNlQWxsKCcjfHwjJywgJywnKSk7XHJcblx0XHRcdFx0XHRcdHJlc3BvbnNlRnVuY3Rpb24ocmVzdWx0KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y2FzZVNlbnNpdGl2ZTogdHJ1ZSxcclxuXHRcdFx0XHRhbGxvd0R1cGxpY2F0ZXM6IGZhbHNlLFxyXG5cdFx0XHRcdHNpbmdsZUZpZWxkRGVsaW1pdGVyOiBqc1Jlc291cmNlcy5saXRlcmFsQ29tbWEsXHJcblx0XHRcdFx0cHJvY2Vzc1ZhbHVlc0ZvclNpbmdsZUZpZWxkOiB0YWdzID0+IHRhZ3MubWFwKHRhZyA9PiB0YWcucmVwbGFjZUFsbCgnLCcsICcjfHwjJykpLFxyXG5cdFx0XHRcdHByb2Nlc3NWYWx1ZXNGcm9tU2luZ2xlRmllbGQ6IHRhZ3MgPT4gdGFncy5tYXAodGFnID0+IHRhZy5yZXBsYWNlQWxsKCcjfHwjJywgJywnKSlcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBhZGQgd2F0Y2hlcnNcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWx1ZSkgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3VmFsdWUpXHJcblx0XHRcdFx0XHQkZWxlbWVudFsndGFnaXQnXSgncmVtb3ZlQWxsJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHQkZWxlbWVudFsndGFnaXQnXSgncmVtb3ZlQWxsJyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgpID0+IG5ldyBJemVuZGFBdXRvY29tcGxldGUoKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gW107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFBdXRvY29tcGxldGUnLCBbSXplbmRhQXV0b2NvbXBsZXRlLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGNvbGxhcHNlZDogYm9vbGVhbjtcclxuXHR1c2VEZWxheTogYm9vbGVhbjtcclxuXHRvbkNvbXBsZXRlOiAoYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQ29sbGFwc2libGUgY29udGFpbmVyIGRpcmVjdGl2ZS5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRjb2xsYXBzZWQ6ICc9JyxcclxuXHRcdHVzZURlbGF5OiAnPScsXHJcblx0XHRvbkNvbXBsZXRlOiAnJidcclxuXHR9O1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwQ29sbGFwc2VTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFCb290c3RyYXBDb2xsYXBzZS5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBDb2xsYXBzZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogSW52b2tlIGNvbXBsZXRlIGhhbmRsZXIuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBjb2xsYXBzZUNvbXBsZXRlZCA9IHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25Db21wbGV0ZSkpIHtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNvbXBsZXRlKHtcclxuXHRcdFx0XHRcdFx0Y29sbGFwc2VkOiByZXN1bHRcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZScpO1xyXG5cdFx0XHRpZiAoJHNjb3BlLmNvbGxhcHNlZClcclxuXHRcdFx0XHQkZWxlbWVudC5hZGRDbGFzcygnaW4nKTtcclxuXHRcdFx0JGVsZW1lbnRbJ2NvbGxhcHNlJ10oKTsgLy8gY2FsbCBib290c3RyYXAganF1ZXJ5X2VsZW1lbnQuY29sbGFwc2UoKSBtZXRob2QuXHJcblxyXG5cdFx0XHQvLyBhZGQgZXZlbnQgY29sbGFwc2UgaGFuZGxlcnNcclxuXHRcdFx0JGVsZW1lbnQub24oJ2hpZGRlbi5icy5jb2xsYXBzZScsICgpID0+IGNvbGxhcHNlQ29tcGxldGVkKHRydWUpKTtcclxuXHRcdFx0JGVsZW1lbnQub24oJ3Nob3duLmJzLmNvbGxhcHNlJywgKCkgPT4gY29sbGFwc2VDb21wbGV0ZWQoZmFsc2UpKTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGZvciBjb2xsYXBzZWQgc3RhdGUgY2hhbmdlXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2NvbGxhcHNlZCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoJHNjb3BlLnVzZURlbGF5KVxyXG5cdFx0XHRcdFx0JHRpbWVvdXQoKCkgPT4gJGVsZW1lbnRbJ2NvbGxhcHNlJ10oJHNjb3BlLmNvbGxhcHNlZCA/ICdoaWRlJyA6ICdzaG93JyksIDEwMDApO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRlbGVtZW50Wydjb2xsYXBzZSddKCRzY29wZS5jb2xsYXBzZWQgPyAnaGlkZScgOiAnc2hvdycpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgSXplbmRhQm9vdHN0cmFwQ29sbGFwc2UoJHRpbWVvdXQpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcENvbGxhcHNlJywgWyckdGltZW91dCcsIEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlLmZhY3RvcnkoKV0pO1xyXG5cclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwVG9vbHRpcFNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0b29sdGlwSXRlbXM6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvb2x0aXAgZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBUb29sdGlwIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0b29sdGlwSXRlbXM6ICc9J1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcFRvb2x0aXBTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwVG9vbHRpcC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBUb29sdGlwU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3Rvb2x0aXBJdGVtcycsIChuZXdWYWw6IGFueVtdKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkobmV3VmFsKSkge1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuYXR0cigndGl0bGUnLCAnJyk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciByZXN1bHQgPSAnJztcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5ld1ZhbC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKG5ld1ZhbC5sZW5ndGggPiAxKVxyXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gaSArICcuICc7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gbmV3VmFsW2ldLm1lc3NhZ2UgKyAnPGJyLz4nO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkZWxlbWVudC5hdHRyKCd0aXRsZScsIHJlc3VsdCk7XHJcblx0XHRcdFx0JGVsZW1lbnRbJ3Rvb2x0aXAnXSgnaGlkZScpXHJcblx0XHRcdFx0XHQuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsIG5ld1ZhbClcclxuXHRcdFx0XHRcdC50b29sdGlwKCd1cGRhdGUnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcFRvb2x0aXAoKTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFCb290c3RyYXBUb29sdGlwJywgW0l6ZW5kYUJvb3RzdHJhcFRvb2x0aXAuZmFjdG9yeSgpXSk7XHJcblxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFCb290c3RyYXBEcm9wZG93blNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRvcGVuZWQ6IGJvb2xlYW47XHJcblx0YXR0YWNoVG9FbGVtZW50OiBzdHJpbmc7XHJcblx0d2lkdGg6IG51bWJlcjtcclxuXHRoZWlnaHQ6IG51bWJlcjtcclxuXHRvbk9wZW46ICguLi5hbnkpID0+IHZvaWQ7XHJcblx0b25DbG9zZTogKC4uLmFueSkgPT4gdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJvb3RzdHJhcCBkcm9wZG93biBkaXJlY3RpdmVcclxuICovXHJcbmNsYXNzIEl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnRSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRvcGVuZWQ6ICc9JyxcclxuXHRcdGF0dGFjaFRvRWxlbWVudDogJ0AnLFxyXG5cdFx0d2lkdGg6ICdAJyxcclxuXHRcdGhlaWdodDogJ0AnLFxyXG5cdFx0b25PcGVuOiAnJicsXHJcblx0XHRvbkNsb3NlOiAnJidcclxuXHR9O1xyXG5cdHRlbXBsYXRlID1cclxuXHRcdGA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj5cclxuXHQ8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudSBpemVuZGEtY29tbW9uLWRyb3Bkb3duLXN0cm9uZy1zaGFkb3cgZHJvcGRvd24tbm8tY2xvc2Utb24tY2xpY2tcIlxyXG5cdFx0bmctY2xpY2s9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1kcm9wZG93bi10cmlhbmdsZVwiPjwvZGl2PlxyXG5cdFx0PGRpdiBuZy1zdHlsZT1cIntcXCd3aWR0aFxcJzogd2lkdGgsIFxcJ2hlaWdodFxcJzogaGVpZ2h0fVwiPlxyXG5cdFx0XHQ8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQ8L2Rpdj5cclxuPC9kaXY+YDtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwRHJvcGRvd25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwRHJvcGRvd24ucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwRHJvcGRvd25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cdFx0XHRjb25zdCBpZCA9ICgnJyArIE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKTtcclxuXHRcdFx0Y29uc3Qgc2Nyb2xsRXZlbnRJZCA9ICdzY3JvbGwuaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nICsgaWQ7XHJcblx0XHRcdGNvbnN0IHJlc2l6ZUV2ZW50SWQgPSAncmVzaXplLml6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJyArIGlkO1xyXG5cdFx0XHRjb25zdCBrZXlFdmVudElkID0gJ2tleXVwLml6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJyArIGlkO1xyXG5cclxuXHRcdFx0Y29uc3QgJGRyb3Bkb3duID0gJGVsZW1lbnQuZmluZCgnLmRyb3Bkb3duJyk7XHJcblx0XHRcdGNvbnN0ICRtZW51ID0gJGVsZW1lbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnKTtcclxuXHJcblx0XHRcdCRkcm9wZG93bi5maW5kKCcuaXplbmRhLWNvbW1vbi1kcm9wZG93bi10cmlhbmdsZScpLm9uKCdjbGljaycsICgpID0+IGNsb3NlKCkpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oc2Nyb2xsRXZlbnRJZCwgKCkgPT4gY2xvc2UoKSk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbihyZXNpemVFdmVudElkLCAoKSA9PiBjbG9zZSgpKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKGtleUV2ZW50SWQsIGV2ZW50ID0+IHtcclxuXHRcdFx0XHQvLyBlc2MgYnV0dG9uIGhhbmRsZXJcclxuXHRcdFx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PSAyNyAmJiAkc2NvcGUub3BlbmVkKSB7XHJcblx0XHRcdFx0XHRjbG9zZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdvcGVuZWQnLCAobmV3VmFsOiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbCAmJiAhJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpXHJcblx0XHRcdFx0XHRvcGVuKCk7XHJcblx0XHRcdFx0aWYgKCFuZXdWYWwgJiYgJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpXHJcblx0XHRcdFx0XHRjbG9zZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIG9wZW4oKSB7XHJcblx0XHRcdFx0Y29uc3QgJGF0dGFjaFRvRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuYXR0YWNoVG9FbGVtZW50KTtcclxuXHRcdFx0XHRjb25zdCAkdGlsZSA9ICRhdHRhY2hUb0VsZW1lbnQuY2xvc2VzdCgnLml6LWRhc2gtdGlsZScpO1xyXG5cdFx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdCRtZW51LmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcclxuXHRcdFx0XHQkbWVudS5jc3MoJ3otaW5kZXgnLCA5OTk5KTtcclxuXHRcdFx0XHRsZXQgbGVmdCA9ICR0aWxlLndpZHRoKCkgLSAkbWVudS53aWR0aCgpIC0gMTY7XHJcblx0XHRcdFx0bGV0IGRlbHRhID0gMDtcclxuXHRcdFx0XHRpZiAobGVmdCA8IDApIHtcclxuXHRcdFx0XHRcdGRlbHRhID0gLWxlZnQ7XHJcblx0XHRcdFx0XHRsZWZ0ID0gMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29uc3QgdG9wID0gNDQ7XHJcblx0XHRcdFx0JG1lbnUuY2hpbGRyZW4oJy5pemVuZGEtY29tbW9uLWRyb3Bkb3duLXRyaWFuZ2xlJykuY3NzKCdsZWZ0JywgJG1lbnUud2lkdGgoKSAtIGRlbHRhIC0gNTgpO1xyXG5cdFx0XHRcdCRtZW51LmNzcyh7XHJcblx0XHRcdFx0XHRsZWZ0OiBsZWZ0ICsgJ3B4JyxcclxuXHRcdFx0XHRcdHRvcDogdG9wICsgJ3B4J1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uT3BlbikpXHJcblx0XHRcdFx0XHQkc2NvcGUub25PcGVuKHt9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2xvc2UoKSB7XHJcblx0XHRcdFx0JGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JG1lbnUuZGF0YSgnb3BlbicsIGZhbHNlKTtcclxuXHRcdFx0XHQkc2NvcGUub3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25DbG9zZSkpXHJcblx0XHRcdFx0XHQkc2NvcGUub25DbG9zZSh7fSk7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZihzY3JvbGxFdmVudElkKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKHJlc2l6ZUV2ZW50SWQpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoa2V5RXZlbnRJZCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duKCR3aW5kb3cpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJywgWyckd2luZG93JywgSXplbmRhQm9vdHN0cmFwRHJvcGRvd24uZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQ29sb3JQaWNrZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdNb2RlbDogYW55O1xyXG5cdGlubGluZTogYW55O1xyXG5cdGFkZGl0aW9uYWxDbGFzczogYW55O1xyXG5cdGNvbG9yOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2xvciBwaWNrZXIgZGlyZWN0aXZlLiBSZXF1aXJlcyBcImpxdWVyeS1taW5pY29sb3JzXCIgalF1ZXJ5IHBsdWdpbi4gVXNhZ2U6XHJcbiAqIDxpemVuZGEtY29sb3ItcGlja2VyIG5nLW1vZGVsPVwiLi4uXCI+PC9pemVuZGEtY29sb3ItcGlja2VyPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQ29sb3JQaWNrZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdG5nTW9kZWw6ICc9JyxcclxuXHRcdGlubGluZTogJ0AnLFxyXG5cdFx0YWRkaXRpb25hbENsYXNzOiAnQCdcclxuXHR9O1xyXG5cdHRlbXBsYXRlID0gJzxpbnB1dCBjbGFzcz1cIm1pbmljb2xvcnMgZm9ybS1jb250cm9sXCIgbmctY2xhc3M9XCJhZGRpdGlvbmFsQ2xhc3NcIj48L2lucHV0Pic7XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUNvbG9yUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUNvbG9yUGlja2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUNvbG9yUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdGNvbnN0ICRpbnB1dCA9ICRlbGVtZW50LmZpbmQoJ2lucHV0Lm1pbmljb2xvcnMnKTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGFjdGl2ZSBpdGVtIGNoYW5nZWRcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWw6IHN0cmluZywgb2xkVmFsOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09PSBvbGRWYWwpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0JGlucHV0LnZhbChuZXdWYWwpO1xyXG5cdFx0XHRcdCRpbnB1dFsnbWluaWNvbG9ycyddKCd2YWx1ZScsIG5ld1ZhbCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aW5pdGlhbGl6ZUNvbnRyb2woKTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHQkaW5wdXQucmVtb3ZlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbnRyb2woKSB7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHQkaW5wdXQudmFsKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSh7XHJcblx0XHRcdFx0XHRpbmxpbmU6ICRzY29wZS5pbmxpbmUgPT09ICd0cnVlJyxcclxuXHRcdFx0XHRcdGxldHRlcmNhc2U6ICdsb3dlcmNhc2UnLFxyXG5cdFx0XHRcdFx0dGhlbWU6ICdib290c3RyYXAnLFxyXG5cdFx0XHRcdFx0Y29sb3I6ICRzY29wZS5jb2xvcixcclxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnYm90dG9tIHJpZ2h0JyxcclxuXHRcdFx0XHRcdGNoYW5nZTogaGV4ID0+IHtcclxuXHRcdFx0XHRcdFx0dmFyIHZhbCA9IFN0cmluZygkaW5wdXQudmFsKCkpO1xyXG5cdFx0XHRcdFx0XHRpZiAodmFsLm1hdGNoKC9eI3swLDF9WzAtOWEtZl17Nn0kL2dpKSkge1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5uZ01vZGVsID0gaGV4O1xyXG5cdFx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnLml6LWRhc2gtYmFja2dyb3VuZCcpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhleCk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0JGVsZW1lbnQuZmluZCgnLm1pbmljb2xvcnMtZ3JpZCwgLm1pbmljb2xvcnMtc2xpZGVyJykuY2xpY2soZSA9PiB7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFDb2xvclBpY2tlcigpO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFDb2xvclBpY2tlcicsIFtJemVuZGFDb2xvclBpY2tlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5cclxudHlwZSBJemVuZGFEYXRlVGltZVBpY2tlckRhdGVQYXJ0ID0gJ2RhdGUnIHwgJ3RpbWUnIHwgJ2RhdGV0aW1lJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bW9kZWw6IGFueTtcclxuXHRuZ0Rpc2FibGVkOiBhbnk7XHJcblx0ZGF0ZUZvcm1hdDogYW55O1xyXG5cdGxvY2FsZTogYW55O1xyXG5cdGRhdGVwYXJ0OiBJemVuZGFEYXRlVGltZVBpY2tlckRhdGVQYXJ0O1xyXG5cdHNob3dBZGRpdGlvbmFsQnV0dG9uczogYW55O1xyXG5cdGh0bWxDb250YWluZXJTZWxlY3RvcjogYW55O1xyXG5cdG9uQ2hhbmdlOiBhbnk7XHJcblx0ZGF0ZVRpbWVQaWNrZXI6IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFEYXRlVGltZVBpY2tlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRGF0ZVRpbWVQaWNrZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRyZXF1aXJlID0gJ25nTW9kZWwnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bW9kZWw6ICc9bmdNb2RlbCcsXHJcblx0XHRuZ0Rpc2FibGVkOiAnPScsXHJcblx0XHRkYXRlRm9ybWF0OiAnPScsXHJcblx0XHRsb2NhbGU6ICc9JyxcclxuXHRcdGRhdGVwYXJ0OiAnPScsXHJcblx0XHRzaG93QWRkaXRpb25hbEJ1dHRvbnM6ICdAJyxcclxuXHRcdGh0bWxDb250YWluZXJTZWxlY3RvcjogJ0AnLFxyXG5cdFx0b25DaGFuZ2U6ICcmJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgLz5cclxuPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxyXG5cdDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uLWNhbGVuZGFyIGdseXBoaWNvblwiPjwvc3Bhbj5cclxuPC9zcGFuPmA7XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0YXR0cnM6IG5nLklBdHRyaWJ1dGVzLCBuZ01vZGVsQ3RybDogbmcuSUNvbnRyb2xsZXIpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0Ly8gY2hhbmdlIHRlbXBsYXRlIGlmIHJlc29sdXRpb24gaXMgdG9vIGxvd1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdHRoaXMudGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tZGF0ZS1waWNrZXItaW5saW5lXCIvPic7XHJcblxyXG5cclxuXHRcdEl6ZW5kYURhdGVUaW1lUGlja2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0XHRhdHRyczogbmcuSUF0dHJpYnV0ZXMsIG5nTW9kZWxDdHJsOiBuZy5JQ29udHJvbGxlcikgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgdWlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCk7XHJcblx0XHRcdGNvbnN0ICRpbnB1dCA9ICRlbGVtZW50LmNoaWxkcmVuKCdpbnB1dCwuaXplbmRhLWNvbW1vbi1kYXRlLXBpY2tlci1pbmxpbmUnKTtcclxuXHRcdFx0Y29uc3QgJGJ0biA9ICRlbGVtZW50LmNoaWxkcmVuKCcuaW5wdXQtZ3JvdXAtYWRkb24nKTtcclxuXHRcdFx0Y29uc3QgaXNTbWFsbFJlc29sdXRpb24gPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHRcdFx0Y29uc3QgZ2V0UGlja2VyOiAoKSA9PiBhbnkgPSAoKSA9PiAkaW5wdXQuZGF0YSgnRGF0ZVRpbWVQaWNrZXInKTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDcmVhdGUgbmV3IGRhdGUgb2JqZWN0IGJhc2VkIG9uIGJhc2VEYXRlIHdpdGggdXBkYXRlZCBmcm9tIHRoZSBuZXdEYXRlIGRhdGUgb3IgdGltZSBvciBib3RoLlxyXG5cdFx0XHQgKiBAcGFyYW0ge0RhdGV9IGJhc2VEYXRlIGN1cnJlbnQgZGF0ZVxyXG5cdFx0XHQgKiBAcGFyYW0ge0RhdGV9IG5ld0RhdGUgdXBkYXRlZCBkYXRlXHJcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlcGFydCB3aGF0IHBhcnQgd2lsbCBiZSB1cGRhdGVkOiAnXCJkYXRlXCJ8XCJ0aW1lXCJ8XCJkYXRldGltZVwiJ1xyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgZ2V0VXBkYXRlZERhdGVWYWx1ZSA9IChiYXNlRGF0ZSwgbmV3RGF0ZSwgZGF0ZXBhcnQpID0+IHtcclxuXHRcdFx0XHRpZiAoIWJhc2VEYXRlKVxyXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBEYXRlKG5ld0RhdGUpO1xyXG5cclxuXHRcdFx0XHR2YXIgY3VyckRhdGUgPSBuZXcgRGF0ZShiYXNlRGF0ZSk7XHJcblx0XHRcdFx0aWYgKGRhdGVwYXJ0ID09PSAnZGF0ZXRpbWUnKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZSA9IG5ldyBEYXRlKG5ld0RhdGUpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0ZXBhcnQgPT09ICdkYXRlJykge1xyXG5cdFx0XHRcdFx0Y3VyckRhdGUgPSBuZXcgRGF0ZShcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRGdWxsWWVhcigpLFxyXG5cdFx0XHRcdFx0XHRuZXdEYXRlLmdldE1vbnRoKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0RGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRIb3VycygpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRNaW51dGVzKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldFNlY29uZHMoKSxcclxuXHRcdFx0XHRcdFx0MCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChkYXRlcGFydCA9PT0gJ3RpbWUnKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZSA9IG5ldyBEYXRlKFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRGdWxsWWVhcigpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRNb250aCgpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXREYXRlKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0SG91cnMoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRNaW51dGVzKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0U2Vjb25kcygpLFxyXG5cdFx0XHRcdFx0XHQwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJEYXRlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2V0IGRhdGUgdG8gdGhlIHBpY2tlclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3Qgc2V0RGF0ZSA9IG5ld0RhdGUgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3RGF0ZSlcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRhdGUobnVsbCk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUobmV3RGF0ZSkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kYXRlKGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBuZXdEYXRlLCAkc2NvcGUuZGF0ZXBhcnQpKTtcclxuXHRcdFx0XHRlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKG5ld0RhdGUpKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGF0ZShnZXRVcGRhdGVkRGF0ZVZhbHVlKCRzY29wZS5tb2RlbCwgbmV3IERhdGUobmV3RGF0ZSksICRzY29wZS5kYXRlcGFydCkpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRocm93IGBVbmtub3duIGRhdGUgdHlwZTogJHt0eXBlb2YgKG5ld0RhdGUpfWA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBFbmFibGUvRGlzYWJsZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldERpc2FibGVkID0gaXNEaXNhYmxlZCA9PiB7XHJcblx0XHRcdFx0aWYgKGlzRGlzYWJsZWQpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kaXNhYmxlKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZW5hYmxlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBseSBkYXRlIGZvcm1hdCBpbiB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXRGb3JtYXQgPSBmb3JtYXQgPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmb3JtYXQpKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZm9ybWF0KGZhbHNlKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5mb3JtYXQoZm9ybWF0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IGxvY2FsZSBpbiB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXRMb2NhbGUgPSBsb2NhbGUgPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhsb2NhbGUpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGdldFBpY2tlcigpLmxvY2FsZShsb2NhbGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgZGF0ZSBwaWNrZXIgY29uZmlnIGpzb25cclxuXHRcdFx0dmFyIGNvbmZpZyA9IHt9O1xyXG5cdFx0XHRpZiAoJHNjb3BlLnNob3dBZGRpdGlvbmFsQnV0dG9ucyA9PT0gJ3RydWUnKSB7XHJcblx0XHRcdFx0Y29uZmlnID0ge1xyXG5cdFx0XHRcdFx0c2hvd1RvZGF5QnV0dG9uOiB0cnVlLFxyXG5cdFx0XHRcdFx0c2hvd0NsZWFyOiB0cnVlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChjb25maWcsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0bG9jYWxlOiAkc2NvcGUubG9jYWxlLFxyXG5cdFx0XHRcdFx0aW5saW5lOiBpc1NtYWxsUmVzb2x1dGlvbixcclxuXHRcdFx0XHRcdHdpZGdldFBhcmVudDogaXNTbWFsbFJlc29sdXRpb24gPyBudWxsIDogYW5ndWxhci5lbGVtZW50KCRzY29wZS5odG1sQ29udGFpbmVyU2VsZWN0b3IpLFxyXG5cdFx0XHRcdFx0dG9vbGJhclBsYWNlbWVudDogJ2JvdHRvbScsXHJcblx0XHRcdFx0XHR3aWRnZXRQb3NpdGlvbmluZzoge1xyXG5cdFx0XHRcdFx0XHR2ZXJ0aWNhbDogJ2JvdHRvbSdcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR0b29sdGlwczoge1xyXG5cdFx0XHRcdFx0XHR0b2RheTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfR29Ub1RvZGF5JywgJ0dvIHRvIHRvZGF5JyksXHJcblx0XHRcdFx0XHRcdGNsZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19DbGVhclNlbGVjdGlvbicsICdDbGVhciBzZWxlY3Rpb24nKSxcclxuXHRcdFx0XHRcdFx0Y2xvc2U6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Nsb3NlUGlja2VyJywgJ0Nsb3NlIHRoZSBwaWNrZXInKSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0TW9udGg6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdE1vbnRoJywgJ1NlbGVjdCBNb250aCcpLFxyXG5cdFx0XHRcdFx0XHRwcmV2TW9udGg6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzTW9udGgnLCAnUHJldmlvdXMgTW9udGgnKSxcclxuXHRcdFx0XHRcdFx0bmV4dE1vbnRoOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXh0TW9udGgnLCAnTmV4dCBNb250aCcpLFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RZZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TZWxlY3RZZWFyJywgJ1NlbGVjdCBZZWFyJyksXHJcblx0XHRcdFx0XHRcdHByZXZZZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19QcmV2aW91c1llYXInLCAnUHJldmlvdXMgWWVhcicpLFxyXG5cdFx0XHRcdFx0XHRuZXh0WWVhcjogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTmV4dFllYXInLCAnTmV4dCBZZWFyJyksXHJcblx0XHRcdFx0XHRcdHNlbGVjdERlY2FkZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2VsZWN0RGVjYWRlJywgJ1NlbGVjdCBEZWNhZGUnKSxcclxuXHRcdFx0XHRcdFx0cHJldkRlY2FkZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJldmlvdXNEZWNhZGUnLCAnUHJldmlvdXMgRGVjYWRlJyksXHJcblx0XHRcdFx0XHRcdG5leHREZWNhZGU6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05leHREZWNhZGUnLCAnTmV4dCBEZWNhZGUnKSxcclxuXHRcdFx0XHRcdFx0cHJldkNlbnR1cnk6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzQ2VudHVyeScsICdQcmV2aW91cyBDZW50dXJ5JyksXHJcblx0XHRcdFx0XHRcdG5leHRDZW50dXJ5OiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXh0Q2VudHVyeScsICdOZXh0IENlbnR1cnknKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHQvLyBjcmVhdGUgcGlja2VyXHJcblx0XHRcdCRzY29wZS5kYXRlVGltZVBpY2tlciA9ICRpbnB1dFsnZGF0ZXRpbWVwaWNrZXInXShjb25maWcpO1xyXG5cclxuXHRcdFx0Ly8gZGF0ZSBwaWNrZXIgJ29uIHNob3cnIGhhbmRsZXJcclxuXHRcdFx0JGlucHV0Lm9uKCdkcC5zaG93JywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1NtYWxsUmVzb2x1dGlvbilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHdpZGdldCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuaHRtbENvbnRhaW5lclNlbGVjdG9yICsgJyA+IC5ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXItd2lkZ2V0Jyk7XHJcblx0XHRcdFx0JHdpZGdldC5zaG93KCk7XHJcblx0XHRcdFx0JHdpZGdldC5jc3Moe1xyXG5cdFx0XHRcdFx0dG9wOiAkaW5wdXQub2Zmc2V0KCkudG9wIC0gJHdpZGdldC5wYXJlbnQoKS5vZmZzZXQoKS50b3AgKyAkaW5wdXQuaGVpZ2h0KCkgKyAyMCxcclxuXHRcdFx0XHRcdGxlZnQ6ICRpbnB1dC5vZmZzZXQoKS5sZWZ0IC0gJHdpZGdldC5wYXJlbnQoKS5vZmZzZXQoKS5sZWZ0XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2luZG93IHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplLmRwJyArIHVpZCwgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1NtYWxsUmVzb2x1dGlvbilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHdpZGdldCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuaHRtbENvbnRhaW5lclNlbGVjdG9yICsgJyA+IC5ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXItd2lkZ2V0Jyk7XHJcblx0XHRcdFx0JHdpZGdldC5oaWRlKCk7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4gJGlucHV0LmJsdXIoKSwgMTApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRidG4ub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghJHNjb3BlLm5nRGlzYWJsZWQpXHJcblx0XHRcdFx0XHQkaW5wdXQuZm9jdXMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCB2YXJpYWJsZXM6XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nRGlzYWJsZWQnLCBuZXdWYWwgPT4gc2V0RGlzYWJsZWQobmV3VmFsKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2RhdGVGb3JtYXQnLCBuZXdWYWwgPT4gc2V0Rm9ybWF0KG5ld1ZhbCkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdsb2NhbGUnLCBuZXdWYWwgPT4gc2V0TG9jYWxlKG5ld1ZhbCkpO1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSB2YWx1ZXNcclxuXHRcdFx0c2V0RGlzYWJsZWQoJHNjb3BlLm5nRGlzYWJsZWQpO1xyXG5cdFx0XHRzZXRGb3JtYXQoJHNjb3BlLmRhdGVGb3JtYXQpO1xyXG5cdFx0XHRzZXRMb2NhbGUoJHNjb3BlLmxvY2FsZSk7XHJcblxyXG5cdFx0XHRpZiAobmdNb2RlbEN0cmwpIHtcclxuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKCdtb2RlbCcsIG5ld1ZhbCA9PiBzZXREYXRlKG5ld1ZhbCkpO1xyXG5cdFx0XHRcdCR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdG5nTW9kZWxDdHJsLiRyZW5kZXIgPSAoKSA9PiBzZXREYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQkaW5wdXQub24oJ2RwLmNoYW5nZScsIGUgPT4ge1xyXG5cdFx0XHRcdFx0dmFyIG5ld0RhdGVWYWx1ZSA9IGVbJ2RhdGUnXSA/IGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBlWydkYXRlJ10udG9EYXRlKCksICRzY29wZS5kYXRlcGFydCkgOiBudWxsO1xyXG5cdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXdEYXRlVmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZS5kcCcgKyB1aWQpO1xyXG5cdFx0XHRcdHZhciBwaWNrZXIgPSBnZXRQaWNrZXIoKTtcclxuXHRcdFx0XHRpZiAocGlja2VyKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGVzdHJveSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRcdCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRcdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkgPT5cclxuXHRcdFx0bmV3IEl6ZW5kYURhdGVUaW1lUGlja2VyKCR3aW5kb3csICR0aW1lb3V0LCAkaXplbmRhTG9jYWxlU2VydmljZSwgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhRGF0ZVRpbWVQaWNrZXInLFxyXG5cdFsnJHdpbmRvdycsICckdGltZW91dCcsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCBJemVuZGFEYXRlVGltZVBpY2tlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUgZXh0ZW5kcyBuZy5JUm9vdFNjb3BlU2VydmljZSB7XHJcblx0aXNEcmFnZ2luZ05vdzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0YWxsb3dDb2xSZW9yZGVyOiBhbnk7XHJcblx0YWxsb3dlZENvbHVtbnNGb3JSZW9yZGVyOiBhbnk7XHJcblx0cmVwb3J0U2V0T3B0aW9uczogeyBpc1ZnVXNlZDogYm9vbGVhbjsgdmdTdHlsZTogc3RyaW5nLCBzb3J0ZWRBY3RpdmVGaWVsZHM6IGFueVtdIH07XHJcblx0YWxsb3dDb2xSZW1vdmU6IGFueTtcclxuXHRkcm9wcGFibGVBY2NlcHQ6IGFueTtcclxuXHRvblJlb3JkZXI6IGFueTtcclxuXHRvbkhlYWRlckNsaWNrOiBhbnk7XHJcblx0b25QYWdpbmdDbGljazogYW55O1xyXG5cdG9uRHJhZ092ZXI6IGFueTtcclxuXHRvblJlbW92ZTogYW55O1xyXG5cdGVtcHR5VGV4dDogYW55O1xyXG5cdGN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlcjogYW55O1xyXG5cdGh0bWxUZXh0OiBhbnk7XHJcblxyXG5cdHJlb3JkZXJTdGF0ZTogYW55O1xyXG5cdCR0YWJsZTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhUmVwb3J0Vmlld2VyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0YWxsb3dDb2xSZW9yZGVyOiAnQCcsXHJcblx0XHRhbGxvd2VkQ29sdW1uc0ZvclJlb3JkZXI6ICc9JyxcclxuXHRcdHJlcG9ydFNldE9wdGlvbnM6ICc9JyxcclxuXHRcdGFsbG93Q29sUmVtb3ZlOiAnQCcsXHJcblx0XHRkcm9wcGFibGVBY2NlcHQ6ICdAJyxcclxuXHRcdG9uUmVvcmRlcjogJyYnLFxyXG5cdFx0b25IZWFkZXJDbGljazogJyYnLFxyXG5cdFx0b25QYWdpbmdDbGljazogJyYnLFxyXG5cdFx0b25EcmFnT3ZlcjogJyYnLFxyXG5cdFx0b25SZW1vdmU6ICcmJyxcclxuXHRcdGVtcHR5VGV4dDogJz0nLFxyXG5cdFx0Y3VycmVudEluc2VydENvbHVtbk9yZGVyOiAnPScsXHJcblx0XHRodG1sVGV4dDogJz0nXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxkaXYgY2xhc3M9XCJpemVuZGEtcmVwb3J0LXZpZXdlclwiPlxyXG5cdDxkaXYgY2xhc3M9XCJodG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlciBoaWRkZW5cIj48L2Rpdj5cclxuXHQ8ZGl2IGNsYXNzPVwiaHRtbC1jb250YWluZXItbG9hZGluZ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBuZy1iaW5kPVwiOjogJ2pzX0xvYWRpbmcnIHwgaXplbmRhTG9jYWxlOiAnTG9hZGluZy4uLidcIj48L2Rpdj5cclxuXHQ8ZGl2IGlkPVwicmVuZGVyZWRSZXBvcnREaXZcIiBjbGFzcz1cImh0bWwtY29udGFpbmVyXCI+PC9kaXY+XHJcbjwvZGl2PmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclJvb3RTY29wZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhUmVwb3J0Vmlld2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdFx0Ly8gYXBwbHkgdGlsZSBodG1sIGZ1bmN0aW9uXHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyJyk7XHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyTG9hZGluZyA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1sb2FkaW5nJyk7XHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIgPSAkZWxlbWVudC5maW5kKCcuaHRtbC1jb250YWluZXItcGxhY2Vob2xkZXInKTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBQcmVwYXJlIHJlcG9ydCB0YWJsZVxyXG5cdFx0XHQgKiBAcGFyYW0ge2pxdWVyeSBvYmplY3R9ICR0YWJsZSBcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHByb2Nlc3NSZXBvcnRUYWJsZSA9ICgpID0+IHtcclxuXHRcdFx0XHQvLyBwcmVwYXJlIHRhYmxlXHJcblx0XHRcdFx0aWYgKCFJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUlzR29vZCgkc2NvcGUuJHRhYmxlKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkQ29sUmVvcmRlckhhbmRsZXIoJHNjb3BlLCAkdGltZW91dCwgKCRmcm9tLCAkdG8sIGlzVmlzdWFsR3JvdXApID0+IHtcclxuXHRcdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5vblJlb3JkZXIoJHNjb3BlLCAkZnJvbSwgJHRvLCBpc1Zpc3VhbEdyb3VwKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBhZGQgb3RoZXIgaGFuZGxlcnNcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkRHJhZ0hhbmRsZXJzKCRzY29wZSwgJHJvb3RTY29wZSwgJGVsZW1lbnQpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDbGlja0hhbmRsZXIoJHNjb3BlKTtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkQ29sUmVtb3ZlQnV0dG9ucygkc2NvcGUpO1xyXG5cdFx0XHRcdGl6ZW5kYS5yZXBvcnQucmVnaXN0ZXJQb3N0UmVuZGVySGFuZGxlcnMoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBseSByZXBvcnQgY29udGVudCBodG1sXHJcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgYXBwbHlIdG1sID0gKGh0bWw6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdC8vIHNob3cvaGlkZSBsb2FkaW5nIGluZGljYXRvclxyXG5cdFx0XHRcdGlmIChodG1sID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci5oaWRlKCk7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lckxvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci5zaG93KCk7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lckxvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBlbXB0eSByZXN1bHRcclxuXHRcdFx0XHRpZiAodHlwZW9mIChodG1sKSAhPT0gJ3N0cmluZycgfHwgKGh0bWwgJiYgdHlwZW9mIChodG1sKSA9PT0gJ3N0cmluZycgJiYgaHRtbC50cmltKCkgPT09ICcnKSkge1xyXG5cdFx0XHRcdFx0JGh0bWxDb250YWluZXIudGV4dCgkc2NvcGUuZW1wdHlUZXh0KTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGh0bWxDb250YWluZXIuaHRtbChodG1sKTtcclxuXHJcblx0XHRcdFx0Ly8gaXMgcGFnaW5nIGVuYWJsZWRcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJlcGFyZVBhZ2VMaW5rcygkc2NvcGUsICRodG1sQ29udGFpbmVyKTtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJlcGFyZVBhZ2luZ0lucHV0KCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlR29Ub1JlY29yZEJ0bigkc2NvcGUsICRodG1sQ29udGFpbmVyKTtcclxuXHJcblx0XHRcdFx0JHNjb3BlLiR0YWJsZSA9ICRodG1sQ29udGFpbmVyLmZpbmQoJ3RhYmxlW25hbWU9cmVwb3J0VGFibGVdLHRhYmxlLlJlcG9ydFRhYmxlJyk7XHJcblx0XHRcdFx0aWYgKCRzY29wZS4kdGFibGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Ly8gcHJlcGFyZSByZXBvcnQgdGFibGVcclxuXHRcdFx0XHRcdHByb2Nlc3NSZXBvcnRUYWJsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGh0bWxUZXh0IGNoYW5nZSBoYW5kbGVyXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2h0bWxUZXh0JywgKG5ld1ZhbDogc3RyaW5nKSA9PiBhcHBseUh0bWwobmV3VmFsKSk7XHJcblxyXG5cdFx0XHQvLyBpcyBkcmFnZ2luZyBlbmFibGVkIGhhbmRsZXJcclxuXHRcdFx0JHJvb3RTY29wZS4kd2F0Y2goJ2lzRHJhZ2dpbmdOb3cnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3VmFsKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gcnVuXHJcblx0XHRcdGFwcGx5SHRtbCgkc2NvcGUuaHRtbFRleHQpO1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGFueSBraW5kIG9mIHZpc3VhbCBncm91cCBhcHBsaWVkLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGlzVmdBcHBseWVkKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci5pc09iamVjdCgkc2NvcGUucmVwb3J0U2V0T3B0aW9ucylcclxuXHRcdFx0PyAkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy5pc1ZnVXNlZFxyXG5cdFx0XHQ6IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgYXBwbGllZCBBRyBvciBWR0hpZXJhcmNoeS5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBpc1RhYmxlQ29udGFpblZnQ29sdW1ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIEl6ZW5kYVJlcG9ydFZpZXdlci5pc1ZnQXBwbHllZCgkc2NvcGUpICYmXHJcblx0XHRcdFsnQW5hbHlzaXNHcmlkJywgJ1ZHSGllcmFyY2h5J10uaW5kZXhPZigkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy52Z1N0eWxlKSA+PSAwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FsY3VsYXRlIGNvdW50IG9mIHZpc3VhbCBncm91cCBjb2x1bW4uXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2V0Q291bnRPZlZnQ29sdW1ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IG51bWJlciB7XHJcblx0XHRsZXQgY291bnRPZlZnQ29sdW1ucyA9IDA7XHJcblx0XHRpZiAoSXplbmRhUmVwb3J0Vmlld2VyLmlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZSkpIHtcclxuXHRcdFx0dmFyIGZpZWxkc0luVGFibGUgPSAkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy5zb3J0ZWRBY3RpdmVGaWVsZHM7XHJcblx0XHRcdGNvdW50T2ZWZ0NvbHVtbnMgPSBmaWVsZHNJblRhYmxlLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5pc1ZnVXNlZCkubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNvdW50T2ZWZ0NvbHVtbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZmllbGRzIHdoaWNoIGhhdmUgb3duIGNvbHVtbiBpbiBwcmV2aWV3IHRhYmxlXHJcblx0ICogQHJldHVybnMge0FycmF5fSBhcnJheSBvZiBmaWVsZCBvYmplY3RzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGdldENvbHVtbkZpZWxkcygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IGFueVtdIHtcclxuXHRcdGxldCBmaWVsZHNJblRhYmxlOiBhbnlbXTtcclxuXHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSlcclxuXHRcdFx0ZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcztcclxuXHRcdGVsc2VcclxuXHRcdFx0ZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcy5maWx0ZXIoZmllbGQgPT4gIWZpZWxkLmlzVmdVc2VkKTtcclxuXHRcdHJldHVybiBmaWVsZHNJblRhYmxlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgaXNUYWJsZUlzR29vZCgkdGFibGU6IEpRdWVyeTxIVE1MRWxlbWVudD4pOiBib29sZWFuIHtcclxuXHRcdGlmICghJHRhYmxlKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHQvLyBpZiBubyB0YWJsZSBoZWFkZXJzIC0gc3RvcDpcclxuXHRcdHZhciAkdGFibGVIZWFkZXIgPSAkdGFibGUuY2hpbGRyZW4oJ3Rib2R5JykuY2hpbGRyZW4oJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0aWYgKCR0YWJsZUhlYWRlci5sZW5ndGggPT09IDApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdC8vIGNoZWNrIGlmIHRhYmxlIGNvbnRhaW5zIHZpc3VhbCBncm91cHM6XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBjb2wgcmVvcmRlciBoYW5kbGVyLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENvbFJlb3JkZXJIYW5kbGVyKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCBvbkNvbHVtblJlb3JkZXJDb21wbGV0ZWQ6ICguLi5hbnkpID0+IHZvaWQpIHtcclxuXHRcdGlmICgkc2NvcGUuYWxsb3dDb2xSZW9yZGVyICE9PSAndHJ1ZScpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHRjb25zdCBib2R5T25zZWxlY3RzdGFydFNhdmUgPSBTdHJpbmcoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnKSk7XHJcblx0XHRjb25zdCBib2R5VW5zZWxlY3RhYmxlU2F2ZSA9IFN0cmluZyhhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJykpO1xyXG5cdFx0Y29uc3QgZGlzYWJsZVRleHRTZWxlY3Rpb24gPSAoKSA9PiB7XHJcblx0XHRcdC8vIGpRdWVyeSBkb2Vzbid0IHN1cHBvcnQgdGhlIGVsZW1lbnQudGV4dCBhdHRyaWJ1dGUgaW4gTVNJRSA4XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjY5Mjc3MC9zdHlsZS1zdHlsZS10ZXh0Y3NzLWFwcGVuZHRvaGVhZC1kb2VzLW5vdC13b3JrLWluLWllXHJcblx0XHRcdHZhciAkc3R5bGUgPVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChcclxuXHRcdFx0XHRcdCc8c3R5bGUgaWQ9XCJfX2Rpc2FibGVfdGV4dF9zZWxlY3Rpb25fX1wiIHR5cGU9XCJ0ZXh0L2Nzc1wiPmJvZHkgeyAtbXMtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Oi1tb3otbm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTsgfTwvc3R5bGU+Jyk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5hcHBlbmQoJHN0eWxlKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnLCAncmV0dXJuIGZhbHNlOycpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsICdvbicpO1xyXG5cdFx0XHRpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xyXG5cdFx0XHRcdHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTsgLy8gTVNJRSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzU4NjklMjh2PVZTLjg1JTI5LmFzcHhcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNvbnN0IHJlc3RvcmVUZXh0U2VsZWN0aW9uID0gKCkgPT4ge1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNfX2Rpc2FibGVfdGV4dF9zZWxlY3Rpb25fXycpLnJlbW92ZSgpO1xyXG5cdFx0XHRpZiAoYm9keU9uc2VsZWN0c3RhcnRTYXZlKVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCdvbnNlbGVjdHN0YXJ0JywgYm9keU9uc2VsZWN0c3RhcnRTYXZlKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCdvbnNlbGVjdHN0YXJ0Jyk7XHJcblx0XHRcdGlmIChib2R5VW5zZWxlY3RhYmxlU2F2ZSlcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJywgYm9keVVuc2VsZWN0YWJsZVNhdmUpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ3Vuc2VsZWN0YWJsZScpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGNyZWF0ZUhlbHBlciA9IGlubmVyT2Zmc2V0ID0+IHtcclxuXHRcdFx0dmFyICRjZWxsID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbTtcclxuXHRcdFx0dmFyICRjbG9uZSA9ICRjZWxsLmNsb25lKCkud3JhcCgnPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGVscGVyXCI+PC9kaXY+JykucGFyZW50KCk7XHJcblx0XHRcdCRjbG9uZS53aWR0aCgkY2VsbC5vdXRlcldpZHRoKCkpO1xyXG5cdFx0XHQkY2xvbmUuaGVpZ2h0KCRjZWxsLm91dGVySGVpZ2h0KCkpO1xyXG5cdFx0XHQkY2xvbmUuY3NzKCd0b3AnLCAkY2VsbC5wb3NpdGlvbigpLnRvcCk7XHJcblx0XHRcdCRjbG9uZS5jc3MoJ2xlZnQnLCAkY2VsbC5wb3NpdGlvbigpLmxlZnQgKyBpbm5lck9mZnNldCk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGhlbHBlciA9ICRjbG9uZTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5oZWxwZXJPZmZzZXQgPSBpbm5lck9mZnNldDtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5hcHBlbmQoJGNsb25lKTtcclxuXHRcdFx0cmV0dXJuICRjbG9uZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCByZW1vdmVIZWxwZXIgPSAoKSA9PiB7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGhlbHBlci5yZW1vdmUoKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBiZWZvcmVSZW9yZGVyU3RhcnRlZCA9ICgpID0+IHtcclxuXHRcdFx0ZGlzYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5hZGRDbGFzcygnaXplbmRhLXJlb3JkZXItY2VsbC1zZWxlY3RlZCcpO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnByZXZpb3VzUG9zaXRpb24gPSAkc2NvcGUuJHRhYmxlLmNzcygncG9zaXRpb24nKTtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgYWZ0ZXJSZW9yZGVyQ29tcGxldGVkID0gKCkgPT4ge1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLnJlbW92ZUNsYXNzKCdpemVuZGEtcmVvcmRlci1jZWxsLXNlbGVjdGVkJyk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSA9IG51bGw7XHJcblx0XHRcdCRzY29wZS4kdGFibGUuY3NzKCdwb3NpdGlvbicsICRzY29wZS5yZW9yZGVyU3RhdGUucHJldmlvdXNQb3NpdGlvbik7XHJcblx0XHRcdCRzY29wZS4kdGFibGUuZmluZCgnLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0cmVtb3ZlSGVscGVyKCk7XHJcblx0XHRcdHJlc3RvcmVUZXh0U2VsZWN0aW9uKCk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgZ2V0Q3VycmVudEl0ZW1zRm9yUmVvcmRlciA9ICgpID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLml0ZW1zQ2FjaGUpIHtcclxuXHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLml0ZW1zQ2FjaGUgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLnBhcmVudCgpLmNoaWxkcmVuKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBjb21wbGV0ZVJlb3JkZXIgPSAoKSA9PiB7XHJcblx0XHRcdGlmICghJHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdGFmdGVyUmVvcmRlckNvbXBsZXRlZCgpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZCkpIHtcclxuXHRcdFx0XHR2YXIgaXNWZyA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nKSA9PT0gJ3RydWUnO1xyXG5cdFx0XHRcdG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZCgkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLCAkc2NvcGUucmVvcmRlclN0YXRlLiR0bywgaXNWZyk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZSA9IHtcclxuXHRcdFx0c3RhcnRlZDogZmFsc2UsXHJcblx0XHRcdCRmcm9tOiBudWxsXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGFkZCB0YWJsZSBoYW5kbGVyczpcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub2ZmKCdtb3VzZW1vdmUuaXplbmRhQ29sUmVvcmRlcicpO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vZmYoJ21vdXNldXAuaXplbmRhQ29sUmVvcmRlcicpO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vbignbW91c2Vtb3ZlLml6ZW5kYUNvbFJlb3JkZXInLCBlID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50VGFibGVYID0gZS5wYWdlWCAtICRzY29wZS4kdGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0Y29uc3QgaXNGcm9tQ29sdW1uVmcgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJykgPT09ICd0cnVlJztcclxuXHJcblxyXG5cdFx0XHQvLyBoaWdobGlnaHQgY3VycmVudCBjb2x1bW5cclxuXHRcdFx0dmFyICR0ZHMgPSBnZXRDdXJyZW50SXRlbXNGb3JSZW9yZGVyKCk7XHJcblx0XHRcdHZhciAkdG9UZCA9IG51bGw7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0ZHMsIChpVGQsIHRkKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGN1cnJUZCA9IGFuZ3VsYXIuZWxlbWVudCh0ZCk7XHJcblx0XHRcdFx0Y29uc3QgdGRMZWZ0ID0gJGN1cnJUZC5wb3NpdGlvbigpLmxlZnQsIHRkV2lkdGggPSAkY3VyclRkLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHRjb25zdCBpc1RkQ29sdW1uVmcgPSBTdHJpbmcoJGN1cnJUZC5hdHRyKCdkYXRhLWlzLXZnLWNvbHVtbicpKSA9PT0gJ3RydWUnO1xyXG5cdFx0XHRcdGlmICghJGN1cnJUZC5oYXNDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWRpc2FibGVkJykgJiZcclxuXHRcdFx0XHRcdGlzRnJvbUNvbHVtblZnID09PSBpc1RkQ29sdW1uVmcgJiZcclxuXHRcdFx0XHRcdGN1cnJlbnRUYWJsZVggPj0gdGRMZWZ0ICYmXHJcblx0XHRcdFx0XHRjdXJyZW50VGFibGVYIDwgdGRMZWZ0ICsgdGRXaWR0aCkge1xyXG5cdFx0XHRcdFx0JHRvVGQgPSAkY3VyclRkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBpcyAkdG9UZCBjaGFuZ2VkP1xyXG5cdFx0XHRpZiAoJHRvVGQgJiYgKCEkc2NvcGUucmVvcmRlclN0YXRlLiR0byB8fCAkdG9UZC5pbmRleCgpICE9PSAkc2NvcGUucmVvcmRlclN0YXRlLiR0by5pbmRleCgpKSkge1xyXG5cdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJHRvID0gJHRvVGQ7XHJcblxyXG5cdFx0XHRcdCR0ZHMucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJyk7XHJcblx0XHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLiR0by5oYXNDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8uYWRkQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBidWJibGUgaW5uZXIgY29udGVudFxyXG5cdFx0XHRcdGNvbnN0IGZyb21JbmRleCA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uaW5kZXgoKTtcclxuXHRcdFx0XHRjb25zdCB0b0luZGV4ID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8uaW5kZXgoKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkdGRzLCAoaVRkLCB0ZCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGN1cnJUZDIgPSBhbmd1bGFyLmVsZW1lbnQodGQpO1xyXG5cdFx0XHRcdFx0Y29uc3QgJGJhY2t1cHMgPSAkY3VyclRkMi5jaGlsZHJlbignLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRpZiAoJGJhY2t1cHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHQkY3VyclRkMi5jaGlsZHJlbigpLm5vdCgnLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkY3VyclRkMi5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRsZXQgJGN1cnJlbnRUZDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHRcdFx0XHRsZXQgJG5leHRUZDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHRcdFx0XHRsZXQgaTogbnVtYmVyO1xyXG5cdFx0XHRcdGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPCB0b0luZGV4OyBpKyspIHtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2ldKTtcclxuXHRcdFx0XHRcdFx0JG5leHRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2kgKyAxXSk7XHJcblx0XHRcdFx0XHRcdCRjdXJyZW50VGQuY2hpbGRyZW4oKS5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5hcHBlbmQoJG5leHRUZC5jaGlsZHJlbigpLmNsb25lKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPiB0b0luZGV4OyBpLS0pIHtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2ldKTtcclxuXHRcdFx0XHRcdFx0JG5leHRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2kgLSAxXSk7XHJcblx0XHRcdFx0XHRcdCRjdXJyZW50VGQuY2hpbGRyZW4oKS5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5hcHBlbmQoJG5leHRUZC5jaGlsZHJlbigpLmNsb25lKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbW92ZSBoZWxwZXJcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyLmNzcygnbGVmdCcsIGN1cnJlbnRUYWJsZVggLSAkc2NvcGUucmVvcmRlclN0YXRlLmhlbHBlck9mZnNldCk7XHJcblx0XHR9KTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub24oJ21vdXNldXAuaXplbmRhQ29sUmVvcmRlcicsICgpID0+IHtcclxuXHRcdFx0aWYgKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKVxyXG5cdFx0XHRcdCR0aW1lb3V0LmNhbmNlbCgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcik7XHJcblx0XHRcdGNvbXBsZXRlUmVvcmRlcigpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZTpcclxuXHRcdHZhciAkaGVhZGVyUm93cyA9ICRzY29wZS4kdGFibGUuZmluZCgndHIuUmVwb3J0SGVhZGVyJyk7XHJcblxyXG5cdFx0Ly8gZmllbGRzSW5UYWJsZSBzaG91bGQgY29udGFpbiBvbmx5IGZpZWxkcyB3aGljaCBoYXZlIGNvbHVtblxyXG5cdFx0dmFyIGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkaGVhZGVyUm93cywgKGlIZWFkZXJSb3csIHRhYmxlSGVhZGVyKSA9PiB7XHJcblx0XHRcdHZhciAkdGFibGVIZWFkZXIgPSBhbmd1bGFyLmVsZW1lbnQodGFibGVIZWFkZXIpO1xyXG5cdFx0XHRpZiAoJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCcuRW1wdHlDZWxsJykubGVuZ3RoID4gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKSwgKGlDZWxsLCBjZWxsKSA9PiB7XHJcblx0XHRcdFx0dmFyICRjZWxsID0gYW5ndWxhci5lbGVtZW50KGNlbGwpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA8IGZpZWxkc0luVGFibGUubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRpZiAoSXplbmRhUmVwb3J0Vmlld2VyLmlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZSkpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gZmllbGRzSW5UYWJsZVtpQ2VsbF07XHJcblx0XHRcdFx0XHRcdCRjZWxsLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJywgZmllbGQuaXNWZ1VzZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRjZWxsLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJywgJ2ZhbHNlJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gbW91c2UgZG93biBoYW5kbGVyXHJcblx0XHRcdFx0XHQkY2VsbC5vbignbW91c2Vkb3duLml6ZW5kYUNvbFJlb3JkZXInLCBlID0+IHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGlmIChlLndoaWNoICE9PSAxKSByZXR1cm47XHJcblx0XHRcdFx0XHRcdGlmICgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcilcclxuXHRcdFx0XHRcdFx0XHQkdGltZW91dC5jYW5jZWwoJHNjb3BlLnJlb3JkZXJTdGF0ZS5kb3duVGltZXIpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lciA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lciA9ICR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRiZWZvcmVSZW9yZGVyU3RhcnRlZCgpO1xyXG5cdFx0XHRcdFx0XHRcdGNyZWF0ZUhlbHBlcihlLm9mZnNldFgpO1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuc3RhcnRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGNlbGwuYWRkQ2xhc3MoJ2l6ZW5kYS1jb2wtcmVvcmRlci1kaXNhYmxlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlb3JkZXIgY29tcGxldGVkIGhhbmRsZXJcclxuXHQgKiBAcGFyYW0ge2pxdWVyeSBkb20gZWxlbWVudH0gJGZyb20uIEVsZW1lbnQgd2hpY2ggd2UgZHJhZ2dlZFxyXG5cdCAqIEBwYXJhbSB7anF1ZXJ5IGRvbSBlbGVtZW50fSAkdG8uICRmcm9tIGVsZW1lbnQgZHJvcHBlZCB0byB0aGlzIGVsZW1lbnQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgb25SZW9yZGVyKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZnJvbSwgJHRvLCBpc1ZnKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZW9yZGVyKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKCEkdG8gfHwgISRmcm9tKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRsZXQgZnJvbUluZGV4ID0gJGZyb20uaW5kZXgoKTtcclxuXHRcdGxldCB0b0luZGV4ID0gJHRvLmluZGV4KCk7XHJcblx0XHRpZiAoZnJvbUluZGV4ID09PSB0b0luZGV4KVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoIWlzVmcpIHtcclxuXHRcdFx0Y29uc3QgdmdDb2x1bW5zQ291bnQgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q291bnRPZlZnQ29sdW1ucygkc2NvcGUpO1xyXG5cdFx0XHRmcm9tSW5kZXggLT0gdmdDb2x1bW5zQ291bnQ7XHJcblx0XHRcdHRvSW5kZXggLT0gdmdDb2x1bW5zQ291bnQ7XHJcblx0XHR9XHJcblx0XHQkc2NvcGUub25SZW9yZGVyKHsgYXJnMDogZnJvbUluZGV4LCBhcmcxOiB0b0luZGV4LCBhcmcyOiBpc1ZnIH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBkcmFnIGhhbmRsZXJzIHRvIHRhYmxlXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkRHJhZ0hhbmRsZXJzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkge1xyXG5cdFx0Y29uc3QgJGh0bWxDb250YWluZXJQbGFjZWhvbGRlciA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpO1xyXG5cclxuXHRcdC8vIG1vdXNlIG92ZXJcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZygkc2NvcGUuZHJvcHBhYmxlQWNjZXB0KSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgJGN1cnJlbnR0YWJsZSA9ICRzY29wZS4kdGFibGU7XHJcblx0XHRsZXQgY3VycmVudFRhYmxlTGVmdCA9ICRjdXJyZW50dGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuaGVpZ2h0KCRjdXJyZW50dGFibGUuaGVpZ2h0KCkpO1xyXG5cclxuXHRcdGNvbnN0IGNvbHVtbkNvb3JkczogQXJyYXk8eyBsZWZ0OiBudW1iZXI7IHdpZHRoOiBudW1iZXIgfT4gPSBbXTtcclxuXHRcdGNvbnN0ICRjdXJyZW50dGFibGVIZWFkZXIgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpLmxhc3QoKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRjb25zdCAkY3VycmVudHRhYmxlUm93cyA9ICRjdXJyZW50dGFibGVIZWFkZXIuY2hpbGRyZW4oJ3RkJykuc2xpY2UoMCwgZmllbGRzSW5UYWJsZS5sZW5ndGgpO1xyXG5cdFx0Y29uc3QgY291bnRPZlZnQ29sdW1ucyA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZSk7XHJcblxyXG5cdFx0Ly8gY2FsY3VsYXRlIFxyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJGN1cnJlbnR0YWJsZVJvd3MsIChpVGg6IG51bWJlciwgdGg6IGFueSkgPT4ge1xyXG5cdFx0XHR2YXIgJHRoID0gYW5ndWxhci5lbGVtZW50KHRoKTtcclxuXHRcdFx0aWYgKGlUaCA+PSBjb3VudE9mVmdDb2x1bW5zKSB7XHJcblx0XHRcdFx0Y29sdW1uQ29vcmRzLnB1c2goe1xyXG5cdFx0XHRcdFx0bGVmdDogJHRoLnBvc2l0aW9uKCkubGVmdCxcclxuXHRcdFx0XHRcdHdpZHRoOiAkdGgub3V0ZXJXaWR0aCgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIG1vdXNlIGVudGVyIGhhbmRsZXJcclxuXHRcdCRzY29wZS4kdGFibGUub24oJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcblx0XHRcdGlmICghJHJvb3RTY29wZS5pc0RyYWdnaW5nTm93KVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Y3VycmVudFRhYmxlTGVmdCA9ICRjdXJyZW50dGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ3RvcCcsICRjdXJyZW50dGFibGUucG9zaXRpb24oKS50b3AgKyAncHgnKTtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5oZWlnaHQoJGN1cnJlbnR0YWJsZS5oZWlnaHQoKSk7XHJcblx0XHRcdGlmIChjb2x1bW5Db29yZHMubGVuZ3RoID4gMClcclxuXHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIGNvbHVtbkNvb3Jkc1swXS5sZWZ0ICsgJ3B4Jyk7XHJcblx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gbW91c2UgbGVhdmUgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2VsZWF2ZScsICgpID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoZXZlbnRbJ3RvRWxlbWVudCddICYmIGFuZ3VsYXIuZWxlbWVudChldmVudFsndG9FbGVtZW50J10pLmhhc0NsYXNzKCdodG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBtb3VzZSBtb3ZlIGhhbmRsZXJcclxuXHRcdCRzY29wZS4kdGFibGUub24oJ21vdXNlbW92ZScsIGV2ZW50ID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2YXIgbGVmdCA9IGV2ZW50LnBhZ2VYIC0gY3VycmVudFRhYmxlTGVmdDtcclxuXHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCBjb2x1bW5Db29yZHMubGVuZ3RoOyBrKyspIHtcclxuXHRcdFx0XHRjb25zdCBjb2x1bW4gPSBjb2x1bW5Db29yZHNba107XHJcblx0XHRcdFx0aWYgKGsgPCBjb2x1bW5Db29yZHMubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbmV4dENvbHVtbiA9IGNvbHVtbkNvb3Jkc1trICsgMV07XHJcblx0XHRcdFx0XHRpZiAoY29sdW1uLmxlZnQgPD0gbGVmdCAmJiBsZWZ0IDwgbmV4dENvbHVtbi5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdGlmIChsZWZ0IDw9IGNvbHVtbi5sZWZ0ICsgKG5leHRDb2x1bW4ubGVmdCAtIGNvbHVtbi5sZWZ0KSAvIDIpIHtcclxuXHRcdFx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIGNvbHVtbi5sZWZ0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IGs7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCBuZXh0Q29sdW1uLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gayArIDE7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGxlZnQgPj0gY29sdW1uLmxlZnQgKyBjb2x1bW4ud2lkdGggLyAyKSB7XHJcblx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgKGNvbHVtbi5sZWZ0ICsgY29sdW1uLndpZHRoKSArICdweCcpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gayArIDE7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChsZWZ0ID49IGNvbHVtbi5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgKGNvbHVtbi5sZWZ0KSArICdweCcpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gaztcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgdGFibGUgaGVhZGVyIGNsaWNrIGhhbmRsZXJcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZGRDbGlja0hhbmRsZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkhlYWRlckNsaWNrKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0ICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkaGVhZGVyUm93cywgKGlUYWJsZUhlYWRlciwgdGFibGVIZWFkZXIpID0+IHtcclxuXHRcdFx0dmFyICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUhlYWRlcik7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Ly8gaXRlcmF0ZSBoZWFkZXIgY2VsbHNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2VsbCA9IGFuZ3VsYXIuZWxlbWVudChjZWxsKTtcclxuXHRcdFx0XHRpZiAoaUNlbGwgPj0gZmllbGRzSW5UYWJsZS5sZW5ndGgpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0JGNlbGwub24oJ21vdXNlZG93bicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkhlYWRlckNsaWNrKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgJHRoaXMgPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZEluZGV4ID0gJHRoaXMuaW5kZXgoKTtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkhlYWRlckNsaWNrKHsgYXJnMDogZmllbGRzSW5UYWJsZVtmaWVsZEluZGV4XSB9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgYnV0dG9ucyB3aGljaCBhbGxvdyB0byByZW12b2UgdGFibGUgY29sdW1uc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENvbFJlbW92ZUJ1dHRvbnMoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpIHtcclxuXHRcdGlmICgkc2NvcGUuYWxsb3dDb2xSZW1vdmUgIT09ICd0cnVlJylcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0ICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHQvLyBpdGVyYXRlIGhlYWRlcnNcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaUhlYWRlclJvdywgaGVhZGVyUm93KSA9PiB7XHJcblx0XHRcdGNvbnN0ICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudChoZWFkZXJSb3cpO1xyXG5cdFx0XHRpZiAoJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCcuRW1wdHlDZWxsJykubGVuZ3RoID4gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdC8vIGl0ZXJhdGUgaGVhZGVyIGNlbGxzXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKSwgKGlDZWxsLCBjZWxsKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGNlbGwgPSBhbmd1bGFyLmVsZW1lbnQoY2VsbCk7XHJcblx0XHRcdFx0JGNlbGwuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA+PSBmaWVsZHNJblRhYmxlLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQvLyBhZGQgY2VsbCBoYW5kbGVyc1xyXG5cdFx0XHRcdCRjZWxsLm9uKCdtb3VzZW92ZXIucmVtb3ZlYnRuJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0bicpLnNob3coKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkY2VsbC5vbignbW91c2VvdXQucmVtb3ZlYnRuJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0bicpLmhpZGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIGJ1dHRvblxyXG5cdFx0XHRcdGNvbnN0ICRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24gPVxyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0blwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9kaXY+Jyk7XHJcblx0XHRcdFx0JGNlbGwuYXBwZW5kKCRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24pO1xyXG5cdFx0XHRcdCRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24ub24oJ21vdXNlZG93bi5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGlmIChlLndoaWNoICE9PSAxKSByZXR1cm47XHJcblx0XHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uUmVtb3ZlKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgZmllbGRJbmRleCA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uUmVtb3ZlKHsgYXJnMDogZmllbGRzSW5UYWJsZVtmaWVsZEluZGV4XSB9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgJ29ua2V5ZG93bicgZXZlbnQgYW5kIGFkZCBvd24ga2V5ZG93biBhbmQgYmx1ciBldmVudHMsIHdoaWNoIGNhbGwgb25QYWdpbmdDbGljayBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7fSAkc2NvcGUgQ3VycmVudCBkaXJlY3RpdmUgc2NvcGUuXHJcblx0ICogQHBhcmFtIHt9ICRodG1sQ29udGFpbmVyIFJlcG9ydCBjb250YWluZXIsIHdoaWNoIGNvbnRhaW5zIHBhZ2luZyBjb250cm9sc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHByZXBhcmVQYWdpbmdJbnB1dCgkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGh0bWxDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcclxuXHRcdGNvbnN0ICRwYWdlSW5wdXRzID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLWV4YWN0LXBhZ2UtaW5wdXQnKTtcclxuXHRcdGlmICghJHBhZ2VJbnB1dHMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkcGFnZUlucHV0cywgKGlQYWdlSW5wdXQsIHBhZ2VJbnB1dCkgPT4ge1xyXG5cdFx0XHR2YXIgJHBhZ2VJbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChwYWdlSW5wdXQpO1xyXG5cdFx0XHQkcGFnZUlucHV0LmF0dHIoJ29ua2V5ZG93bicsIG51bGwpO1xyXG5cclxuXHRcdFx0Ly8gaW5wdXQgY2hhbmdlZCBoYW5kbGVyXHJcblx0XHRcdHZhciBvbklucHV0Q2hhbmdlZCA9ICgkaW5wdXQ6IEpRdWVyeTxIVE1MRWxlbWVudD4pID0+IHtcclxuXHRcdFx0XHRjb25zdCBwYWdlc0NvdW50ID0gcGFyc2VJbnQoU3RyaW5nKCRpbnB1dC5hdHRyKCdkYXRhLXBhZ2VzLWNvdW50JykpKTtcclxuXHRcdFx0XHRjb25zdCBpdGVtc1BlclBhZ2UgPSBwYXJzZUludChTdHJpbmcoJGlucHV0LmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnKSkpO1xyXG5cdFx0XHRcdGxldCB2YWwgPSBOdW1iZXIoJGlucHV0LnZhbCgpKTtcclxuXHRcdFx0XHRpZiAodmFsIDwgMSkgdmFsID0gMTtcclxuXHRcdFx0XHRpZiAodmFsID4gcGFnZXNDb3VudCkgdmFsID0gcGFnZXNDb3VudDtcclxuXHRcdFx0XHRjb25zdCBzdGFydFJlY29yZCA9ICgodmFsIC0gMSkgKiBpdGVtc1BlclBhZ2UpICsgMTtcclxuXHRcdFx0XHRjb25zdCBmaW5pc2hSZWNvcmQgPSBzdGFydFJlY29yZCArIGl0ZW1zUGVyUGFnZSAtIDE7XHJcblx0XHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdFx0YXJnMDogJ2l6LXBhZ2VsaW5rLWV4YWN0LXBhZ2UtaW5wdXQnLFxyXG5cdFx0XHRcdFx0YXJnMTogc3RhcnRSZWNvcmQgKyAnLScgKyBmaW5pc2hSZWNvcmRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkcGFnZUlucHV0Lm9uKCdibHVyJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdHZhciAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChldmVudC5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0b25JbnB1dENoYW5nZWQoJHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHBhZ2VJbnB1dC5vbigna2V5ZG93bicsIGV2ZW50ID0+IHtcclxuXHRcdFx0XHR2YXIga2MgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoO1xyXG5cdFx0XHRcdGlmIChrYyAhPT0gMTMpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dmFyICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRvbklucHV0Q2hhbmdlZCgkdGhpcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgJ29uY2xpY2snIGV2ZW50IGFuZCBhZGQgb3duIGNsaWNrIGV2ZW50LCB3aGljaCBjYWxsIG9uUGFnaW5nQ2xpY2sgaGFuZGxlci5cclxuXHQgKiBAcGFyYW0ge30gJHNjb3BlIGN1cnJlbnQgRGlyZWN0aXZlIHNjb3BlLlxyXG5cdCAqIEBwYXJhbSB7fSAkaHRtbENvbnRhaW5lciBSZXBvcnQgY29udGFpbmVyLCB3aGljaCBjb250YWlucyBwYWdpbmcgY29udHJvbHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZVBhZ2VMaW5rcygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGh0bWxDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcclxuXHRcdHZhciAkcGFnZUxpbmtzID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLCAuaXotcGFnZWxpbmstZGlyZWN0aW9uLWJ0bicpO1xyXG5cdFx0aWYgKCEkcGFnZUxpbmtzLmxlbmd0aCB8fCAhYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblBhZ2luZ0NsaWNrKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHBhZ2VMaW5rcywgKGlQYWdlTGluaywgcGFnZUxpbmspID0+IHtcclxuXHRcdFx0Y29uc3QgJHBhZ2VMaW5rID0gYW5ndWxhci5lbGVtZW50KHBhZ2VMaW5rKTtcclxuXHRcdFx0Y29uc3Qgb25DbGlja1NjcmlwdCA9IFN0cmluZygkcGFnZUxpbmsuYXR0cignb25jbGljaycpKTtcclxuXHRcdFx0Y29uc3QgbWF0Y2hSZXN1bHQgPSAvcmVzdWx0cz0oXFxkK1xcLVxcZCspL2cuZXhlYyhvbkNsaWNrU2NyaXB0KTtcclxuXHRcdFx0aWYgKG1hdGNoUmVzdWx0ICYmIG1hdGNoUmVzdWx0Lmxlbmd0aCA9PT0gMilcclxuXHRcdFx0XHQkcGFnZUxpbmsuYXR0cignZGF0YS1hY3RpdmUtcGFnZScsIG1hdGNoUmVzdWx0WzFdKTtcclxuXHRcdFx0JHBhZ2VMaW5rLmF0dHIoJ29uY2xpY2snLCBudWxsKTtcclxuXHRcdFx0JHBhZ2VMaW5rLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdHZhciAkY3VycmVudExpbmsgPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdFx0YXJnMDogJ2l6LXBhZ2VsaW5rJyxcclxuXHRcdFx0XHRcdGFyZzE6ICRjdXJyZW50TGluay5hdHRyKCdkYXRhLWFjdGl2ZS1wYWdlJylcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25jbGljaycgZXZlbnQgYW5kIGFkZCBvd24gY2xpY2sgZXZlbnQuXHJcblx0ICogQHBhcmFtIHt9ICRzY29wZSBjdXJyZW50IERpcmVjdGl2ZSBzY29wZS5cclxuXHQgKiBAcGFyYW0ge30gJGh0bWxDb250YWluZXIgUmVwb3J0IGNvbnRhaW5lciwgd2hpY2ggY29udGFpbnMgcGFnaW5nIGNvbnRyb2xzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHByZXBhcmVHb1RvUmVjb3JkQnRuKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0Y29uc3QgJGJ0biA9ICRodG1sQ29udGFpbmVyLmZpbmQoJy5pei1wYWdlbGluay1nby10by1wYWdlLWJ0bicpO1xyXG5cdFx0JGJ0bi5hdHRyKCdvbmNsaWNrJywgbnVsbCk7XHJcblx0XHQkYnRuLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0Y29uc3QgaXRlbXNDb3VudCA9IHBhcnNlSW50KFN0cmluZygkdGhpcy5hdHRyKCdkYXRhLWl0ZW1zLWNvdW50JykpKTtcclxuXHRcdFx0Y29uc3QgaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQoU3RyaW5nKCR0aGlzLmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnKSkpO1xyXG5cdFx0XHRsZXQgaW5wdXRWYWx1ZTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpbnB1dFZhbHVlID0gcGFyc2VJbnQoU3RyaW5nKGFuZ3VsYXIuZWxlbWVudCgnI3BhZ2VOdW1FZCcpLnZhbCgpKSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRpbnB1dFZhbHVlID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbXNDb3VudCA8IGlucHV0VmFsdWUpIGlucHV0VmFsdWUgPSBpdGVtc0NvdW50O1xyXG5cdFx0XHRjb25zdCBzdGFydFJlY29yZCA9IGlucHV0VmFsdWUgLSAoaW5wdXRWYWx1ZSAtIDEpICUgaXRlbXNQZXJQYWdlO1xyXG5cdFx0XHRjb25zdCBmaW5pc2hSZWNvcmQgPSBzdGFydFJlY29yZCArIGl0ZW1zUGVyUGFnZSAtIDE7XHJcblx0XHRcdCRzY29wZS5vblBhZ2luZ0NsaWNrKHtcclxuXHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcsXHJcblx0XHRcdFx0YXJnMTogc3RhcnRSZWNvcmQgKyAnLScgKyBmaW5pc2hSZWNvcmRcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PlxyXG5cdFx0XHRuZXcgSXplbmRhUmVwb3J0Vmlld2VyKCRyb290U2NvcGUsICR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFSZXBvcnRWaWV3ZXInLFxyXG5cdFsnJHJvb3RTY29wZScsICckdGltZW91dCcsIEl6ZW5kYVJlcG9ydFZpZXdlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGV4aXN0ZW50VmFsdWVzOiBhbnk7XHJcblx0bmdNb2RlbDogYW55O1xyXG5cdGlzQ2hlY2tlZDogYW55O1xyXG5cdGNsaWNrQ2hlY2tib3g6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCBjaGVja2JveGVzIGRpcmVjdGl2ZS4gXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFTZWxlY3RDaGVja2JveGVzIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cclxuXHRzY29wZSA9IHtcclxuXHRcdGV4aXN0ZW50VmFsdWVzOiAnPScsXHJcblx0XHRuZ01vZGVsOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGRpdiBuZy1yZXBlYXQ9XCJleGlzdGVudFZhbHVlIGluIGV4aXN0ZW50VmFsdWVzXCI+XHJcblx0PGxhYmVsIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zZWxlY3QtY2hlY2tib3hlcy1sYWJlbFwiPlxyXG5cdFx0PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLWNsaWNrPVwiY2xpY2tDaGVja2JveChleGlzdGVudFZhbHVlKVwiIG5nLWNoZWNrZWQ9XCJpc0NoZWNrZWQoZXhpc3RlbnRWYWx1ZSlcIi8+XHJcblx0XHQ8c3BhbiBuZy1iaW5kPVwiZXhpc3RlbnRWYWx1ZS50ZXh0XCI+PC9zcGFuPlxyXG5cdDwvbGFiZWw+XHJcbjwvZGl2PmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU2VsZWN0Q2hlY2tib3hlcy5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdpemVuZGEtY29tbW9uLXNlbGVjdC1jaGVja2JveGVzJyk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdleGlzdGVudFZhbHVlcycsICgpID0+ICRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKSwgdHJ1ZSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCduZ01vZGVsJywgKCkgPT4gJHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpKTtcclxuXHJcblx0XHRcdCRzY29wZS5pc0NoZWNrZWQgPSBleGlzdGVudFZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3VmFsdWUgPSAkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHRyZXR1cm4gdmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSkgPj0gMDtcclxuXHRcdFx0fTtcclxuXHRcdFx0JHNjb3BlLmNsaWNrQ2hlY2tib3ggPSBleGlzdGVudFZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3VmFsdWUgPSAkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHRpZiAodmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSkgPj0gMClcclxuXHRcdFx0XHRcdHZpZXdWYWx1ZS5zcGxpY2Uodmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSksIDEpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHZpZXdWYWx1ZS5wdXNoKGV4aXN0ZW50VmFsdWUudmFsdWUpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFTZWxlY3RDaGVja2JveGVzKCk7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVNlbGVjdENoZWNrYm94ZXMnLCBbSXplbmRhU2VsZWN0Q2hlY2tib3hlcy5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTcGxhc2hTY3JlZW5TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdTaG93OiBhbnk7XHJcblx0dGV4dDogYW55O1xyXG5cdGxvYWRpbmdJbmRpY2F0b3JVcmw6IGFueTtcclxuXHRwYXJlbnRTZWxlY3RvcjogYW55O1xyXG59XHJcblxyXG5jbGFzcyBJemVuZGFTcGxhc2hTY3JlZW4gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ1Nob3c6ICc9JyxcclxuXHRcdHRleHQ6ICc9JyxcclxuXHRcdGxvYWRpbmdJbmRpY2F0b3JVcmw6ICdAJyxcclxuXHRcdHBhcmVudFNlbGVjdG9yOiAnQCdcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTcGxhc2hTY3JlZW5TY29wZSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSkge1xyXG5cdFx0SXplbmRhU3BsYXNoU2NyZWVuLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVNwbGFzaFNjcmVlblNjb3BlKSA9PiB7XHJcblxyXG5cdFx0XHR2YXIgc3BsYXNoVGltZW91dDogbmcuSVByb21pc2U8YW55PiA9IG51bGw7XHJcblx0XHRcdHZhciB0ZW1wbGF0ZSA9XHJcblx0XHRcdFx0YDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbiBoaWRkZW5cIj5cclxuXHQ8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zcGxhc2hzY3JlZW4taW5uZXIgdGV4dC1jZW50ZXJcIj5cclxuXHRcdDxpbWcgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi1sb2FkaW5nXCIvPlxyXG5cdFx0PHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi10ZXh0XCI+PC9zcGFuPlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cdFx0XHRjb25zdCAkZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCh0ZW1wbGF0ZSk7XHJcblx0XHRcdGxldCBhZGRlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gbG9hZGluZyBzcGlubmVyXHJcblx0XHRcdGNvbnN0IGRlZmF1bHRMb2FkaW5nSW5kaWNhdG9yVXJsID0gYW5ndWxhci5pc1N0cmluZygkc2NvcGUubG9hZGluZ0luZGljYXRvclVybClcclxuXHRcdFx0XHQ/ICRzY29wZS5sb2FkaW5nSW5kaWNhdG9yVXJsXHJcblx0XHRcdFx0OiAkaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxScFBhZ2UgKyAnaW1hZ2U9TW9kZXJuSW1hZ2VzLmxvYWRpbmctZ3JpZC5naWYnO1xyXG5cdFx0XHRjb25zdCBwYXJlbnRTZWxlY3RvclRleHQgPSBhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5wYXJlbnRTZWxlY3RvcikgPyAkc2NvcGUucGFyZW50U2VsZWN0b3IgOiAnYm9keSc7XHJcblx0XHRcdGxldCBib2R5T3ZlcmZsb3c6IHN0cmluZztcclxuXHRcdFx0bGV0IGJvZHlQYWRkaW5nOiBzdHJpbmc7XHJcblx0XHRcdGxldCAkYm9keTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHJcblx0XHRcdGNvbnN0IGluaXRpYWxpemUgPSAoKSA9PiB7XHJcblx0XHRcdFx0JGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLWxvYWRpbmcnKS5hdHRyKCdzcmMnLCBkZWZhdWx0TG9hZGluZ0luZGljYXRvclVybCk7XHJcblx0XHRcdFx0JGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQocGFyZW50U2VsZWN0b3JUZXh0KTtcclxuXHRcdFx0XHRpZiAoJGJvZHkubGVuZ3RoID4gMCAmJiAhYWRkZWQpIHtcclxuXHRcdFx0XHRcdGJvZHlPdmVyZmxvdyA9ICRib2R5LmNzcygnb3ZlcmZsb3cnKTtcclxuXHRcdFx0XHRcdGJvZHlQYWRkaW5nID0gJGJvZHkuY3NzKCdwYWRkaW5nLWxlZnQnKTtcclxuXHRcdFx0XHRcdCRib2R5LmFwcGVuZCgkZWxlbWVudCk7XHJcblx0XHRcdFx0XHRhZGRlZCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3Qgc2V0VGV4dCA9ICgpID0+IHtcclxuXHRcdFx0XHR2YXIgJGlubmVyID0gJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLXRleHQnKTtcclxuXHRcdFx0XHQkaW5uZXIudGV4dCgkc2NvcGUudGV4dCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGJvZHlIYXNTY3JvbGxiYXIgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdFx0cmV0dXJuICRib2R5Lmxlbmd0aCA+IDAgJiYgJGJvZHkuZ2V0KDApLnNjcm9sbEhlaWdodCA+ICRib2R5LmhlaWdodCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3Qgc2hvd1NwbGFzaCA9ICgpID0+IHtcclxuXHRcdFx0XHRpbml0aWFsaXplKCk7XHJcblx0XHRcdFx0aWYgKHNwbGFzaFRpbWVvdXQgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdCR0aW1lb3V0LmNhbmNlbChzcGxhc2hUaW1lb3V0KTtcclxuXHRcdFx0XHRcdHNwbGFzaFRpbWVvdXQgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzcGxhc2hUaW1lb3V0ID0gJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0Ym9keU92ZXJmbG93ID0gJGJvZHkuY3NzKCdvdmVyZmxvdycpO1xyXG5cdFx0XHRcdFx0JGJvZHkuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdGlmIChib2R5SGFzU2Nyb2xsYmFyKCkpIHtcclxuXHRcdFx0XHRcdFx0Ym9keVBhZGRpbmcgPSAkYm9keS5jc3MoJ3BhZGRpbmctbGVmdCcpO1xyXG5cdFx0XHRcdFx0XHQkYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCAnMTdweCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgaGlkZVNwbGFzaCA9ICgpID0+IHtcclxuXHRcdFx0XHRpbml0aWFsaXplKCk7XHJcblx0XHRcdFx0aWYgKHNwbGFzaFRpbWVvdXQgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdCR0aW1lb3V0LmNhbmNlbChzcGxhc2hUaW1lb3V0KTtcclxuXHRcdFx0XHRcdHNwbGFzaFRpbWVvdXQgPSBudWxsO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0JGJvZHkuY3NzKCdvdmVyZmxvdycsIGJvZHlPdmVyZmxvdyk7XHJcblx0XHRcdFx0XHRpZiAoYm9keUhhc1Njcm9sbGJhcigpKSB7XHJcblx0XHRcdFx0XHRcdCRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWRkaW5nKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ1Nob3cnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpXHJcblx0XHRcdFx0XHRzaG93U3BsYXNoKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0aGlkZVNwbGFzaCgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3RleHQnLCAoKSA9PiBzZXRUZXh0KCkpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlKSA9PiBuZXcgSXplbmRhU3BsYXNoU2NyZWVuKCR0aW1lb3V0LCAkaXplbmRhVXJsU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVNwbGFzaFNjcmVlbicsIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCBJemVuZGFTcGxhc2hTY3JlZW4uZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhU3dpdGNoZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dG9vbHRpcDogc3RyaW5nO1xyXG5cdGxhYmVsOiBzdHJpbmc7XHJcblx0bmdNb2RlbDogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN3aXRjaGVyIGRpcmVjdGl2ZVxyXG4gKi9cclxuY2xhc3MgSXplbmRhU3dpdGNoZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHJcblx0c2NvcGUgPSB7XHJcblx0XHR0b29sdGlwOiAnPScsXHJcblx0XHRsYWJlbDogJz0nLFxyXG5cdFx0bmdNb2RlbDogJz0nXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxzcGFuIG5nLXNob3c9XCJsYWJlbCAhPSBudWxsICYmIGxhYmVsICE9ICcnXCIgY2xhc3M9XCJpemVuZGEtY29tbW9uLXN3aXRjaGVyLWxhYmVsXCI+e3tsYWJlbH19PC9zcGFuPlxyXG48c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXJcIiB0aXRsZT1cInt7dG9vbHRpcH19XCI+XHJcblx0PHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLXN3aXRjaGVyLXRleHQtb2ZmXCI+Tzwvc3Bhbj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItaXRlbVwiPjwvc3Bhbj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItdGV4dC1vblwiPkk8L3NwYW4+XHJcbjwvc3Bhbj5gO1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU3dpdGNoZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdCRlbGVtZW50LmNsaWNrKGUgPT4ge1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0JHNjb3BlLm5nTW9kZWwgPSAhJHNjb3BlLm5nTW9kZWw7XHJcblx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGFwcGx5KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgJHN3aXRjaGVyID0gJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3dpdGNoZXInKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWw6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsKVxyXG5cdFx0XHRcdFx0JHN3aXRjaGVyLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRzd2l0Y2hlci5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVN3aXRjaGVyKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU3dpdGNoZXInLCBbSXplbmRhU3dpdGNoZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVG9nZ2xlQnV0dG9uU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdHRydWVWYWx1ZTogYW55O1xyXG5cdGZhbHNlVmFsdWU6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvZ2dsZSBidXR0b24gZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUb2dnbGVCdXR0b24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFQSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0cmVxdWlyZSA9IFsnbmdNb2RlbCddO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0dHJ1ZVZhbHVlOiAnPScsXHJcblx0XHRmYWxzZVZhbHVlOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPHNwYW4gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGl6ZW5kYS10b2dnbGUtYnV0dG9uLWJ0biBhY3RpdmVcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvblwiPlxyXG5cdDxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT5cclxuPC9zcGFuPmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUb2dnbGVCdXR0b25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcywgcmVxdWlyZWRQYXJhbXM6IG5nLklDb250cm9sbGVyKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUb2dnbGVCdXR0b25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcyxcclxuXHRcdFx0cmVxdWlyZWRQYXJhbXM6IG5nLklDb250cm9sbGVyKSA9PiB7XHJcblx0XHRcdGNvbnN0IG5nTW9kZWw6IGFueSA9IHJlcXVpcmVkUGFyYW1zWzBdO1xyXG5cdFx0XHRjb25zdCBidG4gPSAkZWxlbWVudC5jaGlsZHJlbignLmJ0bicpO1xyXG5cclxuXHRcdFx0JHNjb3BlLiRwYXJlbnQuJHdhdGNoKGF0dHJzLm5nTW9kZWwsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09ICRzY29wZS50cnVlVmFsdWUpIHtcclxuXHRcdFx0XHRcdGlmIChidG4uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKG5ld1ZhbCA9PSAkc2NvcGUuZmFsc2VWYWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKCFidG4uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAobmdNb2RlbC4kdmlld1ZhbHVlID09PSAkc2NvcGUudHJ1ZVZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKGJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKG5nTW9kZWwuJHZpZXdWYWx1ZSA9PT0gJHNjb3BlLmZhbHNlVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAoIWJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoIW5nTW9kZWwuJHZpZXdWYWx1ZSkpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFUb2dnbGVCdXR0b24oKTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVG9nZ2xlQnV0dG9uJywgW0l6ZW5kYVRvZ2dsZUJ1dHRvbi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXRlVGltZUZvcm1hdCB9IGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTY2hlZHVsZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2NoZWR1bGVDb21wb25lbnQnLFxyXG5cdFsnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhU2NoZWR1bGVTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi51aS5jb21wb25lbnRzLnNjaGVkdWxlLnNjaGVkdWxlLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0c2NoZWR1bGVDb25maWc6ICc9JyxcclxuXHRcdFx0cmVwZWF0VHlwZXM6ICc8JyxcclxuXHRcdFx0ZW1haWxUeXBlczogJzwnLFxyXG5cdFx0XHR0aW1lem9uZXM6ICc8J1xyXG5cdFx0fVxyXG5cdH0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNjaGVkdWxlQ29tcG9uZW50IHtcclxuXHRkYXRlRm9ybWF0OiBEYXRlVGltZUZvcm1hdDtcclxuXHRjdWx0dXJlOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U6IEl6ZW5kYVNjaGVkdWxlU2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29tcG9uZW50IGluaXRcclxuXHQgKi9cclxuXHQkb25Jbml0KCkge1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0ID0gdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmRhdGVGb3JtYXQ7XHJcblx0XHR0aGlzLmN1bHR1cmUgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuY3VsdHVyZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZWxlY3QgcmVwb3J0IGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTZWxlY3RSZXBvcnRDb21wb25lbnQnLFxyXG5cdFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi51aS5jb21wb25lbnRzLnNlbGVjdC1yZXBvcnQuc2VsZWN0LXJlcG9ydC10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdG9wZW5lZDogJzwnLFxyXG5cdFx0XHRvblNlbGVjdGVkOiAnJicsXHJcblx0XHRcdG9uTW9kYWxDbG9zZWQ6ICcmJ1xyXG5cdFx0fVxyXG5cdH0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNlbGVjdFJlcG9ydENvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHVuY2F0ZWdvcml6ZWRUZXh0OiBzdHJpbmc7XHJcblx0Ly8gYmluZGluZ3NcclxuXHRvcGVuZWQ6IGJvb2xlYW47XHJcblx0b25TZWxlY3RlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0b25Nb2RhbENsb3NlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0Ly8gb3RoZXJcclxuXHRvcGVuZWRJbm5lcjogYm9vbGVhbjtcclxuXHRjYXRlZ29yeTogc3RyaW5nO1xyXG5cdGNhdGVnb3JpZXM6IHN0cmluZ1tdO1xyXG5cdGdyb3VwczogYW55W107XHJcblx0aXNMb2FkaW5nOiBib29sZWFuO1xyXG5cdGhpZGVBbGw6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKTtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iaikge1xyXG5cdFx0aWYgKCFjaGFuZ2VzT2JqLm9wZW5lZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgY3VycmVudE9wZW5lZCA9IGNoYW5nZXNPYmoub3BlbmVkLmN1cnJlbnRWYWx1ZTtcclxuXHRcdGlmIChjdXJyZW50T3BlbmVkKSB7XHJcblx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdFx0dGhpcy5vcGVuZWRJbm5lciA9IHRydWU7XHJcblx0XHRcdC8vIHRpbWVvdXQgaXMgbmVlZGVkIGZvciB0aGUgc21vb3RoZXIgbW9kYWwgYW5pbWF0aW9uXHJcblx0XHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuaGlkZUFsbCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5nZXRSZXBvcnRTZXRDYXRlZ29yeSh0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0KS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmVwb3J0U2V0cyA9IGRhdGEuUmVwb3J0U2V0cztcclxuXHRcdFx0XHRcdHRoaXMuYWRkQ2F0ZWdvcmllc1RvTW9kYWwocmVwb3J0U2V0cyk7XHJcblx0XHRcdFx0XHR0aGlzLmFkZFJlcG9ydHNUb01vZGFsKHJlcG9ydFNldHMpO1xyXG5cdFx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgMTAwMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVwb3J0IHBhcnRzIHRvIG1vZGFsXHJcblx0ICovXHJcblx0YWRkUmVwb3J0UGFydHNUb01vZGFsKHJlcG9ydFBhcnRzOiBhbnlbXSkge1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdGlmICghcmVwb3J0UGFydHMgfHwgIXJlcG9ydFBhcnRzLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdC8vIGFkZCBncm91cHM6XHJcblx0XHRsZXQgY3VycmVudEdyb3VwID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlcG9ydFBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChpID4gMCAmJiBpICUgNCA9PT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHRcdFx0XHRjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCByZXBvcnRQYXJ0ID0gcmVwb3J0UGFydHNbaV07XHJcblx0XHRcdHJlcG9ydFBhcnQuaXNSZXBvcnRQYXJ0ID0gdHJ1ZTtcclxuXHRcdFx0Y3VycmVudEdyb3VwLnB1c2gocmVwb3J0UGFydCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVwb3J0c2V0IGNhdGVnb3JpZXMgdG8gbW9kYWwgc2VsZWN0IGNvbnRyb2wuXHJcblx0ICovXHJcblx0YWRkQ2F0ZWdvcmllc1RvTW9kYWwocmVwb3J0U2V0czogYW55W10pIHtcclxuXHRcdGlmICghcmVwb3J0U2V0cylcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gcmVwb3J0U2V0c1xyXG5cdFx0XHQuZmlsdGVyKHJlcG9ydCA9PiAhcmVwb3J0LkRhc2hib2FyZClcclxuXHRcdFx0Lm1hcDxzdHJpbmc+KHJlcG9ydCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2F0ZWdvcnkgPSByZXBvcnQuQ2F0ZWdvcnkgPyByZXBvcnQuQ2F0ZWdvcnkgOiB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdFx0XHRcdHJldHVybiAhcmVwb3J0LlN1YmNhdGVnb3J5XHJcblx0XHRcdFx0XHQ/IGNhdGVnb3J5XHJcblx0XHRcdFx0XHQ6IGNhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXBvcnQuU3ViY2F0ZWdvcnk7XHJcblx0XHRcdH0pO1xyXG5cdFx0Ly8gbWFrZSBjYXRlZ29yaWVzIHVuaXF1ZVxyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gQXJyYXkuZnJvbShuZXcgU2V0PHN0cmluZz4odGhpcy5jYXRlZ29yaWVzKSk7XHJcblx0XHRpZiAoIXRoaXMuY2F0ZWdvcnkpXHJcblx0XHRcdHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHJlcG9ydCB0byBtb2RhbCBkaWFsb2cgYm9keS5cclxuXHQgKi9cclxuXHRhZGRSZXBvcnRzVG9Nb2RhbChyZXBvcnRTZXRzOiBhbnlbXSkge1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdGxldCByZXBvcnRTZXRzVG9TaG93ID0gW107XHJcblxyXG5cdFx0aWYgKHJlcG9ydFNldHMgJiYgcmVwb3J0U2V0cy5sZW5ndGgpXHJcblx0XHRcdHJlcG9ydFNldHNUb1Nob3cgPSByZXBvcnRTZXRzLmZpbHRlcihycyA9PiAhcnMuRGFzaGJvYXJkICYmIHJzLk5hbWUpO1xyXG5cdFx0aWYgKCFyZXBvcnRTZXRzVG9TaG93IHx8ICFyZXBvcnRTZXRzVG9TaG93Lmxlbmd0aClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdC8vIGFkZCBncm91cHM6XHJcblx0XHRsZXQgY3VycmVudEdyb3VwID0gW107XHJcblx0XHR0aGlzLmdyb3Vwcy5sZW5ndGggPSAwO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZXBvcnRTZXRzVG9TaG93Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChpID4gMCAmJiBpICUgNCA9PT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHRcdFx0XHRjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCByZXBvcnRTZXQgPSByZXBvcnRTZXRzVG9TaG93W2ldO1xyXG5cdFx0XHRyZXBvcnRTZXQuaXNSZXBvcnRQYXJ0ID0gZmFsc2U7XHJcblx0XHRcdGN1cnJlbnRHcm91cC5wdXNoKHJlcG9ydFNldCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QgY2F0ZWdvcnkgaGFuZGxlclxyXG5cdCAqL1xyXG5cdGNhdGVnb3J5Q2hhbmdlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAodGhpcy5pc0xvYWRpbmcpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHRpZiAoIXRoaXMuY2F0ZWdvcnkpXHJcblx0XHRcdHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMuY2F0ZWdvcnkpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdHRoaXMuYWRkUmVwb3J0c1RvTW9kYWwoZGF0YS5SZXBvcnRTZXRzKTtcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW9kYWwgY2xvc2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRtb2RhbENsb3NlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25Nb2RhbENsb3NlZCkpXHJcblx0XHRcdHRoaXMub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVc2VyIGNsaWNrZWQgdG8gcmVwb3J0IHNldCBpdGVtXHJcblx0ICovXHJcblx0aXRlbVNlbGVjdGVkSGFuZGxlcihpdGVtKSB7XHJcblx0XHRjb25zdCBpc1JlcG9ydFBhcnQgPSBpdGVtLmlzUmVwb3J0UGFydDtcclxuXHRcdGxldCByZXBvcnRGdWxsTmFtZSA9IGl0ZW0uTmFtZTtcclxuXHJcblx0XHRpZiAoaXRlbS5DYXRlZ29yeUZ1bGwpXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lID0gaXRlbS5DYXRlZ29yeUZ1bGwgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydEZ1bGxOYW1lO1xyXG5cclxuXHRcdGlmICghaXNSZXBvcnRQYXJ0KSB7XHJcblx0XHRcdC8vIGlmIHJlcG9ydCBzZXQgc2VsZWN0ZWRcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0UmVwb3J0UGFydHMocmVwb3J0RnVsbE5hbWUpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0dmFyIHJlcG9ydHMgPSBkYXRhLlJlcG9ydHM7XHJcblx0XHRcdFx0dGhpcy5hZGRSZXBvcnRQYXJ0c1RvTW9kYWwocmVwb3J0cyk7XHJcblx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLm9wZW5lZElubmVyID0gZmFsc2U7XHJcblx0XHRcdC8vIGlmIHJlcG9ydCBwYXJ0IHNlbGVjdGVkXHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vblNlbGVjdGVkKSlcclxuXHRcdFx0XHR0aGlzLm9uU2VsZWN0ZWQoeyByZXBvcnRQYXJ0SW5mbzogaXRlbSB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc2V0IGZvcm1cclxuXHQgKi9cclxuXHRyZXNldCgpIHtcclxuXHRcdHRoaXMub3BlbmVkSW5uZXIgPSBmYWxzZTtcclxuXHRcdHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0dGhpcy5oaWRlQWxsID0gdHJ1ZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZWxlY3QgcmVwb3J0IG5hbWUgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhVWlNb2R1bGUsXHJcblx0J2l6ZW5kYVNlbGVjdFJlcG9ydE5hbWVDb21wb25lbnQnLFxyXG5cdFsnJHEnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlJywgJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0JyxcclxuXHRcdCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVFbXB0eUVycm9yJywgJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUludmFsaWRFcnJvciddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24udWkuY29tcG9uZW50cy5zZWxlY3QtcmVwb3J0LW5hbWUuc2VsZWN0LXJlcG9ydC1uYW1lLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0b3BlbmVkOiAnPCcsXHJcblx0XHRcdG9uU2VsZWN0ZWQ6ICcmJyxcclxuXHRcdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2VsZWN0UmVwb3J0TmFtZUNvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHQvLyBiaW5kaW5nc1xyXG5cdG9uU2VsZWN0ZWQ6IChwYXJhbTogYW55KSA9PiB2b2lkO1xyXG5cdG9uTW9kYWxDbG9zZWQ6IChwYXJhbTogYW55KSA9PiB2b2lkO1xyXG5cdC8vIG90aGVyXHJcblx0cHJpdmF0ZSBuZXh0SWQ6IG51bWJlciA9IDE7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0Q3JlYXRlTmV3OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0VW5jYXRlZ29yaXplZDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGV4dEVycm9ySW52YWxpZENhdGVnb3J5TmFtZTogc3RyaW5nO1xyXG5cclxuXHRpc0NhdGVnb3J5QWxsb3dlZDogYm9vbGVhbjtcclxuXHRpc09wZW5lZElubmVyOiBib29sZWFuO1xyXG5cdGlzTmV3UmVwb3J0RGlhbG9nOiBib29sZWFuO1xyXG5cdGlzQ3JlYXRpbmdOZXdDYXRlZ29yeTogYm9vbGVhbjtcclxuXHRpc1NlbGVjdERpc2FibGVkOiBib29sZWFuO1xyXG5cdGlzTmFtZUZvY3VzZWQ6IGJvb2xlYW47XHJcblx0aXNDYXRlZ29yeUZvY3VzZWQ6IGJvb2xlYW47XHJcblxyXG5cdHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dDogc3RyaW5nO1xyXG5cdHJlcG9ydE5hbWU6IHN0cmluZztcclxuXHRuZXdDYXRlZ29yeU5hbWU6IHN0cmluZztcclxuXHRjYXRlZ29yaWVzOiBBcnJheTxDYXRlZ29yeU9iamVjdD47XHJcblx0c2VsZWN0ZWRDYXRlZ29yeTogQ2F0ZWdvcnlPYmplY3Q7XHJcblx0cmVwb3J0U2V0czogYW55W107XHJcblx0ZXJyb3JNZXNzYWdlczogc3RyaW5nW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UsXHJcblx0XHRyZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQ6IHN0cmluZ1tdLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByZXBvcnROYW1lRW1wdHlFcnJvcjogc3RyaW5nLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByZXBvcnROYW1lSW52YWxpZEVycm9yOiBzdHJpbmcpIHtcclxuXHJcblx0XHR0aGlzLmlzQ2F0ZWdvcnlBbGxvd2VkID0gJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDb21tb25TZXR0aW5ncygpLnNob3dDYXRlZ29yeVRleHRib3hJblNhdmVEaWFsb2c7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2VcclxuXHRcdFx0LmxvY2FsZVRleHQocmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0WzBdLCByZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHRbMV0pO1xyXG5cdFx0dGhpcy50ZXh0Q3JlYXRlTmV3ID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ3JlYXRlTmV3JywgJ0NyZWF0ZSBOZXcnKTtcclxuXHRcdHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKTtcclxuXHRcdHRoaXMudGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5ID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChyZXBvcnROYW1lRW1wdHlFcnJvclswXSwgcmVwb3J0TmFtZUVtcHR5RXJyb3JbMV0pO1xyXG5cdFx0dGhpcy50ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQocmVwb3J0TmFtZUludmFsaWRFcnJvclswXSwgcmVwb3J0TmFtZUludmFsaWRFcnJvclsxXSk7XHJcblx0XHR0aGlzLnRleHRFcnJvckludmFsaWRDYXRlZ29yeU5hbWUgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19JbnZhbGlkQ2F0ZWdvcnlOYW1lJywgJ0ludmFsaWQgQ2F0ZWdvcnkgTmFtZScpO1xyXG5cclxuXHRcdHRoaXMuaXNPcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc05ld1JlcG9ydERpYWxvZyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lID0gJyc7XHJcblx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5uZXdDYXRlZ29yeU5hbWUgPSAnJztcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcclxuXHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLnJlcG9ydFNldHMgPSBbXTtcclxuXHRcdHRoaXMuZXJyb3JNZXNzYWdlcyA9IFtdO1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQkb25DaGFuZ2VzKGNoYW5nZXNPYmopIHtcclxuXHRcdGlmIChjaGFuZ2VzT2JqLm9wZW5lZCkge1xyXG5cdFx0XHR2YXIgY3VycmVudE9wZW5lZCA9IGNoYW5nZXNPYmoub3BlbmVkLmN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0aWYgKGN1cnJlbnRPcGVuZWQpXHJcblx0XHRcdFx0dGhpcy5vcGVuTW9kYWwoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1vZGFsIGNsb3NlZCBoYW5kbGVyXHJcblx0ICovXHJcblx0bW9kYWxDbG9zZWRIYW5kbGVyKCkge1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uTW9kYWxDbG9zZWQpKVxyXG5cdFx0XHR0aGlzLm9uTW9kYWxDbG9zZWQoe30pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgbW9kYWwgZGlhbG9nXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuaXNPcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT3BlbiBtb2RhbCBkaWFsb2dcclxuXHQgKi9cclxuXHRvcGVuTW9kYWwoKSB7XHJcblx0XHR0aGlzLmlzU2VsZWN0RGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5pc09wZW5lZElubmVyID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVzZXRGb3JtKCk7XHJcblxyXG5cdFx0Y29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0dGhpcy5uZXh0SWQgPSAxO1xyXG5cclxuXHRcdC8vIHNob3cgbG9hZGluZyBtZXNzYWdlIGluc2lkZSBzZWxlY3QgY29udHJvbFxyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdGlkOiAtMSxcclxuXHRcdFx0bmFtZTogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Mb2FkaW5nJywgJ0xvYWRpbmcuLi4nKVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3JpZXNbMF07XHJcblx0XHR0aGlzLnJlcG9ydE5hbWUgPSByZXBvcnRJbmZvLm5hbWU7XHJcblxyXG5cdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnJlcG9ydFNldHMgPSBkYXRhLlJlcG9ydFNldHM7XHJcblxyXG5cdFx0XHQvLyBhZGQgY2F0ZWdvcmllc1xyXG5cdFx0XHQvLyBcIkNyZWF0ZSBuZXdcIlxyXG5cdFx0XHRpZiAodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCkuYWxsb3dDcmVhdGVOZXdDYXRlZ29yeSlcclxuXHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdFx0XHRpZDogdGhpcy5uZXh0SWQrKyxcclxuXHRcdFx0XHRcdG5hbWU6IHRoaXMudGV4dENyZWF0ZU5ld1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gXCJVbmNhdGVnb3JpemVkXCJcclxuXHRcdFx0dGhpcy5jYXRlZ29yaWVzLnB1c2goe1xyXG5cdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdG5hbWU6IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWRcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUodGhpcy50ZXh0VW5jYXRlZ29yaXplZCk7XHJcblxyXG5cdFx0XHQvLyBPdGhlciBjYXRlZ29yaWVzXHJcblx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkodGhpcy5yZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0cy5mb3JFYWNoKHJlcG9ydCA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBpZCA9IHRoaXMubmV4dElkKys7XHJcblx0XHRcdFx0XHRsZXQgY3VycmVudENhdGVnb3J5TmFtZSA9IHJlcG9ydC5DYXRlZ29yeTtcclxuXHRcdFx0XHRcdGlmICghY3VycmVudENhdGVnb3J5TmFtZSlcclxuXHRcdFx0XHRcdFx0Y3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQ7XHJcblx0XHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gIXJlcG9ydC5TdWJjYXRlZ29yeVxyXG5cdFx0XHRcdFx0XHQ/IGN1cnJlbnRDYXRlZ29yeU5hbWVcclxuXHRcdFx0XHRcdFx0OiBjdXJyZW50Q2F0ZWdvcnlOYW1lICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXBvcnQuU3ViY2F0ZWdvcnk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuY2F0ZWdvcmllcyAmJiB0aGlzLmNhdGVnb3JpZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdGlmICghdGhpcy5jYXRlZ29yaWVzLmZpbmQoYyA9PiBjLm5hbWUgPT09IGN1cnJlbnRDYXRlZ29yeU5hbWUpKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gaWYgaGF2ZSd0IGFscmVhZHkgYWRkZWRcclxuXHRcdFx0XHRcdFx0XHR2YXIgY2F0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogY3VycmVudENhdGVnb3J5TmFtZVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0KTtcclxuXHRcdFx0XHRcdFx0XHRpZiAocmVwb3J0SW5mby5jYXRlZ29yeSA9PT0gY3VycmVudENhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gY2F0O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmlzU2VsZWN0RGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogXCJFbnRlclwiIGJ1dHRvbiBrZXkgcHJlc3MgaGFuZGxlciBmb3IgcmVwb3J0IG5hbWUgPGlucHV0PlxyXG5cdCAqIEBwYXJhbSB7ZXZlbnQgb2JqZWN0fSAkZXZlbnQuXHJcblx0ICovXHJcblx0cmVwb3J0TmFtZUtleVByZXNzZWQoJGV2ZW50OiBKUXVlcnkuRXZlbnQpIHtcclxuXHRcdGlmICgkZXZlbnQua2V5Q29kZSA9PT0gSlF1ZXJ5LktleS5FbnRlcilcclxuXHRcdFx0dGhpcy5jb21wbGV0ZUhhbmRsZXIoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9LIGJ1dHRvbiBwcmVzc2VkXHJcblx0ICovXHJcblx0Y29tcGxldGVIYW5kbGVyKCkge1xyXG5cdFx0dGhpcy52YWxpZGF0ZUZvcm0oKS50aGVuKCgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZU1vZGFsKCk7XHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5TmFtZSA9IHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID8gdGhpcy5uZXdDYXRlZ29yeU5hbWUgOiB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uU2VsZWN0ZWQpKSB7XHJcblx0XHRcdFx0dGhpcy5vblNlbGVjdGVkKHtcclxuXHRcdFx0XHRcdHJlcG9ydE5hbWU6IHRoaXMucmVwb3J0TmFtZSxcclxuXHRcdFx0XHRcdGNhdGVnb3J5TmFtZTogY2F0ZWdvcnlOYW1lXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0sICgpID0+IHsgfSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcmVwb3J0IHdpdGggZ2l2ZW4gbmFtZSBmcm9tIHJlcG9ydCBsaXN0XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydCBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGxpc3Qgd2l0aCByZXBvcnRzLlxyXG5cdCAqL1xyXG5cdGlzUmVwb3J0SW5SZXBvcnRMaXN0KHJlcG9ydE5hbWU6IHN0cmluZywgcmVwb3J0TGlzdDogYW55W10pOiBib29sZWFuIHtcclxuXHRcdGlmICghcmVwb3J0TGlzdCB8fCAhcmVwb3J0TGlzdC5sZW5ndGgpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiByZXBvcnRMaXN0LmZpbmQocnMgPT4gcnMuTmFtZSA9PT0gcmVwb3J0TmFtZS50cmltKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZvcm0gdG8gaXQncyBpbml0aWFsIHN0YXRlXHJcblx0ICovXHJcblx0cmVzZXRGb3JtKCkge1xyXG5cdFx0Y29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0dGhpcy5lcnJvck1lc3NhZ2VzID0gW107XHJcblx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5uZXdDYXRlZ29yeU5hbWUgPSAnJztcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcclxuXHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLnJlcG9ydFNldHMgPSBbXTtcclxuXHRcdHRoaXMuaXNOYW1lRm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0NhdGVnb3J5Rm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0aWYgKHRoaXMuaXNOZXdSZXBvcnREaWFsb2cpIHtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gJyc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBzZXBhcmF0b3JJbmRleCA9IChyZXBvcnRJbmZvICYmIHJlcG9ydEluZm8ubmFtZSlcclxuXHRcdFx0XHQ/IHJlcG9ydEluZm8ubmFtZS5sYXN0SW5kZXhPZih0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSlcclxuXHRcdFx0XHQ6IC0xO1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSAoc2VwYXJhdG9ySW5kZXggPCAwKSA/IHJlcG9ydEluZm8ubmFtZSA6IHJlcG9ydEluZm8ubmFtZS5zdWJzdHIoc2VwYXJhdG9ySW5kZXggKyAxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIGFsbCBmb2N1c1xyXG5cdCAqL1xyXG5cdGNsZWFyRm9jdXMoKSB7XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmb2N1cyBvbiByZXBvcnQgbmFtZSBpbnB1dFxyXG5cdCAqL1xyXG5cdHNldEZvY3VzKCkge1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhdGVnb3JpZXMgd2VyZSB1cGRhdGVkLlxyXG5cdCAqL1xyXG5cdHVwZGF0ZUNhdGVnb3JpZXNIYW5kbGVyKG5ld0NhdGVnb3JpZXM6IHN0cmluZ1tdKSB7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBuZXdDYXRlZ29yaWVzLm1hcChuZXdDYXRlZ29yeU5hbWUgPT4ge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdG5hbWU6IG5ld0NhdGVnb3J5TmFtZVxyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBzZWxlY3RlZENhdGVnb3J5TmFtZSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA/IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lIDogbnVsbDtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUoc2VsZWN0ZWRDYXRlZ29yeU5hbWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVwb3J0IGNhdGVnb3J5IHNlbGVjdGVkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRjYXRlZ29yeVNlbGVjdGVkSGFuZGxlcihjYXRlZ29yeTogc3RyaW5nKSB7XHJcblx0XHRpZiAoIXRoaXMuaXNDYXRlZ29yeUFsbG93ZWQpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZSh0aGlzLnRleHRVbmNhdGVnb3JpemVkKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUoY2F0ZWdvcnkpO1xyXG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSAhPT0gbnVsbCkge1xyXG5cdFx0XHRpZiAodGhpcy5zZWxlY3RlZENhdGVnb3J5Lm5hbWUgPT09IHRoaXMudGV4dENyZWF0ZU5ldykge1xyXG5cdFx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLmNsZWFyRm9jdXMoKTtcclxuXHRcdFx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgZm9ybVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgdmFsaWRhdGVGb3JtKCk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lIG5vdCBlbXB0eVxyXG5cdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMubGVuZ3RoID0gMDtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gYW5ndWxhci5pc1N0cmluZyh0aGlzLnJlcG9ydE5hbWUpID8gdGhpcy5yZXBvcnROYW1lLnRyaW0oKSA6ICcnO1xyXG5cdFx0XHRpZiAoIXRoaXMucmVwb3J0TmFtZSkge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMudGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5KTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lIGlzIHZhbGlkXHJcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDb21tb25TZXR0aW5ncygpO1xyXG5cdFx0XHR2YXIgcmVwb3J0TmFtZUZpeGVkID0gd2luZG93LnV0aWxpdHkuZml4UmVwb3J0TmFtZVBhdGgodGhpcy5yZXBvcnROYW1lLFxyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpLFxyXG5cdFx0XHRcdHNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnMsXHJcblx0XHRcdFx0c2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycyk7XHJcblx0XHRcdGlmICghcmVwb3J0TmFtZUZpeGVkKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZSk7XHJcblx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMucmVwb3J0TmFtZSA9IHJlcG9ydE5hbWVGaXhlZDtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGNhdGVnb3J5XHJcblx0XHRcdGlmICh0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSkge1xyXG5cdFx0XHRcdHZhciBmaXhlZENhdGVnb3J5TmFtZSA9IHdpbmRvdy51dGlsaXR5LmZpeFJlcG9ydE5hbWVQYXRoKHRoaXMubmV3Q2F0ZWdvcnlOYW1lLFxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCksXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5zdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdFx0c2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycyk7XHJcblx0XHRcdFx0aWYgKCFmaXhlZENhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JJbnZhbGlkQ2F0ZWdvcnlOYW1lKTtcclxuXHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9IGZpeGVkQ2F0ZWdvcnlOYW1lO1xyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMubmV3Q2F0ZWdvcnlOYW1lID09PSB0aGlzLmNhdGVnb3JpZXNbaV1bJ25hbWUnXSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dENhdGVnb3J5RXhpc3QodGhpcy5uZXdDYXRlZ29yeU5hbWUpKTtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjaGVjayByZXBvcnQgbmFtZVxyXG5cdFx0XHR2YXIgc2VsZWN0ZWRDYXRlZ29yeU5hbWUgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZTtcclxuXHJcblx0XHRcdC8vIHJlc29sdmUgaWYgaXQgaXMgc2FtZSByZXBvcnRcclxuXHRcdFx0dmFyIHJlcG9ydEluZm8gPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLmdldFJlcG9ydEluZm8oKTtcclxuXHRcdFx0aWYgKHJlcG9ydEluZm8ubmFtZSA9PT0gdGhpcy5yZXBvcnROYW1lICYmIHJlcG9ydEluZm8uY2F0ZWdvcnkgPT09IHNlbGVjdGVkQ2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy5nZXRFcnJvclRleHRSZXBvcnRFeGlzdChzZWxlY3RlZENhdGVnb3J5TmFtZSArXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArXHJcblx0XHRcdFx0XHR0aGlzLnJlcG9ydE5hbWUpKTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBpc24ndCBpbiB0aGF0IGNhdGVnb3J5XHJcblx0XHRcdGlmIChzZWxlY3RlZENhdGVnb3J5TmFtZSA9PT0gdGhpcy50ZXh0VW5jYXRlZ29yaXplZCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLmlzUmVwb3J0SW5SZXBvcnRMaXN0KHRoaXMucmVwb3J0TmFtZSwgdGhpcy5yZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy5nZXRFcnJvclRleHRSZXBvcnRFeGlzdChzZWxlY3RlZENhdGVnb3J5TmFtZSArXHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZXBvcnROYW1lKSk7XHJcblx0XHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5nZXRSZXBvcnRTZXRDYXRlZ29yeShzZWxlY3RlZENhdGVnb3J5TmFtZSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucmVwb3J0U2V0cyA9IGRhdGEuUmVwb3J0U2V0cztcclxuXHRcdFx0XHRcdGlmICh0aGlzLmlzUmVwb3J0SW5SZXBvcnRMaXN0KHRoaXMucmVwb3J0TmFtZSwgZGF0YS5SZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZXBvcnROYW1lKSk7XHJcblx0XHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNhdGVnb3J5IG9iamVjdCBieSBpdCdzIGlkXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRDYXRlZ29yeU9iamVjdEJ5SWQoaWQ6IG51bWJlcik6IENhdGVnb3J5T2JqZWN0IHtcclxuXHRcdHJldHVybiB0aGlzLmNhdGVnb3JpZXMuZmluZChjYXRlZ29yeSA9PiBjYXRlZ29yeS5pZCA9PT0gaWQpIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY2F0ZWdvcnkgb2JqZWN0IGJ5IGl0J3MgbmFtZVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUobmFtZTogc3RyaW5nKTogQ2F0ZWdvcnlPYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2F0ZWdvcmllcy5maW5kKGNhdGVnb3J5ID0+IGNhdGVnb3J5Lm5hbWUgPT09IG5hbWUpIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEludmFsaWRDaGFyc1JlZ2V4KCk6IFJlZ0V4cCB7XHJcblx0XHRsZXQgYWRkaXRpb25hbENoYXJhY3RlciA9ICcnO1xyXG5cdFx0aWYgKGpzUmVzb3VyY2VzLmNhdGVnb3J5Q2hhcmFjdGVyICE9PSAnXFxcXCcpXHJcblx0XHRcdGFkZGl0aW9uYWxDaGFyYWN0ZXIgPSBqc1Jlc291cmNlcy5jYXRlZ29yeUNoYXJhY3Rlci5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcclxuXHRcdHJldHVybiBuZXcgUmVnRXhwKCdbXkEtWmEtejAtOV8vJyArIGFkZGl0aW9uYWxDaGFyYWN0ZXIgKyBcIlxcXFwtJycgXFxcXFxcXFxdXCIsICdnJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEVycm9yVGV4dENhdGVnb3J5RXhpc3QoY2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0V2l0aFBhcmFtcygnanNfQ2F0ZWdvcnlFeGlzdCcsXHJcblx0XHRcdCdDYXRlZ29yeSB3aXRoIG5hbWUgXCJ7MH1cIiBhbHJlYWR5IGV4aXN0LicsXHJcblx0XHRcdFtjYXRlZ29yeU5hbWVdKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3QoZnVsbFJlcG9ydE5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKCdqc19SZXBvcnRBbHJlYWR5RXhpc3QnLFxyXG5cdFx0XHQnRGFzaGJvYXJkIG9yIHJlcG9ydCBcInswfVwiIGFscmVhZHkgZXhpc3QnLFxyXG5cdFx0XHRbZnVsbFJlcG9ydE5hbWVdKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFDYXRlZ29yeVNlbGVjdFNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRjYXRlZ29yaWVzOiBDYXRlZ29yeU9iamVjdFtdO1xyXG5cdGNhdGVnb3J5OiBDYXRlZ29yeU9iamVjdDtcclxuXHRvblNlbGVjdDogYW55O1xyXG5cdG9uQ2F0ZWdvcmllc0NoYW5nZWQ6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQ2F0ZWdvcnlTZWxlY3QgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGNhdGVnb3JpZXM6ICc9JyxcclxuXHRcdGNhdGVnb3J5OiAnPScsXHJcblx0XHRvblNlbGVjdDogJyYnLFxyXG5cdFx0b25DYXRlZ29yaWVzQ2hhbmdlZDogJyYnXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQ2F0ZWdvcnlTZWxlY3RTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUNhdGVnb3J5U2VsZWN0LnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUNhdGVnb3J5U2VsZWN0U2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBjYXRlZ29yeUNoYXJhY3RlciA9ICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKTtcclxuXHRcdFx0Y29uc3QgY29tbW9uU2V0dGluZ3MgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCk7XHJcblx0XHRcdGNvbnN0IHN0cmlwSW52YWxpZENoYXJhY3RlcnMgPSBjb21tb25TZXR0aW5ncy5zdHJpcEludmFsaWRDaGFyYWN0ZXJzO1xyXG5cdFx0XHRjb25zdCBhbGxvd0ludmFsaWRDaGFyYWN0ZXJzID0gY29tbW9uU2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycztcclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlDb250cm9sID0gbmV3IEFkSG9jLlV0aWxpdHkuSXplbmRhQ2F0ZWdvcnlTZWxlY3RvckNvbnRyb2woXHJcblx0XHRcdFx0JGVsZW1lbnQsXHJcblx0XHRcdFx0Y2F0ZWdvcnlDaGFyYWN0ZXIsXHJcblx0XHRcdFx0c3RyaXBJbnZhbGlkQ2hhcmFjdGVycyxcclxuXHRcdFx0XHRhbGxvd0ludmFsaWRDaGFyYWN0ZXJzKTtcclxuXHRcdFx0Y2F0ZWdvcnlDb250cm9sLmFkZFNlbGVjdGVkSGFuZGxlcih2YWwgPT4ge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uU2VsZWN0KSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uU2VsZWN0KHtcclxuXHRcdFx0XHRcdFx0dmFsOiB2YWxcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGZvciBjb2xsYXBzZWQgc3RhdGUgY2hhbmdlXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCdjYXRlZ29yaWVzJywgKCkgPT4ge1xyXG5cdFx0XHRcdHVwZGF0ZUNhdGVnb3JpZXMoKTtcclxuXHRcdFx0XHR1cGRhdGVDYXRlZ29yeSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnY2F0ZWdvcnknLCAoKSA9PiB7XHJcblx0XHRcdFx0dXBkYXRlQ2F0ZWdvcnkoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiB1cGRhdGVDYXRlZ29yaWVzKCkge1xyXG5cdFx0XHRcdGNvbnN0IHByZXZpb3VzTGVuZ3RoID0gJHNjb3BlLmNhdGVnb3JpZXMubGVuZ3RoO1xyXG5cdFx0XHRcdGNhdGVnb3J5Q29udHJvbC5zZXRDYXRlZ29yaWVzKCRzY29wZS5jYXRlZ29yaWVzKTtcclxuXHRcdFx0XHRjb25zdCBuZXdDYXRlZ29yaWVzID0gY29sbGVjdENhdGVnb3JpZXMoKTtcclxuXHRcdFx0XHRpZiAocHJldmlvdXNMZW5ndGggIT09IG5ld0NhdGVnb3JpZXMubGVuZ3RoICYmIGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25DYXRlZ29yaWVzQ2hhbmdlZCkpIHtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNhdGVnb3JpZXNDaGFuZ2VkKHtcclxuXHRcdFx0XHRcdFx0bmV3Q2F0ZWdvcmllczogbmV3Q2F0ZWdvcmllc1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3J5KCkge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KCRzY29wZS5jYXRlZ29yeSkgJiYgJHNjb3BlLmNhdGVnb3J5LmlkICE9PSAxKSB7XHJcblx0XHRcdFx0XHRjYXRlZ29yeUNvbnRyb2wuc2VsZWN0KCRzY29wZS5jYXRlZ29yeS5uYW1lKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbGxlY3RDYXRlZ29yaWVzKCkge1xyXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSBhbmd1bGFyLmVsZW1lbnQubWFwKCRlbGVtZW50LmNoaWxkcmVuKCdvcHRpb24nKSwgKCRvcHRpb246IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRvcHRpb24udmFsdWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkgPT4gbmV3IEl6ZW5kYUNhdGVnb3J5U2VsZWN0KCRpemVuZGFTZXR0aW5nc1NlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUNhdGVnb3J5U2VsZWN0JywgWyckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgSXplbmRhQ2F0ZWdvcnlTZWxlY3QuZmFjdG9yeSgpXSk7XHJcblxyXG5jbGFzcyBDYXRlZ29yeU9iamVjdCB7XHJcblx0aWQ6IG51bWJlcjtcclxuXHRuYW1lOiBzdHJpbmc7XHJcbn0iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNoYXJlUnVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhVWlNb2R1bGUsXHJcblx0J2l6ZW5kYVNoYXJlQ29tcG9uZW50JyxcclxuXHRbJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFTaGFyZVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2hhcmUuc2hhcmUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRzdWJqZWN0czogJzwnLFxyXG5cdFx0XHRyaWdodHM6ICc8JyxcclxuXHRcdFx0c2hhcmVSdWxlczogJzwnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2hhcmVDb21wb25lbnQge1xyXG5cdC8vIHZhcmlhYmxlcyBmb3IgYmluZGluZyBkZWZpbml0aW9uOlxyXG5cdHN1YmplY3RzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHJpZ2h0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzaGFyZVJ1bGVzOiBBcnJheTxJemVuZGFTaGFyZVJ1bGVNb2RlbD47XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNoYXJlU2VydmljZTogSXplbmRhU2hhcmVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzaGFyZSBydWxlIHNlbGVjdGVkIHJpZ2h0IGlzIHZhbGlkXHJcblx0ICovXHJcblx0Z2V0U2hhcmVSdWxlVmFsaWRhdGlvbk1lc3NhZ2Uoc2hhcmVSdWxlOiBJemVuZGFTaGFyZVJ1bGVNb2RlbCkge1xyXG5cdFx0aWYgKCFzaGFyZVJ1bGUucmlnaHQgJiYgIXNoYXJlUnVsZS5zdWJqZWN0KVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXNzZXNhcnlTZWxlY3RSaWdodCcsXHJcblx0XHRcdFx0J0l0IGlzIG5lY2Vzc2FyeSB0byBjaG9vc2UgdGhlIHJpZ2h0LCBvdGhlcndpc2UgaXQgd2lsbCBiZSBpZ25vcmVkLicpO1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgc2hhcmUgcnVsZSBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTaGFyZVJ1bGVNb2RlbH0gc2hhcmVSdWxlXHJcblx0ICovXHJcblx0cmVtb3ZlU2hhcmVSdWxlKHNoYXJlUnVsZTogSXplbmRhU2hhcmVSdWxlTW9kZWwpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVNoYXJlU2VydmljZS5yZW1vdmVTaGFyZVJ1bGUoc2hhcmVSdWxlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBzaGFyZSBydWxlXHJcblx0ICovXHJcblx0YWRkU2hhcmVSdWxlKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLmFkZE5ld1NoYXJlUnVsZSgpO1xyXG5cdH1cclxufSIsImltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNjaGVkdWxlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2NoZWR1bGUtc2VydmljZSc7XHJcbkl6ZW5kYVNoYXJlU2VydmljZS5yZWdpc3RlcihpemVuZGFVaU1vZHVsZSk7XHJcbkl6ZW5kYVNjaGVkdWxlU2VydmljZS5yZWdpc3RlcihpemVuZGFVaU1vZHVsZSk7XHJcblxyXG4vLyByZWdpc3RlciBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzXHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYWxpZ24tc3dpdGNoZXInO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZSc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYm9vdHN0cmFwJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9jb2xvci1waWNrZXInO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvcmVwb3J0LXZpZXdlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc2VsZWN0LWNoZWNrYm94ZXMnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc3dpdGNoZXInO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL3RvZ2dsZS1idXR0b24nO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2VsZWN0LXJlcG9ydC9zZWxlY3QtcmVwb3J0LWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2VsZWN0LXJlcG9ydC1uYW1lL3NlbGVjdC1yZXBvcnQtbmFtZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudCc7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvbW9kdWxlJztcclxuaW1wb3J0ICdjb21tb24vcXVlcnkvbW9kdWxlJztcclxuaW1wb3J0ICdjb21tb24vdWkvbW9kdWxlJztcclxuXHJcbi8vIGNvbW1vblxyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IHsgSXplbmRhQ29tbW9uTG9hZGVyIH0gZnJvbSAnY29tbW9uL2NvbW1vbi1tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCB7IElJemVuZGFJbnN0YW50UmVwb3J0Q29uZmlnIH0gZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kZWxzL2luc3RhbnQtcmVwb3J0LWNvbmZpZyc7XHJcblxyXG4vLyBDcmVhdGUgaW5zdGFudCByZXBvcnQgYW5ndWxhciBtb2R1bGVcclxuY29uc3QgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGFJbnN0YW50UmVwb3J0JywgW1xyXG5cdCduZ0Nvb2tpZXMnLFxyXG5cdCdyeCcsXHJcblx0J2l6ZW5kYS5jb21tb24uY29yZScsXHJcblx0J2l6ZW5kYS5jb21tb24ucXVlcnknLFxyXG5cdCdpemVuZGEuY29tbW9uLnVpJ1xyXG5dKTtcclxuZXhwb3J0IGRlZmF1bHQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZTtcclxuXHJcbi8vIGNvbmZpZ3VyZSBjb21tb24gdWkgbW9kdWxlOlxyXG5pemVuZGFVaU1vZHVsZVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQnLCBbJ2pzX1JlcG9ydE5hbWUnLCAnUmVwb3J0IE5hbWUnXSlcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUVtcHR5RXJyb3InLCBbJ2pzX05hbWVDYW50QmVFbXB0eScsICdSZXBvcnQgbmFtZSBjYW5cXCd0IGJlIGVtcHR5LiddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW52YWxpZEVycm9yJywgWydqc19JbnZhbGlkUmVwb3J0TmFtZScsICdJbnZhbGlkIHJlcG9ydCBuYW1lJ10pO1xyXG5cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUluc3RhbnRSZXBvcnRMb2FkZXIge1xyXG5cclxuXHRzdGF0aWMgY29uZmlndXJlSW5zdGFudFJlcG9ydE1vZHVsZXMoaW5zdGFudFJlcG9ydENvbmZpZzogSUl6ZW5kYUluc3RhbnRSZXBvcnRDb25maWcpIHtcclxuXHRcdC8vIGNvbmZpZ3VyZSBpbnN0YW50IHJlcG9ydCBtb2R1bGVcclxuXHRcdGNvbnN0IG1vZHVsZSA9IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGVcclxuXHRcdFx0LmNvbmZpZyhbJyRsb2dQcm92aWRlcicsICRsb2dQcm92aWRlciA9PiAkbG9nUHJvdmlkZXIuZGVidWdFbmFibGVkKGZhbHNlKV0pXHJcblx0XHRcdC5jb25maWcoWyckcHJvdmlkZScsICRwcm92aWRlID0+IHtcclxuXHRcdFx0XHQkcHJvdmlkZS5kZWNvcmF0b3IoJyRicm93c2VyJywgWyckZGVsZWdhdGUnLCAkZGVsZWdhdGUgPT4ge1xyXG5cdFx0XHRcdFx0JGRlbGVnYXRlLm9uVXJsQ2hhbmdlID0gKCkgPT4geyB9O1xyXG5cdFx0XHRcdFx0JGRlbGVnYXRlLnVybCA9ICgpID0+ICcnO1xyXG5cdFx0XHRcdFx0cmV0dXJuICRkZWxlZ2F0ZTtcclxuXHRcdFx0XHR9XSk7XHJcblx0XHRcdH1dKVxyXG5cdFx0XHQudmFsdWUoJyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NWYWx1ZScsIGluc3RhbnRSZXBvcnRDb25maWcpO1xyXG5cdFx0cmV0dXJuIG1vZHVsZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJvb3RzdHJhcCBhbmd1bGFyIGFwcDpcclxuXHQgKiB3aW5kb3cudXJsU2V0dGluZ3MkIG9iamVjdHMgc2hvdWxkIGJlIGRlZmluZWQgYmVmb3JlIHRoaXMgbW9tZW50LlxyXG5cdCAqL1xyXG5cdHN0YXRpYyBib290c3RyYXAoKSB7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuXHRcdFx0Ly8gY29tbW9uIHNldHRpbmdzIHByb21pc2U6XHJcblx0XHRcdGNvbnN0IGNvbW1vblF1ZXJ5U2V0dGluZ3NQcm9taXNlID0gSXplbmRhQ29tbW9uTG9hZGVyLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0Ly8gaW5zdGFudCByZXBvcnQgc2V0dGluZ3MgcHJvbWlzZTpcclxuXHRcdFx0Y29uc3QgdXJsU2V0dGluZ3MgPSB3aW5kb3cudXJsU2V0dGluZ3MkO1xyXG5cdFx0XHRjb25zdCByc1BhZ2VVcmwgPSB1cmxTZXR0aW5ncy51cmxSc1BhZ2U7XHJcblx0XHRcdGNvbnN0IHNldHRpbmdzVXJsID0gcnNQYWdlVXJsICsgJz93c2NtZD1nZXRJbnN0YW50UmVwb3J0U2V0dGluZ3MnO1xyXG5cdFx0XHRjb25zdCBpbnN0YW50UmVwb3J0U2V0dGluZ3NQcm9taXNlID0gYW5ndWxhci5lbGVtZW50LmdldChzZXR0aW5nc1VybCk7XHJcblxyXG5cdFx0XHQvLyB3YWl0IHdoaWxlIGFsbCBzZXR0aW5ncyBhcmUgbG9hZGVkOlxyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnRcclxuXHRcdFx0XHQud2hlbihjb21tb25RdWVyeVNldHRpbmdzUHJvbWlzZSwgaW5zdGFudFJlcG9ydFNldHRpbmdzUHJvbWlzZSlcclxuXHRcdFx0XHQudGhlbigoY29tbW9uU2V0dGluZ3NSZXN1bHQsIGluc3RhbnRSZXBvcnRTZXR0aW5nc1Jlc3VsdCkgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gZ2V0IGluc3RhbnQgcmVwb3J0IGNvbmZpZyBvYmplY3RcclxuXHRcdFx0XHRcdGNvbnN0IGNvbmZpZ09iamVjdCA9IGluc3RhbnRSZXBvcnRTZXR0aW5nc1Jlc3VsdFswXSBhcyBJSXplbmRhSW5zdGFudFJlcG9ydENvbmZpZztcclxuXHRcdFx0XHRcdGNvbmZpZ09iamVjdC5tb3ZlVW5jYXRlZ29yaXplZFRvTGFzdFBvc2l0aW9uID0gdHJ1ZTtcclxuXHRcdFx0XHRcdC8vIGNyZWF0ZSBhbmQgY29uZmlndXJlIG1vZHVsZXM6XHJcblx0XHRcdFx0XHRJemVuZGFJbnN0YW50UmVwb3J0TG9hZGVyLmNvbmZpZ3VyZUluc3RhbnRSZXBvcnRNb2R1bGVzKGNvbmZpZ09iamVjdCk7XHJcblx0XHRcdFx0XHQvLyBib290c3RyYXAgYXBwbGljYXRpb246XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNpemVuZGFJbnN0YW50UmVwb3J0Um9vdENvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuYm9vdHN0cmFwKCcjaXplbmRhSW5zdGFudFJlcG9ydFJvb3RDb250YWluZXInLCBbJ2l6ZW5kYUluc3RhbnRSZXBvcnQnXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9ycy1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBJemVuZGEgcXVlcnkgc2VydmljZSB3aGljaCBwcm92aWRlcyBkYXNoYm9hcmQgc3BlY2lmaWMgcXVlcmllc1xyXG4gKiB0aGlzIGlzIHNpbmdsZXRvblxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSB7XHJcblxyXG5cdHByaXZhdGUgcmVxdWVzdExpc3Q6IGFueVtdO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHEnLCAnJGh0dHAnLCAnJHdpbmRvdycsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXRpbFVpU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFSc1F1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRodHRwOiBuZy5JSHR0cFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlOiBJemVuZGFSc1F1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXF1ZXN0TGlzdCA9IFtdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHR5cGUgZ3JvdXAgb2YgZmllbGQgb3BlcmF0b3JcclxuXHQgKi9cclxuXHRnZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKG9wZXJhdG9yKSB7XHJcblx0XHRjb25zdCBoaWRkZW5PcGVyYXRvcnMgPSBbJ0JsYW5rJywgJ05vdEJsYW5rJywgJ1VzZVByZXZpb3VzT1InLCAnVHJ1ZScsICdGYWxzZSddO1xyXG5cdFx0Y29uc3Qgb25lVmFsdWVPcGVyYXRvcnMgPSBbXHJcblx0XHRcdCdMZXNzVGhhbicsICdHcmVhdGVyVGhhbicsICdMZXNzVGhhbk5vdCcsICdHcmVhdGVyVGhhbk5vdCcsICdFcXVhbHMnLCAnTm90RXF1YWxzJywgJ0xpa2UnLFxyXG5cdFx0XHQnQmVnaW5zV2l0aCcsICdFbmRzV2l0aCcsICdOb3RMaWtlJywgJ0xlc3NUaGFuX0RheXNPbGQnLCAnR3JlYXRlclRoYW5fRGF5c09sZCcsICdFcXVhbHNfRGF5c09sZCcsXHJcblx0XHRcdCdMZXNzVGhhbl9EYXlzT2xkJyxcclxuXHRcdFx0J0dyZWF0ZXJUaGFuX0RheXNPbGQnLCAnRXF1YWxzX0RheXNPbGQnXHJcblx0XHRdO1xyXG5cdFx0Y29uc3QgdHdvVmFsdWVPcGVyYXRvcnMgPSBbJ0JldHdlZW4nLCAnTm90QmV0d2VlbiddO1xyXG5cdFx0Y29uc3Qgc2VsZWN0VmFsdWVzT3BlcmF0b3JzID0gWydFcXVhbHNfU2VsZWN0JywgJ05vdEVxdWFsc19TZWxlY3QnXTtcclxuXHRcdGNvbnN0IHNlbGVjdE11bHRpcGxlVmFsdWVzT3BlcmF0b3JzID0gWydFcXVhbHNfTXVsdGlwbGUnLCAnTm90RXF1YWxzX011bHRpcGxlJ107XHJcblx0XHRjb25zdCBzZWxlY3RQb3B1cFZhbHVlc09wZXJhdG9ycyA9IFsnRXF1YWxzUG9wdXAnLCAnTm90RXF1YWxzUG9wdXAnXTtcclxuXHRcdGNvbnN0IHNlbGVjdENoZWNrYm94ZXNWYWx1ZXNPcGVyYXRvcnMgPSBbJ0VxdWFsc19DaGVja0JveGVzJ107XHJcblx0XHRjb25zdCBzZWxlY3RPbmVEYXRlT3BlcmF0b3JzID0gWydFcXVhbHNDYWxlbmRhcicsICdOb3RFcXVhbHNDYWxlbmRhciddO1xyXG5cdFx0Y29uc3Qgc2VsZWN0VHdvRGF0ZXNPcGVyYXRvcnMgPSBbJ0JldHdlZW5Ud29EYXRlcycsICdOb3RCZXR3ZWVuVHdvRGF0ZXMnXTtcclxuXHRcdGNvbnN0IGZpZWxkT3BlcmF0b3JzID0gWydMZXNzVGhhbkZpZWxkJywgJ0dyZWF0ZXJUaGFuRmllbGQnLCAnRXF1YWxzRmllbGQnLCAnTm90RXF1YWxzRmllbGQnXTtcclxuXHRcdGNvbnN0IGluVGltZVBlcmlvZCA9IFsnSW5UaW1lUGVyaW9kJ107XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3Qob3BlcmF0b3IpKVxyXG5cdFx0XHRyZXR1cm4gJ2hpZGRlbic7XHJcblx0XHRpZiAoIW9wZXJhdG9yLnZhbHVlIHx8IGhpZGRlbk9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ2hpZGRlbic7XHJcblx0XHRpZiAob25lVmFsdWVPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0cmV0dXJuICdvbmVWYWx1ZSc7XHJcblx0XHRpZiAodHdvVmFsdWVPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0cmV0dXJuICd0d29WYWx1ZXMnO1xyXG5cdFx0aWYgKHNlbGVjdFZhbHVlc09wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ3NlbGVjdCc7XHJcblx0XHRpZiAoc2VsZWN0TXVsdGlwbGVWYWx1ZXNPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0cmV0dXJuICdzZWxlY3RfbXVsdGlwbGUnO1xyXG5cdFx0aWYgKHNlbGVjdFBvcHVwVmFsdWVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdHJldHVybiAnc2VsZWN0X3BvcHVwJztcclxuXHRcdGlmIChzZWxlY3RDaGVja2JveGVzVmFsdWVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdHJldHVybiAnc2VsZWN0X2NoZWNrYm94ZXMnO1xyXG5cdFx0aWYgKHNlbGVjdE9uZURhdGVPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0cmV0dXJuICdvbmVEYXRlJztcclxuXHRcdGlmIChzZWxlY3RUd29EYXRlc09wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ3R3b0RhdGVzJztcclxuXHRcdGlmIChmaWVsZE9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ2ZpZWxkJztcclxuXHRcdGlmIChpblRpbWVQZXJpb2QuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMCkge1xyXG5cdFx0XHRyZXR1cm4gJ2luVGltZVBlcmlvZCc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3BlcmF0b3IudmFsdWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYWxjdWxhdGUgY3VycmVudCBhY3R1YWwgdHlwZSBncm91cCBmb3IgZmllbGQuXHJcblx0ICovXHJcblx0Z2V0Q3VycmVudFR5cGVHcm91cChmaWVsZCwgZGF0YVR5cGVHcm91cD8pIHtcclxuXHRcdGxldCB0eXBlR3JvdXA6IGFueTtcclxuXHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhVHlwZUdyb3VwKSkge1xyXG5cdFx0XHR0eXBlR3JvdXAgPSBkYXRhVHlwZUdyb3VwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgZXhwcmVzc2lvblR5cGU6IHsgdmFsdWU6IGFueSB9ID0gZmllbGQuZXhwcmVzc2lvblR5cGU7XHJcblx0XHRcdHR5cGVHcm91cCA9IGFuZ3VsYXIuaXNPYmplY3QoZXhwcmVzc2lvblR5cGUpICYmIGV4cHJlc3Npb25UeXBlLnZhbHVlICE9PSAnLi4uJ1xyXG5cdFx0XHRcdD8gZXhwcmVzc2lvblR5cGUudmFsdWVcclxuXHRcdFx0XHQ6IGZpZWxkLnR5cGVHcm91cDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0eXBlR3JvdXA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZGF0YXNvdXJjZXNcclxuXHQgKi9cclxuXHRnZXREYXRhc291cmNlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0anNvbnNjaGVtYScsIFsnbGF6eSddLCB7XHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBkYXRhc291cmNlcycsXHJcblx0XHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZmllbGQgaW5mbyBieSBnaXZlbiBzcWwgY29sdW1uIG5hbWUuXHJcblx0ICovXHJcblx0Z2V0RmllbGRzSW5mbyhmaWVsZFN5c05hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0ZmllbGRzaW5mbycsIFtmaWVsZFN5c05hbWVdLCB7XHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiBmaWVsZE5hbWUgPT4gYEZhaWxlZCB0byBnZXQgZmllbGQgaW5mbyBmb3IgZmllbGQgJHtmaWVsZE5hbWV9YCxcclxuXHRcdFx0XHRwYXJhbXM6IFtmaWVsZFN5c05hbWVdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VhcmNoIGZpZWxkcyBpbiBkYXRhc291cmNlcyAocmV0dXJucyByYW5nZSBvZiB2YWx1ZXMgW2Zyb20sIHRvXSlcclxuXHQgKi9cclxuXHRmaW5kSW5EYXRhc291cmNlcyhzZWFyY2hTdHJpbmcsIGZyb20sIHRvKSB7XHJcblx0XHRsZXQgcGFyYW1zID0gW2VuY29kZVVSSUNvbXBvbmVudChzZWFyY2hTdHJpbmcpXTtcclxuXHRcdGlmIChhbmd1bGFyLmlzTnVtYmVyKGZyb20pICYmIGFuZ3VsYXIuaXNOdW1iZXIodG8pKVxyXG5cdFx0XHRwYXJhbXMgPSBwYXJhbXMuY29uY2F0KFN0cmluZyhmcm9tKSwgU3RyaW5nKHRvKSk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2ZpbmRmaWVsZHMnLCBwYXJhbXMsIHtcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6IHNTdHJpbmcgPT4gYEZhaWxlZCB0byBzZWFyY2ggZmllbGRzIGFuZCB0YWJsZXMgYnkga2V5d29yZDogJHtzU3RyaW5nfWAsXHJcblx0XHRcdFx0cGFyYW1zOiBbc2VhcmNoU3RyaW5nXVxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgcmVwb3J0IGpzb24gY29uZmlnXHJcblx0ICovXHJcblx0bG9hZFJlcG9ydChyZXBvcnRGdWxsTmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmFwaVF1ZXJ5KCdsb2FkUmVwb3J0U2V0Q29uZmlnSnNvbicsIFtyZXBvcnRGdWxsTmFtZV0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIGFsbCBydW5uaW5nIHByZXZpZXcgcXVlcmllcy4gQWxsIHF1ZXJpZXMgd2lsbCBiZSByZWplY3RlZC5cclxuXHQgKi9cclxuXHRjYW5jZWxBbGxQcmV2aWV3UXVlcmllcygpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZXF1ZXN0TGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCByZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0TGlzdFtpXTtcclxuXHRcdFx0cmVxdWVzdC5jYW5jZWxsZXIucmVzb2x2ZSgnQ2FuY2VsbGVkIScpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5yZXF1ZXN0TGlzdCA9IFtdO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJ1biByZXBvcnRTZXQgcHJldmlldyByZXF1ZXN0LiBJZiByZXF1ZXN0IFIyIGhhdmUgY29tZSBlYXJsaWVyIHRoYXQgcmVxdWVzdCBSMSAtIFIxIHJlcXVlc3QgY2FuY2Vscy5cclxuXHQgKi9cclxuXHRnZXRSZXBvcnRTZXRQcmV2aWV3UXVldWVkKHJlcG9ydFNldENvbmZpZykge1xyXG5cdFx0dGhpcy5jYW5jZWxBbGxQcmV2aWV3UXVlcmllcygpO1xyXG5cdFx0Ly8gcHJlcGFyZSBwYXJhbXNcclxuXHRcdGNvbnN0IHBhcmFtc0FycmF5ID0gW1xyXG5cdFx0XHQnaWljPTEnLCAvLyBpbnZhbGlkYXRlIGluIGNhY2hlXHJcblx0XHRcdCd1cmxlbmNvZGVkPXRydWUnLFxyXG5cdFx0XHQnd3NjbWQ9Z2V0TmV3UmVwb3J0U2V0UHJldmlld0Zyb21Kc29uJyxcclxuXHRcdFx0YHdzYXJnMD0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyZXBvcnRTZXRDb25maWcpKX1gXHJcblx0XHRdO1xyXG5cdFx0aWYgKHR5cGVvZiAod2luZG93Lml6ZW5kYVBhZ2VJZCQpICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0cGFyYW1zQXJyYXkucHVzaChgaXpwaWQ9JHt3aW5kb3cuaXplbmRhUGFnZUlkJH1gKTtcclxuXHRcdGlmICh0eXBlb2YgKHdpbmRvdy5hbmd1bGFyUGFnZUlkJCkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRwYXJhbXNBcnJheS5wdXNoKGBhbnBpZD0ke3dpbmRvdy5hbmd1bGFyUGFnZUlkJH1gKTtcclxuXHJcblx0XHRjb25zdCByblBhcmFtVmFsdWUgPSAocmVwb3J0U2V0Q29uZmlnLnJlcG9ydENhdGVnb3J5XHJcblx0XHRcdD8gcmVwb3J0U2V0Q29uZmlnLnJlcG9ydENhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXBvcnRTZXRDb25maWcucmVwb3J0TmFtZVxyXG5cdFx0XHQ6IHJlcG9ydFNldENvbmZpZy5yZXBvcnROYW1lKTtcclxuXHJcblx0XHR2YXIgcmVzb2x2ZXIgPSB0aGlzLiRxLmRlZmVyKCk7XHJcblx0XHRjb25zdCBjYW5jZWxsZXIgPSB0aGlzLiRxLmRlZmVyKCk7XHJcblx0XHRjb25zdCByZXEgPSB7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHR1cmw6IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnNQYWdlLFxyXG5cdFx0XHRwYXJhbXM6IHsgJ3JuYWx0Jzogcm5QYXJhbVZhbHVlIH0sXHJcblx0XHRcdHRpbWVvdXQ6IGNhbmNlbGxlci5wcm9taXNlLFxyXG5cdFx0XHRkYXRhVHlwZTogJ3RleHQnLFxyXG5cdFx0XHRkYXRhOiBwYXJhbXNBcnJheS5qb2luKCcmJyksIC8vIHF1ZXJ5IHBhcmFtZXRlcnNcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJ1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGFkZCByZXF1ZXN0IHRvIGN1cnJlbnQgcmVxdWVzdHMgbGlzdFxyXG5cdFx0dGhpcy5yZXF1ZXN0TGlzdC5wdXNoKHtcclxuXHRcdFx0Y2FuY2VsbGVyOiBjYW5jZWxsZXIsXHJcblx0XHRcdHJlc29sdmVyOiByZXNvbHZlclxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdFByb21pc2UgPSB0aGlzLiRodHRwKHJlcSk7XHJcblx0XHRyZXF1ZXN0UHJvbWlzZVxyXG5cdFx0XHQudGhlbihcclxuXHRcdFx0XHRyZXNwb25zZSA9PiByZXNvbHZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpLFxyXG5cdFx0XHRcdHJlc3BvbnNlID0+IHtcclxuXHRcdFx0XHRcdGlmIChyZXNwb25zZS5jb25maWcudGltZW91dC4kJHN0YXRlLnZhbHVlICE9PSAnQ2FuY2VsbGVkIScpIHtcclxuXHRcdFx0XHRcdFx0Ly9oYW5kbGUgZXJyb3JzOlxyXG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFRvTG9hZFByZXZpZXcnLCAnRmFpbGVkIHRvIGxvYWQgcHJldmlldy4nKTtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KHJlc3BvbnNlLmRhdGEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc29sdmVyLnByb21pc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgcmVwb3J0IHNldCBmcm9tIGpzb24gYW5kIHNhdmUgaXQuXHJcblx0ICovXHJcblx0c2F2ZVJlcG9ydFNldChyZXBvcnRTZXRDb25maWcpIHtcclxuXHRcdGNvbnN0IHBhcmFtc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHJlcG9ydFNldENvbmZpZyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ3NhdmVSZXBvcnRTZXROZXcnLCBbcGFyYW1zU3RyaW5nXSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgcmVwb3J0IHNldCBmcm9tIGpzb24gYW5kIHNldCBpdCBhcyBDdXJyZW50UmVwb3J0U2V0LlxyXG5cdCAqL1xyXG5cdHNldFJlcG9ydEFzQ3JzKHJlcG9ydFNldENvbmZpZykge1xyXG5cdFx0Y29uc3QgcGFyYW1zU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocmVwb3J0U2V0Q29uZmlnKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnc2V0UmVwb3J0U2V0RnJvbUpzb25Ub0NycycsIFtwYXJhbXNTdHJpbmddLCB7XHJcblx0XHRcdGRhdGFUeXBlOiAndGV4dCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCdcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIHNldCBjdXJyZW50IHJlcG9ydCBhcyBDdXJyZW50UmVwb3J0U2V0J1xyXG5cdFx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIHdpbmRvdyBmb3IgcHJpbnQuXHJcblx0ICovXHJcblx0b3BlblByaW50V2luZG93KHBhcmFtZXRlcnMsIHJlc29sdmUpIHtcclxuXHRcdC8vIG9wZW4gaHRtbCBwcmludCB3aW5kb3dcclxuXHRcdGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcblx0XHRmb3JtLmFjdGlvbiA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnNQYWdlO1xyXG5cdFx0Zm9ybS5tZXRob2QgPSAnUE9TVCc7XHJcblx0XHQvLyBzZXQgY3VzdG9tIChvdXIpIHdpbmRvdyBhcyB0YXJnZXQgd2luZG93XHJcblx0XHRmb3JtLnRhcmdldCA9ICdmb3JtLXRhcmdldCc7XHJcblx0XHRpZiAocGFyYW1ldGVycykge1xyXG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gcGFyYW1ldGVycykge1xyXG5cdFx0XHRcdGlmIChwYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuXHRcdFx0XHRcdGlucHV0Lm5hbWUgPSBrZXk7XHJcblx0XHRcdFx0XHRpbnB1dC52YWx1ZSA9IHR5cGVvZiBwYXJhbWV0ZXJzW2tleV0gPT09ICdvYmplY3QnXHJcblx0XHRcdFx0XHRcdD8gSlNPTi5zdHJpbmdpZnkocGFyYW1ldGVyc1trZXldKVxyXG5cdFx0XHRcdFx0XHQ6IHBhcmFtZXRlcnNba2V5XTtcclxuXHRcdFx0XHRcdGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Zm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcclxuXHJcblx0XHQvLyBvcGVuIHdpbmRvdyBmb3IgZm9ybSBhbmQgc3VibWl0IGZvciBpbnRvIHRoYXQgd2luZG93XHJcblx0XHR2YXIgZm9ybVdpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnZm9ybS10YXJnZXQnLCAnJyk7XHJcblx0XHRmb3JtLnN1Ym1pdCgpO1xyXG5cclxuXHRcdC8vIHdvcmthcm91bmQgZm9yIHdlYmtpdCBhamF4IHJlcXVlc3QgYmxvY2tcclxuXHRcdGlmICgnV2Via2l0QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlKSB7XHJcblx0XHRcdHZhciBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghZm9ybVdpbmRvdyB8fCBmb3JtV2luZG93LmNsb3NlZCkge1xyXG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuXHRcdFx0XHRcdGludGVydmFsSWQgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgNTAwKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHRyZXNvbHZlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIHVybCBpbiBuZXcgd2luZG93LiBcclxuXHQgKi9cclxuXHRleHBvcnRSZXBvcnRJbk5ld1dpbmRvdyhyZXBvcnRTZXRUb1NlbmQsIGV4cG9ydFR5cGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHQvLyBjcmVhdGUgdXJsIGZvciBleHBvcnRcclxuXHRcdFx0dmFyIHVybFBhcmFtcyA9IHtcclxuXHRcdFx0XHQnd3NjbWQnOiBleHBvcnRUeXBlID09PSAncHJpbnQnID8gJ3ByaW50UmVwb3J0U2V0JyA6ICdleHBvcnRSZXBvcnRTZXQnLFxyXG5cdFx0XHRcdCd3c2FyZzAnOiBKU09OLnN0cmluZ2lmeShyZXBvcnRTZXRUb1NlbmQpLFxyXG5cdFx0XHRcdCd3c2FyZzEnOiBleHBvcnRUeXBlXHJcblx0XHRcdH07XHJcblx0XHRcdGlmICh0eXBlb2YgKHRoaXMuJHdpbmRvdy5pemVuZGFQYWdlSWQkKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdFx0dXJsUGFyYW1zWydpenBpZCddID0gdGhpcy4kd2luZG93Lml6ZW5kYVBhZ2VJZCQ7XHJcblxyXG5cdFx0XHRpZiAoZXhwb3J0VHlwZSAhPT0gJ3ByaW50Jykge1xyXG5cdFx0XHRcdC8vIGV4cG9ydCBmaWxlXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuZG93bmxvYWRGaWxlUmVxdWVzdCgnUE9TVCcsIHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnNQYWdlLCB1cmxQYXJhbXMpXHJcblx0XHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHByaW50IGh0bWxcclxuXHRcdFx0XHR0aGlzLm9wZW5QcmludFdpbmRvdyh1cmxQYXJhbXMsIHJlc29sdmUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldFZpc3VhbGl6YXRpb25Db25maWcoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2dldFZpc3VhbGl6YXRpb25Db25maWcnLCBbXSwge1xyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgdmlzdWFsaXphdGlvbnMgY29uZmlnJ1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBsaXN0IG9mIGNvbnN0cmFpbnRzXHJcblx0ICovXHJcblx0Z2V0Q29uc3RyYWludHNJbmZvKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdnZXRjb25zdHJhaW50c2xpc3QnLCBbXSwge1xyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgY29uc3RyYWludHMgaW5mbydcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRGaWVsZEZ1bmN0aW9ucyhmaWVsZCwgZnVuY3Rpb25QdXJwb3NlKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmllbGQpKVxyXG5cdFx0XHR0aHJvdyAnRmllbGQgc2hvdWxkIGJlIG9iamVjdCc7XHJcblx0XHRsZXQgcGFyYW1ldGVyczogYW55ID0gbnVsbDtcclxuXHRcdGNvbnN0IHR5cGVHcm91cCA9IHRoaXMuZ2V0Q3VycmVudFR5cGVHcm91cChmaWVsZCk7XHJcblx0XHRpZiAoZnVuY3Rpb25QdXJwb3NlID09PSAnc3VidG90YWwnKSB7XHJcblx0XHRcdC8vIGF2YWlsYWJsZSBmdW5jdGlvbnMgZm9yIHN1YnRvdGFsc1xyXG5cdFx0XHRwYXJhbWV0ZXJzID0ge1xyXG5cdFx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdFx0J3AnOiAnRnVuY3Rpb25MaXN0JyxcclxuXHRcdFx0XHQndHlwZSc6IGZpZWxkLnNxbFR5cGUsXHJcblx0XHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0XHQnaW5jbHVkZUJsYW5rJzogJ3RydWUnLFxyXG5cdFx0XHRcdCdpbmNsdWRlR3JvdXBCeSc6ICdmYWxzZScsXHJcblx0XHRcdFx0J2ZvclN1YnRvdGFscyc6ICd0cnVlJyxcclxuXHRcdFx0XHQnZXh0cmFGdW5jdGlvbic6ICdmYWxzZScsXHJcblx0XHRcdFx0J2ZvckR1bmRhc01hcCc6ICdmYWxzZScsXHJcblx0XHRcdFx0J29ubHlOdW1lcmljUmVzdWx0cyc6ICdmYWxzZScsXHJcblx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSBpZiAoZnVuY3Rpb25QdXJwb3NlID09PSAnZmllbGQnKSB7XHJcblx0XHRcdC8vIGF2YWlsYWJsZSBmdW5jdGlvbnMgZm9yIGNvbHVtblxyXG5cdFx0XHRwYXJhbWV0ZXJzID0ge1xyXG5cdFx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdFx0J3AnOiAnRnVuY3Rpb25MaXN0JyxcclxuXHRcdFx0XHQndHlwZSc6IGZpZWxkLnNxbFR5cGUsXHJcblx0XHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0XHQnaW5jbHVkZUJsYW5rJzogJ3RydWUnLFxyXG5cdFx0XHRcdCdpbmNsdWRlR3JvdXBCeSc6ICd0cnVlJyxcclxuXHRcdFx0XHQnZm9yU3VidG90YWxzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnZXh0cmFGdW5jdGlvbic6ICdmYWxzZScsXHJcblx0XHRcdFx0J2ZvckR1bmRhc01hcCc6ICdmYWxzZScsXHJcblx0XHRcdFx0J29ubHlOdW1lcmljUmVzdWx0cyc6ICdmYWxzZScsXHJcblx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSBpZiAoZnVuY3Rpb25QdXJwb3NlID09PSAncGl2b3RGaWVsZCcpIHtcclxuXHRcdFx0cGFyYW1ldGVycyA9IHtcclxuXHRcdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHRcdCdwJzogJ0Z1bmN0aW9uTGlzdCcsXHJcblx0XHRcdFx0J3R5cGUnOiBmaWVsZC5zcWxUeXBlLFxyXG5cdFx0XHRcdCd0eXBlR3JvdXAnOiB0eXBlR3JvdXAsXHJcblx0XHRcdFx0J2luY2x1ZGVCbGFuayc6ICd0cnVlJyxcclxuXHRcdFx0XHQnaW5jbHVkZUdyb3VwQnknOiAndHJ1ZScsXHJcblx0XHRcdFx0J2ZvclN1YnRvdGFscyc6ICdmYWxzZScsXHJcblx0XHRcdFx0J2V4dHJhRnVuY3Rpb24nOiAndHJ1ZScsXHJcblx0XHRcdFx0J2ZvckR1bmRhc01hcCc6ICdmYWxzZScsXHJcblx0XHRcdFx0J29ubHlOdW1lcmljUmVzdWx0cyc6ICdmYWxzZScsXHJcblx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5yc1F1ZXJ5KHBhcmFtZXRlcnMsIHtcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiBmaWVsZFBhcmFtID0+IGBGYWlsZWQgdG8gZ2V0IGZ1bmN0aW9uIGxpc3QgaW5mbyBmb3IgZmllbGQgJHtmaWVsZFBhcmFtLnN5c25hbWV9YCxcclxuXHRcdFx0XHRwYXJhbXM6IFtmaWVsZF1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRQZXJpb2RMaXN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkoe1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdQZXJpb2RMaXN0JyxcclxuXHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBwZXJpb2QgbGlzdC4nLFxyXG5cdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Z2V0RXhpc3RlbnRQb3B1cFZhbHVlc0xpc3QoZmllbGQsIHRhYmxlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ0V4aXN0ZW50UG9wdXBWYWx1ZXNMaXN0JyxcclxuXHRcdFx0J2NvbHVtbk5hbWUnOiBmaWVsZC5zeXNuYW1lLFxyXG5cdFx0XHQndGJsMCc6IHRhYmxlLnN5c25hbWUsXHJcblx0XHRcdCd0YTAnOiAnJyxcclxuXHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBjdXN0b20gcG9wdXBzIHN0eWxlcy4nLFxyXG5cdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Z2V0RHJpbGxEb3duU3R5bGVzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkoe1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdEcmlsbERvd25TdHlsZUxpc3QnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IGRyaWxsZG93biBzdHlsZXMuJyxcclxuXHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0RXhwcmVzc2lvblR5cGVzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkoe1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdFeHByZXNzaW9uVHlwZUxpc3QnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IGV4cHJlc3Npb24gdHlwZXMuJyxcclxuXHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0U3VicmVwb3J0cygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5yc1F1ZXJ5KHtcclxuXHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0J3AnOiAnU3VicmVwb3J0c0xpc3QnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHN1YnJlcG9ydHMuJyxcclxuXHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0VmdTdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ1ZnU3R5bGVMaXN0JyxcclxuXHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBhdmFpbGFibGUgdmlzdWFsIGdyb3VwIHN0eWxlcy4nLFxyXG5cdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRGaWVsZEZvcm1hdHMoZmllbGQsIGRhdGFUeXBlR3JvdXA/KSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmllbGQpKVxyXG5cdFx0XHR0aHJvdyAnRmllbGQgc2hvdWxkIGJlIG9iamVjdCc7XHJcblx0XHRjb25zdCB0eXBlR3JvdXAgPSB0aGlzLmdldEN1cnJlbnRUeXBlR3JvdXAoZmllbGQsIGRhdGFUeXBlR3JvdXApO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkoe1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdGb3JtYXRMaXN0JyxcclxuXHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiBmaWVsZFBhcmFtID0+IGBGYWlsZWQgdG8gZ2V0IGZvcm1hdCBsaXN0IGluZm8gZm9yIGZpZWxkICR7ZmllbGRQYXJhbS5zeXNuYW1lfWAsXHJcblx0XHRcdFx0cGFyYW1zOiBbZmllbGRdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0RmlsdGVyRm9ybWF0cyhmaWx0ZXIpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWx0ZXIpIHx8ICFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlci5maWVsZCkpXHJcblx0XHRcdHRocm93ICdmaWx0ZXIgYW5kIGZpbHRlci5maWVsZCBzaG91bGQgYmUgb2JqZWN0cy4nO1xyXG5cdFx0Y29uc3QgdHlwZUdyb3VwID0gdGhpcy5nZXRDdXJyZW50VHlwZUdyb3VwKGZpbHRlci5maWVsZCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ0Zvcm1hdExpc3QnLFxyXG5cdFx0XHQndHlwZUdyb3VwJzogdHlwZUdyb3VwLFxyXG5cdFx0XHQnb25seVNpbXBsZSc6ICd0cnVlJyxcclxuXHRcdFx0J2ZvcmNlU2ltcGxlJzogJ3RydWUnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6IGZpbHRlclBhcmFtID0+IGBGYWlsZWQgdG8gZ2V0IGZvcm1hdCBsaXN0IGluZm8gZm9yIGZpbHRlciAke2ZpbHRlclBhcmFtLmZpZWxkLnN5c25hbWV9YCxcclxuXHRcdFx0XHRwYXJhbXM6IFtmaWx0ZXJdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0RmllbGRPcGVyYXRvckxpc3QoZmllbGQsIHRhYmxlc1N0cmluZywgZGF0YVR5cGVHcm91cD8pIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWVsZCkpXHJcblx0XHRcdHRocm93ICdGaWVsZCBzaG91bGQgYmUgb2JqZWN0Lic7XHJcblx0XHRjb25zdCB0eXBlR3JvdXAgPSB0aGlzLmdldEN1cnJlbnRUeXBlR3JvdXAoZmllbGQsIGRhdGFUeXBlR3JvdXApO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkoe1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdPcGVyYXRvckxpc3QnLFxyXG5cdFx0XHQndHlwZUdyb3VwJzogdHlwZUdyb3VwLFxyXG5cdFx0XHQndGFibGVzJzogdGFibGVzU3RyaW5nLFxyXG5cdFx0XHQnY29sRnVsbE5hbWUnOiBmaWVsZC5zeXNuYW1lLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6IGZpZWxkUGFyYW0gPT4gYEZhaWxlZCB0byBnZXQgb3BlcmF0b3IgbGlzdCBmb3IgZmllbGQgJHtmaWVsZFBhcmFtLnN5c25hbWV9YCxcclxuXHRcdFx0XHRwYXJhbXM6IFtmaWVsZF1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRFeGlzdGVudFZhbHVlc0xpc3QodGFibGVzLCBjb25zdHJhaW50RmlsdGVycywgZmlsdGVyLCBzaW1wbGVKb2lucywgZmlsdGVyTG9naWMpIHtcclxuXHRcdGlmIChmaWx0ZXIuZmllbGQgPT09IG51bGwgfHwgIWFuZ3VsYXIuaXNTdHJpbmcoZmlsdGVyLmZpZWxkLnN5c25hbWUpKVxyXG5cdFx0XHR0aHJvdyAnZmlsdGVyIGZpZWxkIHN5c25hbWUgc2hvdWxkIGJlIGRlZmluZWQuJztcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KHRhYmxlcykpXHJcblx0XHRcdHRocm93ICd0YWJsZXMgc2hvdWxkIGJlIGFycmF5JztcclxuXHJcblx0XHQvLyBjcmVhdGUgYmFzZSBxdWVyeSBwYXJhbXNcclxuXHRcdHZhciBxdWVyeVBhcmFtcyA9IHtcclxuXHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0J3AnOiAnRXhpc3RlbnRWYWx1ZXNMaXN0JyxcclxuXHRcdFx0J2NvbHVtbk5hbWUnOiBmaWx0ZXIuZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdH07XHJcblx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhmaWx0ZXIucG9zc2libGVWYWx1ZSkpIHtcclxuXHRcdFx0cXVlcnlQYXJhbXNbJ3Bvc3NpYmxlVmFsdWUnXSA9IGZpbHRlci5wb3NzaWJsZVZhbHVlLnJlcGxhY2UoJyYnLCAnJTI2Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYWRkIGNvbnN0cmFpbnQgZmlsdGVycyBwYXJhbXNcclxuXHRcdHZhciBjb3VudGVyID0gMDtcclxuXHRcdGlmIChjb25zdHJhaW50RmlsdGVycylcclxuXHRcdFx0Y29uc3RyYWludEZpbHRlcnMuZm9yRWFjaChjb25zdHJhaW50RmlsdGVyID0+IHtcclxuXHRcdFx0XHRjb25zdCBjb25zdHJhaW50RmlsdGVyT3BlcmF0b3JWYWx1ZSA9IGNvbnN0cmFpbnRGaWx0ZXIgJiYgY29uc3RyYWludEZpbHRlci5vcGVyYXRvciA/IGNvbnN0cmFpbnRGaWx0ZXIub3BlcmF0b3IudmFsdWUgOiAnJztcclxuXHJcblx0XHRcdFx0aWYgKGNvbnN0cmFpbnRGaWx0ZXIuZmllbGQgIT09IG51bGwgJiYgYW5ndWxhci5pc09iamVjdChjb25zdHJhaW50RmlsdGVyLm9wZXJhdG9yKVxyXG5cdFx0XHRcdFx0JiYgY29uc3RyYWludEZpbHRlck9wZXJhdG9yVmFsdWUgIT09ICcnICYmIGFuZ3VsYXIuaXNBcnJheShjb25zdHJhaW50RmlsdGVyLnZhbHVlcylcclxuXHRcdFx0XHRcdCYmIGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdGNvbnN0IGNvbnN0cmFpbnRQYXJhbVBhcnQgPSB7fTtcclxuXHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbYGZjJHtjb3VudGVyfWBdID0gY29uc3RyYWludEZpbHRlci5maWVsZC5zeXNuYW1lO1xyXG5cdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZm8ke2NvdW50ZXJ9YF0gPSBjb25zdHJhaW50RmlsdGVyT3BlcmF0b3JWYWx1ZTtcclxuXHRcdFx0XHRcdGNvbnN0IGNvbnN0cmFpbnRPcGVyYXRvclR5cGUgPSB0aGlzLmdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUoY29uc3RyYWludEZpbHRlci5vcGVyYXRvcik7XHJcblx0XHRcdFx0XHRpZiAoY29uc3RyYWludE9wZXJhdG9yVHlwZSA9PT0gJ3R3b1ZhbHVlcycpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZsJHtjb3VudGVyfWBdID0gY29uc3RyYWludEZpbHRlci52YWx1ZXNbMF07XHJcblx0XHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbYGZ2ciR7Y291bnRlcn1gXSA9IGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzFdO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjb25zdHJhaW50T3BlcmF0b3JUeXBlID09PSAndHdvRGF0ZXMnKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbYGZ2bCR7Y291bnRlcn1gXSA9IG1vbWVudChjb25zdHJhaW50RmlsdGVyLnZhbHVlc1swXSkuZm9ybWF0KHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXREYXRlRm9ybWF0KCkuc2hvcnREYXRlKTtcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZyJHtjb3VudGVyfWBdID0gbW9tZW50KGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzFdKS5mb3JtYXQodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERhdGVGb3JtYXQoKS5zaG9ydERhdGUpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjb25zdHJhaW50T3BlcmF0b3JUeXBlID09PSAnb25lRGF0ZScpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZsJHtjb3VudGVyfWBdID0gbW9tZW50KGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzBdKS5mb3JtYXQodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERhdGVGb3JtYXQoKS5zaG9ydERhdGUpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjb25zdHJhaW50T3BlcmF0b3JUeXBlID09PSAnZmllbGQnKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFuZ3VsYXIuaXNPYmplY3QoY29uc3RyYWludEZpbHRlci52YWx1ZXNbMF0pXHJcblx0XHRcdFx0XHRcdFx0PyBjb25zdHJhaW50RmlsdGVyLnZhbHVlc1swXS5zeXNuYW1lXHJcblx0XHRcdFx0XHRcdFx0OiAnJztcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZsJHtjb3VudGVyfWBdID0gdmFsO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZsJHtjb3VudGVyfWBdID0gY29uc3RyYWludEZpbHRlci52YWx1ZXMuam9pbignLCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGFuZ3VsYXIuZXh0ZW5kKHF1ZXJ5UGFyYW1zLCBjb25zdHJhaW50UGFyYW1QYXJ0KTtcclxuXHRcdFx0XHRcdGNvdW50ZXIrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGlmIChzaW1wbGVKb2lucykge1xyXG5cdFx0XHQvLyBjcmVhdGUgdGFibGVuYW1lc1xyXG5cdFx0XHRjb25zdCB0YWJsZU5hbWVzID0gdGFibGVzLm1hcCh4ID0+IHguc3lzbmFtZSk7XHJcblx0XHRcdHF1ZXJ5UGFyYW1zWyd0YmwwJ10gPSB0YWJsZU5hbWVzLmpvaW4oJ1xcJycpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhmaWx0ZXJMb2dpYykgJiYgZmlsdGVyTG9naWMudHJpbSgpICE9PSAnJykge1xyXG5cdFx0XHRcdHF1ZXJ5UGFyYW1zWydmaWx0ZXJMb2dpYyddID0gZmlsdGVyTG9naWM7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gcnVuIHF1ZXJ5XHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5yc1F1ZXJ5KHF1ZXJ5UGFyYW1zLCB7XHJcblx0XHRcdFx0J2RhdGFUeXBlJzogJ2pzb24nLFxyXG5cdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGhhbmRsZXI6ICh0YWJsZXNQYXJhbSwgZmllbGRQYXJhbSkgPT4gYEZhaWxlZCB0byBleGlzdGVudCB2YWx1ZXMgbGlzdCBsaXN0IGZvciB0YWJsZXMgJHt0YWJsZXNQYXJhbX0gYW5kIGZpZWxkICR7ZmllbGRQYXJhbX1gLFxyXG5cdFx0XHRcdFx0cGFyYW1zOiBbdGFibGVOYW1lcy5qb2luKCcsJyksIGZpbHRlci5maWVsZC5zeXNuYW1lXVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gQ3VzdG9tIGpvaW5zIHJlcXVlc3Q6XHJcblx0XHRcdC8qXHJcblx0XHRcdGNtZDpHZXRPcHRpb25zQnlQYXRoXHJcblx0XHRcdHA6RXhpc3RlbnRWYWx1ZXNMaXN0XHJcblx0XHRcdGNvbHVtbk5hbWU6W2Rib10uW0NhdGVnb3JpZXNdLltDYXRlZ29yeUlEXVxyXG5cdFx0XHR0YmwwOltkYm9dLltDYXRlZ29yaWVzXVxyXG5cdFx0XHR0YTA6XHJcblx0XHRcdHRibDE6W2Rib10uW0ludm9pY2VzXVxyXG5cdFx0XHR0YTE6XHJcblx0XHRcdGxjbG0xOltkYm9dLltJbnZvaWNlc10uW09yZGVySURdXHJcblx0XHRcdHJjbG0xOltkYm9dLltDYXRlZ29yaWVzXS5bQ2F0ZWdvcnlJRF1cclxuXHRcdFx0am4xOklOTkVSXHJcblx0XHRcdCovXHJcblx0XHRcdHRocm93ICdDdXN0b20gam9pbnMgaGFzblxcJ3QgaW1wbGVtZW50ZWQgeWV0JztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UnLCBJemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydERlZmF1bHRQaXZvdENvbmZpZyB7XHJcblx0cGl2b3RDb2x1bW46IGFueTtcclxuXHRjZWxsVmFsdWVzOiBhbnlbXTtcclxuXHRvcHRpb25zOiB7XHJcblx0XHRhZGRTaWRlVG90YWxzOiBib29sZWFuXHJcblx0fTtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnBpdm90Q29sdW1uID0gbnVsbDtcclxuXHRcdHRoaXMuY2VsbFZhbHVlcyA9IFtdO1xyXG5cdFx0dGhpcy5vcHRpb25zID0ge1xyXG5cdFx0XHRhZGRTaWRlVG90YWxzOiBmYWxzZVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmcm9tT2JqZWN0KG9iamVjdDogYW55KSB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgSXplbmRhSW5zdGFudFJlcG9ydERlZmF1bHRQaXZvdENvbmZpZygpO1xyXG5cdFx0cmVzdWx0LnBpdm90Q29sdW1uID0gb2JqZWN0LnBpdm90Q29sdW1uO1xyXG5cdFx0cmVzdWx0LmNlbGxWYWx1ZXMgPSBvYmplY3QuY2VsbFZhbHVlcztcclxuXHRcdHJlc3VsdC5vcHRpb25zID0ge1xyXG5cdFx0XHRhZGRTaWRlVG90YWxzOiBvYmplY3Qub3B0aW9ucy5hZGRTaWRlVG90YWxzXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdGNsb25lKCk6IEl6ZW5kYUluc3RhbnRSZXBvcnREZWZhdWx0UGl2b3RDb25maWcge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IEl6ZW5kYUluc3RhbnRSZXBvcnREZWZhdWx0UGl2b3RDb25maWcoKTtcclxuXHRcdHJlc3VsdC5waXZvdENvbHVtbiA9IHRoaXMucGl2b3RDb2x1bW47XHJcblx0XHRyZXN1bHQuY2VsbFZhbHVlcyA9IG5ldyBBcnJheTxhbnk+KHRoaXMuY2VsbFZhbHVlcyk7XHJcblx0XHRyZXN1bHQub3B0aW9ucyA9IHsgYWRkU2lkZVRvdGFsczogdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLmFkZFNpZGVUb3RhbHMgOiBmYWxzZSB9O1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydERlZmF1bHRQaXZvdENvbmZpZyBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2RlbHMvaW5zdGFudC1yZXBvcnQtcGl2b3QtY29uZmlnJztcclxuXHJcbi8qKlxyXG4gKiBQaXZvdCBzdG9yYWdlIHNlcnZpY2VcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uge1xyXG5cclxuXHRwcml2YXRlIHN0YXRpYyAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90c0RlZmF1bHRDb25maWdOYW1lID0gJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzRGVmYXVsdENvbmZpZyc7XHJcblx0cHJpdmF0ZSBwaXZvdENvbmZpZzogSXplbmRhSW5zdGFudFJlcG9ydERlZmF1bHRQaXZvdENvbmZpZztcclxuXHRwcml2YXRlIHBpdm90c1BhbmVsT3BlbmVkOiBib29sZWFuO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJGluamVjdG9yJywgJyRxJywgJyRpemVuZGFVdGlsU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaW5qZWN0b3I6IG5nLmF1dG8uSUluamVjdG9yU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHE6IG5nLklRU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxTZXJ2aWNlOiBJemVuZGFVdGlsU2VydmljZSkge1xyXG5cclxuXHRcdGNvbnN0IGRlZmF1bHRDb25maWcgPSB0aGlzLiRpbmplY3Rvci5nZXQoSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90c0RlZmF1bHRDb25maWdOYW1lKTtcclxuXHRcdHRoaXMucGl2b3RDb25maWcgPSBJemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnLmZyb21PYmplY3QoZGVmYXVsdENvbmZpZyk7XHJcblx0XHR0aGlzLnBpdm90c1BhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcGl2b3QgY29sdW1uIGZpZWxkIHdyYXBwZXJcclxuXHQgKi9cclxuXHRnZXRQaXZvdENvbHVtbigpIHtcclxuXHRcdHJldHVybiB0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHBpdm90IGNvbHVtblxyXG5cdCAqL1xyXG5cdHNldFBpdm90Q29sdW1uKHZhbHVlKSB7XHJcblx0XHR0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZGVmYXVsdCBncm91cCBmb3IgcGl2b3QgY29sdW1uLlxyXG5cdCAqL1xyXG5cdHNldERlZmF1bHRHcm91cCgpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdCh0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKCF0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbilcclxuXHRcdFx0dGhpcy5waXZvdENvbmZpZy5waXZvdENvbHVtbi5ncm91cEJ5RnVuY3Rpb24gPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRPcHRpb25CeVZhbHVlKHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4uZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucywgJ0dST1VQJywgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciBwaXZvdHNcclxuXHQgKi9cclxuXHRyZW1vdmVQaXZvdHMoKSB7XHJcblx0XHR0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uID0gbnVsbDtcclxuXHRcdHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcyA9IFtdO1xyXG5cdFx0dGhpcy5waXZvdENvbmZpZy5vcHRpb25zLmFkZFNpZGVUb3RhbHMgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBwaXZvdCBvcHRpb25zIG9iamVjdFxyXG5cdCAqL1xyXG5cdGdldFBpdm90T3B0aW9ucygpIHtcclxuXHRcdHJldHVybiB0aGlzLnBpdm90Q29uZmlnLm9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcGl2b3RzIHBhbmVsIHN0YXRlXHJcblx0ICovXHJcblx0Z2V0UGl2b3RzUGFuZWxPcGVuZWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5waXZvdHNQYW5lbE9wZW5lZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBwaXZvdHMgcGFuZWwgc3RhdGVcclxuXHQgKi9cclxuXHRzZXRQaXZvdHNQYW5lbE9wZW5lZCh2YWx1ZSkge1xyXG5cdFx0dGhpcy5waXZvdHNQYW5lbE9wZW5lZCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBjZWxsIHZhbHVlIGZ1bmN0aW9uc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBwaXZvdCBmaWVsZHMgd3JhcHBlcnNcclxuXHQgKi9cclxuXHRnZXRDZWxsVmFsdWVzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHBpdm90IGFkZGVkIGFuZCB2YWxpZC5cclxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXMgdmFsaWRcclxuXHQgKi9cclxuXHRpc1Bpdm90VmFsaWQoKSB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci5pc09iamVjdCh0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uKSAmJiB0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXMubGVuZ3RoID4gMDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBjZWxsIHZhbHVlIGZpZWxkXHJcblx0ICovXHJcblx0YWRkQ2VsbFZhbHVlKCkge1xyXG5cdFx0dGhpcy5waXZvdENvbmZpZy5jZWxsVmFsdWVzLnB1c2gobnVsbCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgY2VsbCB2YWx1ZVxyXG5cdCAqL1xyXG5cdHJlbW92ZUNlbGxWYWx1ZShjZWxsVmFsdWUpIHtcclxuXHRcdGNvbnN0IGNlbGxWYWx1ZXMgPSB0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXM7XHJcblx0XHRjb25zdCBpZHggPSBjZWxsVmFsdWVzLmluZGV4T2YoY2VsbFZhbHVlKTtcclxuXHRcdGlmIChpZHggPj0gMCkge1xyXG5cdFx0XHRjZWxsVmFsdWVzLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVwbGFjZSBjZWxsIHZhbHVlcyBieSBlYWNoIG90aGVyXHJcblx0ICovXHJcblx0c3dhcENlbGxWYWx1ZXMoZnJvbUluZGV4LCB0b0luZGV4KSB7XHJcblx0XHRjb25zdCBjZWxsVmFsdWVzID0gdGhpcy5waXZvdENvbmZpZy5jZWxsVmFsdWVzO1xyXG5cdFx0Y29uc3QgdGVtcCA9IGNlbGxWYWx1ZXNbZnJvbUluZGV4XTtcclxuXHRcdGNlbGxWYWx1ZXNbZnJvbUluZGV4XSA9IGNlbGxWYWx1ZXNbdG9JbmRleF07XHJcblx0XHRjZWxsVmFsdWVzW3RvSW5kZXhdID0gdGVtcDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1vdmUgY2VsbCB2YWx1ZSB0byBwb3NpdGlvblxyXG5cdCAqL1xyXG5cdG1vdmVDZWxsVmFsdWVUbyhmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdGNvbnN0IGNlbGxWYWx1ZXMgPSB0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXM7XHJcblx0XHRjZWxsVmFsdWVzLnNwbGljZSh0b0luZGV4LCAwLCBjZWxsVmFsdWVzLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBjZWxsIHZhbHVlIGZpZWxkLCB1cGRhdGUgYXZhaWxhYmxlIGdyb3VwcywgZm9ybWF0cywgZXRjLi4uXHJcblx0ICovXHJcblx0c2V0Q2VsbFZhbHVlRmllbGQoaW5kZXgsIG5ld0ZpZWxkKSB7XHJcblx0XHR0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXNbaW5kZXhdID0gbmV3RmllbGQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcGl2b3QgY29sdW1uIG9yIGNlbGwgaWYgcGl2b3QgY29sdW1uIGFscmVhZHkgZGVmaW5lZFxyXG5cdCAqL1xyXG5cdGFkZFBpdm90SXRlbShmaWVsZENvcHkpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdCh0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uKSkge1xyXG5cdFx0XHR0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uID0gZmllbGRDb3B5O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5waXZvdENvbmZpZy5jZWxsVmFsdWVzLnB1c2goZmllbGRDb3B5KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN5bmNocm9uaXplcyBwaXZvdFxyXG5cdCAqL1xyXG5cdHN5bmNQaXZvdFN0YXRlKGFjdGl2ZUZpZWxkc0luQWN0aXZlVGFibGVzKSB7XHJcblx0XHR0aGlzLnJlbW92ZU5vdEFjdGl2ZUZpZWxkcyhhY3RpdmVGaWVsZHNJbkFjdGl2ZVRhYmxlcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgcGl2b3QgY29sdW1uIGFuZCBwaXZvdCBjZWxsIGlmIGNvcnJlc3BvbmdpbmcgZmllbGRzIGFyZSBub1xyXG5cdCAqIGxvbmdlciBhdmFpbGFibGUuXHJcblx0ICogQHBhcmFtIHthcnJheX0gYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBmaWVsZHMuXHJcblx0ICovXHJcblx0cmVtb3ZlTm90QWN0aXZlRmllbGRzKGFjdGl2ZUZpZWxkc0luQWN0aXZlVGFibGVzKSB7XHJcblx0XHRjb25zdCBpc0ZpZWxkSW5MaXN0ID0gKGZpZWxkLCBmaWVsZExpc3QpID0+IGZpZWxkTGlzdCAmJiBmaWVsZExpc3Quc29tZShmID0+IGYuc3lzbmFtZSA9PT0gZmllbGQuc3lzbmFtZSk7XHJcblxyXG5cdFx0aWYgKHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4gJiYgIWlzRmllbGRJbkxpc3QodGhpcy5waXZvdENvbmZpZy5waXZvdENvbHVtbiwgYWN0aXZlRmllbGRzSW5BY3RpdmVUYWJsZXMpKVxyXG5cdFx0XHR0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uID0gbnVsbDtcclxuXHJcblx0XHR0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXMgPSB0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXMuZmlsdGVyKGN2ID0+IGlzRmllbGRJbkxpc3QoY3YsIGFjdGl2ZUZpZWxkc0luQWN0aXZlVGFibGVzKSk7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGRhdGFcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBQcmVwYXJlIHBpdm90cyBmb3Igc2VuZFxyXG5cdCAqL1xyXG5cdGdldFBpdm90RGF0YUZvclNlbmQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5waXZvdENvbmZpZy5waXZvdENvbHVtbiA/IHRoaXMucGl2b3RDb25maWcgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBwaXZvdFxyXG5cdCAqL1xyXG5cdGxvYWRQaXZvdERhdGEocGl2b3REYXRhKSB7XHJcblx0XHR0aGlzLnBpdm90Q29uZmlnID0gcGl2b3REYXRhO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZVxyXG5cdFx0XHQudmFsdWUoSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90c0RlZmF1bHRDb25maWdOYW1lLCB7XHJcblx0XHRcdFx0cGl2b3RDb2x1bW46IG51bGwsXHJcblx0XHRcdFx0Y2VsbFZhbHVlczogW10sXHJcblx0XHRcdFx0b3B0aW9uczoge1xyXG5cdFx0XHRcdFx0YWRkU2lkZVRvdGFsczogZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zZXJ2aWNlKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZScsXHJcblx0XHRcdFx0SXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgeyBJSXplbmRhSW5zdGFudFJlcG9ydENvbmZpZyB9IGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZGVscy9pbnN0YW50LXJlcG9ydC1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IHNldHRpbmdzIHNlcnZpY2UuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlIHtcclxuXHJcblx0cHJpdmF0ZSBzZXR0aW5nc09iamVjdDogSUl6ZW5kYUluc3RhbnRSZXBvcnRDb25maWcgPSBudWxsO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJGluamVjdG9yJywgJyRpemVuZGFSc1F1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeVNlcnZpY2U6IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0Ly8gZmlyc3QgdHJ5IHRvIGdldCBzZXR0aW5ncyBvYmplY3QgaWYgaXQgaGF2ZSBiZWVuIGFscmVhZHkgbG9hZGVkXHJcblx0XHR0aGlzLnNldHRpbmdzT2JqZWN0ID0gdGhpcy4kaW5qZWN0b3IuZ2V0PElJemVuZGFJbnN0YW50UmVwb3J0Q29uZmlnPignJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1ZhbHVlJyk7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QodGhpcy5zZXR0aW5nc09iamVjdCkpXHJcblx0XHRcdC8vIGlmIG5vdCBsb2FkZWQgLSBsb2FkIG5vdy5cclxuXHRcdFx0dGhpcy5sb2FkSW5zdGFudFJlcG9ydFNldHRpbmdzKCkudGhlbihyZXN1bHRPYmplY3QgPT4ge1xyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3NPYmplY3QgPSByZXN1bHRPYmplY3QgYXMgSUl6ZW5kYUluc3RhbnRSZXBvcnRDb25maWc7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGluc3RhbnQgcmVwb3J0IHNldHRpbmdzIGZyb20gc2VydmVyLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZEluc3RhbnRSZXBvcnRTZXR0aW5ncygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0SW5zdGFudFJlcG9ydFNldHRpbmdzJywgW10sIHtcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBpbnN0YW50IHJlcG9ydCBzZXR0aW5ncycsXHJcblx0XHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldHRpbmdzIGdldHRlclxyXG5cdCAqL1xyXG5cdGdldFNldHRpbmdzKCk6IElJemVuZGFJbnN0YW50UmVwb3J0Q29uZmlnIHtcclxuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzT2JqZWN0O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcXVlcnknO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGNoYXJ0IHNlcnZpY2UuIENvbnRhaW5zIGNoYXJ0cyBkYXRhIGFuZCBpdHMgZnVuY3Rpb25zLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlIHtcclxuXHJcblx0dmlzQ29uZmlnOiBhbnk7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckcScsICckaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy52aXNDb25maWcgPSB0aGlzLmNyZWF0ZURlZmF1bHRDb25maWcoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBkZWZhdWx0IGNvbmZpZyBvYmplY3RcclxuXHQgKi9cclxuXHRjcmVhdGVEZWZhdWx0Q29uZmlnKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2F0ZWdvcmllczogW11cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY3VycmVudCBjb25maWcuXHJcblx0ICovXHJcblx0Z2V0VmlzdWFsaXphdGlvbkNvbmZpZygpIHtcclxuXHRcdHJldHVybiB0aGlzLnZpc0NvbmZpZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgdmlzdWFsaXphdGlvbnMuIERlc2lnbmVkIGFzIGFzeW5jIG9wZXJhdGlvbiBmb3IgZnV0dXJlIGFzeW5jIGNvbmZpZyBsb2FkaW5nLlxyXG5cdCAqIEByZXR1cm5zIHtwcm9taXNlIG9iamVjdH0uXHJcblx0ICovXHJcblx0bG9hZFZpc3VhbGl6YXRpb25zKCkge1xyXG5cdFx0dGhpcy52aXNDb25maWcgPSB0aGlzLmNyZWF0ZURlZmF1bHRDb25maWcoKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Ly8gcnVuIHF1ZXJ5OlxyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldFZpc3VhbGl6YXRpb25Db25maWcoKS50aGVuKGNvbmZpZyA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGNvbmZpZykgfHwgIWFuZ3VsYXIuaXNBcnJheShjb25maWcuY2F0ZWdvcmllcykpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gc2V0IGNvbmZpZzpcclxuXHRcdFx0XHR0aGlzLnZpc0NvbmZpZyA9IGNvbmZpZztcclxuXHJcblx0XHRcdFx0Ly8gYWRkIGNhdGVnb3J5IG5hbWUgdG8gZWFjaCB2aXN1YWxpemF0aW9uIG9iamVjdDpcclxuXHRcdFx0XHR0aGlzLnZpc0NvbmZpZy5jYXRlZ29yaWVzXHJcblx0XHRcdFx0XHQuZmlsdGVyKGMgPT4gISFjLmNoYXJ0cylcclxuXHRcdFx0XHRcdC5mb3JFYWNoKGMgPT4gYy5jaGFydHMuZm9yRWFjaChjaGFydCA9PiBjaGFydC5jYXRlZ29yeU5hbWUgPSBjLm5hbWUpKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIHZpc3VhbGl6YXRpb24gb2JqZWN0IGJ5IGdpdmVuIG5hbWUgYW5kIGNhdGVnb3J5LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZS5cclxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fSB2aXN1YWxpemF0aW9uIG9iamVjdC5cclxuXHQgKi9cclxuXHRmaW5kVmlzdWFsaXphdGlvbihjYXRlZ29yeSwgbmFtZSkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IG51bGw7XHJcblx0XHR0aGlzLnZpc0NvbmZpZy5jYXRlZ29yaWVzXHJcblx0XHRcdC5maWx0ZXIoYyA9PiBjLm5hbWUgPT09IGNhdGVnb3J5KVxyXG5cdFx0XHQuZm9yRWFjaChjID0+IHtcclxuXHRcdFx0XHRjb25zdCBjaGFydHMgPSBjLmNoYXJ0cy5maWx0ZXIoY2ggPT4gY2gubmFtZSA9PT0gbmFtZSk7XHJcblx0XHRcdFx0aWYgKGNoYXJ0cyAmJiBjaGFydHMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0cmVzdWx0ID0gY2hhcnRzWzBdO1xyXG5cdFx0XHR9KTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UnLFxyXG5cdFx0XHRJemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImRlY2xhcmUgZ2xvYmFsIHtcclxuXHJcblx0dHlwZSBQcmVkaWNhdGU8VD4gPSAoYXJnOiBUKSA9PiBib29sZWFuO1xyXG5cclxuXHRpbnRlcmZhY2UgQXJyYXk8VD4ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBMSU5RIEZpcnN0T3JEZWZhdWx0IG1ldGhvZCBhbmFsb2cuXHJcblx0XHQgKiBAcGFyYW0gcHJlZGljYXRlIFNlYXJjaCBwcmVkaWNhdGUuXHJcblx0XHQgKiBAcmV0dXJucyB7VCB8IG51bGx9IFJldHVybnMgZmlyc3QgZm91bmQgdmFsdWUgb3IgbnVsbC5cclxuXHRcdCAqL1xyXG5cdFx0Zmlyc3RPckRlZmF1bHQocHJlZGljYXRlOiBQcmVkaWNhdGU8VD4pOiBUO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kIGNvbGxlY3Rpb25cclxuXHRcdCAqIEBwYXJhbSBjb2xsZWN0aW9uXHJcblx0XHQgKi9cclxuXHRcdHB1c2hBbGwoY29sbGVjdGlvbjogQXJyYXk8VD4pOiBBcnJheTxUPjtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpbmQgZmlyc3Qgb2NjdXJlbmNlIGluIGFycmF5J3MgbmVzdGVkIG9iamVjdHMuXHJcblx0XHQgKiBJLmUuIGZvciBhcnJheTpcclxuXHRcdCAqIGNvbnN0IGEgPSBbIHthOjEsIGI6WydhJywnYiddfSwge2E6MTAwLCBiOlsnYWFhJywgJ2QnXX0sIHthOjEwMDAsIGI6WydlJywnYWFhYSddfSBdO1xyXG5cdFx0ICogYS5maXJzdE9yRGVmYXVsdEluSW5uZXIoJ2InLCBiSXRlbSA9PiBiSXRlbS5pbmRleE9mKCdhJykgPj0gMCk7XHJcblx0XHQgKiB3aWxsIHJldHVybiBmaXJzdCB2YWx1ZSBmcm9tIC5iIGFycmF5cyB3aXRoIHN1YnN0cmluZyAnYScuXHJcblx0XHQgKiBAcGFyYW0gaW5uZXJPYmplY3RLZXkgSW5uZXIgY29sbGVjdGlvbiBwcm9wZXJ0eSBuYW1lLlxyXG5cdFx0ICogQHBhcmFtIGlubmVyT2JqZWN0UHJlZGljYXRlIFByZWRpY2F0ZSBmb3Igc2VhcmNoIGFjcm9zcyBpbm5lciBjb2xsZWN0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0Zmlyc3RPckRlZmF1bHRJbklubmVyPEsgZXh0ZW5kcyBrZXlvZiBUPihpbm5lck9iamVjdEtleTogSywgaW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IFRbS107XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGFsbCBvY2N1cmVuY2VzIGluIGFycmF5J3MgbmVzdGVkIG9iamVjdHMuXHJcblx0XHQgKiBJLmUuIGZvciBhcnJheTpcclxuXHRcdCAqIGNvbnN0IGEgPSBbIHthOjEsIGI6WydhJywnYiddfSwge2E6MTAwLCBiOlsnYWFhJywgJ2QnXX0sIHthOjEwMDAsIGI6WydlJywnYWFhYSddfSBdO1xyXG5cdFx0ICogYS5maWx0ZXJJbklubmVyKCdiJywgYkl0ZW0gPT4gYkl0ZW0uaW5kZXhPZignYScpID49IDApO1xyXG5cdFx0ICogd2lsbCByZXR1cm4gYWxsIHZhbHVlcyBmcm9tIC5iIGFycmF5cyB3aXRoIHN1YnN0cmluZyAnYSc6IFsnYScsICdhYWEnLCAnYWFhYSddLlxyXG5cdFx0ICogQHBhcmFtIGlubmVyT2JqZWN0S2V5IElubmVyIGNvbGxlY3Rpb24gcHJvcGVydHkgbmFtZS5cclxuXHRcdCAqIEBwYXJhbSBpbm5lck9iamVjdFByZWRpY2F0ZSBQcmVkaWNhdGUgZm9yIHNlYXJjaCBhY3Jvc3MgaW5uZXIgY29sbGVjdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdGZpbHRlckluSW5uZXI8SyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLCBpbm5lck9iamVjdFByZWRpY2F0ZTogUHJlZGljYXRlPFRbS10+KTogQXJyYXk8VFtLXT47XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgbW9kdWxlIEl6ZW5kYUxpbnEge1xyXG5cclxuXHRBcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHQgPSBmdW5jdGlvbiA8VD4ocHJlZGljYXRlOiBQcmVkaWNhdGU8VD4pOiBUIHtcclxuXHRcdHJldHVybiB0aGlzLnJlZHVjZSgoYWNjdW11bGF0b3I6IFQsIGN1cnJlbnRWYWx1ZTogVCkgPT4ge1xyXG5cdFx0XHRpZighYWNjdW11bGF0b3IgJiYgcHJlZGljYXRlKGN1cnJlbnRWYWx1ZSkpIFxyXG5cdFx0XHRcdGFjY3VtdWxhdG9yID0gY3VycmVudFZhbHVlO1xyXG5cdFx0XHRyZXR1cm4gYWNjdW11bGF0b3I7XHJcblx0XHR9LCBudWxsKTtcclxuXHR9XHJcblxyXG5cdEFycmF5LnByb3RvdHlwZS5wdXNoQWxsID0gZnVuY3Rpb248VD4oY29sbGVjdGlvbjogQXJyYXk8VD4pOiBBcnJheTxUPiB7XHJcblx0XHRpZiAoY29sbGVjdGlvbiA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRjb2xsZWN0aW9uLmZvckVhY2godCA9PiB0aGlzLnB1c2godCkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRBcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHRJbklubmVyID0gZnVuY3Rpb248VCwgSyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLFxyXG5cdFx0aW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IFRbS10gfCBudWxsIHtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgcGFyZW50T2JqZWN0ID0gdGhpc1tpXSBhcyBUO1xyXG5cdFx0XHRpZiAoIXBhcmVudE9iamVjdC5oYXNPd25Qcm9wZXJ0eShpbm5lck9iamVjdEtleSkpXHJcblx0XHRcdFx0dGhyb3cgYEtleSAke2lubmVyT2JqZWN0S2V5fSBub3QgZm91bmQgaW4gb2JqZWN0ICR7cGFyZW50T2JqZWN0fWA7XHJcblxyXG5cdFx0XHRjb25zdCBpbm5lck9iamVjdCA9IHBhcmVudE9iamVjdFtpbm5lck9iamVjdEtleV07XHJcblx0XHRcdGlmIChpbm5lck9iamVjdCAmJiBpbm5lck9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcblx0XHRcdFx0Y29uc3QgZm91bmRJbm5lciA9IGlubmVyT2JqZWN0LmZpcnN0T3JEZWZhdWx0KGlubmVyT2JqZWN0UHJlZGljYXRlKTtcclxuXHRcdFx0XHRpZiAoZm91bmRJbm5lcilcclxuXHRcdFx0XHRcdHJldHVybiBmb3VuZElubmVyO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdEFycmF5LnByb3RvdHlwZS5maWx0ZXJJbklubmVyID0gZnVuY3Rpb248VCwgSyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLFxyXG5cdFx0aW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IEFycmF5PFRbS10+IHtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5yZWR1Y2UoKHJlc3VsdDogQXJyYXk8VFtLXT4sIGN1cnJlbnRUb3BMZXZlbDogVCkgPT4ge1xyXG5cdFx0XHRpZiAoIWN1cnJlbnRUb3BMZXZlbC5oYXNPd25Qcm9wZXJ0eShpbm5lck9iamVjdEtleSkpXHJcblx0XHRcdFx0dGhyb3cgYEtleSAke2lubmVyT2JqZWN0S2V5fSBub3QgZm91bmQgaW4gb2JqZWN0ICR7Y3VycmVudFRvcExldmVsfWA7XHJcblx0XHRcdGNvbnN0IGlubmVyID0gY3VycmVudFRvcExldmVsW2lubmVyT2JqZWN0S2V5XTtcclxuXHRcdFx0aWYgKGlubmVyICYmIGlubmVyIGluc3RhbmNlb2YgQXJyYXkpXHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdC5jb25jYXQoaW5uZXIuZmlsdGVyKGlubmVyT2JqZWN0UHJlZGljYXRlKSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9LCBbXSk7XHJcblx0fTtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0ICdjb21tb24vY29yZS90b29scy9pemVuZGEtbGlucSc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNoYXJlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2hhcmUtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXF1ZXJ5JztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcGl2b3QnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zZXR0aW5ncyc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtdmlzdWFsaXphdGlvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uge1xyXG5cclxuXHRwcml2YXRlIHJlYWRvbmx5IGVtcHR5RmllbGRHcm91cE9wdGlvbjogYW55O1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZW1wdHlTdWJ0b3RhbEZpZWxkR3JvdXBPcHRpb25zOiBhbnk7XHJcblx0cHJpdmF0ZSByZWFkb25seSBlbXB0eUV4cHJlc3Npb25UeXBlOiBhbnk7XHJcblx0cHJpdmF0ZSByZWFkb25seSBlbXB0eUZpZWxkRm9ybWF0T3B0aW9uOiBhbnk7XHJcblx0aXNQYWdlSW5pdGlhbGl6ZWQ6IGJvb2xlYW47XHJcblx0aXNQYWdlUmVhZHk6IGJvb2xlYW47XHJcblx0ZXhpc3RpbmdSZXBvcnRMb2FkaW5nU2NoZWR1bGU6IGFueTtcclxuXHRuZXdSZXBvcnRMb2FkaW5nU2NoZWR1bGU6IGFueTtcclxuXHRpc1ByZXZpZXdTcGxhc2hWaXNpYmxlOiBib29sZWFuO1xyXG5cdHByZXZpZXdTcGxhc2hUZXh0OiBzdHJpbmc7XHJcblx0cmVwb3J0U2V0OiBhbnk7XHJcblx0YWN0aXZlVGFibGVzOiBhbnlbXTtcclxuXHRhY3RpdmVGaWVsZHM6IGFueVtdO1xyXG5cdGNhbGNGaWVsZHM6IGFueVtdO1xyXG5cdGFjdGl2ZUNoZWNrZWRGaWVsZHM6IGFueVtdO1xyXG5cdHByaXZhdGUgY29uc3RyYWludHM6IGFueVtdO1xyXG5cdHZnU3R5bGVzOiBhbnk7XHJcblx0ZHJpbGxEb3duU3R5bGVzOiBhbnk7XHJcblx0ZXhwcmVzc2lvblR5cGVzOiBhbnk7XHJcblx0c3VicmVwb3J0czogYW55O1xyXG5cdGN1cnJlbnRBY3RpdmVGaWVsZDogYW55O1xyXG5cdHVpUGFuZWxzU3RhdGU6IGFueTtcclxuXHRuZXh0SWQ6IG51bWJlcjtcclxuXHRvcmRlckNvdW50ZXI6IG51bWJlcjtcclxuXHRwcmV2aWV3SHRtbDogc3RyaW5nO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0JyRpbmplY3RvcicsXHJcblx0XHRcdCckd2luZG93JyxcclxuXHRcdFx0JyRxJyxcclxuXHRcdFx0JyRsb2cnLFxyXG5cdFx0XHQnJHJvb3RTY29wZScsXHJcblx0XHRcdCckaXplbmRhVXRpbFVpU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhVXRpbFNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVVybFNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhU2hhcmVTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGluamVjdG9yOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkbG9nOiBuZy5JTG9nU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2NoZWR1bGVTZXJ2aWNlOiBJemVuZGFTY2hlZHVsZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTaGFyZVNlcnZpY2U6IEl6ZW5kYVNoYXJlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlOiBJemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlKSB7XHJcblx0XHQvLyBjb25zdDpcclxuXHRcdHRoaXMuZW1wdHlGaWVsZEdyb3VwT3B0aW9uID0gJGluamVjdG9yLmdldCgnaXplbmRhRGVmYXVsdEZ1bmN0aW9uT2JqZWN0Jyk7XHJcblx0XHR0aGlzLmVtcHR5U3VidG90YWxGaWVsZEdyb3VwT3B0aW9ucyA9ICRpbmplY3Rvci5nZXQoJ2l6ZW5kYURlZmF1bHRTdWJ0b3RhbEZ1bmN0aW9uT2JqZWN0Jyk7XHJcblx0XHR0aGlzLmVtcHR5RXhwcmVzc2lvblR5cGUgPSB7XHJcblx0XHRcdHZhbHVlOiAnLi4uJyxcclxuXHRcdFx0dGV4dDogJy4uLidcclxuXHRcdH07XHJcblx0XHR0aGlzLmVtcHR5RmllbGRGb3JtYXRPcHRpb24gPSAkaW5qZWN0b3IuZ2V0KCdpemVuZGFEZWZhdWx0Rm9ybWF0T2JqZWN0Jyk7XHJcblx0XHR0aGlzLmlzUGFnZUluaXRpYWxpemVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzUGFnZVJlYWR5ID0gZmFsc2U7XHJcblx0XHR0aGlzLmV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gbnVsbDtcclxuXHRcdHRoaXMubmV3UmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gbnVsbDtcclxuXHRcdHRoaXMuaXNQcmV2aWV3U3BsYXNoVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5wcmV2aWV3U3BsYXNoVGV4dCA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1dhaXRQcmV2aWV3TG9hZGluZycsICdQbGVhc2Ugd2FpdCB3aGlsZSBwcmV2aWV3IGlzIGxvYWRpbmcuLi4nKTtcclxuXHRcdHRoaXMucmVwb3J0U2V0ID0gYW5ndWxhci5tZXJnZSh7fSwgJGluamVjdG9yLmdldCgnaXplbmRhSW5zdGFudFJlcG9ydE9iamVjdERlZmF1bHRzJykpO1xyXG5cdFx0dGhpcy5yZXBvcnRTZXQub3B0aW9ucy5kaXN0aW5jdCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlLmdldFNldHRpbmdzKCkuZGlzdGluY3Q7IC8vIHNldCBkZWZhdWx0IGRpc3RpbmN0IHNldHRpbmcgdmFsdWVcclxuXHRcdHRoaXMucmVzdG9yZURlZmF1bHRDb2xvcnMoKTsgLy8gc2V0IGRlZmF1bHQgcmVwb3J0IGNvbG9yc1xyXG5cdFx0dGhpcy5hY3RpdmVUYWJsZXMgPSBbXTtcclxuXHRcdHRoaXMuYWN0aXZlRmllbGRzID0gW107XHJcblx0XHR0aGlzLmNhbGNGaWVsZHMgPSBbXTtcclxuXHRcdHRoaXMuYWN0aXZlQ2hlY2tlZEZpZWxkcyA9IFtdO1xyXG5cdFx0dGhpcy5jb25zdHJhaW50cyA9IFtdO1xyXG5cdFx0dGhpcy52Z1N0eWxlcyA9IG51bGw7XHJcblx0XHR0aGlzLmRyaWxsRG93blN0eWxlcyA9IG51bGw7XHJcblx0XHR0aGlzLmV4cHJlc3Npb25UeXBlcyA9IG51bGw7XHJcblx0XHR0aGlzLnN1YnJlcG9ydHMgPSBudWxsO1xyXG5cdFx0dGhpcy5jdXJyZW50QWN0aXZlRmllbGQgPSBudWxsO1xyXG5cclxuXHRcdHRoaXMudWlQYW5lbHNTdGF0ZSA9IHtcclxuXHRcdFx0ZmlsdGVyc1BhbmVsT3BlbmVkOiBmYWxzZVxyXG5cdFx0fTtcclxuXHRcdHRoaXMubmV4dElkID0gMTtcclxuXHRcdHRoaXMub3JkZXJDb3VudGVyID0gMTtcclxuXHRcdHRoaXMucHJldmlld0h0bWwgPSAnJztcclxuXHJcblx0XHR0aGlzLmluaXRpYWxpemUoKTtcclxuXHR9XHJcblxyXG5cdGluaXRpYWxpemUoKSB7XHJcblx0XHQvLyBpbml0aWFsaXplOlxyXG5cdFx0dGhpcy4kbG9nLmRlYnVnKCdTdGFydCBpbnN0YW50IHJlcG9ydCBpbml0aWFsaXplJyk7XHJcblx0XHR0aGlzLmlzUGFnZUluaXRpYWxpemVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzUGFnZVJlYWR5ID0gZmFsc2U7XHJcblx0XHR2YXIgc3RhcnRJbml0aWFsaXppbmdUaW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG5cdFx0dGhpcy4kcS5hbGwoW3RoaXMubG9hZERhdGFTb3VyY2VzKCksIHRoaXMuaW5pdGlhbGl6ZVZnU3R5bGVzKCksIHRoaXMuaW5pdGlhbGl6ZVN1YnJlcG9ydHMoKSwgdGhpcy5pbml0aWFsaXplRHJpbGxEb3duU3R5bGVzKCksXHJcblx0XHR0aGlzLmluaXRpYWxpemVFeHByZXNzaW9uVHlwZXMoKSwgdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlLmxvYWRWaXN1YWxpemF0aW9ucygpXSkudGhlbigoKSA9PiB7XHJcblx0XHRcdHRoaXMuaXNQYWdlSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyh0aGlzLmV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlKSkge1xyXG5cdFx0XHRcdC8vIGV4aXN0aW5nIHJlcG9ydFxyXG5cdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnU3RhcnQgbG9hZGluZyBzY2hlZHVsZWQgcmVwb3J0JywgdGhpcy5leGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSk7XHJcblx0XHRcdFx0dGhpcy5sb2FkUmVwb3J0KHRoaXMuZXhpc3RpbmdSZXBvcnRMb2FkaW5nU2NoZWR1bGUpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdFbmQgbG9hZGluZyBzY2hlZHVsZWQgcmVwb3J0Jyk7XHJcblx0XHRcdFx0XHR0aGlzLmV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gbnVsbDtcclxuXHRcdFx0XHRcdHRoaXMuaXNQYWdlUmVhZHkgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGhpcy4kcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR0aGlzLiRsb2cuZGVidWcoJ1BhZ2UgcmVhZHk6ICcsIGAkeyhuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBzdGFydEluaXRpYWxpemluZ1RpbWVzdGFtcH1tc2ApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodGhpcy5uZXdSZXBvcnRMb2FkaW5nU2NoZWR1bGUpKSB7XHJcblx0XHRcdFx0Ly8gbmV3IHJlcG9ydFxyXG5cdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnU3RhcnQgY3JlYXRpbmcgbmV3IHJlcG9ydCcpO1xyXG5cdFx0XHRcdHRoaXMubmV3UmVwb3J0KCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLiRsb2cuZGVidWcoJ0VuZCBjcmVhdGluZyBuZXcgcmVwb3J0Jyk7XHJcblx0XHRcdFx0XHR0aGlzLm5ld1JlcG9ydExvYWRpbmdTY2hlZHVsZSA9IG51bGw7XHJcblx0XHRcdFx0XHR0aGlzLmlzUGFnZVJlYWR5ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHRoaXMuJHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdQYWdlIHJlYWR5OiAnLCBgJHsobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gc3RhcnRJbml0aWFsaXppbmdUaW1lc3RhbXB9bXNgKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBkZWZhdWx0XHJcblx0XHRcdFx0dGhpcy5pc1BhZ2VSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdQYWdlIHJlYWR5OiAnLCBgJHsobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gc3RhcnRJbml0aWFsaXppbmdUaW1lc3RhbXB9bXNgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGNvbW1vbiBmdW5jdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdHlwZSBncm91cCBvZiBmaWVsZCBvcGVyYXRvclxyXG5cdCAqL1xyXG5cdGdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUob3BlcmF0b3IpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUob3BlcmF0b3IpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRSZXBvcnRTZXRGdWxsTmFtZSgpIHtcclxuXHRcdGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5yZXBvcnRTZXQucmVwb3J0Q2F0ZWdvcnk7XHJcblx0XHRjb25zdCBuYW1lID0gdGhpcy5yZXBvcnRTZXQucmVwb3J0TmFtZTtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhuYW1lKSB8fCBuYW1lLnRyaW0oKSA9PT0gJycpXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0bGV0IHJlc3VsdCA9ICcnO1xyXG5cdFx0aWYgKCF0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQoY2F0ZWdvcnkpKSB7XHJcblx0XHRcdHJlc3VsdCArPSBjYXRlZ29yeSArIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0fVxyXG5cdFx0cmVzdWx0ICs9IG5hbWU7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXROZXh0SWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5uZXh0SWQrKztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ3VpZCgpIHtcclxuXHRcdGZ1bmN0aW9uIHM0KCkge1xyXG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcclxuXHRcdFx0XHQudG9TdHJpbmcoMTYpXHJcblx0XHRcdFx0LnN1YnN0cmluZygxKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICtcclxuXHRcdFx0czQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0TmV4dE9yZGVyKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3JkZXJDb3VudGVyKys7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCZWNvbWVzIHRydWUgd2hlbiBwYWdlIGlzIHJlYWR5IHRvIHdvcmtcclxuXHQgKi9cclxuXHRnZXRQYWdlUmVhZHkoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc1BhZ2VSZWFkeTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB3aG9sZSByZXBvcnQgc2V0XHJcblx0ICovXHJcblx0Z2V0UmVwb3J0U2V0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0U2V0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGFzb3VyY2VzXHJcblx0ICovXHJcblx0Z2V0RGF0YVNvdXJjZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZXBvcnRTZXQuZGF0YVNvdXJjZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZGF0YXNvdXJjZXNcclxuXHQgKi9cclxuXHRzZXREYXRhU291cmNlcyhkYXRhU291cmNlcykge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoZGF0YVNvdXJjZXMpKVxyXG5cdFx0XHR0aHJvdyAnXCJkYXRhU291cmNlc1wiIHBhcmFtZXRlciBzaG91bGQgYmUgYXJyYXkuJztcclxuXHRcdHRoaXMucmVwb3J0U2V0LmRhdGFTb3VyY2VzID0gZGF0YVNvdXJjZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZmlsdGVycyByZWZlcmVuY2VcclxuXHQgKi9cclxuXHRnZXRGaWx0ZXJzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0U2V0LmZpbHRlcnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcmVwb3J0IHNldCBvcHRpb25zXHJcblx0ICovXHJcblx0Z2V0T3B0aW9ucygpIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydFNldC5vcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRyaWxsZG93biBmaWVsZHNcclxuXHQgKi9cclxuXHRnZXREcmlsbERvd25GaWVsZHMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZXBvcnRTZXQuZHJpbGxEb3duRmllbGRzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGZpbHRlciBvcHRpb25zXHJcblx0ICovXHJcblx0Z2V0RmlsdGVyT3B0aW9ucygpIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydFNldC5maWx0ZXJPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHByZXZpZXcgaHRtbFxyXG5cdCAqL1xyXG5cdGdldFByZXZpZXcoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmV2aWV3SHRtbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcnNlIGFuZCBzZXQgY29uc3RyYWludHNcclxuXHQgKi9cclxuXHRzZXRDb25zdHJhaW50cyhjb25zdHJhaW50c0RhdGEpIHtcclxuXHRcdHRoaXMuY29uc3RyYWludHMgPSBjb25zdHJhaW50c0RhdGEuRGF0YTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgY2F0ZWdvcnkgYnkgZ2l2ZW4gaWRcclxuXHQgKi9cclxuXHRnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGNvbnN0IGRhdGFzb3VyY2VzID0gdGhpcy5nZXREYXRhU291cmNlcygpO1xyXG5cdFx0d2hpbGUgKGkgPCBkYXRhc291cmNlcy5sZW5ndGgpIHtcclxuXHRcdFx0Y29uc3QgZGF0YXNvdXJjZSA9IGRhdGFzb3VyY2VzW2ldO1xyXG5cdFx0XHRpZiAoZGF0YXNvdXJjZS5pZCA9PT0gaWQpXHJcblx0XHRcdFx0cmV0dXJuIGRhdGFzb3VyY2U7XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCBmaXJzdCB0YWJsZSBieSBwcm9wZXJ0eSB2YWx1ZS5cclxuXHQgKi9cclxuXHRnZXRUYWJsZUJ5UHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSwgY2FzZUluZGVwZW5kZW50Pykge1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQocHJvcGVydHlOYW1lKSlcclxuXHRcdFx0dGhyb3cgJ3Byb3BlcnR5TmFtZSBwYXJhbWV0ZXIgc2hvdWxkIGJlIHNldC4nO1xyXG5cdFx0Y29uc3QgZGF0YXNvdXJjZXMgPSB0aGlzLmdldERhdGFTb3VyY2VzKCk7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5ID0gZGF0YXNvdXJjZXNbaV07XHJcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgY2F0ZWdvcnkudGFibGVzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0Y29uc3QgdGFibGUgPSBjYXRlZ29yeS50YWJsZXNbal07XHJcblx0XHRcdFx0aWYgKCF0YWJsZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKVxyXG5cdFx0XHRcdFx0dGhyb3cgJ1RhYmxlIGRvblxcJ3QgaGF2ZSBwcm9wZXJ0eSAnICsgcHJvcGVydHlOYW1lO1xyXG5cdFx0XHRcdGxldCBwcm9wZXJ0eVZhbHVlID0gdGFibGVbcHJvcGVydHlOYW1lXTtcclxuXHRcdFx0XHRsZXQgY29tcGFyZVZhbHVlID0gdmFsdWU7XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5VmFsdWUgJiYgY2FzZUluZGVwZW5kZW50KVxyXG5cdFx0XHRcdFx0cHJvcGVydHlWYWx1ZSA9IChwcm9wZXJ0eVZhbHVlICsgJycpLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0aWYgKGNvbXBhcmVWYWx1ZSAmJiBjYXNlSW5kZXBlbmRlbnQpXHJcblx0XHRcdFx0XHRjb21wYXJlVmFsdWUgPSAoY29tcGFyZVZhbHVlICsgJycpLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5VmFsdWUgPT09IGNvbXBhcmVWYWx1ZSlcclxuXHRcdFx0XHRcdHJldHVybiB0YWJsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIHRhYmxlIGJ5IGdpdmVuIGlkXHJcblx0ICovXHJcblx0Z2V0VGFibGVCeUlkKGlkKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWJsZUJ5UHJvcGVydHkoJ2lkJywgaWQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCB0YWJsZSBieSBnaXZlbiBzeXNuYW1lXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN5c25hbWUuXHJcblx0ICogQHJldHVybnMge29iamVjdH0gdGFibGUgb2JqZWN0LiBcclxuXHQgKi9cclxuXHRnZXRUYWJsZUJ5U3lzbmFtZShzeXNuYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWJsZUJ5UHJvcGVydHkoJ3N5c25hbWUnLCBzeXNuYW1lKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgdGFibGUgYnkgbmFtZS4gKENhc2UgaW5kZXBlbmRlbnQpXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUuXHJcblx0ICogQHJldHVybnMge29iamVjdH0gdGFibGUgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGdldFRhYmxlQnlOYW1lKG5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldFRhYmxlQnlQcm9wZXJ0eSgnbmFtZScsIG5hbWUsIHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCBmaWVsZCBieSBnaXZlbiBpZFxyXG5cdCAqL1xyXG5cdGdldEZpZWxkQnlJZChpZCkge1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0Y29uc3QgZGF0YXNvdXJjZXMgPSB0aGlzLmdldERhdGFTb3VyY2VzKCk7XHJcblx0XHR3aGlsZSAoaSA8IGRhdGFzb3VyY2VzLmxlbmd0aCkge1xyXG5cdFx0XHRsZXQgaiA9IDA7XHJcblx0XHRcdGNvbnN0IHRhYmxlcyA9IGRhdGFzb3VyY2VzW2ldLnRhYmxlcztcclxuXHRcdFx0d2hpbGUgKGogPCB0YWJsZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0bGV0IGsgPSAwO1xyXG5cdFx0XHRcdGNvbnN0IGZpZWxkcyA9IHRhYmxlc1tqXS5maWVsZHM7XHJcblx0XHRcdFx0d2hpbGUgKGsgPCBmaWVsZHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZCA9IGZpZWxkc1trXTtcclxuXHRcdFx0XHRcdGlmIChmaWVsZC5pZCA9PT0gaWQpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZpZWxkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLmlzTXVsdGlwbGVDb2x1bW5zICYmIGZpZWxkLm11bHRpcGxlQ29sdW1ucy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbXVsdGlwbGVGaWVsZCA9IGZpZWxkLm11bHRpcGxlQ29sdW1ucy5maXJzdE9yRGVmYXVsdChmID0+IGYuaWQgPT09IGlkKTtcclxuXHRcdFx0XHRcdFx0aWYgKG11bHRpcGxlRmllbGQpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG11bHRpcGxlRmllbGQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRrKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGorKztcclxuXHRcdFx0fVxyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBhbGwgdGFibGVzIGluIGFsbCBkYXRhc291cmNlc1xyXG5cdCAqL1xyXG5cdGdldEFsbFRhYmxlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldERhdGFTb3VyY2VzKCkucmVkdWNlKChyZXN1bHQsIGNhdGVnb3J5KSA9PiByZXN1bHQuY29uY2F0KGNhdGVnb3J5LnRhYmxlcyksIFtdKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCogR2V0IGNoZWNrZWQgdGFibGVzXHJcblx0Ki9cclxuXHRnZXRBY3RpdmVUYWJsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5hY3RpdmVUYWJsZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIGZpZWxkIGJ5IGd1aWRcclxuXHQgKi9cclxuXHRnZXRDYWxjRmllbGQoY2FsY0ZpZWxkSWQpIHtcclxuXHRcdHJldHVybiB0aGlzLmNhbGNGaWVsZHMuZmlyc3RPckRlZmF1bHQoYyA9PiBjLnN5c25hbWUgPT09IGNhbGNGaWVsZElkKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RmllbGQocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlLCBmaW5kSW5BbGxUYWJsZXM/KSB7XHJcblx0XHRpZiAocHJvcGVydHlWYWx1ZSAmJiBwcm9wZXJ0eVZhbHVlLmluZGV4T2YoJ2ZsZElkfCcpID09PSAwKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRDYWxjRmllbGQocHJvcGVydHlWYWx1ZSk7XHJcblxyXG5cdFx0Y29uc3QgdGFibGVzQ29sbGVjdGlvbiA9ICh0eXBlb2YgKGZpbmRJbkFsbFRhYmxlcykgPT09ICdib29sZWFuJyAmJiBmaW5kSW5BbGxUYWJsZXMpXHJcblx0XHRcdD8gdGhpcy5nZXRBbGxUYWJsZXMoKVxyXG5cdFx0XHQ6IHRoaXMuZ2V0QWN0aXZlVGFibGVzKCk7XHJcblxyXG5cdFx0Ly8gZmluZCBmaXJzdCBmaWVsZCBpbiB0YWJsZXMgd2hpY2ggbWF0Y2hlcyBwcmVkaWNhdGUgXCJwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eVZhbHVlXCI6XHJcblx0XHRyZXR1cm4gdGFibGVzQ29sbGVjdGlvbi5maXJzdE9yRGVmYXVsdEluSW5uZXIoJ2ZpZWxkcycsIGYgPT5cclxuXHRcdFx0Zi5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpICYmIGZbcHJvcGVydHlOYW1lXSA9PT0gcHJvcGVydHlWYWx1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIGZpZWxkIGJ5IHN5c25hbWVcclxuXHQgKi9cclxuXHRnZXRGaWVsZEJ5U3lzTmFtZShzeXNuYW1lLCBmaW5kSW5BbGxUYWJsZXM/KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRGaWVsZCgnc3lzbmFtZScsIHN5c25hbWUsIGZpbmRJbkFsbFRhYmxlcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBmdW5jdGlvbnMgYWxsb3dlZCB0byBmaWVsZFxyXG5cdCAqL1xyXG5cdGlzQmluYXJ5RmllbGQoZmllbGQpIHtcclxuXHRcdGlmICghZmllbGQpIHJldHVybiBmYWxzZTtcclxuXHRcdGNvbnN0IGV4cHJlc3Npb25UeXBlID0gZmllbGQuZXhwcmVzc2lvblR5cGU7XHJcblx0XHRpZiAoZXhwcmVzc2lvblR5cGUgJiYgZXhwcmVzc2lvblR5cGUudmFsdWUgJiYgZXhwcmVzc2lvblR5cGUudmFsdWUgIT09ICcuLi4nKVxyXG5cdFx0XHRyZXR1cm4gWydCaW5hcnknLCAnT3RoZXInLCAnTm9uZSddLmluZGV4T2YoZXhwcmVzc2lvblR5cGUudmFsdWUpID49IDA7XHJcblx0XHRyZXR1cm4gZmllbGQuc3FsVHlwZSA9PT0gJ1RleHQnIHx8IGZpZWxkLnNxbFR5cGUgPT09ICdJbWFnZSc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY2hlY2tlZCBhbmQgbm90IGNoZWNrZWQgZmllbGRzIGluIGFjdGl2ZSB0YWJsZXM7XHJcblx0ICogVE9ETzogaXQgaXMgbm90IGEgZ29vZCBpZGVhIHRvIGFzc2lnbiB2YWx1ZXMgdG8gXCJhZGRpdGlvbmFsR3JvdXBcIiBwcm9wZXJ0eSBpbiBnZXQgZnVuY3Rpb24uXHJcblx0ICovXHJcblx0Z2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXMoYXBwZW5kQ2FsY0ZpZWxkcz8pIHtcclxuXHRcdHRoaXMuYWN0aXZlRmllbGRzLmZvckVhY2goZiA9PlxyXG5cdFx0XHRmLmFkZGl0aW9uYWxHcm91cCA9IGYudGFibGVOYW1lKTtcclxuXHJcblx0XHRpZiAoIWFwcGVuZENhbGNGaWVsZHMpXHJcblx0XHRcdHJldHVybiB0aGlzLmFjdGl2ZUZpZWxkcztcclxuXHJcblx0XHR0aGlzLmNhbGNGaWVsZHMuZm9yRWFjaChmID0+XHJcblx0XHRcdGYuYWRkaXRpb25hbEdyb3VwID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19jYWxjRmllbGRzJywgJ0NhbGN1bGF0ZWQgRmllbGRzJykpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmFjdGl2ZUZpZWxkcy5jb25jYXQodGhpcy5jYWxjRmllbGRzKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBhY3RpdmUgKGNoZWNrZWQpIGZpZWxkcyAoaW5jbHVkaW5nIG11bHRpcGxlIGZpZWxkcykuXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHRhYmxlIFRhYmxlIG9iamVjdC5cclxuXHQgKiBAcmV0dXJucyB7b2JqZWN0W119IENoZWNrZWQgZmllbGRzIGNvbGxlY3Rpb24uXHJcblx0ICovXHJcblx0Z2V0QWN0aXZlRmllbGRzKHRhYmxlKSB7XHJcblx0XHRyZXR1cm4gdGFibGUuZmllbGRzLnJlZHVjZSgocmVzdWx0OiBhbnlbXSwgZjogYW55KSA9PiB7XHJcblx0XHRcdGlmICghZi5pc011bHRpcGxlQ29sdW1ucyAmJiBmLmNoZWNrZWQpXHJcblx0XHRcdFx0cmVzdWx0LnB1c2goZik7XHJcblx0XHRcdGVsc2UgaWYgKGYuaXNNdWx0aXBsZUNvbHVtbnMpXHJcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0LmNvbmNhdChmLm11bHRpcGxlQ29sdW1ucy5maWx0ZXIoZm0gPT4gZm0uY2hlY2tlZCkpO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSwgW10pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQmFzZSBmaWVsZHMgaXRlcmF0b3IgZnVuY3Rpb25cclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmaWVsZEhhbmRsZXIgaXRlcmF0b3IgXCJlYWNoXCIgaGFuZGxlclxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGdldEZpZWxkc0Z1bmN0aW9uIGZpZWxkIGZpbHRlciBmdW5jdGlvbiAoZnVuY3Rpb24odGFibGUpIHsuLi4gcmV0dXJuIGZpZWxkc0FycmF5OyB9KVxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IGNvbnRleHQgb2JqZWN0XHJcblx0ICovXHJcblx0ZWFjaEZpZWxkc0Jhc2U8VCwgRj4oXHJcblx0XHRmaWVsZEhhbmRsZXI6IChmaWVsZDogRiwgdGFibGU6IFQpID0+IHZvaWQsXHJcblx0XHRnZXRGaWVsZHNGdW5jdGlvbjogKHRhYmxlOiBUKSA9PiBGW10sXHJcblx0XHRjb250ZXh0PzogYW55KSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihmaWVsZEhhbmRsZXIpKVxyXG5cdFx0XHR0aHJvdyAnZmllbGRIYW5kbGVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uLic7XHJcblxyXG5cdFx0dGhpcy5nZXRBY3RpdmVUYWJsZXMoKS5mb3JFYWNoKHQgPT4ge1xyXG5cdFx0XHR2YXIgYUZpZWxkcyA9IGdldEZpZWxkc0Z1bmN0aW9uKHQpO1xyXG5cdFx0XHRpZiAoYUZpZWxkcyAmJiBhRmllbGRzLmxlbmd0aClcclxuXHRcdFx0XHRhRmllbGRzLmZvckVhY2goZiA9PiBmaWVsZEhhbmRsZXIuY2FsbChhbmd1bGFyLmlzRGVmaW5lZChjb250ZXh0KSA/IGNvbnRleHQgOiB0aGlzLCBmLCB0KSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdvcmtzIGxpa2UgZWFjaC4gSXRlcmF0ZSB0aHJvdWdoIGNoZWNrZWQgZmllbGRzXHJcblx0ICovXHJcblx0ZWFjaEFjdGl2ZUZpZWxkcyhmaWVsZEhhbmRsZXIsIGNvbnRleHQ/KSB7XHJcblx0XHR0aGlzLmVhY2hGaWVsZHNCYXNlKGZpZWxkSGFuZGxlciwgdGhpcy5nZXRBY3RpdmVGaWVsZHMsIGNvbnRleHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFsbCBjaGVja2VkIGZpZWxkcy5cclxuXHQgKi9cclxuXHRnZXRBbGxBY3RpdmVGaWVsZHMoKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHR0aGlzLmVhY2hBY3RpdmVGaWVsZHMoZmllbGQgPT4gcmVzdWx0LnB1c2goZmllbGQpKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYWxsIGNoZWNrZWQgYW5kIHZpc2libGUgZmllbGRzLlxyXG5cdCAqL1xyXG5cdGdldEFsbFZpc2libGVGaWVsZHMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRBbGxBY3RpdmVGaWVsZHMoKS5maWx0ZXIoZiA9PiBmLnZpc2libGUpO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBncm91cCBmdW5jdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlmIGZ1bmN0aW9ucyBhbGxvd2VkIHRvIGZpZWxkXHJcblx0ICovXHJcblx0aXNBY3RpdmVGaWVsZHNDb250YWluc0JpbmFyeSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldEFsbEFjdGl2ZUZpZWxkcygpLnNvbWUoZiA9PiB0aGlzLmlzQmluYXJ5RmllbGQoZikpO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBncm91cCBmdW5jdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBmaWVsZCBncm91cGVkXHJcblx0ICovXHJcblx0aXNGaWVsZEdyb3VwZWQoZmllbGQpIHtcclxuXHRcdGNvbnN0IGNvbXBhcmVXaXRoVmFsdWUgPSB0aGlzLmVtcHR5RmllbGRHcm91cE9wdGlvbi52YWx1ZTtcclxuXHRcdGlmICghZmllbGQuZ3JvdXBCeUZ1bmN0aW9uIHx8ICFmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiBmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUudG9Mb3dlckNhc2UoKSAhPT0gY29tcGFyZVdpdGhWYWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgZmllbGQgZ3JvdXBlZCBhbmQgbm90ICdncm91cCcgZnVuY3Rpb24gaXMgYXBwbGllZC5cclxuXHQgKi9cclxuXHRpc0ZpZWxkR3JvdXBlZFdpdGhGdW5jdGlvbihmaWVsZCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNGaWVsZEdyb3VwZWQoZmllbGQpICYmIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpICE9PSAnZ3JvdXAnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGZpZWxkIGZvcm1hdHMgKGl0IGRlcGVuZHMgb24gc2VsZWN0ZWQgZ3JvdXAgZnVuY3Rpb24pXHJcblx0ICovXHJcblx0dXBkYXRlRmllbGRGb3JtYXRzKGZpZWxkLCBkZWZhdWx0Rm9ybWF0U3RyaW5nPykge1xyXG5cdFx0Y29uc3QgZ290RmllbGRGb3JtYXRzID0gKHJldHVybk9iaiwgZGVmYXVsdFR5cGVHcm91cCwgcmVzb2x2ZUZ1bmMpID0+IHtcclxuXHRcdFx0ZmllbGQuZm9ybWF0T3B0aW9uR3JvdXBzID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuY29udmVydE9wdGlvbnNCeVBhdGgocmV0dXJuT2JqKTtcclxuXHRcdFx0dmFyIGZvcm1hdFRvQXBwbHk7XHJcblx0XHRcdHZhciBkZWZhdWx0VHlwZUdyb3VwRm9ybWF0U3RyaW5nID0gdGhpcy5nZXREZWZhdWx0RmllbGRGb3JtYXQoZGVmYXVsdFR5cGVHcm91cCk7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRGb3JtYXRTdHJpbmcpICYmIGRlZmF1bHRGb3JtYXRTdHJpbmcpIHtcclxuXHRcdFx0XHRmb3JtYXRUb0FwcGx5ID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0T3B0aW9uQnlWYWx1ZShmaWVsZC5mb3JtYXRPcHRpb25Hcm91cHMsIGRlZmF1bHRGb3JtYXRTdHJpbmcpO1xyXG5cdFx0XHRcdGlmICghZm9ybWF0VG9BcHBseSkge1xyXG5cdFx0XHRcdFx0Zm9ybWF0VG9BcHBseSA9XHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmllbGQuZm9ybWF0T3B0aW9uR3JvdXBzLCBkZWZhdWx0VHlwZUdyb3VwRm9ybWF0U3RyaW5nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Zm9ybWF0VG9BcHBseSA9XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmZvcm1hdE9wdGlvbkdyb3VwcywgZGVmYXVsdFR5cGVHcm91cEZvcm1hdFN0cmluZyk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZmllbGQuZm9ybWF0ID0gZm9ybWF0VG9BcHBseTtcclxuXHRcdFx0cmVzb2x2ZUZ1bmMoZmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Ly8gaXNGaWVsZEdyb3VwZWQgZ3VhcmFudGVlcyB0aGF0IGZpZWxkLmdyb3VwQnlGdW5jdGlvbi52YWx1ZSB3aWxsIGJlIG5vbi1lbXB0eSBhbmQgZG9uJ3QgaGF2ZSBcIk5vbmVcIiB2YWx1ZS5cclxuXHRcdFx0aWYgKHRoaXMuaXNGaWVsZEdyb3VwZWQoZmllbGQpICYmIFsnbWluJywgJ21heCcsICdzdW0nLCAnc3VtX2Rpc3RpbmN0JywgJ2dyb3VwJ10uaW5kZXhPZihmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUudG9Mb3dlckNhc2UoKSkgPCAwKSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRGaWVsZEZvcm1hdHMoZmllbGQsIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi5kYXRhVHlwZUdyb3VwKS50aGVuKHJldHVybk9iaiA9PiB7XHJcblx0XHRcdFx0XHRnb3RGaWVsZEZvcm1hdHMocmV0dXJuT2JqLCBmaWVsZC5ncm91cEJ5RnVuY3Rpb24uZGF0YVR5cGVHcm91cCwgcmVzb2x2ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRGaWVsZEZvcm1hdHMoZmllbGQpLnRoZW4ocmV0dXJuT2JqID0+IHtcclxuXHRcdFx0XHRcdGdvdEZpZWxkRm9ybWF0cyhyZXR1cm5PYmosIGZpZWxkLnR5cGVHcm91cCwgcmVzb2x2ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGdyb3VwIGJ5IGdpdmVuIHZhbHVlXHJcblx0ICovXHJcblx0Z2V0R3JvdXBCeVZhbHVlKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmllbGQuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucywgdmFsdWUsIHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFN1YnRvdGFsIGdyb3VwIGJ5IGdpdmVuIHZhbHVlXHJcblx0ICovXHJcblx0Z2V0R3JvdXBCeVN1YnRvdGFsVmFsdWUoZmllbGQsIHZhbHVlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0T3B0aW9uQnlWYWx1ZShmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbk9wdGlvbnMsIHZhbHVlLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlmIGNoZWNrZWQgZmllbGRzIGhhcyBmdW5jdGlvblxyXG5cdCAqL1xyXG5cdGlzUmVwb3J0VXNlR3JvdXAoKSB7XHJcblx0XHRjb25zdCBhY3RpdmVUYWJsZXMgPSB0aGlzLmdldEFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0aWYgKGFjdGl2ZVRhYmxlcy5sZW5ndGggPT09IDApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRsZXQgcmVzdWx0OiBib29sZWFuID0gZmFsc2U7XHJcblx0XHR0aGlzLmVhY2hBY3RpdmVGaWVsZHMoZmllbGQgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5pc0ZpZWxkR3JvdXBlZChmaWVsZCkpXHJcblx0XHRcdFx0cmVzdWx0ID0gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc2V0IGFsbCBncm91cHMgd2hpY2ggd2FzIGdyb3VwZWQgYXV0b21hdGljYWxseS5cclxuXHQgKi9cclxuXHRyZXNldEF1dG9Hcm91cHMoKSB7XHJcblx0XHQvLyBjaGVjayBncm91cCBmdW5jdGlvbjpcclxuXHRcdHRoaXMuZWFjaEFjdGl2ZUZpZWxkcyhmaWVsZCA9PiB7XHJcblx0XHRcdGlmICghdGhpcy5pc0JpbmFyeUZpZWxkKGZpZWxkKSkge1xyXG5cdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9IHRoaXMuZ2V0R3JvdXBCeVZhbHVlKGZpZWxkLCAnTk9ORScpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRmllbGRGb3JtYXRzKGZpZWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKiogXHJcblx0ICogQ2hlY2sgaWYgcmVwb3J0IGhhcyBncm91cCBhbmQgYXBwbHkgZ3JvdXAgYnkgZm9yIG90aGVyIGNvbHVtbnMuXHJcblx0ICovXHJcblx0YXBwbHlBdXRvR3JvdXBzKGZvcmNlPykge1xyXG5cdFx0aWYgKCFmb3JjZSkge1xyXG5cdFx0XHRjb25zdCBoYXNHcm91cCA9IHRoaXMuaXNSZXBvcnRVc2VHcm91cCgpO1xyXG5cdFx0XHRpZiAoIWhhc0dyb3VwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdC8vIGNoZWNrIGdyb3VwIGZ1bmN0aW9uOlxyXG5cdFx0dGhpcy5lYWNoQWN0aXZlRmllbGRzKGZpZWxkID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuaXNCaW5hcnlGaWVsZChmaWVsZCkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNGaWVsZEdyb3VwZWQoZmllbGQpKSB7XHJcblx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcy5nZXRHcm91cEJ5VmFsdWUoZmllbGQsICdHUk9VUCcpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRmllbGRGb3JtYXRzKGZpZWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcG9zc2libGUgdmlzdWFsIGdyb3VwIHN0eWxlcyBmcm9tIHNlcnZlclxyXG5cdCAqL1xyXG5cdGluaXRpYWxpemVWZ1N0eWxlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldFZnU3R5bGVzKCkudGhlbihyZXN1bHQgPT4ge1xyXG5cdFx0XHRcdHRoaXMudmdTdHlsZXMgPSByZXN1bHRbMF0ub3B0aW9ucztcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdmlzdWFsIGdyb3VwIHN0eWxlc1xyXG5cdCAqL1xyXG5cdGdldFZnU3R5bGVzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudmdTdHlsZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplIHBvc3NpYmxlIGV4cHJlc3Npb24gdHlwZXMuXHJcblx0ICovXHJcblx0aW5pdGlhbGl6ZUV4cHJlc3Npb25UeXBlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldEV4cHJlc3Npb25UeXBlcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHR0aGlzLmV4cHJlc3Npb25UeXBlcyA9IFtdO1xyXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSByZXN1bHRbMF0ub3B0aW9ucztcclxuXHRcdFx0XHRpZiAob3B0aW9ucylcclxuXHRcdFx0XHRcdHRoaXMuZXhwcmVzc2lvblR5cGVzID0gdGhpcy5leHByZXNzaW9uVHlwZXMuY29uY2F0KG9wdGlvbnMuZmlsdGVyKG8gPT4gby52YWx1ZSAhPT0gJycpKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZSBwb3NzaWJsZSBkcmlsbGRvd24gc3R5bGVzIGZyb20gc2VydmVyXHJcblx0ICovXHJcblx0aW5pdGlhbGl6ZURyaWxsRG93blN0eWxlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldERyaWxsRG93blN0eWxlcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHR0aGlzLmRyaWxsRG93blN0eWxlcyA9IFtdO1xyXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSByZXN1bHRbMF0ub3B0aW9ucztcclxuXHRcdFx0XHRpZiAob3B0aW9ucylcclxuXHRcdFx0XHRcdG9wdGlvbnMuZm9yRWFjaChvID0+IHtcclxuXHRcdFx0XHRcdFx0by5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRyaWxsRG93blN0eWxlcy5wdXNoKG8pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGlzYWJsZSBFbWJlZGRlZERldGFpbCBkcmlsbGRvd24gc3R5bGUgZm9yIGN1cnJlbnQgcmVwb3J0IGFuZCAoQVVUTylcclxuXHQgKi9cclxuXHRkaXNhYmxlRW1iZWRkZWREcmlsbERvd25TdHlsZShmaWVsZCkge1xyXG5cdFx0dGhpcy5kcmlsbERvd25TdHlsZXMuZm9yRWFjaChkZFN0eWxlID0+IHtcclxuXHRcdFx0ZGRTdHlsZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHR2YXIgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0XHRpZiAoZGRTdHlsZS52YWx1ZSA9PT0gJ0VtYmVkZGVkRGV0YWlsJykge1xyXG5cdFx0XHRcdGRkU3R5bGUuZGlzYWJsZWQgPSBmaWVsZC5zdWJyZXBvcnQgPT09ICcoQVVUTyknIHx8IGZpZWxkLnN1YnJlcG9ydCA9PT0gcmVwb3J0SW5mby5mdWxsTmFtZTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZHJpbGxkb3duIHN0eWxlc1xyXG5cdCAqL1xyXG5cdGdldERyaWxsRG93blN0eWxlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLmRyaWxsRG93blN0eWxlcztcclxuXHR9XHJcblxyXG5cdGdldEV4cHJlc3Npb25UeXBlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLmV4cHJlc3Npb25UeXBlcztcclxuXHR9XHJcblxyXG5cdGluaXRpYWxpemVTdWJyZXBvcnRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0U3VicmVwb3J0cygpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHR0aGlzLnN1YnJlcG9ydHMgPSByZXN1bHRbMF0ub3B0aW9ucztcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRTdWJyZXBvcnRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VicmVwb3J0cztcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gdmFsaWRhdGlvbiBmdW5jdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgYWxsIHZhbGlkYXRpb24gbWVzc2FnZXNcclxuXHQgKi9cclxuXHRjbGVhclZhbGlkYXRpb24oKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheSh0aGlzLmdldERhdGFTb3VyY2VzKCkpKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmdldERhdGFTb3VyY2VzKCkuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcblx0XHRcdGNhdGVnb3J5LnRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0XHR0YWJsZS52YWxpZGF0ZU1lc3NhZ2VzID0gW107XHJcblx0XHRcdFx0dGFibGUudmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSBudWxsO1xyXG5cdFx0XHRcdHRhYmxlLmZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuXHRcdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZXMgPSBbXTtcclxuXHRcdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZUxldmVsID0gbnVsbDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIHJlcG9ydCBhbmQgc2V0IHZhbGlkYXRlIG1lc3NhZ2VzIHRvIHRhYmxlcyBhbmQgZmllbGRzXHJcblx0ICovXHJcblx0dmFsaWRhdGVSZXBvcnQoKSB7XHJcblx0XHR0aGlzLmNsZWFyVmFsaWRhdGlvbigpO1xyXG5cdFx0dmFyIHZhbGlkYXRpb25GYWlsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdGNvbnN0IGFjdGl2ZVRhYmxlcyA9IHRoaXMuZ2V0QWN0aXZlVGFibGVzKCk7XHJcblx0XHRpZiAoYWN0aXZlVGFibGVzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0dmFyIGhhc0dyb3VwID0gdGhpcy5pc1JlcG9ydFVzZUdyb3VwKCk7XHJcblxyXG5cdFx0dGhpcy5lYWNoQWN0aXZlRmllbGRzKGZpZWxkID0+IHtcclxuXHRcdFx0aWYgKGhhc0dyb3VwICYmIHRoaXMuaXNCaW5hcnlGaWVsZChmaWVsZCkpIHtcclxuXHRcdFx0XHQvLyBpZiBmaWVsZCBoYXZlIHNxbCB0eXBlIHdoaWNoIGNhbid0IGJlIGdyb3VwZWRcclxuXHRcdFx0XHRmaWVsZC52YWxpZGF0ZU1lc3NhZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0bWVzc2FnZVR5cGU6ICdkYW5nZXInLFxyXG5cdFx0XHRcdFx0bWVzc2FnZTogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0V2l0aFBhcmFtcyhcclxuXHRcdFx0XHRcdFx0J2pzX0NhbnRVc2VXaXRoR3JvdXAnLFxyXG5cdFx0XHRcdFx0XHQnQ2FuXFwndCB1c2UgZmllbGRzIHdpdGggc3FsIHR5cGUgXCJ7MH1cIiB3aXRoIEdST1VQIEJZIHN0YXRlbWVudCcsXHJcblx0XHRcdFx0XHRcdFtmaWVsZC5zcWxUeXBlXSlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRmaWVsZC52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9ICdkYW5nZXInO1xyXG5cdFx0XHRcdHZhbGlkYXRpb25GYWlsZWQgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGhhc0dyb3VwICYmICF0aGlzLmlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHRcdC8vIGlmIGZpZWxkIGhhdmUgbm8gZ3JvdXAgZnVuY3Rpb25cclxuXHRcdFx0XHRmaWVsZC52YWxpZGF0ZU1lc3NhZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0bWVzc2FnZVR5cGU6ICdkYW5nZXInLFxyXG5cdFx0XHRcdFx0bWVzc2FnZTogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19NdXN0QmVGdW5jdGlvbicsICdJZiBmdW5jdGlvbnMgYXJlIHVzZWQsIGVhY2ggc2VsZWN0aW9uIG11c3QgYmUgYSBmdW5jdGlvbi4nKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZUxldmVsID0gJ2Rhbmdlcic7XHJcblx0XHRcdFx0dmFsaWRhdGlvbkZhaWxlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHZhbGlkYXRpb25GYWlsZWQ7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGNvbW1vbiBVSSBmdW5jdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRoaWRlQWxsUGFuZWxzKCkge1xyXG5cdFx0dGhpcy51aVBhbmVsc1N0YXRlLmZpbHRlcnNQYW5lbE9wZW5lZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Z2V0RmlsdGVyc1BhbmVsT3BlbmVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudWlQYW5lbHNTdGF0ZS5maWx0ZXJzUGFuZWxPcGVuZWQ7XHJcblx0fVxyXG5cclxuXHRzZXRGaWx0ZXJzUGFuZWxPcGVuZWQodmFsdWUpIHtcclxuXHRcdHRoaXMuaGlkZUFsbFBhbmVscygpO1xyXG5cdFx0dGhpcy51aVBhbmVsc1N0YXRlLmZpbHRlcnNQYW5lbE9wZW5lZCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBkYXRhc291cmNlcyBmdW5jdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBBbGdvcml0aG0gd2hpY2ggZmluZCBub2RlcyB3aGljaCBjYW4ndCBiZSBkZWFjdGl2YXRlZFxyXG5cdCAqL1xyXG5cdGZpbmRCcmlkZ2VzRm9yR3JhcGgobm9kZXMsIGxpbmtzKSB7XHJcblx0XHRjb25zdCBuID0gbm9kZXMubGVuZ3RoO1xyXG5cdFx0Y29uc3QgdXNlZCA9IG5ldyBBcnJheShuKTtcclxuXHRcdGNvbnN0IHRpbiA9IG5ldyBBcnJheShuKTtcclxuXHRcdGNvbnN0IGZ1cCA9IG5ldyBBcnJheShuKTtcclxuXHRcdGxldCB0aW1lcjogbnVtYmVyID0gMDtcclxuXHRcdGNvbnN0IGJyaWRnZU5vZGVzID0gW107XHJcblxyXG5cdFx0Y29uc3QgZ2V0TGlua3NGb3JOb2RlID0gbm9kZSA9PiB7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3QgbGluayA9IGxpbmtzW2ldO1xyXG5cdFx0XHRcdGNvbnN0IGxpbmsxID0gbGlua1swXTtcclxuXHRcdFx0XHRjb25zdCBsaW5rMiA9IGxpbmtbMV07XHJcblx0XHRcdFx0aWYgKGxpbmsxID09PSBsaW5rMilcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdGlmIChsaW5rMSA9PT0gbm9kZSAmJiByZXN1bHQuaW5kZXhPZihsaW5rMikgPCAwKVxyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gobGluazIpO1xyXG5cdFx0XHRcdGlmIChsaW5rMiA9PT0gbm9kZSAmJiByZXN1bHQuaW5kZXhPZihsaW5rMSkgPCAwKVxyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gobGluazEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRmcyA9ICh2LCBwPykgPT4ge1xyXG5cdFx0XHR1c2VkW3ZdID0gdHJ1ZTtcclxuXHRcdFx0dGluW3ZdID0gZnVwW3ZdID0gdGltZXIrKztcclxuXHRcdFx0Y29uc3QgY3VycmVudExpbmtzID0gZ2V0TGlua3NGb3JOb2RlKG5vZGVzW3ZdKTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50TGlua3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRjb25zdCB0byA9IGN1cnJlbnRMaW5rc1tpXTtcclxuXHRcdFx0XHRpZiAodG8gPT09IHApIGNvbnRpbnVlO1xyXG5cdFx0XHRcdGlmICh1c2VkW3RvXSlcclxuXHRcdFx0XHRcdGZ1cFt2XSA9IE1hdGgubWluKGZ1cFt2XSwgdGluW3RvXSk7XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRkZnModG8sIHYpO1xyXG5cdFx0XHRcdFx0ZnVwW3ZdID0gTWF0aC5taW4oZnVwW3ZdLCBmdXBbdG9dKTtcclxuXHRcdFx0XHRcdGlmIChmdXBbdG9dID4gdGluW3ZdKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlzVG9Ob2RlRWRnZSA9IGdldExpbmtzRm9yTm9kZSh0bykubGVuZ3RoIDwgMjtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaXNWTm9kZUVkZ2UgPSBjdXJyZW50TGlua3MubGVuZ3RoIDwgMjtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc1RvTm9kZUVkZ2UgJiYgYnJpZGdlTm9kZXMuaW5kZXhPZih0bykgPCAwKSB7XHJcblx0XHRcdFx0XHRcdFx0YnJpZGdlTm9kZXMucHVzaCh0byk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFpc1ZOb2RlRWRnZSAmJiBicmlkZ2VOb2Rlcy5pbmRleE9mKHYpIDwgMCkge1xyXG5cdFx0XHRcdFx0XHRcdGJyaWRnZU5vZGVzLnB1c2godik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZmluZEJyaWRnZXMgPSAoKSA9PiB7XHJcblx0XHRcdHRpbWVyID0gMDtcclxuXHRcdFx0Zm9yIChsZXQgaWkgPSAwOyBpaSA8IG47IGlpKyspIHtcclxuXHRcdFx0XHR1c2VkW2lpXSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRpbltpaV0gPSBudWxsO1xyXG5cdFx0XHRcdGZ1cFtpaV0gPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKVxyXG5cdFx0XHRcdGlmICghdXNlZFtpXSlcclxuXHRcdFx0XHRcdGRmcyhpKTtcclxuXHRcdH1cclxuXHRcdGZpbmRCcmlkZ2VzKCk7XHJcblxyXG5cdFx0cmV0dXJuIGJyaWRnZU5vZGVzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29uc3RyYWludHMgY2hlY2sgYW5kIHVwZGF0ZSB0YWJsZXMgYXZhaWxhYmlsaXR5LlxyXG5cdCAqL1xyXG5cdHVwZGF0ZVRhYmxlc0F2YWlsYWJpbGl0eSgpIHtcclxuXHRcdC8vIGNyZWF0ZSB0YWJsZXMgd2hpY2ggYXZhaWxhYmxlIGJ5IGZvcmVpZ24ga2V5c1xyXG5cdFx0dmFyIGN1cnJlbnRBY3RpdmVUYWJsZXMgPSB0aGlzLmdldEFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0dmFyIGFwcGx5Q29uc3RyYWludHMgPSBjdXJyZW50QWN0aXZlVGFibGVzLmxlbmd0aCAhPT0gMDtcclxuXHRcdHZhciBhY3RpdmVUYWJsZU5hbWVzID0gW107XHJcblx0XHR2YXIgbm9kZUNvbnN0cmFpbnRzID0gW107XHJcblx0XHR2YXIgbm9kZXMgPSBbXTtcclxuXHJcblx0XHRjdXJyZW50QWN0aXZlVGFibGVzLmZvckVhY2goKHRhYmxlLCBpVGFibGUpID0+IHtcclxuXHRcdFx0bm9kZXMucHVzaChpVGFibGUpO1xyXG5cdFx0XHRhY3RpdmVUYWJsZU5hbWVzLnB1c2godGFibGUuc3lzbmFtZSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBwcm9jZXNzIGNvbnN0cmFpbnRzIGRhdGFcclxuXHRcdHZhciBmb3JlaWduS2V5VGFibGVzID0gW107XHJcblx0XHR0aGlzLmNvbnN0cmFpbnRzLmZvckVhY2goY29uc3RyYWludCA9PiB7XHJcblx0XHRcdGNvbnN0IFtwYXJ0MSwgcGFydDJdID0gY29uc3RyYWludDtcclxuXHRcdFx0Y29uc3QgcGFydDFJbmRleCA9IGFjdGl2ZVRhYmxlTmFtZXMuaW5kZXhPZihwYXJ0MSk7XHJcblx0XHRcdGNvbnN0IHBhcnQySW5kZXggPSBhY3RpdmVUYWJsZU5hbWVzLmluZGV4T2YocGFydDIpO1xyXG5cdFx0XHRpZiAocGFydDFJbmRleCA+PSAwICYmIHBhcnQySW5kZXggPj0gMCAmJiBwYXJ0MSAhPT0gcGFydDIpIHtcclxuXHRcdFx0XHRub2RlQ29uc3RyYWludHMucHVzaChbcGFydDFJbmRleCwgcGFydDJJbmRleF0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGN1cnJlbnRBY3RpdmVUYWJsZXMuZm9yRWFjaCh0YWJsZSA9PiB7XHJcblx0XHRcdFx0aWYgKHBhcnQxID09PSB0YWJsZS5zeXNuYW1lIHx8IHBhcnQyID09PSB0YWJsZS5zeXNuYW1lKSB7XHJcblx0XHRcdFx0XHRpZiAoZm9yZWlnbktleVRhYmxlcy5pbmRleE9mKHBhcnQxKSA8IDApXHJcblx0XHRcdFx0XHRcdGZvcmVpZ25LZXlUYWJsZXMucHVzaChwYXJ0MSk7XHJcblx0XHRcdFx0XHRpZiAoZm9yZWlnbktleVRhYmxlcy5pbmRleE9mKHBhcnQyKSA8IDApXHJcblx0XHRcdFx0XHRcdGZvcmVpZ25LZXlUYWJsZXMucHVzaChwYXJ0Mik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIGVuYWJsZS9kaXNhYmxlIHRhYmxlc1xyXG5cdFx0dGhpcy5nZXREYXRhU291cmNlcygpLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xyXG5cdFx0XHRjYXRlZ29yeS5lbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdC8vIGNoZWNrIHRhYmxlc1xyXG5cdFx0XHRjYXRlZ29yeS50YWJsZXMuZm9yRWFjaCh0YWJsZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhcHBseUNvbnN0cmFpbnRzKSB7XHJcblx0XHRcdFx0XHRjYXRlZ29yeS5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHRhYmxlLmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGFibGUuZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0XHRmaWVsZC5lbmFibGVkID0gdGFibGUuZW5hYmxlZDtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0YWJsZS5lbmFibGVkID0gdGFibGUuYWN0aXZlXHJcblx0XHRcdFx0XHR8fCAoZm9yZWlnbktleVRhYmxlcy5pbmRleE9mKHRhYmxlLnN5c25hbWUpID49IDBcclxuXHRcdFx0XHRcdFx0JiYgdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpLm1heEFsbG93ZWRUYWJsZXMgPiBjdXJyZW50QWN0aXZlVGFibGVzLmxlbmd0aCk7XHJcblx0XHRcdFx0Y2F0ZWdvcnkuZW5hYmxlZCB8PSB0YWJsZS5lbmFibGVkO1xyXG5cdFx0XHRcdHRhYmxlLmZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuXHRcdFx0XHRcdGZpZWxkLmVuYWJsZWQgPSB0YWJsZS5lbmFibGVkO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIGRpc2FibGUgYnJpZGdlIHRhYmxlcyAodGFibGVzIHdoaWNoIGFyZSBsaW5rcyBiZXR3ZWVuIHR3byBvdGhlciBhY3RpdmUgdGFibGVzKTpcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHRoaXMuZmluZEJyaWRnZXNGb3JHcmFwaChub2Rlcywgbm9kZUNvbnN0cmFpbnRzKTtcclxuXHRcdHJlc3VsdC5mb3JFYWNoKGlkeCA9PiBjdXJyZW50QWN0aXZlVGFibGVzW2lkeF0uZW5hYmxlZCA9IGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBcInNlbGVjdGVkID0gZmFsc2VcIiBmb3IgYWxsIGZpZWxkc1xyXG5cdCAqL1xyXG5cdHVuc2VsZWN0QWxsRmllbGRzKCkge1xyXG5cdFx0dGhpcy5nZXREYXRhU291cmNlcygpLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xyXG5cdFx0XHRjYXRlZ29yeS50YWJsZXMuZm9yRWFjaCh0YWJsZSA9PiB7XHJcblx0XHRcdFx0dGFibGUuZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0ZmllbGQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGZpZWxkLm11bHRpcGxlQ29sdW1ucy5mb3JFYWNoKG1GaWVsZCA9PiBtRmllbGQuc2VsZWN0ZWQgPSBmYWxzZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBjYWxjIGZpZWxkIGV4aXN0XHJcblx0ICovXHJcblx0cHJpdmF0ZSBjYWxjRmllbGRFeGlzdChjYWxjRmllbGRJZCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2FsY0ZpZWxkcy5zb21lKGMgPT4gYy5zeXNuYW1lID09PSBjYWxjRmllbGRJZCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgY2FsYyBmaWVsZCBwcm9wZXJ0aWVzXHJcblx0ICovXHJcblx0cHJpdmF0ZSB1cGRhdGVDYWxjRmllbGQoZmllbGQsIGNhbGNGaWVsZCkge1xyXG5cdFx0Y2FsY0ZpZWxkLm5hbWUgPSBgWyR7ZmllbGQuZGVzY3JpcHRpb259XSAoY2FsYylgO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGNhbGMgZmllbGRcclxuXHQgKi9cclxuXHRwcml2YXRlIGNyZWF0ZUNhbGNGaWVsZChmaWVsZCkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gYW5ndWxhci5jb3B5KGZpZWxkKSBhcyBhbnk7XHJcblx0XHRyZXN1bHQuc3lzbmFtZSA9IGBmbGRJZHwke2ZpZWxkLmd1aWR9YDtcclxuXHRcdHRoaXMudXBkYXRlQ2FsY0ZpZWxkKGZpZWxkLCByZXN1bHQpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN5bmMgY2FsYyBmaWVsZHNcclxuXHQgKi9cclxuXHRwcml2YXRlIHN5bmNDYWxjRmllbGRzQXJyYXkoKSB7XHJcblx0XHR2YXIgbmV3Q2FsY0ZpZWxkcyA9IFtdO1xyXG5cdFx0Ly8gcmVtb3ZlIG9sZCBjYWxjIGZpZWxkc1xyXG5cdFx0dGhpcy5jYWxjRmllbGRzLmZvckVhY2goY2FsY0ZpZWxkID0+IHtcclxuXHRcdFx0bGV0IGZvdW5kRmllbGQgPSBudWxsO1xyXG5cdFx0XHRjb25zdCBmaWVsZEd1aWQgPSBjYWxjRmllbGQuc3lzbmFtZS5zdWJzdHJpbmcoNik7XHJcblx0XHRcdHRoaXMuZWFjaEFjdGl2ZUZpZWxkcyhmaWVsZCA9PiB7XHJcblx0XHRcdFx0aWYgKGZpZWxkR3VpZCA9PT0gZmllbGQuZ3VpZClcclxuXHRcdFx0XHRcdGZvdW5kRmllbGQgPSBmaWVsZDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGNvbnN0IGlzRXhwcmVzc2lvblNldCA9IGZvdW5kRmllbGRcclxuXHRcdFx0XHQmJiBhbmd1bGFyLmlzU3RyaW5nKGZvdW5kRmllbGQuZXhwcmVzc2lvbilcclxuXHRcdFx0XHQmJiBmb3VuZEZpZWxkLmV4cHJlc3Npb24udHJpbSgpICE9PSAnJztcclxuXHRcdFx0aWYgKGZvdW5kRmllbGQgJiYgKHRoaXMuaXNGaWVsZEdyb3VwZWRXaXRoRnVuY3Rpb24oZm91bmRGaWVsZCkgfHwgaXNFeHByZXNzaW9uU2V0KSkge1xyXG5cdFx0XHRcdG5ld0NhbGNGaWVsZHMucHVzaChjYWxjRmllbGQpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlQ2FsY0ZpZWxkKGZvdW5kRmllbGQsIGNhbGNGaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5jYWxjRmllbGRzID0gbmV3Q2FsY0ZpZWxkcztcclxuXHJcblx0XHQvLyBhZGQgbmV3XHJcblx0XHR0aGlzLmVhY2hBY3RpdmVGaWVsZHMoZmllbGQgPT4ge1xyXG5cdFx0XHRjb25zdCBpc0V4cHJlc3Npb25TZXQgPSBhbmd1bGFyLmlzU3RyaW5nKGZpZWxkLmV4cHJlc3Npb24pXHJcblx0XHRcdFx0JiYgZmllbGQuZXhwcmVzc2lvbi50cmltKCkgIT09ICcnO1xyXG5cclxuXHRcdFx0Ly8gaWYgZmllbGQgZ3JvdXBlZCBhbmQgaXQgaXMgbm90IHNpbXBsZSAnR1JPVVAnIG9yIGl0IGhhcyBleHByZXNzaW9uXHJcblx0XHRcdGlmICghdGhpcy5jYWxjRmllbGRFeGlzdChgZmxkSWR8JHtmaWVsZC5ndWlkfWApICYmICh0aGlzLmlzRmllbGRHcm91cGVkV2l0aEZ1bmN0aW9uKGZpZWxkKSB8fCBpc0V4cHJlc3Npb25TZXQpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2FsY0ZpZWxkID0gdGhpcy5jcmVhdGVDYWxjRmllbGQoZmllbGQpO1xyXG5cdFx0XHRcdHRoaXMuY2FsY0ZpZWxkcy5wdXNoKGNhbGNGaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGFjdGl2ZSB0YWJsZXMgYXJyYXlcclxuXHQgKi9cclxuXHRzeW5jQWN0aXZlVGFibGVzQXJyYXkoKSB7XHJcblx0XHR0aGlzLmFjdGl2ZVRhYmxlcyA9IFtdO1xyXG5cdFx0dGhpcy5hY3RpdmVGaWVsZHMgPSBbXTtcclxuXHRcdHRoaXMuYWN0aXZlQ2hlY2tlZEZpZWxkcyA9IFtdO1xyXG5cdFx0dGhpcy5nZXREYXRhU291cmNlcygpLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xyXG5cdFx0XHRjYXRlZ29yeS50YWJsZXMuZmlsdGVyKHQgPT4gdC5hY3RpdmUpLmZvckVhY2godGFibGUgPT4ge1xyXG5cdFx0XHRcdHRoaXMuYWN0aXZlVGFibGVzLnB1c2godGFibGUpO1xyXG5cdFx0XHRcdHRoaXMuYWN0aXZlRmllbGRzID0gdGhpcy5hY3RpdmVGaWVsZHMuY29uY2F0KHRhYmxlLmZpZWxkcyk7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVDaGVja2VkRmllbGRzID0gdGhpcy5hY3RpdmVDaGVja2VkRmllbGRzLmNvbmNhdCh0YWJsZS5maWVsZHMuZmlsdGVyKGYgPT4gZi5jaGVja2VkKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnN5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSB0cmVlIHN0YXRlIGFmdGVyIGNoZWNraW5nIHRhYmxlXHJcblx0ICovXHJcblx0dXBkYXRlUGFyZW50Rm9sZGVycyh0YWJsZSwgc3luY0NvbGxhcHNlPykge1xyXG5cdFx0Y29uc3QgcGFyZW50Q2F0ZWdvcnkgPSB0aGlzLmdldENhdGVnb3J5QnlJZCh0YWJsZS5wYXJlbnRJZCk7XHJcblx0XHR0aGlzLnN5bmNBY3RpdmVUYWJsZXNBcnJheSgpO1xyXG5cclxuXHRcdC8vIHVwZGF0ZSBjYXRlZ29yeSBhY3RpdmVcclxuXHRcdHBhcmVudENhdGVnb3J5LmFjdGl2ZSA9IHBhcmVudENhdGVnb3J5LnRhYmxlcy5zb21lKHQgPT4gdC5hY3RpdmUpO1xyXG5cdFx0aWYgKHN5bmNDb2xsYXBzZSlcclxuXHRcdFx0cGFyZW50Q2F0ZWdvcnkuY29sbGFwc2VkID0gIXBhcmVudENhdGVnb3J5LmFjdGl2ZTtcclxuXHRcdHRoaXMudXBkYXRlVGFibGVzQXZhaWxhYmlsaXR5KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgdHJlZSBzdGF0ZSBhZnRlciBjaGVja2luZyBmaWVsZFxyXG5cdCAqL1xyXG5cdHVwZGF0ZVBhcmVudEZvbGRlcnNBbmRUYWJsZXMoZmllbGQsIHN5bmNDb2xsYXBzZT8sIHJlc3RyaWN0VGFibGVVbmNoZWNrPykge1xyXG5cdFx0Y29uc3QgdGFibGUgPSB0aGlzLmdldFRhYmxlQnlJZChmaWVsZC5wYXJlbnRJZCk7XHJcblx0XHRjb25zdCBoYXNDaGVja2VkRmllbGRzID0gdGFibGUuZmllbGRzLnNvbWUoZiA9PiBmLmNoZWNrZWQpO1xyXG5cclxuXHRcdC8vIGlmIHRhYmxlIGNoZWNrZWQgc3RhdGUgZmFsc2UgLT4gdHJ1ZTpcclxuXHRcdGlmIChoYXNDaGVja2VkRmllbGRzICYmICF0YWJsZS5hY3RpdmUpXHJcblx0XHRcdHRhYmxlLm9yZGVyID0gdGhpcy5nZXROZXh0T3JkZXIoKTtcclxuXHRcdC8vIHVwZGF0ZSB0YWJsZSBhY3RpdmVcclxuXHRcdHRhYmxlLmFjdGl2ZSA9IHJlc3RyaWN0VGFibGVVbmNoZWNrIHx8IGhhc0NoZWNrZWRGaWVsZHMgfHwgIXRhYmxlLmVuYWJsZWQ7XHJcblxyXG5cdFx0aWYgKHN5bmNDb2xsYXBzZSlcclxuXHRcdFx0dGFibGUuY29sbGFwc2VkID0gIWhhc0NoZWNrZWRGaWVsZHM7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIHRhYmxlXHJcblx0XHR0aGlzLnVwZGF0ZVBhcmVudEZvbGRlcnModGFibGUsIHN5bmNDb2xsYXBzZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgZHJpbGxkb3duc1xyXG5cdCAqL1xyXG5cdHVwZGF0ZURyaWxsZG93bnMoKSB7XHJcblx0XHR0aGlzLnJlcG9ydFNldC5kcmlsbERvd25GaWVsZHMgPSB0aGlzLnJlcG9ydFNldC5kcmlsbERvd25GaWVsZHMuZmlsdGVyKGRyaWxsZG93bkZpZWxkID0+IHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXMoKS5zb21lKGYgPT4gZHJpbGxkb3duRmllbGQuaWQgPT09IGYuaWQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIEdldCBmaWx0ZXJlZCBkYXRhc291cmNlc1xyXG5cdCovXHJcblx0c2VhcmNoSW5EYXRhRG91cmNlcyhzZWFyY2hTdHJpbmcsIGZyb20sIHRvKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKHNlYXJjaFN0cmluZyA9PT0gJycpIHtcclxuXHRcdFx0XHRyZXNvbHZlKFtdKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gc3RhcnQgc2VhcmNoXHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZmluZEluRGF0YXNvdXJjZXMoc2VhcmNoU3RyaW5nLCBmcm9tLCB0bykudGhlbihyZXN1bHRzID0+IHtcclxuXHRcdFx0XHQvLyBzZWFyY2ggY29tcGxldGVkXHJcblx0XHRcdFx0aWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGgpXHJcblx0XHRcdFx0XHRyZXN1bHRzLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4gaXRlbS5pZCA9IGZyb20gKyBpZHgpO1xyXG5cdFx0XHRcdHJlc29sdmUocmVzdWx0cyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZXNldEZpZWxkT2JqZWN0KGZpZWxkT2JqZWN0LCBkZWZhdWx0VmFsdWVzPykge1xyXG5cdFx0ZmllbGRPYmplY3QuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3QuaXNNdWx0aXBsZUNvbHVtbnMgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0Lm11bHRpcGxlQ29sdW1ucyA9IFtdO1xyXG5cdFx0ZmllbGRPYmplY3QuaGlnaGxpZ2h0ID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdGZpZWxkT2JqZWN0LmNoZWNrZWQgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LnNlbGVjdGVkID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LmlzVmdVc2VkID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5icmVha1BhZ2VBZnRlclZnID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5kZXNjcmlwdGlvbiA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmh1bWFuaXplVmFyaWFibGVOYW1lKGZpZWxkT2JqZWN0Lm5hbWUpO1xyXG5cdFx0ZmllbGRPYmplY3QuaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5vcmRlciA9IDA7XHJcblx0XHRmaWVsZE9iamVjdC5mb3JtYXQgPSB0aGlzLmVtcHR5RmllbGRGb3JtYXRPcHRpb247XHJcblx0XHRmaWVsZE9iamVjdC5mb3JtYXRPcHRpb25Hcm91cHMgPSBbXTtcclxuXHRcdGZpZWxkT2JqZWN0Lmdyb3VwQnlGdW5jdGlvbiA9IHRoaXMuZW1wdHlGaWVsZEdyb3VwT3B0aW9uO1xyXG5cdFx0ZmllbGRPYmplY3QuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucyA9IFtdO1xyXG5cdFx0ZmllbGRPYmplY3QuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24gPSB0aGlzLmVtcHR5U3VidG90YWxGaWVsZEdyb3VwT3B0aW9ucztcclxuXHRcdGZpZWxkT2JqZWN0Lmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucyA9IFtdO1xyXG5cdFx0ZmllbGRPYmplY3Quc3VidG90YWxFeHByZXNzaW9uID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5hbGxvd2VkSW5GaWx0ZXJzID0gdHJ1ZTtcclxuXHRcdGZpZWxkT2JqZWN0LmlzU3BQYXJhbWV0ZXIgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LnNvcnQgPSBudWxsO1xyXG5cdFx0ZmllbGRPYmplY3QuaXRhbGljID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5jb2x1bW5Hcm91cCA9ICcnO1xyXG5cdFx0ZmllbGRPYmplY3Quc2VwYXJhdG9yID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC50ZXh0SGlnaGxpZ2h0ID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5jZWxsSGlnaGxpZ2h0ID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC52YWx1ZVJhbmdlID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC53aWR0aCA9ICcnO1xyXG5cdFx0ZmllbGRPYmplY3QubGFiZWxKdXN0aWZpY2F0aW9uID0gJ00nO1xyXG5cdFx0ZmllbGRPYmplY3QudmFsdWVKdXN0aWZpY2F0aW9uID0gJyAnO1xyXG5cdFx0ZmllbGRPYmplY3QudmlzaWJsZSA9IHRydWU7XHJcblx0XHRmaWVsZE9iamVjdC5ncmFkaWVudCA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3QuYm9sZCA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3QuZHJpbGxEb3duU3R5bGUgPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LmN1c3RvbVVybCA9ICcnO1xyXG5cdFx0ZmllbGRPYmplY3Quc3VicmVwb3J0ID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5leHByZXNzaW9uID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5leHByZXNzaW9uVHlwZSA9IHRoaXMuZW1wdHlFeHByZXNzaW9uVHlwZTtcclxuXHRcdGZpZWxkT2JqZWN0Lmdyb3VwQnlFeHByZXNzaW9uID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC52YWxpZGF0ZU1lc3NhZ2VzID0gW107XHJcblx0XHRmaWVsZE9iamVjdC52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IG51bGw7XHJcblxyXG5cdFx0YW5ndWxhci5leHRlbmQoZmllbGRPYmplY3QsIGRlZmF1bHRWYWx1ZXMpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVGaWVsZE9iamVjdElubmVyKGZpZWxkUHJvcGVydGllcykge1xyXG5cdFx0Y29uc3QgZmllbGRPYmplY3QgPSB7XHJcblx0XHRcdGlkOiB0aGlzLmdldE5leHRJZCgpLFxyXG5cdFx0XHRwYXJlbnRGaWVsZElkOiBudWxsLFxyXG5cdFx0XHRwYXJlbnRJZDogbnVsbCxcclxuXHRcdFx0bmFtZTogbnVsbCxcclxuXHRcdFx0dGFibGVTeXNuYW1lOiBudWxsLFxyXG5cdFx0XHR0YWJsZU5hbWU6IG51bGwsXHJcblx0XHRcdHN5c25hbWU6IG51bGwsXHJcblx0XHRcdHR5cGVHcm91cDogbnVsbCxcclxuXHRcdFx0dHlwZTogbnVsbCxcclxuXHRcdFx0c3FsVHlwZTogbnVsbCxcclxuXHRcdFx0YWxsb3dlZEluRmlsdGVyczogbnVsbCxcclxuXHRcdFx0aXNEZXNjcmlwdGlvblNldE1hbnVhbGx5OiBudWxsLFxyXG5cdFx0XHRkZXNjcmlwdGlvbjogbnVsbCxcclxuXHRcdFx0b3JkZXI6IDAsXHJcblx0XHRcdGd1aWQ6IG51bGwsXHJcblx0XHRcdHNlbGVjdGVkOiBudWxsLFxyXG5cdFx0XHRjaGVja2VkOiBudWxsXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5yZXNldEZpZWxkT2JqZWN0KGZpZWxkT2JqZWN0LCBmaWVsZFByb3BlcnRpZXMpO1xyXG5cdFx0cmV0dXJuIGZpZWxkT2JqZWN0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGZpZWxkIG9iamVjdC5cclxuXHQgKi9cclxuXHRjcmVhdGVGaWVsZE9iamVjdChmaWVsZE5hbWUsIHRhYmxlSWQsIHRhYmxlU3lzbmFtZSwgdGFibGVOYW1lLCBmaWVsZFN5c25hbWUsIGZpZWxkVHlwZUdyb3VwLFxyXG5cdFx0ZmllbGRUeXBlLCBmaWVsZFNxbFR5cGUsIGFsbG93ZWRJbkZpbHRlcnMsIGlzU3BQYXJhbWV0ZXIpIHtcclxuXHRcdGNvbnN0IGZpZWxkT2JqZWN0ID0gdGhpcy5jcmVhdGVGaWVsZE9iamVjdElubmVyKHtcclxuXHRcdFx0Z3VpZDogdGhpcy5ndWlkKCksXHJcblx0XHRcdHBhcmVudElkOiB0YWJsZUlkLFxyXG5cdFx0XHRuYW1lOiBmaWVsZE5hbWUsXHJcblx0XHRcdHRhYmxlU3lzbmFtZTogdGFibGVTeXNuYW1lLFxyXG5cdFx0XHR0YWJsZU5hbWU6IHRhYmxlTmFtZSxcclxuXHRcdFx0c3lzbmFtZTogZmllbGRTeXNuYW1lLFxyXG5cdFx0XHR0eXBlR3JvdXA6IGZpZWxkVHlwZUdyb3VwLFxyXG5cdFx0XHR0eXBlOiBmaWVsZFR5cGUsXHJcblx0XHRcdHNxbFR5cGU6IGZpZWxkU3FsVHlwZSxcclxuXHRcdFx0YWxsb3dlZEluRmlsdGVyczogYWxsb3dlZEluRmlsdGVycyxcclxuXHRcdFx0aXNTcFBhcmFtZXRlcjogaXNTcFBhcmFtZXRlclxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZmllbGRPYmplY3Q7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb3B5IGZpZWxkIG9iamVjdCBzdGF0ZVxyXG5cdCAqL1xyXG5cdGNvcHlGaWVsZE9iamVjdChmcm9tLCB0bywgcmVwbGFjZU5hbWU/KSB7XHJcblx0XHR0by5pZCA9IGZyb20uaWQ7XHJcblx0XHR0by5ndWlkID0gZnJvbS5ndWlkO1xyXG5cdFx0dG8uaXNJbml0aWFsaXplZCA9IGZyb20uaXNJbml0aWFsaXplZDtcclxuXHRcdHRvLnBhcmVudElkID0gZnJvbS5wYXJlbnRJZDtcclxuXHRcdHRvLnRhYmxlU3lzbmFtZSA9IGZyb20udGFibGVTeXNuYW1lO1xyXG5cdFx0aWYgKHJlcGxhY2VOYW1lKVxyXG5cdFx0XHR0by5uYW1lID0gZnJvbS5uYW1lO1xyXG5cdFx0dG8uc3lzbmFtZSA9IGZyb20uc3lzbmFtZTtcclxuXHRcdHRvLnR5cGVHcm91cCA9IGZyb20udHlwZUdyb3VwO1xyXG5cdFx0dG8udHlwZSA9IGZyb20udHlwZTtcclxuXHRcdHRvLnNxbFR5cGUgPSBmcm9tLnNxbFR5cGU7XHJcblx0XHR0by5lbmFibGVkID0gZnJvbS5lbmFibGVkO1xyXG5cdFx0dG8uZXhwcmVzc2lvbiA9IGZyb20uZXhwcmVzc2lvbjtcclxuXHRcdHRvLmV4cHJlc3Npb25UeXBlID0gZnJvbS5leHByZXNzaW9uVHlwZTtcclxuXHRcdHRvLmdyb3VwQnlFeHByZXNzaW9uID0gZnJvbS5ncm91cEJ5RXhwcmVzc2lvbjtcclxuXHRcdHRvLmNoZWNrZWQgPSBmcm9tLmNoZWNrZWQ7XHJcblx0XHR0by5pc1ZnVXNlZCA9IGZyb20uaXNWZ1VzZWQ7XHJcblx0XHR0by5icmVha1BhZ2VBZnRlclZnID0gZnJvbS5icmVha1BhZ2VBZnRlclZnO1xyXG5cdFx0dG8uZGVzY3JpcHRpb24gPSBmcm9tLmRlc2NyaXB0aW9uO1xyXG5cdFx0dG8uaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZnJvbS5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHk7XHJcblx0XHR0by5vcmRlciA9IGZyb20ub3JkZXI7XHJcblx0XHR0by5mb3JtYXQgPSBmcm9tLmZvcm1hdDtcclxuXHRcdHRvLmZvcm1hdE9wdGlvbkdyb3VwcyA9IGZyb20uZm9ybWF0T3B0aW9uR3JvdXBzO1xyXG5cdFx0dG8uZ3JvdXBCeUZ1bmN0aW9uID0gZnJvbS5ncm91cEJ5RnVuY3Rpb247XHJcblx0XHR0by5ncm91cEJ5RnVuY3Rpb25PcHRpb25zID0gZnJvbS5ncm91cEJ5RnVuY3Rpb25PcHRpb25zO1xyXG5cdFx0dG8uZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24gPSBmcm9tLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uO1xyXG5cdFx0dG8uZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb25PcHRpb25zID0gZnJvbS5ncm91cEJ5U3VidG90YWxGdW5jdGlvbk9wdGlvbnM7XHJcblx0XHR0by5zb3J0ID0gZnJvbS5zb3J0O1xyXG5cdFx0dG8uaXRhbGljID0gZnJvbS5pdGFsaWM7XHJcblx0XHR0by5jb2x1bW5Hcm91cCA9IGZyb20uY29sdW1uR3JvdXA7XHJcblx0XHR0by5zZXBhcmF0b3IgPSBmcm9tLnNlcGFyYXRvcjtcclxuXHRcdHRvLnRleHRIaWdobGlnaHQgPSBmcm9tLnRleHRIaWdobGlnaHQ7XHJcblx0XHR0by5jZWxsSGlnaGxpZ2h0ID0gZnJvbS5jZWxsSGlnaGxpZ2h0O1xyXG5cdFx0dG8udmFsdWVSYW5nZSA9IGZyb20udmFsdWVSYW5nZTtcclxuXHRcdHRvLndpZHRoID0gZnJvbS53aWR0aDtcclxuXHRcdHRvLmxhYmVsSnVzdGlmaWNhdGlvbiA9IGZyb20ubGFiZWxKdXN0aWZpY2F0aW9uO1xyXG5cdFx0dG8udmFsdWVKdXN0aWZpY2F0aW9uID0gZnJvbS52YWx1ZUp1c3RpZmljYXRpb247XHJcblx0XHR0by5ncmFkaWVudCA9IGZyb20uZ3JhZGllbnQ7XHJcblx0XHR0by52aXNpYmxlID0gZnJvbS52aXNpYmxlO1xyXG5cdFx0dG8uYm9sZCA9IGZyb20uYm9sZDtcclxuXHRcdHRvLmRyaWxsRG93blN0eWxlID0gZnJvbS5kcmlsbERvd25TdHlsZTtcclxuXHRcdHRvLmN1c3RvbVVybCA9IGZyb20uY3VzdG9tVXJsO1xyXG5cdFx0dG8uc3VicmVwb3J0ID0gZnJvbS5zdWJyZXBvcnQ7XHJcblx0XHR0by52YWxpZGF0ZU1lc3NhZ2VzID0gZnJvbS52YWxpZGF0ZU1lc3NhZ2VzO1xyXG5cdFx0dG8udmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSBmcm9tLnZhbGlkYXRlTWVzc2FnZUxldmVsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVzZXQgZGF0YXNvdXJjZXMgc3RhdGVcclxuXHQgKi9cclxuXHRyZXNldERhdGFTb3VyY2VzKCkge1xyXG5cdFx0Y29uc3QgZGF0YXNvdXJjZXMgPSB0aGlzLmdldERhdGFTb3VyY2VzKCk7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShkYXRhc291cmNlcykpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGRhdGFzb3VyY2VzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xyXG5cdFx0XHRjYXRlZ29yeS52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0Y2F0ZWdvcnkuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdGNhdGVnb3J5LmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRjYXRlZ29yeS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cdFx0XHQvLyBpdGVyYXRlIHRhYmxlc1xyXG5cdFx0XHRjYXRlZ29yeS50YWJsZXMuZm9yRWFjaCh0YWJsZSA9PiB7XHJcblx0XHRcdFx0dGFibGUudmlzaWJsZSA9IHRydWU7XHJcblx0XHRcdFx0dGFibGUuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdFx0dGFibGUuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0dGFibGUuY29sbGFwc2VkID0gdHJ1ZTtcclxuXHRcdFx0XHR0YWJsZS52YWxpZGF0ZU1lc3NhZ2VzID0gW107XHJcblx0XHRcdFx0dGFibGUudmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSBudWxsO1xyXG5cdFx0XHRcdC8vIGl0ZXJhdGUgZmllbGRzXHJcblx0XHRcdFx0dGFibGUuZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5yZXNldEZpZWxkT2JqZWN0KGZpZWxkKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlZnJlc2ggZmllbGQgZGVzY3JpcHRpb25cclxuXHQgKi9cclxuXHRhdXRvVXBkYXRlRmllbGREZXNjcmlwdGlvbihmaWVsZCkge1xyXG5cdFx0aWYgKCFmaWVsZC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkpIHtcclxuXHRcdFx0ZmllbGQuZGVzY3JpcHRpb24gPSB0aGlzLmdlbmVyYXRlRGVzY3JpcHRpb24oZmllbGQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCBmaWVsZHMgd2hpY2ggZ290IGZyb20gc2VydmVyIGludG8gZm9ybWF0IHdoaWNoIHVzZWQgaW4gYXBwIGFuZCBhZGQgaXQgdG8gdGFibGUgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcy4gU2VydmVyIHNpZGUgZmllbGRzIG9iamVjdC5cclxuXHQgKi9cclxuXHRjb252ZXJ0QW5kQWRkRmllbGRzKHRhYmxlT2JqZWN0LCBmaWVsZHMpIHtcclxuXHRcdGlmIChmaWVsZHMgJiYgZmllbGRzLmxlbmd0aClcclxuXHRcdFx0ZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XHJcblx0XHRcdFx0dmFyIGZpZWxkT2JqZWN0ID0gdGhpcy5jcmVhdGVGaWVsZE9iamVjdChmaWVsZC5uYW1lLCB0YWJsZU9iamVjdC5pZCwgdGFibGVPYmplY3Quc3lzbmFtZSwgdGFibGVPYmplY3QubmFtZSwgZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0XHRcdGZpZWxkLnR5cGVHcm91cCwgZmllbGQudHlwZSwgZmllbGQuc3FsVHlwZSwgZmllbGQuYWxsb3dlZEluRmlsdGVycywgZmllbGQuaXNTcFBhcmFtZXRlciA9PT0gJ1RydWUnKTtcclxuXHRcdFx0XHR0aGlzLmF1dG9VcGRhdGVGaWVsZERlc2NyaXB0aW9uKGZpZWxkT2JqZWN0KTtcclxuXHRcdFx0XHR0YWJsZU9iamVjdC5maWVsZHMucHVzaChmaWVsZE9iamVjdCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0dGFibGVPYmplY3QubGF6eSA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBDb252ZXJ0IGRhdGFzb3VyY2VzIGZvciBmdXR1cmUgdXNlIGl0IGluIGFwcFxyXG5cdCovXHJcblx0Y29udmVydERhdGFTb3VyY2VzKGRhdGFTb3VyY2VzKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShkYXRhU291cmNlcykpXHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdC8vIGl0ZXJhdGUgY2F0ZWdvcmllc1xyXG5cdFx0dmFyIHVuY2F0ZWdvcml6ZWQgPSBudWxsO1xyXG5cdFx0ZGF0YVNvdXJjZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5T2JqZWN0ID0ge1xyXG5cdFx0XHRcdGlkOiB0aGlzLmdldE5leHRJZCgpLFxyXG5cdFx0XHRcdG5hbWU6IGNhdGVnb3J5LkRhdGFTb3VyY2VDYXRlZ29yeSxcclxuXHRcdFx0XHR0YWJsZXM6IFtdLFxyXG5cdFx0XHRcdHZpc2libGU6IHRydWUsXHJcblx0XHRcdFx0YWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0XHRlbmFibGVkOiB0cnVlLFxyXG5cdFx0XHRcdGNvbGxhcHNlZDogdHJ1ZVxyXG5cdFx0XHR9O1xyXG5cdFx0XHQvLyBpdGVyYXRlIHRhYmxlc1xyXG5cdFx0XHRjYXRlZ29yeS50YWJsZXMuZm9yRWFjaCh0YWJsZSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGFibGVPYmplY3QgPSB7XHJcblx0XHRcdFx0XHRpZDogdGhpcy5nZXROZXh0SWQoKSxcclxuXHRcdFx0XHRcdG9yZGVyOiAwLFxyXG5cdFx0XHRcdFx0cGFyZW50SWQ6IGNhdGVnb3J5T2JqZWN0LmlkLFxyXG5cdFx0XHRcdFx0bmFtZTogdGFibGUubmFtZSxcclxuXHRcdFx0XHRcdHN5c25hbWU6IHRhYmxlLnN5c25hbWUsXHJcblx0XHRcdFx0XHR0YWJsZVR5cGU6IHRhYmxlLnRhYmxlVHlwZSxcclxuXHRcdFx0XHRcdGZpZWxkczogW10sXHJcblx0XHRcdFx0XHR2aXNpYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0YWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRjb2xsYXBzZWQ6IHRydWUsXHJcblx0XHRcdFx0XHR2YWxpZGF0ZU1lc3NhZ2VzOiBbXSxcclxuXHRcdFx0XHRcdHZhbGlkYXRlTWVzc2FnZUxldmVsOiBudWxsLFxyXG5cdFx0XHRcdFx0bGF6eTogbnVsbFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0Ly8gYWRkIGZpZWxkIGlmIGxvYWRlZFxyXG5cdFx0XHRcdGlmICh0YWJsZS5maWVsZHMgPT09ICdMQVpJRUQnKSB7XHJcblx0XHRcdFx0XHR0YWJsZU9iamVjdC5sYXp5ID0gdHJ1ZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5jb252ZXJ0QW5kQWRkRmllbGRzKHRhYmxlT2JqZWN0LCB0YWJsZS5maWVsZHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYXRlZ29yeU9iamVjdC50YWJsZXMucHVzaCh0YWJsZU9iamVjdCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChjYXRlZ29yeU9iamVjdC5uYW1lKVxyXG5cdFx0XHRcdCYmIHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKS5tb3ZlVW5jYXRlZ29yaXplZFRvTGFzdFBvc2l0aW9uKSB7XHJcblx0XHRcdFx0dW5jYXRlZ29yaXplZCA9IGNhdGVnb3J5T2JqZWN0O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGNhdGVnb3J5T2JqZWN0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gbW92ZSB1bmNhdGVnb3JpemVkIHRvIHRoZSBsYXN0IHBvc2l0aW9uOlxyXG5cdFx0aWYgKHVuY2F0ZWdvcml6ZWQgIT09IG51bGwpIHtcclxuXHRcdFx0cmVzdWx0LnB1c2godW5jYXRlZ29yaXplZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHJlc3VsdFswXS5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVGaWVsZE9iamVjdEZvclNlbmQoZmllbGQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGd1aWQ6IGZpZWxkLmd1aWQsXHJcblx0XHRcdHN5c25hbWU6IGZpZWxkLnN5c25hbWUsXHJcblx0XHRcdGRlc2NyaXB0aW9uOiBmaWVsZC5kZXNjcmlwdGlvbiA/IGZpZWxkLmRlc2NyaXB0aW9uIDogdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaHVtYW5pemVWYXJpYWJsZU5hbWUoZmllbGQubmFtZSksXHJcblx0XHRcdGZvcm1hdDogZmllbGQuZm9ybWF0LFxyXG5cdFx0XHRncm91cEJ5RnVuY3Rpb246IGZpZWxkLmdyb3VwQnlGdW5jdGlvbixcclxuXHRcdFx0Z3JvdXBCeVN1YnRvdGFsRnVuY3Rpb246IGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uLFxyXG5cdFx0XHRzdWJ0b3RhbEV4cHJlc3Npb246IGZpZWxkLnN1YnRvdGFsRXhwcmVzc2lvbixcclxuXHRcdFx0YWxsb3dlZEluRmlsdGVyczogZmllbGQuYWxsb3dlZEluRmlsdGVycyxcclxuXHRcdFx0c29ydDogZmllbGQuc29ydCxcclxuXHRcdFx0b3JkZXI6IGZpZWxkLm9yZGVyLFxyXG5cdFx0XHRpdGFsaWM6IGZpZWxkLml0YWxpYyxcclxuXHRcdFx0Y29sdW1uR3JvdXA6IGZpZWxkLmNvbHVtbkdyb3VwLFxyXG5cdFx0XHRzZXBhcmF0b3I6IGZpZWxkLnNlcGFyYXRvcixcclxuXHRcdFx0dmFsdWVSYW5nZTogZmllbGQudmFsdWVSYW5nZSxcclxuXHRcdFx0dGV4dEhpZ2hsaWdodDogZmllbGQudGV4dEhpZ2hsaWdodCxcclxuXHRcdFx0Y2VsbEhpZ2hsaWdodDogZmllbGQuY2VsbEhpZ2hsaWdodCxcclxuXHRcdFx0d2lkdGg6IGZpZWxkLndpZHRoLFxyXG5cdFx0XHRsYWJlbEp1c3RpZmljYXRpb246IGZpZWxkLmxhYmVsSnVzdGlmaWNhdGlvbixcclxuXHRcdFx0dmFsdWVKdXN0aWZpY2F0aW9uOiBmaWVsZC52YWx1ZUp1c3RpZmljYXRpb24sXHJcblx0XHRcdGdyYWRpZW50OiBmaWVsZC5ncmFkaWVudCxcclxuXHRcdFx0dmlzaWJsZTogZmllbGQudmlzaWJsZSxcclxuXHRcdFx0aXNWZ1VzZWQ6IGZpZWxkLmlzVmdVc2VkLFxyXG5cdFx0XHRicmVha1BhZ2VBZnRlclZnOiBmaWVsZC5icmVha1BhZ2VBZnRlclZnLFxyXG5cdFx0XHRib2xkOiBmaWVsZC5ib2xkLFxyXG5cdFx0XHRkcmlsbERvd25TdHlsZTogZmllbGQuZHJpbGxEb3duU3R5bGUsXHJcblx0XHRcdGN1c3RvbVVybDogZmllbGQuY3VzdG9tVXJsLFxyXG5cdFx0XHRzdWJyZXBvcnQ6IGZpZWxkLnN1YnJlcG9ydCxcclxuXHRcdFx0ZXhwcmVzc2lvbjogZmllbGQuZXhwcmVzc2lvbixcclxuXHRcdFx0ZXhwcmVzc2lvblR5cGU6IGZpZWxkLmV4cHJlc3Npb25UeXBlLnZhbHVlLFxyXG5cdFx0XHRncm91cEJ5RXhwcmVzc2lvbjogZmllbGQuZ3JvdXBCeUV4cHJlc3Npb25cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBvYmplY3Qgd2l0aCByZXBvcnQgZGF0YSB3aGljaCB3aWxsIGJlIHNlbmQgdG8gc2VydmVyLlxyXG5cdCAqL1xyXG5cdGNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQocHJldmlld1RvcD8pIHtcclxuXHRcdC8vIGl0ZXJhdGUgdGhyb3VnaCBhY3RpdmUgZmllbGRzLlxyXG5cdFx0Y29uc3QgYWN0aXZlVGFibGVzID0gdGhpcy5nZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdGlmIChhY3RpdmVUYWJsZXMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0XHRjb25zdCBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIHRoaXMuZ2V0T3B0aW9ucygpKTtcclxuXHRcdGNvbnN0IGZpbHRlck9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgdGhpcy5nZXRGaWx0ZXJPcHRpb25zKCkpO1xyXG5cclxuXHRcdGNvbnN0IHJlcG9ydFNldENvbmZpZyA9IHtcclxuXHRcdFx0cmVwb3J0TmFtZTogdGhpcy5yZXBvcnRTZXQucmVwb3J0TmFtZSxcclxuXHRcdFx0cmVwb3J0Q2F0ZWdvcnk6IHRoaXMucmVwb3J0U2V0LnJlcG9ydENhdGVnb3J5LFxyXG5cdFx0XHRqb2luZWRUYWJsZXM6IFtdLFxyXG5cdFx0XHRkcmlsbERvd25GaWVsZHM6IFtdLFxyXG5cdFx0XHRmaWVsZHM6IFtdLFxyXG5cdFx0XHRmaWx0ZXJzOiBbXSxcclxuXHRcdFx0Y2hhcnRzOiBbXSxcclxuXHRcdFx0b3B0aW9uczogb3B0aW9ucyxcclxuXHRcdFx0ZmlsdGVyT3B0aW9uczogZmlsdGVyT3B0aW9ucyxcclxuXHRcdFx0c2NoZWR1bGU6IG51bGwsXHJcblx0XHRcdHNoYXJlOiB7fSxcclxuXHRcdFx0cGl2b3Q6IG51bGxcclxuXHRcdH07XHJcblx0XHRpZiAodHlwZW9mIChyZXBvcnRTZXRDb25maWcub3B0aW9ucy5wYWdlLml0ZW1zUGVyUGFnZSkgIT09ICdudW1iZXInKSB7XHJcblx0XHRcdHJlcG9ydFNldENvbmZpZy5vcHRpb25zLnBhZ2UuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQocmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMucGFnZS5pdGVtc1BlclBhZ2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHByZXZpZXcgdG9wXHJcblx0XHRjb25zdCByZXBvcnRUb3AgPSBwYXJzZUludChyZXBvcnRTZXRDb25maWcub3B0aW9ucy50b3ApO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNOdW1iZXIocHJldmlld1RvcCkpIHtcclxuXHRcdFx0aWYgKCFpc05hTihyZXBvcnRUb3ApICYmIChyZXBvcnRUb3AgPCBwcmV2aWV3VG9wIHx8IHByZXZpZXdUb3AgPCAwKSlcclxuXHRcdFx0XHRyZXBvcnRTZXRDb25maWcub3B0aW9ucy50b3AgPSByZXBvcnRUb3A7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXBvcnRTZXRDb25maWcub3B0aW9ucy50b3AgPSBwcmV2aWV3VG9wO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHNjaGVkdWxlXHJcblx0XHRyZXBvcnRTZXRDb25maWcuc2NoZWR1bGUgPSB0aGlzLiRpemVuZGFTY2hlZHVsZVNlcnZpY2UuZ2V0U2NoZWR1bGVDb25maWdGb3JTZW5kKCk7XHJcblxyXG5cdFx0Ly8gc2hhcmVcclxuXHRcdHJlcG9ydFNldENvbmZpZy5zaGFyZSA9IHRoaXMuJGl6ZW5kYVNoYXJlU2VydmljZS5nZXRTaGFyZUNvbmZpZ0ZvclNlbmQoKTtcclxuXHJcblx0XHQvLyBhZGQgZHJpbGxkb3duIGZpZWxkcy5cclxuXHRcdHJlcG9ydFNldENvbmZpZy5kcmlsbERvd25GaWVsZHMgPSB0aGlzLmdldERyaWxsRG93bkZpZWxkcygpLm1hcChmID0+IGYuc3lzbmFtZSk7XHJcblxyXG5cdFx0Ly8gYWRkIGNoYXJ0c1xyXG5cdFx0aWYgKHRoaXMucmVwb3J0U2V0LmNoYXJ0cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHZhciBjaGFydCA9IHRoaXMucmVwb3J0U2V0LmNoYXJ0c1swXSBhcyBhbnk7XHJcblx0XHRcdGlmIChjaGFydCkge1xyXG5cdFx0XHRcdHJlcG9ydFNldENvbmZpZy5jaGFydHNbMF0gPSB7XHJcblx0XHRcdFx0XHRuYW1lOiBjaGFydC5uYW1lLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnk6IGNoYXJ0LmNhdGVnb3J5TmFtZSxcclxuXHRcdFx0XHRcdHByb3BlcnRpZXM6IGNoYXJ0LnByb3BlcnRpZXMgPyBjaGFydC5wcm9wZXJ0aWVzIDogbnVsbFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBwcmVwYXJlIHRhYmxlc1xyXG5cdFx0Y29uc3QgYWN0aXZlRmllbGRzTGlzdCA9IHRoaXMuZ2V0QWxsQWN0aXZlRmllbGRzKCk7XHJcblx0XHRhY3RpdmVGaWVsZHNMaXN0LnNvcnQoKGZpZWxkMSwgZmllbGQyKSA9PiBmaWVsZDEub3JkZXIgLSBmaWVsZDIub3JkZXIpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVGaWVsZHNMaXN0Lmxlbmd0aDsgaSsrKVxyXG5cdFx0XHRhY3RpdmVGaWVsZHNMaXN0W2ldLm9yZGVyID0gaSArIDE7XHJcblxyXG5cdFx0Ly8gYWRkIGZpbHRlcnMgdG8gY29uZmlnXHJcblx0XHR0aGlzLmdldEZpbHRlcnMoKS5mb3JFYWNoKGZpbHRlciA9PiB7XHJcblx0XHRcdGlmIChmaWx0ZXIuZmllbGQgPT09IG51bGwgfHwgIWFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLm9wZXJhdG9yKSkge1xyXG5cdFx0XHRcdGZpbHRlci5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZpbHRlci5pc1ZhbGlkID0gdHJ1ZTtcclxuXHJcblx0XHRcdC8vIHByZXBhcmUgZmlsdGVyIHZhbHVlcyB0byBzZW5kXHJcblx0XHRcdGxldCBwcmVwYXJlZFZhbHVlcyA9IGZpbHRlci52YWx1ZXM7XHJcblx0XHRcdC8vIGRhdGUgc3RyaW5nIGNyZWF0ZWQgYWNjb3JkaW5nIHRvIGZvcm1hdCB3aGljaCB1c2VkIGluIFwiaW50ZXJuYWwgc3RhdGljIHN0cmluZyBEYXRlTG9jVG9VcyhzdHJpbmcgZGF0ZSlcIjpcclxuXHRcdFx0Y29uc3QgdmFsdWVUeXBlID0gdGhpcy5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKGZpbHRlci5vcGVyYXRvcik7XHJcblx0XHRcdGlmICh2YWx1ZVR5cGUgPT09ICdzZWxlY3RfbXVsdGlwbGUnIHx8IHZhbHVlVHlwZSA9PT0gJ3NlbGVjdF9wb3B1cCcgfHwgdmFsdWVUeXBlID09PSAnc2VsZWN0X2NoZWNrYm94ZXMnKSB7XHJcblx0XHRcdFx0cHJlcGFyZWRWYWx1ZXMgPSBbZmlsdGVyLnZhbHVlcy5qb2luKCcsJyldO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ2ZpZWxkJyAmJiBmaWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMSAmJiBmaWx0ZXIudmFsdWVzWzBdICE9PSBudWxsKSB7XHJcblx0XHRcdFx0cHJlcGFyZWRWYWx1ZXMgPSBbZmlsdGVyLnZhbHVlc1swXS5zeXNuYW1lXTtcclxuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICd0d29EYXRlcycpIHtcclxuXHRcdFx0XHRsZXQgbW9tZW50T2JqMTogYW55ID0gbnVsbDtcclxuXHRcdFx0XHRsZXQgbW9tZW50T2JqMjogYW55ID0gbnVsbDtcclxuXHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlc1swXSlcclxuXHRcdFx0XHRcdG1vbWVudE9iajEgPSBtb21lbnQoZmlsdGVyLnZhbHVlc1swXSk7XHJcblx0XHRcdFx0aWYgKGZpbHRlci52YWx1ZXNbMV0pXHJcblx0XHRcdFx0XHRtb21lbnRPYmoyID0gbW9tZW50KGZpbHRlci52YWx1ZXNbMV0pO1xyXG5cdFx0XHRcdHByZXBhcmVkVmFsdWVzID0gW1xyXG5cdFx0XHRcdFx0bW9tZW50T2JqMSAmJiBtb21lbnRPYmoxLmlzVmFsaWQoKSA/IG1vbWVudE9iajEuZm9ybWF0KHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZygpKSA6IG51bGwsXHJcblx0XHRcdFx0XHRtb21lbnRPYmoyICYmIG1vbWVudE9iajIuaXNWYWxpZCgpID8gbW9tZW50T2JqMi5mb3JtYXQodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERlZmF1bHREYXRlRm9ybWF0U3RyaW5nKCkpIDogbnVsbFxyXG5cdFx0XHRcdF07XHJcblx0XHRcdH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnb25lRGF0ZScpIHtcclxuXHRcdFx0XHRsZXQgbW9tZW50T2JqOiBhbnkgPSBudWxsO1xyXG5cdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzWzBdKVxyXG5cdFx0XHRcdFx0bW9tZW50T2JqID0gbW9tZW50KGZpbHRlci52YWx1ZXNbMF0pO1xyXG5cdFx0XHRcdHByZXBhcmVkVmFsdWVzID0gW1xyXG5cdFx0XHRcdFx0bW9tZW50T2JqICYmIG1vbWVudE9iai5pc1ZhbGlkKCkgPyBtb21lbnRPYmouZm9ybWF0KHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZygpKSA6IG51bGxcclxuXHRcdFx0XHRdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBmaWx0ZXJPYmogPSB7XHJcblx0XHRcdFx0cmVxdWlyZWQ6IGZpbHRlci5yZXF1aXJlZCxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogZmlsdGVyLmRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdHBhcmFtZXRlcjogZmlsdGVyLnBhcmFtZXRlcixcclxuXHRcdFx0XHRzeXNuYW1lOiBmaWx0ZXIuZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0XHRvcGVyYXRvclN0cmluZzogZmlsdGVyLm9wZXJhdG9yLnZhbHVlLFxyXG5cdFx0XHRcdHZhbHVlczogcHJlcGFyZWRWYWx1ZXMsXHJcblx0XHRcdFx0dGl0bGVGb3JtYXQ6IGZpbHRlci50aXRsZUZvcm1hdCxcclxuXHRcdFx0XHRjdXN0b21Qb3B1cFRlbXBsYXRlVXJsOiBmaWx0ZXIuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgaXNCbGFuayA9IGZpbHRlck9iai52YWx1ZXMuZXZlcnkodiA9PiB2ID09PSAnJyk7XHJcblx0XHRcdGlmIChpc0JsYW5rKVxyXG5cdFx0XHRcdGZpbHRlck9iai52YWx1ZXMgPSBbXTtcclxuXHJcblx0XHRcdHJlcG9ydFNldENvbmZpZy5maWx0ZXJzLnB1c2goZmlsdGVyT2JqKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHBpdm90XHJcblx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnN5bmNQaXZvdFN0YXRlKHRoaXMuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXMoKSk7XHJcblx0XHRjb25zdCBwaXZvdENvbmZpZyA9IHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3REYXRhRm9yU2VuZCgpO1xyXG5cdFx0aWYgKCFwaXZvdENvbmZpZylcclxuXHRcdFx0cmVwb3J0U2V0Q29uZmlnLnBpdm90ID0gbnVsbDtcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXBvcnRTZXRDb25maWcucGl2b3QgPSB7XHJcblx0XHRcdFx0b3B0aW9uczogcGl2b3RDb25maWcub3B0aW9uc1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXBvcnRTZXRDb25maWcucGl2b3QucGl2b3RDb2x1bW4gPSB0aGlzLmNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZChwaXZvdENvbmZpZy5waXZvdENvbHVtbik7XHJcblx0XHRcdHJlcG9ydFNldENvbmZpZy5waXZvdC5jZWxsVmFsdWVzID0gcGl2b3RDb25maWcuY2VsbFZhbHVlc1xyXG5cdFx0XHRcdC5maWx0ZXIoYyA9PiAhIWMpXHJcblx0XHRcdFx0Lm1hcChjID0+IHRoaXMuY3JlYXRlRmllbGRPYmplY3RGb3JTZW5kKGMpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBmaWxsIGpvaW5lZCB0YWJsZXM6XHJcblx0XHRyZXBvcnRTZXRDb25maWcuam9pbmVkVGFibGVzID0gYWN0aXZlVGFibGVzLm1hcCh0ID0+IHtcclxuXHRcdFx0cmV0dXJuIHsgc3lzbmFtZTogdC5zeXNuYW1lIH07XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBmaWxsIGZpZWxkc1xyXG5cdFx0YWN0aXZlVGFibGVzLmZvckVhY2godGFibGUgPT4ge1xyXG5cdFx0XHR2YXIgYWN0aXZlRmllbGRzID0gdGhpcy5nZXRBY3RpdmVGaWVsZHModGFibGUpO1xyXG5cdFx0XHRyZXBvcnRTZXRDb25maWcuZmllbGRzLnB1c2hBbGwoYWN0aXZlRmllbGRzLm1hcCh0aGlzLmNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZCkpO1xyXG5cdFx0fSk7XHJcblx0XHQvLyB1cGRhdGUgZmllbGQgb3JkZXIgXHJcblx0XHRyZXBvcnRTZXRDb25maWcuZmllbGRzLnNvcnQoKGYxLCBmMikgPT4ge1xyXG5cdFx0XHRpZiAoZjEuaXNWZ1VzZWQgXiBmMi5pc1ZnVXNlZClcclxuXHRcdFx0XHRpZiAoZjEuaXNWZ1VzZWQpIHJldHVybiAtMTtcclxuXHRcdFx0XHRlbHNlIHJldHVybiAxO1xyXG5cdFx0XHRlbHNlIHJldHVybiBmMS5vcmRlciAtIGYyLm9yZGVyO1xyXG5cdFx0fSk7XHJcblx0XHRyZXBvcnRTZXRDb25maWcuZmllbGRzLmZvckVhY2goZiA9PiBmLm9yZGVyID0gdGhpcy5nZXROZXh0T3JkZXIoKSk7XHJcblxyXG5cdFx0dGhpcy4kbG9nLmRlYnVnKCdyZXBvcnRTZXRDb25maWc6ICcsIHJlcG9ydFNldENvbmZpZyk7XHJcblx0XHRyZXR1cm4gcmVwb3J0U2V0Q29uZmlnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmaWVsZHMgZm9yIGxhenkgdGFibGVcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gdGFibGUgXHJcblx0ICovXHJcblx0bG9hZExhenlGaWVsZHModGFibGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoIXRhYmxlLmxhenkpIHtcclxuXHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRGaWVsZHNJbmZvKHRhYmxlLnN5c25hbWUpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jb252ZXJ0QW5kQWRkRmllbGRzKHRhYmxlLCBkYXRhLmZpZWxkcyk7XHJcblx0XHRcdFx0cmVzb2x2ZSh0cnVlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIHJlcG9ydCBwcmV2aWV3LlxyXG5cdCAqL1xyXG5cdGNsZWFyUmVwb3J0UHJldmlld0h0bWwoKSB7XHJcblx0XHR0aGlzLnByZXZpZXdIdG1sID0gJyc7XHJcblx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmNhbmNlbEFsbFByZXZpZXdRdWVyaWVzKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYW5kIGFwcGx5IHByZXZpZXcgZm9yIGN1cnJlbnQgcmVwb3J0IHNldCBjb25maWcuXHJcblx0ICovXHJcblx0Z2V0UmVwb3J0UHJldmlld0h0bWwoKSB7XHJcblx0XHR0aGlzLmNsZWFyUmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdHRoaXMuaXNQcmV2aWV3U3BsYXNoVmlzaWJsZSA9IHRydWU7XHJcblx0XHR0aGlzLiRyb290U2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcblx0XHRcdGNvbnN0IHJlcG9ydFNldFRvU2VuZCA9IHRoaXMuY3JlYXRlUmVwb3J0U2V0Q29uZmlnRm9yU2VuZChvcHRpb25zLnByZXZpZXdUb3ApO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldFByZXZpZXdRdWV1ZWQocmVwb3J0U2V0VG9TZW5kKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdHRoaXMucHJldmlld0h0bWwgPSBkYXRhIGFzIHN0cmluZztcclxuXHRcdFx0XHR0aGlzLmlzUHJldmlld1NwbGFzaFZpc2libGUgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmdldE9wdGlvbnMoKS5yb3dzUmFuZ2UgPSBudWxsO1xyXG5cdFx0XHRcdHRoaXMuJHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSwgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIHJlamVjdFxyXG5cdFx0XHRcdHRoaXMuaXNQcmV2aWV3U3BsYXNoVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuJHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCB0b3AgdmFsdWUgZm9yIHByZXZpZXdcclxuXHQgKi9cclxuXHRzZXRQcmV2aWV3VG9wKHZhbHVlKSB7XHJcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xyXG5cdFx0XHRvcHRpb25zLnByZXZpZXdUb3AgPSAtMjE0NzQ4MzY0ODtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9wdGlvbnMucHJldmlld1RvcCA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZSByZXBvcnQgc2V0XHJcblx0ICovXHJcblx0c2F2ZVJlcG9ydFNldChuYW1lLCBjYXRlZ29yeSkge1xyXG5cdFx0Y29uc3QgcnMgPSB0aGlzLmdldFJlcG9ydFNldCgpO1xyXG5cdFx0Y29uc3QgbmFtZVRvU2F2ZTogc3RyaW5nID0gYW5ndWxhci5pc0RlZmluZWQobmFtZSkgPyBuYW1lIDogcnMucmVwb3J0TmFtZTtcclxuXHRcdGNvbnN0IGNhdGVnb3J5VG9TYXZlID0gYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkgJiYgY2F0ZWdvcnkgIT09ICcnID8gY2F0ZWdvcnkgOiAnJztcclxuXHJcblx0XHRycy5yZXBvcnROYW1lID0gbmFtZVRvU2F2ZTtcclxuXHRcdHJzLnJlcG9ydENhdGVnb3J5ID0gY2F0ZWdvcnlUb1NhdmU7XHJcblx0XHRpZiAodGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKHJzLnJlcG9ydENhdGVnb3J5KSlcclxuXHRcdFx0cnMucmVwb3J0Q2F0ZWdvcnkgPSAnJztcclxuXHJcblx0XHRjb25zdCByZXBvcnRTZXRUb1NlbmQgPSB0aGlzLmNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5zYXZlUmVwb3J0U2V0KHJlcG9ydFNldFRvU2VuZCkudGhlbihyZXN1bHQgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHJlcG9ydFNldEZ1bGxOYW1lID0gdGhpcy5nZXRSZXBvcnRTZXRGdWxsTmFtZSgpO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHJlcG9ydFNldEZ1bGxOYW1lKSlcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0UmVwb3J0RnVsbE5hbWUocmVwb3J0U2V0RnVsbE5hbWUpO1xyXG5cdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcclxuXHRcdFx0fSwgZXJyb3IgPT4ge1xyXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZW5kIHNlbmQgcmVwb3J0IHNldCB0byBzZXJ2ZXIgYW5kIHNldCBpdCBhcyBDUlNcclxuXHQgKi9cclxuXHRzZXRSZXBvcnRTZXRBc0NycyhhcHBseVByZXZpZXdUb3A/KSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3QgcmVwb3J0U2V0VG9TZW5kID0gdGhpcy5jcmVhdGVSZXBvcnRTZXRDb25maWdGb3JTZW5kKCk7XHJcblx0XHRcdGlmIChhcHBseVByZXZpZXdUb3ApXHJcblx0XHRcdFx0cmVwb3J0U2V0VG9TZW5kLm9wdGlvbnMuYXBwbHlQcmV2aWV3VG9wID0gdHJ1ZTtcclxuXHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2Uuc2V0UmVwb3J0QXNDcnMocmVwb3J0U2V0VG9TZW5kKS50aGVuKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0aWYgKHJlc3VsdCA9PT0gJ09LJykge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShbdHJ1ZV0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKFtmYWxzZSwgcmVzdWx0XSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGUgcGRmIHdpdGggY3VycmVudCByZXBvcnQgYW5kIHNlbmQgZmlsZSB0byB1c2VyXHJcblx0ICovXHJcblx0ZXhwb3J0UmVwb3J0QXMoZXhwb3J0VHlwZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IHJlcG9ydFNldFRvU2VuZCA9IHRoaXMuY3JlYXRlUmVwb3J0U2V0Q29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0XHRyZXBvcnRTZXRUb1NlbmQub3B0aW9ucy5hcHBseVByZXZpZXdUb3AgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZVxyXG5cdFx0XHRcdC5leHBvcnRSZXBvcnRJbk5ld1dpbmRvdyhyZXBvcnRTZXRUb1NlbmQsIGV4cG9ydFR5cGUpXHJcblx0XHRcdFx0LnRoZW4oKCkgPT4gcmVzb2x2ZSh0cnVlKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIGh0bWwgYW5kIG9wZW4gcHJpbnQgcGFnZS5cclxuXHQgKi9cclxuXHRwcmludFJlcG9ydEFzSHRtbCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCByZXBvcnRTZXRUb1NlbmQgPSB0aGlzLmNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0cmVwb3J0U2V0VG9TZW5kLm9wdGlvbnMuYXBwbHlQcmV2aWV3VG9wID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2VcclxuXHRcdFx0XHQuZXhwb3J0UmVwb3J0SW5OZXdXaW5kb3cocmVwb3J0U2V0VG9TZW5kLCAncHJpbnQnKVxyXG5cdFx0XHRcdC50aGVuKCgpID0+IHJlc29sdmUodHJ1ZSkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQcmludCByZXBvcnQgZnVuY3Rpb25cclxuXHQgKi9cclxuXHRwcmludFJlcG9ydChwcmludFR5cGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAocHJpbnRUeXBlID09PSAnaHRtbCcpIHtcclxuXHRcdFx0XHR0aGlzLnByaW50UmVwb3J0QXNIdG1sKClcclxuXHRcdFx0XHRcdC50aGVuKHN1Y2Nlc3MgPT4gcmVzb2x2ZSh7XHJcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcblx0XHRcdFx0XHRcdG1lc3NhZ2U6ICcnXHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocHJpbnRUeXBlID09PSAncGRmJykge1xyXG5cdFx0XHRcdHRoaXMuZXhwb3J0UmVwb3J0QXMoJ1BERicpLnRoZW4oXHJcblx0XHRcdFx0XHRzdWNjZXNzID0+IHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnJ1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXHJcblx0XHRcdFx0XHRtZXNzYWdlOiBgVW5rbm93biBwcmludCB0eXBlICR7cHJpbnRUeXBlfWBcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIHJlcG9ydCBpbiByZXBvcnQgZGVzaWduZXIuXHJcblx0ICovXHJcblx0b3BlblJlcG9ydEluRGVzaWduZXIoKSB7XHJcblx0XHR0aGlzLnNldFJlcG9ydFNldEFzQ3JzKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdHZhciB1cmwgPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybFJlcG9ydERlc2lnbmVyO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyh0aGlzLnJlcG9ydFNldC5yZXBvcnROYW1lKSAmJiB0aGlzLnJlcG9ydFNldC5yZXBvcnROYW1lICE9PSAnJylcclxuXHRcdFx0XHR1cmwgKz0gYD9ybj0ke3RoaXMuZ2V0UmVwb3J0U2V0RnVsbE5hbWUoKX0mdGFiPUZpZWxkc2A7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR1cmwgKz0gJz90YWI9RmllbGRzJztcclxuXHRcdFx0dGhpcy4kd2luZG93LmxvY2F0aW9uLmhyZWYgPSBnZXRBcHBlbmRlZFVybCh1cmwpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHBvcnQgcmVwb3J0IGZ1bmN0aW9uXHJcblx0ICovXHJcblx0ZXhwb3J0UmVwb3J0KGV4cG9ydFR5cGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoZXhwb3J0VHlwZSA9PT0gJ2V4Y2VsJykge1xyXG5cdFx0XHRcdHRoaXMuZXhwb3J0UmVwb3J0QXMoJ1hMUyhNSU1FKScpXHJcblx0XHRcdFx0XHQudGhlbihzdWNjZXNzID0+IHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnJ1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGV4cG9ydFR5cGUgPT09ICd3b3JkJykge1xyXG5cdFx0XHRcdHRoaXMuZXhwb3J0UmVwb3J0QXMoJ0RPQycpXHJcblx0XHRcdFx0XHQudGhlbihzdWNjZXNzID0+IHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnJ1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGV4cG9ydFR5cGUgPT09ICdjc3YnKSB7XHJcblx0XHRcdFx0Y29uc3QgZXhwb3J0TW9kZSA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRCdWxrQ3N2KCkgPyAnQlVMS0NTVicgOiAnQ1NWJztcclxuXHRcdFx0XHR0aGlzLmV4cG9ydFJlcG9ydEFzKGV4cG9ydE1vZGUpXHJcblx0XHRcdFx0XHQudGhlbihzdWNjZXNzID0+IHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnJ1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGV4cG9ydFR5cGUgPT09ICd4bWwnKSB7XHJcblx0XHRcdFx0dGhpcy5leHBvcnRSZXBvcnRBcygnWE1MJylcclxuXHRcdFx0XHRcdC50aGVuKHN1Y2Nlc3MgPT4gcmVzb2x2ZSh7XHJcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcblx0XHRcdFx0XHRcdG1lc3NhZ2U6ICcnXHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzb2x2ZSh7XHJcblx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuXHRcdFx0XHRcdG1lc3NhZ2U6IGBVbmtub3duIGV4cG9ydCB0eXBlICR7ZXhwb3J0VHlwZX1gXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCByZXBvcnQgbGluayB2aWEgY2xpZW50IGVtYWlsXHJcblx0ICovXHJcblx0c2VuZFJlcG9ydExpbmtFbWFpbCgpIHtcclxuXHRcdGNvbnN0IHJlcG9ydEluZm8gPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLmdldFJlcG9ydEluZm8oKTtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChyZXBvcnRJbmZvKSB8fCAhYW5ndWxhci5pc1N0cmluZyhyZXBvcnRJbmZvLmZ1bGxOYW1lKSB8fCByZXBvcnRJbmZvLmZ1bGxOYW1lID09PSAnJylcclxuXHRcdFx0dGhyb3cgJ0NhblxcJ3Qgc2VuZCBlbWFpbCB3aXRob3V0IHJlcG9ydCBuYW1lJztcclxuXHRcdGNvbnN0IHJlcG9ydFZpZXdlckxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlQWxsKHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsSW5zdGFudFJlcG9ydCwgdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSZXBvcnRWaWV3ZXIpO1xyXG5cdFx0bGV0IHJlZGlyZWN0VXJsID0gYD9zdWJqZWN0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlcG9ydEluZm8uZnVsbE5hbWUpfSZib2R5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlcG9ydFZpZXdlckxvY2F0aW9uKX1gO1xyXG5cdFx0cmVkaXJlY3RVcmwgPSBgbWFpbHRvOiR7cmVkaXJlY3RVcmwucmVwbGFjZSgvIC9nLCAnJTIwJyl9YDtcclxuXHRcdHRoaXMuJHdpbmRvdy50b3AubG9jYXRpb24uaHJlZiA9IGdldEFwcGVuZGVkVXJsKHJlZGlyZWN0VXJsKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgaW5zdGFudCByZXBvcnQgZGF0YXNvdXJjZXNcclxuXHQgKi9cclxuXHRsb2FkRGF0YVNvdXJjZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRDb25zdHJhaW50c0luZm8oKS50aGVuKGNvbnN0cmFpbnRzRGF0YSA9PiB7XHJcblx0XHRcdFx0dGhpcy5zZXRDb25zdHJhaW50cyhjb25zdHJhaW50c0RhdGEpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0RGF0YXNvdXJjZXMoKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXREYXRhU291cmNlcyh0aGlzLmNvbnZlcnREYXRhU291cmNlcyhkYXRhKSk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGNoYXJ0c1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBjdXJyZW50IGNoYXJ0XHJcblx0ICovXHJcblx0c2VsZWN0Q2hhcnQoY2hhcnQpIHtcclxuXHRcdHRoaXMucmVwb3J0U2V0LmNoYXJ0c1swXSA9IGNoYXJ0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgY2hhcnRcclxuXHQgKi9cclxuXHRnZXRTZWxlY3RlZENoYXJ0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0U2V0LmNoYXJ0cy5sZW5ndGggPyB0aGlzLnJlcG9ydFNldC5jaGFydHNbMF0gOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBmaWx0ZXJzXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0dmFsaWRhdGVGaWx0ZXIoZmlsdGVyKSB7XHJcblx0XHRmaWx0ZXIuaXNWYWxpZCA9IHRydWU7XHJcblx0XHRmaWx0ZXIudmFsaWRhdGlvbk1lc3NhZ2VzID0gW107XHJcblx0XHRmaWx0ZXIudmFsaWRhdGlvbk1lc3NhZ2VTdHJpbmcgPSAnJztcclxuXHJcblx0XHQvLyBjaGVjazogaXMgZmlsdGVyIHJlZmVyIHRvIGZpZWxkIHdoaWNoIGluIGFjdGl2ZSB0YWJsZS5cclxuXHRcdGlmIChmaWx0ZXIuZmllbGQgIT09IG51bGwpIHtcclxuXHRcdFx0Y29uc3QgZmlsdGVyRmllbGQgPSBmaWx0ZXIuZmllbGQ7XHJcblx0XHRcdGNvbnN0IGZvdW5kID0gdGhpcy5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKS5zb21lKGYgPT4gZi5zeXNuYW1lID09PSBmaWx0ZXJGaWVsZC5zeXNuYW1lKTtcclxuXHRcdFx0aWYgKCFmb3VuZCkge1xyXG5cdFx0XHRcdGZpbHRlci5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0ZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlcy5wdXNoKFxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GaWx0ZXJGaWVsZElzbnRJbmNsdWRlZCcsICdGaWx0ZXIgZmllbGQgcmVmZXJzIG9uIGRhdGFzb3VyY2Ugd2hpY2ggaXNuXFwndCBpbmNsdWRlZCB0byByZXBvcnQnKSk7XHJcblx0XHRcdFx0ZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlU3RyaW5nID0gZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlcy5qb2luKCcsICcpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0LyoqXHJcblx0ICogRGlzYWJsZSBmaWx0ZXJzIHdoaWNoIGFyZSBub3QgcGFzcyB2YWxpZGF0aW9uXHJcblx0ICovXHJcblx0dmFsaWRhdGVGaWx0ZXJzKCkge1xyXG5cdFx0dGhpcy5yZXBvcnRTZXQuZmlsdGVycy5mb3JFYWNoKGYgPT4gdGhpcy52YWxpZGF0ZUZpbHRlcihmKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNYXJrIGZpbHRlcnMgYXMgcmVhZHkgdG8gdXNlLlxyXG5cdCAqL1xyXG5cdHN0YXJ0RmlsdGVycygpIHtcclxuXHRcdHRoaXMucmVwb3J0U2V0LmZpbHRlcnMuZm9yRWFjaChmID0+IGYuaXNGaWx0ZXJSZWFkeSA9IHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCBmaWx0ZXIgb3BlcmF0b3IgYnkgc3RyaW5nIHZhbHVlXHJcblx0ICovXHJcblx0Z2V0RmlsdGVyT3BlcmF0b3JCeVZhbHVlKGZpbHRlciwgdmFsdWUpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkgfHwgIXZhbHVlKVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdHJldHVybiBmaWx0ZXIub3BlcmF0b3JzLmZpcnN0T3JEZWZhdWx0KGYgPT4gZi52YWx1ZSA9PT0gdmFsdWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgYWxsIHN0b3JlZCBwcm9jZWR1cmUgcGFyYW1ldGVycyBhc3NpZ25lZCBpbiBmaWx0ZXJzXHJcblx0ICovXHJcblx0aXNBbGxTcFBhcmFtZXRlcnNBc3NpZ25lZCgpIHtcclxuXHRcdGNvbnN0IHNwUGFyYW1GaWVsZHMgPSB0aGlzLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKCkuZmlsdGVyKGZpZWxkID0+IGZpZWxkLmlzU3BQYXJhbWV0ZXIpO1xyXG5cdFx0aWYgKCFzcFBhcmFtRmllbGRzLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0Y29uc3QgZmlsdGVycyA9IHRoaXMuZ2V0RmlsdGVycygpO1xyXG5cdFx0bGV0IGZvdW5kVW5hc3NpZ25lZFBhcmFtOiBib29sZWFuID0gZmFsc2U7XHJcblx0XHRzcFBhcmFtRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRjb25zdCBmb3VuZCA9IGZpbHRlcnMuc29tZShmID0+IGYuZmllbGQgJiYgZi5maWVsZCA9PT0gZmllbGQpO1xyXG5cdFx0XHRpZiAoIWZvdW5kKVxyXG5cdFx0XHRcdGZvdW5kVW5hc3NpZ25lZFBhcmFtID0gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuICFmb3VuZFVuYXNzaWduZWRQYXJhbTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBmaWx0ZXIgb3BlcmF0b3IgbGlzdCBmb3IgZmllbGRcclxuXHQgKi9cclxuXHRnZXRGaWVsZEZpbHRlck9wZXJhdG9yTGlzdChmaWVsZCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHZhciB0YWJsZXNQYXJhbSA9IHRoaXMuZ2V0QWN0aXZlVGFibGVzKCkubWFwKHRhYmxlID0+IHRhYmxlLnN5c25hbWUpLmpvaW4oJywnKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRGaWVsZE9wZXJhdG9yTGlzdChmaWVsZCwgdGFibGVzUGFyYW0pLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRcdGRhdGEuZm9yRWFjaChkID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGdyb3VwTmFtZSA9IGQubmFtZSA/IGQubmFtZSA6IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZC5vcHRpb25zXHJcblx0XHRcdFx0XHRcdC5maWx0ZXIobyA9PiBvLnZhbHVlICE9PSAnLi4uJylcclxuXHRcdFx0XHRcdFx0Lm1hcChvID0+IGFuZ3VsYXIuZXh0ZW5kKHsgZ3JvdXBOYW1lOiBncm91cE5hbWUgfSwgbykpKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmlsdGVyIG9wZXJhdG9yIGFuZCB1cGRhdGUgYXZhaWxhYmxlIHZhbHVlc1xyXG5cdCAqL1xyXG5cdHNldEZpbHRlck9wZXJhdG9yKGZpbHRlciwgb3BlcmF0b3JOYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlci5maWVsZCkpIHtcclxuXHRcdFx0XHRmaWx0ZXIub3BlcmF0b3JzID0gW107XHJcblx0XHRcdFx0ZmlsdGVyLm9wZXJhdG9yID0gbnVsbDtcclxuXHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmdldEZpZWxkRmlsdGVyT3BlcmF0b3JMaXN0KGZpbHRlci5maWVsZCkudGhlbihyZXN1bHQgPT4ge1xyXG5cdFx0XHRcdC8vIHNlbGVjdCBmaWx0ZXIgb3BlcmF0b3IgdG8gYXBwbHlcclxuXHRcdFx0XHR2YXIgb3BlcmF0b3JOYW1lVG9BcHBseSA9IG51bGw7XHJcblx0XHRcdFx0aWYgKGZpbHRlci5vcGVyYXRvcilcclxuXHRcdFx0XHRcdG9wZXJhdG9yTmFtZVRvQXBwbHkgPSBmaWx0ZXIub3BlcmF0b3IudmFsdWU7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcob3BlcmF0b3JOYW1lKSlcclxuXHRcdFx0XHRcdG9wZXJhdG9yTmFtZVRvQXBwbHkgPSBvcGVyYXRvck5hbWU7XHJcblxyXG5cdFx0XHRcdGZpbHRlci5vcGVyYXRvcnMgPSByZXN1bHQ7XHJcblx0XHRcdFx0ZmlsdGVyLm9wZXJhdG9yID0gdGhpcy5nZXRGaWx0ZXJPcGVyYXRvckJ5VmFsdWUoZmlsdGVyLCBvcGVyYXRvck5hbWVUb0FwcGx5KTtcclxuXHJcblx0XHRcdFx0Ly8gdXBkYXRlIGZpZWxkIHZhbHVlXHJcblx0XHRcdFx0dmFyIG9wZXJhdG9yVHlwZSA9IHRoaXMuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICdmaWVsZCcpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbdGhpcy5nZXRGaWVsZEJ5U3lzTmFtZShmaWx0ZXIudmFsdWVzWzBdKV07XHJcblx0XHRcdFx0fSBlbHNlIGlmIChvcGVyYXRvclR5cGUgPT09ICdvbmVEYXRlJyB8fCBvcGVyYXRvclR5cGUgPT09ICd0d29EYXRlcycpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBmaWx0ZXIudmFsdWVzLm1hcCh2ID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgcGFyc2VkRGF0ZSA9IG1vbWVudChcclxuXHRcdFx0XHRcdFx0XHR2LFxyXG5cdFx0XHRcdFx0XHRcdFt0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoKSwgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERlZmF1bHREYXRlRm9ybWF0U3RyaW5nKCdNL0QvWVlZWScpXSxcclxuXHRcdFx0XHRcdFx0XHR0cnVlKTtcclxuXHRcdFx0XHRcdFx0aWYgKHBhcnNlZERhdGUuaXNWYWxpZCgpKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBwYXJzZWREYXRlLl9kO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZmlsdGVyLm9wZXJhdG9yICYmIGZpbHRlci5vcGVyYXRvci52YWx1ZSA9PT0gJ0VxdWFsc19UZXh0QXJlYScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5jdXJyZW50VmFsdWUgPSBmaWx0ZXIudmFsdWVzLmpvaW4oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmaWx0ZXIgZXhpc3RlbnQgdmFsdWVzIGxpc3QgKHlvdSBuZWVkIHRvIGVuc3VyZSB0aGF0IGFsbCBvcGVyYXRvcnMgd2VyZSBhcHBsaWVkIGJlZm9yZSBzdGFydGluZyB1cGRhdGUgZXhpc3RpbmcgdmFsdWVzKVxyXG5cdCAqL1xyXG5cdHVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCBmb3JjZVVwZGF0ZT8pIHtcclxuXHRcdC8vIHBhcnNlIHVuaWNvZGUgc3ltYm9scyB1dGlsXHJcblx0XHRjb25zdCBwYXJzZUh0bWxVbmljb2RlRW50aXRpZXMgPSAoc3RyOiBzdHJpbmcpOiBzdHJpbmcgPT5cclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCc8dGV4dGFyZWEgLz4nKS5odG1sKHN0cikudGV4dCgpO1xyXG5cclxuXHRcdC8vIGNvbnZlcnQgb3B0aW9ucyB3aGljaCB3ZSBoYXZlIGdvdCBmcm9tIHNlcnZlci5cclxuXHRcdGNvbnN0IGNvbnZlcnRPcHRpb25zRm9yU2VsZWN0ID0gKG9wdGlvbnMsIG9wZXJhdG9yVHlwZSkgPT4ge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25zKSlcclxuXHRcdFx0XHRyZXR1cm4gW107XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0b3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XHJcblx0XHRcdFx0aWYgKG9wdGlvbi52YWx1ZSA9PT0gJy4uLicpIHtcclxuXHRcdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICdzZWxlY3QnIHx8IG9wZXJhdG9yVHlwZSA9PT0gJ2luVGltZVBlcmlvZCcgfHwgb3BlcmF0b3JUeXBlID09PSAnc2VsZWN0X211bHRpcGxlJykge1xyXG5cdFx0XHRcdFx0XHRvcHRpb24udGV4dCA9IHBhcnNlSHRtbFVuaWNvZGVFbnRpdGllcyhvcHRpb24udGV4dCk7XHJcblx0XHRcdFx0XHRcdG9wdGlvbi52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gob3B0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0b3B0aW9uLnRleHQgPSBwYXJzZUh0bWxVbmljb2RlRW50aXRpZXMob3B0aW9uLnRleHQpO1xyXG5cdFx0XHRcdFx0b3B0aW9uLnZhbHVlID0gb3B0aW9uLnZhbHVlO1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gob3B0aW9uKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzeW5jVmFsdWVzID0gZmlsdGVyT2JqZWN0ID0+IHtcclxuXHRcdFx0aWYgKGZpbHRlck9iamVjdC52YWx1ZXMubGVuZ3RoID09PSAwIHx8IGZpbHRlck9iamVjdC5vcGVyYXRvci52YWx1ZSA9PT0gJ0VxdWFsc19BdXRvY29tcGxldGUnKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0ZmlsdGVyT2JqZWN0LnZhbHVlcyA9IGZpbHRlck9iamVjdC52YWx1ZXMuZmlsdGVyKGZ2ID0+XHJcblx0XHRcdFx0ZmlsdGVyT2JqZWN0LmV4aXN0ZW50VmFsdWVzLm1hcChlID0+IGUudmFsdWUpLmluY2x1ZGVzKGZ2KSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIHJldHVybiBwcm9taXNlXHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlcikpIHtcclxuXHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLmZpZWxkKSB8fCAhYW5ndWxhci5pc09iamVjdChmaWx0ZXIub3BlcmF0b3IpKSB7XHJcblx0XHRcdFx0ZmlsdGVyLmV4aXN0ZW50VmFsdWVzID0gW107XHJcblx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFtdO1xyXG5cdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgaXNDYXNjYWRpbmdEaXNhYmxlZCA9IHRoaXMuJHdpbmRvdy5ucnZDb25maWcgJiYgIXRoaXMuJHdpbmRvdy5ucnZDb25maWcuQ2FzY2FkZUZpbHRlclZhbHVlcztcclxuXHRcdFx0aWYgKCFmb3JjZVVwZGF0ZSAmJiAodGhpcy5yZXBvcnRTZXQuZmlsdGVyT3B0aW9ucy5maWx0ZXJMb2dpYyB8fCBpc0Nhc2NhZGluZ0Rpc2FibGVkKSkge1xyXG5cdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGdldCBjb25zdHJhaW50IGZpbHRlcnNcclxuXHRcdFx0Y29uc3QgYWxsRmlsdGVycyA9IHRoaXMuZ2V0RmlsdGVycygpO1xyXG5cdFx0XHRjb25zdCBpZHggPSBhbGxGaWx0ZXJzLmluZGV4T2YoZmlsdGVyKTtcclxuXHRcdFx0aWYgKGlkeCA8IDApXHJcblx0XHRcdFx0dGhyb3cgYEZpbHRlciAke2ZpbHRlci5maWVsZCAhPT0gbnVsbCA/IGZpbHRlci5maWVsZC5zeXNuYW1lIDogJyd9IGlzbid0IGZvdW5kIGluIHJlcG9ydCBzZXQgZmlsdGVycyBjb2xsZWN0aW9uLmA7XHJcblxyXG5cdFx0XHQvLyBBZGQgY29uc3RyYWludCBmaWx0ZXJzIGlmIGZpbHRlciBsb2dpYyB3YXNuJ3QgYXBwbGllZFxyXG5cdFx0XHRsZXQgY29uc3RyYWludEZpbHRlcnMgPSBbXTtcclxuXHRcdFx0aWYgKCF0aGlzLnJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljKVxyXG5cdFx0XHRcdGNvbnN0cmFpbnRGaWx0ZXJzID0gYWxsRmlsdGVycy5zbGljZSgwLCBpZHgpO1xyXG5cclxuXHRcdFx0Ly8gbG9hZCBleGlzdGVudCB2YWx1ZXNcclxuXHRcdFx0Y29uc3Qgb3BlcmF0b3JUeXBlID0gdGhpcy5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKGZpbHRlci5vcGVyYXRvcik7XHJcblx0XHRcdGlmIChbJ3NlbGVjdCcsICdFcXVhbHNfQXV0b2NvbXBsZXRlJywgJ3NlbGVjdF9tdWx0aXBsZScsICdzZWxlY3RfcG9wdXAnLCAnc2VsZWN0X2NoZWNrYm94ZXMnXS5pbmRleE9mKG9wZXJhdG9yVHlwZSkgPj0gMCkge1xyXG5cdFx0XHRcdHRoaXMuc2V0UmVwb3J0U2V0QXNDcnMoZmFsc2UpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZVxyXG5cdFx0XHRcdFx0XHQuZ2V0RXhpc3RlbnRWYWx1ZXNMaXN0KHRoaXMuZ2V0QWN0aXZlVGFibGVzKCksIGNvbnN0cmFpbnRGaWx0ZXJzLCBmaWx0ZXIsIHRydWUsIHRoaXMucmVwb3J0U2V0LmZpbHRlck9wdGlvbnMuZmlsdGVyTG9naWMpXHJcblx0XHRcdFx0XHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGZpbHRlci5leGlzdGVudFZhbHVlcyA9IGNvbnZlcnRPcHRpb25zRm9yU2VsZWN0KGRhdGEgJiYgZGF0YS5sZW5ndGggPyBkYXRhWzBdLm9wdGlvbnMgOiBbXSwgb3BlcmF0b3JUeXBlKTtcclxuXHRcdFx0XHRcdFx0XHRzeW5jVmFsdWVzKGZpbHRlcik7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZGVmYXVsdFZhbHVlID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0T3B0aW9uQnlWYWx1ZShmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMsICcuLi4nKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDAgJiYgZGVmYXVsdFZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFtkZWZhdWx0VmFsdWUudmFsdWVdO1xyXG5cdFx0XHRcdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIGlmIChvcGVyYXRvclR5cGUgPT09ICdpblRpbWVQZXJpb2QnKSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRQZXJpb2RMaXN0KCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdGZpbHRlci5leGlzdGVudFZhbHVlcyA9IGNvbnZlcnRPcHRpb25zRm9yU2VsZWN0KGRhdGEgJiYgZGF0YS5sZW5ndGggPyBkYXRhWzBdLm9wdGlvbnM6IFtdLCBvcGVyYXRvclR5cGUpO1xyXG5cdFx0XHRcdFx0c3luY1ZhbHVlcyhmaWx0ZXIpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGVmYXVsdFZhbHVlID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0T3B0aW9uQnlWYWx1ZShmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMsICcuLi4nKTtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMCAmJiBkZWZhdWx0VmFsdWUpXHJcblx0XHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbZGVmYXVsdFZhbHVlLnZhbHVlXTtcclxuXHRcdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZmlsdGVyLmV4aXN0ZW50VmFsdWVzID0gW107XHJcblx0XHRcdFx0ZmlsdGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZpbHRlciBleGlzdGluZyB2YWx1ZXMgd2hlbiBmaWx0ZXJMb2dpY1xyXG5cdCAqL1xyXG5cdHJlZnJlc2hGaWx0ZXJzRm9yRmlsdGVyTG9naWMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKCF0aGlzLnJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljKSB7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBhbGxGaWx0ZXJzID0gdGhpcy5nZXRGaWx0ZXJzKCk7XHJcblx0XHRcdGNvbnN0IHByb21pc2VzID0gYWxsRmlsdGVycy5tYXAoZmlsdGVyID0+IHRoaXMudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIsIHRydWUpKTtcclxuXHRcdFx0dGhpcy4kcS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVmcmVzaCBuZXh0IGZpbHRlciB2YWx1ZXMuXHJcblx0ICovXHJcblx0cmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKGZpbHRlcikge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IGlzQ2FzY2FkaW5nRGlzYWJsZWQgPSB0aGlzLiR3aW5kb3cubnJ2Q29uZmlnICYmICF0aGlzLiR3aW5kb3cubnJ2Q29uZmlnLkNhc2NhZGVGaWx0ZXJWYWx1ZXM7XHJcblx0XHRcdGlmICh0aGlzLnJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljIHx8IGlzQ2FzY2FkaW5nRGlzYWJsZWQpIHtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGFsbEZpbHRlcnMgPSB0aGlzLmdldEZpbHRlcnMoKTtcclxuXHRcdFx0Ly8gVE9ETzogY2hhbmdlIHRvOiBjb25zdCBmaWx0ZXJzVG9SZWZyZXNoID0gYWxsRmlsdGVycy5maWx0ZXIoKGYsIGZpKSA9PiB7Li4ufSk7XHJcblx0XHRcdGxldCBmaWx0ZXJzVG9SZWZyZXNoO1xyXG5cdFx0XHRpZiAoZmlsdGVyKSB7XHJcblx0XHRcdFx0Y29uc3QgaWR4ID0gYWxsRmlsdGVycy5pbmRleE9mKGZpbHRlcik7XHJcblx0XHRcdFx0aWYgKGlkeCA8IDApXHJcblx0XHRcdFx0XHR0aHJvdyBgRmlsdGVyICR7ZmlsdGVyLmZpZWxkICE9PSBudWxsID8gZmlsdGVyLmZpZWxkLnN5c25hbWUgKyAnICcgOiAnJ31pc24ndCBmb3VuZCBpbiByZXBvcnQgc2V0IGZpbHRlcnMgY29sbGVjdGlvbi5gO1xyXG5cdFx0XHRcdGZpbHRlcnNUb1JlZnJlc2ggPSBhbGxGaWx0ZXJzLnNsaWNlKGlkeCArIDEpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZpbHRlcnNUb1JlZnJlc2ggPSBhbGxGaWx0ZXJzLnNsaWNlKDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjYXNjYWRpbmcgZmlsdGVycyB1cGRhdGVcclxuXHRcdFx0aWYgKGZpbHRlcnNUb1JlZnJlc2gubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGNvbnN0IHJlZnJlc2hpbmdGaWx0ZXIgPSBmaWx0ZXJzVG9SZWZyZXNoWzBdO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhyZWZyZXNoaW5nRmlsdGVyKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKHJlZnJlc2hpbmdGaWx0ZXIpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHQvLyB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgbWFya0FsbEZpbHRlcnNBc1JlZnJlc2hpbmcoZmFsc2UpOyBoZXJlLCBiZWNhdXNlIHRoZSBsYXN0IHRpbWUgd2hlbiB0aGF0IGZ1bmN0aW9uXHJcblx0XHRcdFx0XHRcdC8vIHdpbGwgYmUgY2FsbGVkIC0gaXQgd2lsbCBnbyB0aHJvdWdoIHRoZSBcImVsc2VcIiBjb25kaXRpb24uXHJcblx0XHRcdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgZmlsdGVyIG9iamVjdCB3aXRob3V0IGxvYWRpbmcgaXRzIGZvcm1hdC5cclxuXHQgKi9cclxuXHRwcml2YXRlIGNyZWF0ZU5ld0ZpbHRlckJhc2UoZmllbGRTeXNOYW1lLCBvcGVyYXRvck5hbWUsIHZhbHVlcywgcmVxdWlyZWQsIGRlc2NyaXB0aW9uLCBwYXJhbWV0ZXIsIGN1c3RvbVBvcHVwVGVtcGxhdGVVcmwpIHtcclxuXHRcdGNvbnN0IGZpbHRlck9iamVjdCA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCB0aGlzLiRpbmplY3Rvci5nZXQoJ2l6ZW5kYUZpbHRlck9iamVjdERlZmF1bHRzJykpO1xyXG5cdFx0Ly8gc2V0IGZpZWxkXHJcblx0XHRsZXQgZmllbGQ7XHJcblx0XHRpZiAoZmllbGRTeXNOYW1lICYmIGZpZWxkU3lzTmFtZS5pbmRleE9mKCdmbGRJZHwnKSA9PT0gMCkge1xyXG5cdFx0XHRmaWVsZCA9IHRoaXMuZ2V0Q2FsY0ZpZWxkKGZpZWxkU3lzTmFtZSk7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0ZmllbGQgPSB0aGlzLmdldEZpZWxkQnlTeXNOYW1lKGZpZWxkU3lzTmFtZSk7XHJcblx0XHR3aGlsZSAoZmllbGQgJiYgZmllbGQubWNBbmNlc3RvcilcclxuXHRcdFx0ZmllbGQgPSBmaWVsZC5tY0FuY2VzdG9yO1xyXG5cclxuXHRcdGZpbHRlck9iamVjdC5maWVsZCA9IGZpZWxkO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlcykpIHtcclxuXHRcdFx0ZmlsdGVyT2JqZWN0LnZhbHVlcyA9IHZhbHVlcztcclxuXHRcdFx0aWYgKG9wZXJhdG9yTmFtZSA9PT0gJ0VxdWFsc19BdXRvY29tcGxldGUnKVxyXG5cdFx0XHRcdGZpbHRlck9iamVjdC52YWx1ZXMgPSBbdmFsdWVzLmpvaW4oJywnKV07XHJcblx0XHR9XHJcblx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQocmVxdWlyZWQpKVxyXG5cdFx0XHRmaWx0ZXJPYmplY3QucmVxdWlyZWQgPSByZXF1aXJlZDtcclxuXHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChkZXNjcmlwdGlvbikpXHJcblx0XHRcdGZpbHRlck9iamVjdC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHBhcmFtZXRlcikpXHJcblx0XHRcdGZpbHRlck9iamVjdC5wYXJhbWV0ZXIgPSBwYXJhbWV0ZXI7XHJcblx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQob3BlcmF0b3JOYW1lKSlcclxuXHRcdFx0ZmlsdGVyT2JqZWN0Lm9wZXJhdG9yU3RyaW5nID0gb3BlcmF0b3JOYW1lO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN1c3RvbVBvcHVwVGVtcGxhdGVVcmwpKVxyXG5cdFx0XHRmaWx0ZXJPYmplY3QuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCA9IGN1c3RvbVBvcHVwVGVtcGxhdGVVcmw7XHJcblx0XHRyZXR1cm4gZmlsdGVyT2JqZWN0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBwb3NzaWJsZSBmb3JtYXRzIGNvbGxlY3Rpb24gYW5kIHNldCBmb3JtYXQgZm9yIGZpbHRlciBzdHJpbmcgaW4gZGVzY3JpcHRpb24uXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IGZpbHRlci4gRmlsdGVyIG9iamVjdCAoZmllbGQgbXVzdCBtZSBzZXQgdG8gYXBwbHkgZm9ybWF0KVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZUZvcm1hdE5hbWUuIEZvcm1hdCBvYmplY3QgdmFsdWVcclxuXHQgKiBAcmV0dXJucyB7YW5ndWxhciBwcm9taXNlfS4gUHJvbWlzZSBwYXJhbWV0ZXI6IGZpbHRlciBvYmplY3QuIFxyXG5cdCAqL1xyXG5cdGxvYWRGaWx0ZXJGb3JtYXRzKGZpbHRlciwgdGl0bGVGb3JtYXROYW1lKSB7XHJcblx0XHQvLyBsb2FkIGFuZCBzZXQgZmlsdGVyIGZvcm1hdDpcclxuXHRcdGxldCBmaWx0ZXJGb3JtYXROYW1lVG9BcHBseSA9IHRoaXMuZW1wdHlGaWVsZEZvcm1hdE9wdGlvbi52YWx1ZTtcclxuXHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHRpdGxlRm9ybWF0TmFtZSkgJiYgdGl0bGVGb3JtYXROYW1lICE9PSAnJylcclxuXHRcdFx0ZmlsdGVyRm9ybWF0TmFtZVRvQXBwbHkgPSB0aXRsZUZvcm1hdE5hbWU7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmIChmaWx0ZXIuZmllbGQpIHtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldEZpbHRlckZvcm1hdHMoZmlsdGVyKS50aGVuKHJldHVybk9iaiA9PiB7XHJcblx0XHRcdFx0XHRmaWx0ZXIudGl0bGVGb3JtYXRzID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuY29udmVydE9wdGlvbnNCeVBhdGgocmV0dXJuT2JqKTtcclxuXHRcdFx0XHRcdGZpbHRlci50aXRsZUZvcm1hdCA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmlsdGVyLnRpdGxlRm9ybWF0cywgZmlsdGVyRm9ybWF0TmFtZVRvQXBwbHkpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgbmV3IGZpbHRlciBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlc1xyXG5cdCAqL1xyXG5cdGNyZWF0ZU5ld0ZpbHRlcihmaWVsZFN5c05hbWUsIG9wZXJhdG9yTmFtZSwgdmFsdWVzLCByZXF1aXJlZCwgZGVzY3JpcHRpb24sIHBhcmFtZXRlciwgdGl0bGVGb3JtYXROYW1lLCBjdXN0b21Qb3B1cFRlbXBsYXRlVXJsKSB7XHJcblx0XHRjb25zdCBmaWx0ZXJPYmplY3QgPSB0aGlzLmNyZWF0ZU5ld0ZpbHRlckJhc2UoZmllbGRTeXNOYW1lLCBvcGVyYXRvck5hbWUsIHZhbHVlcywgcmVxdWlyZWQsXHJcblx0XHRcdGRlc2NyaXB0aW9uLCBwYXJhbWV0ZXIsIGN1c3RvbVBvcHVwVGVtcGxhdGVVcmwpO1xyXG5cdFx0ZmlsdGVyT2JqZWN0LmlzRmlsdGVyUmVhZHkgPSB0cnVlO1xyXG5cdFx0cmV0dXJuIHRoaXMubG9hZEZpbHRlckZvcm1hdHMoZmlsdGVyT2JqZWN0LCB0aXRsZUZvcm1hdE5hbWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVsZXRlIGZpbHRlciBmcm9tIGNvbGxlY3Rpb25cclxuXHQgKi9cclxuXHRyZW1vdmVGaWx0ZXIoZmlsdGVyKSB7XHJcblx0XHRjb25zdCBpbmRleCA9IHRoaXMucmVwb3J0U2V0LmZpbHRlcnMuaW5kZXhPZihmaWx0ZXIpO1xyXG5cdFx0aWYgKGluZGV4ID49IDApIHtcclxuXHRcdFx0dGhpcy5yZXBvcnRTZXQuZmlsdGVyc1tpbmRleF0uZmllbGQgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnJlcG9ydFNldC5maWx0ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTd2FwIGZpbHRlclxyXG5cdCAqL1xyXG5cdHN3YXBGaWx0ZXJzKGluZGV4MCwgaW5kZXgxKSB7XHJcblx0XHRjb25zdCBmaWx0ZXJzID0gdGhpcy5yZXBvcnRTZXQuZmlsdGVycztcclxuXHRcdGNvbnN0IHRlbXAgPSBmaWx0ZXJzW2luZGV4MF07XHJcblx0XHRmaWx0ZXJzW2luZGV4MF0gPSBmaWx0ZXJzW2luZGV4MV07XHJcblx0XHRmaWx0ZXJzW2luZGV4MV0gPSB0ZW1wO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW92ZSBmaWx0ZXIgZnJvbSBwb3NpdGlvbiB0byBwb3NpdGlvblxyXG5cdCAqL1xyXG5cdG1vdmVGaWx0ZXJUbyhmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdHRoaXMucmVwb3J0U2V0LmZpbHRlcnMuc3BsaWNlKHRvSW5kZXgsIDAsIHRoaXMucmVwb3J0U2V0LmZpbHRlcnMuc3BsaWNlKGZyb21JbmRleCwgMSlbMF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgY3VycmVudCBhY3RpdmUgdGFibGVzIGFuZCByZW1vdmUgZmlsdGVycyB3aGljaCBjb25uZWN0ZWQgdG8gbm9uLWFjdGl2ZSBmaWVsZHNcclxuXHQgKi9cclxuXHRzeW5jRmlsdGVycygpIHtcclxuXHRcdGNvbnN0IGFGaWVsZHMgPSB0aGlzLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKHRydWUpO1xyXG5cdFx0Y29uc3QgZmlsdGVycyA9IHRoaXMuZ2V0RmlsdGVycygpO1xyXG5cclxuXHRcdC8vIGZpbmQgZmlsdGVycyB0byByZW1vdmVcclxuXHRcdHZhciBmaWx0ZXJzVG9SZW1vdmUgPSBbXTtcclxuXHRcdGZpbHRlcnMuZm9yRWFjaChmaWx0ZXIgPT4ge1xyXG5cdFx0XHRjb25zdCBpc0ZpbHRlckFjdGl2ZSA9IGFGaWVsZHNcclxuXHRcdFx0XHQuc29tZShhY3RpdmVGaWVsZCA9PiBmaWx0ZXIuZmllbGQgPT09IG51bGwgfHwgYWN0aXZlRmllbGQuc3lzbmFtZSA9PT0gZmlsdGVyLmZpZWxkLnN5c25hbWUpO1xyXG5cdFx0XHRpZiAoIWlzRmlsdGVyQWN0aXZlKVxyXG5cdFx0XHRcdGZpbHRlcnNUb1JlbW92ZS5wdXNoKGZpbHRlcik7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyByZW1vdmUgZmlsdGVyc1xyXG5cdFx0ZmlsdGVyc1RvUmVtb3ZlLmZvckVhY2goZiA9PiB0aGlzLnJlbW92ZUZpbHRlcihmKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGN1c3RvbSB0ZW1wbGF0ZSBmb3IgcG9wdXAgZmlsdGVyLlxyXG5cdCAqL1xyXG5cdGdldFBvcHVwRmlsdGVyQ3VzdG9tVGVtcGxhdGUoZmlsdGVyKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBmaWx0ZXIuZmllbGQ7XHJcblx0XHRcdGlmICghZmlsdGVyLmZpZWxkKSB7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCB0YWJsZSA9IHRoaXMuZ2V0VGFibGVCeUlkKGZpZWxkLnBhcmVudElkKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRFeGlzdGVudFBvcHVwVmFsdWVzTGlzdChmaWVsZCwgdGFibGUpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0aWYgKGRhdGEudXNlcnBhZ2UgIT0gbnVsbClcclxuXHRcdFx0XHRcdGZpbHRlci5jdXN0b21Qb3B1cFRlbXBsYXRlVXJsID0gZGF0YS51c2VycGFnZTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRmaWx0ZXIuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCA9IG51bGw7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBmaWVsZCBvcHRpb25zXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmaWVsZCBmdW5jdGlvbiBhbmQgYXBwbHkgZ3JvdXAgYnkgZnVuY3Rpb24gdG8gZmllbGRcclxuXHQgKi9cclxuXHRsb2FkRmllbGRGdW5jdGlvbnMoZmllbGQsIGRlZmF1bHRHcm91cFN0cmluZykge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGxldCBncm91cFRvQXBwbHkgPSBhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRHcm91cFN0cmluZykgJiYgZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0PyBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHQ6ICdOT05FJztcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZVxyXG5cdFx0XHRcdC5nZXRGaWVsZEZ1bmN0aW9ucyhmaWVsZCwgZmllbGQuaXNQaXZvdENvbHVtbiA/ICdwaXZvdEZpZWxkJyA6ICdmaWVsZCcpXHJcblx0XHRcdFx0LnRoZW4ocmV0dXJuT2JqID0+IHtcclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMgPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5jb252ZXJ0T3B0aW9uc0J5UGF0aChyZXR1cm5PYmopO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGlzU2ltcGxlR3JvdXBGdW5jdGlvbiA9IGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMubGVuZ3RoID09PSAyXHJcblx0XHRcdFx0XHRcdCYmIGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnNbMF0udmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ25vbmUnXHJcblx0XHRcdFx0XHRcdCYmIGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnNbMV0udmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ2dyb3VwJztcclxuXHRcdFx0XHRcdGlmIChpc1NpbXBsZUdyb3VwRnVuY3Rpb24gJiYgZ3JvdXBUb0FwcGx5LnRvTG93ZXJDYXNlKCkgPT09ICdub25lJylcclxuXHRcdFx0XHRcdFx0Z3JvdXBUb0FwcGx5ID0gJ0dST1VQJztcclxuXHJcblx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb24gPSB0aGlzLmdldEdyb3VwQnlWYWx1ZShmaWVsZCwgZ3JvdXBUb0FwcGx5KTtcclxuXHRcdFx0XHRcdC8vIGlmIGdyb3VwIGxpc3Qgd2FzIGNoYW5nZWQgYW5kIGN1cnJlbnQgZ3JvdXAgZnVuY3Rpb24gbm90IGluIGxpc3RcclxuXHRcdFx0XHRcdGlmIChmaWVsZC5ncm91cEJ5RnVuY3Rpb24gPT09IG51bGwpXHJcblx0XHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9IHRoaXMuZ2V0R3JvdXBCeVZhbHVlKGZpZWxkLCAnTk9ORScpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWVsZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgU3VidG90YWwgZmllbGQgZnVuY3Rpb24gYW5kIGFwcGx5IFN1YnRvdGFsIGdyb3VwIGJ5IGZ1bmN0aW9uIHRvIGZpZWxkXHJcblx0ICovXHJcblx0bG9hZFN1YnRvdGFsRmllbGRGdW5jdGlvbnMoZmllbGQsIGRlZmF1bHRHcm91cFN0cmluZykge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IGdyb3VwVG9BcHBseSA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdEdyb3VwU3RyaW5nKSAmJiBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHQ/IGRlZmF1bHRHcm91cFN0cmluZ1xyXG5cdFx0XHRcdDogJ0RFRkFVTFQnO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlXHJcblx0XHRcdFx0LmdldEZpZWxkRnVuY3Rpb25zKGZpZWxkLCAnc3VidG90YWwnKVxyXG5cdFx0XHRcdC50aGVuKHJldHVybk9iaiA9PiB7XHJcblx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbk9wdGlvbnMgPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5jb252ZXJ0T3B0aW9uc0J5UGF0aChyZXR1cm5PYmopO1xyXG5cdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24gPSB0aGlzLmdldEdyb3VwQnlTdWJ0b3RhbFZhbHVlKGZpZWxkLCBncm91cFRvQXBwbHkpO1xyXG5cdFx0XHRcdFx0Ly8gaWYgZ3JvdXAgbGlzdCB3YXMgY2hhbmdlZCBhbmQgY3VycmVudCBncm91cCBmdW5jdGlvbiBub3QgaW4gbGlzdFxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uID09PSBudWxsKVxyXG5cdFx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb24gPSB0aGlzLmdldEdyb3VwQnlTdWJ0b3RhbFZhbHVlKGZpZWxkLCAnREVGQVVMVCcpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWVsZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZ3JvdXAgZnVuY3Rpb25zIHRvIGZpZWxkXHJcblx0ICovXHJcblx0bG9hZEdyb3VwRnVuY3Rpb25zQW5kRm9ybWF0c1RvRmllbGQoZmllbGQsIGRlZmF1bHRHcm91cFN0cmluZz8sIGRlZmF1bHRGb3JtYXRTdHJpbmc/LCBkZWZhdWx0U3VidG90YWxHcm91cFN0cmluZz8pIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCBncm91cFRvQXBwbHkgPSBhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRHcm91cFN0cmluZykgJiYgZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0PyBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHQ6ICdOT05FJztcclxuXHRcdFx0Y29uc3QgZ3JvdXBTdWJ0b3RhbFRvQXBwbHkgPSBhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRTdWJ0b3RhbEdyb3VwU3RyaW5nKSAmJiBkZWZhdWx0U3VidG90YWxHcm91cFN0cmluZ1xyXG5cdFx0XHRcdD8gZGVmYXVsdFN1YnRvdGFsR3JvdXBTdHJpbmdcclxuXHRcdFx0XHQ6ICdERUZBVUxUJztcclxuXHJcblx0XHRcdGlmICh0aGlzLmlzQmluYXJ5RmllbGQoZmllbGQpKSB7XHJcblx0XHRcdFx0Ly8gaWYgZmllbGQgdHlwZSBkb2Vzbid0IHN1cHBvcnQgZ3JvdXAgYnkuXHJcblx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucyA9IFt0aGlzLmVtcHR5RmllbGRHcm91cE9wdGlvbl07XHJcblx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcy5lbXB0eUZpZWxkR3JvdXBPcHRpb247XHJcblx0XHRcdFx0ZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb25PcHRpb25zID0gW3RoaXMuZW1wdHlTdWJ0b3RhbEZpZWxkR3JvdXBPcHRpb25zXTtcclxuXHRcdFx0XHRmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbiA9IHRoaXMuZW1wdHlTdWJ0b3RhbEZpZWxkR3JvdXBPcHRpb25zO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRmllbGRGb3JtYXRzKGZpZWxkLCBkZWZhdWx0Rm9ybWF0U3RyaW5nKS50aGVuKGYgPT4gcmVzb2x2ZShmKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gZ2V0IGZpZWxkIGFuZCBTdWJ0b3RhbCBmdW5jdGlvbnMgZnJvbSBzZXJ2ZXIgb3IgcmVxdWVzdCBjYWNoZTpcclxuXHRcdFx0XHRjb25zdCBmdW5jdGlvblByb21pc2UgPSB0aGlzLmxvYWRGaWVsZEZ1bmN0aW9ucyhmaWVsZCwgZ3JvdXBUb0FwcGx5KTtcclxuXHRcdFx0XHRjb25zdCBzdWJ0b3RhbFByb21pc2UgPSB0aGlzLmxvYWRTdWJ0b3RhbEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBncm91cFN1YnRvdGFsVG9BcHBseSk7XHJcblx0XHRcdFx0dGhpcy4kcVxyXG5cdFx0XHRcdFx0LmFsbChbZnVuY3Rpb25Qcm9taXNlLCBzdWJ0b3RhbFByb21pc2VdKVxyXG5cdFx0XHRcdFx0LnRoZW4oKCkgPT5cclxuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVGaWVsZEZvcm1hdHMoZmllbGQsIGRlZmF1bHRGb3JtYXRTdHJpbmcpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oKCkgPT5cclxuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoZmllbGQpKSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmllbGQgaW5pdGlhbGl6YXRpb24gKGFzeW5jOiByZXR1cm5zIHByb21pc2UpXHJcblx0ICovXHJcblx0aW5pdGlhbGl6ZUZpZWxkKGZpZWxkKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKGZpZWxkLmlzSW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHRyZXNvbHZlKGZpZWxkKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGxvYWQgZ3JvdXAgYW5kIGZvcm1hdCBjb2xsZWN0aW9uczpcclxuXHRcdFx0dGhpcy5sb2FkR3JvdXBGdW5jdGlvbnNBbmRGb3JtYXRzVG9GaWVsZChmaWVsZCkudGhlbigoZjogYW55KSA9PiB7XHJcblx0XHRcdFx0Zi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHRyZXNvbHZlKGYpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgZmllbGQgd2hpY2ggd2UgYXJlIGVkaXRpbmcgbm93LlxyXG5cdCAqL1xyXG5cdGdldEN1cnJlbnRBY3RpdmVGaWVsZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRBY3RpdmVGaWVsZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBjdXJyZW50IGZpZWxkIGZvciBlZGl0aW5nIGl0LlxyXG5cdCAqL1xyXG5cdHNldEN1cnJlbnRBY3RpdmVGaWVsZChmaWVsZCkge1xyXG5cdFx0dGhpcy5jdXJyZW50QWN0aXZlRmllbGQgPSBmaWVsZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhdXRvIGRlc2NyaXB0aW9uLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2VuZXJhdGVEZXNjcmlwdGlvbihmaWVsZCkge1xyXG5cdFx0aWYgKHRoaXMuaXNGaWVsZEdyb3VwZWQoZmllbGQpICYmIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpICE9PSAnZ3JvdXAnKVxyXG5cdFx0XHRyZXR1cm4gZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnRleHQgKyAnICgnICsgdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaHVtYW5pemVWYXJpYWJsZU5hbWUoZmllbGQubmFtZSkgKyAnKSc7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5odW1hbml6ZVZhcmlhYmxlTmFtZShmaWVsZC5uYW1lKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBhZ2dyZWdhdGUgZnVuY3Rpb24gZm9yIGZpZWxkLlxyXG5cdCAqL1xyXG5cdG9uRmllbGRGdW5jdGlvbkFwcGxpZWQoZmllbGQpIHtcclxuXHRcdC8vIGRvIG5vdCBjaGFuZ2UgZm9ybWF0IGZvciBtYXgsIG1pbiwgc3VtIGFuZCBzdW0gZGlzdGluY3RcclxuXHRcdGlmICh0aGlzLmlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHR0aGlzLmFwcGx5QXV0b0dyb3VwcygpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5yZXNldEF1dG9Hcm91cHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCk7XHJcblxyXG5cdFx0Ly8gYXV0byB1cGRhdGUgZGVzY3JpcHRpb25cclxuXHRcdHRoaXMuYXV0b1VwZGF0ZUZpZWxkRGVzY3JpcHRpb24oZmllbGQpO1xyXG5cclxuXHRcdHRoaXMuc3luY0NhbGNGaWVsZHNBcnJheSgpO1xyXG5cclxuXHRcdC8vIHZhbGlkYXRlXHJcblx0XHR0aGlzLnZhbGlkYXRlUmVwb3J0KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgZnVuY3Rpb25zLCBmb3JtYXRzIGFmdGVyIGV4cHJlc3Npb24gdHlwZWdyb3VwIHdhcyBjaGFuZ2VkXHJcblx0ICovXHJcblx0b25FeHByZXNzaW9uVHlwZUdyb3VwQXBwbGllZChmaWVsZCkge1xyXG5cdFx0dGhpcy5sb2FkR3JvdXBGdW5jdGlvbnNBbmRGb3JtYXRzVG9GaWVsZChmaWVsZCwgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlLCBmaWVsZC5mb3JtYXQudmFsdWUsIGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uLnZhbHVlKVxyXG5cdFx0XHQudGhlbigoKSA9PiB0aGlzLnN5bmNDYWxjRmllbGRzQXJyYXkoKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgY2FsYyBmaWVsZHMgY29sbGVjdGlvbiB3aGVuIGV4cHJlc3Npb24gd2FzIGNoYW5nZWQuXHJcblx0ICogQHBhcmFtIHthbnl9IGZpZWxkIC0gdGFyZ2V0IGZpZWxkLlxyXG5cdCAqL1xyXG5cdG9uRXhwcmVzc2lvbkFwcGxpZWQoKSB7XHJcblx0XHR0aGlzLnN5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBVaSBhbmQgc2hvdyBwcmV2aWV3XHJcblx0ICovXHJcblx0dXBkYXRlVWlTdGF0ZUFuZFJlZnJlc2hQcmV2aWV3KCkge1xyXG5cdFx0Ly8gcmVtb3ZlIGRyaWxsZG93bnMgd2hpY2ggYXJlIG5vdCBpbiBhY3RpdmUgdGFibGVzXHJcblx0XHR0aGlzLnVwZGF0ZURyaWxsZG93bnMoKTtcclxuXHJcblx0XHQvLyB1cGRhdGUgcGl2b3Qgc3RhdGVcclxuXHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uuc3luY1Bpdm90U3RhdGUodGhpcy5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcygpKTtcclxuXHJcblx0XHQvLyB1cGRhdGUgZmlsdGVycyBzdGF0ZVxyXG5cdFx0dGhpcy5zeW5jRmlsdGVycygpO1xyXG5cclxuXHRcdC8vIGFwcGx5L3Jlc2V0IGF1dG9ncm91cHNcclxuXHRcdGlmICh0aGlzLmdldEFjdGl2ZVRhYmxlcygpLmxlbmd0aCA9PT0gMCB8fCB0aGlzLmlzQWN0aXZlRmllbGRzQ29udGFpbnNCaW5hcnkoKSkge1xyXG5cdFx0XHR0aGlzLnJlc2V0QXV0b0dyb3VwcygpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5hcHBseUF1dG9Hcm91cHMoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpcmVzIHdoZW4gdXNlciBjaGVjay91bmNoZWNrIGZpZWxkXHJcblx0ICovXHJcblx0YXBwbHlGaWVsZENoZWNrZWQoZmllbGQsIHZhbHVlLCByZXN0cmljdFRhYmxlVW5jaGVjaykge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmICghZmllbGQuZW5hYmxlZCkge1xyXG5cdFx0XHRcdHRoaXMudmFsaWRhdGVSZXBvcnQoKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZpZWxkLmNoZWNrZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6ICFmaWVsZC5jaGVja2VkO1xyXG5cdFx0XHRmaWVsZC5vcmRlciA9IHRoaXMuZ2V0TmV4dE9yZGVyKCk7XHJcblxyXG5cdFx0XHQvLyB1cGRhdGUgc3RhdGUgb2YgZGF0YXNvdXJjZXMgdHJlZVxyXG5cdFx0XHR0aGlzLnVwZGF0ZVBhcmVudEZvbGRlcnNBbmRUYWJsZXMoZmllbGQsIGZhbHNlLCByZXN0cmljdFRhYmxlVW5jaGVjayk7XHJcblxyXG5cdFx0XHR0aGlzLmluaXRpYWxpemVGaWVsZChmaWVsZCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVVaVN0YXRlQW5kUmVmcmVzaFByZXZpZXcoKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QvdW5zZWxlY3QgZmllbGRcclxuXHQgKi9cclxuXHRhcHBseUZpZWxkU2VsZWN0ZWQoZmllbGQsIHZhbHVlKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmllbGQpKSB7XHJcblx0XHRcdHRoaXMudW5zZWxlY3RBbGxGaWVsZHMoKTtcclxuXHRcdFx0dGhpcy5zZXRDdXJyZW50QWN0aXZlRmllbGQobnVsbCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICghZmllbGQuZW5hYmxlZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKGZpZWxkLmlzTXVsdGlwbGVDb2x1bW5zKSB7XHJcblx0XHRcdGZpZWxkLmNvbGxhcHNlZCA9ICFmaWVsZC5jb2xsYXBzZWQ7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMudW5zZWxlY3RBbGxGaWVsZHMoKTtcclxuXHRcdHRoaXMuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKG51bGwpO1xyXG5cdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdHRoaXMuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKGZpZWxkKTtcclxuXHRcdFx0ZmllbGQuc2VsZWN0ZWQgPSB2YWx1ZTtcclxuXHRcdFx0dGhpcy5pbml0aWFsaXplRmllbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2svdW5jaGVjayB0YWJsZVxyXG5cdCAqL1xyXG5cdGFwcGx5VGFibGVBY3RpdmUodGFibGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCB1cGRhdGVBbmRSZXNvbHZlID0gKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlUGFyZW50Rm9sZGVycyh0YWJsZSk7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVVaVN0YXRlQW5kUmVmcmVzaFByZXZpZXcoKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpZiAoIXRhYmxlLmVuYWJsZWQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dGFibGUuYWN0aXZlID0gIXRhYmxlLmFjdGl2ZTtcclxuXHRcdFx0dGFibGUub3JkZXIgPSB0aGlzLmdldE5leHRPcmRlcigpO1xyXG5cclxuXHRcdFx0aWYgKCF0YWJsZS5hY3RpdmUpIHtcclxuXHRcdFx0XHQvLyBkZWFjdGl2YXRlIGFsbCB0YWJsZSBmaWVsZHNcclxuXHRcdFx0XHR0YWJsZS5maWVsZHMuZm9yRWFjaChmID0+IGYuY2hlY2tlZCA9IGZhbHNlKTtcclxuXHRcdFx0XHR1cGRhdGVBbmRSZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHRhYmxlIGFjdGl2YXRlZFxyXG5cdFx0XHRpZiAodGFibGUubGF6eSkge1xyXG5cdFx0XHRcdC8vIGxvYWQgbGF6eSBmaWVsZHNcclxuXHRcdFx0XHR0aGlzLmxvYWRMYXp5RmllbGRzKHRhYmxlKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHVwZGF0ZUFuZFJlc29sdmUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR1cGRhdGVBbmRSZXNvbHZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwcmVwYXJlUGFyZW50RmllbGRGb3JNdWx0aXBsZUZpZWxkcyhmaWVsZCkge1xyXG5cdFx0bGV0IHBhcmVudEZpZWxkID0gZmllbGQ7XHJcblx0XHRpZiAocGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHQvLyBpZiBmaWVsZCBoYXMgbm8gbXVsdGlwbGUgZmllbGRzOlxyXG5cdFx0XHRjb25zdCBjb3B5RmllbGQgPSBhbmd1bGFyLmNvcHkoZmllbGQpIGFzIGFueTtcclxuXHRcdFx0cGFyZW50RmllbGQgPSBjb3B5RmllbGQ7XHJcblx0XHRcdGNvcHlGaWVsZC5tY0FuY2VzdG9yID0gZmllbGQ7XHJcblx0XHRcdGNvcHlGaWVsZC5vcmlnaW5JZCA9IGZpZWxkLmlkO1xyXG5cdFx0XHRjb3B5RmllbGQuaXNNdWx0aXBsZUNvbHVtbnMgPSB0cnVlO1xyXG5cdFx0XHRjb3B5RmllbGQubXVsdGlwbGVDb2x1bW5zQ291bnRlciA9IDE7XHJcblx0XHRcdGNvcHlGaWVsZC5tdWx0aXBsZUNvbHVtbnMucHVzaChmaWVsZCk7XHJcblx0XHRcdGNvbnN0IHRhYmxlID0gdGhpcy5nZXRUYWJsZUJ5SWQoZmllbGQucGFyZW50SWQpO1xyXG5cdFx0XHRjb25zdCBmaWVsZEluZGV4ID0gdGFibGUuZmllbGRzLmluZGV4T2YoZmllbGQpO1xyXG5cdFx0XHR0YWJsZS5maWVsZHNbZmllbGRJbmRleF0gPSBjb3B5RmllbGQ7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFyZW50RmllbGQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVhZHktdG8tdXNlIGFub3RoZXIgZmllbGQgKG5vIG5lZWQgdG8gY2xvbmUgcGFyZW50IGZpZWxkKVxyXG5cdCAqL1xyXG5cdGFkZEV4YWN0QW5vdGhlckZpZWxkKGZpZWxkLCBhbm90aGVyRmllbGRQcm9wZXJ0aWVzKSB7XHJcblx0XHRjb25zdCBhbm90aGVyRmllbGQgPSB0aGlzLmNyZWF0ZUZpZWxkT2JqZWN0SW5uZXIoYW5vdGhlckZpZWxkUHJvcGVydGllcyk7XHJcblx0XHQvLyBhZGQgdG8gcGFyZW50IGZpZWxkLlxyXG5cdFx0Y29uc3QgcGFyZW50RmllbGQgPSB0aGlzLnByZXBhcmVQYXJlbnRGaWVsZEZvck11bHRpcGxlRmllbGRzKGZpZWxkKTtcclxuXHRcdHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1ucy5wdXNoKGFub3RoZXJGaWVsZCk7XHJcblx0XHRwYXJlbnRGaWVsZC5tdWx0aXBsZUNvbHVtbnNDb3VudGVyKys7XHJcblx0XHRhbm90aGVyRmllbGQucGFyZW50RmllbGRJZCA9IHBhcmVudEZpZWxkLmlkO1xyXG5cdFx0YW5vdGhlckZpZWxkLnBhcmVudElkID0gcGFyZW50RmllbGQucGFyZW50SWQ7XHJcblx0XHRhbm90aGVyRmllbGQubmFtZSA9IHBhcmVudEZpZWxkLm5hbWUgKyBwYXJlbnRGaWVsZC5tdWx0aXBsZUNvbHVtbnNDb3VudGVyO1xyXG5cdFx0YW5vdGhlckZpZWxkLnRhYmxlU3lzbmFtZSA9IHBhcmVudEZpZWxkLnRhYmxlU3lzbmFtZTtcclxuXHRcdGFub3RoZXJGaWVsZC50YWJsZU5hbWUgPSBwYXJlbnRGaWVsZC50YWJsZU5hbWU7XHJcblx0XHRhbm90aGVyRmllbGQuc3lzbmFtZSA9IHBhcmVudEZpZWxkLnN5c25hbWU7XHJcblx0XHRhbm90aGVyRmllbGQudHlwZUdyb3VwID0gcGFyZW50RmllbGQudHlwZUdyb3VwO1xyXG5cdFx0YW5vdGhlckZpZWxkLnR5cGUgPSBwYXJlbnRGaWVsZC50eXBlO1xyXG5cdFx0YW5vdGhlckZpZWxkLnNxbFR5cGUgPSBwYXJlbnRGaWVsZC5zcWxUeXBlO1xyXG5cdFx0YW5vdGhlckZpZWxkLmFsbG93ZWRJbkZpbHRlcnMgPSBwYXJlbnRGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzO1xyXG5cdFx0YW5vdGhlckZpZWxkLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSA9IHRydWU7XHJcblx0XHRyZXR1cm4gYW5vdGhlckZpZWxkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIG1vcmUgdGhhbiBvbmUgc2FtZSBmaWVsZCB0byByZXBvcnRcclxuXHQgKi9cclxuXHRhZGRBbm90aGVyRmllbGQoZmllbGQsIG5lZWRUb1NlbGVjdCkge1xyXG5cdFx0Y29uc3QgcGFyZW50RmllbGQgPSB0aGlzLnByZXBhcmVQYXJlbnRGaWVsZEZvck11bHRpcGxlRmllbGRzKGZpZWxkKTtcclxuXHJcblx0XHQvLyBhZGQgYW5vdGhlciBmaWVsZCB0byBwYXJlbnRGaWVsZFxyXG5cdFx0cGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zQ291bnRlcisrO1xyXG5cdFx0Y29uc3QgYW5vdGhlckZpZWxkID0gdGhpcy5jcmVhdGVGaWVsZE9iamVjdChwYXJlbnRGaWVsZC5uYW1lICsgcGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zQ291bnRlciwgcGFyZW50RmllbGQucGFyZW50SWQsXHJcblx0XHRcdHBhcmVudEZpZWxkLnRhYmxlU3lzbmFtZSwgcGFyZW50RmllbGQudGFibGVOYW1lLCBwYXJlbnRGaWVsZC5zeXNuYW1lLCBwYXJlbnRGaWVsZC50eXBlR3JvdXAsXHJcblx0XHRcdHBhcmVudEZpZWxkLnR5cGUsIHBhcmVudEZpZWxkLnNxbFR5cGUsIHBhcmVudEZpZWxkLmFsbG93ZWRJbkZpbHRlcnMsIHBhcmVudEZpZWxkLmlzU3BQYXJhbWV0ZXIpO1xyXG5cdFx0aWYgKHBhcmVudEZpZWxkLmRlc2NyaXB0aW9uKVxyXG5cdFx0XHRhbm90aGVyRmllbGQuZGVzY3JpcHRpb24gPSBwYXJlbnRGaWVsZC5kZXNjcmlwdGlvbiArICcgJyArIChwYXJlbnRGaWVsZC5tdWx0aXBsZUNvbHVtbnMubGVuZ3RoICsgMSk7XHJcblx0XHRhbm90aGVyRmllbGQuYWxsb3dlZEluRmlsdGVycyA9IHBhcmVudEZpZWxkLmFsbG93ZWRJbkZpbHRlcnM7XHJcblx0XHRhbm90aGVyRmllbGQub3JkZXIgPSB0aGlzLmdldE5leHRPcmRlcigpO1xyXG5cdFx0YW5vdGhlckZpZWxkLmd1aWQgPSB0aGlzLmd1aWQoKTtcclxuXHRcdGFub3RoZXJGaWVsZC5wYXJlbnRGaWVsZElkID0gcGFyZW50RmllbGQuaWQ7XHJcblxyXG5cdFx0dGhpcy5pbml0aWFsaXplRmllbGQoYW5vdGhlckZpZWxkKS50aGVuKCgpID0+IHtcclxuXHRcdFx0dGhpcy5hcHBseUF1dG9Hcm91cHMoKTtcclxuXHRcdH0pO1xyXG5cdFx0cGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zLnB1c2goYW5vdGhlckZpZWxkKTtcclxuXHJcblx0XHQvLyBzZWxlY3QgaWYgbmVlZGVkXHJcblx0XHRpZiAobmVlZFRvU2VsZWN0KSB7XHJcblx0XHRcdHRoaXMudW5zZWxlY3RBbGxGaWVsZHMoKTtcclxuXHRcdFx0YW5vdGhlckZpZWxkLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5zZXRDdXJyZW50QWN0aXZlRmllbGQoYW5vdGhlckZpZWxkKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gYW5vdGhlckZpZWxkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQXBwbHkgZmllbGQgY29uZmlnIHRvIGZpZWxkXHJcblx0ICovXHJcblx0bG9hZFJlcG9ydEZpZWxkKGZpZWxkLCBmaWVsZENvbmZpZykge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IGZ1bmN0aW9uVmFsdWUgPSBmaWVsZENvbmZpZy5ncm91cEJ5RnVuY3Rpb24udmFsdWU7XHJcblx0XHRcdGNvbnN0IHN1YnRvdGFsRnVuY3Rpb25WYWx1ZSA9IGZpZWxkQ29uZmlnLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uLnZhbHVlO1xyXG5cdFx0XHRjb25zdCBmb3JtYXRWYWx1ZSA9IGZpZWxkQ29uZmlnLmZvcm1hdC52YWx1ZTtcclxuXHRcdFx0YW5ndWxhci5leHRlbmQoZmllbGQsIGZpZWxkQ29uZmlnKTtcclxuXHRcdFx0Ly8gcmVtb3ZlIGNvbHVtbiBncm91cCBmcm9tIGRlc2NyaXB0aW9uOiAnZmllbGQgZGVzY3JpcHRpb25AY29sdW1uIGdyb3VwJ1xyXG5cdFx0XHRpZiAoZmllbGQuZGVzY3JpcHRpb24ubGFzdEluZGV4T2YoJ0AnKSA+IDAgJiYgZmllbGQuY29sdW1uR3JvdXApIHtcclxuXHRcdFx0XHRmaWVsZC5kZXNjcmlwdGlvbiA9IGZpZWxkLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCBmaWVsZC5kZXNjcmlwdGlvbi5sYXN0SW5kZXhPZignQCcpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZmllbGQub3JkZXIgPiB0aGlzLm9yZGVyQ291bnRlcilcclxuXHRcdFx0XHR0aGlzLm9yZGVyQ291bnRlciA9IGZpZWxkLm9yZGVyICsgMTtcclxuXHJcblx0XHRcdGZpZWxkQ29uZmlnLmV4cHJlc3Npb25UeXBlID0gZmllbGRDb25maWcuZXhwcmVzc2lvblR5cGUgfHwgJy4uLic7XHJcblx0XHRcdGNvbnN0IGV4cHJlc3Npb25UeXBlID0gdGhpcy5leHByZXNzaW9uVHlwZXMuZmlyc3RPckRlZmF1bHQoZSA9PiBlLnZhbHVlID09PSBmaWVsZENvbmZpZy5leHByZXNzaW9uVHlwZSk7XHJcblx0XHRcdGlmIChleHByZXNzaW9uVHlwZSlcclxuXHRcdFx0XHRmaWVsZC5leHByZXNzaW9uVHlwZSA9IGV4cHJlc3Npb25UeXBlO1xyXG5cclxuXHRcdFx0dGhpcy5sb2FkR3JvdXBGdW5jdGlvbnNBbmRGb3JtYXRzVG9GaWVsZChmaWVsZCwgZnVuY3Rpb25WYWx1ZSwgZm9ybWF0VmFsdWUsIHN1YnRvdGFsRnVuY3Rpb25WYWx1ZSlcclxuXHRcdFx0XHQudGhlbigoZjogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZmllbGRDb25maWcuZGVzY3JpcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0Ly8gaWYgZGVzY3JpcHRpb24gZGlmZmVycyBmcm9tIHRoZSBkZWZhdWx0IGdlbmVyYXRlZCBkZXNjcmlwdGlvbjogbWFyayBpdCBhcyBcInNldCBtYW51YWxseVwiXHJcblx0XHRcdFx0XHRcdGYuaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZmllbGRDb25maWcuZGVzY3JpcHRpb24gIT09IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihmKTtcclxuXHRcdFx0XHRcdFx0Zi5kZXNjcmlwdGlvbiA9IGZpZWxkQ29uZmlnLmRlc2NyaXB0aW9uO1xyXG5cdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdHRoaXMuYXV0b1VwZGF0ZUZpZWxkRGVzY3JpcHRpb24oZik7XHJcblx0XHRcdFx0XHRmLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0YXBwbHlEZXNjcmlwdGlvbihmaWVsZCkge1xyXG5cdFx0Y29uc3QgYXV0b0Rlc2NyaXB0aW9uID0gdGhpcy5nZW5lcmF0ZURlc2NyaXB0aW9uKGZpZWxkKTtcclxuXHRcdGlmICghZmllbGQuZGVzY3JpcHRpb24pXHJcblx0XHRcdGZpZWxkLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSA9IGZhbHNlO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmaWVsZC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSBmaWVsZC5kZXNjcmlwdGlvbiAhPT0gYXV0b0Rlc2NyaXB0aW9uO1xyXG5cdFx0dGhpcy5zeW5jQ2FsY0ZpZWxkc0FycmF5KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QgZHJpbGxkb3duIGZpZWxkc1xyXG5cdCAqL1xyXG5cdGNvbnZlcnREcmlsbGRvd25GaWVsZE5hbWVzVG9GaWVsZHMoKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50SXRlbSA9IHRoaXMucmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkc1tpXTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoY3VycmVudEl0ZW0pKSB7XHJcblx0XHRcdFx0dGhpcy5yZXBvcnRTZXQuZHJpbGxEb3duRmllbGRzW2ldID0gdGhpcy5nZXRGaWVsZEJ5U3lzTmFtZShjdXJyZW50SXRlbSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbGVjdCBjaGFydHNcclxuXHQgKi9cclxuXHRjb252ZXJ0Q2hhcnROYW1lc1RvQ2hhcnRzKCkge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlcG9ydFNldC5jaGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY2hhcnQgPSB0aGlzLnJlcG9ydFNldC5jaGFydHNbaV07XHJcblx0XHRcdGlmIChjaGFydCAmJiBjaGFydC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpICYmIGNoYXJ0Lmhhc093blByb3BlcnR5KCdjYXRlZ29yeScpKSB7XHJcblx0XHRcdFx0Y29uc3QgdmlzID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlLmZpbmRWaXN1YWxpemF0aW9uKGNoYXJ0LmNhdGVnb3J5LCBjaGFydC5uYW1lKTtcclxuXHRcdFx0XHR2aXMucHJvcGVydGllcyA9IHRoaXMucmVwb3J0U2V0LmNoYXJ0c1tpXS5wcm9wZXJ0aWVzO1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0LmNoYXJ0c1tpXSA9IHZpcztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGxvYWRlZCBmaWx0ZXJzLiByZXBvcnRTZXQuZmlsdGVycyBhdCB0aGlzIHN0YWdlIGlzIG5vdCBpbml0aWFsaXplZFxyXG5cdCAqIGFuZCB3ZSBuZWVkIHRvIHNldCBmaWVsZCwgb3BlcmF0b3IgYW5kIHZhbHVlIG9iamVjdHMuXHJcblx0ICovXHJcblx0bG9hZEZpbHRlcnMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3QgZmlsdGVyT3BlcmF0b3JQcm9taXNlczogYW55W10gPSBbXTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkodGhpcy5yZXBvcnRTZXQuZmlsdGVycykgfHwgdGhpcy5yZXBvcnRTZXQuZmlsdGVycy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZXBvcnRTZXQuZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IGZpbHRlciA9IHRoaXMucmVwb3J0U2V0LmZpbHRlcnNbaV07XHJcblx0XHRcdFx0Y29uc3QgZmlsdGVyQ29uZmlnID0ge1xyXG5cdFx0XHRcdFx0ZmllbGRTeXNOYW1lOiBmaWx0ZXIuc3lzbmFtZSxcclxuXHRcdFx0XHRcdG9wZXJhdG9yTmFtZTogZmlsdGVyLm9wZXJhdG9yU3RyaW5nLFxyXG5cdFx0XHRcdFx0dmFsdWVzOiBmaWx0ZXIudmFsdWVzLFxyXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IGZpbHRlci5yZXF1aXJlZCxcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBmaWx0ZXIuZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRwYXJhbWV0ZXI6IGZpbHRlci5wYXJhbWV0ZXIsXHJcblx0XHRcdFx0XHR0aXRsZUZvcm1hdDogZmlsdGVyLnRpdGxlRm9ybWF0LFxyXG5cdFx0XHRcdFx0Y3VzdG9tUG9wdXBUZW1wbGF0ZVVybDogZmlsdGVyLmN1c3RvbVBvcHVwVGVtcGxhdGVVcmxcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGNvbnN0IG5ld0ZpbHRlciA9IHRoaXMuY3JlYXRlTmV3RmlsdGVyQmFzZShcclxuXHRcdFx0XHRcdGZpbHRlckNvbmZpZy5maWVsZFN5c05hbWUsXHJcblx0XHRcdFx0XHRmaWx0ZXJDb25maWcub3BlcmF0b3JOYW1lLFxyXG5cdFx0XHRcdFx0ZmlsdGVyQ29uZmlnLnZhbHVlcyxcclxuXHRcdFx0XHRcdGZpbHRlckNvbmZpZy5yZXF1aXJlZCxcclxuXHRcdFx0XHRcdGZpbHRlckNvbmZpZy5kZXNjcmlwdGlvbixcclxuXHRcdFx0XHRcdGZpbHRlckNvbmZpZy5wYXJhbWV0ZXIsXHJcblx0XHRcdFx0XHRmaWx0ZXIuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCk7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0LmZpbHRlcnNbaV0gPSBuZXdGaWx0ZXI7XHJcblxyXG5cdFx0XHRcdC8vIGxvYWQgZmlsdGVyIGZvcm1hdHNcclxuXHRcdFx0XHRjb25zdCBmb3JtYXRMb2FkUHJvbWlzZSA9IHRoaXMubG9hZEZpbHRlckZvcm1hdHMobmV3RmlsdGVyLCBmaWx0ZXJDb25maWcudGl0bGVGb3JtYXQpO1xyXG5cdFx0XHRcdGZpbHRlck9wZXJhdG9yUHJvbWlzZXMucHVzaChmb3JtYXRMb2FkUHJvbWlzZSk7XHJcblxyXG5cdFx0XHRcdC8vIHNldCBvcGVyYXRvclxyXG5cdFx0XHRcdGxldCBvcGVyYXRvclByb21pc2U6IE9iamVjdDtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhmaWx0ZXJDb25maWcub3BlcmF0b3JOYW1lKSAmJiBmaWx0ZXJDb25maWcub3BlcmF0b3JOYW1lKSB7XHJcblx0XHRcdFx0XHRvcGVyYXRvclByb21pc2UgPSB0aGlzLnNldEZpbHRlck9wZXJhdG9yKG5ld0ZpbHRlciwgZmlsdGVyQ29uZmlnLm9wZXJhdG9yTmFtZSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG9wZXJhdG9yUHJvbWlzZSA9IHRoaXMuc2V0RmlsdGVyT3BlcmF0b3IobmV3RmlsdGVyLCBudWxsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZmlsdGVyT3BlcmF0b3JQcm9taXNlcy5wdXNoKG9wZXJhdG9yUHJvbWlzZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gd2FpdCB3aGVuIGFsbCBvcGVyYXRvcnMgbG9hZGVkXHJcblx0XHRcdHRoaXMuJHEuYWxsKGZpbHRlck9wZXJhdG9yUHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdHZhciBleGlzdGVudFZhbHVlc1Byb21pc2VzID0gdGhpcy5yZXBvcnRTZXQuZmlsdGVycy5yZWR1Y2UoKHByb21pc2UsIGZpbHRlcikgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHByb21pc2UudGhlbigoKSA9PiB0aGlzLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCB0cnVlKSk7XHJcblx0XHRcdFx0fSwgUHJvbWlzZS5yZXNvbHZlKFtdKSk7XHJcblx0XHRcdFx0Ly8gd2FpdCB3aGVuIGFsbCBleGlzdGVudCB2YWx1ZXMgbG9hZGVkXHJcblx0XHRcdFx0dGhpcy4kcS5hbGwoZXhpc3RlbnRWYWx1ZXNQcm9taXNlcykudGhlbigoKSA9PiByZXNvbHZlKCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZSBzZXJ2aWNlIGZvciBuZXcgcmVwb3J0XHJcblx0ICovXHJcblx0bmV3UmVwb3J0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmICghdGhpcy5pc1BhZ2VJbml0aWFsaXplZCkge1xyXG5cdFx0XHRcdHRoaXMubmV3UmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gJ25ldyEnO1xyXG5cdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnbmV3UmVwb3J0IHNjaGVkdWxlZCcpO1xyXG5cdFx0XHRcdHJlc29sdmUoZmFsc2UpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgcHJvbWlzZXM6IGFueVtdID0gW107XHJcblxyXG5cdFx0XHQvLyBsb2FkIHNjaGVkdWxlIGRhdGEgd2l0aCBkZWZhdWx0IGNvbmZpZyBmb3IgbmV3IHJlcG9ydFxyXG5cdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMuJGl6ZW5kYVNjaGVkdWxlU2VydmljZS5zZXRTY2hlZHVsZUNvbmZpZyhudWxsKSk7XHJcblx0XHRcdHByb21pc2VzLnB1c2godGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLnNldFNoYXJlQ29uZmlnKG51bGwpKTtcclxuXHJcblx0XHRcdC8vIHNldCBmdWxsIGFjY2VzcyBmb3IgbmV3IHJlcG9ydDpcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2Uuc2V0RnVsbEFjY2VzcygpO1xyXG5cclxuXHRcdFx0Ly8gbG9hZCBkZWZhdWx0IHRhYmxlIGlmIGRlZmluZWRcclxuXHRcdFx0Y29uc3QgZGVmYXVsdFRhYmxlTmFtZSA9IHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKS5kZWZhdWx0VGFibGU7XHJcblx0XHRcdGlmIChkZWZhdWx0VGFibGVOYW1lKSB7XHJcblx0XHRcdFx0Y29uc3QgdGFibGUgPSB0aGlzLmdldFRhYmxlQnlTeXNuYW1lKGRlZmF1bHRUYWJsZU5hbWUpIHx8IHRoaXMuZ2V0VGFibGVCeU5hbWUoZGVmYXVsdFRhYmxlTmFtZSk7XHJcblx0XHRcdFx0aWYgKHRhYmxlKSB7XHJcblx0XHRcdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy5hcHBseVRhYmxlQWN0aXZlKHRhYmxlKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyB3YWl0IHVudGlsIGNvbXBsZXRlZCBhbGwgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnNcclxuXHRcdFx0dGhpcy4kcS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBleGlzdGluZyByZXBvcnRcclxuXHQgKi9cclxuXHRsb2FkUmVwb3J0KHJlcG9ydEZ1bGxOYW1lKSB7XHJcblx0XHR0aGlzLiRsb2cuZGVidWcoYGxvYWRSZXBvcnQgJHtyZXBvcnRGdWxsTmFtZX0gc3RhcnRgKTtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNQYWdlSW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHR0aGlzLmV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gcmVwb3J0RnVsbE5hbWU7XHJcblx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdsb2FkUmVwb3J0IHNjaGVkdWxlZCcpO1xyXG5cdFx0XHRcdHJlc29sdmUoW2ZhbHNlXSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHVwZGF0ZSBVSSBwYXJhbXNcclxuXHRcdFx0dGhpcy5jdXJyZW50QWN0aXZlRmllbGQgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnNldEZpbHRlcnNQYW5lbE9wZW5lZChmYWxzZSk7XHJcblxyXG5cdFx0XHRsZXQgcHJldmlvdXNQcmV2aWV3VG9wID0gMTAwO1xyXG5cdFx0XHRpZiAodGhpcy5yZXBvcnRTZXQgJiYgdGhpcy5yZXBvcnRTZXQub3B0aW9ucylcclxuXHRcdFx0XHRwcmV2aW91c1ByZXZpZXdUb3AgPSB0aGlzLnJlcG9ydFNldC5vcHRpb25zLnByZXZpZXdUb3A7XHJcblxyXG5cdFx0XHQvLyBsb2FkIHJlcG9ydCBkYXRhXHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UubG9hZFJlcG9ydChyZXBvcnRGdWxsTmFtZSkudGhlbihyZXBvcnRTZXRDb25maWcgPT4ge1xyXG5cdFx0XHRcdHRoaXMucmVzZXREYXRhU291cmNlcygpO1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0ID0gYW5ndWxhci5leHRlbmQodGhpcy5yZXBvcnRTZXQsIHJlcG9ydFNldENvbmZpZyk7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2Uuc2V0UmlnaHRzKHRoaXMucmVwb3J0U2V0Lm9wdGlvbnMuZWZmZWN0aXZlUmlnaHRzKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5zZXRVc2VzSGlkZGVuQ29sdW1ucyh0aGlzLnJlcG9ydFNldC5vcHRpb25zLnVzZXNIaWRkZW5Db2x1bW5zKTtcclxuXHJcblx0XHRcdFx0Ly8gdXBkYXRlIHRvcFxyXG5cdFx0XHRcdGlmICh0aGlzLnJlcG9ydFNldC5vcHRpb25zLnRvcCA8IDApXHJcblx0XHRcdFx0XHR0aGlzLnJlcG9ydFNldC5vcHRpb25zLnRvcCA9ICcnO1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0Lm9wdGlvbnMucHJldmlld1RvcCA9IHByZXZpb3VzUHJldmlld1RvcDtcclxuXHJcblx0XHRcdFx0Y29uc3QgbGF6eVByb21pc2VzOiBhbnlbXSA9IFtdO1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0LmpvaW5lZFRhYmxlcy5mb3JFYWNoKHRhYmxlT2JqID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHRhYmxlID0gdGhpcy5nZXRUYWJsZUJ5U3lzbmFtZSh0YWJsZU9iai5zeXNuYW1lKTtcclxuXHRcdFx0XHRcdGNvbnN0IGxvYWRGaWVsZFByb21pc2UgPSB0aGlzLmxvYWRMYXp5RmllbGRzKHRhYmxlKTtcclxuXHRcdFx0XHRcdHRhYmxlLmFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0XHR0YWJsZS5vcmRlciA9IHRoaXMuZ2V0TmV4dE9yZGVyKCk7XHJcblx0XHRcdFx0XHRsYXp5UHJvbWlzZXMucHVzaChsb2FkRmllbGRQcm9taXNlKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gd2FpdCB1bnRpbCB0YWJsZSBmaWVsZHMgd2lsbCBiZSBsb2FkZWQ6XHJcblx0XHRcdFx0dGhpcy4kcS5hbGwobGF6eVByb21pc2VzKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdC8vIGluaXRpYWxpemF0aW9uIHByb21pc2VzXHJcblx0XHRcdFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcclxuXHJcblx0XHRcdFx0XHQvLyBjb252ZXJ0IGNoYXJ0IG5hbWVzIHRvIGNoYXJ0IG9iamVjdHMgY29sbGVjdGlvblxyXG5cdFx0XHRcdFx0dGhpcy5jb252ZXJ0Q2hhcnROYW1lc1RvQ2hhcnRzKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gY29udmVydCBkcmlsbGRvd24gZmllbGQgc3lzbmFtZXMgdG8gZmllbGRzIGNvbGxlY3Rpb246XHJcblx0XHRcdFx0XHR0aGlzLmNvbnZlcnREcmlsbGRvd25GaWVsZE5hbWVzVG9GaWVsZHMoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBsb2FkIHBpdm90IGZpZWxkc1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QodGhpcy5yZXBvcnRTZXQucGl2b3QpKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHBpdm90Q29sdW1uQ29uZmlnID0gYW5ndWxhci5jb3B5KHRoaXMucmVwb3J0U2V0LnBpdm90LnBpdm90Q29sdW1uKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgcGl2b3RDb2x1bW5GaWVsZCA9IHRoaXMuZ2V0RmllbGRCeVN5c05hbWUocGl2b3RDb2x1bW5Db25maWcuc3lzbmFtZSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVwb3J0U2V0LnBpdm90LnBpdm90Q29sdW1uID0gYW5ndWxhci5jb3B5KHBpdm90Q29sdW1uRmllbGQpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlcG9ydFNldC5waXZvdC5waXZvdENvbHVtbi5pc1Bpdm90Q29sdW1uID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy5sb2FkUmVwb3J0RmllbGQodGhpcy5yZXBvcnRTZXQucGl2b3QucGl2b3RDb2x1bW4sIHBpdm90Q29sdW1uQ29uZmlnKSk7XHJcblxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVwb3J0U2V0LnBpdm90LmNlbGxWYWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBjZWxsVmFsdWVDb25maWcgPSBhbmd1bGFyLmNvcHkodGhpcy5yZXBvcnRTZXQucGl2b3QuY2VsbFZhbHVlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXQucGl2b3QuY2VsbFZhbHVlc1tpXSA9IGFuZ3VsYXIuY29weSh0aGlzLmdldEZpZWxkQnlTeXNOYW1lKGNlbGxWYWx1ZUNvbmZpZy5zeXNuYW1lLCB0cnVlKSk7XHJcblx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaCh0aGlzLmxvYWRSZXBvcnRGaWVsZCh0aGlzLnJlcG9ydFNldC5waXZvdC5jZWxsVmFsdWVzW2ldLCBjZWxsVmFsdWVDb25maWcpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGNvbnZlcnQgZmllbGRzXHJcblx0XHRcdFx0XHR2YXIgYWRkZWRGaWVsZFN5c05hbWVzID0gW107XHJcblx0XHRcdFx0XHR0aGlzLnJlcG9ydFNldC5hY3RpdmVGaWVsZHMuZm9yRWFjaChhY3RpdmVGaWVsZCA9PiB7XHJcblx0XHRcdFx0XHRcdHZhciBzeXNuYW1lID0gYWN0aXZlRmllbGQuc3lzbmFtZTtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gdGhpcy5nZXRGaWVsZEJ5U3lzTmFtZShzeXNuYW1lLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSlcclxuXHRcdFx0XHRcdFx0XHR0aGlzLiRsb2cuZXJyb3IoYEZpZWxkICR7c3lzbmFtZX0gbm90IGZvdW5kIGluIGRhdGFzb3VyY2VzYCk7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgaXNGaWVsZE11bHRpcGxlID0gYWRkZWRGaWVsZFN5c05hbWVzLmluZGV4T2Yoc3lzbmFtZSkgPj0gMDtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc0ZpZWxkTXVsdGlwbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5ndWlkID0gYWN0aXZlRmllbGQuZ3VpZDtcclxuXHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMubG9hZFJlcG9ydEZpZWxkKGZpZWxkLCBhY3RpdmVGaWVsZCkpO1xyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmNoZWNrZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMudXBkYXRlUGFyZW50Rm9sZGVyc0FuZFRhYmxlcyhmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0YWRkZWRGaWVsZFN5c05hbWVzLnB1c2goc3lzbmFtZSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgYW5vdGhlckZpZWxkID0gdGhpcy5hZGRFeGFjdEFub3RoZXJGaWVsZChmaWVsZCwgYWN0aXZlRmllbGQpO1xyXG5cdFx0XHRcdFx0XHRcdGFub3RoZXJGaWVsZC5ndWlkID0gYWN0aXZlRmllbGQuZ3VpZDtcclxuXHRcdFx0XHRcdFx0XHRpZiAoYWN0aXZlRmllbGQuZGVzY3JpcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0XHRcdGFub3RoZXJGaWVsZC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0YW5vdGhlckZpZWxkLmRlc2NyaXB0aW9uID0gYWN0aXZlRmllbGQuZGVzY3JpcHRpb247XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy5sb2FkUmVwb3J0RmllbGQoYW5vdGhlckZpZWxkLCBhY3RpdmVGaWVsZCkpO1xyXG5cdFx0XHRcdFx0XHRcdGFub3RoZXJGaWVsZC5jaGVja2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0aGlzLnN5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBwaXZvdHMgaW5pdGlhbGl6YXRpb25cclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KHRoaXMucmVwb3J0U2V0LnBpdm90KSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwaXZvdERhdGEgPSB0aGlzLnJlcG9ydFNldC5waXZvdDtcclxuXHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaCh0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmxvYWRQaXZvdERhdGEocGl2b3REYXRhKSk7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVwb3J0U2V0LnBpdm90ID0gbnVsbDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBjb252ZXJ0IGZpbHRlcnNcclxuXHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy5sb2FkRmlsdGVycygpKTtcclxuXHJcblx0XHRcdFx0XHQvLyBsb2FkIHNjaGVkdWxlIGRhdGEgZm9yIGNvbmZpZ1xyXG5cdFx0XHRcdFx0dmFyIHNjaGVkdWxlQ29uZmlnRGF0YSA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCByZXBvcnRTZXRDb25maWcuc2NoZWR1bGUpO1xyXG5cdFx0XHRcdFx0cHJvbWlzZXMucHVzaCh0aGlzLiRpemVuZGFTY2hlZHVsZVNlcnZpY2Uuc2V0U2NoZWR1bGVDb25maWcoc2NoZWR1bGVDb25maWdEYXRhKSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gbG9hZCBzaGFyZSBkYXRhIGZvciBjb25maWdcclxuXHRcdFx0XHRcdHZhciBzaGFyZUNvbmZpZ0RhdGEgPSBhbmd1bGFyLmV4dGVuZChbXSwgcmVwb3J0U2V0Q29uZmlnLnNoYXJlKTtcclxuXHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLnNldFNoYXJlQ29uZmlnKHNoYXJlQ29uZmlnRGF0YSkpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHdhaXQgZm9yIGFsbCBwcmVwYXJhdGlvbnMgY29tcGxldGlvblxyXG5cdFx0XHRcdFx0dGhpcy4kcS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnZhbGlkYXRlRmlsdGVycygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXJ0RmlsdGVycygpO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNVc2VzSGlkZGVuQ29sdW1ucygpKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMucmVwb3J0U2V0LmFjdGl2ZUZpZWxkcy5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93TWVzc2FnZURpYWxvZyhcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdqc19yZXBvcnRTZXRVc2VzSGlkZGVuQ29sdW1ucycsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J1RoaXMgUmVwb3J0U2V0IGhhcyBwdWJsaWNseSB1bmF2YWlsYWJsZSBmaWVsZHMgaW4gY29uZmlndXJhdGlvbiwgdGhlcmVmb3JlIGl0IG1pc3NlcyBzb21lIGVsZW1lbnRzIG9uIGN1cnJlbnQgcGFnZSwgYW5kIGNhbm5vdCBiZSBzYXZlZC91cGRhdGVkLiBVc2UgU2F2ZSBBcyB3aXRoIGRpZmZlcmVudCBuYW1lIGluc3RlYWQuJykpO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd01lc3NhZ2VEaWFsb2coXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnanNfcmVwb3J0U2V0VXNlc0FsbEhpZGRlbkNvbHVtbnMnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdBbGwgZmllbGRzIGluIHRoaXMgcmVwb3J0IGFyZSB1bmF2YWlsYWJsZS4gUGxlYXNlIGNob29zZSBhbm90aGVyIGZpZWxkcyBhbmQgdXNlIFNhdmUgQXMgd2l0aCBkaWZmZXJlbnQgbmFtZSBpbnN0ZWFkLicpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0aGlzLiRsb2cuZGVidWcoJ2xvYWRSZXBvcnQgZW5kJyk7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoW3RydWUsIHRydWVdKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9LCBlcnJvciA9PiB7XHJcblx0XHRcdFx0Ly8gZXJyb3IgbG9hZGluZyByZXBvcnQgc2V0IGNvbmZpZ1xyXG5cdFx0XHRcdC8vIHNob3cgZXJyb3IgZGlhbG9nXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFRvTG9hZFJlcG9ydCcsICdGYWlsZWQgdG8gbG9hZCByZXBvcnQnKSArICc6IFwiJyArIGVycm9yICsgJ1wiJyxcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUmVwb3J0TG9hZEVycm9yJywgJ1JlcG9ydCBsb2FkIGVycm9yJykpO1xyXG5cclxuXHRcdFx0XHQvLyByZWRpcmVjdCB0byBuZXcgcmVwb3J0XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXRJc05ldygpO1xyXG5cdFx0XHRcdHJlc29sdmUoW3RydWUsIGZhbHNlXSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgYW5vdGhlciBmaWVsZFxyXG5cdCAqL1xyXG5cdHJlbW92ZUFub3RoZXJGaWVsZChmaWVsZCwgYW5vdGhlckZpZWxkKSB7XHJcblx0XHRjb25zdCBpZHggPSBmaWVsZC5tdWx0aXBsZUNvbHVtbnMuaW5kZXhPZihhbm90aGVyRmllbGQpO1xyXG5cdFx0aWYgKGlkeCA+PSAwKSB7XHJcblx0XHRcdGlmICh0aGlzLmdldEN1cnJlbnRBY3RpdmVGaWVsZCgpID09PSBhbm90aGVyRmllbGQpXHJcblx0XHRcdFx0dGhpcy5zZXRDdXJyZW50QWN0aXZlRmllbGQobnVsbCk7XHJcblxyXG5cdFx0XHRjb25zdCBpc1JlcGxhY2VJZE5lZWRlZCA9IGZpZWxkLm9yaWdpbklkID09PSBhbm90aGVyRmllbGQuaWQ7XHJcblx0XHRcdGZpZWxkLm11bHRpcGxlQ29sdW1ucy5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdFx0aWYgKGZpZWxkLm11bHRpcGxlQ29sdW1ucy5sZW5ndGggPiAwICYmIGlzUmVwbGFjZUlkTmVlZGVkKVxyXG5cdFx0XHRcdGZpZWxkLm11bHRpcGxlQ29sdW1uc1swXS5pZCA9IGZpZWxkLm9yaWdpbklkO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgYENhbid0IGZpbmQgJHthbm90aGVyRmllbGQubmFtZX0gaW4gbXVsdGlwbGVDb2x1bW5zIGNvbGxlY3Rpb24uYDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZmllbGQubXVsdGlwbGVDb2x1bW5zLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHR0aGlzLmNvcHlGaWVsZE9iamVjdChmaWVsZC5tdWx0aXBsZUNvbHVtbnNbMF0sIGZpZWxkKTtcclxuXHRcdFx0ZmllbGQubXVsdGlwbGVDb2x1bW5zID0gW107XHJcblx0XHRcdGZpZWxkLmlzTXVsdGlwbGVDb2x1bW5zID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkLmNvbGxhcHNlZCA9IGZhbHNlO1xyXG5cdFx0XHRmaWVsZC5wYXJlbnRGaWVsZElkID0gbnVsbDtcclxuXHRcdFx0dGhpcy5hdXRvVXBkYXRlRmllbGREZXNjcmlwdGlvbihmaWVsZCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgc29ydCB2YWx1ZSBmb3IgZmllbGQuXHJcblx0ICovXHJcblx0YXBwbHlGaWVsZFNvcnQoZmllbGQsIHNvcnRTdHJpbmcpIHtcclxuXHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHNvcnRTdHJpbmcpKSB7XHJcblx0XHRcdGlmIChzb3J0U3RyaW5nID09PSAnYXNjJykge1xyXG5cdFx0XHRcdGZpZWxkLnNvcnQgPSAnYXNjJztcclxuXHRcdFx0fSBlbHNlIGlmIChzb3J0U3RyaW5nID09PSAnZGVzYycpIHtcclxuXHRcdFx0XHRmaWVsZC5zb3J0ID0gJ2Rlc2MnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICghZmllbGQuaXNWZ1VzZWQpXHJcblx0XHRcdFx0XHRmaWVsZC5zb3J0ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKCFmaWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0XHRmaWVsZC5zb3J0ID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmaWVsZCBpdGFsaWNcclxuXHQgKi9cclxuXHRhcHBseUZpZWxkSXRhbGljKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0ZmllbGQuaXRhbGljID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmllbGQgdmlzaWJsZVxyXG5cdCAqL1xyXG5cdGFwcGx5RmllbGRWaXNpYmxlKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0aWYgKCF2YWx1ZSlcclxuXHRcdFx0ZmllbGQuaXNWZ1VzZWQgPSBmYWxzZTtcclxuXHRcdGZpZWxkLnZpc2libGUgPSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmaWVsZCBib2xkXHJcblx0ICovXHJcblx0YXBwbHlGaWVsZEJvbGQoZmllbGQsIHZhbHVlKSB7XHJcblx0XHRmaWVsZC5ib2xkID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdmlzdWFsIGdyb3VwIFxyXG5cdCAqL1xyXG5cdGFwcGx5VmlzdWFsR3JvdXAoZmllbGQsIHZhbHVlKSB7XHJcblx0XHRpZiAodmFsdWUgJiYgZmllbGQuc29ydCA9PT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLmFwcGx5RmllbGRTb3J0KGZpZWxkLCAnYXNjJyk7XHJcblx0XHR9XHJcblx0XHRmaWVsZC5pc1ZnVXNlZCA9IHZhbHVlO1xyXG5cdFx0dGhpcy51cGRhdGVWaXN1YWxHcm91cEZpZWxkT3JkZXJzKGZpZWxkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbHVtbiByZW9yZGVyLiBJbmRleGVzIHN0YXJ0ZWQgZnJvbSAxOiAxLDIsMyw0LDUsNlxyXG5cdCAqL1xyXG5cdHN3YXBGaWVsZHMoZnJvbUluZGV4LCB0b0luZGV4KSB7XHJcblx0XHRpZiAoZnJvbUluZGV4ID09PSB0b0luZGV4KVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBhY3RpdmVGaWVsZHNTb3J0ZWRMaXN0ID0gdGhpcy5nZXRBbGxBY3RpdmVGaWVsZHMoKS5maWx0ZXIoaXRlbSA9PiAhaXRlbS5pc1ZnVXNlZCk7XHJcblx0XHRhY3RpdmVGaWVsZHNTb3J0ZWRMaXN0LnNvcnQoKGYxLCBmMikgPT4gZjEub3JkZXIgLSBmMi5vcmRlcik7XHJcblxyXG5cdFx0Y29uc3QgZmllbGQxID0gYWN0aXZlRmllbGRzU29ydGVkTGlzdFtmcm9tSW5kZXggLSAxXTtcclxuXHRcdGNvbnN0IGZpZWxkMiA9IGFjdGl2ZUZpZWxkc1NvcnRlZExpc3RbdG9JbmRleCAtIDFdO1xyXG5cdFx0Y29uc3QgZmllbGRPcmRlcjEgPSBmaWVsZDEub3JkZXI7XHJcblx0XHRjb25zdCBmaWVsZE9yZGVyMiA9IGZpZWxkMi5vcmRlcjtcclxuXHRcdGZpZWxkMS5vcmRlciA9IGZpZWxkT3JkZXIyO1xyXG5cdFx0ZmllbGQyLm9yZGVyID0gZmllbGRPcmRlcjE7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBXZSBuZWVkIHRvIHNldCB2aXN1YWwgZ3JvdXAgZmllbGRzIG9yZGVyIGZpcnN0IGFuZCBvdGhlciBmaWVsZHMgbmV4dC5cclxuXHQgKi9cclxuXHR1cGRhdGVWaXN1YWxHcm91cEZpZWxkT3JkZXJzKHJlY2VudGx5Q2hhbmdlZEZpZWxkKSB7XHJcblx0XHRjb25zdCBhY3RpdmVGaWVsZHMgPSB0aGlzLmdldEFsbEFjdGl2ZUZpZWxkcygpO1xyXG5cdFx0Y29uc3QgdmdGaWVsZHMgPSBhY3RpdmVGaWVsZHMuZmlsdGVyKGYgPT4gZi5pc1ZnVXNlZCk7XHJcblx0XHQvLyBpZiB3ZSBkb24ndCBoYXZlIFZHIGZpZWxkcyAtIGRvIG5vdGhpbmcuXHJcblx0XHRpZiAodmdGaWVsZHMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHQvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBmaWVsZCBvcmRlcnM6XHJcblx0XHQvLyB2Z0ZpZWxkMSwgdmdGaWVsZDIsIC4uLiwgdmdGaWVsZE4sIG5vblZnMSwgbm9uVmcyLCAuLi4sIG5vblZnTVxyXG5cclxuXHRcdC8vIGlmIHdlIHR1cm5lZCBvbiB2aXN1YWwgZ3JvdXAgb24gY3VycmVudGx5IGNoYW5nZWQgZmllbGQgLSBtb3ZlIGl0IHRvIHRoZSBsYXN0IHBvc2l0aW9uIG9mIHZnIGZpZWxkc1xyXG5cdFx0aWYgKHJlY2VudGx5Q2hhbmdlZEZpZWxkICYmIHJlY2VudGx5Q2hhbmdlZEZpZWxkLmlzVmdVc2VkKVxyXG5cdFx0XHRyZWNlbnRseUNoYW5nZWRGaWVsZC5vcmRlciA9IHZnRmllbGRzLnJlZHVjZSgobWF4LCBmKSA9PiBmLm9yZGVyID4gbWF4ID8gZi5vcmRlciA6IG1heCwgdmdGaWVsZHNbMF0ub3JkZXIpICsgMTtcclxuXHRcdC8vIHJlY2FsY3VsYXRlIGZpZWxkcyBvcmRlclxyXG5cdFx0dmdGaWVsZHMuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xyXG5cdFx0dmdGaWVsZHMuZm9yRWFjaChmID0+IGYub3JkZXIgPSB0aGlzLmdldE5leHRPcmRlcigpKTtcclxuXHJcblx0XHRjb25zdCBub25WZ0ZpZWxkcyA9IGFjdGl2ZUZpZWxkcy5maWx0ZXIoZiA9PiAhZi5pc1ZnVXNlZCk7XHJcblx0XHQvLyBpZiB3ZSB0dXJuZWQgb2ZmIHZpc3VhbCBncm91cCBvbiBjdXJyZW50bHkgY2hhbmdlZCBmaWVsZCAtIG1vdmUgaXQgdG8gdGhlIGZpcnN0IHBvc2l0aW9uIG9mIG5vbi12ZyBmaWVsZHMuXHJcblx0XHRpZiAobm9uVmdGaWVsZHMubGVuZ3RoICYmIHJlY2VudGx5Q2hhbmdlZEZpZWxkICYmICFyZWNlbnRseUNoYW5nZWRGaWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0cmVjZW50bHlDaGFuZ2VkRmllbGQub3JkZXIgPSBub25WZ0ZpZWxkcy5yZWR1Y2UoKG1pbiwgZikgPT4gZi5vcmRlciA8IG1pbiA/IGYub3JkZXIgOiBtaW4sIG5vblZnRmllbGRzWzBdLm9yZGVyKSAtIDE7XHJcblx0XHQvLyByZWNhbGN1bGF0ZSBmaWVsZHMgb3JkZXJcclxuXHRcdG5vblZnRmllbGRzLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcclxuXHRcdG5vblZnRmllbGRzLmZvckVhY2goZiA9PiBmLm9yZGVyID0gdGhpcy5nZXROZXh0T3JkZXIoKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2UgZmllbGQgb3JkZXJcclxuXHQgKi9cclxuXHRtb3ZlRmllbGRUb1Bvc2l0aW9uKGZyb21JbmRleCwgdG9JbmRleCwgaXNWaXN1YWxHcm91cCwgdGFrZUNhcmVPZkludmlzaWJsZUZpZWxkcykge1xyXG5cdFx0aWYgKGZyb21JbmRleCA9PT0gdG9JbmRleClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgZmllbGRzID0gdGhpcy5nZXRBbGxBY3RpdmVGaWVsZHMoKS5maWx0ZXIoZmllbGQgPT4ge1xyXG5cdFx0XHQvLyBleHRyYWN0IHZnfG5vbi12ZyBmaWVsZHMgKGRlcGVuZHMgb24gaXNWaXN1YWxHcm91cCBwYXJhbSlcclxuXHRcdFx0cmV0dXJuIChpc1Zpc3VhbEdyb3VwIF4gZmllbGQuaXNWZ1VzZWQpID09PSAwO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgYWN0aXZlRmllbGRzU29ydGVkID0gZmllbGRzLnNvcnQoKGYxLCBmMikgPT4gZjEub3JkZXIgLSBmMi5vcmRlcik7XHJcblx0XHRjb25zdCB2aXNpYmxlRmllbGRzU29ydGVkID0gdGFrZUNhcmVPZkludmlzaWJsZUZpZWxkc1xyXG5cdFx0XHQ/IGFjdGl2ZUZpZWxkc1NvcnRlZC5maWx0ZXIoZiA9PiBmLnZpc2libGUpXHJcblx0XHRcdDogYWN0aXZlRmllbGRzU29ydGVkO1xyXG5cclxuXHRcdC8vIGNhbGN1bGF0ZSBhY3R1YWwgZnJvbUluZGV4IGFuZCB0b0luZGV4XHJcblx0XHRjb25zdCBmcm9tRWxlbWVudCA9IHZpc2libGVGaWVsZHNTb3J0ZWRbZnJvbUluZGV4XTtcclxuXHRcdGlmICh0YWtlQ2FyZU9mSW52aXNpYmxlRmllbGRzKSB7XHJcblx0XHRcdGZyb21JbmRleCA9IGFjdGl2ZUZpZWxkc1NvcnRlZC5pbmRleE9mKGZyb21FbGVtZW50KTtcclxuXHRcdFx0Y29uc3QgZWxlbWVudCA9IHZpc2libGVGaWVsZHNTb3J0ZWRbdG9JbmRleF07XHJcblx0XHRcdHRvSW5kZXggPSBhY3RpdmVGaWVsZHNTb3J0ZWQuaW5kZXhPZihlbGVtZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNb3ZlIGVsZW1lbnQ6IGZyb21JbmRleCAtPiB0b0luZGV4IHRoYXQgd2F5OlxyXG5cdFx0Ly8gZm9yIGV4YW1wbGUsIHdlJ3JlIHNvcnRpbmcgdmlzdWFsIGdyb3VwIGNvbHVtbnMgd2hpY2ggaGFzIG9yZGVycyBhY3RpdmVGaWVsZHNTb3J0ZWQ9W2MxPTEsYzI9MixjMz01XVxyXG5cdFx0Ly8gKDMsIDQsIDYsLi4uIC0gYXJlIG5vbiB2ZyBjb2x1bW5zKVxyXG5cdFx0Ly8gYW5kIHdlIG5lZWQgdG8gbW92ZSAxIC0tPiAzLCBzbyB0aGUgcmVzdWx0IG9yZGVycyB3aWxsIGJlIFtjMT01LGMyPTEsYzM9Ml0uIG5vbiB2ZyBjb2x1bW4gb3JkZXJzIHdvbid0IGJlIHRvdWNoZWQuXHJcblx0XHRpZiAoZnJvbUluZGV4IDwgdG9JbmRleCkge1xyXG5cdFx0XHRsZXQgcHJldmlvdXNPcmRlciA9IGFjdGl2ZUZpZWxkc1NvcnRlZFtmcm9tSW5kZXhdLm9yZGVyO1xyXG5cdFx0XHRmb3IgKGxldCBqID0gZnJvbUluZGV4ICsgMTsgaiA8PSB0b0luZGV4OyBqKyspIHtcclxuXHRcdFx0XHRjb25zdCBvcmRlciA9IGFjdGl2ZUZpZWxkc1NvcnRlZFtqXS5vcmRlcjtcclxuXHRcdFx0XHRhY3RpdmVGaWVsZHNTb3J0ZWRbal0ub3JkZXIgPSBwcmV2aW91c09yZGVyO1xyXG5cdFx0XHRcdHByZXZpb3VzT3JkZXIgPSBvcmRlcjtcclxuXHRcdFx0fVxyXG5cdFx0XHRhY3RpdmVGaWVsZHNTb3J0ZWRbZnJvbUluZGV4XS5vcmRlciA9IHByZXZpb3VzT3JkZXI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsZXQgbmV4dE9yZGVyID0gYWN0aXZlRmllbGRzU29ydGVkW2Zyb21JbmRleF0ub3JkZXI7XHJcblx0XHRcdGZvciAobGV0IGogPSBmcm9tSW5kZXggLSAxOyBqID49IHRvSW5kZXg7IGotLSkge1xyXG5cdFx0XHRcdGNvbnN0IG9yZGVyID0gYWN0aXZlRmllbGRzU29ydGVkW2pdLm9yZGVyO1xyXG5cdFx0XHRcdGFjdGl2ZUZpZWxkc1NvcnRlZFtqXS5vcmRlciA9IG5leHRPcmRlcjtcclxuXHRcdFx0XHRuZXh0T3JkZXIgPSBvcmRlcjtcclxuXHRcdFx0fVxyXG5cdFx0XHRhY3RpdmVGaWVsZHNTb3J0ZWRbZnJvbUluZGV4XS5vcmRlciA9IG5leHRPcmRlcjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldFByZXZpZXdTcGxhc2hWaXNpYmxlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNQcmV2aWV3U3BsYXNoVmlzaWJsZTtcclxuXHR9XHJcblxyXG5cdGdldFByZXZpZXdTcGxhc2hUZXh0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJldmlld1NwbGFzaFRleHQ7XHJcblx0fVxyXG5cclxuXHRoYXNBZ2dyZWdhdGVGb3JtYXRzKCkge1xyXG5cdFx0aWYgKCF0aGlzLmFjdGl2ZUNoZWNrZWRGaWVsZHMpIHJldHVybiBmYWxzZTtcclxuXHRcdGNvbnN0IGFnZ3JlZ2F0ZUZvcm1hdHMgPSBbXHJcblx0XHRcdCdQZXJjZW50T2ZHcm91cCcsXHJcblx0XHRcdCdQZXJjZW50T2ZHcm91cFdpdGhSb3VuZGluZycsXHJcblx0XHRcdCdHYXVnZScsXHJcblx0XHRcdCdHYXVnZVZhcmlhYmxlJyxcclxuXHRcdFx0J0dhdWdlRGFzaGJvYXJkJ1xyXG5cdFx0XTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVDaGVja2VkRmllbGRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gdGhpcy5hY3RpdmVDaGVja2VkRmllbGRzW2ldO1xyXG5cdFx0XHRpZiAoIWZpZWxkIHx8ICFmaWVsZC5mb3JtYXQgfHwgIWZpZWxkLmZvcm1hdC52YWx1ZSkgY29udGludWU7XHJcblx0XHRcdGlmIChhZ2dyZWdhdGVGb3JtYXRzLmluZGV4T2YoZmllbGQuZm9ybWF0LnZhbHVlKSA+PSAwKSByZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc3RvcmUgZGVmYXVsdCBjb2xvciBzZXR0aW5ncy5cclxuXHQgKi9cclxuXHRyZXN0b3JlRGVmYXVsdENvbG9ycygpIHtcclxuXHRcdGNvbnN0IHN0eWxlID0gdGhpcy5yZXBvcnRTZXQub3B0aW9ucy5zdHlsZTtcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHN0eWxlLmJvcmRlckNvbG9yID0gc2V0dGluZ3MucmVwb3J0Qm9yZGVyQ29sb3I7XHJcblx0XHRzdHlsZS5oZWFkZXJDb2xvciA9IHNldHRpbmdzLnJlcG9ydEhlYWRlckNvbG9yO1xyXG5cdFx0c3R5bGUuaGVhZGVyRm9yZWNvbG9yID0gc2V0dGluZ3MuaGVhZGVyRm9yZWdyb3VuZENvbG9yO1xyXG5cdFx0c3R5bGUuaXRlbUNvbG9yID0gc2V0dGluZ3MucmVwb3J0SXRlbUNvbG9yO1xyXG5cdFx0c3R5bGUuaXRlbUZvcmVDb2xvciA9IHNldHRpbmdzLml0ZW1Gb3JlZ3JvdW5kQ29sb3I7XHJcblx0XHRzdHlsZS5pdGVtQWx0Q29sb3IgPSBzZXR0aW5ncy5yZXBvcnRBbHRlcm5hdGluZ0l0ZW1Db2xvcjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkZWZhdWx0IGZpZWxkIGZvcm1hdCAoYmFzZWQgb24gZmllbGQgdHlwZWdyb3VwKVxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBmaWVsZCBGaWVsZC5cclxuXHQgKi9cclxuXHRnZXREZWZhdWx0RmllbGRGb3JtYXQodHlwZUdyb3VwKSB7XHJcblx0XHRsZXQgZm9ybWF0S2V5O1xyXG5cdFx0c3dpdGNoICh0eXBlR3JvdXApIHtcclxuXHRcdFx0Y2FzZSAnTnVtZXJpYyc6XHJcblx0XHRcdFx0Zm9ybWF0S2V5ID0gJ3swOiMsMH0nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdSZWFsJzpcclxuXHRcdFx0XHRmb3JtYXRLZXkgPSAnezA6IywwLjAwfSc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ01vbmV5JzpcclxuXHRcdFx0XHRmb3JtYXRLZXkgPSAnezA6QzJ9JztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnRGF0ZVRpbWUnOlxyXG5cdFx0XHRcdGZvcm1hdEtleSA9ICd7MDpkfSc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0Zm9ybWF0S2V5ID0gJ3swfSc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZm9ybWF0S2V5O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZVxyXG5cdFx0XHQuY29uc3RhbnQoJ2l6ZW5kYUluc3RhbnRSZXBvcnRPYmplY3REZWZhdWx0cycsIHtcclxuXHRcdFx0XHRyZXBvcnROYW1lOiBudWxsLFxyXG5cdFx0XHRcdHJlcG9ydENhdGVnb3J5OiBudWxsLFxyXG5cdFx0XHRcdGRhdGFTb3VyY2VzOiBbXSxcclxuXHRcdFx0XHRjaGFydHM6IFtdLFxyXG5cdFx0XHRcdGZpbHRlcnM6IFtdLFxyXG5cdFx0XHRcdGZpbHRlck9wdGlvbnM6IHtcclxuXHRcdFx0XHRcdHJlcXVpcmU6ICdOb25lJyxcclxuXHRcdFx0XHRcdGZpbHRlckxvZ2ljOiAnJ1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZHJpbGxEb3duRmllbGRzOiBbXSxcclxuXHRcdFx0XHRvcHRpb25zOiB7XHJcblx0XHRcdFx0XHR1c2VzSGlkZGVuQ29sdW1uczogZmFsc2UsXHJcblx0XHRcdFx0XHRyb3dzUmFuZ2U6IG51bGwsXHJcblx0XHRcdFx0XHRkaXN0aW5jdDogdHJ1ZSxcclxuXHRcdFx0XHRcdHNob3dGaWx0ZXJzSW5SZXBvcnREZXNjcmlwdGlvbjogZmFsc2UsXHJcblx0XHRcdFx0XHRpc1N1YnRvdGFsc0VuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZXhwb3NlQXNEYXRhc291cmNlOiBmYWxzZSxcclxuXHRcdFx0XHRcdGhpZGVHcmlkOiBmYWxzZSxcclxuXHRcdFx0XHRcdHRvcDogJycsXHJcblx0XHRcdFx0XHRwcmV2aWV3VG9wOiAxMDAsXHJcblx0XHRcdFx0XHRpbWFnZUFsaWduOiAnTCcsXHJcblx0XHRcdFx0XHR0aXRsZTogJycsXHJcblx0XHRcdFx0XHR0aXRsZUFsaWduOiAnTCcsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJycsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbkFsaWduOiAnTCcsXHJcblx0XHRcdFx0XHRoZWFkZXJBbmRGb290ZXI6IHtcclxuXHRcdFx0XHRcdFx0cmVwb3J0SGVhZGVyOiAnJyxcclxuXHRcdFx0XHRcdFx0cmVwb3J0SGVhZGVyQWxpZ246ICdMJyxcclxuXHRcdFx0XHRcdFx0cmVwb3J0Rm9vdGVyOiAnJyxcclxuXHRcdFx0XHRcdFx0cmVwb3J0Rm9vdGVyQWxpZ246ICdMJyxcclxuXHRcdFx0XHRcdFx0cGFnZUhlYWRlcjogJydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRzdHlsZToge1xyXG5cdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogJyNmZmZmZmYnLFxyXG5cdFx0XHRcdFx0XHRoZWFkZXJDb2xvcjogJyM0ODNkOGInLFxyXG5cdFx0XHRcdFx0XHRoZWFkZXJGb3JlY29sb3I6ICcjZmZmZmZmJyxcclxuXHRcdFx0XHRcdFx0aXRlbUNvbG9yOiAnI2ZmZmZmZicsXHJcblx0XHRcdFx0XHRcdGl0ZW1Gb3JlQ29sb3I6ICcjMDAwMDAwJyxcclxuXHRcdFx0XHRcdFx0aXRlbUFsdENvbG9yOiAnI2RjZGNkYycsXHJcblx0XHRcdFx0XHRcdGlzSGVhZGVyc0JvbGQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRpc0hlYWRlcnNJdGFsaWM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRjdXN0b21Dc3M6ICcnXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0cGFnZToge1xyXG5cdFx0XHRcdFx0XHRsYW5kc2NhcGVQcmludGluZzogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHNob3dQYWdlTnVtYmVyOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0c2hvd0RhdGVBbmRUaW1lOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0dXNlUGFnaW5hdGlvbjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0aXRlbXNQZXJQYWdlOiAxMDAwMCxcclxuXHRcdFx0XHRcdFx0YWRkQm9va21hcmtGb3JWZzogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHBhZ2VCcmVha0FmdGVyVmc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRtaW5pbWl6ZUdyaWRXaWR0aDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0ZW5hYmxlUmVzcG9uc2l2ZUdyaWQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdHZnU3R5bGU6ICdDb21tYURlbGltaXRlZCcsXHJcblx0XHRcdFx0XHRcdHBpdm90c1BlclBhZ2U6ICcnLFxyXG5cdFx0XHRcdFx0XHRzcGxpdEFsbENvbHVtbnM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRwYWdlQnJlYWtPblNwbGl0OiBmYWxzZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0aXNGaWVsZHNBdXRvR3JvdXBlZDogZmFsc2VcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNvbnN0YW50KCdpemVuZGFGaWx0ZXJPYmplY3REZWZhdWx0cycsIHtcclxuXHRcdFx0XHRpbml0aWFsaXplZDogZmFsc2UsXHJcblx0XHRcdFx0ZmllbGQ6IG51bGwsXHJcblx0XHRcdFx0cmVxdWlyZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAnJyxcclxuXHRcdFx0XHRwYXJhbWV0ZXI6IHRydWUsXHJcblx0XHRcdFx0b3BlcmF0b3JTdHJpbmc6ICcnLFxyXG5cdFx0XHRcdG9wZXJhdG9yOiBudWxsLFxyXG5cdFx0XHRcdG9wZXJhdG9yczogW10sXHJcblx0XHRcdFx0ZXhpc3RlbnRWYWx1ZXM6IFtdLFxyXG5cdFx0XHRcdHZhbHVlczogW10sXHJcblx0XHRcdFx0dGl0bGVGb3JtYXQ6IG51bGwsXHJcblx0XHRcdFx0dGl0bGVGb3JtYXRzOiBbXSxcclxuXHRcdFx0XHRpc1ZhbGlkOiB0cnVlLFxyXG5cdFx0XHRcdHZhbGlkYXRpb25NZXNzYWdlczogW10sXHJcblx0XHRcdFx0dmFsaWRhdGlvbk1lc3NhZ2VTdHJpbmc6ICcnLFxyXG5cdFx0XHRcdGN1c3RvbVBvcHVwVGVtcGxhdGVVcmw6IG51bGwsXHJcblx0XHRcdFx0aXNGaWx0ZXJSZWFkeTogZmFsc2VcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNvbnN0YW50KCdpemVuZGFEZWZhdWx0RnVuY3Rpb25PYmplY3QnLCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdVbmtub3duJyxcclxuXHRcdFx0XHRkYXRhVHlwZUdyb3VwOiAnTm9uZScsXHJcblx0XHRcdFx0aXNTY2FsYXI6ICcwJyxcclxuXHRcdFx0XHRzcWxUZW1wbGF0ZTogJ3swfScsXHJcblx0XHRcdFx0dGV4dDogJy4uLicsXHJcblx0XHRcdFx0dmFsdWU6ICdOb25lJyxcclxuXHRcdFx0XHRncm91cDogJydcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNvbnN0YW50KCdpemVuZGFEZWZhdWx0U3VidG90YWxGdW5jdGlvbk9iamVjdCcsIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ1Vua25vd24nLFxyXG5cdFx0XHRcdGRhdGFUeXBlR3JvdXA6ICdOb25lJyxcclxuXHRcdFx0XHRpc1NjYWxhcjogJzAnLFxyXG5cdFx0XHRcdHNxbFRlbXBsYXRlOiAnezB9JyxcclxuXHRcdFx0XHR0ZXh0OiAnKERlZmF1bHQpJyxcclxuXHRcdFx0XHR2YWx1ZTogJ0RFRkFVTFQnLFxyXG5cdFx0XHRcdGdyb3VwOiAnJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuY29uc3RhbnQoJ2l6ZW5kYURlZmF1bHRGb3JtYXRPYmplY3QnLCB7XHJcblx0XHRcdFx0dGV4dDogJy4uLicsXHJcblx0XHRcdFx0dmFsdWU6ICd7MH0nLFxyXG5cdFx0XHRcdGdyb3VwOiAnJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc2VydmljZSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsIEl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UpKTtcclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXN0b3JhZ2UnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1waXZvdCc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXNldHRpbmdzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSB7XHJcblxyXG5cdHZhbGlkYXRpb24gPSB7XHJcblx0XHRpc1ZhbGlkOiB0cnVlLFxyXG5cdFx0bWVzc2FnZXM6IFtdXHJcblx0fTtcclxuXHRiaW5hcnlGaWVsZHNBcnJheTogc3RyaW5nW10gPSBbJ051bGwnLCAnVW5rbm93bicsICdCaW5hcnknLCAnVmFyQmluYXJ5JywgJ1RleHQnLCAnSW1hZ2UnXTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbXHJcblx0XHRcdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlOiBJemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlOiBJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkge1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElzIHJlcG9ydCB2YWxpZCBnZXR0ZXJcclxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gXHJcblx0ICovXHJcblx0aXNSZXBvcnRWYWxpZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRpb24uaXNWYWxpZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRpb24gb2JqZWN0IGdldHRlclxyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9IFxyXG5cdCAqL1xyXG5cdGdldFZhbGlkYXRpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0aW9uO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGxpc3Qgb2YgdmFsaWRhdGlvbiBtZXNzYWdlc1xyXG5cdCAqIEByZXR1cm5zIHtBcnJheX0uXHJcblx0ICovXHJcblx0Z2V0VmFsaWRhdGlvbk1lc3NhZ2VzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGlvbi5tZXNzYWdlcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIHBpdm90cy4gXHJcblx0ICovXHJcblx0dmFsaWRhdGVQaXZvdHMoKSB7XHJcblx0XHRjb25zdCBwaXZvdENvbHVtbiA9IHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3RDb2x1bW4oKTtcclxuXHRcdGNvbnN0IHBpdm90Q2VsbHMgPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldENlbGxWYWx1ZXMoKTtcclxuXHJcblx0XHQvLyBjaGVjayBpZiBwaXZvdCBjb2x1bW4gd2FzIHNldDpcclxuXHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KHBpdm90Q29sdW1uKSkge1xyXG5cdFx0XHRpZiAoIXBpdm90Q2VsbHMgfHwgIXBpdm90Q2VsbHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0Ly8gc2hvdyB3YXJuaW5nIHdoZW4gcGl2b3QgY2VsbHMgd2Fzbid0IGFkZGVkLlxyXG5cdFx0XHRcdHRoaXMudmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy52YWxpZGF0aW9uLm1lc3NhZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0dHlwZTogJ2luZm8nLFxyXG5cdFx0XHRcdFx0dGV4dDogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19BZGRQaXZvdENlbGxzV2FybmluZycsXHJcblx0XHRcdFx0XHRcdCdZb3Ugc2hvdWxkIGFkZCBwaXZvdCBjZWxscyB0byBlbmFibGUgcGl2b3Qgdmlldy4nKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnN0IGhhdmVQaXZvdENlbGxzID0gcGl2b3RDZWxscy5zb21lKHAgPT4gYW5ndWxhci5pc09iamVjdChwKSk7XHJcblx0XHRcdFx0aWYgKCFoYXZlUGl2b3RDZWxscykge1xyXG5cdFx0XHRcdFx0dGhpcy52YWxpZGF0aW9uLmlzVmFsaWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHRoaXMudmFsaWRhdGlvbi5tZXNzYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0dHlwZTogJ2luZm8nLFxyXG5cdFx0XHRcdFx0XHR0ZXh0OiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NwZWNpZnlQaXZvdENvbHVtbldhcm5pbmcnLFxyXG5cdFx0XHRcdFx0XHRcdCdZb3Ugc2hvdWxkIHNwZWNpZnkgY29sdW1uIGZvciBhdCBsZWFzdCBvbmUgcGl2b3QgY2VsbCAocGl2b3QgY2VsbHMgd2l0aG91dCBjb2x1bW4gd2lsbCBiZSBpZ25vcmVkKS4nKVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciBhbGwgdmFsaWRhdGlvbiBtZXNzYWdlcyBhbmQgc3RhdGVcclxuXHQgKi9cclxuXHRjbGVhclZhbGlkYXRpb24oKSB7XHJcblx0XHR0aGlzLnZhbGlkYXRpb24uaXNWYWxpZCA9IHRydWU7XHJcblx0XHR0aGlzLnZhbGlkYXRpb24ubWVzc2FnZXMgPSBbXTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybiBleGlzdGluZyB2YWxpZGF0aW9uIGFjdGlvbnNcclxuXHQgKi9cclxuXHRnZXRWYWxpZGF0aW9uQWN0aW9ucygpIHtcclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRpb24ubWVzc2FnZXNcclxuXHRcdFx0Lm1hcChtID0+IG0uYWRkaXRpb25hbEFjdGlvblR5cGUpXHJcblx0XHRcdC5maWx0ZXIoYSA9PiAhIWEpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgcmVwb3J0IHNldFxyXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSByZXBvcnQgaXMgdmFsaWRcclxuXHQgKi9cclxuXHR2YWxpZGF0ZVJlcG9ydFNldCgpIHtcclxuXHRcdHRoaXMuY2xlYXJWYWxpZGF0aW9uKCk7XHJcblxyXG5cdFx0Y29uc3QgcGl2b3RDb2x1bW4gPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90Q29sdW1uKCk7XHJcblx0XHRjb25zdCBhY3RpdmVGaWVsZHMgPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXMoKTtcclxuXHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpO1xyXG5cclxuXHRcdC8vIHRyeSB0byBmaW5kIGF0IGxlYXN0IG9uZSBhY3RpdmUgZmllbGRcclxuXHRcdGNvbnN0IGJpbmFyeUZpZWxkcyA9IFtdO1xyXG5cdFx0bGV0IGhhc0FjdGl2ZUZpZWxkczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0YWN0aXZlRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRoYXNBY3RpdmVGaWVsZHMgPSBoYXNBY3RpdmVGaWVsZHMgfHwgZmllbGQuY2hlY2tlZDtcclxuXHRcdFx0aWYgKGZpZWxkLmNoZWNrZWQgJiYgdGhpcy5iaW5hcnlGaWVsZHNBcnJheS5pbmRleE9mKGZpZWxkLnNxbFR5cGUpID49IDApIHtcclxuXHRcdFx0XHRiaW5hcnlGaWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHRyeSB0byBmaW5kIGFjdGl2ZSBwaXZvdCBmaWVsZHNcclxuXHRcdGhhc0FjdGl2ZUZpZWxkcyA9IGhhc0FjdGl2ZUZpZWxkcyB8fCB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmlzUGl2b3RWYWxpZCgpO1xyXG5cclxuXHRcdC8vIGNyZWF0ZSB2YWxpZGF0aW9uIHJlc3VsdCBmb3IgZmllbGRzXHJcblx0XHRpZiAoIWhhc0FjdGl2ZUZpZWxkcyAmJiAhcGl2b3RDb2x1bW4pIHtcclxuXHRcdFx0dGhpcy52YWxpZGF0aW9uLmlzVmFsaWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy52YWxpZGF0aW9uLm1lc3NhZ2VzLnB1c2goe1xyXG5cdFx0XHRcdHR5cGU6ICdpbmZvJyxcclxuXHRcdFx0XHR0ZXh0OiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1lvdVNob3VsZFNlbGVjdEZpZWxkJywgJ1lvdSBzaG91bGQgc2VsZWN0IGF0IGxlYXN0IG9uZSBmaWVsZCB0byBzZWUgcHJldmlldy4nKVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBzdG9yZWQgcHJvY2VkdXJlIHBhcmFtZXRlcnMgdmFsaWRhdGlvblxyXG5cdFx0aWYgKCF0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuaXNBbGxTcFBhcmFtZXRlcnNBc3NpZ25lZCgpKSB7XHJcblx0XHRcdHRoaXMudmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMudmFsaWRhdGlvbi5tZXNzYWdlcy5wdXNoKHtcclxuXHRcdFx0XHR0eXBlOiAnaW5mbycsXHJcblx0XHRcdFx0dGV4dDogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19zcFBhcmFtZXRlcklzUmVxdWlyZWQnLCAnUGxlYXNlIHNwZWNpZnkgdmFsdWVzIGZvciB5b3VyIHN0b3JlZCBwcm9jZWR1cmUgcGFyYW1ldGVycyBpbiB0aGUgZmlsdGVycy4nKVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBkaXN0aW5jdCB2YWxpZGF0aW9uXHJcblx0XHRpZiAodGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpLnNob3dEaXN0aW5jdCAmJiBvcHRpb25zLmRpc3RpbmN0ICYmIGJpbmFyeUZpZWxkcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGNvbnN0IGJpbmFyeUZpZWxkc1N0cmluZyA9IGJpbmFyeUZpZWxkc1xyXG5cdFx0XHRcdC5tYXAoKGJGaWVsZDogYW55KSA9PiBgXCIke2JGaWVsZC5uYW1lfVwiICgke2JGaWVsZC5zcWxUeXBlfSlgKVxyXG5cdFx0XHRcdC5qb2luKCcsICcpO1xyXG5cdFx0XHR0aGlzLnZhbGlkYXRpb24ubWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0dHlwZTogJ2luZm8nLFxyXG5cdFx0XHRcdGFkZGl0aW9uYWxBY3Rpb25UeXBlOiAnVFVSTl9PRkZfRElTVElOQ1QnLFxyXG5cdFx0XHRcdHRleHQ6IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dFdpdGhQYXJhbXMoXHJcblx0XHRcdFx0XHQnanNfQ29sdW1uc0lzbnRDb21wYXRpYmxlV2l0aERpc3RpbmN0JyxcclxuXHRcdFx0XHRcdCdSZXBvcnQgY29udGFpbiBjb2x1bW5zOiB7MH0uIFRoZXNlIGNvbHVtbnMgYXJlIG5vdCBjb21wYXRhYmxlIHdpdGggXCJkaXN0aW5jdFwiIHNldHRpbmcuIERpc3RpbmN0IHNldHRpbmcgd2FzIGRpc2FibGVkIScsXHJcblx0XHRcdFx0XHRbYmluYXJ5RmllbGRzU3RyaW5nXSlcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcnVuIHBpdm90cyB2YWxpZGF0aW9uXHJcblx0XHR0aGlzLnZhbGlkYXRlUGl2b3RzKCk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGlvbi5pc1ZhbGlkO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIHJlcG9ydCBzZXQgYW5kIHJlZnJlc2ggcHJldmlldy5cclxuXHQgKi9cclxuXHR2YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goZm9yY2VSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHRcdGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHRjb25zdCB2YWxpZGF0aW9uQWN0aW9ucyA9IHRoaXMuZ2V0VmFsaWRhdGlvbkFjdGlvbnMoKTtcclxuXHRcdGlmICh2YWxpZGF0aW9uUmVzdWx0KSB7XHJcblx0XHRcdC8vIHJlcG9ydCBpcyB2YWxpZFxyXG5cdFx0XHRpZiAodmFsaWRhdGlvbkFjdGlvbnMuaW5kZXhPZignVFVSTl9PRkZfRElTVElOQ1QnKSA+PSAwKVxyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCkuZGlzdGluY3QgPSBmYWxzZTtcclxuXHRcdFx0aWYgKGZvcmNlUmVmcmVzaCB8fCAhdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSlcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHJlcG9ydCBub3QgdmFsaWRcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNsZWFyUmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsIEl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJdGVtIGRyYWdnYWJsZSBkaXJlY3RpdmVcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFJbnN0YW50UmVwb3J0RmllbGREcmFnZ2FibGUnLCBbJyRyb290U2NvcGUnLFxyXG5cdGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XHJcblx0XHRcdFx0dmFyIGhhbmRsZSA9IGF0dHJzLmRyYWdnYWJsZUhhbmRsZSB8fCBmYWxzZTtcclxuXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGVsZW0pWydkcmFnZ2FibGUnXSh7XHJcblx0XHRcdFx0XHRoYW5kbGU6IGhhbmRsZSxcclxuXHRcdFx0XHRcdHN0YXJ0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuaXNEcmFnZ2luZ05vdyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRzdG9wOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuaXNEcmFnZ2luZ05vdyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0aGVscGVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRcdFx0XHRcdFx0dmFyICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQodGhpcyk7XHJcblx0XHRcdFx0XHRcdHZhciAkaGVscGVyID0gJHRhcmdldC5jbG9uZSgpO1xyXG5cdFx0XHRcdFx0XHQkaGVscGVyLmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0J3Bvc2l0aW9uJzogJ2Fic29sdXRlJyxcclxuXHRcdFx0XHRcdFx0XHQnd2lkdGgnOiAkdGFyZ2V0LndpZHRoKCksXHJcblx0XHRcdFx0XHRcdFx0J2hlaWdodCc6ICR0YXJnZXQuaGVpZ2h0KClcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdCRoZWxwZXIuYXR0cignZHJhZ2dhYmxlLWRhdGEtaWQnLCAkdGFyZ2V0LmF0dHIoJ2RyYWdnYWJsZS1kYXRhLWlkJykpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJGhlbHBlcjtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRjdXJzb3JBdDogeyBsZWZ0OiAtMTAsIHRvcDogLTEwIH0sXHJcblx0XHRcdFx0XHRhcHBlbmRUbzogJ2JvZHknLFxyXG5cdFx0XHRcdFx0ZGlzdGFuY2U6IDEwLFxyXG5cdFx0XHRcdFx0Y3Vyc29yOiAnbW92ZScsXHJcblx0XHRcdFx0XHR6SW5kZXg6IDk5OTlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzY29wZS4kcGFyZW50LiR3YXRjaChhdHRycy5kcmFnZ2FibGVFbmFibGVkLCBmdW5jdGlvbiAobmV3RW5hYmxlZCkge1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGVsZW0pWydkcmFnZ2FibGUnXShuZXdFbmFibGVkID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXSk7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUluc3RhbnRSZXBvcnRGaWVsZERyb3BwYWJsZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRkcm9wcGFibGVBY2NlcHQ6IGFueTtcclxuXHRvbkRyb3A6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEl0ZW0gZHJvcHBhYmxlIGRpcmVjdGl2ZVxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUluc3RhbnRSZXBvcnRGaWVsZERyb3BwYWJsZScsIFtcclxuXHRmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGRyb3BwYWJsZUFjY2VwdDogJ0AnLFxyXG5cdFx0XHRcdG9uRHJvcDogJyYnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZTogSUl6ZW5kYUluc3RhbnRSZXBvcnRGaWVsZERyb3BwYWJsZVNjb3BlLCBlbGVtLCBhdHRycykge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChlbGVtKVsnZHJvcHBhYmxlJ10oe1xyXG5cdFx0XHRcdFx0YWNjZXB0OiBzY29wZS5kcm9wcGFibGVBY2NlcHQsXHJcblx0XHRcdFx0XHRhY3RpdmVDbGFzczogJ2RyYWdnYWJsZS1oaWdobGlnaHQnLFxyXG5cdFx0XHRcdFx0aG92ZXJDbGFzczogJ2RyYWdnYWJsZS1oaWdobGlnaHQtaG92ZXInLFxyXG5cdFx0XHRcdFx0dG9sZXJhbmNlOiAncG9pbnRlcicsXHJcblx0XHRcdFx0XHRkcm9wOiBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XHJcblx0XHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2NvcGUub25Ecm9wKSkge1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLm9uRHJvcCh7XHJcblx0XHRcdFx0XHRcdFx0XHRhcmcwOiBhbmd1bGFyLmVsZW1lbnQodWkuaGVscGVyKS5hdHRyKCdkcmFnZ2FibGUtZGF0YS1pZCcpXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbl0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGxlZnRQYW5lbFNlbGVjdG9yOiBhbnk7XHJcblx0bWFpblBhbmVsU2VsZWN0b3I6IGFueTtcclxuXHRvcGVuZWQ6IGFueTtcclxuXHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IGFueTtcclxufVxyXG5cclxuY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZURpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bGVmdFBhbmVsU2VsZWN0b3I6ICdAJyxcclxuXHRcdG1haW5QYW5lbFNlbGVjdG9yOiAnQCcsXHJcblx0XHRvcGVuZWQ6ICc9J1xyXG5cdH07XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplRGlyZWN0aXZlLnByb3RvdHlwZS5saW5rID0gKFxyXG5cdFx0XHQkc2NvcGU6IElJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBnZXRXaWR0aCA9ICgkZWw6IEpRdWVyeTxIVE1MRWxlbWVudD4pOiBudW1iZXIgPT4ge1xyXG5cdFx0XHRcdGxldCBlbFdpZHRoID0gJGVsLndpZHRoKCk7XHJcblx0XHRcdFx0Y29uc3Qgc3R5bGVEYXRhID0gU3RyaW5nKCRlbC5hdHRyKCdkYXRhLXN0eWxlJykpO1xyXG5cdFx0XHRcdGNvbnN0IHN0eWxlU3RyaW5nID0gc3R5bGVEYXRhID8gc3R5bGVEYXRhIDogU3RyaW5nKCRlbC5hdHRyKCdzdHlsZScpKTtcclxuXHRcdFx0XHRpZiAoc3R5bGVTdHJpbmcpIHtcclxuXHRcdFx0XHRcdC8vIGZpbmQgXCJ3aWR0aDogTk5OcHhcIiBpdGVtcyBhbmQgcGFyc2UgaXQuXHJcblx0XHRcdFx0XHRzdHlsZVN0cmluZy5zcGxpdCgnOycpXHJcblx0XHRcdFx0XHRcdC5maWx0ZXIoeCA9PiB4ICYmIHgudHJpbSgpLmluZGV4T2YoJ3dpZHRoJykgPT09IDApXHJcblx0XHRcdFx0XHRcdC5mb3JFYWNoKHggPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHdpZHRoQXJyYXkgPSB4LnNwbGl0KCc6Jyk7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgd2lkdGhTdHJpbmcgPSB3aWR0aEFycmF5WzFdLnRyaW0oKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpbml0aWFsVmFsdWUgPSBlbFdpZHRoO1xyXG5cdFx0XHRcdFx0XHRcdGVsV2lkdGggPSBwYXJzZUludCh3aWR0aFN0cmluZy5zdWJzdHJpbmcoMCwgd2lkdGhTdHJpbmcubGVuZ3RoIC0gMikpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpc05hTihlbFdpZHRoKSlcclxuXHRcdFx0XHRcdFx0XHRcdGVsV2lkdGggPSBpbml0aWFsVmFsdWU7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gZWxXaWR0aDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgYXBwbHlDdXN0b21FdmVudCA9ICgpID0+IHtcclxuXHRcdFx0XHRpZiAoIXRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzSWUoKSkge1xyXG5cdFx0XHRcdFx0dGhpcy4kd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpemVuZGFDdXN0b21SZXNpemUnKSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnN0IGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdVSUV2ZW50cycpO1xyXG5cdFx0XHRcdFx0ZXZ0LmluaXRVSUV2ZW50KCdyZXNpemUnLCB0cnVlLCBmYWxzZSwgd2luZG93LCAwKTtcclxuXHRcdFx0XHRcdHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSA9IHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlO1xyXG5cclxuXHRcdFx0Y29uc3QgJGVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQpO1xyXG5cdFx0XHRsZXQgJGxlZnQgPSBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLmxlZnRQYW5lbFNlbGVjdG9yKTtcclxuXHRcdFx0bGV0ICRtYWluID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5tYWluUGFuZWxTZWxlY3Rvcik7XHJcblx0XHRcdGxldCBpc0xlZnRJbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdFx0XHRsZXQgaXNNYWluSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIGluaXRpYWxpemUganF1ZXJ5IG9iamVjdHNcclxuXHRcdFx0Y29uc3QgaW5pdGlhbGl6ZUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghaXNMZWZ0SW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHRcdCRsZWZ0ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5sZWZ0UGFuZWxTZWxlY3Rvcik7XHJcblx0XHRcdFx0XHRpc0xlZnRJbml0aWFsaXplZCA9ICRsZWZ0Lmxlbmd0aCA+IDA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghaXNNYWluSW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHRcdCRtYWluID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5tYWluUGFuZWxTZWxlY3Rvcik7XHJcblx0XHRcdFx0XHRpc01haW5Jbml0aWFsaXplZCA9ICRtYWluLmxlbmd0aCA+IDA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgaW5pdFN0eWxlcyA9ICgkZWw6IEpRdWVyeTxIVE1MRWxlbWVudD4pID0+IHtcclxuXHRcdFx0XHRjb25zdCB3aWR0aCA9IGdldFdpZHRoKCRlbCk7XHJcblx0XHRcdFx0Y29uc3QgbGVmdFN0eWxlID0gYHdpZHRoOiAke3dpZHRofXB4YDtcclxuXHRcdFx0XHRjb25zdCBtYWluU3R5bGUgPSBgbWFyZ2luLWxlZnQ6ICR7d2lkdGggKyA0fXB4YDtcclxuXHRcdFx0XHQkZWxlbS5hdHRyKCdzdHlsZScsIGB3aWR0aDogJHt3aWR0aH1weGApO1xyXG5cdFx0XHRcdCRlbGVtLmF0dHIoJ2RhdGEtc3R5bGUnLCBgbGVmdDogJHt3aWR0aH1weGApO1xyXG5cdFx0XHRcdCRsZWZ0LmF0dHIoJ3N0eWxlJywgbGVmdFN0eWxlKTtcclxuXHRcdFx0XHQkbGVmdC5hdHRyKCdkYXRhLXN0eWxlJywgbGVmdFN0eWxlKTtcclxuXHRcdFx0XHQkbWFpbi5hdHRyKCdzdHlsZScsIG1haW5TdHlsZSk7XHJcblx0XHRcdFx0JG1haW4uYXR0cignZGF0YS1zdHlsZScsIG1haW5TdHlsZSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIGRyYWdnYWJsZVxyXG5cdFx0XHR2YXIgd2luZG93V2lkdGggPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS53aWR0aCgpO1xyXG5cdFx0XHQkZWxlbVsnZHJhZ2dhYmxlJ10oe1xyXG5cdFx0XHRcdGF4aXM6ICd4JyxcclxuXHRcdFx0XHR6SW5kZXg6IDIsXHJcblx0XHRcdFx0Y29udGFpbm1lbnQ6IFszNTAsIDAsIE1hdGgubWluKDE1MDAsIHdpbmRvd1dpZHRoIC0gNTAwKSwgMF0sXHJcblx0XHRcdFx0ZHJhZzogKGV2ZW50LCB1aSkgPT4ge1xyXG5cdFx0XHRcdFx0aW5pdGlhbGl6ZUVsZW1lbnRzKCk7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50TGVmdFN0eWxlID0gYHdpZHRoOiAke3VpLnBvc2l0aW9uLmxlZnR9cHhgO1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudE1haW5TdHlsZSA9IGBtYXJnaW4tbGVmdDogJHt1aS5wb3NpdGlvbi5sZWZ0ICsgNH1weGA7XHJcblx0XHRcdFx0XHQkZWxlbS5hdHRyKCdkYXRhLXN0eWxlJywgYGxlZnQ6ICR7dWkucG9zaXRpb24ubGVmdH1weGApO1xyXG5cdFx0XHRcdFx0JGxlZnQuYXR0cignc3R5bGUnLCBjdXJyZW50TGVmdFN0eWxlKTtcclxuXHRcdFx0XHRcdCRsZWZ0LmF0dHIoJ2RhdGEtc3R5bGUnLCBjdXJyZW50TGVmdFN0eWxlKTtcclxuXHRcdFx0XHRcdCRtYWluLmF0dHIoJ3N0eWxlJywgY3VycmVudE1haW5TdHlsZSk7XHJcblx0XHRcdFx0XHQkbWFpbi5hdHRyKCdkYXRhLXN0eWxlJywgY3VycmVudE1haW5TdHlsZSk7XHJcblx0XHRcdFx0XHRhcHBseUN1c3RvbUV2ZW50KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGluaXRpYWxpemVFbGVtZW50cygpO1xyXG5cdFx0XHRpbml0U3R5bGVzKCRsZWZ0KTtcclxuXHJcblx0XHRcdC8vIG9wZW4vY2xvc2UgbGVmdCBwYW5lbCBoYW5kbGVyXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ29wZW5lZCcsIChuZXdPcGVuZWQ6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpbml0aWFsaXplRWxlbWVudHMoKTtcclxuXHRcdFx0XHRjb25zdCBpc01vYmlsZVZpZXcgPSB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpO1xyXG5cdFx0XHRcdGNvbnN0IGNvbGxhcHNlZExlZnQgPSBpc01vYmlsZVZpZXcgPyA0OCA6IDEyODtcclxuXHRcdFx0XHRjb25zdCB3aWR0aCA9IGdldFdpZHRoKCRsZWZ0KTtcclxuXHJcblx0XHRcdFx0aWYgKG5ld09wZW5lZCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGF0YVN0eWxlTGVmdCA9IFN0cmluZygkbGVmdC5hdHRyKCdkYXRhLXN0eWxlJykpIHx8IGB3aWR0aDogJHtpc01vYmlsZVZpZXcgPyAnMTAwJScgOiB3aWR0aCArICdweCd9YDtcclxuXHRcdFx0XHRcdGNvbnN0IGRhdGFTdHlsZU1haW4gPSBTdHJpbmcoJG1haW4uYXR0cignZGF0YS1zdHlsZScpKSB8fCBgbWFyZ2luLWxlZnQ6ICR7d2lkdGggKyA0fXB4O2A7XHJcblx0XHRcdFx0XHRjb25zdCBkYXRhU3R5bGVFbGVtID0gU3RyaW5nKCRlbGVtLmF0dHIoJ2RhdGEtc3R5bGUnKSkgfHwgYGxlZnQ6ICR7d2lkdGh9cHg7YDtcclxuXHRcdFx0XHRcdCRsZWZ0LmF0dHIoJ3N0eWxlJywgZGF0YVN0eWxlTGVmdCk7XHJcblx0XHRcdFx0XHQkbWFpbi5hdHRyKCdzdHlsZScsIGRhdGFTdHlsZU1haW4pO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuYXR0cignc3R5bGUnLCBkYXRhU3R5bGVFbGVtKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGxlZnQuYXR0cignc3R5bGUnLCBgd2lkdGg6ICR7Y29sbGFwc2VkTGVmdH1weDtgKTtcclxuXHRcdFx0XHRcdCRtYWluLmF0dHIoJ3N0eWxlJywgYG1hcmdpbi1sZWZ0OiAke2NvbGxhcHNlZExlZnR9cHg7YCk7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5hdHRyKCdzdHlsZScsICdsZWZ0OiAtNHB4OycpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhcHBseUN1c3RvbUV2ZW50KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9IChcclxuXHRcdFx0JHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpID0+XHJcblx0XHRcdG5ldyBJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplRGlyZWN0aXZlKCR3aW5kb3csICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdycsICckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZScsIFtcclxuXHQnJHdpbmRvdycsICckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCBJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplRGlyZWN0aXZlLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGNoYXJ0cyBjb250cm9sbGVyIGRlZmluaXRpb25cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydENoYXJ0c0NvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRpemVuZGFVcmxTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UnLFxyXG5cdCckbG9nJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JHEsXHJcblx0XHQkaXplbmRhVXJsU2VydmljZSxcclxuXHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLFxyXG5cdFx0JGxvZykge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2U7XHJcblxyXG5cdFx0dm0udmlzdWFsaXphdGlvbkNvbmZpZyA9ICRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UuZ2V0VmlzdWFsaXphdGlvbkNvbmZpZygpO1xyXG5cdFx0dm0uc2VsZWN0ZWRDaGFydCA9IG51bGw7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWxlY3QgY2hhcnRcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VsZWN0Q2hhcnQgPSBmdW5jdGlvbiAoY2hhcnQpIHtcclxuXHRcdFx0aWYgKHZtLnNlbGVjdGVkQ2hhcnQgPT09IGNoYXJ0KSB7XHJcblx0XHRcdFx0dm0uc2VsZWN0ZWRDaGFydCA9IG51bGw7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZWxlY3RDaGFydChudWxsKTtcclxuXHRcdFx0XHRpZiAoISRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpKVxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5zZWxlY3RlZENoYXJ0ID0gY2hhcnQ7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZWxlY3RDaGFydChjaGFydCk7XHJcblx0XHRcdFx0aWYgKCEkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSlcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZSBjb25maWdcclxuXHRcdCAqL1xyXG5cdFx0dm0ucHJlcGFyZUNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHZtLnZpc3VhbGl6YXRpb25Db25maWcpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkodm0udmlzdWFsaXphdGlvbkNvbmZpZy5jYXRlZ29yaWVzKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLnZpc3VhbGl6YXRpb25Db25maWcuY2F0ZWdvcmllcywgZnVuY3Rpb24gKGlDYXRlZ29yeTogbnVtYmVyLCBjYXRlZ29yeTogYW55KSB7XHJcblx0XHRcdFx0Y2F0ZWdvcnkub3BlbmVkID0gaUNhdGVnb3J5ID09PSAwO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPcGVuIG5ldyB3aW5kb3cgd2l0aCBjaGFydCBoZWxwXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gY2hhcnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZtLnNob3dDaGFydEhlbHAgPSBmdW5jdGlvbiAoY2hhcnQpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGNoYXJ0KSlcclxuXHRcdFx0XHR0aHJvdyAnQ2hhcnQgcGFyYW1ldGVyIHNob3VsZCBiZSBvYmplY3QnO1xyXG5cdFx0XHQkd2luZG93Lm9wZW4oY2hhcnQuZG9jVXJsLCAnX2JsYW5rJyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZS5nZXRWaXN1YWxpemF0aW9uQ29uZmlnKCknLCBmdW5jdGlvbiAodmlzQ29uZmlnKSB7XHJcblx0XHRcdFx0dm0udmlzdWFsaXphdGlvbkNvbmZpZyA9IHZpc0NvbmZpZztcclxuXHRcdFx0XHR2bS5wcmVwYXJlQ29uZmlnKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRTZWxlY3RlZENoYXJ0KCknLCBmdW5jdGlvbiAoY2hhcnQpIHtcclxuXHRcdFx0XHR2bS5zZWxlY3RlZENoYXJ0ID0gY2hhcnQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcbl0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgZmlsdGVycyBjb250cm9sbGVyXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnRyb2xsZXIoJ0luc3RhbnRSZXBvcnRDb2x1bW5zU29ydENvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRzY2UnLFxyXG5cdCckbG9nJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2U7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRcdC8vdm0ucGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdHZtLmFjdGl2ZUZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsQWN0aXZlRmllbGRzKCk7XHJcblxyXG5cdFx0dm0uY29sdW1uUmVvcmRlcmVkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCwgaXNWaXN1YWxHcm91cENvbHVtbikge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm1vdmVGaWVsZFRvUG9zaXRpb24oZnJvbUluZGV4LCB0b0luZGV4LCBpc1Zpc3VhbEdyb3VwQ29sdW1uLCBmYWxzZSk7XHJcblx0XHRcdGlmICghJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmNvbHVtblNlbGVjdGVkID0gZnVuY3Rpb24oZmllbGQpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkU2VsZWN0ZWQoZmllbGQsIHRydWUpO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIHdhdGNoZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0uaW5pdFdhdGNoZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbEFjdGl2ZUZpZWxkcygpJywgZnVuY3Rpb24gKG5ld0FjdGl2ZUZpZWxkcykge1xyXG5cdFx0XHRcdHZtLmFjdGl2ZUZpZWxkcyA9IG5ld0FjdGl2ZUZpZWxkcztcclxuXHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmluaXRXYXRjaGVycygpO1xyXG5cdH1cclxuXSk7XHJcblxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0Q29sdW1uc1Jlb3JkZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdJdGVtczogYW55O1xyXG5cdHNob3dTb3J0QnV0dG9uczogYW55O1xyXG5cdG9uUmVvcmRlcjogYW55O1xyXG5cdG9uQ2xpY2s6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbHVtbnMgcmVvcmRlciBkaXJlY3RpdmVcclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKCdpemVuZGFJbnN0YW50UmVwb3J0JykuZGlyZWN0aXZlKCdpbnN0YW50UmVwb3J0Q29sdW1uc1Jlb3JkZXInLCBbXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKCRpemVuZGFMb2NhbGVTZXJ2aWNlLCAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0VBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRuZ0l0ZW1zOiAnPScsXHJcblx0XHRcdFx0c2hvd1NvcnRCdXR0b25zOiAnQCcsXHJcblx0XHRcdFx0b25SZW9yZGVyOiAnJicsXHJcblx0XHRcdFx0b25DbGljazogJyYnXHJcblx0XHRcdH0sXHJcblx0XHRcdHRlbXBsYXRlOlxyXG5cdFx0XHRcdCc8ZGl2IGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaGVhZGVyIHZnXCI+JyArICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1Zpc0dyb3VwQ29sdW1ucycsICdWaXN1YWwgZ3JvdXAgY29sdW1ucycpICsgJzwvZGl2PicgK1xyXG5cdFx0XHRcdCc8dWwgY2xhc3M9XCJpemVuZGEtcmVvcmRlciBsaXN0LXVuc3R5bGVkIHZnXCI+JyArXHJcblx0XHRcdFx0JzxsaSBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWl0ZW1cIiBuZy1yZXBlYXQ9XCJpdGVtIGluIHZnTGlzdFwiIG5nLWJpbmQ9XCJpdGVtLnRpdGxlXCI+JyArXHJcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwicHVsbC1yaWdodCBnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInB1bGwtcmlnaHQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy1kb3duXCI+PC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2xpPicgK1xyXG5cdFx0XHRcdCc8L3VsPicgK1xyXG5cdFx0XHRcdCc8ZGl2IGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaGVhZGVyIHNpbXBsZVwiPicgKyAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Db2x1bW5zJywgJ0NvbHVtbnMnKSArICc8L2Rpdj4nICtcclxuXHRcdFx0XHQnPHVsIGNsYXNzPVwiaXplbmRhLXJlb3JkZXIgbGlzdC11bnN0eWxlZCBzaW1wbGVcIj4nICtcclxuXHRcdFx0XHQnPGxpIGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaXRlbVwiIG5nLXJlcGVhdD1cIml0ZW0gaW4gc2ltcGxlTGlzdFwiIG5nLWJpbmQ9XCJpdGVtLnRpdGxlXCI+JyArXHJcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwicHVsbC1yaWdodCBnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInB1bGwtcmlnaHQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy1kb3duXCI+PC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2xpPicgK1xyXG5cdFx0XHRcdCc8L3VsPicsXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZTogSUl6ZW5kYUluc3RhbnRSZXBvcnRDb2x1bW5zUmVvcmRlclNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0XHRcdHZhciAkdmdMaXN0ID0gZWxlbWVudC5maW5kKCcuaXplbmRhLXJlb3JkZXIudmcnKSxcclxuXHRcdFx0XHRcdCRzaW1wbGVMaXN0ID0gZWxlbWVudC5maW5kKCcuaXplbmRhLXJlb3JkZXIuc2ltcGxlJyksXHJcblx0XHRcdFx0XHQkdmdMaXN0SGVhZGVyID0gZWxlbWVudC5maW5kKCcuaXplbmRhLXJlb3JkZXItaGVhZGVyLnZnJyksXHJcblx0XHRcdFx0XHQkc2ltcGxlTGlzdEhlYWRlciA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLWhlYWRlci5zaW1wbGUnKTtcclxuXHJcblx0XHRcdFx0dmFyIGRvQ2xpY2sgPSBmdW5jdGlvbihmaWVsZCkge1xyXG5cdFx0XHRcdFx0aWYgKGZpZWxkICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihzY29wZS5vbkNsaWNrKSlcclxuXHRcdFx0XHRcdFx0c2NvcGUub25DbGljayh7IGZpZWxkOiBmaWVsZCB9KTtcclxuXHRcdFx0XHR9IFxyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBDYWxsIHJlb3JkZXIgaGFuZGxlclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHZhciBkb1Jlb3JkZXIgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24sIGlzVmcpIHtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2NvcGUub25SZW9yZGVyKSlcclxuXHRcdFx0XHRcdFx0c2NvcGUub25SZW9yZGVyKHtcclxuXHRcdFx0XHRcdFx0XHRhcmcwOiBzdGFydFBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdGFyZzE6IGVuZFBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdGFyZzI6IGlzVmdcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogU29ydCBoYW5kbGVyXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dmFyIHNvcnRVcGRhdGVIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG5cdFx0XHRcdFx0dmFyICRlbGVtID0gdWkuaXRlbSxcclxuXHRcdFx0XHRcdFx0JHBhcmVudCA9ICRlbGVtLmNsb3Nlc3QoJy5pemVuZGEtcmVvcmRlcicpO1xyXG5cdFx0XHRcdFx0dmFyIHN0YXJ0UG9zaXRpb24gPSBwYXJzZUludCgkZWxlbS5hdHRyKCdkYXRhLW9yZGVyJykpO1xyXG5cdFx0XHRcdFx0dmFyIGVuZFBvc2l0aW9uID0gJGVsZW0uaW5kZXgoKTtcclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBpbmRleGVzXHJcblx0XHRcdFx0XHQkcGFyZW50LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbiAoaSkge1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcykuYXR0cignZGF0YS1vcmRlcicsIGkpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRkb1Jlb3JkZXIoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24sICRwYXJlbnQuaGFzQ2xhc3MoJ3ZnJykpO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIFByZXBhcmUgZGF0YSBhbmQgdXBkYXRlIHNvcnRhYmxlXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dmFyIHByZXBhcmUgPSBmdW5jdGlvbiAoaXRlbXMpIHtcclxuXHRcdFx0XHRcdC8vIHByZXBhcmUgbGlzdHNcclxuXHRcdFx0XHRcdHZhciB2Z0xpc3QgPSBbXSwgc2ltcGxlTGlzdCA9IFtdO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheShpdGVtcykpIHtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBpdGVtID0gaXRlbXNbaV07XHJcblx0XHRcdFx0XHRcdFx0aWYgKGl0ZW0uaXNWZ1VzZWQpXHJcblx0XHRcdFx0XHRcdFx0XHR2Z0xpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRzaW1wbGVMaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZnTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0c2ltcGxlTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIGNyZWF0ZSBlbGVtZW50czpcclxuXHRcdFx0XHRcdGlmICh2Z0xpc3QubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0SGVhZGVyLnNob3coKTtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdC5zaG93KCk7XHJcblx0XHRcdFx0XHRcdCR2Z0xpc3QuZW1wdHkoKTtcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godmdMaXN0LCBmdW5jdGlvbiAoaSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciB0YWJsZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0VGFibGVCeUlkKHRoaXMucGFyZW50SWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciAkZWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxsaSBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWl0ZW1cIj48L2xpPicpO1xyXG5cdFx0XHRcdFx0XHRcdCRlbC5hdHRyKCdkYXRhLW9yZGVyJywgaSk7XHJcblx0XHRcdFx0XHRcdFx0JHZnTGlzdC5hcHBlbmQoJGVsKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyICRzcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWl0ZW0tdGV4dFwiPjwvc3Bhbj4nKTtcclxuXHRcdFx0XHRcdFx0XHQkc3Bhbi50ZXh0KHRhYmxlLm5hbWUgKyAnIOKGkiAnICsgKHRoaXMuZGVzY3JpcHRpb24gIT09ICcnID8gdGhpcy5kZXNjcmlwdGlvbiA6IHRoaXMubmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRcdCRzcGFuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRvQ2xpY2sodmdMaXN0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXBwZW5kKCRzcGFuKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLnNob3dTb3J0QnV0dG9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyICRhcnJvd1VwID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cImRzLW11bHRpcGxlLWJ1dHRvbiBpemVuZGEtcmVvcmRlci1pdGVtLWJ0bjFcIiB0aXRsZT1cIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Nb3ZlQ29sdW1uVXAnLCAnTW92ZSBjb2x1bW4gdXAnKSArICdcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctdXBcIj48L3NwYW4+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkYXJyb3dVcCk7XHJcblx0XHRcdFx0XHRcdFx0XHQkYXJyb3dVcC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBpbmRleCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5jbG9zZXN0KCcuaXplbmRhLXJlb3JkZXItaXRlbScpLmluZGV4KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkb1Jlb3JkZXIoaW5kZXgsIGluZGV4IC0gMSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyICRhcnJvd0Rvd24gPSBhbmd1bGFyLmVsZW1lbnQoJzxzcGFuIGNsYXNzPVwiZHMtbXVsdGlwbGUtYnV0dG9uIGl6ZW5kYS1yZW9yZGVyLWl0ZW0tYnRuMlwiIHRpdGxlPVwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX01vdmVDb2x1bW5Eb3duJywgJ01vdmUgY29sdW1uIGRvd24nKSArICdcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctZG93blwiPjwvc3Bhbj48L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHQkZWwuYXBwZW5kKCRhcnJvd0Rvd24pO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGFycm93RG93bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBpbmRleCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5jbG9zZXN0KCcuaXplbmRhLXJlb3JkZXItaXRlbScpLmluZGV4KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCA8IHZnTGlzdC5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZG9SZW9yZGVyKGluZGV4LCBpbmRleCArIDEsIHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0Wydzb3J0YWJsZSddKCdyZWZyZXNoJyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0SGVhZGVyLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdC5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCR2Z0xpc3QuZW1wdHkoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoc2ltcGxlTGlzdC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdGlmICh2Z0xpc3QubGVuZ3RoID4gMClcclxuXHRcdFx0XHRcdFx0XHQkc2ltcGxlTGlzdEhlYWRlci5zaG93KCk7XHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHQkc2ltcGxlTGlzdEhlYWRlci5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LnNob3coKTtcclxuXHRcdFx0XHRcdFx0JHNpbXBsZUxpc3QuZW1wdHkoKTtcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goc2ltcGxlTGlzdCwgZnVuY3Rpb24gKGkpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdGFibGUgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFRhYmxlQnlJZCh0aGlzLnBhcmVudElkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgJGVsID0gYW5ndWxhci5lbGVtZW50KCc8bGkgY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtXCI+PC9saT4nKTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXR0cignZGF0YS1vcmRlcicsIGkpO1xyXG5cdFx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LmFwcGVuZCgkZWwpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgJHNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoJzxzcGFuIGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaXRlbS10ZXh0XCI+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdCRzcGFuLnRleHQodGFibGUubmFtZSArICcg4oaSICcgKyAodGhpcy5kZXNjcmlwdGlvbiAhPT0gJycgPyB0aGlzLmRlc2NyaXB0aW9uIDogdGhpcy5uYW1lKSk7XHJcblx0XHRcdFx0XHRcdFx0JHNwYW4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9DbGljayhzaW1wbGVMaXN0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXBwZW5kKCRzcGFuKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLnNob3dTb3J0QnV0dG9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyICRhcnJvd1VwID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cImRzLW11bHRpcGxlLWJ1dHRvbiBpemVuZGEtcmVvcmRlci1pdGVtLWJ0bjFcIiB0aXRsZT1cIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Nb3ZlQ29sdW1uVXAnLCAnTW92ZSBjb2x1bW4gdXAnKSArICdcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctdXBcIj48L3NwYW4+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkYXJyb3dVcCk7XHJcblx0XHRcdFx0XHRcdFx0XHQkYXJyb3dVcC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBpbmRleCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5jbG9zZXN0KCcuaXplbmRhLXJlb3JkZXItaXRlbScpLmluZGV4KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkb1Jlb3JkZXIoaW5kZXgsIGluZGV4IC0gMSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciAkYXJyb3dEb3duID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cImRzLW11bHRpcGxlLWJ1dHRvbiBpemVuZGEtcmVvcmRlci1pdGVtLWJ0bjJcIiB0aXRsZT1cIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Nb3ZlQ29sdW1uRG93bicsICdNb3ZlIGNvbHVtbiBkb3duJykgKyAnXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWRvd25cIj48L3NwYW4+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkYXJyb3dEb3duKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRhcnJvd0Rvd24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaW5kZXggPSBhbmd1bGFyLmVsZW1lbnQodGhpcykuY2xvc2VzdCgnLml6ZW5kYS1yZW9yZGVyLWl0ZW0nKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPCBzaW1wbGVMaXN0Lmxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkb1Jlb3JkZXIoaW5kZXgsIGluZGV4ICsgMSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHQkc2ltcGxlTGlzdFsnc29ydGFibGUnXSgncmVmcmVzaCcpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkc2ltcGxlTGlzdC5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LmVtcHR5KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gaW5pdGlhbGl6ZVxyXG5cdFx0XHRcdCR2Z0xpc3RbJ3NvcnRhYmxlJ10oe1xyXG5cdFx0XHRcdFx0dXBkYXRlOiBzb3J0VXBkYXRlSGFuZGxlcixcclxuXHRcdFx0XHRcdGF4aXM6ICd5J1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCR2Z0xpc3RbJ2Rpc2FibGVTZWxlY3Rpb24nXSgpO1xyXG5cdFx0XHRcdCRzaW1wbGVMaXN0Wydzb3J0YWJsZSddKHtcclxuXHRcdFx0XHRcdHVwZGF0ZTogc29ydFVwZGF0ZUhhbmRsZXIsXHJcblx0XHRcdFx0XHRheGlzOiAneSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkc2ltcGxlTGlzdFsnZGlzYWJsZVNlbGVjdGlvbiddKCk7XHJcblx0XHRcdFx0cHJlcGFyZShzY29wZS5uZ0l0ZW1zKTtcclxuXHJcblx0XHRcdFx0Ly8gd2F0Y2ggZm9yIHVwZGF0ZXNcclxuXHRcdFx0XHRzY29wZS4kd2F0Y2goJ25nSXRlbXMnLCBmdW5jdGlvbiAobmV3VmFsKSB7XHJcblx0XHRcdFx0XHRwcmVwYXJlKG5ld1ZhbCk7XHJcblx0XHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fV0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgY29udHJvbGxlciBkZWZpbml0aW9uXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnRyb2xsZXIoJ0luc3RhbnRSZXBvcnRDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJGNvb2tpZXMnLFxyXG5cdCckcScsXHJcblx0JyRsb2cnLFxyXG5cdCckaXplbmRhVXRpbFVpU2VydmljZScsXHJcblx0JyRpemVuZGFVcmxTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsXHJcblx0JyRpemVuZGFTaGFyZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkd2luZG93LFxyXG5cdFx0JHRpbWVvdXQsXHJcblx0XHQkY29va2llcyxcclxuXHRcdCRxLFxyXG5cdFx0JGxvZyxcclxuXHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UsXHJcblx0XHQkaXplbmRhU2NoZWR1bGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYVNoYXJlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSkge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZhciBVTkNBVEVHT1JJWkVEID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJyk7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhVXJsU2VydmljZSA9ICRpemVuZGFVcmxTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFMb2NhbGVTZXJ2aWNlID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2U7XHJcblxyXG5cdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhU2NoZWR1bGVTZXJ2aWNlID0gJGl6ZW5kYVNjaGVkdWxlU2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhU2hhcmVTZXJ2aWNlID0gJGl6ZW5kYVNoYXJlU2VydmljZTtcclxuXHJcblx0XHR2bS5pc1NtYWxsUmVzb2x1dGlvbiA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpO1xyXG5cclxuXHRcdHZtLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuXHRcdHZtLnByZXZpZXdIdG1sID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRQcmV2aWV3KCk7XHJcblx0XHR2bS5yZXBvcnRTZXRPcHRpb25zID0ge1xyXG5cdFx0XHRpc1ZnVXNlZDogZmFsc2UsXHJcblx0XHRcdHZnU3R5bGU6IG51bGwsXHJcblx0XHRcdHNvcnRlZEFjdGl2ZUZpZWxkczogW11cclxuXHRcdH07O1xyXG5cdFx0dm0uZmlsdGVyc1BhbmVsT3BlbmVkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzUGFuZWxPcGVuZWQoKTtcclxuXHRcdHZtLnBpdm90c1BhbmVsT3BlbmVkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3RzUGFuZWxPcGVuZWQoKTtcclxuXHRcdHZtLmlzVmFsaWQgPSB0cnVlO1xyXG5cdFx0dm0uYWN0aXZlRmllbGQgPSBudWxsO1xyXG5cdFx0dm0uZmlsdGVyc0NvdW50ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzKCkubGVuZ3RoO1xyXG5cdFx0dm0ucGl2b3RDZWxsc0NvdW50ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0Q2VsbFZhbHVlcygpLmxlbmd0aDtcclxuXHRcdHZtLnRvcCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpLnRvcDtcclxuXHRcdHZtLnByZXZpZXdUb3AgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKS5wcmV2aWV3VG9wO1xyXG5cdFx0dm0uYWN0aXZlRmllbGRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBbGxBY3RpdmVGaWVsZHMoKTtcclxuXHRcdHZtLnNldHRpbmdzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKTtcclxuXHRcdHZtLnJlcG9ydEluZm8gPSBudWxsO1xyXG5cdFx0dm0uaXNFeGlzdGluZ1JlcG9ydCA9IGZhbHNlO1xyXG5cclxuXHRcdHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IC0xOyAvLyB1c2VkIGZvciBzZWxlY3QgZmllbGQgcG9zaXRpb24gZm9yIGRyYWcnbidkcm9wIGZpZWxkc1xyXG5cclxuXHRcdC8vIExlZnQgcGFuZWwgc3RhdGUgb2JqZWN0XHJcblx0XHR2YXIgcHJldmlld1BhbmVsSWQgPSA2O1xyXG5cdFx0dm0ubGVmdFBhbmVsID0ge1xyXG5cdFx0XHRhY3RpdmVJdGVtOiAwLFxyXG5cdFx0XHRwcmV2aW91c1BhbmVsSWQ6IDAsXHJcblx0XHRcdG9wZW5lZDogdHJ1ZVxyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5leHBvcnRQcm9ncmVzcyA9IG51bGw7XHJcblxyXG5cdFx0dm0uZWZmZWN0aXZlUmlnaHRzID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmdldFJpZ2h0cygpO1xyXG5cdFx0X3VwZGF0ZVJlcG9ydFNldFJpZ2h0VmFyaWFibGVzKCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBXYWl0IG1lc3NhZ2UgaGVhZGVyIGZvciBleHBvcnQgYW5kIHByaW50XHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFdhaXRNZXNzYWdlSGVhZGVyVGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmV4cG9ydFByb2dyZXNzID09PSAnZXhwb3J0Jykge1xyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FeHBvcnRpbmdJblByb2dyZXNzJywgJ0V4cG9ydGluZyBpbiBwcm9ncmVzcy4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodm0uZXhwb3J0UHJvZ3Jlc3MgPT09ICdwcmludCcpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJpbnRpbmdJblByb2dyZXNzJywgJ1ByaW50aW5nIGluIHByb2dyZXNzLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFdhaXQgbWVzc2FnZSBmb3IgZXhwb3J0IGFuZCBwcmludFxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRXYWl0TWVzc2FnZVRleHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmluaXNoRXhwb3J0aW5nJywgJ1BsZWFzZSB3YWl0IHRpbGwgZXhwb3J0IGlzIGNvbXBsZXRlZC4uLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh2bS5leHBvcnRQcm9ncmVzcyA9PT0gJ3ByaW50Jykge1xyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GaW5pc2hQcmludGluZycsICdQbGVhc2UgZmluaXNoIHByaW50aW5nIGJlZm9yZSBjb250aW51ZS4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgYWN0aXZlIHBhbmVsXHJcblx0XHQgKi9cclxuXHRcdHZtLnNldExlZnRQYW5lbEFjdGl2ZUl0ZW0gPSBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdFx0dm0ubGVmdFBhbmVsLmFjdGl2ZUl0ZW0gPSBpZDtcclxuXHRcdFx0aWYgKGlkICE9PSBwcmV2aWV3UGFuZWxJZClcclxuXHRcdFx0XHR2bS5sZWZ0UGFuZWwucHJldmlvdXNQYW5lbElkID0gaWQ7XHJcblx0XHRcdHZtLmxlZnRQYW5lbC5vcGVuZWQgPSB0cnVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gcmVwb3J0IGRlc2lnbmVyLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vcGVuUmVwb3J0SW5EZXNpZ25lciA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5vcGVuUmVwb3J0SW5EZXNpZ25lcigpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZnJlc2ggcHJldmlld1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWZyZXNoIHByZXZpZXcgZm9yIG1vYmlsZSBkZXZpY2VzXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5Q2hhbmdlc01vYmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmxlZnRQYW5lbC5wcmV2aW91c1BhbmVsSWQgPT09IHZtLmxlZnRQYW5lbC5hY3RpdmVJdGVtKSB7XHJcblx0XHRcdFx0dm0uc2V0TGVmdFBhbmVsQWN0aXZlSXRlbSg2KTtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCh0cnVlKTtcclxuXHRcdFx0XHQvLyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dm0uc2V0TGVmdFBhbmVsQWN0aXZlSXRlbSh2bS5sZWZ0UGFuZWwucHJldmlvdXNQYW5lbElkKTtcclxuXHRcdFx0XHR2bS5sZWZ0UGFuZWwucHJldmlvdXNQYW5lbElkID0gdm0ubGVmdFBhbmVsLmFjdGl2ZUl0ZW07XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgcHJldmlldyB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2bS5zZXRQcmV2aWV3VG9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0UHJldmlld1RvcCh2YWx1ZSk7XHJcblx0XHRcdHZtLmFwcGx5Q2hhbmdlcygpO1xyXG5cdFx0XHR2bS5jbG9zZUFsbE5hdmJhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgYWN0aXZlIGNsYXNzIGZvciBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRMZWZ0UGFuZWxDbGFzcyA9IGZ1bmN0aW9uIChpZCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gdm0uaXNFeGlzdGluZ1JlcG9ydCA/ICdoYXMtdGl0bGUnIDogJyc7XHJcblx0XHRcdGlmICh2bS5pc0xlZnRQYW5lbEJvZHlBY3RpdmUoaWQpKVxyXG5cdFx0XHRcdHJlc3VsdCArPSAnIGFjdGl2ZSc7XHJcblx0XHRcdHJldHVybiByZXN1bHQudHJpbSgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjbGFzcyBmb3IgbW9iaWxlIHZpZXdcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0TW9iaWxlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB2bS5pc1NtYWxsUmVzb2x1dGlvbiA/ICcgaXotaW5zdC1tb2JpbGUgJyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIHJldHVybnMgdHJ1ZSBvbmx5IGZvciBhY3RpdmUgcGFuZWwgaW4gbGVmdCBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5pc0xlZnRQYW5lbEJvZHlBY3RpdmUgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxlZnRQYW5lbC5hY3RpdmVJdGVtID09PSBpZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBIaWRlL3Nob3cgbGVmdCBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVMZWZ0UGFuZWwgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZtLmxlZnRQYW5lbC5vcGVuZWQgPSAhdm0ubGVmdFBhbmVsLm9wZW5lZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgdG9nZ2xlIGxlZnQgcGFuZWwgYnV0dG9uIHRpdGxlXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFRvZ2dsZUJ1dHRvblRpdGxlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0ubGVmdFBhbmVsLm9wZW5lZClcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfSGlkZUxlZnRQYW5lbCcsICdIaWRlIGxlZnQgcGFuZWwnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TaG93TGVmdFBhbmVsJywgJ1Nob3cgbGVmdCBwYW5lbCcpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZXIgY29sdW1uIGRyYWcvZHJvcCByZW9yZGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmNvbHVtblJlb3JkZXJlZCA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgsIGlzVmcpIHtcclxuXHRcdFx0Ly8gd2UgbmVlZCB0byB1bmRlcnN0YW5kIHRoYXQgc3dhcCBmcm9tIDwtPiB0byBkb2Vzbid0IHRha2UgaW50byBjb25jaWRlcmF0aW9uIGludmlzaWJsZSBmaWVsZHMuXHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubW92ZUZpZWxkVG9Qb3NpdGlvbihmcm9tSW5kZXgsIHRvSW5kZXgsIGlzVmcsIHRydWUpO1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY29sdW1ucywgYWxsb3dlZCBmb3IgcmVvcmRlclxyXG5cdFx0ICogQHJldHVybnMge251bWJlcn0gY291bnQgb2YgY29sdW1ucyB3aGljaCBhbGxvd2VkIGZvciByZW9yZGVyLlxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRBbGxvd2VkQ29sdW1uc0ZvclJlb3JkZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB2bS5hY3RpdmVGaWVsZHMubGVuZ3RoO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbHVtbiBzZWxlY3RlZFxyXG5cdFx0ICovXHJcblx0XHR2bS5zZWxlY3RlZENvbHVtbiA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdGZpZWxkLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRDdXJyZW50QWN0aXZlRmllbGQoZmllbGQpO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgY29sdW1uIGJ5IGdpdmVuIGluZGV4XHJcblx0XHQgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZUNvbHVtbiA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZmllbGQucGFyZW50RmllbGRJZCkpIHtcclxuXHRcdFx0XHQvLyBpZiBpdCBpcyBub3QgbXVsdGlwbGUgY29sdW1uIGZvciBvbmUgZGF0YWJhc2UgZmllbGQuXHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkQ2hlY2tlZChmaWVsZCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgc2VsZWN0ZWRGaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0Q3VycmVudEFjdGl2ZUZpZWxkKCk7XHJcblx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRGaWVsZCA9PT0gZmllbGQpXHJcblx0XHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNlbGVjdGVkKGZpZWxkLCBmYWxzZSk7XHJcblx0XHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHBhcmVudEZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEJ5SWQoZmllbGQucGFyZW50RmllbGRJZCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZW1vdmVBbm90aGVyRmllbGQocGFyZW50RmllbGQsIGZpZWxkKTtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBmaWx0ZXJzIG1vZGFsIGRpYWxvZ1xyXG5cdFx0Ki9cclxuXHRcdHZtLm9wZW5GaWx0ZXJzUGFuZWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uuc2V0UGl2b3RzUGFuZWxPcGVuZWQoZmFsc2UpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRGaWx0ZXJzUGFuZWxPcGVuZWQodmFsdWUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBvcGVuZWQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnNQYW5lbE9wZW5lZCgpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKCFvcGVuZWQpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBwaXZvdHMgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0ub3BlblBpdm90c1BhbmVsID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKGZhbHNlKTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnNldFBpdm90c1BhbmVsT3BlbmVkKHZhbHVlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgb3BlbmVkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3RzUGFuZWxPcGVuZWQoKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zZXRQaXZvdHNQYW5lbE9wZW5lZCghb3BlbmVkKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBmaWx0ZXJzIHBhbmVsIGFuZCBhZGQgZmlsdGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZEZpbHRlciA9IGZ1bmN0aW9uIChmaWVsZFN5c05hbWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZpZWxkU3lzTmFtZSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBY3RpdmVUYWJsZXMoKS5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2bS5vcGVuRmlsdGVyc1BhbmVsKHRydWUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNyZWF0ZU5ld0ZpbHRlcihmaWVsZFN5c05hbWUpLnRoZW4oZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpLnB1c2goZmlsdGVyKTtcclxuXHRcdFx0XHRmaWx0ZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXQoKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNldEZpbHRlck9wZXJhdG9yKGZpbHRlciwgbnVsbCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBwaXZvdHMgcGFuZWwgYW5kIGFkZCBwaXZvdCBpdGVtXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZFBpdm90SXRlbSA9IGZ1bmN0aW9uIChmaWVsZFN5c05hbWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZpZWxkU3lzTmFtZSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBY3RpdmVUYWJsZXMoKS5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0dm0ub3BlblBpdm90c1BhbmVsKHRydWUpO1xyXG5cclxuXHRcdFx0dmFyIGZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEJ5U3lzTmFtZShmaWVsZFN5c05hbWUpO1xyXG5cdFx0XHR2YXIgbmV3SXRlbSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuY3JlYXRlRmllbGRPYmplY3QoXHJcblx0XHRcdFx0ZmllbGQubmFtZSwgZmllbGQucGFyZW50SWQsIGZpZWxkLnRhYmxlU3lzbmFtZSwgZmllbGQudGFibGVOYW1lLFxyXG5cdFx0XHRcdGZpZWxkLnN5c25hbWUsIGZpZWxkLnR5cGVHcm91cCwgZmllbGQudHlwZSwgZmllbGQuc3FsVHlwZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuaW5pdGlhbGl6ZUZpZWxkKG5ld0l0ZW0pLnRoZW4oZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmFkZFBpdm90SXRlbShuZXdJdGVtKTtcclxuXHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlBdXRvR3JvdXBzKHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHZhbGlkYXRpb24gc3RhdGUgYW5kIHJlZnJlc2ggaWYgbmVlZGVkLlxyXG5cdFx0ICovXHJcblx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCA9IGZ1bmN0aW9uIChmb3JjZVJlZnJlc2gpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goZm9yY2VSZWZyZXNoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgZmllbGQgdG8gcmVwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZEZpZWxkVG9SZXBvcnQgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmaWVsZFN5c05hbWUpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dmFyIGZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEJ5U3lzTmFtZShmaWVsZFN5c05hbWUsIHRydWUpO1xyXG5cdFx0XHRpZiAoZmllbGQuY2hlY2tlZCkge1xyXG5cdFx0XHRcdHZhciBhbm90aGVyRmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFkZEFub3RoZXJGaWVsZChmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkQ2hlY2tlZChhbm90aGVyRmllbGQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UudW5zZWxlY3RBbGxGaWVsZHMoKTtcclxuXHRcdFx0XHRmaWVsZC5zZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRDdXJyZW50QWN0aXZlRmllbGQoZmllbGQpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZENoZWNrZWQoZmllbGQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIG1vdmUgZmllbGQgZnJvbSBsYXN0IHBvc3Rpb25zIHRvIHNlbGVjdGVkIHBvc2l0aW9uIGlmIGl0IGlzIGRyYWctbi1kcm9wOlxyXG5cdFx0XHRpZiAoZmllbGQuY2hlY2tlZCAmJiB2bS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPj0gMCkge1xyXG5cdFx0XHRcdHZhciBmaWVsZHNBcnJheSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsVmlzaWJsZUZpZWxkcygpLnNsaWNlKCk7XHJcblx0XHRcdFx0ZmllbGRzQXJyYXkgPSBhbmd1bGFyLmVsZW1lbnQuZ3JlcChmaWVsZHNBcnJheSwgZnVuY3Rpb24gKGY6IGFueSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICFmLmlzVmdVc2VkO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGZpZWxkc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuXHRcdFx0XHRcdHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHR2YXIgZnJvbSA9IGZpZWxkc0FycmF5Lmxlbmd0aCAtIDE7XHJcblx0XHRcdFx0dmFyIHRvID0gdm0uY3VycmVudEluc2VydENvbHVtbk9yZGVyO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubW92ZUZpZWxkVG9Qb3NpdGlvbihmcm9tLCB0bywgZmFsc2UsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IC0xO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsb3NlIGFsbCBuYXZiYXIgb3BlbmVkIGRyb3Bkb3duc1xyXG5cdFx0ICovXHJcblx0XHR2bS5jbG9zZUFsbE5hdmJhcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciAkbmF2QmFyID0gYW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1uYXZiYXInKTtcclxuXHRcdFx0JG5hdkJhci5maW5kKCcubmF2YmFyLW5hdiA+IGxpLm9wZW4nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGxhY2UgZHJvcGRvd24gdG8gdGhlIHByb3BlciBwb3NpdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciAkbmF2YmFyID0gYW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1uYXZiYXInKTtcclxuXHRcdFx0dmFyICRsaUxpc3QgPSAkbmF2YmFyLmZpbmQoJy5pei1pbnN0LW5hdiA+IGxpLm9wZW4nKTtcclxuXHRcdFx0aWYgKCEkbGlMaXN0Lmxlbmd0aClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdCRsaUxpc3QuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyICRsaSA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKTtcclxuXHRcdFx0XHR2YXIgbGlXaWR0aCA9ICRsaS53aWR0aCgpO1xyXG5cdFx0XHRcdHZhciAkZHJvcGRvd24gPSAkbGkuY2hpbGRyZW4oJy5kcm9wZG93bi1tZW51Jyk7XHJcblx0XHRcdFx0dmFyIGlzUmlnaHROb3cgPSAkZHJvcGRvd24uaGFzQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcclxuXHRcdFx0XHR2YXIgZHJvcGRvd25XaWR0aCA9ICRkcm9wZG93bi53aWR0aCgpO1xyXG5cdFx0XHRcdHZhciBkZWx0YUxlZnQgPSAkbGkucG9zaXRpb24oKS5sZWZ0ICsgJGRyb3Bkb3duLnBvc2l0aW9uKCkubGVmdDtcclxuXHRcdFx0XHR2YXIgZGVsdGFSaWdodCA9ICRuYXZiYXIud2lkdGgoKSAtIGRlbHRhTGVmdCAtIGRyb3Bkb3duV2lkdGg7XHJcblx0XHRcdFx0dmFyIGlzUmlnaHRBbGlnbiA9IGZhbHNlO1xyXG5cdFx0XHRcdHZhciBuZWVkVG9Nb3ZlID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGRlbHRhUmlnaHQgPCAwKSB7XHJcblx0XHRcdFx0XHRpc1JpZ2h0QWxpZ24gPSB0cnVlO1xyXG5cdFx0XHRcdFx0bmVlZFRvTW92ZSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChkZWx0YUxlZnQgPCAwIHx8IChpc1JpZ2h0Tm93ICYmIGRlbHRhUmlnaHQgKyBsaVdpZHRoID4gZHJvcGRvd25XaWR0aCArIDEwKSkge1xyXG5cdFx0XHRcdFx0bmVlZFRvTW92ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRpc1JpZ2h0QWxpZ24gPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG5lZWRUb01vdmUpXHJcblx0XHRcdFx0XHRpZiAoaXNSaWdodEFsaWduKVxyXG5cdFx0XHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0JGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gbmF2YmFyIGRyb3Bkb3duIGFjY29yZGluZ2x5IHRvIGl0cyByZWxhdGl2ZSBwb3NpdGlvbiB0byB0aGUgZWRnZXMgb2YgdGhlIHNjcmVlbi5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkZXZlbnQgYW5ndWxhciBjbGljayBldmVudCBvYmplY3QuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9wZW5OYXZCYXJEcm9wZG93biA9IGZ1bmN0aW9uICgkZXZlbnQsIGRvU3luYykge1xyXG5cdFx0XHRmdW5jdGlvbiBvcGVuRHJvcGRvd24oJGxpKSB7XHJcblx0XHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHRcdFx0JGxpLmFkZENsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRpZiAoIXZtLmlzVmFsaWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gZHJvcGRvd24gZWxlbWVudHNcclxuXHRcdFx0dmFyICRhRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgkZXZlbnQuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdHZhciAkbGlFbGVtZW50ID0gJGFFbGVtZW50LnBhcmVudCgpO1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duRWxlbWVudCA9ICRhRWxlbWVudC5zaWJsaW5ncygnLmRyb3Bkb3duLW1lbnUnKTtcclxuXHJcblx0XHRcdC8vIGNsb3NlXHJcblx0XHRcdGlmICgkbGlFbGVtZW50Lmhhc0NsYXNzKCdvcGVuJykpIHtcclxuXHRcdFx0XHQkZHJvcGRvd25FbGVtZW50LnJlbW92ZUNsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcblx0XHRcdFx0JGxpRWxlbWVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gb3BlblxyXG5cdFx0XHRpZiAoZG9TeW5jKVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0UmVwb3J0U2V0QXNDcnMoZmFsc2UpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0b3BlbkRyb3Bkb3duKCRsaUVsZW1lbnQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0b3BlbkRyb3Bkb3duKCRsaUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5pc1NhdmVCdXR0b25WaXNpYmxlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB2bS5zZXR0aW5ncy5zaG93U2F2ZUNvbnRyb2xzICYmIHZtLnJpZ2h0cy5pc1NhdmVBbGxvd2VkICYmIHZtLmFjdGl2ZUZpZWxkcy5sZW5ndGggPiAwO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5pc1NhdmVBc0J1dHRvblZpc2libGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHZtLnNldHRpbmdzLnNob3dTYXZlQ29udHJvbHMgJiYgdm0ucmlnaHRzLmlzU2F2ZUFzQWxsb3dlZCAmJiB2bS5hY3RpdmVGaWVsZHMubGVuZ3RoID4gMDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTYXZlIGRpYWxvZyBjbG9zZWQgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub25TYXZlQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5pc1NhdmVSZXBvcnRNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlcG9ydCBuYW1lL2NhdGVnb3J5IHNlbGVjdGVkLiBTYXZlIHJlcG9ydCBoYW5kbGVyLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vblNhdmUgPSBmdW5jdGlvbiAocmVwb3J0TmFtZSwgY2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdF9zYXZlUmVwb3J0V2l0aEdpdmVuTmFtZShyZXBvcnROYW1lLCBjYXRlZ29yeU5hbWUpO1xyXG5cdFx0XHR2bS5pc1NhdmVSZXBvcnRNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNhdmUgcmVwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZtLnNhdmVSZXBvcnQgPSBmdW5jdGlvbiAoZm9yY2VSZW5hbWUpIHtcclxuXHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0dmFyIHJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdFx0dmFyIG5lZWRUb1JlbmFtZSA9IGZvcmNlUmVuYW1lIHx8ICFycy5yZXBvcnROYW1lO1xyXG5cdFx0XHRpZiAobmVlZFRvUmVuYW1lKSB7XHJcblx0XHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdF9zYXZlUmVwb3J0V2l0aEdpdmVuTmFtZShycy5yZXBvcnROYW1lLCBycy5yZXBvcnRDYXRlZ29yeSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUHJpbnQgcmVwb3J0IGJ1dHRvbnMgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ucHJpbnRSZXBvcnQgPSBmdW5jdGlvbiAocHJpbnRUeXBlKSB7XHJcblx0XHRcdHZtLmV4cG9ydFByb2dyZXNzID0gJ3ByaW50JztcclxuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucHJpbnRSZXBvcnQocHJpbnRUeXBlKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XHJcblx0XHRcdFx0XHRpZiAoIXJlc3VsdHMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHR2YXIgcmVwb3J0U2V0ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdFx0XHRcdFx0dmFyIHJzUmVwb3J0TmFtZSA9IHJlcG9ydFNldC5yZXBvcnROYW1lO1xyXG5cdFx0XHRcdFx0XHQvLyBzaG93IG1lc3NhZ2VcclxuXHRcdFx0XHRcdFx0JGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKFxyXG5cdFx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKFxyXG5cdFx0XHRcdFx0XHRcdFx0J2pzX0ZhaWxlZFByaW50UmVwb3J0JyxcclxuXHRcdFx0XHRcdFx0XHRcdCdGYWlsZWQgdG8gcHJpbnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyxcclxuXHRcdFx0XHRcdFx0XHRcdFtyc1JlcG9ydE5hbWUsIHJlc3VsdHMubWVzc2FnZV0pLFxyXG5cdFx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFByaW50UmVwb3J0VGl0bGUnLCAnUmVwb3J0IHByaW50IGVycm9yJykpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dm0uZXhwb3J0UHJvZ3Jlc3MgPSBudWxsO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9LCA1MDApO1xyXG5cdFx0XHR2bS5jbG9zZUFsbE5hdmJhcnMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGV4cG9ydFJlcG9ydEludGVybmFsID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUpIHtcclxuXHRcdFx0dm0uZXhwb3J0UHJvZ3Jlc3MgPSAnZXhwb3J0JztcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5leHBvcnRSZXBvcnQoZXhwb3J0VHlwZSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xyXG5cdFx0XHRcdGlmICghcmVzdWx0cy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHR2YXIgcmVwb3J0U2V0ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdFx0XHRcdHZhciByc1JlcG9ydE5hbWUgPSByZXBvcnRTZXQucmVwb3J0TmFtZTtcclxuXHJcblx0XHRcdFx0XHQvLyBzaG93IGVycm9yIGRpYWxvZ1xyXG5cdFx0XHRcdFx0JGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKFxyXG5cdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0V2l0aFBhcmFtcyhcclxuXHRcdFx0XHRcdFx0XHQnanNfRmFpbGVkRXhwb3J0UmVwb3J0JyxcclxuXHRcdFx0XHRcdFx0XHQnRmFpbGVkIHRvIGV4cG9ydCByZXBvcnQgXCJ7MH1cIi4gRXJyb3IgZGVzY3JpcHRpb246IHsxfS4nLFxyXG5cdFx0XHRcdFx0XHRcdFtyc1JlcG9ydE5hbWUsIHJlc3VsdHMubWVzc2FnZV0pLFxyXG5cdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRFeHBvcnRSZXBvcnRUaXRsZScsICdSZXBvcnQgZXhwb3J0IGVycm9yJykpO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dm0uZXhwb3J0UHJvZ3Jlc3MgPSBudWxsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc2hvd0NzdkJ1bGtVbnN1cHBvcnRlZEZvcm1hdFdhcm5pbmcgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xyXG5cclxuXHRcdFx0dmFyIG1lc3NhZ2UgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Dc3ZCdWxrVW5zdXBwb3J0Rm9ybWF0c1dhcm5pbmcnLFxyXG5cdFx0XHRcdCdDc3YoYnVsaykgZXhwb3J0IGRvZXMgbm90IHN1cHBvcnQgZm9sbG93aW5nIGZvcm1hdHM6IHBlcmNlbnQgb2YgZ3JvdXAsIHBlcmNlbnQgb2YgZ3JvdXAgKHdpdGggcm91bmRpbmcpLCBnYXVnZSwgZ2F1Z2UgKHZhcmlhYmxlKSwgZGFzaCBnYXVnZS4gRGVmYXVsdCBmb3JtYXQgd2lsbCBiZSBhcHBsaWVkIGluc3RlYWQgb2YgdGhlbS4nKTtcclxuXHJcblx0XHRcdHZhciBjaGVja2JveGVzID0gW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGxhYmVsOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Eb05vdFNob3dUaGlzRGlhbG9nQWdhaW4nLCAnRG8gbm90IHNob3cgdGhpcyBkaWFsb2cgYWdhaW4nKSxcclxuXHRcdFx0XHRcdGNoZWNrZWQ6IGZhbHNlXHJcblx0XHRcdFx0fV07XHJcblxyXG5cdFx0XHR2YXIgd2FybmluZ0FyZ3MgPSB7XHJcblx0XHRcdFx0dGl0bGU6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1dhcm5pbmcnLCAnV2FybmluZycpLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXHJcblx0XHRcdFx0YnV0dG9uczogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0ZXh0OiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19PaycsICdPaycpLFxyXG5cdFx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKGNoZWNrYm94ZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoY2hlY2tib3hlcyAmJiBjaGVja2JveGVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBkb05vdFNob3dBZ2FpbiA9IGNoZWNrYm94ZXNbMF07XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZG9Ob3RTaG93QWdhaW4gJiYgZG9Ob3RTaG93QWdhaW4uY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZGF0ZSA9IG5ldyBEYXRlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAzNjUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgY29va2llT3B0aW9ucyA9IHsgZXhwaXJlczogZGF0ZSB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRjb29raWVzLnB1dChcIml6ZW5kYUhpZGVDc3ZCdWxrVW5zdXBwb3J0ZWRGb3JtYXRXYXJuaW5nXCIsIHRydWUsIGNvb2tpZU9wdGlvbnMpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRleHBvcnRSZXBvcnRJbnRlcm5hbChleHBvcnRUeXBlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHsgdGV4dDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ2FuY2VsJywgJ0NhbmNlbCcpIH1cclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNoZWNrYm94ZXM6IGNoZWNrYm94ZXMsXHJcblx0XHRcdFx0YWxlcnRJbmZvOiAnd2FybmluZydcclxuXHRcdFx0fVxyXG5cdFx0XHQkaXplbmRhVXRpbFVpU2VydmljZS5zaG93RGlhbG9nQm94KHdhcm5pbmdBcmdzKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGlzQ3N2QnVsa1dpdGhVbnN1cHBvcnRlZEZvcm1hdCA9IGZ1bmN0aW9uIChleHBvcnRUeXBlKSB7XHJcblx0XHRcdHZhciBpc0NzdkJ1bGsgPSBleHBvcnRUeXBlID09PSAnY3N2JyAmJiAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldEJ1bGtDc3YoKTtcclxuXHRcdFx0aWYgKCFpc0NzdkJ1bGspIHJldHVybiBmYWxzZTtcclxuXHRcdFx0dmFyIGhhc0FnZ3JlZ2F0ZUZvcm1hdHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmhhc0FnZ3JlZ2F0ZUZvcm1hdHMoKTtcclxuXHRcdFx0cmV0dXJuIGhhc0FnZ3JlZ2F0ZUZvcm1hdHM7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFeHBvcnQgcmVwb3J0IGJ1dHRvbnMgaGFuZGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5leHBvcnRSZXBvcnQgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xyXG5cdFx0XHR2YXIgaGlkZUNzdldhcm5pbmcgPSAkY29va2llcy5nZXQoXCJpemVuZGFIaWRlQ3N2QnVsa1Vuc3VwcG9ydGVkRm9ybWF0V2FybmluZ1wiKTtcclxuXHRcdFx0aWYgKGlzQ3N2QnVsa1dpdGhVbnN1cHBvcnRlZEZvcm1hdChleHBvcnRUeXBlKSAmJiAhaGlkZUNzdldhcm5pbmcpIHtcclxuXHRcdFx0XHRzaG93Q3N2QnVsa1Vuc3VwcG9ydGVkRm9ybWF0V2FybmluZyhleHBvcnRUeXBlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0ZXhwb3J0UmVwb3J0SW50ZXJuYWwoZXhwb3J0VHlwZSk7XHJcblx0XHRcdHZtLmNsb3NlQWxsTmF2YmFycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIG9uLXBhZ2UtY2xpY2sgcmVwb3J0IHByZXZpZXcgaGFuZGxlci4gUmFpc2VzIHdoZW4gdXNlciBjbGlja3Mgb24gcGFnaW5nIGNvbnRyb2xzIGluIHByZXZpZXcuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uUGFnaW5nQ2xpY2sgPSBmdW5jdGlvbiAocGFnaW5nQ29udHJvbFR5cGUsIHBhZ2VSYW5nZSkge1xyXG5cdFx0XHR2YXIgcnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFJlcG9ydFNldCgpO1xyXG5cdFx0XHRycy5vcHRpb25zLnJvd3NSYW5nZSA9IHBhZ2VSYW5nZTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZW5kIHJlcG9ydCBsaW5rIHZpYSBlbWFpbFxyXG5cdFx0ICovXHJcblx0XHR2bS5zZW5kUmVwb3J0TGlua0VtYWlsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNlbmRSZXBvcnRMaW5rRW1haWwoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIGFwcGx5UmVwb3J0SW5mbyA9IGZ1bmN0aW9uIChyZXBvcnRJbmZvKSB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHJlcG9ydEluZm8pKSB7XHJcblx0XHRcdFx0XHR2bS5pc0V4aXN0aW5nUmVwb3J0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5yZXBvcnRJbmZvID0gbnVsbDtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0SW5mby5mdWxsTmFtZSkgJiYgcmVwb3J0SW5mby5mdWxsTmFtZS50cmltKCkgIT09ICcnKSB7XHJcblx0XHRcdFx0XHQvLyBpZiBsb2NhdGlvbiBjb250YWlucyByZXBvcnQgbmFtZTogbG9hZCBpdFxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5sb2FkUmVwb3J0KHJlcG9ydEluZm8uZnVsbE5hbWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2bS5pc0V4aXN0aW5nUmVwb3J0ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0dm0ucmVwb3J0SW5mbyA9IHJlcG9ydEluZm87XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubmV3UmVwb3J0KCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHZtLmlzRXhpc3RpbmdSZXBvcnQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0dm0ucmVwb3J0SW5mbyA9IHJlcG9ydEluZm87XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCknLCBmdW5jdGlvbiAodmFsdWUsIHByZXZWYWx1ZSkge1xyXG5cdFx0XHRcdHZtLmlzU21hbGxSZXNvbHV0aW9uID0gdmFsdWU7XHJcblx0XHRcdFx0aWYgKHZtLmlzU21hbGxSZXNvbHV0aW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJy5pei1pbnN0LW1haW5wYW5lbC1ib2R5JykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnLml6LWluc3QtbWFpbnBhbmVsLWJvZHknKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG5cdFx0XHRcdFx0fSwgNjAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHByZXZWYWx1ZSAmJiAhdmFsdWUpIHtcclxuXHRcdFx0XHRcdC8vIHNtYWxsIC0+IG5vcm1hbFxyXG5cdFx0XHRcdFx0dm0uc2V0TGVmdFBhbmVsQWN0aXZlSXRlbSgwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmdldFJpZ2h0cygpJywgZnVuY3Rpb24gKHZhbHVlLCBwcmV2VmFsdWUpIHtcclxuXHRcdFx0XHRpZiAodmFsdWUgPT09IHByZXZWYWx1ZSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2bS5lZmZlY3RpdmVSaWdodHMgPSB2YWx1ZTtcclxuXHRcdFx0XHRfdXBkYXRlUmVwb3J0U2V0UmlnaHRWYXJpYWJsZXMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvL1xyXG5cdFx0XHQkc2NvcGUuJG9uKCdjaGFuZ2VWaXN1YWxpemF0aW9uUHJvcGVydGllcycsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UmVwb3J0U2V0KCkuY2hhcnRzWzBdLnByb3BlcnRpZXMgPSBhcmdzWzBdO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGxvb2sgZm9yIGxvY2F0aW9uIGNoYW5nZVxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCknLCBmdW5jdGlvbiAocmVwb3J0SW5mbykge1xyXG5cdFx0XHRcdGFwcGx5UmVwb3J0SW5mbyhyZXBvcnRJbmZvKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTGlzdGVuIGZvciBjb21wbGV0ZSBsb2FkaW5nIHBhZ2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFBhZ2VSZWFkeSgpJywgZnVuY3Rpb24gKGlzUGFnZVJlYWR5KSB7XHJcblx0XHRcdFx0aWYgKGlzUGFnZVJlYWR5KSB7XHJcblx0XHRcdFx0XHR2bS5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIExvb2sgZm9yIHByZXZpZXcgY2hhbmdlXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UHJldmlldygpJywgZnVuY3Rpb24gKHByZXZpZXdIdG1sKSB7XHJcblxyXG5cdFx0XHRcdC8vIHByZXBhcmUgb3B0aW9uczpcclxuXHRcdFx0XHR2YXIgb3B0aW9ucyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpO1xyXG5cdFx0XHRcdHZtLnJlcG9ydFNldE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRpc1ZnVXNlZDogZmFsc2UsXHJcblx0XHRcdFx0XHR2Z1N0eWxlOiBvcHRpb25zLnBhZ2UudmdTdHlsZSxcclxuXHRcdFx0XHRcdHNvcnRlZEFjdGl2ZUZpZWxkczogW10sXHJcblx0XHRcdFx0XHRwaXZvdENlbGxzQ291bnQ6IHZtLnBpdm90Q2VsbHNDb3VudFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIGFkZCBhY3RpdmUgZmllbGRzLlxyXG5cdFx0XHRcdHZtLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBbGxWaXNpYmxlRmllbGRzKCk7XHJcblx0XHRcdFx0dm0ucmVwb3J0U2V0T3B0aW9ucy5zb3J0ZWRBY3RpdmVGaWVsZHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5pc1ZnVXNlZClcclxuXHRcdFx0XHRcdFx0dm0ucmVwb3J0U2V0T3B0aW9ucy5pc1ZnVXNlZCA9IHRydWU7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8vIHNldCBwcmV2aWV3IGh0bWxcclxuXHRcdFx0XHR2bS5wcmV2aWV3SHRtbCA9IHByZXZpZXdIdG1sO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVyc1BhbmVsT3BlbmVkKCknLCBmdW5jdGlvbiAob3BlbmVkKSB7XHJcblx0XHRcdFx0dm0uZmlsdGVyc1BhbmVsT3BlbmVkID0gb3BlbmVkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90c1BhbmVsT3BlbmVkKCknLCBmdW5jdGlvbiAob3BlbmVkKSB7XHJcblx0XHRcdFx0dm0ucGl2b3RzUGFuZWxPcGVuZWQgPSBvcGVuZWQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRDdXJyZW50QWN0aXZlRmllbGQoKScsIGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRcdHZtLmFjdGl2ZUZpZWxkID0gZmllbGQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCkudG9wJywgZnVuY3Rpb24gKHRvcCkge1xyXG5cdFx0XHRcdHZtLnRvcCA9IHRvcDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKS5wcmV2aWV3VG9wJywgZnVuY3Rpb24gKHRvcCkge1xyXG5cdFx0XHRcdHZtLnByZXZpZXdUb3AgPSB0b3A7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpJywgZnVuY3Rpb24gKGZpbHRlcnMpIHtcclxuXHRcdFx0XHR2bS5maWx0ZXJzQ291bnQgPSBmaWx0ZXJzLmxlbmd0aDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0Q2VsbFZhbHVlcygpJywgZnVuY3Rpb24gKGNlbGxWYWx1ZXMpIHtcclxuXHRcdFx0XHR2bS5waXZvdENlbGxzQ291bnQgPSBjZWxsVmFsdWVzLmxlbmd0aDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBbGxBY3RpdmVGaWVsZHMoKScsIGZ1bmN0aW9uIChhY3RpdmVGaWVsZHMpIHtcclxuXHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMgPSBhY3RpdmVGaWVsZHM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRQcmV2aWV3U3BsYXNoVmlzaWJsZSgpJywgZnVuY3Rpb24gKHZpc2libGUpIHtcclxuXHRcdFx0XHR2bS5yZXBvcnRMb2FkaW5nSW5kaWNhdG9ySXNWaXNpYmxlID0gdmlzaWJsZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBsaXN0ZW4gZm9yIHZhbGlkYXRpb24gc3RhdGUgY2hhbmdlLlxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLmlzUmVwb3J0VmFsaWQoKScsIGZ1bmN0aW9uIChpc1ZhbGlkKSB7XHJcblx0XHRcdFx0dm0uaXNWYWxpZCA9IGlzVmFsaWQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFJlcG9ydCBuYW1lIHNlbGVjdGVkIGhhbmRsZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kb24oJ3NlbGVjdGVkTmV3UmVwb3J0TmFtZUV2ZW50JywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoYXJncykgfHwgYXJncy5sZW5ndGggIT09IDIpXHJcblx0XHRcdFx0XHR0aHJvdyAnQXJyYXkgd2l0aCAyIGVsZW1lbnRzIGV4cGVjdGVkJztcclxuXHRcdFx0XHR2YXIgbmFtZSA9IGFyZ3NbMF0sIGNhdGVnb3J5ID0gYXJnc1sxXTtcclxuXHRcdFx0XHRfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUobmFtZSwgY2F0ZWdvcnkpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHRvZG86IG1vdmUgdGhhdCBqYXZhc2NyaXB0IHRvIHNwZWNpYWwgZGlyZWN0aXZlIGluIGZ1dHVyZSwgYmVjYXVzZSBET00gbWFuaXB1bGF0aW9ucyBpbiBjb250cm9sbGVyIGlzIGJhZCBwcmFjdGljZTpcclxuXHRcdFx0dmFyICRyb290ID0gYW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1yb290Jyk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMoKTtcclxuXHRcdFx0XHQkcm9vdC5oZWlnaHQoYW5ndWxhci5lbGVtZW50KHdpbmRvdykuaGVpZ2h0KCkgLSAkcm9vdC5vZmZzZXQoKS50b3AgLSAzMCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkcm9vdC5oZWlnaHQoYW5ndWxhci5lbGVtZW50KHdpbmRvdykuaGVpZ2h0KCkgLSAkcm9vdC5vZmZzZXQoKS50b3AgLSAzMCk7XHJcblxyXG5cdFx0XHQvLyBsZWZ0IHBhbmVsIHJlc2l6ZSBzZW5zb3JcclxuXHRcdFx0dmFyICRwYW5lbCA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWluc3QtbGVmdC1wYW5lbCcpO1xyXG5cdFx0XHRpZiAoJHBhbmVsLmxlbmd0aClcclxuXHRcdFx0XHRyZXNpemVTZW5zb3IoJHBhbmVsLmdldCgwKSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gX3VwZGF0ZVJlcG9ydFNldFJpZ2h0VmFyaWFibGVzKCkge1xyXG5cdFx0XHR2bS5yaWdodHMgPSB7fTtcclxuXHRcdFx0dm0ucmlnaHRzLmlzRmlsdGVyc0VkaXRBbGxvd2VkID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRmlsdGVyc0VkaXRBbGxvd2VkKCk7XHJcblx0XHRcdHZtLnJpZ2h0cy5pc0Z1bGxBY2Nlc3MgPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNGdWxsQWNjZXNzKCk7XHJcblx0XHRcdHZtLnJpZ2h0cy5pc0VkaXRBbGxvd2VkID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRWRpdEFsbG93ZWQoKTtcclxuXHRcdFx0dm0ucmlnaHRzLmlzU2F2ZUFzQWxsb3dlZCA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NhdmVBc0FsbG93ZWQoKTtcclxuXHRcdFx0dm0ucmlnaHRzLmlzU2F2ZUFsbG93ZWQgPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTYXZlQWxsb3dlZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2F2ZSByZXBvcnQgd2l0aCBzZWxlY3RlZCBuYW1lXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9zYXZlUmVwb3J0V2l0aEdpdmVuTmFtZShyZXBvcnROYW1lLCByZXBvcnRDYXRlZ29yeSkge1xyXG5cdFx0XHR2YXIgY2F0ZWdvcnkgPSByZXBvcnRDYXRlZ29yeTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGNhdGVnb3J5KSB8fCBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSBVTkNBVEVHT1JJWkVELnRvTG93ZXJDYXNlKCkpXHJcblx0XHRcdFx0Y2F0ZWdvcnkgPSAnJztcclxuXHJcblx0XHRcdHZhciByc1JlcG9ydE5hbWUgPSByZXBvcnROYW1lO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhyZXBvcnRDYXRlZ29yeSkgJiYgcmVwb3J0Q2F0ZWdvcnkgIT09ICcnKVxyXG5cdFx0XHRcdHJzUmVwb3J0TmFtZSA9IHJlcG9ydENhdGVnb3J5ICsgJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcnNSZXBvcnROYW1lO1xyXG5cclxuXHRcdFx0dmFyIHNhdmVQcm9taXNlO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhyZXBvcnROYW1lKSAmJiByZXBvcnROYW1lICE9PSAnJykge1xyXG5cdFx0XHRcdHNhdmVQcm9taXNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zYXZlUmVwb3J0U2V0KHJlcG9ydE5hbWUsIGNhdGVnb3J5KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzYXZlUHJvbWlzZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2F2ZVJlcG9ydFNldCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNhdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBub3RpZmljYXRpb25NZXNzYWdlID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dFdpdGhQYXJhbXMoJ2pzX1JlcG9ydFNhdmVkJywgJ1JlcG9ydCBcInswfVwiIHN1Y2Vzc2Z1bGx5IHNhdmVkLicsIFtyc1JlcG9ydE5hbWVdKTtcclxuXHRcdFx0XHQkaXplbmRhVXRpbFVpU2VydmljZS5zaG93Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk1lc3NhZ2UpO1xyXG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHR2YXIgZXJyb3JUaXRsZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFNhdmVSZXBvcnRUaXRsZScsICdSZXBvcnQgc2F2ZSBlcnJvcicpO1xyXG5cdFx0XHRcdHZhciBlcnJvck1lc3NhZ2UgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0V2l0aFBhcmFtcyhcclxuXHRcdFx0XHRcdCdqc19GYWlsZWRTYXZlUmVwb3J0JyxcclxuXHRcdFx0XHRcdCdGYWlsZWQgdG8gc2F2ZSByZXBvcnQgXCJ7MH1cIi4gRXJyb3IgZGVzY3JpcHRpb246IHsxfScsXHJcblx0XHRcdFx0XHRbcnNSZXBvcnROYW1lLCBlcnJvcl0pO1xyXG5cdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhlcnJvck1lc3NhZ2UsIGVycm9yVGl0bGUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBkYXRhIHNvdXJjZXMgY29udHJvbGxlciBkZWZpbml0aW9uXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnRyb2xsZXIoJ0luc3RhbnRSZXBvcnREYXRhU291cmNlQ29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyR3aW5kb3cnLFxyXG5cdCckdGltZW91dCcsXHJcblx0JyRxJyxcclxuXHQnJGxvZycsXHJcblx0JyRzY2UnLFxyXG5cdCckYW5jaG9yU2Nyb2xsJyxcclxuXHQnJGl6ZW5kYVVybFNlcnZpY2UnLFxyXG5cdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JHEsXHJcblx0XHQkbG9nLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRhbmNob3JTY3JvbGwsXHJcblx0XHQkaXplbmRhVXJsU2VydmljZSxcclxuXHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2YXIgYW5ndWxhckpxJCA9IGFuZ3VsYXIuZWxlbWVudDtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVVybFNlcnZpY2UgPSAkaXplbmRhVXJsU2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLnRydXN0QXNIdG1sID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uc2VhcmNoU3RyaW5nID0gJyc7XHJcblx0XHR2bS5kYXRhU291cmNlcyA9IG51bGw7XHJcblx0XHR2bS5pc0RhdGFTb3VyY2VzTG9hZGluZyA9IHRydWU7XHJcblx0XHR2bS5zZWFyY2hSZXN1bHRzID0gW107XHJcblx0XHR2YXIgcHJldmlvdXNSZXN1bHRzQ291bnQgPSBudWxsO1xyXG5cdFx0dm0uc2VhcmNoUGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdHZtLm9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKTtcclxuXHJcblx0XHR2bS5jb2x1bW5Tb3J0UGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdHZtLmNvbHVtblNvcnRQYW5lbEJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcclxuXHJcblx0XHR2YXIgc2VhcmNoU3RhdGUgPSB7XHJcblx0XHRcdHRpbWVvdXRJZDogbnVsbCxcclxuXHRcdFx0Y2hhbmdpbmc6IGZhbHNlXHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBjb2xsYXBzZVN0YXRlID0ge1xyXG5cdFx0XHRzdGFydGVkOiBmYWxzZVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbGxhcHNlIGFuaW1hdGlvbiBjb21wbGV0ZWQgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0uY29sbGFwc2VDb21wbGV0ZWQgPSBmdW5jdGlvbiAoY29sbGFwc2VkKSB7XHJcblx0XHRcdGNvbGxhcHNlU3RhdGUuc3RhcnRlZCA9IGZhbHNlO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb2dnbGUgb3BlbmVkL2NvbGxhcHNlZCBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0dm0udG9nZ2xlSXRlbUNvbGxhcHNlID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHRcdFx0aWYgKCFjb2xsYXBzZVN0YXRlLnN0YXJ0ZWQpIHtcclxuXHRcdFx0XHRjb2xsYXBzZVN0YXRlLnN0YXJ0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGl0ZW0uY29sbGFwc2VkID0gIWl0ZW0uY29sbGFwc2VkO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHVybiBvZmYgc2VhcmNoIHBhbmVsIGFuZCByZXNldCBpdCB0byBkZWZhdWx0IHN0YXRlLlxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSByZXNldFNlYXJjaFJlc3VsdHMuIENsZWFyIHNlYXJjaCBzdHJpbmcgYW5kIHJlc3VsdHMuXHJcblx0XHQgKi9cclxuXHRcdHZtLnR1cm5PZmZTZWFyY2ggPSBmdW5jdGlvbiAocmVzZXRTZWFyY2hSZXN1bHRzKSB7XHJcblx0XHRcdHZtLnNlYXJjaFBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdGlmIChyZXNldFNlYXJjaFJlc3VsdHMpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNpekluc3REYXRhU291cmNlc1RyZWUnKS5nZXQoMCkuc2Nyb2xsVG9wID0gMDtcclxuXHRcdFx0XHR2bS5zZWFyY2hTdHJpbmcgPSAnJztcclxuXHRcdFx0XHR2bS5zZWFyY2hSZXN1bHRzID0gW107XHJcblx0XHRcdFx0cHJldmlvdXNSZXN1bHRzQ291bnQgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSdW4gc2VhcmNoIHF1ZXJ5LlxyXG5cdFx0ICovXHJcblx0XHR2bS5ydW5TZWFyY2hRdWVyeSA9IGZ1bmN0aW9uIChjbGVhclJlc3VsdHMpIHtcclxuXHRcdFx0aWYgKHZtLnNlYXJjaFF1ZXJ5UnVubmluZylcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyh2bS5zZWFyY2hTdHJpbmcpIHx8IHZtLnNlYXJjaFN0cmluZy50cmltKCkgPT09ICcnKSB7XHJcblx0XHRcdFx0dm0uc2VhcmNoUGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR2bS5zZWFyY2hRdWVyeVJ1bm5pbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uc2VhcmNoUXVlcnlSdW5uaW5nID0gdHJ1ZTtcclxuXHRcdFx0dmFyIGNvdW50ID0gNTA7XHJcblx0XHRcdGlmIChjbGVhclJlc3VsdHMpIHtcclxuXHRcdFx0XHR2bS5zZWFyY2hSZXN1bHRzID0gW107XHJcblx0XHRcdFx0cHJldmlvdXNSZXN1bHRzQ291bnQgPSBudWxsO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnI2l6SW5zdERhdGFTb3VyY2VzVHJlZScpLmdldCgwKS5zY3JvbGxUb3AgPSAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcmV2aW91c1Jlc3VsdHNDb3VudCA9PT0gMCkge1xyXG5cdFx0XHRcdHZtLnNlYXJjaFF1ZXJ5UnVubmluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNlYXJjaEluRGF0YURvdXJjZXModm0uc2VhcmNoU3RyaW5nLCB2bS5zZWFyY2hSZXN1bHRzLmxlbmd0aCwgdm0uc2VhcmNoUmVzdWx0cy5sZW5ndGggKyBjb3VudCAtIDEpLnRoZW4oZnVuY3Rpb24gKHNlYXJjaFJlc3VsdHMpIHtcclxuXHRcdFx0XHRwcmV2aW91c1Jlc3VsdHNDb3VudCA9IHNlYXJjaFJlc3VsdHMubGVuZ3RoO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHNlYXJjaFJlc3VsdHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZtLnNlYXJjaFJlc3VsdHMucHVzaCh0aGlzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHR2bS5zZWFyY2hQYW5lbE9wZW5lZCA9IHRydWU7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0dm0uc2VhcmNoUXVlcnlSdW5uaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBmaWx0ZXJlZCBkYXRhc291cmNlc1xyXG5cdFx0ICovXHJcblx0XHR2bS5zZWFyY2hJbkRhdGFEb3VyY2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoc2VhcmNoU3RhdGUudGltZW91dElkICE9PSBudWxsKVxyXG5cdFx0XHRcdCR0aW1lb3V0LmNhbmNlbChzZWFyY2hTdGF0ZS50aW1lb3V0SWQpO1xyXG5cdFx0XHRzZWFyY2hTdGF0ZS50aW1lb3V0SWQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dm0ucnVuU2VhcmNoUXVlcnkodHJ1ZSk7XHJcblx0XHRcdH0sIDUwMCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNsYXNzZXMgZm9yIGNhdGVnb3J5L3RhYmxlIGZvbGRlciBpY29uc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRGb2xkZXJDbGFzcyA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdHZhciBjc3MgPSAnJztcclxuXHRcdFx0aWYgKCFpdGVtLmNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIG9wZW4nO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtLmFjdGl2ZSkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGFjdGl2ZSc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNzcy50cmltKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY2xhc3NlcyBmb3IgY2F0ZWdvcnkvdGFibGUgbGFiZWxzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEZvbGRlckxhYmVsQ2xhc3MgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHR2YXIgY3NzID0gJyc7XHJcblx0XHRcdGlmIChpdGVtLmFjdGl2ZSkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGFjdGl2ZSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGl0ZW0uaGlnaGxpZ2h0KSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgaGlnaGxpZ2h0JztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWl0ZW0uZW5hYmxlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGRpc2FibGVkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbS5zZWxlY3RlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIHNlbGVjdGVkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gY3NzLnRyaW0oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uZ2V0RmllbGRDbGFzcyA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdHZhciBjc3MgPSAnJztcclxuXHRcdFx0aWYgKGl0ZW0uY2hlY2tlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGNoZWNrZWQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtLmhpZ2hsaWdodCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGhpZ2hsaWdodCc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFpdGVtLmVuYWJsZWQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBkaXNhYmxlZCc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNzcy50cmltKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dm0uZ2V0RmllbGRUZXh0Q2xhc3MgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHR2YXIgY3NzID0gJyc7XHJcblx0XHRcdGlmIChpdGVtLnNlbGVjdGVkKSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgc2VsZWN0ZWQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjc3MudHJpbSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZtLmdldEZpZWxkQ2hlY2tDbGFzcyA9IGZ1bmN0aW9uIChpdGVtLCBpZ25vcmVGb2xkZXJJY29uKSB7XHJcblx0XHRcdGlmICghaWdub3JlRm9sZGVySWNvbiAmJiBpdGVtLmlzTXVsdGlwbGVDb2x1bW5zKSB7XHJcblx0XHRcdFx0aWYgKCFpdGVtLmNvbGxhcHNlZClcclxuXHRcdFx0XHRcdHJldHVybiAnZ2x5cGhpY29uLWNoZXZyb24tZG93bic7XHJcblx0XHRcdFx0cmV0dXJuICdnbHlwaGljb24tY2hldnJvbi1yaWdodCc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGNzcyA9ICcnO1xyXG5cdFx0XHRpZiAoaXRlbS5jaGVja2VkKSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgZ2x5cGhpY29uLWNoZWNrJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBnbHlwaGljb24tdW5jaGVja2VkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gY3NzLnRyaW0oKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrIGlmIGZpZWxkIGhhdmUgZ3JvdXBcclxuXHRcdCAqL1xyXG5cdFx0dm0uaXNGaWVsZEdyb3VwZWQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0cmV0dXJuIGZpZWxkLmNoZWNrZWQgJiYgJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5pc0ZpZWxkR3JvdXBlZChmaWVsZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG9nZ2xlIHRhYmxlIGNvbGxhcHNlZFxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHRhYmxlLiBUb2dnbGluZyB0YWJsZSBvYmplY3QgXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZVRhYmxlQ29sbGFwc2UgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dGFibGUuY29sbGFwc2VkID0gIXRhYmxlLmNvbGxhcHNlZDtcclxuXHRcdFx0XHQvLyBpZiB0YWJsZSBpcyBsYXp5IC0gbG9hZCBmaWVsZHMuXHJcblx0XHRcdFx0aWYgKHRhYmxlLmxhenkpIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubG9hZExhenlGaWVsZHModGFibGUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0YWJsZSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSh0YWJsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgdmFsaWRhdGlvbiBzdGF0ZSBhbmQgcmVmcmVzaCBpZiBuZWVkZWQuXHJcblx0XHQgKi9cclxuXHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrL3VuY2hlY2sgZmllbGQuXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZUZpZWxkQ2hlY2tlZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAoIWZpZWxkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dmFyIG5lZWRUb0NoZWNrID0gIWZpZWxkLmNoZWNrZWQ7XHJcblx0XHRcdHZhciBwaXZvdHNFbmFibGVkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuaXNQaXZvdFZhbGlkKCk7XHJcblxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRDaGVja2VkKGZpZWxkLCBuZWVkVG9DaGVjaywgcGl2b3RzRW5hYmxlZCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0Ly8gdHVybiBvbiBhdXRvZ3JvdXAgaWYgcGl2b3RzIGFyZSB0dXJuZWQgb25cclxuXHRcdFx0XHRpZiAocGl2b3RzRW5hYmxlZCAmJiBuZWVkVG9DaGVjaykge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUF1dG9Hcm91cHModHJ1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5nZXRGaWVsZFRvb2x0aXAgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCFmaWVsZC5jaGVja2VkKVxyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Ub2dnbGVSZXBvcnRGaWVsZCcsICdUb2dnbGUgcmVwb3J0IGZpZWxkJyk7XHJcblx0XHRcdGVsc2UgaWYgKCFmaWVsZC5zZWxlY3RlZClcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2VsZWN0UmVwb3J0RmllbGQnLCAnU2VsZWN0IHJlcG9ydCBmaWVsZCcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hlY2svdW5jaGVjayBmaWVsZCBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmNoZWNrRmllbGQgPSBmdW5jdGlvbiAoZmllbGQsIGFsbG93VW5jaGVjaykge1xyXG5cdFx0XHRpZiAoZmllbGQuaXNNdWx0aXBsZUNvbHVtbnMpIHtcclxuXHRcdFx0XHR2bS50b2dnbGVJdGVtQ29sbGFwc2UoZmllbGQpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2VsZWN0RmllbGQoZmllbGQpO1xyXG5cclxuXHRcdFx0Ly8gZXhpdCBpZiBmaWVsZCBjaGVja2VkIGJ1dCB3ZSBub3QgYWxsb3dlZCB0byB1bmNoZWNrXHJcblx0XHRcdGlmIChmaWVsZC5jaGVja2VkICYmICFhbGxvd1VuY2hlY2spXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0aWYgKCEkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSkge1xyXG5cdFx0XHRcdC8vIGNoZWNrIGZpZWxkIG9jY3VycyBpbiBzZWxlY3RGaWVsZCBmdW5jdGlvblxyXG5cdFx0XHRcdHZtLnRvZ2dsZUZpZWxkQ2hlY2tlZChmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBY3RpdmF0ZS9kZWFjdGl2YXRlIHRhYmxlXHJcblx0XHQgKi9cclxuXHRcdHZtLmFjdGl2YXRlVGFibGUgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseVRhYmxlQWN0aXZlKHRhYmxlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNob3cgZmllbGQgb3B0aW9uc1xyXG5cdFx0ICovXHJcblx0XHR2bS5zZWxlY3RGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpIHtcclxuXHRcdFx0XHR2bS50b2dnbGVGaWVsZENoZWNrZWQoZmllbGQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNlbGVjdGVkKGZpZWxkLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNob3cgZmllbGQgb3B0aW9ucyBidXR0b25cclxuXHRcdCAqL1xyXG5cdFx0dm0uc2hvd0ZpZWxkT3B0aW9ucyA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRTZWxlY3RlZChmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdGlmICgkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSkge1xyXG5cdFx0XHRcdCRzY29wZS5pckNvbnRyb2xsZXIuc2V0TGVmdFBhbmVsQWN0aXZlSXRlbSg3KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSXMgYWxsIHRhYmxlcyBjb2xsYXBzZWRcclxuXHRcdCAqL1xyXG5cdFx0dm0uaXNUYWJsZXNDb2xsYXBzZWQgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHRydWU7XHJcblx0XHRcdGFuZ3VsYXJKcSQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAoIXRoaXMuY29sbGFwc2VkKVxyXG5cdFx0XHRcdFx0cmVzdWx0ID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbGxhcHNlIGFsbCB0YWJsZXMgaW5zaWRlIGNhdGVnb3J5XHJcblx0XHQgKi9cclxuXHRcdHZtLmNvbGxhcHNlQ2F0ZWdvcnlUYWJsZXMgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuXHRcdFx0YW5ndWxhckpxJC5lYWNoKGNhdGVnb3J5LnRhYmxlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHRoaXMuY29sbGFwc2VkID0gdHJ1ZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgbW9yZSB0aGFuIG9uZSBzYW1lIGZpZWxkcyB0byByZXBvcnRcclxuXHRcdCAqL1xyXG5cdFx0dm0uYWRkQW5vdGhlckZpZWxkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHZhciBhbm90aGVyRmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFkZEFub3RoZXJGaWVsZChmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdHZtLnRvZ2dsZUZpZWxkQ2hlY2tlZChhbm90aGVyRmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBtb3JlIHRoYW4gb25lIHNhbWUgZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVtb3ZlQW5vdGhlckZpZWxkID0gZnVuY3Rpb24gKGZpZWxkLCBtdWx0aUZpZWxkKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVtb3ZlQW5vdGhlckZpZWxkKGZpZWxkLCBtdWx0aUZpZWxkKTtcclxuXHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3Blbi9jbG9zZSBjb2x1bW4gc29ydCBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5vcGVuQ29sdW1uc1NvcnRQYW5lbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpKVxyXG5cdFx0XHRcdHZtLmNvbHVtblNvcnRQYW5lbE9wZW5lZCA9IHZhbHVlO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR2bS5jb2x1bW5Tb3J0UGFuZWxPcGVuZWQgPSAhdm0uY29sdW1uU29ydFBhbmVsT3BlbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHbyB0byBmb3VuZCBmaWVsZCBvciB0YWJsZVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHNlYXJjaFJlc3VsdE9iamVjdC4gT2JqZWN0LCB3aXRoIHRhYmxlIHN5c25hbWUgYW5kIGZpZWxkIHN5c25hbWUuIFxyXG5cdFx0ICovXHJcblx0XHR2bS5yZXZlYWxTZWFyY2hSZXN1bHQgPSBmdW5jdGlvbiAoc2VhcmNoUmVzdWx0T2JqZWN0KSB7XHJcblx0XHRcdGZ1bmN0aW9uIGdvdG9TZWFyY2hUYXJnZXQoc2VhcmNoUmVzdWx0KSB7XHJcblx0XHRcdFx0dmFyIGlzRmllbGQgPSBzZWFyY2hSZXN1bHQuaGFzT3duUHJvcGVydHkoJ2ZTeXNOYW1lJyk7XHJcblx0XHRcdFx0dmFyIHRTeXNOYW1lID0gc2VhcmNoUmVzdWx0Wyd0U3lzTmFtZSddO1xyXG5cdFx0XHRcdGlmIChpc0ZpZWxkKSB7XHJcblx0XHRcdFx0XHR2YXIgZmllbGRTeXNOYW1lID0gc2VhcmNoUmVzdWx0WydmU3lzTmFtZSddO1xyXG5cdFx0XHRcdFx0dmFyIGZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEJ5U3lzTmFtZShmaWVsZFN5c05hbWUsIHRydWUpO1xyXG5cdFx0XHRcdFx0dm0uc2VsZWN0RmllbGQoZmllbGQpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHNjcm9sbCB0byBlbGVtZW50XHJcblx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIHRhYmxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5jaG9yJyArIHRTeXNOYW1lKTtcclxuXHRcdFx0XHRcdGlmICh0YWJsZUVsKVxyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNpekluc3REYXRhU291cmNlc1RyZWUnKS5nZXQoMCkuc2Nyb2xsVG9wID0gYW5ndWxhci5lbGVtZW50KHRhYmxlRWwpLnBvc2l0aW9uKCkudG9wO1xyXG5cdFx0XHRcdH0sIDMwMCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLnNlbGVjdEZpZWxkKG51bGwpO1xyXG5cdFx0XHR2bS50dXJuT2ZmU2VhcmNoKHRydWUpO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHJcblx0XHRcdHZhciB0YWJsZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0VGFibGVCeVN5c25hbWUoc2VhcmNoUmVzdWx0T2JqZWN0Wyd0U3lzTmFtZSddKTtcclxuXHRcdFx0aWYgKCF0YWJsZS5jb2xsYXBzZWQpIHtcclxuXHRcdFx0XHRnb3RvU2VhcmNoVGFyZ2V0KHNlYXJjaFJlc3VsdE9iamVjdCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dm0udG9nZ2xlVGFibGVDb2xsYXBzZSh0YWJsZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRnb3RvU2VhcmNoVGFyZ2V0KHNlYXJjaFJlc3VsdE9iamVjdCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgd2F0Y2hlcnNcclxuXHRcdCovXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goYW5ndWxhci5iaW5kKHZtLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2VhcmNoU3RyaW5nO1xyXG5cdFx0XHR9KSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZtLnNlYXJjaEluRGF0YURvdXJjZXMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTG9vayBmb3Igb3B0aW9ucyBjaGFuZ2VcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdFx0XHR2bS5vcHRpb25zID0gb3B0aW9ucztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTGlzdGVuIGZvciBjb21wbGV0ZSBsb2FkaW5nIHBhZ2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFBhZ2VSZWFkeSgpJywgZnVuY3Rpb24gKGlzUGFnZVJlYWR5KSB7XHJcblx0XHRcdFx0aWYgKGlzUGFnZVJlYWR5KSB7XHJcblx0XHRcdFx0XHR2bS5pc0RhdGFTb3VyY2VzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTG9vayBmb3IgZGF0YXNvdXJjZXMgY2hhbmdlXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldERhdGFTb3VyY2VzKCknLCBmdW5jdGlvbiAoZGF0YXNvdXJjZXMpIHtcclxuXHRcdFx0XHR2bS5kYXRhU291cmNlcyA9IGRhdGFzb3VyY2VzO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBMb29rIGZvciBjaGVja2VkIGZpZWxkcyBjb3VudFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsQWN0aXZlRmllbGRzKCknLCBmdW5jdGlvbiAobmV3QWN0aXZlRmllbGRzKSB7XHJcblx0XHRcdFx0dm0uY29sdW1uU29ydFBhbmVsQnV0dG9uRW5hYmxlZCA9IG5ld0FjdGl2ZUZpZWxkcy5sZW5ndGggPiAxO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0Ki9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGluaXRpYWxpemUgd2l0aCBjb250cm9sbGVyXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMoKTtcclxuXHR9XHJcbl0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgZmllbGQgb3B0aW9ucyBjb250cm9sbGVyXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnRyb2xsZXIoJ0luc3RhbnRSZXBvcnRGaWVsZE9wdGlvbnNDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJHEnLFxyXG5cdCckc2NlJyxcclxuXHQnJGxvZycsXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2YXIgcHJpbWFyeUJ1dHRvbkNsYXNzID0gXCJpemVuZGEtY29tbW9uLWJ0bi1kYXJrXCIsXHJcblx0XHRcdGFjdGl2ZUJ1dHRvbkNsYXNzID0gXCJpemVuZGEtY29tbW9uLWJ0bi1kYXJrIGFjdGl2ZVwiO1xyXG5cclxuXHRcdCRzY29wZS4kaXplbmRhTG9jYWxlU2VydmljZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlO1xyXG5cdFx0dm0uZmllbGQgPSBudWxsO1xyXG5cdFx0dm0uY3VycmVudFNvcnRGdW5jdGlvbiA9ICdhc2MnO1xyXG5cdFx0dm0uaXNTdWJ0b3RhbHNFbmFibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0dm0uZHJpbGxEb3duU3R5bGVzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXREcmlsbERvd25TdHlsZXMoKTtcclxuXHRcdHZtLnN1YnJlcG9ydHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFN1YnJlcG9ydHMoKTtcclxuXHRcdHZtLmV4cGFuZGVkID0gZmFsc2U7XHJcblx0XHR2bS5kZGtWYWx1ZXNNYXhBbW91bnQgPSAtMTtcclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNsYXNzIFxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRQYW5lbENsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0cmV0dXJuICdleHBhbmRlZCc7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdCh2bS5maWVsZCkgfHwgISRzY29wZS5pckNvbnRyb2xsZXIuaXNMZWZ0UGFuZWxCb2R5QWN0aXZlKDApKVxyXG5cdFx0XHRcdHJldHVybiAnY29sbGFwc2VkJztcclxuXHRcdFx0aWYgKHZtLmV4cGFuZGVkKVxyXG5cdFx0XHRcdHJldHVybiAnZXhwYW5kZWQnO1xyXG5cdFx0XHRyZXR1cm4gJyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNsYXNzZXMgZm9yIHZhbGlkYXRlIG1lc3NhZ2VzIGljb25cclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0VmFsaWRhdGVNZXNzYWdlSWNvbkNsYXNzID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuXHRcdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmlyZXMgd2hlbiBkZXNjcmlwdGlvbiB3YXMgc2V0IG1hbnVhbGx5LlxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkRlc2NyaXB0aW9uV2FzU2V0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RGVzY3JpcHRpb24odm0uZmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpcmVzIHdoZW4gZ3JvdXAgd2FzIHNlbGVjdGVkXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uRnVuY3Rpb25TZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9PT0gbnVsbClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uub25GaWVsZEZ1bmN0aW9uQXBwbGllZCh2bS5maWVsZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmlyZXMgd2hlbiB0eXBlZ3JvdXAgd2FzIHNlbGVjdGVkXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uVHlwZUdyb3VwU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uub25FeHByZXNzaW9uVHlwZUdyb3VwQXBwbGllZCh2bS5maWVsZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmlyZXMgd2hlbiBleHByZXNzaW9uIGNoYW5nZWQuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uRXhwcmVzc2lvbkNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uub25FeHByZXNzaW9uQXBwbGllZCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBwcmV2aWV3XHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb2dnbGUgbGFiZWwganVzdGlmaWNhdGlvblxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVMYWJlbEp1c3RpZmljYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBpdGVtc0FycmF5ID0gWydMJywgJ00nLCAnUicsICdKJywgJyAnXTtcclxuXHRcdFx0dmFyIGlkeCA9IGl0ZW1zQXJyYXkuaW5kZXhPZih2bS5maWVsZC5sYWJlbEp1c3RpZmljYXRpb24pO1xyXG5cdFx0XHRpZiAoaWR4IDwgaXRlbXNBcnJheS5sZW5ndGggLSAxKVxyXG5cdFx0XHRcdGlkeCsrO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWR4ID0gMDtcclxuXHRcdFx0dm0uZmllbGQubGFiZWxKdXN0aWZpY2F0aW9uID0gaXRlbXNBcnJheVtpZHhdO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRvZ2dsZSB2YWx1ZSBqdXN0aWZpY2F0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZVZhbHVlSnVzdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIGl0ZW1zQXJyYXkgPSBbJ0wnLCAnTScsICdSJywgJ0onLCAnICddO1xyXG5cdFx0XHR2YXIgaWR4ID0gaXRlbXNBcnJheS5pbmRleE9mKHZtLmZpZWxkLnZhbHVlSnVzdGlmaWNhdGlvbik7XHJcblx0XHRcdGlmIChpZHggPCBpdGVtc0FycmF5Lmxlbmd0aCAtIDEpXHJcblx0XHRcdFx0aWR4Kys7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRpZHggPSAwO1xyXG5cdFx0XHR2bS5maWVsZC52YWx1ZUp1c3RpZmljYXRpb24gPSBpdGVtc0FycmF5W2lkeF07XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHNvcnQgYnV0dG9uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFNvcnRCdXR0b25DbGFzcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkKVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIHZtLmZpZWxkLnNvcnQgIT09IG51bGwgPyAnYWN0aXZlJyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBzb3J0IGJ1dHRvbiBpY29uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFNvcnRCdXR0b25HbHlwaENsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY3VycmVudFNvcnRGdW5jdGlvbiA9PT0gJ2Rlc2MnID8gJ2dseXBoaWNvbi1zb3J0LWJ5LWFscGhhYmV0LWFsdCcgOiAnZ2x5cGhpY29uLXNvcnQtYnktYWxwaGFiZXQnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmllbGQgc29ydC4gUGFyYW1ldGVyIHNob3VsZCBiZSAnYXNjJywgJ2Rlc2MnIG9yIG51bGxcclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlGaWVsZFNvcnQgPSBmdW5jdGlvbiAoc29ydEZ1bmN0aW9uKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0RlZmluZWQoc29ydEZ1bmN0aW9uKSkge1xyXG5cdFx0XHRcdGlmICh2bS5maWVsZC5zb3J0ID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQvLyBlbmFibGUgc2VsZWN0ZWQgc29ydFxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkU29ydCh2bS5maWVsZCwgdm0uY3VycmVudFNvcnRGdW5jdGlvbik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIGRpc2FibGUgc2VsZWN0ZWQgc29ydFxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkU29ydCh2bS5maWVsZCwgbnVsbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHNldCBhbmQgZW5hYmxlIHNlbGVjdGVkIHNvcnRcclxuXHRcdFx0XHR2bS5jdXJyZW50U29ydEZ1bmN0aW9uID0gc29ydEZ1bmN0aW9uO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNvcnQodm0uZmllbGQsIHZtLmN1cnJlbnRTb3J0RnVuY3Rpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGl0YWxpYyBidXR0b24gY2xhc3NcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0SXRhbGljQnV0dG9uQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQpXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRyZXR1cm4gdm0uZmllbGQuaXRhbGljID8gJ2FjdGl2ZScgOiAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBseSBmaWVsZCBpdGFsaWMuXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5RmllbGRJdGFsaWMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZEl0YWxpYyh2bS5maWVsZCwgIXZtLmZpZWxkLml0YWxpYyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHZpc2libGUgYnV0dG9uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFZpc2libGVCdXR0b25DbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCF2bS5maWVsZClcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdHZhciBjbGFzc2VzID0gW107XHJcblx0XHRcdGlmICh2bS5maWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2goJ2Rpc2FibGVkJyk7XHJcblx0XHRcdGlmICghdm0uZmllbGQudmlzaWJsZSlcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2goJ2FjdGl2ZScpO1xyXG5cdFx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmllbGQgaXRhbGljLlxyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUZpZWxkVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmZpZWxkLmlzVmdVc2VkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkVmlzaWJsZSh2bS5maWVsZCwgIXZtLmZpZWxkLnZpc2libGUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBib2xkIGJ1dHRvbiBjbGFzc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRCb2xkQnV0dG9uQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQpXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRyZXR1cm4gdm0uZmllbGQuYm9sZCA/ICdhY3RpdmUnIDogJyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmllbGQgYm9sZC5cclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlGaWVsZEJvbGQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZEJvbGQodm0uZmllbGQsICF2bS5maWVsZC5ib2xkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgdmlzdWFsIGdyb3VwIGJ1dHRvbiBjbGFzc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRWZ0J1dHRvbkNsYXNzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQpXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHR2YXIgY2xhc3NlcyA9IFtdO1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkLnZpc2libGUpXHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRpZiAodm0uZmllbGQuaXNWZ1VzZWQpXHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKCdhY3RpdmUnKTtcclxuXHRcdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IHZpc3VhbCBncm91cCBjaGFuZ2VkXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5VmcgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQudmlzaWJsZSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlWaXN1YWxHcm91cCh2bS5maWVsZCwgIXZtLmZpZWxkLmlzVmdVc2VkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJZiB1c2VyIHNlbGVjdHMgbm9uLWRlZmF1bHQgc3VidG90YWwgZnVuY3Rpb24sIHdlIG5lZWQgdG8gdHVybiBvbiBzdWJ0b3RhbHMuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uU3VidG90YWxGdW5jdGlvblNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIHN1YnRvdGFsRnVuY3Rpb24gPSB2bS5maWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbjtcclxuXHRcdFx0aWYgKHN1YnRvdGFsRnVuY3Rpb24gIT09ICdERUZBVUxUJylcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKS5pc1N1YnRvdGFsc0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrIGlzIHN1YnRvdGFsIGdyb3VwIGZ1bmN0aW9uID09PSBleHByZXNzaW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLmlzU3VidG90YWxFeHByZXNzaW9uRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdCh2bS5maWVsZCkpXHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdGlmICghdm0uaXNTdWJ0b3RhbHNFbmFibGVkKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3Qodm0uZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24pKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gdm0uZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24udmFsdWUgIT09ICdFWFBSRVNTSU9OJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFN1YnJlcG9ydCBzZWxlY3RlZCBoYW5kbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uc3VicmVwb3J0U2VsZWN0ZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5maWVsZC5kcmlsbERvd25TdHlsZSA9ICh2bS5maWVsZC5zdWJyZXBvcnQpID8gJ0RldGFpbExpbmtOZXdXaW5kb3cnIDogJyc7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZGlzYWJsZUVtYmVkZGVkRHJpbGxEb3duU3R5bGUodm0uZmllbGQpO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbG9zZSBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5jbG9zZVBhbmVsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNldEN1cnJlbnRBY3RpdmVGaWVsZChudWxsKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgd2F0Y2hlcnNcclxuXHRcdCovXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0Q3VycmVudEFjdGl2ZUZpZWxkKCknLCBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHR2bS5maWVsZCA9IGZpZWxkO1xyXG5cdFx0XHRcdHZtLmV4cGFuZGVkID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3Qodm0uZmllbGQpKSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmRpc2FibGVFbWJlZGRlZERyaWxsRG93blN0eWxlKHZtLmZpZWxkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXREcmlsbERvd25TdHlsZXMoKScsIGZ1bmN0aW9uIChkZFN0eWxlcykge1xyXG5cdFx0XHRcdHZtLmRyaWxsRG93blN0eWxlcyA9IGRkU3R5bGVzO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RXhwcmVzc2lvblR5cGVzKCknLCBmdW5jdGlvbiAodHlwZXMpIHtcclxuXHRcdFx0XHR2bS5leHByZXNzaW9uVHlwZXMgPSB0eXBlcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFN1YnJlcG9ydHMoKScsIGZ1bmN0aW9uIChzdWJyZXBvcnRzKSB7XHJcblx0XHRcdFx0dm0uc3VicmVwb3J0cyA9IHN1YnJlcG9ydHM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCkuaXNTdWJ0b3RhbHNFbmFibGVkJywgZnVuY3Rpb24gKGlzU3VidG90YWxzRW5hYmxlZCkge1xyXG5cdFx0XHRcdHZtLmlzU3VidG90YWxzRW5hYmxlZCA9IGlzU3VidG90YWxzRW5hYmxlZDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplIHdpdGggY29udHJvbGxlclxyXG5cdFx0dm0uaW5pdFdhdGNoZXJzKCk7XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGZpbHRlcnMgY29udHJvbGxlclxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0RmlsdGVyc0NvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRzY2UnLFxyXG5cdCckbG9nJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JHEsXHJcblx0XHQkc2NlLFxyXG5cdFx0JGxvZyxcclxuXHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYVNldHRpbmdzU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSkge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFMb2NhbGVTZXJ2aWNlID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVNldHRpbmdzU2VydmljZSA9ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHR2bS5wYW5lbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0dm0uZmlsdGVycyA9IFtdO1xyXG5cdFx0dm0uZmlsdGVyT3B0aW9ucyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVyT3B0aW9ucygpO1xyXG5cdFx0dm0ub3B0aW9ucyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpO1xyXG5cdFx0dm0uYWN0aXZlRmllbGRzID0gW107XHJcblx0XHR2bS5jdXJyZW50VmFsdWUgPSAnJztcclxuXHRcdHZtLmRhdGVGb3JtYXQgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERhdGVGb3JtYXQoKTtcclxuXHRcdHZtLmN1bHR1cmUgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldEN1bHR1cmUoKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBuZXcgZmlsdGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZEZpbHRlciA9IGZ1bmN0aW9uIChmaWVsZFN5c05hbWUpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5jcmVhdGVOZXdGaWx0ZXIoZmllbGRTeXNOYW1lKS50aGVuKGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVyLmZpZWxkICE9PSBudWxsICYmICFmaWx0ZXIuZmllbGQuYWxsb3dlZEluRmlsdGVycykge1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yVGl0bGUgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FcnJvcicsICdFcnJvcicpO1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yVGV4dCA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZpZWxkRm9yYmlkZGVuRm9yRmlsdGVyaW5nJywgJ1RoaXMgZmllbGQgaXMgZm9yYmlkZGVuIHRvIHVzZSBmb3IgZmlsdGVyaW5nLicpO1xyXG5cdFx0XHRcdFx0JGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihlcnJvclRleHQsIGVycm9yVGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnMoKS5wdXNoKGZpbHRlcik7XHJcblx0XHRcdFx0ZmlsdGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRGaWx0ZXJPcGVyYXRvcihmaWx0ZXIsIG51bGwpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN3YXAgZmlsdGVyIGhhbmRsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVvcmRlckZpbHRlcnMgPSBmdW5jdGlvbiAoaW5kZXgxLCBpbmRleDIpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zd2FwRmlsdGVycyhpbmRleDEsIGluZGV4Mik7XHJcblx0XHRcdHZhciBhbGxmaWx0ZXJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzKCk7XHJcblx0XHRcdHZhciBpbmRleCA9IE1hdGgubWluKGluZGV4MSwgaW5kZXgyKTtcclxuXHRcdFx0dmFyIGZpbHRlciA9IGFsbGZpbHRlcnNbaW5kZXhdO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmUgdG8gZmlsdGVyIGhhbmRsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ubW92ZUZpbHRlclRvID0gZnVuY3Rpb24gKGluZGV4MSwgaW5kZXgyKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubW92ZUZpbHRlclRvKGluZGV4MSwgaW5kZXgyKTtcclxuXHRcdFx0dmFyIGFsbGZpbHRlcnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnMoKTtcclxuXHRcdFx0dmFyIGluZGV4ID0gTWF0aC5taW4oaW5kZXgxLCBpbmRleDIpO1xyXG5cdFx0XHRpbmRleCA9IGluZGV4ID4gMCA/IGluZGV4IC0gMSA6IDA7XHJcblx0XHRcdHZhciBmaWx0ZXIgPSBhbGxmaWx0ZXJzW2luZGV4XTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBmaWx0ZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVtb3ZlRmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHR2YXIgYWxsZmlsdGVycyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpO1xyXG5cdFx0XHR2YXIgY291bnQgPSBhbGxmaWx0ZXJzLmxlbmd0aDtcclxuXHRcdFx0dmFyIGluZGV4ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzKCkuaW5kZXhPZihmaWx0ZXIpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUZpbHRlcihmaWx0ZXIpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHRcdGlmIChjb3VudCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHQvLyByZWZyZXNoIG5leHQgZmlsdGVycyBhZnRlciBhcHBseSBjYXNjYWRpbmdcclxuXHRcdFx0dmFyIG5leHRGaWx0ZXI7XHJcblx0XHRcdGlmIChpbmRleCA9PT0gMCkge1xyXG5cdFx0XHRcdG5leHRGaWx0ZXIgPSBhbGxmaWx0ZXJzWzBdO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5leHRGaWx0ZXIgPSBhbGxmaWx0ZXJzW2luZGV4IC0gMV07XHJcblx0XHRcdH1cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKG5leHRGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKG5leHRGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZXIgd2hlbiBmaWVsZCBzZWxlY3RlZFxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkZpbHRlckZpZWxkQ2hhbmdlID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRpZiAoIWZpbHRlci5pbml0aWFsaXplZClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGZpbHRlci52YWx1ZXMgPSBbXTtcclxuXHRcdFx0ZmlsdGVyLmN1cnJlbnRWYWx1ZSA9ICcnO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubG9hZEZpbHRlckZvcm1hdHMoZmlsdGVyKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRGaWx0ZXJPcGVyYXRvcihmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UG9wdXBGaWx0ZXJDdXN0b21UZW1wbGF0ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIsIHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZSBmaWx0ZXIgdmFsdWVzIGFuZCBleGlzdGluZyB2YWx1ZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25GaWx0ZXJPcGVyYXRvckNoYW5nZSA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFtdO1xyXG5cdFx0XHR2YXIgYXN5bmNQcm9taXNlID0gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHR2YXIgb3BlcmF0b3JUeXBlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKGZpbHRlci5vcGVyYXRvcik7XHJcblx0XHRcdFx0aWYgKG9wZXJhdG9yVHlwZSA9PT0gJ29uZVZhbHVlJyB8fCBvcGVyYXRvclR5cGUgPT09ICdvbmVEYXRlJykge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFsnJ107XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICd0d29WYWx1ZXMnIHx8IG9wZXJhdG9yVHlwZSA9PT0gJ3R3b0RhdGVzJykge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFsnJywgJyddO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAnRXF1YWxzX1RleHRBcmVhJykge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLmN1cnJlbnRWYWx1ZSA9ICcnO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAnRXF1YWxzX0F1dG9jb21wbGV0ZScgfHwgb3BlcmF0b3JUeXBlID09PSAnc2VsZWN0X211bHRpcGxlJykge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFsnJ107XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICdzZWxlY3RfcG9wdXAnKSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFBvcHVwRmlsdGVyQ3VzdG9tVGVtcGxhdGUoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRhc3luY1Byb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlciwgdHJ1ZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybiBhcnJheSBvZiB0aXRsZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0RXhpc3RlbnRWYWx1ZXNTaW1wbGVMaXN0ID0gZnVuY3Rpb24gKGV4aXN0ZW50VmFsdWVzKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBhbmd1bGFyLmVsZW1lbnQubWFwKGV4aXN0ZW50VmFsdWVzLCBmdW5jdGlvbiAodmFsKSB7XHJcblx0XHRcdFx0cmV0dXJuIHZhbC50ZXh0O1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBhdXRvY29tcGxldGUgaXRlbXMgd2hpbGUgdXNlciBlbnRlcmluZyBzb21lIHRleHRcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBmaWx0ZXIgXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gYXV0b2NvbXBsZXRlVGV4dFxyXG5cdFx0ICogQHJldHVybiB7YW5ndWxhciBwcm9taXNlfS4gUHJvbWlzZSBvbiBjb21wbGV0ZVxyXG5cdFx0ICovXHJcblx0XHR2bS51cGRhdGVBdXRvQ29tcGxldGVJdGVtcyA9IGZ1bmN0aW9uIChmaWx0ZXIsIGF1dG9jb21wbGV0ZVRleHQpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0ZmlsdGVyLnBvc3NpYmxlVmFsdWUgPSBhdXRvY29tcGxldGVUZXh0O1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIsIHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnBvc3NpYmxlVmFsdWUgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmVwYXJlIHZhbHVlIGZvciBmaWx0ZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25DdXJyZW50VmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdGlmICghZmlsdGVyLmlzRmlsdGVyUmVhZHkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQvLyBwcmVwYXJlIGRhdGE6XHJcblx0XHRcdGlmIChmaWx0ZXIub3BlcmF0b3IudmFsdWUgPT09ICdFcXVhbHNfVGV4dEFyZWEnKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlcyA9IGZpbHRlci5jdXJyZW50VmFsdWUubWF0Y2goL14uKigoXFxyXFxufFxcbnxcXHIpfCQpL2dtKTtcclxuXHRcdFx0XHRmaWx0ZXIudmFsdWVzID0gW107XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godmFsdWVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy50cmltKCkgIT09ICcnICYmIGZpbHRlci52YWx1ZXMuaW5kZXhPZih0aGlzLnRyaW0oKSkgPCAwKVxyXG5cdFx0XHRcdFx0XHRmaWx0ZXIudmFsdWVzLnB1c2godGhpcy50cmltKCkpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHJlZnJlc2ggY2FzY2FkaW5nOlxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9uIGZpbHRlciBsb2dpYyBjaGFuZ2UuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uRmlsdGVyTG9naWNDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5maWx0ZXJzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICh2bS5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoRmlsdGVyc0ZvckZpbHRlckxvZ2ljKCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5vbkN1cnJlbnRWYWx1ZUNoYW5nZSh2bS5maWx0ZXJzWzBdKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZSB2YWx1ZSBoYW5kbGVyIGZvciBjdXN0b20gcG9wdXAgZmlsdGVyLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vblBvcHVwVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZmlsdGVyLCBuZXdWYWx1ZSkge1xyXG5cdFx0XHRmaWx0ZXIudmFsdWVzID0gbmV3VmFsdWUuc3BsaXQoJywnKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGJ0biB0ZXh0IGZvciBwb3B1cFxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRQb3B1cEJ0blRleHQgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGZpbHRlci52YWx1ZXMpIHx8IGZpbHRlci52YWx1ZXMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybiAnLi4uJztcclxuXHRcdFx0dmFyIGxhYmVscyA9IFtdO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmaWx0ZXIudmFsdWVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGZpbHRlclZhbHVlID0gdGhpcztcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBleGlzdGVudFZhbHVlID0gdGhpcztcclxuXHRcdFx0XHRcdGlmIChleGlzdGVudFZhbHVlLnZhbHVlID09PSBmaWx0ZXJWYWx1ZSlcclxuXHRcdFx0XHRcdFx0bGFiZWxzLnB1c2goZXhpc3RlbnRWYWx1ZS50ZXh0KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciByZXN1bHQgPSBsYWJlbHMuam9pbignLCAnKTtcclxuXHRcdFx0aWYgKHJlc3VsdC5sZW5ndGggPiAzMCkge1xyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5zdWJzdHJpbmcoMCwgMzApO1xyXG5cdFx0XHRcdHJlc3VsdCArPSAnLi4uJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRvZ2dsZSBmaWx0ZXIgdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0dm0udG9nZ2xlVmFsdWUgPSBmdW5jdGlvbiAoZmlsdGVyLCB2YWx1ZSkge1xyXG5cdFx0XHR2YXIgdmFsdWVzID0gZmlsdGVyLnZhbHVlcztcclxuXHRcdFx0dmFyIGluZGV4ID0gdmFsdWVzLmluZGV4T2YodmFsdWUpO1xyXG5cdFx0XHRpZiAoaW5kZXggPj0gMClcclxuXHRcdFx0XHR2YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlcy5wdXNoKHZhbHVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSXMgdmFsdWUgaW4gdmFsdWVzIGNvbGxlY3Rpb24gaW4gZmlsdGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmlzVmFsdWVDaGVja2VkID0gZnVuY3Rpb24gKGZpbHRlciwgdmFsdWUpIHtcclxuXHRcdFx0dmFyIHZhbHVlcyA9IGZpbHRlci52YWx1ZXM7XHJcblx0XHRcdHJldHVybiB2YWx1ZXMuaW5kZXhPZih2YWx1ZSkgPj0gMDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgZmlsdGVyIHZhbHVlIHR5cGVcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0RmlsdGVyT3BlcmF0b3JUeXBlID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKGZpbHRlci5vcGVyYXRvcik7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmlsdGVyc1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xvc2UgZmlsdGVycyBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5jbG9zZUZpbHRlcnNQYW5lbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRGaWx0ZXJzUGFuZWxPcGVuZWQoZmFsc2UpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemUgd2F0Y2hlc1xyXG5cdFx0ICovXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0RGF0ZUZvcm1hdCgpJywgZnVuY3Rpb24gKGRhdGVGb3JtYXQpIHtcclxuXHRcdFx0XHR2bS5kYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdDtcclxuXHRcdFx0fSwgdHJ1ZSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldEN1bHR1cmUoKScsIGZ1bmN0aW9uIChjdWx0dXJlKSB7XHJcblx0XHRcdFx0dm0uY3VsdHVyZSA9IGN1bHR1cmU7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpJywgZnVuY3Rpb24gKG5ld0ZpbHRlcnMsIG9sZEZpbHRlcnMpIHtcclxuXHRcdFx0XHR2bS5maWx0ZXJzID0gbmV3RmlsdGVycztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlck9wdGlvbnMoKScsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG5cdFx0XHRcdHZtLmZpbHRlck9wdGlvbnMgPSBuZXdWYWx1ZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKScsIGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRcdFx0dm0ub3B0aW9ucyA9IG9wdGlvbnM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXModHJ1ZSknLCBmdW5jdGlvbiAobmV3QWN0aXZlRmllbGRzKSB7XHJcblx0XHRcdFx0Ly8gc3luYyBjb2xsZWN0aW9uIGVsZW1lbnRzOlxyXG5cdFx0XHRcdC8vIGFkZDpcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChuZXdBY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBuZXdBY3RpdmVGaWVsZCA9IHRoaXM7XHJcblx0XHRcdFx0XHRpZiAoIW5ld0FjdGl2ZUZpZWxkLmFsbG93ZWRJbkZpbHRlcnMpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godm0uYWN0aXZlRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzID09PSBuZXdBY3RpdmVGaWVsZClcclxuXHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGlmICghZm91bmQpXHJcblx0XHRcdFx0XHRcdHZtLmFjdGl2ZUZpZWxkcy5wdXNoKG5ld0FjdGl2ZUZpZWxkKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyByZW1vdmU6XHJcblx0XHRcdFx0dmFyIGkgPSAwO1xyXG5cdFx0XHRcdHdoaWxlIChpIDwgdm0uYWN0aXZlRmllbGRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpZWxkID0gdm0uYWN0aXZlRmllbGRzW2ldO1xyXG5cdFx0XHRcdFx0dmFyIGZvdW5kID0gZmFsc2U7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IG5ld0FjdGl2ZUZpZWxkcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0XHRpZiAobmV3QWN0aXZlRmllbGRzW2pdID09PSBmaWVsZClcclxuXHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIWZvdW5kKVxyXG5cdFx0XHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRpKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVyc1BhbmVsT3BlbmVkKCknLCBmdW5jdGlvbiAob3BlbmVkKSB7XHJcblx0XHRcdFx0dm0ucGFuZWxPcGVuZWQgPSBvcGVuZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5maWx0ZXJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmluaXRXYXRjaGVycygpO1xyXG5cdH1cclxuXSk7XHJcblxyXG4vKipcclxuICogRmluZCBhbGwgb3BlbmVkIGZpbHRlciBwb3B1cCBtb2RhbHMgYW5kIGNsb3NlIGl0LlxyXG4gKi9cclxud2luZG93LmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgcG9wdXBNb2RhbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnZmlsdGVyc1BvcHVwTW9kYWxEaWFsb2cnKTtcclxuXHRhbmd1bGFyLmVsZW1lbnQuZWFjaChwb3B1cE1vZGFscywgZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyICRtb2RhbCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKTtcclxuXHRcdGlmICgkbW9kYWwuaGFzQ2xhc3MoJ21vZGFsJykgJiYgJG1vZGFsLmhhc0NsYXNzKCdpbicpKSB7XHJcblx0XHRcdCRtb2RhbFsnbW9kYWwnXSgnaGlkZScpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQ3VzdG9tIHBvcHVwIGZpbHRlciBtb2RhbCBzdWJtaXQgY2FsbGJhY2suXHJcbiAqL1xyXG53aW5kb3cuQ0NfQ3VzdG9tRmlsdGVyUGFnZVZhbHVlUmVjZWl2ZWQgPSBmdW5jdGlvbiAoKSB7IH1cclxuXHJcbi8qKlxyXG4gKiBPdmVycmlkZSBoaWRlIG1vZGFsIGZ1bmN0aW9uLlxyXG4gKi9cclxud2luZG93LmhtID0gZnVuY3Rpb24gKCkge1xyXG5cdHdpbmRvdy5oaWRlTW9kYWwoKTtcclxufVxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFPblBvcHVwVmFsdWVDaGFuZ2VTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0aGFuZGxlcjogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlLCB3aGljaCB1c2VkIGZvciBsaXN0ZW5pbmcgY3VzdG9tIHBvcHVwIGZpbHRlcnMgdmFsdWUgY2hhbmdlLlxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYU9uUG9wdXBWYWx1ZUNoYW5nZScsIFtcclxuXHQnJGludGVydmFsJyxcclxuXHRmdW5jdGlvbiAoJGludGVydmFsKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICcmaXplbmRhT25Qb3B1cFZhbHVlQ2hhbmdlJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoJHNjb3BlOiBJSXplbmRhT25Qb3B1cFZhbHVlQ2hhbmdlU2NvcGUsICRlbGVtZW50LCBhdHRycykge1xyXG5cdFx0XHRcdHZhciBwcmV2aW91c1ZhbHVlID0gJGVsZW1lbnQudmFsKCk7XHJcblx0XHRcdFx0dmFyIGludGVydmFsSWQgPSAkaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIG5ld1ZhbHVlID0gJGVsZW1lbnQudmFsKCk7XHJcblx0XHRcdFx0XHRpZiAobmV3VmFsdWUgIT09IHByZXZpb3VzVmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLmhhbmRsZXIoe1xyXG5cdFx0XHRcdFx0XHRcdG5ld1ZhbHVlOiBuZXdWYWx1ZVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0cHJldmlvdXNWYWx1ZSA9IG5ld1ZhbHVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDIwKTtcclxuXHJcblx0XHRcdFx0Ly8gd2Ugc2hvdWxkIHR1cm4gb2ZmIGludGVydmFsIG9uIGRlc3Ryb3kgaW5wdXQgdGFnLlxyXG5cdFx0XHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gaGFuZGxlRGVzdHJveUV2ZW50KCkge1xyXG5cdFx0XHRcdFx0aWYgKGludGVydmFsSWQpIHtcclxuXHRcdFx0XHRcdFx0JGludGVydmFsLmNhbmNlbChpbnRlcnZhbElkKTtcclxuXHRcdFx0XHRcdFx0aW50ZXJ2YWxJZCA9IG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fV0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgZm9ybWF0dGluZyBjb250cm9sbGVyIGRlZmluaXRpb25cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydEZvcm1hdENvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRsb2cnLFxyXG5cdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JGxvZyxcclxuXHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLm9wdEdyb3VwcyA9IHtcclxuXHRcdFx0J2hlYWRlckFuZEZvb3Rlcic6IHtcclxuXHRcdFx0XHRvcGVuZWQ6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdCdjb2xvcic6IHtcclxuXHRcdFx0XHRvcGVuZWQ6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdCdwYWdlJzoge1xyXG5cdFx0XHRcdG9wZW5lZDogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0J2RyaWxsZG93bnMnOiB7XHJcblx0XHRcdFx0b3BlbmVkOiBmYWxzZVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZTtcclxuXHRcdHZtLm9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKTtcclxuXHRcdHZtLnZnU3R5bGVzID0gW107XHJcblx0XHR2bS5hbGxBY3RpdmVGaWVsZHMgPSBbXTtcclxuXHRcdHZtLmRyaWxsRG93bkZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RHJpbGxEb3duRmllbGRzKCk7XHJcblx0XHR2bS5zZWxlY3RlZERyaWxsZG93bkZpZWxkID0gbnVsbDtcclxuXHJcblx0XHR2bS5zZXR0aW5ncyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlLmdldFNldHRpbmdzKCk7XHJcblx0XHR2bS5kZGtWYWx1ZXNNYXhBbW91bnQgPSB2bS5zZXR0aW5ncy5kZGtWYWx1ZXNNYXhBbW91bnQ7XHJcblx0XHR2bS5hbGxvd1ZpcnR1YWxEYXRhU291cmNlcyA9IHZtLnNldHRpbmdzLmFsbG93VmlydHVhbERhdGFTb3VyY2VzO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzdG9yZSBkZWZhdWx0IGNvbG9yIHNldHRpbmdzLlxyXG5cdFx0ICovXHJcblx0XHR2bS5yZXN0b3JlRGVmYXVsdENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZXN0b3JlRGVmYXVsdENvbG9ycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBmaWVsZHMgd2hpY2ggYXJlIGFscmVhZHkgaW4gZHJpbGxkb3duIGNvbGxlY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVtb3ZlRHJpbGxkb3duRmllbGRzRnJvbUF2YWlsYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dm0uYWxsQWN0aXZlRmllbGRzID0gYW5ndWxhci5lbGVtZW50LmdyZXAodm0uYWxsQWN0aXZlRmllbGRzLCBmdW5jdGlvbiAoZjogYW55KSB7XHJcblx0XHRcdFx0dmFyIGZvdW5kID0gZmFsc2U7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godm0uZHJpbGxEb3duRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgZGRGaWVsZCA9IHRoaXM7XHJcblx0XHRcdFx0XHRpZiAoZGRGaWVsZC5pZCA9PT0gZi5pZClcclxuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJldHVybiAhZm91bmQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIHVwZGF0ZSBhdmFpbGFibGUgY29sbGVjdGlvblxyXG5cdFx0ICovXHJcblx0XHR2bS5zeW5jQXZhaWxhYmxlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIGFjdGl2ZVRhYmxlcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWN0aXZlVGFibGVzKCk7XHJcblx0XHRcdHZtLmFsbEFjdGl2ZUZpZWxkcyA9IFtdO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChhY3RpdmVUYWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgdGFibGUgPSB0aGlzO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRhYmxlLmZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dm0uYWxsQWN0aXZlRmllbGRzLnB1c2godGhpcyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2bS5yZW1vdmVEcmlsbGRvd25GaWVsZHNGcm9tQXZhaWxhYmxlKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIGRyaWxsZG93biBrZXlcclxuXHRcdCAqL1xyXG5cdFx0dm0uYWRkRHJpbGxkb3duID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uc2VsZWN0ZWREcmlsbGRvd25GaWVsZCA9PT0gbnVsbClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICh2bS5kcmlsbERvd25GaWVsZHMubGVuZ3RoID49IHZtLmRka1ZhbHVlc01heEFtb3VudClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZtLmRyaWxsRG93bkZpZWxkcy5wdXNoKHZtLnNlbGVjdGVkRHJpbGxkb3duRmllbGQpO1xyXG5cdFx0XHR2bS5zeW5jQXZhaWxhYmxlQ29sbGVjdGlvbigpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBkcmlsbGRvd24gZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVtb3ZlRHJpbGxkb3duRmllbGQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0dmFyIGluZGV4ID0gdm0uZHJpbGxEb3duRmllbGRzLmluZGV4T2YoZmllbGQpO1xyXG5cdFx0XHR2bS5kcmlsbERvd25GaWVsZHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0dm0uc3luY0F2YWlsYWJsZUNvbGxlY3Rpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBMb29rIGZvciBvcHRpb25zIGNoYW5nZVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCknLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0XHRcdHZtLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0VmdTdHlsZXMoKScsIGZ1bmN0aW9uIChzdHlsZXMpIHtcclxuXHRcdFx0XHR2bS52Z1N0eWxlcyA9IHN0eWxlcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldERyaWxsRG93bkZpZWxkcygpJywgZnVuY3Rpb24gKGRkRmllbGRzKSB7XHJcblx0XHRcdFx0dm0uZHJpbGxEb3duRmllbGRzID0gZGRGaWVsZHM7XHJcblx0XHRcdFx0dm0uc3luY0F2YWlsYWJsZUNvbGxlY3Rpb24oKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBY3RpdmVUYWJsZXMoKScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2bS5zeW5jQXZhaWxhYmxlQ29sbGVjdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0UGl2b3RzQ29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCRpemVuZGFMb2NhbGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlO1xyXG5cclxuXHRcdHZtLnBhbmVsT3BlbmVkID0gZmFsc2U7IC8vIHBpdm90IHBhbmVsIHN0YXRlXHJcblx0XHR2bS5hY3RpdmVGaWVsZHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKHRydWUpO1xyXG5cdFx0dm0ucGl2b3RDb2x1bW4gPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRQaXZvdENvbHVtbigpO1xyXG5cdFx0dm0ucGl2b3RPcHRpb25zID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3RPcHRpb25zKCk7XHJcblx0XHR2bS5jZWxsVmFsdWVzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0Q2VsbFZhbHVlcygpO1xyXG5cdFx0dm0uc2VsZWN0ZWRGaWVsZHMgPSBbXTtcclxuXHJcblx0XHR2YXIgdXBkYXRlU2VsZWN0ZWRGaWVsZHNBcnJheSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHMgPSBbXTtcclxuXHRcdFx0dm0uY2VsbFZhbHVlcy5mb3JFYWNoKGNlbGxWYWx1ZSA9PiB7XHJcblx0XHRcdFx0aWYgKGNlbGxWYWx1ZSlcclxuXHRcdFx0XHRcdHZtLnNlbGVjdGVkRmllbGRzLnB1c2goJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEJ5U3lzTmFtZShjZWxsVmFsdWUuc3lzbmFtZSkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHVwZGF0ZVNlbGVjdGVkRmllbGRzQXJyYXkoKTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0XHQvLyBwaXZvdCBjb2x1bW5cclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBhZGRpdGlvbmFsIGNsYXNzIGZvciBcImFkZCBjZWxsIHZhbHVlXCIgYnV0dG9uLlxyXG5cdFx0ICogQHJldHVybnMge3N0cmluZ30gY2xhc3MgbmFtZXMgJ2NsYXNzMSBjbGFzczIgLi4uJy5cclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0QWRkQ2VsbEJ0bkNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXZtLnBpdm90Q29sdW1uKVxyXG5cdFx0XHRcdHJldHVybiAnZGlzYWJsZWQnO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmNlbGxWYWx1ZXMsIGZ1bmN0aW9uIChpVmFsdWUsIHZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKCF2YWx1ZSlcclxuXHRcdFx0XHRcdHJlc3VsdCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0ID8gJ2Rpc2FibGVkJyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB2YWxpZGF0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnVwZGF0ZVZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXQoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgdmFsaWRhdGlvbiBzdGF0ZSBhbmQgcmVmcmVzaCBpZiBuZWVkZWQuXHJcblx0XHQgKi9cclxuXHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zZXREZWZhdWx0R3JvdXAoKTtcclxuXHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuY2xlYXJSZXBvcnRQcmV2aWV3SHRtbCgpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5QXV0b0dyb3Vwcyh0cnVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVc2VyIHNlbGVjdGVkIHBpdm90IGNvbHVtblxyXG5cdFx0ICovXHJcblx0XHR2bS5vblBpdm90Q29sdW1uRmllbGRTZWxlY3QgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5waXZvdENvbHVtbiAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdHZhciBzb3VyY2VGaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeVN5c05hbWUodm0ucGl2b3RDb2x1bW4uc3lzbmFtZSk7XHJcblxyXG5cdFx0XHRcdHZhciBncm91cE5hbWUgPSBudWxsO1xyXG5cdFx0XHRcdHZhciBvbGRQaXZvdENvbHVtbiA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90Q29sdW1uKCk7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3Qob2xkUGl2b3RDb2x1bW4pICYmIHNvdXJjZUZpZWxkLnN5c25hbWUgPT09IG9sZFBpdm90Q29sdW1uLnN5c25hbWUpIHtcclxuXHRcdFx0XHRcdGdyb3VwTmFtZSA9IG9sZFBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbi52YWx1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuY29weUZpZWxkT2JqZWN0KHNvdXJjZUZpZWxkLCB2bS5waXZvdENvbHVtbiwgdHJ1ZSk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZXNldEZpZWxkT2JqZWN0KHZtLnBpdm90Q29sdW1uKTtcclxuXHRcdFx0XHR2bS5waXZvdENvbHVtbi5pc1Bpdm90Q29sdW1uID0gdHJ1ZTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zZXRQaXZvdENvbHVtbih2bS5waXZvdENvbHVtbik7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5pbml0aWFsaXplRmllbGQodm0ucGl2b3RDb2x1bW4pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0XHRcdGlmIChncm91cE5hbWUgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godm0ucGl2b3RDb2x1bW4uZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnZhbHVlID09PSBncm91cE5hbWUpXHJcblx0XHRcdFx0XHRcdFx0XHR2bS5waXZvdENvbHVtbi5ncm91cEJ5RnVuY3Rpb24gPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAodm0uY2VsbFZhbHVlcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0dm0uYWRkQ2VsbFZhbHVlKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdC8vIGNlbGwgdmFsdWVzXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDZWxsIHZhbHVlIGZpZWxkIHNlbGVjdCBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uQ2VsbFZhbHVlRmllbGRTZWxlY3QgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuXHRcdFx0dmFyIHNlbGVjdGVkRmllbGQgPSB2bS5zZWxlY3RlZEZpZWxkc1tpbmRleF07XHJcblx0XHRcdHZhciBjZWxsVmFsdWUgPSB2bS5jZWxsVmFsdWVzW2luZGV4XTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoY2VsbFZhbHVlKSAmJiBzZWxlY3RlZEZpZWxkLnN5c25hbWUgPT09IGNlbGxWYWx1ZS5zeXNuYW1lKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKGNlbGxWYWx1ZSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdC8vIGlmIGZpZWxkIHdhc24ndCBzZXQgeWV0XHJcblx0XHRcdFx0dm0uY2VsbFZhbHVlc1tpbmRleF0gPSBjZWxsVmFsdWUgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNyZWF0ZUZpZWxkT2JqZWN0KHNlbGVjdGVkRmllbGQubmFtZSwgc2VsZWN0ZWRGaWVsZC5wYXJlbnRJZCwgc2VsZWN0ZWRGaWVsZC50YWJsZVN5c25hbWUsIHNlbGVjdGVkRmllbGQudGFibGVOYW1lLFxyXG5cdFx0XHRcdFx0c2VsZWN0ZWRGaWVsZC5zeXNuYW1lLCBzZWxlY3RlZEZpZWxkLnR5cGVHcm91cCwgc2VsZWN0ZWRGaWVsZC50eXBlLCBzZWxlY3RlZEZpZWxkLnNxbFR5cGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuY29weUZpZWxkT2JqZWN0KHNlbGVjdGVkRmllbGQsIGNlbGxWYWx1ZSwgdHJ1ZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVzZXRGaWVsZE9iamVjdChjZWxsVmFsdWUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmluaXRpYWxpemVGaWVsZChjZWxsVmFsdWUpLnRoZW4oZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdncm91cCcpXHJcblx0XHRcdFx0XHRcdGYuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcztcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlbGwgdmFsdWUgZnVuY3Rpb24gc2VsZWN0IGhhbmRsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25DZWxsVmFsdWVGdW5jdGlvblNlbGVjdCA9IGZ1bmN0aW9uIChjZWxsVmFsdWUpIHtcclxuXHRcdFx0aWYgKGNlbGxWYWx1ZS5ncm91cEJ5RnVuY3Rpb24gPT09IG51bGwpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm9uRmllbGRGdW5jdGlvbkFwcGxpZWQoY2VsbFZhbHVlKTtcclxuXHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDZWxsIHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZtLnNob3dBZHZhbmNlZE9wdGlvbnMgPSBmdW5jdGlvbiAoY2VsbFZhbHVlKSB7XHJcblx0XHRcdGNlbGxWYWx1ZS5pc1Bpdm90Q2VsbFZhbHVlID0gdHJ1ZTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkU2VsZWN0ZWQoY2VsbFZhbHVlLCB0cnVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGUgY2VsbCB2YWx1ZSBpdGVtXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZENlbGxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuYWRkQ2VsbFZhbHVlKCk7XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzLnB1c2gobnVsbCk7XHJcblx0XHRcdHZtLnVwZGF0ZVZhbGlkYXRpb24oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uY2xlYXJQaXZvdHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnJlbW92ZVBpdm90cygpO1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBjZWxsIHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZUNlbGxWYWx1ZSA9IGZ1bmN0aW9uIChjZWxsVmFsdWUpIHtcclxuXHRcdFx0dmFyIGlkeCA9IHZtLmNlbGxWYWx1ZXMuaW5kZXhPZihjZWxsVmFsdWUpO1xyXG5cdFx0XHR2bS5zZWxlY3RlZEZpZWxkcy5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UucmVtb3ZlQ2VsbFZhbHVlKGNlbGxWYWx1ZSk7XHJcblx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlIGNlbGwgdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0dm0ubW92ZUNlbGxWYWx1ZVRvID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5tb3ZlQ2VsbFZhbHVlVG8oZnJvbUluZGV4LCB0b0luZGV4KTtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHMuc3BsaWNlKHRvSW5kZXgsIDAsIHZtLnNlbGVjdGVkRmllbGRzLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW9yZGVyIGNlbGxzXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlb3JkZXJDZWxsVmFsdWUgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4KSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnN3YXBDZWxsVmFsdWVzKGZyb21JbmRleCwgdG9JbmRleCk7XHJcblx0XHRcdHZhciB0ZW1wID0gdm0uc2VsZWN0ZWRGaWVsZHNbZnJvbUluZGV4XTtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHNbZnJvbUluZGV4XSA9IHZtLnNlbGVjdGVkRmllbGRzW3RvSW5kZXhdO1xyXG5cdFx0XHR2bS5zZWxlY3RlZEZpZWxkc1t0b0luZGV4XSA9IHRlbXA7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIHBpdm90IGl0ZW1cclxuXHRcdCAqL1xyXG5cdFx0dm0uYWRkUGl2b3RJdGVtID0gZnVuY3Rpb24gKGZpZWxkU3lzTmFtZSkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZmllbGRTeXNOYW1lKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICgkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFjdGl2ZVRhYmxlcygpLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdC8vIG9wZW4gcGFuZWxcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRGaWx0ZXJzUGFuZWxPcGVuZWQoZmFsc2UpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zZXRQaXZvdHNQYW5lbE9wZW5lZCh0cnVlKTtcclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBhbmQgYWRkIHBpdm90IGl0ZW1cclxuXHRcdFx0dmFyIGZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWVsZEJ5U3lzTmFtZShmaWVsZFN5c05hbWUpO1xyXG5cdFx0XHR2YXIgbmV3SXRlbSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuY3JlYXRlRmllbGRPYmplY3QoXHJcblx0XHRcdFx0ZmllbGQubmFtZSwgZmllbGQucGFyZW50SWQsIGZpZWxkLnRhYmxlU3lzbmFtZSwgZmllbGQudGFibGVOYW1lLFxyXG5cdFx0XHRcdGZpZWxkLnN5c25hbWUsIGZpZWxkLnR5cGVHcm91cCwgZmllbGQudHlwZSwgZmllbGQuc3FsVHlwZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuaW5pdGlhbGl6ZUZpZWxkKG5ld0l0ZW0pLnRoZW4oZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmFkZFBpdm90SXRlbShuZXdJdGVtKTtcclxuXHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlBdXRvR3JvdXBzKHRydWUpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdC8vIHBpdm90IHBhbmVsIHN0YXRlIGxpc3RlbmVyXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90c1BhbmVsT3BlbmVkKCknLCBmdW5jdGlvbiAob3BlbmVkKSB7XHJcblx0XHRcdFx0dm0ucGFuZWxPcGVuZWQgPSBvcGVuZWQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbWFpbiBwaXZvdCBjb2x1bW5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3RDb2x1bW4oKScsIGZ1bmN0aW9uIChwaXZvdENvbHVtbikge1xyXG5cdFx0XHRcdHZtLnBpdm90Q29sdW1uID0gcGl2b3RDb2x1bW47XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gcGl2b3QgY2VsbCB2YWx1ZXNcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldENlbGxWYWx1ZXMoKScsIGZ1bmN0aW9uIChjZWxsVmFsdWVzKSB7XHJcblx0XHRcdFx0dm0uY2VsbFZhbHVlcyA9IGNlbGxWYWx1ZXM7XHJcblx0XHRcdFx0dXBkYXRlU2VsZWN0ZWRGaWVsZHNBcnJheSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90T3B0aW9ucygpJywgZnVuY3Rpb24gKHBpdm90T3B0aW9ucykge1xyXG5cdFx0XHRcdHZtLnBpdm90T3B0aW9ucyA9IHBpdm90T3B0aW9ucztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBsaXN0ZW4gZm9yIGFjdGl2ZSBmaWVsZCBpdGVtc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKScsIGZ1bmN0aW9uIChuZXdBY3RpdmVGaWVsZHMpIHtcclxuXHRcdFx0XHQvLyBhZGQ6XHJcblx0XHRcdFx0dmFyIGNvdW50T2ZDaGFuZ2VzID0gMDtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChuZXdBY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBuZXdBY3RpdmVGaWVsZCA9IHRoaXM7XHJcblx0XHRcdFx0XHR2YXIgZm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zeXNuYW1lID09PSBuZXdBY3RpdmVGaWVsZC5zeXNuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0aWYgKCFmb3VuZCkge1xyXG5cdFx0XHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMucHVzaChuZXdBY3RpdmVGaWVsZCk7XHJcblx0XHRcdFx0XHRcdGNvdW50T2ZDaGFuZ2VzKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gcmVtb3ZlOlxyXG5cdFx0XHRcdHZhciBpID0gMDtcclxuXHRcdFx0XHR3aGlsZSAoaSA8IHZtLmFjdGl2ZUZpZWxkcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHZhciBmaWVsZCA9IHZtLmFjdGl2ZUZpZWxkc1tpXTtcclxuXHRcdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBuZXdBY3RpdmVGaWVsZHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKG5ld0FjdGl2ZUZpZWxkc1tqXS5zeXNuYW1lID09PSBmaWVsZC5zeXNuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0XHRcdFx0dm0uYWN0aXZlRmllbGRzLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdFx0Y291bnRPZkNoYW5nZXMrKztcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRpKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnN5bmNQaXZvdFN0YXRlKHZtLmFjdGl2ZUZpZWxkcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcbl0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgdmFsaWRhdGlvbiBjb250cm9sbGVyLlxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0VmFsaWRhdGlvbkNvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UpIHtcclxuXHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlO1xyXG5cclxuXHRcdHZtLmlzVmFsaWQgPSB0cnVlO1xyXG5cdFx0dm0ubWVzc2FnZXMgPSBbXTtcclxuXHRcdHZtLmluZm9NZXNzYWdlcyA9IFtdO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLmdldFZhbGlkYXRpb25NZXNzYWdlcygpJywgZnVuY3Rpb24gKG1lc3NhZ2VzKSB7XHJcblx0XHRcdFx0dm0uaXNWYWxpZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UuaXNSZXBvcnRWYWxpZCgpO1xyXG5cdFx0XHRcdHZtLm1lc3NhZ2VzID0gW107XHJcblx0XHRcdFx0dm0uaW5mb01lc3NhZ2VzID0gW107XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gobWVzc2FnZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBtZXNzYWdlID0gdGhpcztcclxuXHRcdFx0XHRcdGlmIChtZXNzYWdlLnR5cGUgPT09ICdpbmZvJykge1xyXG5cdFx0XHRcdFx0XHR2bS5pbmZvTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHZtLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1xdWVyeSc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXBpdm90JztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtc2V0dGluZ3MnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXZpc3VhbGl6YXRpb24nO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXN0b3JhZ2UnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXZhbGlkYXRpb24nO1xyXG5cclxuSXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlKTtcclxuSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5yZWdpc3RlcihpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlKTtcclxuSXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5yZWdpc3RlcihpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlKTtcclxuSXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUpO1xyXG5JemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSk7XHJcbkl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS5yZWdpc3RlcihpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlKTtcclxuXHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvZGlyZWN0aXZlL2luc3RhbnQtcmVwb3J0LWZpZWxkLWRyYWdnYWJsZSc7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvZGlyZWN0aXZlL2luc3RhbnQtcmVwb3J0LWxlZnQtcGFuZWwtcmVzaXplJztcclxuXHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtY2hhcnRzLWNvbnRyb2xsZXInO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWNvbHVtbnMtc29ydC1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1kYXRhLXNvdXJjZS1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWVsZC1vcHRpb25zLWNvbnRyb2xsZXInO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWZpbHRlcnMtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtZm9ybWF0LWNvbnRyb2xsZXInO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LXBpdm90LWNvbnRyb2xsZXInO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LXZhbGlkYXRpb24tY29udHJvbGxlcic7XHJcbiIsImltcG9ydCB7IElJemVuZGFSYXdNb2RlbCBhcyBJUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuXHJcbi8qKlxyXG4gKiBTZXJ2ZXItc2lkZSBmaWx0ZXJzIG9iamVjdCByYXcgbW9kZWwuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhRmlsdGVyc01vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHJcblx0ZmlsdGVyTG9naWM6IHN0cmluZyA9ICcnO1xyXG5cdGZpbHRlcnM6IGFueVtdID0gW107XHJcblx0c3VicmVwb3J0c0ZpbHRlcnM6IGFueSA9IG51bGw7XHJcblxyXG5cdGZyb21Kc29uKGpzb246IGFueSkge1xyXG5cdFx0dGhpcy5maWx0ZXJMb2dpYyA9IGpzb24uRmlsdGVyTG9naWMgfHwgJyc7XHJcblx0XHR0aGlzLmZpbHRlcnMgPSBqc29uLkZpbHRlcnMgfHwgW107XHJcblx0XHR0aGlzLnN1YnJlcG9ydHNGaWx0ZXJzID0ganNvbi5TdWJyZXBvcnRzRmlsdGVycyB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0dG9Kc29uKCk6IGFueSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRGaWx0ZXJMb2dpYzogdGhpcy5maWx0ZXJMb2dpYyxcclxuXHRcdFx0RmlsdGVyczogdGhpcy5maWx0ZXJzLFxyXG5cdFx0XHRTdWJyZXBvcnRGaWx0ZXJzOiB0aGlzLnN1YnJlcG9ydHNGaWx0ZXJzXHJcblx0XHR9O1xyXG5cdH1cclxufSIsIi8qKlxyXG4gKiBUaGlzIGludGVyZmFjZSB1c2VkIGZvciB0aGUgY29udmVydGF0aW9uIGZyb20vdG8gc2VydmVyLXNpZGUganNvbiBvYmplY3RzLlxyXG4gKiBPYmplY3Qgd2l0aCB0aGlzIGludGVyZmFjZSBhcmUgdXNlZCBhcyB0aGUgcHJvbWlzZSBwYXJhbWV0ZXJzIGZvciBxdWVyeSBtZXRob2RzLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhUmF3TW9kZWwge1xyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHJhdyBqc29uIChvciBhbnkgb3RoZXIgdHlwZSkgaW50byB0aGUgcmF3IG1vZGVsIG9iamVjdC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBTb3VyY2UgcmF3IG9iamVjdC5cclxuXHQgKi9cclxuXHRmcm9tSnNvbihqc29uOiBhbnksIC4uLm9wdGlvbmFsKTtcclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCB0aGlzIG9iamVjdCBpbnRvIHRoZSByYXcgZm9ybWF0LlxyXG5cdCAqIEByZXR1cm5zIHthbnl9IFJhdyBvYmplY3QuXHJcblx0ICovXHJcblx0dG9Kc29uKCk6IGFueTtcclxufSIsIi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBzZXR0aW5ncyBvYmplY3QgaW50ZXJmYWNlLiBWYWx1ZXMgZm9yIHRoaXMgcGFzc2VkIGZyb21cclxuICogXCJzdGF0aWMgc3RyaW5nIEdldEluc3RhbnRSZXBvcnRTZXR0aW5ncygpXCIgYmFja2VuZCBtZXRob2QuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0Q29uZmlnIHtcclxuXHRhbGxvd1ZpcnR1YWxEYXRhU291cmNlczogYm9vbGVhbjtcclxuXHRkZGtWYWx1ZXNNYXhBbW91bnQ6IG51bWJlcjtcclxuXHRzaG93RGVzaWduTGlua3M6IGJvb2xlYW47XHJcblx0c2hvd1NhdmVDb250cm9sczogYm9vbGVhbjtcclxuXHRzaG93U2NoZWR1bGVDb250cm9sczogYm9vbGVhbjtcclxuXHRzaG93U2hhcmluZ0NvbnRyb2w6IGJvb2xlYW47XHJcblx0c2hvd0NoYXJ0VGFiOiBib29sZWFuO1xyXG5cdHNob3dBbGxJblByZXZpZXc6IGJvb2xlYW47XHJcblx0ZGlzdGluY3Q6IGJvb2xlYW47XHJcblx0c2hvd0Rpc3RpbmN0OiBib29sZWFuO1xyXG5cdGRlZmF1bHRUYWJsZTogc3RyaW5nO1xyXG5cdG1heEFsbG93ZWRUYWJsZXM6IG51bWJlcjtcclxuXHRoZWFkZXJGb3JlZ3JvdW5kQ29sb3I6IHN0cmluZztcclxuXHRpdGVtRm9yZWdyb3VuZENvbG9yOiBzdHJpbmc7XHJcblx0cmVwb3J0SGVhZGVyQ29sb3I6IHN0cmluZztcclxuXHRyZXBvcnRJdGVtQ29sb3I6IHN0cmluZztcclxuXHRyZXBvcnRBbHRlcm5hdGluZ0l0ZW1Db2xvcjogc3RyaW5nO1xyXG5cdHJlcG9ydEJvcmRlckNvbG9yOiBzdHJpbmc7XHJcblx0ZGVmYXVsdFZpc2liaWxpdHlGb3JOb25BZG1pbnM6IHN0cmluZztcclxuXHRkZWZhdWx0U2hhcmluZ1JpZ2h0czogc3RyaW5nO1xyXG5cclxuXHQvLyBjdXN0b20gYWRkaXRpb25hbCBzZXR0aW5ncyAobm90IHByZXNlbnRlZCBpbiBiYWNrZW5kKVxyXG5cdG1vdmVVbmNhdGVnb3JpemVkVG9MYXN0UG9zaXRpb24gOiBib29sZWFuO1xyXG59XHJcbiJdfQ==
