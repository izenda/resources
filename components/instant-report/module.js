var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
izendaRequire.define("common/core/module-definition", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // create izenda.common.core angular module
    var izendaCoreModule = angular.module('izenda.common.core', ['rx']);
    exports.default = izendaCoreModule;
});
izendaRequire.define("common/core/tools/msie-detect", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MsieDetect = /** @class */ (function () {
        function MsieDetect() {
        }
        MsieDetect.isSpecificIeVersion = function (version, comparison) {
            var ieCompareOperator = 'IE';
            var b = document.createElement('B');
            var docElem = document.documentElement;
            if (version) {
                ieCompareOperator += " " + version;
                if (comparison) {
                    ieCompareOperator = comparison + " " + ieCompareOperator;
                }
            }
            b.innerHTML = "<!--[if " + ieCompareOperator + "]><b id=\"iecctest\"></b><![endif]-->";
            docElem.appendChild(b);
            var isIeResult = !!document.getElementById('iecctest');
            docElem.removeChild(b);
            var docMode = document['documentMode'];
            var isCompatibilityMode = (typeof docMode !== 'undefined' &&
                ((comparison === 'lte' && Number(docMode) <= version) ||
                    (comparison === 'gte' && Number(docMode) >= version) ||
                    (comparison === 'lt' && Number(docMode) < version) ||
                    (comparison === 'gt' && Number(docMode) > version) ||
                    (comparison === 'eq' && Number(docMode) === version)));
            return isIeResult || isCompatibilityMode;
        };
        return MsieDetect;
    }());
    exports.default = MsieDetect;
});
izendaRequire.define("common/core/services/compatibility-service", ["require", "exports", "common/core/tools/msie-detect", "izenda-external-libs"], function (require, exports, msie_detect_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaCompatibilityService = /** @class */ (function () {
        function IzendaCompatibilityService($window) {
            this.$window = $window;
            this.rightNone = 'None';
            this.rightReadOnly = 'Read Only';
            this.rightViewOnly = 'View Only';
            this.rightLocked = 'Locked';
            this.rightFullAccess = 'Full Access';
            this.currentRights = this.rightNone;
            this.ie8 = msie_detect_1.default.isSpecificIeVersion(8, 'lte');
            this.lteIe10 = msie_detect_1.default.isSpecificIeVersion(10, 'lte');
            this.gteIe9 = msie_detect_1.default.isSpecificIeVersion(10, 'gte');
        }
        IzendaCompatibilityService.prototype.isIe8 = function () {
            return this.ie8;
        };
        IzendaCompatibilityService.prototype.isIe = function () {
            return this.gteIe9;
        };
        IzendaCompatibilityService.prototype.isLteIe10 = function () {
            return this.lteIe10;
        };
        IzendaCompatibilityService.prototype.isHtml5FullScreenSupported = function () {
            return !this.lteIe10
                && (document['fullscreenEnabled'] || document['webkitFullscreenEnabled'] || document['mozFullScreenEnabled'] || document['msFullscreenEnabled']);
        };
        /**
         * Check is page should have mobile view.
         */
        IzendaCompatibilityService.prototype.isMobile = function () {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        };
        /**
         * Check is page window is too small to fit several columns of tiles.
         */
        IzendaCompatibilityService.prototype.isSmallResolution = function () {
            return this.$window.innerWidth <= 991;
        };
        /**
         * Check if one column view required
         */
        IzendaCompatibilityService.prototype.isOneColumnView = function () {
            return this.isMobile() || this.isSmallResolution();
        };
        ;
        /**
         * Set rights for current dashboard
         */
        IzendaCompatibilityService.prototype.setRights = function (rights) {
            this.currentRights = rights ? rights : this.rightNone;
        };
        /**
         * Get current rights
         */
        IzendaCompatibilityService.prototype.getRights = function () {
            return this.currentRights ? this.currentRights : this.rightNone;
        };
        /**
         * Set full access right as current right.
         */
        IzendaCompatibilityService.prototype.setFullAccess = function () {
            this.setRights(this.rightFullAccess);
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isFullAccess = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isOneColumnView();
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save as allowed
         */
        IzendaCompatibilityService.prototype.isSaveAsAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed
         */
        IzendaCompatibilityService.prototype.isSaveAllowed = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is filters editing allowed
         */
        IzendaCompatibilityService.prototype.isFiltersEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly, this.rightLocked].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        Object.defineProperty(IzendaCompatibilityService, "injectModules", {
            get: function () {
                return ['$window'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaCompatibilityService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.register = function (module) {
            module.service('$izendaCompatibility', IzendaCompatibilityService.injectModules.concat(IzendaCompatibilityService));
        };
        return IzendaCompatibilityService;
    }());
    exports.default = IzendaCompatibilityService;
});
izendaRequire.define("common/core/services/event-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaEventService = /** @class */ (function () {
        function IzendaEventService($rootScope, $log) {
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.events = {};
        }
        /**
         * Add event to queue.
         */
        IzendaEventService.prototype.queueEvent = function (eventName, eventArguments, clearQueue) {
            if (!(eventName in this.events) || clearQueue) {
                this.events[eventName] = [];
            }
            var eventRecord = {
                args: eventArguments
            };
            this.events[eventName].push(eventRecord);
            this.$log.debug("event \"" + eventName + "\" queued");
            this.$rootScope.$broadcast(eventName, eventArguments);
        };
        /**
         * Retrieve event record from queue and return it's record.
         */
        IzendaEventService.prototype.handleQueuedEvent = function (eventName, scope, eventContext, eventHandler) {
            var _this = this;
            if (!angular.isFunction(eventHandler))
                throw 'eventHandler should be a function';
            if (!(eventName in this.events) || !angular.isArray(this.events[eventName]))
                this.events[eventName] = [];
            while (this.events[eventName].length > 0) {
                var eventRecord = this.events[eventName].shift();
                this.$log.debug("event \"" + eventName + "\" run from queue");
                eventHandler.apply(eventContext, eventRecord.args);
            }
            // start handling event using angular events.
            if (scope.$$listeners) {
                var eventArr = scope.$$listeners[eventName];
                if (eventArr) {
                    for (var i = 0; i < eventArr.length; i++) {
                        if (eventArr[i] === eventHandler) {
                            eventArr.splice(i, 1);
                        }
                    }
                }
            }
            ;
            scope.$on(eventName, function (event, args) {
                _this.$log.debug("event \"" + eventName + "\" run from $on");
                _this.events[eventName] = [];
                eventHandler.apply(eventContext, args);
            });
        };
        /**
         * Clear all queued events (for manual $broadcast handling)
         */
        IzendaEventService.prototype.clearEventQueue = function (eventName) {
            this.events[eventName] = [];
        };
        Object.defineProperty(IzendaEventService, "injectModules", {
            get: function () {
                return ['$rootScope', '$log'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaEventService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaEventService.register = function (module) {
            module.service('$izendaEvent', IzendaEventService.injectModules.concat(IzendaEventService));
        };
        return IzendaEventService;
    }());
    exports.default = IzendaEventService;
});
izendaRequire.define("common/core/services/localization-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Localization service. Gets localized strings from the "IzLocal" object.
     */
    var IzendaLocalizationService = /** @class */ (function () {
        function IzendaLocalizationService() {
            IzLocal.LocalizePage();
        }
        /**
         * Get localized text.
         * @param {string} key. Locale string key (defined in resources.aspx)
         * @param {string} defaultValue. Default value, when locale text couldn't be got
         * @returns {string} localized text.
         */
        IzendaLocalizationService.prototype.localeText = function (key, defaultValue) {
            var defaultText = angular.isString(defaultValue) ? defaultValue : '';
            return IzLocal.Res(key, defaultText);
        };
        /**
         * Apply locale string in format "...{0}...{1}..." and apply instead of '{n}' params[n]
         * @param {string} locale text key. This key contains in resources.
         * @param {strong} defaultValue. Default value if locale resource wasn't found.
         * @param {Array} params. Additional params.
         * @returns {string}. Localized text.
         */
        IzendaLocalizationService.prototype.localeTextWithParams = function (key, defaultValue, params) {
            var result = this.localeText(key, defaultValue);
            if (angular.isArray(params))
                params.forEach(function (param, iParam) {
                    return result = result.replaceAll("{" + iParam + "}", param);
                });
            return result;
        };
        Object.defineProperty(IzendaLocalizationService, "injectModules", {
            get: function () {
                return [];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaLocalizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaLocalizationService.register = function (module) {
            module.service('$izendaLocale', IzendaLocalizationService.injectModules.concat(IzendaLocalizationService));
            /**
             * Filter which is used for the applying localization.
             * Sample usage: <div ng-bind=":: 'js_close' | izendaLocale: 'Close'" /> where 'Close' - "defaultValue" parameter value.
             */
            module.filter('izendaLocale', [
                '$izendaLocale',
                function ($izendaLocale) {
                    return function (text, defaultValue) { return $izendaLocale.localeText(text, defaultValue); };
                }
            ]);
        };
        return IzendaLocalizationService;
    }());
    exports.default = IzendaLocalizationService;
});
izendaRequire.define("common/core/services/util-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Utility service. Provides the utility functions.
     */
    var IzendaUtilService = /** @class */ (function () {
        function IzendaUtilService($izendaLocale) {
            this.$izendaLocale = $izendaLocale;
        }
        /**
         * Create human readable variable name version
         * @param {string} text Text
         */
        IzendaUtilService.prototype.humanizeVariableName = function (text) {
            if (!angular.isString(text))
                return text;
            var result = text
                // insert a space between lower & upper
                .replace(/([a-z])([A-Z\d])/g, '$1 $2')
                // space before last upper in a sequence followed by lower
                .replace(/\b([A-Z\d]+)([A-Z\d])([a-z])/, '$1 $2$3')
                // uppercase the first character
                .replace(/^./, function (txt) { return txt.toUpperCase(); });
            return result;
        };
        Object.defineProperty(IzendaUtilService.prototype, "uncategorized", {
            /**
             * "Uncategorized" category localized name getter.
             */
            get: function () {
                return this.$izendaLocale.localeText('js_Uncategorized', 'Uncategorized');
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get "Uncategorized" category localized name.
         */
        IzendaUtilService.prototype.getUncategorized = function () {
            return this.uncategorized;
        };
        /**
         * Check whether "uncategorized" category or not.
         */
        IzendaUtilService.prototype.isUncategorized = function (category) {
            if (!category || !angular.isString(category))
                return true;
            return category.toLowerCase() === this.uncategorized.toLowerCase();
        };
        /**
         * Check whether categories equal or not.
         * @param {string} cat1 Category name.
         * @param {string} cat2 Category name.
         */
        IzendaUtilService.prototype.isCategoriesEqual = function (cat1, cat2) {
            return (this.isUncategorized(cat1) && this.isUncategorized(cat2)) || cat1 === cat2;
        };
        /**
         * Generate report full name
         * @param {string} reportName report name.
         * @param {string} separator directories separator symbol.
         * @param {string} category report category (optional).
         * @return {string} generated report full name.
         */
        IzendaUtilService.prototype.createReportFullName = function (reportName, separator, category) {
            if (!reportName || reportName.trim() === '')
                throw new Error('Empty "reportName" parameter isn\'t allowed.');
            return this.isUncategorized(category)
                ? reportName
                : category + separator + reportName;
        };
        /**
         * Convert options which have got from server using "GetOptionsByPath" query into
         * one dimentional array, which allow to use it as <option>
         */
        IzendaUtilService.prototype.convertOptionsByPath = function (optionGroups) {
            if (!angular.isArray(optionGroups))
                return [];
            var groups = [];
            optionGroups.forEach(function (group) {
                group.options.forEach(function (option) {
                    option.group = angular.isString(group.name) && group.name !== ''
                        ? group.name
                        : undefined;
                    groups.push(option);
                });
            });
            return groups;
        };
        /**
         * Get option by value from array of objects with "value" property (case insensitive):
         * [{value:'text1',...}, {value:'text2', ...}, ...]
         */
        IzendaUtilService.prototype.getOptionByValue = function (options, value, isLowerCaseComparison) {
            var i = 0;
            if (!angular.isArray(options) || !options.length)
                return null;
            while (i < options.length) {
                var option = options[i];
                if (!isLowerCaseComparison && option.value === value)
                    return option;
                if (isLowerCaseComparison && option.value.toLowerCase() === value.toLowerCase())
                    return option;
                i++;
            }
            return null;
        };
        Object.defineProperty(IzendaUtilService, "injectModules", {
            get: function () {
                return ['$izendaLocale'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaUtilService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilService.register = function (module) {
            module.service('$izendaUtil', IzendaUtilService.injectModules.concat(IzendaUtilService));
        };
        return IzendaUtilService;
    }());
    exports.default = IzendaUtilService;
});
izendaRequire.define("common/core/services/util-ui-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaUtilUiService = /** @class */ (function () {
        function IzendaUtilUiService($timeout, $izendaLocale) {
            this.$timeout = $timeout;
            this.$izendaLocale = $izendaLocale;
            this.notificationHideDelay = 5000;
            this.notificationsIdCounter = 1;
            this.notifications = [];
            this.message = null;
            this.dialogBox = null;
        }
        /**
         * Immediately close notification.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.closeNotification = function (notificationId) {
            var i = 0;
            while (i < this.notifications.length) {
                if (this.notifications[i].id === notificationId) {
                    this.cancelNotificationTimeout(notificationId);
                    this.notifications.splice(i, 1);
                    return;
                }
                i++;
            }
        };
        /**
         * Cancel notification autohide.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.cancelNotificationTimeout = function (notificationId) {
            var itm = this.getNotificationById(notificationId);
            if (itm.timeoutId) {
                this.$timeout.cancel(itm.timeoutId);
                itm.timeoutId = null;
            }
        };
        /**
         *  Shows pop up notification panel. If no <izenda-notification-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} text Message text.
         * @param {string} title Title text (optional).
         * @param {string} icon Icon (optional). Possible values 'error' or no value.
         */
        IzendaUtilUiService.prototype.showNotification = function (text, title, icon) {
            var _this = this;
            var nextId = this.notificationsIdCounter++;
            var iconClass = angular.isString(icon) && icon === 'error' ? 'glyphicon glyphicon-exclamation-sign' : '';
            var objToShow = {
                id: nextId,
                title: title ? title : '',
                text: text,
                iconClass: iconClass,
                timeoutId: null
            };
            objToShow.timeoutId = this.$timeout(function () {
                _this.closeNotification(objToShow.id);
            }, this.notificationHideDelay);
            this.notifications.push(objToShow);
        };
        /**
         * Shows message dialog. If no <izenda-message-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         */
        IzendaUtilUiService.prototype.showMessageDialog = function (message, title, alertInfo) {
            this.message = {
                message: message,
                title: angular.isDefined(title) ? title : '',
                alertInfo: angular.isDefined(alertInfo) ? alertInfo : 'info'
            };
        };
        /**
         * Shows error dialog.
         * @param {string} componentId ID of component. Used for distinguish different similar components.
         * @param {string} message Error text
         * @param {string} title Error title (optional)
         */
        IzendaUtilUiService.prototype.showErrorDialog = function (message, title) {
            var titleText = angular.isDefined(title) ? title : this.$izendaLocale.localeText('js_Error', 'Error');
            this.showMessageDialog(message, titleText, 'danger');
        };
        /**
         * Close message dialog.
         */
        IzendaUtilUiService.prototype.closeMessageDialog = function () {
            this.message = null;
        };
        /**
         * Shows dialog box. If no <izenda-dialog-box-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         * @param {Array} buttons dialog buttons (optional).
         * @param {Array} checkboxes checkboxes collection (optional).
         */
        IzendaUtilUiService.prototype.showDialogBox = function (options) {
            this.dialogBox = {
                message: options.message,
                title: angular.isDefined(options.title) ? options.title : '',
                alertInfo: angular.isDefined(options.alertInfo) ? options.alertInfo : 'info',
                buttons: angular.isDefined(options.buttons) ? options.buttons : [{ text: 'Close' }],
                checkboxes: angular.isDefined(options.checkboxes) ? options.checkboxes : []
            };
        };
        /**
         * Close dialog box
         */
        IzendaUtilUiService.prototype.closeDialogBox = function () {
            this.dialogBox = null;
        };
        IzendaUtilUiService.prototype.getNotificationById = function (id) {
            var found = this.notifications.find(function (n) {
                return n.id === id;
            });
            return found ? found : null;
        };
        Object.defineProperty(IzendaUtilUiService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaLocale'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaUtilUiService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilUiService.register = function (module) {
            module.service('$izendaUtilUiService', IzendaUtilUiService.injectModules.concat(IzendaUtilUiService));
        };
        return IzendaUtilUiService;
    }());
    exports.default = IzendaUtilUiService;
});
izendaRequire.define("common/core/directives/bootstrap-modal", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Bootstrap modal directive. Usage:
     * <izenda-bootstrap-modal opened="...">...</izenda-bootstrap-modal>
     */
    var IzendaBootstrapModalDirective = /** @class */ (function () {
        function IzendaBootstrapModalDirective($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                keyboard: '=',
                backdrop: '=',
                modalSize: '@',
                isModernBootstrapVersion: '@',
                onModalOpened: '&',
                onModalClosed: '&'
            };
            this.template = "\n<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n\t<div class=\"modal-dialog\" ng-class=\"getModalSizeClass()\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div ng-transclude=\"\"></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapModalDirective.prototype.link = function ($directiveScope, $element) {
                $directiveScope.getModalSizeClass = function () { return $directiveScope.modalSize === 'large' ? 'modal-lg' : ''; };
                var $modal = $element.children('.modal');
                if (!$directiveScope.isModernBootstrapVersion) {
                    $modal.css({
                        'overflow-x': 'hidden',
                        'overflow-y': 'scroll'
                    });
                }
                // additional bootstrap parameters
                if ($directiveScope.keyboard != null)
                    $modal.attr('data-keyboard', $directiveScope.keyboard);
                if ($directiveScope.backdrop != null)
                    $modal.attr('data-backdrop', $directiveScope.backdrop);
                // modal show handler
                $modal.on('show.bs.modal', function () {
                    $modal.css('background-color', 'rgba(0,0,0,0.8)');
                    $modal.css('filter', 'alpha(opacity=80)');
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('margin-right', '0');
                        angular.element('body').css('overflow', 'hidden');
                    }
                });
                // modal shown handler
                $modal.on('shown.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'hidden');
                        angular.element('body').scrollTop();
                    }
                    if (angular.isFunction($directiveScope.onModalOpened)) {
                        $directiveScope.onModalOpened({});
                    }
                    $directiveScope.$applyAsync();
                });
                // modal hidden handler
                $modal.on('hidden.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'inherit');
                        angular.element('body').css('margin-right', '0');
                    }
                    $directiveScope.opened = false;
                    if (angular.isFunction($directiveScope.onModalClosed)) {
                        $directiveScope.onModalClosed({});
                    }
                    $directiveScope.$applyAsync();
                });
                $directiveScope.$watch('opened', function (newVal) {
                    // create/hide modal dialog
                    if (newVal)
                        $element.children('.modal')['modal']();
                    else
                        $element.children('.modal')['modal']('hide');
                });
            };
        }
        IzendaBootstrapModalDirective.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapModalDirective($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapModalDirective;
    }());
    module_definition_1.default.directive('izendaBootstrapModal', ['$timeout', IzendaBootstrapModalDirective.factory()]);
});
izendaRequire.define("common/core/directives/utility", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Angular filter which replaces string.
     * Usage:
     * {{ 'some string' | izendaReplaceString: [{ from: 's', to: '$' }, { from: 'o', to: '0' } ] }}
     * this sample will produce string '$0me $tring'
     */
    module_definition_2.default.filter('izendaReplaceString', function () {
        return function (text, rules) {
            if (!angular.isArray(rules))
                return text;
            var resultText = text;
            if (!resultText)
                return resultText;
            rules.forEach(function (rule) { return resultText = resultText.replaceAll(rule.from, rule.to); });
            return resultText;
        };
    });
    /**
     * Attribute directive "izenda-scroll-bottom-action=""" which fires handler on container scroll end (-100px).
     * Event: scroll-bottom-action
     */
    var IzendaScrollBottomAction = /** @class */ (function () {
        function IzendaScrollBottomAction() {
            this.restrict = 'A';
            IzendaScrollBottomAction.prototype.link =
                function ($scope, $element, attrs) {
                    var $parent = $element.parent();
                    $parent.on('scroll', function () {
                        var height = $element.height();
                        if (height === 0)
                            return;
                        if (height - $parent.height() - 100 < $parent.scrollTop()) {
                            $scope.$eval(attrs.izendaScrollBottomAction);
                        }
                    });
                };
        }
        IzendaScrollBottomAction.factory = function () {
            return function () { return new IzendaScrollBottomAction(); };
        };
        return IzendaScrollBottomAction;
    }());
    exports.IzendaScrollBottomAction = IzendaScrollBottomAction;
    module_definition_2.default.directive('izendaScrollBottomAction', [IzendaScrollBottomAction.factory()]);
    /**
     * Set focus on element directive.
     * Usage:
     * <some-tag izenda-focus="{{expression_which_returns_bool}}" ...>
     *   ...
     * </some-tag>
     */
    var IzendaFocus = /** @class */ (function () {
        function IzendaFocus($timeout) {
            var _this = this;
            this.$timeout = $timeout;
            this.scope = {
                trigger: '@izendaFocus'
            };
            IzendaFocus.prototype.link = function ($scope, $element) {
                $scope.$watch('trigger', function (value) {
                    if (value)
                        _this.$timeout(function () { return $element[0].focus(); });
                });
            };
        }
        IzendaFocus.factory = function () {
            var directive = function ($timeout) { return new IzendaFocus($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaFocus;
    }());
    module_definition_2.default.directive('izendaFocus', ['$timeout', IzendaFocus.factory()]);
    /**
     * izenda-fit-absolute-element directive.
     */
    var IzendaFitAbsoluteElement = /** @class */ (function () {
        function IzendaFitAbsoluteElement($window, $timeout) {
            var _this = this;
            this.$window = $window;
            this.$timeout = $timeout;
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link =
                function ($scope, $element, attrs) {
                    var windowResizeEventName = 'resize.izendaFitAbsoluteElement.' + Math.random();
                    var deltaTopString = String(attrs['deltaTop']);
                    var deltaTop = deltaTopString ? parseInt(deltaTopString) : 0;
                    var $parent = angular.element($element.parent());
                    var setTop = function () {
                        var topHeight = 0;
                        var $childs = $parent.children();
                        for (var i = 0; i < $childs.length; i++) {
                            var $child = angular.element($childs[i]);
                            var topValue = String($child.attr('data-izenda-fit-absolute-element'));
                            if (topValue === 'top')
                                topHeight += $child.height();
                        }
                        if (topHeight > 0)
                            $element.css('top', topHeight + deltaTop + 'px');
                    };
                    setTop();
                    _this.$timeout(function () { return setTop(); }, 1000);
                    angular.element(_this.$window).on(windowResizeEventName, function () { return setTop(); });
                    // destruction method
                    $element.on('$destroy', function () {
                        angular.element(_this.$window).off(windowResizeEventName);
                    });
                };
        }
        IzendaFitAbsoluteElement.factory = function () {
            var directive = function ($window, $timeout) { return new IzendaFitAbsoluteElement($window, $timeout); };
            directive.$inject = ['$window', '$timeout'];
            return directive;
        };
        return IzendaFitAbsoluteElement;
    }());
    module_definition_2.default.directive('izendaFitAbsoluteElement', IzendaFitAbsoluteElement.factory());
    /**
     * Directive for input element which allows to input only positive integer values.
     */
    var IzendaIntegerInput = /** @class */ (function () {
        function IzendaIntegerInput() {
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link =
                function ($scope, $element) {
                    $element.on('keydown', function (evt) {
                        var ctrlOrMeta = evt.ctrlKey || evt.metaKey;
                        if ([46, 8, 9, 27, 13].indexOf(evt.keyCode) >= 0 /*Allow: backspace, delete, tab, escape, enter*/
                            || (evt.keyCode === 65 && ctrlOrMeta) /*Allow: Ctrl/cmd+A*/
                            || (evt.keyCode === 67 && ctrlOrMeta) /*Allow: Ctrl/cmd+C*/
                            || (evt.keyCode === 88 && ctrlOrMeta) /*Allow: Ctrl/cmd+X*/
                            || (evt.keyCode >= 35 && evt.keyCode <= 40)) { /*Allow: home, end, left, right*/
                            // let it happen, don't do anything
                            return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((evt.shiftKey || (evt.keyCode < 48 || evt.keyCode > 57)) && (evt.keyCode < 96 || evt.keyCode > 105)) {
                            evt.preventDefault();
                        }
                    });
                };
        }
        IzendaIntegerInput.factory = function () {
            var directive = function () { return new IzendaIntegerInput(); };
            return directive;
        };
        return IzendaIntegerInput;
    }());
    module_definition_2.default.directive('izendaIntegerInput', IzendaIntegerInput.factory());
});
izendaRequire.define("common/core/tools/izenda-component", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // ReSharper disable once InconsistentNaming
    function IzendaComponent(moduleOrName, selector, dependencies, options) {
        return function (controller) {
            var module = typeof (moduleOrName) === 'string' ? angular.module(moduleOrName) : moduleOrName;
            var extendedOptions = angular.copy(options);
            var $inject = controller.$inject = dependencies;
            controller.prototype.$inject = $inject;
            controller.$inject = $inject;
            extendedOptions.controller = dependencies.concat(controller);
            module.component(selector, extendedOptions);
        };
    }
    exports.default = IzendaComponent;
});
izendaRequire.define("common/core/components/dialog-box/dialog-box-component", ["require", "exports", "angular", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, angular, module_definition_3, izenda_component_1, util_ui_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Handle button click.
         */
        IzendaDialogBoxComponent.prototype.onButtonClick = function (button) {
            if (!button)
                return;
            if (angular.isFunction(button.callback)) {
                button.callback(this.$izendaUtilUiService.dialogBox.checkboxes);
            }
            this.closeModal();
        };
        /**
         * Close modal dialog.
         */
        IzendaDialogBoxComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeDialogBox();
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_1.default(module_definition_3.default, 'izendaDialogBoxComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.dialog-box.dialog-box-template.html',
                bindings: {
                    componentId: '@',
                    useGlobalEventListening: '<',
                    opened: '<',
                    title: '<',
                    message: '<',
                    alertInfo: '<',
                    buttons: '<',
                    checkboxes: '<'
                },
            }),
            __metadata("design:paramtypes", [util_ui_service_1.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/components/message/message-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_4, izenda_component_2, localization_service_1, util_ui_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaMessageComponent = /** @class */ (function () {
        function IzendaMessageComponent($izendaLocale, $izendaUtilUiService) {
            this.$izendaLocale = $izendaLocale;
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Close modal dialog.
         */
        IzendaMessageComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeMessageDialog();
        };
        IzendaMessageComponent = __decorate([
            izenda_component_2.default(module_definition_4.default, 'izendaMessageComponent', ['$izendaLocale', '$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.message.message-template.html',
                bindings: {},
            }),
            __metadata("design:paramtypes", [localization_service_1.default,
                util_ui_service_2.default])
        ], IzendaMessageComponent);
        return IzendaMessageComponent;
    }());
    exports.default = IzendaMessageComponent;
});
izendaRequire.define("common/core/components/notification/notification-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_5, izenda_component_3, util_ui_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Notification component
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.notifications = $izendaUtilUiService.notifications;
        }
        /**
         * Close notification.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.closeNotification = function (notification) {
            this.$izendaUtilUiService.closeNotification(notification.id);
        };
        /**
         * Cancel notification autohide.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.cancelNotificationTimeout = function (notification) {
            this.$izendaUtilUiService.cancelNotificationTimeout(notification.id);
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_3.default(module_definition_5.default, 'izendaNotificationComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.notification.notification-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [util_ui_service_3.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/module", ["require", "exports", "common/core/module-definition", "common/core/services/compatibility-service", "common/core/services/event-service", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/directives/bootstrap-modal", "common/core/directives/utility", "common/core/components/dialog-box/dialog-box-component", "common/core/components/message/message-component", "common/core/components/notification/notification-component"], function (require, exports, module_definition_6, compatibility_service_1, event_service_1, localization_service_2, util_service_1, util_ui_service_4) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    compatibility_service_1.default.register(module_definition_6.default);
    event_service_1.default.register(module_definition_6.default);
    localization_service_2.default.register(module_definition_6.default);
    util_service_1.default.register(module_definition_6.default);
    util_ui_service_4.default.register(module_definition_6.default);
});
izendaRequire.define("common/query/module-definition", ["require", "exports", "angular", "common/core/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaQueryModule = angular.module('izenda.common.query', ['rx', 'izenda.common.core']);
    exports.default = izendaQueryModule;
});
izendaRequire.define("common/query/services/rs-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaRsQueryService = /** @class */ (function () {
        function IzendaRsQueryService($window, $rootScope, $http, $q, $injector, $log, $izendaLocale, $izendaUtilUiService) {
            this.$window = $window;
            this.$rootScope = $rootScope;
            this.$http = $http;
            this.$q = $q;
            this.$injector = $injector;
            this.$log = $log;
            this.$izendaLocale = $izendaLocale;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.urlSettings = this.$window['urlSettings$'];
            this.rsQueryBaseUrl = this.urlSettings.urlRsPage;
            this.requestList = new Array();
        }
        /**
         * Custom query to the izenda response server
         * @param {any} queryParams Query parameters.
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.rsQuery = function (queryParams, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.customQuery(this.rsQueryBaseUrl, queryParams, options, errorOptions, invalidateInCacheParameter);
        };
        /**
         * Custom query to the izenda API.
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.query = function (wsCmd, wsArgs, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            // prepare params:
            var params = {
                'wscmd': wsCmd
            };
            if (angular.isArray(wsArgs)) {
                for (var i = 0; i < wsArgs.length; i++) {
                    var wsArg = wsArgs[i];
                    params['wsarg' + i] = (angular.isDefined(wsArg) && wsArg != null) ? wsArg : '';
                }
            }
            else {
                throw new Error('wsArgs: expected array, but got: ' + typeof (wsArgs));
            }
            // set default error options if it is not defined:
            var currentErrorOptions;
            if (angular.isUndefined(errorOptions)) {
                currentErrorOptions = {
                    handler: function (wsCmd2, wsArgs2) {
                        return 'Query: "' + wsCmd2 + '" [' + wsArgs2 + '] failed.';
                    },
                    params: [wsCmd, wsArgs]
                };
            }
            else {
                currentErrorOptions = errorOptions;
            }
            return this.rsQuery(params, options, currentErrorOptions, invalidateInCacheParameter);
        };
        /**
         * Query to the izenda API (POST request which returns JSON).
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.apiQuery = function (wsCmd, wsArgs, invalidateInCacheParameter) {
            var _this = this;
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.$q(function (resolve, reject) {
                // check params:
                if (!angular.isString(wsCmd) || wsCmd === '') {
                    reject('Parameter error: wsCmd parameter should be non-empty string.');
                    return;
                }
                if (!angular.isArray(wsArgs)) {
                    reject('Parameter error: wsArgs parameter should be array.');
                    return;
                }
                // create params array
                var params = { 'wscmd': wsCmd };
                wsArgs.forEach(function (wsArg, i) {
                    params['wsarg' + i] = (angular.isDefined(wsArg) && wsArg !== null) ? wsArg : '';
                });
                // run query
                _this.rsQuery(params, { dataType: 'json', method: 'POST' }, null, invalidateInCacheParameter)
                    .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
            });
        };
        /**
         * Cancel all running queries
         * @param {any} options (optional) options.cancelList may set custom queries to cancel.
         */
        IzendaRsQueryService.prototype.cancelAllQueries = function (options) {
            var opts = options || {};
            // queries which we can cancel
            var cancellableQueries = opts.hasOwnProperty('cancelList')
                ? opts['cancelList']
                : this.$injector.get('izenda.common.query.cancellableQueries');
            var count = this.requestList.length;
            var i = 0;
            while (i < this.requestList.length) {
                var request = this.requestList[0];
                var cancel = false;
                if (angular.isArray(cancellableQueries)) {
                    var requestUrl = request.url;
                    var requestParams = request.queryParamsFinal;
                    for (var j = 0; j < cancellableQueries.length; j++) {
                        var cancelRule = cancellableQueries[j];
                        if (angular.isString(cancelRule)) {
                            cancel = cancel || requestUrl.indexOf(cancelRule) >= 0;
                        }
                        else if (angular.isObject(cancelRule)) {
                            if ('wscmd' in cancelRule) {
                                cancel = cancel || requestUrl.indexOf('wscmd=' + cancelRule['wscmd']) >= 0;
                                cancel = cancel || requestParams.hasOwnProperty('wscmd') && requestParams['wscmd'] === cancelRule['wscmd'];
                            }
                        }
                        else {
                            throw 'Unknown cancel rule: ' + cancelRule;
                        }
                    }
                }
                if (cancel) {
                    request.canceller.resolve();
                    request.resolver.$izendaRsQueryCancelled = false;
                    this.requestList.splice(i, 1);
                }
                else {
                    i++;
                }
            }
            return count - i;
        };
        /**
         * Send post request and receive file attachment.
         * @param {string} method GET/POST
         * @param {string} url Url.
         * @param {any} parameters Url parameters dictionary.
         * @return {angular.IPromise<void>} Promise without parameters.
         */
        IzendaRsQueryService.prototype.downloadFileRequest = function (method, url, parameters) {
            return this.$q(function (resolve) {
                if (typeof (Blob) !== 'undefined') {
                    // post request for download the file
                    var xhr_1 = new XMLHttpRequest();
                    xhr_1.open(method, url, true);
                    xhr_1.responseType = 'arraybuffer';
                    var selfXhr_1 = xhr_1;
                    xhr_1.onload = function (evt) {
                        console.log('downloadFileRequest xhr.onload evt: ', evt);
                        if (selfXhr_1.status !== 200)
                            return;
                        var disposition = xhr_1.getResponseHeader('Content-Disposition');
                        var filename = '';
                        if (disposition && disposition.toLowerCase().indexOf('attachment') !== -1) {
                            var filenameRegex = /[Ff]ilename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;
                            var matches = filenameRegex.exec(disposition);
                            if (matches != null && matches[1])
                                filename = matches[1].replace(/['"]/g, '');
                        }
                        var type = xhr_1.getResponseHeader('Content-Type');
                        var blob = new Blob([selfXhr_1.response], { type: type });
                        if (typeof window.navigator.msSaveBlob !== 'undefined') {
                            // IE workaround for "HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. 
                            // These URLs will no longer resolve as the data backing the URL has been freed."
                            window.navigator.msSaveBlob(blob, filename);
                            resolve();
                        }
                        else {
                            var urlFunc_1 = window.URL || window['webkitURL'];
                            var downloadUrl = urlFunc_1.createObjectURL(blob);
                            if (filename) {
                                // use HTML5 a[download] attribute to specify filename
                                var linkElement = document.createElement('a');
                                // safari doesn't support this yet
                                if (typeof linkElement.download === 'undefined') {
                                    window.location.href = downloadUrl;
                                }
                                else {
                                    linkElement.href = downloadUrl;
                                    linkElement.target = '_blank';
                                    linkElement.download = filename;
                                    document.body.appendChild(linkElement);
                                    linkElement.click();
                                    document.body.removeChild(linkElement);
                                }
                            }
                            else {
                                window.location.href = downloadUrl;
                            }
                            setTimeout(function () {
                                urlFunc_1.revokeObjectURL(downloadUrl);
                                resolve();
                            }, 100); // cleanup
                        }
                    };
                    xhr_1.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                    if (method.toLowerCase() === 'post')
                        xhr_1.send(angular.element.param(parameters || {}));
                    else if (method.toLowerCase() === 'get')
                        xhr_1.send();
                    else
                        throw 'Unsupported request method: ' + method;
                }
                else {
                    if (method.toLowerCase() === 'post') {
                        // old browser post request
                        var form = document.createElement('form');
                        form.action = url;
                        form.method = method;
                        form.target = '_blank';
                        if (parameters)
                            for (var key in parameters)
                                if (parameters.hasOwnProperty(key)) {
                                    var input = document.createElement('textarea');
                                    input.name = key;
                                    input.value = typeof parameters[key] === 'object' ? JSON.stringify(parameters[key]) : parameters[key];
                                    form.appendChild(input);
                                }
                        form.style.display = 'none';
                        document.body.appendChild(form);
                        form.submit();
                        document.body.removeChild(form);
                    }
                    else {
                        // old browser get request
                        var linkElement2 = document.createElement('a');
                        linkElement2.href = url;
                        linkElement2.target = '_blank';
                        document.body.appendChild(linkElement2);
                        linkElement2.click();
                        document.body.removeChild(linkElement2);
                    }
                    resolve();
                }
            });
        };
        /**
         * Do query to custom url
         */
        IzendaRsQueryService.prototype.customQuery = function (baseUrl, queryParams, options, errorOptions, invalidateInCacheParameter) {
            var _this = this;
            var queryParamsFinal = angular.extend({}, queryParams);
            // apply izendaPageId$
            if (typeof (window['izendaPageId$']) !== 'undefined')
                queryParamsFinal['izpid'] = window['izendaPageId$'];
            if (typeof (window['angularPageId$']) !== 'undefined')
                queryParamsFinal['anpid'] = window['angularPageId$'];
            var isPost = angular.isObject(options) && options.method === 'POST';
            var postData = {};
            var url = baseUrl;
            if (!isPost) {
                // GET request url:
                url += '?';
                for (var paramName in queryParamsFinal) {
                    if (queryParamsFinal.hasOwnProperty(paramName)) {
                        url += paramName + '=' + encodeURIComponent(queryParamsFinal[paramName]) + '&';
                    }
                }
                if (url.substring(url.length - 1) === '&') {
                    url = url.substring(0, url.length - 1);
                }
                if (invalidateInCacheParameter)
                    if (url.endsWith('?'))
                        url += 'iic=1';
                    else
                        url += '&iic=1';
            }
            else {
                // POST request params string:
                var postParamsString = 'urlencoded=true';
                for (var paramName2 in queryParamsFinal) {
                    if (queryParamsFinal.hasOwnProperty(paramName2)) {
                        postParamsString += '&' + paramName2 + '=' + encodeURIComponent(queryParamsFinal[paramName2]);
                    }
                }
                postData = {
                    data: postParamsString
                };
                if (invalidateInCacheParameter)
                    url += '?iic=1';
            }
            // create promises
            var canceler = this.$q.defer();
            var resolver = this.$q.defer();
            resolver['$izendaRsQueryCancelled'] = true;
            resolver['errorOptions'] = angular.isObject(errorOptions) ? errorOptions : null;
            // prepare request optinos
            var dataType = angular.isDefined(options) && angular.isString(options.dataType)
                ? options.dataType
                : 'text';
            var contentType = 'text/html';
            if (dataType === 'json')
                contentType = 'text/json';
            url = getAppendedUrl(url);
            var requestId = (+new Date).toString() + '_' + Math.floor(Math.random() * 1000000).toString(); // pseudo random UID.
            var reqHeaders = {};
            reqHeaders['Content-Type'] = contentType;
            var req = {};
            req.method = 'GET';
            req.url = url;
            req.headers = reqHeaders;
            req.timeout = canceler.promise;
            if (angular.isObject(options)) {
                angular.extend(req, options);
            }
            angular.extend(req, postData); // it is empty for http GET requests
            // custom
            req['requestId'] = requestId;
            req['queryParamsFinal'] = queryParamsFinal;
            // add request to requestList
            this.requestList.push(new RequestListItem(requestId, url, queryParamsFinal, canceler, resolver));
            // run query
            this.$http(req).then(function (response) {
                // handle success
                _this.removeRequest(response.config['requestId']);
                if (!angular.isObject(response)) {
                    // resolve non-object responses
                    resolver.resolve(response);
                    return;
                }
                // object response
                var data = response.data;
                if (angular.isObject(data) && angular.isString(data['izendaQueryStatus'])) {
                    // API query result
                    if (data['izendaQueryStatus'] === 'ok')
                        resolver.resolve(data['result']);
                    else if (data['izendaQueryStatus'] === 'error')
                        resolver.reject(data['error']);
                    else
                        resolver.reject('Unknown izendaQueryStatus: ' + data['izendaQueryStatus']);
                }
                else {
                    // Non-API json query result
                    resolver.resolve(data);
                }
            }, function (response) {
                // handle request error
                _this.removeRequest(response.config.requestId);
                var needToReject = true;
                var errorText;
                if (resolver['errorOptions'] != null) {
                    needToReject = false;
                    errorText = resolver['errorOptions'].handler.apply(response, resolver['errorOptions'].params ? resolver['errorOptions'].params : []);
                }
                else if (response.message)
                    errorText = response.message;
                else if (response.config)
                    errorText = _this.$izendaLocale.localeText('js_QueryFailed', 'Query failed') + ': ' + JSON.stringify(response.config);
                else
                    errorText = _this.$izendaLocale.localeText('localeVariable', 'An unknown error occurred.');
                if (resolver['$izendaRsQueryCancelled']) {
                    if (needToReject)
                        resolver.reject(errorText);
                    else
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                }
            });
            return resolver.promise;
        };
        /**
         * Remove request from array
         */
        IzendaRsQueryService.prototype.removeRequest = function (requestId) {
            var foundIndex = -1;
            var i = 0;
            while (foundIndex < 0 && i < this.requestList.length) {
                if (this.requestList[i].requestId === requestId) {
                    foundIndex = i;
                }
                i++;
            }
            if (foundIndex >= 0) {
                this.requestList.splice(foundIndex, 1);
            }
        };
        Object.defineProperty(IzendaRsQueryService, "injectModules", {
            get: function () {
                return ['$window', '$rootScope', '$http', '$q', '$injector', '$log', '$izendaLocale', '$izendaUtilUiService'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaRsQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaRsQueryService.register = function (module) {
            module.constant('izenda.common.query.cancellableQueries', [{
                    wscmd: 'loadDashboardConfigNew' // load dashboard layout query
                }, {
                    wscmd: 'getDashboardCategoriesNew'
                }, {
                    wscmd: 'getDashboardTilePreviewNew' // load tile html query
                }, {
                    wscmd: 'getCrsSchedule'
                }, {
                    wscmd: 'getCrsShare'
                }])
                .service('$izendaRsQuery', IzendaRsQueryService.injectModules.concat(IzendaRsQueryService));
        };
        return IzendaRsQueryService;
    }());
    exports.default = IzendaRsQueryService;
    var RequestListItem = /** @class */ (function () {
        function RequestListItem(requestId, url, queryParamsFinal, canceller, resolver) {
            this.requestId = requestId;
            this.url = url;
            this.queryParamsFinal = queryParamsFinal;
            this.canceller = canceller;
            this.resolver = resolver;
        }
        return RequestListItem;
    }());
    exports.RequestListItem = RequestListItem;
});
izendaRequire.define("common/common-module-definition", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    String.prototype.replaceAll = function (search, replacement) {
        var target = this;
        if (typeof search !== 'string' || search === '')
            return this;
        return target.split(search).join(replacement);
    };
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    var IzendaCommonLoader = /** @class */ (function () {
        function IzendaCommonLoader() {
        }
        IzendaCommonLoader.loadSettings = function () {
            var deferredObject = angular.element.Deferred();
            var urlSettings = window.urlSettings$;
            var rsPageUrl = urlSettings.urlRsPage;
            var settingsUrl = rsPageUrl + '?wscmd=getCommonSettings';
            // load common settings:
            angular.element.get(settingsUrl, function (configJson) {
                var configObject = configJson;
                angular
                    .module('izenda.common.core')
                    .constant('$izendaCommonSettings', configObject);
                deferredObject.resolve();
            });
            return deferredObject.promise();
        };
        return IzendaCommonLoader;
    }());
    exports.IzendaCommonLoader = IzendaCommonLoader;
});
izendaRequire.define("common/query/services/settings-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DateTimeFormat = /** @class */ (function () {
        function DateTimeFormat(longDate, longTime, shortDate, shortTime, timeFormatForInnerIzendaProcessing, // this time format used in method DateLocToUs for saving filters.
        showTimeInFilterPickers, defaultFilterDateFormat) {
            this.longDate = longDate;
            this.longTime = longTime;
            this.shortDate = shortDate;
            this.shortTime = shortTime;
            this.timeFormatForInnerIzendaProcessing = timeFormatForInnerIzendaProcessing;
            this.showTimeInFilterPickers = showTimeInFilterPickers;
            this.defaultFilterDateFormat = defaultFilterDateFormat;
        }
        return DateTimeFormat;
    }());
    exports.DateTimeFormat = DateTimeFormat;
    var IzendaQuerySettingsService = /** @class */ (function () {
        function IzendaQuerySettingsService($log, $q, $izendaLocale, $izendaUtil, $izendaCommonSettings) {
            this.$log = $log;
            this.$q = $q;
            this.$izendaLocale = $izendaLocale;
            this.$izendaUtil = $izendaUtil;
            this.$izendaCommonSettings = $izendaCommonSettings;
            // initialize formats
            this.defaultDateFormat = new DateTimeFormat('dddd, MMMM DD, YYYY', 'h:mm:ss A', 'MM/DD/YYYY', 'h:mm A', 'HH:mm:ss', false, 'MM/DD/YYYY' + ($izendaCommonSettings.showTimeInFilterPickers ? ' HH:mm:ss' : ''));
            var format = this.defaultDateFormat;
            this.dateFormat = new DateTimeFormat(format.longDate, format.longTime, format.shortDate, format.shortTime, format.timeFormatForInnerIzendaProcessing, format.showTimeInFilterPickers, '');
            this.dateFormat.longDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatLong);
            this.dateFormat.longTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatLong);
            this.dateFormat.shortDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatShort);
            this.dateFormat.shortTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatShort);
            this.dateFormat.showTimeInFilterPickers = $izendaCommonSettings.showTimeInFilterPickers;
            this.dateFormat.defaultFilterDateFormat = this.dateFormat.shortDate +
                ($izendaCommonSettings.showTimeInFilterPickers ? ' ' + this.dateFormat.longTime : '');
            // culture
            this.culture = $izendaCommonSettings.culture;
            if (this.culture.indexOf('-') > 0)
                this.culture = this.culture.substring(0, this.culture.indexOf('-'));
            // bulk csv
            this.bulkCsv = false;
            if (typeof $izendaCommonSettings.bulkCsv != 'undefined')
                this.bulkCsv = $izendaCommonSettings.bulkCsv;
            // category character
            this.categoryCharacter = '\\';
            if (typeof $izendaCommonSettings.categoryCharacter != 'undefined')
                this.categoryCharacter = $izendaCommonSettings.categoryCharacter;
            $log.debug('Common settings initialized');
        }
        /**
         * Default date formats
         * @returns {DateTimeFormat}
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormat = function () {
            return this.defaultDateFormat;
        };
        /**
         * Default format string (en-US). This format used for sending dates to the server.
         * @param {string} customDateFormatString. Alternative date format if required.
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormatString = function (customDateFormatString) {
            var showTime = this.$izendaCommonSettings.showTimeInFilterPickers;
            var timeFormatString = showTime ? ' ' + this.defaultDateFormat.timeFormatForInnerIzendaProcessing : '';
            var dateFormatString = this.defaultDateFormat.shortDate;
            if (angular.isString(customDateFormatString) && customDateFormatString.trim() !== '') {
                dateFormatString = customDateFormatString;
            }
            return dateFormatString + timeFormatString;
        };
        /**
         * Convert .net date time format string to momentjs format string.
         * @param {string} format .net format string
         * @returns {string} momentjs format string
         */
        IzendaQuerySettingsService.prototype.convertDotNetTimeFormatToMoment = function (format) {
            var converter = izenda.utils.date.formatConverter;
            return converter.convert(format, converter.dotNet, converter.momentJs);
        };
        /**
        * Get common settings
        */
        IzendaQuerySettingsService.prototype.getCommonSettings = function () {
            return this.$izendaCommonSettings;
        };
        /**
         * Get date format.
         */
        IzendaQuerySettingsService.prototype.getDateFormat = function () {
            return this.dateFormat;
        };
        /**
         * Get current page culture.
         */
        IzendaQuerySettingsService.prototype.getCulture = function () {
            return this.culture;
        };
        /**
         * Get "bulk csv" CSV export mode enabled.
         */
        IzendaQuerySettingsService.prototype.getBulkCsv = function () {
            return this.bulkCsv;
        };
        IzendaQuerySettingsService.prototype.getCategoryCharacter = function () {
            return this.categoryCharacter;
        };
        IzendaQuerySettingsService.prototype.getReportFullName = function (reportName, reportCategory) {
            var result = null;
            if (reportName) {
                result = '';
                if (!this.$izendaUtil.isUncategorized(reportCategory))
                    result = reportCategory + this.getCategoryCharacter();
                result += reportName;
            }
            return result;
        };
        Object.defineProperty(IzendaQuerySettingsService, "injectModules", {
            get: function () {
                return ['$log', '$q', '$izendaLocale', '$izendaUtil', '$izendaCommonSettings'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaQuerySettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaQuerySettingsService.register = function (module) {
            module.service('$izendaSettings', IzendaQuerySettingsService.injectModules.concat(IzendaQuerySettingsService));
        };
        return IzendaQuerySettingsService;
    }());
    exports.default = IzendaQuerySettingsService;
});
izendaRequire.define("common/query/services/common-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * This service provides API query methods.
     */
    var IzendaCommonQueryService = /** @class */ (function () {
        function IzendaCommonQueryService($izendaRsQuery, $izendaLocale) {
            this.$izendaRsQuery = $izendaRsQuery;
            this.$izendaLocale = $izendaLocale;
        }
        /**
         * Used for refresh session timeout
         */
        IzendaCommonQueryService.prototype.ping = function () {
            return this.$izendaRsQuery.query('ping', [], { dataType: 'text' });
        };
        /**
         * Create new dashboard report set and set it as CurrentReportSet
         */
        IzendaCommonQueryService.prototype.newDashboard = function () {
            var _this = this;
            return this.$izendaRsQuery.query('newcrs', ['DashboardDesigner'], { dataType: 'json' }, {
                handler: function () { return _this.$izendaLocale.localeText('js_DashboardCreateError', 'Failed to create new dashboard'); },
                params: []
            });
        };
        /**
         * Check report set is exist. Returns promise with 'true' value if exists
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.checkReportSetExist = function (reportSetFullName) {
            if (!angular.isString(reportSetFullName) || reportSetFullName.trim() === '')
                throw new Error('reportSetFullName should be non empty string');
            var errorText = this.$izendaLocale.localeText('js_DashboardCheckExistError', 'Failed to check dashboard exist');
            return this.$izendaRsQuery.query('checkreportsetexists', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Set AdHocContext current report set
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.setCrs = function (reportSetFullName) {
            var errorText = this.$izendaLocale.localeText('js_SetCrsError', 'Failed to set current report set');
            return this.$izendaRsQuery.query('setcurrentreportset', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Get report list by category
         * @param {string} category category name.
         */
        IzendaCommonQueryService.prototype.getReportSetCategory = function (category) {
            var categoryStr = angular.isDefined(category)
                ? (category.toLowerCase() === this.$izendaLocale.localeText('js_Uncategorized', 'Uncategorized').toLowerCase()
                    ? ''
                    : category)
                : '';
            var errorText = this.$izendaLocale.localeText('js_GetCategoryError', 'Failed to get reports for category');
            return this.$izendaRsQuery.query('reportlistdatalite', [categoryStr], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [category]
            });
        };
        /**
         * Get report parts
         * @param {string} reportFullName Report full name (xxx@aaa\bbb).
         */
        IzendaCommonQueryService.prototype.getReportParts = function (reportFullName) {
            var errorText = this.$izendaLocale.localeText('js_ReportPartsError', 'Failed to get report parts for report');
            return this.$izendaRsQuery.query('reportdata', [reportFullName], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportFullName]
            });
        };
        /**
         * Get data which needed for schedule
         * @param {number} clientTimezoneOffset Default timezone.
         */
        IzendaCommonQueryService.prototype.getScheduleData = function (clientTimezoneOffset) {
            return this.$izendaRsQuery.query('getCrsSchedule', [String(clientTimezoneOffset)], { dataType: 'json' }, {
                handler: function () { return 'Failed to get schedule data'; },
                params: []
            });
        };
        /**
         * Get data which needed for schedule
         * @param {boolean} defaultShareConfig If true - share config will get from new empty reportset, false - from current report set.
         */
        IzendaCommonQueryService.prototype.getShareData = function (defaultShareConfig) {
            return this.$izendaRsQuery.query('getCrsShare', [defaultShareConfig ? 'true' : 'false'], { dataType: 'json' }, {
                handler: function () { return 'Failed to get share data'; },
                params: []
            });
        };
        Object.defineProperty(IzendaCommonQueryService, "injectModules", {
            get: function () {
                return ['$izendaRsQuery', '$izendaLocale'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaCommonQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCommonQueryService.register = function (module) {
            module.service('$izendaCommonQuery', IzendaCommonQueryService.injectModules.concat(IzendaCommonQueryService));
        };
        return IzendaCommonQueryService;
    }());
    exports.default = IzendaCommonQueryService;
});
izendaRequire.define("common/query/services/ping-service", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaPingService = /** @class */ (function () {
        function IzendaPingService($timeout, $izendaCommonQuery) {
            this.$timeout = $timeout;
            this.$izendaCommonQuery = $izendaCommonQuery;
            this.minute = 60 * 1000;
            this.defaultTimeout = 15 * this.minute; // default timeout - 15 minutes.
            this.timeout = -1;
            this.pingTimer = null;
        }
        /**
         * Stop ping queries
         */
        IzendaPingService.prototype.stopPing = function () {
            if (this.pingTimer !== null) {
                this.$timeout.cancel(this.pingTimer);
                this.pingTimer = null;
            }
        };
        /**
         * Make ping iteration and create timeout for next iteration.
         */
        IzendaPingService.prototype.ping = function () {
            var _this = this;
            // cancel previous timer:
            this.stopPing();
            // hint: start immediately if timeout variable wasn't set.
            this.pingTimer = this.$timeout(function () {
                _this.$izendaCommonQuery.ping().then(function (data) {
                    // set timeout
                    _this.timeout = (data > 0)
                        ? Math.round(data * 0.75 * _this.minute)
                        : _this.defaultTimeout;
                    _this.ping();
                });
            }, this.timeout >= 0 ? this.timeout : 0);
        };
        /**
         * Start ping queries
         */
        IzendaPingService.prototype.startPing = function () {
            this.ping();
        };
        Object.defineProperty(IzendaPingService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaCommonQuery'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaPingService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaPingService.register = function (module) {
            module.service('$izendaPing', IzendaPingService.injectModules.concat(IzendaPingService));
        };
        return IzendaPingService;
    }());
    exports.default = IzendaPingService;
});
izendaRequire.define("common/query/services/url-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLocationModel = /** @class */ (function () {
        function IzendaLocationModel() {
            this.fullName = null;
            this.category = null;
            this.name = null;
            this.isNew = false;
        }
        IzendaLocationModel.fromJson = function (json) {
            var location = new IzendaLocationModel();
            location.fullName = json.fullName || null;
            location.category = json.category || null;
            location.name = json.name || null;
            location.isNew = !!json.isNew;
            return location;
        };
        return IzendaLocationModel;
    }());
    exports.IzendaLocationModel = IzendaLocationModel;
    var IzendaUrlService = /** @class */ (function () {
        function IzendaUrlService(rx, $window, $rootScope, $log, $izendaRsQuery, $izendaSettings, $izendaPing, $izendaLocale, $izendaUtil) {
            var _this = this;
            this.rx = rx;
            this.$window = $window;
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.$izendaRsQuery = $izendaRsQuery;
            this.$izendaSettings = $izendaSettings;
            this.$izendaPing = $izendaPing;
            this.$izendaLocale = $izendaLocale;
            this.$izendaUtil = $izendaUtil;
            this.settings = $window.urlSettings$;
            this.reportNameInfo = this.getLocation();
            this.location = new rx.BehaviorSubject(this.reportNameInfo);
            // subscribe on location change:
            window.onpopstate = function (event) {
                if (event.state && (event.state.rn || event.state.new)) {
                    _this.locationChangedHandler();
                }
            };
            // start ping
            this.$izendaPing.startPing();
        }
        /**
         * Set report name and category to location
         * @param {IzendaLocationModel} locationInfo location object
         */
        IzendaUrlService.prototype.setLocation = function (locationInfo) {
            if (!angular.isObject(locationInfo))
                throw new Error('"locationInfo" parameter should be object');
            // if is new
            if (locationInfo.isNew) {
                this.setUrl({ isNew: '1' }, { new: true });
                this.locationChangedHandler();
                return;
            }
            // navigate to existing report
            this.setUrl({ rn: locationInfo.fullName.replaceAll(' ', '+') }, { rn: locationInfo.fullName });
            this.locationChangedHandler();
        };
        /**
         * Change url if possible, otherwise reload the page with new url.
         * @param {any} params - url params object.
         * @param {any} additionalParams - additional params for pushState.
         */
        IzendaUrlService.prototype.setUrl = function (params, additionalParams) {
            var previousUrlParams = this.getUrlParams(window.location.href);
            var isRnOldExist = angular.isString(previousUrlParams.rn);
            var isRnNewExist = angular.isString(params.rn) && params.rn !== '';
            var rnOld = isRnOldExist ? 'rn=' + previousUrlParams.rn.replaceAll(' ', '+') : '';
            var rnNew = isRnNewExist ? 'rn=' + params.rn.replaceAll(' ', '+') : '';
            var isNewOldExist = angular.isString(previousUrlParams.isNew);
            var isNewNewExist = angular.isString(params.isNew);
            if (isRnOldExist && isRnNewExist && rnOld === rnNew)
                // same rn
                return;
            if (isNewOldExist && isNewNewExist)
                // same isNew
                return;
            if (isRnNewExist && isNewNewExist)
                throw 'Incorrect params: both "rn" and "isNew" defined.';
            var newPath = window.location.pathname;
            var newParams = window.location.search ? window.location.search : '?';
            if (isNewNewExist) {
                // go to new report
                // remove rn
                newParams = newParams.replaceAll(rnOld, '');
                newParams += (newParams.endsWith('?') ? '' : '&') + 'isNew=1';
            }
            else if (isRnNewExist) {
                // go to existing report
                // remove isNew
                newParams = newParams.replaceAll('isNew=1', '');
                if (isRnOldExist)
                    newParams = newParams.replaceAll(rnOld, rnNew);
                else
                    newParams += (newParams.endsWith('?') ? '' : '&') + rnNew;
            }
            newParams = newParams.replaceAll('?&', '?');
            newParams = newParams.replaceAll('&&', '&');
            // navigate new url
            var newUrl = newPath + newParams;
            if (this.$window.history && this.$window.history.pushState) {
                this.$window.history.pushState(additionalParams, document.title, newUrl);
            }
            else
                window.location.href = newUrl;
        };
        /**
         * Returns report full name (category delimiter: $izendaSettings.getCategoryCharacter())
         * @return {IzendaLocationModel} current location model.
         */
        IzendaUrlService.prototype.getLocation = function () {
            this.settings = new UrlSettings(); // retrieve current url settings
            var reportInfo = this.settings.reportInfo;
            // existing report
            if (reportInfo.fullName)
                return IzendaLocationModel.fromJson(reportInfo);
            // isNew
            var result = new IzendaLocationModel();
            result.isNew = reportInfo.isNew;
            return result;
        };
        ;
        /**
         * Set report name and category to location.
         * @param {string} fullName Report full name.
         */
        IzendaUrlService.prototype.setReportFullName = function (fullName) {
            this.setLocation({
                fullName: fullName,
                name: this.extractReportName(fullName),
                category: this.extractReportCategory(fullName),
                isNew: false
            });
        };
        ;
        /**
         * Go to "new"
         */
        IzendaUrlService.prototype.setIsNew = function () {
            this.setLocation({
                fullName: null,
                name: null,
                category: null,
                isNew: true
            });
        };
        ;
        /**
         * Handler, which reacts on page load and $location change.
         */
        IzendaUrlService.prototype.locationChangedHandler = function () {
            // update url settings object because url has changed
            this.settings = new UrlSettings();
            // cancel all current queries
            //const countCancelled = this.$izendaRsQuery.cancelAllQueries();
            //if (countCancelled > 0)
            //	this.$log.debug(`>>> Cancelled ${countCancelled} queries`);
            // set current report set if location has changed
            var newLocationModel = this.getLocation();
            if (newLocationModel.fullName !== this.reportNameInfo.fullName || newLocationModel.isNew !== this.reportNameInfo.isNew) {
                this.reportNameInfo = newLocationModel;
                this.location.onNext(this.reportNameInfo);
            }
        };
        ;
        /**
         * Create filter parameters url part using current filterParameters from UrlSettings object.
         * @return {string} Url parameters string: '&p1=v1&p2=v2...&pN=vN'.
         */
        IzendaUrlService.prototype.getFilterParamsString = function () {
            var requestString = '';
            if (this.settings.filterParameters.length > 0) {
                for (var i = 0; i < this.settings.filterParameters.length; i++) {
                    var paramObject = this.settings.filterParameters[i];
                    requestString += "&" + paramObject[0] + "=" + encodeURIComponent(paramObject[1]);
                }
            }
            return requestString;
        };
        /**
         * Extract report name from category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report name without category.
         */
        IzendaUrlService.prototype.extractReportName = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var parts = fullName.split(this.$izendaSettings.getCategoryCharacter());
            return parts[parts.length - 1];
        };
        /**
         * Extract report category from "category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report category.
         */
        IzendaUrlService.prototype.extractReportCategory = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report category from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var reportFullNameParts = fullName.split(this.$izendaSettings.getCategoryCharacter());
            var category;
            if (reportFullNameParts.length >= 2)
                category = reportFullNameParts.slice(0, reportFullNameParts.length - 1).join(this.$izendaSettings.getCategoryCharacter());
            else
                category = this.$izendaUtil.getUncategorized();
            return category;
        };
        ;
        /**
         * Extract report name, category, report set name for report part.
         * @param {string} fullName Report full name.
         * @return {any} report parts object.
         */
        IzendaUrlService.prototype.extractReportPartNames = function (fullName, isPartNameAtRight) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report part name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var result = {
                reportPartName: null,
                reportFullName: fullName,
                reportSetName: null,
                reportName: null,
                reportCategory: null,
                reportNameWithCategory: null
            };
            // extract report part name
            var reportSetName = fullName;
            if (fullName.indexOf('@') >= 0) {
                var parts = fullName.split('@');
                if (!angular.isUndefined(isPartNameAtRight) && isPartNameAtRight) {
                    reportSetName = parts[0], result.reportPartName = parts[1];
                }
                else {
                    result.reportPartName = parts[0], reportSetName = parts[1];
                }
            }
            // collect results into one object:
            result.reportSetName = reportSetName;
            result.reportName = this.extractReportName(reportSetName);
            result.reportCategory = this.extractReportCategory(reportSetName);
            result.reportNameWithCategory = result.reportName;
            if (this.$izendaUtil.isUncategorized(result.reportCategory))
                result.reportNameWithCategory =
                    result.reportCategory + this.$izendaSettings.getCategoryCharacter() + result.reportNameWithCategory;
            result.reportFullName = (result.reportPartName != null ? result.reportPartName + '@' : '') + result.reportSetName;
            return result;
        };
        /**
         * Get current report info object.
         */
        IzendaUrlService.prototype.getReportInfo = function () {
            return this.reportNameInfo;
        };
        IzendaUrlService.prototype.getUrlParams = function (url) {
            var urlObj = (typeof (angular.element['url']) === 'undefined') ? window.purl(url) : angular.element['url'](url);
            return urlObj.data.param.query;
        };
        Object.defineProperty(IzendaUrlService, "injectModules", {
            get: function () {
                return ['rx',
                    '$window',
                    '$rootScope',
                    '$log',
                    '$izendaRsQuery',
                    '$izendaSettings',
                    '$izendaPing',
                    '$izendaLocale',
                    '$izendaUtil'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaUrlService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUrlService.register = function (module) {
            module.service('$izendaUrl', IzendaUrlService.injectModules.concat(IzendaUrlService));
        };
        return IzendaUrlService;
    }());
    exports.default = IzendaUrlService;
});
izendaRequire.define("common/query/module", ["require", "exports", "angular", "common/query/module-definition", "common/query/services/rs-query-service", "common/query/services/settings-service", "common/query/services/common-query-service", "common/query/services/ping-service", "common/query/services/url-service"], function (require, exports, angular, module_definition_7, rs_query_service_1, settings_service_1, common_query_service_1, ping_service_1, url_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register http provider
    module_definition_7.default.config(['$httpProvider', function ($httpProvider) {
            $httpProvider.defaults.transformResponse.push(function (responseData) {
                // convert $http response. We need to translate asp.net dates 
                // in string format '/Date(ticksNumber)/' to js Date objects (only for json response type):
                var regexDate = /^\/Date\(([-]{0,1}\d+)\)\/$/;
                var convertDateStringsToDates = function (input) {
                    if (!angular.isObject(input))
                        return;
                    for (var key in input) {
                        if (!input.hasOwnProperty(key))
                            continue;
                        var value = input[key];
                        if (angular.isString(value)) {
                            var match = value.match(regexDate);
                            if (angular.isArray(match) && match.length > 0) {
                                var milliseconds = parseInt(match[match.length - 1]);
                                if (!isNaN(milliseconds)) {
                                    input[key] = new Date(milliseconds);
                                }
                            }
                        }
                        else if (angular.isObject(value)) {
                            convertDateStringsToDates(value);
                        }
                    }
                };
                convertDateStringsToDates(responseData);
                return responseData;
            });
        }]);
    // register services
    rs_query_service_1.default.register(module_definition_7.default);
    settings_service_1.default.register(module_definition_7.default);
    common_query_service_1.default.register(module_definition_7.default);
    ping_service_1.default.register(module_definition_7.default);
    url_service_1.default.register(module_definition_7.default);
});
izendaRequire.define("common/ui/module-definition", ["require", "exports", "angular", "izenda-external-libs", "common/core/module", "common/query/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaUiModule = angular
        .module('izenda.common.ui', ['rx', 'izenda.common.core', 'izenda.common.query'])
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_Name', 'Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    exports.default = izendaUiModule;
});
izendaRequire.define("common/core/models/select-item-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * IzendaSelectItemModel class is used to provide uniform angular bindings style for <select>.
     */
    var IzendaSelectItemModel = /** @class */ (function () {
        function IzendaSelectItemModel(text, value, group, selected, enabled) {
            if (typeof (value) === 'undefined')
                throw new Error('value should be defined');
            this.text = text;
            this.value = value;
            this.group = group ? group : undefined;
            this.selected = selected ? selected : false;
            this.enabled = enabled ? enabled : true;
        }
        Object.defineProperty(IzendaSelectItemModel.prototype, "disabled", {
            get: function () {
                return !this.enabled;
            },
            enumerable: true,
            configurable: true
        });
        IzendaSelectItemModel.prototype.isEqual = function (testValue, isLowerCaseComparison) {
            if (testValue === null && this.value === null)
                return true;
            if (testValue === null || this.value === null)
                return false;
            return isLowerCaseComparison
                ? testValue.toLowerCase() === this.value.toLowerCase()
                : testValue === this.value;
        };
        IzendaSelectItemModel.prototype.isEqualWithItem = function (item, isLowerCaseComparison) {
            if (!item)
                return false;
            return this.isEqual(item.value, isLowerCaseComparison);
        };
        return IzendaSelectItemModel;
    }());
    exports.IzendaSelectItemModel = IzendaSelectItemModel;
});
izendaRequire.define("common/core/models/raw-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("common/core/models/share-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Model for the list of share rules.
     */
    var IzendaShareModel = /** @class */ (function () {
        function IzendaShareModel() {
            this.shareRules = new Array();
        }
        /**
         * Deserialize share rules. This method sets this.shareRules field.
         * @param {any[]} json Serialized share rules array.
         * @param {Core.IzendaSelectItemModel[]} availableRights Right model collection.
         * @param {Core.IzendaSelectItemModel[]} availableSubjects Subject model collection.
         */
        IzendaShareModel.prototype.fromJson = function (json, availableRights, availableSubjects) {
            if (!json) {
                this.shareRules = [];
                return;
            }
            this.shareRules = json.map(function (ruleJson) {
                var shareRule = new IzendaShareRuleModel();
                shareRule.fromJson(ruleJson, availableRights, availableSubjects);
                return shareRule;
            });
        };
        /**
         * Serialize current share rules to json object.
         * @return {any[]} array of serialized share rules.
         */
        IzendaShareModel.prototype.toJson = function () {
            var json = this.shareRules
                .filter(function (shareRule) { return shareRule.subject && shareRule.right; })
                .map(function (shareRule) { return shareRule.toJson(); });
            return json;
        };
        return IzendaShareModel;
    }());
    exports.IzendaShareModel = IzendaShareModel;
    /**
     * Model for subject-right pair.
     */
    var IzendaShareRuleModel = /** @class */ (function () {
        function IzendaShareRuleModel(subjects) {
            this.availableSubjects = new Array();
            this.right = null;
            this.subject = null;
            if (subjects)
                this.setAvailableSubjects(subjects, null);
        }
        IzendaShareRuleModel.prototype.setAvailableSubjects = function (subjects, subjectValue) {
            var subjValue = subjectValue
                ? subjectValue
                : this.subject
                    ? this.subject.value
                    : null;
            // update available subjects collection
            this.availableSubjects = subjects && subjects.length ? subjects.slice() : [];
            // update subject
            this.subject = null;
            if (subjValue !== null)
                this.subject = this.availableSubjects.find(function (s) { return s.value === subjValue; }) || null;
        };
        IzendaShareRuleModel.prototype.fromJson = function (json, rights, subjects) {
            // set right
            this.right = null;
            if (rights && rights.length)
                this.right = rights.find(function (r) { return json && r.value === json.right; }) || null;
            // set available subject
            this.setAvailableSubjects(subjects, json ? json.subject : null);
        };
        IzendaShareRuleModel.prototype.toJson = function () {
            if (!this.right && !this.subject)
                // you can face with this situation only if you call toJson directly for this class, 
                //because when you serialize collection, there is additional check for empty subject and right.
                return null;
            var json = {
                right: this.right.value,
                subject: this.subject.value
            };
            return json;
        };
        return IzendaShareRuleModel;
    }());
    exports.IzendaShareRuleModel = IzendaShareRuleModel;
});
izendaRequire.define("common/ui/services/share-service", ["require", "exports", "common/core/models/select-item-model", "common/core/models/share-model", "common/core/models/share-model", "izenda-external-libs"], function (require, exports, select_item_model_1, share_model_1, share_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Service used for store data in share control
     */
    var IzendaShareService = /** @class */ (function () {
        function IzendaShareService($q, $izendaCommonQuery) {
            this.$q = $q;
            this.$izendaCommonQuery = $izendaCommonQuery;
            this.reset();
        }
        /**
         * Add new empty share rule.
         */
        IzendaShareService.prototype.addNewShareRule = function () {
            var shareRuleModel = new share_model_2.IzendaShareRuleModel(this.subjects);
            this.shareModel.shareRules.push(shareRuleModel);
        };
        /**
         * Remove share rule
         * @param {Core.IzendaShareRuleModel} shareRule Share rule for removal.
         */
        IzendaShareService.prototype.removeShareRule = function (shareRule) {
            if (!shareRule)
                return;
            var idx = this.shareModel.shareRules.indexOf(shareRule);
            this.shareModel.shareRules.splice(idx, 1);
        };
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaShareService.prototype.getShareConfigForSend = function () {
            return this.shareModel.toJson();
        };
        /**
         * Set current share config.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.setShareConfig = function (json) {
            var _this = this;
            var isDefaultConfig = !json;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillShareConfigFromJson(json, isDefaultConfig).then(function () { return resolve(); });
            });
        };
        /**
         * Set share service state from the config object.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.fillShareConfigFromJson = function (json, isDefaultConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                _this.loadShareData().then(function () {
                    if (isDefaultConfig) {
                        json = [{
                                subject: 'Everyone',
                                right: 'None'
                            }];
                    }
                    _this.shareModel = new share_model_1.IzendaShareModel();
                    _this.shareModel.fromJson(json, _this.rights, _this.subjects);
                    resolve();
                });
            });
        };
        /**
         * Load share data and available values from server.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.loadShareData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaCommonQuery.getShareData().then(function (json) {
                    // fill available rights collection
                    _this.rights = json.Rights.map(function (rightJson) { return new select_item_model_1.IzendaSelectItemModel(rightJson.Text, rightJson.Value); });
                    // fill available subjects collection
                    _this.subjects = json.ShareWith.map(function (subjectJson) { return new select_item_model_1.IzendaSelectItemModel(subjectJson.Text, subjectJson.Value); });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaShareService.prototype.reset = function () {
            this.rights = new Array();
            this.subjects = new Array();
            this.shareModel = new share_model_1.IzendaShareModel();
        };
        Object.defineProperty(IzendaShareService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQuery'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaShareService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaShareService.register = function (module) {
            module.service('$izendaShareService', IzendaShareService.injectModules.concat(IzendaShareService));
        };
        return IzendaShareService;
    }());
    exports.default = IzendaShareService;
});
izendaRequire.define("common/core/models/schedule-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleModel = /** @class */ (function () {
        function IzendaScheduleModel() {
            this.date = new Date();
            this.email = null;
            this.recipients = '';
            this.repeat = null;
            this.timezone = null;
        }
        /**
         * Fill this object from server-side dto object.
         * @param {any} json dto object.
         * @param {Core.IzendaSelectItemModel[]} emailTypes Email type models collection.
         * @param {Core.IzendaSelectItemModel[]} repeatTypes Repeat type models collection.
         * @param {Core.IzendaSelectItemModel[]} timezones Timezone models collection.
         */
        IzendaScheduleModel.prototype.fromJson = function (json, emailTypes, repeatTypes, timezones) {
            // parse and set date
            if (json && json.dateString) {
                var dateString = json.dateString.trim();
                var momentDate = void 0;
                if (json.timeString) {
                    dateString += " " + json.timeString.trim();
                    momentDate = moment(dateString, 'YYYY-MM-DD HH:mm:ss');
                }
                else {
                    momentDate = moment(dateString, 'YYYY-MM-DD');
                }
                this.date = momentDate.isValid() ? momentDate._d : new Date();
            }
            else
                this.date = new Date();
            if (!this.date || this.date.getFullYear() <= 1900)
                this.date = new Date();
            // timezone
            this.timezone = timezones.length ? (timezones.find(function (tz) { return tz.selected; }) || timezones[0]) : null;
            if (json && json.timezoneId)
                this.timezone = timezones.find(function (tz) { return tz.value === json.timezoneId; }) || this.timezone;
            // email type
            this.email = emailTypes.length ? (emailTypes.find(function (e) { return e.selected; }) || emailTypes[0]) : null;
            // repeat type
            this.repeat = repeatTypes.length ? (repeatTypes.find(function (r) { return r.selected; }) || repeatTypes[0]) : null;
            // recipients
            this.recipients = json && json.recipients ? json.recipients : '';
        };
        /**
         * Create server-side dto object for this schedule model object.
         * @return {any} New json object.
         */
        IzendaScheduleModel.prototype.toJson = function () {
            var dateString = null;
            var timeString = null;
            if (this.date) {
                dateString = moment(this.date).format('YYYY-MM-DD');
                timeString = moment(this.date).format('HH:mm:ss');
            }
            var json = {
                dateString: dateString,
                timeString: timeString,
                recipients: this.recipients,
                email: this.email ? this.email.value : null,
                repeat: this.repeat ? this.repeat.value : null,
                timezoneId: this.timezone ? this.timezone.value : null
            };
            return json;
        };
        return IzendaScheduleModel;
    }());
    exports.IzendaScheduleModel = IzendaScheduleModel;
});
izendaRequire.define("common/ui/services/schedule-service", ["require", "exports", "common/core/models/schedule-model", "common/core/models/select-item-model", "izenda-external-libs"], function (require, exports, schedule_model_1, select_item_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleService = /** @class */ (function () {
        function IzendaScheduleService($q, $izendaCommonQuery) {
            this.$q = $q;
            this.$izendaCommonQuery = $izendaCommonQuery;
            this.reset();
        }
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaScheduleService.prototype.getScheduleConfigForSend = function () {
            return this.scheduleConfig.toJson();
        };
        /**
         * Set current schedule config.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.setScheduleConfig = function (json) {
            var _this = this;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillScheduleConfigFromJson(json).then(function () { return resolve(); });
            });
        };
        /**
         * Set schedule service state from the config object.
         * Schedule timezones, repeat types and others are supposed to be loaded.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.fillScheduleConfigFromJson = function (json) {
            var _this = this;
            return this.$q(function (resolve) {
                // Load schedule collections.
                _this.loadScheduleData().then(function () {
                    // Fill schedule config from json after loading collections.
                    _this.scheduleConfig.fromJson(json, _this.sendEmailTypes, _this.repeatTypes, _this.timezones);
                    resolve();
                });
            });
        };
        /**
         * Load schedule data and available values from server
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.loadScheduleData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                // calculate current timezone std offset:
                var rightNow = new Date();
                var jan1 = new Date(rightNow.getFullYear(), 0, 1, 0, 0, 0, 0);
                var temp = jan1.toGMTString();
                var jan2 = new Date(temp.substring(0, temp.lastIndexOf(' ')));
                var stdTimeOffset = (jan1.getTime() - jan2.getTime()) / (1000 * 60);
                // load schedule dictionaries:
                _this.$izendaCommonQuery.getScheduleData(stdTimeOffset).then(function (json) {
                    _this.timezones = json.TimeZones.map(function (tz) {
                        var tzText = tz.Text ? tz.Text.replaceAll('&nbsp;', ' ') : '';
                        return new select_item_model_2.IzendaSelectItemModel(tzText, tz.Value, undefined, tz.Selected, tz.Enabled);
                    });
                    _this.sendEmailTypes = json.SendEmailList.map(function (eml) {
                        return new select_item_model_2.IzendaSelectItemModel(eml.Text, eml.Value, undefined, eml.Selected, eml.Enabled);
                    });
                    _this.repeatTypes = json.RepeatTypes.map(function (rt) {
                        return new select_item_model_2.IzendaSelectItemModel(rt.Text, rt.Value, undefined, rt.Selected, rt.Enabled);
                    });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaScheduleService.prototype.reset = function () {
            this.scheduleConfig = new schedule_model_1.IzendaScheduleModel();
            this.timezones = [];
            this.sendEmailTypes = [];
            this.repeatTypes = [];
        };
        Object.defineProperty(IzendaScheduleService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQuery'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaScheduleService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaScheduleService.register = function (module) {
            module.service('$izendaScheduleService', IzendaScheduleService.injectModules.concat(IzendaScheduleService));
        };
        return IzendaScheduleService;
    }());
    exports.default = IzendaScheduleService;
});
izendaRequire.define("common/ui/directives/align-switcher", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_8) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Align switcher directive.
     */
    var IzendaAlignSwitcher = /** @class */ (function () {
        function IzendaAlignSwitcher() {
            this.restrict = 'AE';
            this.scope = {
                ngModel: '=',
                title: '@'
            };
            this.template = "<span class=\"izenda-common-align-switcher glyphicon\" ng-click=\"nextValue()\" ng-attr-title=\"title\" ng-class=\"alignShortcut\"></span>";
            IzendaAlignSwitcher.prototype.link = function ($scope, $element, attrs) {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var shortcuts = {
                    'L': 'glyphicon-align-left',
                    'M': 'glyphicon-align-center',
                    'J': 'glyphicon-align-center',
                    'R': 'glyphicon-align-right',
                    ' ': 'glyphicon-none'
                };
                var validateValue = function (model) {
                    if (angular.isUndefined(model))
                        return;
                    if (itemsArray.indexOf(model) < 0)
                        throw 'Unknown align value: ' + model;
                };
                var updateShortcut = function (model) { return $scope.alignShortcut = shortcuts[model]; };
                $scope.nextValue = function () {
                    var idx = itemsArray.indexOf($scope.ngModel);
                    if (idx < itemsArray.length - 1)
                        idx++;
                    else
                        idx = 0;
                    $scope.ngModel = itemsArray[idx];
                    updateShortcut($scope.ngModel);
                };
                //
                $scope.$parent.$watch(attrs.ngModel, function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    validateValue(newValue);
                    updateShortcut(newValue);
                });
                validateValue($scope.ngModel);
                updateShortcut($scope.ngModel);
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaAlignSwitcher.factory = function () {
            var directive = function () { return new IzendaAlignSwitcher(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAlignSwitcher;
    }());
    module_definition_8.default.directive('izendaAlignSwitcher', [IzendaAlignSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/autocomplete", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_9) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Autocomplete directive. Uses "tagit". Applyed for <input izenda-autocomplete> element.
     */
    var IzendaAutocomplete = /** @class */ (function () {
        function IzendaAutocomplete() {
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                ngModel: '=',
                autocompleteItems: '=',
                updateAutocompleteItems: '&'
            };
            IzendaAutocomplete.prototype.link = function ($scope, $element) {
                /**
                 * Create array with autocomplete item texts
                 * @param {Array<object>} items.
                 * @returns {Array<string>}.
                 */
                var prepareSource = function (items) {
                    if (!angular.isArray(items) || !items.length)
                        return [];
                    return items
                        .filter(function (item) { return angular.isObject(item); })
                        .map(function (item) { return item['text']; });
                };
                // initialize component
                $element.val($scope.ngModel);
                $element['tagit']({
                    tagSource: function (req, responseFunction) {
                        if (!angular.isFunction($scope.updateAutocompleteItems))
                            return;
                        var possibleText = req.term.split(/,\s*/).pop();
                        // update suggested items:
                        $scope.updateAutocompleteItems({ arg0: possibleText }).then(function (newExistentValuesList) {
                            var items = prepareSource(newExistentValuesList);
                            var result = items
                                .filter(function (item) { return !!item && item != '...'; })
                                .map(function (item) { return item.replaceAll('#||#', ','); });
                            responseFunction(result);
                        });
                    },
                    caseSensitive: true,
                    allowDuplicates: false,
                    singleFieldDelimiter: jsResources.literalComma,
                    processValuesForSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll(',', '#||#'); }); },
                    processValuesFromSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll('#||#', ','); }); }
                });
                // add watchers
                $scope.$watch('ngModel', function (newValue) {
                    if (!newValue)
                        $element['tagit']('removeAll');
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element['tagit']('removeAll');
                });
            };
        }
        IzendaAutocomplete.factory = function () {
            var directive = function () { return new IzendaAutocomplete(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAutocomplete;
    }());
    module_definition_9.default.directive('izendaAutocomplete', [IzendaAutocomplete.factory()]);
});
izendaRequire.define("common/ui/directives/bootstrap", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_10) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Collapsible container directive.
     */
    var IzendaBootstrapCollapse = /** @class */ (function () {
        function IzendaBootstrapCollapse($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                collapsed: '=',
                useDelay: '=',
                onComplete: '&'
            };
            IzendaBootstrapCollapse.prototype.link = function ($scope, $element, attrs) {
                /**
                 * Invoke complete handler.
                 */
                var collapseCompleted = function (result) {
                    if (angular.isFunction($scope.onComplete)) {
                        $scope.onComplete({
                            collapsed: result
                        });
                    }
                };
                $element.addClass('collapse');
                if ($scope.collapsed)
                    $element.addClass('in');
                $element['collapse'](); // call bootstrap jquery_element.collapse() method.
                // add event collapse handlers
                $element.on('hidden.bs.collapse', function () { return collapseCompleted(true); });
                $element.on('shown.bs.collapse', function () { return collapseCompleted(false); });
                // watch for collapsed state change
                $scope.$watch('collapsed', function () {
                    if ($scope.useDelay)
                        $timeout(function () { return $element['collapse']($scope.collapsed ? 'hide' : 'show'); }, 1000);
                    else
                        $element['collapse']($scope.collapsed ? 'hide' : 'show');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapCollapse.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapCollapse($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapCollapse;
    }());
    module_definition_10.default.directive('izendaBootstrapCollapse', ['$timeout', IzendaBootstrapCollapse.factory()]);
    /**
     * Tooltip directive
     */
    var IzendaBootstrapTooltip = /** @class */ (function () {
        function IzendaBootstrapTooltip() {
            this.restrict = 'A';
            this.scope = {
                tooltipItems: '='
            };
            IzendaBootstrapTooltip.prototype.link = function ($scope, $element) {
                $scope.$watch('tooltipItems', function (newVal) {
                    if (!angular.isArray(newVal)) {
                        $element.attr('title', '');
                        return;
                    }
                    var result = '';
                    for (var i = 0; i < newVal.length; i++) {
                        if (newVal.length > 1)
                            result += i + '. ';
                        result += newVal[i].message + '<br/>';
                    }
                    $element.attr('title', result);
                    $element['tooltip']('hide')
                        .attr('data-original-title', newVal)
                        .tooltip('update');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapTooltip.factory = function () {
            return function () { return new IzendaBootstrapTooltip(); };
        };
        return IzendaBootstrapTooltip;
    }());
    module_definition_10.default.directive('izendaBootstrapTooltip', [IzendaBootstrapTooltip.factory()]);
    /**
     * Bootstrap dropdown directive
     */
    var IzendaBootstrapDropdown = /** @class */ (function () {
        function IzendaBootstrapDropdown($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                attachToElement: '@',
                width: '@',
                height: '@',
                onOpen: '&',
                onClose: '&'
            };
            this.template = "<div class=\"dropdown\">\n\t<div class=\"dropdown-menu izenda-common-dropdown-strong-shadow dropdown-no-close-on-click\"\n\t\tng-click=\"$event.stopPropagation();\">\n\t\t<div class=\"izenda-common-dropdown-triangle\"></div>\n\t\t<div ng-style=\"{'width': width, 'height': height}\">\n\t\t\t<div ng-transclude></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapDropdown.prototype.link = function ($scope, $element, attrs) {
                var id = ('' + Math.random()).substring(2);
                var scrollEventId = 'scroll.izendaBootstrapDropdown' + id;
                var resizeEventId = 'resize.izendaBootstrapDropdown' + id;
                var keyEventId = 'keyup.izendaBootstrapDropdown' + id;
                var $dropdown = $element.find('.dropdown');
                var $menu = $element.find('.dropdown-menu');
                $dropdown.find('.izenda-common-dropdown-triangle').on('click', function () { return close(); });
                angular.element($window).on(scrollEventId, function () { return close(); });
                angular.element($window).on(resizeEventId, function () { return close(); });
                angular.element($window).on(keyEventId, function (event) {
                    // esc button handler
                    if (event.keyCode == 27 && $scope.opened) {
                        close();
                    }
                });
                $scope.$watch('opened', function (newVal) {
                    if (newVal && !$dropdown.hasClass('open'))
                        open();
                    if (!newVal && $dropdown.hasClass('open'))
                        close();
                });
                function open() {
                    var $attachToElement = angular.element($scope.attachToElement);
                    var $tile = $attachToElement.closest('.iz-dash-tile');
                    $dropdown.addClass('open');
                    $menu.css('position', 'absolute');
                    $menu.css('z-index', 9999);
                    var left = $tile.width() - $menu.width() - 16;
                    var delta = 0;
                    if (left < 0) {
                        delta = -left;
                        left = 0;
                    }
                    var top = 44;
                    $menu.children('.izenda-common-dropdown-triangle').css('left', $menu.width() - delta - 58);
                    $menu.css({
                        left: left + 'px',
                        top: top + 'px'
                    });
                    if (angular.isFunction($scope.onOpen))
                        $scope.onOpen({});
                }
                function close() {
                    $dropdown.removeClass('open');
                    $menu.data('open', false);
                    $scope.opened = false;
                    if (angular.isFunction($scope.onClose))
                        $scope.onClose({});
                    $scope.$applyAsync();
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off(scrollEventId);
                    angular.element($window).off(resizeEventId);
                    angular.element($window).off(keyEventId);
                });
            };
        }
        IzendaBootstrapDropdown.factory = function () {
            var directive = function ($window) { return new IzendaBootstrapDropdown($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaBootstrapDropdown;
    }());
    module_definition_10.default.directive('izendaBootstrapDropdown', ['$window', IzendaBootstrapDropdown.factory()]);
});
izendaRequire.define("common/ui/directives/color-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_11) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Color picker directive. Requires "jquery-minicolors" jQuery plugin. Usage:
     * <izenda-color-picker ng-model="..."></izenda-color-picker>
     */
    var IzendaColorPicker = /** @class */ (function () {
        function IzendaColorPicker() {
            this.restrict = 'A';
            this.scope = {
                ngModel: '=',
                inline: '@',
                additionalClass: '@'
            };
            this.template = '<input class="minicolors form-control" ng-class="additionalClass"></input>';
            IzendaColorPicker.prototype.link = function ($scope, $element) {
                var $input = $element.find('input.minicolors');
                // watch active item changed
                $scope.$watch('ngModel', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    $input.val(newVal);
                    $input['minicolors']('value', newVal);
                });
                initializeControl();
                // destruction method
                $element.on('$destroy', function () {
                    $input['minicolors']('destroy');
                    $input.remove();
                });
                function initializeControl() {
                    $input['minicolors']('destroy');
                    $input.val($scope.ngModel);
                    $input['minicolors']({
                        inline: $scope.inline === 'true',
                        lettercase: 'lowercase',
                        theme: 'bootstrap',
                        color: $scope.color,
                        position: 'bottom right',
                        change: function (hex) {
                            var val = String($input.val());
                            if (val.match(/^#{0,1}[0-9a-f]{6}$/gi)) {
                                $scope.ngModel = hex;
                                angular.element('.iz-dash-background').css('background-color', hex);
                                $scope.$applyAsync();
                            }
                        }
                    });
                    $element.find('.minicolors-grid, .minicolors-slider').click(function (e) {
                        e.stopPropagation();
                        return false;
                    });
                }
            };
        }
        IzendaColorPicker.factory = function () {
            return function () { return new IzendaColorPicker(); };
        };
        return IzendaColorPicker;
    }());
    module_definition_11.default.directive('izendaColorPicker', [IzendaColorPicker.factory()]);
});
izendaRequire.define("common/ui/directives/datetime-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_12) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaDateTimePicker = /** @class */ (function () {
        function IzendaDateTimePicker($window, $timeout, $izendaLocale, $izendaCompatibility) {
            this.$window = $window;
            this.$timeout = $timeout;
            this.$izendaLocale = $izendaLocale;
            this.$izendaCompatibility = $izendaCompatibility;
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                model: '=ngModel',
                ngDisabled: '=',
                dateFormat: '=',
                locale: '=',
                datepart: '=',
                showAdditionalButtons: '@',
                htmlContainerSelector: '@',
                onChange: '&'
            };
            this.template = "<input type=\"text\" class=\"form-control\" />\n<span class=\"input-group-addon\">\n\t<span class=\"glyphicon-calendar glyphicon\"></span>\n</span>";
            // change template if resolution is too low
            if (this.$izendaCompatibility.isSmallResolution())
                this.template = '<div class="izenda-common-date-picker-inline"/>';
            IzendaDateTimePicker.prototype.link = function ($scope, $element, attrs, ngModelCtrl) {
                var uid = Math.floor(Math.random() * 1000000);
                var $input = $element.children('input,.izenda-common-date-picker-inline');
                var $btn = $element.children('.input-group-addon');
                var isSmallResolution = $izendaCompatibility.isSmallResolution();
                var getPicker = function () { return $input.data('DateTimePicker'); };
                /**
                 * Create new date object based on baseDate with updated from the newDate date or time or both.
                 * @param {Date} baseDate current date
                 * @param {Date} newDate updated date
                 * @param {string} datepart what part will be updated: '"date"|"time"|"datetime"'
                 */
                var getUpdatedDateValue = function (baseDate, newDate, datepart) {
                    if (!baseDate)
                        return new Date(newDate);
                    var currDate = new Date(baseDate); // clone base date
                    if (datepart.indexOf('date') >= 0) {
                        currDate.setFullYear(newDate.getFullYear());
                        currDate.setMonth(newDate.getMonth());
                        currDate.setDate(newDate.getDate());
                    }
                    if (datepart.indexOf('time') >= 0) {
                        currDate.setHours(newDate.getHours());
                        currDate.setMinutes(newDate.getMinutes());
                        currDate.setSeconds(newDate.getSeconds());
                    }
                    return currDate;
                };
                /**
                 * Set date to the picker
                 */
                var setDate = function (newDate) {
                    if (!newDate)
                        getPicker().date(null);
                    else if (angular.isDate(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, newDate, $scope.datepart));
                    else if (angular.isString(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, new Date(newDate), $scope.datepart));
                    else
                        throw "Unknown date type: " + typeof (newDate);
                };
                /**
                 * Enable/Disable picker
                 */
                var setDisabled = function (isDisabled) {
                    if (isDisabled)
                        getPicker().disable();
                    else
                        getPicker().enable();
                };
                /**
                 * Apply date format in the picker
                 */
                var setFormat = function (format) {
                    if (!angular.isString(format))
                        getPicker().format(false);
                    else
                        getPicker().format(format);
                };
                /**
                 * Apply locale in the picker
                 */
                var setLocale = function (locale) {
                    if (!angular.isString(locale))
                        return;
                    getPicker().locale(locale);
                };
                // create date picker config json
                var config = {};
                if ($scope.showAdditionalButtons === 'true') {
                    config = {
                        showTodayButton: true,
                        showClear: true
                    };
                }
                angular.extend(config, {
                    locale: $scope.locale,
                    inline: isSmallResolution,
                    widgetParent: isSmallResolution ? null : angular.element($scope.htmlContainerSelector),
                    toolbarPlacement: 'bottom',
                    widgetPositioning: {
                        vertical: 'bottom'
                    },
                    tooltips: {
                        today: $izendaLocale.localeText('js_GoToToday', 'Go to today'),
                        clear: $izendaLocale.localeText('js_ClearSelection', 'Clear selection'),
                        close: $izendaLocale.localeText('js_ClosePicker', 'Close the picker'),
                        selectMonth: $izendaLocale.localeText('js_SelectMonth', 'Select Month'),
                        prevMonth: $izendaLocale.localeText('js_PreviousMonth', 'Previous Month'),
                        nextMonth: $izendaLocale.localeText('js_NextMonth', 'Next Month'),
                        selectYear: $izendaLocale.localeText('js_SelectYear', 'Select Year'),
                        prevYear: $izendaLocale.localeText('js_PreviousYear', 'Previous Year'),
                        nextYear: $izendaLocale.localeText('js_NextYear', 'Next Year'),
                        selectDecade: $izendaLocale.localeText('js_SelectDecade', 'Select Decade'),
                        prevDecade: $izendaLocale.localeText('js_PreviousDecade', 'Previous Decade'),
                        nextDecade: $izendaLocale.localeText('js_NextDecade', 'Next Decade'),
                        prevCentury: $izendaLocale.localeText('js_PreviousCentury', 'Previous Century'),
                        nextCentury: $izendaLocale.localeText('js_NextCentury', 'Next Century')
                    }
                });
                // create picker
                $scope.dateTimePicker = $input['datetimepicker'](config);
                // date picker 'on show' handler
                $input.on('dp.show', function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.show();
                    $widget.css({
                        top: $input.offset().top - $widget.parent().offset().top + $input.height() + 20,
                        left: $input.offset().left - $widget.parent().offset().left
                    });
                });
                // window resize handler
                angular.element($window).on('resize.dp' + uid, function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.hide();
                    $timeout(function () { return $input.blur(); }, 10);
                });
                $btn.on('click', function () {
                    if (!$scope.ngDisabled)
                        $input.focus();
                });
                // watch variables:
                $scope.$watch('ngDisabled', function (newVal) { return setDisabled(newVal); });
                $scope.$watch('dateFormat', function (newVal) { return setFormat(newVal); });
                $scope.$watch('locale', function (newVal) { return setLocale(newVal); });
                // initialize values
                setDisabled($scope.ngDisabled);
                setFormat($scope.dateFormat);
                setLocale($scope.locale);
                if (ngModelCtrl) {
                    $scope.$watch('model', function (newVal) { return setDate(newVal); });
                    $timeout(function () {
                        ngModelCtrl.$render = function () { return setDate(ngModelCtrl.$viewValue); };
                    });
                    $input.on('dp.change', function (e) {
                        var newDateValue = e['date'] ? getUpdatedDateValue($scope.model, e['date'].toDate(), $scope.datepart) : null;
                        ngModelCtrl.$setViewValue(newDateValue);
                    });
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('resize.dp' + uid);
                    var picker = getPicker();
                    if (picker)
                        getPicker().destroy();
                });
            };
        }
        IzendaDateTimePicker.factory = function () {
            var directive = function ($window, $timeout, $izendaLocale, $izendaCompatibility) {
                return new IzendaDateTimePicker($window, $timeout, $izendaLocale, $izendaCompatibility);
            };
            directive.$inject = ['$window', '$timeout', '$izendaLocale', '$izendaCompatibility'];
            return directive;
        };
        return IzendaDateTimePicker;
    }());
    module_definition_12.default.directive('izendaDateTimePicker', ['$window', '$timeout', '$izendaLocale', '$izendaCompatibility', IzendaDateTimePicker.factory()]);
});
izendaRequire.define("common/ui/directives/report-viewer", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_13) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaReportViewer = /** @class */ (function () {
        function IzendaReportViewer($rootScope, $timeout) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.restrict = 'AE';
            this.scope = {
                allowColReorder: '@',
                allowedColumnsForReorder: '=',
                reportSetOptions: '=',
                allowColRemove: '@',
                droppableAccept: '@',
                onReorder: '&',
                onHeaderClick: '&',
                onPagingClick: '&',
                onDragOver: '&',
                onRemove: '&',
                emptyText: '=',
                currentInsertColumnOrder: '=',
                htmlText: '='
            };
            this.template = "<div class=\"izenda-report-viewer\">\n\t<div class=\"html-container-placeholder hidden\"></div>\n\t<div class=\"html-container-loading\" style=\"display: none;\" ng-bind=\":: 'js_Loading' | izendaLocale: 'Loading...'\"></div>\n\t<div id=\"renderedReportDiv\" class=\"html-container\"></div>\n</div>";
            IzendaReportViewer.prototype.link = function ($scope, $element) {
                //////////////////////////////////////////////////////////////
                // apply tile html function
                var $htmlContainer = $element.find('.html-container');
                var $htmlContainerLoading = $element.find('.html-container-loading');
                var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
                /**
                 * Prepare report table
                 * @param {jquery object} $table
                 */
                var processReportTable = function () {
                    // prepare table
                    if (!IzendaReportViewer.isTableIsGood($scope.$table))
                        return;
                    IzendaReportViewer.addColReorderHandler($scope, $timeout, function ($from, $to, isVisualGroup) {
                        IzendaReportViewer.onReorder($scope, $from, $to, isVisualGroup);
                    });
                    // add other handlers
                    IzendaReportViewer.addDragHandlers($scope, $rootScope, $element);
                    IzendaReportViewer.addClickHandler($scope);
                    IzendaReportViewer.addColRemoveButtons($scope);
                    izenda.report.registerPostRenderHandlers();
                };
                /**
                 * Apply report content html
                 * @param {string} html
                 */
                var applyHtml = function (html) {
                    // show/hide loading indicator
                    if (html === null) {
                        $htmlContainer.hide();
                        $htmlContainerLoading.show();
                    }
                    else {
                        $htmlContainer.show();
                        $htmlContainerLoading.hide();
                    }
                    // empty result
                    if (typeof (html) !== 'string' || (html && typeof (html) === 'string' && html.trim() === '')) {
                        $htmlContainer.text($scope.emptyText);
                        return;
                    }
                    $htmlContainer.html(html);
                    // is paging enabled
                    IzendaReportViewer.preparePageLinks($scope, $htmlContainer);
                    IzendaReportViewer.preparePagingInput($scope, $htmlContainer);
                    IzendaReportViewer.prepareGoToRecordBtn($scope, $htmlContainer);
                    $scope.$table = $htmlContainer.find('table[name=reportTable],table.ReportTable');
                    if ($scope.$table.length > 0) {
                        // prepare report table
                        processReportTable();
                    }
                };
                // htmlText change handler
                $scope.$watch('htmlText', function (newVal) { return applyHtml(newVal); });
                // is dragging enabled handler
                $rootScope.$watch('isDraggingNow', function (newVal) {
                    if (!newVal) {
                        $htmlContainerPlaceholder.addClass('hidden');
                    }
                });
                // run
                applyHtml($scope.htmlText);
                //////////////////////////////////////////////////////////////
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        /**
         * Check is any kind of visual group applied.
         */
        IzendaReportViewer.isVgApplyed = function ($scope) {
            return angular.isObject($scope.reportSetOptions)
                ? $scope.reportSetOptions.isVgUsed
                : false;
        };
        /**
         * Check is applied AG or VGHierarchy.
         */
        IzendaReportViewer.isTableContainVgColumns = function ($scope) {
            return IzendaReportViewer.isVgApplyed($scope) &&
                ['AnalysisGrid', 'VGHierarchy'].indexOf($scope.reportSetOptions.vgStyle) >= 0;
        };
        /**
         * Calculate count of visual group column.
         */
        IzendaReportViewer.getCountOfVgColumns = function ($scope) {
            var countOfVgColumns = 0;
            if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                var fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
                countOfVgColumns = fieldsInTable.filter(function (field) { return field.isVgUsed; }).length;
            }
            return countOfVgColumns;
        };
        /**
         * Get fields which have own column in preview table
         * @returns {Array} array of field objects.
         */
        IzendaReportViewer.getColumnFields = function ($scope) {
            var fieldsInTable;
            if (IzendaReportViewer.isTableContainVgColumns($scope))
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
            else
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields.filter(function (field) { return !field.isVgUsed; });
            return fieldsInTable;
        };
        IzendaReportViewer.isTableIsGood = function ($table) {
            if (!$table)
                return false;
            // if no table headers - stop:
            var $tableHeader = $table.children('tbody').children('tr.ReportHeader');
            if ($tableHeader.length === 0)
                return false;
            // check if table contains visual groups:
            return true;
        };
        /**
         * Add col reorder handler.
         */
        IzendaReportViewer.addColReorderHandler = function ($scope, $timeout, onColumnReorderCompleted) {
            if ($scope.allowColReorder !== 'true')
                return;
            var bodyOnselectstartSave = String(angular.element(document.body).attr('onselectstart'));
            var bodyUnselectableSave = String(angular.element(document.body).attr('unselectable'));
            var disableTextSelection = function () {
                // jQuery doesn't support the element.text attribute in MSIE 8
                // http://stackoverflow.com/questions/2692770/style-style-textcss-appendtohead-does-not-work-in-ie
                var $style = angular.element('<style id="__disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');
                angular.element(document.head).append($style);
                angular.element(document.body).attr('onselectstart', 'return false;').attr('unselectable', 'on');
                if (window.getSelection) {
                    window.getSelection().removeAllRanges();
                }
                else {
                    document.selection.empty(); // MSIE http://msdn.microsoft.com/en-us/library/ms535869%28v=VS.85%29.aspx
                }
            };
            var restoreTextSelection = function () {
                angular.element('#__disable_text_selection__').remove();
                if (bodyOnselectstartSave)
                    angular.element(document.body).attr('onselectstart', bodyOnselectstartSave);
                else
                    angular.element(document.body).removeAttr('onselectstart');
                if (bodyUnselectableSave)
                    angular.element(document.body).attr('unselectable', bodyUnselectableSave);
                else
                    angular.element(document.body).removeAttr('unselectable');
            };
            var createHelper = function (innerOffset) {
                var $cell = $scope.reorderState.$from;
                var $clone = $cell.clone().wrap('<div class="izenda-common-col-reorder-helper"></div>').parent();
                $clone.width($cell.outerWidth());
                $clone.height($cell.outerHeight());
                $clone.css('top', $cell.position().top);
                $clone.css('left', $cell.position().left + innerOffset);
                $scope.reorderState.$helper = $clone;
                $scope.reorderState.helperOffset = innerOffset;
                $scope.$table.append($clone);
                return $clone;
            };
            var removeHelper = function () {
                $scope.reorderState.$helper.remove();
            };
            var beforeReorderStarted = function () {
                disableTextSelection();
                $scope.reorderState.$from.addClass('izenda-reorder-cell-selected');
                $scope.reorderState.previousPosition = $scope.$table.css('position');
                $scope.$table.css('position', 'relative');
            };
            var afterReorderCompleted = function () {
                $scope.reorderState.$from.removeClass('izenda-reorder-cell-selected');
                $scope.reorderState.itemsCache = null;
                $scope.$table.css('position', $scope.reorderState.previousPosition);
                $scope.$table.find('.izenda-common-col-reorder-active').removeClass('izenda-col-reorder-active');
                removeHelper();
                restoreTextSelection();
            };
            var getCurrentItemsForReorder = function () {
                if (!$scope.reorderState.itemsCache) {
                    $scope.reorderState.itemsCache = $scope.reorderState.$from.parent().children();
                }
                return $scope.reorderState.itemsCache;
            };
            var completeReorder = function () {
                if (!$scope.reorderState.started)
                    return;
                $scope.reorderState.started = false;
                afterReorderCompleted();
                if (angular.isFunction(onColumnReorderCompleted)) {
                    var isVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                    onColumnReorderCompleted($scope.reorderState.$from, $scope.reorderState.$to, isVg);
                }
            };
            $scope.reorderState = {
                started: false,
                $from: null
            };
            // add table handlers:
            angular.element(document).off('mousemove.izendaColReorder');
            angular.element(document).off('mouseup.izendaColReorder');
            angular.element(document).on('mousemove.izendaColReorder', function (e) {
                if (!$scope.reorderState.started)
                    return;
                var currentTableX = e.pageX - $scope.$table.offset().left;
                var isFromColumnVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                // highlight current column
                var $tds = getCurrentItemsForReorder();
                var $toTd = null;
                angular.element.each($tds, function (iTd, td) {
                    var $currTd = angular.element(td);
                    var tdLeft = $currTd.position().left, tdWidth = $currTd.outerWidth();
                    var isTdColumnVg = String($currTd.attr('data-is-vg-column')) === 'true';
                    if (!$currTd.hasClass('izenda-col-reorder-disabled') &&
                        isFromColumnVg === isTdColumnVg &&
                        currentTableX >= tdLeft &&
                        currentTableX < tdLeft + tdWidth) {
                        $toTd = $currTd;
                    }
                });
                // is $toTd changed?
                if ($toTd && (!$scope.reorderState.$to || $toTd.index() !== $scope.reorderState.$to.index())) {
                    $scope.reorderState.$to = $toTd;
                    $tds.removeClass('izenda-common-col-reorder-active');
                    if (!$scope.reorderState.$to.hasClass('izenda-common-col-reorder-active')) {
                        $scope.reorderState.$to.addClass('izenda-common-col-reorder-active');
                    }
                    // bubble inner content
                    var fromIndex = $scope.reorderState.$from.index();
                    var toIndex = $scope.reorderState.$to.index();
                    angular.element.each($tds, function (iTd, td) {
                        var $currTd2 = angular.element(td);
                        var $backups = $currTd2.children('.izenda-common-col-reorder-hidden');
                        if ($backups.length > 0) {
                            $currTd2.children().not('.izenda-common-col-reorder-hidden').remove();
                        }
                        $currTd2.children().removeClass('izenda-common-col-reorder-hidden');
                    });
                    var $currentTd = void 0;
                    var $nextTd = void 0;
                    var i = void 0;
                    if (fromIndex < toIndex) {
                        for (i = fromIndex; i < toIndex; i++) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i + 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                    else {
                        for (i = fromIndex; i > toIndex; i--) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i - 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                }
                // move helper
                $scope.reorderState.$helper.css('left', currentTableX - $scope.reorderState.helperOffset);
            });
            angular.element(document).on('mouseup.izendaColReorder', function () {
                if ($scope.reorderState.downTimer)
                    $timeout.cancel($scope.reorderState.downTimer);
                completeReorder();
            });
            // initialize:
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            // fieldsInTable should contain only fields which have column
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iHeaderRow, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell < fieldsInTable.length) {
                        if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                            var field = fieldsInTable[iCell];
                            $cell.attr('data-is-vg-column', field.isVgUsed ? 'true' : 'false');
                        }
                        else {
                            $cell.attr('data-is-vg-column', 'false');
                        }
                        // mouse down handler
                        $cell.on('mousedown.izendaColReorder', function (e) {
                            $scope.reorderState.started = false;
                            if (e.which !== 1)
                                return;
                            if ($scope.reorderState.downTimer)
                                $timeout.cancel($scope.reorderState.downTimer);
                            $scope.reorderState.downTimer = null;
                            $scope.reorderState.$from = angular.element(e.delegateTarget);
                            $scope.reorderState.downTimer = $timeout(function () {
                                beforeReorderStarted();
                                createHelper(e.offsetX);
                                $scope.reorderState.started = true;
                            }, 250);
                        });
                    }
                    else {
                        $cell.addClass('izenda-col-reorder-disabled');
                    }
                });
            });
        };
        /**
         * Reorder completed handler
         * @param {jquery dom element} $from. Element which we dragged
         * @param {jquery dom element} $to. $from element dropped to this element.
         */
        IzendaReportViewer.onReorder = function ($scope, $from, $to, isVg) {
            if (!angular.isFunction($scope.onReorder))
                return;
            if (!$to || !$from)
                return;
            var fromIndex = $from.index();
            var toIndex = $to.index();
            if (fromIndex === toIndex)
                return;
            if (!isVg) {
                var vgColumnsCount = IzendaReportViewer.getCountOfVgColumns($scope);
                fromIndex -= vgColumnsCount;
                toIndex -= vgColumnsCount;
            }
            $scope.onReorder({ arg0: fromIndex, arg1: toIndex, arg2: isVg });
        };
        ;
        /**
         * Add drag handlers to table
         */
        IzendaReportViewer.addDragHandlers = function ($scope, $rootScope, $element) {
            var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
            // mouse over
            if (!angular.isString($scope.droppableAccept))
                return;
            var $currenttable = $scope.$table;
            var currentTableLeft = $currenttable.offset().left;
            $htmlContainerPlaceholder.height($currenttable.height());
            var columnCoords = [];
            var $currenttableHeader = $scope.$table.find('tr.ReportHeader').last();
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            var $currenttableRows = $currenttableHeader.children('td').slice(0, fieldsInTable.length);
            var countOfVgColumns = IzendaReportViewer.getCountOfVgColumns($scope);
            // calculate 
            angular.element.each($currenttableRows, function (iTh, th) {
                var $th = angular.element(th);
                if (iTh >= countOfVgColumns) {
                    columnCoords.push({
                        left: $th.position().left,
                        width: $th.outerWidth()
                    });
                }
            });
            // mouse enter handler
            $scope.$table.on('mouseenter', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                currentTableLeft = $currenttable.offset().left;
                $htmlContainerPlaceholder.css('top', $currenttable.position().top + 'px');
                $htmlContainerPlaceholder.height($currenttable.height());
                if (columnCoords.length > 0)
                    $htmlContainerPlaceholder.css('left', columnCoords[0].left + 'px');
                $htmlContainerPlaceholder.removeClass('hidden');
            });
            // mouse leave handler
            $scope.$table.on('mouseleave', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                if (event['toElement'] && angular.element(event['toElement']).hasClass('html-container-placeholder'))
                    return;
                $htmlContainerPlaceholder.addClass('hidden');
            });
            // mouse move handler
            $scope.$table.on('mousemove', function (event) {
                if (!$rootScope.isDraggingNow)
                    return;
                var left = event.pageX - currentTableLeft;
                for (var k = 0; k < columnCoords.length; k++) {
                    var column = columnCoords[k];
                    if (k < columnCoords.length - 1) {
                        var nextColumn = columnCoords[k + 1];
                        if (column.left <= left && left < nextColumn.left) {
                            if (left <= column.left + (nextColumn.left - column.left) / 2) {
                                $htmlContainerPlaceholder.css('left', column.left + 'px');
                                $scope.currentInsertColumnOrder = k;
                                $scope.$applyAsync();
                            }
                            else {
                                $htmlContainerPlaceholder.css('left', nextColumn.left + 'px');
                                $scope.currentInsertColumnOrder = k + 1;
                                $scope.$applyAsync();
                            }
                        }
                    }
                    else {
                        if (left >= column.left + column.width / 2) {
                            $htmlContainerPlaceholder.css('left', (column.left + column.width) + 'px');
                            $scope.currentInsertColumnOrder = k + 1;
                            $scope.$applyAsync();
                        }
                        else if (left >= column.left) {
                            $htmlContainerPlaceholder.css('left', (column.left) + 'px');
                            $scope.currentInsertColumnOrder = k;
                            $scope.$applyAsync();
                        }
                    }
                }
            });
        };
        ;
        /**
         * Add table header click handler
         */
        IzendaReportViewer.addClickHandler = function ($scope) {
            if (!angular.isFunction($scope.onHeaderClick))
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iTableHeader, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell >= fieldsInTable.length)
                        return;
                    $cell.on('mousedown', function (e) {
                        if (e.which !== 1)
                            return;
                        if (!angular.isFunction($scope.onHeaderClick))
                            return;
                        var $this = angular.element(e.delegateTarget);
                        var fieldIndex = $this.index();
                        $scope.onHeaderClick({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Add buttons which allow to remvoe table columns
         */
        IzendaReportViewer.addColRemoveButtons = function ($scope) {
            if ($scope.allowColRemove !== 'true')
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            // iterate headers
            angular.element.each($headerRows, function (iHeaderRow, headerRow) {
                var $tableHeader = angular.element(headerRow);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    $cell.css('position', 'relative');
                    if (iCell >= fieldsInTable.length)
                        return;
                    // add cell handlers
                    $cell.on('mouseover.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').show();
                    });
                    $cell.on('mouseout.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').hide();
                    });
                    // add button
                    var $reportColumnRemoveButton = angular.element('<div class="izenda-common-remove-column-btn"><span class="glyphicon glyphicon-remove"></span></div>');
                    $cell.append($reportColumnRemoveButton);
                    $reportColumnRemoveButton.on('mousedown.removebtn', function (e) {
                        if (e.which !== 1)
                            return;
                        e.stopImmediatePropagation();
                        if (!angular.isFunction($scope.onRemove))
                            return;
                        var fieldIndex = angular.element(e.delegateTarget).parent().index();
                        $scope.onRemove({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Remove 'onkeydown' event and add own keydown and blur events, which call onPagingClick handler.
         * @param {} $scope Current directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls
         */
        IzendaReportViewer.preparePagingInput = function ($scope, $htmlContainer) {
            var $pageInputs = $htmlContainer.find('.iz-pagelink-exact-page-input');
            if (!$pageInputs.length)
                return;
            angular.element.each($pageInputs, function (iPageInput, pageInput) {
                var $pageInput = angular.element(pageInput);
                $pageInput.attr('onkeydown', null);
                // input changed handler
                var onInputChanged = function ($input) {
                    var pagesCount = parseInt(String($input.attr('data-pages-count')));
                    var itemsPerPage = parseInt(String($input.attr('data-items-per-page')));
                    var val = Number($input.val());
                    if (val < 1)
                        val = 1;
                    if (val > pagesCount)
                        val = pagesCount;
                    var startRecord = ((val - 1) * itemsPerPage) + 1;
                    var finishRecord = startRecord + itemsPerPage - 1;
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink-exact-page-input',
                        arg1: startRecord + '-' + finishRecord
                    });
                };
                $pageInput.on('blur', function (event) {
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
                $pageInput.on('keydown', function (event) {
                    var kc = event.keyCode || event.which;
                    if (kc !== 13)
                        return;
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event, which call onPagingClick handler.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.preparePageLinks = function ($scope, $htmlContainer) {
            var $pageLinks = $htmlContainer.find('.iz-pagelink, .iz-pagelink-direction-btn');
            if (!$pageLinks.length || !angular.isFunction($scope.onPagingClick))
                return;
            angular.element.each($pageLinks, function (iPageLink, pageLink) {
                var $pageLink = angular.element(pageLink);
                var onClickScript = String($pageLink.attr('onclick'));
                var matchResult = /results=(\d+\-\d+)/g.exec(onClickScript);
                if (matchResult && matchResult.length === 2)
                    $pageLink.attr('data-active-page', matchResult[1]);
                $pageLink.attr('onclick', null);
                $pageLink.on('click', function (e) {
                    var $currentLink = angular.element(e.delegateTarget);
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink',
                        arg1: $currentLink.attr('data-active-page')
                    });
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.prepareGoToRecordBtn = function ($scope, $htmlContainer) {
            var $btn = $htmlContainer.find('.iz-pagelink-go-to-page-btn');
            $btn.attr('onclick', null);
            $btn.on('click', function (e) {
                var $this = angular.element(e.delegateTarget);
                var itemsCount = parseInt(String($this.attr('data-items-count')));
                var itemsPerPage = parseInt(String($this.attr('data-items-per-page')));
                var inputValue;
                try {
                    inputValue = parseInt(String(angular.element('#pageNumEd').val()));
                }
                catch (e) {
                    inputValue = 1;
                }
                if (itemsCount < inputValue)
                    inputValue = itemsCount;
                var startRecord = inputValue - (inputValue - 1) % itemsPerPage;
                var finishRecord = startRecord + itemsPerPage - 1;
                $scope.onPagingClick({
                    arg0: 'iz-pagelink-exact-page-input',
                    arg1: startRecord + '-' + finishRecord
                });
            });
        };
        IzendaReportViewer.factory = function () {
            var directive = function ($rootScope, $timeout) {
                return new IzendaReportViewer($rootScope, $timeout);
            };
            directive.$inject = ['$rootScope', '$timeout'];
            return directive;
        };
        return IzendaReportViewer;
    }());
    module_definition_13.default.directive('izendaReportViewer', ['$rootScope', '$timeout', IzendaReportViewer.factory()]);
});
izendaRequire.define("common/ui/directives/select-checkboxes", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_14) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select checkboxes directive.
     */
    var IzendaSelectCheckboxes = /** @class */ (function () {
        function IzendaSelectCheckboxes() {
            this.restrict = 'AE';
            this.scope = {
                existentValues: '=',
                ngModel: '='
            };
            this.template = "<div ng-repeat=\"existentValue in existentValues\">\n\t<label class=\"izenda-common-select-checkboxes-label\">\n\t\t<input type=\"checkbox\" ng-click=\"clickCheckbox(existentValue)\" ng-checked=\"isChecked(existentValue)\"/>\n\t\t<span ng-bind=\"existentValue.text\"></span>\n\t</label>\n</div>";
            IzendaSelectCheckboxes.prototype.link = function ($scope, $element, attrs) {
                $element.addClass('izenda-common-select-checkboxes');
                $scope.$watch('existentValues', function () { return $scope.$parent.$eval(attrs.ngChange); }, true);
                $scope.$watchCollection('ngModel', function () { return $scope.$parent.$eval(attrs.ngChange); });
                $scope.isChecked = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    return viewValue.indexOf(existentValue.value) >= 0;
                };
                $scope.clickCheckbox = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    if (viewValue.indexOf(existentValue.value) >= 0)
                        viewValue.splice(viewValue.indexOf(existentValue.value), 1);
                    else
                        viewValue.push(existentValue.value);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSelectCheckboxes.factory = function () {
            return function () { return new IzendaSelectCheckboxes(); };
        };
        return IzendaSelectCheckboxes;
    }());
    module_definition_14.default.directive('izendaSelectCheckboxes', [IzendaSelectCheckboxes.factory()]);
});
izendaRequire.define("common/ui/directives/splashscreen", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_15) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaSplashScreen = /** @class */ (function () {
        function IzendaSplashScreen($timeout, $izendaUrl) {
            this.$timeout = $timeout;
            this.restrict = 'EA';
            this.scope = {
                ngShow: '=',
                text: '=',
                loadingIndicatorUrl: '@',
                parentSelector: '@'
            };
            IzendaSplashScreen.prototype.link = function ($scope) {
                var splashTimeout = null;
                var template = "<div class=\"izenda-common-splashscreen hidden\">\n\t<div class=\"izenda-common-splashscreen-inner text-center\">\n\t\t<img class=\"izenda-common-splashscreen-loading\"/>\n\t\t<span class=\"izenda-common-splashscreen-text\"></span>\n\t</div>\n</div>";
                var $element = angular.element(template);
                var added = false;
                // loading spinner
                var defaultLoadingIndicatorUrl = angular.isString($scope.loadingIndicatorUrl)
                    ? $scope.loadingIndicatorUrl
                    : $izendaUrl.settings.urlRpPage + 'image=ModernImages.loading-grid.gif';
                var parentSelectorText = angular.isString($scope.parentSelector) ? $scope.parentSelector : 'body';
                var bodyOverflow;
                var bodyPadding;
                var $body;
                var initialize = function () {
                    $element.find('.izenda-common-splashscreen-loading').attr('src', defaultLoadingIndicatorUrl);
                    $body = angular.element(parentSelectorText);
                    if ($body.length > 0 && !added) {
                        bodyOverflow = $body.css('overflow');
                        bodyPadding = $body.css('padding-left');
                        $body.append($element);
                        added = true;
                    }
                };
                var setText = function () {
                    var $inner = $element.find('.izenda-common-splashscreen-text');
                    $inner.text($scope.text);
                };
                var bodyHasScrollbar = function () {
                    return $body.length > 0 && $body.get(0).scrollHeight > $body.height();
                };
                var showSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                    }
                    splashTimeout = $timeout(function () {
                        $element.removeClass('hidden');
                        bodyOverflow = $body.css('overflow');
                        $body.css('overflow', 'hidden');
                        if (bodyHasScrollbar()) {
                            bodyPadding = $body.css('padding-left');
                            $body.css('padding-right', '17px');
                        }
                    }, 1000);
                };
                var hideSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                        $element.addClass('hidden');
                        $body.css('overflow', bodyOverflow);
                        if (bodyHasScrollbar()) {
                            $body.css('padding-right', bodyPadding);
                        }
                    }
                };
                $scope.$watch('ngShow', function (newVal) {
                    if (newVal)
                        showSplash();
                    else
                        hideSplash();
                });
                $scope.$watch('text', function () { return setText(); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSplashScreen.factory = function () {
            var directive = function ($timeout, $izendaUrl) { return new IzendaSplashScreen($timeout, $izendaUrl); };
            directive.$inject = ['$timeout', '$izendaUrl'];
            return directive;
        };
        return IzendaSplashScreen;
    }());
    module_definition_15.default.directive('izendaSplashScreen', ['$timeout', '$izendaUrl', IzendaSplashScreen.factory()]);
});
izendaRequire.define("common/ui/directives/switcher", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_16) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Switcher directive
     */
    var IzendaSwitcher = /** @class */ (function () {
        function IzendaSwitcher() {
            this.restrict = 'A';
            this.scope = {
                tooltip: '=',
                label: '=',
                ngModel: '='
            };
            this.template = "<span ng-show=\"label != null && label != ''\" class=\"izenda-common-switcher-label\">{{label}}</span>\n<span class=\"izenda-common-switcher\" title=\"{{tooltip}}\">\n\t<span class=\"izenda-common-switcher-text-off\">O</span>\n\t<span class=\"izenda-common-switcher-item\"></span>\n\t<span class=\"izenda-common-switcher-text-on\">I</span>\n</span>";
            IzendaSwitcher.prototype.link = function ($scope, $element) {
                $element.click(function (e) {
                    e.stopPropagation();
                    $scope.ngModel = !$scope.ngModel;
                    $scope.$parent.$apply();
                });
                var $switcher = $element.find('.izenda-common-switcher');
                $scope.$watch('ngModel', function (newVal) {
                    if (newVal)
                        $switcher.addClass('on');
                    else
                        $switcher.removeClass('on');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSwitcher.factory = function () {
            return function () { return new IzendaSwitcher(); };
        };
        return IzendaSwitcher;
    }());
    module_definition_16.default.directive('izendaSwitcher', [IzendaSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/toggle-button", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_17) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Toggle button directive
     */
    var IzendaToggleButton = /** @class */ (function () {
        function IzendaToggleButton() {
            this.restrict = 'EA';
            this.transclude = true;
            this.require = ['ngModel'];
            this.scope = {
                trueValue: '=',
                falseValue: '='
            };
            this.template = "<span type=\"button\" class=\"btn izenda-toggle-button-btn active\" data-toggle=\"button\">\n\t<ng-transclude></ng-transclude>\n</span>";
            IzendaToggleButton.prototype.link = function ($scope, $element, attrs, requiredParams) {
                var ngModel = requiredParams[0];
                var btn = $element.children('.btn');
                $scope.$parent.$watch(attrs.ngModel, function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    if (newVal == $scope.trueValue) {
                        if (btn.hasClass('active')) {
                            btn.removeClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                    else if (newVal == $scope.falseValue) {
                        if (!btn.hasClass('active')) {
                            btn.addClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                });
                if (ngModel.$viewValue === $scope.trueValue) {
                    if (btn.hasClass('active')) {
                        btn.removeClass('active');
                    }
                }
                else if (ngModel.$viewValue === $scope.falseValue) {
                    if (!btn.hasClass('active')) {
                        btn.addClass('active');
                    }
                }
                $element.on('click', function () { return ngModel.$setViewValue(!ngModel.$viewValue); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToggleButton.factory = function () {
            return function () { return new IzendaToggleButton(); };
        };
        return IzendaToggleButton;
    }());
    module_definition_17.default.directive('izendaToggleButton', [IzendaToggleButton.factory()]);
});
izendaRequire.define("common/ui/components/schedule/schedule-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/settings-service", "common/ui/services/schedule-service", "izenda-external-libs"], function (require, exports, module_definition_18, izenda_component_4, localization_service_3, settings_service_2, schedule_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Schedule component definition
     */
    var IzendaScheduleComponent = /** @class */ (function () {
        function IzendaScheduleComponent($izendaLocale, $izendaSettings, $izendaScheduleService) {
            this.$izendaLocale = $izendaLocale;
            this.$izendaSettings = $izendaSettings;
            this.$izendaScheduleService = $izendaScheduleService;
        }
        /**
         * Component init
         */
        IzendaScheduleComponent.prototype.$onInit = function () {
            this.dateFormat = this.$izendaSettings.dateFormat;
            this.culture = this.$izendaSettings.culture;
        };
        IzendaScheduleComponent = __decorate([
            izenda_component_4.default(module_definition_18.default, 'izendaScheduleComponent', ['$izendaLocale', '$izendaSettings', '$izendaScheduleService'], {
                templateUrl: '###RS###extres=components.common.ui.components.schedule.schedule-template.html',
                bindings: {
                    scheduleConfig: '=',
                    repeatTypes: '<',
                    emailTypes: '<',
                    timezones: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_3.default,
                settings_service_2.default,
                schedule_service_1.default])
        ], IzendaScheduleComponent);
        return IzendaScheduleComponent;
    }());
    exports.default = IzendaScheduleComponent;
});
izendaRequire.define("common/ui/components/select-report/select-report-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_19, izenda_component_5, localization_service_4, url_service_2, settings_service_3, common_query_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report component definition
     */
    var IzendaSelectReportComponent = /** @class */ (function () {
        function IzendaSelectReportComponent($timeout, $izendaLocale, $izendaUrl, $izendaSettings, $izendaCommonQuery) {
            this.$timeout = $timeout;
            this.$izendaLocale = $izendaLocale;
            this.$izendaUrl = $izendaUrl;
            this.$izendaSettings = $izendaSettings;
            this.$izendaCommonQuery = $izendaCommonQuery;
            this.uncategorizedText = this.$izendaLocale.localeText('js_Uncategorized', 'Uncategorized');
            this.reset();
        }
        IzendaSelectReportComponent.prototype.$onChanges = function (changesObj) {
            var _this = this;
            if (!changesObj.opened)
                return;
            var currentOpened = changesObj.opened.currentValue;
            if (currentOpened) {
                this.reset();
                this.openedInner = true;
                // timeout is needed for the smoother modal animation
                this.$timeout(function () {
                    _this.hideAll = false;
                    _this.$izendaCommonQuery.getReportSetCategory(_this.uncategorizedText).then(function (data) {
                        var reportSets = data.ReportSets;
                        _this.addCategoriesToModal(reportSets);
                        _this.addReportsToModal(reportSets);
                        _this.isLoading = false;
                    });
                }, 1000);
            }
        };
        /**
         * Add report parts to modal
         */
        IzendaSelectReportComponent.prototype.addReportPartsToModal = function (reportParts) {
            this.groups = [];
            if (!reportParts || !reportParts.length)
                return;
            // add groups:
            var currentGroup = [];
            for (var i = 0; i < reportParts.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportPart = reportParts[i];
                reportPart.isReportPart = true;
                currentGroup.push(reportPart);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Add reportset categories to modal select control.
         */
        IzendaSelectReportComponent.prototype.addCategoriesToModal = function (reportSets) {
            var _this = this;
            if (!reportSets)
                return;
            this.categories = reportSets
                .filter(function (report) { return !report.Dashboard; })
                .map(function (report) {
                var category = report.Category ? report.Category : _this.uncategorizedText;
                return !report.Subcategory
                    ? category
                    : category + _this.$izendaSettings.getCategoryCharacter() + report.Subcategory;
            });
            // make categories unique
            this.categories = Array.from(new Set(this.categories));
            if (!this.category)
                this.category = this.uncategorizedText;
        };
        /**
         * Add report to modal dialog body.
         */
        IzendaSelectReportComponent.prototype.addReportsToModal = function (reportSets) {
            this.groups = [];
            var reportSetsToShow = [];
            if (reportSets && reportSets.length)
                reportSetsToShow = reportSets.filter(function (rs) { return !rs.Dashboard && rs.Name; });
            if (!reportSetsToShow || !reportSetsToShow.length)
                return;
            // add groups:
            var currentGroup = [];
            this.groups.length = 0;
            for (var i = 0; i < reportSetsToShow.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportSet = reportSetsToShow[i];
                reportSet.isReportPart = false;
                currentGroup.push(reportSet);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Select category handler
         */
        IzendaSelectReportComponent.prototype.categoryChangedHandler = function () {
            var _this = this;
            if (this.isLoading)
                return;
            this.isLoading = true;
            this.groups = [];
            if (!this.category)
                this.category = this.uncategorizedText;
            this.$izendaCommonQuery.getReportSetCategory(this.category).then(function (data) {
                _this.addReportsToModal(data.ReportSets);
                _this.isLoading = false;
            });
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * User clicked to report set item
         */
        IzendaSelectReportComponent.prototype.itemSelectedHandler = function (item) {
            var _this = this;
            var isReportPart = item.isReportPart;
            var reportFullName = item.Name;
            if (item.CategoryFull)
                reportFullName = item.CategoryFull + this.$izendaSettings.getCategoryCharacter() + reportFullName;
            if (!isReportPart) {
                // if report set selected
                this.isLoading = true;
                this.groups = [];
                this.$izendaCommonQuery.getReportParts(reportFullName).then(function (data) {
                    var reports = data.Reports;
                    _this.addReportPartsToModal(reports);
                    _this.isLoading = false;
                });
            }
            else {
                this.openedInner = false;
                // if report part selected
                if (angular.isFunction(this.onSelected))
                    this.onSelected({ reportPartInfo: item });
            }
        };
        /**
         * Reset form
         */
        IzendaSelectReportComponent.prototype.reset = function () {
            this.openedInner = false;
            this.category = this.uncategorizedText;
            this.categories = [];
            this.groups = [];
            this.isLoading = true;
            this.hideAll = true;
        };
        IzendaSelectReportComponent = __decorate([
            izenda_component_5.default(module_definition_19.default, 'izendaSelectReportComponent', ['$timeout', '$izendaLocale', '$izendaUrl', '$izendaSettings', '$izendaCommonQuery'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report.select-report-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_4.default,
                url_service_2.default,
                settings_service_3.default,
                common_query_service_2.default])
        ], IzendaSelectReportComponent);
        return IzendaSelectReportComponent;
    }());
    exports.default = IzendaSelectReportComponent;
});
izendaRequire.define("common/ui/components/select-report-name/select-report-name-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_20, izenda_component_6, localization_service_5, url_service_3, settings_service_4, common_query_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report name component definition
     */
    var IzendaSelectReportNameComponent = /** @class */ (function () {
        function IzendaSelectReportNameComponent($q, $izendaLocale, $izendaUrl, $izendaSettings, $izendaCommonQuery, reportNameInputPlaceholderText, reportNameEmptyError, reportNameInvalidError) {
            this.$q = $q;
            this.$izendaLocale = $izendaLocale;
            this.$izendaUrl = $izendaUrl;
            this.$izendaSettings = $izendaSettings;
            this.$izendaCommonQuery = $izendaCommonQuery;
            this.reportNameEmptyError = reportNameEmptyError;
            this.reportNameInvalidError = reportNameInvalidError;
            // other
            this.nextId = 1;
            this.isCategoryAllowed = $izendaSettings.getCommonSettings().showCategoryTextboxInSaveDialog;
            this.reportNameInputPlaceholderText = this.$izendaLocale
                .localeText(reportNameInputPlaceholderText[0], reportNameInputPlaceholderText[1]);
            this.textCreateNew = $izendaLocale.localeText('js_CreateNew', 'Create New');
            this.textUncategorized = $izendaLocale.localeText('js_Uncategorized', 'Uncategorized');
            this.textErrorReportNameEmpty = $izendaLocale.localeText(reportNameEmptyError[0], reportNameEmptyError[1]);
            this.textErrorInvalidReportName = $izendaLocale.localeText(reportNameInvalidError[0], reportNameInvalidError[1]);
            this.textErrorInvalidCategoryName = $izendaLocale.localeText('js_InvalidCategoryName', 'Invalid Category Name');
            this.isOpenedInner = false;
            this.isNewReportDialog = false;
            this.reportName = '';
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.errorMessages = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        }
        IzendaSelectReportNameComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.opened) {
                var currentOpened = changesObj.opened.currentValue;
                if (currentOpened)
                    this.openModal();
            }
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportNameComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * Close modal dialog
         */
        IzendaSelectReportNameComponent.prototype.closeModal = function () {
            this.isOpenedInner = false;
        };
        /**
         * Open modal dialog
         */
        IzendaSelectReportNameComponent.prototype.openModal = function () {
            var _this = this;
            this.isSelectDisabled = true;
            this.isOpenedInner = true;
            this.resetForm();
            var reportInfo = this.$izendaUrl.getReportInfo();
            this.nextId = 1;
            // show loading message inside select control
            this.categories = [];
            this.categories.push({
                id: -1,
                name: this.$izendaLocale.localeText('js_Loading', 'Loading...')
            });
            this.selectedCategory = this.categories[0];
            this.reportName = reportInfo.name;
            this.$izendaCommonQuery.getReportSetCategory(this.textUncategorized).then(function (data) {
                _this.categories = [];
                _this.selectedCategory = null;
                _this.reportSets = data.ReportSets;
                // add categories
                // "Create new"
                if (_this.$izendaSettings.getCommonSettings().allowCreateNewCategory)
                    _this.categories.push({
                        id: _this.nextId++,
                        name: _this.textCreateNew
                    });
                // "Uncategorized"
                _this.categories.push({
                    id: _this.nextId++,
                    name: _this.textUncategorized
                });
                _this.selectedCategory = _this.getCategoryObjectByName(_this.textUncategorized);
                // Other categories
                if (angular.isArray(_this.reportSets)) {
                    _this.reportSets.forEach(function (report) {
                        var id = _this.nextId++;
                        var currentCategoryName = report.Category;
                        if (!currentCategoryName)
                            currentCategoryName = _this.textUncategorized;
                        currentCategoryName = !report.Subcategory
                            ? currentCategoryName
                            : currentCategoryName + _this.$izendaSettings.getCategoryCharacter() + report.Subcategory;
                        if (_this.categories && _this.categories.length) {
                            if (!_this.categories.find(function (c) { return c.name === currentCategoryName; })) {
                                // if have't already added
                                var cat = {
                                    id: id,
                                    name: currentCategoryName
                                };
                                _this.categories.push(cat);
                                if (reportInfo.category === currentCategoryName) {
                                    _this.selectedCategory = cat;
                                }
                            }
                        }
                    });
                }
                _this.isSelectDisabled = false;
            });
        };
        /**
         * "Enter" button key press handler for report name <input>
         * @param {event object} $event.
         */
        IzendaSelectReportNameComponent.prototype.reportNameKeyPressed = function ($event) {
            if ($event.keyCode === 13 /* Enter */)
                this.completeHandler();
        };
        /**
         * OK button pressed
         */
        IzendaSelectReportNameComponent.prototype.completeHandler = function () {
            var _this = this;
            this.validateForm().then(function () {
                _this.closeModal();
                var categoryName = _this.isCreatingNewCategory ? _this.newCategoryName : _this.selectedCategory.name;
                if (angular.isFunction(_this.onSelected)) {
                    _this.onSelected({
                        reportName: _this.reportName,
                        categoryName: categoryName
                    });
                }
            }, function () { });
        };
        /**
         * Get report with given name from report list
         * @param {string} report name.
         * @param {Array} list with reports.
         */
        IzendaSelectReportNameComponent.prototype.isReportInReportList = function (reportName, reportList) {
            if (!reportList || !reportList.length)
                return false;
            return reportList.find(function (rs) { return rs.Name === reportName.trim(); });
        };
        /**
         * Set form to it's initial state
         */
        IzendaSelectReportNameComponent.prototype.resetForm = function () {
            var reportInfo = this.$izendaUrl.getReportInfo();
            this.errorMessages = [];
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
            if (this.isNewReportDialog) {
                this.reportName = '';
            }
            else {
                var separatorIndex = (reportInfo && reportInfo.name)
                    ? reportInfo.name.lastIndexOf(this.$izendaSettings.getCategoryCharacter())
                    : -1;
                this.reportName = (separatorIndex < 0) ? reportInfo.name : reportInfo.name.substr(separatorIndex + 1);
            }
        };
        /**
         * Clear all focus
         */
        IzendaSelectReportNameComponent.prototype.clearFocus = function () {
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        };
        /**
         * Set focus on report name input
         */
        IzendaSelectReportNameComponent.prototype.setFocus = function () {
            this.isNameFocused = true;
        };
        /**
         * Categories were updated.
         */
        IzendaSelectReportNameComponent.prototype.updateCategoriesHandler = function (newCategories) {
            var _this = this;
            this.categories = newCategories.map(function (newCategoryName) {
                return {
                    id: _this.nextId++,
                    name: newCategoryName
                };
            });
            var selectedCategoryName = this.selectedCategory ? this.selectedCategory.name : null;
            this.selectedCategory = this.getCategoryObjectByName(selectedCategoryName);
        };
        /**
         * Report category selected handler
         */
        IzendaSelectReportNameComponent.prototype.categorySelectedHandler = function (category) {
            if (!this.isCategoryAllowed) {
                this.selectedCategory = this.getCategoryObjectByName(this.textUncategorized);
                return;
            }
            this.selectedCategory = this.getCategoryObjectByName(category);
            if (this.selectedCategory !== null) {
                if (this.selectedCategory.name === this.textCreateNew) {
                    this.isCreatingNewCategory = true;
                    this.clearFocus();
                    this.isCategoryFocused = true;
                }
                else {
                    this.isCreatingNewCategory = false;
                }
            }
            else {
                this.isCreatingNewCategory = false;
            }
        };
        /**
         * Validate form
         */
        IzendaSelectReportNameComponent.prototype.validateForm = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                // check report name not empty
                _this.errorMessages.length = 0;
                _this.reportName = angular.isString(_this.reportName) ? _this.reportName.trim() : '';
                if (!_this.reportName) {
                    _this.errorMessages.push(_this.textErrorReportNameEmpty);
                    reject();
                    return false;
                }
                // check report name is valid
                var settings = _this.$izendaSettings.getCommonSettings();
                var reportNameFixed = window.utility.fixReportNamePath(_this.reportName, _this.$izendaSettings.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                if (!reportNameFixed) {
                    _this.errorMessages.push(_this.textErrorInvalidReportName);
                    reject();
                    return false;
                }
                _this.reportName = reportNameFixed;
                // check category
                if (_this.isCreatingNewCategory) {
                    var fixedCategoryName = window.utility.fixReportNamePath(_this.newCategoryName, _this.$izendaSettings.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                    if (!fixedCategoryName) {
                        _this.errorMessages.push(_this.textErrorInvalidCategoryName);
                        reject();
                        return false;
                    }
                    _this.newCategoryName = fixedCategoryName;
                    for (var i = 0; i < _this.categories.length; i++) {
                        if (_this.newCategoryName === _this.categories[i]['name']) {
                            _this.errorMessages.push(_this.getErrorTextCategoryExist(_this.newCategoryName));
                            reject();
                            return false;
                        }
                    }
                    resolve();
                    return true;
                }
                // check report name
                var selectedCategoryName = _this.selectedCategory.name;
                // resolve if it is same report
                var reportInfo = _this.$izendaUrl.getReportInfo();
                if (reportInfo.name === _this.reportName && reportInfo.category === selectedCategoryName) {
                    _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                        _this.$izendaSettings.getCategoryCharacter() +
                        _this.reportName));
                    reject();
                    return false;
                }
                // check report isn't in that category
                if (selectedCategoryName === _this.textUncategorized) {
                    if (_this.isReportInReportList(_this.reportName, _this.reportSets)) {
                        _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                            _this.$izendaSettings.getCategoryCharacter() +
                            _this.reportName));
                        reject();
                        return false;
                    }
                    resolve();
                    return true;
                }
                else {
                    _this.$izendaCommonQuery.getReportSetCategory(selectedCategoryName).then(function (data) {
                        _this.reportSets = data.ReportSets;
                        if (_this.isReportInReportList(_this.reportName, data.ReportSets)) {
                            _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                                _this.$izendaSettings.getCategoryCharacter() +
                                _this.reportName));
                            reject();
                            return false;
                        }
                        resolve();
                        return true;
                    });
                }
                return true;
            });
        };
        /**
         * Get category object by it's id
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectById = function (id) {
            return this.categories.find(function (category) { return category.id === id; }) || null;
        };
        /**
         * Get category object by it's name
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectByName = function (name) {
            return this.categories.find(function (category) { return category.name === name; }) || null;
        };
        IzendaSelectReportNameComponent.prototype.getInvalidCharsRegex = function () {
            var additionalCharacter = '';
            if (jsResources.categoryCharacter !== '\\')
                additionalCharacter = jsResources.categoryCharacter.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
            return new RegExp('[^A-Za-z0-9_/' + additionalCharacter + "\\-'' \\\\]", 'g');
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextCategoryExist = function (categoryName) {
            return this.$izendaLocale.localeTextWithParams('js_CategoryExist', 'Category with name "{0}" already exist.', [categoryName]);
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextReportExist = function (fullReportName) {
            return this.$izendaLocale.localeTextWithParams('js_ReportAlreadyExist', 'Dashboard or report "{0}" already exist', [fullReportName]);
        };
        IzendaSelectReportNameComponent = __decorate([
            izenda_component_6.default(module_definition_20.default, 'izendaSelectReportNameComponent', ['$q', '$izendaLocale', '$izendaUrl', '$izendaSettings', '$izendaCommonQuery', 'izenda.common.ui.reportNameInputPlaceholderText',
                'izenda.common.ui.reportNameEmptyError', 'izenda.common.ui.reportNameInvalidError'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report-name.select-report-name-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_5.default,
                url_service_3.default,
                settings_service_4.default,
                common_query_service_3.default, Array, String, String])
        ], IzendaSelectReportNameComponent);
        return IzendaSelectReportNameComponent;
    }());
    exports.default = IzendaSelectReportNameComponent;
    /**
     * Directive docs.
     */
    var IzendaCategorySelect = /** @class */ (function () {
        function IzendaCategorySelect($izendaSettings) {
            this.$izendaSettings = $izendaSettings;
            this.restrict = 'A';
            this.scope = {
                categories: '=',
                category: '=',
                onSelect: '&',
                onCategoriesChanged: '&'
            };
            IzendaCategorySelect.prototype.link = function ($scope, $element) {
                var categoryCharacter = $izendaSettings.getCategoryCharacter();
                var commonSettings = $izendaSettings.getCommonSettings();
                var stripInvalidCharacters = commonSettings.stripInvalidCharacters;
                var allowInvalidCharacters = commonSettings.allowInvalidCharacters;
                var categoryControl = new AdHoc.Utility.IzendaCategorySelectorControl($element, categoryCharacter, stripInvalidCharacters, allowInvalidCharacters);
                categoryControl.addSelectedHandler(function (val) {
                    if (angular.isFunction($scope.onSelect)) {
                        $scope.onSelect({
                            val: val
                        });
                        $scope.$applyAsync();
                    }
                });
                // watch for collapsed state change
                $scope.$watchCollection('categories', function () {
                    updateCategories();
                    updateCategory();
                });
                $scope.$watch('category', function () {
                    updateCategory();
                });
                function updateCategories() {
                    var previousLength = $scope.categories.length;
                    categoryControl.setCategories($scope.categories);
                    var newCategories = collectCategories();
                    if (previousLength !== newCategories.length && angular.isFunction($scope.onCategoriesChanged)) {
                        $scope.onCategoriesChanged({
                            newCategories: newCategories
                        });
                        $scope.$applyAsync();
                    }
                }
                function updateCategory() {
                    if (angular.isObject($scope.category) && $scope.category.id !== 1) {
                        categoryControl.select($scope.category.name);
                    }
                }
                function collectCategories() {
                    var options = angular.element.map($element.children('option'), function ($option) {
                        return $option.value;
                    });
                    return options;
                }
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaCategorySelect.factory = function () {
            var directive = function ($izendaSettings) { return new IzendaCategorySelect($izendaSettings); };
            directive.$inject = ['$izendaSettings'];
            return directive;
        };
        return IzendaCategorySelect;
    }());
    module_definition_20.default.directive('izendaCategorySelect', ['$izendaSettings', IzendaCategorySelect.factory()]);
    var CategoryObject = /** @class */ (function () {
        function CategoryObject() {
        }
        return CategoryObject;
    }());
});
izendaRequire.define("common/ui/components/share/share-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/ui/services/share-service", "izenda-external-libs"], function (require, exports, module_definition_21, izenda_component_7, localization_service_6, share_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaShareComponent = /** @class */ (function () {
        function IzendaShareComponent($izendaLocale, $izendaShareService) {
            this.$izendaLocale = $izendaLocale;
            this.$izendaShareService = $izendaShareService;
        }
        /**
         * Check is share rule selected right is valid
         */
        IzendaShareComponent.prototype.getShareRuleValidationMessage = function (shareRule) {
            if (!shareRule.right && !shareRule.subject)
                return this.$izendaLocale.localeText('js_NessesarySelectRight', 'It is necessary to choose the right, otherwise it will be ignored.');
            return null;
        };
        /**
         * Remove share rule handler.
         * @param {Core.IzendaShareRuleModel} shareRule
         */
        IzendaShareComponent.prototype.removeShareRule = function (shareRule) {
            this.$izendaShareService.removeShareRule(shareRule);
        };
        /**
         * Add share rule
         */
        IzendaShareComponent.prototype.addShareRule = function () {
            this.$izendaShareService.addNewShareRule();
        };
        IzendaShareComponent = __decorate([
            izenda_component_7.default(module_definition_21.default, 'izendaShareComponent', ['$izendaLocale', '$izendaShareService'], {
                templateUrl: '###RS###extres=components.common.ui.components.share.share-template.html',
                bindings: {
                    subjects: '<',
                    rights: '<',
                    shareRules: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_6.default,
                share_service_1.default])
        ], IzendaShareComponent);
        return IzendaShareComponent;
    }());
    exports.default = IzendaShareComponent;
});
izendaRequire.define("common/ui/module", ["require", "exports", "common/ui/module-definition", "common/ui/services/share-service", "common/ui/services/schedule-service", "common/ui/directives/align-switcher", "common/ui/directives/autocomplete", "common/ui/directives/bootstrap", "common/ui/directives/color-picker", "common/ui/directives/datetime-picker", "common/ui/directives/report-viewer", "common/ui/directives/select-checkboxes", "common/ui/directives/splashscreen", "common/ui/directives/switcher", "common/ui/directives/toggle-button", "common/ui/components/schedule/schedule-component", "common/ui/components/select-report/select-report-component", "common/ui/components/select-report-name/select-report-name-component", "common/ui/components/share/share-component"], function (require, exports, module_definition_22, share_service_2, schedule_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    share_service_2.default.register(module_definition_22.default);
    schedule_service_2.default.register(module_definition_22.default);
});
izendaRequire.define("instant-report/module-definition", ["require", "exports", "angular", "common/ui/module-definition", "common/common-module-definition", "izenda-external-libs", "common/core/module", "common/query/module", "common/ui/module"], function (require, exports, angular, module_definition_23, common_module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // Create instant report angular module
    var izendaInstantReportModule = angular.module('izendaInstantReport', [
        'ngCookies',
        'rx',
        'izenda.common.core',
        'izenda.common.query',
        'izenda.common.ui'
    ]);
    exports.default = izendaInstantReportModule;
    // configure common ui module:
    module_definition_23.default
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_ReportName', 'Report Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    var IzendaInstantReportLoader = /** @class */ (function () {
        function IzendaInstantReportLoader() {
        }
        IzendaInstantReportLoader.configureInstantReportModules = function (configObject) {
            // configure instant report module
            var module = izendaInstantReportModule
                .config(['$logProvider', function ($logProvider) { return $logProvider.debugEnabled(false); }])
                .config(['$provide', function ($provide) {
                    $provide.decorator('$browser', ['$delegate', function ($delegate) {
                            $delegate.onUrlChange = function () { };
                            $delegate.url = function () { return ''; };
                            return $delegate;
                        }]);
                }])
                .constant('$izendaInstantReportSettings', configObject);
            return module;
        };
        /**
         * Bootstrap angular app:
         * window.urlSettings$ objects should be defined before this moment.
         */
        IzendaInstantReportLoader.bootstrap = function () {
            angular.element(document).ready(function () {
                // common settings promise:
                var commonQuerySettingsPromise = common_module_definition_1.IzendaCommonLoader.loadSettings();
                // instant report settings promise:
                var urlSettings = window.urlSettings$;
                var rsPageUrl = urlSettings.urlRsPage;
                var settingsUrl = rsPageUrl + '?wscmd=getInstantReportSettings';
                var instantReportSettingsPromise = angular.element.get(settingsUrl);
                // wait while all settings are loaded:
                angular.element
                    .when(commonQuerySettingsPromise, instantReportSettingsPromise)
                    .then(function (commonSettingsResult, instantReportSettingsResult) {
                    // get instant report config object
                    var configObject = instantReportSettingsResult[0];
                    configObject['moveUncategorizedToLastPostion'] = true;
                    // create and configure modules:
                    IzendaInstantReportLoader.configureInstantReportModules(configObject);
                    // bootstrap application:
                    angular.element('#izendaInstantReportRootContainer').removeClass('hidden');
                    angular.bootstrap('#izendaInstantReportRootContainer', ['izendaInstantReport']);
                });
            });
        };
        return IzendaInstantReportLoader;
    }());
    exports.IzendaInstantReportLoader = IzendaInstantReportLoader;
});
izendaRequire.define("instant-report/services/instant-report-pivot", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_24) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Default pivot config object
     */
    module_definition_24.default.constant('izendaInstantReportDefaultPivotConfig', {
        pivotColumn: null,
        cellValues: [],
        options: {
            addSideTotals: false
        }
    });
    /**
     * Pivot storage service
     */
    module_definition_24.default.factory('$izendaInstantReportPivots', [
        '$injector',
        '$q',
        '$rootScope',
        '$izendaUtil',
        function ($injector, $q, $rootScope, $izendaUtil) {
            'use strict';
            /////////////////////////////////////////
            // common functions and variables
            /////////////////////////////////////////
            // variables
            var defaultConfig = $injector.get('izendaInstantReportDefaultPivotConfig');
            var pivotConfig = angular.extend({}, defaultConfig);
            var pivotsPanelOpened = false;
            /**
             * Get pivot column field wrapper
             */
            var getPivotColumn = function () {
                return pivotConfig.pivotColumn;
            };
            /**
             * Set pivot column
             */
            var setPivotColumn = function (value) {
                pivotConfig.pivotColumn = value;
            };
            /**
             * Set default group for pivot column.
             */
            var setDefaultGroup = function () {
                if (!angular.isObject(pivotConfig.pivotColumn))
                    return;
                if (!pivotConfig.pivotColumn.groupByFunction)
                    pivotConfig.pivotColumn.groupByFunction = $izendaUtil.getOptionByValue(pivotConfig.pivotColumn.groupByFunctionOptions, 'GROUP', true);
            };
            /**
             * Clear pivots
             */
            var removePivots = function () {
                pivotConfig.pivotColumn = null;
                pivotConfig.cellValues = [];
                pivotConfig.options.addSideTotals = false;
            };
            /**
             * Get pivot options object
             */
            var getPivotOptions = function () {
                return pivotConfig.options;
            };
            /**
             * Get pivots panel state
             */
            var getPivotsPanelOpened = function () {
                return pivotsPanelOpened;
            };
            /**
             * Set pivots panel state
             */
            var setPivotsPanelOpened = function (value) {
                pivotsPanelOpened = value;
            };
            /////////////////////////////////////////
            // cell value functions
            /////////////////////////////////////////
            /**
             * Get pivot fields wrappers
             */
            var getCellValues = function () {
                return pivotConfig.cellValues;
            };
            /**
             * Check is pivot added and valid.
             * @returns {boolean} is valid
             */
            var isPivotValid = function () {
                return angular.isObject(pivotConfig.pivotColumn) && pivotConfig.cellValues.length > 0;
            };
            /**
             * Add cell value field
             */
            var addCellValue = function () {
                pivotConfig.cellValues.push(null);
            };
            /**
             * Remove cell value
             */
            var removeCellValue = function (cellValue) {
                var cellValues = pivotConfig.cellValues;
                var idx = cellValues.indexOf(cellValue);
                if (idx >= 0) {
                    cellValues.splice(idx, 1);
                }
            };
            /**
             * Replace cell values by each other
             */
            var swapCellValues = function (fromIndex, toIndex) {
                var cellValues = pivotConfig.cellValues;
                var temp = cellValues[fromIndex];
                cellValues[fromIndex] = cellValues[toIndex];
                cellValues[toIndex] = temp;
            };
            /**
             * Move cell value to position
             */
            var moveCellValueTo = function (fromIndex, toIndex) {
                var cellValues = pivotConfig.cellValues;
                cellValues.splice(toIndex, 0, cellValues.splice(fromIndex, 1)[0]);
            };
            /**
             * Set cell value field, update available groups, formats, etc...
             */
            var setCellValueField = function (index, newField) {
                pivotConfig.cellValues[index] = newField;
            };
            /**
             * Add pivot column or cell if pivot column already defined
             */
            var addPivotItem = function (fieldCopy) {
                if (!angular.isObject(pivotConfig.pivotColumn)) {
                    pivotConfig.pivotColumn = fieldCopy;
                }
                else {
                    pivotConfig.cellValues.push(fieldCopy);
                }
            };
            /**
             * Synchronizes pivot
             */
            var syncPivotState = function (activeFieldsInActiveTables) {
                removeNotActiveFields(activeFieldsInActiveTables);
            };
            /**
             * Remove pivot column and pivot cell if corresponging fields are no
             * longer available.
             * @param {array} array of currently active fields.
             */
            var removeNotActiveFields = function (activeFieldsInActiveTables) {
                var isFieldInList = function (field, fieldList) {
                    if (!angular.isArray(fieldList))
                        return false;
                    for (var i = 0; i < fieldList.length; i++)
                        if (fieldList[i].sysname === field.sysname)
                            return true;
                    return false;
                };
                if (angular.isObject(pivotConfig.pivotColumn)) {
                    if (!isFieldInList(pivotConfig.pivotColumn, activeFieldsInActiveTables))
                        pivotConfig.pivotColumn = null;
                }
                var j = 0;
                while (j < pivotConfig.cellValues.length) {
                    var cellValue = pivotConfig.cellValues[j];
                    if (cellValue && !isFieldInList(cellValue, activeFieldsInActiveTables)) {
                        pivotConfig.cellValues.splice(j, 1);
                    }
                    j++;
                }
            };
            /////////////////////////////////////////
            // data
            /////////////////////////////////////////
            /**
             * Prepare pivots for send
             */
            var getPivotDataForSend = function () {
                if (!pivotConfig.pivotColumn)
                    return null;
                return pivotConfig;
            };
            /**
             * Load pivot
             */
            var loadPivotData = function (pivotData) {
                pivotConfig = pivotData;
                return $q(function (resolve) {
                    resolve();
                });
            };
            // PUBLIC API
            return {
                getPivotsPanelOpened: getPivotsPanelOpened,
                setPivotsPanelOpened: setPivotsPanelOpened,
                getPivotColumn: getPivotColumn,
                getPivotOptions: getPivotOptions,
                setPivotColumn: setPivotColumn,
                setDefaultGroup: setDefaultGroup,
                removePivots: removePivots,
                getCellValues: getCellValues,
                addCellValue: addCellValue,
                removeCellValue: removeCellValue,
                swapCellValues: swapCellValues,
                moveCellValueTo: moveCellValueTo,
                addPivotItem: addPivotItem,
                setCellValueField: setCellValueField,
                getPivotDataForSend: getPivotDataForSend,
                loadPivotData: loadPivotData,
                isPivotValid: isPivotValid,
                syncPivotState: syncPivotState
            };
        }
    ]);
});
izendaRequire.define("instant-report/services/instant-report-query", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_25) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda query service which provides dashboard specific queries
     * this is singleton
     */
    module_definition_25.default.factory('$izendaInstantReportQuery', [
        '$rootScope',
        '$q',
        '$http',
        '$log',
        '$window',
        '$izendaLocale',
        '$izendaUtilUiService',
        '$izendaUrl',
        '$izendaSettings',
        '$izendaRsQuery',
        function ($rootScope, $q, $http, $log, $window, $izendaLocale, $izendaUtilUiService, $izendaUrl, $izendaSettings, $izendaRsQuery) {
            'use strict';
            var requestList = [];
            /**
             * Get type group of field operator
             */
            var getFieldFilterOperatorValueType = function (operator) {
                var hiddenOperators = ['Blank', 'NotBlank', 'UsePreviousOR', 'True', 'False'], oneValueOperators = ['LessThan', 'GreaterThan', 'LessThanNot', 'GreaterThanNot', 'Equals', 'NotEquals', 'Like',
                    'BeginsWith', 'EndsWith', 'NotLike', 'LessThan_DaysOld', 'GreaterThan_DaysOld', 'Equals_DaysOld', 'LessThan_DaysOld',
                    'GreaterThan_DaysOld', 'Equals_DaysOld'], twoValueOperators = ['Between', 'NotBetween'], selectValuesOperators = ['Equals_Select', 'NotEquals_Select'], selectMultipleValuesOperators = ['Equals_Multiple', 'NotEquals_Multiple'], selectPopupValuesOperators = ['EqualsPopup', 'NotEqualsPopup'], selectCheckboxesValuesOperators = ['Equals_CheckBoxes'], selectOneDateOperators = ['EqualsCalendar', 'NotEqualsCalendar'], selectTwoDatesOperators = ['BetweenTwoDates', 'NotBetweenTwoDates'], fieldOperators = ['LessThanField', 'GreaterThanField', 'EqualsField', 'NotEqualsField'], inTimePeriod = ['InTimePeriod'];
                if (!angular.isObject(operator))
                    return 'hidden';
                if (!operator.value || hiddenOperators.indexOf(operator.value) >= 0)
                    return 'hidden';
                if (oneValueOperators.indexOf(operator.value) >= 0)
                    return 'oneValue';
                if (twoValueOperators.indexOf(operator.value) >= 0)
                    return 'twoValues';
                if (selectValuesOperators.indexOf(operator.value) >= 0)
                    return 'select';
                if (selectMultipleValuesOperators.indexOf(operator.value) >= 0)
                    return 'select_multiple';
                if (selectPopupValuesOperators.indexOf(operator.value) >= 0)
                    return 'select_popup';
                if (selectCheckboxesValuesOperators.indexOf(operator.value) >= 0)
                    return 'select_checkboxes';
                if (selectOneDateOperators.indexOf(operator.value) >= 0)
                    return 'oneDate';
                if (selectTwoDatesOperators.indexOf(operator.value) >= 0)
                    return 'twoDates';
                if (fieldOperators.indexOf(operator.value) >= 0)
                    return 'field';
                if (inTimePeriod.indexOf(operator.value) >= 0) {
                    return 'inTimePeriod';
                }
                return operator.value;
            };
            /**
             * Calculate current actual type group for field.
             */
            var getCurrentTypeGroup = function (field, dataTypeGroup) {
                var typeGroup;
                if (angular.isDefined(dataTypeGroup)) {
                    typeGroup = dataTypeGroup;
                }
                else {
                    typeGroup = angular.isObject(field.expressionType) && field.expressionType.value !== '...'
                        ? field.expressionType.value
                        : field.typeGroup;
                }
                return typeGroup;
            };
            /**
            * Get datasources
            */
            function getDatasources() {
                return $izendaRsQuery.query('getjsonschema', ['lazy'], {
                    dataType: 'json'
                }, 
                // custom error handler:
                {
                    handler: function () {
                        return 'Failed to get datasources';
                    },
                    params: []
                });
            }
            /**
             * Load field info by given sql column name.
             */
            function getFieldsInfo(fieldSysName) {
                return $izendaRsQuery.query('getfieldsinfo', [fieldSysName], {
                    dataType: 'json'
                }, {
                    handler: function (fName) {
                        return 'Failed to get field info for field ' + fName;
                    },
                    params: [fieldSysName]
                });
            }
            /**
             * Search fields in datasources (returns range of values [from, to])
             */
            function findInDatasources(searchString, from, to) {
                var params = [encodeURIComponent(searchString)];
                if (angular.isNumber(from) && angular.isNumber(to)) {
                    params = params.concat(String(from), String(to));
                }
                return $izendaRsQuery.query('findfields', params, {
                    dataType: 'json'
                }, {
                    handler: function (sString) {
                        return 'Failed to search fields and tables by keyword: ' + sString;
                    },
                    params: [searchString]
                });
            }
            /**
             * Load report json config
             */
            function loadReport(reportFullName) {
                return $izendaRsQuery.apiQuery('loadReportSetConfigJson', [reportFullName]);
            }
            /**
             * Cancel all running preview queries. All queries will be rejected.
             */
            function cancelAllPreviewQueries() {
                var i = 0;
                for (var i = 0; i < requestList.length; i++) {
                    var request = requestList[i];
                    request.canceller.resolve('Cancelled!');
                }
                requestList = [];
            }
            ;
            /**
             * Run reportSet preview request. If request R2 have come earlier that request R1 - R1 request cancels.
             */
            function getReportSetPreviewQueued(reportSetConfig) {
                cancelAllPreviewQueries();
                // prepare params
                var paramsArray = [
                    'iic=1',
                    'urlencoded=true',
                    'wscmd=getNewReportSetPreviewFromJson',
                    'wsarg0=' + encodeURIComponent(JSON.stringify(reportSetConfig))
                ];
                if (typeof (window.izendaPageId$) !== 'undefined')
                    paramsArray.push('izpid=' + window.izendaPageId$);
                if (typeof (window.angularPageId$) !== 'undefined')
                    paramsArray.push('anpid=' + window.angularPageId$);
                var rnParamValue = (reportSetConfig.reportCategory
                    ? reportSetConfig.reportCategory + $izendaSettings.getCategoryCharacter() + reportSetConfig.reportName
                    : reportSetConfig.reportName);
                var resolver = $q.defer();
                var canceller = $q.defer();
                var req = {
                    method: 'POST',
                    url: $izendaUrl.settings.urlRsPage,
                    params: { 'rnalt': rnParamValue },
                    timeout: canceller.promise,
                    dataType: 'text',
                    data: paramsArray.join('&'),
                    headers: {
                        'Content-Type': 'text/html'
                    }
                };
                // add request to current requests list
                requestList.push({
                    canceller: canceller,
                    resolver: resolver
                });
                var requestPromise = $http(req);
                requestPromise
                    .then(function successCallback(response) {
                    resolver.resolve(response.data);
                }, function errorCallback(response) {
                    if (response.config.timeout.$$state.value !== 'Cancelled!') {
                        //handle errors:
                        var errorText = $izendaLocale.localeText('js_FailedToLoadPreview', 'Failed to load preview.');
                        $izendaUtilUiService.showErrorDialog(errorText);
                        resolver.reject(response.data);
                    }
                });
                return resolver.promise;
            }
            /**
             * Create report set from json and save it.
             */
            function saveReportSet(reportSetConfig) {
                var paramsString = JSON.stringify(reportSetConfig);
                return $izendaRsQuery.apiQuery('saveReportSetNew', [paramsString]);
            }
            /**
             * Create report set from json and set it as CurrentReportSet.
             */
            function setReportAsCrs(reportSetConfig) {
                var paramsString = JSON.stringify(reportSetConfig);
                return $izendaRsQuery.query('setReportSetFromJsonToCrs', [paramsString], {
                    dataType: 'text',
                    headers: {
                        'Content-Type': 'text/html'
                    },
                    method: 'POST'
                }, {
                    handler: function () {
                        return 'Failed to set current report as CurrentReportSet';
                    }
                });
            }
            ;
            /**
             * Open window for print.
             */
            function openPrintWindow(url, parameters, resolve) {
                // open html print window
                var form = document.createElement("form");
                form.action = $izendaUrl.settings.urlRsPage;
                form.method = 'POST';
                // set custom (our) window as target window
                form.target = 'form-target';
                if (parameters) {
                    for (var key in parameters) {
                        var input = document.createElement("textarea");
                        input.name = key;
                        input.value = typeof parameters[key] === "object" ? JSON.stringify(parameters[key]) : parameters[key];
                        form.appendChild(input);
                    }
                }
                form.style.display = 'none';
                document.body.appendChild(form);
                // open window for form and submit for into that window
                var formWindow = window.open('', 'form-target', '');
                form.submit();
                // workaroud for webkit ajax request block
                if ('WebkitAppearance' in document.documentElement.style) {
                    var intervalId = setInterval(function () {
                        if (!formWindow || formWindow.closed) {
                            clearInterval(intervalId);
                            intervalId = null;
                            resolve();
                        }
                    }, 500);
                }
                else
                    resolve();
            }
            /**
             * Open url in new window.
             */
            function exportReportInNewWindow(reportSetToSend, exportType) {
                return $q(function (resolve) {
                    // create url for export
                    var urlParams = {
                        'wscmd': exportType === 'print' ? 'printReportSet' : 'exportReportSet',
                        'wsarg0': JSON.stringify(reportSetToSend),
                        'wsarg1': exportType
                    };
                    if (typeof ($window.izendaPageId$) !== 'undefined')
                        urlParams['izpid'] = $window.izendaPageId$;
                    if (exportType !== 'print') {
                        // export file
                        $izendaRsQuery.downloadFileRequest('POST', $izendaUrl.settings.urlRsPage, urlParams).then(function () {
                            resolve();
                        });
                    }
                    else {
                        // print html
                        openPrintWindow($izendaUrl.settings.urlRsPage, urlParams, resolve);
                    }
                });
            }
            function getVisualizationConfig() {
                return $izendaRsQuery.query('getVisualizationConfig', [], {
                    dataType: 'json'
                }, {
                    handler: function () {
                        return 'Failed to get visualizations config';
                    }
                });
            }
            /**
             * Get list of constraints
             */
            function getContraintsInfo() {
                return $izendaRsQuery.query('getconstraintslist', [], {
                    dataType: 'json'
                }, {
                    handler: function () {
                        return 'Failed to get contraints info';
                    }
                });
            }
            function getFieldFunctions(field, functionPurpose) {
                if (!angular.isObject(field))
                    throw 'Field should be object';
                var parameters;
                var typeGroup = getCurrentTypeGroup(field);
                if (functionPurpose === 'subtotal') {
                    // available functions for subtotals
                    parameters = {
                        'cmd': 'GetOptionsByPath',
                        'p': 'FunctionList',
                        'type': field.sqlType,
                        'typeGroup': typeGroup,
                        'includeBlank': 'true',
                        'includeGroupBy': 'false',
                        'forSubtotals': 'true',
                        'extraFunction': 'false',
                        'forDundasMap': 'false',
                        'onlyNumericResults': 'false',
                        'resultType': 'json'
                    };
                }
                else if (functionPurpose === 'field') {
                    // available functions for column
                    parameters = {
                        'cmd': 'GetOptionsByPath',
                        'p': 'FunctionList',
                        'type': field.sqlType,
                        'typeGroup': typeGroup,
                        'includeBlank': 'true',
                        'includeGroupBy': 'true',
                        'forSubtotals': 'false',
                        'extraFunction': 'false',
                        'forDundasMap': 'false',
                        'onlyNumericResults': 'false',
                        'resultType': 'json'
                    };
                }
                else if (functionPurpose === 'pivotField') {
                    parameters = {
                        'cmd': 'GetOptionsByPath',
                        'p': 'FunctionList',
                        'type': field.sqlType,
                        'typeGroup': typeGroup,
                        'includeBlank': 'true',
                        'includeGroupBy': 'true',
                        'forSubtotals': 'false',
                        'extraFunction': 'true',
                        'forDundasMap': 'false',
                        'onlyNumericResults': 'false',
                        'resultType': 'json'
                    };
                }
                return $izendaRsQuery.rsQuery(parameters, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function (fieldParam) {
                        return 'Failed to get function list info for field ' + fieldParam.sysname;
                    },
                    params: [field]
                });
            }
            function getPeriodList() {
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'PeriodList',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get period list.';
                    },
                    params: []
                });
            }
            ;
            function getExistentPopupValuesList(field, table) {
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'ExistentPopupValuesList',
                    'columnName': field.sysname,
                    'tbl0': table.sysname,
                    'ta0': '',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get custom popups styles.';
                    },
                    params: []
                });
            }
            ;
            function getDrillDownStyles() {
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'DrillDownStyleList',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get drilldown styles.';
                    },
                    params: []
                });
            }
            function getExpressionTypes() {
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'ExpressionTypeList',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get expression types.';
                    },
                    params: []
                });
            }
            function getSubreports() {
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'SubreportsList',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get subreports.';
                    },
                    params: []
                });
            }
            function getVgStyles() {
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'VgStyleList',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get available visual group styles.';
                    },
                    params: []
                });
            }
            function getFieldFormats(field, dataTypeGroup) {
                if (!angular.isObject(field))
                    throw 'Field should be object';
                var typeGroup = getCurrentTypeGroup(field, dataTypeGroup);
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'FormatList',
                    'typeGroup': typeGroup,
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function (fieldParam) {
                        return 'Failed to get format list info for field ' + fieldParam.sysname;
                    },
                    params: [field]
                });
            }
            function getFilterFormats(filter) {
                if (!angular.isObject(filter) || !angular.isObject(filter.field))
                    throw 'filter and filter.field should be objects.';
                var typeGroup = getCurrentTypeGroup(filter.field);
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'FormatList',
                    'typeGroup': typeGroup,
                    'onlySimple': 'true',
                    'forceSimple': 'true',
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function (filterParam) {
                        return 'Failed to get format list info for filter ' + filterParam.field.sysname;
                    },
                    params: [filter]
                });
            }
            ;
            function getFieldOperatorList(field, tablesString, dataTypeGroup) {
                if (!angular.isObject(field))
                    throw 'Field should be object.';
                var typeGroup = getCurrentTypeGroup(field, dataTypeGroup);
                return $izendaRsQuery.rsQuery({
                    'cmd': 'GetOptionsByPath',
                    'p': 'OperatorList',
                    'typeGroup': typeGroup,
                    'tables': tablesString,
                    'colFullName': field.sysname,
                    'resultType': 'json'
                }, {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function (fieldParam) {
                        return 'Failed to get operator list for field ' + fieldParam.sysname;
                    },
                    params: [field]
                });
            }
            function getExistentValuesList(tables, constraintFilters, filter, simpleJoins, filterLogic) {
                if (filter.field === null || !angular.isString(filter.field.sysname))
                    throw 'filter field sysname should be defined.';
                if (!angular.isArray(tables))
                    throw 'tables should be array';
                // create base query params
                var queryParams = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'ExistentValuesList',
                    'columnName': filter.field.sysname,
                    'resultType': 'json'
                };
                if (angular.isString(filter.possibleValue)) {
                    queryParams['possibleValue'] = filter.possibleValue.replace('&', '%26');
                }
                // add constraint filters params
                var counter = 0;
                angular.element.each(constraintFilters, function () {
                    var constraintFilter = this;
                    if (constraintFilter.field !== null && angular.isObject(constraintFilter.operator)
                        && constraintFilter.operator.value !== '' && angular.isArray(constraintFilter.values)
                        && constraintFilter.values.length > 0) {
                        var constraintParamPart = {};
                        constraintParamPart['fc' + counter] = constraintFilter.field.sysname;
                        constraintParamPart['fo' + counter] = constraintFilter.operator.value;
                        var constraintOperatorType = getFieldFilterOperatorValueType(constraintFilter.operator);
                        if (constraintOperatorType === 'twoValues') {
                            constraintParamPart['fvl' + counter] = constraintFilter.values[0];
                            constraintParamPart['fvr' + counter] = constraintFilter.values[1];
                        }
                        else if (constraintOperatorType === 'twoDates') {
                            constraintParamPart['fvl' + counter] = moment(constraintFilter.values[0]).format($izendaSettings.getDateFormat().shortDate);
                            constraintParamPart['fvr' + counter] = moment(constraintFilter.values[1]).format($izendaSettings.getDateFormat().shortDate);
                        }
                        else if (constraintOperatorType === 'oneDate') {
                            constraintParamPart['fvl' + counter] = moment(constraintFilter.values[0]).format($izendaSettings.getDateFormat().shortDate);
                        }
                        else if (constraintOperatorType === 'field') {
                            var val = angular.isObject(constraintFilter.values[0])
                                ? constraintFilter.values[0].sysname
                                : '';
                            constraintParamPart['fvl' + counter] = val;
                        }
                        else {
                            constraintParamPart['fvl' + counter] = constraintFilter.values.join(',');
                        }
                        angular.extend(queryParams, constraintParamPart);
                        counter++;
                    }
                });
                if (simpleJoins) {
                    // create tablenames
                    var tableNames = [];
                    angular.element.each(tables, function () {
                        tableNames.push(this.sysname);
                    });
                    queryParams['tbl0'] = tableNames.join('\'');
                    if (angular.isString(filterLogic) && filterLogic.trim() !== '') {
                        queryParams['filterLogic'] = filterLogic;
                    }
                    // run query
                    return $izendaRsQuery.rsQuery(queryParams, {
                        'dataType': 'json',
                        cache: true
                    }, {
                        handler: function (tablesParam, fieldParam) {
                            return 'Failed to existent values list list for tables ' + tablesParam + ' and field ' + fieldParam;
                        },
                        params: [tableNames.join(','), filter.field.sysname]
                    });
                }
                else {
                    // Custom joins request:
                    /*
                    cmd:GetOptionsByPath
                    p:ExistentValuesList
                    columnName:[dbo].[Categories].[CategoryID]
                    tbl0:[dbo].[Categories]
                    ta0:
                    tbl1:[dbo].[Invoices]
                    ta1:
                    lclm1:[dbo].[Invoices].[OrderID]
                    rclm1:[dbo].[Categories].[CategoryID]
                    jn1:INNER
                    */
                    throw 'Custom joins isn\'t implemented yet';
                }
            }
            // PUBLIC API
            return {
                getFieldFilterOperatorValueType: getFieldFilterOperatorValueType,
                getDatasources: getDatasources,
                getFieldsInfo: getFieldsInfo,
                findInDatasources: findInDatasources,
                loadReport: loadReport,
                getReportSetPreviewQueued: getReportSetPreviewQueued,
                cancelAllPreviewQueries: cancelAllPreviewQueries,
                saveReportSet: saveReportSet,
                setReportAsCrs: setReportAsCrs,
                exportReportInNewWindow: exportReportInNewWindow,
                getContraintsInfo: getContraintsInfo,
                getFieldFunctions: getFieldFunctions,
                getFieldFormats: getFieldFormats,
                getPeriodList: getPeriodList,
                getFilterFormats: getFilterFormats,
                getVgStyles: getVgStyles,
                getExpressionTypes: getExpressionTypes,
                getDrillDownStyles: getDrillDownStyles,
                getExistentPopupValuesList: getExistentPopupValuesList,
                getSubreports: getSubreports,
                getFieldOperatorList: getFieldOperatorList,
                getExistentValuesList: getExistentValuesList,
                getVisualizationConfig: getVisualizationConfig
            };
        }
    ]);
});
izendaRequire.define("instant-report/services/instant-report-settings", ["require", "exports", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, module_definition_26) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report settings service.
     */
    module_definition_26.default.factory('$izendaInstantReportSettings', [
        '$izendaRsQuery',
        function ($izendaRsQuery) {
            var settingsObject = null;
            /**
             * Get instant report settings from server.
             */
            function getInstantReportSettings() {
                return $izendaRsQuery.query('getInstantReportSettings', [], {
                    dataType: 'json',
                    cache: true
                }, {
                    handler: function () {
                        return 'Failed to get instant report settings';
                    },
                    params: []
                });
            }
            ;
            /**
             * Load settings and set settingsObject
             */
            function initialize() {
                getInstantReportSettings().then(function (resultObject) {
                    settingsObject = resultObject;
                });
            }
            /**
             * Settings getter
             */
            var getSettings = function () {
                return settingsObject;
            };
            // initialize service
            initialize();
            // public api
            return {
                getInstantReportSettings: getInstantReportSettings,
                getSettings: getSettings
            };
        }
    ]);
});
izendaRequire.define("instant-report/services/instant-report-storage", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_27) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Report set object template
     */
    module_definition_27.default.constant('izendaInstantReportObjectDefaults', {
        reportName: null,
        reportCategory: null,
        dataSources: [],
        charts: [],
        filters: [],
        filterOptions: {
            require: 'None',
            filterLogic: ''
        },
        drillDownFields: [],
        options: {
            rowsRange: null,
            distinct: true,
            showFiltersInReportDescription: false,
            isSubtotalsEnabled: false,
            exposeAsDatasource: false,
            hideGrid: false,
            top: '',
            previewTop: 100,
            imageAlign: 'L',
            title: '',
            titleAlign: 'L',
            description: '',
            descriptionAlign: 'L',
            headerAndFooter: {
                reportHeader: '',
                reportHeaderAlign: 'L',
                reportFooter: '',
                reportFooterAlign: 'L',
                pageHeader: ''
            },
            style: {
                borderColor: '#ffffff',
                headerColor: '#483d8b',
                headerForecolor: '#ffffff',
                itemColor: '#ffffff',
                itemForeColor: '#000000',
                itemAltColor: '#dcdcdc',
                isHeadersBold: false,
                isHeadersItalic: false,
                customCss: ''
            },
            page: {
                landscapePrinting: false,
                showPageNumber: false,
                showDateAndTime: false,
                usePagination: true,
                itemsPerPage: 10000,
                addBookmarkForVg: false,
                pageBreakAfterVg: false,
                minimizeGridWidth: true,
                enableResponsiveGrid: true,
                vgStyle: 'CommaDelimited',
                pivotsPerPage: '',
                splitAllColumns: false,
                pageBreakOnSplit: false
            }
        },
        isFieldsAutoGrouped: false
    });
    /**
     * Filter object template
     */
    module_definition_27.default.constant('izendaFilterObjectDefaults', {
        initialized: false,
        field: null,
        required: false,
        description: '',
        parameter: true,
        operatorString: '',
        operator: null,
        operators: [],
        existentValues: [],
        values: [],
        titleFormat: null,
        titleFormats: [],
        isValid: true,
        validationMessages: [],
        validationMessageString: '',
        customPopupTemplateUrl: null,
        isFilterReady: false
    });
    /**
     * Default (empty) function (for group by "function" field property)
     */
    module_definition_27.default.constant('izendaDefaultFunctionObject', {
        dataType: 'Unknown',
        dataTypeGroup: 'None',
        isScalar: '0',
        sqlTemplate: '{0}',
        text: '...',
        value: 'None',
        group: ''
    });
    /**
     * Default (empty) subtotal function.
     */
    module_definition_27.default.constant('izendaDefaultSubtotalFunctionObject', {
        dataType: 'Unknown',
        dataTypeGroup: 'None',
        isScalar: '0',
        sqlTemplate: '{0}',
        text: '(Default)',
        value: 'DEFAULT',
        group: ''
    });
    /**
     * Default (empty) function (for group by "function" field property)
     */
    module_definition_27.default.constant('izendaDefaultFormatObject', {
        text: '...',
        value: '{0}',
        group: ''
    });
    /**
    * Storage for report object for instant report page.
    */
    module_definition_27.default.factory('$izendaInstantReportStorage', [
        '$injector',
        '$window',
        '$q',
        '$log',
        '$sce',
        '$rootScope',
        '$izendaUtilUiService',
        '$izendaUtil',
        '$izendaUrl',
        '$izendaLocale',
        '$izendaSettings',
        '$izendaCompatibility',
        '$izendaScheduleService',
        '$izendaShareService',
        '$izendaInstantReportSettings',
        '$izendaInstantReportQuery',
        '$izendaInstantReportPivots',
        '$izendaInstantReportVisualization',
        function ($injector, $window, $q, $log, $sce, $rootScope, $izendaUtilUiService, $izendaUtil, $izendaUrl, $izendaLocale, $izendaSettings, $izendaCompatibility, $izendaScheduleService, $izendaShareService, $izendaInstantReportSettings, $izendaInstantReportQuery, $izendaInstantReportPivots, $izendaInstantReportVisualization) {
            'use strict';
            // const:
            var EMPTY_FIELD_GROUP_OPTION = $injector.get('izendaDefaultFunctionObject');
            var EMPTY_SUBTOTAL_FIELD_GROUP_OPTIONS = $injector.get('izendaDefaultSubtotalFunctionObject');
            var EMPTY_EXPRESSION_TYPE = {
                value: '...',
                text: '...'
            };
            var EMPTY_FIELD_FORMAT_OPTION = $injector.get('izendaDefaultFormatObject');
            var isPageInitialized = false;
            var isPageReady = false;
            var existingReportLoadingSchedule = null;
            var newReportLoadingSchedule = null;
            var isPreviewSplashVisible = false;
            var previewSplashText = $izendaLocale.localeText('js_WaitPreviewLoading', 'Please wait while preview is loading...');
            var reportSet = angular.merge({}, $injector.get('izendaInstantReportObjectDefaults'));
            reportSet.options.distinct = $izendaInstantReportSettings.distinct; // set default distinct setting value
            restoreDefaultColors(); // set default report colors
            var activeTables = [];
            var activeFields = [];
            var calcFields = [];
            var activeCheckedFields = [];
            var constaints = [];
            var vgStyles = null;
            var drillDownStyles = null;
            var expressionTypes = null;
            var subreports = null;
            var currentActiveField = null;
            var uiPanelsState = {
                filtersPanelOpened: false
            };
            var nextId = 1;
            var orderCounter = 1;
            var previewHtml = '';
            /////////////////////////////////////////
            // common functions
            /////////////////////////////////////////
            /**
             * Get type group of field operator
             */
            var getFieldFilterOperatorValueType = function (operator) {
                return $izendaInstantReportQuery.getFieldFilterOperatorValueType(operator);
            };
            var _getReportSetFullName = function () {
                var category = reportSet.reportCategory;
                var name = reportSet.reportName;
                if (!angular.isString(name) || name.trim() === '')
                    return null;
                var result = '';
                if (!$izendaUtil.isUncategorized(category)) {
                    result += category + $izendaSettings.getCategoryCharacter();
                }
                result += name;
                return result;
            };
            var _getNextId = function () {
                return nextId++;
            };
            var _guid = function () {
                function s4() {
                    return Math.floor((1 + Math.random()) * 0x10000)
                        .toString(16)
                        .substring(1);
                }
                return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
                    s4() + '-' + s4() + s4() + s4();
            };
            var _getNextOrder = function () {
                return orderCounter++;
            };
            /**
             * Becomes true when page is ready to work
             */
            var getPageReady = function () {
                return isPageReady;
            };
            /**
             * Get whole report set
             */
            var getReportSet = function () {
                return reportSet;
            };
            /**
             * Get datasources
             */
            var getDataSources = function () {
                return reportSet.dataSources;
            };
            /**
             * Set datasources
             */
            var setDataSources = function (dataSources) {
                if (!angular.isArray(dataSources))
                    throw '"dataSources" parameter should be array.';
                reportSet.dataSources = dataSources;
            };
            /**
             * Get filters reference
             */
            var getFilters = function () {
                return reportSet.filters;
            };
            /**
             * Get report set options
             */
            var getOptions = function () {
                return reportSet.options;
            };
            /**
             * Get drilldown fields
             */
            var getDrillDownFields = function () {
                return reportSet.drillDownFields;
            };
            /**
             * Get filter options
             */
            var getFilterOptions = function () {
                return reportSet.filterOptions;
            };
            /**
             * Get preview html
             */
            var getPreview = function () {
                return previewHtml;
            };
            /**
             * Parse and set contraints
             */
            var setConstraints = function (constraintsData) {
                constaints = constraintsData.Data;
            };
            /**
             * Find category by given id
             */
            var getCategoryById = function (id) {
                var i = 0, datasources = getDataSources();
                while (i < datasources.length) {
                    var datasource = datasources[i];
                    if (datasource.id === id)
                        return datasource;
                    i++;
                }
                return null;
            };
            /**
             * Find first table by property value.
             */
            var _getTableByProperty = function (propertyName, value, caseIndependent) {
                if (angular.isUndefined(propertyName))
                    throw 'propertyName parameter should be set.';
                var datasources = getDataSources();
                for (var i = 0; i < datasources.length; i++) {
                    var category = datasources[i];
                    for (var j = 0; j < category.tables.length; j++) {
                        var table = category.tables[j];
                        if (!table.hasOwnProperty(propertyName))
                            throw 'Table don\'t have property ' + propertyName;
                        var propertyValue = table[propertyName];
                        var compareValue = value;
                        if (propertyValue && caseIndependent)
                            propertyValue = (propertyValue + '').toLowerCase();
                        if (compareValue && caseIndependent)
                            compareValue = (compareValue + '').toLowerCase();
                        if (propertyValue === compareValue)
                            return table;
                    }
                }
                return null;
            };
            /**
             * Find table by given id
             */
            var getTableById = function (id) {
                return _getTableByProperty('id', id);
            };
            /**
             * Find table by given sysname
             * @param {string} sysname.
             * @returns {object} table object.
             */
            var getTableBySysname = function (sysname) {
                return _getTableByProperty('sysname', sysname);
            };
            /**
             * Find table by name. (Case independent)
             * @param {string} name.
             * @returns {object} table object.
             */
            var getTableByName = function (name) {
                return _getTableByProperty('name', name, true);
            };
            /**
             * Find field by given id
             */
            var getFieldById = function (id) {
                var i = 0, datasources = getDataSources();
                while (i < datasources.length) {
                    var j = 0, tables = datasources[i].tables;
                    while (j < tables.length) {
                        var k = 0, fields = tables[j].fields;
                        while (k < fields.length) {
                            var field = fields[k];
                            if (field.id === id) {
                                return field;
                            }
                            if (field.isMultipleColumns) {
                                angular.element.each(field.multipleColumns, function () {
                                    var multipleField = this;
                                    if (multipleField.id === id) {
                                        return multipleField;
                                    }
                                });
                            }
                            k++;
                        }
                        j++;
                    }
                    i++;
                }
                return null;
            };
            /**
             * Get all tables in all datasources
             */
            var _getAllTables = function () {
                var result = [];
                angular.element.each(getDataSources(), function () {
                    var category = this;
                    angular.element.each(category.tables, function () {
                        result.push(this);
                    });
                });
                return result;
            };
            /**
            * Get checked tables
            */
            var getActiveTables = function () {
                return activeTables;
            };
            /**
             * Find field by guid
             */
            var getCalcField = function (calcFieldId) {
                var result = null;
                calcFields.forEach(function (calcField) {
                    if (calcField.sysname === calcFieldId)
                        result = calcField;
                });
                return result;
            };
            var _getField = function (propertyName, propertyValue, findInAllTables) {
                if (propertyValue && propertyValue.indexOf('fldId|') === 0) {
                    var calcField = getCalcField(propertyValue);
                    return calcField;
                }
                var result = null;
                var tablesCollection = (typeof (findInAllTables) === 'boolean' && findInAllTables)
                    ? _getAllTables()
                    : getActiveTables();
                angular.element.each(tablesCollection, function () {
                    if (this.lazy)
                        return;
                    angular.element.each(this.fields, function () {
                        if (this[propertyName] === propertyValue)
                            result = this;
                    });
                });
                return result;
            };
            /**
             * Find field by sysname
             */
            var getFieldBySysName = function (sysname, findInAllTables) {
                return _getField('sysname', sysname, findInAllTables);
            };
            /**
             * Check if functions allowed to field
             */
            var isBinaryField = function (field) {
                if (!angular.isObject(field))
                    return false;
                if (angular.isObject(field.expressionType) && field.expressionType.value && field.expressionType.value !== '...')
                    return ['Binary', 'Other', 'None'].indexOf(field.expressionType) >= 0;
                return field.sqlType === 'Text' || field.sqlType === 'Image';
            };
            /**
             * Get checked and not checked fields in active tables;
             */
            var getAllFieldsInActiveTables = function (appendCalcFields) {
                activeFields.forEach(function (field) {
                    field.additionalGroup = field.tableName;
                });
                if (!appendCalcFields)
                    return activeFields;
                calcFields.forEach(function (field) {
                    field.additionalGroup = $izendaLocale.localeText('js_calcFields', 'Calculated Fields');
                });
                return activeFields.concat(calcFields);
            };
            /**
             * Get active fields
             * @param {object} table table object
             */
            var getActiveFields = function (table) {
                var result = [];
                angular.element.each(table.fields, function () {
                    var field = this;
                    if (!field.isMultipleColumns) {
                        if (field.checked) {
                            result.push(field);
                        }
                    }
                    else {
                        angular.element.each(field.multipleColumns, function () {
                            var multipleField = this;
                            if (multipleField.checked) {
                                result.push(multipleField);
                            }
                        });
                    }
                });
                return result;
            };
            /**
             * Base fields iterator function
             * @param {function} fieldHandler iterator "each" handler
             * @param {function} getFieldsFunction field filter function (function(table) {... return fieldsArray; })
             * @param {object} context context object
             */
            var eachFieldsBase = function (fieldHandler, getFieldsFunction, context) {
                if (!angular.isFunction(fieldHandler))
                    throw 'fieldHandler should be a function.';
                var currentActiveTables = getActiveTables();
                angular.element.each(currentActiveTables, function () {
                    var table = this;
                    var aFields = getFieldsFunction(table);
                    angular.element.each(aFields, function () {
                        var field = this;
                        fieldHandler.call(angular.isDefined(context) ? context : this, field, table);
                    });
                });
            };
            /**
             * Works like each. Iterate through checked fields
             */
            var eachActiveFields = function (fieldHandler, context) {
                eachFieldsBase(fieldHandler, getActiveFields, context);
            };
            /**
             * Get all checked fields.
             */
            var getAllActiveFields = function () {
                var result = [];
                eachActiveFields(function (field) {
                    result.push(field);
                });
                return result;
            };
            /**
             * Get all checked and visible fields.
             */
            var getAllVisibleFields = function () {
                return angular.element.grep(getAllActiveFields(), function (field) {
                    return field.visible;
                });
            };
            /////////////////////////////////////////
            // group functions
            /////////////////////////////////////////
            /**
             * Check if functions allowed to field
             */
            var isActiveFieldsContainsBinary = function () {
                return angular.element.grep(getAllActiveFields(), function (field) {
                    return isBinaryField(field);
                }).length > 0;
            };
            /////////////////////////////////////////
            // group functions
            /////////////////////////////////////////
            /**
             * Check if field grouped
             */
            var isFieldGrouped = function (field) {
                var compareWithValue = EMPTY_FIELD_GROUP_OPTION.value;
                if (!field.groupByFunction || !field.groupByFunction.value)
                    return false;
                return field.groupByFunction.value.toLowerCase() !== compareWithValue.toLowerCase();
            };
            /**
             * Check if field grouped and not 'group' function is applied.
             */
            var isFieldGroupedWithFunction = function (field) {
                return isFieldGrouped(field) && field.groupByFunction.value.toLowerCase() !== 'group';
            };
            /**
             * Update field formats (it depends on selected group function)
             */
            var updateFieldFormats = function (field, defaultFormatString) {
                return $q(function (resolve) {
                    function gotFieldFormats(returnObj, defaultTypeGroup) {
                        field.formatOptionGroups = $izendaUtil.convertOptionsByPath(returnObj);
                        var formatToApply;
                        var defaultTypeGroupFormatString = getDefaultFieldFormat(defaultTypeGroup);
                        if (angular.isString(defaultFormatString) && defaultFormatString) {
                            formatToApply = $izendaUtil.getOptionByValue(field.formatOptionGroups, defaultFormatString);
                            if (!formatToApply) {
                                formatToApply = $izendaUtil.getOptionByValue(field.formatOptionGroups, defaultTypeGroupFormatString);
                            }
                        }
                        else {
                            formatToApply = $izendaUtil.getOptionByValue(field.formatOptionGroups, defaultTypeGroupFormatString);
                        }
                        field.format = formatToApply;
                        resolve(field);
                    }
                    // isFieldGrouped guarantees that field.groupByFunction.value will be non-empty and don't have "None" value.
                    if (isFieldGrouped(field) && ['min', 'max', 'sum', 'sum_distinct', 'group'].indexOf(field.groupByFunction.value.toLowerCase()) < 0) {
                        $izendaInstantReportQuery.getFieldFormats(field, field.groupByFunction.dataTypeGroup).then(function (returnObj) {
                            gotFieldFormats(returnObj, field.groupByFunction.dataTypeGroup);
                        });
                    }
                    else {
                        $izendaInstantReportQuery.getFieldFormats(field).then(function (returnObj) {
                            gotFieldFormats(returnObj, field.typeGroup);
                        });
                    }
                });
            };
            /**
             * Get group by given value
             */
            var getGroupByValue = function (field, value) {
                return $izendaUtil.getOptionByValue(field.groupByFunctionOptions, value, true);
            };
            /**
             * Get Subtotal group by given value
             */
            var getGroupBySubtotalValue = function (field, value) {
                return $izendaUtil.getOptionByValue(field.groupBySubtotalFunctionOptions, value, true);
            };
            /**
             * Check if checked fields has function
             */
            var isReportUseGroup = function () {
                var activeTables = getActiveTables();
                if (activeTables.length === 0)
                    return false;
                var result = false;
                eachActiveFields(function (field) {
                    if (isFieldGrouped(field)) {
                        result = true;
                    }
                });
                return result;
            };
            /**
             * Reset all groups which was grouped automatically.
             */
            var resetAutoGroups = function () {
                // check group function:
                eachActiveFields(function (field) {
                    if (!isBinaryField(field)) {
                        field.groupByFunction = getGroupByValue(field, 'NONE');
                        updateFieldFormats(field);
                    }
                });
            };
            /**
             * Check if report has group and apply group by for other columns.
             */
            var applyAutoGroups = function (force) {
                if (!force) {
                    var hasGroup = isReportUseGroup();
                    if (!hasGroup) {
                        return;
                    }
                }
                // check group function:
                eachActiveFields(function (field) {
                    if (isBinaryField(field))
                        return;
                    if (!isFieldGrouped(field)) {
                        field.groupByFunction = getGroupByValue(field, 'GROUP');
                        updateFieldFormats(field);
                    }
                });
            };
            /**
             * Get possible visual group styles from server
             */
            var initializeVgStyles = function () {
                return $q(function (resolve) {
                    $izendaInstantReportQuery.getVgStyles().then(function (result) {
                        vgStyles = result[0].options;
                        resolve();
                    });
                });
            };
            /**
             * Get visual group styles
             */
            var getVgStyles = function () {
                return vgStyles;
            };
            /**
             * Initialize possible expression types.
             */
            var initializeExpressionTypes = function () {
                return $q(function (resolve) {
                    $izendaInstantReportQuery.getExpressionTypes().then(function (result) {
                        expressionTypes = [];
                        angular.element.each(result[0].options, function () {
                            if (this.value !== '') {
                                expressionTypes.push(this);
                            }
                        });
                        resolve();
                    });
                });
            };
            /**
             * Initialize possible drilldown styles from server
             */
            var initializeDrillDownStyles = function () {
                return $q(function (resolve) {
                    $izendaInstantReportQuery.getDrillDownStyles().then(function (result) {
                        drillDownStyles = [];
                        angular.element.each(result[0].options, function () {
                            this.disabled = false;
                            drillDownStyles.push(this);
                        });
                        resolve();
                    });
                });
            };
            /**
             * Disable EmbeddedDetail drilldown style for current report and (AUTO)
             */
            var disableEmbeddedDrillDownStyle = function (field) {
                angular.element.each(drillDownStyles, function () {
                    var ddStyle = this;
                    ddStyle.disabled = false;
                    var reportInfo = $izendaUrl.getReportInfo();
                    if (ddStyle.value === 'EmbeddedDetail') {
                        ddStyle.disabled = field.subreport === '(AUTO)' || field.subreport === reportInfo.fullName;
                    }
                });
            };
            /**
             * Get drilldown styles
             */
            var getDrillDownStyles = function () {
                return drillDownStyles;
            };
            var getExpressionTypes = function () {
                return expressionTypes;
            };
            var initializeSubreports = function () {
                return $q(function (resolve) {
                    $izendaInstantReportQuery.getSubreports().then(function (result) {
                        subreports = result[0].options;
                        resolve();
                    });
                });
            };
            var getSubreports = function () {
                return subreports;
            };
            /////////////////////////////////////////
            // validation functions
            /////////////////////////////////////////
            /**
             * Remove all validation messages
             */
            var clearValidation = function () {
                if (!angular.isArray(getDataSources()))
                    return;
                angular.element.each(getDataSources(), function () {
                    var category = this;
                    angular.element.each(category.tables, function () {
                        var table = this;
                        table.validateMessages = [];
                        table.validateMessageLevel = null;
                        angular.element.each(table.fields, function () {
                            var field = this;
                            field.validateMessages = [];
                            field.validateMessageLevel = null;
                        });
                    });
                });
            };
            /**
             * Validate report and set validate messages to tables and fields
             */
            var validateReport = function () {
                clearValidation();
                var validationFailed = false;
                var activeTables = getActiveTables();
                if (activeTables.length === 0)
                    return;
                var hasGroup = isReportUseGroup();
                eachActiveFields(function (field) {
                    if (hasGroup && isBinaryField(field)) {
                        // if field have sql type which can't be grouped
                        field.validateMessages.push({
                            messageType: 'danger',
                            message: $izendaLocale.localeTextWithParams('js_CantUseWithGroup', 'Can\'t use fields with sql type "{0}" with GROUP BY statement', [field.sqlType])
                        });
                        field.validateMessageLevel = 'danger';
                        validationFailed = true;
                    }
                    else if (hasGroup && !isFieldGrouped(field)) {
                        // if field have no group function
                        field.validateMessages.push({
                            messageType: 'danger',
                            message: $izendaLocale.localeText('js_MustBeFunction', 'If functions are used, each selection must be a function.')
                        });
                        field.validateMessageLevel = 'danger';
                        validationFailed = true;
                    }
                });
                return validationFailed;
            };
            /////////////////////////////////////////
            // common UI functions
            /////////////////////////////////////////
            var hideAllPanels = function () {
                uiPanelsState.filtersPanelOpened = false;
            };
            var getFiltersPanelOpened = function () {
                return uiPanelsState.filtersPanelOpened;
            };
            var setFiltersPanelOpened = function (value) {
                hideAllPanels();
                uiPanelsState.filtersPanelOpened = value;
            };
            /////////////////////////////////////////
            // datasources functions
            /////////////////////////////////////////
            /**
             * Algorithm which find nodes which can't be deactivated
             */
            var findBridgesForGraph = function (nodes, links) {
                var n = nodes.length;
                var used = new Array(n);
                var tin = new Array(n);
                var fup = new Array(n);
                var timer;
                var bridgeNodes = [];
                var getLinksForNode = function (node) {
                    var result = [];
                    for (var i = 0; i < links.length; i++) {
                        var link = links[i];
                        var link1 = link[0];
                        var link2 = link[1];
                        if (link1 === link2)
                            continue;
                        if (link1 === node && result.indexOf(link2) < 0)
                            result.push(link2);
                        if (link2 === node && result.indexOf(link1) < 0)
                            result.push(link1);
                    }
                    return result;
                };
                var dfs = function (v, p) {
                    used[v] = true;
                    tin[v] = fup[v] = timer++;
                    var currentLinks = getLinksForNode(nodes[v]);
                    for (var i = 0; i < currentLinks.length; i++) {
                        var to = currentLinks[i];
                        if (to === p)
                            continue;
                        if (used[to])
                            fup[v] = Math.min(fup[v], tin[to]);
                        else {
                            dfs(to, v);
                            fup[v] = Math.min(fup[v], fup[to]);
                            if (fup[to] > tin[v]) {
                                var isToNodeEdge = getLinksForNode(to).length < 2;
                                var isVNodeEdge = currentLinks.length < 2;
                                if (!isToNodeEdge && bridgeNodes.indexOf(to) < 0) {
                                    bridgeNodes.push(to);
                                }
                                if (!isVNodeEdge && bridgeNodes.indexOf(v) < 0) {
                                    bridgeNodes.push(v);
                                }
                            }
                        }
                    }
                };
                var findBridges = function () {
                    timer = 0;
                    for (var ii = 0; ii < n; ii++) {
                        used[ii] = false;
                        tin[ii] = null;
                        fup[ii] = null;
                    }
                    for (var i = 0; i < n; i++)
                        if (!used[i])
                            dfs(i);
                };
                findBridges();
                return bridgeNodes;
            };
            /**
             * Constraints check and update tables availability.
             */
            var updateTablesAvailability = function () {
                // create tables which available by foreign keys
                var currentActiveTables = getActiveTables();
                var applyConstraints = currentActiveTables.length !== 0;
                var activeTableNames = [];
                var nodeConstraints = [];
                var nodes = [];
                angular.element.each(currentActiveTables, function (iTable, table) {
                    nodes.push(iTable);
                    activeTableNames.push(table.sysname);
                });
                // process constraints data
                var foreignKeyTables = [];
                angular.element.each(constaints, function () {
                    var constraint = this;
                    var part1 = constraint[0];
                    var part2 = constraint[1];
                    var part1Index = activeTableNames.indexOf(part1);
                    var part2Index = activeTableNames.indexOf(part2);
                    if (part1Index >= 0 && part2Index >= 0 && part1 !== part2) {
                        nodeConstraints.push([part1Index, part2Index]);
                    }
                    angular.element.each(currentActiveTables, function () {
                        var table = this;
                        if (part1 === table.sysname || part2 === table.sysname) {
                            if (foreignKeyTables.indexOf(part1) < 0)
                                foreignKeyTables.push(part1);
                            if (foreignKeyTables.indexOf(part2) < 0)
                                foreignKeyTables.push(part2);
                        }
                    });
                });
                // enable/disable tables
                angular.element.each(getDataSources(), function () {
                    var category = this;
                    category.enabled = false;
                    // check tables
                    angular.element.each(category.tables, function () {
                        var table = this;
                        if (!applyConstraints) {
                            category.enabled = true;
                            table.enabled = true;
                            angular.element.each(table.fields, function () {
                                var field = this;
                                field.enabled = table.enabled;
                            });
                            return;
                        }
                        table.enabled = table.active || (foreignKeyTables.indexOf(table.sysname) >= 0 && $izendaInstantReportSettings.maxAllowedTables > currentActiveTables.length);
                        category.enabled |= table.enabled;
                        angular.element.each(table.fields, function () {
                            var field = this;
                            field.enabled = table.enabled;
                        });
                    });
                });
                // disable bridge tables (tables which are links between two other active tables):
                var result = findBridgesForGraph(nodes, nodeConstraints);
                angular.element.each(result, function () {
                    var idx = this;
                    currentActiveTables[idx].enabled = false;
                });
            };
            /**
             * Set "selected = false" for all fields
             */
            var unselectAllFields = function () {
                angular.element.each(getDataSources(), function () {
                    var category = this;
                    angular.element.each(category.tables, function () {
                        var table = this;
                        angular.element.each(table.fields, function () {
                            var field = this;
                            field.selected = false;
                            angular.element.each(field.multipleColumns, function () {
                                this.selected = false;
                            });
                        });
                    });
                });
            };
            /**
             * Check is calc field exist
             */
            var _isCalcFieldExist = function (calcFieldId) {
                for (var i = 0; i < calcFields.length; i++) {
                    if (calcFieldId === calcFields[i].sysname)
                        return true;
                }
                return false;
            };
            /**
             * Update calc field properties
             */
            var _updateCalcField = function (field, calcField) {
                calcField.name = '[' + field.description + '] (calc)';
            };
            /**
             * Create calc field
             */
            var _createCalcField = function (field) {
                var result = angular.copy(field);
                result.sysname = 'fldId|' + field.guid;
                _updateCalcField(field, result);
                return result;
            };
            /**
             * Sync calc fields
             */
            var _syncCalcFieldsArray = function () {
                var newCalcFields = [];
                // remove old calc fields
                calcFields.forEach(function (calcField) {
                    var foundField = null;
                    var fieldGuid = calcField.sysname.substring(6);
                    eachActiveFields(function (field) {
                        if (fieldGuid === field.guid)
                            foundField = field;
                    });
                    var isExpressionSet = foundField
                        && angular.isString(foundField.expression)
                        && foundField.expression.trim() !== '';
                    if (foundField && (isFieldGroupedWithFunction(foundField) || isExpressionSet)) {
                        newCalcFields.push(calcField);
                        _updateCalcField(foundField, calcField);
                    }
                });
                calcFields = newCalcFields;
                // add new
                eachActiveFields(function (field) {
                    var isExpressionSet = angular.isString(field.expression)
                        && field.expression.trim() !== '';
                    // if field grouped and it is not simple 'GROUP' or it has expression
                    if (!_isCalcFieldExist('fldId|' + field.guid) && (isFieldGroupedWithFunction(field) || isExpressionSet)) {
                        var calcField = _createCalcField(field);
                        calcFields.push(calcField);
                    }
                });
            };
            /**
             * Create active tables array
             */
            var syncActiveTablesArray = function () {
                activeTables = [];
                activeFields = [];
                activeCheckedFields = [];
                angular.element.each(getDataSources(), function () {
                    angular.element.each(this.tables, function () {
                        var table = this;
                        if (table.active) {
                            activeTables.push(table);
                            angular.element.each(table.fields, function () {
                                var field = this;
                                activeFields.push(field);
                                if (field.checked)
                                    activeCheckedFields.push(field);
                            });
                        }
                    });
                });
                _syncCalcFieldsArray();
            };
            /**
             * Update tree state after checking table
             */
            var updateParentFolders = function (table, syncCollapse) {
                var category = getCategoryById(table.parentId);
                syncActiveTablesArray();
                // update category active
                var j = 0, hasActiveTables = false;
                while (!hasActiveTables && j < category.tables.length) {
                    if (category.tables[j].active) {
                        hasActiveTables = true;
                    }
                    j++;
                }
                category.active = hasActiveTables;
                if (syncCollapse)
                    category.collapsed = !hasActiveTables;
                updateTablesAvailability();
            };
            /**
             * Update tree state after checking field
             */
            var updateParentFoldersAndTables = function (field, syncCollapse, restrictTableUncheck) {
                var table = getTableById(field.parentId);
                // update table active
                var hasCheckedFields = false, i = 0;
                while (!hasCheckedFields && i < table.fields.length) {
                    if (table.fields[i].checked)
                        hasCheckedFields = true;
                    i++;
                }
                // if table checked state false -> true:
                if (hasCheckedFields && !table.active)
                    table.order = _getNextOrder();
                // set table active
                table.active = restrictTableUncheck || hasCheckedFields || !table.enabled;
                if (syncCollapse)
                    table.collapsed = !hasCheckedFields;
                // update table
                updateParentFolders(table, syncCollapse);
            };
            /**
             * Update drilldowns
             */
            var updateDrilldowns = function () {
                var drilldownFields = reportSet.drillDownFields;
                if (drilldownFields.length === 0)
                    return;
                var i = 0;
                while (i < drilldownFields.length) {
                    var drilldownField = drilldownFields[i];
                    var isDdFieldActual = false;
                    angular.element.each(getAllFieldsInActiveTables(), function () {
                        if (drilldownField.id === this.id) {
                            isDdFieldActual = true;
                        }
                    });
                    if (isDdFieldActual) {
                        i++;
                    }
                    else {
                        drilldownFields.splice(i, 1);
                    }
                }
            };
            /**
            * Get filtered datasources
            */
            var searchInDataDources = function (searchString, from, to) {
                return $q(function (resolve) {
                    if (searchString === '') {
                        resolve([]);
                        return;
                    }
                    // start search
                    $izendaInstantReportQuery.findInDatasources(searchString, from, to).then(function (results) {
                        // search completed
                        if (results && results.length)
                            results.forEach(function (item, idx) { return item.id = from + idx; });
                        resolve(results);
                    });
                });
                /*if (!angular.isArray(getDataSources()))
                    return;
                if (searchString === '') {
                    angular.element.each(getDataSources(), function () {
                        var category = this;
                        category.collapsed = false;
                        category.visible = true;
                        angular.element.each(category.tables, function () {
                            var table = this;
                            table.highlight = false;
                            table.collapsed = true;
                            table.visible = true;
                            angular.element.each(table.fields, function () {
                                var field = this;
                                field.highlight = false;
                            });
                        });
                    });
                    return;
            
        
                angular.element.each(getDataSources(), function () {
                    var category = this;
                    var isTablesFound = false;
                    angular.element.each(category.tables, function () {
                        var table = this;
                        table.highlight = false;
                        if (table.name.toLowerCase().indexOf(searchString.toLowerCase()) >= 0) {
                            table.highlight = true;
                            isTablesFound = true;
                        }
                        var isFieldsFound = false;
                        angular.element.each(table.fields, function () {
                            var field = this;
                            field.highlight = false;
                            if (field.name.toLowerCase().indexOf(searchString.toLowerCase()) >= 0) {
                                field.highlight = true;
                                isFieldsFound = true;
                                isTablesFound = true;
                            }
                        });
                        table.collapsed = !isFieldsFound;
                        table.visible = table.highlight || isFieldsFound;
                    });
                    category.collapsed = !isTablesFound;
                    category.visible = isTablesFound;
                });*/
            };
            var resetFieldObject = function (fieldObject, defaultValues) {
                fieldObject.isInitialized = false;
                fieldObject.isMultipleColumns = false;
                fieldObject.multipleColumns = [];
                fieldObject.highlight = false;
                fieldObject.enabled = true;
                fieldObject.checked = false;
                fieldObject.selected = false;
                fieldObject.collapsed = false;
                fieldObject.isVgUsed = false;
                fieldObject.breakPageAfterVg = false;
                fieldObject.description = $izendaUtil.humanizeVariableName(fieldObject.name);
                fieldObject.isDescriptionSetManually = false;
                fieldObject.order = 0;
                fieldObject.format = EMPTY_FIELD_FORMAT_OPTION;
                fieldObject.formatOptionGroups = [];
                fieldObject.groupByFunction = EMPTY_FIELD_GROUP_OPTION;
                fieldObject.groupByFunctionOptions = [];
                fieldObject.groupBySubtotalFunction = EMPTY_SUBTOTAL_FIELD_GROUP_OPTIONS;
                fieldObject.groupBySubtotalFunctionOptions = [];
                fieldObject.subtotalExpression = '';
                fieldObject.allowedInFilters = true;
                fieldObject.isSpParameter = false;
                fieldObject.sort = null;
                fieldObject.italic = false;
                fieldObject.columnGroup = '';
                fieldObject.separator = false;
                fieldObject.textHighlight = '';
                fieldObject.cellHighlight = '';
                fieldObject.valueRange = '';
                fieldObject.width = '';
                fieldObject.labelJustification = 'M';
                fieldObject.valueJustification = ' ';
                fieldObject.visible = true;
                fieldObject.gradient = false;
                fieldObject.bold = false;
                fieldObject.drillDownStyle = '';
                fieldObject.customUrl = '';
                fieldObject.subreport = '';
                fieldObject.expression = '';
                fieldObject.expressionType = EMPTY_EXPRESSION_TYPE;
                fieldObject.groupByExpression = false;
                fieldObject.validateMessages = [];
                fieldObject.validateMessageLevel = null;
                angular.extend(fieldObject, defaultValues);
            };
            var _createFieldObject = function (fieldProperties) {
                var fieldObject = {
                    id: _getNextId(),
                    parentFieldId: null,
                    parentId: null,
                    name: null,
                    tableSysname: null,
                    tableName: null,
                    sysname: null,
                    typeGroup: null,
                    type: null,
                    sqlType: null,
                    allowedInFilters: null,
                    isDescriptionSetManually: null,
                    description: null,
                    order: 0,
                    guid: null,
                    selected: null,
                    checked: null
                };
                resetFieldObject(fieldObject, fieldProperties);
                return fieldObject;
            };
            /**
             * Create field object.
             */
            var createFieldObject = function (fieldName, tableId, tableSysname, tableName, fieldSysname, fieldTypeGroup, fieldType, fieldSqlType, allowedInFilters, isSpParameter) {
                var fieldObject = _createFieldObject({
                    guid: _guid(),
                    parentId: tableId,
                    name: fieldName,
                    tableSysname: tableSysname,
                    tableName: tableName,
                    sysname: fieldSysname,
                    typeGroup: fieldTypeGroup,
                    type: fieldType,
                    sqlType: fieldSqlType,
                    allowedInFilters: allowedInFilters,
                    isSpParameter: isSpParameter
                });
                return fieldObject;
            };
            /**
             * Copy field object state
             */
            var copyFieldObject = function (from, to, replaceName) {
                to.id = from.id;
                to.guid = from.guid;
                to.isInitialized = from.isInitialized;
                to.parentId = from.parentId;
                to.tableSysname = from.tableSysname;
                if (replaceName)
                    to.name = from.name;
                to.sysname = from.sysname;
                to.typeGroup = from.typeGroup;
                to.type = from.type;
                to.sqlType = from.sqlType;
                to.enabled = from.enabled;
                to.expression = from.expression;
                to.expressionType = from.expressionType;
                to.groupByExpression = from.groupByExpression;
                to.checked = from.checked;
                to.isVgUsed = from.isVgUsed;
                to.breakPageAfterVg = from.breakPageAfterVg;
                to.description = from.description;
                to.isDescriptionSetManually = from.isDescriptionSetManually;
                to.order = from.order;
                to.format = from.format;
                to.formatOptionGroups = from.formatOptionGroups;
                to.groupByFunction = from.groupByFunction;
                to.groupByFunctionOptions = from.groupByFunctionOptions;
                to.groupBySubtotalFunction = from.groupBySubtotalFunction;
                to.groupBySubtotalFunctionOptions = from.groupBySubtotalFunctionOptions;
                to.sort = from.sort;
                to.italic = from.italic;
                to.columnGroup = from.columnGroup;
                to.separator = from.separator;
                to.textHighlight = from.textHighlight;
                to.cellHighlight = from.cellHighlight;
                to.valueRange = from.valueRange;
                to.width = from.width;
                to.labelJustification = from.labelJustification;
                to.valueJustification = from.valueJustification;
                to.gradient = from.gradient;
                to.visible = from.visible;
                to.bold = from.bold;
                to.drillDownStyle = from.drillDownStyle;
                to.customUrl = from.customUrl;
                to.subreport = from.subreport;
                to.validateMessages = from.validateMessages;
                to.validateMessageLevel = from.validateMessageLevel;
            };
            /**
             * Reset datasources state
             */
            var resetDataSources = function () {
                var datasources = getDataSources();
                if (!angular.isArray(datasources))
                    return;
                angular.element.each(datasources, function (iCategory, category) {
                    category.visible = true;
                    category.active = false;
                    category.enabled = true;
                    category.collapsed = true;
                    // iterate tables
                    angular.element.each(category.tables, function (idx, table) {
                        table.visible = true;
                        table.active = false;
                        table.enabled = true;
                        table.collapsed = true;
                        table.validateMessages = [];
                        table.validateMessageLevel = null;
                        // iterate fields
                        angular.element.each(table.fields, function (idx, field) {
                            resetFieldObject(field);
                        });
                    });
                });
            };
            /**
             * Refresh field description
             */
            var autoUpdateFieldDescription = function (field) {
                if (!field.isDescriptionSetManually) {
                    field.description = _generateDescription(field);
                }
            };
            /**
             * Convert fields which got from server into format which used in app and add it to table object.
             * @param {Array} fields. Server side fields object.
             */
            var convertAndAddFields = function (tableObject, fields) {
                if (fields && fields.length)
                    fields.forEach(function (field) {
                        var fieldObject = createFieldObject(field.name, tableObject.id, tableObject.sysname, tableObject.name, field.sysname, field.typeGroup, field.type, field.sqlType, field.allowedInFilters, field.isSpParameter == "True");
                        autoUpdateFieldDescription(fieldObject);
                        tableObject.fields.push(fieldObject);
                    });
                tableObject.lazy = false;
            };
            /**
            * Convert datasources for future use it in app
            */
            var convertDataSources = function (dataSources) {
                if (!angular.isArray(dataSources))
                    return [];
                var result = [];
                // iterate categories
                var uncategorized = null;
                angular.element.each(dataSources, function (iCategory, category) {
                    var categoryObject = {
                        id: _getNextId(),
                        name: category.DataSourceCategory,
                        tables: [],
                        visible: true,
                        active: false,
                        enabled: true,
                        collapsed: true
                    };
                    // iterate tables
                    angular.element.each(category.tables, function (tableName, table) {
                        var tableObject = {
                            id: _getNextId(),
                            order: 0,
                            parentId: categoryObject.id,
                            name: table.name,
                            sysname: table.sysname,
                            tableType: table.tableType,
                            fields: [],
                            visible: true,
                            active: false,
                            enabled: true,
                            collapsed: true,
                            validateMessages: [],
                            validateMessageLevel: null,
                            lazy: null
                        };
                        // add field if loadded
                        if (table.fields === 'LAZIED') {
                            tableObject.lazy = true;
                        }
                        else {
                            convertAndAddFields(tableObject, table.fields);
                        }
                        categoryObject.tables.push(tableObject);
                    });
                    if ($izendaUtil.isUncategorized(categoryObject.name) && $izendaInstantReportSettings.moveUncategorizedToLastPostion) {
                        uncategorized = categoryObject;
                    }
                    else {
                        result.push(categoryObject);
                    }
                });
                // move uncategorized to the last position:
                if (uncategorized !== null) {
                    result.push(uncategorized);
                }
                if (result.length > 0) {
                    result[0].collapsed = false;
                }
                return result;
            };
            var createFieldObjectForSend = function (field) {
                return {
                    guid: field.guid,
                    sysname: field.sysname,
                    description: field.description ? field.description : $izendaUtil.humanizeVariableName(field.name),
                    format: field.format,
                    groupByFunction: field.groupByFunction,
                    groupBySubtotalFunction: field.groupBySubtotalFunction,
                    subtotalExpression: field.subtotalExpression,
                    allowedInFilters: field.allowedInFilters,
                    sort: field.sort,
                    order: field.order,
                    italic: field.italic,
                    columnGroup: field.columnGroup,
                    separator: field.separator,
                    valueRange: field.valueRange,
                    textHighlight: field.textHighlight,
                    cellHighlight: field.cellHighlight,
                    width: field.width,
                    labelJustification: field.labelJustification,
                    valueJustification: field.valueJustification,
                    gradient: field.gradient,
                    visible: field.visible,
                    isVgUsed: field.isVgUsed,
                    breakPageAfterVg: field.breakPageAfterVg,
                    bold: field.bold,
                    drillDownStyle: field.drillDownStyle,
                    customUrl: field.customUrl,
                    subreport: field.subreport,
                    expression: field.expression,
                    expressionType: field.expressionType.value,
                    groupByExpression: field.groupByExpression
                };
            };
            /**
             * Create object with report data which will be send to server.
             */
            var createReportSetConfigForSend = function (previewTop) {
                // iterate through active fields.
                var activeTables = getActiveTables();
                if (activeTables.length === 0)
                    return null;
                var options = angular.extend({}, getOptions());
                var filterOptions = angular.extend({}, getFilterOptions());
                var reportSetConfig = {
                    reportName: reportSet.reportName,
                    reportCategory: reportSet.reportCategory,
                    joinedTables: [],
                    drillDownFields: [],
                    fields: [],
                    filters: [],
                    charts: [],
                    options: options,
                    filterOptions: filterOptions,
                    schedule: null,
                    share: {},
                    pivot: null
                };
                if (typeof (reportSetConfig.options.page.itemsPerPage) !== 'number') {
                    reportSetConfig.options.page.itemsPerPage = parseInt(reportSetConfig.options.page.itemsPerPage);
                }
                // preview top
                var reportTop = parseInt(reportSetConfig.options.top);
                if (angular.isNumber(previewTop)) {
                    if (!isNaN(reportTop) && (reportTop < previewTop || previewTop < 0))
                        reportSetConfig.options.top = reportTop;
                    else
                        reportSetConfig.options.top = previewTop;
                }
                // schedule
                reportSetConfig.schedule = $izendaScheduleService.getScheduleConfigForSend();
                // share
                reportSetConfig.share = $izendaShareService.getShareConfigForSend();
                // add drilldown fields.
                angular.element.each(getDrillDownFields(), function () {
                    reportSetConfig.drillDownFields.push(this.sysname);
                });
                // add charts
                if (reportSet.charts.length > 0) {
                    var chart = reportSet.charts[0];
                    if (angular.isObject(chart)) {
                        reportSetConfig.charts[0] = {
                            name: chart.name,
                            category: chart.categoryName,
                            properties: chart.properties ? chart.properties : null
                        };
                    }
                }
                // prepare tables
                var activeFieldsList = getAllActiveFields();
                activeFieldsList.sort(function (field1, field2) {
                    return field1.order - field2.order;
                });
                for (var i = 0; i < activeFieldsList.length; i++) {
                    activeFieldsList[i].order = i + 1;
                }
                // add filters to config
                angular.element.each(getFilters(), function () {
                    var filter = this;
                    if (filter.field === null || !angular.isObject(filter.operator)) {
                        filter.isValid = false;
                        return;
                    }
                    filter.isValid = true;
                    // prepare filter values to send
                    var preparedValues = filter.values;
                    // date string created according to format which used in "internal static string DateLocToUs(string date)":
                    var valueType = getFieldFilterOperatorValueType(filter.operator);
                    if (valueType === 'select_multiple' || valueType === 'select_popup' || valueType === 'select_checkboxes') {
                        preparedValues = [filter.values.join(',')];
                    }
                    else if (valueType === 'field' && filter.values.length === 1 && filter.values[0] !== null) {
                        preparedValues = [filter.values[0].sysname];
                    }
                    else if (valueType === 'twoDates') {
                        var momentObj1 = null, momentObj2 = null;
                        if (filter.values[0])
                            momentObj1 = moment(filter.values[0]);
                        if (filter.values[1])
                            momentObj2 = moment(filter.values[1]);
                        preparedValues = [
                            momentObj1 && momentObj1.isValid() ? momentObj1.format($izendaSettings.getDefaultDateFormatString()) : null,
                            momentObj2 && momentObj2.isValid() ? momentObj2.format($izendaSettings.getDefaultDateFormatString()) : null
                        ];
                    }
                    else if (valueType === 'oneDate') {
                        var momentObj = null;
                        if (filter.values[0])
                            momentObj = moment(filter.values[0]);
                        preparedValues = [
                            momentObj && momentObj.isValid() ? momentObj.format($izendaSettings.getDefaultDateFormatString()) : null
                        ];
                    }
                    var filterObj = {
                        required: filter.required,
                        description: filter.description,
                        parameter: filter.parameter,
                        sysname: filter.field.sysname,
                        operatorString: filter.operator.value,
                        values: preparedValues,
                        titleFormat: filter.titleFormat,
                        customPopupTemplateUrl: filter.customPopupTemplateUrl
                    };
                    var isBlank = true;
                    angular.element.each(filterObj.values, function () {
                        if (this !== '')
                            isBlank = false;
                    });
                    if (isBlank)
                        filterObj.values = [];
                    reportSetConfig.filters.push(filterObj);
                });
                // pivot
                $izendaInstantReportPivots.syncPivotState(getAllFieldsInActiveTables());
                var pivotConfig = $izendaInstantReportPivots.getPivotDataForSend();
                if (!pivotConfig)
                    reportSetConfig.pivot = null;
                else {
                    reportSetConfig.pivot = {
                        options: pivotConfig.options
                    };
                    reportSetConfig.pivot.pivotColumn = createFieldObjectForSend(pivotConfig.pivotColumn);
                    reportSetConfig.pivot.cellValues = [];
                    angular.element.each(pivotConfig.cellValues, function () {
                        if (this)
                            reportSetConfig.pivot.cellValues.push(createFieldObjectForSend(this));
                    });
                }
                // create config
                angular.element.each(activeTables, function () {
                    var table = this;
                    var tableConfig = {
                        sysname: table.sysname
                    };
                    var aFields = getActiveFields(table);
                    angular.element.each(aFields, function () {
                        var field = this;
                        reportSetConfig.fields.push(createFieldObjectForSend(field));
                    });
                    reportSetConfig.joinedTables.push(tableConfig);
                });
                $log.debug('reportSetConfig: ', reportSetConfig);
                return reportSetConfig;
            };
            /**
             * Load fields for lazy table
             * @param {object} table
             */
            var loadLazyFields = function (table) {
                return $q(function (resolve) {
                    if (!table.lazy) {
                        resolve(false);
                        return;
                    }
                    $izendaInstantReportQuery.getFieldsInfo(table.sysname).then(function (data) {
                        convertAndAddFields(table, data.fields);
                        resolve(true);
                    });
                });
            };
            /**
             * Clear report preview.
             */
            var clearReportPreviewHtml = function () {
                previewHtml = '';
                $izendaInstantReportQuery.cancelAllPreviewQueries();
            };
            /**
             * Get and apply preview for current report set config.
             */
            var getReportPreviewHtml = function () {
                clearReportPreviewHtml();
                isPreviewSplashVisible = true;
                $rootScope.$applyAsync();
                return $q(function (resolve) {
                    var options = getOptions();
                    var reportSetToSend = createReportSetConfigForSend(options.previewTop);
                    $izendaInstantReportQuery.getReportSetPreviewQueued(reportSetToSend).then(function (data) {
                        previewHtml = data;
                        isPreviewSplashVisible = false;
                        getOptions().rowsRange = null;
                        $rootScope.$applyAsync();
                        resolve();
                    }, function () {
                        // reject
                        isPreviewSplashVisible = false;
                        $rootScope.$applyAsync();
                        resolve();
                    });
                });
            };
            /**
             * Set top value for preview
             */
            var setPreviewTop = function (value) {
                var options = getOptions();
                if (!angular.isNumber(value) || value < 0) {
                    options.previewTop = -2147483648;
                }
                else {
                    options.previewTop = value;
                }
            };
            /**
             * Save report set
             */
            var saveReportSet = function (name, category) {
                var rs = getReportSet();
                var nameToSave = rs.reportName, categoryToSave = rs.reportCategory;
                if (angular.isDefined(name)) {
                    nameToSave = name;
                }
                if (angular.isString(category) && category !== '') {
                    categoryToSave = category;
                }
                else {
                    categoryToSave = '';
                }
                rs.reportName = nameToSave;
                rs.reportCategory = categoryToSave;
                if ($izendaUtil.isUncategorized(rs.reportCategory)) {
                    rs.reportCategory = '';
                }
                var reportSetToSend = createReportSetConfigForSend();
                return $q(function (resolve, reject) {
                    $izendaInstantReportQuery.saveReportSet(reportSetToSend).then(function (result) {
                        var reportSetFullName = _getReportSetFullName();
                        if (angular.isString(reportSetFullName))
                            $izendaUrl.setReportFullName(reportSetFullName);
                        resolve(result);
                    }, function (error) {
                        reject(error);
                    });
                });
            };
            /**
             * Send send report set to server and set it as CRS
             */
            var setReportSetAsCrs = function (applyPreviewTop) {
                return $q(function (resolve) {
                    var reportSetToSend = createReportSetConfigForSend();
                    if (applyPreviewTop) {
                        reportSetToSend.options.applyPreviewTop = true;
                    }
                    $izendaInstantReportQuery.setReportAsCrs(reportSetToSend).then(function (result) {
                        if (result === 'OK') {
                            resolve([true]);
                        }
                        else {
                            resolve([false, result]);
                        }
                    });
                });
            };
            /**
             * Generate pdf with current report and send file to user
             */
            var exportReportAs = function (exportType) {
                return $q(function (resolve) {
                    var reportSetToSend = createReportSetConfigForSend();
                    reportSetToSend.options.applyPreviewTop = false;
                    $izendaInstantReportQuery.exportReportInNewWindow(reportSetToSend, exportType).then(function () {
                        resolve(true);
                    });
                });
            };
            /**
             * Generate html and open print page.
             */
            var printReportAsHtml = function () {
                return $q(function (resolve) {
                    var reportSetToSend = createReportSetConfigForSend();
                    reportSetToSend.options.applyPreviewTop = false;
                    $izendaInstantReportQuery.exportReportInNewWindow(reportSetToSend, 'print').then(function () {
                        resolve(true);
                    });
                });
            };
            /**
             * Print report function
             */
            var printReport = function (printType) {
                return $q(function (resolve) {
                    if (printType === 'html') {
                        printReportAsHtml().then(function (success) {
                            resolve({
                                success: success,
                                message: ''
                            });
                        });
                    }
                    else if (printType === 'pdf') {
                        exportReportAs('PDF').then(function (success) {
                            resolve({
                                success: success,
                                message: ''
                            });
                        });
                    }
                    else {
                        resolve({
                            success: false,
                            message: 'Unknown print type ' + printType
                        });
                    }
                });
            };
            /**
             * Open report in report designer.
             */
            var openReportInDesigner = function () {
                setReportSetAsCrs().then(function () {
                    var url = $izendaUrl.settings.urlReportDesigner;
                    if (angular.isString(reportSet.reportName) && reportSet.reportName !== '')
                        url += '?rn=' + _getReportSetFullName() + '&tab=Fields';
                    else
                        url += '?tab=Fields';
                    $window.location.href = getAppendedUrl(url);
                });
            };
            /**
             * Export report function
             */
            var exportReport = function (exportType) {
                return $q(function (resolve) {
                    if (exportType === 'excel') {
                        exportReportAs('XLS(MIME)').then(function (success) {
                            resolve({
                                success: success,
                                message: ''
                            });
                        });
                    }
                    else if (exportType === 'word') {
                        exportReportAs('DOC').then(function (success) {
                            resolve({
                                success: success,
                                message: ''
                            });
                        });
                    }
                    else if (exportType === 'csv') {
                        var exportMode = 'CSV';
                        if ($izendaSettings.getBulkCsv())
                            exportMode = 'BULKCSV';
                        exportReportAs(exportMode).then(function (success) {
                            resolve({
                                success: success,
                                message: ''
                            });
                        });
                    }
                    else if (exportType === 'xml') {
                        exportReportAs('XML').then(function (success) {
                            resolve({
                                success: success,
                                message: ''
                            });
                        });
                    }
                    else {
                        resolve({
                            success: false,
                            message: 'Unknown export type ' + exportType
                        });
                    }
                });
            };
            /**
             * Send report link via client email
             */
            var sendReportLinkEmail = function () {
                var reportInfo = $izendaUrl.getReportInfo();
                if (!angular.isObject(reportInfo) || !angular.isString(reportInfo.fullName) || reportInfo.fullName === '')
                    throw 'Can\'t send email without report name';
                var reportViewerLocation = location.href.replaceAll($izendaUrl.settings.urlInstantReport, $izendaUrl.settings.urlReportViewer);
                var redirectUrl = '?subject=' + encodeURIComponent(reportInfo.fullName) + '&body=' + encodeURIComponent(reportViewerLocation);
                redirectUrl = 'mailto:' + redirectUrl.replace(/ /g, '%20');
                $window.top.location = getAppendedUrl(redirectUrl);
            };
            /**
             * Load instant report datasources
             */
            var loadDataSources = function () {
                return $q(function (resolve) {
                    $izendaInstantReportQuery.getContraintsInfo().then(function (contraintsData) {
                        setConstraints(contraintsData);
                        $izendaInstantReportQuery.getDatasources().then(function (data) {
                            var convertedData = convertDataSources(data);
                            setDataSources(convertedData);
                            resolve();
                        });
                    });
                });
            };
            /////////////////////////////////////////
            // charts
            /////////////////////////////////////////
            /**
             * Set current chart
             */
            var selectChart = function (chart) {
                reportSet.charts[0] = chart;
            };
            /**
             * Get current chart
             */
            var getSelectedChart = function () {
                if (reportSet.charts.length === 0)
                    return null;
                return reportSet.charts[0];
            };
            /////////////////////////////////////////
            // filters
            /////////////////////////////////////////
            var validateFilter = function (filter) {
                filter.isValid = true;
                filter.validationMessages = [];
                filter.validationMessageString = '';
                // check: is filter refer to field which in active table.
                if (filter.field !== null) {
                    var aFields = getAllFieldsInActiveTables(true);
                    var found = false;
                    var filterField = filter.field;
                    angular.element.each(aFields, function () {
                        if (this.sysname === filterField.sysname)
                            found = true;
                    });
                    if (!found) {
                        filter.isValid = false;
                        filter.validationMessages.push($izendaLocale.localeText('js_FilterFieldIsntIncluded', 'Filter field refers on datasource which isn\'t included to report'));
                        filter.validationMessageString = filter.validationMessages.join(', ');
                    }
                }
            };
            /**
             * Disable filters which are not pass validation
             */
            var validateFilters = function () {
                angular.element.each(reportSet.filters, function () {
                    validateFilter(this);
                });
            };
            /**
             * Mark filters as ready to use.
             */
            var startFilters = function () {
                reportSet.filters.forEach(function (filter) {
                    filter.isFilterReady = true;
                });
            };
            /**
             * Find filter operator by string value
             */
            var getFilterOperatorByValue = function (filter, value) {
                if (!angular.isString(value) || !value)
                    return null;
                var result = null;
                angular.element.each(filter.operators, function () {
                    if (this.value === value)
                        result = this;
                });
                return result;
            };
            /**
             * Check all stored procedure parameters assigned in filters
             */
            var isAllSpParametersAssigned = function () {
                var filters = getFilters();
                var spParamFields = getAllFieldsInActiveTables().filter(function (field) {
                    return field.isSpParameter;
                });
                if (spParamFields.length == 0)
                    return true;
                var foundUnassignedParam = false;
                spParamFields.forEach(function (field) {
                    var found = false;
                    filters.forEach(function (filter) {
                        if (filter.field && filter.field === field)
                            found = true;
                    });
                    if (!found)
                        foundUnassignedParam = true;
                });
                return !foundUnassignedParam;
            };
            /**
             * Get filter operator list for field
             */
            var getFieldFilterOperatorList = function (field) {
                return $q(function (resolve) {
                    var tablesParam = getActiveTables().map(function (table) {
                        return table.sysname;
                    }).join(',');
                    $izendaInstantReportQuery.getFieldOperatorList(field, tablesParam).then(function (data) {
                        var result = [];
                        angular.element.each(data, function () {
                            var groupName = this.name ? this.name : undefined;
                            angular.element.each(this.options, function () {
                                if (this.value !== '...') {
                                    var optionToAdd = angular.extend({
                                        groupName: groupName
                                    }, this);
                                    result.push(optionToAdd);
                                }
                            });
                        });
                        resolve(result);
                    });
                });
            };
            /**
             * Set filter operator and update available values
             */
            var setFilterOperator = function (filter, operatorName) {
                return $q(function (resolve) {
                    if (!angular.isObject(filter.field)) {
                        filter.operators = [];
                        filter.operator = null;
                        resolve(filter);
                        return;
                    }
                    getFieldFilterOperatorList(filter.field).then(function (result) {
                        // select filter operator to apply
                        var operatorNameToApply = null;
                        if (angular.isObject(filter.operator))
                            operatorNameToApply = filter.operator.value;
                        if (angular.isString(operatorName))
                            operatorNameToApply = operatorName;
                        filter.operators = result;
                        filter.operator = getFilterOperatorByValue(filter, operatorNameToApply);
                        // update field value
                        var operatorType = getFieldFilterOperatorValueType(filter.operator);
                        if (operatorType === 'field') {
                            filter.values = [getFieldBySysName(filter.values[0])];
                        }
                        else if (operatorType === 'oneDate' || operatorType === 'twoDates') {
                            var valueDates = [];
                            angular.element.each(filter.values, function () {
                                // accept both formats MM/DD/YYYY and M/D/YYYY
                                var parsedDate = moment(this, [$izendaSettings.getDefaultDateFormatString(), $izendaSettings.getDefaultDateFormatString('M/D/YYYY')], true);
                                if (parsedDate.isValid())
                                    valueDates.push(parsedDate._d);
                            });
                            filter.values = valueDates;
                        }
                        else if (filter.operator && filter.operator.value === 'Equals_TextArea') {
                            filter.currentValue = filter.values.join();
                        }
                        resolve(filter);
                    });
                });
            };
            /**
             * Load filter existent values list (you need to ensure that all operators were applyed before starting update existing values)
             */
            var updateFieldFilterExistentValues = function (filter, forceUpdate) {
                // parse unicode symbols util
                function parseHtmlUnicodeEntities(str) {
                    return angular.element('<textarea />').html(str).text();
                }
                // convert options which we have got from server.
                function convertOptionsForSelect(options, operatorType) {
                    if (!angular.isArray(options))
                        return [];
                    var result = [];
                    angular.element.each(options, function () {
                        var option = this;
                        if (option.value === '...') {
                            if (operatorType === 'select' || operatorType === 'inTimePeriod' || operatorType === 'select_multiple') {
                                option.text = parseHtmlUnicodeEntities(option.text);
                                option.value = option.value;
                                result.push(option);
                            }
                        }
                        else {
                            option.text = parseHtmlUnicodeEntities(option.text);
                            option.value = option.value;
                            result.push(option);
                        }
                    });
                    return result;
                }
                function syncValues(filter) {
                    if (filter.values.length === 0 || filter.operator.value === 'Equals_Autocomplete')
                        return;
                    var i = 0;
                    while (i < filter.values.length) {
                        var filterValue = filter.values[i];
                        var matchingExistentValues = angular.element.grep(filter.existentValues, function (existentValue) {
                            return existentValue.value === filterValue;
                        });
                        if (!matchingExistentValues.length)
                            filter.values.splice(i, 1);
                        else
                            i++;
                    }
                }
                // return promise
                return $q(function (resolve) {
                    if (!angular.isObject(filter)) {
                        resolve(filter);
                        return;
                    }
                    if (!angular.isObject(filter.field) || !angular.isObject(filter.operator)) {
                        filter.existentValues = [];
                        filter.values = [];
                        filter.initialized = true;
                        resolve(filter);
                        return;
                    }
                    var isCascadingDisabled = $window.nrvConfig && !$window.nrvConfig.CascadeFilterValues;
                    if (!forceUpdate && (reportSet.filterOptions.filterLogic || isCascadingDisabled)) {
                        resolve(filter);
                        return;
                    }
                    // get constraint filters
                    var allFilters = getFilters();
                    var idx = allFilters.indexOf(filter);
                    if (idx < 0) {
                        throw 'Filter ' + (filter.field !== null ? filter.field.sysname : '') + ' isn\'t found in report set filters collection.';
                    }
                    // Add constraint filters if filter logic wasn't applyed
                    var constraintFilters = [];
                    if (!reportSet.filterOptions.filterLogic) {
                        constraintFilters = allFilters.slice(0, idx);
                    }
                    // load existent values
                    var operatorType = getFieldFilterOperatorValueType(filter.operator);
                    if (['select', 'Equals_Autocomplete', 'select_multiple', 'select_popup', 'select_checkboxes'].indexOf(operatorType) >= 0) {
                        setReportSetAsCrs(false).then(function () {
                            $izendaInstantReportQuery.getExistentValuesList(getActiveTables(), constraintFilters, filter, true, reportSet.filterOptions.filterLogic)
                                .then(function (data) {
                                filter.existentValues = convertOptionsForSelect(data[0].options, operatorType);
                                syncValues(filter);
                                var defaultValue = $izendaUtil.getOptionByValue(filter.existentValues, '...');
                                if (filter.values.length === 0 && defaultValue)
                                    filter.values = [defaultValue.value];
                                filter.initialized = true;
                                resolve(filter);
                            });
                        });
                    }
                    else if (operatorType === 'inTimePeriod') {
                        $izendaInstantReportQuery.getPeriodList().then(function (data) {
                            filter.existentValues = convertOptionsForSelect(data[0].options, operatorType);
                            syncValues(filter);
                            var defaultValue = $izendaUtil.getOptionByValue(filter.existentValues, '...');
                            if (filter.values.length === 0 && defaultValue)
                                filter.values = [defaultValue.value];
                            filter.initialized = true;
                            resolve(filter);
                        });
                    }
                    else {
                        filter.existentValues = [];
                        filter.initialized = true;
                        resolve(filter);
                    }
                });
            };
            /**
             * Set filter existing values when filterLogic
             */
            var refreshFiltersForFilterLogic = function () {
                return $q(function (resolve) {
                    if (!reportSet.filterOptions.filterLogic) {
                        resolve();
                        return;
                    }
                    var allFilters = getFilters();
                    var promises = [];
                    angular.element.each(allFilters, function () {
                        var filter = this;
                        var promise = updateFieldFilterExistentValues(filter, true);
                        promises.push(promise);
                    });
                    $q.all(promises).then(function () {
                        resolve();
                    });
                });
            };
            /**
             * Refresh next filter values.
             */
            var refreshNextFiltersCascading = function (filter) {
                return $q(function (resolve) {
                    var isCascadingDisabled = $window.nrvConfig && !$window.nrvConfig.CascadeFilterValues;
                    if (reportSet.filterOptions.filterLogic || isCascadingDisabled) {
                        resolve();
                        return;
                    }
                    var allFilters = getFilters();
                    var idx;
                    var filtersToRefresh;
                    if (angular.isObject(filter)) {
                        idx = allFilters.indexOf(filter);
                        if (idx < 0) {
                            throw 'Filter ' + (filter.field !== null ? filter.field.sysname + ' ' : '') + 'isn\'t found in report set filters collection.';
                        }
                        filtersToRefresh = allFilters.slice(idx + 1);
                    }
                    else {
                        filtersToRefresh = allFilters.slice(0);
                    }
                    // cascading filters update
                    if (filtersToRefresh.length > 0) {
                        var refreshingFilter = filtersToRefresh[0];
                        updateFieldFilterExistentValues(refreshingFilter).then(function () {
                            refreshNextFiltersCascading(refreshingFilter).then(function () {
                                // we don't need to call markAllFiltersAsRefreshing(false); here, because the last time when that function
                                // will be called - it will go through the "else" condition.
                                resolve(filter);
                            });
                        });
                    }
                    else {
                        resolve(filter);
                    }
                });
            };
            /**
             * Create filter object without loading its format.
             */
            var _createNewFilterBase = function (fieldSysName, operatorName, values, required, description, parameter, customPopupTemplateUrl) {
                var filterObject = angular.extend({}, $injector.get('izendaFilterObjectDefaults'));
                // set field
                var field;
                if (fieldSysName && fieldSysName.indexOf('fldId|') === 0) {
                    field = getCalcField(fieldSysName);
                }
                else
                    field = getFieldBySysName(fieldSysName);
                while (field && field.mcAncestor)
                    field = field.mcAncestor;
                filterObject.field = field;
                if (angular.isDefined(values)) {
                    filterObject.values = values;
                    if (operatorName === 'Equals_Autocomplete')
                        filterObject.values = [values.join(',')];
                }
                if (angular.isDefined(required))
                    filterObject.required = required;
                if (angular.isDefined(description))
                    filterObject.description = description;
                if (angular.isDefined(parameter))
                    filterObject.parameter = parameter;
                if (angular.isDefined(operatorName))
                    filterObject.operatorString = operatorName;
                if (angular.isDefined(customPopupTemplateUrl))
                    filterObject.customPopupTemplateUrl = customPopupTemplateUrl;
                return filterObject;
            };
            /**
             * Load possible formats collection and set format for filter string in description.
             * @param {object} filter. Filter object (field must me set to apply format)
             * @param {string} titleFormatName. Format object value
             * @returns {angular promise}. Promise parameter: filter object.
             */
            var loadFilterFormats = function (filter, titleFormatName) {
                // load and set filter format:
                var filterFormatNameToApply = EMPTY_FIELD_FORMAT_OPTION.value;
                if (angular.isString(titleFormatName) && titleFormatName !== '')
                    filterFormatNameToApply = titleFormatName;
                return $q(function (resolve) {
                    if (angular.isObject(filter.field)) {
                        $izendaInstantReportQuery.getFilterFormats(filter).then(function (returnObj) {
                            filter.titleFormats = $izendaUtil.convertOptionsByPath(returnObj);
                            filter.titleFormat = $izendaUtil.getOptionByValue(filter.titleFormats, filterFormatNameToApply);
                            resolve(filter);
                        });
                    }
                    else {
                        resolve(filter);
                    }
                });
            };
            /**
             * Create new filter object with default values
             */
            var createNewFilter = function (fieldSysName, operatorName, values, required, description, parameter, titleFormatName, customPopupTemplateUrl) {
                var filterObject = _createNewFilterBase(fieldSysName, operatorName, values, required, description, parameter, customPopupTemplateUrl);
                filterObject.isFilterReady = true;
                return loadFilterFormats(filterObject, titleFormatName);
            };
            /**
             * Delete filter from collection
             */
            var removeFilter = function (filter) {
                var index = reportSet.filters.indexOf(filter);
                if (index >= 0) {
                    reportSet.filters[index].field = null;
                    reportSet.filters.splice(index, 1);
                }
            };
            /**
             * Swap filter
             */
            var swapFilters = function (index0, index1) {
                var filters = reportSet.filters;
                var temp = filters[index0];
                filters[index0] = filters[index1];
                filters[index1] = temp;
            };
            /**
             * Move filter from position to position
             */
            var moveFilterTo = function (fromIndex, toIndex) {
                reportSet.filters.splice(toIndex, 0, reportSet.filters.splice(fromIndex, 1)[0]);
            };
            /**
             * Check current active tables and remove filters which connected to non-active fields
             */
            var syncFilters = function () {
                var aFields = getAllFieldsInActiveTables(true);
                var filters = getFilters();
                // find filters to remove
                var filtersToRemove = [];
                angular.element.each(filters, function () {
                    var filter = this;
                    var isFilterActive = false;
                    angular.element.each(aFields, function () {
                        var activeField = this;
                        if (filter.field === null || activeField.sysname === filter.field.sysname) {
                            isFilterActive = true;
                        }
                    });
                    if (!isFilterActive)
                        filtersToRemove.push(filter);
                });
                // remove filters
                angular.element.each(filtersToRemove, function () {
                    removeFilter(this);
                });
            };
            /**
             * Load custom template for popup filter.
             */
            var getPopupFilterCustomTemplate = function (filter) {
                return $q(function (resolve) {
                    var field = filter.field;
                    if (!filter.field) {
                        resolve();
                        return;
                    }
                    var table = getTableById(field.parentId);
                    $izendaInstantReportQuery.getExistentPopupValuesList(field, table).then(function (data) {
                        if (data.userpage != null)
                            filter.customPopupTemplateUrl = data.userpage;
                        else
                            filter.customPopupTemplateUrl = null;
                        resolve();
                    });
                });
            };
            /////////////////////////////////////////
            // field options
            /////////////////////////////////////////
            /**
             * Load field function and apply group by function to field
             */
            var loadFieldFunctions = function (field, defaultGroupString) {
                return $q(function (resolve) {
                    var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                        ? defaultGroupString
                        : 'NONE';
                    $izendaInstantReportQuery.getFieldFunctions(field, field.isPivotColumn ? 'pivotField' : 'field').then(function (returnObj) {
                        field.groupByFunctionOptions = $izendaUtil.convertOptionsByPath(returnObj);
                        var isSimpleGroupFunction = field.groupByFunctionOptions.length === 2
                            && field.groupByFunctionOptions[0].value.toLowerCase() === 'none'
                            && field.groupByFunctionOptions[1].value.toLowerCase() === 'group';
                        if (isSimpleGroupFunction && groupToApply.toLowerCase() === 'none') {
                            groupToApply = 'GROUP';
                        }
                        field.groupByFunction = getGroupByValue(field, groupToApply);
                        // if group list was changed and current group function not in list
                        if (field.groupByFunction === null) {
                            field.groupByFunction = getGroupByValue(field, 'NONE');
                        }
                        resolve(field);
                    });
                });
            };
            /**
             * Load Subtotal field function and apply Subtotal group by function to field
             */
            var loadSubtotalFieldFunctions = function (field, defaultGroupString) {
                return $q(function (resolve) {
                    var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                        ? defaultGroupString
                        : 'DEFAULT';
                    $izendaInstantReportQuery.getFieldFunctions(field, 'subtotal').then(function (returnObj) {
                        field.groupBySubtotalFunctionOptions = $izendaUtil.convertOptionsByPath(returnObj);
                        field.groupBySubtotalFunction = getGroupBySubtotalValue(field, groupToApply);
                        // if group list was changed and current group function not in list
                        if (field.groupBySubtotalFunction === null) {
                            field.groupByFunction = getGroupBySubtotalValue(field, 'DEFAULT');
                        }
                        resolve(field);
                    });
                });
            };
            /**
             * Load group functions to field
             */
            var loadGroupFunctionsAndFormatsToField = function (field, defaultGroupString, defaultFormatString, defaultSubtotalGroupString) {
                return $q(function (resolve) {
                    var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                        ? defaultGroupString
                        : 'NONE';
                    var groupSubtotalToApply = angular.isString(defaultSubtotalGroupString) && defaultSubtotalGroupString
                        ? defaultSubtotalGroupString
                        : 'DEFAULT';
                    if (isBinaryField(field)) {
                        // if field type doesn't support group by.
                        field.groupByFunctionOptions = [EMPTY_FIELD_GROUP_OPTION];
                        field.groupByFunction = EMPTY_FIELD_GROUP_OPTION;
                        field.groupBySubtotalFunctionOptions = [EMPTY_SUBTOTAL_FIELD_GROUP_OPTIONS];
                        field.groupBySubtotalFunction = EMPTY_SUBTOTAL_FIELD_GROUP_OPTIONS;
                        updateFieldFormats(field, defaultFormatString).then(function (f) {
                            resolve(f);
                        });
                    }
                    else {
                        // get field and Subtotal functions from server or request cache:
                        var functionPromise = loadFieldFunctions(field, groupToApply);
                        var subtotalPromise = loadSubtotalFieldFunctions(field, groupSubtotalToApply);
                        $q.all([functionPromise, subtotalPromise]).then(function () {
                            updateFieldFormats(field, defaultFormatString).then(function (f) {
                                resolve(field);
                            });
                        });
                    }
                });
            };
            /**
             * Field initialization (async: returns promise)
             */
            var initializeField = function (field) {
                return $q(function (resolve) {
                    if (field.isInitialized) {
                        resolve(field);
                        return;
                    }
                    // load group and format collections:
                    loadGroupFunctionsAndFormatsToField(field).then(function (f) {
                        f.isInitialized = true;
                        resolve(f);
                    });
                });
            };
            /**
             * Get current field which we are editing now.
             */
            var getCurrentActiveField = function () {
                return currentActiveField;
            };
            /**
             * Set current field for editing it.
             */
            var setCurrentActiveField = function (field) {
                currentActiveField = field;
            };
            /**
             * Create auto description.
             */
            var _generateDescription = function (field) {
                if (isFieldGrouped(field) && field.groupByFunction.value.toLowerCase() !== 'group')
                    return field.groupByFunction.text + ' (' + $izendaUtil.humanizeVariableName(field.name) + ')';
                else
                    return $izendaUtil.humanizeVariableName(field.name);
            };
            /**
             * Set aggregate function for field.
             */
            var onFieldFunctionApplyed = function (field) {
                // do not change format for max, min, sum and sum distinct
                if (isFieldGrouped(field)) {
                    applyAutoGroups();
                }
                else {
                    resetAutoGroups();
                }
                updateFieldFormats(field);
                // auto update description
                autoUpdateFieldDescription(field);
                _syncCalcFieldsArray();
                // validate
                validateReport();
            };
            /**
             * Update functions, formats after expression typegroup was changed
             */
            var onExpressionTypeGroupApplyed = function (field) {
                loadGroupFunctionsAndFormatsToField(field, field.groupByFunction.value, field.format.value, field.groupBySubtotalFunction.value).then(function () {
                    _syncCalcFieldsArray();
                });
            };
            /**
             * Update calc fields collection when expression was changed.
             * @param {any} field - target field.
             */
            var onExpressionApplyed = function (field) {
                _syncCalcFieldsArray();
            };
            /**
             * Update Ui and show preview
             */
            var updateUiStateAndRefreshPreview = function () {
                // remove drilldowns which are not in active tables
                updateDrilldowns();
                // update pivot state
                $izendaInstantReportPivots.syncPivotState(getAllFieldsInActiveTables());
                // update filters state
                syncFilters();
                // apply/reset autogroups
                if (getActiveTables().length === 0 || isActiveFieldsContainsBinary()) {
                    resetAutoGroups();
                }
                else {
                    applyAutoGroups();
                }
            };
            /**
             * Fires when user check/uncheck field
             */
            var applyFieldChecked = function (field, value, restrictTableUncheck) {
                return $q(function (resolve) {
                    if (!field.enabled) {
                        validateReport();
                        resolve();
                        return;
                    }
                    field.checked = angular.isDefined(value) ? value : !field.checked;
                    field.order = _getNextOrder();
                    // update state of datasources tree
                    updateParentFoldersAndTables(field, false, restrictTableUncheck);
                    initializeField(field).then(function () {
                        updateUiStateAndRefreshPreview();
                        resolve();
                    });
                });
            };
            /**
             * Select/unselect field
             */
            var applyFieldSelected = function (field, value) {
                if (!angular.isObject(field)) {
                    unselectAllFields();
                    setCurrentActiveField(null);
                    return;
                }
                if (!field.enabled)
                    return;
                if (field.isMultipleColumns) {
                    field.collapsed = !field.collapsed;
                    return;
                }
                unselectAllFields();
                setCurrentActiveField(null);
                if (value) {
                    setCurrentActiveField(field);
                    field.selected = value;
                    initializeField(field);
                }
            };
            /**
             * Check/uncheck table
             */
            var applyTableActive = function (table) {
                return $q(function (resolve) {
                    var updateAndResolve = function () {
                        updateParentFolders(table);
                        updateUiStateAndRefreshPreview();
                        resolve();
                    };
                    if (!table.enabled) {
                        return;
                    }
                    table.active = !table.active;
                    table.order = _getNextOrder();
                    if (!table.active) {
                        // deactivate all table fields
                        angular.element.each(table.fields, function () {
                            var field = this;
                            field.checked = false;
                        });
                        updateAndResolve();
                        return;
                    }
                    // table activated
                    if (table.lazy) {
                        // load lazy fields
                        loadLazyFields(table).then(function () {
                            updateAndResolve();
                        });
                    }
                    else {
                        updateAndResolve();
                    }
                });
            };
            var _prepareParentFieldForMultipleFields = function (field) {
                var parentField = field;
                if (parentField.multipleColumns.length === 0) {
                    // if field has no multiple fields:
                    var copyField = parentField = angular.copy(field);
                    copyField.mcAncestor = field;
                    copyField.originId = field.id;
                    copyField.isMultipleColumns = true;
                    copyField.multipleColumnsCounter = 1;
                    copyField.multipleColumns.push(field);
                    var table = getTableById(field.parentId);
                    var fieldIndex = table.fields.indexOf(field);
                    table.fields[fieldIndex] = copyField;
                }
                return parentField;
            };
            /**
             * Add ready-to-use another field (no need to clone parent field)
             */
            var addExactAnotherField = function (field, anotherFieldProperties) {
                var anotherField = _createFieldObject(anotherFieldProperties);
                // add to parent field.
                var parentField = _prepareParentFieldForMultipleFields(field);
                parentField.multipleColumns.push(anotherField);
                parentField.multipleColumnsCounter++;
                anotherField.parentFieldId = parentField.id;
                anotherField.parentId = parentField.parentId;
                anotherField.name = parentField.name + parentField.multipleColumnsCounter;
                anotherField.tableSysname = parentField.tableSysname;
                anotherField.tableName = parentField.tableName;
                anotherField.sysname = parentField.sysname;
                anotherField.typeGroup = parentField.typeGroup;
                anotherField.type = parentField.type;
                anotherField.sqlType = parentField.sqlType;
                anotherField.allowedInFilters = parentField.allowedInFilters;
                anotherField.isDescriptionSetManually = true;
                return anotherField;
            };
            /**
             * Add more than one same field to report
             */
            var addAnotherField = function (field, needToSelect) {
                var parentField = _prepareParentFieldForMultipleFields(field);
                // add another field to parentField
                parentField.multipleColumnsCounter++;
                var anotherField = createFieldObject(parentField.name + parentField.multipleColumnsCounter, parentField.parentId, parentField.tableSysname, parentField.tableName, parentField.sysname, parentField.typeGroup, parentField.type, parentField.sqlType, parentField.allowedInFilters, parentField.isSpParameter);
                if (parentField.description)
                    anotherField.description = parentField.description + ' ' + (parentField.multipleColumns.length + 1);
                anotherField.allowedInFilters = parentField.allowedInFilters;
                anotherField.order = _getNextOrder();
                anotherField.guid = _guid();
                anotherField.parentFieldId = parentField.id;
                initializeField(anotherField).then(function () {
                    applyAutoGroups();
                });
                parentField.multipleColumns.push(anotherField);
                // select if needed
                if (needToSelect) {
                    unselectAllFields();
                    anotherField.selected = true;
                    setCurrentActiveField(anotherField);
                }
                return anotherField;
            };
            /**
             * Apply field config to field
             */
            var loadReportField = function (field, fieldConfig) {
                return $q(function (resolve) {
                    var functionValue = fieldConfig.groupByFunction.value;
                    var subtotalFunctionValue = fieldConfig.groupBySubtotalFunction.value;
                    var formatValue = fieldConfig.format.value;
                    angular.extend(field, fieldConfig);
                    // remove column group from description: 'field description@column group'
                    if (field.description.lastIndexOf('@') > 0 && field.columnGroup) {
                        field.description = field.description.substring(0, field.description.lastIndexOf('@'));
                    }
                    if (field.order > orderCounter)
                        orderCounter = field.order + 1;
                    fieldConfig.expressionType = fieldConfig.expressionType || '...';
                    angular.element.each(expressionTypes, function () {
                        if (this.value === fieldConfig.expressionType)
                            field.expressionType = this;
                    });
                    loadGroupFunctionsAndFormatsToField(field, functionValue, formatValue, subtotalFunctionValue).then(function (f) {
                        if (fieldConfig.description) {
                            // if description differs from the default generated description: mark it as "set manually"
                            f.isDescriptionSetManually = fieldConfig.description !== _generateDescription(f);
                            f.description = fieldConfig.description;
                        }
                        else
                            autoUpdateFieldDescription(f);
                        f.isInitialized = true;
                        resolve(f);
                    });
                });
            };
            var applyDescription = function (field) {
                var autoDescription = _generateDescription(field);
                if (!field.description)
                    field.isDescriptionSetManually = false;
                else
                    field.isDescriptionSetManually = field.description !== autoDescription;
                _syncCalcFieldsArray();
            };
            /**
             * Select drilldown fields
             */
            var convertDrilldownFieldNamesToFields = function () {
                for (var i = 0; i < reportSet.drillDownFields.length; i++) {
                    var currentItem = reportSet.drillDownFields[i];
                    if (angular.isString(currentItem)) {
                        reportSet.drillDownFields[i] = getFieldBySysName(currentItem, true);
                    }
                }
            };
            /**
             * Select charts
             */
            var convertChartNamesToCharts = function () {
                for (var i = 0; i < reportSet.charts.length; i++) {
                    var chart = reportSet.charts[i];
                    if (angular.isObject(chart) && chart.hasOwnProperty('name') && chart.hasOwnProperty('category')) {
                        var vis = $izendaInstantReportVisualization.findVisualization(chart.category, chart.name);
                        vis.properties = reportSet.charts[i].properties;
                        reportSet.charts[i] = vis;
                    }
                }
            };
            /**
             * Add loaded filters. reportSet.filters at this stage is not initialized
             * and we need to set field, operator and value objects.
             */
            var loadFilters = function () {
                return $q(function (resolve) {
                    var filterOperatorPromises = [];
                    if (!angular.isArray(reportSet.filters) || reportSet.filters.length === 0) {
                        resolve();
                        return;
                    }
                    for (var i = 0; i < reportSet.filters.length; i++) {
                        var filter = reportSet.filters[i];
                        var filterConfig = {
                            fieldSysName: filter.sysname,
                            operatorName: filter.operatorString,
                            values: filter.values,
                            required: filter.required,
                            description: filter.description,
                            parameter: filter.parameter,
                            titleFormat: filter.titleFormat,
                            customPopupTemplateUrl: filter.customPopupTemplateUrl
                        };
                        var newFilter = _createNewFilterBase(filterConfig.fieldSysName, filterConfig.operatorName, filterConfig.values, filterConfig.required, filterConfig.description, filterConfig.parameter, filter.customPopupTemplateUrl);
                        reportSet.filters[i] = newFilter;
                        // load filter formats
                        var formatLoadPromise = loadFilterFormats(newFilter, filterConfig.titleFormat);
                        filterOperatorPromises.push(formatLoadPromise);
                        // set operator
                        var operatorPromise;
                        if (angular.isString(filterConfig.operatorName) && filterConfig.operatorName) {
                            operatorPromise = setFilterOperator(newFilter, filterConfig.operatorName);
                        }
                        else {
                            operatorPromise = setFilterOperator(newFilter, null);
                        }
                        filterOperatorPromises.push(operatorPromise);
                    }
                    // wait when all operators loaded
                    var existentValuesPromises = [];
                    $q.all(filterOperatorPromises).then(function () {
                        angular.element.each(reportSet.filters, function () {
                            var existentPromise = updateFieldFilterExistentValues(this, true);
                            existentValuesPromises.push(existentPromise);
                        });
                        // wait when all existent values loaded
                        $q.all(existentValuesPromises).then(function () {
                            // initialization completed
                            resolve();
                        });
                    });
                });
            };
            /**
             * Initialize service for new report
             */
            var newReport = function () {
                return $q(function (resolve) {
                    if (!isPageInitialized) {
                        newReportLoadingSchedule = 'new!';
                        $log.debug('newReport scheduled');
                        resolve(false);
                        return;
                    }
                    var promises = [];
                    // load schedule data with default config for new report
                    promises.push($izendaScheduleService.setScheduleConfig(null));
                    promises.push($izendaShareService.setShareConfig(null));
                    // set full access for new report:
                    $izendaCompatibility.setFullAccess();
                    // load default table if defined
                    if (angular.isString($izendaInstantReportSettings.defaultTable)) {
                        var table = getTableBySysname($izendaInstantReportSettings.defaultTable);
                        if (!table) {
                            table = getTableByName($izendaInstantReportSettings.defaultTable);
                        }
                        if (table) {
                            table.collapsed = false;
                            promises.push(applyTableActive(table));
                        }
                    }
                    // wait until completed all asynchronous operations
                    $q.all(promises).then(function () {
                        resolve();
                    });
                });
            };
            /**
             * Load existing report
             */
            var loadReport = function (reportFullName) {
                $log.debug('loadReport ' + reportFullName + ' start');
                return $q(function (resolve) {
                    if (!isPageInitialized) {
                        existingReportLoadingSchedule = reportFullName;
                        $log.debug('loadReport scheduled');
                        resolve([false]);
                        return;
                    }
                    // update UI params
                    currentActiveField = null;
                    setFiltersPanelOpened(false);
                    var previousPreviewTop = 100;
                    if (reportSet && reportSet.options)
                        previousPreviewTop = reportSet.options.previewTop;
                    // load report data
                    $izendaInstantReportQuery.loadReport(reportFullName).then(function (reportSetConfig) {
                        resetDataSources();
                        reportSet = angular.extend(reportSet, reportSetConfig);
                        $izendaCompatibility.setRights(reportSet.options.effectiveRights);
                        // update top
                        if (reportSet.options.top < 0)
                            reportSet.options.top = '';
                        reportSet.options.previewTop = previousPreviewTop;
                        var lazyPromises = [];
                        angular.element.each(reportSet.joinedTables, function () {
                            var tableObj = this;
                            var table = getTableBySysname(tableObj.sysname);
                            var loadFieldPromise = loadLazyFields(table);
                            table.active = true;
                            table.order = _getNextOrder();
                            lazyPromises.push(loadFieldPromise);
                        });
                        // wait until table fields will be loaded:
                        $q.all(lazyPromises).then(function () {
                            // initialization promises
                            var promises = [];
                            // convert chart names to chart objects collection
                            convertChartNamesToCharts();
                            // convert drilldown field sysnames to fields collection:
                            convertDrilldownFieldNamesToFields();
                            // load pivot fields
                            if (angular.isObject(reportSet.pivot)) {
                                var pivotColumnConfig = angular.copy(reportSet.pivot.pivotColumn);
                                var pivotColumnField = getFieldBySysName(pivotColumnConfig.sysname, true);
                                reportSet.pivot.pivotColumn = angular.copy(pivotColumnField);
                                reportSet.pivot.pivotColumn.isPivotColumn = true;
                                promises.push(loadReportField(reportSet.pivot.pivotColumn, pivotColumnConfig));
                                for (var i = 0; i < reportSet.pivot.cellValues.length; i++) {
                                    var cellValueConfig = angular.copy(reportSet.pivot.cellValues[i]);
                                    reportSet.pivot.cellValues[i] = angular.copy(getFieldBySysName(cellValueConfig.sysname, true));
                                    promises.push(loadReportField(reportSet.pivot.cellValues[i], cellValueConfig));
                                }
                            }
                            // convert fields
                            var addedFieldSysNames = [];
                            angular.element.each(reportSet.activeFields, function () {
                                var activeField = this;
                                var sysname = activeField.sysname;
                                var field = getFieldBySysName(sysname, true);
                                if (!angular.isObject(field))
                                    $log.error('Field ' + sysname + ' not found in datasources');
                                var isFieldMultiple = addedFieldSysNames.indexOf(sysname) >= 0;
                                if (!isFieldMultiple) {
                                    field.guid = activeField.guid;
                                    promises.push(loadReportField(field, activeField));
                                    field.checked = true;
                                    updateParentFoldersAndTables(field, true);
                                    addedFieldSysNames.push(sysname);
                                }
                                else {
                                    var anotherField = addExactAnotherField(field, activeField);
                                    anotherField.guid = activeField.guid;
                                    if (activeField.description) {
                                        anotherField.isDescriptionSetManually = true;
                                        anotherField.description = activeField.description;
                                    }
                                    promises.push(loadReportField(anotherField, activeField));
                                    anotherField.checked = true;
                                }
                            });
                            _syncCalcFieldsArray();
                            // pivots initialization
                            if (angular.isObject(reportSet.pivot)) {
                                var pivotData = reportSet.pivot;
                                promises.push($izendaInstantReportPivots.loadPivotData(pivotData));
                                reportSet.pivot = null;
                            }
                            // convert filters
                            promises.push(loadFilters());
                            // load schedule data for config
                            var scheduleConfigData = angular.extend({}, reportSetConfig.schedule);
                            promises.push($izendaScheduleService.setScheduleConfig(scheduleConfigData));
                            // load share data for config
                            var shareConfigData = angular.extend([], reportSetConfig.share);
                            promises.push($izendaShareService.setShareConfig(shareConfigData));
                            // wait for all preparations completion
                            $q.all(promises).then(function () {
                                validateFilters();
                                startFilters();
                                $log.debug('loadReport end');
                                resolve([true, true]);
                            });
                        });
                    }, function (error) {
                        // error loading report set config
                        // show error dialog
                        $izendaUtilUiService.showErrorDialog($izendaLocale.localeText('js_FailedToLoadReport', 'Failed to load report') + ': "' + error + '"', $izendaLocale.localeText('js_ReportLoadError', 'Report load error'));
                        // redirect to new report
                        $izendaUrl.setIsNew();
                        resolve([true, false]);
                    });
                });
            };
            /**
             * Remove another field
             */
            var removeAnotherField = function (field, anotherField) {
                var idx = field.multipleColumns.indexOf(anotherField);
                if (idx >= 0) {
                    if (getCurrentActiveField() === anotherField)
                        setCurrentActiveField(null);
                    var isReplaceIdNeeded = field.originId == anotherField.id;
                    field.multipleColumns.splice(idx, 1);
                    if (field.multipleColumns.length > 0 && isReplaceIdNeeded)
                        field.multipleColumns[0].id = field.originId;
                }
                else {
                    throw 'Can\'t find ' + anotherField.name + ' in multipleColumns collection.';
                }
                if (field.multipleColumns.length === 1) {
                    copyFieldObject(field.multipleColumns[0], field);
                    field.multipleColumns = [];
                    field.isMultipleColumns = false;
                    field.collapsed = false;
                    field.parentFieldId = null;
                    autoUpdateFieldDescription(field);
                }
            };
            /**
             * Set sort value for field.
             */
            var applyFieldSort = function (field, sortString) {
                if (angular.isString(sortString)) {
                    if (sortString === 'asc') {
                        field.sort = 'asc';
                    }
                    else if (sortString === 'desc') {
                        field.sort = 'desc';
                    }
                    else {
                        if (!field.isVgUsed)
                            field.sort = null;
                    }
                }
                else {
                    if (!field.isVgUsed)
                        field.sort = null;
                }
            };
            /**
             * Set field italic
             */
            var applyFieldItalic = function (field, value) {
                field.italic = value;
            };
            /**
             * Set field visible
             */
            var applyFieldVisible = function (field, value) {
                if (!value)
                    field.isVgUsed = false;
                field.visible = value;
            };
            /**
             * Set field bold
             */
            var applyFieldBold = function (field, value) {
                field.bold = value;
            };
            /**
             * We need to set visual group fields order first and other fields next.
             */
            var updateVisualGroupFieldOrders = function () {
                var activeFields = getAllActiveFields();
                // we need to update field orders:
                // vgField1, vgField2, ..., vgFieldN, nonVg1, nonVg2, ..., nonVgM
                var vgFields = angular.element.grep(activeFields, function (f) {
                    return f.isVgUsed;
                });
                if (vgFields.length === 0)
                    return;
                vgFields.sort(function (a, b) {
                    return a.order - b.order;
                });
                angular.element.each(vgFields, function () {
                    this.order = _getNextOrder();
                });
                var nonVgFields = angular.element.grep(activeFields, function (f) {
                    return !f.isVgUsed;
                });
                nonVgFields.sort(function (a, b) {
                    return a.order - b.order;
                });
                angular.element.each(nonVgFields, function () {
                    this.order = _getNextOrder();
                });
            };
            /**
             * Set visual group
             */
            var applyVisualGroup = function (field, value) {
                if (value && field.sort === null) {
                    applyFieldSort(field, 'asc');
                }
                field.isVgUsed = value;
                if (value) {
                    updateVisualGroupFieldOrders();
                }
            };
            /**
             * Column reorder. Indexes started from 1: 1,2,3,4,5,6
             */
            var swapFields = function (fromIndex, toIndex) {
                if (fromIndex === toIndex)
                    return;
                var activeFieldsSortedList = angular.element.grep(getAllActiveFields(), function (item) {
                    return !item.isVgUsed;
                });
                activeFieldsSortedList.sort(function (f1, f2) {
                    return f1.order - f2.order;
                });
                var field1 = activeFieldsSortedList[fromIndex - 1], field2 = activeFieldsSortedList[toIndex - 1], fieldOrder1 = field1.order, fieldOrder2 = field2.order;
                field1.order = fieldOrder2;
                field2.order = fieldOrder1;
            };
            /**
             * Change field order
             */
            var moveFieldToPosition = function (fromIndex, toIndex, isVisualGroup, takeCareOfInvisibleFields) {
                if (fromIndex === toIndex)
                    return;
                var fields = angular.element.grep(getAllActiveFields(), function (field) {
                    // extract vg|non-vg fields (depends on isVisualGroup param)
                    return (isVisualGroup ^ field.isVgUsed) === 0;
                });
                var activeFieldsSorted = fields.sort(function (f1, f2) {
                    return f1.order - f2.order;
                });
                var visibleFieldsSorted = takeCareOfInvisibleFields
                    ? angular.element.grep(activeFieldsSorted, function (f) { return f.visible; })
                    : activeFieldsSorted;
                // calculate actual fromIndex and toIndex
                var fromElement = visibleFieldsSorted[fromIndex];
                if (takeCareOfInvisibleFields) {
                    fromIndex = activeFieldsSorted.indexOf(fromElement);
                    var element = visibleFieldsSorted[toIndex];
                    toIndex = activeFieldsSorted.indexOf(element);
                }
                var i;
                if (fromIndex < toIndex) {
                    for (i = 0; i < fromIndex; i++)
                        activeFieldsSorted[i].order = _getNextOrder();
                    for (i = fromIndex + 1; i <= toIndex; i++)
                        activeFieldsSorted[i].order = _getNextOrder();
                    fromElement.order = _getNextOrder();
                    for (i = toIndex + 1; i < activeFieldsSorted.length; i++)
                        activeFieldsSorted[i].order = _getNextOrder();
                }
                else {
                    for (i = 0; i < toIndex; i++)
                        activeFieldsSorted[i].order = _getNextOrder();
                    fromElement.order = _getNextOrder();
                    for (i = toIndex; i < activeFieldsSorted.length; i++)
                        if (i !== fromIndex)
                            activeFieldsSorted[i].order = _getNextOrder();
                }
                updateVisualGroupFieldOrders();
            };
            var getPreviewSplashVisible = function () {
                return isPreviewSplashVisible;
            };
            var getPreviewSplashText = function () {
                return previewSplashText;
            };
            var hasAggregateFormats = function () {
                if (!activeCheckedFields)
                    return false;
                var aggregateFormats = [
                    "PercentOfGroup",
                    "PercentOfGroupWithRounding",
                    "Gauge",
                    "GaugeVariable",
                    "GaugeDashboard"
                ];
                for (var i = 0; i < activeCheckedFields.length; i++) {
                    var field = activeCheckedFields[i];
                    if (!field || !field.format || !field.format.value)
                        continue;
                    if (aggregateFormats.indexOf(field.format.value) >= 0)
                        return true;
                }
                return false;
            };
            // initialize:
            $log.debug('Start instant report initialize');
            isPageInitialized = false;
            isPageReady = false;
            var startInitializingTimestamp = (new Date()).getTime();
            $q.all([loadDataSources(), initializeVgStyles(), initializeSubreports(), initializeDrillDownStyles(),
                initializeExpressionTypes(), $izendaInstantReportVisualization.loadVisualizations()]).then(function () {
                isPageInitialized = true;
                if (angular.isString(existingReportLoadingSchedule)) {
                    // existing report
                    $log.debug('Start loading scheduled report', existingReportLoadingSchedule);
                    loadReport(existingReportLoadingSchedule).then(function () {
                        $log.debug('End loading scheduled report');
                        existingReportLoadingSchedule = null;
                        isPageReady = true;
                        $rootScope.$applyAsync();
                        var timeSpent = (new Date()).getTime() - startInitializingTimestamp;
                        $log.debug('Page ready: ', timeSpent + 'ms');
                    });
                }
                else if (angular.isString(newReportLoadingSchedule)) {
                    // new report
                    $log.debug('Start creating new report');
                    newReport().then(function () {
                        $log.debug('End creating new report');
                        newReportLoadingSchedule = null;
                        isPageReady = true;
                        $rootScope.$applyAsync();
                        var timeSpent = (new Date()).getTime() - startInitializingTimestamp;
                        $log.debug('Page ready: ', timeSpent + 'ms');
                    });
                }
                else {
                    // default
                    isPageReady = true;
                    var timeSpent = (new Date()).getTime() - startInitializingTimestamp;
                    $log.debug('Page ready: ', timeSpent + 'ms');
                }
            });
            /**
             * Restore default color settings.
             */
            function restoreDefaultColors() {
                var style = reportSet.options.style;
                style.borderColor = $izendaInstantReportSettings.reportBorderColor;
                style.headerColor = $izendaInstantReportSettings.reportHeaderColor;
                style.headerForecolor = $izendaInstantReportSettings.headerForegroundColor;
                style.itemColor = $izendaInstantReportSettings.reportItemColor;
                style.itemForeColor = $izendaInstantReportSettings.itemForegroundColor;
                style.itemAltColor = $izendaInstantReportSettings.reportAlternatingItemColor;
            }
            ;
            /**
             * Get default field format (based on field typegroup)
             * @param {object} field Field.
             */
            function getDefaultFieldFormat(typeGroup) {
                var formatKey;
                switch (typeGroup) {
                    case 'Numeric':
                        formatKey = '{0:#,0}';
                        break;
                    case 'Real':
                        formatKey = '{0:#,0.00}';
                        break;
                    case 'Money':
                        formatKey = '{0:C2}';
                        break;
                    case 'DateTime':
                        formatKey = '{0:d}';
                        break;
                    default:
                        formatKey = '{0}';
                }
                return formatKey;
            }
            // PUBLIC API
            return {
                getPageReady: getPageReady,
                getReportSet: getReportSet,
                saveReportSet: saveReportSet,
                setReportSetAsCrs: setReportSetAsCrs,
                printReport: printReport,
                openReportInDesigner: openReportInDesigner,
                exportReport: exportReport,
                sendReportLinkEmail: sendReportLinkEmail,
                getReportPreviewHtml: getReportPreviewHtml,
                clearReportPreviewHtml: clearReportPreviewHtml,
                setPreviewTop: setPreviewTop,
                getCategoryById: getCategoryById,
                getTableById: getTableById,
                getTableBySysname: getTableBySysname,
                getActiveTables: getActiveTables,
                getAllFieldsInActiveTables: getAllFieldsInActiveTables,
                getAllActiveFields: getAllActiveFields,
                getAllVisibleFields: getAllVisibleFields,
                getFieldBySysName: getFieldBySysName,
                getDataSources: getDataSources,
                setDataSources: setDataSources,
                getFilters: getFilters,
                getFilterOptions: getFilterOptions,
                loadLazyFields: loadLazyFields,
                updateParentFoldersAndTables: updateParentFoldersAndTables,
                unselectAllFields: unselectAllFields,
                searchInDataDources: searchInDataDources,
                getFieldById: getFieldById,
                getOptions: getOptions,
                getDrillDownFields: getDrillDownFields,
                getVgStyles: getVgStyles,
                getDrillDownStyles: getDrillDownStyles,
                disableEmbeddedDrillDownStyle: disableEmbeddedDrillDownStyle,
                getExpressionTypes: getExpressionTypes,
                getSubreports: getSubreports,
                getCurrentActiveField: getCurrentActiveField,
                setCurrentActiveField: setCurrentActiveField,
                isFieldGrouped: isFieldGrouped,
                applyAutoGroups: applyAutoGroups,
                resetAutoGroups: resetAutoGroups,
                initializeField: initializeField,
                resetFieldObject: resetFieldObject,
                createFieldObject: createFieldObject,
                copyFieldObject: copyFieldObject,
                applyFieldChecked: applyFieldChecked,
                applyDescription: applyDescription,
                applyFieldSelected: applyFieldSelected,
                applyTableActive: applyTableActive,
                addAnotherField: addAnotherField,
                removeAnotherField: removeAnotherField,
                onFieldFunctionApplyed: onFieldFunctionApplyed,
                onExpressionTypeGroupApplyed: onExpressionTypeGroupApplyed,
                onExpressionApplyed: onExpressionApplyed,
                applyFieldSort: applyFieldSort,
                applyFieldItalic: applyFieldItalic,
                applyFieldVisible: applyFieldVisible,
                applyFieldBold: applyFieldBold,
                applyVisualGroup: applyVisualGroup,
                isBinaryField: isBinaryField,
                isActiveFieldsContainsBinary: isActiveFieldsContainsBinary,
                isAllSpParametersAssigned: isAllSpParametersAssigned,
                updateVisualGroupFieldOrders: updateVisualGroupFieldOrders,
                swapFields: swapFields,
                moveFieldToPosition: moveFieldToPosition,
                restoreDefaultColors: restoreDefaultColors,
                getPreview: getPreview,
                newReport: newReport,
                loadReport: loadReport,
                // charts
                selectChart: selectChart,
                getSelectedChart: getSelectedChart,
                // filters
                getFiltersPanelOpened: getFiltersPanelOpened,
                setFiltersPanelOpened: setFiltersPanelOpened,
                createNewFilter: createNewFilter,
                removeFilter: removeFilter,
                swapFilters: swapFilters,
                moveFilterTo: moveFilterTo,
                getFieldFilterOperatorList: getFieldFilterOperatorList,
                updateFieldFilterExistentValues: updateFieldFilterExistentValues,
                getFieldFilterOperatorValueType: getFieldFilterOperatorValueType,
                refreshNextFiltersCascading: refreshNextFiltersCascading,
                refreshFiltersForFilterLogic: refreshFiltersForFilterLogic,
                setFilterOperator: setFilterOperator,
                loadFilterFormats: loadFilterFormats,
                getPreviewSplashVisible: getPreviewSplashVisible,
                getPreviewSplashText: getPreviewSplashText,
                getPopupFilterCustomTemplate: getPopupFilterCustomTemplate,
                hasAggregateFormats: hasAggregateFormats
            };
        }
    ]);
});
izendaRequire.define("instant-report/services/instant-report-validation", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_28) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    module_definition_28.default.factory('$izendaInstantReportValidation', [
        '$q',
        '$izendaLocale',
        '$izendaInstantReportStorage',
        '$izendaInstantReportPivots',
        '$izendaInstantReportSettings',
        '$izendaCompatibility',
        function ($q, $izendaLocale, $izendaInstantReportStorage, $izendaInstantReportPivots, $izendaInstantReportSettings, $izendaCompatibility) {
            'use strict';
            var validation = {
                isValid: true,
                messages: []
            };
            var binaryFieldsArray = ['Null', 'Unknown', 'Binary', 'VarBinary', 'Text', 'Image'];
            /**
             * Is report valid getter
             * @returns {boolean}
             */
            var isReportValid = function () {
                return validation.isValid;
            };
            /**
             * Validation object getter
             * @returns {object}
             */
            var getValidation = function () {
                return validation;
            };
            /**
             * Get list of validation messages
             * @returns {Array}.
             */
            var getValidationMessages = function () {
                return validation.messages;
            };
            /**
             * Validate pivots.
             */
            var validatePivots = function () {
                var pivotColumn = $izendaInstantReportPivots.getPivotColumn();
                var pivotCells = $izendaInstantReportPivots.getCellValues();
                // check if pivot column was set:
                if (angular.isObject(pivotColumn)) {
                    if (pivotCells.length === 0) {
                        // show warning when pivot cells wasn't added.
                        validation.isValid = false;
                        validation.messages.push({
                            type: 'info',
                            text: $izendaLocale.localeText('js_AddPivotCellsWarning', 'You should add pivot cells to enable pivot view.')
                        });
                    }
                    else {
                        var havePivotCells = false;
                        angular.element.each(pivotCells, function () {
                            var pivotCell = this;
                            if (angular.isObject(pivotCell))
                                havePivotCells = true;
                        });
                        if (!havePivotCells) {
                            validation.isValid = false;
                            validation.messages.push({
                                type: 'info',
                                text: $izendaLocale.localeText('js_SpecifyPivotColumnWarning', 'You should specify column for at least one pivot cell (pivot cells without column will be ignored).')
                            });
                        }
                    }
                }
            };
            /**
             * Clear all validation messages and state
             */
            var clearValidation = function () {
                validation.isValid = true;
                validation.messages = [];
            };
            var getValidationActions = function () {
                var result = [];
                angular.element.each(validation.messages, function () {
                    var message = this;
                    if (message.additionalActionType)
                        result.push(message.additionalActionType);
                });
                return result;
            };
            /**
             * Validate report set
             * @returns {boolean} report is valid
             */
            var validateReportSet = function () {
                clearValidation();
                var pivotColumn = $izendaInstantReportPivots.getPivotColumn();
                // try to find at least one active field
                var hasActiveFields = false;
                var binaryFields = [];
                var options = $izendaInstantReportStorage.getOptions();
                var activeFields = $izendaInstantReportStorage.getAllFieldsInActiveTables();
                angular.element.each(activeFields, function () {
                    hasActiveFields = hasActiveFields || this.checked;
                    if (this.checked && binaryFieldsArray.indexOf(this.sqlType) >= 0) {
                        binaryFields.push(this);
                    }
                });
                // try to find active pivot fields
                hasActiveFields = hasActiveFields || $izendaInstantReportPivots.isPivotValid();
                // create validation result for fields
                if (!hasActiveFields && !pivotColumn) {
                    validation.isValid = false;
                    validation.messages.push({
                        type: 'info',
                        text: $izendaLocale.localeText('js_YouShouldSelectField', 'You should select at least one field to see preview.')
                    });
                }
                // stored procedure parameters validation
                if (!$izendaInstantReportStorage.isAllSpParametersAssigned()) {
                    validation.isValid = false;
                    validation.messages.push({
                        type: 'info',
                        text: $izendaLocale.localeText('js_spParameterIsRequired', 'Please specify values for your stored procedure parameters in the filters.')
                    });
                }
                // distinct validation
                if ($izendaInstantReportSettings.showDistinct && options.distinct && binaryFields.length > 0) {
                    var binaryFieldsString = binaryFields.map(function (bField) {
                        return '"' + bField.name + '" (' + bField.sqlType + ')';
                    }).join(', ');
                    validation.messages.push({
                        type: 'info',
                        additionalActionType: 'TURN_OFF_DISTINCT',
                        text: $izendaLocale.localeTextWithParams('js_ColumnsIsntCompatibleWithDistinct', 'Report contain columns: {0}. These columns are not compatable with "distinct" setting. Distinct setting was disabled!', [binaryFieldsString])
                    });
                }
                // run pivots validation
                validatePivots();
                return validation.isValid;
            };
            /**
             * Validate report set and refresh preview.
             */
            var validateReportSetAndRefresh = function (forceRefresh) {
                var validationResult = validateReportSet();
                var validationActions = getValidationActions();
                if (validationResult) {
                    // report is valid
                    if (validationActions.indexOf('TURN_OFF_DISTINCT') >= 0) {
                        $izendaInstantReportStorage.getOptions().distinct = false;
                    }
                    if (forceRefresh || !$izendaCompatibility.isSmallResolution())
                        $izendaInstantReportStorage.getReportPreviewHtml();
                }
                else {
                    // report not valid
                    $izendaInstantReportStorage.clearReportPreviewHtml();
                }
            };
            // public API
            return {
                isReportValid: isReportValid,
                getValidation: getValidation,
                getValidationMessages: getValidationMessages,
                validateReportSet: validateReportSet,
                validateReportSetAndRefresh: validateReportSetAndRefresh
            };
        }
    ]);
});
izendaRequire.define("instant-report/services/instant-report-visualization", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_29) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report chart service. Contains charts data and its functions.
     */
    module_definition_29.default.factory('$izendaInstantReportVisualization', [
        '$q',
        '$izendaInstantReportQuery',
        function ($q, $izendaInstantReportQuery) {
            'use strict';
            var _visConfig = _createDefaultConfig();
            /**
             * Create default config object
             */
            function _createDefaultConfig() {
                return {
                    categories: []
                };
            }
            /**
             * Get current config.
             */
            function getVisualizationConfig() {
                return _visConfig;
            }
            /**
             * Load visualizations. Designed as async operation for future async config loading.
             * @returns {promise object}.
             */
            function loadVisualizations() {
                _visConfig = _createDefaultConfig();
                return $q(function (resolve) {
                    // run query:
                    $izendaInstantReportQuery.getVisualizationConfig().then(function (config) {
                        if (!angular.isObject(config) || !angular.isArray(config.categories)) {
                            resolve();
                            return;
                        }
                        // set config:
                        _visConfig = config;
                        // add category name to each visualization object:
                        angular.element.each(_visConfig.categories, function () {
                            var categoryName = this.name;
                            angular.element.each(this.charts, function () {
                                this.categoryName = categoryName;
                            });
                        });
                        resolve();
                    });
                });
            }
            ;
            /**
             * Find visualization object by given name and category.
             * @param {string} category.
             * @param {string} name.
             * @returns {object} visualization object.
             */
            function findVisualization(category, name) {
                var result = null;
                angular.element.each(_visConfig.categories, function () {
                    if (this.name === category) {
                        angular.element.each(this.charts, function () {
                            if (this.name === name)
                                result = this;
                        });
                    }
                });
                return result;
            }
            ;
            // public API:
            return {
                getVisualizationConfig: getVisualizationConfig,
                loadVisualizations: loadVisualizations,
                findVisualization: findVisualization
            };
        }
    ]);
});
izendaRequire.define("instant-report/directive/instant-report-field-draggable", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_30) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Item draggable directive
     */
    module_definition_30.default.directive('izendaInstantReportFieldDraggable', ['$rootScope',
        function ($rootScope) {
            return {
                restrict: 'A',
                link: function (scope, elem, attrs) {
                    var handle = attrs.draggableHandle || false;
                    angular.element(elem)['draggable']({
                        handle: handle,
                        start: function () {
                            $rootScope.isDraggingNow = true;
                            $rootScope.$applyAsync();
                        },
                        stop: function () {
                            $rootScope.isDraggingNow = false;
                            $rootScope.$applyAsync();
                        },
                        helper: function (event) {
                            var $target = angular.element(this);
                            var $helper = $target.clone();
                            $helper.css({
                                'position': 'absolute',
                                'width': $target.width(),
                                'height': $target.height()
                            });
                            $helper.attr('draggable-data-id', $target.attr('draggable-data-id'));
                            return $helper;
                        },
                        cursorAt: { left: -10, top: -10 },
                        appendTo: 'body',
                        distance: 10,
                        cursor: 'move',
                        zIndex: 9999
                    });
                    scope.$parent.$watch(attrs.draggableEnabled, function (newEnabled) {
                        angular.element(elem)['draggable'](newEnabled ? 'enable' : 'disable');
                    });
                }
            };
        }
    ]);
    /**
     * Item droppable directive
     */
    module_definition_30.default.directive('izendaInstantReportFieldDroppable', [
        function () {
            return {
                restrict: 'A',
                scope: {
                    droppableAccept: '@',
                    onDrop: '&'
                },
                link: function (scope, elem, attrs) {
                    angular.element(elem)['droppable']({
                        accept: scope.droppableAccept,
                        activeClass: 'draggable-highlight',
                        hoverClass: 'draggable-highlight-hover',
                        tolerance: 'pointer',
                        drop: function (event, ui) {
                            if (angular.isFunction(scope.onDrop)) {
                                scope.onDrop({
                                    arg0: angular.element(ui.helper).attr('draggable-data-id')
                                });
                            }
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/directive/instant-report-left-panel-resize", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_31) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Resize left panel directive
     */
    module_definition_31.default.directive('izendaInstantReportLeftPanelResize', ['$window', '$izendaCompatibility',
        function ($window, $izendaCompatibility) {
            return {
                restrict: 'A',
                scope: {
                    leftPanelSelector: '@',
                    mainPanelSelector: '@',
                    opened: '='
                },
                link: function ($scope, elem) {
                    $scope.$izendaCompatibility = $izendaCompatibility;
                    var $elem = angular.element(elem), $left = angular.element($scope.leftPanelSelector), $main = angular.element($scope.mainPanelSelector);
                    var leftInitialized = false, mainInitialized = false;
                    // calculate width
                    function getLeftWidth() {
                        var width = $left.width();
                        var styleData = $left.attr('data-style');
                        var styleString = styleData ? styleData : $left.attr('style');
                        if (angular.isString(styleString))
                            angular.element.each(styleString.split(';'), function () {
                                if (this.trim().indexOf('width') === 0) {
                                    var widthArray = this.split(':');
                                    var widthString = widthArray[1].trim();
                                    width = parseInt(widthString.substring(0, widthString.length - 2));
                                }
                            });
                        return width;
                    }
                    // initialize jquery objects
                    function initializeElements() {
                        if (!leftInitialized) {
                            $left = angular.element($scope.leftPanelSelector);
                            leftInitialized = $left.length > 0;
                        }
                        if (!mainInitialized) {
                            $main = angular.element($scope.mainPanelSelector);
                            mainInitialized = $main.length > 0;
                        }
                    }
                    // initialize draggable
                    var windowWidth = angular.element($window).width();
                    $elem['draggable']({
                        axis: 'x',
                        zIndex: 2,
                        containment: [350, 0, Math.min(1500, windowWidth - 500), 0],
                        drag: function (event, ui) {
                            initializeElements();
                            var leftStyle = 'width: ' + ui.position.left + 'px', mainStyle = 'margin-left: ' + (ui.position.left + 4) + 'px';
                            elem.attr('data-style', 'left: ' + ui.position.left + 'px');
                            $left.attr('style', leftStyle);
                            $left.attr('data-style', leftStyle);
                            $main.attr('style', mainStyle);
                            $main.attr('data-style', mainStyle);
                        }
                    });
                    initializeElements();
                    var width = getLeftWidth();
                    var leftStyle = 'width: ' + width + 'px', mainStyle = 'margin-left: ' + (width + 4) + 'px';
                    elem.attr('style', 'width: ' + width + 'px');
                    elem.attr('data-style', 'left: ' + width + 'px');
                    $left.attr('style', leftStyle);
                    $left.attr('data-style', leftStyle);
                    $main.attr('style', mainStyle);
                    $main.attr('data-style', mainStyle);
                    // open/close left panel handler
                    $scope.$watch('opened', function (newOpened) {
                        var isMobileView = $izendaCompatibility.isSmallResolution();
                        var collapsedLeft = isMobileView ? 48 : 128;
                        initializeElements();
                        var width = getLeftWidth();
                        if (newOpened) {
                            var dataStyleLeft = $left.attr('data-style'), dataStyleMain = $main.attr('data-style'), dataStyleElem = elem.attr('data-style');
                            if (angular.isUndefined(dataStyleLeft))
                                dataStyleLeft = 'width: ' + (isMobileView ? '100%' : width + 'px');
                            if (angular.isUndefined(dataStyleMain))
                                dataStyleMain = 'margin-left: ' + (width + 4) + 'px;';
                            if (angular.isUndefined(dataStyleElem))
                                dataStyleElem = 'left: ' + width + 'px;';
                            $left.attr('style', dataStyleLeft);
                            $main.attr('style', dataStyleMain);
                            elem.attr('style', dataStyleElem);
                        }
                        else {
                            $left.attr('style', 'width: ' + collapsedLeft + 'px;');
                            $main.attr('style', 'margin-left: ' + collapsedLeft + 'px;');
                            elem.attr('style', 'left: -4px;');
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-charts-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_32) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report charts controller definition
     */
    module_definition_32.default.controller('InstantReportChartsController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$izendaUrl',
        '$izendaLocale',
        '$izendaCompatibility',
        '$izendaInstantReportStorage',
        '$izendaInstantReportVisualization',
        '$izendaInstantReportValidation',
        '$log',
        function ($rootScope, $scope, $window, $timeout, $q, $izendaUrl, $izendaLocale, $izendaCompatibility, $izendaInstantReportStorage, $izendaInstantReportVisualization, $izendaInstantReportValidation, $log) {
            'use strict';
            var vm = this;
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            $scope.$izendaInstantReportVisualization = $izendaInstantReportVisualization;
            vm.visualizationConfig = $izendaInstantReportVisualization.getVisualizationConfig();
            vm.selectedChart = null;
            /**
             * Select chart
             */
            vm.selectChart = function (chart) {
                if (vm.selectedChart === chart) {
                    vm.selectedChart = null;
                    $izendaInstantReportStorage.selectChart(null);
                    if (!$izendaCompatibility.isSmallResolution())
                        $izendaInstantReportValidation.validateReportSetAndRefresh();
                }
                else {
                    vm.selectedChart = chart;
                    $izendaInstantReportStorage.selectChart(chart);
                    if (!$izendaCompatibility.isSmallResolution())
                        $izendaInstantReportValidation.validateReportSetAndRefresh();
                }
            };
            /**
             * Prepare config
             */
            vm.prepareConfig = function () {
                if (!angular.isObject(vm.visualizationConfig))
                    return;
                if (!angular.isArray(vm.visualizationConfig.categories))
                    return;
                angular.element.each(vm.visualizationConfig.categories, function (iCategory, category) {
                    category.opened = iCategory === 0;
                });
            };
            /**
             * Open new window with chart help
             * @param {object} chart object
             */
            vm.showChartHelp = function (chart) {
                if (!angular.isObject(chart))
                    throw 'Chart parameter should be object';
                $window.open(chart.docUrl, '_blank');
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                $scope.$watch('$izendaInstantReportVisualization.getVisualizationConfig()', function (visConfig) {
                    vm.visualizationConfig = visConfig;
                    vm.prepareConfig();
                });
                $scope.$watch('$izendaInstantReportStorage.getSelectedChart()', function (chart) {
                    vm.selectedChart = chart;
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-columns-sort-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_33) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report filters controller
     */
    module_definition_33.default.controller('InstantReportColumnsSortController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocale',
        '$izendaCompatibility',
        '$izendaInstantReportStorage',
        '$izendaInstantReportValidation',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocale, $izendaCompatibility, $izendaInstantReportStorage, $izendaInstantReportValidation) {
            'use strict';
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            var vm = this;
            //vm.panelOpened = false;
            vm.activeFields = $izendaInstantReportStorage.getAllActiveFields();
            vm.columnReordered = function (fromIndex, toIndex, isVisualGroupColumn) {
                $izendaInstantReportStorage.moveFieldToPosition(fromIndex, toIndex, isVisualGroupColumn, false);
                if (!$izendaCompatibility.isSmallResolution())
                    $izendaInstantReportValidation.validateReportSetAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Initialize watches
             */
            vm.initWatchers = function () {
                $scope.$watch('$izendaInstantReportStorage.getAllActiveFields()', function (newActiveFields) {
                    vm.activeFields = newActiveFields;
                }, true);
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
            };
            vm.initWatchers();
        }
    ]);
    /**
     * Columns reorder directive
     */
    angular.module('izendaInstantReport').directive('instantReportColumnsReorder', [
        '$izendaLocale',
        '$izendaInstantReportStorage',
        function ($izendaLocale, $izendaInstantReportStorage) {
            return {
                restrict: 'EA',
                scope: {
                    ngItems: '=',
                    showSortButtons: '@',
                    onReorder: '&'
                },
                template: '<div class="izenda-reorder-header vg">' + $izendaLocale.localeText('js_VisGroupColumns', 'Visual group columns') + '</div>' +
                    '<ul class="izenda-reorder list-unstyled vg">' +
                    '<li class="izenda-reorder-item" ng-repeat="item in vgList" ng-bind="item.title">' +
                    '<span class="pull-right glyphicon glyphicon-arrow-up"></span>' +
                    '<span class="pull-right glyphicon glyphicon-arrow-down"></span>' +
                    '</li>' +
                    '</ul>' +
                    '<div class="izenda-reorder-header simple">' + $izendaLocale.localeText('js_Columns', 'Columns') + '</div>' +
                    '<ul class="izenda-reorder list-unstyled simple">' +
                    '<li class="izenda-reorder-item" ng-repeat="item in simpleList" ng-bind="item.title">' +
                    '<span class="pull-right glyphicon glyphicon-arrow-up"></span>' +
                    '<span class="pull-right glyphicon glyphicon-arrow-down"></span>' +
                    '</li>' +
                    '</ul>',
                link: function (scope, element, attrs) {
                    var $vgList = element.find('.izenda-reorder.vg'), $simpleList = element.find('.izenda-reorder.simple'), $vgListHeader = element.find('.izenda-reorder-header.vg'), $simpleListHeader = element.find('.izenda-reorder-header.simple');
                    /**
                     * Call reorder handler
                     */
                    var doReorder = function (startPosition, endPosition, isVg) {
                        if (angular.isFunction(scope.onReorder))
                            scope.onReorder({
                                arg0: startPosition,
                                arg1: endPosition,
                                arg2: isVg
                            });
                    };
                    /**
                     * Sort handler
                     */
                    var sortUpdateHandler = function (event, ui) {
                        var $elem = ui.item, $parent = $elem.closest('.izenda-reorder');
                        var startPosition = parseInt($elem.attr('data-order'));
                        var endPosition = $elem.index();
                        // update indexes
                        $parent.children().each(function (i) {
                            angular.element(this).attr('data-order', i);
                        });
                        doReorder(startPosition, endPosition, $parent.hasClass('vg'));
                    };
                    /**
                     * Prepare data and update sortable
                     */
                    var prepare = function (items) {
                        // prepare lists
                        var vgList = [], simpleList = [];
                        if (angular.isArray(items)) {
                            for (var i = 0; i < items.length; i++) {
                                var item = items[i];
                                if (item.isVgUsed)
                                    vgList.push(item);
                                else
                                    simpleList.push(item);
                            }
                        }
                        vgList.sort(function (a, b) {
                            return a.order - b.order;
                        });
                        simpleList.sort(function (a, b) {
                            return a.order - b.order;
                        });
                        // create elements:
                        if (vgList.length > 0) {
                            $vgListHeader.show();
                            $vgList.show();
                            $vgList.empty();
                            angular.element.each(vgList, function (i) {
                                var table = $izendaInstantReportStorage.getTableById(this.parentId);
                                var $el = angular.element('<li class="izenda-reorder-item"></li>');
                                $el.attr('data-order', i);
                                $vgList.append($el);
                                var $span = angular.element('<span class="izenda-reorder-item-text"></span>');
                                $span.text(table.name + '  ' + (this.description !== '' ? this.description : this.name));
                                $el.append($span);
                                if (scope.showSortButtons) {
                                    var $arrowUp = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn1" title="' +
                                        $izendaLocale.localeText('js_MoveColumnUp', 'Move column up') + '"><span class="glyphicon glyphicon-arrow-up"></span></span>');
                                    $el.append($arrowUp);
                                    $arrowUp.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index > 0) {
                                            doReorder(index, index - 1, true);
                                        }
                                    });
                                    var $arrowDown = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn2" title="' +
                                        $izendaLocale.localeText('js_MoveColumnDown', 'Move column down') + '"><span class="glyphicon glyphicon-arrow-down"></span></span>');
                                    $el.append($arrowDown);
                                    $arrowDown.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index < vgList.length - 1) {
                                            doReorder(index, index + 1, true);
                                        }
                                    });
                                }
                            });
                            $vgList['sortable']('refresh');
                        }
                        else {
                            $vgListHeader.hide();
                            $vgList.hide();
                            $vgList.empty();
                        }
                        if (simpleList.length > 0) {
                            if (vgList.length > 0)
                                $simpleListHeader.show();
                            else
                                $simpleListHeader.hide();
                            $simpleList.show();
                            $simpleList.empty();
                            angular.element.each(simpleList, function (i) {
                                var table = $izendaInstantReportStorage.getTableById(this.parentId);
                                var $el = angular.element('<li class="izenda-reorder-item"></li>');
                                $el.attr('data-order', i);
                                $simpleList.append($el);
                                var $span = angular.element('<span class="izenda-reorder-item-text"></span>');
                                $span.text(table.name + '  ' + (this.description !== '' ? this.description : this.name));
                                $el.append($span);
                                if (scope.showSortButtons) {
                                    var $arrowUp = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn1" title="' +
                                        $izendaLocale.localeText('js_MoveColumnUp', 'Move column up') + '"><span class="glyphicon glyphicon-arrow-up"></span></span>');
                                    $el.append($arrowUp);
                                    $arrowUp.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index > 0) {
                                            doReorder(index, index - 1, false);
                                        }
                                    });
                                    var $arrowDown = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn2" title="' +
                                        $izendaLocale.localeText('js_MoveColumnDown', 'Move column down') + '"><span class="glyphicon glyphicon-arrow-down"></span></span>');
                                    $el.append($arrowDown);
                                    $arrowDown.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index < simpleList.length - 1) {
                                            doReorder(index, index + 1, false);
                                        }
                                    });
                                }
                            });
                            $simpleList['sortable']('refresh');
                        }
                        else {
                            $simpleListHeader.hide();
                            $simpleList.hide();
                            $simpleList.empty();
                        }
                    };
                    // initialize
                    $vgList['sortable']({
                        update: sortUpdateHandler,
                        axis: 'y'
                    });
                    $vgList['disableSelection']();
                    $simpleList['sortable']({
                        update: sortUpdateHandler,
                        axis: 'y'
                    });
                    $simpleList['disableSelection']();
                    prepare(scope.ngItems);
                    // watch for updates
                    scope.$watch('ngItems', function (newVal) {
                        prepare(newVal);
                    }, true);
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_34) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report controller definition
     */
    module_definition_34.default.controller('InstantReportController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$cookies',
        '$q',
        '$log',
        '$izendaUtilUiService',
        '$izendaUrl',
        '$izendaLocale',
        '$izendaSettings',
        '$izendaCompatibility',
        '$izendaScheduleService',
        '$izendaShareService',
        '$izendaInstantReportStorage',
        '$izendaInstantReportPivots',
        '$izendaInstantReportValidation',
        '$izendaInstantReportSettings',
        function ($rootScope, $scope, $window, $timeout, $cookies, $q, $log, $izendaUtilUiService, $izendaUrl, $izendaLocale, $izendaSettings, $izendaCompatibility, $izendaScheduleService, $izendaShareService, $izendaInstantReportStorage, $izendaInstantReportPivots, $izendaInstantReportValidation, $izendaInstantReportSettings) {
            'use strict';
            var vm = this;
            var UNCATEGORIZED = $izendaLocale.localeText('js_Uncategorized', 'Uncategorized');
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            $scope.$izendaInstantReportPivots = $izendaInstantReportPivots;
            $scope.$izendaInstantReportValidation = $izendaInstantReportValidation;
            $scope.$izendaUrl = $izendaUrl;
            $scope.$izendaLocale = $izendaLocale;
            $scope.$izendaCompatibility = $izendaCompatibility;
            $scope.$izendaScheduleService = $izendaScheduleService;
            $scope.$izendaShareService = $izendaShareService;
            vm.isSmallResolution = $izendaCompatibility.isSmallResolution();
            vm.isSaveReportModalOpened = false;
            vm.isLoading = true;
            vm.previewHtml = $izendaInstantReportStorage.getPreview();
            vm.reportSetOptions = {
                isVgUsed: false,
                vgStyle: null,
                sortedActiveFields: []
            };
            ;
            vm.filtersPanelOpened = $izendaInstantReportStorage.getFiltersPanelOpened();
            vm.pivotsPanelOpened = $izendaInstantReportPivots.getPivotsPanelOpened();
            vm.isValid = true;
            vm.activeField = null;
            vm.filtersCount = $izendaInstantReportStorage.getFilters().length;
            vm.pivotCellsCount = $izendaInstantReportPivots.getCellValues().length;
            vm.top = $izendaInstantReportStorage.getOptions().top;
            vm.previewTop = $izendaInstantReportStorage.getOptions().previewTop;
            vm.activeFields = $izendaInstantReportStorage.getAllActiveFields();
            vm.settings = $izendaInstantReportSettings;
            vm.reportInfo = null;
            vm.isExistingReport = false;
            vm.currentInsertColumnOrder = -1; // used for select field position for drag'n'drop fields
            // Left panel state object
            var previewPanelId = 6;
            vm.leftPanel = {
                activeItem: 0,
                previousPanelId: 0,
                opened: true
            };
            vm.exportProgress = null;
            vm.effectiveRights = $izendaCompatibility.getRights();
            _updateReportSetRightVariables();
            /**
             * Wait message header for export and print
             */
            vm.getWaitMessageHeaderText = function () {
                if (vm.exportProgress === 'export') {
                    return $izendaLocale.localeText('js_ExportingInProgress', 'Exporting in progress.');
                }
                if (vm.exportProgress === 'print') {
                    return $izendaLocale.localeText('js_PrintingInProgress', 'Printing in progress.');
                }
                return '';
            };
            /**
             * Wait message for export and print
             */
            vm.getWaitMessageText = function () {
                if (vm.exportProgress === 'export') {
                    return $izendaLocale.localeText('js_FinishExporting', 'Please wait till export is completed...');
                }
                if (vm.exportProgress === 'print') {
                    return $izendaLocale.localeText('js_FinishPrinting', 'Please finish printing before continue.');
                }
                return '';
            };
            /**
             * Set active panel
             */
            vm.setLeftPanelActiveItem = function (id) {
                vm.leftPanel.activeItem = id;
                if (id !== previewPanelId)
                    vm.leftPanel.previousPanelId = id;
                vm.leftPanel.opened = true;
            };
            /**
             * Open report designer.
             */
            vm.openReportInDesigner = function () {
                $izendaInstantReportStorage.openReportInDesigner();
            };
            /**
             * Refresh preview
             */
            vm.applyChanges = function () {
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Refresh preview for mobile devices
             */
            vm.applyChangesMobile = function () {
                if (vm.leftPanel.previousPanelId === vm.leftPanel.activeItem) {
                    vm.setLeftPanelActiveItem(6);
                    vm.updateReportSetValidationAndRefresh(true);
                    //$izendaInstantReportValidation.validateReportSetAndRefresh();
                }
                else {
                    vm.setLeftPanelActiveItem(vm.leftPanel.previousPanelId);
                    vm.leftPanel.previousPanelId = vm.leftPanel.activeItem;
                }
            };
            /**
             * Set preview value
             */
            vm.setPreviewTop = function (value) {
                $izendaInstantReportStorage.setPreviewTop(value);
                vm.applyChanges();
                vm.closeAllNavbars();
            };
            /**
             * Returns active class for panel
             */
            vm.getLeftPanelClass = function (id) {
                var result = vm.isExistingReport ? 'has-title' : '';
                if (vm.isLeftPanelBodyActive(id))
                    result += ' active';
                return result.trim();
            };
            /**
             * Get class for mobile view
             */
            vm.getMobileClass = function () {
                return vm.isSmallResolution ? ' iz-inst-mobile ' : '';
            };
            /**
             * returns true only for active panel in left panel
             */
            vm.isLeftPanelBodyActive = function (id) {
                return vm.leftPanel.activeItem === id;
            };
            /**
             * Hide/show left panel
             */
            vm.toggleLeftPanel = function () {
                vm.leftPanel.opened = !vm.leftPanel.opened;
            };
            /**
             * Get toggle left panel button title
             */
            vm.getToggleButtonTitle = function () {
                if (vm.leftPanel.opened)
                    return $izendaLocale.localeText('js_HideLeftPanel', 'Hide left panel');
                else
                    return $izendaLocale.localeText('js_ShowLeftPanel', 'Show left panel');
            };
            /**
             * Handler column drag/drop reorder
             */
            vm.columnReordered = function (fromIndex, toIndex, isVg) {
                // we need to understand that swap from <-> to doesn't take into concideration invisible fields.
                $izendaInstantReportStorage.moveFieldToPosition(fromIndex, toIndex, isVg, true);
                vm.updateReportSetValidationAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Get columns, allowed for reorder
             * @returns {number} count of columns which allowed for reorder.
             */
            vm.getAllowedColumnsForReorder = function () {
                return vm.activeFields.length;
            };
            /**
             * Column selected
             */
            vm.selectedColumn = function (field) {
                $izendaInstantReportStorage.unselectAllFields();
                field.selected = true;
                $izendaInstantReportStorage.setCurrentActiveField(field);
                $scope.$applyAsync();
            };
            /**
             * Remove column by given index
             * @param {number} index
             */
            vm.removeColumn = function (field) {
                if (!angular.isNumber(field.parentFieldId)) {
                    // if it is not multiple column for one database field.
                    $izendaInstantReportStorage.applyFieldChecked(field).then(function () {
                        var selectedField = $izendaInstantReportStorage.getCurrentActiveField();
                        if (selectedField === field)
                            $izendaInstantReportStorage.applyFieldSelected(field, false);
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                else {
                    var parentField = $izendaInstantReportStorage.getFieldById(field.parentFieldId);
                    $izendaInstantReportStorage.removeAnotherField(parentField, field);
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                }
            };
            /**
             * Open filters modal dialog
            */
            vm.openFiltersPanel = function (value) {
                $izendaInstantReportPivots.setPivotsPanelOpened(false);
                if (angular.isDefined(value)) {
                    $izendaInstantReportStorage.setFiltersPanelOpened(value);
                }
                else {
                    var opened = $izendaInstantReportStorage.getFiltersPanelOpened();
                    $izendaInstantReportStorage.setFiltersPanelOpened(!opened);
                }
            };
            /**
             * Open pivots panel
             */
            vm.openPivotsPanel = function (value) {
                $izendaInstantReportStorage.setFiltersPanelOpened(false);
                if (angular.isDefined(value)) {
                    $izendaInstantReportPivots.setPivotsPanelOpened(value);
                }
                else {
                    var opened = $izendaInstantReportPivots.getPivotsPanelOpened();
                    $izendaInstantReportPivots.setPivotsPanelOpened(!opened);
                }
            };
            /**
             * Open filters panel and add filter
             */
            vm.addFilter = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorage.getActiveTables().length === 0)
                    return;
                vm.openFiltersPanel(true);
                $izendaInstantReportStorage.createNewFilter(fieldSysName).then(function (filter) {
                    $izendaInstantReportStorage.getFilters().push(filter);
                    filter.initialized = true;
                    $izendaInstantReportValidation.validateReportSet();
                    $izendaInstantReportStorage.setFilterOperator(filter, null).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Open pivots panel and add pivot item
             */
            vm.addPivotItem = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorage.getActiveTables().length === 0)
                    return;
                vm.openPivotsPanel(true);
                var field = $izendaInstantReportStorage.getFieldBySysName(fieldSysName);
                var newItem = $izendaInstantReportStorage.createFieldObject(field.name, field.parentId, field.tableSysname, field.tableName, field.sysname, field.typeGroup, field.type, field.sqlType);
                $izendaInstantReportStorage.initializeField(newItem).then(function (f) {
                    $scope.$applyAsync();
                });
                $izendaInstantReportPivots.addPivotItem(newItem);
                $izendaInstantReportStorage.applyAutoGroups(true);
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function (forceRefresh) {
                $izendaInstantReportValidation.validateReportSetAndRefresh(forceRefresh);
            };
            /**
             * Add field to report
             */
            vm.addFieldToReport = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                var field = $izendaInstantReportStorage.getFieldBySysName(fieldSysName, true);
                if (field.checked) {
                    var anotherField = $izendaInstantReportStorage.addAnotherField(field, true);
                    $izendaInstantReportStorage.applyFieldChecked(anotherField).then(function () {
                        $izendaInstantReportStorage.updateVisualGroupFieldOrders();
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                else {
                    $izendaInstantReportStorage.unselectAllFields();
                    field.selected = true;
                    $izendaInstantReportStorage.setCurrentActiveField(field);
                    $izendaInstantReportStorage.applyFieldChecked(field).then(function () {
                        $izendaInstantReportStorage.updateVisualGroupFieldOrders();
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                // move field from last postions to selected position if it is drag-n-drop:
                if (field.checked && vm.currentInsertColumnOrder >= 0) {
                    var fieldsArray = $izendaInstantReportStorage.getAllVisibleFields().slice();
                    fieldsArray = angular.element.grep(fieldsArray, function (f) {
                        return !f.isVgUsed;
                    });
                    fieldsArray.sort(function (a, b) {
                        return a.order - b.order;
                    });
                    var from = fieldsArray.length - 1;
                    var to = vm.currentInsertColumnOrder;
                    $izendaInstantReportStorage.moveFieldToPosition(from, to, false, true);
                }
                vm.currentInsertColumnOrder = -1;
            };
            /**
             * Close all navbar opened dropdowns
             */
            vm.closeAllNavbars = function () {
                var $navBar = angular.element('.iz-inst-navbar');
                $navBar.find('.navbar-nav > li.open').each(function () {
                    angular.element(this).removeClass('open');
                });
            };
            /**
             * Place dropdown to the proper position.
             */
            vm.alignNavDropdowns = function () {
                var $navbar = angular.element('.iz-inst-navbar');
                var $liList = $navbar.find('.iz-inst-nav > li.open');
                if (!$liList.length)
                    return;
                $liList.each(function () {
                    var $li = angular.element(this);
                    var liWidth = $li.width();
                    var $dropdown = $li.children('.dropdown-menu');
                    var isRightNow = $dropdown.hasClass('dropdown-menu-right');
                    var dropdownWidth = $dropdown.width();
                    var deltaLeft = $li.position().left + $dropdown.position().left;
                    var deltaRight = $navbar.width() - deltaLeft - dropdownWidth;
                    var isRightAlign = false;
                    var needToMove = false;
                    if (deltaRight < 0) {
                        isRightAlign = true;
                        needToMove = true;
                    }
                    if (deltaLeft < 0 || (isRightNow && deltaRight + liWidth > dropdownWidth + 10)) {
                        needToMove = true;
                        isRightAlign = false;
                    }
                    if (needToMove)
                        if (isRightAlign)
                            $dropdown.addClass('dropdown-menu-right');
                        else
                            $dropdown.removeClass('dropdown-menu-right');
                });
            };
            /**
             * Open navbar dropdown accordingly to its relative position to the edges of the screen.
             * @param {object} $event angular click event object.
             */
            vm.openNavBarDropdown = function ($event, doSync) {
                function openDropdown($li) {
                    vm.closeAllNavbars();
                    $li.addClass('open');
                    vm.alignNavDropdowns();
                }
                $event.stopPropagation();
                if (!vm.isValid)
                    return;
                // dropdown elements
                var $aElement = angular.element($event.currentTarget);
                var $liElement = $aElement.parent();
                var $dropdownElement = $aElement.siblings('.dropdown-menu');
                // close
                if ($liElement.hasClass('open')) {
                    $dropdownElement.removeClass('dropdown-menu-right');
                    $liElement.removeClass('open');
                    return;
                }
                // open
                if (doSync)
                    $izendaInstantReportStorage.setReportSetAsCrs(false).then(function () {
                        openDropdown($liElement);
                    });
                else
                    openDropdown($liElement);
            };
            /**
             * Save dialog closed handler.
             */
            vm.onSaveClosed = function () {
                vm.isSaveReportModalOpened = false;
            };
            /**
             * Report name/category selected. Save report handler.
             */
            vm.onSave = function (reportName, categoryName) {
                _saveReportWithGivenName(reportName, categoryName);
                vm.isSaveReportModalOpened = false;
            };
            /**
             * Save report
             */
            vm.saveReport = function (forceRename) {
                vm.isSaveReportModalOpened = false;
                var rs = $izendaInstantReportStorage.getReportSet();
                var needToRename = forceRename || !rs.reportName;
                if (needToRename) {
                    vm.isSaveReportModalOpened = true;
                }
                else {
                    _saveReportWithGivenName(rs.reportName, rs.reportCategory);
                }
                vm.closeAllNavbars();
            };
            /**
             * Print report buttons handler.
             */
            vm.printReport = function (printType) {
                vm.exportProgress = 'print';
                $timeout(function () {
                    $izendaInstantReportStorage.printReport(printType).then(function (results) {
                        if (!results.success) {
                            var reportSet = $izendaInstantReportStorage.getReportSet();
                            var rsReportName = reportSet.reportName;
                            // show message
                            $izendaUtilUiService.showErrorDialog($izendaLocale.localeTextWithParams('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.', [rsReportName, results.message]), $izendaLocale.localeText('js_FailedPrintReportTitle', 'Report print error'));
                        }
                        vm.exportProgress = null;
                    });
                    $scope.$applyAsync();
                }, 500);
                vm.closeAllNavbars();
            };
            var exportReportInternal = function (exportType) {
                vm.exportProgress = 'export';
                $izendaInstantReportStorage.exportReport(exportType).then(function (results) {
                    if (!results.success) {
                        var reportSet = $izendaInstantReportStorage.getReportSet();
                        var rsReportName = reportSet.reportName;
                        // show error dialog
                        $izendaUtilUiService.showErrorDialog($izendaLocale.localeTextWithParams('js_FailedExportReport', 'Failed to export report "{0}". Error description: {1}.', [rsReportName, results.message]), $izendaLocale.localeText('js_FailedExportReportTitle', 'Report export error'));
                    }
                    vm.exportProgress = null;
                });
            };
            var showCsvBulkUnsupportedFormatWarning = function (exportType) {
                var message = $izendaLocale.localeText('js_CsvBulkUnsupportFormatsWarning', 'Csv(bulk) export does not support following formats: percent of group, percent of group (with rounding), gauge, gauge (variable), dash gauge. Default format will be applied instead of them.');
                var checkboxes = [
                    {
                        label: $izendaLocale.localeText('js_DoNotShowThisDialogAgain', 'Do not show this dialog again'),
                        checked: false
                    }
                ];
                var warningArgs = {
                    title: $izendaLocale.localeText('js_Warning', 'Warning'),
                    message: message,
                    buttons: [
                        {
                            text: $izendaLocale.localeText('js_Ok', 'Ok'),
                            callback: function (checkboxes) {
                                if (checkboxes && checkboxes.length > 0) {
                                    var doNotShowAgain = checkboxes[0];
                                    if (doNotShowAgain && doNotShowAgain.checked) {
                                        var date = new Date;
                                        date.setDate(date.getDate() + 365);
                                        var cookieOptions = { expires: date };
                                        $cookies.put("izendaHideCsvBulkUnsupportedFormatWarning", true, cookieOptions);
                                    }
                                }
                                exportReportInternal(exportType);
                            }
                        },
                        { text: $izendaLocale.localeText('js_Cancel', 'Cancel') }
                    ],
                    checkboxes: checkboxes,
                    alertInfo: 'warning'
                };
                $izendaUtilUiService.showDialogBox(warningArgs);
            };
            var isCsvBulkWithUnsupportedFormat = function (exportType) {
                var isCsvBulk = exportType === 'csv' && $izendaSettings.getBulkCsv();
                if (!isCsvBulk)
                    return false;
                var hasAggregateFormats = $izendaInstantReportStorage.hasAggregateFormats();
                return hasAggregateFormats;
            };
            /**
             * Export report buttons handler
             */
            vm.exportReport = function (exportType) {
                var hideCsvWarning = $cookies.get("izendaHideCsvBulkUnsupportedFormatWarning");
                if (isCsvBulkWithUnsupportedFormat(exportType) && !hideCsvWarning) {
                    showCsvBulkUnsupportedFormatWarning(exportType);
                    return;
                }
                exportReportInternal(exportType);
                vm.closeAllNavbars();
            };
            /**
             * on-page-click report preview handler. Raises when user clicks on paging controls in preview.
             */
            vm.onPagingClick = function (pagingControlType, pageRange) {
                var rs = $izendaInstantReportStorage.getReportSet();
                rs.options.rowsRange = pageRange;
                $izendaInstantReportValidation.validateReportSetAndRefresh();
            };
            /**
             * Send report link via email
             */
            vm.sendReportLinkEmail = function () {
                $izendaInstantReportStorage.sendReportLinkEmail();
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
                var applyReportInfo = function (reportInfo) {
                    if (!angular.isObject(reportInfo)) {
                        vm.isExistingReport = false;
                        vm.reportInfo = null;
                        return;
                    }
                    if (angular.isString(reportInfo.fullName) && reportInfo.fullName.trim() !== '') {
                        // if location contains report name: load it
                        $izendaInstantReportStorage.loadReport(reportInfo.fullName).then(function () {
                            vm.isExistingReport = true;
                            vm.reportInfo = reportInfo;
                            $scope.$applyAsync();
                        });
                    }
                    else {
                        $izendaInstantReportStorage.newReport().then(function () {
                            vm.isExistingReport = false;
                            vm.reportInfo = reportInfo;
                            $scope.$applyAsync();
                        });
                    }
                };
                $scope.$watch('$izendaCompatibility.isSmallResolution()', function (value, prevValue) {
                    vm.isSmallResolution = value;
                    if (prevValue && !value) {
                        // small -> normal
                        vm.setLeftPanelActiveItem(0);
                    }
                });
                $scope.$watch('$izendaCompatibility.getRights()', function (value, prevValue) {
                    if (value === prevValue)
                        return;
                    vm.effectiveRights = value;
                    _updateReportSetRightVariables();
                });
                //
                $scope.$on('changeVisualizationProperties', function (event, args) {
                    $izendaInstantReportStorage.getReportSet().charts[0].properties = args[0];
                });
                // look for location change
                $scope.$watch('$izendaUrl.getReportInfo()', function (reportInfo) {
                    applyReportInfo(reportInfo);
                });
                /**
                 * Listen for complete loading page.
                 */
                $scope.$watch('$izendaInstantReportStorage.getPageReady()', function (isPageReady) {
                    if (isPageReady) {
                        vm.isLoading = false;
                        vm.updateReportSetValidationAndRefresh();
                    }
                });
                // Look for preview change
                $scope.$watch('$izendaInstantReportStorage.getPreview()', function (previewHtml) {
                    // prepare options:
                    var options = $izendaInstantReportStorage.getOptions();
                    vm.reportSetOptions = {
                        isVgUsed: false,
                        vgStyle: options.page.vgStyle,
                        sortedActiveFields: [],
                        pivotCellsCount: vm.pivotCellsCount
                    };
                    // add active fields.
                    vm.reportSetOptions.sortedActiveFields = $izendaInstantReportStorage.getAllVisibleFields();
                    vm.reportSetOptions.sortedActiveFields.sort(function (a, b) {
                        return a.order - b.order;
                    });
                    angular.element.each(vm.reportSetOptions.sortedActiveFields, function () {
                        if (this.isVgUsed)
                            vm.reportSetOptions.isVgUsed = true;
                    });
                    // set preview html
                    vm.previewHtml = previewHtml;
                });
                $scope.$watch('$izendaInstantReportStorage.getFiltersPanelOpened()', function (opened) {
                    vm.filtersPanelOpened = opened;
                });
                $scope.$watch('$izendaInstantReportPivots.getPivotsPanelOpened()', function (opened) {
                    vm.pivotsPanelOpened = opened;
                });
                $scope.$watch('$izendaInstantReportStorage.getCurrentActiveField()', function (field) {
                    vm.activeField = field;
                });
                $scope.$watch('$izendaInstantReportStorage.getOptions().top', function (top) {
                    vm.top = top;
                });
                $scope.$watch('$izendaInstantReportStorage.getOptions().previewTop', function (top) {
                    vm.previewTop = top;
                });
                $scope.$watchCollection('$izendaInstantReportStorage.getFilters()', function (filters) {
                    vm.filtersCount = filters.length;
                });
                $scope.$watchCollection('$izendaInstantReportPivots.getCellValues()', function (cellValues) {
                    vm.pivotCellsCount = cellValues.length;
                });
                $scope.$watchCollection('$izendaInstantReportStorage.getAllActiveFields()', function (activeFields) {
                    vm.activeFields = activeFields;
                });
                $scope.$watch('$izendaInstantReportStorage.getPreviewSplashVisible()', function (visible) {
                    vm.reportLoadingIndicatorIsVisible = visible;
                });
                // listen for validation state change.
                $scope.$watch('$izendaInstantReportValidation.isReportValid()', function (isValid) {
                    vm.isValid = isValid;
                });
                /**
                 * Report name selected handler
                 */
                $scope.$on('selectedNewReportNameEvent', function (event, args) {
                    if (!angular.isArray(args) || args.length !== 2)
                        throw 'Array with 2 elements expected';
                    var name = args[0], category = args[1];
                    _saveReportWithGivenName(name, category);
                });
                // todo: move that javascript to special directive in future, because DOM manipulations in controller is bad practice:
                var $root = angular.element('.iz-inst-root');
                angular.element(window).resize(function () {
                    vm.alignNavDropdowns();
                    $root.height(angular.element(window).height() - $root.offset().top - 30);
                });
                $root.height(angular.element(window).height() - $root.offset().top - 30);
                // left panel resize sensor
                var $panel = angular.element('.iz-inst-left-panel');
                if ($panel.length)
                    resizeSensor($panel.get(0), function () {
                        vm.alignNavDropdowns();
                    });
            };
            function _updateReportSetRightVariables() {
                vm.rights = {};
                vm.rights.isFiltersEditAllowed = $izendaCompatibility.isFiltersEditAllowed();
                vm.rights.isFullAccess = $izendaCompatibility.isFullAccess();
                vm.rights.isEditAllowed = $izendaCompatibility.isEditAllowed();
                vm.rights.isSaveAsAllowed = $izendaCompatibility.isSaveAsAllowed();
                vm.rights.isSaveAllowed = $izendaCompatibility.isSaveAllowed();
            }
            /**
             * Save report with selected name
             */
            function _saveReportWithGivenName(reportName, reportCategory) {
                var category = reportCategory;
                if (!angular.isString(category) || category.toLowerCase() === UNCATEGORIZED.toLowerCase())
                    category = '';
                var rsReportName = reportName;
                if (angular.isString(reportCategory) && reportCategory !== '')
                    rsReportName = reportCategory + $izendaSettings.getCategoryCharacter() + rsReportName;
                var savePromise;
                if (angular.isString(reportName) && reportName !== '') {
                    savePromise = $izendaInstantReportStorage.saveReportSet(reportName, category);
                }
                else {
                    savePromise = $izendaInstantReportStorage.saveReportSet();
                }
                savePromise.then(function () {
                    var notificationMessage = $izendaLocale.localeTextWithParams('js_ReportSaved', 'Report "{0}" sucessfully saved.', [rsReportName]);
                    $izendaUtilUiService.showNotification(notificationMessage);
                }, function (error) {
                    var errorTitle = $izendaLocale.localeText('js_FailedSaveReportTitle', 'Report save error');
                    var errorMessage = $izendaLocale.localeTextWithParams('js_FailedSaveReport', 'Failed to save report "{0}". Error description: {1}', [rsReportName, error]);
                    $izendaUtilUiService.showErrorDialog(errorMessage, errorTitle);
                });
            }
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-data-source-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_35) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report data sources controller definition
     */
    module_definition_35.default.controller('InstantReportDataSourceController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$log',
        '$sce',
        '$anchorScroll',
        '$izendaUrl',
        '$izendaLocale',
        '$izendaCompatibility',
        '$izendaInstantReportQuery',
        '$izendaInstantReportPivots',
        '$izendaInstantReportValidation',
        '$izendaInstantReportStorage',
        '$izendaInstantReportSettings',
        function ($rootScope, $scope, $window, $timeout, $q, $log, $sce, $anchorScroll, $izendaUrl, $izendaLocale, $izendaCompatibility, $izendaInstantReportQuery, $izendaInstantReportPivots, $izendaInstantReportValidation, $izendaInstantReportStorage, $izendaInstantReportSettings) {
            'use strict';
            var vm = this;
            var angularJq$ = angular.element;
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            $scope.$izendaCompatibility = $izendaCompatibility;
            $scope.$izendaUrl = $izendaUrl;
            $scope.$izendaInstantReportSettings = $izendaInstantReportSettings;
            $scope.trustAsHtml = function (value) {
                return $sce.trustAsHtml(value);
            };
            vm.searchString = '';
            vm.dataSources = null;
            vm.isDataSourcesLoading = true;
            vm.searchResults = [];
            var previousResultsCount = null;
            vm.searchPanelOpened = false;
            vm.options = $izendaInstantReportStorage.getOptions();
            vm.columnSortPanelOpened = false;
            vm.columnSortPanelButtonEnabled = false;
            var searchState = {
                timeoutId: null,
                changing: false
            };
            var collapseState = {
                started: false
            };
            /**
             * Collapse animation completed handler.
             */
            vm.collapseCompleted = function (collapsed) {
                collapseState.started = false;
                $scope.$applyAsync();
            };
            /**
             * Toggle opened/collapsed state.
             */
            vm.toggleItemCollapse = function (item) {
                if (!collapseState.started) {
                    collapseState.started = true;
                    item.collapsed = !item.collapsed;
                }
            };
            /**
             * Turn off search panel and reset it to default state.
             * @param {boolean} resetSearchResults. Clear search string and results.
             */
            vm.turnOffSearch = function (resetSearchResults) {
                vm.searchPanelOpened = false;
                if (resetSearchResults) {
                    angular.element('#izInstDataSourcesTree').get(0).scrollTop = 0;
                    vm.searchString = '';
                    vm.searchResults = [];
                    previousResultsCount = null;
                }
            };
            /**
             * Run search query.
             */
            vm.runSearchQuery = function (clearResults) {
                if (vm.searchQueryRunning)
                    return;
                if (!angular.isString(vm.searchString) || vm.searchString.trim() === '') {
                    vm.searchPanelOpened = false;
                    vm.searchQueryRunning = false;
                    return;
                }
                vm.searchQueryRunning = true;
                var count = 50;
                if (clearResults) {
                    vm.searchResults = [];
                    previousResultsCount = null;
                    angular.element('#izInstDataSourcesTree').get(0).scrollTop = 0;
                }
                if (previousResultsCount === 0) {
                    vm.searchQueryRunning = false;
                    return;
                }
                $izendaInstantReportStorage.searchInDataDources(vm.searchString, vm.searchResults.length, vm.searchResults.length + count - 1).then(function (searchResults) {
                    previousResultsCount = searchResults.length;
                    angular.element.each(searchResults, function () {
                        vm.searchResults.push(this);
                    });
                    vm.searchPanelOpened = true;
                    $scope.$applyAsync();
                    vm.searchQueryRunning = false;
                });
            };
            /**
             * Get filtered datasources
             */
            vm.searchInDataDources = function () {
                if ($izendaCompatibility.isSmallResolution())
                    return;
                if (searchState.timeoutId !== null)
                    $timeout.cancel(searchState.timeoutId);
                searchState.timeoutId = $timeout(function () {
                    vm.runSearchQuery(true);
                }, 500);
            };
            /**
             * Get classes for category/table folder icons
             */
            vm.getFolderClass = function (item) {
                var css = '';
                if (!item.collapsed) {
                    css += ' open';
                }
                if (item.active) {
                    css += ' active';
                }
                return css.trim();
            };
            /**
             * Get classes for category/table labels
             */
            vm.getFolderLabelClass = function (item) {
                var css = '';
                if (item.active) {
                    css += ' active';
                }
                if (item.highlight) {
                    css += ' highlight';
                }
                if (!item.enabled) {
                    css += ' disabled';
                }
                if (item.selected) {
                    css += ' selected';
                }
                return css.trim();
            };
            vm.getFieldClass = function (item) {
                var css = '';
                if (item.checked) {
                    css += ' checked';
                }
                if (item.highlight) {
                    css += ' highlight';
                }
                if (!item.enabled) {
                    css += ' disabled';
                }
                return css.trim();
            };
            vm.getFieldTextClass = function (item) {
                var css = '';
                if (item.selected) {
                    css += ' selected';
                }
                return css.trim();
            };
            vm.getFieldCheckClass = function (item, ignoreFolderIcon) {
                if (!ignoreFolderIcon && item.isMultipleColumns) {
                    if (!item.collapsed)
                        return 'glyphicon-chevron-down';
                    return 'glyphicon-chevron-right';
                }
                var css = '';
                if (item.checked) {
                    css += ' glyphicon-check';
                }
                else {
                    css += ' glyphicon-unchecked';
                }
                return css.trim();
            };
            /**
             * Check if field have group
             */
            vm.isFieldGrouped = function (field) {
                return field.checked && $izendaInstantReportStorage.isFieldGrouped(field);
            };
            /**
             * Toggle table collapsed
             * @param {object} table. Toggling table object
             */
            vm.toggleTableCollapse = function (table) {
                return $q(function (resolve) {
                    table.collapsed = !table.collapsed;
                    // if table is lazy - load fields.
                    if (table.lazy) {
                        $izendaInstantReportStorage.loadLazyFields(table).then(function () {
                            $scope.$applyAsync();
                            resolve(table);
                        });
                    }
                    else {
                        resolve(table);
                    }
                });
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function () {
                $izendaInstantReportValidation.validateReportSetAndRefresh();
            };
            /**
             * Check/uncheck field.
             */
            vm.toggleFieldChecked = function (field) {
                if (!field)
                    return;
                var needToCheck = !field.checked;
                var pivotsEnabled = $izendaInstantReportPivots.isPivotValid();
                $izendaInstantReportStorage.applyFieldChecked(field, needToCheck, pivotsEnabled).then(function () {
                    $izendaInstantReportStorage.updateVisualGroupFieldOrders();
                    // turn on autogroup if pivots are turned on
                    if (pivotsEnabled && needToCheck) {
                        $izendaInstantReportStorage.applyAutoGroups(true);
                    }
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            vm.getFieldTooltip = function (field) {
                if (!field.checked)
                    return $izendaLocale.localeText('js_ToggleReportField', 'Toggle report field');
                else if (!field.selected)
                    return $izendaLocale.localeText('js_SelectReportField', 'Select report field');
                else
                    return '';
            };
            /**
             * Check/uncheck field handler
             */
            vm.checkField = function (field, allowUncheck) {
                if (field.isMultipleColumns) {
                    vm.toggleItemCollapse(field);
                    return;
                }
                vm.selectField(field);
                // exit if field checked but we not allowed to uncheck
                if (field.checked && !allowUncheck)
                    return;
                if (!$izendaCompatibility.isSmallResolution()) {
                    // check field occurs in selectField function
                    vm.toggleFieldChecked(field);
                }
            };
            /**
             * Activate/deactivate table
             */
            vm.activateTable = function (table) {
                $izendaInstantReportStorage.applyTableActive(table).then(function () {
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            /**
             * Show field options
             */
            vm.selectField = function (field) {
                if ($izendaCompatibility.isSmallResolution()) {
                    vm.toggleFieldChecked(field);
                }
                else {
                    $izendaInstantReportStorage.applyFieldSelected(field, true);
                }
            };
            /**
             * Show field options button
             */
            vm.showFieldOptions = function (field) {
                $izendaInstantReportStorage.applyFieldSelected(field, true);
                if ($izendaCompatibility.isSmallResolution()) {
                    $scope.irController.setLeftPanelActiveItem(7);
                }
            };
            /**
             * Is all tables collapsed
             */
            vm.isTablesCollapsed = function (category) {
                var result = true;
                angularJq$.each(category.tables, function () {
                    if (!this.collapsed)
                        result = false;
                });
                return result;
            };
            /**
             * Collapse all tables inside category
             */
            vm.collapseCategoryTables = function (category) {
                angularJq$.each(category.tables, function () {
                    this.collapsed = true;
                });
            };
            /**
             * Add more than one same fields to report
             */
            vm.addAnotherField = function (field) {
                var anotherField = $izendaInstantReportStorage.addAnotherField(field, true);
                vm.toggleFieldChecked(anotherField);
            };
            /**
             * Remove more than one same field
             */
            vm.removeAnotherField = function (field, multiField) {
                $izendaInstantReportStorage.removeAnotherField(field, multiField);
                vm.updateReportSetValidationAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Open/close column sort panel
             */
            vm.openColumnsSortPanel = function (value) {
                if (angular.isDefined(value))
                    vm.columnSortPanelOpened = value;
                else {
                    vm.columnSortPanelOpened = !vm.columnSortPanelOpened;
                }
            };
            /**
             * Go to found field or table
             * @param {object} searchResultObject. Object, with table sysname and field sysname.
             */
            vm.revealSearchResult = function (searchResultObject) {
                function gotoSearchTarget(searchResult) {
                    var isField = searchResult.hasOwnProperty('fSysName');
                    var tSysName = searchResult['tSysName'];
                    if (isField) {
                        var fieldSysName = searchResult['fSysName'];
                        var field = $izendaInstantReportStorage.getFieldBySysName(fieldSysName, true);
                        vm.selectField(field);
                        $scope.$applyAsync();
                    }
                    // scroll to element
                    $timeout(function () {
                        var tableEl = document.getElementById('anchor' + tSysName);
                        if (tableEl)
                            angular.element('#izInstDataSourcesTree').get(0).scrollTop = angular.element(tableEl).position().top;
                    }, 300);
                }
                vm.selectField(null);
                vm.turnOffSearch(true);
                $scope.$applyAsync();
                var table = $izendaInstantReportStorage.getTableBySysname(searchResultObject['tSysName']);
                if (!table.collapsed) {
                    gotoSearchTarget(searchResultObject);
                }
                else {
                    vm.toggleTableCollapse(table).then(function () {
                        gotoSearchTarget(searchResultObject);
                    });
                }
            };
            /**
            * Initialize watchers
            */
            vm.initWatchers = function () {
                $scope.$watch(angular.bind(vm, function () {
                    return this.searchString;
                }), function () {
                    vm.searchInDataDources();
                });
                /**
                 * Look for options change
                 */
                $scope.$watch('$izendaInstantReportStorage.getOptions()', function (options) {
                    vm.options = options;
                });
                /**
                 * Listen for complete loading page.
                 */
                $scope.$watch('$izendaInstantReportStorage.getPageReady()', function (isPageReady) {
                    if (isPageReady) {
                        vm.isDataSourcesLoading = false;
                    }
                });
                /**
                 * Look for datasources change
                 */
                $scope.$watch('$izendaInstantReportStorage.getDataSources()', function (datasources) {
                    vm.dataSources = datasources;
                });
                /**
                 * Look for checked fields count
                 */
                $scope.$watchCollection('$izendaInstantReportStorage.getAllActiveFields()', function (newActiveFields) {
                    vm.columnSortPanelButtonEnabled = newActiveFields.length > 1;
                });
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
            };
            // initialize with controller
            vm.initWatchers();
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-field-options-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_36) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report field options controller
     */
    module_definition_36.default.controller('InstantReportFieldOptionsController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocale',
        '$izendaCompatibility',
        '$izendaInstantReportQuery',
        '$izendaInstantReportStorage',
        '$izendaInstantReportValidation',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocale, $izendaCompatibility, $izendaInstantReportQuery, $izendaInstantReportStorage, $izendaInstantReportValidation) {
            'use strict';
            var vm = this;
            var primaryButtonClass = "izenda-common-btn-dark", activeButtonClass = "izenda-common-btn-dark active";
            $scope.$izendaLocale = $izendaLocale;
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            vm.field = null;
            vm.currentSortFunction = 'asc';
            vm.isSubtotalsEnabled = false;
            vm.drillDownStyles = $izendaInstantReportStorage.getDrillDownStyles();
            vm.subreports = $izendaInstantReportStorage.getSubreports();
            vm.expanded = false;
            vm.ddkValuesMaxAmount = -1;
            /**
             * Get class
             */
            vm.getPanelClass = function () {
                if ($izendaCompatibility.isSmallResolution())
                    return 'expanded';
                if (!angular.isObject(vm.field) || !$scope.irController.isLeftPanelBodyActive(0))
                    return 'collapsed';
                if (vm.expanded)
                    return 'expanded';
                return '';
            };
            /**
             * Get classes for validate messages icon
             */
            vm.getValidateMessageIconClass = function (message) {
                return message;
            };
            /**
             * Fires when description was set manually.
             */
            vm.onDescriptionWasSet = function () {
                $izendaInstantReportStorage.applyDescription(vm.field);
            };
            /**
             * Fires when group was selected
             */
            vm.onFunctionSelected = function () {
                if (vm.field.groupByFunction === null)
                    return;
                $izendaInstantReportStorage.onFieldFunctionApplyed(vm.field);
            };
            /**
             * Fires when typegroup was selected
             */
            vm.onTypeGroupSelected = function () {
                $izendaInstantReportStorage.onExpressionTypeGroupApplyed(vm.field);
            };
            /**
             * Fires when expression changed.
             */
            vm.onExpressionChanged = function () {
                $izendaInstantReportStorage.onExpressionApplyed(vm.field);
            };
            /**
             * Update preview
             */
            vm.applyChanges = function () {
                $izendaInstantReportValidation.validateReportSetAndRefresh();
            };
            /**
             * Toggle label justification
             */
            vm.toggleLabelJustification = function () {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var idx = itemsArray.indexOf(vm.field.labelJustification);
                if (idx < itemsArray.length - 1)
                    idx++;
                else
                    idx = 0;
                vm.field.labelJustification = itemsArray[idx];
            };
            /**
             * Toggle value justification
             */
            vm.toggleValueJustification = function () {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var idx = itemsArray.indexOf(vm.field.valueJustification);
                if (idx < itemsArray.length - 1)
                    idx++;
                else
                    idx = 0;
                vm.field.valueJustification = itemsArray[idx];
            };
            /**
             * Get sort button class
             */
            vm.getSortButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.sort !== null ? 'active' : '';
            };
            /**
             * Get sort button icon class
             */
            vm.getSortButtonGlyphClass = function () {
                return vm.currentSortFunction === 'desc' ? 'glyphicon-sort-by-alphabet-alt' : 'glyphicon-sort-by-alphabet';
            };
            /**
             * Apply field sort. Parameter should be 'asc', 'desc' or null
             */
            vm.applyFieldSort = function (sortFunction) {
                if (!angular.isDefined(sortFunction)) {
                    if (vm.field.sort === null) {
                        // enable selected sort
                        $izendaInstantReportStorage.applyFieldSort(vm.field, vm.currentSortFunction);
                    }
                    else {
                        // disable selected sort
                        $izendaInstantReportStorage.applyFieldSort(vm.field, null);
                    }
                }
                else {
                    // set and enable selected sort
                    vm.currentSortFunction = sortFunction;
                    $izendaInstantReportStorage.applyFieldSort(vm.field, vm.currentSortFunction);
                }
            };
            /**
             * Get italic button class
             */
            vm.getItalicButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.italic ? 'active' : '';
            };
            /**
             * Apply field italic.
             */
            vm.applyFieldItalic = function () {
                $izendaInstantReportStorage.applyFieldItalic(vm.field, !vm.field.italic);
            };
            /**
             * Get visible button class
             */
            vm.getVisibleButtonClass = function () {
                if (!vm.field)
                    return '';
                var classes = [];
                if (vm.field.isVgUsed)
                    classes.push('disabled');
                if (!vm.field.visible)
                    classes.push('active');
                return classes.join(' ');
            };
            /**
             * Apply field italic.
             */
            vm.applyFieldVisible = function () {
                if (vm.field.isVgUsed)
                    return;
                $izendaInstantReportStorage.applyFieldVisible(vm.field, !vm.field.visible);
                $izendaInstantReportValidation.validateReportSetAndRefresh();
            };
            /**
             * Get bold button class
             */
            vm.getBoldButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.bold ? 'active' : '';
            };
            /**
             * Apply field bold.
             */
            vm.applyFieldBold = function () {
                $izendaInstantReportStorage.applyFieldBold(vm.field, !vm.field.bold);
            };
            /**
             * Get visual group button class
             */
            vm.getVgButtonClass = function () {
                if (!vm.field)
                    return '';
                var classes = [];
                if (!vm.field.visible)
                    classes.push('disabled');
                if (vm.field.isVgUsed)
                    classes.push('active');
                return classes.join(' ');
            };
            /**
             * Apply visual group changed
             */
            vm.applyVg = function () {
                if (!vm.field.visible)
                    return;
                $izendaInstantReportStorage.applyVisualGroup(vm.field, !vm.field.isVgUsed);
            };
            /**
             * If user selects non-default subtotal function, we need to turn on subtotals.
             */
            vm.onSubtotalFunctionSelect = function () {
                var subtotalFunction = vm.field.groupBySubtotalFunction;
                if (subtotalFunction !== 'DEFAULT')
                    $izendaInstantReportStorage.getOptions().isSubtotalsEnabled = true;
            };
            /**
             * Check is subtotal group function === expression
             */
            vm.isSubtotalExpressionDisabled = function () {
                if (!angular.isObject(vm.field))
                    return true;
                if (!vm.isSubtotalsEnabled)
                    return true;
                if (!angular.isObject(vm.field.groupBySubtotalFunction))
                    return true;
                return vm.field.groupBySubtotalFunction.value !== 'EXPRESSION';
            };
            /**
            * Subreport selected handler
            */
            vm.subreportSelectedHandler = function () {
                vm.field.drillDownStyle = (vm.field.subreport) ? 'DetailLinkNewWindow' : '';
                $izendaInstantReportStorage.disableEmbeddedDrillDownStyle(vm.field);
                $scope.$applyAsync();
            };
            /**
             * Close panel
             */
            vm.closePanel = function () {
                $izendaInstantReportStorage.setCurrentActiveField(null);
            };
            /**
            * Initialize watchers
            */
            vm.initWatchers = function () {
                $scope.$watch('$izendaInstantReportStorage.getCurrentActiveField()', function (field) {
                    vm.field = field;
                    vm.expanded = false;
                    if (angular.isObject(vm.field)) {
                        $izendaInstantReportStorage.disableEmbeddedDrillDownStyle(vm.field);
                    }
                });
                $scope.$watch('$izendaInstantReportStorage.getDrillDownStyles()', function (ddStyles) {
                    vm.drillDownStyles = ddStyles;
                });
                $scope.$watch('$izendaInstantReportStorage.getExpressionTypes()', function (types) {
                    vm.expressionTypes = types;
                });
                $scope.$watch('$izendaInstantReportStorage.getSubreports()', function (subreports) {
                    vm.subreports = subreports;
                });
                $scope.$watch('$izendaInstantReportStorage.getOptions().isSubtotalsEnabled', function (isSubtotalsEnabled) {
                    vm.isSubtotalsEnabled = isSubtotalsEnabled;
                });
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
            };
            // initialize with controller
            vm.initWatchers();
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-filters-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_37) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report filters controller
     */
    module_definition_37.default.controller('InstantReportFiltersController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocale',
        '$izendaSettings',
        '$izendaCompatibility',
        '$izendaUtilUiService',
        '$izendaInstantReportQuery',
        '$izendaInstantReportStorage',
        '$izendaInstantReportValidation',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocale, $izendaSettings, $izendaCompatibility, $izendaUtilUiService, $izendaInstantReportQuery, $izendaInstantReportStorage, $izendaInstantReportValidation) {
            'use strict';
            $scope.$izendaLocale = $izendaLocale;
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            $scope.$izendaSettings = $izendaSettings;
            $scope.$izendaCompatibility = $izendaCompatibility;
            var vm = this;
            vm.panelOpened = false;
            vm.filters = [];
            vm.filterOptions = $izendaInstantReportStorage.getFilterOptions();
            vm.options = $izendaInstantReportStorage.getOptions();
            vm.activeFields = [];
            vm.currentValue = '';
            vm.dateFormat = $izendaSettings.getDateFormat();
            vm.culture = $izendaSettings.getCulture();
            /**
             * Add new filter
             */
            vm.addFilter = function (fieldSysName) {
                $izendaInstantReportStorage.createNewFilter(fieldSysName).then(function (filter) {
                    if (filter.field !== null && !filter.field.allowedInFilters) {
                        var errorTitle = $izendaLocale.localeText('js_Error', 'Error');
                        var errorText = $izendaLocale.localeText('js_FieldForbiddenForFiltering', 'This field is forbidden to use for filtering.');
                        $izendaUtilUiService.showNotification(errorText, errorTitle);
                        return;
                    }
                    $izendaInstantReportStorage.getFilters().push(filter);
                    filter.initialized = true;
                    $izendaInstantReportValidation.validateReportSet();
                    $izendaInstantReportStorage.setFilterOperator(filter, null).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Swap filter handler
             */
            vm.reorderFilters = function (index1, index2) {
                $izendaInstantReportStorage.swapFilters(index1, index2);
                var allfilters = $izendaInstantReportStorage.getFilters();
                var index = Math.min(index1, index2);
                var filter = allfilters[index];
                $izendaInstantReportStorage.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Move to filter handler
             */
            vm.moveFilterTo = function (index1, index2) {
                $izendaInstantReportStorage.moveFilterTo(index1, index2);
                var allfilters = $izendaInstantReportStorage.getFilters();
                var index = Math.min(index1, index2);
                index = index > 0 ? index - 1 : 0;
                var filter = allfilters[index];
                $izendaInstantReportStorage.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Remove filter
             */
            vm.removeFilter = function (filter) {
                var allfilters = $izendaInstantReportStorage.getFilters();
                var count = allfilters.length;
                var index = $izendaInstantReportStorage.getFilters().indexOf(filter);
                $izendaInstantReportStorage.removeFilter(filter);
                $izendaInstantReportValidation.validateReportSet();
                if (count === 0)
                    return;
                // refresh next filters after apply cascading
                var nextFilter;
                if (index === 0) {
                    nextFilter = allfilters[0];
                }
                else {
                    nextFilter = allfilters[index - 1];
                }
                $izendaInstantReportStorage.updateFieldFilterExistentValues(nextFilter).then(function () {
                    $izendaInstantReportStorage.refreshNextFiltersCascading(nextFilter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Handler when field selected
             */
            vm.onFilterFieldChange = function (filter) {
                if (!filter.initialized)
                    return;
                filter.values = [];
                filter.currentValue = '';
                $izendaInstantReportValidation.validateReportSet();
                $izendaInstantReportStorage.loadFilterFormats(filter);
                $izendaInstantReportStorage.setFilterOperator(filter).then(function () {
                    $izendaInstantReportStorage.getPopupFilterCustomTemplate(filter);
                    $izendaInstantReportStorage.updateFieldFilterExistentValues(filter, true).then(function () {
                        $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                            $scope.$applyAsync();
                        });
                    });
                });
            };
            /**
             * Prepare filter values and existing values
             */
            vm.onFilterOperatorChange = function (filter) {
                filter.values = [];
                var asyncPromise = $q(function (resolve) {
                    var operatorType = $izendaInstantReportStorage.getFieldFilterOperatorValueType(filter.operator);
                    if (operatorType === 'oneValue' || operatorType === 'oneDate') {
                        filter.values = [''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'twoValues' || operatorType === 'twoDates') {
                        filter.values = ['', ''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'Equals_TextArea') {
                        filter.currentValue = '';
                        resolve();
                        return;
                    }
                    if (operatorType === 'Equals_Autocomplete' || operatorType === 'select_multiple') {
                        filter.values = [''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'select_popup') {
                        $izendaInstantReportStorage.getPopupFilterCustomTemplate(filter).then(function () {
                            resolve();
                        });
                        return;
                    }
                    resolve();
                });
                asyncPromise.then(function () {
                    $izendaInstantReportStorage.updateFieldFilterExistentValues(filter, true).then(function () {
                        $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                            $scope.$applyAsync();
                        });
                    });
                });
            };
            /**
             * Return array of titles
             */
            vm.getExistentValuesSimpleList = function (existentValues) {
                var result = angular.element.map(existentValues, function (val) {
                    return val.text;
                });
                return result;
            };
            /**
             * Update autocomplete items while user entering some text
             * @param {object} filter
             * @param {string} autocompleteText
             * @return {angular promise}. Promise on complete
             */
            vm.updateAutoCompleteItems = function (filter, autocompleteText) {
                return $q(function (resolve) {
                    filter.possibleValue = autocompleteText;
                    $izendaInstantReportStorage.updateFieldFilterExistentValues(filter, true).then(function () {
                        filter.possibleValue = null;
                        resolve(filter.existentValues);
                    });
                });
            };
            /**
             * Prepare value for filter
             */
            vm.onCurrentValueChange = function (filter) {
                if (!filter.isFilterReady)
                    return;
                // prepare data:
                if (filter.operator.value === 'Equals_TextArea') {
                    var values = filter.currentValue.match(/^.*((\r\n|\n|\r)|$)/gm);
                    filter.values = [];
                    angular.element.each(values, function () {
                        if (this.trim() !== '' && filter.values.indexOf(this.trim()) < 0)
                            filter.values.push(this.trim());
                    });
                }
                // refresh cascading:
                $izendaInstantReportStorage.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * On filter logic change.
             */
            vm.onFilterLogicChange = function () {
                if (vm.filters.length === 0)
                    return;
                if (vm.filterOptions.filterLogic) {
                    $izendaInstantReportStorage.refreshFiltersForFilterLogic().then(function () {
                        $scope.$applyAsync();
                    });
                }
                else {
                    vm.onCurrentValueChange(vm.filters[0]);
                }
            };
            /**
             * Change value handler for custom popup filter.
             */
            vm.onPopupValueChange = function (filter, newValue) {
                filter.values = newValue.split(',');
                $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                    $scope.$applyAsync();
                });
            };
            /**
             * Get btn text for popup
             */
            vm.getPopupBtnText = function (filter) {
                if (!angular.isArray(filter.values) || filter.values.length === 0)
                    return '...';
                var labels = [];
                angular.element.each(filter.values, function () {
                    var filterValue = this;
                    angular.element.each(filter.existentValues, function () {
                        var existentValue = this;
                        if (existentValue.value === filterValue)
                            labels.push(existentValue.text);
                    });
                });
                var result = labels.join(', ');
                if (result.length > 30) {
                    result = result.substring(0, 30);
                    result += '...';
                }
                return result;
            };
            /**
             * Toggle filter value
             */
            vm.toggleValue = function (filter, value) {
                var values = filter.values;
                var index = values.indexOf(value);
                if (index >= 0)
                    values.splice(index, 1);
                else
                    values.push(value);
                $izendaInstantReportStorage.refreshNextFiltersCascading(filter).then(function () {
                    $scope.$applyAsync();
                });
            };
            /**
             * Is value in values collection in filter
             */
            vm.isValueChecked = function (filter, value) {
                var values = filter.values;
                return values.indexOf(value) >= 0;
            };
            /**
             * Get filter value type
             */
            vm.getFilterOperatorType = function (filter) {
                return $izendaInstantReportStorage.getFieldFilterOperatorValueType(filter.operator);
            };
            /**
             * Apply filters
             */
            vm.applyFilters = function () {
                $izendaInstantReportValidation.validateReportSetAndRefresh();
            };
            /**
             * Close filters panel
             */
            vm.closeFiltersPanel = function () {
                $izendaInstantReportStorage.setFiltersPanelOpened(false);
            };
            /**
             * Initialize watches
             */
            vm.initWatchers = function () {
                $scope.$watch('$izendaSettings.getDateFormat()', function (dateFormat) {
                    vm.dateFormat = dateFormat;
                }, true);
                $scope.$watch('$izendaSettings.getCulture()', function (culture) {
                    vm.culture = culture;
                });
                $scope.$watchCollection('$izendaInstantReportStorage.getFilters()', function (newFilters, oldFilters) {
                    vm.filters = newFilters;
                });
                $scope.$watch('$izendaInstantReportStorage.getFilterOptions()', function (newValue) {
                    vm.filterOptions = newValue;
                });
                $scope.$watch('$izendaInstantReportStorage.getOptions()', function (options) {
                    vm.options = options;
                });
                $scope.$watchCollection('$izendaInstantReportStorage.getAllFieldsInActiveTables(true)', function (newActiveFields) {
                    // sync collection elements:
                    // add:
                    angular.element.each(newActiveFields, function () {
                        var newActiveField = this;
                        if (!newActiveField.allowedInFilters)
                            return;
                        var found = false;
                        angular.element.each(vm.activeFields, function () {
                            if (this === newActiveField)
                                found = true;
                        });
                        if (!found)
                            vm.activeFields.push(newActiveField);
                    });
                    // remove:
                    var i = 0;
                    while (i < vm.activeFields.length) {
                        var field = vm.activeFields[i];
                        var found = false;
                        for (var j = 0; j < newActiveFields.length; j++) {
                            if (newActiveFields[j] === field)
                                found = true;
                        }
                        if (!found)
                            vm.activeFields.splice(i, 1);
                        else
                            i++;
                    }
                });
                $scope.$watch('$izendaInstantReportStorage.getFiltersPanelOpened()', function (opened) {
                    vm.panelOpened = opened;
                });
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
                vm.filters = $izendaInstantReportStorage.getFilters();
            };
            vm.initWatchers();
        }
    ]);
    /**
     * Find all opened filter popup modals and close it.
     */
    window.hideModal = function () {
        var popupModals = document.getElementsByName('filtersPopupModalDialog');
        angular.element.each(popupModals, function () {
            var $modal = angular.element(this);
            if ($modal.hasClass('modal') && $modal.hasClass('in')) {
                $modal['modal']('hide');
            }
        });
    };
    /**
     * Custom popup filter modal submit callback.
     */
    window.CC_CustomFilterPageValueReceived = function () { };
    /**
     * Override hide modal function.
     */
    window.hm = function () {
        window.hideModal();
    };
    /**
     * Directive, which used for listening custom popup filters value change.
     */
    module_definition_37.default.directive('izendaOnPopupValueChange', [
        '$interval',
        function ($interval) {
            return {
                restrict: 'A',
                scope: {
                    handler: '&izendaOnPopupValueChange'
                },
                link: function ($scope, $element, attrs) {
                    var previousValue = $element.val();
                    var intervalId = $interval(function () {
                        var newValue = $element.val();
                        if (newValue !== previousValue) {
                            $scope.handler({
                                newValue: newValue
                            });
                            previousValue = newValue;
                        }
                    }, 20);
                    // we should turn off interval on destroy input tag.
                    $scope.$on('$destroy', function handleDestroyEvent() {
                        if (intervalId) {
                            $interval.cancel(intervalId);
                            intervalId = null;
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-format-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_38) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report formatting controller definition
     */
    module_definition_38.default.controller('InstantReportFormatController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$log',
        '$izendaLocale',
        '$izendaCompatibility',
        '$izendaInstantReportStorage',
        '$izendaInstantReportSettings',
        function ($rootScope, $scope, $window, $timeout, $q, $log, $izendaLocale, $izendaCompatibility, $izendaInstantReportStorage, $izendaInstantReportSettings) {
            'use strict';
            $scope.$izendaCompatibility = $izendaCompatibility;
            var vm = this;
            vm.optGroups = {
                'headerAndFooter': {
                    opened: false
                },
                'color': {
                    opened: false
                },
                'page': {
                    opened: false
                },
                'drilldowns': {
                    opened: false
                }
            };
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            vm.options = $izendaInstantReportStorage.getOptions();
            vm.vgStyles = [];
            vm.allActiveFields = [];
            vm.drillDownFields = $izendaInstantReportStorage.getDrillDownFields();
            vm.selectedDrilldownField = null;
            vm.settings = $izendaInstantReportSettings;
            vm.ddkValuesMaxAmount = vm.settings.ddkValuesMaxAmount;
            vm.allowVirtualDataSources = vm.settings.allowVirtualDataSources;
            /**
             * Restore default color settings.
             */
            vm.restoreDefaultColors = function () {
                $izendaInstantReportStorage.restoreDefaultColors();
            };
            /**
             * Remove fields which are already in drilldown collection
             */
            vm.removeDrilldownFieldsFromAvailable = function () {
                vm.allActiveFields = angular.element.grep(vm.allActiveFields, function (f) {
                    var found = false;
                    angular.element.each(vm.drillDownFields, function () {
                        var ddField = this;
                        if (ddField.id === f.id)
                            found = true;
                    });
                    return !found;
                });
            };
            /**
             * update available collection
             */
            vm.syncAvailableCollection = function () {
                var activeTables = $izendaInstantReportStorage.getActiveTables();
                vm.allActiveFields = [];
                angular.element.each(activeTables, function () {
                    var table = this;
                    angular.element.each(table.fields, function () {
                        vm.allActiveFields.push(this);
                    });
                });
                vm.removeDrilldownFieldsFromAvailable();
            };
            /**
             * Add drilldown key
             */
            vm.addDrilldown = function () {
                if (vm.selectedDrilldownField === null)
                    return;
                if (vm.drillDownFields.length >= vm.ddkValuesMaxAmount)
                    return;
                vm.drillDownFields.push(vm.selectedDrilldownField);
                vm.syncAvailableCollection();
            };
            /**
             * Remove drilldown field
             */
            vm.removeDrilldownField = function (field) {
                var index = vm.drillDownFields.indexOf(field);
                vm.drillDownFields.splice(index, 1);
                vm.syncAvailableCollection();
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                /**
                 * Look for options change
                 */
                $scope.$watch('$izendaInstantReportStorage.getOptions()', function (options) {
                    vm.options = options;
                });
                $scope.$watch('$izendaInstantReportStorage.getVgStyles()', function (styles) {
                    vm.vgStyles = styles;
                });
                $scope.$watch('$izendaInstantReportStorage.getDrillDownFields()', function (ddFields) {
                    vm.drillDownFields = ddFields;
                    vm.syncAvailableCollection();
                });
                $scope.$watchCollection('$izendaInstantReportStorage.getActiveTables()', function () {
                    vm.syncAvailableCollection();
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-pivot-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_39) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    module_definition_39.default.controller('InstantReportPivotsController', [
        '$rootScope',
        '$scope',
        '$izendaLocale',
        '$izendaCompatibility',
        '$izendaInstantReportStorage',
        '$izendaInstantReportPivots',
        '$izendaInstantReportValidation',
        function ($rootScope, $scope, $izendaLocale, $izendaCompatibility, $izendaInstantReportStorage, $izendaInstantReportPivots, $izendaInstantReportValidation) {
            var vm = this;
            $scope.$izendaInstantReportPivots = $izendaInstantReportPivots;
            $scope.$izendaInstantReportStorage = $izendaInstantReportStorage;
            vm.panelOpened = false; // pivot panel state
            vm.activeFields = $izendaInstantReportStorage.getAllFieldsInActiveTables(true);
            vm.pivotColumn = $izendaInstantReportPivots.getPivotColumn();
            vm.pivotOptions = $izendaInstantReportPivots.getPivotOptions();
            vm.cellValues = $izendaInstantReportPivots.getCellValues();
            vm.selectedFields = [];
            var updateSelectedFieldsArray = function () {
                vm.selectedFields = [];
                vm.cellValues.forEach(function (cellValue) {
                    if (cellValue)
                        vm.selectedFields.push($izendaInstantReportStorage.getFieldBySysName(cellValue.sysname));
                });
            };
            updateSelectedFieldsArray();
            ////////////////////////////
            // pivot column
            ////////////////////////////
            /**
             * Get additional class for "add cell value" button.
             * @returns {string} class names 'class1 class2 ...'.
             */
            vm.getAddCellBtnClass = function () {
                if (!vm.pivotColumn)
                    return 'disabled';
                var result = false;
                angular.element.each(vm.cellValues, function (iValue, value) {
                    if (!value)
                        result = true;
                });
                return result ? 'disabled' : '';
            };
            /**
             * Update validation
             */
            vm.updateValidation = function () {
                $izendaInstantReportValidation.validateReportSet();
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function () {
                $izendaInstantReportPivots.setDefaultGroup();
                $izendaInstantReportStorage.clearReportPreviewHtml();
                $izendaInstantReportStorage.applyAutoGroups(true);
                $izendaInstantReportValidation.validateReportSetAndRefresh();
            };
            /**
             * User selected pivot column
             */
            vm.onPivotColumnFieldSelect = function () {
                if (vm.pivotColumn !== null) {
                    var sourceField = $izendaInstantReportStorage.getFieldBySysName(vm.pivotColumn.sysname);
                    var groupName = null;
                    var oldPivotColumn = $izendaInstantReportPivots.getPivotColumn();
                    if (angular.isObject(oldPivotColumn) && sourceField.sysname === oldPivotColumn.sysname) {
                        groupName = oldPivotColumn.groupByFunction.value;
                    }
                    $izendaInstantReportStorage.copyFieldObject(sourceField, vm.pivotColumn, true);
                    $izendaInstantReportStorage.resetFieldObject(vm.pivotColumn);
                    vm.pivotColumn.isPivotColumn = true;
                    $izendaInstantReportPivots.setPivotColumn(vm.pivotColumn);
                    $izendaInstantReportStorage.initializeField(vm.pivotColumn).then(function () {
                        if (groupName !== null) {
                            angular.element.each(vm.pivotColumn.groupByFunctionOptions, function () {
                                if (this.value === groupName)
                                    vm.pivotColumn.groupByFunction = this;
                            });
                        }
                        if (vm.cellValues.length === 0) {
                            vm.addCellValue();
                        }
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
            };
            ////////////////////////////
            // cell values
            ////////////////////////////
            /**
             * Cell value field select handler
             */
            vm.onCellValueFieldSelect = function (index) {
                var selectedField = vm.selectedFields[index];
                var cellValue = vm.cellValues[index];
                if (angular.isObject(cellValue) && selectedField.sysname === cellValue.sysname)
                    return;
                if (cellValue === null) {
                    // if field wasn't set yet
                    vm.cellValues[index] = cellValue = $izendaInstantReportStorage.createFieldObject(selectedField.name, selectedField.parentId, selectedField.tableSysname, selectedField.tableName, selectedField.sysname, selectedField.typeGroup, selectedField.type, selectedField.sqlType);
                }
                $izendaInstantReportStorage.copyFieldObject(selectedField, cellValue, true);
                $izendaInstantReportStorage.resetFieldObject(cellValue);
                $izendaInstantReportStorage.initializeField(cellValue).then(function (f) {
                    angular.element.each(f.groupByFunctionOptions, function () {
                        if (this.value.toLowerCase() === 'group')
                            f.groupByFunction = this;
                    });
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            /**
             * Cell value function select handler
             */
            vm.onCellValueFunctionSelect = function (cellValue) {
                if (cellValue.groupByFunction === null)
                    return;
                $izendaInstantReportStorage.onFieldFunctionApplyed(cellValue);
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Cell value
             */
            vm.showAdvancedOptions = function (cellValue) {
                cellValue.isPivotCellValue = true;
                $izendaInstantReportStorage.applyFieldSelected(cellValue, true);
            };
            /**
             * Create cell value item
             */
            vm.addCellValue = function () {
                $izendaInstantReportPivots.addCellValue();
                vm.selectedFields.push(null);
                vm.updateValidation();
            };
            vm.clearPivots = function () {
                $izendaInstantReportPivots.removePivots();
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Remove cell value
             */
            vm.removeCellValue = function (cellValue) {
                var idx = vm.cellValues.indexOf(cellValue);
                vm.selectedFields.splice(idx, 1);
                $izendaInstantReportPivots.removeCellValue(cellValue);
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Move cell value
             */
            vm.moveCellValueTo = function (fromIndex, toIndex) {
                $izendaInstantReportPivots.moveCellValueTo(fromIndex, toIndex);
                vm.selectedFields.splice(toIndex, 0, vm.selectedFields.splice(fromIndex, 1)[0]);
                $scope.$applyAsync();
            };
            /**
             * Reorder cells
             */
            vm.reorderCellValue = function (fromIndex, toIndex) {
                $izendaInstantReportPivots.swapCellValues(fromIndex, toIndex);
                var temp = vm.selectedFields[fromIndex];
                vm.selectedFields[fromIndex] = vm.selectedFields[toIndex];
                vm.selectedFields[toIndex] = temp;
                $scope.$applyAsync();
            };
            /**
             * Add pivot item
             */
            vm.addPivotItem = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorage.getActiveTables().length === 0)
                    return;
                // open panel
                $izendaInstantReportStorage.setFiltersPanelOpened(false);
                $izendaInstantReportPivots.setPivotsPanelOpened(true);
                // create and add pivot item
                var field = $izendaInstantReportStorage.getFieldBySysName(fieldSysName);
                var newItem = $izendaInstantReportStorage.createFieldObject(field.name, field.parentId, field.tableSysname, field.tableName, field.sysname, field.typeGroup, field.type, field.sqlType);
                $izendaInstantReportStorage.initializeField(newItem).then(function (f) {
                    $scope.$applyAsync();
                });
                $izendaInstantReportPivots.addPivotItem(newItem);
                $izendaInstantReportStorage.applyAutoGroups(true);
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                // pivot panel state listener
                $scope.$watch('$izendaInstantReportPivots.getPivotsPanelOpened()', function (opened) {
                    vm.panelOpened = opened;
                });
                // main pivot column
                $scope.$watch('$izendaInstantReportPivots.getPivotColumn()', function (pivotColumn) {
                    vm.pivotColumn = pivotColumn;
                });
                // pivot cell values
                $scope.$watchCollection('$izendaInstantReportPivots.getCellValues()', function (cellValues) {
                    vm.cellValues = cellValues;
                    updateSelectedFieldsArray();
                });
                $scope.$watch('$izendaInstantReportPivots.getPivotOptions()', function (pivotOptions) {
                    vm.pivotOptions = pivotOptions;
                });
                // listen for active field items
                $scope.$watchCollection('$izendaInstantReportStorage.getAllFieldsInActiveTables(true)', function (newActiveFields) {
                    // add:
                    var countOfChanges = 0;
                    angular.element.each(newActiveFields, function () {
                        var newActiveField = this;
                        var found = false;
                        angular.element.each(vm.activeFields, function () {
                            if (this.sysname === newActiveField.sysname)
                                found = true;
                        });
                        if (!found) {
                            vm.activeFields.push(newActiveField);
                            countOfChanges++;
                        }
                    });
                    // remove:
                    var i = 0;
                    while (i < vm.activeFields.length) {
                        var field = vm.activeFields[i];
                        var found = false;
                        for (var j = 0; j < newActiveFields.length; j++) {
                            if (newActiveFields[j].sysname === field.sysname)
                                found = true;
                        }
                        if (!found) {
                            vm.activeFields.splice(i, 1);
                            countOfChanges++;
                        }
                        else
                            i++;
                    }
                    $izendaInstantReportPivots.syncPivotState(vm.activeFields);
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-validation-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_40) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report validation controller.
     */
    module_definition_40.default.controller('InstantReportValidationController', [
        '$rootScope',
        '$scope',
        '$izendaLocale',
        '$izendaInstantReportValidation',
        function ($rootScope, $scope, $izendaLocale, $izendaInstantReportValidation) {
            'use strict';
            var vm = this;
            $scope.$izendaInstantReportValidation = $izendaInstantReportValidation;
            vm.isValid = true;
            vm.messages = [];
            vm.infoMessages = [];
            /**
            * Initialize controller
            */
            vm.init = function () {
                $scope.$watch('$izendaInstantReportValidation.getValidationMessages()', function (messages) {
                    vm.isValid = $izendaInstantReportValidation.isReportValid();
                    vm.messages = [];
                    vm.infoMessages = [];
                    angular.element.each(messages, function () {
                        var message = this;
                        if (message.type === 'info') {
                            vm.infoMessages.push(message);
                        }
                        else {
                            vm.messages.push(message);
                        }
                    });
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/module", ["require", "exports", "izenda-external-libs", "instant-report/services/instant-report-pivot", "instant-report/services/instant-report-query", "instant-report/services/instant-report-settings", "instant-report/services/instant-report-storage", "instant-report/services/instant-report-validation", "instant-report/services/instant-report-visualization", "instant-report/directive/instant-report-field-draggable", "instant-report/directive/instant-report-left-panel-resize", "instant-report/controllers/instant-report-charts-controller", "instant-report/controllers/instant-report-columns-sort-controller", "instant-report/controllers/instant-report-controller", "instant-report/controllers/instant-report-data-source-controller", "instant-report/controllers/instant-report-field-options-controller", "instant-report/controllers/instant-report-filters-controller", "instant-report/controllers/instant-report-format-controller", "instant-report/controllers/instant-report-pivot-controller", "instant-report/controllers/instant-report-validation-controller"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("common/core/models/filters-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Server-side filters object raw model.
     */
    var IzendaFiltersModel = /** @class */ (function () {
        function IzendaFiltersModel() {
            this.filterLogic = '';
            this.filters = [];
            this.subreportsFilters = null;
        }
        IzendaFiltersModel.prototype.fromJson = function (json) {
            this.filterLogic = json.FilterLogic || '';
            this.filters = json.Filters || [];
            this.subreportsFilters = json.SubreportsFilters || null;
        };
        IzendaFiltersModel.prototype.toJson = function () {
            return {
                FilterLogic: this.filterLogic,
                Filters: this.filters,
                SubreportFilters: this.subreportsFilters
            };
        };
        return IzendaFiltersModel;
    }());
    exports.IzendaFiltersModel = IzendaFiltersModel;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvbXNpZS1kZXRlY3QudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC1tb2RhbC50cyIsImNvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eS50cyIsImNvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL2RpYWxvZy1ib3gvZGlhbG9nLWJveC1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50LnRzIiwiY29tbW9uL2NvcmUvbW9kdWxlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS50cyIsImNvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbC50cyIsImNvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsLnRzIiwiY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZS50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3JlcG9ydC12aWV3ZXIudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcy50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbi50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3N3aXRjaGVyLnRzIiwiY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbi50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NlbGVjdC1yZXBvcnQvc2VsZWN0LXJlcG9ydC1jb21wb25lbnQudHMiLCJjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9tb2R1bGUudHMiLCJpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImluc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXBpdm90LnRzIiwiaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcXVlcnkudHMiLCJpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zZXR0aW5ncy50cyIsImluc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXN0b3JhZ2UudHMiLCJpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uLnRzIiwiaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtdmlzdWFsaXphdGlvbi50cyIsImluc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1maWVsZC1kcmFnZ2FibGUudHMiLCJpbnN0YW50LXJlcG9ydC9kaXJlY3RpdmUvaW5zdGFudC1yZXBvcnQtbGVmdC1wYW5lbC1yZXNpemUudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1jaGFydHMtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWNvbHVtbnMtc29ydC1jb250cm9sbGVyLnRzIiwiaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWRhdGEtc291cmNlLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWVsZC1vcHRpb25zLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWx0ZXJzLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1mb3JtYXQtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LXBpdm90LWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uLWNvbnRyb2xsZXIudHMiLCJjb21tb24vY29yZS9tb2RlbHMvZmlsdGVycy1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwudHMiLCJpbnN0YW50LXJlcG9ydC9tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0lBRUEsMkNBQTJDO0lBQzNDLElBQU0sZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdEUsa0JBQWUsZ0JBQWdCLENBQUM7Ozs7O0lDSmhDO1FBQUE7UUEwQkEsQ0FBQztRQXpCTyw4QkFBbUIsR0FBMUIsVUFBMkIsT0FBZSxFQUFFLFVBQWtCO1lBQzdELElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDO1lBQzdCLElBQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdEMsSUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQztZQUN6QyxJQUFJLE9BQU8sRUFBRTtnQkFDWixpQkFBaUIsSUFBSSxNQUFJLE9BQVMsQ0FBQztnQkFDbkMsSUFBSSxVQUFVLEVBQUU7b0JBQ2YsaUJBQWlCLEdBQU0sVUFBVSxTQUFJLGlCQUFtQixDQUFDO2lCQUN6RDthQUNEO1lBQ0QsQ0FBQyxDQUFDLFNBQVMsR0FBRyxhQUFXLGlCQUFpQiwwQ0FBcUMsQ0FBQztZQUNoRixPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLElBQU0sVUFBVSxHQUFHLENB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LENBQUM7UUFFRCxtQ0FBTSxHQUFOO1lBQ0MsT0FBTztnQkFDTixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7Z0JBQzdCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztnQkFDckIsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjthQUN4QyxDQUFDO1FBQ0gsQ0FBQztRQUNGLHlCQUFDO0lBQUQsQ0FuQkEsQUFtQkMsSUFBQTtJQW5CWSxnREFBa0IiLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuXHJcbi8vIGNyZWF0ZSBpemVuZGEuY29tbW9uLmNvcmUgYW5ndWxhciBtb2R1bGVcclxuY29uc3QgaXplbmRhQ29yZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGEuY29tbW9uLmNvcmUnLCBbJ3J4J10pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFDb3JlTW9kdWxlO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNc2llRGV0ZWN0IHtcclxuXHRzdGF0aWMgaXNTcGVjaWZpY0llVmVyc2lvbih2ZXJzaW9uOiBudW1iZXIsIGNvbXBhcmlzb246IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGllQ29tcGFyZU9wZXJhdG9yID0gJ0lFJztcclxuXHRcdGNvbnN0IGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdCJyk7XHJcblx0XHRjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cdFx0aWYgKHZlcnNpb24pIHtcclxuXHRcdFx0aWVDb21wYXJlT3BlcmF0b3IgKz0gYCAke3ZlcnNpb259YDtcclxuXHRcdFx0aWYgKGNvbXBhcmlzb24pIHtcclxuXHRcdFx0XHRpZUNvbXBhcmVPcGVyYXRvciA9IGAke2NvbXBhcmlzb259ICR7aWVDb21wYXJlT3BlcmF0b3J9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Yi5pbm5lckhUTUwgPSBgPCEtLVtpZiAke2llQ29tcGFyZU9wZXJhdG9yfV0+PGIgaWQ9XCJpZWNjdGVzdFwiPjwvYj48IVtlbmRpZl0tLT5gO1xyXG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZChiKTtcclxuXHRcdGNvbnN0IGlzSWVSZXN1bHQgPSAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZWNjdGVzdCcpO1xyXG5cdFx0ZG9jRWxlbS5yZW1vdmVDaGlsZChiKTtcclxuXHRcdGNvbnN0IGRvY01vZGUgPSBkb2N1bWVudFsnZG9jdW1lbnRNb2RlJ107XHJcblx0XHRjb25zdCBpc0NvbXBhdGliaWxpdHlNb2RlID1cclxuXHRcdFx0KHR5cGVvZiBkb2NNb2RlICE9PSAndW5kZWZpbmVkJyAmJlxyXG5cdFx0XHRcdChcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnbHRlJyAmJiBOdW1iZXIoZG9jTW9kZSkgPD0gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnZ3RlJyAmJiBOdW1iZXIoZG9jTW9kZSkgPj0gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnbHQnICYmIE51bWJlcihkb2NNb2RlKSA8IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2d0JyAmJiBOdW1iZXIoZG9jTW9kZSkgPiB2ZXJzaW9uKSB8fFxyXG5cdFx0XHRcdFx0KGNvbXBhcmlzb24gPT09ICdlcScgJiYgTnVtYmVyKGRvY01vZGUpID09PSB2ZXJzaW9uKSkpO1xyXG5cdFx0cmV0dXJuIGlzSWVSZXN1bHQgfHwgaXNDb21wYXRpYmlsaXR5TW9kZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBNc2llRGV0ZWN0IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL21zaWUtZGV0ZWN0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0Tm9uZSA9ICdOb25lJztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0UmVhZE9ubHkgPSAnUmVhZCBPbmx5JztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0Vmlld09ubHkgPSAnVmlldyBPbmx5JztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0TG9ja2VkID0gJ0xvY2tlZCc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodEZ1bGxBY2Nlc3MgPSAnRnVsbCBBY2Nlc3MnO1xyXG5cdHByaXZhdGUgY3VycmVudFJpZ2h0czogc3RyaW5nID0gdGhpcy5yaWdodE5vbmU7XHJcblx0cHJpdmF0ZSByZWFkb25seSBpZTg6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSByZWFkb25seSBsdGVJZTEwOiBib29sZWFuO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZ3RlSWU5OiBib29sZWFuO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmllOCA9IE1zaWVEZXRlY3QuaXNTcGVjaWZpY0llVmVyc2lvbig4LCAnbHRlJyk7XHJcblx0XHR0aGlzLmx0ZUllMTAgPSBNc2llRGV0ZWN0LmlzU3BlY2lmaWNJZVZlcnNpb24oMTAsICdsdGUnKTtcclxuXHRcdHRoaXMuZ3RlSWU5ID0gTXNpZURldGVjdC5pc1NwZWNpZmljSWVWZXJzaW9uKDEwLCAnZ3RlJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzSWU4KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaWU4O1xyXG5cdH1cclxuXHJcblx0aXNJZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmd0ZUllOTtcclxuXHR9XHJcblxyXG5cdGlzTHRlSWUxMCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmx0ZUllMTA7XHJcblx0fVxyXG5cclxuXHRpc0h0bWw1RnVsbFNjcmVlblN1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAhdGhpcy5sdGVJZTEwXHJcblx0XHRcdCYmIChkb2N1bWVudFsnZnVsbHNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnd2Via2l0RnVsbHNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnbW96RnVsbFNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnbXNGdWxsc2NyZWVuRW5hYmxlZCddKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHBhZ2Ugc2hvdWxkIGhhdmUgbW9iaWxlIHZpZXcuXHJcblx0ICovXHJcblx0aXNNb2JpbGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgcGFnZSB3aW5kb3cgaXMgdG9vIHNtYWxsIHRvIGZpdCBzZXZlcmFsIGNvbHVtbnMgb2YgdGlsZXMuXHJcblx0ICovXHJcblx0aXNTbWFsbFJlc29sdXRpb24oKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kd2luZG93LmlubmVyV2lkdGggPD0gOTkxO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgb25lIGNvbHVtbiB2aWV3IHJlcXVpcmVkXHJcblx0ICovXHJcblx0aXNPbmVDb2x1bW5WaWV3KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNNb2JpbGUoKSB8fCB0aGlzLmlzU21hbGxSZXNvbHV0aW9uKCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJpZ2h0cyBmb3IgY3VycmVudCBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRzZXRSaWdodHMocmlnaHRzOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuY3VycmVudFJpZ2h0cyA9IHJpZ2h0cyA/IHJpZ2h0cyA6IHRoaXMucmlnaHROb25lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgcmlnaHRzXHJcblx0ICovXHJcblx0Z2V0UmlnaHRzKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50UmlnaHRzID8gdGhpcy5jdXJyZW50UmlnaHRzIDogdGhpcy5yaWdodE5vbmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZnVsbCBhY2Nlc3MgcmlnaHQgYXMgY3VycmVudCByaWdodC5cclxuXHQgKi9cclxuXHRzZXRGdWxsQWNjZXNzKCkge1xyXG5cdFx0dGhpcy5zZXRSaWdodHModGhpcy5yaWdodEZ1bGxBY2Nlc3MpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgdGlsZSBlZGl0aW5nIGFsbG93ZWQuXHJcblx0ICovXHJcblx0aXNGdWxsQWNjZXNzKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3NdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHRpbGUgZWRpdGluZyBhbGxvd2VkLlxyXG5cdCAqL1xyXG5cdGlzRWRpdEFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2VzcywgdGhpcy5yaWdodFJlYWRPbmx5XS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc09uZUNvbHVtblZpZXcoKTtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYXMgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzU2F2ZUFzQWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzLCB0aGlzLnJpZ2h0UmVhZE9ubHldLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzU2F2ZUFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2Vzc10uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNJZTgoKTtcclxuXHRcdHJldHVybiBhbGxvd2VkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgZmlsdGVycyBlZGl0aW5nIGFsbG93ZWRcclxuXHQgKi9cclxuXHRpc0ZpbHRlcnNFZGl0QWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzLCB0aGlzLnJpZ2h0UmVhZE9ubHksIHRoaXMucmlnaHRMb2NrZWRdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckd2luZG93J107XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFDb21wYXRpYmlsaXR5JywgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFFdmVudFNlcnZpY2Uge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZXZlbnRzOiBhbnkgPSB7fTtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkbG9nOiBuZy5JTG9nU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBldmVudCB0byBxdWV1ZS4gXHJcblx0ICovXHJcblx0cXVldWVFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRBcmd1bWVudHM6IGFueVtdLCBjbGVhclF1ZXVlOiBib29sZWFuKSB7XHJcblx0XHRpZiAoIShldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHx8IGNsZWFyUXVldWUpIHtcclxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZXZlbnRSZWNvcmQgPSB7XHJcblx0XHRcdGFyZ3M6IGV2ZW50QXJndW1lbnRzXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGV2ZW50UmVjb3JkKTtcclxuXHRcdHRoaXMuJGxvZy5kZWJ1ZyhgZXZlbnQgXCIke2V2ZW50TmFtZX1cIiBxdWV1ZWRgKTtcclxuXHRcdHRoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KGV2ZW50TmFtZSwgZXZlbnRBcmd1bWVudHMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0cmlldmUgZXZlbnQgcmVjb3JkIGZyb20gcXVldWUgYW5kIHJldHVybiBpdCdzIHJlY29yZC5cclxuXHQgKi9cclxuXHRoYW5kbGVRdWV1ZWRFdmVudChldmVudE5hbWU6IHN0cmluZywgc2NvcGU6IGFueSwgZXZlbnRDb250ZXh0OiBhbnksIGV2ZW50SGFuZGxlcjogYW55KSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihldmVudEhhbmRsZXIpKVxyXG5cdFx0XHR0aHJvdyAnZXZlbnRIYW5kbGVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uJztcclxuXHRcdGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykgfHwgIWFuZ3VsYXIuaXNBcnJheSh0aGlzLmV2ZW50c1tldmVudE5hbWVdKSlcclxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cclxuXHRcdHdoaWxlICh0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y29uc3QgZXZlbnRSZWNvcmQgPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnNoaWZ0KCk7XHJcblx0XHRcdHRoaXMuJGxvZy5kZWJ1ZyhgZXZlbnQgXCIke2V2ZW50TmFtZX1cIiBydW4gZnJvbSBxdWV1ZWApO1xyXG5cdFx0XHRldmVudEhhbmRsZXIuYXBwbHkoZXZlbnRDb250ZXh0LCBldmVudFJlY29yZC5hcmdzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBzdGFydCBoYW5kbGluZyBldmVudCB1c2luZyBhbmd1bGFyIGV2ZW50cy5cclxuXHRcdGlmIChzY29wZS4kJGxpc3RlbmVycykge1xyXG5cdFx0XHRjb25zdCBldmVudEFyciA9IHNjb3BlLiQkbGlzdGVuZXJzW2V2ZW50TmFtZV07XHJcblx0XHRcdGlmIChldmVudEFycikge1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRBcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChldmVudEFycltpXSA9PT0gZXZlbnRIYW5kbGVyKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50QXJyLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRzY29wZS4kb24oZXZlbnROYW1lLCAoZXZlbnQsIGFyZ3MpID0+IHtcclxuXHRcdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHJ1biBmcm9tICRvbmApO1xyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblx0XHRcdGV2ZW50SGFuZGxlci5hcHBseShldmVudENvbnRleHQsIGFyZ3MpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciBhbGwgcXVldWVkIGV2ZW50cyAoZm9yIG1hbnVhbCAkYnJvYWRjYXN0IGhhbmRsaW5nKVxyXG5cdCAqL1xyXG5cdGNsZWFyRXZlbnRRdWV1ZShldmVudE5hbWUpIHtcclxuXHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckcm9vdFNjb3BlJywgJyRsb2cnXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUV2ZW50JywgSXplbmRhRXZlbnRTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYUV2ZW50U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuXHJcbi8qKlxyXG4gKiBMb2NhbGl6YXRpb24gc2VydmljZS4gR2V0cyBsb2NhbGl6ZWQgc3RyaW5ncyBmcm9tIHRoZSBcIkl6TG9jYWxcIiBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIHtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJekxvY2FsLkxvY2FsaXplUGFnZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGxvY2FsaXplZCB0ZXh0LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkuIExvY2FsZSBzdHJpbmcga2V5IChkZWZpbmVkIGluIHJlc291cmNlcy5hc3B4KVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0VmFsdWUuIERlZmF1bHQgdmFsdWUsIHdoZW4gbG9jYWxlIHRleHQgY291bGRuJ3QgYmUgZ290XHJcblx0ICogQHJldHVybnMge3N0cmluZ30gbG9jYWxpemVkIHRleHQuXHJcblx0ICovXHJcblx0bG9jYWxlVGV4dChrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZGVmYXVsdFRleHQgPSBhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiAnJztcclxuXHRcdHJldHVybiBJekxvY2FsLlJlcyhrZXksIGRlZmF1bHRUZXh0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFwcGx5IGxvY2FsZSBzdHJpbmcgaW4gZm9ybWF0IFwiLi4uezB9Li4uezF9Li4uXCIgYW5kIGFwcGx5IGluc3RlYWQgb2YgJ3tufScgcGFyYW1zW25dXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSB0ZXh0IGtleS4gVGhpcyBrZXkgY29udGFpbnMgaW4gcmVzb3VyY2VzLlxyXG5cdCAqIEBwYXJhbSB7c3Ryb25nfSBkZWZhdWx0VmFsdWUuIERlZmF1bHQgdmFsdWUgaWYgbG9jYWxlIHJlc291cmNlIHdhc24ndCBmb3VuZC5cclxuXHQgKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMuIEFkZGl0aW9uYWwgcGFyYW1zLlxyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9LiBMb2NhbGl6ZWQgdGV4dC4gXHJcblx0ICovXHJcblx0bG9jYWxlVGV4dFdpdGhQYXJhbXMoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBwYXJhbXM6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuXHRcdGxldCByZXN1bHQgPSB0aGlzLmxvY2FsZVRleHQoa2V5LCBkZWZhdWx0VmFsdWUpO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNBcnJheShwYXJhbXMpKVxyXG5cdFx0XHRwYXJhbXMuZm9yRWFjaCgocGFyYW0sIGlQYXJhbSkgPT5cclxuXHRcdFx0XHRyZXN1bHQgPSByZXN1bHQucmVwbGFjZUFsbChgeyR7aVBhcmFtfX1gLCBwYXJhbSkpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gW107XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFMb2NhbGUnLCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UpKTtcclxuXHRcdC8qKlxyXG5cdFx0ICogRmlsdGVyIHdoaWNoIGlzIHVzZWQgZm9yIHRoZSBhcHBseWluZyBsb2NhbGl6YXRpb24uXHJcblx0XHQgKiBTYW1wbGUgdXNhZ2U6IDxkaXYgbmctYmluZD1cIjo6ICdqc19jbG9zZScgfCBpemVuZGFMb2NhbGU6ICdDbG9zZSdcIiAvPiB3aGVyZSAnQ2xvc2UnIC0gXCJkZWZhdWx0VmFsdWVcIiBwYXJhbWV0ZXIgdmFsdWUuXHJcblx0XHQgKi9cclxuXHRcdG1vZHVsZS5maWx0ZXIoJ2l6ZW5kYUxvY2FsZScsIFtcclxuXHRcdFx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdFx0XHQoJGl6ZW5kYUxvY2FsZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiAodGV4dDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZykgPT4gJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KHRleHQsIGRlZmF1bHRWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdF0pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFV0aWxpdHkgc2VydmljZS4gUHJvdmlkZXMgdGhlIHV0aWxpdHkgZnVuY3Rpb25zLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhVXRpbFNlcnZpY2Uge1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGU6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UpIHsgfVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgaHVtYW4gcmVhZGFibGUgdmFyaWFibGUgbmFtZSB2ZXJzaW9uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dFxyXG5cdCAqL1xyXG5cdGh1bWFuaXplVmFyaWFibGVOYW1lKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcodGV4dCkpXHJcblx0XHRcdHJldHVybiB0ZXh0O1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gdGV4dFxyXG5cdFx0XHQvLyBpbnNlcnQgYSBzcGFjZSBiZXR3ZWVuIGxvd2VyICYgdXBwZXJcclxuXHRcdFx0LnJlcGxhY2UoLyhbYS16XSkoW0EtWlxcZF0pL2csICckMSAkMicpXHJcblx0XHRcdC8vIHNwYWNlIGJlZm9yZSBsYXN0IHVwcGVyIGluIGEgc2VxdWVuY2UgZm9sbG93ZWQgYnkgbG93ZXJcclxuXHRcdFx0LnJlcGxhY2UoL1xcYihbQS1aXFxkXSspKFtBLVpcXGRdKShbYS16XSkvLCAnJDEgJDIkMycpXHJcblx0XHRcdC8vIHVwcGVyY2FzZSB0aGUgZmlyc3QgY2hhcmFjdGVyXHJcblx0XHRcdC5yZXBsYWNlKC9eLi8sIHR4dCA9PiB0eHQudG9VcHBlckNhc2UoKSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogXCJVbmNhdGVnb3JpemVkXCIgY2F0ZWdvcnkgbG9jYWxpemVkIG5hbWUgZ2V0dGVyLlxyXG5cdCAqL1xyXG5cdGdldCB1bmNhdGVnb3JpemVkKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFwiVW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IGxvY2FsaXplZCBuYW1lLlxyXG5cdCAqL1xyXG5cdGdldFVuY2F0ZWdvcml6ZWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnVuY2F0ZWdvcml6ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayB3aGV0aGVyIFwidW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IG9yIG5vdC5cclxuXHQgKi9cclxuXHRpc1VuY2F0ZWdvcml6ZWQoY2F0ZWdvcnk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFjYXRlZ29yeSB8fCAhYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0cmV0dXJuIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IHRoaXMudW5jYXRlZ29yaXplZC50b0xvd2VyQ2FzZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgd2hldGhlciBjYXRlZ29yaWVzIGVxdWFsIG9yIG5vdC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY2F0MSBDYXRlZ29yeSBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXQyIENhdGVnb3J5IG5hbWUuXHJcblx0ICovXHJcblx0aXNDYXRlZ29yaWVzRXF1YWwoY2F0MTogc3RyaW5nLCBjYXQyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAodGhpcy5pc1VuY2F0ZWdvcml6ZWQoY2F0MSkgJiYgdGhpcy5pc1VuY2F0ZWdvcml6ZWQoY2F0MikpIHx8IGNhdDEgPT09IGNhdDI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSByZXBvcnQgZnVsbCBuYW1lXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydE5hbWUgcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvciBkaXJlY3RvcmllcyBzZXBhcmF0b3Igc3ltYm9sLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSByZXBvcnQgY2F0ZWdvcnkgKG9wdGlvbmFsKS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IGdlbmVyYXRlZCByZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqL1xyXG5cdGNyZWF0ZVJlcG9ydEZ1bGxOYW1lKHJlcG9ydE5hbWU6IHN0cmluZywgc2VwYXJhdG9yOiBzdHJpbmcsIGNhdGVnb3J5Pzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghcmVwb3J0TmFtZSB8fCByZXBvcnROYW1lLnRyaW0oKSA9PT0gJycpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignRW1wdHkgXCJyZXBvcnROYW1lXCIgcGFyYW1ldGVyIGlzblxcJ3QgYWxsb3dlZC4nKTtcclxuXHRcdHJldHVybiB0aGlzLmlzVW5jYXRlZ29yaXplZChjYXRlZ29yeSlcclxuXHRcdFx0PyByZXBvcnROYW1lXHJcblx0XHRcdDogY2F0ZWdvcnkgKyBzZXBhcmF0b3IgKyByZXBvcnROYW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCBvcHRpb25zIHdoaWNoIGhhdmUgZ290IGZyb20gc2VydmVyIHVzaW5nIFwiR2V0T3B0aW9uc0J5UGF0aFwiIHF1ZXJ5IGludG8gXHJcblx0ICogb25lIGRpbWVudGlvbmFsIGFycmF5LCB3aGljaCBhbGxvdyB0byB1c2UgaXQgYXMgPG9wdGlvbj5cclxuXHQgKi9cclxuXHRjb252ZXJ0T3B0aW9uc0J5UGF0aChvcHRpb25Hcm91cHM6IGFueVtdKTogYW55W10ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkob3B0aW9uR3JvdXBzKSlcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cclxuXHRcdGNvbnN0IGdyb3VwcyA9IFtdO1xyXG5cdFx0b3B0aW9uR3JvdXBzLmZvckVhY2goZ3JvdXAgPT4ge1xyXG5cdFx0XHRncm91cC5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcclxuXHRcdFx0XHRvcHRpb24uZ3JvdXAgPSBhbmd1bGFyLmlzU3RyaW5nKGdyb3VwLm5hbWUpICYmIGdyb3VwLm5hbWUgIT09ICcnXHJcblx0XHRcdFx0XHQ/IGdyb3VwLm5hbWVcclxuXHRcdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0XHRcdGdyb3Vwcy5wdXNoKG9wdGlvbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZ3JvdXBzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IG9wdGlvbiBieSB2YWx1ZSBmcm9tIGFycmF5IG9mIG9iamVjdHMgd2l0aCBcInZhbHVlXCIgcHJvcGVydHkgKGNhc2UgaW5zZW5zaXRpdmUpOiBcclxuXHQgKiBbe3ZhbHVlOid0ZXh0MScsLi4ufSwge3ZhbHVlOid0ZXh0MicsIC4uLn0sIC4uLl1cclxuXHQgKi9cclxuXHRnZXRPcHRpb25CeVZhbHVlKG9wdGlvbnM6IGFueVtdLCB2YWx1ZTogc3RyaW5nLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb246IGJvb2xlYW4pIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KG9wdGlvbnMpIHx8ICFvcHRpb25zLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR3aGlsZSAoaSA8IG9wdGlvbnMubGVuZ3RoKSB7XHJcblx0XHRcdGNvbnN0IG9wdGlvbjogYW55ID0gb3B0aW9uc1tpXTtcclxuXHRcdFx0aWYgKCFpc0xvd2VyQ2FzZUNvbXBhcmlzb24gJiYgb3B0aW9uLnZhbHVlID09PSB2YWx1ZSlcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9uO1xyXG5cdFx0XHRpZiAoaXNMb3dlckNhc2VDb21wYXJpc29uICYmIG9wdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdHJldHVybiBvcHRpb247XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRpemVuZGFMb2NhbGUnXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVV0aWwnLCBJemVuZGFVdGlsU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFVdGlsU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhVXRpbFVpU2VydmljZSB7XHJcblx0cHJpdmF0ZSBub3RpZmljYXRpb25IaWRlRGVsYXkgPSA1MDAwO1xyXG5cdHByaXZhdGUgbm90aWZpY2F0aW9uc0lkQ291bnRlciA9IDE7XHJcblx0bm90aWZpY2F0aW9uczogYW55W10gPSBbXTtcclxuXHJcblx0bWVzc2FnZTogYW55ID0gbnVsbDtcclxuXHRkaWFsb2dCb3g6IGFueSA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbW1lZGlhdGVseSBjbG9zZSBub3RpZmljYXRpb24uXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vdGlmaWNhdGlvbklkIG5vdGlmaWNhdGlvbiBpZFxyXG5cdCAqL1xyXG5cdGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBudW1iZXIpIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlIChpIDwgdGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5ub3RpZmljYXRpb25zW2ldLmlkID09PSBub3RpZmljYXRpb25JZCkge1xyXG5cdFx0XHRcdHRoaXMuY2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb25JZCk7XHJcblx0XHRcdFx0dGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIG5vdGlmaWNhdGlvbiBhdXRvaGlkZS5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbm90aWZpY2F0aW9uSWQgbm90aWZpY2F0aW9uIGlkXHJcblx0ICovXHJcblx0Y2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb25JZDogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBpdG0gPSB0aGlzLmdldE5vdGlmaWNhdGlvbkJ5SWQobm90aWZpY2F0aW9uSWQpO1xyXG5cdFx0aWYgKGl0bS50aW1lb3V0SWQpIHtcclxuXHRcdFx0dGhpcy4kdGltZW91dC5jYW5jZWwoaXRtLnRpbWVvdXRJZCk7XHJcblx0XHRcdGl0bS50aW1lb3V0SWQgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogIFNob3dzIHBvcCB1cCBub3RpZmljYXRpb24gcGFuZWwuIElmIG5vIDxpemVuZGEtbm90aWZpY2F0aW9uLWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaWNvbiBJY29uIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlcyAnZXJyb3InIG9yIG5vIHZhbHVlLlxyXG5cdCAqL1xyXG5cdHNob3dOb3RpZmljYXRpb24odGV4dDogc3RyaW5nLCB0aXRsZT86IHN0cmluZywgaWNvbj86IHN0cmluZykge1xyXG5cdFx0Y29uc3QgbmV4dElkID0gdGhpcy5ub3RpZmljYXRpb25zSWRDb3VudGVyKys7XHJcblx0XHRjb25zdCBpY29uQ2xhc3MgPSBhbmd1bGFyLmlzU3RyaW5nKGljb24pICYmIGljb24gPT09ICdlcnJvcicgPyAnZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduJyA6ICcnO1xyXG5cdFx0dmFyIG9ialRvU2hvdyA9IHtcclxuXHRcdFx0aWQ6IG5leHRJZCxcclxuXHRcdFx0dGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJyxcclxuXHRcdFx0dGV4dDogdGV4dCxcclxuXHRcdFx0aWNvbkNsYXNzOiBpY29uQ2xhc3MsXHJcblx0XHRcdHRpbWVvdXRJZDogbnVsbFxyXG5cdFx0fTtcclxuXHRcdG9ialRvU2hvdy50aW1lb3V0SWQgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZU5vdGlmaWNhdGlvbihvYmpUb1Nob3cuaWQpO1xyXG5cdFx0fSwgdGhpcy5ub3RpZmljYXRpb25IaWRlRGVsYXkpO1xyXG5cdFx0dGhpcy5ub3RpZmljYXRpb25zLnB1c2gob2JqVG9TaG93KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIG1lc3NhZ2UgZGlhbG9nLiBJZiBubyA8aXplbmRhLW1lc3NhZ2UtY29tcG9uZW50PiBkZWZpbmVkIG9yIG5vIGNvbXBvbmVudHMgd2l0aCBjb21wb25lbnRJZCB3aWxsIGJlIGZvdW5kXHJcblx0ICogdGhlbiBub3RoaW5nIHdpbGwgaGFwcGVuLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGl0bGUgdGV4dCAob3B0aW9uYWwpLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydEluZm8gVHlwZSBvZiBkaWFsb2cgKG9wdGlvbmFsKS4gUG9zc2libGUgdmFsdWVzOiAnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZGFuZ2VyJ1xyXG5cdCAqL1xyXG5cdHNob3dNZXNzYWdlRGlhbG9nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIGFsZXJ0SW5mbz86IHN0cmluZykge1xyXG5cdFx0dGhpcy5tZXNzYWdlID0ge1xyXG5cdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxyXG5cdFx0XHR0aXRsZTogYW5ndWxhci5pc0RlZmluZWQodGl0bGUpID8gdGl0bGUgOiAnJyxcclxuXHRcdFx0YWxlcnRJbmZvOiBhbmd1bGFyLmlzRGVmaW5lZChhbGVydEluZm8pID8gYWxlcnRJbmZvIDogJ2luZm8nXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvd3MgZXJyb3IgZGlhbG9nLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRJZCBJRCBvZiBjb21wb25lbnQuIFVzZWQgZm9yIGRpc3Rpbmd1aXNoIGRpZmZlcmVudCBzaW1pbGFyIGNvbXBvbmVudHMuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgdGV4dFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBFcnJvciB0aXRsZSAob3B0aW9uYWwpXHJcblx0ICovXHJcblx0c2hvd0Vycm9yRGlhbG9nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IHRpdGxlVGV4dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHRpdGxlKSA/IHRpdGxlIDogdGhpcy4kaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX0Vycm9yJywgJ0Vycm9yJyk7XHJcblx0XHR0aGlzLnNob3dNZXNzYWdlRGlhbG9nKG1lc3NhZ2UsIHRpdGxlVGV4dCwgJ2RhbmdlcicpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgbWVzc2FnZSBkaWFsb2cuXHJcblx0ICovXHJcblx0Y2xvc2VNZXNzYWdlRGlhbG9nKCkge1xyXG5cdFx0dGhpcy5tZXNzYWdlID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIGRpYWxvZyBib3guIElmIG5vIDxpemVuZGEtZGlhbG9nLWJveC1jb21wb25lbnQ+IGRlZmluZWQgb3Igbm8gY29tcG9uZW50cyB3aXRoIGNvbXBvbmVudElkIHdpbGwgYmUgZm91bmRcclxuXHQgKiB0aGVuIG5vdGhpbmcgd2lsbCBoYXBwZW4uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgTWVzc2FnZSB0ZXh0LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBUaXRsZSB0ZXh0IChvcHRpb25hbCkuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGFsZXJ0SW5mbyBUeXBlIG9mIGRpYWxvZyAob3B0aW9uYWwpLiBQb3NzaWJsZSB2YWx1ZXM6ICdzdWNjZXNzJywgJ2luZm8nLCAnd2FybmluZycsICdkYW5nZXInXHJcblx0ICogQHBhcmFtIHtBcnJheX0gYnV0dG9ucyBkaWFsb2cgYnV0dG9ucyAob3B0aW9uYWwpLlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNoZWNrYm94ZXMgY2hlY2tib3hlcyBjb2xsZWN0aW9uIChvcHRpb25hbCkuXHJcblx0ICovXHJcblx0c2hvd0RpYWxvZ0JveChvcHRpb25zOiBhbnkpIHtcclxuXHRcdHRoaXMuZGlhbG9nQm94ID0ge1xyXG5cdFx0XHRtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2UsXHJcblx0XHRcdHRpdGxlOiBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLnRpdGxlKSA/IG9wdGlvbnMudGl0bGUgOiAnJyxcclxuXHRcdFx0YWxlcnRJbmZvOiBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmFsZXJ0SW5mbykgPyBvcHRpb25zLmFsZXJ0SW5mbyA6ICdpbmZvJyxcclxuXHRcdFx0YnV0dG9uczogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5idXR0b25zKSA/IG9wdGlvbnMuYnV0dG9ucyA6IFt7IHRleHQ6ICdDbG9zZScgfV0sXHJcblx0XHRcdGNoZWNrYm94ZXM6IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuY2hlY2tib3hlcykgPyBvcHRpb25zLmNoZWNrYm94ZXMgOiBbXVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIGRpYWxvZyBib3hcclxuXHQgKi9cclxuXHRjbG9zZURpYWxvZ0JveCgpIHtcclxuXHRcdHRoaXMuZGlhbG9nQm94ID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0Tm90aWZpY2F0aW9uQnlJZChpZCkge1xyXG5cdFx0Y29uc3QgZm91bmQgPSB0aGlzLm5vdGlmaWNhdGlvbnMuZmluZChuID0+IHtcclxuXHRcdFx0cmV0dXJuIG4uaWQgPT09IGlkO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZm91bmQgPyBmb3VuZCA6IG51bGw7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZSddO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXRpbFVpU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYVV0aWxVaVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXRpbFVpU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEJvb3RzdHJhcCBtb2RhbCBkaXJlY3RpdmUuIFVzYWdlOlxyXG4gKiA8aXplbmRhLWJvb3RzdHJhcC1tb2RhbCBvcGVuZWQ9XCIuLi5cIj4uLi48L2l6ZW5kYS1ib290c3RyYXAtbW9kYWw+XHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBNb2RhbERpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRzY29wZSA9IHtcclxuXHRcdG9wZW5lZDogJz0nLFxyXG5cdFx0a2V5Ym9hcmQ6ICc9JyxcclxuXHRcdGJhY2tkcm9wOiAnPScsXHJcblx0XHRtb2RhbFNpemU6ICdAJyxcclxuXHRcdGlzTW9kZXJuQm9vdHN0cmFwVmVyc2lvbjogJ0AnLFxyXG5cdFx0b25Nb2RhbE9wZW5lZDogJyYnLFxyXG5cdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPSBgXHJcbjxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuXHQ8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgbmctY2xhc3M9XCJnZXRNb2RhbFNpemVDbGFzcygpXCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG5cdFx0XHQ8ZGl2IG5nLXRyYW5zY2x1ZGU9XCJcIj48L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cclxuXHRsaW5rOiAoJGRpcmVjdGl2ZVNjb3BlOiBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUucHJvdG90eXBlLmxpbmsgPSAoJGRpcmVjdGl2ZVNjb3BlOiBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JGRpcmVjdGl2ZVNjb3BlLmdldE1vZGFsU2l6ZUNsYXNzID0gKCkgPT4gJGRpcmVjdGl2ZVNjb3BlLm1vZGFsU2l6ZSA9PT0gJ2xhcmdlJyA/ICdtb2RhbC1sZycgOiAnJztcclxuXHJcblx0XHRcdHZhciAkbW9kYWwgPSAkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJyk7XHJcblxyXG5cdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHQkbW9kYWwuY3NzKHtcclxuXHRcdFx0XHRcdCdvdmVyZmxvdy14JzogJ2hpZGRlbicsXHJcblx0XHRcdFx0XHQnb3ZlcmZsb3cteSc6ICdzY3JvbGwnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZGl0aW9uYWwgYm9vdHN0cmFwIHBhcmFtZXRlcnNcclxuXHRcdFx0aWYgKCRkaXJlY3RpdmVTY29wZS5rZXlib2FyZCAhPSBudWxsKVxyXG5cdFx0XHRcdCRtb2RhbC5hdHRyKCdkYXRhLWtleWJvYXJkJywgJGRpcmVjdGl2ZVNjb3BlLmtleWJvYXJkKTtcclxuXHRcdFx0aWYgKCRkaXJlY3RpdmVTY29wZS5iYWNrZHJvcCAhPSBudWxsKVxyXG5cdFx0XHRcdCRtb2RhbC5hdHRyKCdkYXRhLWJhY2tkcm9wJywgJGRpcmVjdGl2ZVNjb3BlLmJhY2tkcm9wKTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIHNob3cgaGFuZGxlclxyXG5cdFx0XHQkbW9kYWwub24oJ3Nob3cuYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0JG1vZGFsLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdyZ2JhKDAsMCwwLDAuOCknKTtcclxuXHRcdFx0XHQkbW9kYWwuY3NzKCdmaWx0ZXInLCAnYWxwaGEob3BhY2l0eT04MCknKTtcclxuXHRcdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIHNob3duIGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdzaG93bi5icy5tb2RhbCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5zY3JvbGxUb3AoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkZGlyZWN0aXZlU2NvcGUub25Nb2RhbE9wZW5lZCkpIHtcclxuXHRcdFx0XHRcdCRkaXJlY3RpdmVTY29wZS5vbk1vZGFsT3BlbmVkKHt9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbW9kYWwgaGlkZGVuIGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2luaGVyaXQnKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLm9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxDbG9zZWQpKSB7XHJcblx0XHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRkaXJlY3RpdmVTY29wZS4kd2F0Y2goJ29wZW5lZCcsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0Ly8gY3JlYXRlL2hpZGUgbW9kYWwgZGlhbG9nXHJcblx0XHRcdFx0aWYgKG5ld1ZhbClcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcubW9kYWwnKVsnbW9kYWwnXSgpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcubW9kYWwnKVsnbW9kYWwnXSgnaGlkZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0b3BlbmVkOiBib29sZWFuO1xyXG5cdGtleWJvYXJkOiBzdHJpbmc7XHJcblx0YmFja2Ryb3A6IHN0cmluZztcclxuXHRtb2RhbFNpemU6IHN0cmluZztcclxuXHRpc01vZGVybkJvb3RzdHJhcFZlcnNpb246IGJvb2xlYW47XHJcblx0b25Nb2RhbE9wZW5lZDogKGFueSkgPT4gYW55O1xyXG5cdG9uTW9kYWxDbG9zZWQ6IChhbnkpID0+IGFueTtcclxuXHRnZXRNb2RhbFNpemVDbGFzczogKCkgPT4gc3RyaW5nO1xyXG59XHJcblxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwTW9kYWwnLCBbJyR0aW1lb3V0JywgSXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogQW5ndWxhciBmaWx0ZXIgd2hpY2ggcmVwbGFjZXMgc3RyaW5nLlxyXG4gKiBVc2FnZTpcclxuICoge3sgJ3NvbWUgc3RyaW5nJyB8IGl6ZW5kYVJlcGxhY2VTdHJpbmc6IFt7IGZyb206ICdzJywgdG86ICckJyB9LCB7IGZyb206ICdvJywgdG86ICcwJyB9IF0gfX1cclxuICogdGhpcyBzYW1wbGUgd2lsbCBwcm9kdWNlIHN0cmluZyAnJDBtZSAkdHJpbmcnXHJcbiAqL1xyXG5pemVuZGFDb3JlTW9kdWxlLmZpbHRlcignaXplbmRhUmVwbGFjZVN0cmluZycsICgpID0+XHJcblx0KHRleHQ6IHN0cmluZywgcnVsZXM6IEFycmF5PHsgZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nIH0+KSA9PiB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShydWxlcykpXHJcblx0XHRcdHJldHVybiB0ZXh0O1xyXG5cdFx0dmFyIHJlc3VsdFRleHQgPSB0ZXh0O1xyXG5cdFx0aWYgKCFyZXN1bHRUZXh0KVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0VGV4dDtcclxuXHJcblx0XHRydWxlcy5mb3JFYWNoKHJ1bGUgPT4gcmVzdWx0VGV4dCA9IHJlc3VsdFRleHQucmVwbGFjZUFsbChydWxlLmZyb20sIHJ1bGUudG8pKTtcclxuXHRcdHJldHVybiByZXN1bHRUZXh0O1xyXG5cdH0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBdHRyaWJ1dGUgZGlyZWN0aXZlIFwiaXplbmRhLXNjcm9sbC1ib3R0b20tYWN0aW9uPVwiXCJcIiB3aGljaCBmaXJlcyBoYW5kbGVyIG9uIGNvbnRhaW5lciBzY3JvbGwgZW5kICgtMTAwcHgpLlxyXG4gKiBFdmVudDogc2Nyb2xsLWJvdHRvbS1hY3Rpb25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTY3JvbGxCb3R0b21BY3Rpb24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uLnByb3RvdHlwZS5saW5rID1cclxuXHRcdFx0KCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnN0ICRwYXJlbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcclxuXHRcdFx0XHQkcGFyZW50Lm9uKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBoZWlnaHQgPSAkZWxlbWVudC5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdGlmIChoZWlnaHQgPT09IDApXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdGlmIChoZWlnaHQgLSAkcGFyZW50LmhlaWdodCgpIC0gMTAwIDwgJHBhcmVudC5zY3JvbGxUb3AoKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGV2YWwoYXR0cnMuaXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFTY3JvbGxCb3R0b21BY3Rpb24nLCBbSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uLmZhY3RvcnkoKV0pO1xyXG5cclxuLyoqXHJcbiAqIFNldCBmb2N1cyBvbiBlbGVtZW50IGRpcmVjdGl2ZS5cclxuICogVXNhZ2U6IFxyXG4gKiA8c29tZS10YWcgaXplbmRhLWZvY3VzPVwie3tleHByZXNzaW9uX3doaWNoX3JldHVybnNfYm9vbH19XCIgLi4uPlxyXG4gKiAgIC4uLlxyXG4gKiA8L3NvbWUtdGFnPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRm9jdXMgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRzY29wZSA9IHtcclxuXHRcdHRyaWdnZXI6ICdAaXplbmRhRm9jdXMnXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhRm9jdXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhRm9jdXMucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRm9jdXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndHJpZ2dlcicsIHZhbHVlID0+IHtcclxuXHRcdFx0XHRpZiAodmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLiR0aW1lb3V0KCgpID0+ICRlbGVtZW50WzBdLmZvY3VzKCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IGFueSkgPT4gbmV3IEl6ZW5kYUZvY3VzKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaW50ZXJmYWNlIElJemVuZGFGb2N1c1Njb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0cmlnZ2VyOiBhbnk7XHJcbn1cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUZvY3VzJywgWyckdGltZW91dCcsIEl6ZW5kYUZvY3VzLmZhY3RvcnkoKV0pO1xyXG5cclxuLyoqXHJcbiAqIGl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudCBkaXJlY3RpdmUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsIHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cclxuXHRcdEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5wcm90b3R5cGUubGluayA9XHJcblx0XHRcdCgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSA9ICdyZXNpemUuaXplbmRhRml0QWJzb2x1dGVFbGVtZW50LicgKyBNYXRoLnJhbmRvbSgpO1xyXG5cdFx0XHRcdGNvbnN0IGRlbHRhVG9wU3RyaW5nID0gU3RyaW5nKGF0dHJzWydkZWx0YVRvcCddKTtcclxuXHRcdFx0XHRjb25zdCBkZWx0YVRvcCA9IGRlbHRhVG9wU3RyaW5nID8gcGFyc2VJbnQoZGVsdGFUb3BTdHJpbmcpIDogMDtcclxuXHRcdFx0XHRjb25zdCAkcGFyZW50ID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50LnBhcmVudCgpKTtcclxuXHJcblx0XHRcdFx0dmFyIHNldFRvcCA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGxldCB0b3BIZWlnaHQgPSAwO1xyXG5cdFx0XHRcdFx0dmFyICRjaGlsZHMgPSAkcGFyZW50LmNoaWxkcmVuKCk7XHJcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8ICRjaGlsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgJGNoaWxkID0gYW5ndWxhci5lbGVtZW50KCRjaGlsZHNbaV0pO1xyXG5cdFx0XHRcdFx0XHRjb25zdCB0b3BWYWx1ZSA9IFN0cmluZygkY2hpbGQuYXR0cignZGF0YS1pemVuZGEtZml0LWFic29sdXRlLWVsZW1lbnQnKSk7XHJcblx0XHRcdFx0XHRcdGlmICh0b3BWYWx1ZSA9PT0gJ3RvcCcpXHJcblx0XHRcdFx0XHRcdFx0dG9wSGVpZ2h0ICs9ICRjaGlsZC5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh0b3BIZWlnaHQgPiAwKVxyXG5cdFx0XHRcdFx0XHQkZWxlbWVudC5jc3MoJ3RvcCcsIHRvcEhlaWdodCArIGRlbHRhVG9wICsgJ3B4Jyk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0c2V0VG9wKCk7XHJcblx0XHRcdFx0dGhpcy4kdGltZW91dCgoKSA9PiBzZXRUb3AoKSwgMTAwMCk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykub24od2luZG93UmVzaXplRXZlbnROYW1lLCAoKSA9PiBzZXRUb3AoKSk7XHJcblxyXG5cdFx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLm9mZih3aW5kb3dSZXNpemVFdmVudE5hbWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID1cclxuXHRcdFx0KCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgSXplbmRhRml0QWJzb2x1dGVFbGVtZW50KCR3aW5kb3csICR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhRml0QWJzb2x1dGVFbGVtZW50JywgSXplbmRhRml0QWJzb2x1dGVFbGVtZW50LmZhY3RvcnkoKSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBmb3IgaW5wdXQgZWxlbWVudCB3aGljaCBhbGxvd3MgdG8gaW5wdXQgb25seSBwb3NpdGl2ZSBpbnRlZ2VyIHZhbHVlcy5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUludGVnZXJJbnB1dCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdGxpbms6ICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhRml0QWJzb2x1dGVFbGVtZW50LnByb3RvdHlwZS5saW5rID1cclxuXHRcdFx0KCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cdFx0XHRcdCRlbGVtZW50Lm9uKCdrZXlkb3duJywgZXZ0ID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGN0cmxPck1ldGEgPSBldnQuY3RybEtleSB8fCBldnQubWV0YUtleTtcclxuXHRcdFx0XHRcdGlmIChbNDYsIDgsIDksIDI3LCAxM10uaW5kZXhPZihldnQua2V5Q29kZSkgPj0gMCAvKkFsbG93OiBiYWNrc3BhY2UsIGRlbGV0ZSwgdGFiLCBlc2NhcGUsIGVudGVyKi9cclxuXHRcdFx0XHRcdFx0fHwgKGV2dC5rZXlDb2RlID09PSA2NSAmJiBjdHJsT3JNZXRhKSAvKkFsbG93OiBDdHJsL2NtZCtBKi9cclxuXHRcdFx0XHRcdFx0fHwgKGV2dC5rZXlDb2RlID09PSA2NyAmJiBjdHJsT3JNZXRhKSAvKkFsbG93OiBDdHJsL2NtZCtDKi9cclxuXHRcdFx0XHRcdFx0fHwgKGV2dC5rZXlDb2RlID09PSA4OCAmJiBjdHJsT3JNZXRhKSAvKkFsbG93OiBDdHJsL2NtZCtYKi9cclxuXHRcdFx0XHRcdFx0fHwgKGV2dC5rZXlDb2RlID49IDM1ICYmIGV2dC5rZXlDb2RlIDw9IDQwKSkgeyAvKkFsbG93OiBob21lLCBlbmQsIGxlZnQsIHJpZ2h0Ki9cclxuXHRcdFx0XHRcdFx0Ly8gbGV0IGl0IGhhcHBlbiwgZG9uJ3QgZG8gYW55dGhpbmdcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHRoYXQgaXQgaXMgYSBudW1iZXIgYW5kIHN0b3AgdGhlIGtleXByZXNzXHJcblx0XHRcdFx0XHRpZiAoKGV2dC5zaGlmdEtleSB8fCAoZXZ0LmtleUNvZGUgPCA0OCB8fCBldnQua2V5Q29kZSA+IDU3KSkgJiYgKGV2dC5rZXlDb2RlIDwgOTYgfHwgZXZ0LmtleUNvZGUgPiAxMDUpKSB7XHJcblx0XHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCkgPT4gbmV3IEl6ZW5kYUludGVnZXJJbnB1dCgpO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUludGVnZXJJbnB1dCcsIEl6ZW5kYUludGVnZXJJbnB1dC5mYWN0b3J5KCkpOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcblxyXG4vLyBSZVNoYXJwZXIgZGlzYWJsZSBvbmNlIEluY29uc2lzdGVudE5hbWluZ1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJemVuZGFDb21wb25lbnQobW9kdWxlT3JOYW1lOiBzdHJpbmcgfCBuZy5JTW9kdWxlLFxyXG5cdHNlbGVjdG9yOiBzdHJpbmcsXHJcblx0ZGVwZW5kZW5jaWVzOiBhbnlbXSxcclxuXHRvcHRpb25zOiB7XHJcblx0XHR0ZW1wbGF0ZT86IHN0cmluZyxcclxuXHRcdHRlbXBsYXRlVXJsPzogc3RyaW5nLFxyXG5cdFx0YmluZGluZ3M/OiBhbnksXHJcblx0XHRjb250cm9sbGVyPzogYW55LFxyXG5cdH0pIHtcclxuXHRyZXR1cm4gKGNvbnRyb2xsZXI6IEZ1bmN0aW9uKSA9PiB7XHJcblx0XHRjb25zdCBtb2R1bGUgPSB0eXBlb2YgKG1vZHVsZU9yTmFtZSkgPT09ICdzdHJpbmcnID8gYW5ndWxhci5tb2R1bGUobW9kdWxlT3JOYW1lKSA6IG1vZHVsZU9yTmFtZTtcclxuXHRcdGNvbnN0IGV4dGVuZGVkT3B0aW9uczogbmcuSUNvbXBvbmVudE9wdGlvbnMgPSBhbmd1bGFyLmNvcHkob3B0aW9ucyk7XHJcblxyXG5cdFx0dmFyICRpbmplY3QgPSBjb250cm9sbGVyLiRpbmplY3QgPSBkZXBlbmRlbmNpZXM7XHJcblx0XHRjb250cm9sbGVyLnByb3RvdHlwZS4kaW5qZWN0ID0gJGluamVjdDtcclxuXHRcdGNvbnRyb2xsZXIuJGluamVjdCA9ICRpbmplY3Q7XHJcblxyXG5cdFx0ZXh0ZW5kZWRPcHRpb25zLmNvbnRyb2xsZXIgPSBkZXBlbmRlbmNpZXMuY29uY2F0KGNvbnRyb2xsZXIpO1xyXG5cdFx0bW9kdWxlLmNvbXBvbmVudChzZWxlY3RvciwgZXh0ZW5kZWRPcHRpb25zKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIE1lc3NhZ2UgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoaXplbmRhQ29yZU1vZHVsZSwgJ2l6ZW5kYURpYWxvZ0JveENvbXBvbmVudCcsIFsnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnXSwge1xyXG5cdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24uY29yZS5jb21wb25lbnRzLmRpYWxvZy1ib3guZGlhbG9nLWJveC10ZW1wbGF0ZS5odG1sJyxcclxuXHRiaW5kaW5nczoge1xyXG5cdFx0Y29tcG9uZW50SWQ6ICdAJyxcclxuXHRcdHVzZUdsb2JhbEV2ZW50TGlzdGVuaW5nOiAnPCcsXHJcblx0XHRvcGVuZWQ6ICc8JyxcclxuXHRcdHRpdGxlOiAnPCcsXHJcblx0XHRtZXNzYWdlOiAnPCcsXHJcblx0XHRhbGVydEluZm86ICc8JyxcclxuXHRcdGJ1dHRvbnM6ICc8JyxcclxuXHRcdGNoZWNrYm94ZXM6ICc8J1xyXG5cdH0sXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYURpYWxvZ0JveENvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBIYW5kbGUgYnV0dG9uIGNsaWNrLlxyXG5cdCAqL1xyXG5cdG9uQnV0dG9uQ2xpY2soYnV0dG9uKSB7XHJcblx0XHRpZiAoIWJ1dHRvbikgcmV0dXJuO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihidXR0b24uY2FsbGJhY2spKSB7XHJcblx0XHRcdGJ1dHRvbi5jYWxsYmFjayh0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLmRpYWxvZ0JveC5jaGVja2JveGVzKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuY2xvc2VNb2RhbCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgbW9kYWwgZGlhbG9nLlxyXG5cdCAqL1xyXG5cdGNsb3NlTW9kYWwoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLmNsb3NlRGlhbG9nQm94KCk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBNZXNzYWdlIGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KGl6ZW5kYUNvcmVNb2R1bGUsICdpemVuZGFNZXNzYWdlQ29tcG9uZW50JywgWyckaXplbmRhTG9jYWxlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5tZXNzYWdlLm1lc3NhZ2UtdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHt9LFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFNZXNzYWdlQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2cuXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VNZXNzYWdlRGlhbG9nKCk7XHJcblx0fVxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIE5vdGlmaWNhdGlvbiBjb21wb25lbnRcclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoaXplbmRhQ29yZU1vZHVsZSwgJ2l6ZW5kYU5vdGlmaWNhdGlvbkNvbXBvbmVudCcsIFsnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnXSwge1xyXG5cdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24uY29yZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb24tdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHt9XHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYURpYWxvZ0JveENvbXBvbmVudCB7XHJcblx0bm90aWZpY2F0aW9uczogYW55W107XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHRcdHRoaXMubm90aWZpY2F0aW9ucyA9ICRpemVuZGFVdGlsVWlTZXJ2aWNlLm5vdGlmaWNhdGlvbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBub3RpZmljYXRpb24uXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG5vdGlmaWNhdGlvbiBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xyXG5cdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5jbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24uaWQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIG5vdGlmaWNhdGlvbiBhdXRvaGlkZS5cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gbm90aWZpY2F0aW9uIE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcblx0ICovXHJcblx0Y2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb24pIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb24uaWQpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhRXZlbnRTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2V2ZW50LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLy8gcmVnaXN0ZXIgc2VydmljZXNcclxuSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYUV2ZW50U2VydmljZS5yZWdpc3RlcihpemVuZGFDb3JlTW9kdWxlKTtcclxuSXplbmRhTG9jYWxpemF0aW9uU2VydmljZS5yZWdpc3RlcihpemVuZGFDb3JlTW9kdWxlKTtcclxuSXplbmRhVXRpbFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYVV0aWxVaVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcblxyXG4vLyByZWdpc3RlciBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzXHJcbmltcG9ydCAnY29tbW9uL2NvcmUvZGlyZWN0aXZlcy9ib290c3RyYXAtbW9kYWwnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eSc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvY29tcG9uZW50cy9kaWFsb2ctYm94L2RpYWxvZy1ib3gtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2NvbXBvbmVudHMvbm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi1jb21wb25lbnQnO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL21vZHVsZSc7XHJcblxyXG5jb25zdCBpemVuZGFRdWVyeU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGEuY29tbW9uLnF1ZXJ5JywgWydyeCcsICdpemVuZGEuY29tbW9uLmNvcmUnXSk7XHJcbmV4cG9ydCBkZWZhdWx0IGl6ZW5kYVF1ZXJ5TW9kdWxlO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhUnNRdWVyeVNlcnZpY2Uge1xyXG5cclxuXHR1cmxTZXR0aW5nczogYW55O1xyXG5cdHJzUXVlcnlCYXNlVXJsOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByZXF1ZXN0TGlzdDogQXJyYXk8UmVxdWVzdExpc3RJdGVtPjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGh0dHA6IG5nLklIdHRwU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHE6IG5nLklRU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGluamVjdG9yOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRsb2c6IG5nLklMb2dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSkge1xyXG5cclxuXHRcdHRoaXMudXJsU2V0dGluZ3MgPSB0aGlzLiR3aW5kb3dbJ3VybFNldHRpbmdzJCddO1xyXG5cdFx0dGhpcy5yc1F1ZXJ5QmFzZVVybCA9IHRoaXMudXJsU2V0dGluZ3MudXJsUnNQYWdlO1xyXG5cdFx0dGhpcy5yZXF1ZXN0TGlzdCA9IG5ldyBBcnJheTxSZXF1ZXN0TGlzdEl0ZW0+KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDdXN0b20gcXVlcnkgdG8gdGhlIGl6ZW5kYSByZXNwb25zZSBzZXJ2ZXJcclxuXHQgKiBAcGFyYW0ge2FueX0gcXVlcnlQYXJhbXMgUXVlcnkgcGFyYW1ldGVycy5cclxuXHQgKiBAcGFyYW0ge2FueX0gb3B0aW9ucyBRdWVyeSBvcHRpb25zLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBlcnJvck9wdGlvbnMgRXJyb3Igb3B0aW9ucy5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyIERvIHdlIG5lZWQgdG8gaW52YWxpZGF0ZSBjYWNoZXMuXHJcblx0ICovXHJcblx0cnNRdWVyeShxdWVyeVBhcmFtczogYW55LCBvcHRpb25zOiBhbnksIGVycm9yT3B0aW9uczogYW55LCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcjogYm9vbGVhbiA9IGZhbHNlKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLmN1c3RvbVF1ZXJ5KHRoaXMucnNRdWVyeUJhc2VVcmwsIHF1ZXJ5UGFyYW1zLCBvcHRpb25zLCBlcnJvck9wdGlvbnMsIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEN1c3RvbSBxdWVyeSB0byB0aGUgaXplbmRhIEFQSS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd3NDbWQgSXplbmRhIEFQSSBjb21tYW5kLlxyXG5cdCAqIEBwYXJhbSB7YW55W119IHdzQXJncyBJemVuZGEgQVBJIGNvbW1hbmQgcGFyYW1ldGVycyAod3NhcmcwLCB3c2FyZzEsLi4uKS5cclxuXHQgKiBAcGFyYW0ge2FueX0gb3B0aW9ucyBRdWVyeSBvcHRpb25zLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBlcnJvck9wdGlvbnMgRXJyb3Igb3B0aW9ucy5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyIERvIHdlIG5lZWQgdG8gaW52YWxpZGF0ZSBjYWNoZXMuXHJcblx0ICovXHJcblx0cXVlcnkod3NDbWQ6IHN0cmluZywgd3NBcmdzOiBhbnlbXSwgb3B0aW9uczogYW55LCBlcnJvck9wdGlvbnM/OiBhbnksIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuID0gZmFsc2UpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0Ly8gcHJlcGFyZSBwYXJhbXM6XHJcblx0XHR2YXIgcGFyYW1zID0ge1xyXG5cdFx0XHQnd3NjbWQnOiB3c0NtZFxyXG5cdFx0fTtcclxuXHRcdGlmIChhbmd1bGFyLmlzQXJyYXkod3NBcmdzKSkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHdzQXJncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciB3c0FyZyA9IHdzQXJnc1tpXTtcclxuXHRcdFx0XHRwYXJhbXNbJ3dzYXJnJyArIGldID0gKGFuZ3VsYXIuaXNEZWZpbmVkKHdzQXJnKSAmJiB3c0FyZyAhPSBudWxsKSA/IHdzQXJnIDogJyc7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignd3NBcmdzOiBleHBlY3RlZCBhcnJheSwgYnV0IGdvdDogJyArIHR5cGVvZiAod3NBcmdzKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gc2V0IGRlZmF1bHQgZXJyb3Igb3B0aW9ucyBpZiBpdCBpcyBub3QgZGVmaW5lZDpcclxuXHRcdGxldCBjdXJyZW50RXJyb3JPcHRpb25zOiBhbnk7XHJcblx0XHRpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChlcnJvck9wdGlvbnMpKSB7XHJcblx0XHRcdGN1cnJlbnRFcnJvck9wdGlvbnMgPSB7XHJcblx0XHRcdFx0aGFuZGxlcjogKHdzQ21kMiwgd3NBcmdzMikgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuICdRdWVyeTogXCInICsgd3NDbWQyICsgJ1wiIFsnICsgd3NBcmdzMiArICddIGZhaWxlZC4nO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cGFyYW1zOiBbd3NDbWQsIHdzQXJnc11cclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGN1cnJlbnRFcnJvck9wdGlvbnMgPSBlcnJvck9wdGlvbnM7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5yc1F1ZXJ5KHBhcmFtcywgb3B0aW9ucywgY3VycmVudEVycm9yT3B0aW9ucywgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUXVlcnkgdG8gdGhlIGl6ZW5kYSBBUEkgKFBPU1QgcmVxdWVzdCB3aGljaCByZXR1cm5zIEpTT04pLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3c0NtZCBJemVuZGEgQVBJIGNvbW1hbmQuXHJcblx0ICogQHBhcmFtIHthbnlbXX0gd3NBcmdzIEl6ZW5kYSBBUEkgY29tbWFuZCBwYXJhbWV0ZXJzICh3c2FyZzAsIHdzYXJnMSwuLi4pLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIgRG8gd2UgbmVlZCB0byBpbnZhbGlkYXRlIGNhY2hlcy5cclxuXHQgKi9cclxuXHRhcGlRdWVyeSh3c0NtZDogc3RyaW5nLCB3c0FyZ3M6IGFueVtdLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcjogYm9vbGVhbiA9IGZhbHNlKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0Ly8gY2hlY2sgcGFyYW1zOlxyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcod3NDbWQpIHx8IHdzQ21kID09PSAnJykge1xyXG5cdFx0XHRcdHJlamVjdCgnUGFyYW1ldGVyIGVycm9yOiB3c0NtZCBwYXJhbWV0ZXIgc2hvdWxkIGJlIG5vbi1lbXB0eSBzdHJpbmcuJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KHdzQXJncykpIHtcclxuXHRcdFx0XHRyZWplY3QoJ1BhcmFtZXRlciBlcnJvcjogd3NBcmdzIHBhcmFtZXRlciBzaG91bGQgYmUgYXJyYXkuJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgcGFyYW1zIGFycmF5XHJcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHsgJ3dzY21kJzogd3NDbWQgfTtcclxuXHRcdFx0d3NBcmdzLmZvckVhY2goKHdzQXJnLCBpKSA9PiB7XHJcblx0XHRcdFx0cGFyYW1zWyd3c2FyZycgKyBpXSA9IChhbmd1bGFyLmlzRGVmaW5lZCh3c0FyZykgJiYgd3NBcmcgIT09IG51bGwpID8gd3NBcmcgOiAnJztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBydW4gcXVlcnlcclxuXHRcdFx0dGhpcy5yc1F1ZXJ5KHBhcmFtcywgeyBkYXRhVHlwZTogJ2pzb24nLCBtZXRob2Q6ICdQT1NUJyB9LCBudWxsLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHQudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpLCBlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIGFsbCBydW5uaW5nIHF1ZXJpZXNcclxuXHQgKiBAcGFyYW0ge2FueX0gb3B0aW9ucyAob3B0aW9uYWwpIG9wdGlvbnMuY2FuY2VsTGlzdCBtYXkgc2V0IGN1c3RvbSBxdWVyaWVzIHRvIGNhbmNlbC5cclxuXHQgKi9cclxuXHRjYW5jZWxBbGxRdWVyaWVzKG9wdGlvbnM/OiBhbnkpIHtcclxuXHRcdGxldCBvcHRzID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdC8vIHF1ZXJpZXMgd2hpY2ggd2UgY2FuIGNhbmNlbFxyXG5cdFx0bGV0IGNhbmNlbGxhYmxlUXVlcmllcyA9IG9wdHMuaGFzT3duUHJvcGVydHkoJ2NhbmNlbExpc3QnKVxyXG5cdFx0XHQ/IG9wdHNbJ2NhbmNlbExpc3QnXVxyXG5cdFx0XHQ6IHRoaXMuJGluamVjdG9yLmdldCgnaXplbmRhLmNvbW1vbi5xdWVyeS5jYW5jZWxsYWJsZVF1ZXJpZXMnKTtcclxuXHJcblx0XHRsZXQgY291bnQgPSB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aDtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlIChpIDwgdGhpcy5yZXF1ZXN0TGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0bGV0IHJlcXVlc3QgPSB0aGlzLnJlcXVlc3RMaXN0WzBdO1xyXG5cdFx0XHRsZXQgY2FuY2VsID0gZmFsc2U7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkoY2FuY2VsbGFibGVRdWVyaWVzKSkge1xyXG5cdFx0XHRcdHZhciByZXF1ZXN0VXJsID0gcmVxdWVzdC51cmw7XHJcblx0XHRcdFx0dmFyIHJlcXVlc3RQYXJhbXMgPSByZXF1ZXN0LnF1ZXJ5UGFyYW1zRmluYWw7XHJcblx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjYW5jZWxsYWJsZVF1ZXJpZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHZhciBjYW5jZWxSdWxlID0gY2FuY2VsbGFibGVRdWVyaWVzW2pdO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FuY2VsUnVsZSkpIHtcclxuXHRcdFx0XHRcdFx0Y2FuY2VsID0gY2FuY2VsIHx8IHJlcXVlc3RVcmwuaW5kZXhPZihjYW5jZWxSdWxlKSA+PSAwO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChhbmd1bGFyLmlzT2JqZWN0KGNhbmNlbFJ1bGUpKSB7XHJcblx0XHRcdFx0XHRcdGlmICgnd3NjbWQnIGluIGNhbmNlbFJ1bGUpIHtcclxuXHRcdFx0XHRcdFx0XHRjYW5jZWwgPSBjYW5jZWwgfHwgcmVxdWVzdFVybC5pbmRleE9mKCd3c2NtZD0nICsgY2FuY2VsUnVsZVsnd3NjbWQnXSkgPj0gMDtcclxuXHRcdFx0XHRcdFx0XHRjYW5jZWwgPSBjYW5jZWwgfHwgcmVxdWVzdFBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgnd3NjbWQnKSAmJiByZXF1ZXN0UGFyYW1zWyd3c2NtZCddID09PSBjYW5jZWxSdWxlWyd3c2NtZCddO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyAnVW5rbm93biBjYW5jZWwgcnVsZTogJyArIGNhbmNlbFJ1bGU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoY2FuY2VsKSB7XHJcblx0XHRcdFx0cmVxdWVzdC5jYW5jZWxsZXIucmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJlcXVlc3QucmVzb2x2ZXIuJGl6ZW5kYVJzUXVlcnlDYW5jZWxsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnJlcXVlc3RMaXN0LnNwbGljZShpLCAxKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY291bnQgLSBpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCBwb3N0IHJlcXVlc3QgYW5kIHJlY2VpdmUgZmlsZSBhdHRhY2htZW50LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgR0VUL1BPU1RcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybC5cclxuXHQgKiBAcGFyYW0ge2FueX0gcGFyYW1ldGVycyBVcmwgcGFyYW1ldGVycyBkaWN0aW9uYXJ5LlxyXG5cdCAqIEByZXR1cm4ge2FuZ3VsYXIuSVByb21pc2U8dm9pZD59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXJzLlxyXG5cdCAqL1xyXG5cdGRvd25sb2FkRmlsZVJlcXVlc3QobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbWV0ZXJzPzogYW55KTogYW5ndWxhci5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZTogKCkgPT4gdm9pZCkgPT4ge1xyXG5cdFx0XHRpZiAodHlwZW9mIChCbG9iKSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvLyBwb3N0IHJlcXVlc3QgZm9yIGRvd25sb2FkIHRoZSBmaWxlXHJcblx0XHRcdFx0Y29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblx0XHRcdFx0eGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xyXG5cdFx0XHRcdHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuXHRcdFx0XHRjb25zdCBzZWxmWGhyID0geGhyO1xyXG5cdFx0XHRcdHhoci5vbmxvYWQgPSAoZXZ0KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnZG93bmxvYWRGaWxlUmVxdWVzdCB4aHIub25sb2FkIGV2dDogJywgZXZ0KTtcclxuXHRcdFx0XHRcdGlmIChzZWxmWGhyLnN0YXR1cyAhPT0gMjAwKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRjb25zdCBkaXNwb3NpdGlvbiA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicpO1xyXG5cdFx0XHRcdFx0bGV0IGZpbGVuYW1lID0gJyc7XHJcblx0XHRcdFx0XHRpZiAoZGlzcG9zaXRpb24gJiYgZGlzcG9zaXRpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhdHRhY2htZW50JykgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGZpbGVuYW1lUmVnZXggPSAvW0ZmXWlsZW5hbWVbXjs9XFxuXSo9KChbJ1wiXSkuKj9cXDJ8W147XFxuXSopLztcclxuXHRcdFx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IGZpbGVuYW1lUmVnZXguZXhlYyhkaXNwb3NpdGlvbik7XHJcblx0XHRcdFx0XHRcdGlmIChtYXRjaGVzICE9IG51bGwgJiYgbWF0Y2hlc1sxXSlcclxuXHRcdFx0XHRcdFx0XHRmaWxlbmFtZSA9IG1hdGNoZXNbMV0ucmVwbGFjZSgvWydcIl0vZywgJycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgdHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKFtzZWxmWGhyLnJlc3BvbnNlXSwgeyB0eXBlOiB0eXBlIH0pO1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdC8vIElFIHdvcmthcm91bmQgZm9yIFwiSFRNTDcwMDc6IE9uZSBvciBtb3JlIGJsb2IgVVJMcyB3ZXJlIHJldm9rZWQgYnkgY2xvc2luZyB0aGUgYmxvYiBmb3Igd2hpY2ggdGhleSB3ZXJlIGNyZWF0ZWQuIFxyXG5cdFx0XHRcdFx0XHQvLyBUaGVzZSBVUkxzIHdpbGwgbm8gbG9uZ2VyIHJlc29sdmUgYXMgdGhlIGRhdGEgYmFja2luZyB0aGUgVVJMIGhhcyBiZWVuIGZyZWVkLlwiXHJcblx0XHRcdFx0XHRcdHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGxldCB1cmxGdW5jID0gd2luZG93LlVSTCB8fCB3aW5kb3dbJ3dlYmtpdFVSTCddO1xyXG5cdFx0XHRcdFx0XHR2YXIgZG93bmxvYWRVcmwgPSB1cmxGdW5jLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdFx0XHRcdFx0aWYgKGZpbGVuYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gdXNlIEhUTUw1IGFbZG93bmxvYWRdIGF0dHJpYnV0ZSB0byBzcGVjaWZ5IGZpbGVuYW1lXHJcblx0XHRcdFx0XHRcdFx0bGV0IGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIHNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXRcclxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGxpbmtFbGVtZW50LmRvd25sb2FkID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBkb3dubG9hZFVybDtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGlua0VsZW1lbnQuaHJlZiA9IGRvd25sb2FkVXJsO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGlua0VsZW1lbnQudGFyZ2V0ID0gJ19ibGFuayc7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5kb3dubG9hZCA9IGZpbGVuYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5jbGljaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZG93bmxvYWRVcmw7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dXJsRnVuYy5yZXZva2VPYmplY3RVUkwoZG93bmxvYWRVcmwpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwKTsgLy8gY2xlYW51cFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcblx0XHRcdFx0aWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncG9zdCcpXHJcblx0XHRcdFx0XHR4aHIuc2VuZChhbmd1bGFyLmVsZW1lbnQucGFyYW0ocGFyYW1ldGVycyB8fCB7fSkpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0JylcclxuXHRcdFx0XHRcdHhoci5zZW5kKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgJ1Vuc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kOiAnICsgbWV0aG9kO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnKSB7XHJcblx0XHRcdFx0XHQvLyBvbGQgYnJvd3NlciBwb3N0IHJlcXVlc3RcclxuXHRcdFx0XHRcdGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcblx0XHRcdFx0XHRmb3JtLmFjdGlvbiA9IHVybDtcclxuXHRcdFx0XHRcdGZvcm0ubWV0aG9kID0gbWV0aG9kO1xyXG5cdFx0XHRcdFx0Zm9ybS50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdGlmIChwYXJhbWV0ZXJzKVxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBrZXkgaW4gcGFyYW1ldGVycylcclxuXHRcdFx0XHRcdFx0XHRpZiAocGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dC5uYW1lID0ga2V5O1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQudmFsdWUgPSB0eXBlb2YgcGFyYW1ldGVyc1trZXldID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KHBhcmFtZXRlcnNba2V5XSkgOiBwYXJhbWV0ZXJzW2tleV07XHJcblx0XHRcdFx0XHRcdFx0XHRmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xyXG5cdFx0XHRcdFx0Zm9ybS5zdWJtaXQoKTtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIG9sZCBicm93c2VyIGdldCByZXF1ZXN0XHJcblx0XHRcdFx0XHRsZXQgbGlua0VsZW1lbnQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRcdFx0bGlua0VsZW1lbnQyLmhyZWYgPSB1cmw7XHJcblx0XHRcdFx0XHRsaW5rRWxlbWVudDIudGFyZ2V0ID0gJ19ibGFuayc7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmtFbGVtZW50Mik7XHJcblx0XHRcdFx0XHRsaW5rRWxlbWVudDIuY2xpY2soKTtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGlua0VsZW1lbnQyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERvIHF1ZXJ5IHRvIGN1c3RvbSB1cmxcclxuXHQgKi9cclxuXHRwcml2YXRlIGN1c3RvbVF1ZXJ5KGJhc2VVcmw6IHN0cmluZywgcXVlcnlQYXJhbXM6IGFueSxcclxuXHRcdG9wdGlvbnM6IHsgbWV0aG9kOiBzdHJpbmcsIGRhdGFUeXBlOiBzdHJpbmcgfSxcclxuXHRcdGVycm9yT3B0aW9uczogYW55LFxyXG5cdFx0aW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4pOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cclxuXHRcdGNvbnN0IHF1ZXJ5UGFyYW1zRmluYWwgPSBhbmd1bGFyLmV4dGVuZCh7fSwgcXVlcnlQYXJhbXMpO1xyXG5cdFx0Ly8gYXBwbHkgaXplbmRhUGFnZUlkJFxyXG5cdFx0aWYgKHR5cGVvZiAod2luZG93WydpemVuZGFQYWdlSWQkJ10pICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0cXVlcnlQYXJhbXNGaW5hbFsnaXpwaWQnXSA9IHdpbmRvd1snaXplbmRhUGFnZUlkJCddO1xyXG5cdFx0aWYgKHR5cGVvZiAod2luZG93Wydhbmd1bGFyUGFnZUlkJCddKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHF1ZXJ5UGFyYW1zRmluYWxbJ2FucGlkJ10gPSB3aW5kb3dbJ2FuZ3VsYXJQYWdlSWQkJ107XHJcblxyXG5cdFx0Y29uc3QgaXNQb3N0ID0gYW5ndWxhci5pc09iamVjdChvcHRpb25zKSAmJiBvcHRpb25zLm1ldGhvZCA9PT0gJ1BPU1QnO1xyXG5cdFx0bGV0IHBvc3REYXRhID0ge307XHJcblx0XHRsZXQgdXJsID0gYmFzZVVybDtcclxuXHJcblx0XHRpZiAoIWlzUG9zdCkge1xyXG5cdFx0XHQvLyBHRVQgcmVxdWVzdCB1cmw6XHJcblx0XHRcdHVybCArPSAnPyc7XHJcblx0XHRcdGZvciAobGV0IHBhcmFtTmFtZSBpbiBxdWVyeVBhcmFtc0ZpbmFsKSB7XHJcblx0XHRcdFx0aWYgKHF1ZXJ5UGFyYW1zRmluYWwuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lKSkge1xyXG5cdFx0XHRcdFx0dXJsICs9IHBhcmFtTmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeVBhcmFtc0ZpbmFsW3BhcmFtTmFtZV0pICsgJyYnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodXJsLnN1YnN0cmluZyh1cmwubGVuZ3RoIC0gMSkgPT09ICcmJykge1xyXG5cdFx0XHRcdHVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxlbmd0aCAtIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHRpZiAodXJsLmVuZHNXaXRoKCc/JykpXHJcblx0XHRcdFx0XHR1cmwgKz0gJ2lpYz0xJztcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR1cmwgKz0gJyZpaWM9MSc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBQT1NUIHJlcXVlc3QgcGFyYW1zIHN0cmluZzpcclxuXHRcdFx0bGV0IHBvc3RQYXJhbXNTdHJpbmcgPSAndXJsZW5jb2RlZD10cnVlJztcclxuXHRcdFx0Zm9yICh2YXIgcGFyYW1OYW1lMiBpbiBxdWVyeVBhcmFtc0ZpbmFsKSB7XHJcblx0XHRcdFx0aWYgKHF1ZXJ5UGFyYW1zRmluYWwuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lMikpIHtcclxuXHRcdFx0XHRcdHBvc3RQYXJhbXNTdHJpbmcgKz0gJyYnICsgcGFyYW1OYW1lMiArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeVBhcmFtc0ZpbmFsW3BhcmFtTmFtZTJdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cG9zdERhdGEgPSB7XHJcblx0XHRcdFx0ZGF0YTogcG9zdFBhcmFtc1N0cmluZ1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAoaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpXHJcblx0XHRcdFx0dXJsICs9ICc/aWljPTEnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNyZWF0ZSBwcm9taXNlc1xyXG5cdFx0Y29uc3QgY2FuY2VsZXIgPSB0aGlzLiRxLmRlZmVyPGFueT4oKTtcclxuXHRcdGNvbnN0IHJlc29sdmVyID0gdGhpcy4kcS5kZWZlcjxhbnk+KCk7XHJcblx0XHRyZXNvbHZlclsnJGl6ZW5kYVJzUXVlcnlDYW5jZWxsZWQnXSA9IHRydWU7XHJcblx0XHRyZXNvbHZlclsnZXJyb3JPcHRpb25zJ10gPSBhbmd1bGFyLmlzT2JqZWN0KGVycm9yT3B0aW9ucykgPyBlcnJvck9wdGlvbnMgOiBudWxsO1xyXG5cclxuXHRcdC8vIHByZXBhcmUgcmVxdWVzdCBvcHRpbm9zXHJcblx0XHRjb25zdCBkYXRhVHlwZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMpICYmIGFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5kYXRhVHlwZSlcclxuXHRcdFx0PyBvcHRpb25zLmRhdGFUeXBlXHJcblx0XHRcdDogJ3RleHQnO1xyXG5cdFx0bGV0IGNvbnRlbnRUeXBlID0gJ3RleHQvaHRtbCc7XHJcblx0XHRpZiAoZGF0YVR5cGUgPT09ICdqc29uJylcclxuXHRcdFx0Y29udGVudFR5cGUgPSAndGV4dC9qc29uJztcclxuXHRcdHVybCA9IGdldEFwcGVuZGVkVXJsKHVybCk7XHJcblx0XHRjb25zdCByZXF1ZXN0SWQgPSAoK25ldyBEYXRlKS50b1N0cmluZygpICsgJ18nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkudG9TdHJpbmcoKTsgLy8gcHNldWRvIHJhbmRvbSBVSUQuXHJcblx0XHRjb25zdCByZXFIZWFkZXJzID0ge30gYXMgbmcuSUh0dHBSZXF1ZXN0Q29uZmlnSGVhZGVycztcclxuXHRcdHJlcUhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gY29udGVudFR5cGU7XHJcblx0XHRjb25zdCByZXEgPSB7fSBhcyBuZy5JUmVxdWVzdENvbmZpZztcclxuXHRcdHJlcS5tZXRob2QgPSAnR0VUJztcclxuXHRcdHJlcS51cmwgPSB1cmw7XHJcblx0XHRyZXEuaGVhZGVycyA9IHJlcUhlYWRlcnM7XHJcblx0XHRyZXEudGltZW91dCA9IGNhbmNlbGVyLnByb21pc2U7XHJcblx0XHRpZiAoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSkge1xyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChyZXEsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0YW5ndWxhci5leHRlbmQocmVxLCBwb3N0RGF0YSk7IC8vIGl0IGlzIGVtcHR5IGZvciBodHRwIEdFVCByZXF1ZXN0c1xyXG5cdFx0Ly8gY3VzdG9tXHJcblx0XHRyZXFbJ3JlcXVlc3RJZCddID0gcmVxdWVzdElkO1xyXG5cdFx0cmVxWydxdWVyeVBhcmFtc0ZpbmFsJ10gPSBxdWVyeVBhcmFtc0ZpbmFsO1xyXG5cclxuXHRcdC8vIGFkZCByZXF1ZXN0IHRvIHJlcXVlc3RMaXN0XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0LnB1c2gobmV3IFJlcXVlc3RMaXN0SXRlbShyZXF1ZXN0SWQsIHVybCwgcXVlcnlQYXJhbXNGaW5hbCwgY2FuY2VsZXIsIHJlc29sdmVyKSk7XHJcblxyXG5cdFx0Ly8gcnVuIHF1ZXJ5XHJcblx0XHR0aGlzLiRodHRwKHJlcSkudGhlbihyZXNwb25zZSA9PiB7XHJcblx0XHRcdC8vIGhhbmRsZSBzdWNjZXNzXHJcblx0XHRcdHRoaXMucmVtb3ZlUmVxdWVzdChyZXNwb25zZS5jb25maWdbJ3JlcXVlc3RJZCddKTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdC8vIHJlc29sdmUgbm9uLW9iamVjdCByZXNwb25zZXNcclxuXHRcdFx0XHRyZXNvbHZlci5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gb2JqZWN0IHJlc3BvbnNlXHJcblx0XHRcdHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoZGF0YSkgJiYgYW5ndWxhci5pc1N0cmluZyhkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddKSkge1xyXG5cdFx0XHRcdC8vIEFQSSBxdWVyeSByZXN1bHRcclxuXHRcdFx0XHRpZiAoZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSA9PT0gJ29rJylcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlc29sdmUoZGF0YVsncmVzdWx0J10pO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGFbJ2l6ZW5kYVF1ZXJ5U3RhdHVzJ10gPT09ICdlcnJvcicpXHJcblx0XHRcdFx0XHRyZXNvbHZlci5yZWplY3QoZGF0YVsnZXJyb3InXSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KCdVbmtub3duIGl6ZW5kYVF1ZXJ5U3RhdHVzOiAnICsgZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gTm9uLUFQSSBqc29uIHF1ZXJ5IHJlc3VsdFxyXG5cdFx0XHRcdHJlc29sdmVyLnJlc29sdmUoZGF0YSk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHJlc3BvbnNlID0+IHtcclxuXHRcdFx0Ly8gaGFuZGxlIHJlcXVlc3QgZXJyb3JcclxuXHRcdFx0dGhpcy5yZW1vdmVSZXF1ZXN0KHJlc3BvbnNlLmNvbmZpZy5yZXF1ZXN0SWQpO1xyXG5cclxuXHRcdFx0bGV0IG5lZWRUb1JlamVjdCA9IHRydWU7XHJcblx0XHRcdGxldCBlcnJvclRleHQ6IHN0cmluZztcclxuXHRcdFx0aWYgKHJlc29sdmVyWydlcnJvck9wdGlvbnMnXSAhPSBudWxsKSB7XHJcblx0XHRcdFx0bmVlZFRvUmVqZWN0ID0gZmFsc2U7XHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gcmVzb2x2ZXJbJ2Vycm9yT3B0aW9ucyddLmhhbmRsZXIuYXBwbHkocmVzcG9uc2UsXHJcblx0XHRcdFx0XHRyZXNvbHZlclsnZXJyb3JPcHRpb25zJ10ucGFyYW1zID8gcmVzb2x2ZXJbJ2Vycm9yT3B0aW9ucyddLnBhcmFtcyA6IFtdKTtcclxuXHRcdFx0fSBlbHNlIGlmIChyZXNwb25zZS5tZXNzYWdlKVxyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHJlc3BvbnNlLm1lc3NhZ2U7XHJcblx0XHRcdGVsc2UgaWYgKHJlc3BvbnNlLmNvbmZpZylcclxuXHRcdFx0XHRlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfUXVlcnlGYWlsZWQnLCAnUXVlcnkgZmFpbGVkJykgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuY29uZmlnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdsb2NhbGVWYXJpYWJsZScsICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLicpO1xyXG5cdFx0XHRpZiAocmVzb2x2ZXJbJyRpemVuZGFSc1F1ZXJ5Q2FuY2VsbGVkJ10pIHtcclxuXHRcdFx0XHRpZiAobmVlZFRvUmVqZWN0KVxyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KGVycm9yVGV4dCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzb2x2ZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSByZXF1ZXN0IGZyb20gYXJyYXlcclxuXHQgKi9cclxuXHRwcml2YXRlIHJlbW92ZVJlcXVlc3QocmVxdWVzdElkOiBzdHJpbmcpIHtcclxuXHRcdGxldCBmb3VuZEluZGV4ID0gLTE7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZSAoZm91bmRJbmRleCA8IDAgJiYgaSA8IHRoaXMucmVxdWVzdExpc3QubGVuZ3RoKSB7XHJcblx0XHRcdGlmICh0aGlzLnJlcXVlc3RMaXN0W2ldLnJlcXVlc3RJZCA9PT0gcmVxdWVzdElkKSB7XHJcblx0XHRcdFx0Zm91bmRJbmRleCA9IGk7XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGZvdW5kSW5kZXggPj0gMCkge1xyXG5cdFx0XHR0aGlzLnJlcXVlc3RMaXN0LnNwbGljZShmb3VuZEluZGV4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckd2luZG93JywgJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJHEnLCAnJGluamVjdG9yJywgJyRsb2cnLCAnJGl6ZW5kYUxvY2FsZScsICckaXplbmRhVXRpbFVpU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5jb25zdGFudCgnaXplbmRhLmNvbW1vbi5xdWVyeS5jYW5jZWxsYWJsZVF1ZXJpZXMnLCBbe1xyXG5cdFx0XHR3c2NtZDogJ2xvYWREYXNoYm9hcmRDb25maWdOZXcnIC8vIGxvYWQgZGFzaGJvYXJkIGxheW91dCBxdWVyeVxyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldERhc2hib2FyZENhdGVnb3JpZXNOZXcnXHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0RGFzaGJvYXJkVGlsZVByZXZpZXdOZXcnIC8vIGxvYWQgdGlsZSBodG1sIHF1ZXJ5XHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0Q3JzU2NoZWR1bGUnXHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0Q3JzU2hhcmUnXHJcblx0XHR9XSlcclxuXHRcdC5zZXJ2aWNlKCckaXplbmRhUnNRdWVyeScsIEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVJzUXVlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVxdWVzdExpc3RJdGVtIHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHB1YmxpYyByZXF1ZXN0SWQ6IHN0cmluZyxcclxuXHRcdHB1YmxpYyB1cmw6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBxdWVyeVBhcmFtc0ZpbmFsOiBhbnksXHJcblx0XHRwdWJsaWMgY2FuY2VsbGVyOiBhbnksXHJcblx0XHRwdWJsaWMgcmVzb2x2ZXI6IGFueSkgeyB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAoc2VhcmNoLCByZXBsYWNlbWVudCkge1xyXG5cdGNvbnN0IHRhcmdldCA9IHRoaXM7XHJcblx0aWYgKHR5cGVvZiBzZWFyY2ggIT09ICdzdHJpbmcnIHx8IHNlYXJjaCA9PT0gJycpXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHRyZXR1cm4gdGFyZ2V0LnNwbGl0KHNlYXJjaCkuam9pbihyZXBsYWNlbWVudCk7XHJcbn07XHJcblxyXG4vKipcclxuICogcmVxdWlyZWpzIG1vZHVsZSwgd2hpY2ggY3JlYXRlcyBhbmd1bGFyIG1vZHVsZXMuXHJcbiAqIHJldHVybnMgJ2xvYWRTZXR0aW5ncycgZnVuY3Rpb24sIHdoaWNoIGNvdWxkIGxvYWQgc2V0dGluZ3MgZm9yIHRoaXMgbW9kdWxlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUNvbW1vbkxvYWRlciB7XHJcblx0c3RhdGljIGxvYWRTZXR0aW5ncygpIHtcdFxyXG5cdFx0Y29uc3QgZGVmZXJyZWRPYmplY3QgPSBhbmd1bGFyLmVsZW1lbnQuRGVmZXJyZWQoKTtcclxuXHRcdGNvbnN0IHVybFNldHRpbmdzID0gd2luZG93LnVybFNldHRpbmdzJDtcclxuXHRcdGNvbnN0IHJzUGFnZVVybCA9IHVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdGNvbnN0IHNldHRpbmdzVXJsID0gcnNQYWdlVXJsICsgJz93c2NtZD1nZXRDb21tb25TZXR0aW5ncyc7XHJcblx0XHQvLyBsb2FkIGNvbW1vbiBzZXR0aW5nczpcclxuXHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZ2V0KHNldHRpbmdzVXJsLCAoY29uZmlnSnNvbikgPT4ge1xyXG5cdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gY29uZmlnSnNvbiBhcyBJSXplbmRhQ29tbW9uU2V0dGluZ3M7XHJcblx0XHRcdGFuZ3VsYXJcclxuXHRcdFx0XHQubW9kdWxlKCdpemVuZGEuY29tbW9uLmNvcmUnKVxyXG5cdFx0XHRcdC5jb25zdGFudCgnJGl6ZW5kYUNvbW1vblNldHRpbmdzJywgY29uZmlnT2JqZWN0KTtcclxuXHRcdFx0ZGVmZXJyZWRPYmplY3QucmVzb2x2ZSgpO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXJyZWRPYmplY3QucHJvbWlzZSgpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhQ29tbW9uU2V0dGluZ3Mge1xyXG5cdGFsbG93Q3JlYXRlTmV3Q2F0ZWdvcnk6IGJvb2xlYW47XHJcblx0YWxsb3dJbnZhbGlkQ2hhcmFjdGVyczogYm9vbGVhbjtcclxuXHRidWxrQ3N2OiBib29sZWFuO1xyXG5cdGNhdGVnb3J5Q2hhcmFjdGVyOiBzdHJpbmc7XHJcblx0Y3VsdHVyZTogc3RyaW5nO1xyXG5cdGRhdGVGb3JtYXRMb25nOiBzdHJpbmc7XHJcblx0ZGF0ZUZvcm1hdFNob3J0OiBzdHJpbmc7XHJcblx0c2hvd0FsbEluUmVzdWx0czogYm9vbGVhbjtcclxuXHRzaG93Q2F0ZWdvcnlUZXh0Ym94SW5TYXZlRGlhbG9nOiBib29sZWFuO1xyXG5cdHNob3dEZXNpZ25MaW5rczogYm9vbGVhbjtcclxuXHRzaG93U2F2ZUFzVG9vbGJhckJ1dHRvbjogYm9vbGVhbjtcclxuXHRzaG93U2F2ZUNvbnRyb2xzOiBib29sZWFuO1xyXG5cdHNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzOiBib29sZWFuO1xyXG5cdHN0cmlwSW52YWxpZENoYXJhY3RlcnM6IGJvb2xlYW47XHJcblx0dGltZUZvcm1hdExvbmc6IHN0cmluZztcclxuXHR0aW1lRm9ybWF0U2hvcnQ6IHN0cmluZztcclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgeyBJSXplbmRhQ29tbW9uU2V0dGluZ3MgfSBmcm9tICdjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRlVGltZUZvcm1hdCB7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwdWJsaWMgbG9uZ0RhdGU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBsb25nVGltZTogc3RyaW5nLFxyXG5cdFx0cHVibGljIHNob3J0RGF0ZTogc3RyaW5nLFxyXG5cdFx0cHVibGljIHNob3J0VGltZTogc3RyaW5nLFxyXG5cdFx0cHVibGljIHRpbWVGb3JtYXRGb3JJbm5lckl6ZW5kYVByb2Nlc3Npbmc6IHN0cmluZywgLy8gdGhpcyB0aW1lIGZvcm1hdCB1c2VkIGluIG1ldGhvZCBEYXRlTG9jVG9VcyBmb3Igc2F2aW5nIGZpbHRlcnMuXHJcblx0XHRwdWJsaWMgc2hvd1RpbWVJbkZpbHRlclBpY2tlcnM6IGJvb2xlYW4sXHJcblx0XHRwdWJsaWMgZGVmYXVsdEZpbHRlckRhdGVGb3JtYXQ6IHN0cmluZykge1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2Uge1xyXG5cclxuXHRyZWFkb25seSBkZWZhdWx0RGF0ZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQ7XHJcblx0cmVhZG9ubHkgZGF0ZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQ7XHJcblx0cmVhZG9ubHkgY3VsdHVyZTogc3RyaW5nO1xyXG5cdHJlYWRvbmx5IGJ1bGtDc3Y6IGJvb2xlYW47XHJcblx0cmVhZG9ubHkgY2F0ZWdvcnlDaGFyYWN0ZXI6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRsb2c6IG5nLklMb2dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbDogSXplbmRhVXRpbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25TZXR0aW5nczogSUl6ZW5kYUNvbW1vblNldHRpbmdzKSB7XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZSBmb3JtYXRzXHJcblx0XHR0aGlzLmRlZmF1bHREYXRlRm9ybWF0ID0gbmV3IERhdGVUaW1lRm9ybWF0KFxyXG5cdFx0XHQnZGRkZCwgTU1NTSBERCwgWVlZWScsXHJcblx0XHRcdCdoOm1tOnNzIEEnLFxyXG5cdFx0XHQnTU0vREQvWVlZWScsXHJcblx0XHRcdCdoOm1tIEEnLFxyXG5cdFx0XHQnSEg6bW06c3MnLFxyXG5cdFx0XHRmYWxzZSxcclxuXHRcdFx0J01NL0REL1lZWVknICsgKCRpemVuZGFDb21tb25TZXR0aW5ncy5zaG93VGltZUluRmlsdGVyUGlja2VycyA/ICcgSEg6bW06c3MnIDogJycpKTtcclxuXHRcdGxldCBmb3JtYXQgPSB0aGlzLmRlZmF1bHREYXRlRm9ybWF0O1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0ID0gbmV3IERhdGVUaW1lRm9ybWF0KGZvcm1hdC5sb25nRGF0ZSwgZm9ybWF0LmxvbmdUaW1lLCBmb3JtYXQuc2hvcnREYXRlLFxyXG5cdFx0XHRmb3JtYXQuc2hvcnRUaW1lLCBmb3JtYXQudGltZUZvcm1hdEZvcklubmVySXplbmRhUHJvY2Vzc2luZywgZm9ybWF0LnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzLCAnJyk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQubG9uZ0RhdGUgPSB0aGlzLmNvbnZlcnREb3ROZXRUaW1lRm9ybWF0VG9Nb21lbnQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLmRhdGVGb3JtYXRMb25nKTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5sb25nVGltZSA9IHRoaXMuY29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudCgkaXplbmRhQ29tbW9uU2V0dGluZ3MudGltZUZvcm1hdExvbmcpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LnNob3J0RGF0ZSA9IHRoaXMuY29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudCgkaXplbmRhQ29tbW9uU2V0dGluZ3MuZGF0ZUZvcm1hdFNob3J0KTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5zaG9ydFRpbWUgPSB0aGlzLmNvbnZlcnREb3ROZXRUaW1lRm9ybWF0VG9Nb21lbnQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnRpbWVGb3JtYXRTaG9ydCk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQuc2hvd1RpbWVJbkZpbHRlclBpY2tlcnMgPSAkaXplbmRhQ29tbW9uU2V0dGluZ3Muc2hvd1RpbWVJbkZpbHRlclBpY2tlcnM7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQuZGVmYXVsdEZpbHRlckRhdGVGb3JtYXQgPSB0aGlzLmRhdGVGb3JtYXQuc2hvcnREYXRlICtcclxuXHRcdFx0KCRpemVuZGFDb21tb25TZXR0aW5ncy5zaG93VGltZUluRmlsdGVyUGlja2VycyA/ICcgJyArIHRoaXMuZGF0ZUZvcm1hdC5sb25nVGltZSA6ICcnKTtcclxuXHJcblx0XHQvLyBjdWx0dXJlXHJcblx0XHR0aGlzLmN1bHR1cmUgPSAkaXplbmRhQ29tbW9uU2V0dGluZ3MuY3VsdHVyZTtcclxuXHRcdGlmICh0aGlzLmN1bHR1cmUuaW5kZXhPZignLScpID4gMClcclxuXHRcdFx0dGhpcy5jdWx0dXJlID0gdGhpcy5jdWx0dXJlLnN1YnN0cmluZygwLCB0aGlzLmN1bHR1cmUuaW5kZXhPZignLScpKTtcclxuXHJcblx0XHQvLyBidWxrIGNzdlxyXG5cdFx0dGhpcy5idWxrQ3N2ID0gZmFsc2U7XHJcblx0XHRpZiAodHlwZW9mICRpemVuZGFDb21tb25TZXR0aW5ncy5idWxrQ3N2ICE9ICd1bmRlZmluZWQnKVxyXG5cdFx0XHR0aGlzLmJ1bGtDc3YgPSAkaXplbmRhQ29tbW9uU2V0dGluZ3MuYnVsa0NzdjtcclxuXHJcblx0XHQvLyBjYXRlZ29yeSBjaGFyYWN0ZXJcclxuXHRcdHRoaXMuY2F0ZWdvcnlDaGFyYWN0ZXIgPSAnXFxcXCc7XHJcblx0XHRpZiAodHlwZW9mICRpemVuZGFDb21tb25TZXR0aW5ncy5jYXRlZ29yeUNoYXJhY3RlciAhPSAndW5kZWZpbmVkJylcclxuXHRcdFx0dGhpcy5jYXRlZ29yeUNoYXJhY3RlciA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5jYXRlZ29yeUNoYXJhY3RlcjtcclxuXHJcblx0XHQkbG9nLmRlYnVnKCdDb21tb24gc2V0dGluZ3MgaW5pdGlhbGl6ZWQnKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlZmF1bHQgZGF0ZSBmb3JtYXRzXHJcblx0ICogQHJldHVybnMge0RhdGVUaW1lRm9ybWF0fSBcclxuXHQgKi9cclxuXHRnZXREZWZhdWx0RGF0ZUZvcm1hdCgpOiBEYXRlVGltZUZvcm1hdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlZmF1bHQgZm9ybWF0IHN0cmluZyAoZW4tVVMpLiBUaGlzIGZvcm1hdCB1c2VkIGZvciBzZW5kaW5nIGRhdGVzIHRvIHRoZSBzZXJ2ZXIuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGN1c3RvbURhdGVGb3JtYXRTdHJpbmcuIEFsdGVybmF0aXZlIGRhdGUgZm9ybWF0IGlmIHJlcXVpcmVkLlxyXG5cdCAqL1xyXG5cdGdldERlZmF1bHREYXRlRm9ybWF0U3RyaW5nKGN1c3RvbURhdGVGb3JtYXRTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBzaG93VGltZSA9IHRoaXMuJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzO1xyXG5cdFx0Y29uc3QgdGltZUZvcm1hdFN0cmluZyA9IHNob3dUaW1lID8gJyAnICsgdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdC50aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nIDogJyc7XHJcblx0XHRsZXQgZGF0ZUZvcm1hdFN0cmluZyA9IHRoaXMuZGVmYXVsdERhdGVGb3JtYXQuc2hvcnREYXRlO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoY3VzdG9tRGF0ZUZvcm1hdFN0cmluZykgJiYgY3VzdG9tRGF0ZUZvcm1hdFN0cmluZy50cmltKCkgIT09ICcnKSB7XHJcblx0XHRcdGRhdGVGb3JtYXRTdHJpbmcgPSBjdXN0b21EYXRlRm9ybWF0U3RyaW5nO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGRhdGVGb3JtYXRTdHJpbmcgKyB0aW1lRm9ybWF0U3RyaW5nO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCAubmV0IGRhdGUgdGltZSBmb3JtYXQgc3RyaW5nIHRvIG1vbWVudGpzIGZvcm1hdCBzdHJpbmcuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCAubmV0IGZvcm1hdCBzdHJpbmdcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBtb21lbnRqcyBmb3JtYXQgc3RyaW5nXHJcblx0ICovXHJcblx0Y29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudChmb3JtYXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHR2YXIgY29udmVydGVyID0gaXplbmRhLnV0aWxzLmRhdGUuZm9ybWF0Q29udmVydGVyO1xyXG5cdFx0cmV0dXJuIGNvbnZlcnRlci5jb252ZXJ0KGZvcm1hdCwgY29udmVydGVyLmRvdE5ldCwgY29udmVydGVyLm1vbWVudEpzKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCogR2V0IGNvbW1vbiBzZXR0aW5nc1xyXG5cdCovXHJcblx0Z2V0Q29tbW9uU2V0dGluZ3MoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFDb21tb25TZXR0aW5ncztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRlIGZvcm1hdC5cclxuXHQgKi9cclxuXHRnZXREYXRlRm9ybWF0KCk6IERhdGVUaW1lRm9ybWF0IHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGVGb3JtYXQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY3VycmVudCBwYWdlIGN1bHR1cmUuXHJcblx0ICovXHJcblx0Z2V0Q3VsdHVyZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3VsdHVyZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBcImJ1bGsgY3N2XCIgQ1NWIGV4cG9ydCBtb2RlIGVuYWJsZWQuXHJcblx0ICovXHJcblx0Z2V0QnVsa0NzdigpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmJ1bGtDc3Y7XHJcblx0fVxyXG5cclxuXHRnZXRDYXRlZ29yeUNoYXJhY3RlcigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2F0ZWdvcnlDaGFyYWN0ZXI7XHJcblx0fVxyXG5cclxuXHRnZXRSZXBvcnRGdWxsTmFtZShyZXBvcnROYW1lOiBzdHJpbmcsIHJlcG9ydENhdGVnb3J5Pzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGxldCByZXN1bHQgPSBudWxsO1xyXG5cdFx0aWYgKHJlcG9ydE5hbWUpIHtcclxuXHRcdFx0cmVzdWx0ID0gJyc7XHJcblx0XHRcdGlmICghdGhpcy4kaXplbmRhVXRpbC5pc1VuY2F0ZWdvcml6ZWQocmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlcG9ydENhdGVnb3J5ICsgdGhpcy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0XHRyZXN1bHQgKz0gcmVwb3J0TmFtZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJGxvZycsICckcScsICckaXplbmRhTG9jYWxlJywgJyRpemVuZGFVdGlsJywgJyRpemVuZGFDb21tb25TZXR0aW5ncyddO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhU2V0dGluZ3MnLFxyXG5cdFx0XHRJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgc2VydmljZSBwcm92aWRlcyBBUEkgcXVlcnkgbWV0aG9kcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeTogSXplbmRhUnNRdWVyeVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGU6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UpIHsgfVxyXG5cclxuXHQvKipcclxuXHQgKiBVc2VkIGZvciByZWZyZXNoIHNlc3Npb24gdGltZW91dFxyXG5cdCAqL1xyXG5cdHBpbmcoKTogYW5ndWxhci5JUHJvbWlzZTxudW1iZXI+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5LnF1ZXJ5KCdwaW5nJywgW10sIHsgZGF0YVR5cGU6ICd0ZXh0JyB9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBuZXcgZGFzaGJvYXJkIHJlcG9ydCBzZXQgYW5kIHNldCBpdCBhcyBDdXJyZW50UmVwb3J0U2V0XHJcblx0ICovXHJcblx0bmV3RGFzaGJvYXJkKCk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeS5xdWVyeSgnbmV3Y3JzJywgWydEYXNoYm9hcmREZXNpZ25lciddLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiAoKSA9PiB0aGlzLiRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRGFzaGJvYXJkQ3JlYXRlRXJyb3InLCAnRmFpbGVkIHRvIGNyZWF0ZSBuZXcgZGFzaGJvYXJkJyksXHJcblx0XHRcdHBhcmFtczogW11cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgcmVwb3J0IHNldCBpcyBleGlzdC4gUmV0dXJucyBwcm9taXNlIHdpdGggJ3RydWUnIHZhbHVlIGlmIGV4aXN0c1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRTZXRGdWxsTmFtZSBSZXBvcnQgc2V0IGZ1bGwgbmFtZSBmb3IgY2hlY2suXHJcblx0ICovXHJcblx0Y2hlY2tSZXBvcnRTZXRFeGlzdChyZXBvcnRTZXRGdWxsTmFtZTogc3RyaW5nKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhyZXBvcnRTZXRGdWxsTmFtZSkgfHwgcmVwb3J0U2V0RnVsbE5hbWUudHJpbSgpID09PSAnJylcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdyZXBvcnRTZXRGdWxsTmFtZSBzaG91bGQgYmUgbm9uIGVtcHR5IHN0cmluZycpO1xyXG5cclxuXHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRDaGVja0V4aXN0RXJyb3InLCAnRmFpbGVkIHRvIGNoZWNrIGRhc2hib2FyZCBleGlzdCcpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnkucXVlcnkoJ2NoZWNrcmVwb3J0c2V0ZXhpc3RzJywgW3JlcG9ydFNldEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0U2V0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBBZEhvY0NvbnRleHQgY3VycmVudCByZXBvcnQgc2V0XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydFNldEZ1bGxOYW1lIFJlcG9ydCBzZXQgZnVsbCBuYW1lIGZvciBjaGVjay5cclxuXHQgKi9cclxuXHRzZXRDcnMocmVwb3J0U2V0RnVsbE5hbWU6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfU2V0Q3JzRXJyb3InLCAnRmFpbGVkIHRvIHNldCBjdXJyZW50IHJlcG9ydCBzZXQnKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5LnF1ZXJ5KCdzZXRjdXJyZW50cmVwb3J0c2V0JywgW3JlcG9ydFNldEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0U2V0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgbGlzdCBieSBjYXRlZ29yeVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSBjYXRlZ29yeSBuYW1lLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFNldENhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0dmFyIGNhdGVnb3J5U3RyID0gYW5ndWxhci5pc0RlZmluZWQoY2F0ZWdvcnkpXHJcblx0XHRcdD8gKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IHRoaXMuJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKS50b0xvd2VyQ2FzZSgpXHJcblx0XHRcdFx0PyAnJ1xyXG5cdFx0XHRcdDogY2F0ZWdvcnkpXHJcblx0XHRcdDogJyc7XHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfR2V0Q2F0ZWdvcnlFcnJvcicsICdGYWlsZWQgdG8gZ2V0IHJlcG9ydHMgZm9yIGNhdGVnb3J5Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeS5xdWVyeSgncmVwb3J0bGlzdGRhdGFsaXRlJywgW2NhdGVnb3J5U3RyXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbY2F0ZWdvcnldXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgcGFydHNcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0RnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZSAoeHh4QGFhYVxcYmJiKS5cclxuXHQgKi9cclxuXHRnZXRSZXBvcnRQYXJ0cyhyZXBvcnRGdWxsTmFtZTogc3RyaW5nKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19SZXBvcnRQYXJ0c0Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgcmVwb3J0IHBhcnRzIGZvciByZXBvcnQnKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5LnF1ZXJ5KCdyZXBvcnRkYXRhJywgW3JlcG9ydEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRhIHdoaWNoIG5lZWRlZCBmb3Igc2NoZWR1bGVcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50VGltZXpvbmVPZmZzZXQgRGVmYXVsdCB0aW1lem9uZS5cclxuXHQgKi9cclxuXHRnZXRTY2hlZHVsZURhdGEoY2xpZW50VGltZXpvbmVPZmZzZXQ6IG51bWJlcik6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeS5xdWVyeSgnZ2V0Q3JzU2NoZWR1bGUnLCBbU3RyaW5nKGNsaWVudFRpbWV6b25lT2Zmc2V0KV0sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHNjaGVkdWxlIGRhdGEnLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRhIHdoaWNoIG5lZWRlZCBmb3Igc2NoZWR1bGVcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZmF1bHRTaGFyZUNvbmZpZyBJZiB0cnVlIC0gc2hhcmUgY29uZmlnIHdpbGwgZ2V0IGZyb20gbmV3IGVtcHR5IHJlcG9ydHNldCwgZmFsc2UgLSBmcm9tIGN1cnJlbnQgcmVwb3J0IHNldC5cclxuXHQgKi9cclxuXHRnZXRTaGFyZURhdGEoZGVmYXVsdFNoYXJlQ29uZmlnPzogYm9vbGVhbik6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeS5xdWVyeSgnZ2V0Q3JzU2hhcmUnLCBbZGVmYXVsdFNoYXJlQ29uZmlnID8gJ3RydWUnIDogJ2ZhbHNlJ10sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHNoYXJlIGRhdGEnLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhUnNRdWVyeScsICckaXplbmRhTG9jYWxlJ107XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFDb21tb25RdWVyeScsIEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVBpbmdTZXJ2aWNlIHtcclxuXHJcblx0cHJpdmF0ZSByZWFkb25seSBtaW51dGU6IG51bWJlcjtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRUaW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSB0aW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBwaW5nVGltZXI6IGFueTtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeTogSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLm1pbnV0ZSA9IDYwICogMTAwMDtcclxuXHRcdHRoaXMuZGVmYXVsdFRpbWVvdXQgPSAxNSAqIHRoaXMubWludXRlOyAvLyBkZWZhdWx0IHRpbWVvdXQgLSAxNSBtaW51dGVzLlxyXG5cdFx0dGhpcy50aW1lb3V0ID0gLTE7XHJcblx0XHR0aGlzLnBpbmdUaW1lciA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIHBpbmcgcXVlcmllc1xyXG5cdCAqL1xyXG5cdHN0b3BQaW5nKCkge1xyXG5cdFx0aWYgKHRoaXMucGluZ1RpbWVyICE9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMuJHRpbWVvdXQuY2FuY2VsKHRoaXMucGluZ1RpbWVyKTtcclxuXHRcdFx0dGhpcy5waW5nVGltZXIgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWFrZSBwaW5nIGl0ZXJhdGlvbiBhbmQgY3JlYXRlIHRpbWVvdXQgZm9yIG5leHQgaXRlcmF0aW9uLlxyXG5cdCAqL1xyXG5cdHBpbmcoKSB7XHJcblx0XHQvLyBjYW5jZWwgcHJldmlvdXMgdGltZXI6XHJcblx0XHR0aGlzLnN0b3BQaW5nKCk7XHJcblxyXG5cdFx0Ly8gaGludDogc3RhcnQgaW1tZWRpYXRlbHkgaWYgdGltZW91dCB2YXJpYWJsZSB3YXNuJ3Qgc2V0LlxyXG5cdFx0dGhpcy5waW5nVGltZXIgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnkucGluZygpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0Ly8gc2V0IHRpbWVvdXRcclxuXHRcdFx0XHR0aGlzLnRpbWVvdXQgPSAoZGF0YSA+IDApXHJcblx0XHRcdFx0XHQ/IE1hdGgucm91bmQoZGF0YSAqIDAuNzUgKiB0aGlzLm1pbnV0ZSlcclxuXHRcdFx0XHRcdDogdGhpcy5kZWZhdWx0VGltZW91dDtcclxuXHRcdFx0XHR0aGlzLnBpbmcoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFx0XHR0aGlzLnRpbWVvdXQgPj0gMCA/IHRoaXMudGltZW91dCA6IDApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgcGluZyBxdWVyaWVzXHJcblx0ICovXHJcblx0c3RhcnRQaW5nKCkge1xyXG5cdFx0dGhpcy5waW5nKCk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUNvbW1vblF1ZXJ5J107XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFQaW5nJywgSXplbmRhUGluZ1NlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhUGluZ1NlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFQaW5nU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRmdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRjYXRlZ29yeTogc3RyaW5nID0gbnVsbDtcclxuXHRuYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdGlzTmV3OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdHN0YXRpYyBmcm9tSnNvbihqc29uOiBhbnkpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdGNvbnN0IGxvY2F0aW9uID0gbmV3IEl6ZW5kYUxvY2F0aW9uTW9kZWwoKTtcclxuXHRcdGxvY2F0aW9uLmZ1bGxOYW1lID0ganNvbi5mdWxsTmFtZSB8fCBudWxsO1xyXG5cdFx0bG9jYXRpb24uY2F0ZWdvcnkgPSBqc29uLmNhdGVnb3J5IHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5uYW1lID0ganNvbi5uYW1lIHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5pc05ldyA9ICEhanNvbi5pc05ldztcclxuXHRcdHJldHVybiBsb2NhdGlvbjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVVybFNlcnZpY2Uge1xyXG5cclxuXHRzZXR0aW5nczogYW55OyAvLyB1cmwgc2V0dGluZ3MuXHJcblx0cmVwb3J0TmFtZUluZm86IEl6ZW5kYUxvY2F0aW9uTW9kZWw7XHJcblx0bG9jYXRpb246IGFueTsgLy8gY3VycmVudCBsb2NhdGlvbiAocnguQmVoYXZpb3JTdWJqZWN0IG9iamVjdClcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJ4OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGxvZzogbmcuSUxvZ1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFSc1F1ZXJ5OiBJemVuZGFSc1F1ZXJ5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVBpbmc6IEl6ZW5kYVBpbmdTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbDogSXplbmRhVXRpbFNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnNldHRpbmdzID0gJHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWVJbmZvID0gdGhpcy5nZXRMb2NhdGlvbigpO1xyXG5cdFx0dGhpcy5sb2NhdGlvbiA9IG5ldyByeC5CZWhhdmlvclN1YmplY3QodGhpcy5yZXBvcnROYW1lSW5mbyk7XHJcblx0XHQvLyBzdWJzY3JpYmUgb24gbG9jYXRpb24gY2hhbmdlOlxyXG5cdFx0d2luZG93Lm9ucG9wc3RhdGUgPSBldmVudCA9PiB7XHJcblx0XHRcdGlmIChldmVudC5zdGF0ZSAmJiAoZXZlbnQuc3RhdGUucm4gfHwgZXZlbnQuc3RhdGUubmV3KSkge1xyXG5cdFx0XHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBzdGFydCBwaW5nXHJcblx0XHR0aGlzLiRpemVuZGFQaW5nLnN0YXJ0UGluZygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJlcG9ydCBuYW1lIGFuZCBjYXRlZ29yeSB0byBsb2NhdGlvblxyXG5cdCAqIEBwYXJhbSB7SXplbmRhTG9jYXRpb25Nb2RlbH0gbG9jYXRpb25JbmZvIGxvY2F0aW9uIG9iamVjdFxyXG5cdCAqL1xyXG5cdHNldExvY2F0aW9uKGxvY2F0aW9uSW5mbzogSXplbmRhTG9jYXRpb25Nb2RlbCkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGxvY2F0aW9uSW5mbykpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignXCJsb2NhdGlvbkluZm9cIiBwYXJhbWV0ZXIgc2hvdWxkIGJlIG9iamVjdCcpO1xyXG5cclxuXHRcdC8vIGlmIGlzIG5ld1xyXG5cdFx0aWYgKGxvY2F0aW9uSW5mby5pc05ldykge1xyXG5cdFx0XHR0aGlzLnNldFVybCh7IGlzTmV3OiAnMScgfSwgeyBuZXc6IHRydWUgfSk7XHJcblx0XHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbmF2aWdhdGUgdG8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHR0aGlzLnNldFVybCh7IHJuOiBsb2NhdGlvbkluZm8uZnVsbE5hbWUucmVwbGFjZUFsbCgnICcsICcrJykgfSwgeyBybjogbG9jYXRpb25JbmZvLmZ1bGxOYW1lIH0pO1xyXG5cdFx0dGhpcy5sb2NhdGlvbkNoYW5nZWRIYW5kbGVyKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2UgdXJsIGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgcmVsb2FkIHRoZSBwYWdlIHdpdGggbmV3IHVybC5cclxuXHQgKiBAcGFyYW0ge2FueX0gcGFyYW1zIC0gdXJsIHBhcmFtcyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGFkZGl0aW9uYWxQYXJhbXMgLSBhZGRpdGlvbmFsIHBhcmFtcyBmb3IgcHVzaFN0YXRlLlxyXG5cdCAqL1xyXG5cdHNldFVybChwYXJhbXM6IGFueSwgYWRkaXRpb25hbFBhcmFtczogYW55KSB7XHJcblx0XHRjb25zdCBwcmV2aW91c1VybFBhcmFtcyA9IHRoaXMuZ2V0VXJsUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHJcblx0XHRjb25zdCBpc1JuT2xkRXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHByZXZpb3VzVXJsUGFyYW1zLnJuKTtcclxuXHRcdGNvbnN0IGlzUm5OZXdFeGlzdCA9IGFuZ3VsYXIuaXNTdHJpbmcocGFyYW1zLnJuKSAmJiBwYXJhbXMucm4gIT09ICcnO1xyXG5cclxuXHRcdGNvbnN0IHJuT2xkID0gaXNSbk9sZEV4aXN0ID8gJ3JuPScgKyBwcmV2aW91c1VybFBhcmFtcy5ybi5yZXBsYWNlQWxsKCcgJywgJysnKSA6ICcnO1xyXG5cdFx0Y29uc3Qgcm5OZXcgPSBpc1JuTmV3RXhpc3QgPyAncm49JyArIHBhcmFtcy5ybi5yZXBsYWNlQWxsKCcgJywgJysnKSA6ICcnO1xyXG5cclxuXHRcdGNvbnN0IGlzTmV3T2xkRXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHByZXZpb3VzVXJsUGFyYW1zLmlzTmV3KTtcclxuXHRcdGNvbnN0IGlzTmV3TmV3RXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHBhcmFtcy5pc05ldyk7XHJcblxyXG5cdFx0aWYgKGlzUm5PbGRFeGlzdCAmJiBpc1JuTmV3RXhpc3QgJiYgcm5PbGQgPT09IHJuTmV3KVxyXG5cdFx0XHQvLyBzYW1lIHJuXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChpc05ld09sZEV4aXN0ICYmIGlzTmV3TmV3RXhpc3QpXHJcblx0XHRcdC8vIHNhbWUgaXNOZXdcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKGlzUm5OZXdFeGlzdCAmJiBpc05ld05ld0V4aXN0KVxyXG5cdFx0XHR0aHJvdyAnSW5jb3JyZWN0IHBhcmFtczogYm90aCBcInJuXCIgYW5kIFwiaXNOZXdcIiBkZWZpbmVkLic7XHJcblxyXG5cdFx0Y29uc3QgbmV3UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuXHRcdGxldCBuZXdQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoID8gd2luZG93LmxvY2F0aW9uLnNlYXJjaCA6ICc/JztcclxuXHJcblx0XHRpZiAoaXNOZXdOZXdFeGlzdCkge1xyXG5cdFx0XHQvLyBnbyB0byBuZXcgcmVwb3J0XHJcblx0XHRcdC8vIHJlbW92ZSByblxyXG5cdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbChybk9sZCwgJycpO1xyXG5cdFx0XHRuZXdQYXJhbXMgKz0gKG5ld1BhcmFtcy5lbmRzV2l0aCgnPycpID8gJycgOiAnJicpICsgJ2lzTmV3PTEnO1xyXG5cdFx0fSBlbHNlIGlmIChpc1JuTmV3RXhpc3QpIHtcclxuXHRcdFx0Ly8gZ28gdG8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHRcdC8vIHJlbW92ZSBpc05ld1xyXG5cdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbCgnaXNOZXc9MScsICcnKTtcclxuXHRcdFx0aWYgKGlzUm5PbGRFeGlzdClcclxuXHRcdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbChybk9sZCwgcm5OZXcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3UGFyYW1zICs9IChuZXdQYXJhbXMuZW5kc1dpdGgoJz8nKSA/ICcnIDogJyYnKSArIHJuTmV3O1xyXG5cdFx0fVxyXG5cdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwoJz8mJywgJz8nKTtcclxuXHRcdG5ld1BhcmFtcyA9IG5ld1BhcmFtcy5yZXBsYWNlQWxsKCcmJicsICcmJyk7XHJcblxyXG5cdFx0Ly8gbmF2aWdhdGUgbmV3IHVybFxyXG5cdFx0Y29uc3QgbmV3VXJsID0gbmV3UGF0aCArIG5ld1BhcmFtcztcclxuXHRcdGlmICh0aGlzLiR3aW5kb3cuaGlzdG9yeSAmJiB0aGlzLiR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpIHtcclxuXHRcdFx0dGhpcy4kd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGFkZGl0aW9uYWxQYXJhbXMsIGRvY3VtZW50LnRpdGxlLCBuZXdVcmwpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbmV3VXJsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyByZXBvcnQgZnVsbCBuYW1lIChjYXRlZ29yeSBkZWxpbWl0ZXI6ICRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKVxyXG5cdCAqIEByZXR1cm4ge0l6ZW5kYUxvY2F0aW9uTW9kZWx9IGN1cnJlbnQgbG9jYXRpb24gbW9kZWwuXHJcblx0ICovXHJcblx0Z2V0TG9jYXRpb24oKTogSXplbmRhTG9jYXRpb25Nb2RlbCB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gbmV3IFVybFNldHRpbmdzKCk7IC8vIHJldHJpZXZlIGN1cnJlbnQgdXJsIHNldHRpbmdzXHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy5zZXR0aW5ncy5yZXBvcnRJbmZvO1xyXG5cclxuXHRcdC8vIGV4aXN0aW5nIHJlcG9ydFxyXG5cdFx0aWYgKHJlcG9ydEluZm8uZnVsbE5hbWUpXHJcblx0XHRcdHJldHVybiBJemVuZGFMb2NhdGlvbk1vZGVsLmZyb21Kc29uKHJlcG9ydEluZm8pO1xyXG5cclxuXHRcdC8vIGlzTmV3XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgSXplbmRhTG9jYXRpb25Nb2RlbCgpO1xyXG5cdFx0cmVzdWx0LmlzTmV3ID0gcmVwb3J0SW5mby5pc05ldztcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJlcG9ydCBuYW1lIGFuZCBjYXRlZ29yeSB0byBsb2NhdGlvbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKi9cclxuXHRzZXRSZXBvcnRGdWxsTmFtZShmdWxsTmFtZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNldExvY2F0aW9uKHtcclxuXHRcdFx0ZnVsbE5hbWU6IGZ1bGxOYW1lLFxyXG5cdFx0XHRuYW1lOiB0aGlzLmV4dHJhY3RSZXBvcnROYW1lKGZ1bGxOYW1lKSxcclxuXHRcdFx0Y2F0ZWdvcnk6IHRoaXMuZXh0cmFjdFJlcG9ydENhdGVnb3J5KGZ1bGxOYW1lKSxcclxuXHRcdFx0aXNOZXc6IGZhbHNlXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBHbyB0byBcIm5ld1wiXHJcblx0ICovXHJcblx0c2V0SXNOZXcoKSB7XHJcblx0XHR0aGlzLnNldExvY2F0aW9uKHtcclxuXHRcdFx0ZnVsbE5hbWU6IG51bGwsXHJcblx0XHRcdG5hbWU6IG51bGwsXHJcblx0XHRcdGNhdGVnb3J5OiBudWxsLFxyXG5cdFx0XHRpc05ldzogdHJ1ZVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogSGFuZGxlciwgd2hpY2ggcmVhY3RzIG9uIHBhZ2UgbG9hZCBhbmQgJGxvY2F0aW9uIGNoYW5nZS5cclxuXHQgKi9cclxuXHRsb2NhdGlvbkNoYW5nZWRIYW5kbGVyKCkge1xyXG5cdFx0Ly8gdXBkYXRlIHVybCBzZXR0aW5ncyBvYmplY3QgYmVjYXVzZSB1cmwgaGFzIGNoYW5nZWRcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBuZXcgVXJsU2V0dGluZ3MoKTtcclxuXHJcblx0XHQvLyBjYW5jZWwgYWxsIGN1cnJlbnQgcXVlcmllc1xyXG5cdFx0Ly9jb25zdCBjb3VudENhbmNlbGxlZCA9IHRoaXMuJGl6ZW5kYVJzUXVlcnkuY2FuY2VsQWxsUXVlcmllcygpO1xyXG5cdFx0Ly9pZiAoY291bnRDYW5jZWxsZWQgPiAwKVxyXG5cdFx0Ly9cdHRoaXMuJGxvZy5kZWJ1ZyhgPj4+IENhbmNlbGxlZCAke2NvdW50Q2FuY2VsbGVkfSBxdWVyaWVzYCk7XHJcblxyXG5cdFx0Ly8gc2V0IGN1cnJlbnQgcmVwb3J0IHNldCBpZiBsb2NhdGlvbiBoYXMgY2hhbmdlZFxyXG5cdFx0Y29uc3QgbmV3TG9jYXRpb25Nb2RlbCA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuXHRcdGlmIChuZXdMb2NhdGlvbk1vZGVsLmZ1bGxOYW1lICE9PSB0aGlzLnJlcG9ydE5hbWVJbmZvLmZ1bGxOYW1lIHx8IG5ld0xvY2F0aW9uTW9kZWwuaXNOZXcgIT09IHRoaXMucmVwb3J0TmFtZUluZm8uaXNOZXcpIHtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lSW5mbyA9IG5ld0xvY2F0aW9uTW9kZWw7XHJcblx0XHRcdHRoaXMubG9jYXRpb24ub25OZXh0KHRoaXMucmVwb3J0TmFtZUluZm8pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBmaWx0ZXIgcGFyYW1ldGVycyB1cmwgcGFydCB1c2luZyBjdXJyZW50IGZpbHRlclBhcmFtZXRlcnMgZnJvbSBVcmxTZXR0aW5ncyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7c3RyaW5nfSBVcmwgcGFyYW1ldGVycyBzdHJpbmc6ICcmcDE9djEmcDI9djIuLi4mcE49dk4nLlxyXG5cdCAqL1xyXG5cdGdldEZpbHRlclBhcmFtc1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlcXVlc3RTdHJpbmcgPSAnJztcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmZpbHRlclBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2V0dGluZ3MuZmlsdGVyUGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IHBhcmFtT2JqZWN0ID0gdGhpcy5zZXR0aW5ncy5maWx0ZXJQYXJhbWV0ZXJzW2ldO1xyXG5cdFx0XHRcdHJlcXVlc3RTdHJpbmcgKz0gYCYke3BhcmFtT2JqZWN0WzBdfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbU9iamVjdFsxXSl9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcXVlc3RTdHJpbmc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHRyYWN0IHJlcG9ydCBuYW1lIGZyb20gY2F0ZWdvcnlcXHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IHJlcG9ydCBuYW1lIHdpdGhvdXQgY2F0ZWdvcnkuXHJcblx0ICovXHJcblx0ZXh0cmFjdFJlcG9ydE5hbWUoZnVsbE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZnVsbE5hbWUpIHx8IGZ1bGxOYW1lID09PSAnJylcclxuXHRcdFx0dGhyb3cgYENhbid0IGV4dHJhY3QgcmVwb3J0IG5hbWUgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cdFx0Y29uc3QgcGFydHMgPSBmdWxsTmFtZS5zcGxpdCh0aGlzLiRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKTtcclxuXHRcdHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IGNhdGVnb3J5IGZyb20gXCJjYXRlZ29yeVxccmVwb3J0IGZ1bGwgbmFtZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gcmVwb3J0IGNhdGVnb3J5LlxyXG5cdCAqL1xyXG5cdGV4dHJhY3RSZXBvcnRDYXRlZ29yeShmdWxsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgY2F0ZWdvcnkgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cclxuXHRcdGNvbnN0IHJlcG9ydEZ1bGxOYW1lUGFydHMgPSBmdWxsTmFtZS5zcGxpdCh0aGlzLiRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKTtcclxuXHRcdGxldCBjYXRlZ29yeTogc3RyaW5nO1xyXG5cdFx0aWYgKHJlcG9ydEZ1bGxOYW1lUGFydHMubGVuZ3RoID49IDIpXHJcblx0XHRcdGNhdGVnb3J5ID0gcmVwb3J0RnVsbE5hbWVQYXJ0cy5zbGljZSgwLCByZXBvcnRGdWxsTmFtZVBhcnRzLmxlbmd0aCAtIDEpLmpvaW4odGhpcy4kaXplbmRhU2V0dGluZ3MuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGNhdGVnb3J5ID0gdGhpcy4kaXplbmRhVXRpbC5nZXRVbmNhdGVnb3JpemVkKCk7XHJcblx0XHRyZXR1cm4gY2F0ZWdvcnk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCByZXBvcnQgbmFtZSwgY2F0ZWdvcnksIHJlcG9ydCBzZXQgbmFtZSBmb3IgcmVwb3J0IHBhcnQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZ1bGxOYW1lIFJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICogQHJldHVybiB7YW55fSByZXBvcnQgcGFydHMgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGV4dHJhY3RSZXBvcnRQYXJ0TmFtZXMoZnVsbE5hbWU6IHN0cmluZywgaXNQYXJ0TmFtZUF0UmlnaHQ6IGJvb2xlYW4pOiBhbnkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZ1bGxOYW1lKSB8fCBmdWxsTmFtZSA9PT0gJycpXHJcblx0XHRcdHRocm93IGBDYW4ndCBleHRyYWN0IHJlcG9ydCBwYXJ0IG5hbWUgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cclxuXHRcdGNvbnN0IHJlc3VsdCA9IHtcclxuXHRcdFx0cmVwb3J0UGFydE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lOiBmdWxsTmFtZSxcclxuXHRcdFx0cmVwb3J0U2V0TmFtZTogbnVsbCxcclxuXHRcdFx0cmVwb3J0TmFtZTogbnVsbCxcclxuXHRcdFx0cmVwb3J0Q2F0ZWdvcnk6IG51bGwsXHJcblx0XHRcdHJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk6IG51bGxcclxuXHRcdH07XHJcblx0XHQvLyBleHRyYWN0IHJlcG9ydCBwYXJ0IG5hbWVcclxuXHRcdGxldCByZXBvcnRTZXROYW1lID0gZnVsbE5hbWU7XHJcblx0XHRpZiAoZnVsbE5hbWUuaW5kZXhPZignQCcpID49IDApIHtcclxuXHRcdFx0Y29uc3QgcGFydHMgPSBmdWxsTmFtZS5zcGxpdCgnQCcpO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNVbmRlZmluZWQoaXNQYXJ0TmFtZUF0UmlnaHQpICYmIGlzUGFydE5hbWVBdFJpZ2h0KSB7XHJcblx0XHRcdFx0W3JlcG9ydFNldE5hbWUsIHJlc3VsdC5yZXBvcnRQYXJ0TmFtZV0gPSBwYXJ0cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRbcmVzdWx0LnJlcG9ydFBhcnROYW1lLCByZXBvcnRTZXROYW1lXSA9IHBhcnRzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBjb2xsZWN0IHJlc3VsdHMgaW50byBvbmUgb2JqZWN0OlxyXG5cdFx0cmVzdWx0LnJlcG9ydFNldE5hbWUgPSByZXBvcnRTZXROYW1lO1xyXG5cdFx0cmVzdWx0LnJlcG9ydE5hbWUgPSB0aGlzLmV4dHJhY3RSZXBvcnROYW1lKHJlcG9ydFNldE5hbWUpO1xyXG5cdFx0cmVzdWx0LnJlcG9ydENhdGVnb3J5ID0gdGhpcy5leHRyYWN0UmVwb3J0Q2F0ZWdvcnkocmVwb3J0U2V0TmFtZSk7XHJcblx0XHRyZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9IHJlc3VsdC5yZXBvcnROYW1lO1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYVV0aWwuaXNVbmNhdGVnb3JpemVkKHJlc3VsdC5yZXBvcnRDYXRlZ29yeSkpXHJcblx0XHRcdHJlc3VsdC5yZXBvcnROYW1lV2l0aENhdGVnb3J5ID1cclxuXHRcdFx0XHRyZXN1bHQucmVwb3J0Q2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk7XHJcblx0XHRyZXN1bHQucmVwb3J0RnVsbE5hbWUgPSAocmVzdWx0LnJlcG9ydFBhcnROYW1lICE9IG51bGwgPyByZXN1bHQucmVwb3J0UGFydE5hbWUgKyAnQCcgOiAnJykgKyByZXN1bHQucmVwb3J0U2V0TmFtZTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY3VycmVudCByZXBvcnQgaW5mbyBvYmplY3QuXHJcblx0ICovXHJcblx0Z2V0UmVwb3J0SW5mbygpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydE5hbWVJbmZvO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRVcmxQYXJhbXModXJsKSB7XHJcblx0XHRjb25zdCB1cmxPYmogPSAodHlwZW9mIChhbmd1bGFyLmVsZW1lbnRbJ3VybCddKSA9PT0gJ3VuZGVmaW5lZCcpID8gd2luZG93LnB1cmwodXJsKSA6IGFuZ3VsYXIuZWxlbWVudFsndXJsJ10odXJsKTtcclxuXHRcdHJldHVybiB1cmxPYmouZGF0YS5wYXJhbS5xdWVyeTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWydyeCcsXHJcblx0XHRcdCckd2luZG93JyxcclxuXHRcdFx0JyRyb290U2NvcGUnLFxyXG5cdFx0XHQnJGxvZycsXHJcblx0XHRcdCckaXplbmRhUnNRdWVyeScsXHJcblx0XHRcdCckaXplbmRhU2V0dGluZ3MnLFxyXG5cdFx0XHQnJGl6ZW5kYVBpbmcnLFxyXG5cdFx0XHQnJGl6ZW5kYUxvY2FsZScsXHJcblx0XHRcdCckaXplbmRhVXRpbCddO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXJsJywgSXplbmRhVXJsU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFVcmxTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBpemVuZGFRdWVyeU1vZHVsZSBmcm9tICdjb21tb24vcXVlcnkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFQaW5nU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuXHJcbi8vIHJlZ2lzdGVyIGh0dHAgcHJvdmlkZXJcclxuaXplbmRhUXVlcnlNb2R1bGUuY29uZmlnKFsnJGh0dHBQcm92aWRlcicsICRodHRwUHJvdmlkZXIgPT4ge1xyXG5cdCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UucHVzaChyZXNwb25zZURhdGEgPT4ge1xyXG5cdFx0Ly8gY29udmVydCAkaHR0cCByZXNwb25zZS4gV2UgbmVlZCB0byB0cmFuc2xhdGUgYXNwLm5ldCBkYXRlcyBcclxuXHRcdC8vIGluIHN0cmluZyBmb3JtYXQgJy9EYXRlKHRpY2tzTnVtYmVyKS8nIHRvIGpzIERhdGUgb2JqZWN0cyAob25seSBmb3IganNvbiByZXNwb25zZSB0eXBlKTpcclxuXHRcdHZhciByZWdleERhdGUgPSAvXlxcL0RhdGVcXCgoWy1dezAsMX1cXGQrKVxcKVxcLyQvO1xyXG5cdFx0dmFyIGNvbnZlcnREYXRlU3RyaW5nc1RvRGF0ZXMgPSBpbnB1dCA9PiB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChpbnB1dCkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gaW5wdXQpIHtcclxuXHRcdFx0XHRpZiAoIWlucHV0Lmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xyXG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gaW5wdXRba2V5XTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IG1hdGNoID0gdmFsdWUubWF0Y2gocmVnZXhEYXRlKTtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkobWF0Y2gpICYmIG1hdGNoLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbWlsbGlzZWNvbmRzID0gcGFyc2VJbnQobWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoIWlzTmFOKG1pbGxpc2Vjb25kcykpIHtcclxuXHRcdFx0XHRcdFx0XHRpbnB1dFtrZXldID0gbmV3IERhdGUobWlsbGlzZWNvbmRzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoYW5ndWxhci5pc09iamVjdCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdGNvbnZlcnREYXRlU3RyaW5nc1RvRGF0ZXModmFsdWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNvbnZlcnREYXRlU3RyaW5nc1RvRGF0ZXMocmVzcG9uc2VEYXRhKTtcclxuXHRcdHJldHVybiByZXNwb25zZURhdGE7XHJcblx0fSk7XHJcbn1dKTtcclxuXHJcbi8vIHJlZ2lzdGVyIHNlcnZpY2VzXHJcbkl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG5JemVuZGFDb21tb25RdWVyeVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG5JemVuZGFQaW5nU2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYVVybFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi9xdWVyeS9tb2R1bGUnO1xyXG5cclxuY29uc3QgaXplbmRhVWlNb2R1bGUgPSBhbmd1bGFyXHJcblx0Lm1vZHVsZSgnaXplbmRhLmNvbW1vbi51aScsIFsncngnLCAnaXplbmRhLmNvbW1vbi5jb3JlJywgJ2l6ZW5kYS5jb21tb24ucXVlcnknXSlcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0JywgWydqc19OYW1lJywgJ05hbWUnXSlcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUVtcHR5RXJyb3InLCBbJ2pzX05hbWVDYW50QmVFbXB0eScsICdSZXBvcnQgbmFtZSBjYW5cXCd0IGJlIGVtcHR5LiddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW52YWxpZEVycm9yJywgWydqc19JbnZhbGlkUmVwb3J0TmFtZScsICdJbnZhbGlkIHJlcG9ydCBuYW1lJ10pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFVaU1vZHVsZTtcclxuXHJcbiIsIi8qKlxyXG4gKiBJemVuZGFTZWxlY3RJdGVtTW9kZWwgY2xhc3MgaXMgdXNlZCB0byBwcm92aWRlIHVuaWZvcm0gYW5ndWxhciBiaW5kaW5ncyBzdHlsZSBmb3IgPHNlbGVjdD4uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2VsZWN0SXRlbU1vZGVsIHtcclxuXHR0ZXh0OiBzdHJpbmc7XHJcblx0dmFsdWU6IHN0cmluZztcclxuXHRncm91cDogc3RyaW5nO1xyXG5cdHNlbGVjdGVkOiBib29sZWFuO1xyXG5cdGVuYWJsZWQ6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZ3JvdXA/OiBzdHJpbmcsIHNlbGVjdGVkPzogYm9vbGVhbiwgZW5hYmxlZD86IGJvb2xlYW4pIHtcclxuXHRcdGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigndmFsdWUgc2hvdWxkIGJlIGRlZmluZWQnKTtcclxuXHRcdHRoaXMudGV4dCA9IHRleHQ7XHJcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XHJcblx0XHR0aGlzLmdyb3VwID0gZ3JvdXAgPyBncm91cCA6IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZCA/IHNlbGVjdGVkIDogZmFsc2U7XHJcblx0XHR0aGlzLmVuYWJsZWQgPSBlbmFibGVkID8gZW5hYmxlZCA6IHRydWU7XHJcblx0fVxyXG5cclxuXHRnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gIXRoaXMuZW5hYmxlZDtcclxuXHR9XHJcblxyXG5cdGlzRXF1YWwodGVzdFZhbHVlOiBzdHJpbmcsIGlzTG93ZXJDYXNlQ29tcGFyaXNvbj86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICh0ZXN0VmFsdWUgPT09IG51bGwgJiYgdGhpcy52YWx1ZSA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRpZiAodGVzdFZhbHVlID09PSBudWxsIHx8IHRoaXMudmFsdWUgPT09IG51bGwpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiBpc0xvd2VyQ2FzZUNvbXBhcmlzb25cclxuXHRcdFx0PyB0ZXN0VmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpXHJcblx0XHRcdDogdGVzdFZhbHVlID09PSB0aGlzLnZhbHVlO1xyXG5cdH1cclxuXHJcblx0aXNFcXVhbFdpdGhJdGVtKGl0ZW06IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCwgaXNMb3dlckNhc2VDb21wYXJpc29uPzogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFpdGVtKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0VxdWFsKGl0ZW0udmFsdWUsIGlzTG93ZXJDYXNlQ29tcGFyaXNvbik7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgeyBJSXplbmRhUmF3TW9kZWwgYXMgSVJhd01vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3Jhdy1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcblxyXG4vKipcclxuICogTW9kZWwgZm9yIHRoZSBsaXN0IG9mIHNoYXJlIHJ1bGVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYVNoYXJlTW9kZWwgaW1wbGVtZW50cyBJUmF3TW9kZWwge1xyXG5cclxuXHQvKipcclxuXHQgKiBTaGFyZSBydWxlcyBtb2RlbCBjb2xsZWN0aW9uXHJcblx0ICovXHJcblx0c2hhcmVSdWxlczogSXplbmRhU2hhcmVSdWxlTW9kZWxbXTtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnNoYXJlUnVsZXMgPSBuZXcgQXJyYXk8SXplbmRhU2hhcmVSdWxlTW9kZWw+KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZXNlcmlhbGl6ZSBzaGFyZSBydWxlcy4gVGhpcyBtZXRob2Qgc2V0cyB0aGlzLnNoYXJlUnVsZXMgZmllbGQuXHJcblx0ICogQHBhcmFtIHthbnlbXX0ganNvbiBTZXJpYWxpemVkIHNoYXJlIHJ1bGVzIGFycmF5LlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gYXZhaWxhYmxlUmlnaHRzIFJpZ2h0IG1vZGVsIGNvbGxlY3Rpb24uXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSBhdmFpbGFibGVTdWJqZWN0cyBTdWJqZWN0IG1vZGVsIGNvbGxlY3Rpb24uXHJcblx0ICovXHJcblx0ZnJvbUpzb24oanNvbjogYW55LFxyXG5cdFx0YXZhaWxhYmxlUmlnaHRzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSxcclxuXHRcdGF2YWlsYWJsZVN1YmplY3RzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cdFx0aWYgKCFqc29uKSB7XHJcblx0XHRcdHRoaXMuc2hhcmVSdWxlcyA9IFtdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLnNoYXJlUnVsZXMgPSBqc29uLm1hcChydWxlSnNvbiA9PiB7XHJcblx0XHRcdGNvbnN0IHNoYXJlUnVsZSA9IG5ldyBJemVuZGFTaGFyZVJ1bGVNb2RlbCgpO1xyXG5cdFx0XHRzaGFyZVJ1bGUuZnJvbUpzb24ocnVsZUpzb24sIGF2YWlsYWJsZVJpZ2h0cywgYXZhaWxhYmxlU3ViamVjdHMpO1xyXG5cdFx0XHRyZXR1cm4gc2hhcmVSdWxlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXJpYWxpemUgY3VycmVudCBzaGFyZSBydWxlcyB0byBqc29uIG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHthbnlbXX0gYXJyYXkgb2Ygc2VyaWFsaXplZCBzaGFyZSBydWxlcy5cclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55W10ge1xyXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuc2hhcmVSdWxlc1xyXG5cdFx0XHQuZmlsdGVyKHNoYXJlUnVsZSA9PiBzaGFyZVJ1bGUuc3ViamVjdCAmJiBzaGFyZVJ1bGUucmlnaHQpXHJcblx0XHRcdC5tYXAoc2hhcmVSdWxlID0+IHNoYXJlUnVsZS50b0pzb24oKSk7XHJcblx0XHRyZXR1cm4ganNvbjtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNb2RlbCBmb3Igc3ViamVjdC1yaWdodCBwYWlyLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYVNoYXJlUnVsZU1vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHJcblx0YXZhaWxhYmxlU3ViamVjdHMgPSBuZXcgQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPigpO1xyXG5cdHJpZ2h0OiBJemVuZGFTZWxlY3RJdGVtTW9kZWwgPSBudWxsO1xyXG5cdHN1YmplY3Q6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHN1YmplY3RzPzogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10pIHtcclxuXHRcdGlmIChzdWJqZWN0cylcclxuXHRcdFx0dGhpcy5zZXRBdmFpbGFibGVTdWJqZWN0cyhzdWJqZWN0cywgbnVsbCk7XHJcblx0fVxyXG5cclxuXHRzZXRBdmFpbGFibGVTdWJqZWN0cyhzdWJqZWN0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sIHN1YmplY3RWYWx1ZT86IHN0cmluZykge1xyXG5cclxuXHRcdGNvbnN0IHN1YmpWYWx1ZSA9IHN1YmplY3RWYWx1ZVxyXG5cdFx0XHQ/IHN1YmplY3RWYWx1ZVxyXG5cdFx0XHQ6IHRoaXMuc3ViamVjdFxyXG5cdFx0XHRcdD8gdGhpcy5zdWJqZWN0LnZhbHVlXHJcblx0XHRcdFx0OiBudWxsO1xyXG5cclxuXHRcdC8vIHVwZGF0ZSBhdmFpbGFibGUgc3ViamVjdHMgY29sbGVjdGlvblxyXG5cdFx0dGhpcy5hdmFpbGFibGVTdWJqZWN0cyA9IHN1YmplY3RzICYmIHN1YmplY3RzLmxlbmd0aCA/IFsuLi5zdWJqZWN0c10gOiBbXTtcclxuXHJcblx0XHQvLyB1cGRhdGUgc3ViamVjdFxyXG5cdFx0dGhpcy5zdWJqZWN0ID0gbnVsbDtcclxuXHRcdGlmIChzdWJqVmFsdWUgIT09IG51bGwpXHJcblx0XHRcdHRoaXMuc3ViamVjdCA9IHRoaXMuYXZhaWxhYmxlU3ViamVjdHMuZmluZChzID0+IHMudmFsdWUgPT09IHN1YmpWYWx1ZSkgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdGZyb21Kc29uKGpzb246IGFueSwgcmlnaHRzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSwgc3ViamVjdHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblxyXG5cdFx0Ly8gc2V0IHJpZ2h0XHJcblx0XHR0aGlzLnJpZ2h0ID0gbnVsbDtcclxuXHRcdGlmIChyaWdodHMgJiYgcmlnaHRzLmxlbmd0aClcclxuXHRcdFx0dGhpcy5yaWdodCA9IHJpZ2h0cy5maW5kKHIgPT4ganNvbiAmJiByLnZhbHVlID09PSBqc29uLnJpZ2h0KSB8fCBudWxsO1xyXG5cclxuXHRcdC8vIHNldCBhdmFpbGFibGUgc3ViamVjdFxyXG5cdFx0dGhpcy5zZXRBdmFpbGFibGVTdWJqZWN0cyhzdWJqZWN0cywganNvbiA/IGpzb24uc3ViamVjdCA6IG51bGwpO1xyXG5cdH1cclxuXHJcblx0dG9Kc29uKCk6IGFueSB7XHJcblxyXG5cdFx0aWYgKCF0aGlzLnJpZ2h0ICYmICF0aGlzLnN1YmplY3QpXHJcblx0XHRcdC8vIHlvdSBjYW4gZmFjZSB3aXRoIHRoaXMgc2l0dWF0aW9uIG9ubHkgaWYgeW91IGNhbGwgdG9Kc29uIGRpcmVjdGx5IGZvciB0aGlzIGNsYXNzLCBcclxuXHRcdFx0Ly9iZWNhdXNlIHdoZW4geW91IHNlcmlhbGl6ZSBjb2xsZWN0aW9uLCB0aGVyZSBpcyBhZGRpdGlvbmFsIGNoZWNrIGZvciBlbXB0eSBzdWJqZWN0IGFuZCByaWdodC5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0Y29uc3QganNvbiA9IHtcclxuXHRcdFx0cmlnaHQ6IHRoaXMucmlnaHQudmFsdWUsXHJcblx0XHRcdHN1YmplY3Q6IHRoaXMuc3ViamVjdC52YWx1ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4ganNvbjtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNoYXJlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2hhcmUtbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTaGFyZVJ1bGVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbCc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZXJ2aWNlIHVzZWQgZm9yIHN0b3JlIGRhdGEgaW4gc2hhcmUgY29udHJvbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2hhcmVTZXJ2aWNlIHtcclxuXHJcblx0cmlnaHRzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHN1YmplY3RzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHNoYXJlTW9kZWw6IEl6ZW5kYVNoYXJlTW9kZWw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnk6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIG5ldyBlbXB0eSBzaGFyZSBydWxlLlxyXG5cdCAqL1xyXG5cdGFkZE5ld1NoYXJlUnVsZSgpIHtcclxuXHRcdGNvbnN0IHNoYXJlUnVsZU1vZGVsID0gbmV3IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKHRoaXMuc3ViamVjdHMpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMucHVzaChzaGFyZVJ1bGVNb2RlbCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgc2hhcmUgcnVsZVxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTaGFyZVJ1bGVNb2RlbH0gc2hhcmVSdWxlIFNoYXJlIHJ1bGUgZm9yIHJlbW92YWwuXHJcblx0ICovXHJcblx0cmVtb3ZlU2hhcmVSdWxlKHNoYXJlUnVsZTogSXplbmRhU2hhcmVSdWxlTW9kZWwpIHtcclxuXHRcdGlmICghc2hhcmVSdWxlKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBpZHggPSB0aGlzLnNoYXJlTW9kZWwuc2hhcmVSdWxlcy5pbmRleE9mKHNoYXJlUnVsZSk7XHJcblx0XHR0aGlzLnNoYXJlTW9kZWwuc2hhcmVSdWxlcy5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBjdXJyZW50IHNjaGV1bGUgY29uZmlnIGpzb24gZm9yIHNlbmQgdG8gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gUmF3IG1vZGVsIGZvciBzZW5kaW5nIHRvIHNlcnZlci5cclxuXHQgKi9cclxuXHRnZXRTaGFyZUNvbmZpZ0ZvclNlbmQoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLnNoYXJlTW9kZWwudG9Kc29uKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBzaGFyZSBjb25maWcuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU2hhcmUgbW9kZWwgcmF3IG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0c2V0U2hhcmVDb25maWcoanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0dmFyIGlzRGVmYXVsdENvbmZpZyA9ICFqc29uO1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuZmlsbFNoYXJlQ29uZmlnRnJvbUpzb24oanNvbiwgaXNEZWZhdWx0Q29uZmlnKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBzaGFyZSBzZXJ2aWNlIHN0YXRlIGZyb20gdGhlIGNvbmZpZyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU2hhcmUgbW9kZWwgcmF3IG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaWxsU2hhcmVDb25maWdGcm9tSnNvbihqc29uOiBhbnksIGlzRGVmYXVsdENvbmZpZzogYm9vbGVhbik6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLmxvYWRTaGFyZURhdGEoKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRpZiAoaXNEZWZhdWx0Q29uZmlnKSB7XHJcblx0XHRcdFx0XHRqc29uID0gW3tcclxuXHRcdFx0XHRcdFx0c3ViamVjdDogJ0V2ZXJ5b25lJyxcclxuXHRcdFx0XHRcdFx0cmlnaHQ6ICdOb25lJ1xyXG5cdFx0XHRcdFx0fV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuc2hhcmVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZU1vZGVsKCk7XHJcblx0XHRcdFx0dGhpcy5zaGFyZU1vZGVsLmZyb21Kc29uKGpzb24sIHRoaXMucmlnaHRzLCB0aGlzLnN1YmplY3RzKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBzaGFyZSBkYXRhIGFuZCBhdmFpbGFibGUgdmFsdWVzIGZyb20gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRwcml2YXRlIGxvYWRTaGFyZURhdGEoKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblxyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeS5nZXRTaGFyZURhdGEoKS50aGVuKGpzb24gPT4ge1xyXG5cdFx0XHRcdC8vIGZpbGwgYXZhaWxhYmxlIHJpZ2h0cyBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dGhpcy5yaWdodHMgPSBqc29uLlJpZ2h0cy5tYXAocmlnaHRKc29uID0+IG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwocmlnaHRKc29uLlRleHQsIHJpZ2h0SnNvbi5WYWx1ZSkpO1xyXG5cclxuXHRcdFx0XHQvLyBmaWxsIGF2YWlsYWJsZSBzdWJqZWN0cyBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dGhpcy5zdWJqZWN0cyA9IGpzb24uU2hhcmVXaXRoLm1hcChzdWJqZWN0SnNvbiA9PiBuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKHN1YmplY3RKc29uLlRleHQsIHN1YmplY3RKc29uLlZhbHVlKSk7XHJcblxyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBkZWZhdWx0IHZhbHVlcy5cclxuXHQgKi9cclxuXHRwcml2YXRlIHJlc2V0KCk6IHZvaWQge1xyXG5cdFx0dGhpcy5yaWdodHMgPSBuZXcgQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPigpO1xyXG5cdFx0dGhpcy5zdWJqZWN0cyA9IG5ldyBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+KCk7XHJcblx0XHR0aGlzLnNoYXJlTW9kZWwgPSBuZXcgSXplbmRhU2hhcmVNb2RlbCgpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFDb21tb25RdWVyeSddO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQW5ndWxhciBkZXBlbmRlbmNpZXNcclxuXHQgKi9cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFTaGFyZVNlcnZpY2UnLCBJemVuZGFTaGFyZVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhU2hhcmVTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgeyBJSXplbmRhUmF3TW9kZWwgYXMgSVJhd01vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3Jhdy1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYVNjaGVkdWxlTW9kZWwgaW1wbGVtZW50cyBJUmF3TW9kZWwge1xyXG5cdGRhdGU6IERhdGU7XHJcblx0cmVjaXBpZW50czogc3RyaW5nO1xyXG5cclxuXHRlbWFpbDogSXplbmRhU2VsZWN0SXRlbU1vZGVsO1xyXG5cdHJlcGVhdDogSXplbmRhU2VsZWN0SXRlbU1vZGVsO1xyXG5cdHRpbWV6b25lOiBJemVuZGFTZWxlY3RJdGVtTW9kZWw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHRcdHRoaXMuZW1haWwgPSBudWxsO1xyXG5cdFx0dGhpcy5yZWNpcGllbnRzID0gJyc7XHJcblx0XHR0aGlzLnJlcGVhdCA9IG51bGw7XHJcblx0XHR0aGlzLnRpbWV6b25lID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbGwgdGhpcyBvYmplY3QgZnJvbSBzZXJ2ZXItc2lkZSBkdG8gb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIGR0byBvYmplY3QuXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSBlbWFpbFR5cGVzIEVtYWlsIHR5cGUgbW9kZWxzIGNvbGxlY3Rpb24uXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSByZXBlYXRUeXBlcyBSZXBlYXQgdHlwZSBtb2RlbHMgY29sbGVjdGlvbi5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IHRpbWV6b25lcyBUaW1lem9uZSBtb2RlbHMgY29sbGVjdGlvbi5cclxuXHQgKi9cclxuXHRmcm9tSnNvbihqc29uOiBhbnksXHJcblx0XHRlbWFpbFR5cGVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSxcclxuXHRcdHJlcGVhdFR5cGVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSxcclxuXHRcdHRpbWV6b25lczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10pIHtcclxuXHJcblx0XHQvLyBwYXJzZSBhbmQgc2V0IGRhdGVcclxuXHRcdGlmIChqc29uICYmIGpzb24uZGF0ZVN0cmluZykge1xyXG5cdFx0XHRsZXQgZGF0ZVN0cmluZyA9IGpzb24uZGF0ZVN0cmluZy50cmltKCk7XHJcblx0XHRcdGxldCBtb21lbnREYXRlOiBhbnk7XHJcblx0XHRcdGlmIChqc29uLnRpbWVTdHJpbmcpIHtcclxuXHRcdFx0XHRkYXRlU3RyaW5nICs9IGAgJHtqc29uLnRpbWVTdHJpbmcudHJpbSgpfWA7XHJcblx0XHRcdFx0bW9tZW50RGF0ZSA9IG1vbWVudChkYXRlU3RyaW5nLCAnWVlZWS1NTS1ERCBISDptbTpzcycpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1vbWVudERhdGUgPSBtb21lbnQoZGF0ZVN0cmluZywgJ1lZWVktTU0tREQnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmRhdGUgPSBtb21lbnREYXRlLmlzVmFsaWQoKSA/IG1vbWVudERhdGUuX2QgOiBuZXcgRGF0ZSgpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRpZiAoIXRoaXMuZGF0ZSB8fCB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSA8PSAxOTAwKVxyXG5cdFx0XHR0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdC8vIHRpbWV6b25lXHJcblx0XHR0aGlzLnRpbWV6b25lID0gdGltZXpvbmVzLmxlbmd0aCA/ICh0aW1lem9uZXMuZmluZCh0eiA9PiB0ei5zZWxlY3RlZCkgfHwgdGltZXpvbmVzWzBdKSA6IG51bGw7XHJcblx0XHRpZiAoanNvbiAmJiBqc29uLnRpbWV6b25lSWQpXHJcblx0XHRcdHRoaXMudGltZXpvbmUgPSB0aW1lem9uZXMuZmluZCh0eiA9PiB0ei52YWx1ZSA9PT0ganNvbi50aW1lem9uZUlkKSB8fCB0aGlzLnRpbWV6b25lO1xyXG5cclxuXHRcdC8vIGVtYWlsIHR5cGVcclxuXHRcdHRoaXMuZW1haWwgPSBlbWFpbFR5cGVzLmxlbmd0aCA/IChlbWFpbFR5cGVzLmZpbmQoZSA9PiBlLnNlbGVjdGVkKSB8fCBlbWFpbFR5cGVzWzBdKSA6IG51bGw7XHJcblxyXG5cdFx0Ly8gcmVwZWF0IHR5cGVcclxuXHRcdHRoaXMucmVwZWF0ID0gcmVwZWF0VHlwZXMubGVuZ3RoID8gKHJlcGVhdFR5cGVzLmZpbmQociA9PiByLnNlbGVjdGVkKSB8fCByZXBlYXRUeXBlc1swXSkgOiBudWxsO1xyXG5cclxuXHRcdC8vIHJlY2lwaWVudHNcclxuXHRcdHRoaXMucmVjaXBpZW50cyA9IGpzb24gJiYganNvbi5yZWNpcGllbnRzID8ganNvbi5yZWNpcGllbnRzIDogJyc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgc2VydmVyLXNpZGUgZHRvIG9iamVjdCBmb3IgdGhpcyBzY2hlZHVsZSBtb2RlbCBvYmplY3QuXHJcblx0ICogQHJldHVybiB7YW55fSBOZXcganNvbiBvYmplY3QuXHJcblx0ICovXHJcblx0dG9Kc29uKCk6IGFueSB7XHJcblx0XHRsZXQgZGF0ZVN0cmluZzogc3RyaW5nID0gbnVsbDtcclxuXHRcdGxldCB0aW1lU3RyaW5nOiBzdHJpbmcgPSBudWxsO1xyXG5cdFx0aWYgKHRoaXMuZGF0ZSkge1xyXG5cdFx0XHRkYXRlU3RyaW5nID0gbW9tZW50KHRoaXMuZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcblx0XHRcdHRpbWVTdHJpbmcgPSBtb21lbnQodGhpcy5kYXRlKS5mb3JtYXQoJ0hIOm1tOnNzJyk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBqc29uID0ge1xyXG5cdFx0XHRkYXRlU3RyaW5nOiBkYXRlU3RyaW5nLFxyXG5cdFx0XHR0aW1lU3RyaW5nOiB0aW1lU3RyaW5nLFxyXG5cdFx0XHRyZWNpcGllbnRzOiB0aGlzLnJlY2lwaWVudHMsXHJcblx0XHRcdGVtYWlsOiB0aGlzLmVtYWlsID8gdGhpcy5lbWFpbC52YWx1ZSA6IG51bGwsXHJcblx0XHRcdHJlcGVhdDogdGhpcy5yZXBlYXQgPyB0aGlzLnJlcGVhdC52YWx1ZSA6IG51bGwsXHJcblx0XHRcdHRpbWV6b25lSWQ6IHRoaXMudGltZXpvbmUgPyB0aGlzLnRpbWV6b25lLnZhbHVlIDogbnVsbFxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCB7IEl6ZW5kYVNjaGVkdWxlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2NoZWR1bGUtbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTY2hlZHVsZVNlcnZpY2Uge1xyXG5cclxuXHRzY2hlZHVsZUNvbmZpZzogSXplbmRhU2NoZWR1bGVNb2RlbDtcclxuXHR0aW1lem9uZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdO1xyXG5cdHNlbmRFbWFpbFR5cGVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXTtcclxuXHRyZXBlYXRUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnk6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGN1cnJlbnQgc2NoZXVsZSBjb25maWcganNvbiBmb3Igc2VuZCB0byBzZXJ2ZXIuXHJcblx0ICogQHJldHVybiB7YW55fSBSYXcgbW9kZWwgZm9yIHNlbmRpbmcgdG8gc2VydmVyLlxyXG5cdCAqL1xyXG5cdGdldFNjaGVkdWxlQ29uZmlnRm9yU2VuZCgpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2NoZWR1bGVDb25maWcudG9Kc29uKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBzY2hlZHVsZSBjb25maWcuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gc2NoZWR1bGUgcmF3IG1vZGVsLlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRzZXRTY2hlZHVsZUNvbmZpZyhqc29uOiBhbnkpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy5maWxsU2NoZWR1bGVDb25maWdGcm9tSnNvbihqc29uKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBzY2hlZHVsZSBzZXJ2aWNlIHN0YXRlIGZyb20gdGhlIGNvbmZpZyBvYmplY3QuXHJcblx0ICogU2NoZWR1bGUgdGltZXpvbmVzLCByZXBlYXQgdHlwZXMgYW5kIG90aGVycyBhcmUgc3VwcG9zZWQgdG8gYmUgbG9hZGVkLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIHNjaGVkdWxlIHJhdyBtb2RlbC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaWxsU2NoZWR1bGVDb25maWdGcm9tSnNvbihqc29uOiBhbnkpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Ly8gTG9hZCBzY2hlZHVsZSBjb2xsZWN0aW9ucy5cclxuXHRcdFx0dGhpcy5sb2FkU2NoZWR1bGVEYXRhKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0Ly8gRmlsbCBzY2hlZHVsZSBjb25maWcgZnJvbSBqc29uIGFmdGVyIGxvYWRpbmcgY29sbGVjdGlvbnMuXHJcblx0XHRcdFx0dGhpcy5zY2hlZHVsZUNvbmZpZy5mcm9tSnNvbihqc29uLCB0aGlzLnNlbmRFbWFpbFR5cGVzLCB0aGlzLnJlcGVhdFR5cGVzLCB0aGlzLnRpbWV6b25lcyk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBzY2hlZHVsZSBkYXRhIGFuZCBhdmFpbGFibGUgdmFsdWVzIGZyb20gc2VydmVyXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZFNjaGVkdWxlRGF0YSgpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHJcblx0XHRcdC8vIGNhbGN1bGF0ZSBjdXJyZW50IHRpbWV6b25lIHN0ZCBvZmZzZXQ6XHJcblx0XHRcdGNvbnN0IHJpZ2h0Tm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Y29uc3QgamFuMSA9IG5ldyBEYXRlKHJpZ2h0Tm93LmdldEZ1bGxZZWFyKCksIDAsIDEsIDAsIDAsIDAsIDApO1xyXG5cdFx0XHRjb25zdCB0ZW1wID0gamFuMS50b0dNVFN0cmluZygpO1xyXG5cdFx0XHRjb25zdCBqYW4yID0gbmV3IERhdGUodGVtcC5zdWJzdHJpbmcoMCwgdGVtcC5sYXN0SW5kZXhPZignICcpKSk7XHJcblx0XHRcdGNvbnN0IHN0ZFRpbWVPZmZzZXQgPSAoamFuMS5nZXRUaW1lKCkgLSBqYW4yLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKTtcclxuXHJcblx0XHRcdC8vIGxvYWQgc2NoZWR1bGUgZGljdGlvbmFyaWVzOlxyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeS5nZXRTY2hlZHVsZURhdGEoc3RkVGltZU9mZnNldCkudGhlbihqc29uID0+IHtcclxuXHJcblx0XHRcdFx0dGhpcy50aW1lem9uZXMgPSBqc29uLlRpbWVab25lcy5tYXAodHogPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgdHpUZXh0ID0gdHouVGV4dCA/IHR6LlRleHQucmVwbGFjZUFsbCgnJm5ic3A7JywgJyAnKSA6ICcnO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwodHpUZXh0LCB0ei5WYWx1ZSwgdW5kZWZpbmVkLCB0ei5TZWxlY3RlZCwgdHouRW5hYmxlZCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHRoaXMuc2VuZEVtYWlsVHlwZXMgPSBqc29uLlNlbmRFbWFpbExpc3QubWFwKGVtbCA9PlxyXG5cdFx0XHRcdFx0bmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChlbWwuVGV4dCwgZW1sLlZhbHVlLCB1bmRlZmluZWQsIGVtbC5TZWxlY3RlZCwgZW1sLkVuYWJsZWQpKTtcclxuXHJcblx0XHRcdFx0dGhpcy5yZXBlYXRUeXBlcyA9IGpzb24uUmVwZWF0VHlwZXMubWFwKHJ0ID0+XHJcblx0XHRcdFx0XHRuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKHJ0LlRleHQsIHJ0LlZhbHVlLCB1bmRlZmluZWQsIHJ0LlNlbGVjdGVkLCBydC5FbmFibGVkKSk7XHJcblxyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBkZWZhdWx0IHZhbHVlcy5cclxuXHQgKi9cclxuXHRwcml2YXRlIHJlc2V0KCk6IHZvaWQge1xyXG5cdFx0dGhpcy5zY2hlZHVsZUNvbmZpZyA9IG5ldyBJemVuZGFTY2hlZHVsZU1vZGVsKCk7XHJcblx0XHR0aGlzLnRpbWV6b25lcyA9IFtdO1xyXG5cdFx0dGhpcy5zZW5kRW1haWxUeXBlcyA9IFtdO1xyXG5cdFx0dGhpcy5yZXBlYXRUeXBlcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFDb21tb25RdWVyeSddO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhU2NoZWR1bGVTZXJ2aWNlJywgSXplbmRhU2NoZWR1bGVTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVNjaGVkdWxlU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUFsaWduU3dpdGNoZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdNb2RlbDogYW55O1xyXG5cdHRpdGxlOiBzdHJpbmc7XHJcblx0YWxpZ25TaG9ydGN1dDogc3RyaW5nO1xyXG5cdG5leHRWYWx1ZTogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogQWxpZ24gc3dpdGNoZXIgZGlyZWN0aXZlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQWxpZ25Td2l0Y2hlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0FFJztcclxuXHRzY29wZSA9IHtcclxuXHRcdG5nTW9kZWw6ICc9JyxcclxuXHRcdHRpdGxlOiAnQCdcclxuXHR9O1xyXG5cdHRlbXBsYXRlID0gYDxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1hbGlnbi1zd2l0Y2hlciBnbHlwaGljb25cIiBuZy1jbGljaz1cIm5leHRWYWx1ZSgpXCIgbmctYXR0ci10aXRsZT1cInRpdGxlXCIgbmctY2xhc3M9XCJhbGlnblNob3J0Y3V0XCI+PC9zcGFuPmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFBbGlnblN3aXRjaGVyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQWxpZ25Td2l0Y2hlci5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFBbGlnblN3aXRjaGVyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW1zQXJyYXkgPSBbJ0wnLCAnTScsICdSJywgJ0onLCAnICddO1xyXG5cdFx0XHRjb25zdCBzaG9ydGN1dHMgPSB7XHJcblx0XHRcdFx0J0wnOiAnZ2x5cGhpY29uLWFsaWduLWxlZnQnLFxyXG5cdFx0XHRcdCdNJzogJ2dseXBoaWNvbi1hbGlnbi1jZW50ZXInLFxyXG5cdFx0XHRcdCdKJzogJ2dseXBoaWNvbi1hbGlnbi1jZW50ZXInLFxyXG5cdFx0XHRcdCdSJzogJ2dseXBoaWNvbi1hbGlnbi1yaWdodCcsXHJcblx0XHRcdFx0JyAnOiAnZ2x5cGhpY29uLW5vbmUnXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCB2YWxpZGF0ZVZhbHVlID0gKG1vZGVsKSA9PiB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQobW9kZWwpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGlmIChpdGVtc0FycmF5LmluZGV4T2YobW9kZWwpIDwgMClcclxuXHRcdFx0XHRcdHRocm93ICdVbmtub3duIGFsaWduIHZhbHVlOiAnICsgbW9kZWw7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgdXBkYXRlU2hvcnRjdXQgPSAobW9kZWwpID0+ICRzY29wZS5hbGlnblNob3J0Y3V0ID0gc2hvcnRjdXRzW21vZGVsXTtcclxuXHJcblx0XHRcdCRzY29wZS5uZXh0VmFsdWUgPSAoKSA9PiB7XHJcblx0XHRcdFx0dmFyIGlkeCA9IGl0ZW1zQXJyYXkuaW5kZXhPZigkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdFx0aWYgKGlkeCA8IGl0ZW1zQXJyYXkubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHRcdGlkeCsrO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGlkeCA9IDA7XHJcblx0XHRcdFx0JHNjb3BlLm5nTW9kZWwgPSBpdGVtc0FycmF5W2lkeF07XHJcblx0XHRcdFx0dXBkYXRlU2hvcnRjdXQoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly9cclxuXHRcdFx0JHNjb3BlLiRwYXJlbnQuJHdhdGNoKGF0dHJzLm5nTW9kZWwsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuXHRcdFx0XHRpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHZhbGlkYXRlVmFsdWUobmV3VmFsdWUpO1xyXG5cdFx0XHRcdHVwZGF0ZVNob3J0Y3V0KG5ld1ZhbHVlKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhbGlkYXRlVmFsdWUoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHR1cGRhdGVTaG9ydGN1dCgkc2NvcGUubmdNb2RlbCk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoKSA9PiBuZXcgSXplbmRhQWxpZ25Td2l0Y2hlcigpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQWxpZ25Td2l0Y2hlcicsIFtJemVuZGFBbGlnblN3aXRjaGVyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUF1dG9jb21wbGV0ZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ01vZGVsOiBzdHJpbmc7XHJcblx0YXV0b2NvbXBsZXRlSXRlbXM6IGFueTtcclxuXHR1cGRhdGVBdXRvY29tcGxldGVJdGVtczogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogQXV0b2NvbXBsZXRlIGRpcmVjdGl2ZS4gVXNlcyBcInRhZ2l0XCIuIEFwcGx5ZWQgZm9yIDxpbnB1dCBpemVuZGEtYXV0b2NvbXBsZXRlPiBlbGVtZW50LlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQXV0b2NvbXBsZXRlIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0cmVxdWlyZSA9ICduZ01vZGVsJztcclxuXHRzY29wZSA9IHtcclxuXHRcdG5nTW9kZWw6ICc9JyxcclxuXHRcdGF1dG9jb21wbGV0ZUl0ZW1zOiAnPScsXHJcblx0XHR1cGRhdGVBdXRvY29tcGxldGVJdGVtczogJyYnXHJcblx0fTtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUF1dG9jb21wbGV0ZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUF1dG9jb21wbGV0ZS5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFBdXRvY29tcGxldGVTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDcmVhdGUgYXJyYXkgd2l0aCBhdXRvY29tcGxldGUgaXRlbSB0ZXh0c1xyXG5cdFx0XHQgKiBAcGFyYW0ge0FycmF5PG9iamVjdD59IGl0ZW1zLlxyXG5cdFx0XHQgKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn0uXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRsZXQgcHJlcGFyZVNvdXJjZSA9IChpdGVtczogYW55W10pOiBzdHJpbmdbXSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoaXRlbXMpIHx8ICFpdGVtcy5sZW5ndGgpXHJcblx0XHRcdFx0XHRyZXR1cm4gW107XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW1zXHJcblx0XHRcdFx0XHQuZmlsdGVyKGl0ZW0gPT4gYW5ndWxhci5pc09iamVjdChpdGVtKSlcclxuXHRcdFx0XHRcdC5tYXAoaXRlbSA9PiBpdGVtWyd0ZXh0J10pO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBjb21wb25lbnRcclxuXHRcdFx0JGVsZW1lbnQudmFsKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0JGVsZW1lbnRbJ3RhZ2l0J10oe1xyXG5cdFx0XHRcdHRhZ1NvdXJjZTogKHJlcSwgcmVzcG9uc2VGdW5jdGlvbikgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLnVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0dmFyIHBvc3NpYmxlVGV4dCA9IHJlcS50ZXJtLnNwbGl0KC8sXFxzKi8pLnBvcCgpO1xyXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIHN1Z2dlc3RlZCBpdGVtczpcclxuXHRcdFx0XHRcdCRzY29wZS51cGRhdGVBdXRvY29tcGxldGVJdGVtcyh7IGFyZzA6IHBvc3NpYmxlVGV4dCB9KS50aGVuKG5ld0V4aXN0ZW50VmFsdWVzTGlzdCA9PiB7XHJcblx0XHRcdFx0XHRcdHZhciBpdGVtcyA9IHByZXBhcmVTb3VyY2UobmV3RXhpc3RlbnRWYWx1ZXNMaXN0IGFzIGFueVtdKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gaXRlbXNcclxuXHRcdFx0XHRcdFx0XHQuZmlsdGVyKGl0ZW0gPT4gISFpdGVtICYmIGl0ZW0gIT0gJy4uLicpXHJcblx0XHRcdFx0XHRcdFx0Lm1hcChpdGVtID0+IGl0ZW0ucmVwbGFjZUFsbCgnI3x8IycsICcsJykpO1xyXG5cdFx0XHRcdFx0XHRyZXNwb25zZUZ1bmN0aW9uKHJlc3VsdCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGNhc2VTZW5zaXRpdmU6IHRydWUsXHJcblx0XHRcdFx0YWxsb3dEdXBsaWNhdGVzOiBmYWxzZSxcclxuXHRcdFx0XHRzaW5nbGVGaWVsZERlbGltaXRlcjoganNSZXNvdXJjZXMubGl0ZXJhbENvbW1hLFxyXG5cdFx0XHRcdHByb2Nlc3NWYWx1ZXNGb3JTaW5nbGVGaWVsZDogdGFncyA9PiB0YWdzLm1hcCh0YWcgPT4gdGFnLnJlcGxhY2VBbGwoJywnLCAnI3x8IycpKSxcclxuXHRcdFx0XHRwcm9jZXNzVmFsdWVzRnJvbVNpbmdsZUZpZWxkOiB0YWdzID0+IHRhZ3MubWFwKHRhZyA9PiB0YWcucmVwbGFjZUFsbCgnI3x8IycsICcsJykpXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gYWRkIHdhdGNoZXJzXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nTW9kZWwnLCAobmV3VmFsdWUpID0+IHtcclxuXHRcdFx0XHRpZiAoIW5ld1ZhbHVlKVxyXG5cdFx0XHRcdFx0JGVsZW1lbnRbJ3RhZ2l0J10oJ3JlbW92ZUFsbCcpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0JGVsZW1lbnRbJ3RhZ2l0J10oJ3JlbW92ZUFsbCcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoKSA9PiBuZXcgSXplbmRhQXV0b2NvbXBsZXRlKCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFtdO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQXV0b2NvbXBsZXRlJywgW0l6ZW5kYUF1dG9jb21wbGV0ZS5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFCb290c3RyYXBDb2xsYXBzZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRjb2xsYXBzZWQ6IGJvb2xlYW47XHJcblx0dXNlRGVsYXk6IGJvb2xlYW47XHJcblx0b25Db21wbGV0ZTogKGFueSkgPT4gdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbGxhcHNpYmxlIGNvbnRhaW5lciBkaXJlY3RpdmUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBDb2xsYXBzZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0Y29sbGFwc2VkOiAnPScsXHJcblx0XHR1c2VEZWxheTogJz0nLFxyXG5cdFx0b25Db21wbGV0ZTogJyYnXHJcblx0fTtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwQ29sbGFwc2UucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwQ29sbGFwc2VTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEludm9rZSBjb21wbGV0ZSBoYW5kbGVyLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgY29sbGFwc2VDb21wbGV0ZWQgPSByZXN1bHQgPT4ge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uQ29tcGxldGUpKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUub25Db21wbGV0ZSh7XHJcblx0XHRcdFx0XHRcdGNvbGxhcHNlZDogcmVzdWx0XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQkZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2UnKTtcclxuXHRcdFx0aWYgKCRzY29wZS5jb2xsYXBzZWQpXHJcblx0XHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2luJyk7XHJcblx0XHRcdCRlbGVtZW50Wydjb2xsYXBzZSddKCk7IC8vIGNhbGwgYm9vdHN0cmFwIGpxdWVyeV9lbGVtZW50LmNvbGxhcHNlKCkgbWV0aG9kLlxyXG5cclxuXHRcdFx0Ly8gYWRkIGV2ZW50IGNvbGxhcHNlIGhhbmRsZXJzXHJcblx0XHRcdCRlbGVtZW50Lm9uKCdoaWRkZW4uYnMuY29sbGFwc2UnLCAoKSA9PiBjb2xsYXBzZUNvbXBsZXRlZCh0cnVlKSk7XHJcblx0XHRcdCRlbGVtZW50Lm9uKCdzaG93bi5icy5jb2xsYXBzZScsICgpID0+IGNvbGxhcHNlQ29tcGxldGVkKGZhbHNlKSk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCBmb3IgY29sbGFwc2VkIHN0YXRlIGNoYW5nZVxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdjb2xsYXBzZWQnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCRzY29wZS51c2VEZWxheSlcclxuXHRcdFx0XHRcdCR0aW1lb3V0KCgpID0+ICRlbGVtZW50Wydjb2xsYXBzZSddKCRzY29wZS5jb2xsYXBzZWQgPyAnaGlkZScgOiAnc2hvdycpLCAxMDAwKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHQkZWxlbWVudFsnY29sbGFwc2UnXSgkc2NvcGUuY29sbGFwc2VkID8gJ2hpZGUnIDogJ3Nob3cnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFCb290c3RyYXBDb2xsYXBzZScsIFsnJHRpbWVvdXQnLCBJemVuZGFCb290c3RyYXBDb2xsYXBzZS5mYWN0b3J5KCldKTtcclxuXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcFRvb2x0aXBTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dG9vbHRpcEl0ZW1zOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUb29sdGlwIGRpcmVjdGl2ZVxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwVG9vbHRpcCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0dG9vbHRpcEl0ZW1zOiAnPSdcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBUb29sdGlwU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUJvb3RzdHJhcFRvb2x0aXAucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwVG9vbHRpcFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCd0b29sdGlwSXRlbXMnLCAobmV3VmFsOiBhbnlbXSkgPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KG5ld1ZhbCkpIHtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmF0dHIoJ3RpdGxlJywgJycpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gJyc7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuZXdWYWwubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChuZXdWYWwubGVuZ3RoID4gMSlcclxuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IGkgKyAnLiAnO1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IG5ld1ZhbFtpXS5tZXNzYWdlICsgJzxici8+JztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGVsZW1lbnQuYXR0cigndGl0bGUnLCByZXN1bHQpO1xyXG5cdFx0XHRcdCRlbGVtZW50Wyd0b29sdGlwJ10oJ2hpZGUnKVxyXG5cdFx0XHRcdFx0LmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCBuZXdWYWwpXHJcblx0XHRcdFx0XHQudG9vbHRpcCgndXBkYXRlJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFCb290c3RyYXBUb29sdGlwKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwVG9vbHRpcCcsIFtJemVuZGFCb290c3RyYXBUb29sdGlwLmZhY3RvcnkoKV0pO1xyXG5cclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwRHJvcGRvd25TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0b3BlbmVkOiBib29sZWFuO1xyXG5cdGF0dGFjaFRvRWxlbWVudDogc3RyaW5nO1xyXG5cdHdpZHRoOiBudW1iZXI7XHJcblx0aGVpZ2h0OiBudW1iZXI7XHJcblx0b25PcGVuOiAoLi4uYW55KSA9PiB2b2lkO1xyXG5cdG9uQ2xvc2U6ICguLi5hbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCb290c3RyYXAgZHJvcGRvd24gZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBEcm9wZG93biBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0UnO1xyXG5cdHRyYW5zY2x1ZGUgPSB0cnVlO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0b3BlbmVkOiAnPScsXHJcblx0XHRhdHRhY2hUb0VsZW1lbnQ6ICdAJyxcclxuXHRcdHdpZHRoOiAnQCcsXHJcblx0XHRoZWlnaHQ6ICdAJyxcclxuXHRcdG9uT3BlbjogJyYnLFxyXG5cdFx0b25DbG9zZTogJyYnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCI+XHJcblx0PGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnUgaXplbmRhLWNvbW1vbi1kcm9wZG93bi1zdHJvbmctc2hhZG93IGRyb3Bkb3duLW5vLWNsb3NlLW9uLWNsaWNrXCJcclxuXHRcdG5nLWNsaWNrPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1wiPlxyXG5cdFx0PGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tZHJvcGRvd24tdHJpYW5nbGVcIj48L2Rpdj5cclxuXHRcdDxkaXYgbmctc3R5bGU9XCJ7XFwnd2lkdGhcXCc6IHdpZHRoLCBcXCdoZWlnaHRcXCc6IGhlaWdodH1cIj5cclxuXHRcdFx0PGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0PC9kaXY+XHJcbjwvZGl2PmA7XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHRcdFx0Y29uc3QgaWQgPSAoJycgKyBNYXRoLnJhbmRvbSgpKS5zdWJzdHJpbmcoMik7XHJcblx0XHRcdGNvbnN0IHNjcm9sbEV2ZW50SWQgPSAnc2Nyb2xsLml6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJyArIGlkO1xyXG5cdFx0XHRjb25zdCByZXNpemVFdmVudElkID0gJ3Jlc2l6ZS5pemVuZGFCb290c3RyYXBEcm9wZG93bicgKyBpZDtcclxuXHRcdFx0Y29uc3Qga2V5RXZlbnRJZCA9ICdrZXl1cC5pemVuZGFCb290c3RyYXBEcm9wZG93bicgKyBpZDtcclxuXHJcblx0XHRcdGNvbnN0ICRkcm9wZG93biA9ICRlbGVtZW50LmZpbmQoJy5kcm9wZG93bicpO1xyXG5cdFx0XHRjb25zdCAkbWVudSA9ICRlbGVtZW50LmZpbmQoJy5kcm9wZG93bi1tZW51Jyk7XHJcblxyXG5cdFx0XHQkZHJvcGRvd24uZmluZCgnLml6ZW5kYS1jb21tb24tZHJvcGRvd24tdHJpYW5nbGUnKS5vbignY2xpY2snLCAoKSA9PiBjbG9zZSgpKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKHNjcm9sbEV2ZW50SWQsICgpID0+IGNsb3NlKCkpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24ocmVzaXplRXZlbnRJZCwgKCkgPT4gY2xvc2UoKSk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbihrZXlFdmVudElkLCBldmVudCA9PiB7XHJcblx0XHRcdFx0Ly8gZXNjIGJ1dHRvbiBoYW5kbGVyXHJcblx0XHRcdFx0aWYgKGV2ZW50LmtleUNvZGUgPT0gMjcgJiYgJHNjb3BlLm9wZW5lZCkge1xyXG5cdFx0XHRcdFx0Y2xvc2UoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnb3BlbmVkJywgKG5ld1ZhbDogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgJiYgISRkcm9wZG93bi5oYXNDbGFzcygnb3BlbicpKVxyXG5cdFx0XHRcdFx0b3BlbigpO1xyXG5cdFx0XHRcdGlmICghbmV3VmFsICYmICRkcm9wZG93bi5oYXNDbGFzcygnb3BlbicpKVxyXG5cdFx0XHRcdFx0Y2xvc2UoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBvcGVuKCkge1xyXG5cdFx0XHRcdGNvbnN0ICRhdHRhY2hUb0VsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLmF0dGFjaFRvRWxlbWVudCk7XHJcblx0XHRcdFx0Y29uc3QgJHRpbGUgPSAkYXR0YWNoVG9FbGVtZW50LmNsb3Nlc3QoJy5pei1kYXNoLXRpbGUnKTtcclxuXHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0XHQkbWVudS5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XHJcblx0XHRcdFx0JG1lbnUuY3NzKCd6LWluZGV4JywgOTk5OSk7XHJcblx0XHRcdFx0bGV0IGxlZnQgPSAkdGlsZS53aWR0aCgpIC0gJG1lbnUud2lkdGgoKSAtIDE2O1xyXG5cdFx0XHRcdGxldCBkZWx0YSA9IDA7XHJcblx0XHRcdFx0aWYgKGxlZnQgPCAwKSB7XHJcblx0XHRcdFx0XHRkZWx0YSA9IC1sZWZ0O1xyXG5cdFx0XHRcdFx0bGVmdCA9IDA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNvbnN0IHRvcCA9IDQ0O1xyXG5cdFx0XHRcdCRtZW51LmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1kcm9wZG93bi10cmlhbmdsZScpLmNzcygnbGVmdCcsICRtZW51LndpZHRoKCkgLSBkZWx0YSAtIDU4KTtcclxuXHRcdFx0XHQkbWVudS5jc3Moe1xyXG5cdFx0XHRcdFx0bGVmdDogbGVmdCArICdweCcsXHJcblx0XHRcdFx0XHR0b3A6IHRvcCArICdweCdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbk9wZW4pKVxyXG5cdFx0XHRcdFx0JHNjb3BlLm9uT3Blbih7fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNsb3NlKCkge1xyXG5cdFx0XHRcdCRkcm9wZG93bi5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdCRtZW51LmRhdGEoJ29wZW4nLCBmYWxzZSk7XHJcblx0XHRcdFx0JHNjb3BlLm9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uQ2xvc2UpKVxyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ2xvc2Uoe30pO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoc2Nyb2xsRXZlbnRJZCk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZihyZXNpemVFdmVudElkKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKGtleUV2ZW50SWQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UpID0+IG5ldyBJemVuZGFCb290c3RyYXBEcm9wZG93bigkd2luZG93KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFCb290c3RyYXBEcm9wZG93bicsIFsnJHdpbmRvdycsIEl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUNvbG9yUGlja2VyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG5nTW9kZWw6IGFueTtcclxuXHRpbmxpbmU6IGFueTtcclxuXHRhZGRpdGlvbmFsQ2xhc3M6IGFueTtcclxuXHRjb2xvcjogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogQ29sb3IgcGlja2VyIGRpcmVjdGl2ZS4gUmVxdWlyZXMgXCJqcXVlcnktbWluaWNvbG9yc1wiIGpRdWVyeSBwbHVnaW4uIFVzYWdlOlxyXG4gKiA8aXplbmRhLWNvbG9yLXBpY2tlciBuZy1tb2RlbD1cIi4uLlwiPjwvaXplbmRhLWNvbG9yLXBpY2tlcj5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUNvbG9yUGlja2VyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ01vZGVsOiAnPScsXHJcblx0XHRpbmxpbmU6ICdAJyxcclxuXHRcdGFkZGl0aW9uYWxDbGFzczogJ0AnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9ICc8aW5wdXQgY2xhc3M9XCJtaW5pY29sb3JzIGZvcm0tY29udHJvbFwiIG5nLWNsYXNzPVwiYWRkaXRpb25hbENsYXNzXCI+PC9pbnB1dD4nO1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFDb2xvclBpY2tlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFDb2xvclBpY2tlci5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFDb2xvclBpY2tlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cdFx0XHRjb25zdCAkaW5wdXQgPSAkZWxlbWVudC5maW5kKCdpbnB1dC5taW5pY29sb3JzJyk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCBhY3RpdmUgaXRlbSBjaGFuZ2VkXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nTW9kZWwnLCAobmV3VmFsOiBzdHJpbmcsIG9sZFZhbDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbCA9PT0gb2xkVmFsKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdCRpbnB1dC52YWwobmV3VmFsKTtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSgndmFsdWUnLCBuZXdWYWwpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGluaXRpYWxpemVDb250cm9sKCk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdCRpbnB1dFsnbWluaWNvbG9ycyddKCdkZXN0cm95Jyk7XHJcblx0XHRcdFx0JGlucHV0LnJlbW92ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGluaXRpYWxpemVDb250cm9sKCkge1xyXG5cdFx0XHRcdCRpbnB1dFsnbWluaWNvbG9ycyddKCdkZXN0cm95Jyk7XHJcblx0XHRcdFx0JGlucHV0LnZhbCgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oe1xyXG5cdFx0XHRcdFx0aW5saW5lOiAkc2NvcGUuaW5saW5lID09PSAndHJ1ZScsXHJcblx0XHRcdFx0XHRsZXR0ZXJjYXNlOiAnbG93ZXJjYXNlJyxcclxuXHRcdFx0XHRcdHRoZW1lOiAnYm9vdHN0cmFwJyxcclxuXHRcdFx0XHRcdGNvbG9yOiAkc2NvcGUuY29sb3IsXHJcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2JvdHRvbSByaWdodCcsXHJcblx0XHRcdFx0XHRjaGFuZ2U6IGhleCA9PiB7XHJcblx0XHRcdFx0XHRcdHZhciB2YWwgPSBTdHJpbmcoJGlucHV0LnZhbCgpKTtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbC5tYXRjaCgvXiN7MCwxfVswLTlhLWZdezZ9JC9naSkpIHtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUubmdNb2RlbCA9IGhleDtcclxuXHRcdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJy5pei1kYXNoLWJhY2tncm91bmQnKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBoZXgpO1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdCRlbGVtZW50LmZpbmQoJy5taW5pY29sb3JzLWdyaWQsIC5taW5pY29sb3JzLXNsaWRlcicpLmNsaWNrKGUgPT4ge1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhQ29sb3JQaWNrZXIoKTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQ29sb3JQaWNrZXInLCBbSXplbmRhQ29sb3JQaWNrZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bW9kZWw6IGFueTtcclxuXHRuZ0Rpc2FibGVkOiBhbnk7XHJcblx0ZGF0ZUZvcm1hdDogYW55O1xyXG5cdGxvY2FsZTogYW55O1xyXG5cdGRhdGVwYXJ0OiBhbnk7XHJcblx0c2hvd0FkZGl0aW9uYWxCdXR0b25zOiBhbnk7XHJcblx0aHRtbENvbnRhaW5lclNlbGVjdG9yOiBhbnk7XHJcblx0b25DaGFuZ2U6IGFueTtcclxuXHRkYXRlVGltZVBpY2tlcjogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFEYXRlVGltZVBpY2tlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHJlcXVpcmUgPSAnbmdNb2RlbCc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRtb2RlbDogJz1uZ01vZGVsJyxcclxuXHRcdG5nRGlzYWJsZWQ6ICc9JyxcclxuXHRcdGRhdGVGb3JtYXQ6ICc9JyxcclxuXHRcdGxvY2FsZTogJz0nLFxyXG5cdFx0ZGF0ZXBhcnQ6ICc9JyxcclxuXHRcdHNob3dBZGRpdGlvbmFsQnV0dG9uczogJ0AnLFxyXG5cdFx0aHRtbENvbnRhaW5lclNlbGVjdG9yOiAnQCcsXHJcblx0XHRvbkNoYW5nZTogJyYnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAvPlxyXG48c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWFkZG9uXCI+XHJcblx0PHNwYW4gY2xhc3M9XCJnbHlwaGljb24tY2FsZW5kYXIgZ2x5cGhpY29uXCI+PC9zcGFuPlxyXG48L3NwYW4+YDtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRhdHRyczogbmcuSUF0dHJpYnV0ZXMsIG5nTW9kZWxDdHJsOiBuZy5JQ29udHJvbGxlcikgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHk6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0Ly8gY2hhbmdlIHRlbXBsYXRlIGlmIHJlc29sdXRpb24gaXMgdG9vIGxvd1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHkuaXNTbWFsbFJlc29sdXRpb24oKSlcclxuXHRcdFx0dGhpcy50ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1kYXRlLXBpY2tlci1pbmxpbmVcIi8+JztcclxuXHJcblxyXG5cdFx0SXplbmRhRGF0ZVRpbWVQaWNrZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRcdGF0dHJzOiBuZy5JQXR0cmlidXRlcywgbmdNb2RlbEN0cmw6IG5nLklDb250cm9sbGVyKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB1aWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTtcclxuXHRcdFx0Y29uc3QgJGlucHV0ID0gJGVsZW1lbnQuY2hpbGRyZW4oJ2lucHV0LC5pemVuZGEtY29tbW9uLWRhdGUtcGlja2VyLWlubGluZScpO1xyXG5cdFx0XHRjb25zdCAkYnRuID0gJGVsZW1lbnQuY2hpbGRyZW4oJy5pbnB1dC1ncm91cC1hZGRvbicpO1xyXG5cdFx0XHRjb25zdCBpc1NtYWxsUmVzb2x1dGlvbiA9ICRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCk7XHJcblx0XHRcdGNvbnN0IGdldFBpY2tlcjogKCkgPT4gYW55ID0gKCkgPT4gJGlucHV0LmRhdGEoJ0RhdGVUaW1lUGlja2VyJyk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ3JlYXRlIG5ldyBkYXRlIG9iamVjdCBiYXNlZCBvbiBiYXNlRGF0ZSB3aXRoIHVwZGF0ZWQgZnJvbSB0aGUgbmV3RGF0ZSBkYXRlIG9yIHRpbWUgb3IgYm90aC5cclxuXHRcdFx0ICogQHBhcmFtIHtEYXRlfSBiYXNlRGF0ZSBjdXJyZW50IGRhdGVcclxuXHRcdFx0ICogQHBhcmFtIHtEYXRlfSBuZXdEYXRlIHVwZGF0ZWQgZGF0ZVxyXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gZGF0ZXBhcnQgd2hhdCBwYXJ0IHdpbGwgYmUgdXBkYXRlZDogJ1wiZGF0ZVwifFwidGltZVwifFwiZGF0ZXRpbWVcIidcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IGdldFVwZGF0ZWREYXRlVmFsdWUgPSAoYmFzZURhdGUsIG5ld0RhdGUsIGRhdGVwYXJ0KSA9PiB7XHJcblx0XHRcdFx0aWYgKCFiYXNlRGF0ZSkgcmV0dXJuIG5ldyBEYXRlKG5ld0RhdGUpO1xyXG5cdFx0XHRcdHZhciBjdXJyRGF0ZSA9IG5ldyBEYXRlKGJhc2VEYXRlKTsgLy8gY2xvbmUgYmFzZSBkYXRlXHJcblx0XHRcdFx0aWYgKGRhdGVwYXJ0LmluZGV4T2YoJ2RhdGUnKSA+PSAwKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZS5zZXRGdWxsWWVhcihuZXdEYXRlLmdldEZ1bGxZZWFyKCkpO1xyXG5cdFx0XHRcdFx0Y3VyckRhdGUuc2V0TW9udGgobmV3RGF0ZS5nZXRNb250aCgpKTtcclxuXHRcdFx0XHRcdGN1cnJEYXRlLnNldERhdGUobmV3RGF0ZS5nZXREYXRlKCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZGF0ZXBhcnQuaW5kZXhPZigndGltZScpID49IDApIHtcclxuXHRcdFx0XHRcdGN1cnJEYXRlLnNldEhvdXJzKG5ld0RhdGUuZ2V0SG91cnMoKSk7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZS5zZXRNaW51dGVzKG5ld0RhdGUuZ2V0TWludXRlcygpKTtcclxuXHRcdFx0XHRcdGN1cnJEYXRlLnNldFNlY29uZHMobmV3RGF0ZS5nZXRTZWNvbmRzKCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY3VyckRhdGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTZXQgZGF0ZSB0byB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXREYXRlID0gbmV3RGF0ZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdEYXRlKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGF0ZShudWxsKTtcclxuXHRcdFx0XHRlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZShuZXdEYXRlKSlcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRhdGUoZ2V0VXBkYXRlZERhdGVWYWx1ZSgkc2NvcGUubW9kZWwsIG5ld0RhdGUsICRzY29wZS5kYXRlcGFydCkpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobmV3RGF0ZSkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kYXRlKGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBuZXcgRGF0ZShuZXdEYXRlKSwgJHNjb3BlLmRhdGVwYXJ0KSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgYFVua25vd24gZGF0ZSB0eXBlOiAke3R5cGVvZiAobmV3RGF0ZSl9YDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEVuYWJsZS9EaXNhYmxlIHBpY2tlclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3Qgc2V0RGlzYWJsZWQgPSBpc0Rpc2FibGVkID0+IHtcclxuXHRcdFx0XHRpZiAoaXNEaXNhYmxlZClcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRpc2FibGUoKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5lbmFibGUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IGRhdGUgZm9ybWF0IGluIHRoZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldEZvcm1hdCA9IGZvcm1hdCA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZvcm1hdCkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5mb3JtYXQoZmFsc2UpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmZvcm1hdChmb3JtYXQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQXBwbHkgbG9jYWxlIGluIHRoZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldExvY2FsZSA9IGxvY2FsZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGxvY2FsZSkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Z2V0UGlja2VyKCkubG9jYWxlKGxvY2FsZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBkYXRlIHBpY2tlciBjb25maWcganNvblxyXG5cdFx0XHR2YXIgY29uZmlnID0ge307XHJcblx0XHRcdGlmICgkc2NvcGUuc2hvd0FkZGl0aW9uYWxCdXR0b25zID09PSAndHJ1ZScpIHtcclxuXHRcdFx0XHRjb25maWcgPSB7XHJcblx0XHRcdFx0XHRzaG93VG9kYXlCdXR0b246IHRydWUsXHJcblx0XHRcdFx0XHRzaG93Q2xlYXI6IHRydWVcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNvbmZpZyxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRsb2NhbGU6ICRzY29wZS5sb2NhbGUsXHJcblx0XHRcdFx0XHRpbmxpbmU6IGlzU21hbGxSZXNvbHV0aW9uLFxyXG5cdFx0XHRcdFx0d2lkZ2V0UGFyZW50OiBpc1NtYWxsUmVzb2x1dGlvbiA/IG51bGwgOiBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLmh0bWxDb250YWluZXJTZWxlY3RvciksXHJcblx0XHRcdFx0XHR0b29sYmFyUGxhY2VtZW50OiAnYm90dG9tJyxcclxuXHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOiB7XHJcblx0XHRcdFx0XHRcdHZlcnRpY2FsOiAnYm90dG9tJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHRvb2x0aXBzOiB7XHJcblx0XHRcdFx0XHRcdHRvZGF5OiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX0dvVG9Ub2RheScsICdHbyB0byB0b2RheScpLFxyXG5cdFx0XHRcdFx0XHRjbGVhcjogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19DbGVhclNlbGVjdGlvbicsICdDbGVhciBzZWxlY3Rpb24nKSxcclxuXHRcdFx0XHRcdFx0Y2xvc2U6ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfQ2xvc2VQaWNrZXInLCAnQ2xvc2UgdGhlIHBpY2tlcicpLFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RNb250aDogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19TZWxlY3RNb250aCcsICdTZWxlY3QgTW9udGgnKSxcclxuXHRcdFx0XHRcdFx0cHJldk1vbnRoOiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzTW9udGgnLCAnUHJldmlvdXMgTW9udGgnKSxcclxuXHRcdFx0XHRcdFx0bmV4dE1vbnRoOiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX05leHRNb250aCcsICdOZXh0IE1vbnRoJyksXHJcblx0XHRcdFx0XHRcdHNlbGVjdFllYXI6ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfU2VsZWN0WWVhcicsICdTZWxlY3QgWWVhcicpLFxyXG5cdFx0XHRcdFx0XHRwcmV2WWVhcjogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19QcmV2aW91c1llYXInLCAnUHJldmlvdXMgWWVhcicpLFxyXG5cdFx0XHRcdFx0XHRuZXh0WWVhcjogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19OZXh0WWVhcicsICdOZXh0IFllYXInKSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0RGVjYWRlOiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdERlY2FkZScsICdTZWxlY3QgRGVjYWRlJyksXHJcblx0XHRcdFx0XHRcdHByZXZEZWNhZGU6ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfUHJldmlvdXNEZWNhZGUnLCAnUHJldmlvdXMgRGVjYWRlJyksXHJcblx0XHRcdFx0XHRcdG5leHREZWNhZGU6ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfTmV4dERlY2FkZScsICdOZXh0IERlY2FkZScpLFxyXG5cdFx0XHRcdFx0XHRwcmV2Q2VudHVyeTogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19QcmV2aW91c0NlbnR1cnknLCAnUHJldmlvdXMgQ2VudHVyeScpLFxyXG5cdFx0XHRcdFx0XHRuZXh0Q2VudHVyeTogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19OZXh0Q2VudHVyeScsICdOZXh0IENlbnR1cnknKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHQvLyBjcmVhdGUgcGlja2VyXHJcblx0XHRcdCRzY29wZS5kYXRlVGltZVBpY2tlciA9ICRpbnB1dFsnZGF0ZXRpbWVwaWNrZXInXShjb25maWcpO1xyXG5cclxuXHRcdFx0Ly8gZGF0ZSBwaWNrZXIgJ29uIHNob3cnIGhhbmRsZXJcclxuXHRcdFx0JGlucHV0Lm9uKCdkcC5zaG93JywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1NtYWxsUmVzb2x1dGlvbilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHdpZGdldCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuaHRtbENvbnRhaW5lclNlbGVjdG9yICsgJyA+IC5ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXItd2lkZ2V0Jyk7XHJcblx0XHRcdFx0JHdpZGdldC5zaG93KCk7XHJcblx0XHRcdFx0JHdpZGdldC5jc3Moe1xyXG5cdFx0XHRcdFx0dG9wOiAkaW5wdXQub2Zmc2V0KCkudG9wIC0gJHdpZGdldC5wYXJlbnQoKS5vZmZzZXQoKS50b3AgKyAkaW5wdXQuaGVpZ2h0KCkgKyAyMCxcclxuXHRcdFx0XHRcdGxlZnQ6ICRpbnB1dC5vZmZzZXQoKS5sZWZ0IC0gJHdpZGdldC5wYXJlbnQoKS5vZmZzZXQoKS5sZWZ0XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2luZG93IHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplLmRwJyArIHVpZCwgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1NtYWxsUmVzb2x1dGlvbilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHdpZGdldCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuaHRtbENvbnRhaW5lclNlbGVjdG9yICsgJyA+IC5ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXItd2lkZ2V0Jyk7XHJcblx0XHRcdFx0JHdpZGdldC5oaWRlKCk7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4gJGlucHV0LmJsdXIoKSwgMTApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRidG4ub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghJHNjb3BlLm5nRGlzYWJsZWQpXHJcblx0XHRcdFx0XHQkaW5wdXQuZm9jdXMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCB2YXJpYWJsZXM6XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nRGlzYWJsZWQnLCBuZXdWYWwgPT4gc2V0RGlzYWJsZWQobmV3VmFsKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2RhdGVGb3JtYXQnLCBuZXdWYWwgPT4gc2V0Rm9ybWF0KG5ld1ZhbCkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdsb2NhbGUnLCBuZXdWYWwgPT4gc2V0TG9jYWxlKG5ld1ZhbCkpO1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSB2YWx1ZXNcclxuXHRcdFx0c2V0RGlzYWJsZWQoJHNjb3BlLm5nRGlzYWJsZWQpO1xyXG5cdFx0XHRzZXRGb3JtYXQoJHNjb3BlLmRhdGVGb3JtYXQpO1xyXG5cdFx0XHRzZXRMb2NhbGUoJHNjb3BlLmxvY2FsZSk7XHJcblxyXG5cdFx0XHRpZiAobmdNb2RlbEN0cmwpIHtcclxuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKCdtb2RlbCcsIG5ld1ZhbCA9PiBzZXREYXRlKG5ld1ZhbCkpO1xyXG5cdFx0XHRcdCR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdG5nTW9kZWxDdHJsLiRyZW5kZXIgPSAoKSA9PiBzZXREYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQkaW5wdXQub24oJ2RwLmNoYW5nZScsIGUgPT4ge1xyXG5cdFx0XHRcdFx0dmFyIG5ld0RhdGVWYWx1ZSA9IGVbJ2RhdGUnXSA/IGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBlWydkYXRlJ10udG9EYXRlKCksICRzY29wZS5kYXRlcGFydCkgOiBudWxsO1xyXG5cdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXdEYXRlVmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZS5kcCcgKyB1aWQpO1xyXG5cdFx0XHRcdHZhciBwaWNrZXIgPSBnZXRQaWNrZXIoKTtcclxuXHRcdFx0XHRpZiAocGlja2VyKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGVzdHJveSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRcdCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRcdCRpemVuZGFMb2NhbGU6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRcdCRpemVuZGFDb21wYXRpYmlsaXR5OiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkgPT5cclxuXHRcdFx0bmV3IEl6ZW5kYURhdGVUaW1lUGlja2VyKCR3aW5kb3csICR0aW1lb3V0LCAkaXplbmRhTG9jYWxlLCAkaXplbmRhQ29tcGF0aWJpbGl0eSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdycsICckdGltZW91dCcsICckaXplbmRhTG9jYWxlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFEYXRlVGltZVBpY2tlcicsXHJcblx0Wyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpemVuZGFMb2NhbGUnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHknLCBJemVuZGFEYXRlVGltZVBpY2tlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUgZXh0ZW5kcyBuZy5JUm9vdFNjb3BlU2VydmljZSB7XHJcblx0aXNEcmFnZ2luZ05vdzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0YWxsb3dDb2xSZW9yZGVyOiBhbnk7XHJcblx0YWxsb3dlZENvbHVtbnNGb3JSZW9yZGVyOiBhbnk7XHJcblx0cmVwb3J0U2V0T3B0aW9uczogeyBpc1ZnVXNlZDogYm9vbGVhbjsgdmdTdHlsZTogc3RyaW5nLCBzb3J0ZWRBY3RpdmVGaWVsZHM6IGFueVtdIH07XHJcblx0YWxsb3dDb2xSZW1vdmU6IGFueTtcclxuXHRkcm9wcGFibGVBY2NlcHQ6IGFueTtcclxuXHRvblJlb3JkZXI6IGFueTtcclxuXHRvbkhlYWRlckNsaWNrOiBhbnk7XHJcblx0b25QYWdpbmdDbGljazogYW55O1xyXG5cdG9uRHJhZ092ZXI6IGFueTtcclxuXHRvblJlbW92ZTogYW55O1xyXG5cdGVtcHR5VGV4dDogYW55O1xyXG5cdGN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlcjogYW55O1xyXG5cdGh0bWxUZXh0OiBhbnk7XHJcblxyXG5cdHJlb3JkZXJTdGF0ZTogYW55O1xyXG5cdCR0YWJsZTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhUmVwb3J0Vmlld2VyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0YWxsb3dDb2xSZW9yZGVyOiAnQCcsXHJcblx0XHRhbGxvd2VkQ29sdW1uc0ZvclJlb3JkZXI6ICc9JyxcclxuXHRcdHJlcG9ydFNldE9wdGlvbnM6ICc9JyxcclxuXHRcdGFsbG93Q29sUmVtb3ZlOiAnQCcsXHJcblx0XHRkcm9wcGFibGVBY2NlcHQ6ICdAJyxcclxuXHRcdG9uUmVvcmRlcjogJyYnLFxyXG5cdFx0b25IZWFkZXJDbGljazogJyYnLFxyXG5cdFx0b25QYWdpbmdDbGljazogJyYnLFxyXG5cdFx0b25EcmFnT3ZlcjogJyYnLFxyXG5cdFx0b25SZW1vdmU6ICcmJyxcclxuXHRcdGVtcHR5VGV4dDogJz0nLFxyXG5cdFx0Y3VycmVudEluc2VydENvbHVtbk9yZGVyOiAnPScsXHJcblx0XHRodG1sVGV4dDogJz0nXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxkaXYgY2xhc3M9XCJpemVuZGEtcmVwb3J0LXZpZXdlclwiPlxyXG5cdDxkaXYgY2xhc3M9XCJodG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlciBoaWRkZW5cIj48L2Rpdj5cclxuXHQ8ZGl2IGNsYXNzPVwiaHRtbC1jb250YWluZXItbG9hZGluZ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBuZy1iaW5kPVwiOjogJ2pzX0xvYWRpbmcnIHwgaXplbmRhTG9jYWxlOiAnTG9hZGluZy4uLidcIj48L2Rpdj5cclxuXHQ8ZGl2IGlkPVwicmVuZGVyZWRSZXBvcnREaXZcIiBjbGFzcz1cImh0bWwtY29udGFpbmVyXCI+PC9kaXY+XHJcbjwvZGl2PmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclJvb3RTY29wZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhUmVwb3J0Vmlld2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdFx0Ly8gYXBwbHkgdGlsZSBodG1sIGZ1bmN0aW9uXHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyJyk7XHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyTG9hZGluZyA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1sb2FkaW5nJyk7XHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIgPSAkZWxlbWVudC5maW5kKCcuaHRtbC1jb250YWluZXItcGxhY2Vob2xkZXInKTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBQcmVwYXJlIHJlcG9ydCB0YWJsZVxyXG5cdFx0XHQgKiBAcGFyYW0ge2pxdWVyeSBvYmplY3R9ICR0YWJsZSBcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHByb2Nlc3NSZXBvcnRUYWJsZSA9ICgpID0+IHtcclxuXHRcdFx0XHQvLyBwcmVwYXJlIHRhYmxlXHJcblx0XHRcdFx0aWYgKCFJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUlzR29vZCgkc2NvcGUuJHRhYmxlKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkQ29sUmVvcmRlckhhbmRsZXIoJHNjb3BlLCAkdGltZW91dCwgKCRmcm9tLCAkdG8sIGlzVmlzdWFsR3JvdXApID0+IHtcclxuXHRcdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5vblJlb3JkZXIoJHNjb3BlLCAkZnJvbSwgJHRvLCBpc1Zpc3VhbEdyb3VwKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBhZGQgb3RoZXIgaGFuZGxlcnNcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkRHJhZ0hhbmRsZXJzKCRzY29wZSwgJHJvb3RTY29wZSwgJGVsZW1lbnQpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDbGlja0hhbmRsZXIoJHNjb3BlKTtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkQ29sUmVtb3ZlQnV0dG9ucygkc2NvcGUpO1xyXG5cdFx0XHRcdGl6ZW5kYS5yZXBvcnQucmVnaXN0ZXJQb3N0UmVuZGVySGFuZGxlcnMoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBseSByZXBvcnQgY29udGVudCBodG1sXHJcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgYXBwbHlIdG1sID0gKGh0bWw6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdC8vIHNob3cvaGlkZSBsb2FkaW5nIGluZGljYXRvclxyXG5cdFx0XHRcdGlmIChodG1sID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci5oaWRlKCk7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lckxvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci5zaG93KCk7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lckxvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBlbXB0eSByZXN1bHRcclxuXHRcdFx0XHRpZiAodHlwZW9mIChodG1sKSAhPT0gJ3N0cmluZycgfHwgKGh0bWwgJiYgdHlwZW9mIChodG1sKSA9PT0gJ3N0cmluZycgJiYgaHRtbC50cmltKCkgPT09ICcnKSkge1xyXG5cdFx0XHRcdFx0JGh0bWxDb250YWluZXIudGV4dCgkc2NvcGUuZW1wdHlUZXh0KTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGh0bWxDb250YWluZXIuaHRtbChodG1sKTtcclxuXHJcblx0XHRcdFx0Ly8gaXMgcGFnaW5nIGVuYWJsZWRcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJlcGFyZVBhZ2VMaW5rcygkc2NvcGUsICRodG1sQ29udGFpbmVyKTtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJlcGFyZVBhZ2luZ0lucHV0KCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlR29Ub1JlY29yZEJ0bigkc2NvcGUsICRodG1sQ29udGFpbmVyKTtcclxuXHJcblx0XHRcdFx0JHNjb3BlLiR0YWJsZSA9ICRodG1sQ29udGFpbmVyLmZpbmQoJ3RhYmxlW25hbWU9cmVwb3J0VGFibGVdLHRhYmxlLlJlcG9ydFRhYmxlJyk7XHJcblx0XHRcdFx0aWYgKCRzY29wZS4kdGFibGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Ly8gcHJlcGFyZSByZXBvcnQgdGFibGVcclxuXHRcdFx0XHRcdHByb2Nlc3NSZXBvcnRUYWJsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGh0bWxUZXh0IGNoYW5nZSBoYW5kbGVyXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2h0bWxUZXh0JywgKG5ld1ZhbDogc3RyaW5nKSA9PiBhcHBseUh0bWwobmV3VmFsKSk7XHJcblxyXG5cdFx0XHQvLyBpcyBkcmFnZ2luZyBlbmFibGVkIGhhbmRsZXJcclxuXHRcdFx0JHJvb3RTY29wZS4kd2F0Y2goJ2lzRHJhZ2dpbmdOb3cnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3VmFsKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gcnVuXHJcblx0XHRcdGFwcGx5SHRtbCgkc2NvcGUuaHRtbFRleHQpO1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGFueSBraW5kIG9mIHZpc3VhbCBncm91cCBhcHBsaWVkLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGlzVmdBcHBseWVkKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci5pc09iamVjdCgkc2NvcGUucmVwb3J0U2V0T3B0aW9ucylcclxuXHRcdFx0PyAkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy5pc1ZnVXNlZFxyXG5cdFx0XHQ6IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgYXBwbGllZCBBRyBvciBWR0hpZXJhcmNoeS5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBpc1RhYmxlQ29udGFpblZnQ29sdW1ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIEl6ZW5kYVJlcG9ydFZpZXdlci5pc1ZnQXBwbHllZCgkc2NvcGUpICYmXHJcblx0XHRcdFsnQW5hbHlzaXNHcmlkJywgJ1ZHSGllcmFyY2h5J10uaW5kZXhPZigkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy52Z1N0eWxlKSA+PSAwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FsY3VsYXRlIGNvdW50IG9mIHZpc3VhbCBncm91cCBjb2x1bW4uXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2V0Q291bnRPZlZnQ29sdW1ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IG51bWJlciB7XHJcblx0XHRsZXQgY291bnRPZlZnQ29sdW1ucyA9IDA7XHJcblx0XHRpZiAoSXplbmRhUmVwb3J0Vmlld2VyLmlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZSkpIHtcclxuXHRcdFx0dmFyIGZpZWxkc0luVGFibGUgPSAkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy5zb3J0ZWRBY3RpdmVGaWVsZHM7XHJcblx0XHRcdGNvdW50T2ZWZ0NvbHVtbnMgPSBmaWVsZHNJblRhYmxlLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5pc1ZnVXNlZCkubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNvdW50T2ZWZ0NvbHVtbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZmllbGRzIHdoaWNoIGhhdmUgb3duIGNvbHVtbiBpbiBwcmV2aWV3IHRhYmxlXHJcblx0ICogQHJldHVybnMge0FycmF5fSBhcnJheSBvZiBmaWVsZCBvYmplY3RzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGdldENvbHVtbkZpZWxkcygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IGFueVtdIHtcclxuXHRcdGxldCBmaWVsZHNJblRhYmxlOiBhbnlbXTtcclxuXHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSlcclxuXHRcdFx0ZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcztcclxuXHRcdGVsc2VcclxuXHRcdFx0ZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcy5maWx0ZXIoZmllbGQgPT4gIWZpZWxkLmlzVmdVc2VkKTtcclxuXHRcdHJldHVybiBmaWVsZHNJblRhYmxlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgaXNUYWJsZUlzR29vZCgkdGFibGU6IEpRdWVyeTxIVE1MRWxlbWVudD4pOiBib29sZWFuIHtcclxuXHRcdGlmICghJHRhYmxlKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHQvLyBpZiBubyB0YWJsZSBoZWFkZXJzIC0gc3RvcDpcclxuXHRcdHZhciAkdGFibGVIZWFkZXIgPSAkdGFibGUuY2hpbGRyZW4oJ3Rib2R5JykuY2hpbGRyZW4oJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0aWYgKCR0YWJsZUhlYWRlci5sZW5ndGggPT09IDApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdC8vIGNoZWNrIGlmIHRhYmxlIGNvbnRhaW5zIHZpc3VhbCBncm91cHM6XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBjb2wgcmVvcmRlciBoYW5kbGVyLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENvbFJlb3JkZXJIYW5kbGVyKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCBvbkNvbHVtblJlb3JkZXJDb21wbGV0ZWQ6ICguLi5hbnkpID0+IHZvaWQpIHtcclxuXHRcdGlmICgkc2NvcGUuYWxsb3dDb2xSZW9yZGVyICE9PSAndHJ1ZScpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHRjb25zdCBib2R5T25zZWxlY3RzdGFydFNhdmUgPSBTdHJpbmcoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnKSk7XHJcblx0XHRjb25zdCBib2R5VW5zZWxlY3RhYmxlU2F2ZSA9IFN0cmluZyhhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJykpO1xyXG5cdFx0Y29uc3QgZGlzYWJsZVRleHRTZWxlY3Rpb24gPSAoKSA9PiB7XHJcblx0XHRcdC8vIGpRdWVyeSBkb2Vzbid0IHN1cHBvcnQgdGhlIGVsZW1lbnQudGV4dCBhdHRyaWJ1dGUgaW4gTVNJRSA4XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjY5Mjc3MC9zdHlsZS1zdHlsZS10ZXh0Y3NzLWFwcGVuZHRvaGVhZC1kb2VzLW5vdC13b3JrLWluLWllXHJcblx0XHRcdHZhciAkc3R5bGUgPVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChcclxuXHRcdFx0XHRcdCc8c3R5bGUgaWQ9XCJfX2Rpc2FibGVfdGV4dF9zZWxlY3Rpb25fX1wiIHR5cGU9XCJ0ZXh0L2Nzc1wiPmJvZHkgeyAtbXMtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Oi1tb3otbm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTsgfTwvc3R5bGU+Jyk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5hcHBlbmQoJHN0eWxlKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnLCAncmV0dXJuIGZhbHNlOycpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsICdvbicpO1xyXG5cdFx0XHRpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xyXG5cdFx0XHRcdHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTsgLy8gTVNJRSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzU4NjklMjh2PVZTLjg1JTI5LmFzcHhcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNvbnN0IHJlc3RvcmVUZXh0U2VsZWN0aW9uID0gKCkgPT4ge1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNfX2Rpc2FibGVfdGV4dF9zZWxlY3Rpb25fXycpLnJlbW92ZSgpO1xyXG5cdFx0XHRpZiAoYm9keU9uc2VsZWN0c3RhcnRTYXZlKVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCdvbnNlbGVjdHN0YXJ0JywgYm9keU9uc2VsZWN0c3RhcnRTYXZlKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCdvbnNlbGVjdHN0YXJ0Jyk7XHJcblx0XHRcdGlmIChib2R5VW5zZWxlY3RhYmxlU2F2ZSlcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJywgYm9keVVuc2VsZWN0YWJsZVNhdmUpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ3Vuc2VsZWN0YWJsZScpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGNyZWF0ZUhlbHBlciA9IGlubmVyT2Zmc2V0ID0+IHtcclxuXHRcdFx0dmFyICRjZWxsID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbTtcclxuXHRcdFx0dmFyICRjbG9uZSA9ICRjZWxsLmNsb25lKCkud3JhcCgnPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGVscGVyXCI+PC9kaXY+JykucGFyZW50KCk7XHJcblx0XHRcdCRjbG9uZS53aWR0aCgkY2VsbC5vdXRlcldpZHRoKCkpO1xyXG5cdFx0XHQkY2xvbmUuaGVpZ2h0KCRjZWxsLm91dGVySGVpZ2h0KCkpO1xyXG5cdFx0XHQkY2xvbmUuY3NzKCd0b3AnLCAkY2VsbC5wb3NpdGlvbigpLnRvcCk7XHJcblx0XHRcdCRjbG9uZS5jc3MoJ2xlZnQnLCAkY2VsbC5wb3NpdGlvbigpLmxlZnQgKyBpbm5lck9mZnNldCk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGhlbHBlciA9ICRjbG9uZTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5oZWxwZXJPZmZzZXQgPSBpbm5lck9mZnNldDtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5hcHBlbmQoJGNsb25lKTtcclxuXHRcdFx0cmV0dXJuICRjbG9uZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCByZW1vdmVIZWxwZXIgPSAoKSA9PiB7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGhlbHBlci5yZW1vdmUoKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBiZWZvcmVSZW9yZGVyU3RhcnRlZCA9ICgpID0+IHtcclxuXHRcdFx0ZGlzYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5hZGRDbGFzcygnaXplbmRhLXJlb3JkZXItY2VsbC1zZWxlY3RlZCcpO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnByZXZpb3VzUG9zaXRpb24gPSAkc2NvcGUuJHRhYmxlLmNzcygncG9zaXRpb24nKTtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgYWZ0ZXJSZW9yZGVyQ29tcGxldGVkID0gKCkgPT4ge1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLnJlbW92ZUNsYXNzKCdpemVuZGEtcmVvcmRlci1jZWxsLXNlbGVjdGVkJyk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSA9IG51bGw7XHJcblx0XHRcdCRzY29wZS4kdGFibGUuY3NzKCdwb3NpdGlvbicsICRzY29wZS5yZW9yZGVyU3RhdGUucHJldmlvdXNQb3NpdGlvbik7XHJcblx0XHRcdCRzY29wZS4kdGFibGUuZmluZCgnLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0cmVtb3ZlSGVscGVyKCk7XHJcblx0XHRcdHJlc3RvcmVUZXh0U2VsZWN0aW9uKCk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgZ2V0Q3VycmVudEl0ZW1zRm9yUmVvcmRlciA9ICgpID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLml0ZW1zQ2FjaGUpIHtcclxuXHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLml0ZW1zQ2FjaGUgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLnBhcmVudCgpLmNoaWxkcmVuKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBjb21wbGV0ZVJlb3JkZXIgPSAoKSA9PiB7XHJcblx0XHRcdGlmICghJHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdGFmdGVyUmVvcmRlckNvbXBsZXRlZCgpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZCkpIHtcclxuXHRcdFx0XHR2YXIgaXNWZyA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nKSA9PT0gJ3RydWUnO1xyXG5cdFx0XHRcdG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZCgkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLCAkc2NvcGUucmVvcmRlclN0YXRlLiR0bywgaXNWZyk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZSA9IHtcclxuXHRcdFx0c3RhcnRlZDogZmFsc2UsXHJcblx0XHRcdCRmcm9tOiBudWxsXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGFkZCB0YWJsZSBoYW5kbGVyczpcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub2ZmKCdtb3VzZW1vdmUuaXplbmRhQ29sUmVvcmRlcicpO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vZmYoJ21vdXNldXAuaXplbmRhQ29sUmVvcmRlcicpO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vbignbW91c2Vtb3ZlLml6ZW5kYUNvbFJlb3JkZXInLCBlID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50VGFibGVYID0gZS5wYWdlWCAtICRzY29wZS4kdGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0Y29uc3QgaXNGcm9tQ29sdW1uVmcgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJykgPT09ICd0cnVlJztcclxuXHJcblxyXG5cdFx0XHQvLyBoaWdobGlnaHQgY3VycmVudCBjb2x1bW5cclxuXHRcdFx0dmFyICR0ZHMgPSBnZXRDdXJyZW50SXRlbXNGb3JSZW9yZGVyKCk7XHJcblx0XHRcdHZhciAkdG9UZCA9IG51bGw7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0ZHMsIChpVGQsIHRkKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGN1cnJUZCA9IGFuZ3VsYXIuZWxlbWVudCh0ZCk7XHJcblx0XHRcdFx0Y29uc3QgdGRMZWZ0ID0gJGN1cnJUZC5wb3NpdGlvbigpLmxlZnQsIHRkV2lkdGggPSAkY3VyclRkLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHRjb25zdCBpc1RkQ29sdW1uVmcgPSBTdHJpbmcoJGN1cnJUZC5hdHRyKCdkYXRhLWlzLXZnLWNvbHVtbicpKSA9PT0gJ3RydWUnO1xyXG5cdFx0XHRcdGlmICghJGN1cnJUZC5oYXNDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWRpc2FibGVkJykgJiZcclxuXHRcdFx0XHRcdGlzRnJvbUNvbHVtblZnID09PSBpc1RkQ29sdW1uVmcgJiZcclxuXHRcdFx0XHRcdGN1cnJlbnRUYWJsZVggPj0gdGRMZWZ0ICYmXHJcblx0XHRcdFx0XHRjdXJyZW50VGFibGVYIDwgdGRMZWZ0ICsgdGRXaWR0aCkge1xyXG5cdFx0XHRcdFx0JHRvVGQgPSAkY3VyclRkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBpcyAkdG9UZCBjaGFuZ2VkP1xyXG5cdFx0XHRpZiAoJHRvVGQgJiYgKCEkc2NvcGUucmVvcmRlclN0YXRlLiR0byB8fCAkdG9UZC5pbmRleCgpICE9PSAkc2NvcGUucmVvcmRlclN0YXRlLiR0by5pbmRleCgpKSkge1xyXG5cdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJHRvID0gJHRvVGQ7XHJcblxyXG5cdFx0XHRcdCR0ZHMucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJyk7XHJcblx0XHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLiR0by5oYXNDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8uYWRkQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBidWJibGUgaW5uZXIgY29udGVudFxyXG5cdFx0XHRcdGNvbnN0IGZyb21JbmRleCA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uaW5kZXgoKTtcclxuXHRcdFx0XHRjb25zdCB0b0luZGV4ID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8uaW5kZXgoKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkdGRzLCAoaVRkLCB0ZCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGN1cnJUZDIgPSBhbmd1bGFyLmVsZW1lbnQodGQpO1xyXG5cdFx0XHRcdFx0Y29uc3QgJGJhY2t1cHMgPSAkY3VyclRkMi5jaGlsZHJlbignLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRpZiAoJGJhY2t1cHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHQkY3VyclRkMi5jaGlsZHJlbigpLm5vdCgnLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkY3VyclRkMi5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRsZXQgJGN1cnJlbnRUZDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHRcdFx0XHRsZXQgJG5leHRUZDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHRcdFx0XHRsZXQgaTogbnVtYmVyO1xyXG5cdFx0XHRcdGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPCB0b0luZGV4OyBpKyspIHtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2ldKTtcclxuXHRcdFx0XHRcdFx0JG5leHRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2kgKyAxXSk7XHJcblx0XHRcdFx0XHRcdCRjdXJyZW50VGQuY2hpbGRyZW4oKS5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5hcHBlbmQoJG5leHRUZC5jaGlsZHJlbigpLmNsb25lKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPiB0b0luZGV4OyBpLS0pIHtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2ldKTtcclxuXHRcdFx0XHRcdFx0JG5leHRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2kgLSAxXSk7XHJcblx0XHRcdFx0XHRcdCRjdXJyZW50VGQuY2hpbGRyZW4oKS5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5hcHBlbmQoJG5leHRUZC5jaGlsZHJlbigpLmNsb25lKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbW92ZSBoZWxwZXJcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyLmNzcygnbGVmdCcsIGN1cnJlbnRUYWJsZVggLSAkc2NvcGUucmVvcmRlclN0YXRlLmhlbHBlck9mZnNldCk7XHJcblx0XHR9KTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub24oJ21vdXNldXAuaXplbmRhQ29sUmVvcmRlcicsICgpID0+IHtcclxuXHRcdFx0aWYgKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKVxyXG5cdFx0XHRcdCR0aW1lb3V0LmNhbmNlbCgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcik7XHJcblx0XHRcdGNvbXBsZXRlUmVvcmRlcigpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZTpcclxuXHRcdHZhciAkaGVhZGVyUm93cyA9ICRzY29wZS4kdGFibGUuZmluZCgndHIuUmVwb3J0SGVhZGVyJyk7XHJcblxyXG5cdFx0Ly8gZmllbGRzSW5UYWJsZSBzaG91bGQgY29udGFpbiBvbmx5IGZpZWxkcyB3aGljaCBoYXZlIGNvbHVtblxyXG5cdFx0dmFyIGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkaGVhZGVyUm93cywgKGlIZWFkZXJSb3csIHRhYmxlSGVhZGVyKSA9PiB7XHJcblx0XHRcdHZhciAkdGFibGVIZWFkZXIgPSBhbmd1bGFyLmVsZW1lbnQodGFibGVIZWFkZXIpO1xyXG5cdFx0XHRpZiAoJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCcuRW1wdHlDZWxsJykubGVuZ3RoID4gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKSwgKGlDZWxsLCBjZWxsKSA9PiB7XHJcblx0XHRcdFx0dmFyICRjZWxsID0gYW5ndWxhci5lbGVtZW50KGNlbGwpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA8IGZpZWxkc0luVGFibGUubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRpZiAoSXplbmRhUmVwb3J0Vmlld2VyLmlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZSkpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gZmllbGRzSW5UYWJsZVtpQ2VsbF07XHJcblx0XHRcdFx0XHRcdCRjZWxsLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJywgZmllbGQuaXNWZ1VzZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRjZWxsLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJywgJ2ZhbHNlJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gbW91c2UgZG93biBoYW5kbGVyXHJcblx0XHRcdFx0XHQkY2VsbC5vbignbW91c2Vkb3duLml6ZW5kYUNvbFJlb3JkZXInLCBlID0+IHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGlmIChlLndoaWNoICE9PSAxKSByZXR1cm47XHJcblx0XHRcdFx0XHRcdGlmICgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcilcclxuXHRcdFx0XHRcdFx0XHQkdGltZW91dC5jYW5jZWwoJHNjb3BlLnJlb3JkZXJTdGF0ZS5kb3duVGltZXIpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lciA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lciA9ICR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRiZWZvcmVSZW9yZGVyU3RhcnRlZCgpO1xyXG5cdFx0XHRcdFx0XHRcdGNyZWF0ZUhlbHBlcihlLm9mZnNldFgpO1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuc3RhcnRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGNlbGwuYWRkQ2xhc3MoJ2l6ZW5kYS1jb2wtcmVvcmRlci1kaXNhYmxlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlb3JkZXIgY29tcGxldGVkIGhhbmRsZXJcclxuXHQgKiBAcGFyYW0ge2pxdWVyeSBkb20gZWxlbWVudH0gJGZyb20uIEVsZW1lbnQgd2hpY2ggd2UgZHJhZ2dlZFxyXG5cdCAqIEBwYXJhbSB7anF1ZXJ5IGRvbSBlbGVtZW50fSAkdG8uICRmcm9tIGVsZW1lbnQgZHJvcHBlZCB0byB0aGlzIGVsZW1lbnQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgb25SZW9yZGVyKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZnJvbSwgJHRvLCBpc1ZnKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZW9yZGVyKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKCEkdG8gfHwgISRmcm9tKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRsZXQgZnJvbUluZGV4ID0gJGZyb20uaW5kZXgoKTtcclxuXHRcdGxldCB0b0luZGV4ID0gJHRvLmluZGV4KCk7XHJcblx0XHRpZiAoZnJvbUluZGV4ID09PSB0b0luZGV4KVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoIWlzVmcpIHtcclxuXHRcdFx0Y29uc3QgdmdDb2x1bW5zQ291bnQgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q291bnRPZlZnQ29sdW1ucygkc2NvcGUpO1xyXG5cdFx0XHRmcm9tSW5kZXggLT0gdmdDb2x1bW5zQ291bnQ7XHJcblx0XHRcdHRvSW5kZXggLT0gdmdDb2x1bW5zQ291bnQ7XHJcblx0XHR9XHJcblx0XHQkc2NvcGUub25SZW9yZGVyKHsgYXJnMDogZnJvbUluZGV4LCBhcmcxOiB0b0luZGV4LCBhcmcyOiBpc1ZnIH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBkcmFnIGhhbmRsZXJzIHRvIHRhYmxlXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkRHJhZ0hhbmRsZXJzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkge1xyXG5cdFx0Y29uc3QgJGh0bWxDb250YWluZXJQbGFjZWhvbGRlciA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpO1xyXG5cclxuXHRcdC8vIG1vdXNlIG92ZXJcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZygkc2NvcGUuZHJvcHBhYmxlQWNjZXB0KSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgJGN1cnJlbnR0YWJsZSA9ICRzY29wZS4kdGFibGU7XHJcblx0XHRsZXQgY3VycmVudFRhYmxlTGVmdCA9ICRjdXJyZW50dGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuaGVpZ2h0KCRjdXJyZW50dGFibGUuaGVpZ2h0KCkpO1xyXG5cclxuXHRcdGNvbnN0IGNvbHVtbkNvb3JkczogQXJyYXk8eyBsZWZ0OiBudW1iZXI7IHdpZHRoOiBudW1iZXIgfT4gPSBbXTtcclxuXHRcdGNvbnN0ICRjdXJyZW50dGFibGVIZWFkZXIgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpLmxhc3QoKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRjb25zdCAkY3VycmVudHRhYmxlUm93cyA9ICRjdXJyZW50dGFibGVIZWFkZXIuY2hpbGRyZW4oJ3RkJykuc2xpY2UoMCwgZmllbGRzSW5UYWJsZS5sZW5ndGgpO1xyXG5cdFx0Y29uc3QgY291bnRPZlZnQ29sdW1ucyA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZSk7XHJcblxyXG5cdFx0Ly8gY2FsY3VsYXRlIFxyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJGN1cnJlbnR0YWJsZVJvd3MsIChpVGg6IG51bWJlciwgdGg6IGFueSkgPT4ge1xyXG5cdFx0XHR2YXIgJHRoID0gYW5ndWxhci5lbGVtZW50KHRoKTtcclxuXHRcdFx0aWYgKGlUaCA+PSBjb3VudE9mVmdDb2x1bW5zKSB7XHJcblx0XHRcdFx0Y29sdW1uQ29vcmRzLnB1c2goe1xyXG5cdFx0XHRcdFx0bGVmdDogJHRoLnBvc2l0aW9uKCkubGVmdCxcclxuXHRcdFx0XHRcdHdpZHRoOiAkdGgub3V0ZXJXaWR0aCgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIG1vdXNlIGVudGVyIGhhbmRsZXJcclxuXHRcdCRzY29wZS4kdGFibGUub24oJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcblx0XHRcdGlmICghJHJvb3RTY29wZS5pc0RyYWdnaW5nTm93KVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Y3VycmVudFRhYmxlTGVmdCA9ICRjdXJyZW50dGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ3RvcCcsICRjdXJyZW50dGFibGUucG9zaXRpb24oKS50b3AgKyAncHgnKTtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5oZWlnaHQoJGN1cnJlbnR0YWJsZS5oZWlnaHQoKSk7XHJcblx0XHRcdGlmIChjb2x1bW5Db29yZHMubGVuZ3RoID4gMClcclxuXHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIGNvbHVtbkNvb3Jkc1swXS5sZWZ0ICsgJ3B4Jyk7XHJcblx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gbW91c2UgbGVhdmUgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2VsZWF2ZScsICgpID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoZXZlbnRbJ3RvRWxlbWVudCddICYmIGFuZ3VsYXIuZWxlbWVudChldmVudFsndG9FbGVtZW50J10pLmhhc0NsYXNzKCdodG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBtb3VzZSBtb3ZlIGhhbmRsZXJcclxuXHRcdCRzY29wZS4kdGFibGUub24oJ21vdXNlbW92ZScsIGV2ZW50ID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2YXIgbGVmdCA9IGV2ZW50LnBhZ2VYIC0gY3VycmVudFRhYmxlTGVmdDtcclxuXHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCBjb2x1bW5Db29yZHMubGVuZ3RoOyBrKyspIHtcclxuXHRcdFx0XHRjb25zdCBjb2x1bW4gPSBjb2x1bW5Db29yZHNba107XHJcblx0XHRcdFx0aWYgKGsgPCBjb2x1bW5Db29yZHMubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbmV4dENvbHVtbiA9IGNvbHVtbkNvb3Jkc1trICsgMV07XHJcblx0XHRcdFx0XHRpZiAoY29sdW1uLmxlZnQgPD0gbGVmdCAmJiBsZWZ0IDwgbmV4dENvbHVtbi5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdGlmIChsZWZ0IDw9IGNvbHVtbi5sZWZ0ICsgKG5leHRDb2x1bW4ubGVmdCAtIGNvbHVtbi5sZWZ0KSAvIDIpIHtcclxuXHRcdFx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIGNvbHVtbi5sZWZ0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IGs7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCBuZXh0Q29sdW1uLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gayArIDE7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGxlZnQgPj0gY29sdW1uLmxlZnQgKyBjb2x1bW4ud2lkdGggLyAyKSB7XHJcblx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgKGNvbHVtbi5sZWZ0ICsgY29sdW1uLndpZHRoKSArICdweCcpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gayArIDE7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChsZWZ0ID49IGNvbHVtbi5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgKGNvbHVtbi5sZWZ0KSArICdweCcpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gaztcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgdGFibGUgaGVhZGVyIGNsaWNrIGhhbmRsZXJcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZGRDbGlja0hhbmRsZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkhlYWRlckNsaWNrKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0ICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkaGVhZGVyUm93cywgKGlUYWJsZUhlYWRlciwgdGFibGVIZWFkZXIpID0+IHtcclxuXHRcdFx0dmFyICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUhlYWRlcik7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Ly8gaXRlcmF0ZSBoZWFkZXIgY2VsbHNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2VsbCA9IGFuZ3VsYXIuZWxlbWVudChjZWxsKTtcclxuXHRcdFx0XHRpZiAoaUNlbGwgPj0gZmllbGRzSW5UYWJsZS5sZW5ndGgpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0JGNlbGwub24oJ21vdXNlZG93bicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkhlYWRlckNsaWNrKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgJHRoaXMgPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZEluZGV4ID0gJHRoaXMuaW5kZXgoKTtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkhlYWRlckNsaWNrKHsgYXJnMDogZmllbGRzSW5UYWJsZVtmaWVsZEluZGV4XSB9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgYnV0dG9ucyB3aGljaCBhbGxvdyB0byByZW12b2UgdGFibGUgY29sdW1uc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENvbFJlbW92ZUJ1dHRvbnMoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpIHtcclxuXHRcdGlmICgkc2NvcGUuYWxsb3dDb2xSZW1vdmUgIT09ICd0cnVlJylcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0ICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHQvLyBpdGVyYXRlIGhlYWRlcnNcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaUhlYWRlclJvdywgaGVhZGVyUm93KSA9PiB7XHJcblx0XHRcdGNvbnN0ICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudChoZWFkZXJSb3cpO1xyXG5cdFx0XHRpZiAoJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCcuRW1wdHlDZWxsJykubGVuZ3RoID4gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdC8vIGl0ZXJhdGUgaGVhZGVyIGNlbGxzXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKSwgKGlDZWxsLCBjZWxsKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGNlbGwgPSBhbmd1bGFyLmVsZW1lbnQoY2VsbCk7XHJcblx0XHRcdFx0JGNlbGwuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA+PSBmaWVsZHNJblRhYmxlLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQvLyBhZGQgY2VsbCBoYW5kbGVyc1xyXG5cdFx0XHRcdCRjZWxsLm9uKCdtb3VzZW92ZXIucmVtb3ZlYnRuJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0bicpLnNob3coKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkY2VsbC5vbignbW91c2VvdXQucmVtb3ZlYnRuJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0bicpLmhpZGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIGJ1dHRvblxyXG5cdFx0XHRcdGNvbnN0ICRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24gPVxyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0blwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9kaXY+Jyk7XHJcblx0XHRcdFx0JGNlbGwuYXBwZW5kKCRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24pO1xyXG5cdFx0XHRcdCRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24ub24oJ21vdXNlZG93bi5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGlmIChlLndoaWNoICE9PSAxKSByZXR1cm47XHJcblx0XHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uUmVtb3ZlKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgZmllbGRJbmRleCA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uUmVtb3ZlKHsgYXJnMDogZmllbGRzSW5UYWJsZVtmaWVsZEluZGV4XSB9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgJ29ua2V5ZG93bicgZXZlbnQgYW5kIGFkZCBvd24ga2V5ZG93biBhbmQgYmx1ciBldmVudHMsIHdoaWNoIGNhbGwgb25QYWdpbmdDbGljayBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7fSAkc2NvcGUgQ3VycmVudCBkaXJlY3RpdmUgc2NvcGUuXHJcblx0ICogQHBhcmFtIHt9ICRodG1sQ29udGFpbmVyIFJlcG9ydCBjb250YWluZXIsIHdoaWNoIGNvbnRhaW5zIHBhZ2luZyBjb250cm9sc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHByZXBhcmVQYWdpbmdJbnB1dCgkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGh0bWxDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcclxuXHRcdGNvbnN0ICRwYWdlSW5wdXRzID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLWV4YWN0LXBhZ2UtaW5wdXQnKTtcclxuXHRcdGlmICghJHBhZ2VJbnB1dHMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkcGFnZUlucHV0cywgKGlQYWdlSW5wdXQsIHBhZ2VJbnB1dCkgPT4ge1xyXG5cdFx0XHR2YXIgJHBhZ2VJbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChwYWdlSW5wdXQpO1xyXG5cdFx0XHQkcGFnZUlucHV0LmF0dHIoJ29ua2V5ZG93bicsIG51bGwpO1xyXG5cclxuXHRcdFx0Ly8gaW5wdXQgY2hhbmdlZCBoYW5kbGVyXHJcblx0XHRcdHZhciBvbklucHV0Q2hhbmdlZCA9ICgkaW5wdXQ6IEpRdWVyeTxIVE1MRWxlbWVudD4pID0+IHtcclxuXHRcdFx0XHRjb25zdCBwYWdlc0NvdW50ID0gcGFyc2VJbnQoU3RyaW5nKCRpbnB1dC5hdHRyKCdkYXRhLXBhZ2VzLWNvdW50JykpKTtcclxuXHRcdFx0XHRjb25zdCBpdGVtc1BlclBhZ2UgPSBwYXJzZUludChTdHJpbmcoJGlucHV0LmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnKSkpO1xyXG5cdFx0XHRcdGxldCB2YWwgPSBOdW1iZXIoJGlucHV0LnZhbCgpKTtcclxuXHRcdFx0XHRpZiAodmFsIDwgMSkgdmFsID0gMTtcclxuXHRcdFx0XHRpZiAodmFsID4gcGFnZXNDb3VudCkgdmFsID0gcGFnZXNDb3VudDtcclxuXHRcdFx0XHRjb25zdCBzdGFydFJlY29yZCA9ICgodmFsIC0gMSkgKiBpdGVtc1BlclBhZ2UpICsgMTtcclxuXHRcdFx0XHRjb25zdCBmaW5pc2hSZWNvcmQgPSBzdGFydFJlY29yZCArIGl0ZW1zUGVyUGFnZSAtIDE7XHJcblx0XHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdFx0YXJnMDogJ2l6LXBhZ2VsaW5rLWV4YWN0LXBhZ2UtaW5wdXQnLFxyXG5cdFx0XHRcdFx0YXJnMTogc3RhcnRSZWNvcmQgKyAnLScgKyBmaW5pc2hSZWNvcmRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkcGFnZUlucHV0Lm9uKCdibHVyJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdHZhciAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChldmVudC5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0b25JbnB1dENoYW5nZWQoJHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHBhZ2VJbnB1dC5vbigna2V5ZG93bicsIGV2ZW50ID0+IHtcclxuXHRcdFx0XHR2YXIga2MgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoO1xyXG5cdFx0XHRcdGlmIChrYyAhPT0gMTMpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dmFyICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRvbklucHV0Q2hhbmdlZCgkdGhpcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgJ29uY2xpY2snIGV2ZW50IGFuZCBhZGQgb3duIGNsaWNrIGV2ZW50LCB3aGljaCBjYWxsIG9uUGFnaW5nQ2xpY2sgaGFuZGxlci5cclxuXHQgKiBAcGFyYW0ge30gJHNjb3BlIGN1cnJlbnQgRGlyZWN0aXZlIHNjb3BlLlxyXG5cdCAqIEBwYXJhbSB7fSAkaHRtbENvbnRhaW5lciBSZXBvcnQgY29udGFpbmVyLCB3aGljaCBjb250YWlucyBwYWdpbmcgY29udHJvbHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZVBhZ2VMaW5rcygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGh0bWxDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcclxuXHRcdHZhciAkcGFnZUxpbmtzID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLCAuaXotcGFnZWxpbmstZGlyZWN0aW9uLWJ0bicpO1xyXG5cdFx0aWYgKCEkcGFnZUxpbmtzLmxlbmd0aCB8fCAhYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblBhZ2luZ0NsaWNrKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHBhZ2VMaW5rcywgKGlQYWdlTGluaywgcGFnZUxpbmspID0+IHtcclxuXHRcdFx0Y29uc3QgJHBhZ2VMaW5rID0gYW5ndWxhci5lbGVtZW50KHBhZ2VMaW5rKTtcclxuXHRcdFx0Y29uc3Qgb25DbGlja1NjcmlwdCA9IFN0cmluZygkcGFnZUxpbmsuYXR0cignb25jbGljaycpKTtcclxuXHRcdFx0Y29uc3QgbWF0Y2hSZXN1bHQgPSAvcmVzdWx0cz0oXFxkK1xcLVxcZCspL2cuZXhlYyhvbkNsaWNrU2NyaXB0KTtcclxuXHRcdFx0aWYgKG1hdGNoUmVzdWx0ICYmIG1hdGNoUmVzdWx0Lmxlbmd0aCA9PT0gMilcclxuXHRcdFx0XHQkcGFnZUxpbmsuYXR0cignZGF0YS1hY3RpdmUtcGFnZScsIG1hdGNoUmVzdWx0WzFdKTtcclxuXHRcdFx0JHBhZ2VMaW5rLmF0dHIoJ29uY2xpY2snLCBudWxsKTtcclxuXHRcdFx0JHBhZ2VMaW5rLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdHZhciAkY3VycmVudExpbmsgPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdFx0YXJnMDogJ2l6LXBhZ2VsaW5rJyxcclxuXHRcdFx0XHRcdGFyZzE6ICRjdXJyZW50TGluay5hdHRyKCdkYXRhLWFjdGl2ZS1wYWdlJylcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25jbGljaycgZXZlbnQgYW5kIGFkZCBvd24gY2xpY2sgZXZlbnQuXHJcblx0ICogQHBhcmFtIHt9ICRzY29wZSBjdXJyZW50IERpcmVjdGl2ZSBzY29wZS5cclxuXHQgKiBAcGFyYW0ge30gJGh0bWxDb250YWluZXIgUmVwb3J0IGNvbnRhaW5lciwgd2hpY2ggY29udGFpbnMgcGFnaW5nIGNvbnRyb2xzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHByZXBhcmVHb1RvUmVjb3JkQnRuKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0Y29uc3QgJGJ0biA9ICRodG1sQ29udGFpbmVyLmZpbmQoJy5pei1wYWdlbGluay1nby10by1wYWdlLWJ0bicpO1xyXG5cdFx0JGJ0bi5hdHRyKCdvbmNsaWNrJywgbnVsbCk7XHJcblx0XHQkYnRuLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0Y29uc3QgaXRlbXNDb3VudCA9IHBhcnNlSW50KFN0cmluZygkdGhpcy5hdHRyKCdkYXRhLWl0ZW1zLWNvdW50JykpKTtcclxuXHRcdFx0Y29uc3QgaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQoU3RyaW5nKCR0aGlzLmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnKSkpO1xyXG5cdFx0XHRsZXQgaW5wdXRWYWx1ZTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpbnB1dFZhbHVlID0gcGFyc2VJbnQoU3RyaW5nKGFuZ3VsYXIuZWxlbWVudCgnI3BhZ2VOdW1FZCcpLnZhbCgpKSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRpbnB1dFZhbHVlID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbXNDb3VudCA8IGlucHV0VmFsdWUpIGlucHV0VmFsdWUgPSBpdGVtc0NvdW50O1xyXG5cdFx0XHRjb25zdCBzdGFydFJlY29yZCA9IGlucHV0VmFsdWUgLSAoaW5wdXRWYWx1ZSAtIDEpICUgaXRlbXNQZXJQYWdlO1xyXG5cdFx0XHRjb25zdCBmaW5pc2hSZWNvcmQgPSBzdGFydFJlY29yZCArIGl0ZW1zUGVyUGFnZSAtIDE7XHJcblx0XHRcdCRzY29wZS5vblBhZ2luZ0NsaWNrKHtcclxuXHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcsXHJcblx0XHRcdFx0YXJnMTogc3RhcnRSZWNvcmQgKyAnLScgKyBmaW5pc2hSZWNvcmRcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PlxyXG5cdFx0XHRuZXcgSXplbmRhUmVwb3J0Vmlld2VyKCRyb290U2NvcGUsICR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFSZXBvcnRWaWV3ZXInLFxyXG5cdFsnJHJvb3RTY29wZScsICckdGltZW91dCcsIEl6ZW5kYVJlcG9ydFZpZXdlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGV4aXN0ZW50VmFsdWVzOiBhbnk7XHJcblx0bmdNb2RlbDogYW55O1xyXG5cdGlzQ2hlY2tlZDogYW55O1xyXG5cdGNsaWNrQ2hlY2tib3g6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCBjaGVja2JveGVzIGRpcmVjdGl2ZS4gXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFTZWxlY3RDaGVja2JveGVzIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cclxuXHRzY29wZSA9IHtcclxuXHRcdGV4aXN0ZW50VmFsdWVzOiAnPScsXHJcblx0XHRuZ01vZGVsOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGRpdiBuZy1yZXBlYXQ9XCJleGlzdGVudFZhbHVlIGluIGV4aXN0ZW50VmFsdWVzXCI+XHJcblx0PGxhYmVsIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zZWxlY3QtY2hlY2tib3hlcy1sYWJlbFwiPlxyXG5cdFx0PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLWNsaWNrPVwiY2xpY2tDaGVja2JveChleGlzdGVudFZhbHVlKVwiIG5nLWNoZWNrZWQ9XCJpc0NoZWNrZWQoZXhpc3RlbnRWYWx1ZSlcIi8+XHJcblx0XHQ8c3BhbiBuZy1iaW5kPVwiZXhpc3RlbnRWYWx1ZS50ZXh0XCI+PC9zcGFuPlxyXG5cdDwvbGFiZWw+XHJcbjwvZGl2PmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU2VsZWN0Q2hlY2tib3hlcy5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdpemVuZGEtY29tbW9uLXNlbGVjdC1jaGVja2JveGVzJyk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdleGlzdGVudFZhbHVlcycsICgpID0+ICRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKSwgdHJ1ZSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCduZ01vZGVsJywgKCkgPT4gJHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpKTtcclxuXHJcblx0XHRcdCRzY29wZS5pc0NoZWNrZWQgPSBleGlzdGVudFZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3VmFsdWUgPSAkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHRyZXR1cm4gdmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSkgPj0gMDtcclxuXHRcdFx0fTtcclxuXHRcdFx0JHNjb3BlLmNsaWNrQ2hlY2tib3ggPSBleGlzdGVudFZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3VmFsdWUgPSAkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHRpZiAodmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSkgPj0gMClcclxuXHRcdFx0XHRcdHZpZXdWYWx1ZS5zcGxpY2Uodmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSksIDEpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHZpZXdWYWx1ZS5wdXNoKGV4aXN0ZW50VmFsdWUudmFsdWUpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFTZWxlY3RDaGVja2JveGVzKCk7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVNlbGVjdENoZWNrYm94ZXMnLCBbSXplbmRhU2VsZWN0Q2hlY2tib3hlcy5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTcGxhc2hTY3JlZW5TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdTaG93OiBhbnk7XHJcblx0dGV4dDogYW55O1xyXG5cdGxvYWRpbmdJbmRpY2F0b3JVcmw6IGFueTtcclxuXHRwYXJlbnRTZWxlY3RvcjogYW55O1xyXG59XHJcblxyXG5jbGFzcyBJemVuZGFTcGxhc2hTY3JlZW4gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ1Nob3c6ICc9JyxcclxuXHRcdHRleHQ6ICc9JyxcclxuXHRcdGxvYWRpbmdJbmRpY2F0b3JVcmw6ICdAJyxcclxuXHRcdHBhcmVudFNlbGVjdG9yOiAnQCdcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTcGxhc2hTY3JlZW5TY29wZSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkaXplbmRhVXJsOiBJemVuZGFVcmxTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFTcGxhc2hTY3JlZW4ucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhU3BsYXNoU2NyZWVuU2NvcGUpID0+IHtcclxuXHJcblx0XHRcdHZhciBzcGxhc2hUaW1lb3V0OiBuZy5JUHJvbWlzZTxhbnk+ID0gbnVsbDtcclxuXHRcdFx0dmFyIHRlbXBsYXRlID1cclxuXHRcdFx0XHRgPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuIGhpZGRlblwiPlxyXG5cdDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi1pbm5lciB0ZXh0LWNlbnRlclwiPlxyXG5cdFx0PGltZyBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLWxvYWRpbmdcIi8+XHJcblx0XHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLXRleHRcIj48L3NwYW4+XHJcblx0PC9kaXY+XHJcbjwvZGl2PmA7XHJcblx0XHRcdGNvbnN0ICRlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlKTtcclxuXHRcdFx0bGV0IGFkZGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBsb2FkaW5nIHNwaW5uZXJcclxuXHRcdFx0Y29uc3QgZGVmYXVsdExvYWRpbmdJbmRpY2F0b3JVcmwgPSBhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5sb2FkaW5nSW5kaWNhdG9yVXJsKVxyXG5cdFx0XHRcdD8gJHNjb3BlLmxvYWRpbmdJbmRpY2F0b3JVcmxcclxuXHRcdFx0XHQ6ICRpemVuZGFVcmwuc2V0dGluZ3MudXJsUnBQYWdlICsgJ2ltYWdlPU1vZGVybkltYWdlcy5sb2FkaW5nLWdyaWQuZ2lmJztcclxuXHRcdFx0Y29uc3QgcGFyZW50U2VsZWN0b3JUZXh0ID0gYW5ndWxhci5pc1N0cmluZygkc2NvcGUucGFyZW50U2VsZWN0b3IpID8gJHNjb3BlLnBhcmVudFNlbGVjdG9yIDogJ2JvZHknO1xyXG5cdFx0XHRsZXQgYm9keU92ZXJmbG93OiBzdHJpbmc7XHJcblx0XHRcdGxldCBib2R5UGFkZGluZzogc3RyaW5nO1xyXG5cdFx0XHRsZXQgJGJvZHk6IEpRdWVyeTxIVE1MRWxlbWVudD47XHJcblxyXG5cdFx0XHRjb25zdCBpbml0aWFsaXplID0gKCkgPT4ge1xyXG5cdFx0XHRcdCRlbGVtZW50LmZpbmQoJy5pemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi1sb2FkaW5nJykuYXR0cignc3JjJywgZGVmYXVsdExvYWRpbmdJbmRpY2F0b3JVcmwpO1xyXG5cdFx0XHRcdCRib2R5ID0gYW5ndWxhci5lbGVtZW50KHBhcmVudFNlbGVjdG9yVGV4dCk7XHJcblx0XHRcdFx0aWYgKCRib2R5Lmxlbmd0aCA+IDAgJiYgIWFkZGVkKSB7XHJcblx0XHRcdFx0XHRib2R5T3ZlcmZsb3cgPSAkYm9keS5jc3MoJ292ZXJmbG93Jyk7XHJcblx0XHRcdFx0XHRib2R5UGFkZGluZyA9ICRib2R5LmNzcygncGFkZGluZy1sZWZ0Jyk7XHJcblx0XHRcdFx0XHQkYm9keS5hcHBlbmQoJGVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0YWRkZWQgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHNldFRleHQgPSAoKSA9PiB7XHJcblx0XHRcdFx0dmFyICRpbm5lciA9ICRlbGVtZW50LmZpbmQoJy5pemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi10ZXh0Jyk7XHJcblx0XHRcdFx0JGlubmVyLnRleHQoJHNjb3BlLnRleHQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBib2R5SGFzU2Nyb2xsYmFyID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0XHRcdHJldHVybiAkYm9keS5sZW5ndGggPiAwICYmICRib2R5LmdldCgwKS5zY3JvbGxIZWlnaHQgPiAkYm9keS5oZWlnaHQoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHNob3dTcGxhc2ggPSAoKSA9PiB7XHJcblx0XHRcdFx0aW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHRcdGlmIChzcGxhc2hUaW1lb3V0ICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHQkdGltZW91dC5jYW5jZWwoc3BsYXNoVGltZW91dCk7XHJcblx0XHRcdFx0XHRzcGxhc2hUaW1lb3V0ID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3BsYXNoVGltZW91dCA9ICR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdCRlbGVtZW50LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdGJvZHlPdmVyZmxvdyA9ICRib2R5LmNzcygnb3ZlcmZsb3cnKTtcclxuXHRcdFx0XHRcdCRib2R5LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRpZiAoYm9keUhhc1Njcm9sbGJhcigpKSB7XHJcblx0XHRcdFx0XHRcdGJvZHlQYWRkaW5nID0gJGJvZHkuY3NzKCdwYWRkaW5nLWxlZnQnKTtcclxuXHRcdFx0XHRcdFx0JGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJzE3cHgnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IGhpZGVTcGxhc2ggPSAoKSA9PiB7XHJcblx0XHRcdFx0aW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHRcdGlmIChzcGxhc2hUaW1lb3V0ICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHQkdGltZW91dC5jYW5jZWwoc3BsYXNoVGltZW91dCk7XHJcblx0XHRcdFx0XHRzcGxhc2hUaW1lb3V0ID0gbnVsbDtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdCRib2R5LmNzcygnb3ZlcmZsb3cnLCBib2R5T3ZlcmZsb3cpO1xyXG5cdFx0XHRcdFx0aWYgKGJvZHlIYXNTY3JvbGxiYXIoKSkge1xyXG5cdFx0XHRcdFx0XHQkYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBib2R5UGFkZGluZyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdTaG93JywgbmV3VmFsID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsKVxyXG5cdFx0XHRcdFx0c2hvd1NwbGFzaCgpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGhpZGVTcGxhc2goKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCd0ZXh0JywgKCkgPT4gc2V0VGV4dCgpKTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkaXplbmRhVXJsOiBJemVuZGFVcmxTZXJ2aWNlKSA9PiBuZXcgSXplbmRhU3BsYXNoU2NyZWVuKCR0aW1lb3V0LCAkaXplbmRhVXJsKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCcsICckaXplbmRhVXJsJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFTcGxhc2hTY3JlZW4nLCBbJyR0aW1lb3V0JywgJyRpemVuZGFVcmwnLCBJemVuZGFTcGxhc2hTY3JlZW4uZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhU3dpdGNoZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dG9vbHRpcDogc3RyaW5nO1xyXG5cdGxhYmVsOiBzdHJpbmc7XHJcblx0bmdNb2RlbDogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN3aXRjaGVyIGRpcmVjdGl2ZVxyXG4gKi9cclxuY2xhc3MgSXplbmRhU3dpdGNoZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHJcblx0c2NvcGUgPSB7XHJcblx0XHR0b29sdGlwOiAnPScsXHJcblx0XHRsYWJlbDogJz0nLFxyXG5cdFx0bmdNb2RlbDogJz0nXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxzcGFuIG5nLXNob3c9XCJsYWJlbCAhPSBudWxsICYmIGxhYmVsICE9ICcnXCIgY2xhc3M9XCJpemVuZGEtY29tbW9uLXN3aXRjaGVyLWxhYmVsXCI+e3tsYWJlbH19PC9zcGFuPlxyXG48c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXJcIiB0aXRsZT1cInt7dG9vbHRpcH19XCI+XHJcblx0PHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLXN3aXRjaGVyLXRleHQtb2ZmXCI+Tzwvc3Bhbj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItaXRlbVwiPjwvc3Bhbj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItdGV4dC1vblwiPkk8L3NwYW4+XHJcbjwvc3Bhbj5gO1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU3dpdGNoZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdCRlbGVtZW50LmNsaWNrKGUgPT4ge1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0JHNjb3BlLm5nTW9kZWwgPSAhJHNjb3BlLm5nTW9kZWw7XHJcblx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGFwcGx5KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgJHN3aXRjaGVyID0gJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3dpdGNoZXInKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWw6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsKVxyXG5cdFx0XHRcdFx0JHN3aXRjaGVyLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRzd2l0Y2hlci5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVN3aXRjaGVyKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU3dpdGNoZXInLCBbSXplbmRhU3dpdGNoZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVG9nZ2xlQnV0dG9uU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdHRydWVWYWx1ZTogYW55O1xyXG5cdGZhbHNlVmFsdWU6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvZ2dsZSBidXR0b24gZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUb2dnbGVCdXR0b24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFQSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0cmVxdWlyZSA9IFsnbmdNb2RlbCddO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0dHJ1ZVZhbHVlOiAnPScsXHJcblx0XHRmYWxzZVZhbHVlOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPHNwYW4gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGl6ZW5kYS10b2dnbGUtYnV0dG9uLWJ0biBhY3RpdmVcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvblwiPlxyXG5cdDxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT5cclxuPC9zcGFuPmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUb2dnbGVCdXR0b25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcywgcmVxdWlyZWRQYXJhbXM6IG5nLklDb250cm9sbGVyKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUb2dnbGVCdXR0b25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcyxcclxuXHRcdFx0cmVxdWlyZWRQYXJhbXM6IG5nLklDb250cm9sbGVyKSA9PiB7XHJcblx0XHRcdGNvbnN0IG5nTW9kZWw6IGFueSA9IHJlcXVpcmVkUGFyYW1zWzBdO1xyXG5cdFx0XHRjb25zdCBidG4gPSAkZWxlbWVudC5jaGlsZHJlbignLmJ0bicpO1xyXG5cclxuXHRcdFx0JHNjb3BlLiRwYXJlbnQuJHdhdGNoKGF0dHJzLm5nTW9kZWwsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09ICRzY29wZS50cnVlVmFsdWUpIHtcclxuXHRcdFx0XHRcdGlmIChidG4uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKG5ld1ZhbCA9PSAkc2NvcGUuZmFsc2VWYWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKCFidG4uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAobmdNb2RlbC4kdmlld1ZhbHVlID09PSAkc2NvcGUudHJ1ZVZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKGJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKG5nTW9kZWwuJHZpZXdWYWx1ZSA9PT0gJHNjb3BlLmZhbHNlVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAoIWJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoIW5nTW9kZWwuJHZpZXdWYWx1ZSkpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFUb2dnbGVCdXR0b24oKTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVG9nZ2xlQnV0dG9uJywgW0l6ZW5kYVRvZ2dsZUJ1dHRvbi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXRlVGltZUZvcm1hdCB9IGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTY2hlZHVsZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2NoZWR1bGVDb21wb25lbnQnLFxyXG5cdFsnJGl6ZW5kYUxvY2FsZScsICckaXplbmRhU2V0dGluZ3MnLCAnJGl6ZW5kYVNjaGVkdWxlU2VydmljZSddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24udWkuY29tcG9uZW50cy5zY2hlZHVsZS5zY2hlZHVsZS10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdHNjaGVkdWxlQ29uZmlnOiAnPScsXHJcblx0XHRcdHJlcGVhdFR5cGVzOiAnPCcsXHJcblx0XHRcdGVtYWlsVHlwZXM6ICc8JyxcclxuXHRcdFx0dGltZXpvbmVzOiAnPCdcclxuXHRcdH1cclxuXHR9KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTY2hlZHVsZUNvbXBvbmVudCB7XHJcblx0ZGF0ZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQ7XHJcblx0Y3VsdHVyZTogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNjaGVkdWxlU2VydmljZTogSXplbmRhU2NoZWR1bGVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb21wb25lbnQgaW5pdFxyXG5cdCAqL1xyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQgPSB0aGlzLiRpemVuZGFTZXR0aW5ncy5kYXRlRm9ybWF0O1xyXG5cdFx0dGhpcy5jdWx0dXJlID0gdGhpcy4kaXplbmRhU2V0dGluZ3MuY3VsdHVyZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZWxlY3QgcmVwb3J0IGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTZWxlY3RSZXBvcnRDb21wb25lbnQnLFxyXG5cdFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZScsICckaXplbmRhVXJsJywgJyRpemVuZGFTZXR0aW5ncycsICckaXplbmRhQ29tbW9uUXVlcnknXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2VsZWN0LXJlcG9ydC5zZWxlY3QtcmVwb3J0LXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0b3BlbmVkOiAnPCcsXHJcblx0XHRcdG9uU2VsZWN0ZWQ6ICcmJyxcclxuXHRcdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2VsZWN0UmVwb3J0Q29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdW5jYXRlZ29yaXplZFRleHQ6IHN0cmluZztcclxuXHQvLyBiaW5kaW5nc1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRvblNlbGVjdGVkOiAocGFyYW06IGFueSkgPT4gdm9pZDtcclxuXHRvbk1vZGFsQ2xvc2VkOiAocGFyYW06IGFueSkgPT4gdm9pZDtcclxuXHQvLyBvdGhlclxyXG5cdG9wZW5lZElubmVyOiBib29sZWFuO1xyXG5cdGNhdGVnb3J5OiBzdHJpbmc7XHJcblx0Y2F0ZWdvcmllczogc3RyaW5nW107XHJcblx0Z3JvdXBzOiBhbnlbXTtcclxuXHRpc0xvYWRpbmc6IGJvb2xlYW47XHJcblx0aGlkZUFsbDogYm9vbGVhbjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGU6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVcmw6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nczogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeTogSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0dGhpcy51bmNhdGVnb3JpemVkVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKTtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iaikge1xyXG5cdFx0aWYgKCFjaGFuZ2VzT2JqLm9wZW5lZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgY3VycmVudE9wZW5lZCA9IGNoYW5nZXNPYmoub3BlbmVkLmN1cnJlbnRWYWx1ZTtcclxuXHRcdGlmIChjdXJyZW50T3BlbmVkKSB7XHJcblx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdFx0dGhpcy5vcGVuZWRJbm5lciA9IHRydWU7XHJcblx0XHRcdC8vIHRpbWVvdXQgaXMgbmVlZGVkIGZvciB0aGUgc21vb3RoZXIgbW9kYWwgYW5pbWF0aW9uXHJcblx0XHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuaGlkZUFsbCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5LmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMudW5jYXRlZ29yaXplZFRleHQpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRDYXRlZ29yaWVzVG9Nb2RhbChyZXBvcnRTZXRzKTtcclxuXHRcdFx0XHRcdHRoaXMuYWRkUmVwb3J0c1RvTW9kYWwocmVwb3J0U2V0cyk7XHJcblx0XHRcdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnQgcGFydHMgdG8gbW9kYWxcclxuXHQgKi9cclxuXHRhZGRSZXBvcnRQYXJ0c1RvTW9kYWwocmVwb3J0UGFydHM6IGFueVtdKSB7XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0aWYgKCFyZXBvcnRQYXJ0cyB8fCAhcmVwb3J0UGFydHMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Ly8gYWRkIGdyb3VwczpcclxuXHRcdGxldCBjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVwb3J0UGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5ncm91cHMucHVzaChjdXJyZW50R3JvdXApO1xyXG5cdFx0XHRcdGN1cnJlbnRHcm91cCA9IFtdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlcG9ydFBhcnQgPSByZXBvcnRQYXJ0c1tpXTtcclxuXHRcdFx0cmVwb3J0UGFydC5pc1JlcG9ydFBhcnQgPSB0cnVlO1xyXG5cdFx0XHRjdXJyZW50R3JvdXAucHVzaChyZXBvcnRQYXJ0KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnRzZXQgY2F0ZWdvcmllcyB0byBtb2RhbCBzZWxlY3QgY29udHJvbC5cclxuXHQgKi9cclxuXHRhZGRDYXRlZ29yaWVzVG9Nb2RhbChyZXBvcnRTZXRzOiBhbnlbXSkge1xyXG5cdFx0aWYgKCFyZXBvcnRTZXRzKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSByZXBvcnRTZXRzXHJcblx0XHRcdC5maWx0ZXIocmVwb3J0ID0+ICFyZXBvcnQuRGFzaGJvYXJkKVxyXG5cdFx0XHQubWFwPHN0cmluZz4ocmVwb3J0ID0+IHtcclxuXHRcdFx0XHRjb25zdCBjYXRlZ29yeSA9IHJlcG9ydC5DYXRlZ29yeSA/IHJlcG9ydC5DYXRlZ29yeSA6IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHRcdFx0cmV0dXJuICFyZXBvcnQuU3ViY2F0ZWdvcnlcclxuXHRcdFx0XHRcdD8gY2F0ZWdvcnlcclxuXHRcdFx0XHRcdDogY2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVwb3J0LlN1YmNhdGVnb3J5O1xyXG5cdFx0XHR9KTtcclxuXHRcdC8vIG1ha2UgY2F0ZWdvcmllcyB1bmlxdWVcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IEFycmF5LmZyb20obmV3IFNldDxzdHJpbmc+KHRoaXMuY2F0ZWdvcmllcykpO1xyXG5cdFx0aWYgKCF0aGlzLmNhdGVnb3J5KVxyXG5cdFx0XHR0aGlzLmNhdGVnb3J5ID0gdGhpcy51bmNhdGVnb3JpemVkVGV4dDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnQgdG8gbW9kYWwgZGlhbG9nIGJvZHkuXHJcblx0ICovXHJcblx0YWRkUmVwb3J0c1RvTW9kYWwocmVwb3J0U2V0czogYW55W10pIHtcclxuXHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHRsZXQgcmVwb3J0U2V0c1RvU2hvdyA9IFtdO1xyXG5cclxuXHRcdGlmIChyZXBvcnRTZXRzICYmIHJlcG9ydFNldHMubGVuZ3RoKVxyXG5cdFx0XHRyZXBvcnRTZXRzVG9TaG93ID0gcmVwb3J0U2V0cy5maWx0ZXIocnMgPT4gIXJzLkRhc2hib2FyZCAmJiBycy5OYW1lKTtcclxuXHRcdGlmICghcmVwb3J0U2V0c1RvU2hvdyB8fCAhcmVwb3J0U2V0c1RvU2hvdy5sZW5ndGgpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHQvLyBhZGQgZ3JvdXBzOlxyXG5cdFx0bGV0IGN1cnJlbnRHcm91cCA9IFtdO1xyXG5cdFx0dGhpcy5ncm91cHMubGVuZ3RoID0gMDtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVwb3J0U2V0c1RvU2hvdy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoaSA+IDAgJiYgaSAlIDQgPT09IDApIHtcclxuXHRcdFx0XHR0aGlzLmdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7XHJcblx0XHRcdFx0Y3VycmVudEdyb3VwID0gW107XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgcmVwb3J0U2V0ID0gcmVwb3J0U2V0c1RvU2hvd1tpXTtcclxuXHRcdFx0cmVwb3J0U2V0LmlzUmVwb3J0UGFydCA9IGZhbHNlO1xyXG5cdFx0XHRjdXJyZW50R3JvdXAucHVzaChyZXBvcnRTZXQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5ncm91cHMucHVzaChjdXJyZW50R3JvdXApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VsZWN0IGNhdGVnb3J5IGhhbmRsZXJcclxuXHQgKi9cclxuXHRjYXRlZ29yeUNoYW5nZWRIYW5kbGVyKCkge1xyXG5cdFx0aWYgKHRoaXMuaXNMb2FkaW5nKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0aWYgKCF0aGlzLmNhdGVnb3J5KVxyXG5cdFx0XHR0aGlzLmNhdGVnb3J5ID0gdGhpcy51bmNhdGVnb3JpemVkVGV4dDtcclxuXHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5LmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMuY2F0ZWdvcnkpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdHRoaXMuYWRkUmVwb3J0c1RvTW9kYWwoZGF0YS5SZXBvcnRTZXRzKTtcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW9kYWwgY2xvc2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRtb2RhbENsb3NlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25Nb2RhbENsb3NlZCkpXHJcblx0XHRcdHRoaXMub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVc2VyIGNsaWNrZWQgdG8gcmVwb3J0IHNldCBpdGVtXHJcblx0ICovXHJcblx0aXRlbVNlbGVjdGVkSGFuZGxlcihpdGVtKSB7XHJcblx0XHRjb25zdCBpc1JlcG9ydFBhcnQgPSBpdGVtLmlzUmVwb3J0UGFydDtcclxuXHRcdGxldCByZXBvcnRGdWxsTmFtZSA9IGl0ZW0uTmFtZTtcclxuXHJcblx0XHRpZiAoaXRlbS5DYXRlZ29yeUZ1bGwpXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lID0gaXRlbS5DYXRlZ29yeUZ1bGwgKyB0aGlzLiRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVwb3J0RnVsbE5hbWU7XHJcblxyXG5cdFx0aWYgKCFpc1JlcG9ydFBhcnQpIHtcclxuXHRcdFx0Ly8gaWYgcmVwb3J0IHNldCBzZWxlY3RlZFxyXG5cdFx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5LmdldFJlcG9ydFBhcnRzKHJlcG9ydEZ1bGxOYW1lKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdHZhciByZXBvcnRzID0gZGF0YS5SZXBvcnRzO1xyXG5cdFx0XHRcdHRoaXMuYWRkUmVwb3J0UGFydHNUb01vZGFsKHJlcG9ydHMpO1xyXG5cdFx0XHRcdHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5vcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdFx0XHQvLyBpZiByZXBvcnQgcGFydCBzZWxlY3RlZFxyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25TZWxlY3RlZCkpXHJcblx0XHRcdFx0dGhpcy5vblNlbGVjdGVkKHsgcmVwb3J0UGFydEluZm86IGl0ZW0gfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXNldCBmb3JtXHJcblx0ICovXHJcblx0cmVzZXQoKSB7XHJcblx0XHR0aGlzLm9wZW5lZElubmVyID0gZmFsc2U7XHJcblx0XHR0aGlzLmNhdGVnb3J5ID0gdGhpcy51bmNhdGVnb3JpemVkVGV4dDtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdHRoaXMuaGlkZUFsbCA9IHRydWU7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogU2VsZWN0IHJlcG9ydCBuYW1lIGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTZWxlY3RSZXBvcnROYW1lQ29tcG9uZW50JyxcclxuXHRbJyRxJywgJyRpemVuZGFMb2NhbGUnLCAnJGl6ZW5kYVVybCcsICckaXplbmRhU2V0dGluZ3MnLCAnJGl6ZW5kYUNvbW1vblF1ZXJ5JywgJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0JyxcclxuXHRcdCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVFbXB0eUVycm9yJywgJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUludmFsaWRFcnJvciddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24udWkuY29tcG9uZW50cy5zZWxlY3QtcmVwb3J0LW5hbWUuc2VsZWN0LXJlcG9ydC1uYW1lLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0b3BlbmVkOiAnPCcsXHJcblx0XHRcdG9uU2VsZWN0ZWQ6ICcmJyxcclxuXHRcdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2VsZWN0UmVwb3J0TmFtZUNvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHQvLyBiaW5kaW5nc1xyXG5cdG9uU2VsZWN0ZWQ6IChwYXJhbTogYW55KSA9PiB2b2lkO1xyXG5cdG9uTW9kYWxDbG9zZWQ6IChwYXJhbTogYW55KSA9PiB2b2lkO1xyXG5cdC8vIG90aGVyXHJcblx0cHJpdmF0ZSBuZXh0SWQ6IG51bWJlciA9IDE7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0Q3JlYXRlTmV3OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0VW5jYXRlZ29yaXplZDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGV4dEVycm9ySW52YWxpZENhdGVnb3J5TmFtZTogc3RyaW5nO1xyXG5cclxuXHRpc0NhdGVnb3J5QWxsb3dlZDogYm9vbGVhbjtcclxuXHRpc09wZW5lZElubmVyOiBib29sZWFuO1xyXG5cdGlzTmV3UmVwb3J0RGlhbG9nOiBib29sZWFuO1xyXG5cdGlzQ3JlYXRpbmdOZXdDYXRlZ29yeTogYm9vbGVhbjtcclxuXHRpc1NlbGVjdERpc2FibGVkOiBib29sZWFuO1xyXG5cdGlzTmFtZUZvY3VzZWQ6IGJvb2xlYW47XHJcblx0aXNDYXRlZ29yeUZvY3VzZWQ6IGJvb2xlYW47XHJcblxyXG5cdHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dDogc3RyaW5nO1xyXG5cdHJlcG9ydE5hbWU6IHN0cmluZztcclxuXHRuZXdDYXRlZ29yeU5hbWU6IHN0cmluZztcclxuXHRjYXRlZ29yaWVzOiBBcnJheTxDYXRlZ29yeU9iamVjdD47XHJcblx0c2VsZWN0ZWRDYXRlZ29yeTogQ2F0ZWdvcnlPYmplY3Q7XHJcblx0cmVwb3J0U2V0czogYW55W107XHJcblx0ZXJyb3JNZXNzYWdlczogc3RyaW5nW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsOiBJemVuZGFVcmxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3M6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnk6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSxcclxuXHRcdHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dDogc3RyaW5nW10sXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJlcG9ydE5hbWVFbXB0eUVycm9yOiBzdHJpbmcsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJlcG9ydE5hbWVJbnZhbGlkRXJyb3I6IHN0cmluZykge1xyXG5cclxuXHRcdHRoaXMuaXNDYXRlZ29yeUFsbG93ZWQgPSAkaXplbmRhU2V0dGluZ3MuZ2V0Q29tbW9uU2V0dGluZ3MoKS5zaG93Q2F0ZWdvcnlUZXh0Ym94SW5TYXZlRGlhbG9nO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVcclxuXHRcdFx0LmxvY2FsZVRleHQocmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0WzBdLCByZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHRbMV0pO1xyXG5cdFx0dGhpcy50ZXh0Q3JlYXRlTmV3ID0gJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19DcmVhdGVOZXcnLCAnQ3JlYXRlIE5ldycpO1xyXG5cdFx0dGhpcy50ZXh0VW5jYXRlZ29yaXplZCA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJyk7XHJcblx0XHR0aGlzLnRleHRFcnJvclJlcG9ydE5hbWVFbXB0eSA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dChyZXBvcnROYW1lRW1wdHlFcnJvclswXSwgcmVwb3J0TmFtZUVtcHR5RXJyb3JbMV0pO1xyXG5cdFx0dGhpcy50ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZSA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dChyZXBvcnROYW1lSW52YWxpZEVycm9yWzBdLCByZXBvcnROYW1lSW52YWxpZEVycm9yWzFdKTtcclxuXHRcdHRoaXMudGV4dEVycm9ySW52YWxpZENhdGVnb3J5TmFtZSA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfSW52YWxpZENhdGVnb3J5TmFtZScsICdJbnZhbGlkIENhdGVnb3J5IE5hbWUnKTtcclxuXHJcblx0XHR0aGlzLmlzT3BlbmVkSW5uZXIgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNOZXdSZXBvcnREaWFsb2cgPSBmYWxzZTtcclxuXHRcdHRoaXMucmVwb3J0TmFtZSA9ICcnO1xyXG5cdFx0dGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPSBmYWxzZTtcclxuXHRcdHRoaXMubmV3Q2F0ZWdvcnlOYW1lID0gJyc7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IG51bGw7XHJcblx0XHR0aGlzLmlzU2VsZWN0RGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5yZXBvcnRTZXRzID0gW107XHJcblx0XHR0aGlzLmVycm9yTWVzc2FnZXMgPSBbXTtcclxuXHRcdHRoaXMuaXNOYW1lRm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0NhdGVnb3J5Rm9jdXNlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0JG9uQ2hhbmdlcyhjaGFuZ2VzT2JqKSB7XHJcblx0XHRpZiAoY2hhbmdlc09iai5vcGVuZWQpIHtcclxuXHRcdFx0dmFyIGN1cnJlbnRPcGVuZWQgPSBjaGFuZ2VzT2JqLm9wZW5lZC5jdXJyZW50VmFsdWU7XHJcblx0XHRcdGlmIChjdXJyZW50T3BlbmVkKVxyXG5cdFx0XHRcdHRoaXMub3Blbk1vZGFsKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNb2RhbCBjbG9zZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG1vZGFsQ2xvc2VkSGFuZGxlcigpIHtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vbk1vZGFsQ2xvc2VkKSlcclxuXHRcdFx0dGhpcy5vbk1vZGFsQ2xvc2VkKHt9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIG1vZGFsIGRpYWxvZ1xyXG5cdCAqL1xyXG5cdGNsb3NlTW9kYWwoKSB7XHJcblx0XHR0aGlzLmlzT3BlbmVkSW5uZXIgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9wZW4gbW9kYWwgZGlhbG9nXHJcblx0ICovXHJcblx0b3Blbk1vZGFsKCkge1xyXG5cdFx0dGhpcy5pc1NlbGVjdERpc2FibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMuaXNPcGVuZWRJbm5lciA9IHRydWU7XHJcblx0XHR0aGlzLnJlc2V0Rm9ybSgpO1xyXG5cclxuXHRcdGNvbnN0IHJlcG9ydEluZm8gPSB0aGlzLiRpemVuZGFVcmwuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0dGhpcy5uZXh0SWQgPSAxO1xyXG5cclxuXHRcdC8vIHNob3cgbG9hZGluZyBtZXNzYWdlIGluc2lkZSBzZWxlY3QgY29udHJvbFxyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdGlkOiAtMSxcclxuXHRcdFx0bmFtZTogdGhpcy4kaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX0xvYWRpbmcnLCAnTG9hZGluZy4uLicpXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcmllc1swXTtcclxuXHRcdHRoaXMucmVwb3J0TmFtZSA9IHJlcG9ydEluZm8ubmFtZTtcclxuXHJcblx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeS5nZXRSZXBvcnRTZXRDYXRlZ29yeSh0aGlzLnRleHRVbmNhdGVnb3JpemVkKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcclxuXHRcdFx0dGhpcy5yZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cclxuXHRcdFx0Ly8gYWRkIGNhdGVnb3JpZXNcclxuXHRcdFx0Ly8gXCJDcmVhdGUgbmV3XCJcclxuXHRcdFx0aWYgKHRoaXMuJGl6ZW5kYVNldHRpbmdzLmdldENvbW1vblNldHRpbmdzKCkuYWxsb3dDcmVhdGVOZXdDYXRlZ29yeSlcclxuXHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdFx0XHRpZDogdGhpcy5uZXh0SWQrKyxcclxuXHRcdFx0XHRcdG5hbWU6IHRoaXMudGV4dENyZWF0ZU5ld1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gXCJVbmNhdGVnb3JpemVkXCJcclxuXHRcdFx0dGhpcy5jYXRlZ29yaWVzLnB1c2goe1xyXG5cdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdG5hbWU6IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWRcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUodGhpcy50ZXh0VW5jYXRlZ29yaXplZCk7XHJcblxyXG5cdFx0XHQvLyBPdGhlciBjYXRlZ29yaWVzXHJcblx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkodGhpcy5yZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0cy5mb3JFYWNoKHJlcG9ydCA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBpZCA9IHRoaXMubmV4dElkKys7XHJcblx0XHRcdFx0XHRsZXQgY3VycmVudENhdGVnb3J5TmFtZSA9IHJlcG9ydC5DYXRlZ29yeTtcclxuXHRcdFx0XHRcdGlmICghY3VycmVudENhdGVnb3J5TmFtZSlcclxuXHRcdFx0XHRcdFx0Y3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQ7XHJcblx0XHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gIXJlcG9ydC5TdWJjYXRlZ29yeVxyXG5cdFx0XHRcdFx0XHQ/IGN1cnJlbnRDYXRlZ29yeU5hbWVcclxuXHRcdFx0XHRcdFx0OiBjdXJyZW50Q2F0ZWdvcnlOYW1lICsgdGhpcy4kaXplbmRhU2V0dGluZ3MuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydC5TdWJjYXRlZ29yeTtcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5jYXRlZ29yaWVzICYmIHRoaXMuY2F0ZWdvcmllcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLmNhdGVnb3JpZXMuZmluZChjID0+IGMubmFtZSA9PT0gY3VycmVudENhdGVnb3J5TmFtZSkpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBoYXZlJ3QgYWxyZWFkeSBhZGRlZFxyXG5cdFx0XHRcdFx0XHRcdHZhciBjYXQgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZDogaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBjdXJyZW50Q2F0ZWdvcnlOYW1lXHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaChjYXQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChyZXBvcnRJbmZvLmNhdGVnb3J5ID09PSBjdXJyZW50Q2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBjYXQ7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcIkVudGVyXCIgYnV0dG9uIGtleSBwcmVzcyBoYW5kbGVyIGZvciByZXBvcnQgbmFtZSA8aW5wdXQ+XHJcblx0ICogQHBhcmFtIHtldmVudCBvYmplY3R9ICRldmVudC5cclxuXHQgKi9cclxuXHRyZXBvcnROYW1lS2V5UHJlc3NlZCgkZXZlbnQ6IEpRdWVyeS5FdmVudCkge1xyXG5cdFx0aWYgKCRldmVudC5rZXlDb2RlID09PSBKUXVlcnkuS2V5LkVudGVyKVxyXG5cdFx0XHR0aGlzLmNvbXBsZXRlSGFuZGxlcigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT0sgYnV0dG9uIHByZXNzZWRcclxuXHQgKi9cclxuXHRjb21wbGV0ZUhhbmRsZXIoKSB7XHJcblx0XHR0aGlzLnZhbGlkYXRlRm9ybSgpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNsb3NlTW9kYWwoKTtcclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlOYW1lID0gdGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPyB0aGlzLm5ld0NhdGVnb3J5TmFtZSA6IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25TZWxlY3RlZCkpIHtcclxuXHRcdFx0XHR0aGlzLm9uU2VsZWN0ZWQoe1xyXG5cdFx0XHRcdFx0cmVwb3J0TmFtZTogdGhpcy5yZXBvcnROYW1lLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnlOYW1lOiBjYXRlZ29yeU5hbWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgKCkgPT4geyB9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgd2l0aCBnaXZlbiBuYW1lIGZyb20gcmVwb3J0IGxpc3RcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gbGlzdCB3aXRoIHJlcG9ydHMuXHJcblx0ICovXHJcblx0aXNSZXBvcnRJblJlcG9ydExpc3QocmVwb3J0TmFtZTogc3RyaW5nLCByZXBvcnRMaXN0OiBhbnlbXSk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFyZXBvcnRMaXN0IHx8ICFyZXBvcnRMaXN0Lmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIHJlcG9ydExpc3QuZmluZChycyA9PiBycy5OYW1lID09PSByZXBvcnROYW1lLnRyaW0oKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZm9ybSB0byBpdCdzIGluaXRpYWwgc3RhdGVcclxuXHQgKi9cclxuXHRyZXNldEZvcm0oKSB7XHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy4kaXplbmRhVXJsLmdldFJlcG9ydEluZm8oKTtcclxuXHRcdHRoaXMuZXJyb3JNZXNzYWdlcyA9IFtdO1xyXG5cdFx0dGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPSBmYWxzZTtcclxuXHRcdHRoaXMubmV3Q2F0ZWdvcnlOYW1lID0gJyc7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IG51bGw7XHJcblx0XHR0aGlzLmlzU2VsZWN0RGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5yZXBvcnRTZXRzID0gW107XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdGlmICh0aGlzLmlzTmV3UmVwb3J0RGlhbG9nKSB7XHJcblx0XHRcdHRoaXMucmVwb3J0TmFtZSA9ICcnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3Qgc2VwYXJhdG9ySW5kZXggPSAocmVwb3J0SW5mbyAmJiByZXBvcnRJbmZvLm5hbWUpXHJcblx0XHRcdFx0PyByZXBvcnRJbmZvLm5hbWUubGFzdEluZGV4T2YodGhpcy4kaXplbmRhU2V0dGluZ3MuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSlcclxuXHRcdFx0XHQ6IC0xO1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSAoc2VwYXJhdG9ySW5kZXggPCAwKSA/IHJlcG9ydEluZm8ubmFtZSA6IHJlcG9ydEluZm8ubmFtZS5zdWJzdHIoc2VwYXJhdG9ySW5kZXggKyAxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIGFsbCBmb2N1c1xyXG5cdCAqL1xyXG5cdGNsZWFyRm9jdXMoKSB7XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmb2N1cyBvbiByZXBvcnQgbmFtZSBpbnB1dFxyXG5cdCAqL1xyXG5cdHNldEZvY3VzKCkge1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhdGVnb3JpZXMgd2VyZSB1cGRhdGVkLlxyXG5cdCAqL1xyXG5cdHVwZGF0ZUNhdGVnb3JpZXNIYW5kbGVyKG5ld0NhdGVnb3JpZXM6IHN0cmluZ1tdKSB7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBuZXdDYXRlZ29yaWVzLm1hcChuZXdDYXRlZ29yeU5hbWUgPT4ge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdG5hbWU6IG5ld0NhdGVnb3J5TmFtZVxyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBzZWxlY3RlZENhdGVnb3J5TmFtZSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA/IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lIDogbnVsbDtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUoc2VsZWN0ZWRDYXRlZ29yeU5hbWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVwb3J0IGNhdGVnb3J5IHNlbGVjdGVkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRjYXRlZ29yeVNlbGVjdGVkSGFuZGxlcihjYXRlZ29yeTogc3RyaW5nKSB7XHJcblx0XHRpZiAoIXRoaXMuaXNDYXRlZ29yeUFsbG93ZWQpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZSh0aGlzLnRleHRVbmNhdGVnb3JpemVkKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUoY2F0ZWdvcnkpO1xyXG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSAhPT0gbnVsbCkge1xyXG5cdFx0XHRpZiAodGhpcy5zZWxlY3RlZENhdGVnb3J5Lm5hbWUgPT09IHRoaXMudGV4dENyZWF0ZU5ldykge1xyXG5cdFx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLmNsZWFyRm9jdXMoKTtcclxuXHRcdFx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgZm9ybVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgdmFsaWRhdGVGb3JtKCk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lIG5vdCBlbXB0eVxyXG5cdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMubGVuZ3RoID0gMDtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gYW5ndWxhci5pc1N0cmluZyh0aGlzLnJlcG9ydE5hbWUpID8gdGhpcy5yZXBvcnROYW1lLnRyaW0oKSA6ICcnO1xyXG5cdFx0XHRpZiAoIXRoaXMucmVwb3J0TmFtZSkge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMudGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5KTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lIGlzIHZhbGlkXHJcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzLmdldENvbW1vblNldHRpbmdzKCk7XHJcblx0XHRcdHZhciByZXBvcnROYW1lRml4ZWQgPSB3aW5kb3cudXRpbGl0eS5maXhSZXBvcnROYW1lUGF0aCh0aGlzLnJlcG9ydE5hbWUsXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3MuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSxcclxuXHRcdFx0XHRzZXR0aW5ncy5zdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdHNldHRpbmdzLmFsbG93SW52YWxpZENoYXJhY3RlcnMpO1xyXG5cdFx0XHRpZiAoIXJlcG9ydE5hbWVGaXhlZCkge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMudGV4dEVycm9ySW52YWxpZFJlcG9ydE5hbWUpO1xyXG5cdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSByZXBvcnROYW1lRml4ZWQ7XHJcblxyXG5cdFx0XHQvLyBjaGVjayBjYXRlZ29yeVxyXG5cdFx0XHRpZiAodGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkpIHtcclxuXHRcdFx0XHR2YXIgZml4ZWRDYXRlZ29yeU5hbWUgPSB3aW5kb3cudXRpbGl0eS5maXhSZXBvcnROYW1lUGF0aCh0aGlzLm5ld0NhdGVnb3J5TmFtZSxcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzLmdldENhdGVnb3J5Q2hhcmFjdGVyKCksXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5zdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdFx0c2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycyk7XHJcblx0XHRcdFx0aWYgKCFmaXhlZENhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JJbnZhbGlkQ2F0ZWdvcnlOYW1lKTtcclxuXHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9IGZpeGVkQ2F0ZWdvcnlOYW1lO1xyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMubmV3Q2F0ZWdvcnlOYW1lID09PSB0aGlzLmNhdGVnb3JpZXNbaV1bJ25hbWUnXSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dENhdGVnb3J5RXhpc3QodGhpcy5uZXdDYXRlZ29yeU5hbWUpKTtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjaGVjayByZXBvcnQgbmFtZVxyXG5cdFx0XHR2YXIgc2VsZWN0ZWRDYXRlZ29yeU5hbWUgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZTtcclxuXHJcblx0XHRcdC8vIHJlc29sdmUgaWYgaXQgaXMgc2FtZSByZXBvcnRcclxuXHRcdFx0dmFyIHJlcG9ydEluZm8gPSB0aGlzLiRpemVuZGFVcmwuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0XHRpZiAocmVwb3J0SW5mby5uYW1lID09PSB0aGlzLnJlcG9ydE5hbWUgJiYgcmVwb3J0SW5mby5jYXRlZ29yeSA9PT0gc2VsZWN0ZWRDYXRlZ29yeU5hbWUpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgK1xyXG5cdFx0XHRcdFx0dGhpcy5yZXBvcnROYW1lKSk7XHJcblx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjaGVjayByZXBvcnQgaXNuJ3QgaW4gdGhhdCBjYXRlZ29yeVxyXG5cdFx0XHRpZiAoc2VsZWN0ZWRDYXRlZ29yeU5hbWUgPT09IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5pc1JlcG9ydEluUmVwb3J0TGlzdCh0aGlzLnJlcG9ydE5hbWUsIHRoaXMucmVwb3J0U2V0cykpIHtcclxuXHRcdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMuZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3Qoc2VsZWN0ZWRDYXRlZ29yeU5hbWUgK1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZXBvcnROYW1lKSk7XHJcblx0XHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5LmdldFJlcG9ydFNldENhdGVnb3J5KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNSZXBvcnRJblJlcG9ydExpc3QodGhpcy5yZXBvcnROYW1lLCBkYXRhLlJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMuZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3Qoc2VsZWN0ZWRDYXRlZ29yeU5hbWUgK1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgK1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVwb3J0TmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjYXRlZ29yeSBvYmplY3QgYnkgaXQncyBpZFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0Q2F0ZWdvcnlPYmplY3RCeUlkKGlkOiBudW1iZXIpOiBDYXRlZ29yeU9iamVjdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYXRlZ29yaWVzLmZpbmQoY2F0ZWdvcnkgPT4gY2F0ZWdvcnkuaWQgPT09IGlkKSB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNhdGVnb3J5IG9iamVjdCBieSBpdCdzIG5hbWVcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldENhdGVnb3J5T2JqZWN0QnlOYW1lKG5hbWU6IHN0cmluZyk6IENhdGVnb3J5T2JqZWN0IHtcclxuXHRcdHJldHVybiB0aGlzLmNhdGVnb3JpZXMuZmluZChjYXRlZ29yeSA9PiBjYXRlZ29yeS5uYW1lID09PSBuYW1lKSB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRJbnZhbGlkQ2hhcnNSZWdleCgpOiBSZWdFeHAge1xyXG5cdFx0bGV0IGFkZGl0aW9uYWxDaGFyYWN0ZXIgPSAnJztcclxuXHRcdGlmIChqc1Jlc291cmNlcy5jYXRlZ29yeUNoYXJhY3RlciAhPT0gJ1xcXFwnKVxyXG5cdFx0XHRhZGRpdGlvbmFsQ2hhcmFjdGVyID0ganNSZXNvdXJjZXMuY2F0ZWdvcnlDaGFyYWN0ZXIucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFxcW1xcXVxcL1xcXFxdKS9nLCAnXFxcXCQxJyk7XHJcblx0XHRyZXR1cm4gbmV3IFJlZ0V4cCgnW15BLVphLXowLTlfLycgKyBhZGRpdGlvbmFsQ2hhcmFjdGVyICsgXCJcXFxcLScnIFxcXFxcXFxcXVwiLCAnZycpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRFcnJvclRleHRDYXRlZ29yeUV4aXN0KGNhdGVnb3J5TmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0V2l0aFBhcmFtcygnanNfQ2F0ZWdvcnlFeGlzdCcsXHJcblx0XHRcdCdDYXRlZ29yeSB3aXRoIG5hbWUgXCJ7MH1cIiBhbHJlYWR5IGV4aXN0LicsXHJcblx0XHRcdFtjYXRlZ29yeU5hbWVdKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3QoZnVsbFJlcG9ydE5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGUubG9jYWxlVGV4dFdpdGhQYXJhbXMoJ2pzX1JlcG9ydEFscmVhZHlFeGlzdCcsXHJcblx0XHRcdCdEYXNoYm9hcmQgb3IgcmVwb3J0IFwiezB9XCIgYWxyZWFkeSBleGlzdCcsXHJcblx0XHRcdFtmdWxsUmVwb3J0TmFtZV0pO1xyXG5cdH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUNhdGVnb3J5U2VsZWN0U2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGNhdGVnb3JpZXM6IENhdGVnb3J5T2JqZWN0W107XHJcblx0Y2F0ZWdvcnk6IENhdGVnb3J5T2JqZWN0O1xyXG5cdG9uU2VsZWN0OiBhbnk7XHJcblx0b25DYXRlZ29yaWVzQ2hhbmdlZDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFDYXRlZ29yeVNlbGVjdCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0Y2F0ZWdvcmllczogJz0nLFxyXG5cdFx0Y2F0ZWdvcnk6ICc9JyxcclxuXHRcdG9uU2VsZWN0OiAnJicsXHJcblx0XHRvbkNhdGVnb3JpZXNDaGFuZ2VkOiAnJidcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFDYXRlZ29yeVNlbGVjdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3M6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFDYXRlZ29yeVNlbGVjdC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFDYXRlZ29yeVNlbGVjdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlDaGFyYWN0ZXIgPSAkaXplbmRhU2V0dGluZ3MuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKTtcclxuXHRcdFx0Y29uc3QgY29tbW9uU2V0dGluZ3MgPSAkaXplbmRhU2V0dGluZ3MuZ2V0Q29tbW9uU2V0dGluZ3MoKTtcclxuXHRcdFx0Y29uc3Qgc3RyaXBJbnZhbGlkQ2hhcmFjdGVycyA9IGNvbW1vblNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnM7XHJcblx0XHRcdGNvbnN0IGFsbG93SW52YWxpZENoYXJhY3RlcnMgPSBjb21tb25TZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzO1xyXG5cdFx0XHRjb25zdCBjYXRlZ29yeUNvbnRyb2wgPSBuZXcgQWRIb2MuVXRpbGl0eS5JemVuZGFDYXRlZ29yeVNlbGVjdG9yQ29udHJvbChcclxuXHRcdFx0XHQkZWxlbWVudCxcclxuXHRcdFx0XHRjYXRlZ29yeUNoYXJhY3RlcixcclxuXHRcdFx0XHRzdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdGFsbG93SW52YWxpZENoYXJhY3RlcnMpO1xyXG5cdFx0XHRjYXRlZ29yeUNvbnRyb2wuYWRkU2VsZWN0ZWRIYW5kbGVyKHZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25TZWxlY3QpKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUub25TZWxlY3Qoe1xyXG5cdFx0XHRcdFx0XHR2YWw6IHZhbFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggZm9yIGNvbGxhcHNlZCBzdGF0ZSBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2NhdGVnb3JpZXMnLCAoKSA9PiB7XHJcblx0XHRcdFx0dXBkYXRlQ2F0ZWdvcmllcygpO1xyXG5cdFx0XHRcdHVwZGF0ZUNhdGVnb3J5KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdjYXRlZ29yeScsICgpID0+IHtcclxuXHRcdFx0XHR1cGRhdGVDYXRlZ29yeSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3JpZXMoKSB7XHJcblx0XHRcdFx0Y29uc3QgcHJldmlvdXNMZW5ndGggPSAkc2NvcGUuY2F0ZWdvcmllcy5sZW5ndGg7XHJcblx0XHRcdFx0Y2F0ZWdvcnlDb250cm9sLnNldENhdGVnb3JpZXMoJHNjb3BlLmNhdGVnb3JpZXMpO1xyXG5cdFx0XHRcdGNvbnN0IG5ld0NhdGVnb3JpZXMgPSBjb2xsZWN0Q2F0ZWdvcmllcygpO1xyXG5cdFx0XHRcdGlmIChwcmV2aW91c0xlbmd0aCAhPT0gbmV3Q2F0ZWdvcmllcy5sZW5ndGggJiYgYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNhdGVnb3JpZXNDaGFuZ2VkKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ2F0ZWdvcmllc0NoYW5nZWQoe1xyXG5cdFx0XHRcdFx0XHRuZXdDYXRlZ29yaWVzOiBuZXdDYXRlZ29yaWVzXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdXBkYXRlQ2F0ZWdvcnkoKSB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoJHNjb3BlLmNhdGVnb3J5KSAmJiAkc2NvcGUuY2F0ZWdvcnkuaWQgIT09IDEpIHtcclxuXHRcdFx0XHRcdGNhdGVnb3J5Q29udHJvbC5zZWxlY3QoJHNjb3BlLmNhdGVnb3J5Lm5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY29sbGVjdENhdGVnb3JpZXMoKSB7XHJcblx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IGFuZ3VsYXIuZWxlbWVudC5tYXAoJGVsZW1lbnQuY2hpbGRyZW4oJ29wdGlvbicpLCAoJG9wdGlvbjogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCRpemVuZGFTZXR0aW5nczogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UpID0+IG5ldyBJemVuZGFDYXRlZ29yeVNlbGVjdCgkaXplbmRhU2V0dGluZ3MpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRpemVuZGFTZXR0aW5ncyddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQ2F0ZWdvcnlTZWxlY3QnLCBbJyRpemVuZGFTZXR0aW5ncycsIEl6ZW5kYUNhdGVnb3J5U2VsZWN0LmZhY3RvcnkoKV0pO1xyXG5cclxuY2xhc3MgQ2F0ZWdvcnlPYmplY3Qge1xyXG5cdGlkOiBudW1iZXI7XHJcblx0bmFtZTogc3RyaW5nO1xyXG59IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTaGFyZVJ1bGVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbCc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNoYXJlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2hhcmUtc2VydmljZSc7XHJcblxyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTaGFyZUNvbXBvbmVudCcsXHJcblx0WyckaXplbmRhTG9jYWxlJywgJyRpemVuZGFTaGFyZVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2hhcmUuc2hhcmUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRzdWJqZWN0czogJzwnLFxyXG5cdFx0XHRyaWdodHM6ICc8JyxcclxuXHRcdFx0c2hhcmVSdWxlczogJzwnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2hhcmVDb21wb25lbnQge1xyXG5cdC8vIHZhcmlhYmxlcyBmb3IgYmluZGluZyBkZWZpbml0aW9uOlxyXG5cdHN1YmplY3RzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHJpZ2h0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzaGFyZVJ1bGVzOiBBcnJheTxJemVuZGFTaGFyZVJ1bGVNb2RlbD47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNoYXJlU2VydmljZTogSXplbmRhU2hhcmVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzaGFyZSBydWxlIHNlbGVjdGVkIHJpZ2h0IGlzIHZhbGlkXHJcblx0ICovXHJcblx0Z2V0U2hhcmVSdWxlVmFsaWRhdGlvbk1lc3NhZ2Uoc2hhcmVSdWxlOiBJemVuZGFTaGFyZVJ1bGVNb2RlbCkge1xyXG5cdFx0aWYgKCFzaGFyZVJ1bGUucmlnaHQgJiYgIXNoYXJlUnVsZS5zdWJqZWN0KVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX05lc3Nlc2FyeVNlbGVjdFJpZ2h0JyxcclxuXHRcdFx0XHQnSXQgaXMgbmVjZXNzYXJ5IHRvIGNob29zZSB0aGUgcmlnaHQsIG90aGVyd2lzZSBpdCB3aWxsIGJlIGlnbm9yZWQuJyk7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBzaGFyZSBydWxlIGhhbmRsZXIuXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNoYXJlUnVsZU1vZGVsfSBzaGFyZVJ1bGVcclxuXHQgKi9cclxuXHRyZW1vdmVTaGFyZVJ1bGUoc2hhcmVSdWxlOiBJemVuZGFTaGFyZVJ1bGVNb2RlbCkge1xyXG5cdFx0dGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLnJlbW92ZVNoYXJlUnVsZShzaGFyZVJ1bGUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHNoYXJlIHJ1bGVcclxuXHQgKi9cclxuXHRhZGRTaGFyZVJ1bGUoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2UuYWRkTmV3U2hhcmVSdWxlKCk7XHJcblx0fVxyXG59IiwiaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuSXplbmRhU2hhcmVTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVVpTW9kdWxlKTtcclxuSXplbmRhU2NoZWR1bGVTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVVpTW9kdWxlKTtcclxuXHJcbi8vIHJlZ2lzdGVyIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXNcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYXV0b2NvbXBsZXRlJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9ib290c3RyYXAnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvZGF0ZXRpbWUtcGlja2VyJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9yZXBvcnQtdmlld2VyJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcyc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc3BsYXNoc2NyZWVuJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9zd2l0Y2hlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2NoZWR1bGUvc2NoZWR1bGUtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0L3NlbGVjdC1yZXBvcnQtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2hhcmUvc2hhcmUtY29tcG9uZW50JzsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi9xdWVyeS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9tb2R1bGUnO1xyXG5cclxuLy8gY29tbW9uXHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgeyBJemVuZGFDb21tb25Mb2FkZXIgfSBmcm9tICdjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8vIENyZWF0ZSBpbnN0YW50IHJlcG9ydCBhbmd1bGFyIG1vZHVsZVxyXG5jb25zdCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2l6ZW5kYUluc3RhbnRSZXBvcnQnLCBbXHJcblx0J25nQ29va2llcycsXHJcblx0J3J4JyxcclxuXHQnaXplbmRhLmNvbW1vbi5jb3JlJyxcclxuXHQnaXplbmRhLmNvbW1vbi5xdWVyeScsXHJcblx0J2l6ZW5kYS5jb21tb24udWknXHJcbl0pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlO1xyXG5cclxuLy8gY29uZmlndXJlIGNvbW1vbiB1aSBtb2R1bGU6XHJcbml6ZW5kYVVpTW9kdWxlXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCcsIFsnanNfUmVwb3J0TmFtZScsICdSZXBvcnQgTmFtZSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lRW1wdHlFcnJvcicsIFsnanNfTmFtZUNhbnRCZUVtcHR5JywgJ1JlcG9ydCBuYW1lIGNhblxcJ3QgYmUgZW1wdHkuJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnZhbGlkRXJyb3InLCBbJ2pzX0ludmFsaWRSZXBvcnROYW1lJywgJ0ludmFsaWQgcmVwb3J0IG5hbWUnXSk7XHJcblxyXG5leHBvcnQgY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydExvYWRlciB7XHJcblx0c3RhdGljIGNvbmZpZ3VyZUluc3RhbnRSZXBvcnRNb2R1bGVzKGNvbmZpZ09iamVjdCkge1xyXG5cdFx0Ly8gY29uZmlndXJlIGluc3RhbnQgcmVwb3J0IG1vZHVsZVxyXG5cdFx0Y29uc3QgbW9kdWxlID0gaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZVxyXG5cdFx0XHQuY29uZmlnKFsnJGxvZ1Byb3ZpZGVyJywgJGxvZ1Byb3ZpZGVyID0+ICRsb2dQcm92aWRlci5kZWJ1Z0VuYWJsZWQoZmFsc2UpXSlcclxuXHRcdFx0LmNvbmZpZyhbJyRwcm92aWRlJywgJHByb3ZpZGUgPT4ge1xyXG5cdFx0XHRcdCRwcm92aWRlLmRlY29yYXRvcignJGJyb3dzZXInLCBbJyRkZWxlZ2F0ZScsICRkZWxlZ2F0ZSA9PiB7XHJcblx0XHRcdFx0XHQkZGVsZWdhdGUub25VcmxDaGFuZ2UgPSAoKSA9PiB7IH07XHJcblx0XHRcdFx0XHQkZGVsZWdhdGUudXJsID0gKCkgPT4gJyc7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGRlbGVnYXRlO1xyXG5cdFx0XHRcdH1dKTtcclxuXHRcdFx0fV0pXHJcblx0XHRcdC5jb25zdGFudCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncycsIGNvbmZpZ09iamVjdCk7XHJcblx0XHRyZXR1cm4gbW9kdWxlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQm9vdHN0cmFwIGFuZ3VsYXIgYXBwOlxyXG5cdCAqIHdpbmRvdy51cmxTZXR0aW5ncyQgb2JqZWN0cyBzaG91bGQgYmUgZGVmaW5lZCBiZWZvcmUgdGhpcyBtb21lbnQuXHJcblx0ICovXHJcblx0c3RhdGljIGJvb3RzdHJhcCgpIHtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG5cdFx0XHQvLyBjb21tb24gc2V0dGluZ3MgcHJvbWlzZTpcclxuXHRcdFx0Y29uc3QgY29tbW9uUXVlcnlTZXR0aW5nc1Byb21pc2UgPSBJemVuZGFDb21tb25Mb2FkZXIubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHQvLyBpbnN0YW50IHJlcG9ydCBzZXR0aW5ncyBwcm9taXNlOlxyXG5cdFx0XHRjb25zdCB1cmxTZXR0aW5ncyA9IHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHRcdGNvbnN0IHJzUGFnZVVybCA9IHVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ3NVcmwgPSByc1BhZ2VVcmwgKyAnP3dzY21kPWdldEluc3RhbnRSZXBvcnRTZXR0aW5ncyc7XHJcblx0XHRcdGNvbnN0IGluc3RhbnRSZXBvcnRTZXR0aW5nc1Byb21pc2UgPSBhbmd1bGFyLmVsZW1lbnQuZ2V0KHNldHRpbmdzVXJsKTtcclxuXHJcblx0XHRcdC8vIHdhaXQgd2hpbGUgYWxsIHNldHRpbmdzIGFyZSBsb2FkZWQ6XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudFxyXG5cdFx0XHRcdC53aGVuKGNvbW1vblF1ZXJ5U2V0dGluZ3NQcm9taXNlLCBpbnN0YW50UmVwb3J0U2V0dGluZ3NQcm9taXNlKVxyXG5cdFx0XHRcdC50aGVuKChjb21tb25TZXR0aW5nc1Jlc3VsdCwgaW5zdGFudFJlcG9ydFNldHRpbmdzUmVzdWx0KSA9PiB7XHJcblx0XHRcdFx0XHQvLyBnZXQgaW5zdGFudCByZXBvcnQgY29uZmlnIG9iamVjdFxyXG5cdFx0XHRcdFx0Y29uc3QgY29uZmlnT2JqZWN0ID0gaW5zdGFudFJlcG9ydFNldHRpbmdzUmVzdWx0WzBdO1xyXG5cdFx0XHRcdFx0Y29uZmlnT2JqZWN0Wydtb3ZlVW5jYXRlZ29yaXplZFRvTGFzdFBvc3Rpb24nXSA9IHRydWU7XHJcblx0XHRcdFx0XHQvLyBjcmVhdGUgYW5kIGNvbmZpZ3VyZSBtb2R1bGVzOlxyXG5cdFx0XHRcdFx0SXplbmRhSW5zdGFudFJlcG9ydExvYWRlci5jb25maWd1cmVJbnN0YW50UmVwb3J0TW9kdWxlcyhjb25maWdPYmplY3QpO1xyXG5cdFx0XHRcdFx0Ly8gYm9vdHN0cmFwIGFwcGxpY2F0aW9uOlxyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcjaXplbmRhSW5zdGFudFJlcG9ydFJvb3RDb250YWluZXInKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmJvb3RzdHJhcCgnI2l6ZW5kYUluc3RhbnRSZXBvcnRSb290Q29udGFpbmVyJywgWydpemVuZGFJbnN0YW50UmVwb3J0J10pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogRGVmYXVsdCBwaXZvdCBjb25maWcgb2JqZWN0XHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnN0YW50KCdpemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnJywge1xyXG5cdHBpdm90Q29sdW1uOiBudWxsLFxyXG5cdGNlbGxWYWx1ZXM6IFtdLFxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdGFkZFNpZGVUb3RhbHM6IGZhbHNlXHJcblx0fVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBQaXZvdCBzdG9yYWdlIHNlcnZpY2VcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZmFjdG9yeSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMnLCBbXHJcblx0JyRpbmplY3RvcicsXHJcblx0JyRxJyxcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRpemVuZGFVdGlsJyxcclxuXHRmdW5jdGlvbiAoJGluamVjdG9yLCAkcSwgJHJvb3RTY29wZSwgJGl6ZW5kYVV0aWwpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gY29tbW9uIGZ1bmN0aW9ucyBhbmQgdmFyaWFibGVzXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdC8vIHZhcmlhYmxlc1xyXG5cdFx0dmFyIGRlZmF1bHRDb25maWcgPSAkaW5qZWN0b3IuZ2V0KCdpemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnJyk7XHJcblx0XHR2YXIgcGl2b3RDb25maWcgPSBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdENvbmZpZyk7XHJcblx0XHR2YXIgcGl2b3RzUGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBwaXZvdCBjb2x1bW4gZmllbGQgd3JhcHBlclxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0UGl2b3RDb2x1bW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBwaXZvdENvbmZpZy5waXZvdENvbHVtbjtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgcGl2b3QgY29sdW1uXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXRQaXZvdENvbHVtbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRwaXZvdENvbmZpZy5waXZvdENvbHVtbiA9IHZhbHVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldCBkZWZhdWx0IGdyb3VwIGZvciBwaXZvdCBjb2x1bW4uXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXREZWZhdWx0R3JvdXAgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChwaXZvdENvbmZpZy5waXZvdENvbHVtbikpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoIXBpdm90Q29uZmlnLnBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbilcclxuXHRcdFx0XHRwaXZvdENvbmZpZy5waXZvdENvbHVtbi5ncm91cEJ5RnVuY3Rpb24gPSAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKHBpdm90Q29uZmlnLnBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsICdHUk9VUCcsIHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xlYXIgcGl2b3RzXHJcblx0XHQgKi9cclxuXHRcdHZhciByZW1vdmVQaXZvdHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHBpdm90Q29uZmlnLnBpdm90Q29sdW1uID0gbnVsbDtcclxuXHRcdFx0cGl2b3RDb25maWcuY2VsbFZhbHVlcyA9IFtdO1xyXG5cdFx0XHRwaXZvdENvbmZpZy5vcHRpb25zLmFkZFNpZGVUb3RhbHMgPSBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgcGl2b3Qgb3B0aW9ucyBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFBpdm90T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHBpdm90Q29uZmlnLm9wdGlvbnM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHBpdm90cyBwYW5lbCBzdGF0ZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0UGl2b3RzUGFuZWxPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBwaXZvdHNQYW5lbE9wZW5lZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgcGl2b3RzIHBhbmVsIHN0YXRlXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXRQaXZvdHNQYW5lbE9wZW5lZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRwaXZvdHNQYW5lbE9wZW5lZCA9IHZhbHVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gY2VsbCB2YWx1ZSBmdW5jdGlvbnNcclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgcGl2b3QgZmllbGRzIHdyYXBwZXJzXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRDZWxsVmFsdWVzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gcGl2b3RDb25maWcuY2VsbFZhbHVlcztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpcyBwaXZvdCBhZGRlZCBhbmQgdmFsaWQuXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXMgdmFsaWRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGlzUGl2b3RWYWxpZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGFuZ3VsYXIuaXNPYmplY3QocGl2b3RDb25maWcucGl2b3RDb2x1bW4pICYmIHBpdm90Q29uZmlnLmNlbGxWYWx1ZXMubGVuZ3RoID4gMDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgY2VsbCB2YWx1ZSBmaWVsZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgYWRkQ2VsbFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRwaXZvdENvbmZpZy5jZWxsVmFsdWVzLnB1c2gobnVsbCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlIGNlbGwgdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHJlbW92ZUNlbGxWYWx1ZSA9IGZ1bmN0aW9uIChjZWxsVmFsdWUpIHtcclxuXHRcdFx0dmFyIGNlbGxWYWx1ZXMgPSBwaXZvdENvbmZpZy5jZWxsVmFsdWVzO1xyXG5cdFx0XHR2YXIgaWR4ID0gY2VsbFZhbHVlcy5pbmRleE9mKGNlbGxWYWx1ZSk7XHJcblx0XHRcdGlmIChpZHggPj0gMCkge1xyXG5cdFx0XHRcdGNlbGxWYWx1ZXMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXBsYWNlIGNlbGwgdmFsdWVzIGJ5IGVhY2ggb3RoZXJcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHN3YXBDZWxsVmFsdWVzID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xyXG5cdFx0XHR2YXIgY2VsbFZhbHVlcyA9IHBpdm90Q29uZmlnLmNlbGxWYWx1ZXM7XHJcblx0XHRcdHZhciB0ZW1wID0gY2VsbFZhbHVlc1tmcm9tSW5kZXhdO1xyXG5cdFx0XHRjZWxsVmFsdWVzW2Zyb21JbmRleF0gPSBjZWxsVmFsdWVzW3RvSW5kZXhdO1xyXG5cdFx0XHRjZWxsVmFsdWVzW3RvSW5kZXhdID0gdGVtcDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlIGNlbGwgdmFsdWUgdG8gcG9zaXRpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIG1vdmVDZWxsVmFsdWVUbyA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdFx0dmFyIGNlbGxWYWx1ZXMgPSBwaXZvdENvbmZpZy5jZWxsVmFsdWVzO1xyXG5cdFx0XHRjZWxsVmFsdWVzLnNwbGljZSh0b0luZGV4LCAwLCBjZWxsVmFsdWVzLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgY2VsbCB2YWx1ZSBmaWVsZCwgdXBkYXRlIGF2YWlsYWJsZSBncm91cHMsIGZvcm1hdHMsIGV0Yy4uLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0Q2VsbFZhbHVlRmllbGQgPSBmdW5jdGlvbiAoaW5kZXgsIG5ld0ZpZWxkKSB7XHJcblx0XHRcdHBpdm90Q29uZmlnLmNlbGxWYWx1ZXNbaW5kZXhdID0gbmV3RmllbGQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIHBpdm90IGNvbHVtbiBvciBjZWxsIGlmIHBpdm90IGNvbHVtbiBhbHJlYWR5IGRlZmluZWRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFkZFBpdm90SXRlbSA9IGZ1bmN0aW9uIChmaWVsZENvcHkpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHBpdm90Q29uZmlnLnBpdm90Q29sdW1uKSkge1xyXG5cdFx0XHRcdHBpdm90Q29uZmlnLnBpdm90Q29sdW1uID0gZmllbGRDb3B5O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHBpdm90Q29uZmlnLmNlbGxWYWx1ZXMucHVzaChmaWVsZENvcHkpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3luY2hyb25pemVzIHBpdm90XHJcblx0XHQgKi9cclxuXHRcdHZhciBzeW5jUGl2b3RTdGF0ZSA9IGZ1bmN0aW9uIChhY3RpdmVGaWVsZHNJbkFjdGl2ZVRhYmxlcykge1xyXG5cdFx0XHRyZW1vdmVOb3RBY3RpdmVGaWVsZHMoYWN0aXZlRmllbGRzSW5BY3RpdmVUYWJsZXMpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBwaXZvdCBjb2x1bW4gYW5kIHBpdm90IGNlbGwgaWYgY29ycmVzcG9uZ2luZyBmaWVsZHMgYXJlIG5vXHJcblx0XHQgKiBsb25nZXIgYXZhaWxhYmxlLlxyXG5cdFx0ICogQHBhcmFtIHthcnJheX0gYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBmaWVsZHMuXHJcblx0XHQgKi9cclxuXHRcdHZhciByZW1vdmVOb3RBY3RpdmVGaWVsZHMgPSBmdW5jdGlvbiAoYWN0aXZlRmllbGRzSW5BY3RpdmVUYWJsZXMpIHtcclxuXHRcdFx0dmFyIGlzRmllbGRJbkxpc3QgPSBmdW5jdGlvbiAoZmllbGQsIGZpZWxkTGlzdCkge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGZpZWxkTGlzdCkpXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZExpc3QubGVuZ3RoOyBpKyspXHJcblx0XHRcdFx0XHRpZiAoZmllbGRMaXN0W2ldLnN5c25hbWUgPT09IGZpZWxkLnN5c25hbWUpXHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QocGl2b3RDb25maWcucGl2b3RDb2x1bW4pKSB7XHJcblx0XHRcdFx0aWYgKCFpc0ZpZWxkSW5MaXN0KHBpdm90Q29uZmlnLnBpdm90Q29sdW1uLCBhY3RpdmVGaWVsZHNJbkFjdGl2ZVRhYmxlcykpXHJcblx0XHRcdFx0XHRwaXZvdENvbmZpZy5waXZvdENvbHVtbiA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGogPSAwO1xyXG5cdFx0XHR3aGlsZSAoaiA8IHBpdm90Q29uZmlnLmNlbGxWYWx1ZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dmFyIGNlbGxWYWx1ZSA9IHBpdm90Q29uZmlnLmNlbGxWYWx1ZXNbal07XHJcblx0XHRcdFx0aWYgKGNlbGxWYWx1ZSAmJiAhaXNGaWVsZEluTGlzdChjZWxsVmFsdWUsIGFjdGl2ZUZpZWxkc0luQWN0aXZlVGFibGVzKSkge1xyXG5cdFx0XHRcdFx0cGl2b3RDb25maWcuY2VsbFZhbHVlcy5zcGxpY2UoaiwgMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGorKztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gZGF0YVxyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmUgcGl2b3RzIGZvciBzZW5kXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRQaXZvdERhdGFGb3JTZW5kID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXBpdm90Q29uZmlnLnBpdm90Q29sdW1uKVxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRyZXR1cm4gcGl2b3RDb25maWc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZCBwaXZvdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgbG9hZFBpdm90RGF0YSA9IGZ1bmN0aW9uIChwaXZvdERhdGEpIHtcclxuXHRcdFx0cGl2b3RDb25maWcgPSBwaXZvdERhdGE7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFBVQkxJQyBBUElcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFBpdm90c1BhbmVsT3BlbmVkOiBnZXRQaXZvdHNQYW5lbE9wZW5lZCxcclxuXHRcdFx0c2V0UGl2b3RzUGFuZWxPcGVuZWQ6IHNldFBpdm90c1BhbmVsT3BlbmVkLFxyXG5cdFx0XHRnZXRQaXZvdENvbHVtbjogZ2V0UGl2b3RDb2x1bW4sXHJcblx0XHRcdGdldFBpdm90T3B0aW9uczogZ2V0UGl2b3RPcHRpb25zLFxyXG5cdFx0XHRzZXRQaXZvdENvbHVtbjogc2V0UGl2b3RDb2x1bW4sXHJcblx0XHRcdHNldERlZmF1bHRHcm91cDogc2V0RGVmYXVsdEdyb3VwLFxyXG5cdFx0XHRyZW1vdmVQaXZvdHM6IHJlbW92ZVBpdm90cyxcclxuXHRcdFx0Z2V0Q2VsbFZhbHVlczogZ2V0Q2VsbFZhbHVlcyxcclxuXHRcdFx0YWRkQ2VsbFZhbHVlOiBhZGRDZWxsVmFsdWUsXHJcblx0XHRcdHJlbW92ZUNlbGxWYWx1ZTogcmVtb3ZlQ2VsbFZhbHVlLFxyXG5cdFx0XHRzd2FwQ2VsbFZhbHVlczogc3dhcENlbGxWYWx1ZXMsXHJcblx0XHRcdG1vdmVDZWxsVmFsdWVUbzogbW92ZUNlbGxWYWx1ZVRvLFxyXG5cdFx0XHRhZGRQaXZvdEl0ZW06IGFkZFBpdm90SXRlbSxcclxuXHRcdFx0c2V0Q2VsbFZhbHVlRmllbGQ6IHNldENlbGxWYWx1ZUZpZWxkLFxyXG5cdFx0XHRnZXRQaXZvdERhdGFGb3JTZW5kOiBnZXRQaXZvdERhdGFGb3JTZW5kLFxyXG5cdFx0XHRsb2FkUGl2b3REYXRhOiBsb2FkUGl2b3REYXRhLFxyXG5cdFx0XHRpc1Bpdm90VmFsaWQ6IGlzUGl2b3RWYWxpZCxcclxuXHRcdFx0c3luY1Bpdm90U3RhdGU6IHN5bmNQaXZvdFN0YXRlXHJcblx0XHR9O1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlICBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSXplbmRhIHF1ZXJ5IHNlcnZpY2Ugd2hpY2ggcHJvdmlkZXMgZGFzaGJvYXJkIHNwZWNpZmljIHF1ZXJpZXNcclxuICogdGhpcyBpcyBzaW5nbGV0b25cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZmFjdG9yeSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeScsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRxJyxcclxuXHQnJGh0dHAnLFxyXG5cdCckbG9nJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdCckaXplbmRhVXRpbFVpU2VydmljZScsXHJcblx0JyRpemVuZGFVcmwnLFxyXG5cdCckaXplbmRhU2V0dGluZ3MnLFxyXG5cdCckaXplbmRhUnNRdWVyeScsXHJcblx0ZnVuY3Rpb24gKCRyb290U2NvcGUsICRxLCAkaHR0cCwgJGxvZywgJHdpbmRvdywgJGl6ZW5kYUxvY2FsZSwgJGl6ZW5kYVV0aWxVaVNlcnZpY2UsICRpemVuZGFVcmwsICRpemVuZGFTZXR0aW5ncywgJGl6ZW5kYVJzUXVlcnkpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0XHR2YXIgcmVxdWVzdExpc3QgPSBbXTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCB0eXBlIGdyb3VwIG9mIGZpZWxkIG9wZXJhdG9yXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XHJcblx0XHRcdHZhciBoaWRkZW5PcGVyYXRvcnMgPSBbJ0JsYW5rJywgJ05vdEJsYW5rJywgJ1VzZVByZXZpb3VzT1InLCAnVHJ1ZScsICdGYWxzZSddLFxyXG5cdFx0XHRcdG9uZVZhbHVlT3BlcmF0b3JzID0gWydMZXNzVGhhbicsICdHcmVhdGVyVGhhbicsICdMZXNzVGhhbk5vdCcsICdHcmVhdGVyVGhhbk5vdCcsICdFcXVhbHMnLCAnTm90RXF1YWxzJywgJ0xpa2UnLFxyXG5cdFx0XHRcdFx0J0JlZ2luc1dpdGgnLCAnRW5kc1dpdGgnLCAnTm90TGlrZScsICdMZXNzVGhhbl9EYXlzT2xkJywgJ0dyZWF0ZXJUaGFuX0RheXNPbGQnLCAnRXF1YWxzX0RheXNPbGQnLCAnTGVzc1RoYW5fRGF5c09sZCcsXHJcblx0XHRcdFx0XHQnR3JlYXRlclRoYW5fRGF5c09sZCcsICdFcXVhbHNfRGF5c09sZCddLFxyXG5cdFx0XHRcdHR3b1ZhbHVlT3BlcmF0b3JzID0gWydCZXR3ZWVuJywgJ05vdEJldHdlZW4nXSxcclxuXHRcdFx0XHRzZWxlY3RWYWx1ZXNPcGVyYXRvcnMgPSBbJ0VxdWFsc19TZWxlY3QnLCAnTm90RXF1YWxzX1NlbGVjdCddLFxyXG5cdFx0XHRcdHNlbGVjdE11bHRpcGxlVmFsdWVzT3BlcmF0b3JzID0gWydFcXVhbHNfTXVsdGlwbGUnLCAnTm90RXF1YWxzX011bHRpcGxlJ10sXHJcblx0XHRcdFx0c2VsZWN0UG9wdXBWYWx1ZXNPcGVyYXRvcnMgPSBbJ0VxdWFsc1BvcHVwJywgJ05vdEVxdWFsc1BvcHVwJ10sXHJcblx0XHRcdFx0c2VsZWN0Q2hlY2tib3hlc1ZhbHVlc09wZXJhdG9ycyA9IFsnRXF1YWxzX0NoZWNrQm94ZXMnXSxcclxuXHRcdFx0XHRzZWxlY3RPbmVEYXRlT3BlcmF0b3JzID0gWydFcXVhbHNDYWxlbmRhcicsICdOb3RFcXVhbHNDYWxlbmRhciddLFxyXG5cdFx0XHRcdHNlbGVjdFR3b0RhdGVzT3BlcmF0b3JzID0gWydCZXR3ZWVuVHdvRGF0ZXMnLCAnTm90QmV0d2VlblR3b0RhdGVzJ10sXHJcblx0XHRcdFx0ZmllbGRPcGVyYXRvcnMgPSBbJ0xlc3NUaGFuRmllbGQnLCAnR3JlYXRlclRoYW5GaWVsZCcsICdFcXVhbHNGaWVsZCcsICdOb3RFcXVhbHNGaWVsZCddLFxyXG5cdFx0XHRcdGluVGltZVBlcmlvZCA9IFsnSW5UaW1lUGVyaW9kJ107XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChvcGVyYXRvcikpXHJcblx0XHRcdFx0cmV0dXJuICdoaWRkZW4nO1xyXG5cdFx0XHRpZiAoIW9wZXJhdG9yLnZhbHVlIHx8IGhpZGRlbk9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRcdHJldHVybiAnaGlkZGVuJztcclxuXHRcdFx0aWYgKG9uZVZhbHVlT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdFx0cmV0dXJuICdvbmVWYWx1ZSc7XHJcblx0XHRcdGlmICh0d29WYWx1ZU9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRcdHJldHVybiAndHdvVmFsdWVzJztcclxuXHRcdFx0aWYgKHNlbGVjdFZhbHVlc09wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRcdHJldHVybiAnc2VsZWN0JztcclxuXHRcdFx0aWYgKHNlbGVjdE11bHRpcGxlVmFsdWVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdFx0cmV0dXJuICdzZWxlY3RfbXVsdGlwbGUnO1xyXG5cdFx0XHRpZiAoc2VsZWN0UG9wdXBWYWx1ZXNPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0XHRyZXR1cm4gJ3NlbGVjdF9wb3B1cCc7XHJcblx0XHRcdGlmIChzZWxlY3RDaGVja2JveGVzVmFsdWVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdFx0cmV0dXJuICdzZWxlY3RfY2hlY2tib3hlcyc7XHJcblx0XHRcdGlmIChzZWxlY3RPbmVEYXRlT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdFx0cmV0dXJuICdvbmVEYXRlJztcclxuXHRcdFx0aWYgKHNlbGVjdFR3b0RhdGVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdFx0cmV0dXJuICd0d29EYXRlcyc7XHJcblx0XHRcdGlmIChmaWVsZE9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRcdHJldHVybiAnZmllbGQnO1xyXG5cdFx0XHRpZiAoaW5UaW1lUGVyaW9kLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gJ2luVGltZVBlcmlvZCc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG9wZXJhdG9yLnZhbHVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZSBjdXJyZW50IGFjdHVhbCB0eXBlIGdyb3VwIGZvciBmaWVsZC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEN1cnJlbnRUeXBlR3JvdXAgPSBmdW5jdGlvbiAoZmllbGQsIGRhdGFUeXBlR3JvdXA/KSB7XHJcblx0XHRcdHZhciB0eXBlR3JvdXA7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhVHlwZUdyb3VwKSkge1xyXG5cdFx0XHRcdHR5cGVHcm91cCA9IGRhdGFUeXBlR3JvdXA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dHlwZUdyb3VwID0gYW5ndWxhci5pc09iamVjdChmaWVsZC5leHByZXNzaW9uVHlwZSkgJiYgZmllbGQuZXhwcmVzc2lvblR5cGUudmFsdWUgIT09ICcuLi4nXHJcblx0XHRcdFx0XHQ/IGZpZWxkLmV4cHJlc3Npb25UeXBlLnZhbHVlXHJcblx0XHRcdFx0XHQ6IGZpZWxkLnR5cGVHcm91cDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHlwZUdyb3VwO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBHZXQgZGF0YXNvdXJjZXNcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXREYXRhc291cmNlcygpIHtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFSc1F1ZXJ5LnF1ZXJ5KCdnZXRqc29uc2NoZW1hJywgWydsYXp5J10sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHRcdH0sXHJcblx0XHRcdFx0Ly8gY3VzdG9tIGVycm9yIGhhbmRsZXI6XHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ0ZhaWxlZCB0byBnZXQgZGF0YXNvdXJjZXMnO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIExvYWQgZmllbGQgaW5mbyBieSBnaXZlbiBzcWwgY29sdW1uIG5hbWUuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGdldEZpZWxkc0luZm8oZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5xdWVyeSgnZ2V0ZmllbGRzaW5mbycsIFtmaWVsZFN5c05hbWVdLCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoZk5hbWUpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IGZpZWxkIGluZm8gZm9yIGZpZWxkICcgKyBmTmFtZTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtmaWVsZFN5c05hbWVdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWFyY2ggZmllbGRzIGluIGRhdGFzb3VyY2VzIChyZXR1cm5zIHJhbmdlIG9mIHZhbHVlcyBbZnJvbSwgdG9dKVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBmaW5kSW5EYXRhc291cmNlcyhzZWFyY2hTdHJpbmcsIGZyb20sIHRvKSB7XHJcblx0XHRcdHZhciBwYXJhbXMgPSBbZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaFN0cmluZyldO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc051bWJlcihmcm9tKSAmJiBhbmd1bGFyLmlzTnVtYmVyKHRvKSkge1xyXG5cdFx0XHRcdHBhcmFtcyA9IHBhcmFtcy5jb25jYXQoU3RyaW5nKGZyb20pLCBTdHJpbmcodG8pKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYVJzUXVlcnkucXVlcnkoJ2ZpbmRmaWVsZHMnLCBwYXJhbXMsIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uIChzU3RyaW5nKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnRmFpbGVkIHRvIHNlYXJjaCBmaWVsZHMgYW5kIHRhYmxlcyBieSBrZXl3b3JkOiAnICsgc1N0cmluZztcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtzZWFyY2hTdHJpbmddXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2FkIHJlcG9ydCBqc29uIGNvbmZpZ1xyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBsb2FkUmVwb3J0KHJlcG9ydEZ1bGxOYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5hcGlRdWVyeSgnbG9hZFJlcG9ydFNldENvbmZpZ0pzb24nLCBbcmVwb3J0RnVsbE5hbWVdKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENhbmNlbCBhbGwgcnVubmluZyBwcmV2aWV3IHF1ZXJpZXMuIEFsbCBxdWVyaWVzIHdpbGwgYmUgcmVqZWN0ZWQuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGNhbmNlbEFsbFByZXZpZXdRdWVyaWVzKCkge1xyXG5cdFx0XHR2YXIgaSA9IDA7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcmVxdWVzdExpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgcmVxdWVzdCA9IHJlcXVlc3RMaXN0W2ldO1xyXG5cdFx0XHRcdHJlcXVlc3QuY2FuY2VsbGVyLnJlc29sdmUoJ0NhbmNlbGxlZCEnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXF1ZXN0TGlzdCA9IFtdO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJ1biByZXBvcnRTZXQgcHJldmlldyByZXF1ZXN0LiBJZiByZXF1ZXN0IFIyIGhhdmUgY29tZSBlYXJsaWVyIHRoYXQgcmVxdWVzdCBSMSAtIFIxIHJlcXVlc3QgY2FuY2Vscy5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVwb3J0U2V0UHJldmlld1F1ZXVlZChyZXBvcnRTZXRDb25maWcpIHtcclxuXHRcdFx0Y2FuY2VsQWxsUHJldmlld1F1ZXJpZXMoKTtcclxuXHRcdFx0Ly8gcHJlcGFyZSBwYXJhbXNcclxuXHRcdFx0dmFyIHBhcmFtc0FycmF5ID0gW1xyXG5cdFx0XHRcdCdpaWM9MScsIC8vIGludmFsaWRhdGUgaW4gY2FjaGVcclxuXHRcdFx0XHQndXJsZW5jb2RlZD10cnVlJyxcclxuXHRcdFx0XHQnd3NjbWQ9Z2V0TmV3UmVwb3J0U2V0UHJldmlld0Zyb21Kc29uJyxcclxuXHRcdFx0XHQnd3NhcmcwPScgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocmVwb3J0U2V0Q29uZmlnKSlcclxuXHRcdFx0XTtcclxuXHRcdFx0aWYgKHR5cGVvZiAod2luZG93Lml6ZW5kYVBhZ2VJZCQpICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0XHRwYXJhbXNBcnJheS5wdXNoKCdpenBpZD0nICsgd2luZG93Lml6ZW5kYVBhZ2VJZCQpO1xyXG5cdFx0XHRpZiAodHlwZW9mICh3aW5kb3cuYW5ndWxhclBhZ2VJZCQpICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0XHRwYXJhbXNBcnJheS5wdXNoKCdhbnBpZD0nICsgd2luZG93LmFuZ3VsYXJQYWdlSWQkKTtcclxuXHJcblx0XHRcdHZhciByblBhcmFtVmFsdWUgPSAocmVwb3J0U2V0Q29uZmlnLnJlcG9ydENhdGVnb3J5XHJcblx0XHRcdFx0PyByZXBvcnRTZXRDb25maWcucmVwb3J0Q2F0ZWdvcnkgKyAkaXplbmRhU2V0dGluZ3MuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydFNldENvbmZpZy5yZXBvcnROYW1lXHJcblx0XHRcdFx0OiByZXBvcnRTZXRDb25maWcucmVwb3J0TmFtZSk7XHJcblxyXG5cdFx0XHR2YXIgcmVzb2x2ZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHR2YXIgY2FuY2VsbGVyID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0dmFyIHJlcSA9IHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICRpemVuZGFVcmwuc2V0dGluZ3MudXJsUnNQYWdlLFxyXG5cdFx0XHRcdHBhcmFtczogeyAncm5hbHQnOiByblBhcmFtVmFsdWUgfSxcclxuXHRcdFx0XHR0aW1lb3V0OiBjYW5jZWxsZXIucHJvbWlzZSxcclxuXHRcdFx0XHRkYXRhVHlwZTogJ3RleHQnLFxyXG5cdFx0XHRcdGRhdGE6IHBhcmFtc0FycmF5LmpvaW4oJyYnKSwgLy8gcXVlcnkgcGFyYW1ldGVyc1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGFkZCByZXF1ZXN0IHRvIGN1cnJlbnQgcmVxdWVzdHMgbGlzdFxyXG5cdFx0XHRyZXF1ZXN0TGlzdC5wdXNoKHtcclxuXHRcdFx0XHRjYW5jZWxsZXI6IGNhbmNlbGxlcixcclxuXHRcdFx0XHRyZXNvbHZlcjogcmVzb2x2ZXJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgcmVxdWVzdFByb21pc2UgPSAkaHR0cChyZXEpO1xyXG5cdFx0XHRyZXF1ZXN0UHJvbWlzZVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzcG9uc2UuY29uZmlnLnRpbWVvdXQuJCRzdGF0ZS52YWx1ZSAhPT0gJ0NhbmNlbGxlZCEnKSB7XHJcblx0XHRcdFx0XHRcdC8vaGFuZGxlIGVycm9yczpcclxuXHRcdFx0XHRcdFx0dmFyIGVycm9yVGV4dCA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRmFpbGVkVG9Mb2FkUHJldmlldycsICdGYWlsZWQgdG8gbG9hZCBwcmV2aWV3LicpO1xyXG5cdFx0XHRcdFx0XHQkaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KHJlc3BvbnNlLmRhdGEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzb2x2ZXIucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZSByZXBvcnQgc2V0IGZyb20ganNvbiBhbmQgc2F2ZSBpdC5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gc2F2ZVJlcG9ydFNldChyZXBvcnRTZXRDb25maWcpIHtcclxuXHRcdFx0dmFyIHBhcmFtc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHJlcG9ydFNldENvbmZpZyk7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5hcGlRdWVyeSgnc2F2ZVJlcG9ydFNldE5ldycsIFtwYXJhbXNTdHJpbmddKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZSByZXBvcnQgc2V0IGZyb20ganNvbiBhbmQgc2V0IGl0IGFzIEN1cnJlbnRSZXBvcnRTZXQuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHNldFJlcG9ydEFzQ3JzKHJlcG9ydFNldENvbmZpZykge1xyXG5cdFx0XHR2YXIgcGFyYW1zU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocmVwb3J0U2V0Q29uZmlnKTtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFSc1F1ZXJ5LnF1ZXJ5KCdzZXRSZXBvcnRTZXRGcm9tSnNvblRvQ3JzJywgW3BhcmFtc1N0cmluZ10sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ3RleHQnLFxyXG5cdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJ1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCdcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ0ZhaWxlZCB0byBzZXQgY3VycmVudCByZXBvcnQgYXMgQ3VycmVudFJlcG9ydFNldCc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiB3aW5kb3cgZm9yIHByaW50LlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBvcGVuUHJpbnRXaW5kb3codXJsLCBwYXJhbWV0ZXJzLCByZXNvbHZlKSB7XHJcblx0XHRcdC8vIG9wZW4gaHRtbCBwcmludCB3aW5kb3dcclxuXHRcdFx0dmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcclxuXHRcdFx0Zm9ybS5hY3Rpb24gPSAkaXplbmRhVXJsLnNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdFx0Zm9ybS5tZXRob2QgPSAnUE9TVCc7XHJcblx0XHRcdC8vIHNldCBjdXN0b20gKG91cikgd2luZG93IGFzIHRhcmdldCB3aW5kb3dcclxuXHRcdFx0Zm9ybS50YXJnZXQgPSAnZm9ybS10YXJnZXQnO1xyXG5cdFx0XHRpZiAocGFyYW1ldGVycykge1xyXG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBwYXJhbWV0ZXJzKSB7XHJcblx0XHRcdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XHJcblx0XHRcdFx0XHRpbnB1dC5uYW1lID0ga2V5O1xyXG5cdFx0XHRcdFx0aW5wdXQudmFsdWUgPSB0eXBlb2YgcGFyYW1ldGVyc1trZXldID09PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkocGFyYW1ldGVyc1trZXldKSA6IHBhcmFtZXRlcnNba2V5XTtcclxuXHRcdFx0XHRcdGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblxyXG5cdFx0XHQvLyBvcGVuIHdpbmRvdyBmb3IgZm9ybSBhbmQgc3VibWl0IGZvciBpbnRvIHRoYXQgd2luZG93XHJcblx0XHRcdHZhciBmb3JtV2luZG93ID0gd2luZG93Lm9wZW4oJycsICdmb3JtLXRhcmdldCcsICcnKTtcclxuXHRcdFx0Zm9ybS5zdWJtaXQoKTtcclxuXHJcblx0XHRcdC8vIHdvcmthcm91ZCBmb3Igd2Via2l0IGFqYXggcmVxdWVzdCBibG9ja1xyXG5cdFx0XHRpZiAoJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSkge1xyXG5cdFx0XHRcdHZhciBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKCFmb3JtV2luZG93IHx8IGZvcm1XaW5kb3cuY2xvc2VkKSB7XHJcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcblx0XHRcdFx0XHRcdGludGVydmFsSWQgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgNTAwKTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiB1cmwgaW4gbmV3IHdpbmRvdy4gXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGV4cG9ydFJlcG9ydEluTmV3V2luZG93KHJlcG9ydFNldFRvU2VuZCwgZXhwb3J0VHlwZSkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHQvLyBjcmVhdGUgdXJsIGZvciBleHBvcnRcclxuXHRcdFx0XHR2YXIgdXJsUGFyYW1zID0ge1xyXG5cdFx0XHRcdFx0J3dzY21kJzogZXhwb3J0VHlwZSA9PT0gJ3ByaW50JyA/ICdwcmludFJlcG9ydFNldCcgOiAnZXhwb3J0UmVwb3J0U2V0JyxcclxuXHRcdFx0XHRcdCd3c2FyZzAnOiBKU09OLnN0cmluZ2lmeShyZXBvcnRTZXRUb1NlbmQpLFxyXG5cdFx0XHRcdFx0J3dzYXJnMSc6IGV4cG9ydFR5cGVcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgKCR3aW5kb3cuaXplbmRhUGFnZUlkJCkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRcdFx0dXJsUGFyYW1zWydpenBpZCddID0gJHdpbmRvdy5pemVuZGFQYWdlSWQkO1xyXG5cclxuXHRcdFx0XHRpZiAoZXhwb3J0VHlwZSAhPT0gJ3ByaW50Jykge1xyXG5cdFx0XHRcdFx0Ly8gZXhwb3J0IGZpbGVcclxuXHRcdFx0XHRcdCRpemVuZGFSc1F1ZXJ5LmRvd25sb2FkRmlsZVJlcXVlc3QoJ1BPU1QnLCAkaXplbmRhVXJsLnNldHRpbmdzLnVybFJzUGFnZSwgdXJsUGFyYW1zKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIHByaW50IGh0bWxcclxuXHRcdFx0XHRcdG9wZW5QcmludFdpbmRvdygkaXplbmRhVXJsLnNldHRpbmdzLnVybFJzUGFnZSwgdXJsUGFyYW1zLCByZXNvbHZlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFZpc3VhbGl6YXRpb25Db25maWcoKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5xdWVyeSgnZ2V0VmlzdWFsaXphdGlvbkNvbmZpZycsIFtdLCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnRmFpbGVkIHRvIGdldCB2aXN1YWxpemF0aW9ucyBjb25maWcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGxpc3Qgb2YgY29uc3RyYWludHNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0Q29udHJhaW50c0luZm8oKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5xdWVyeSgnZ2V0Y29uc3RyYWludHNsaXN0JywgW10sIHtcclxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IGNvbnRyYWludHMgaW5mbyc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RmllbGRGdW5jdGlvbnMoZmllbGQsIGZ1bmN0aW9uUHVycG9zZSkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmllbGQpKVxyXG5cdFx0XHRcdHRocm93ICdGaWVsZCBzaG91bGQgYmUgb2JqZWN0JztcclxuXHRcdFx0dmFyIHBhcmFtZXRlcnM7XHJcblx0XHRcdHZhciB0eXBlR3JvdXAgPSBnZXRDdXJyZW50VHlwZUdyb3VwKGZpZWxkKTtcclxuXHRcdFx0aWYgKGZ1bmN0aW9uUHVycG9zZSA9PT0gJ3N1YnRvdGFsJykge1xyXG5cdFx0XHRcdC8vIGF2YWlsYWJsZSBmdW5jdGlvbnMgZm9yIHN1YnRvdGFsc1xyXG5cdFx0XHRcdHBhcmFtZXRlcnMgPSB7XHJcblx0XHRcdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHRcdFx0J3AnOiAnRnVuY3Rpb25MaXN0JyxcclxuXHRcdFx0XHRcdCd0eXBlJzogZmllbGQuc3FsVHlwZSxcclxuXHRcdFx0XHRcdCd0eXBlR3JvdXAnOiB0eXBlR3JvdXAsXHJcblx0XHRcdFx0XHQnaW5jbHVkZUJsYW5rJzogJ3RydWUnLFxyXG5cdFx0XHRcdFx0J2luY2x1ZGVHcm91cEJ5JzogJ2ZhbHNlJyxcclxuXHRcdFx0XHRcdCdmb3JTdWJ0b3RhbHMnOiAndHJ1ZScsXHJcblx0XHRcdFx0XHQnZXh0cmFGdW5jdGlvbic6ICdmYWxzZScsXHJcblx0XHRcdFx0XHQnZm9yRHVuZGFzTWFwJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHRcdCdvbmx5TnVtZXJpY1Jlc3VsdHMnOiAnZmFsc2UnLFxyXG5cdFx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZ1bmN0aW9uUHVycG9zZSA9PT0gJ2ZpZWxkJykge1xyXG5cdFx0XHRcdC8vIGF2YWlsYWJsZSBmdW5jdGlvbnMgZm9yIGNvbHVtblxyXG5cdFx0XHRcdHBhcmFtZXRlcnMgPSB7XHJcblx0XHRcdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHRcdFx0J3AnOiAnRnVuY3Rpb25MaXN0JyxcclxuXHRcdFx0XHRcdCd0eXBlJzogZmllbGQuc3FsVHlwZSxcclxuXHRcdFx0XHRcdCd0eXBlR3JvdXAnOiB0eXBlR3JvdXAsXHJcblx0XHRcdFx0XHQnaW5jbHVkZUJsYW5rJzogJ3RydWUnLFxyXG5cdFx0XHRcdFx0J2luY2x1ZGVHcm91cEJ5JzogJ3RydWUnLFxyXG5cdFx0XHRcdFx0J2ZvclN1YnRvdGFscyc6ICdmYWxzZScsXHJcblx0XHRcdFx0XHQnZXh0cmFGdW5jdGlvbic6ICdmYWxzZScsXHJcblx0XHRcdFx0XHQnZm9yRHVuZGFzTWFwJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHRcdCdvbmx5TnVtZXJpY1Jlc3VsdHMnOiAnZmFsc2UnLFxyXG5cdFx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZ1bmN0aW9uUHVycG9zZSA9PT0gJ3Bpdm90RmllbGQnKSB7XHJcblx0XHRcdFx0cGFyYW1ldGVycyA9IHtcclxuXHRcdFx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdFx0XHQncCc6ICdGdW5jdGlvbkxpc3QnLFxyXG5cdFx0XHRcdFx0J3R5cGUnOiBmaWVsZC5zcWxUeXBlLFxyXG5cdFx0XHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0XHRcdCdpbmNsdWRlQmxhbmsnOiAndHJ1ZScsXHJcblx0XHRcdFx0XHQnaW5jbHVkZUdyb3VwQnknOiAndHJ1ZScsXHJcblx0XHRcdFx0XHQnZm9yU3VidG90YWxzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHRcdCdleHRyYUZ1bmN0aW9uJzogJ3RydWUnLFxyXG5cdFx0XHRcdFx0J2ZvckR1bmRhc01hcCc6ICdmYWxzZScsXHJcblx0XHRcdFx0XHQnb25seU51bWVyaWNSZXN1bHRzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuICRpemVuZGFSc1F1ZXJ5LnJzUXVlcnkocGFyYW1ldGVycywge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24gKGZpZWxkUGFyYW0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IGZ1bmN0aW9uIGxpc3QgaW5mbyBmb3IgZmllbGQgJyArIGZpZWxkUGFyYW0uc3lzbmFtZTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtmaWVsZF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRQZXJpb2RMaXN0KCkge1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYVJzUXVlcnkucnNRdWVyeSh7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdQZXJpb2RMaXN0JyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnRmFpbGVkIHRvIGdldCBwZXJpb2QgbGlzdC4nO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXhpc3RlbnRQb3B1cFZhbHVlc0xpc3QoZmllbGQsIHRhYmxlKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5yc1F1ZXJ5KHtcclxuXHRcdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHRcdCdwJzogJ0V4aXN0ZW50UG9wdXBWYWx1ZXNMaXN0JyxcclxuXHRcdFx0XHQnY29sdW1uTmFtZSc6IGZpZWxkLnN5c25hbWUsXHJcblx0XHRcdFx0J3RibDAnOiB0YWJsZS5zeXNuYW1lLFxyXG5cdFx0XHRcdCd0YTAnOiAnJyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnRmFpbGVkIHRvIGdldCBjdXN0b20gcG9wdXBzIHN0eWxlcy4nO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RHJpbGxEb3duU3R5bGVzKCkge1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYVJzUXVlcnkucnNRdWVyeSh7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdEcmlsbERvd25TdHlsZUxpc3QnLFxyXG5cdFx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IGRyaWxsZG93biBzdHlsZXMuJztcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXhwcmVzc2lvblR5cGVzKCkge1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYVJzUXVlcnkucnNRdWVyeSh7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdFeHByZXNzaW9uVHlwZUxpc3QnLFxyXG5cdFx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IGV4cHJlc3Npb24gdHlwZXMuJztcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0U3VicmVwb3J0cygpIHtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFSc1F1ZXJ5LnJzUXVlcnkoe1xyXG5cdFx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdFx0J3AnOiAnU3VicmVwb3J0c0xpc3QnLFxyXG5cdFx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IHN1YnJlcG9ydHMuJztcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VmdTdHlsZXMoKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5yc1F1ZXJ5KHtcclxuXHRcdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHRcdCdwJzogJ1ZnU3R5bGVMaXN0JyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnRmFpbGVkIHRvIGdldCBhdmFpbGFibGUgdmlzdWFsIGdyb3VwIHN0eWxlcy4nO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRGaWVsZEZvcm1hdHMoZmllbGQsIGRhdGFUeXBlR3JvdXApIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSlcclxuXHRcdFx0XHR0aHJvdyAnRmllbGQgc2hvdWxkIGJlIG9iamVjdCc7XHJcblx0XHRcdHZhciB0eXBlR3JvdXAgPSBnZXRDdXJyZW50VHlwZUdyb3VwKGZpZWxkLCBkYXRhVHlwZUdyb3VwKTtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFSc1F1ZXJ5LnJzUXVlcnkoe1xyXG5cdFx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdFx0J3AnOiAnRm9ybWF0TGlzdCcsXHJcblx0XHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoZmllbGRQYXJhbSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ0ZhaWxlZCB0byBnZXQgZm9ybWF0IGxpc3QgaW5mbyBmb3IgZmllbGQgJyArIGZpZWxkUGFyYW0uc3lzbmFtZTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtmaWVsZF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRGaWx0ZXJGb3JtYXRzKGZpbHRlcikge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyKSB8fCAhYW5ndWxhci5pc09iamVjdChmaWx0ZXIuZmllbGQpKVxyXG5cdFx0XHRcdHRocm93ICdmaWx0ZXIgYW5kIGZpbHRlci5maWVsZCBzaG91bGQgYmUgb2JqZWN0cy4nO1xyXG5cdFx0XHR2YXIgdHlwZUdyb3VwID0gZ2V0Q3VycmVudFR5cGVHcm91cChmaWx0ZXIuZmllbGQpO1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYVJzUXVlcnkucnNRdWVyeSh7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdGb3JtYXRMaXN0JyxcclxuXHRcdFx0XHQndHlwZUdyb3VwJzogdHlwZUdyb3VwLFxyXG5cdFx0XHRcdCdvbmx5U2ltcGxlJzogJ3RydWUnLFxyXG5cdFx0XHRcdCdmb3JjZVNpbXBsZSc6ICd0cnVlJyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVyOiBmdW5jdGlvbiAoZmlsdGVyUGFyYW0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IGZvcm1hdCBsaXN0IGluZm8gZm9yIGZpbHRlciAnICsgZmlsdGVyUGFyYW0uZmllbGQuc3lzbmFtZTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRwYXJhbXM6IFtmaWx0ZXJdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEZpZWxkT3BlcmF0b3JMaXN0KGZpZWxkLCB0YWJsZXNTdHJpbmcsIGRhdGFUeXBlR3JvdXApIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSlcclxuXHRcdFx0XHR0aHJvdyAnRmllbGQgc2hvdWxkIGJlIG9iamVjdC4nO1xyXG5cdFx0XHR2YXIgdHlwZUdyb3VwID0gZ2V0Q3VycmVudFR5cGVHcm91cChmaWVsZCwgZGF0YVR5cGVHcm91cCk7XHJcblx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5yc1F1ZXJ5KHtcclxuXHRcdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHRcdCdwJzogJ09wZXJhdG9yTGlzdCcsXHJcblx0XHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0XHQndGFibGVzJzogdGFibGVzU3RyaW5nLFxyXG5cdFx0XHRcdCdjb2xGdWxsTmFtZSc6IGZpZWxkLnN5c25hbWUsXHJcblx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24gKGZpZWxkUGFyYW0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZ2V0IG9wZXJhdG9yIGxpc3QgZm9yIGZpZWxkICcgKyBmaWVsZFBhcmFtLnN5c25hbWU7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0cGFyYW1zOiBbZmllbGRdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXhpc3RlbnRWYWx1ZXNMaXN0KHRhYmxlcywgY29uc3RyYWludEZpbHRlcnMsIGZpbHRlciwgc2ltcGxlSm9pbnMsIGZpbHRlckxvZ2ljKSB7XHJcblx0XHRcdGlmIChmaWx0ZXIuZmllbGQgPT09IG51bGwgfHwgIWFuZ3VsYXIuaXNTdHJpbmcoZmlsdGVyLmZpZWxkLnN5c25hbWUpKVxyXG5cdFx0XHRcdHRocm93ICdmaWx0ZXIgZmllbGQgc3lzbmFtZSBzaG91bGQgYmUgZGVmaW5lZC4nO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheSh0YWJsZXMpKVxyXG5cdFx0XHRcdHRocm93ICd0YWJsZXMgc2hvdWxkIGJlIGFycmF5JztcclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBiYXNlIHF1ZXJ5IHBhcmFtc1xyXG5cdFx0XHR2YXIgcXVlcnlQYXJhbXMgPSB7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdFeGlzdGVudFZhbHVlc0xpc3QnLFxyXG5cdFx0XHRcdCdjb2x1bW5OYW1lJzogZmlsdGVyLmZpZWxkLnN5c25hbWUsXHJcblx0XHRcdFx0J3Jlc3VsdFR5cGUnOiAnanNvbidcclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoZmlsdGVyLnBvc3NpYmxlVmFsdWUpKSB7XHJcblx0XHRcdFx0cXVlcnlQYXJhbXNbJ3Bvc3NpYmxlVmFsdWUnXSA9IGZpbHRlci5wb3NzaWJsZVZhbHVlLnJlcGxhY2UoJyYnLCAnJTI2Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZCBjb25zdHJhaW50IGZpbHRlcnMgcGFyYW1zXHJcblx0XHRcdHZhciBjb3VudGVyID0gMDtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goY29uc3RyYWludEZpbHRlcnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgY29uc3RyYWludEZpbHRlciA9IHRoaXM7XHJcblx0XHRcdFx0aWYgKGNvbnN0cmFpbnRGaWx0ZXIuZmllbGQgIT09IG51bGwgJiYgYW5ndWxhci5pc09iamVjdChjb25zdHJhaW50RmlsdGVyLm9wZXJhdG9yKVxyXG5cdFx0XHRcdFx0JiYgY29uc3RyYWludEZpbHRlci5vcGVyYXRvci52YWx1ZSAhPT0gJycgJiYgYW5ndWxhci5pc0FycmF5KGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzKVxyXG5cdFx0XHRcdFx0JiYgY29uc3RyYWludEZpbHRlci52YWx1ZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0dmFyIGNvbnN0cmFpbnRQYXJhbVBhcnQgPSB7fTtcclxuXHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbJ2ZjJyArIGNvdW50ZXJdID0gY29uc3RyYWludEZpbHRlci5maWVsZC5zeXNuYW1lO1xyXG5cdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFsnZm8nICsgY291bnRlcl0gPSBjb25zdHJhaW50RmlsdGVyLm9wZXJhdG9yLnZhbHVlO1xyXG5cdFx0XHRcdFx0dmFyIGNvbnN0cmFpbnRPcGVyYXRvclR5cGUgPSBnZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKGNvbnN0cmFpbnRGaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRcdFx0aWYgKGNvbnN0cmFpbnRPcGVyYXRvclR5cGUgPT09ICd0d29WYWx1ZXMnKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbJ2Z2bCcgKyBjb3VudGVyXSA9IGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzBdO1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0WydmdnInICsgY291bnRlcl0gPSBjb25zdHJhaW50RmlsdGVyLnZhbHVlc1sxXTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RyYWludE9wZXJhdG9yVHlwZSA9PT0gJ3R3b0RhdGVzJykge1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0WydmdmwnICsgY291bnRlcl0gPSBtb21lbnQoY29uc3RyYWludEZpbHRlci52YWx1ZXNbMF0pLmZvcm1hdCgkaXplbmRhU2V0dGluZ3MuZ2V0RGF0ZUZvcm1hdCgpLnNob3J0RGF0ZSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbJ2Z2cicgKyBjb3VudGVyXSA9IG1vbWVudChjb25zdHJhaW50RmlsdGVyLnZhbHVlc1sxXSkuZm9ybWF0KCRpemVuZGFTZXR0aW5ncy5nZXREYXRlRm9ybWF0KCkuc2hvcnREYXRlKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RyYWludE9wZXJhdG9yVHlwZSA9PT0gJ29uZURhdGUnKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0cmFpbnRQYXJhbVBhcnRbJ2Z2bCcgKyBjb3VudGVyXSA9IG1vbWVudChjb25zdHJhaW50RmlsdGVyLnZhbHVlc1swXSkuZm9ybWF0KCRpemVuZGFTZXR0aW5ncy5nZXREYXRlRm9ybWF0KCkuc2hvcnREYXRlKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RyYWludE9wZXJhdG9yVHlwZSA9PT0gJ2ZpZWxkJykge1xyXG5cdFx0XHRcdFx0XHR2YXIgdmFsID0gYW5ndWxhci5pc09iamVjdChjb25zdHJhaW50RmlsdGVyLnZhbHVlc1swXSlcclxuXHRcdFx0XHRcdFx0XHQ/IGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzBdLnN5c25hbWVcclxuXHRcdFx0XHRcdFx0XHQ6ICcnO1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0WydmdmwnICsgY291bnRlcl0gPSB2YWw7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0WydmdmwnICsgY291bnRlcl0gPSBjb25zdHJhaW50RmlsdGVyLnZhbHVlcy5qb2luKCcsJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YW5ndWxhci5leHRlbmQocXVlcnlQYXJhbXMsIGNvbnN0cmFpbnRQYXJhbVBhcnQpO1xyXG5cdFx0XHRcdFx0Y291bnRlcisrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoc2ltcGxlSm9pbnMpIHtcclxuXHRcdFx0XHQvLyBjcmVhdGUgdGFibGVuYW1lc1xyXG5cdFx0XHRcdHZhciB0YWJsZU5hbWVzID0gW107XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR0YWJsZU5hbWVzLnB1c2godGhpcy5zeXNuYW1lKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRxdWVyeVBhcmFtc1sndGJsMCddID0gdGFibGVOYW1lcy5qb2luKCdcXCcnKTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhmaWx0ZXJMb2dpYykgJiYgZmlsdGVyTG9naWMudHJpbSgpICE9PSAnJykge1xyXG5cdFx0XHRcdFx0cXVlcnlQYXJhbXNbJ2ZpbHRlckxvZ2ljJ10gPSBmaWx0ZXJMb2dpYztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHJ1biBxdWVyeVxyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhUnNRdWVyeS5yc1F1ZXJ5KHF1ZXJ5UGFyYW1zLCB7XHJcblx0XHRcdFx0XHQnZGF0YVR5cGUnOiAnanNvbicsXHJcblx0XHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24gKHRhYmxlc1BhcmFtLCBmaWVsZFBhcmFtKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuICdGYWlsZWQgdG8gZXhpc3RlbnQgdmFsdWVzIGxpc3QgbGlzdCBmb3IgdGFibGVzICcgKyB0YWJsZXNQYXJhbSArICcgYW5kIGZpZWxkICcgKyBmaWVsZFBhcmFtO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRwYXJhbXM6IFt0YWJsZU5hbWVzLmpvaW4oJywnKSwgZmlsdGVyLmZpZWxkLnN5c25hbWVdXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBDdXN0b20gam9pbnMgcmVxdWVzdDpcclxuXHRcdFx0XHQvKlxyXG5cdFx0XHRcdGNtZDpHZXRPcHRpb25zQnlQYXRoXHJcblx0XHRcdFx0cDpFeGlzdGVudFZhbHVlc0xpc3RcclxuXHRcdFx0XHRjb2x1bW5OYW1lOltkYm9dLltDYXRlZ29yaWVzXS5bQ2F0ZWdvcnlJRF1cclxuXHRcdFx0XHR0YmwwOltkYm9dLltDYXRlZ29yaWVzXVxyXG5cdFx0XHRcdHRhMDpcclxuXHRcdFx0XHR0YmwxOltkYm9dLltJbnZvaWNlc11cclxuXHRcdFx0XHR0YTE6XHJcblx0XHRcdFx0bGNsbTE6W2Rib10uW0ludm9pY2VzXS5bT3JkZXJJRF1cclxuXHRcdFx0XHRyY2xtMTpbZGJvXS5bQ2F0ZWdvcmllc10uW0NhdGVnb3J5SURdXHJcblx0XHRcdFx0am4xOklOTkVSXHJcblx0XHRcdFx0Ki9cclxuXHRcdFx0XHR0aHJvdyAnQ3VzdG9tIGpvaW5zIGlzblxcJ3QgaW1wbGVtZW50ZWQgeWV0JztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFBVQkxJQyBBUElcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGU6IGdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUsXHJcblx0XHRcdGdldERhdGFzb3VyY2VzOiBnZXREYXRhc291cmNlcyxcclxuXHRcdFx0Z2V0RmllbGRzSW5mbzogZ2V0RmllbGRzSW5mbyxcclxuXHRcdFx0ZmluZEluRGF0YXNvdXJjZXM6IGZpbmRJbkRhdGFzb3VyY2VzLFxyXG5cdFx0XHRsb2FkUmVwb3J0OiBsb2FkUmVwb3J0LFxyXG5cdFx0XHRnZXRSZXBvcnRTZXRQcmV2aWV3UXVldWVkOiBnZXRSZXBvcnRTZXRQcmV2aWV3UXVldWVkLFxyXG5cdFx0XHRjYW5jZWxBbGxQcmV2aWV3UXVlcmllczogY2FuY2VsQWxsUHJldmlld1F1ZXJpZXMsXHJcblx0XHRcdHNhdmVSZXBvcnRTZXQ6IHNhdmVSZXBvcnRTZXQsXHJcblx0XHRcdHNldFJlcG9ydEFzQ3JzOiBzZXRSZXBvcnRBc0NycyxcclxuXHRcdFx0ZXhwb3J0UmVwb3J0SW5OZXdXaW5kb3c6IGV4cG9ydFJlcG9ydEluTmV3V2luZG93LFxyXG5cdFx0XHRnZXRDb250cmFpbnRzSW5mbzogZ2V0Q29udHJhaW50c0luZm8sXHJcblx0XHRcdGdldEZpZWxkRnVuY3Rpb25zOiBnZXRGaWVsZEZ1bmN0aW9ucyxcclxuXHRcdFx0Z2V0RmllbGRGb3JtYXRzOiBnZXRGaWVsZEZvcm1hdHMsXHJcblx0XHRcdGdldFBlcmlvZExpc3Q6IGdldFBlcmlvZExpc3QsXHJcblx0XHRcdGdldEZpbHRlckZvcm1hdHM6IGdldEZpbHRlckZvcm1hdHMsXHJcblx0XHRcdGdldFZnU3R5bGVzOiBnZXRWZ1N0eWxlcyxcclxuXHRcdFx0Z2V0RXhwcmVzc2lvblR5cGVzOiBnZXRFeHByZXNzaW9uVHlwZXMsXHJcblx0XHRcdGdldERyaWxsRG93blN0eWxlczogZ2V0RHJpbGxEb3duU3R5bGVzLFxyXG5cdFx0XHRnZXRFeGlzdGVudFBvcHVwVmFsdWVzTGlzdDogZ2V0RXhpc3RlbnRQb3B1cFZhbHVlc0xpc3QsXHJcblx0XHRcdGdldFN1YnJlcG9ydHM6IGdldFN1YnJlcG9ydHMsXHJcblx0XHRcdGdldEZpZWxkT3BlcmF0b3JMaXN0OiBnZXRGaWVsZE9wZXJhdG9yTGlzdCxcclxuXHRcdFx0Z2V0RXhpc3RlbnRWYWx1ZXNMaXN0OiBnZXRFeGlzdGVudFZhbHVlc0xpc3QsXHJcblx0XHRcdGdldFZpc3VhbGl6YXRpb25Db25maWc6IGdldFZpc3VhbGl6YXRpb25Db25maWdcclxuXHRcdH07XHJcblx0fV0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgc2V0dGluZ3Mgc2VydmljZS5cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZmFjdG9yeSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncycsIFtcclxuXHQnJGl6ZW5kYVJzUXVlcnknLFxyXG5cdGZ1bmN0aW9uICgkaXplbmRhUnNRdWVyeSkge1xyXG5cclxuXHRcdHZhciBzZXR0aW5nc09iamVjdCA9IG51bGw7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgaW5zdGFudCByZXBvcnQgc2V0dGluZ3MgZnJvbSBzZXJ2ZXIuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGdldEluc3RhbnRSZXBvcnRTZXR0aW5ncygpIHtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFSc1F1ZXJ5LnF1ZXJ5KCdnZXRJbnN0YW50UmVwb3J0U2V0dGluZ3MnLCBbXSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ0ZhaWxlZCB0byBnZXQgaW5zdGFudCByZXBvcnQgc2V0dGluZ3MnO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2FkIHNldHRpbmdzIGFuZCBzZXQgc2V0dGluZ3NPYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuXHRcdFx0Z2V0SW5zdGFudFJlcG9ydFNldHRpbmdzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0T2JqZWN0KSB7XHJcblx0XHRcdFx0c2V0dGluZ3NPYmplY3QgPSByZXN1bHRPYmplY3Q7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0dGluZ3MgZ2V0dGVyXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHNldHRpbmdzT2JqZWN0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplIHNlcnZpY2VcclxuXHRcdGluaXRpYWxpemUoKTtcclxuXHJcblx0XHQvLyBwdWJsaWMgYXBpXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRJbnN0YW50UmVwb3J0U2V0dGluZ3M6IGdldEluc3RhbnRSZXBvcnRTZXR0aW5ncyxcclxuXHRcdFx0Z2V0U2V0dGluZ3M6IGdldFNldHRpbmdzXHJcblx0XHR9O1xyXG5cdH1dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIFJlcG9ydCBzZXQgb2JqZWN0IHRlbXBsYXRlXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnN0YW50KCdpemVuZGFJbnN0YW50UmVwb3J0T2JqZWN0RGVmYXVsdHMnLCB7XHJcblx0cmVwb3J0TmFtZTogbnVsbCxcclxuXHRyZXBvcnRDYXRlZ29yeTogbnVsbCxcclxuXHRkYXRhU291cmNlczogW10sXHJcblx0Y2hhcnRzOiBbXSxcclxuXHRmaWx0ZXJzOiBbXSxcclxuXHRmaWx0ZXJPcHRpb25zOiB7XHJcblx0XHRyZXF1aXJlOiAnTm9uZScsXHJcblx0XHRmaWx0ZXJMb2dpYzogJydcclxuXHR9LFxyXG5cdGRyaWxsRG93bkZpZWxkczogW10sXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cm93c1JhbmdlOiBudWxsLFxyXG5cdFx0ZGlzdGluY3Q6IHRydWUsXHJcblx0XHRzaG93RmlsdGVyc0luUmVwb3J0RGVzY3JpcHRpb246IGZhbHNlLFxyXG5cdFx0aXNTdWJ0b3RhbHNFbmFibGVkOiBmYWxzZSxcclxuXHRcdGV4cG9zZUFzRGF0YXNvdXJjZTogZmFsc2UsXHJcblx0XHRoaWRlR3JpZDogZmFsc2UsXHJcblx0XHR0b3A6ICcnLFxyXG5cdFx0cHJldmlld1RvcDogMTAwLFxyXG5cdFx0aW1hZ2VBbGlnbjogJ0wnLFxyXG5cdFx0dGl0bGU6ICcnLFxyXG5cdFx0dGl0bGVBbGlnbjogJ0wnLFxyXG5cdFx0ZGVzY3JpcHRpb246ICcnLFxyXG5cdFx0ZGVzY3JpcHRpb25BbGlnbjogJ0wnLFxyXG5cdFx0aGVhZGVyQW5kRm9vdGVyOiB7XHJcblx0XHRcdHJlcG9ydEhlYWRlcjogJycsXHJcblx0XHRcdHJlcG9ydEhlYWRlckFsaWduOiAnTCcsXHJcblx0XHRcdHJlcG9ydEZvb3RlcjogJycsXHJcblx0XHRcdHJlcG9ydEZvb3RlckFsaWduOiAnTCcsXHJcblx0XHRcdHBhZ2VIZWFkZXI6ICcnXHJcblx0XHR9LFxyXG5cdFx0c3R5bGU6IHtcclxuXHRcdFx0Ym9yZGVyQ29sb3I6ICcjZmZmZmZmJyxcclxuXHRcdFx0aGVhZGVyQ29sb3I6ICcjNDgzZDhiJyxcclxuXHRcdFx0aGVhZGVyRm9yZWNvbG9yOiAnI2ZmZmZmZicsXHJcblx0XHRcdGl0ZW1Db2xvcjogJyNmZmZmZmYnLFxyXG5cdFx0XHRpdGVtRm9yZUNvbG9yOiAnIzAwMDAwMCcsXHJcblx0XHRcdGl0ZW1BbHRDb2xvcjogJyNkY2RjZGMnLFxyXG5cdFx0XHRpc0hlYWRlcnNCb2xkOiBmYWxzZSxcclxuXHRcdFx0aXNIZWFkZXJzSXRhbGljOiBmYWxzZSxcclxuXHRcdFx0Y3VzdG9tQ3NzOiAnJ1xyXG5cdFx0fSxcclxuXHRcdHBhZ2U6IHtcclxuXHRcdFx0bGFuZHNjYXBlUHJpbnRpbmc6IGZhbHNlLFxyXG5cdFx0XHRzaG93UGFnZU51bWJlcjogZmFsc2UsXHJcblx0XHRcdHNob3dEYXRlQW5kVGltZTogZmFsc2UsXHJcblx0XHRcdHVzZVBhZ2luYXRpb246IHRydWUsXHJcblx0XHRcdGl0ZW1zUGVyUGFnZTogMTAwMDAsXHJcblx0XHRcdGFkZEJvb2ttYXJrRm9yVmc6IGZhbHNlLFxyXG5cdFx0XHRwYWdlQnJlYWtBZnRlclZnOiBmYWxzZSxcclxuXHRcdFx0bWluaW1pemVHcmlkV2lkdGg6IHRydWUsXHJcblx0XHRcdGVuYWJsZVJlc3BvbnNpdmVHcmlkOiB0cnVlLFxyXG5cdFx0XHR2Z1N0eWxlOiAnQ29tbWFEZWxpbWl0ZWQnLFxyXG5cdFx0XHRwaXZvdHNQZXJQYWdlOiAnJyxcclxuXHRcdFx0c3BsaXRBbGxDb2x1bW5zOiBmYWxzZSxcclxuXHRcdFx0cGFnZUJyZWFrT25TcGxpdDogZmFsc2VcclxuXHRcdH1cclxuXHR9LFxyXG5cdGlzRmllbGRzQXV0b0dyb3VwZWQ6IGZhbHNlXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEZpbHRlciBvYmplY3QgdGVtcGxhdGVcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29uc3RhbnQoJ2l6ZW5kYUZpbHRlck9iamVjdERlZmF1bHRzJywge1xyXG5cdGluaXRpYWxpemVkOiBmYWxzZSxcclxuXHRmaWVsZDogbnVsbCxcclxuXHRyZXF1aXJlZDogZmFsc2UsXHJcblx0ZGVzY3JpcHRpb246ICcnLFxyXG5cdHBhcmFtZXRlcjogdHJ1ZSxcclxuXHRvcGVyYXRvclN0cmluZzogJycsXHJcblx0b3BlcmF0b3I6IG51bGwsXHJcblx0b3BlcmF0b3JzOiBbXSxcclxuXHRleGlzdGVudFZhbHVlczogW10sXHJcblx0dmFsdWVzOiBbXSxcclxuXHR0aXRsZUZvcm1hdDogbnVsbCxcclxuXHR0aXRsZUZvcm1hdHM6IFtdLFxyXG5cdGlzVmFsaWQ6IHRydWUsXHJcblx0dmFsaWRhdGlvbk1lc3NhZ2VzOiBbXSxcclxuXHR2YWxpZGF0aW9uTWVzc2FnZVN0cmluZzogJycsXHJcblx0Y3VzdG9tUG9wdXBUZW1wbGF0ZVVybDogbnVsbCxcclxuXHRpc0ZpbHRlclJlYWR5OiBmYWxzZVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBEZWZhdWx0IChlbXB0eSkgZnVuY3Rpb24gKGZvciBncm91cCBieSBcImZ1bmN0aW9uXCIgZmllbGQgcHJvcGVydHkpXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnN0YW50KCdpemVuZGFEZWZhdWx0RnVuY3Rpb25PYmplY3QnLCB7XHJcblx0ZGF0YVR5cGU6ICdVbmtub3duJyxcclxuXHRkYXRhVHlwZUdyb3VwOiAnTm9uZScsXHJcblx0aXNTY2FsYXI6ICcwJyxcclxuXHRzcWxUZW1wbGF0ZTogJ3swfScsXHJcblx0dGV4dDogJy4uLicsXHJcblx0dmFsdWU6ICdOb25lJyxcclxuXHRncm91cDogJydcclxufSk7XHJcblxyXG4vKipcclxuICogRGVmYXVsdCAoZW1wdHkpIHN1YnRvdGFsIGZ1bmN0aW9uLlxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb25zdGFudCgnaXplbmRhRGVmYXVsdFN1YnRvdGFsRnVuY3Rpb25PYmplY3QnLCB7XHJcblx0ZGF0YVR5cGU6ICdVbmtub3duJyxcclxuXHRkYXRhVHlwZUdyb3VwOiAnTm9uZScsXHJcblx0aXNTY2FsYXI6ICcwJyxcclxuXHRzcWxUZW1wbGF0ZTogJ3swfScsXHJcblx0dGV4dDogJyhEZWZhdWx0KScsXHJcblx0dmFsdWU6ICdERUZBVUxUJyxcclxuXHRncm91cDogJydcclxufSk7XHJcblxyXG4vKipcclxuICogRGVmYXVsdCAoZW1wdHkpIGZ1bmN0aW9uIChmb3IgZ3JvdXAgYnkgXCJmdW5jdGlvblwiIGZpZWxkIHByb3BlcnR5KVxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb25zdGFudCgnaXplbmRhRGVmYXVsdEZvcm1hdE9iamVjdCcsIHtcclxuXHR0ZXh0OiAnLi4uJyxcclxuXHR2YWx1ZTogJ3swfScsXHJcblx0Z3JvdXA6ICcnXHJcbn0pO1xyXG5cclxuLyoqXHJcbiogU3RvcmFnZSBmb3IgcmVwb3J0IG9iamVjdCBmb3IgaW5zdGFudCByZXBvcnQgcGFnZS5cclxuKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5mYWN0b3J5KCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UnLCBbXHJcblx0JyRpbmplY3RvcicsXHJcblx0JyR3aW5kb3cnLFxyXG5cdCckcScsXHJcblx0JyRsb2cnLFxyXG5cdCckc2NlJyxcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRpemVuZGFVdGlsVWlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYVV0aWwnLFxyXG5cdCckaXplbmRhVXJsJyxcclxuXHQnJGl6ZW5kYUxvY2FsZScsXHJcblx0JyRpemVuZGFTZXR0aW5ncycsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5JyxcclxuXHQnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsXHJcblx0JyRpemVuZGFTaGFyZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uJyxcclxuXHRmdW5jdGlvbiAoJGluamVjdG9yLCAkd2luZG93LCAkcSwgJGxvZywgJHNjZSwgJHJvb3RTY29wZSwgJGl6ZW5kYVV0aWxVaVNlcnZpY2UsICRpemVuZGFVdGlsLCAkaXplbmRhVXJsLCAkaXplbmRhTG9jYWxlLCAkaXplbmRhU2V0dGluZ3MsICRpemVuZGFDb21wYXRpYmlsaXR5LFxyXG5cdFx0JGl6ZW5kYVNjaGVkdWxlU2VydmljZSwgJGl6ZW5kYVNoYXJlU2VydmljZSwgJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncywgJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLCAkaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb24pIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0XHQvLyBjb25zdDpcclxuXHRcdHZhciBFTVBUWV9GSUVMRF9HUk9VUF9PUFRJT04gPSAkaW5qZWN0b3IuZ2V0KCdpemVuZGFEZWZhdWx0RnVuY3Rpb25PYmplY3QnKTtcclxuXHRcdHZhciBFTVBUWV9TVUJUT1RBTF9GSUVMRF9HUk9VUF9PUFRJT05TID0gJGluamVjdG9yLmdldCgnaXplbmRhRGVmYXVsdFN1YnRvdGFsRnVuY3Rpb25PYmplY3QnKTtcclxuXHRcdHZhciBFTVBUWV9FWFBSRVNTSU9OX1RZUEUgPSB7XHJcblx0XHRcdHZhbHVlOiAnLi4uJyxcclxuXHRcdFx0dGV4dDogJy4uLidcclxuXHRcdH07XHJcblx0XHR2YXIgRU1QVFlfRklFTERfRk9STUFUX09QVElPTiA9ICRpbmplY3Rvci5nZXQoJ2l6ZW5kYURlZmF1bHRGb3JtYXRPYmplY3QnKTtcclxuXHJcblx0XHR2YXIgaXNQYWdlSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdHZhciBpc1BhZ2VSZWFkeTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0dmFyIGV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gbnVsbDtcclxuXHRcdHZhciBuZXdSZXBvcnRMb2FkaW5nU2NoZWR1bGUgPSBudWxsO1xyXG5cclxuXHRcdHZhciBpc1ByZXZpZXdTcGxhc2hWaXNpYmxlOiBib29sZWFuID0gZmFsc2U7XHJcblx0XHR2YXIgcHJldmlld1NwbGFzaFRleHQgPSAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1dhaXRQcmV2aWV3TG9hZGluZycsICdQbGVhc2Ugd2FpdCB3aGlsZSBwcmV2aWV3IGlzIGxvYWRpbmcuLi4nKTtcclxuXHJcblx0XHR2YXIgcmVwb3J0U2V0ID0gYW5ndWxhci5tZXJnZSh7fSwgJGluamVjdG9yLmdldCgnaXplbmRhSW5zdGFudFJlcG9ydE9iamVjdERlZmF1bHRzJykpO1xyXG5cclxuXHRcdHJlcG9ydFNldC5vcHRpb25zLmRpc3RpbmN0ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncy5kaXN0aW5jdDsgLy8gc2V0IGRlZmF1bHQgZGlzdGluY3Qgc2V0dGluZyB2YWx1ZVxyXG5cdFx0cmVzdG9yZURlZmF1bHRDb2xvcnMoKTsgLy8gc2V0IGRlZmF1bHQgcmVwb3J0IGNvbG9yc1xyXG5cclxuXHRcdHZhciBhY3RpdmVUYWJsZXMgPSBbXTtcclxuXHRcdHZhciBhY3RpdmVGaWVsZHMgPSBbXTtcclxuXHRcdHZhciBjYWxjRmllbGRzID0gW107XHJcblx0XHR2YXIgYWN0aXZlQ2hlY2tlZEZpZWxkcyA9IFtdO1xyXG5cdFx0dmFyIGNvbnN0YWludHMgPSBbXTtcclxuXHRcdHZhciB2Z1N0eWxlcyA9IG51bGw7XHJcblx0XHR2YXIgZHJpbGxEb3duU3R5bGVzID0gbnVsbDtcclxuXHRcdHZhciBleHByZXNzaW9uVHlwZXMgPSBudWxsO1xyXG5cdFx0dmFyIHN1YnJlcG9ydHMgPSBudWxsO1xyXG5cdFx0dmFyIGN1cnJlbnRBY3RpdmVGaWVsZCA9IG51bGw7XHJcblxyXG5cdFx0dmFyIHVpUGFuZWxzU3RhdGUgPSB7XHJcblx0XHRcdGZpbHRlcnNQYW5lbE9wZW5lZDogZmFsc2VcclxuXHRcdH07XHJcblx0XHR2YXIgbmV4dElkID0gMTtcclxuXHRcdHZhciBvcmRlckNvdW50ZXIgPSAxO1xyXG5cdFx0dmFyIHByZXZpZXdIdG1sID0gJyc7XHJcblxyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdC8vIGNvbW1vbiBmdW5jdGlvbnNcclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgdHlwZSBncm91cCBvZiBmaWVsZCBvcGVyYXRvclxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZSA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeS5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKG9wZXJhdG9yKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIF9nZXRSZXBvcnRTZXRGdWxsTmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIGNhdGVnb3J5ID0gcmVwb3J0U2V0LnJlcG9ydENhdGVnb3J5O1xyXG5cdFx0XHR2YXIgbmFtZSA9IHJlcG9ydFNldC5yZXBvcnROYW1lO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcobmFtZSkgfHwgbmFtZS50cmltKCkgPT09ICcnKVxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gJyc7XHJcblx0XHRcdGlmICghJGl6ZW5kYVV0aWwuaXNVbmNhdGVnb3JpemVkKGNhdGVnb3J5KSkge1xyXG5cdFx0XHRcdHJlc3VsdCArPSBjYXRlZ29yeSArICRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJlc3VsdCArPSBuYW1lO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgX2dldE5leHRJZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIG5leHRJZCsrO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgX2d1aWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGZ1bmN0aW9uIHM0KCkge1xyXG5cdFx0XHRcdHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG5cdFx0XHRcdFx0LnRvU3RyaW5nKDE2KVxyXG5cdFx0XHRcdFx0LnN1YnN0cmluZygxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArXHJcblx0XHRcdFx0czQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIF9nZXROZXh0T3JkZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBvcmRlckNvdW50ZXIrKztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBCZWNvbWVzIHRydWUgd2hlbiBwYWdlIGlzIHJlYWR5IHRvIHdvcmtcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFBhZ2VSZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGlzUGFnZVJlYWR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHdob2xlIHJlcG9ydCBzZXRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFJlcG9ydFNldCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHJlcG9ydFNldDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgZGF0YXNvdXJjZXNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldERhdGFTb3VyY2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gcmVwb3J0U2V0LmRhdGFTb3VyY2VzO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldCBkYXRhc291cmNlc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0RGF0YVNvdXJjZXMgPSBmdW5jdGlvbiAoZGF0YVNvdXJjZXMpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoZGF0YVNvdXJjZXMpKVxyXG5cdFx0XHRcdHRocm93ICdcImRhdGFTb3VyY2VzXCIgcGFyYW1ldGVyIHNob3VsZCBiZSBhcnJheS4nO1xyXG5cdFx0XHRyZXBvcnRTZXQuZGF0YVNvdXJjZXMgPSBkYXRhU291cmNlcztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgZmlsdGVycyByZWZlcmVuY2VcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiByZXBvcnRTZXQuZmlsdGVycztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgcmVwb3J0IHNldCBvcHRpb25zXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gcmVwb3J0U2V0Lm9wdGlvbnM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGRyaWxsZG93biBmaWVsZHNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldERyaWxsRG93bkZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHJlcG9ydFNldC5kcmlsbERvd25GaWVsZHM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGZpbHRlciBvcHRpb25zXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRGaWx0ZXJPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gcmVwb3J0U2V0LmZpbHRlck9wdGlvbnM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHByZXZpZXcgaHRtbFxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0UHJldmlldyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHByZXZpZXdIdG1sO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBhcnNlIGFuZCBzZXQgY29udHJhaW50c1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoY29uc3RyYWludHNEYXRhKSB7XHJcblx0XHRcdGNvbnN0YWludHMgPSBjb25zdHJhaW50c0RhdGEuRGF0YTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGNhdGVnb3J5IGJ5IGdpdmVuIGlkXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRDYXRlZ29yeUJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdFx0dmFyIGkgPSAwLFxyXG5cdFx0XHRcdGRhdGFzb3VyY2VzID0gZ2V0RGF0YVNvdXJjZXMoKTtcclxuXHRcdFx0d2hpbGUgKGkgPCBkYXRhc291cmNlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHR2YXIgZGF0YXNvdXJjZSA9IGRhdGFzb3VyY2VzW2ldO1xyXG5cdFx0XHRcdGlmIChkYXRhc291cmNlLmlkID09PSBpZClcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhc291cmNlO1xyXG5cdFx0XHRcdGkrKztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGZpcnN0IHRhYmxlIGJ5IHByb3BlcnR5IHZhbHVlLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgX2dldFRhYmxlQnlQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUsIHZhbHVlLCBjYXNlSW5kZXBlbmRlbnQ/KSB7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHByb3BlcnR5TmFtZSkpXHJcblx0XHRcdFx0dGhyb3cgJ3Byb3BlcnR5TmFtZSBwYXJhbWV0ZXIgc2hvdWxkIGJlIHNldC4nO1xyXG5cdFx0XHR2YXIgZGF0YXNvdXJjZXMgPSBnZXREYXRhU291cmNlcygpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGNhdGVnb3J5ID0gZGF0YXNvdXJjZXNbaV07XHJcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjYXRlZ29yeS50YWJsZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZSA9IGNhdGVnb3J5LnRhYmxlc1tqXTtcclxuXHRcdFx0XHRcdGlmICghdGFibGUuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSlcclxuXHRcdFx0XHRcdFx0dGhyb3cgJ1RhYmxlIGRvblxcJ3QgaGF2ZSBwcm9wZXJ0eSAnICsgcHJvcGVydHlOYW1lO1xyXG5cdFx0XHRcdFx0dmFyIHByb3BlcnR5VmFsdWUgPSB0YWJsZVtwcm9wZXJ0eU5hbWVdO1xyXG5cdFx0XHRcdFx0dmFyIGNvbXBhcmVWYWx1ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0aWYgKHByb3BlcnR5VmFsdWUgJiYgY2FzZUluZGVwZW5kZW50KVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVZhbHVlID0gKHByb3BlcnR5VmFsdWUgKyAnJykudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0XHRcdGlmIChjb21wYXJlVmFsdWUgJiYgY2FzZUluZGVwZW5kZW50KVxyXG5cdFx0XHRcdFx0XHRjb21wYXJlVmFsdWUgPSAoY29tcGFyZVZhbHVlICsgJycpLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlWYWx1ZSA9PT0gY29tcGFyZVZhbHVlKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGFibGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmluZCB0YWJsZSBieSBnaXZlbiBpZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0VGFibGVCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRcdHJldHVybiBfZ2V0VGFibGVCeVByb3BlcnR5KCdpZCcsIGlkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIHRhYmxlIGJ5IGdpdmVuIHN5c25hbWVcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBzeXNuYW1lLlxyXG5cdFx0ICogQHJldHVybnMge29iamVjdH0gdGFibGUgb2JqZWN0LiBcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFRhYmxlQnlTeXNuYW1lID0gZnVuY3Rpb24gKHN5c25hbWUpIHtcclxuXHRcdFx0cmV0dXJuIF9nZXRUYWJsZUJ5UHJvcGVydHkoJ3N5c25hbWUnLCBzeXNuYW1lKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIHRhYmxlIGJ5IG5hbWUuIChDYXNlIGluZGVwZW5kZW50KVxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUuXHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fSB0YWJsZSBvYmplY3QuXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRUYWJsZUJ5TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHRcdHJldHVybiBfZ2V0VGFibGVCeVByb3BlcnR5KCduYW1lJywgbmFtZSwgdHJ1ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGZpZWxkIGJ5IGdpdmVuIGlkXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRGaWVsZEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdFx0dmFyIGkgPSAwLFxyXG5cdFx0XHRcdGRhdGFzb3VyY2VzID0gZ2V0RGF0YVNvdXJjZXMoKTtcclxuXHRcdFx0d2hpbGUgKGkgPCBkYXRhc291cmNlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHR2YXIgaiA9IDAsXHJcblx0XHRcdFx0XHR0YWJsZXMgPSBkYXRhc291cmNlc1tpXS50YWJsZXM7XHJcblx0XHRcdFx0d2hpbGUgKGogPCB0YWJsZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHR2YXIgayA9IDAsXHJcblx0XHRcdFx0XHRcdGZpZWxkcyA9IHRhYmxlc1tqXS5maWVsZHM7XHJcblx0XHRcdFx0XHR3aGlsZSAoayA8IGZpZWxkcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gZmllbGRzW2tdO1xyXG5cdFx0XHRcdFx0XHRpZiAoZmllbGQuaWQgPT09IGlkKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZpZWxkO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChmaWVsZC5pc011bHRpcGxlQ29sdW1ucykge1xyXG5cdFx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGZpZWxkLm11bHRpcGxlQ29sdW1ucywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG11bHRpcGxlRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKG11bHRpcGxlRmllbGQuaWQgPT09IGlkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBtdWx0aXBsZUZpZWxkO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGsrKztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGorKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aSsrO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBhbGwgdGFibGVzIGluIGFsbCBkYXRhc291cmNlc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgX2dldEFsbFRhYmxlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChnZXREYXRhU291cmNlcygpLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGNhdGVnb3J5ID0gdGhpcztcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKHRoaXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEdldCBjaGVja2VkIHRhYmxlc1xyXG5cdFx0Ki9cclxuXHRcdHZhciBnZXRBY3RpdmVUYWJsZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBhY3RpdmVUYWJsZXM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmluZCBmaWVsZCBieSBndWlkXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRDYWxjRmllbGQgPSBmdW5jdGlvbiAoY2FsY0ZpZWxkSWQpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IG51bGw7XHJcblx0XHRcdGNhbGNGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoY2FsY0ZpZWxkKSB7XHJcblx0XHRcdFx0aWYgKGNhbGNGaWVsZC5zeXNuYW1lID09PSBjYWxjRmllbGRJZClcclxuXHRcdFx0XHRcdHJlc3VsdCA9IGNhbGNGaWVsZDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBfZ2V0RmllbGQgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlLCBmaW5kSW5BbGxUYWJsZXM/KSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eVZhbHVlICYmIHByb3BlcnR5VmFsdWUuaW5kZXhPZignZmxkSWR8JykgPT09IDApIHtcclxuXHRcdFx0XHR2YXIgY2FsY0ZpZWxkID0gZ2V0Q2FsY0ZpZWxkKHByb3BlcnR5VmFsdWUpO1xyXG5cdFx0XHRcdHJldHVybiBjYWxjRmllbGQ7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJlc3VsdCA9IG51bGw7XHJcblx0XHRcdHZhciB0YWJsZXNDb2xsZWN0aW9uID0gKHR5cGVvZiAoZmluZEluQWxsVGFibGVzKSA9PT0gJ2Jvb2xlYW4nICYmIGZpbmRJbkFsbFRhYmxlcylcclxuXHRcdFx0XHQ/IF9nZXRBbGxUYWJsZXMoKVxyXG5cdFx0XHRcdDogZ2V0QWN0aXZlVGFibGVzKCk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRhYmxlc0NvbGxlY3Rpb24sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5sYXp5KVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRoaXMuZmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpc1twcm9wZXJ0eU5hbWVdID09PSBwcm9wZXJ0eVZhbHVlKVxyXG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB0aGlzO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGZpZWxkIGJ5IHN5c25hbWVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEZpZWxkQnlTeXNOYW1lID0gZnVuY3Rpb24gKHN5c25hbWUsIGZpbmRJbkFsbFRhYmxlcz8pIHtcclxuXHRcdFx0cmV0dXJuIF9nZXRGaWVsZCgnc3lzbmFtZScsIHN5c25hbWUsIGZpbmRJbkFsbFRhYmxlcyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hlY2sgaWYgZnVuY3Rpb25zIGFsbG93ZWQgdG8gZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGlzQmluYXJ5RmllbGQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSlcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KGZpZWxkLmV4cHJlc3Npb25UeXBlKSAmJiBmaWVsZC5leHByZXNzaW9uVHlwZS52YWx1ZSAmJiBmaWVsZC5leHByZXNzaW9uVHlwZS52YWx1ZSAhPT0gJy4uLicpXHJcblx0XHRcdFx0cmV0dXJuIFsnQmluYXJ5JywgJ090aGVyJywgJ05vbmUnXS5pbmRleE9mKGZpZWxkLmV4cHJlc3Npb25UeXBlKSA+PSAwO1xyXG5cdFx0XHRyZXR1cm4gZmllbGQuc3FsVHlwZSA9PT0gJ1RleHQnIHx8IGZpZWxkLnNxbFR5cGUgPT09ICdJbWFnZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY2hlY2tlZCBhbmQgbm90IGNoZWNrZWQgZmllbGRzIGluIGFjdGl2ZSB0YWJsZXM7XHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyA9IGZ1bmN0aW9uIChhcHBlbmRDYWxjRmllbGRzPykge1xyXG5cdFx0XHRhY3RpdmVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHRmaWVsZC5hZGRpdGlvbmFsR3JvdXAgPSBmaWVsZC50YWJsZU5hbWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAoIWFwcGVuZENhbGNGaWVsZHMpXHJcblx0XHRcdFx0cmV0dXJuIGFjdGl2ZUZpZWxkcztcclxuXHRcdFx0Y2FsY0ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRcdGZpZWxkLmFkZGl0aW9uYWxHcm91cCA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfY2FsY0ZpZWxkcycsICdDYWxjdWxhdGVkIEZpZWxkcycpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGFjdGl2ZUZpZWxkcy5jb25jYXQoY2FsY0ZpZWxkcyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGFjdGl2ZSBmaWVsZHNcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZSB0YWJsZSBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEFjdGl2ZUZpZWxkcyA9IGZ1bmN0aW9uICh0YWJsZSkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRhYmxlLmZpZWxkcyxcclxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgZmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKCFmaWVsZC5pc011bHRpcGxlQ29sdW1ucykge1xyXG5cdFx0XHRcdFx0XHRpZiAoZmllbGQuY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKGZpZWxkKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZmllbGQubXVsdGlwbGVDb2x1bW5zLFxyXG5cdFx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBtdWx0aXBsZUZpZWxkID0gdGhpcztcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChtdWx0aXBsZUZpZWxkLmNoZWNrZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gobXVsdGlwbGVGaWVsZCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEJhc2UgZmllbGRzIGl0ZXJhdG9yIGZ1bmN0aW9uXHJcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmaWVsZEhhbmRsZXIgaXRlcmF0b3IgXCJlYWNoXCIgaGFuZGxlclxyXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZ2V0RmllbGRzRnVuY3Rpb24gZmllbGQgZmlsdGVyIGZ1bmN0aW9uIChmdW5jdGlvbih0YWJsZSkgey4uLiByZXR1cm4gZmllbGRzQXJyYXk7IH0pXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBjb250ZXh0IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgZWFjaEZpZWxkc0Jhc2UgPSBmdW5jdGlvbiAoZmllbGRIYW5kbGVyLCBnZXRGaWVsZHNGdW5jdGlvbiwgY29udGV4dCkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihmaWVsZEhhbmRsZXIpKVxyXG5cdFx0XHRcdHRocm93ICdmaWVsZEhhbmRsZXIgc2hvdWxkIGJlIGEgZnVuY3Rpb24uJztcclxuXHRcdFx0dmFyIGN1cnJlbnRBY3RpdmVUYWJsZXMgPSBnZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goY3VycmVudEFjdGl2ZVRhYmxlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciB0YWJsZSA9IHRoaXM7XHJcblx0XHRcdFx0dmFyIGFGaWVsZHMgPSBnZXRGaWVsZHNGdW5jdGlvbih0YWJsZSk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goYUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpZWxkID0gdGhpcztcclxuXHRcdFx0XHRcdGZpZWxkSGFuZGxlci5jYWxsKGFuZ3VsYXIuaXNEZWZpbmVkKGNvbnRleHQpID8gY29udGV4dCA6IHRoaXMsIGZpZWxkLCB0YWJsZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFdvcmtzIGxpa2UgZWFjaC4gSXRlcmF0ZSB0aHJvdWdoIGNoZWNrZWQgZmllbGRzXHJcblx0XHQgKi9cclxuXHRcdHZhciBlYWNoQWN0aXZlRmllbGRzID0gZnVuY3Rpb24gKGZpZWxkSGFuZGxlciwgY29udGV4dD8pIHtcclxuXHRcdFx0ZWFjaEZpZWxkc0Jhc2UoZmllbGRIYW5kbGVyLCBnZXRBY3RpdmVGaWVsZHMsIGNvbnRleHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGFsbCBjaGVja2VkIGZpZWxkcy5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEFsbEFjdGl2ZUZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRlYWNoQWN0aXZlRmllbGRzKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGZpZWxkKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGFsbCBjaGVja2VkIGFuZCB2aXNpYmxlIGZpZWxkcy5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEFsbFZpc2libGVGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBhbmd1bGFyLmVsZW1lbnQuZ3JlcChnZXRBbGxBY3RpdmVGaWVsZHMoKSwgZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZpZWxkLnZpc2libGU7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gZ3JvdXAgZnVuY3Rpb25zXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpZiBmdW5jdGlvbnMgYWxsb3dlZCB0byBmaWVsZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgaXNBY3RpdmVGaWVsZHNDb250YWluc0JpbmFyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGFuZ3VsYXIuZWxlbWVudC5ncmVwKGdldEFsbEFjdGl2ZUZpZWxkcygpLCBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHRyZXR1cm4gaXNCaW5hcnlGaWVsZChmaWVsZCk7XHJcblx0XHRcdH0pLmxlbmd0aCA+IDA7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0XHQvLyBncm91cCBmdW5jdGlvbnNcclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpZiBmaWVsZCBncm91cGVkXHJcblx0XHQgKi9cclxuXHRcdHZhciBpc0ZpZWxkR3JvdXBlZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHR2YXIgY29tcGFyZVdpdGhWYWx1ZSA9IEVNUFRZX0ZJRUxEX0dST1VQX09QVElPTi52YWx1ZTtcclxuXHRcdFx0aWYgKCFmaWVsZC5ncm91cEJ5RnVuY3Rpb24gfHwgIWZpZWxkLmdyb3VwQnlGdW5jdGlvbi52YWx1ZSlcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdHJldHVybiBmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUudG9Mb3dlckNhc2UoKSAhPT0gY29tcGFyZVdpdGhWYWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hlY2sgaWYgZmllbGQgZ3JvdXBlZCBhbmQgbm90ICdncm91cCcgZnVuY3Rpb24gaXMgYXBwbGllZC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGlzRmllbGRHcm91cGVkV2l0aEZ1bmN0aW9uID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHJldHVybiBpc0ZpZWxkR3JvdXBlZChmaWVsZCkgJiYgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkgIT09ICdncm91cCc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgZmllbGQgZm9ybWF0cyAoaXQgZGVwZW5kcyBvbiBzZWxlY3RlZCBncm91cCBmdW5jdGlvbilcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZUZpZWxkRm9ybWF0cyA9IGZ1bmN0aW9uIChmaWVsZCwgZGVmYXVsdEZvcm1hdFN0cmluZz8pIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gZ290RmllbGRGb3JtYXRzKHJldHVybk9iaiwgZGVmYXVsdFR5cGVHcm91cCkge1xyXG5cdFx0XHRcdFx0ZmllbGQuZm9ybWF0T3B0aW9uR3JvdXBzID0gJGl6ZW5kYVV0aWwuY29udmVydE9wdGlvbnNCeVBhdGgocmV0dXJuT2JqKTtcclxuXHRcdFx0XHRcdHZhciBmb3JtYXRUb0FwcGx5O1xyXG5cdFx0XHRcdFx0dmFyIGRlZmF1bHRUeXBlR3JvdXBGb3JtYXRTdHJpbmcgPSBnZXREZWZhdWx0RmllbGRGb3JtYXQoZGVmYXVsdFR5cGVHcm91cCk7XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0Rm9ybWF0U3RyaW5nKSAmJiBkZWZhdWx0Rm9ybWF0U3RyaW5nKSB7XHJcblx0XHRcdFx0XHRcdGZvcm1hdFRvQXBwbHkgPSAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmZvcm1hdE9wdGlvbkdyb3VwcywgZGVmYXVsdEZvcm1hdFN0cmluZyk7XHJcblx0XHRcdFx0XHRcdGlmICghZm9ybWF0VG9BcHBseSkge1xyXG5cdFx0XHRcdFx0XHRcdGZvcm1hdFRvQXBwbHkgPSAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmZvcm1hdE9wdGlvbkdyb3VwcywgZGVmYXVsdFR5cGVHcm91cEZvcm1hdFN0cmluZyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGZvcm1hdFRvQXBwbHkgPSAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmZvcm1hdE9wdGlvbkdyb3VwcywgZGVmYXVsdFR5cGVHcm91cEZvcm1hdFN0cmluZyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmaWVsZC5mb3JtYXQgPSBmb3JtYXRUb0FwcGx5O1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWVsZCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBpc0ZpZWxkR3JvdXBlZCBndWFyYW50ZWVzIHRoYXQgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlIHdpbGwgYmUgbm9uLWVtcHR5IGFuZCBkb24ndCBoYXZlIFwiTm9uZVwiIHZhbHVlLlxyXG5cdFx0XHRcdGlmIChpc0ZpZWxkR3JvdXBlZChmaWVsZCkgJiYgWydtaW4nLCAnbWF4JywgJ3N1bScsICdzdW1fZGlzdGluY3QnLCAnZ3JvdXAnXS5pbmRleE9mKGZpZWxkLmdyb3VwQnlGdW5jdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpKSA8IDApIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0RmllbGRGb3JtYXRzKGZpZWxkLCBmaWVsZC5ncm91cEJ5RnVuY3Rpb24uZGF0YVR5cGVHcm91cCkudGhlbihmdW5jdGlvbiAocmV0dXJuT2JqKSB7XHJcblx0XHRcdFx0XHRcdGdvdEZpZWxkRm9ybWF0cyhyZXR1cm5PYmosIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi5kYXRhVHlwZUdyb3VwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldEZpZWxkRm9ybWF0cyhmaWVsZCkudGhlbihmdW5jdGlvbiAocmV0dXJuT2JqKSB7XHJcblx0XHRcdFx0XHRcdGdvdEZpZWxkRm9ybWF0cyhyZXR1cm5PYmosIGZpZWxkLnR5cGVHcm91cCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGdyb3VwIGJ5IGdpdmVuIHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRHcm91cEJ5VmFsdWUgPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsIHZhbHVlLCB0cnVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgU3VidG90YWwgZ3JvdXAgYnkgZ2l2ZW4gdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEdyb3VwQnlTdWJ0b3RhbFZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gJGl6ZW5kYVV0aWwuZ2V0T3B0aW9uQnlWYWx1ZShmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbk9wdGlvbnMsIHZhbHVlLCB0cnVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpZiBjaGVja2VkIGZpZWxkcyBoYXMgZnVuY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGlzUmVwb3J0VXNlR3JvdXAgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBhY3RpdmVUYWJsZXMgPSBnZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdFx0aWYgKGFjdGl2ZVRhYmxlcy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR2YXIgcmVzdWx0OiBib29sZWFuID0gZmFsc2U7XHJcblx0XHRcdGVhY2hBY3RpdmVGaWVsZHMoZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdFx0aWYgKGlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0ID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlc2V0IGFsbCBncm91cHMgd2hpY2ggd2FzIGdyb3VwZWQgYXV0b21hdGljYWxseS5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHJlc2V0QXV0b0dyb3VwcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Ly8gY2hlY2sgZ3JvdXAgZnVuY3Rpb246XHJcblx0XHRcdGVhY2hBY3RpdmVGaWVsZHMoZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdFx0aWYgKCFpc0JpbmFyeUZpZWxkKGZpZWxkKSkge1xyXG5cdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gZ2V0R3JvdXBCeVZhbHVlKGZpZWxkLCAnTk9ORScpO1xyXG5cdFx0XHRcdFx0dXBkYXRlRmllbGRGb3JtYXRzKGZpZWxkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBDaGVjayBpZiByZXBvcnQgaGFzIGdyb3VwIGFuZCBhcHBseSBncm91cCBieSBmb3Igb3RoZXIgY29sdW1ucy5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGx5QXV0b0dyb3VwcyA9IGZ1bmN0aW9uIChmb3JjZT8pIHtcclxuXHRcdFx0aWYgKCFmb3JjZSkge1xyXG5cdFx0XHRcdHZhciBoYXNHcm91cCA9IGlzUmVwb3J0VXNlR3JvdXAoKTtcclxuXHRcdFx0XHRpZiAoIWhhc0dyb3VwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNoZWNrIGdyb3VwIGZ1bmN0aW9uOlxyXG5cdFx0XHRlYWNoQWN0aXZlRmllbGRzKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRcdGlmIChpc0JpbmFyeUZpZWxkKGZpZWxkKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAoIWlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gZ2V0R3JvdXBCeVZhbHVlKGZpZWxkLCAnR1JPVVAnKTtcclxuXHRcdFx0XHRcdHVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgcG9zc2libGUgdmlzdWFsIGdyb3VwIHN0eWxlcyBmcm9tIHNlcnZlclxyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdGlhbGl6ZVZnU3R5bGVzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldFZnU3R5bGVzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcblx0XHRcdFx0XHR2Z1N0eWxlcyA9IHJlc3VsdFswXS5vcHRpb25zO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgdmlzdWFsIGdyb3VwIHN0eWxlc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0VmdTdHlsZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB2Z1N0eWxlcztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIHBvc3NpYmxlIGV4cHJlc3Npb24gdHlwZXMuXHJcblx0XHQgKi9cclxuXHRcdHZhciBpbml0aWFsaXplRXhwcmVzc2lvblR5cGVzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldEV4cHJlc3Npb25UeXBlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0ZXhwcmVzc2lvblR5cGVzID0gW107XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChyZXN1bHRbMF0ub3B0aW9ucywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy52YWx1ZSAhPT0gJycpIHtcclxuXHRcdFx0XHRcdFx0XHRleHByZXNzaW9uVHlwZXMucHVzaCh0aGlzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIHBvc3NpYmxlIGRyaWxsZG93biBzdHlsZXMgZnJvbSBzZXJ2ZXJcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGluaXRpYWxpemVEcmlsbERvd25TdHlsZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0RHJpbGxEb3duU3R5bGVzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcblx0XHRcdFx0XHRkcmlsbERvd25TdHlsZXMgPSBbXTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHJlc3VsdFswXS5vcHRpb25zLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0ZHJpbGxEb3duU3R5bGVzLnB1c2godGhpcyk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGlzYWJsZSBFbWJlZGRlZERldGFpbCBkcmlsbGRvd24gc3R5bGUgZm9yIGN1cnJlbnQgcmVwb3J0IGFuZCAoQVVUTylcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGRpc2FibGVFbWJlZGRlZERyaWxsRG93blN0eWxlID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGRyaWxsRG93blN0eWxlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBkZFN0eWxlID0gdGhpcztcclxuXHRcdFx0XHRkZFN0eWxlLmRpc2FibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dmFyIHJlcG9ydEluZm8gPSAkaXplbmRhVXJsLmdldFJlcG9ydEluZm8oKTtcclxuXHRcdFx0XHRpZiAoZGRTdHlsZS52YWx1ZSA9PT0gJ0VtYmVkZGVkRGV0YWlsJykge1xyXG5cdFx0XHRcdFx0ZGRTdHlsZS5kaXNhYmxlZCA9IGZpZWxkLnN1YnJlcG9ydCA9PT0gJyhBVVRPKScgfHwgZmllbGQuc3VicmVwb3J0ID09PSByZXBvcnRJbmZvLmZ1bGxOYW1lO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGRyaWxsZG93biBzdHlsZXNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldERyaWxsRG93blN0eWxlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGRyaWxsRG93blN0eWxlcztcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGdldEV4cHJlc3Npb25UeXBlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGV4cHJlc3Npb25UeXBlcztcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGluaXRpYWxpemVTdWJyZXBvcnRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldFN1YnJlcG9ydHMoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuXHRcdFx0XHRcdHN1YnJlcG9ydHMgPSByZXN1bHRbMF0ub3B0aW9ucztcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGdldFN1YnJlcG9ydHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBzdWJyZXBvcnRzO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gdmFsaWRhdGlvbiBmdW5jdGlvbnNcclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgYWxsIHZhbGlkYXRpb24gbWVzc2FnZXNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsZWFyVmFsaWRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoZ2V0RGF0YVNvdXJjZXMoKSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChnZXREYXRhU291cmNlcygpLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGNhdGVnb3J5ID0gdGhpcztcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZSA9IHRoaXM7XHJcblx0XHRcdFx0XHR0YWJsZS52YWxpZGF0ZU1lc3NhZ2VzID0gW107XHJcblx0XHRcdFx0XHR0YWJsZS52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IG51bGw7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0YWJsZS5maWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gdGhpcztcclxuXHRcdFx0XHRcdFx0ZmllbGQudmFsaWRhdGVNZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdFx0XHRmaWVsZC52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IG51bGw7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVmFsaWRhdGUgcmVwb3J0IGFuZCBzZXQgdmFsaWRhdGUgbWVzc2FnZXMgdG8gdGFibGVzIGFuZCBmaWVsZHNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHZhbGlkYXRlUmVwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRjbGVhclZhbGlkYXRpb24oKTtcclxuXHRcdFx0dmFyIHZhbGlkYXRpb25GYWlsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdFx0dmFyIGFjdGl2ZVRhYmxlcyA9IGdldEFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0XHRpZiAoYWN0aXZlVGFibGVzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZhciBoYXNHcm91cCA9IGlzUmVwb3J0VXNlR3JvdXAoKTtcclxuXHJcblx0XHRcdGVhY2hBY3RpdmVGaWVsZHMoZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdFx0aWYgKGhhc0dyb3VwICYmIGlzQmluYXJ5RmllbGQoZmllbGQpKSB7XHJcblx0XHRcdFx0XHQvLyBpZiBmaWVsZCBoYXZlIHNxbCB0eXBlIHdoaWNoIGNhbid0IGJlIGdyb3VwZWRcclxuXHRcdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHRcdG1lc3NhZ2VUeXBlOiAnZGFuZ2VyJyxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0V2l0aFBhcmFtcyhcclxuXHRcdFx0XHRcdFx0XHQnanNfQ2FudFVzZVdpdGhHcm91cCcsXHJcblx0XHRcdFx0XHRcdFx0J0NhblxcJ3QgdXNlIGZpZWxkcyB3aXRoIHNxbCB0eXBlIFwiezB9XCIgd2l0aCBHUk9VUCBCWSBzdGF0ZW1lbnQnLFxyXG5cdFx0XHRcdFx0XHRcdFtmaWVsZC5zcWxUeXBlXSlcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZmllbGQudmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSAnZGFuZ2VyJztcclxuXHRcdFx0XHRcdHZhbGlkYXRpb25GYWlsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoaGFzR3JvdXAgJiYgIWlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHRcdFx0Ly8gaWYgZmllbGQgaGF2ZSBubyBncm91cCBmdW5jdGlvblxyXG5cdFx0XHRcdFx0ZmllbGQudmFsaWRhdGVNZXNzYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0bWVzc2FnZVR5cGU6ICdkYW5nZXInLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX011c3RCZUZ1bmN0aW9uJywgJ0lmIGZ1bmN0aW9ucyBhcmUgdXNlZCwgZWFjaCBzZWxlY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLicpXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZUxldmVsID0gJ2Rhbmdlcic7XHJcblx0XHRcdFx0XHR2YWxpZGF0aW9uRmFpbGVkID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdmFsaWRhdGlvbkZhaWxlZDtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdC8vIGNvbW1vbiBVSSBmdW5jdGlvbnNcclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0dmFyIGhpZGVBbGxQYW5lbHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHVpUGFuZWxzU3RhdGUuZmlsdGVyc1BhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBnZXRGaWx0ZXJzUGFuZWxPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB1aVBhbmVsc1N0YXRlLmZpbHRlcnNQYW5lbE9wZW5lZDtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIHNldEZpbHRlcnNQYW5lbE9wZW5lZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRoaWRlQWxsUGFuZWxzKCk7XHJcblx0XHRcdHVpUGFuZWxzU3RhdGUuZmlsdGVyc1BhbmVsT3BlbmVkID0gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdC8vIGRhdGFzb3VyY2VzIGZ1bmN0aW9uc1xyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFsZ29yaXRobSB3aGljaCBmaW5kIG5vZGVzIHdoaWNoIGNhbid0IGJlIGRlYWN0aXZhdGVkXHJcblx0XHQgKi9cclxuXHRcdHZhciBmaW5kQnJpZGdlc0ZvckdyYXBoID0gZnVuY3Rpb24gKG5vZGVzLCBsaW5rcykge1xyXG5cdFx0XHR2YXIgbiA9IG5vZGVzLmxlbmd0aDtcclxuXHRcdFx0dmFyIHVzZWQgPSBuZXcgQXJyYXkobik7XHJcblx0XHRcdHZhciB0aW4gPSBuZXcgQXJyYXkobik7XHJcblx0XHRcdHZhciBmdXAgPSBuZXcgQXJyYXkobik7XHJcblx0XHRcdHZhciB0aW1lcjtcclxuXHRcdFx0dmFyIGJyaWRnZU5vZGVzID0gW107XHJcblxyXG5cdFx0XHR2YXIgZ2V0TGlua3NGb3JOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0dmFyIGxpbmsgPSBsaW5rc1tpXTtcclxuXHRcdFx0XHRcdHZhciBsaW5rMSA9IGxpbmtbMF07XHJcblx0XHRcdFx0XHR2YXIgbGluazIgPSBsaW5rWzFdO1xyXG5cdFx0XHRcdFx0aWYgKGxpbmsxID09PSBsaW5rMilcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRpZiAobGluazEgPT09IG5vZGUgJiYgcmVzdWx0LmluZGV4T2YobGluazIpIDwgMClcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gobGluazIpO1xyXG5cdFx0XHRcdFx0aWYgKGxpbmsyID09PSBub2RlICYmIHJlc3VsdC5pbmRleE9mKGxpbmsxKSA8IDApXHJcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKGxpbmsxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBkZnMgPSBmdW5jdGlvbiAodiwgcD8pIHtcclxuXHRcdFx0XHR1c2VkW3ZdID0gdHJ1ZTtcclxuXHRcdFx0XHR0aW5bdl0gPSBmdXBbdl0gPSB0aW1lcisrO1xyXG5cdFx0XHRcdHZhciBjdXJyZW50TGlua3MgPSBnZXRMaW5rc0Zvck5vZGUobm9kZXNbdl0pO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudExpbmtzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YXIgdG8gPSBjdXJyZW50TGlua3NbaV07XHJcblx0XHRcdFx0XHRpZiAodG8gPT09IHApIGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0aWYgKHVzZWRbdG9dKVxyXG5cdFx0XHRcdFx0XHRmdXBbdl0gPSBNYXRoLm1pbihmdXBbdl0sIHRpblt0b10pO1xyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdGRmcyh0bywgdik7XHJcblx0XHRcdFx0XHRcdGZ1cFt2XSA9IE1hdGgubWluKGZ1cFt2XSwgZnVwW3RvXSk7XHJcblx0XHRcdFx0XHRcdGlmIChmdXBbdG9dID4gdGluW3ZdKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGlzVG9Ob2RlRWRnZSA9IGdldExpbmtzRm9yTm9kZSh0bykubGVuZ3RoIDwgMjtcclxuXHRcdFx0XHRcdFx0XHR2YXIgaXNWTm9kZUVkZ2UgPSBjdXJyZW50TGlua3MubGVuZ3RoIDwgMjtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWlzVG9Ob2RlRWRnZSAmJiBicmlkZ2VOb2Rlcy5pbmRleE9mKHRvKSA8IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGJyaWRnZU5vZGVzLnB1c2godG8pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRpZiAoIWlzVk5vZGVFZGdlICYmIGJyaWRnZU5vZGVzLmluZGV4T2YodikgPCAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRicmlkZ2VOb2Rlcy5wdXNoKHYpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBmaW5kQnJpZGdlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aW1lciA9IDA7XHJcblx0XHRcdFx0Zm9yICh2YXIgaWkgPSAwOyBpaSA8IG47IGlpKyspIHtcclxuXHRcdFx0XHRcdHVzZWRbaWldID0gZmFsc2U7XHJcblx0XHRcdFx0XHR0aW5baWldID0gbnVsbDtcclxuXHRcdFx0XHRcdGZ1cFtpaV0gPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKylcclxuXHRcdFx0XHRcdGlmICghdXNlZFtpXSlcclxuXHRcdFx0XHRcdFx0ZGZzKGkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZpbmRCcmlkZ2VzKCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gYnJpZGdlTm9kZXM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29uc3RyYWludHMgY2hlY2sgYW5kIHVwZGF0ZSB0YWJsZXMgYXZhaWxhYmlsaXR5LlxyXG5cdFx0ICovXHJcblx0XHR2YXIgdXBkYXRlVGFibGVzQXZhaWxhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQvLyBjcmVhdGUgdGFibGVzIHdoaWNoIGF2YWlsYWJsZSBieSBmb3JlaWduIGtleXNcclxuXHRcdFx0dmFyIGN1cnJlbnRBY3RpdmVUYWJsZXMgPSBnZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdFx0dmFyIGFwcGx5Q29uc3RyYWludHMgPSBjdXJyZW50QWN0aXZlVGFibGVzLmxlbmd0aCAhPT0gMDtcclxuXHRcdFx0dmFyIGFjdGl2ZVRhYmxlTmFtZXMgPSBbXTtcclxuXHRcdFx0dmFyIG5vZGVDb25zdHJhaW50cyA9IFtdO1xyXG5cdFx0XHR2YXIgbm9kZXMgPSBbXTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goY3VycmVudEFjdGl2ZVRhYmxlcywgZnVuY3Rpb24gKGlUYWJsZSwgdGFibGUpIHtcclxuXHRcdFx0XHRub2Rlcy5wdXNoKGlUYWJsZSk7XHJcblx0XHRcdFx0YWN0aXZlVGFibGVOYW1lcy5wdXNoKHRhYmxlLnN5c25hbWUpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHByb2Nlc3MgY29uc3RyYWludHMgZGF0YVxyXG5cdFx0XHR2YXIgZm9yZWlnbktleVRhYmxlcyA9IFtdO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChjb25zdGFpbnRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGNvbnN0cmFpbnQgPSB0aGlzO1xyXG5cdFx0XHRcdHZhciBwYXJ0MSA9IGNvbnN0cmFpbnRbMF07XHJcblx0XHRcdFx0dmFyIHBhcnQyID0gY29uc3RyYWludFsxXTtcclxuXHRcdFx0XHR2YXIgcGFydDFJbmRleCA9IGFjdGl2ZVRhYmxlTmFtZXMuaW5kZXhPZihwYXJ0MSk7XHJcblx0XHRcdFx0dmFyIHBhcnQySW5kZXggPSBhY3RpdmVUYWJsZU5hbWVzLmluZGV4T2YocGFydDIpO1xyXG5cdFx0XHRcdGlmIChwYXJ0MUluZGV4ID49IDAgJiYgcGFydDJJbmRleCA+PSAwICYmIHBhcnQxICE9PSBwYXJ0Mikge1xyXG5cdFx0XHRcdFx0bm9kZUNvbnN0cmFpbnRzLnB1c2goW3BhcnQxSW5kZXgsIHBhcnQySW5kZXhdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goY3VycmVudEFjdGl2ZVRhYmxlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIHRhYmxlID0gdGhpcztcclxuXHRcdFx0XHRcdGlmIChwYXJ0MSA9PT0gdGFibGUuc3lzbmFtZSB8fCBwYXJ0MiA9PT0gdGFibGUuc3lzbmFtZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZm9yZWlnbktleVRhYmxlcy5pbmRleE9mKHBhcnQxKSA8IDApXHJcblx0XHRcdFx0XHRcdFx0Zm9yZWlnbktleVRhYmxlcy5wdXNoKHBhcnQxKTtcclxuXHRcdFx0XHRcdFx0aWYgKGZvcmVpZ25LZXlUYWJsZXMuaW5kZXhPZihwYXJ0MikgPCAwKVxyXG5cdFx0XHRcdFx0XHRcdGZvcmVpZ25LZXlUYWJsZXMucHVzaChwYXJ0Mik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZW5hYmxlL2Rpc2FibGUgdGFibGVzXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGdldERhdGFTb3VyY2VzKCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgY2F0ZWdvcnkgPSB0aGlzO1xyXG5cdFx0XHRcdGNhdGVnb3J5LmVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHQvLyBjaGVjayB0YWJsZXNcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZSA9IHRoaXM7XHJcblx0XHRcdFx0XHRpZiAoIWFwcGx5Q29uc3RyYWludHMpIHtcclxuXHRcdFx0XHRcdFx0Y2F0ZWdvcnkuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHRhYmxlLmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0YWJsZS5maWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmVuYWJsZWQgPSB0YWJsZS5lbmFibGVkO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGFibGUuZW5hYmxlZCA9IHRhYmxlLmFjdGl2ZSB8fCAoZm9yZWlnbktleVRhYmxlcy5pbmRleE9mKHRhYmxlLnN5c25hbWUpID49IDAgJiYgJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncy5tYXhBbGxvd2VkVGFibGVzID4gY3VycmVudEFjdGl2ZVRhYmxlcy5sZW5ndGgpO1xyXG5cdFx0XHRcdFx0Y2F0ZWdvcnkuZW5hYmxlZCB8PSB0YWJsZS5lbmFibGVkO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godGFibGUuZmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHZhciBmaWVsZCA9IHRoaXM7XHJcblx0XHRcdFx0XHRcdGZpZWxkLmVuYWJsZWQgPSB0YWJsZS5lbmFibGVkO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGlzYWJsZSBicmlkZ2UgdGFibGVzICh0YWJsZXMgd2hpY2ggYXJlIGxpbmtzIGJldHdlZW4gdHdvIG90aGVyIGFjdGl2ZSB0YWJsZXMpOlxyXG5cdFx0XHR2YXIgcmVzdWx0ID0gZmluZEJyaWRnZXNGb3JHcmFwaChub2Rlcywgbm9kZUNvbnN0cmFpbnRzKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gocmVzdWx0LCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGlkeCA9IHRoaXM7XHJcblx0XHRcdFx0Y3VycmVudEFjdGl2ZVRhYmxlc1tpZHhdLmVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldCBcInNlbGVjdGVkID0gZmFsc2VcIiBmb3IgYWxsIGZpZWxkc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgdW5zZWxlY3RBbGxGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGdldERhdGFTb3VyY2VzKCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgY2F0ZWdvcnkgPSB0aGlzO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGNhdGVnb3J5LnRhYmxlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIHRhYmxlID0gdGhpcztcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRhYmxlLmZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRmaWVsZC5zZWxlY3RlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmaWVsZC5tdWx0aXBsZUNvbHVtbnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrIGlzIGNhbGMgZmllbGQgZXhpc3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIF9pc0NhbGNGaWVsZEV4aXN0ID0gZnVuY3Rpb24gKGNhbGNGaWVsZElkKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2FsY0ZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmIChjYWxjRmllbGRJZCA9PT0gY2FsY0ZpZWxkc1tpXS5zeXNuYW1lKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBjYWxjIGZpZWxkIHByb3BlcnRpZXNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIF91cGRhdGVDYWxjRmllbGQgPSBmdW5jdGlvbiAoZmllbGQsIGNhbGNGaWVsZCkge1xyXG5cdFx0XHRjYWxjRmllbGQubmFtZSA9ICdbJyArIGZpZWxkLmRlc2NyaXB0aW9uICsgJ10gKGNhbGMpJ1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZSBjYWxjIGZpZWxkXHJcblx0XHQgKi9cclxuXHRcdHZhciBfY3JlYXRlQ2FsY0ZpZWxkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBhbmd1bGFyLmNvcHkoZmllbGQpO1xyXG5cdFx0XHRyZXN1bHQuc3lzbmFtZSA9ICdmbGRJZHwnICsgZmllbGQuZ3VpZDtcclxuXHRcdFx0X3VwZGF0ZUNhbGNGaWVsZChmaWVsZCwgcmVzdWx0KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTeW5jIGNhbGMgZmllbGRzXHJcblx0XHQgKi9cclxuXHRcdHZhciBfc3luY0NhbGNGaWVsZHNBcnJheSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIG5ld0NhbGNGaWVsZHMgPSBbXTtcclxuXHRcdFx0Ly8gcmVtb3ZlIG9sZCBjYWxjIGZpZWxkc1xyXG5cdFx0XHRjYWxjRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGNhbGNGaWVsZCkge1xyXG5cdFx0XHRcdHZhciBmb3VuZEZpZWxkID0gbnVsbDtcclxuXHRcdFx0XHR2YXIgZmllbGRHdWlkID0gY2FsY0ZpZWxkLnN5c25hbWUuc3Vic3RyaW5nKDYpO1xyXG5cdFx0XHRcdGVhY2hBY3RpdmVGaWVsZHMoZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdFx0XHRpZiAoZmllbGRHdWlkID09PSBmaWVsZC5ndWlkKVxyXG5cdFx0XHRcdFx0XHRmb3VuZEZpZWxkID0gZmllbGQ7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dmFyIGlzRXhwcmVzc2lvblNldCA9IGZvdW5kRmllbGRcclxuXHRcdFx0XHRcdCYmIGFuZ3VsYXIuaXNTdHJpbmcoZm91bmRGaWVsZC5leHByZXNzaW9uKVxyXG5cdFx0XHRcdFx0JiYgZm91bmRGaWVsZC5leHByZXNzaW9uLnRyaW0oKSAhPT0gJyc7XHJcblx0XHRcdFx0aWYgKGZvdW5kRmllbGQgJiYgKGlzRmllbGRHcm91cGVkV2l0aEZ1bmN0aW9uKGZvdW5kRmllbGQpIHx8IGlzRXhwcmVzc2lvblNldCkpIHtcclxuXHRcdFx0XHRcdG5ld0NhbGNGaWVsZHMucHVzaChjYWxjRmllbGQpO1xyXG5cdFx0XHRcdFx0X3VwZGF0ZUNhbGNGaWVsZChmb3VuZEZpZWxkLCBjYWxjRmllbGQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGNhbGNGaWVsZHMgPSBuZXdDYWxjRmllbGRzO1xyXG5cclxuXHRcdFx0Ly8gYWRkIG5ld1xyXG5cdFx0XHRlYWNoQWN0aXZlRmllbGRzKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRcdHZhciBpc0V4cHJlc3Npb25TZXQgPSBhbmd1bGFyLmlzU3RyaW5nKGZpZWxkLmV4cHJlc3Npb24pXHJcblx0XHRcdFx0XHQmJiBmaWVsZC5leHByZXNzaW9uLnRyaW0oKSAhPT0gJyc7XHJcblxyXG5cdFx0XHRcdC8vIGlmIGZpZWxkIGdyb3VwZWQgYW5kIGl0IGlzIG5vdCBzaW1wbGUgJ0dST1VQJyBvciBpdCBoYXMgZXhwcmVzc2lvblxyXG5cdFx0XHRcdGlmICghX2lzQ2FsY0ZpZWxkRXhpc3QoJ2ZsZElkfCcgKyBmaWVsZC5ndWlkKSAmJiAoaXNGaWVsZEdyb3VwZWRXaXRoRnVuY3Rpb24oZmllbGQpIHx8IGlzRXhwcmVzc2lvblNldCkpIHtcclxuXHRcdFx0XHRcdHZhciBjYWxjRmllbGQgPSBfY3JlYXRlQ2FsY0ZpZWxkKGZpZWxkKTtcclxuXHRcdFx0XHRcdGNhbGNGaWVsZHMucHVzaChjYWxjRmllbGQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlIGFjdGl2ZSB0YWJsZXMgYXJyYXlcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHN5bmNBY3RpdmVUYWJsZXNBcnJheSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0YWN0aXZlVGFibGVzID0gW107XHJcblx0XHRcdGFjdGl2ZUZpZWxkcyA9IFtdO1xyXG5cdFx0XHRhY3RpdmVDaGVja2VkRmllbGRzID0gW107XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGdldERhdGFTb3VyY2VzKCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0aGlzLnRhYmxlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIHRhYmxlID0gdGhpcztcclxuXHRcdFx0XHRcdGlmICh0YWJsZS5hY3RpdmUpIHtcclxuXHRcdFx0XHRcdFx0YWN0aXZlVGFibGVzLnB1c2godGFibGUpO1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0YWJsZS5maWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZUZpZWxkcy5wdXNoKGZpZWxkKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZmllbGQuY2hlY2tlZClcclxuXHRcdFx0XHRcdFx0XHRcdGFjdGl2ZUNoZWNrZWRGaWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0X3N5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB0cmVlIHN0YXRlIGFmdGVyIGNoZWNraW5nIHRhYmxlXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVQYXJlbnRGb2xkZXJzID0gZnVuY3Rpb24gKHRhYmxlLCBzeW5jQ29sbGFwc2U/KSB7XHJcblx0XHRcdHZhciBjYXRlZ29yeSA9IGdldENhdGVnb3J5QnlJZCh0YWJsZS5wYXJlbnRJZCk7XHJcblx0XHRcdHN5bmNBY3RpdmVUYWJsZXNBcnJheSgpO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIGNhdGVnb3J5IGFjdGl2ZVxyXG5cdFx0XHR2YXIgaiA9IDAsXHJcblx0XHRcdFx0aGFzQWN0aXZlVGFibGVzOiBib29sZWFuID0gZmFsc2U7XHJcblx0XHRcdHdoaWxlICghaGFzQWN0aXZlVGFibGVzICYmIGogPCBjYXRlZ29yeS50YWJsZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0aWYgKGNhdGVnb3J5LnRhYmxlc1tqXS5hY3RpdmUpIHtcclxuXHRcdFx0XHRcdGhhc0FjdGl2ZVRhYmxlcyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGorKztcclxuXHRcdFx0fVxyXG5cdFx0XHRjYXRlZ29yeS5hY3RpdmUgPSBoYXNBY3RpdmVUYWJsZXM7XHJcblx0XHRcdGlmIChzeW5jQ29sbGFwc2UpXHJcblx0XHRcdFx0Y2F0ZWdvcnkuY29sbGFwc2VkID0gIWhhc0FjdGl2ZVRhYmxlcztcclxuXHRcdFx0dXBkYXRlVGFibGVzQXZhaWxhYmlsaXR5KCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHRyZWUgc3RhdGUgYWZ0ZXIgY2hlY2tpbmcgZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZVBhcmVudEZvbGRlcnNBbmRUYWJsZXMgPSBmdW5jdGlvbiAoZmllbGQsIHN5bmNDb2xsYXBzZT8sIHJlc3RyaWN0VGFibGVVbmNoZWNrPykge1xyXG5cdFx0XHR2YXIgdGFibGUgPSBnZXRUYWJsZUJ5SWQoZmllbGQucGFyZW50SWQpO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIHRhYmxlIGFjdGl2ZVxyXG5cdFx0XHR2YXIgaGFzQ2hlY2tlZEZpZWxkczogYm9vbGVhbiA9IGZhbHNlLFxyXG5cdFx0XHRcdGkgPSAwO1xyXG5cdFx0XHR3aGlsZSAoIWhhc0NoZWNrZWRGaWVsZHMgJiYgaSA8IHRhYmxlLmZpZWxkcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRpZiAodGFibGUuZmllbGRzW2ldLmNoZWNrZWQpXHJcblx0XHRcdFx0XHRoYXNDaGVja2VkRmllbGRzID0gdHJ1ZTtcclxuXHRcdFx0XHRpKys7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHRhYmxlIGNoZWNrZWQgc3RhdGUgZmFsc2UgLT4gdHJ1ZTpcclxuXHRcdFx0aWYgKGhhc0NoZWNrZWRGaWVsZHMgJiYgIXRhYmxlLmFjdGl2ZSlcclxuXHRcdFx0XHR0YWJsZS5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0Ly8gc2V0IHRhYmxlIGFjdGl2ZVxyXG5cdFx0XHR0YWJsZS5hY3RpdmUgPSByZXN0cmljdFRhYmxlVW5jaGVjayB8fCBoYXNDaGVja2VkRmllbGRzIHx8ICF0YWJsZS5lbmFibGVkO1xyXG5cclxuXHRcdFx0aWYgKHN5bmNDb2xsYXBzZSlcclxuXHRcdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSAhaGFzQ2hlY2tlZEZpZWxkcztcclxuXHJcblx0XHRcdC8vIHVwZGF0ZSB0YWJsZVxyXG5cdFx0XHR1cGRhdGVQYXJlbnRGb2xkZXJzKHRhYmxlLCBzeW5jQ29sbGFwc2UpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBkcmlsbGRvd25zXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVEcmlsbGRvd25zID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgZHJpbGxkb3duRmllbGRzID0gcmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkcztcclxuXHRcdFx0aWYgKGRyaWxsZG93bkZpZWxkcy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2YXIgaSA9IDA7XHJcblx0XHRcdHdoaWxlIChpIDwgZHJpbGxkb3duRmllbGRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHZhciBkcmlsbGRvd25GaWVsZCA9IGRyaWxsZG93bkZpZWxkc1tpXTtcclxuXHRcdFx0XHR2YXIgaXNEZEZpZWxkQWN0dWFsOiBib29sZWFuID0gZmFsc2U7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXMoKSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKGRyaWxsZG93bkZpZWxkLmlkID09PSB0aGlzLmlkKSB7XHJcblx0XHRcdFx0XHRcdGlzRGRGaWVsZEFjdHVhbCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKGlzRGRGaWVsZEFjdHVhbCkge1xyXG5cdFx0XHRcdFx0aSsrO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkcmlsbGRvd25GaWVsZHMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogR2V0IGZpbHRlcmVkIGRhdGFzb3VyY2VzXHJcblx0XHQqL1xyXG5cdFx0dmFyIHNlYXJjaEluRGF0YURvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nLCBmcm9tLCB0bykge1xyXG5cdFx0XHRyZXR1cm4gJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdFx0aWYgKHNlYXJjaFN0cmluZyA9PT0gJycpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoW10pO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBzdGFydCBzZWFyY2hcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmZpbmRJbkRhdGFzb3VyY2VzKHNlYXJjaFN0cmluZywgZnJvbSwgdG8pLnRoZW4ocmVzdWx0cyA9PiB7XHJcblx0XHRcdFx0XHQvLyBzZWFyY2ggY29tcGxldGVkXHJcblx0XHRcdFx0XHRpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aClcclxuXHRcdFx0XHRcdFx0cmVzdWx0cy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IGl0ZW0uaWQgPSBmcm9tICsgaWR4KTtcclxuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0cyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHRcdC8qaWYgKCFhbmd1bGFyLmlzQXJyYXkoZ2V0RGF0YVNvdXJjZXMoKSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoc2VhcmNoU3RyaW5nID09PSAnJykge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGdldERhdGFTb3VyY2VzKCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBjYXRlZ29yeSA9IHRoaXM7XHJcblx0XHRcdFx0XHRjYXRlZ29yeS5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGNhdGVnb3J5LnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goY2F0ZWdvcnkudGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHZhciB0YWJsZSA9IHRoaXM7XHJcblx0XHRcdFx0XHRcdHRhYmxlLmhpZ2hsaWdodCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR0YWJsZS52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godGFibGUuZmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gdGhpcztcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5oaWdobGlnaHQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcclxuXHRcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZ2V0RGF0YVNvdXJjZXMoKSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBjYXRlZ29yeSA9IHRoaXM7XHJcblx0XHRcdFx0dmFyIGlzVGFibGVzRm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZSA9IHRoaXM7XHJcblx0XHRcdFx0XHR0YWJsZS5oaWdobGlnaHQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGlmICh0YWJsZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hTdHJpbmcudG9Mb3dlckNhc2UoKSkgPj0gMCkge1xyXG5cdFx0XHRcdFx0XHR0YWJsZS5oaWdobGlnaHQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRpc1RhYmxlc0ZvdW5kID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZhciBpc0ZpZWxkc0ZvdW5kID0gZmFsc2U7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0YWJsZS5maWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gdGhpcztcclxuXHRcdFx0XHRcdFx0ZmllbGQuaGlnaGxpZ2h0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGlmIChmaWVsZC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hTdHJpbmcudG9Mb3dlckNhc2UoKSkgPj0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmhpZ2hsaWdodCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0aXNGaWVsZHNGb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0aXNUYWJsZXNGb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGFibGUuY29sbGFwc2VkID0gIWlzRmllbGRzRm91bmQ7XHJcblx0XHRcdFx0XHR0YWJsZS52aXNpYmxlID0gdGFibGUuaGlnaGxpZ2h0IHx8IGlzRmllbGRzRm91bmQ7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y2F0ZWdvcnkuY29sbGFwc2VkID0gIWlzVGFibGVzRm91bmQ7XHJcblx0XHRcdFx0Y2F0ZWdvcnkudmlzaWJsZSA9IGlzVGFibGVzRm91bmQ7XHJcblx0XHRcdH0pOyovXHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciByZXNldEZpZWxkT2JqZWN0ID0gZnVuY3Rpb24gKGZpZWxkT2JqZWN0LCBkZWZhdWx0VmFsdWVzPykge1xyXG5cdFx0XHRmaWVsZE9iamVjdC5pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmlzTXVsdGlwbGVDb2x1bW5zID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkT2JqZWN0Lm11bHRpcGxlQ29sdW1ucyA9IFtdO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5oaWdobGlnaHQgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3QuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmNoZWNrZWQgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3Quc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3QuY29sbGFwc2VkID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmlzVmdVc2VkID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmJyZWFrUGFnZUFmdGVyVmcgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3QuZGVzY3JpcHRpb24gPSAkaXplbmRhVXRpbC5odW1hbml6ZVZhcmlhYmxlTmFtZShmaWVsZE9iamVjdC5uYW1lKTtcclxuXHRcdFx0ZmllbGRPYmplY3QuaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkT2JqZWN0Lm9yZGVyID0gMDtcclxuXHRcdFx0ZmllbGRPYmplY3QuZm9ybWF0ID0gRU1QVFlfRklFTERfRk9STUFUX09QVElPTjtcclxuXHRcdFx0ZmllbGRPYmplY3QuZm9ybWF0T3B0aW9uR3JvdXBzID0gW107XHJcblx0XHRcdGZpZWxkT2JqZWN0Lmdyb3VwQnlGdW5jdGlvbiA9IEVNUFRZX0ZJRUxEX0dST1VQX09QVElPTjtcclxuXHRcdFx0ZmllbGRPYmplY3QuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucyA9IFtdO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbiA9IEVNUFRZX1NVQlRPVEFMX0ZJRUxEX0dST1VQX09QVElPTlM7XHJcblx0XHRcdGZpZWxkT2JqZWN0Lmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucyA9IFtdO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5zdWJ0b3RhbEV4cHJlc3Npb24gPSAnJztcclxuXHRcdFx0ZmllbGRPYmplY3QuYWxsb3dlZEluRmlsdGVycyA9IHRydWU7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmlzU3BQYXJhbWV0ZXIgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3Quc29ydCA9IG51bGw7XHJcblx0XHRcdGZpZWxkT2JqZWN0Lml0YWxpYyA9IGZhbHNlO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5jb2x1bW5Hcm91cCA9ICcnO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5zZXBhcmF0b3IgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3QudGV4dEhpZ2hsaWdodCA9ICcnO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5jZWxsSGlnaGxpZ2h0ID0gJyc7XHJcblx0XHRcdGZpZWxkT2JqZWN0LnZhbHVlUmFuZ2UgPSAnJztcclxuXHRcdFx0ZmllbGRPYmplY3Qud2lkdGggPSAnJztcclxuXHRcdFx0ZmllbGRPYmplY3QubGFiZWxKdXN0aWZpY2F0aW9uID0gJ00nO1xyXG5cdFx0XHRmaWVsZE9iamVjdC52YWx1ZUp1c3RpZmljYXRpb24gPSAnICc7XHJcblx0XHRcdGZpZWxkT2JqZWN0LnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5ncmFkaWVudCA9IGZhbHNlO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5ib2xkID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmRyaWxsRG93blN0eWxlID0gJyc7XHJcblx0XHRcdGZpZWxkT2JqZWN0LmN1c3RvbVVybCA9ICcnO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5zdWJyZXBvcnQgPSAnJztcclxuXHRcdFx0ZmllbGRPYmplY3QuZXhwcmVzc2lvbiA9ICcnO1xyXG5cdFx0XHRmaWVsZE9iamVjdC5leHByZXNzaW9uVHlwZSA9IEVNUFRZX0VYUFJFU1NJT05fVFlQRTtcclxuXHRcdFx0ZmllbGRPYmplY3QuZ3JvdXBCeUV4cHJlc3Npb24gPSBmYWxzZTtcclxuXHRcdFx0ZmllbGRPYmplY3QudmFsaWRhdGVNZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRmaWVsZE9iamVjdC52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IG51bGw7XHJcblxyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChmaWVsZE9iamVjdCwgZGVmYXVsdFZhbHVlcyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBfY3JlYXRlRmllbGRPYmplY3QgPSBmdW5jdGlvbiAoZmllbGRQcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHZhciBmaWVsZE9iamVjdCA9IHtcclxuXHRcdFx0XHRpZDogX2dldE5leHRJZCgpLFxyXG5cdFx0XHRcdHBhcmVudEZpZWxkSWQ6IG51bGwsXHJcblx0XHRcdFx0cGFyZW50SWQ6IG51bGwsXHJcblx0XHRcdFx0bmFtZTogbnVsbCxcclxuXHRcdFx0XHR0YWJsZVN5c25hbWU6IG51bGwsXHJcblx0XHRcdFx0dGFibGVOYW1lOiBudWxsLFxyXG5cdFx0XHRcdHN5c25hbWU6IG51bGwsXHJcblx0XHRcdFx0dHlwZUdyb3VwOiBudWxsLFxyXG5cdFx0XHRcdHR5cGU6IG51bGwsXHJcblx0XHRcdFx0c3FsVHlwZTogbnVsbCxcclxuXHRcdFx0XHRhbGxvd2VkSW5GaWx0ZXJzOiBudWxsLFxyXG5cdFx0XHRcdGlzRGVzY3JpcHRpb25TZXRNYW51YWxseTogbnVsbCxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogbnVsbCxcclxuXHRcdFx0XHRvcmRlcjogMCxcclxuXHRcdFx0XHRndWlkOiBudWxsLFxyXG5cdFx0XHRcdHNlbGVjdGVkOiBudWxsLFxyXG5cdFx0XHRcdGNoZWNrZWQ6IG51bGxcclxuXHRcdFx0fTtcclxuXHRcdFx0cmVzZXRGaWVsZE9iamVjdChmaWVsZE9iamVjdCwgZmllbGRQcm9wZXJ0aWVzKTtcclxuXHRcdFx0cmV0dXJuIGZpZWxkT2JqZWN0O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlIGZpZWxkIG9iamVjdC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNyZWF0ZUZpZWxkT2JqZWN0ID0gZnVuY3Rpb24gKGZpZWxkTmFtZSwgdGFibGVJZCwgdGFibGVTeXNuYW1lLCB0YWJsZU5hbWUsIGZpZWxkU3lzbmFtZSwgZmllbGRUeXBlR3JvdXAsXHJcblx0XHRcdGZpZWxkVHlwZSwgZmllbGRTcWxUeXBlLCBhbGxvd2VkSW5GaWx0ZXJzLCBpc1NwUGFyYW1ldGVyKSB7XHJcblx0XHRcdHZhciBmaWVsZE9iamVjdCA9IF9jcmVhdGVGaWVsZE9iamVjdCh7XHJcblx0XHRcdFx0Z3VpZDogX2d1aWQoKSxcclxuXHRcdFx0XHRwYXJlbnRJZDogdGFibGVJZCxcclxuXHRcdFx0XHRuYW1lOiBmaWVsZE5hbWUsXHJcblx0XHRcdFx0dGFibGVTeXNuYW1lOiB0YWJsZVN5c25hbWUsXHJcblx0XHRcdFx0dGFibGVOYW1lOiB0YWJsZU5hbWUsXHJcblx0XHRcdFx0c3lzbmFtZTogZmllbGRTeXNuYW1lLFxyXG5cdFx0XHRcdHR5cGVHcm91cDogZmllbGRUeXBlR3JvdXAsXHJcblx0XHRcdFx0dHlwZTogZmllbGRUeXBlLFxyXG5cdFx0XHRcdHNxbFR5cGU6IGZpZWxkU3FsVHlwZSxcclxuXHRcdFx0XHRhbGxvd2VkSW5GaWx0ZXJzOiBhbGxvd2VkSW5GaWx0ZXJzLFxyXG5cdFx0XHRcdGlzU3BQYXJhbWV0ZXI6IGlzU3BQYXJhbWV0ZXJcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBmaWVsZE9iamVjdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb3B5IGZpZWxkIG9iamVjdCBzdGF0ZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgY29weUZpZWxkT2JqZWN0ID0gZnVuY3Rpb24gKGZyb20sIHRvLCByZXBsYWNlTmFtZT8pIHtcclxuXHRcdFx0dG8uaWQgPSBmcm9tLmlkO1xyXG5cdFx0XHR0by5ndWlkID0gZnJvbS5ndWlkO1xyXG5cdFx0XHR0by5pc0luaXRpYWxpemVkID0gZnJvbS5pc0luaXRpYWxpemVkO1xyXG5cdFx0XHR0by5wYXJlbnRJZCA9IGZyb20ucGFyZW50SWQ7XHJcblx0XHRcdHRvLnRhYmxlU3lzbmFtZSA9IGZyb20udGFibGVTeXNuYW1lO1xyXG5cdFx0XHRpZiAocmVwbGFjZU5hbWUpXHJcblx0XHRcdFx0dG8ubmFtZSA9IGZyb20ubmFtZTtcclxuXHRcdFx0dG8uc3lzbmFtZSA9IGZyb20uc3lzbmFtZTtcclxuXHRcdFx0dG8udHlwZUdyb3VwID0gZnJvbS50eXBlR3JvdXA7XHJcblx0XHRcdHRvLnR5cGUgPSBmcm9tLnR5cGU7XHJcblx0XHRcdHRvLnNxbFR5cGUgPSBmcm9tLnNxbFR5cGU7XHJcblx0XHRcdHRvLmVuYWJsZWQgPSBmcm9tLmVuYWJsZWQ7XHJcblx0XHRcdHRvLmV4cHJlc3Npb24gPSBmcm9tLmV4cHJlc3Npb247XHJcblx0XHRcdHRvLmV4cHJlc3Npb25UeXBlID0gZnJvbS5leHByZXNzaW9uVHlwZTtcclxuXHRcdFx0dG8uZ3JvdXBCeUV4cHJlc3Npb24gPSBmcm9tLmdyb3VwQnlFeHByZXNzaW9uO1xyXG5cdFx0XHR0by5jaGVja2VkID0gZnJvbS5jaGVja2VkO1xyXG5cdFx0XHR0by5pc1ZnVXNlZCA9IGZyb20uaXNWZ1VzZWQ7XHJcblx0XHRcdHRvLmJyZWFrUGFnZUFmdGVyVmcgPSBmcm9tLmJyZWFrUGFnZUFmdGVyVmc7XHJcblx0XHRcdHRvLmRlc2NyaXB0aW9uID0gZnJvbS5kZXNjcmlwdGlvbjtcclxuXHRcdFx0dG8uaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZnJvbS5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHk7XHJcblx0XHRcdHRvLm9yZGVyID0gZnJvbS5vcmRlcjtcclxuXHRcdFx0dG8uZm9ybWF0ID0gZnJvbS5mb3JtYXQ7XHJcblx0XHRcdHRvLmZvcm1hdE9wdGlvbkdyb3VwcyA9IGZyb20uZm9ybWF0T3B0aW9uR3JvdXBzO1xyXG5cdFx0XHR0by5ncm91cEJ5RnVuY3Rpb24gPSBmcm9tLmdyb3VwQnlGdW5jdGlvbjtcclxuXHRcdFx0dG8uZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucyA9IGZyb20uZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucztcclxuXHRcdFx0dG8uZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24gPSBmcm9tLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uO1xyXG5cdFx0XHR0by5ncm91cEJ5U3VidG90YWxGdW5jdGlvbk9wdGlvbnMgPSBmcm9tLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucztcclxuXHRcdFx0dG8uc29ydCA9IGZyb20uc29ydDtcclxuXHRcdFx0dG8uaXRhbGljID0gZnJvbS5pdGFsaWM7XHJcblx0XHRcdHRvLmNvbHVtbkdyb3VwID0gZnJvbS5jb2x1bW5Hcm91cDtcclxuXHRcdFx0dG8uc2VwYXJhdG9yID0gZnJvbS5zZXBhcmF0b3I7XHJcblx0XHRcdHRvLnRleHRIaWdobGlnaHQgPSBmcm9tLnRleHRIaWdobGlnaHQ7XHJcblx0XHRcdHRvLmNlbGxIaWdobGlnaHQgPSBmcm9tLmNlbGxIaWdobGlnaHQ7XHJcblx0XHRcdHRvLnZhbHVlUmFuZ2UgPSBmcm9tLnZhbHVlUmFuZ2U7XHJcblx0XHRcdHRvLndpZHRoID0gZnJvbS53aWR0aDtcclxuXHRcdFx0dG8ubGFiZWxKdXN0aWZpY2F0aW9uID0gZnJvbS5sYWJlbEp1c3RpZmljYXRpb247XHJcblx0XHRcdHRvLnZhbHVlSnVzdGlmaWNhdGlvbiA9IGZyb20udmFsdWVKdXN0aWZpY2F0aW9uO1xyXG5cdFx0XHR0by5ncmFkaWVudCA9IGZyb20uZ3JhZGllbnQ7XHJcblx0XHRcdHRvLnZpc2libGUgPSBmcm9tLnZpc2libGU7XHJcblx0XHRcdHRvLmJvbGQgPSBmcm9tLmJvbGQ7XHJcblx0XHRcdHRvLmRyaWxsRG93blN0eWxlID0gZnJvbS5kcmlsbERvd25TdHlsZTtcclxuXHRcdFx0dG8uY3VzdG9tVXJsID0gZnJvbS5jdXN0b21Vcmw7XHJcblx0XHRcdHRvLnN1YnJlcG9ydCA9IGZyb20uc3VicmVwb3J0O1xyXG5cdFx0XHR0by52YWxpZGF0ZU1lc3NhZ2VzID0gZnJvbS52YWxpZGF0ZU1lc3NhZ2VzO1xyXG5cdFx0XHR0by52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IGZyb20udmFsaWRhdGVNZXNzYWdlTGV2ZWw7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzZXQgZGF0YXNvdXJjZXMgc3RhdGVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHJlc2V0RGF0YVNvdXJjZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBkYXRhc291cmNlcyA9IGdldERhdGFTb3VyY2VzKCk7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGRhdGFzb3VyY2VzKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGRhdGFzb3VyY2VzLCBmdW5jdGlvbiAoaUNhdGVnb3J5LCBjYXRlZ29yeSkge1xyXG5cdFx0XHRcdGNhdGVnb3J5LnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRcdGNhdGVnb3J5LmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdGNhdGVnb3J5LmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGNhdGVnb3J5LmNvbGxhcHNlZCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gaXRlcmF0ZSB0YWJsZXNcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uIChpZHgsIHRhYmxlKSB7XHJcblx0XHRcdFx0XHR0YWJsZS52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHRhYmxlLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dGFibGUuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGFibGUudmFsaWRhdGVNZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdFx0dGFibGUudmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSBudWxsO1xyXG5cdFx0XHRcdFx0Ly8gaXRlcmF0ZSBmaWVsZHNcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRhYmxlLmZpZWxkcywgZnVuY3Rpb24gKGlkeCwgZmllbGQpIHtcclxuXHRcdFx0XHRcdFx0cmVzZXRGaWVsZE9iamVjdChmaWVsZCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVmcmVzaCBmaWVsZCBkZXNjcmlwdGlvblxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXV0b1VwZGF0ZUZpZWxkRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCFmaWVsZC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkpIHtcclxuXHRcdFx0XHRmaWVsZC5kZXNjcmlwdGlvbiA9IF9nZW5lcmF0ZURlc2NyaXB0aW9uKGZpZWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnZlcnQgZmllbGRzIHdoaWNoIGdvdCBmcm9tIHNlcnZlciBpbnRvIGZvcm1hdCB3aGljaCB1c2VkIGluIGFwcCBhbmQgYWRkIGl0IHRvIHRhYmxlIG9iamVjdC5cclxuXHRcdCAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcy4gU2VydmVyIHNpZGUgZmllbGRzIG9iamVjdC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNvbnZlcnRBbmRBZGRGaWVsZHMgPSBmdW5jdGlvbiAodGFibGVPYmplY3QsIGZpZWxkcykge1xyXG5cdFx0XHRpZiAoZmllbGRzICYmIGZpZWxkcy5sZW5ndGgpXHJcblx0XHRcdFx0ZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XHJcblx0XHRcdFx0XHR2YXIgZmllbGRPYmplY3QgPSBjcmVhdGVGaWVsZE9iamVjdChmaWVsZC5uYW1lLCB0YWJsZU9iamVjdC5pZCwgdGFibGVPYmplY3Quc3lzbmFtZSwgdGFibGVPYmplY3QubmFtZSwgZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0XHRcdFx0ZmllbGQudHlwZUdyb3VwLCBmaWVsZC50eXBlLCBmaWVsZC5zcWxUeXBlLCBmaWVsZC5hbGxvd2VkSW5GaWx0ZXJzLCBmaWVsZC5pc1NwUGFyYW1ldGVyID09IFwiVHJ1ZVwiKTtcclxuXHRcdFx0XHRcdGF1dG9VcGRhdGVGaWVsZERlc2NyaXB0aW9uKGZpZWxkT2JqZWN0KTtcclxuXHRcdFx0XHRcdHRhYmxlT2JqZWN0LmZpZWxkcy5wdXNoKGZpZWxkT2JqZWN0KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0dGFibGVPYmplY3QubGF6eSA9IGZhbHNlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQ29udmVydCBkYXRhc291cmNlcyBmb3IgZnV0dXJlIHVzZSBpdCBpbiBhcHBcclxuXHRcdCovXHJcblx0XHR2YXIgY29udmVydERhdGFTb3VyY2VzID0gZnVuY3Rpb24gKGRhdGFTb3VyY2VzKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGRhdGFTb3VyY2VzKSlcclxuXHRcdFx0XHRyZXR1cm4gW107XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0Ly8gaXRlcmF0ZSBjYXRlZ29yaWVzXHJcblx0XHRcdHZhciB1bmNhdGVnb3JpemVkID0gbnVsbDtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZGF0YVNvdXJjZXMsIGZ1bmN0aW9uIChpQ2F0ZWdvcnksIGNhdGVnb3J5KSB7XHJcblx0XHRcdFx0dmFyIGNhdGVnb3J5T2JqZWN0ID0ge1xyXG5cdFx0XHRcdFx0aWQ6IF9nZXROZXh0SWQoKSxcclxuXHRcdFx0XHRcdG5hbWU6IGNhdGVnb3J5LkRhdGFTb3VyY2VDYXRlZ29yeSxcclxuXHRcdFx0XHRcdHRhYmxlczogW10sXHJcblx0XHRcdFx0XHR2aXNpYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0YWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRjb2xsYXBzZWQ6IHRydWVcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdC8vIGl0ZXJhdGUgdGFibGVzXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goY2F0ZWdvcnkudGFibGVzLCBmdW5jdGlvbiAodGFibGVOYW1lLCB0YWJsZSkge1xyXG5cdFx0XHRcdFx0dmFyIHRhYmxlT2JqZWN0ID0ge1xyXG5cdFx0XHRcdFx0XHRpZDogX2dldE5leHRJZCgpLFxyXG5cdFx0XHRcdFx0XHRvcmRlcjogMCxcclxuXHRcdFx0XHRcdFx0cGFyZW50SWQ6IGNhdGVnb3J5T2JqZWN0LmlkLFxyXG5cdFx0XHRcdFx0XHRuYW1lOiB0YWJsZS5uYW1lLFxyXG5cdFx0XHRcdFx0XHRzeXNuYW1lOiB0YWJsZS5zeXNuYW1lLFxyXG5cdFx0XHRcdFx0XHR0YWJsZVR5cGU6IHRhYmxlLnRhYmxlVHlwZSxcclxuXHRcdFx0XHRcdFx0ZmllbGRzOiBbXSxcclxuXHRcdFx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0YWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0Y29sbGFwc2VkOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHR2YWxpZGF0ZU1lc3NhZ2VzOiBbXSxcclxuXHRcdFx0XHRcdFx0dmFsaWRhdGVNZXNzYWdlTGV2ZWw6IG51bGwsXHJcblx0XHRcdFx0XHRcdGxhenk6IG51bGxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHQvLyBhZGQgZmllbGQgaWYgbG9hZGRlZFxyXG5cdFx0XHRcdFx0aWYgKHRhYmxlLmZpZWxkcyA9PT0gJ0xBWklFRCcpIHtcclxuXHRcdFx0XHRcdFx0dGFibGVPYmplY3QubGF6eSA9IHRydWU7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb252ZXJ0QW5kQWRkRmllbGRzKHRhYmxlT2JqZWN0LCB0YWJsZS5maWVsZHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnlPYmplY3QudGFibGVzLnB1c2godGFibGVPYmplY3QpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRpZiAoJGl6ZW5kYVV0aWwuaXNVbmNhdGVnb3JpemVkKGNhdGVnb3J5T2JqZWN0Lm5hbWUpICYmICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MubW92ZVVuY2F0ZWdvcml6ZWRUb0xhc3RQb3N0aW9uKSB7XHJcblx0XHRcdFx0XHR1bmNhdGVnb3JpemVkID0gY2F0ZWdvcnlPYmplY3Q7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGNhdGVnb3J5T2JqZWN0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbW92ZSB1bmNhdGVnb3JpemVkIHRvIHRoZSBsYXN0IHBvc2l0aW9uOlxyXG5cdFx0XHRpZiAodW5jYXRlZ29yaXplZCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKHVuY2F0ZWdvcml6ZWQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRyZXN1bHRbMF0uY29sbGFwc2VkID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGd1aWQ6IGZpZWxkLmd1aWQsXHJcblx0XHRcdFx0c3lzbmFtZTogZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogZmllbGQuZGVzY3JpcHRpb24gPyBmaWVsZC5kZXNjcmlwdGlvbiA6ICRpemVuZGFVdGlsLmh1bWFuaXplVmFyaWFibGVOYW1lKGZpZWxkLm5hbWUpLFxyXG5cdFx0XHRcdGZvcm1hdDogZmllbGQuZm9ybWF0LFxyXG5cdFx0XHRcdGdyb3VwQnlGdW5jdGlvbjogZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLFxyXG5cdFx0XHRcdGdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uOiBmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbixcclxuXHRcdFx0XHRzdWJ0b3RhbEV4cHJlc3Npb246IGZpZWxkLnN1YnRvdGFsRXhwcmVzc2lvbixcclxuXHRcdFx0XHRhbGxvd2VkSW5GaWx0ZXJzOiBmaWVsZC5hbGxvd2VkSW5GaWx0ZXJzLFxyXG5cdFx0XHRcdHNvcnQ6IGZpZWxkLnNvcnQsXHJcblx0XHRcdFx0b3JkZXI6IGZpZWxkLm9yZGVyLFxyXG5cdFx0XHRcdGl0YWxpYzogZmllbGQuaXRhbGljLFxyXG5cdFx0XHRcdGNvbHVtbkdyb3VwOiBmaWVsZC5jb2x1bW5Hcm91cCxcclxuXHRcdFx0XHRzZXBhcmF0b3I6IGZpZWxkLnNlcGFyYXRvcixcclxuXHRcdFx0XHR2YWx1ZVJhbmdlOiBmaWVsZC52YWx1ZVJhbmdlLFxyXG5cdFx0XHRcdHRleHRIaWdobGlnaHQ6IGZpZWxkLnRleHRIaWdobGlnaHQsXHJcblx0XHRcdFx0Y2VsbEhpZ2hsaWdodDogZmllbGQuY2VsbEhpZ2hsaWdodCxcclxuXHRcdFx0XHR3aWR0aDogZmllbGQud2lkdGgsXHJcblx0XHRcdFx0bGFiZWxKdXN0aWZpY2F0aW9uOiBmaWVsZC5sYWJlbEp1c3RpZmljYXRpb24sXHJcblx0XHRcdFx0dmFsdWVKdXN0aWZpY2F0aW9uOiBmaWVsZC52YWx1ZUp1c3RpZmljYXRpb24sXHJcblx0XHRcdFx0Z3JhZGllbnQ6IGZpZWxkLmdyYWRpZW50LFxyXG5cdFx0XHRcdHZpc2libGU6IGZpZWxkLnZpc2libGUsXHJcblx0XHRcdFx0aXNWZ1VzZWQ6IGZpZWxkLmlzVmdVc2VkLFxyXG5cdFx0XHRcdGJyZWFrUGFnZUFmdGVyVmc6IGZpZWxkLmJyZWFrUGFnZUFmdGVyVmcsXHJcblx0XHRcdFx0Ym9sZDogZmllbGQuYm9sZCxcclxuXHRcdFx0XHRkcmlsbERvd25TdHlsZTogZmllbGQuZHJpbGxEb3duU3R5bGUsXHJcblx0XHRcdFx0Y3VzdG9tVXJsOiBmaWVsZC5jdXN0b21VcmwsXHJcblx0XHRcdFx0c3VicmVwb3J0OiBmaWVsZC5zdWJyZXBvcnQsXHJcblx0XHRcdFx0ZXhwcmVzc2lvbjogZmllbGQuZXhwcmVzc2lvbixcclxuXHRcdFx0XHRleHByZXNzaW9uVHlwZTogZmllbGQuZXhwcmVzc2lvblR5cGUudmFsdWUsXHJcblx0XHRcdFx0Z3JvdXBCeUV4cHJlc3Npb246IGZpZWxkLmdyb3VwQnlFeHByZXNzaW9uXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGUgb2JqZWN0IHdpdGggcmVwb3J0IGRhdGEgd2hpY2ggd2lsbCBiZSBzZW5kIHRvIHNlcnZlci5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQgPSBmdW5jdGlvbiAocHJldmlld1RvcD8pIHtcclxuXHRcdFx0Ly8gaXRlcmF0ZSB0aHJvdWdoIGFjdGl2ZSBmaWVsZHMuXHJcblx0XHRcdHZhciBhY3RpdmVUYWJsZXMgPSBnZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdFx0aWYgKGFjdGl2ZVRhYmxlcy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0XHR2YXIgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBnZXRPcHRpb25zKCkpO1xyXG5cdFx0XHR2YXIgZmlsdGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBnZXRGaWx0ZXJPcHRpb25zKCkpO1xyXG5cclxuXHRcdFx0dmFyIHJlcG9ydFNldENvbmZpZyA9IHtcclxuXHRcdFx0XHRyZXBvcnROYW1lOiByZXBvcnRTZXQucmVwb3J0TmFtZSxcclxuXHRcdFx0XHRyZXBvcnRDYXRlZ29yeTogcmVwb3J0U2V0LnJlcG9ydENhdGVnb3J5LFxyXG5cdFx0XHRcdGpvaW5lZFRhYmxlczogW10sXHJcblx0XHRcdFx0ZHJpbGxEb3duRmllbGRzOiBbXSxcclxuXHRcdFx0XHRmaWVsZHM6IFtdLFxyXG5cdFx0XHRcdGZpbHRlcnM6IFtdLFxyXG5cdFx0XHRcdGNoYXJ0czogW10sXHJcblx0XHRcdFx0b3B0aW9uczogb3B0aW9ucyxcclxuXHRcdFx0XHRmaWx0ZXJPcHRpb25zOiBmaWx0ZXJPcHRpb25zLFxyXG5cdFx0XHRcdHNjaGVkdWxlOiBudWxsLFxyXG5cdFx0XHRcdHNoYXJlOiB7fSxcclxuXHRcdFx0XHRwaXZvdDogbnVsbFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAodHlwZW9mIChyZXBvcnRTZXRDb25maWcub3B0aW9ucy5wYWdlLml0ZW1zUGVyUGFnZSkgIT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMucGFnZS5pdGVtc1BlclBhZ2UgPSBwYXJzZUludChyZXBvcnRTZXRDb25maWcub3B0aW9ucy5wYWdlLml0ZW1zUGVyUGFnZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHByZXZpZXcgdG9wXHJcblx0XHRcdHZhciByZXBvcnRUb3AgPSBwYXJzZUludChyZXBvcnRTZXRDb25maWcub3B0aW9ucy50b3ApO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc051bWJlcihwcmV2aWV3VG9wKSkge1xyXG5cdFx0XHRcdGlmICghaXNOYU4ocmVwb3J0VG9wKSAmJiAocmVwb3J0VG9wIDwgcHJldmlld1RvcCB8fCBwcmV2aWV3VG9wIDwgMCkpXHJcblx0XHRcdFx0XHRyZXBvcnRTZXRDb25maWcub3B0aW9ucy50b3AgPSByZXBvcnRUb3A7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMudG9wID0gcHJldmlld1RvcDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gc2NoZWR1bGVcclxuXHRcdFx0cmVwb3J0U2V0Q29uZmlnLnNjaGVkdWxlID0gJGl6ZW5kYVNjaGVkdWxlU2VydmljZS5nZXRTY2hlZHVsZUNvbmZpZ0ZvclNlbmQoKTtcclxuXHJcblx0XHRcdC8vIHNoYXJlXHJcblx0XHRcdHJlcG9ydFNldENvbmZpZy5zaGFyZSA9ICRpemVuZGFTaGFyZVNlcnZpY2UuZ2V0U2hhcmVDb25maWdGb3JTZW5kKCk7XHJcblxyXG5cdFx0XHQvLyBhZGQgZHJpbGxkb3duIGZpZWxkcy5cclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZ2V0RHJpbGxEb3duRmllbGRzKCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXBvcnRTZXRDb25maWcuZHJpbGxEb3duRmllbGRzLnB1c2godGhpcy5zeXNuYW1lKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBhZGQgY2hhcnRzXHJcblx0XHRcdGlmIChyZXBvcnRTZXQuY2hhcnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR2YXIgY2hhcnQgPSByZXBvcnRTZXQuY2hhcnRzWzBdO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KGNoYXJ0KSkge1xyXG5cdFx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLmNoYXJ0c1swXSA9IHtcclxuXHRcdFx0XHRcdFx0bmFtZTogY2hhcnQubmFtZSxcclxuXHRcdFx0XHRcdFx0Y2F0ZWdvcnk6IGNoYXJ0LmNhdGVnb3J5TmFtZSxcclxuXHRcdFx0XHRcdFx0cHJvcGVydGllczogY2hhcnQucHJvcGVydGllcyA/IGNoYXJ0LnByb3BlcnRpZXMgOiBudWxsXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcHJlcGFyZSB0YWJsZXNcclxuXHRcdFx0dmFyIGFjdGl2ZUZpZWxkc0xpc3QgPSBnZXRBbGxBY3RpdmVGaWVsZHMoKTtcclxuXHRcdFx0YWN0aXZlRmllbGRzTGlzdC5zb3J0KGZ1bmN0aW9uIChmaWVsZDEsIGZpZWxkMikge1xyXG5cdFx0XHRcdHJldHVybiBmaWVsZDEub3JkZXIgLSBmaWVsZDIub3JkZXI7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZUZpZWxkc0xpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRhY3RpdmVGaWVsZHNMaXN0W2ldLm9yZGVyID0gaSArIDE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZCBmaWx0ZXJzIHRvIGNvbmZpZ1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChnZXRGaWx0ZXJzKCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgZmlsdGVyID0gdGhpcztcclxuXHRcdFx0XHRpZiAoZmlsdGVyLmZpZWxkID09PSBudWxsIHx8ICFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlci5vcGVyYXRvcikpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZpbHRlci5pc1ZhbGlkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0Ly8gcHJlcGFyZSBmaWx0ZXIgdmFsdWVzIHRvIHNlbmRcclxuXHRcdFx0XHR2YXIgcHJlcGFyZWRWYWx1ZXMgPSBmaWx0ZXIudmFsdWVzO1xyXG5cdFx0XHRcdC8vIGRhdGUgc3RyaW5nIGNyZWF0ZWQgYWNjb3JkaW5nIHRvIGZvcm1hdCB3aGljaCB1c2VkIGluIFwiaW50ZXJuYWwgc3RhdGljIHN0cmluZyBEYXRlTG9jVG9VcyhzdHJpbmcgZGF0ZSlcIjpcclxuXHRcdFx0XHR2YXIgdmFsdWVUeXBlID0gZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRcdGlmICh2YWx1ZVR5cGUgPT09ICdzZWxlY3RfbXVsdGlwbGUnIHx8IHZhbHVlVHlwZSA9PT0gJ3NlbGVjdF9wb3B1cCcgfHwgdmFsdWVUeXBlID09PSAnc2VsZWN0X2NoZWNrYm94ZXMnKSB7XHJcblx0XHRcdFx0XHRwcmVwYXJlZFZhbHVlcyA9IFtmaWx0ZXIudmFsdWVzLmpvaW4oJywnKV07XHJcblx0XHRcdFx0fSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdmaWVsZCcgJiYgZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDEgJiYgZmlsdGVyLnZhbHVlc1swXSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0cHJlcGFyZWRWYWx1ZXMgPSBbZmlsdGVyLnZhbHVlc1swXS5zeXNuYW1lXTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ3R3b0RhdGVzJykge1xyXG5cclxuXHRcdFx0XHRcdHZhciBtb21lbnRPYmoxID0gbnVsbCxcclxuXHRcdFx0XHRcdFx0bW9tZW50T2JqMiA9IG51bGw7XHJcblx0XHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlc1swXSlcclxuXHRcdFx0XHRcdFx0bW9tZW50T2JqMSA9IG1vbWVudChmaWx0ZXIudmFsdWVzWzBdKTtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzWzFdKVxyXG5cdFx0XHRcdFx0XHRtb21lbnRPYmoyID0gbW9tZW50KGZpbHRlci52YWx1ZXNbMV0pO1xyXG5cdFx0XHRcdFx0cHJlcGFyZWRWYWx1ZXMgPSBbXHJcblx0XHRcdFx0XHRcdG1vbWVudE9iajEgJiYgbW9tZW50T2JqMS5pc1ZhbGlkKCkgPyBtb21lbnRPYmoxLmZvcm1hdCgkaXplbmRhU2V0dGluZ3MuZ2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoKSkgOiBudWxsLFxyXG5cdFx0XHRcdFx0XHRtb21lbnRPYmoyICYmIG1vbWVudE9iajIuaXNWYWxpZCgpID8gbW9tZW50T2JqMi5mb3JtYXQoJGl6ZW5kYVNldHRpbmdzLmdldERlZmF1bHREYXRlRm9ybWF0U3RyaW5nKCkpIDogbnVsbFxyXG5cdFx0XHRcdFx0XTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ29uZURhdGUnKSB7XHJcblx0XHRcdFx0XHR2YXIgbW9tZW50T2JqID0gbnVsbDtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzWzBdKVxyXG5cdFx0XHRcdFx0XHRtb21lbnRPYmogPSBtb21lbnQoZmlsdGVyLnZhbHVlc1swXSk7XHJcblx0XHRcdFx0XHRwcmVwYXJlZFZhbHVlcyA9IFtcclxuXHRcdFx0XHRcdFx0bW9tZW50T2JqICYmIG1vbWVudE9iai5pc1ZhbGlkKCkgPyBtb21lbnRPYmouZm9ybWF0KCRpemVuZGFTZXR0aW5ncy5nZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZygpKSA6IG51bGxcclxuXHRcdFx0XHRcdF07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgZmlsdGVyT2JqID0ge1xyXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IGZpbHRlci5yZXF1aXJlZCxcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBmaWx0ZXIuZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRwYXJhbWV0ZXI6IGZpbHRlci5wYXJhbWV0ZXIsXHJcblx0XHRcdFx0XHRzeXNuYW1lOiBmaWx0ZXIuZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0XHRcdG9wZXJhdG9yU3RyaW5nOiBmaWx0ZXIub3BlcmF0b3IudmFsdWUsXHJcblx0XHRcdFx0XHR2YWx1ZXM6IHByZXBhcmVkVmFsdWVzLFxyXG5cdFx0XHRcdFx0dGl0bGVGb3JtYXQ6IGZpbHRlci50aXRsZUZvcm1hdCxcclxuXHRcdFx0XHRcdGN1c3RvbVBvcHVwVGVtcGxhdGVVcmw6IGZpbHRlci5jdXN0b21Qb3B1cFRlbXBsYXRlVXJsXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR2YXIgaXNCbGFuayA9IHRydWU7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZmlsdGVyT2JqLnZhbHVlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMgIT09ICcnKSBpc0JsYW5rID0gZmFsc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKGlzQmxhbmspXHJcblx0XHRcdFx0XHRmaWx0ZXJPYmoudmFsdWVzID0gW107XHJcblxyXG5cdFx0XHRcdHJlcG9ydFNldENvbmZpZy5maWx0ZXJzLnB1c2goZmlsdGVyT2JqKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBwaXZvdFxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5zeW5jUGl2b3RTdGF0ZShnZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcygpKTtcclxuXHRcdFx0dmFyIHBpdm90Q29uZmlnID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuZ2V0UGl2b3REYXRhRm9yU2VuZCgpO1xyXG5cdFx0XHRpZiAoIXBpdm90Q29uZmlnKVxyXG5cdFx0XHRcdHJlcG9ydFNldENvbmZpZy5waXZvdCA9IG51bGw7XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHJlcG9ydFNldENvbmZpZy5waXZvdCA9IHtcclxuXHRcdFx0XHRcdG9wdGlvbnM6IHBpdm90Q29uZmlnLm9wdGlvbnNcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHJlcG9ydFNldENvbmZpZy5waXZvdC5waXZvdENvbHVtbiA9IGNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZChwaXZvdENvbmZpZy5waXZvdENvbHVtbik7XHJcblx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLnBpdm90LmNlbGxWYWx1ZXMgPSBbXTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChwaXZvdENvbmZpZy5jZWxsVmFsdWVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcylcclxuXHRcdFx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLnBpdm90LmNlbGxWYWx1ZXMucHVzaChjcmVhdGVGaWVsZE9iamVjdEZvclNlbmQodGhpcykpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNyZWF0ZSBjb25maWdcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goYWN0aXZlVGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIHRhYmxlID0gdGhpcztcclxuXHRcdFx0XHR2YXIgdGFibGVDb25maWcgPSB7XHJcblx0XHRcdFx0XHRzeXNuYW1lOiB0YWJsZS5zeXNuYW1lXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBhRmllbGRzID0gZ2V0QWN0aXZlRmllbGRzKHRhYmxlKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChhRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgZmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLmZpZWxkcy5wdXNoKGNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZChmaWVsZCkpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJlcG9ydFNldENvbmZpZy5qb2luZWRUYWJsZXMucHVzaCh0YWJsZUNvbmZpZyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkbG9nLmRlYnVnKCdyZXBvcnRTZXRDb25maWc6ICcsIHJlcG9ydFNldENvbmZpZyk7XHJcblx0XHRcdHJldHVybiByZXBvcnRTZXRDb25maWc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZCBmaWVsZHMgZm9yIGxhenkgdGFibGVcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZSBcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGxvYWRMYXp5RmllbGRzID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGlmICghdGFibGUubGF6eSkge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0RmllbGRzSW5mbyh0YWJsZS5zeXNuYW1lKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRjb252ZXJ0QW5kQWRkRmllbGRzKHRhYmxlLCBkYXRhLmZpZWxkcyk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHRydWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhciByZXBvcnQgcHJldmlldy5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsZWFyUmVwb3J0UHJldmlld0h0bWwgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHByZXZpZXdIdG1sID0gJyc7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuY2FuY2VsQWxsUHJldmlld1F1ZXJpZXMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgYW5kIGFwcGx5IHByZXZpZXcgZm9yIGN1cnJlbnQgcmVwb3J0IHNldCBjb25maWcuXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRSZXBvcnRQcmV2aWV3SHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Y2xlYXJSZXBvcnRQcmV2aWV3SHRtbCgpO1xyXG5cdFx0XHRpc1ByZXZpZXdTcGxhc2hWaXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0JHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcclxuXHRcdFx0XHR2YXIgcmVwb3J0U2V0VG9TZW5kID0gY3JlYXRlUmVwb3J0U2V0Q29uZmlnRm9yU2VuZChvcHRpb25zLnByZXZpZXdUb3ApO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0UmVwb3J0U2V0UHJldmlld1F1ZXVlZChyZXBvcnRTZXRUb1NlbmQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdHByZXZpZXdIdG1sID0gZGF0YTtcclxuXHRcdFx0XHRcdGlzUHJldmlld1NwbGFzaFZpc2libGUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGdldE9wdGlvbnMoKS5yb3dzUmFuZ2UgPSBudWxsO1xyXG5cdFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdC8vIHJlamVjdFxyXG5cdFx0XHRcdFx0aXNQcmV2aWV3U3BsYXNoVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgdG9wIHZhbHVlIGZvciBwcmV2aWV3XHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXRQcmV2aWV3VG9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdHZhciBvcHRpb25zID0gZ2V0T3B0aW9ucygpO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xyXG5cdFx0XHRcdG9wdGlvbnMucHJldmlld1RvcCA9IC0yMTQ3NDgzNjQ4O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG9wdGlvbnMucHJldmlld1RvcCA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTYXZlIHJlcG9ydCBzZXRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHNhdmVSZXBvcnRTZXQgPSBmdW5jdGlvbiAobmFtZSwgY2F0ZWdvcnkpIHtcclxuXHRcdFx0dmFyIHJzID0gZ2V0UmVwb3J0U2V0KCk7XHJcblx0XHRcdHZhciBuYW1lVG9TYXZlID0gcnMucmVwb3J0TmFtZSxcclxuXHRcdFx0XHRjYXRlZ29yeVRvU2F2ZSA9IHJzLnJlcG9ydENhdGVnb3J5O1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQobmFtZSkpIHtcclxuXHRcdFx0XHRuYW1lVG9TYXZlID0gbmFtZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkgJiYgY2F0ZWdvcnkgIT09ICcnKSB7XHJcblx0XHRcdFx0Y2F0ZWdvcnlUb1NhdmUgPSBjYXRlZ29yeTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjYXRlZ29yeVRvU2F2ZSA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJzLnJlcG9ydE5hbWUgPSBuYW1lVG9TYXZlO1xyXG5cdFx0XHRycy5yZXBvcnRDYXRlZ29yeSA9IGNhdGVnb3J5VG9TYXZlO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYVV0aWwuaXNVbmNhdGVnb3JpemVkKHJzLnJlcG9ydENhdGVnb3J5KSkge1xyXG5cdFx0XHRcdHJzLnJlcG9ydENhdGVnb3J5ID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJlcG9ydFNldFRvU2VuZCA9IGNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LnNhdmVSZXBvcnRTZXQocmVwb3J0U2V0VG9TZW5kKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuXHRcdFx0XHRcdHZhciByZXBvcnRTZXRGdWxsTmFtZSA9IF9nZXRSZXBvcnRTZXRGdWxsTmFtZSgpO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0U2V0RnVsbE5hbWUpKVxyXG5cdFx0XHRcdFx0XHQkaXplbmRhVXJsLnNldFJlcG9ydEZ1bGxOYW1lKHJlcG9ydFNldEZ1bGxOYW1lKTtcclxuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNlbmQgc2VuZCByZXBvcnQgc2V0IHRvIHNlcnZlciBhbmQgc2V0IGl0IGFzIENSU1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0UmVwb3J0U2V0QXNDcnMgPSBmdW5jdGlvbiAoYXBwbHlQcmV2aWV3VG9wPykge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHR2YXIgcmVwb3J0U2V0VG9TZW5kID0gY3JlYXRlUmVwb3J0U2V0Q29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0XHRcdGlmIChhcHBseVByZXZpZXdUb3ApIHtcclxuXHRcdFx0XHRcdHJlcG9ydFNldFRvU2VuZC5vcHRpb25zLmFwcGx5UHJldmlld1RvcCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuc2V0UmVwb3J0QXNDcnMocmVwb3J0U2V0VG9TZW5kKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuXHRcdFx0XHRcdGlmIChyZXN1bHQgPT09ICdPSycpIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZShbdHJ1ZV0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZShbZmFsc2UsIHJlc3VsdF0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZW5lcmF0ZSBwZGYgd2l0aCBjdXJyZW50IHJlcG9ydCBhbmQgc2VuZCBmaWxlIHRvIHVzZXJcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGV4cG9ydFJlcG9ydEFzID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIHJlcG9ydFNldFRvU2VuZCA9IGNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0XHRyZXBvcnRTZXRUb1NlbmQub3B0aW9ucy5hcHBseVByZXZpZXdUb3AgPSBmYWxzZTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmV4cG9ydFJlcG9ydEluTmV3V2luZG93KHJlcG9ydFNldFRvU2VuZCwgZXhwb3J0VHlwZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHRydWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZW5lcmF0ZSBodG1sIGFuZCBvcGVuIHByaW50IHBhZ2UuXHJcblx0XHQgKi9cclxuXHRcdHZhciBwcmludFJlcG9ydEFzSHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIHJlcG9ydFNldFRvU2VuZCA9IGNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0XHRyZXBvcnRTZXRUb1NlbmQub3B0aW9ucy5hcHBseVByZXZpZXdUb3AgPSBmYWxzZTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmV4cG9ydFJlcG9ydEluTmV3V2luZG93KHJlcG9ydFNldFRvU2VuZCwgJ3ByaW50JykudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHRydWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmludCByZXBvcnQgZnVuY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHByaW50UmVwb3J0ID0gZnVuY3Rpb24gKHByaW50VHlwZSkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHRpZiAocHJpbnRUeXBlID09PSAnaHRtbCcpIHtcclxuXHRcdFx0XHRcdHByaW50UmVwb3J0QXNIdG1sKCkudGhlbihmdW5jdGlvbiAoc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6ICcnXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcmludFR5cGUgPT09ICdwZGYnKSB7XHJcblx0XHRcdFx0XHRleHBvcnRSZXBvcnRBcygnUERGJykudGhlbihmdW5jdGlvbiAoc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6ICcnXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJ1Vua25vd24gcHJpbnQgdHlwZSAnICsgcHJpbnRUeXBlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gcmVwb3J0IGluIHJlcG9ydCBkZXNpZ25lci5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIG9wZW5SZXBvcnRJbkRlc2lnbmVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRzZXRSZXBvcnRTZXRBc0NycygpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciB1cmwgPSAkaXplbmRhVXJsLnNldHRpbmdzLnVybFJlcG9ydERlc2lnbmVyO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHJlcG9ydFNldC5yZXBvcnROYW1lKSAmJiByZXBvcnRTZXQucmVwb3J0TmFtZSAhPT0gJycpXHJcblx0XHRcdFx0XHR1cmwgKz0gJz9ybj0nICsgX2dldFJlcG9ydFNldEZ1bGxOYW1lKCkgKyAnJnRhYj1GaWVsZHMnO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHVybCArPSAnP3RhYj1GaWVsZHMnO1xyXG5cdFx0XHRcdCR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGdldEFwcGVuZGVkVXJsKHVybCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV4cG9ydCByZXBvcnQgZnVuY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGV4cG9ydFJlcG9ydCA9IGZ1bmN0aW9uIChleHBvcnRUeXBlKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGlmIChleHBvcnRUeXBlID09PSAnZXhjZWwnKSB7XHJcblx0XHRcdFx0XHRleHBvcnRSZXBvcnRBcygnWExTKE1JTUUpJykudGhlbihmdW5jdGlvbiAoc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6ICcnXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChleHBvcnRUeXBlID09PSAnd29yZCcpIHtcclxuXHRcdFx0XHRcdGV4cG9ydFJlcG9ydEFzKCdET0MnKS50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcblx0XHRcdFx0XHRcdFx0bWVzc2FnZTogJydcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGV4cG9ydFR5cGUgPT09ICdjc3YnKSB7XHJcblx0XHRcdFx0XHR2YXIgZXhwb3J0TW9kZSA9ICdDU1YnO1xyXG5cdFx0XHRcdFx0aWYgKCRpemVuZGFTZXR0aW5ncy5nZXRCdWxrQ3N2KCkpXHJcblx0XHRcdFx0XHRcdGV4cG9ydE1vZGUgPSAnQlVMS0NTVic7XHJcblx0XHRcdFx0XHRleHBvcnRSZXBvcnRBcyhleHBvcnRNb2RlKS50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcblx0XHRcdFx0XHRcdFx0bWVzc2FnZTogJydcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGV4cG9ydFR5cGUgPT09ICd4bWwnKSB7XHJcblx0XHRcdFx0XHRleHBvcnRSZXBvcnRBcygnWE1MJykudGhlbihmdW5jdGlvbiAoc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6ICcnXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJ1Vua25vd24gZXhwb3J0IHR5cGUgJyArIGV4cG9ydFR5cGVcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VuZCByZXBvcnQgbGluayB2aWEgY2xpZW50IGVtYWlsXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZW5kUmVwb3J0TGlua0VtYWlsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgcmVwb3J0SW5mbyA9ICRpemVuZGFVcmwuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVwb3J0SW5mbykgfHwgIWFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0SW5mby5mdWxsTmFtZSkgfHwgcmVwb3J0SW5mby5mdWxsTmFtZSA9PT0gJycpXHJcblx0XHRcdFx0dGhyb3cgJ0NhblxcJ3Qgc2VuZCBlbWFpbCB3aXRob3V0IHJlcG9ydCBuYW1lJztcclxuXHRcdFx0dmFyIHJlcG9ydFZpZXdlckxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlQWxsKCRpemVuZGFVcmwuc2V0dGluZ3MudXJsSW5zdGFudFJlcG9ydCwgJGl6ZW5kYVVybC5zZXR0aW5ncy51cmxSZXBvcnRWaWV3ZXIpO1xyXG5cdFx0XHR2YXIgcmVkaXJlY3RVcmwgPSAnP3N1YmplY3Q9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXBvcnRJbmZvLmZ1bGxOYW1lKSArICcmYm9keT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlcG9ydFZpZXdlckxvY2F0aW9uKTtcclxuXHRcdFx0cmVkaXJlY3RVcmwgPSAnbWFpbHRvOicgKyByZWRpcmVjdFVybC5yZXBsYWNlKC8gL2csICclMjAnKTtcclxuXHRcdFx0JHdpbmRvdy50b3AubG9jYXRpb24gPSBnZXRBcHBlbmRlZFVybChyZWRpcmVjdFVybCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZCBpbnN0YW50IHJlcG9ydCBkYXRhc291cmNlc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgbG9hZERhdGFTb3VyY2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldENvbnRyYWludHNJbmZvKCkudGhlbihmdW5jdGlvbiAoY29udHJhaW50c0RhdGEpIHtcclxuXHRcdFx0XHRcdHNldENvbnN0cmFpbnRzKGNvbnRyYWludHNEYXRhKTtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0RGF0YXNvdXJjZXMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdHZhciBjb252ZXJ0ZWREYXRhID0gY29udmVydERhdGFTb3VyY2VzKGRhdGEpO1xyXG5cdFx0XHRcdFx0XHRzZXREYXRhU291cmNlcyhjb252ZXJ0ZWREYXRhKTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gY2hhcnRzXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IGN1cnJlbnQgY2hhcnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHNlbGVjdENoYXJ0ID0gZnVuY3Rpb24gKGNoYXJ0KSB7XHJcblx0XHRcdHJlcG9ydFNldC5jaGFydHNbMF0gPSBjaGFydDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY3VycmVudCBjaGFydFxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0U2VsZWN0ZWRDaGFydCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHJlcG9ydFNldC5jaGFydHMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRyZXR1cm4gcmVwb3J0U2V0LmNoYXJ0c1swXTtcclxuXHRcdH1cclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gZmlsdGVyc1xyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHR2YXIgdmFsaWRhdGVGaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdGZpbHRlci5pc1ZhbGlkID0gdHJ1ZTtcclxuXHRcdFx0ZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRmaWx0ZXIudmFsaWRhdGlvbk1lc3NhZ2VTdHJpbmcgPSAnJztcclxuXHJcblx0XHRcdC8vIGNoZWNrOiBpcyBmaWx0ZXIgcmVmZXIgdG8gZmllbGQgd2hpY2ggaW4gYWN0aXZlIHRhYmxlLlxyXG5cdFx0XHRpZiAoZmlsdGVyLmZpZWxkICE9PSBudWxsKSB7XHJcblx0XHRcdFx0dmFyIGFGaWVsZHMgPSBnZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKTtcclxuXHRcdFx0XHR2YXIgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdFx0XHR2YXIgZmlsdGVyRmllbGQgPSBmaWx0ZXIuZmllbGQ7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goYUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc3lzbmFtZSA9PT0gZmlsdGVyRmllbGQuc3lzbmFtZSlcclxuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRmaWx0ZXIudmFsaWRhdGlvbk1lc3NhZ2VzLnB1c2goXHJcblx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRmlsdGVyRmllbGRJc250SW5jbHVkZWQnLCAnRmlsdGVyIGZpZWxkIHJlZmVycyBvbiBkYXRhc291cmNlIHdoaWNoIGlzblxcJ3QgaW5jbHVkZWQgdG8gcmVwb3J0JykpO1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlU3RyaW5nID0gZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlcy5qb2luKCcsICcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEaXNhYmxlIGZpbHRlcnMgd2hpY2ggYXJlIG5vdCBwYXNzIHZhbGlkYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHZhbGlkYXRlRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gocmVwb3J0U2V0LmZpbHRlcnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YWxpZGF0ZUZpbHRlcih0aGlzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTWFyayBmaWx0ZXJzIGFzIHJlYWR5IHRvIHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHN0YXJ0RmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmVwb3J0U2V0LmZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdFx0ZmlsdGVyLmlzRmlsdGVyUmVhZHkgPSB0cnVlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpbmQgZmlsdGVyIG9wZXJhdG9yIGJ5IHN0cmluZyB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0RmlsdGVyT3BlcmF0b3JCeVZhbHVlID0gZnVuY3Rpb24gKGZpbHRlciwgdmFsdWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSB8fCAhdmFsdWUpXHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdHZhciByZXN1bHQgPSBudWxsO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmaWx0ZXIub3BlcmF0b3JzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMudmFsdWUgPT09IHZhbHVlKVxyXG5cdFx0XHRcdFx0cmVzdWx0ID0gdGhpcztcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hlY2sgYWxsIHN0b3JlZCBwcm9jZWR1cmUgcGFyYW1ldGVycyBhc3NpZ25lZCBpbiBmaWx0ZXJzXHJcblx0XHQgKi9cclxuXHRcdHZhciBpc0FsbFNwUGFyYW1ldGVyc0Fzc2lnbmVkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgZmlsdGVycyA9IGdldEZpbHRlcnMoKTtcclxuXHRcdFx0dmFyIHNwUGFyYW1GaWVsZHMgPSBnZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcygpLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmllbGQuaXNTcFBhcmFtZXRlcjtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmIChzcFBhcmFtRmllbGRzLmxlbmd0aCA9PSAwKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0bGV0IGZvdW5kVW5hc3NpZ25lZFBhcmFtOiBib29sZWFuID0gZmFsc2U7XHJcblx0XHRcdHNwUGFyYW1GaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHR2YXIgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdFx0XHRmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRcdFx0aWYgKGZpbHRlci5maWVsZCAmJiBmaWx0ZXIuZmllbGQgPT09IGZpZWxkKVxyXG5cdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKCFmb3VuZClcclxuXHRcdFx0XHRcdGZvdW5kVW5hc3NpZ25lZFBhcmFtID0gdHJ1ZTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiAhZm91bmRVbmFzc2lnbmVkUGFyYW07XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGZpbHRlciBvcGVyYXRvciBsaXN0IGZvciBmaWVsZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0RmllbGRGaWx0ZXJPcGVyYXRvckxpc3QgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIHRhYmxlc1BhcmFtID0gZ2V0QWN0aXZlVGFibGVzKCkubWFwKGZ1bmN0aW9uICh0YWJsZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRhYmxlLnN5c25hbWU7XHJcblx0XHRcdFx0fSkuam9pbignLCcpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0RmllbGRPcGVyYXRvckxpc3QoZmllbGQsIHRhYmxlc1BhcmFtKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChkYXRhLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHZhciBncm91cE5hbWUgPSB0aGlzLm5hbWUgPyB0aGlzLm5hbWUgOiB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRoaXMub3B0aW9ucywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnZhbHVlICE9PSAnLi4uJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvblRvQWRkID0gYW5ndWxhci5leHRlbmQoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRncm91cE5hbWU6IGdyb3VwTmFtZVxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgdGhpcyk7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucHVzaChvcHRpb25Ub0FkZCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShyZXN1bHQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgZmlsdGVyIG9wZXJhdG9yIGFuZCB1cGRhdGUgYXZhaWxhYmxlIHZhbHVlc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0RmlsdGVyT3BlcmF0b3IgPSBmdW5jdGlvbiAoZmlsdGVyLCBvcGVyYXRvck5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlci5maWVsZCkpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5vcGVyYXRvcnMgPSBbXTtcclxuXHRcdFx0XHRcdGZpbHRlci5vcGVyYXRvciA9IG51bGw7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRnZXRGaWVsZEZpbHRlck9wZXJhdG9yTGlzdChmaWx0ZXIuZmllbGQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0Ly8gc2VsZWN0IGZpbHRlciBvcGVyYXRvciB0byBhcHBseVxyXG5cdFx0XHRcdFx0dmFyIG9wZXJhdG9yTmFtZVRvQXBwbHkgPSBudWxsO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLm9wZXJhdG9yKSlcclxuXHRcdFx0XHRcdFx0b3BlcmF0b3JOYW1lVG9BcHBseSA9IGZpbHRlci5vcGVyYXRvci52YWx1ZTtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKG9wZXJhdG9yTmFtZSkpXHJcblx0XHRcdFx0XHRcdG9wZXJhdG9yTmFtZVRvQXBwbHkgPSBvcGVyYXRvck5hbWU7XHJcblxyXG5cdFx0XHRcdFx0ZmlsdGVyLm9wZXJhdG9ycyA9IHJlc3VsdDtcclxuXHRcdFx0XHRcdGZpbHRlci5vcGVyYXRvciA9IGdldEZpbHRlck9wZXJhdG9yQnlWYWx1ZShmaWx0ZXIsIG9wZXJhdG9yTmFtZVRvQXBwbHkpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBmaWVsZCB2YWx1ZVxyXG5cdFx0XHRcdFx0dmFyIG9wZXJhdG9yVHlwZSA9IGdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUoZmlsdGVyLm9wZXJhdG9yKTtcclxuXHRcdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICdmaWVsZCcpIHtcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFtnZXRGaWVsZEJ5U3lzTmFtZShmaWx0ZXIudmFsdWVzWzBdKV07XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG9wZXJhdG9yVHlwZSA9PT0gJ29uZURhdGUnIHx8IG9wZXJhdG9yVHlwZSA9PT0gJ3R3b0RhdGVzJykge1xyXG5cdFx0XHRcdFx0XHR2YXIgdmFsdWVEYXRlcyA9IFtdO1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmaWx0ZXIudmFsdWVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gYWNjZXB0IGJvdGggZm9ybWF0cyBNTS9ERC9ZWVlZIGFuZCBNL0QvWVlZWVxyXG5cdFx0XHRcdFx0XHRcdHZhciBwYXJzZWREYXRlID0gbW9tZW50KHRoaXMsIFskaXplbmRhU2V0dGluZ3MuZ2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoKSwgJGl6ZW5kYVNldHRpbmdzLmdldERlZmF1bHREYXRlRm9ybWF0U3RyaW5nKCdNL0QvWVlZWScpXSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHBhcnNlZERhdGUuaXNWYWxpZCgpKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVEYXRlcy5wdXNoKHBhcnNlZERhdGUuX2QpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IHZhbHVlRGF0ZXM7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGZpbHRlci5vcGVyYXRvciAmJiBmaWx0ZXIub3BlcmF0b3IudmFsdWUgPT09ICdFcXVhbHNfVGV4dEFyZWEnKSB7XHJcblx0XHRcdFx0XHRcdGZpbHRlci5jdXJyZW50VmFsdWUgPSBmaWx0ZXIudmFsdWVzLmpvaW4oKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIExvYWQgZmlsdGVyIGV4aXN0ZW50IHZhbHVlcyBsaXN0ICh5b3UgbmVlZCB0byBlbnN1cmUgdGhhdCBhbGwgb3BlcmF0b3JzIHdlcmUgYXBwbHllZCBiZWZvcmUgc3RhcnRpbmcgdXBkYXRlIGV4aXN0aW5nIHZhbHVlcylcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMgPSBmdW5jdGlvbiAoZmlsdGVyLCBmb3JjZVVwZGF0ZT8pIHtcclxuXHRcdFx0Ly8gcGFyc2UgdW5pY29kZSBzeW1ib2xzIHV0aWxcclxuXHRcdFx0ZnVuY3Rpb24gcGFyc2VIdG1sVW5pY29kZUVudGl0aWVzKHN0cikge1xyXG5cdFx0XHRcdHJldHVybiBhbmd1bGFyLmVsZW1lbnQoJzx0ZXh0YXJlYSAvPicpLmh0bWwoc3RyKS50ZXh0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNvbnZlcnQgb3B0aW9ucyB3aGljaCB3ZSBoYXZlIGdvdCBmcm9tIHNlcnZlci5cclxuXHRcdFx0ZnVuY3Rpb24gY29udmVydE9wdGlvbnNGb3JTZWxlY3Qob3B0aW9ucywgb3BlcmF0b3JUeXBlKSB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkob3B0aW9ucykpXHJcblx0XHRcdFx0XHRyZXR1cm4gW107XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBvcHRpb24gPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKG9wdGlvbi52YWx1ZSA9PT0gJy4uLicpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG9wZXJhdG9yVHlwZSA9PT0gJ3NlbGVjdCcgfHwgb3BlcmF0b3JUeXBlID09PSAnaW5UaW1lUGVyaW9kJyB8fCBvcGVyYXRvclR5cGUgPT09ICdzZWxlY3RfbXVsdGlwbGUnKSB7XHJcblx0XHRcdFx0XHRcdFx0b3B0aW9uLnRleHQgPSBwYXJzZUh0bWxVbmljb2RlRW50aXRpZXMob3B0aW9uLnRleHQpO1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbi52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHQucHVzaChvcHRpb24pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvcHRpb24udGV4dCA9IHBhcnNlSHRtbFVuaWNvZGVFbnRpdGllcyhvcHRpb24udGV4dCk7XHJcblx0XHRcdFx0XHRcdG9wdGlvbi52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gob3B0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBzeW5jVmFsdWVzKGZpbHRlcikge1xyXG5cdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMCB8fCBmaWx0ZXIub3BlcmF0b3IudmFsdWUgPT09ICdFcXVhbHNfQXV0b2NvbXBsZXRlJylcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgaSA9IDA7XHJcblx0XHRcdFx0d2hpbGUgKGkgPCBmaWx0ZXIudmFsdWVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpbHRlclZhbHVlID0gZmlsdGVyLnZhbHVlc1tpXTtcclxuXHRcdFx0XHRcdHZhciBtYXRjaGluZ0V4aXN0ZW50VmFsdWVzID0gYW5ndWxhci5lbGVtZW50LmdyZXAoZmlsdGVyLmV4aXN0ZW50VmFsdWVzLCBmdW5jdGlvbiAoZXhpc3RlbnRWYWx1ZTogYW55KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBleGlzdGVudFZhbHVlLnZhbHVlID09PSBmaWx0ZXJWYWx1ZTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0aWYgKCFtYXRjaGluZ0V4aXN0ZW50VmFsdWVzLmxlbmd0aClcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGkrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJldHVybiBwcm9taXNlXHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWx0ZXIpKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLmZpZWxkKSB8fCAhYW5ndWxhci5pc09iamVjdChmaWx0ZXIub3BlcmF0b3IpKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMgPSBbXTtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbXTtcclxuXHRcdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgaXNDYXNjYWRpbmdEaXNhYmxlZCA9ICR3aW5kb3cubnJ2Q29uZmlnICYmICEkd2luZG93Lm5ydkNvbmZpZy5DYXNjYWRlRmlsdGVyVmFsdWVzO1xyXG5cdFx0XHRcdGlmICghZm9yY2VVcGRhdGUgJiYgKHJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljIHx8IGlzQ2FzY2FkaW5nRGlzYWJsZWQpKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBnZXQgY29uc3RyYWludCBmaWx0ZXJzXHJcblx0XHRcdFx0dmFyIGFsbEZpbHRlcnMgPSBnZXRGaWx0ZXJzKCk7XHJcblx0XHRcdFx0dmFyIGlkeCA9IGFsbEZpbHRlcnMuaW5kZXhPZihmaWx0ZXIpO1xyXG5cdFx0XHRcdGlmIChpZHggPCAwKSB7XHJcblx0XHRcdFx0XHR0aHJvdyAnRmlsdGVyICcgKyAoZmlsdGVyLmZpZWxkICE9PSBudWxsID8gZmlsdGVyLmZpZWxkLnN5c25hbWUgOiAnJykgKyAnIGlzblxcJ3QgZm91bmQgaW4gcmVwb3J0IHNldCBmaWx0ZXJzIGNvbGxlY3Rpb24uJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gQWRkIGNvbnN0cmFpbnQgZmlsdGVycyBpZiBmaWx0ZXIgbG9naWMgd2Fzbid0IGFwcGx5ZWRcclxuXHRcdFx0XHR2YXIgY29uc3RyYWludEZpbHRlcnMgPSBbXTtcclxuXHRcdFx0XHRpZiAoIXJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljKSB7XHJcblx0XHRcdFx0XHRjb25zdHJhaW50RmlsdGVycyA9IGFsbEZpbHRlcnMuc2xpY2UoMCwgaWR4KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGxvYWQgZXhpc3RlbnQgdmFsdWVzXHJcblx0XHRcdFx0dmFyIG9wZXJhdG9yVHlwZSA9IGdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUoZmlsdGVyLm9wZXJhdG9yKTtcclxuXHRcdFx0XHRpZiAoWydzZWxlY3QnLCAnRXF1YWxzX0F1dG9jb21wbGV0ZScsICdzZWxlY3RfbXVsdGlwbGUnLCAnc2VsZWN0X3BvcHVwJywgJ3NlbGVjdF9jaGVja2JveGVzJ10uaW5kZXhPZihvcGVyYXRvclR5cGUpID49IDApIHtcclxuXHRcdFx0XHRcdHNldFJlcG9ydFNldEFzQ3JzKGZhbHNlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeS5nZXRFeGlzdGVudFZhbHVlc0xpc3QoZ2V0QWN0aXZlVGFibGVzKCksIGNvbnN0cmFpbnRGaWx0ZXJzLCBmaWx0ZXIsIHRydWUsIHJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljKVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMgPSBjb252ZXJ0T3B0aW9uc0ZvclNlbGVjdChkYXRhWzBdLm9wdGlvbnMsIG9wZXJhdG9yVHlwZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRzeW5jVmFsdWVzKGZpbHRlcik7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgZGVmYXVsdFZhbHVlID0gJGl6ZW5kYVV0aWwuZ2V0T3B0aW9uQnlWYWx1ZShmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMsICcuLi4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMCAmJiBkZWZhdWx0VmFsdWUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbZGVmYXVsdFZhbHVlLnZhbHVlXTtcclxuXHRcdFx0XHRcdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKG9wZXJhdG9yVHlwZSA9PT0gJ2luVGltZVBlcmlvZCcpIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnkuZ2V0UGVyaW9kTGlzdCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLmV4aXN0ZW50VmFsdWVzID0gY29udmVydE9wdGlvbnNGb3JTZWxlY3QoZGF0YVswXS5vcHRpb25zLCBvcGVyYXRvclR5cGUpO1xyXG5cdFx0XHRcdFx0XHRzeW5jVmFsdWVzKGZpbHRlcik7XHJcblx0XHRcdFx0XHRcdHZhciBkZWZhdWx0VmFsdWUgPSAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKGZpbHRlci5leGlzdGVudFZhbHVlcywgJy4uLicpO1xyXG5cdFx0XHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDAgJiYgZGVmYXVsdFZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbZGVmYXVsdFZhbHVlLnZhbHVlXTtcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZpbHRlci5leGlzdGVudFZhbHVlcyA9IFtdO1xyXG5cdFx0XHRcdFx0ZmlsdGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldCBmaWx0ZXIgZXhpc3RpbmcgdmFsdWVzIHdoZW4gZmlsdGVyTG9naWNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHJlZnJlc2hGaWx0ZXJzRm9yRmlsdGVyTG9naWMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGlmICghcmVwb3J0U2V0LmZpbHRlck9wdGlvbnMuZmlsdGVyTG9naWMpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGFsbEZpbHRlcnMgPSBnZXRGaWx0ZXJzKCk7XHJcblx0XHRcdFx0dmFyIHByb21pc2VzID0gW107XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goYWxsRmlsdGVycywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpbHRlciA9IHRoaXM7XHJcblx0XHRcdFx0XHR2YXIgcHJvbWlzZSA9IHVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCB0cnVlKTtcclxuXHRcdFx0XHRcdHByb21pc2VzLnB1c2gocHJvbWlzZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVmcmVzaCBuZXh0IGZpbHRlciB2YWx1ZXMuXHJcblx0XHQgKi9cclxuXHRcdHZhciByZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdHZhciBpc0Nhc2NhZGluZ0Rpc2FibGVkID0gJHdpbmRvdy5ucnZDb25maWcgJiYgISR3aW5kb3cubnJ2Q29uZmlnLkNhc2NhZGVGaWx0ZXJWYWx1ZXM7XHJcblx0XHRcdFx0aWYgKHJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljIHx8IGlzQ2FzY2FkaW5nRGlzYWJsZWQpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGFsbEZpbHRlcnMgPSBnZXRGaWx0ZXJzKCk7XHJcblx0XHRcdFx0dmFyIGlkeDtcclxuXHRcdFx0XHR2YXIgZmlsdGVyc1RvUmVmcmVzaDtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc09iamVjdChmaWx0ZXIpKSB7XHJcblx0XHRcdFx0XHRpZHggPSBhbGxGaWx0ZXJzLmluZGV4T2YoZmlsdGVyKTtcclxuXHRcdFx0XHRcdGlmIChpZHggPCAwKSB7XHJcblx0XHRcdFx0XHRcdHRocm93ICdGaWx0ZXIgJyArIChmaWx0ZXIuZmllbGQgIT09IG51bGwgPyBmaWx0ZXIuZmllbGQuc3lzbmFtZSArICcgJyA6ICcnKSArICdpc25cXCd0IGZvdW5kIGluIHJlcG9ydCBzZXQgZmlsdGVycyBjb2xsZWN0aW9uLic7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmaWx0ZXJzVG9SZWZyZXNoID0gYWxsRmlsdGVycy5zbGljZShpZHggKyAxKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZmlsdGVyc1RvUmVmcmVzaCA9IGFsbEZpbHRlcnMuc2xpY2UoMCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBjYXNjYWRpbmcgZmlsdGVycyB1cGRhdGVcclxuXHRcdFx0XHRpZiAoZmlsdGVyc1RvUmVmcmVzaC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2YXIgcmVmcmVzaGluZ0ZpbHRlciA9IGZpbHRlcnNUb1JlZnJlc2hbMF07XHJcblx0XHRcdFx0XHR1cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKHJlZnJlc2hpbmdGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRyZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcocmVmcmVzaGluZ0ZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gd2UgZG9uJ3QgbmVlZCB0byBjYWxsIG1hcmtBbGxGaWx0ZXJzQXNSZWZyZXNoaW5nKGZhbHNlKTsgaGVyZSwgYmVjYXVzZSB0aGUgbGFzdCB0aW1lIHdoZW4gdGhhdCBmdW5jdGlvblxyXG5cdFx0XHRcdFx0XHRcdC8vIHdpbGwgYmUgY2FsbGVkIC0gaXQgd2lsbCBnbyB0aHJvdWdoIHRoZSBcImVsc2VcIiBjb25kaXRpb24uXHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZSBmaWx0ZXIgb2JqZWN0IHdpdGhvdXQgbG9hZGluZyBpdHMgZm9ybWF0LlxyXG5cdFx0ICovXHJcblx0XHR2YXIgX2NyZWF0ZU5ld0ZpbHRlckJhc2UgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lLCBvcGVyYXRvck5hbWUsIHZhbHVlcywgcmVxdWlyZWQsIGRlc2NyaXB0aW9uLCBwYXJhbWV0ZXIsIGN1c3RvbVBvcHVwVGVtcGxhdGVVcmwpIHtcclxuXHRcdFx0dmFyIGZpbHRlck9iamVjdCA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkaW5qZWN0b3IuZ2V0KCdpemVuZGFGaWx0ZXJPYmplY3REZWZhdWx0cycpKTtcclxuXHRcdFx0Ly8gc2V0IGZpZWxkXHJcblx0XHRcdHZhciBmaWVsZDtcclxuXHRcdFx0aWYgKGZpZWxkU3lzTmFtZSAmJiBmaWVsZFN5c05hbWUuaW5kZXhPZignZmxkSWR8JykgPT09IDApIHtcclxuXHRcdFx0XHRmaWVsZCA9IGdldENhbGNGaWVsZChmaWVsZFN5c05hbWUpO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRmaWVsZCA9IGdldEZpZWxkQnlTeXNOYW1lKGZpZWxkU3lzTmFtZSk7XHJcblx0XHRcdHdoaWxlIChmaWVsZCAmJiBmaWVsZC5tY0FuY2VzdG9yKVxyXG5cdFx0XHRcdGZpZWxkID0gZmllbGQubWNBbmNlc3RvcjtcclxuXHJcblx0XHRcdGZpbHRlck9iamVjdC5maWVsZCA9IGZpZWxkO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWVzKSkge1xyXG5cdFx0XHRcdGZpbHRlck9iamVjdC52YWx1ZXMgPSB2YWx1ZXM7XHJcblx0XHRcdFx0aWYgKG9wZXJhdG9yTmFtZSA9PT0gJ0VxdWFsc19BdXRvY29tcGxldGUnKVxyXG5cdFx0XHRcdFx0ZmlsdGVyT2JqZWN0LnZhbHVlcyA9IFt2YWx1ZXMuam9pbignLCcpXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQocmVxdWlyZWQpKVxyXG5cdFx0XHRcdGZpbHRlck9iamVjdC5yZXF1aXJlZCA9IHJlcXVpcmVkO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQoZGVzY3JpcHRpb24pKVxyXG5cdFx0XHRcdGZpbHRlck9iamVjdC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQocGFyYW1ldGVyKSlcclxuXHRcdFx0XHRmaWx0ZXJPYmplY3QucGFyYW1ldGVyID0gcGFyYW1ldGVyO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQob3BlcmF0b3JOYW1lKSlcclxuXHRcdFx0XHRmaWx0ZXJPYmplY3Qub3BlcmF0b3JTdHJpbmcgPSBvcGVyYXRvck5hbWU7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChjdXN0b21Qb3B1cFRlbXBsYXRlVXJsKSlcclxuXHRcdFx0XHRmaWx0ZXJPYmplY3QuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCA9IGN1c3RvbVBvcHVwVGVtcGxhdGVVcmw7XHJcblx0XHRcdHJldHVybiBmaWx0ZXJPYmplY3Q7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZCBwb3NzaWJsZSBmb3JtYXRzIGNvbGxlY3Rpb24gYW5kIHNldCBmb3JtYXQgZm9yIGZpbHRlciBzdHJpbmcgaW4gZGVzY3JpcHRpb24uXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZmlsdGVyLiBGaWx0ZXIgb2JqZWN0IChmaWVsZCBtdXN0IG1lIHNldCB0byBhcHBseSBmb3JtYXQpXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVGb3JtYXROYW1lLiBGb3JtYXQgb2JqZWN0IHZhbHVlXHJcblx0XHQgKiBAcmV0dXJucyB7YW5ndWxhciBwcm9taXNlfS4gUHJvbWlzZSBwYXJhbWV0ZXI6IGZpbHRlciBvYmplY3QuIFxyXG5cdFx0ICovXHJcblx0XHR2YXIgbG9hZEZpbHRlckZvcm1hdHMgPSBmdW5jdGlvbiAoZmlsdGVyLCB0aXRsZUZvcm1hdE5hbWUpIHtcclxuXHRcdFx0Ly8gbG9hZCBhbmQgc2V0IGZpbHRlciBmb3JtYXQ6XHJcblx0XHRcdHZhciBmaWx0ZXJGb3JtYXROYW1lVG9BcHBseSA9IEVNUFRZX0ZJRUxEX0ZPUk1BVF9PUFRJT04udmFsdWU7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHRpdGxlRm9ybWF0TmFtZSkgJiYgdGl0bGVGb3JtYXROYW1lICE9PSAnJylcclxuXHRcdFx0XHRmaWx0ZXJGb3JtYXROYW1lVG9BcHBseSA9IHRpdGxlRm9ybWF0TmFtZTtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLmZpZWxkKSkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeS5nZXRGaWx0ZXJGb3JtYXRzKGZpbHRlcikudGhlbihmdW5jdGlvbiAocmV0dXJuT2JqKSB7XHJcblx0XHRcdFx0XHRcdGZpbHRlci50aXRsZUZvcm1hdHMgPSAkaXplbmRhVXRpbC5jb252ZXJ0T3B0aW9uc0J5UGF0aChyZXR1cm5PYmopO1xyXG5cdFx0XHRcdFx0XHRmaWx0ZXIudGl0bGVGb3JtYXQgPSAkaXplbmRhVXRpbC5nZXRPcHRpb25CeVZhbHVlKGZpbHRlci50aXRsZUZvcm1hdHMsIGZpbHRlckZvcm1hdE5hbWVUb0FwcGx5KTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZSBuZXcgZmlsdGVyIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzXHJcblx0XHQgKi9cclxuXHRcdHZhciBjcmVhdGVOZXdGaWx0ZXIgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lLCBvcGVyYXRvck5hbWUsIHZhbHVlcywgcmVxdWlyZWQsIGRlc2NyaXB0aW9uLCBwYXJhbWV0ZXIsIHRpdGxlRm9ybWF0TmFtZSwgY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCkge1xyXG5cdFx0XHR2YXIgZmlsdGVyT2JqZWN0ID0gX2NyZWF0ZU5ld0ZpbHRlckJhc2UoZmllbGRTeXNOYW1lLCBvcGVyYXRvck5hbWUsIHZhbHVlcywgcmVxdWlyZWQsIGRlc2NyaXB0aW9uLCBwYXJhbWV0ZXIsIGN1c3RvbVBvcHVwVGVtcGxhdGVVcmwpO1xyXG5cdFx0XHRmaWx0ZXJPYmplY3QuaXNGaWx0ZXJSZWFkeSA9IHRydWU7XHJcblx0XHRcdHJldHVybiBsb2FkRmlsdGVyRm9ybWF0cyhmaWx0ZXJPYmplY3QsIHRpdGxlRm9ybWF0TmFtZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGVsZXRlIGZpbHRlciBmcm9tIGNvbGxlY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHJlbW92ZUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0dmFyIGluZGV4ID0gcmVwb3J0U2V0LmZpbHRlcnMuaW5kZXhPZihmaWx0ZXIpO1xyXG5cdFx0XHRpZiAoaW5kZXggPj0gMCkge1xyXG5cdFx0XHRcdHJlcG9ydFNldC5maWx0ZXJzW2luZGV4XS5maWVsZCA9IG51bGw7XHJcblx0XHRcdFx0cmVwb3J0U2V0LmZpbHRlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN3YXAgZmlsdGVyXHJcblx0XHQgKi9cclxuXHRcdHZhciBzd2FwRmlsdGVycyA9IGZ1bmN0aW9uIChpbmRleDAsIGluZGV4MSkge1xyXG5cdFx0XHR2YXIgZmlsdGVycyA9IHJlcG9ydFNldC5maWx0ZXJzO1xyXG5cdFx0XHR2YXIgdGVtcCA9IGZpbHRlcnNbaW5kZXgwXTtcclxuXHRcdFx0ZmlsdGVyc1tpbmRleDBdID0gZmlsdGVyc1tpbmRleDFdO1xyXG5cdFx0XHRmaWx0ZXJzW2luZGV4MV0gPSB0ZW1wO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmUgZmlsdGVyIGZyb20gcG9zaXRpb24gdG8gcG9zaXRpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIG1vdmVGaWx0ZXJUbyA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdFx0cmVwb3J0U2V0LmZpbHRlcnMuc3BsaWNlKHRvSW5kZXgsIDAsIHJlcG9ydFNldC5maWx0ZXJzLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBjdXJyZW50IGFjdGl2ZSB0YWJsZXMgYW5kIHJlbW92ZSBmaWx0ZXJzIHdoaWNoIGNvbm5lY3RlZCB0byBub24tYWN0aXZlIGZpZWxkc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc3luY0ZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBhRmllbGRzID0gZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXModHJ1ZSk7XHJcblx0XHRcdHZhciBmaWx0ZXJzID0gZ2V0RmlsdGVycygpO1xyXG5cclxuXHRcdFx0Ly8gZmluZCBmaWx0ZXJzIHRvIHJlbW92ZVxyXG5cdFx0XHR2YXIgZmlsdGVyc1RvUmVtb3ZlID0gW107XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGZpbHRlcnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgZmlsdGVyID0gdGhpcztcclxuXHRcdFx0XHR2YXIgaXNGaWx0ZXJBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChhRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgYWN0aXZlRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKGZpbHRlci5maWVsZCA9PT0gbnVsbCB8fCBhY3RpdmVGaWVsZC5zeXNuYW1lID09PSBmaWx0ZXIuZmllbGQuc3lzbmFtZSkge1xyXG5cdFx0XHRcdFx0XHRpc0ZpbHRlckFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKCFpc0ZpbHRlckFjdGl2ZSlcclxuXHRcdFx0XHRcdGZpbHRlcnNUb1JlbW92ZS5wdXNoKGZpbHRlcik7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIGZpbHRlcnNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZmlsdGVyc1RvUmVtb3ZlLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmVtb3ZlRmlsdGVyKHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2FkIGN1c3RvbSB0ZW1wbGF0ZSBmb3IgcG9wdXAgZmlsdGVyLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0UG9wdXBGaWx0ZXJDdXN0b21UZW1wbGF0ZSA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIGZpZWxkID0gZmlsdGVyLmZpZWxkO1xyXG5cdFx0XHRcdGlmICghZmlsdGVyLmZpZWxkKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciB0YWJsZSA9IGdldFRhYmxlQnlJZChmaWVsZC5wYXJlbnRJZCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeS5nZXRFeGlzdGVudFBvcHVwVmFsdWVzTGlzdChmaWVsZCwgdGFibGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdGlmIChkYXRhLnVzZXJwYWdlICE9IG51bGwpXHJcblx0XHRcdFx0XHRcdGZpbHRlci5jdXN0b21Qb3B1cFRlbXBsYXRlVXJsID0gZGF0YS51c2VycGFnZTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLmN1c3RvbVBvcHVwVGVtcGxhdGVVcmwgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdC8vIGZpZWxkIG9wdGlvbnNcclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2FkIGZpZWxkIGZ1bmN0aW9uIGFuZCBhcHBseSBncm91cCBieSBmdW5jdGlvbiB0byBmaWVsZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgbG9hZEZpZWxkRnVuY3Rpb25zID0gZnVuY3Rpb24gKGZpZWxkLCBkZWZhdWx0R3JvdXBTdHJpbmcpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIGdyb3VwVG9BcHBseSA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdEdyb3VwU3RyaW5nKSAmJiBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHRcdD8gZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0XHQ6ICdOT05FJztcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBmaWVsZC5pc1Bpdm90Q29sdW1uID8gJ3Bpdm90RmllbGQnIDogJ2ZpZWxkJykudGhlbihmdW5jdGlvbiAocmV0dXJuT2JqKSB7XHJcblx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb25PcHRpb25zID0gJGl6ZW5kYVV0aWwuY29udmVydE9wdGlvbnNCeVBhdGgocmV0dXJuT2JqKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgaXNTaW1wbGVHcm91cEZ1bmN0aW9uID0gZmllbGQuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9ucy5sZW5ndGggPT09IDJcclxuXHRcdFx0XHRcdFx0JiYgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9uc1swXS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnbm9uZSdcclxuXHRcdFx0XHRcdFx0JiYgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uT3B0aW9uc1sxXS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnZ3JvdXAnO1xyXG5cdFx0XHRcdFx0aWYgKGlzU2ltcGxlR3JvdXBGdW5jdGlvbiAmJiBncm91cFRvQXBwbHkudG9Mb3dlckNhc2UoKSA9PT0gJ25vbmUnKSB7XHJcblx0XHRcdFx0XHRcdGdyb3VwVG9BcHBseSA9ICdHUk9VUCc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gZ2V0R3JvdXBCeVZhbHVlKGZpZWxkLCBncm91cFRvQXBwbHkpO1xyXG5cdFx0XHRcdFx0Ly8gaWYgZ3JvdXAgbGlzdCB3YXMgY2hhbmdlZCBhbmQgY3VycmVudCBncm91cCBmdW5jdGlvbiBub3QgaW4gbGlzdFxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb24gPSBnZXRHcm91cEJ5VmFsdWUoZmllbGQsICdOT05FJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZpZWxkKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZCBTdWJ0b3RhbCBmaWVsZCBmdW5jdGlvbiBhbmQgYXBwbHkgU3VidG90YWwgZ3JvdXAgYnkgZnVuY3Rpb24gdG8gZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGxvYWRTdWJ0b3RhbEZpZWxkRnVuY3Rpb25zID0gZnVuY3Rpb24gKGZpZWxkLCBkZWZhdWx0R3JvdXBTdHJpbmcpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIGdyb3VwVG9BcHBseSA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdEdyb3VwU3RyaW5nKSAmJiBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHRcdD8gZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0XHQ6ICdERUZBVUxUJztcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmdldEZpZWxkRnVuY3Rpb25zKGZpZWxkLCAnc3VidG90YWwnKS50aGVuKGZ1bmN0aW9uIChyZXR1cm5PYmopIHtcclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucyA9ICRpemVuZGFVdGlsLmNvbnZlcnRPcHRpb25zQnlQYXRoKHJldHVybk9iaik7XHJcblx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbiA9IGdldEdyb3VwQnlTdWJ0b3RhbFZhbHVlKGZpZWxkLCBncm91cFRvQXBwbHkpO1xyXG5cdFx0XHRcdFx0Ly8gaWYgZ3JvdXAgbGlzdCB3YXMgY2hhbmdlZCBhbmQgY3VycmVudCBncm91cCBmdW5jdGlvbiBub3QgaW4gbGlzdFxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9IGdldEdyb3VwQnlTdWJ0b3RhbFZhbHVlKGZpZWxkLCAnREVGQVVMVCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWVsZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIExvYWQgZ3JvdXAgZnVuY3Rpb25zIHRvIGZpZWxkXHJcblx0XHQgKi9cclxuXHRcdHZhciBsb2FkR3JvdXBGdW5jdGlvbnNBbmRGb3JtYXRzVG9GaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgZGVmYXVsdEdyb3VwU3RyaW5nPywgZGVmYXVsdEZvcm1hdFN0cmluZz8sIGRlZmF1bHRTdWJ0b3RhbEdyb3VwU3RyaW5nPykge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHR2YXIgZ3JvdXBUb0FwcGx5ID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0R3JvdXBTdHJpbmcpICYmIGRlZmF1bHRHcm91cFN0cmluZ1xyXG5cdFx0XHRcdFx0PyBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHRcdDogJ05PTkUnO1xyXG5cdFx0XHRcdHZhciBncm91cFN1YnRvdGFsVG9BcHBseSA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdFN1YnRvdGFsR3JvdXBTdHJpbmcpICYmIGRlZmF1bHRTdWJ0b3RhbEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0XHQ/IGRlZmF1bHRTdWJ0b3RhbEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0XHQ6ICdERUZBVUxUJztcclxuXHJcblx0XHRcdFx0aWYgKGlzQmluYXJ5RmllbGQoZmllbGQpKSB7XHJcblx0XHRcdFx0XHQvLyBpZiBmaWVsZCB0eXBlIGRvZXNuJ3Qgc3VwcG9ydCBncm91cCBieS5cclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMgPSBbRU1QVFlfRklFTERfR1JPVVBfT1BUSU9OXTtcclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9IEVNUFRZX0ZJRUxEX0dST1VQX09QVElPTjtcclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucyA9IFtFTVBUWV9TVUJUT1RBTF9GSUVMRF9HUk9VUF9PUFRJT05TXTtcclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uID0gRU1QVFlfU1VCVE9UQUxfRklFTERfR1JPVVBfT1BUSU9OUztcclxuXHRcdFx0XHRcdHVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCwgZGVmYXVsdEZvcm1hdFN0cmluZykudGhlbihmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKGYpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIGdldCBmaWVsZCBhbmQgU3VidG90YWwgZnVuY3Rpb25zIGZyb20gc2VydmVyIG9yIHJlcXVlc3QgY2FjaGU6XHJcblx0XHRcdFx0XHR2YXIgZnVuY3Rpb25Qcm9taXNlID0gbG9hZEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBncm91cFRvQXBwbHkpO1xyXG5cdFx0XHRcdFx0dmFyIHN1YnRvdGFsUHJvbWlzZSA9IGxvYWRTdWJ0b3RhbEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBncm91cFN1YnRvdGFsVG9BcHBseSk7XHJcblx0XHRcdFx0XHQkcS5hbGwoW2Z1bmN0aW9uUHJvbWlzZSwgc3VidG90YWxQcm9taXNlXSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCwgZGVmYXVsdEZvcm1hdFN0cmluZykudGhlbihmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoZmllbGQpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaWVsZCBpbml0aWFsaXphdGlvbiAoYXN5bmM6IHJldHVybnMgcHJvbWlzZSlcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGluaXRpYWxpemVGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHRpZiAoZmllbGQuaXNJbml0aWFsaXplZCkge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWVsZCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBsb2FkIGdyb3VwIGFuZCBmb3JtYXQgY29sbGVjdGlvbnM6XHJcblx0XHRcdFx0bG9hZEdyb3VwRnVuY3Rpb25zQW5kRm9ybWF0c1RvRmllbGQoZmllbGQpLnRoZW4oZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRcdGYuaXNJbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGYpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjdXJyZW50IGZpZWxkIHdoaWNoIHdlIGFyZSBlZGl0aW5nIG5vdy5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldEN1cnJlbnRBY3RpdmVGaWVsZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGN1cnJlbnRBY3RpdmVGaWVsZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgY3VycmVudCBmaWVsZCBmb3IgZWRpdGluZyBpdC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHNldEN1cnJlbnRBY3RpdmVGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRjdXJyZW50QWN0aXZlRmllbGQgPSBmaWVsZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGUgYXV0byBkZXNjcmlwdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIF9nZW5lcmF0ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGlmIChpc0ZpZWxkR3JvdXBlZChmaWVsZCkgJiYgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkgIT09ICdncm91cCcpXHJcblx0XHRcdFx0cmV0dXJuIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi50ZXh0ICsgJyAoJyArICRpemVuZGFVdGlsLmh1bWFuaXplVmFyaWFibGVOYW1lKGZpZWxkLm5hbWUpICsgJyknO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFVdGlsLmh1bWFuaXplVmFyaWFibGVOYW1lKGZpZWxkLm5hbWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IGFnZ3JlZ2F0ZSBmdW5jdGlvbiBmb3IgZmllbGQuXHJcblx0XHQgKi9cclxuXHRcdHZhciBvbkZpZWxkRnVuY3Rpb25BcHBseWVkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdC8vIGRvIG5vdCBjaGFuZ2UgZm9ybWF0IGZvciBtYXgsIG1pbiwgc3VtIGFuZCBzdW0gZGlzdGluY3RcclxuXHRcdFx0aWYgKGlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHRcdGFwcGx5QXV0b0dyb3VwcygpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc2V0QXV0b0dyb3VwcygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR1cGRhdGVGaWVsZEZvcm1hdHMoZmllbGQpO1xyXG5cclxuXHRcdFx0Ly8gYXV0byB1cGRhdGUgZGVzY3JpcHRpb25cclxuXHRcdFx0YXV0b1VwZGF0ZUZpZWxkRGVzY3JpcHRpb24oZmllbGQpO1xyXG5cclxuXHRcdFx0X3N5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHJcblx0XHRcdC8vIHZhbGlkYXRlXHJcblx0XHRcdHZhbGlkYXRlUmVwb3J0KCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIGZ1bmN0aW9ucywgZm9ybWF0cyBhZnRlciBleHByZXNzaW9uIHR5cGVncm91cCB3YXMgY2hhbmdlZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgb25FeHByZXNzaW9uVHlwZUdyb3VwQXBwbHllZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRsb2FkR3JvdXBGdW5jdGlvbnNBbmRGb3JtYXRzVG9GaWVsZChmaWVsZCwgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlLCBmaWVsZC5mb3JtYXQudmFsdWUsIGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uLnZhbHVlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRfc3luY0NhbGNGaWVsZHNBcnJheSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBjYWxjIGZpZWxkcyBjb2xsZWN0aW9uIHdoZW4gZXhwcmVzc2lvbiB3YXMgY2hhbmdlZC5cclxuXHRcdCAqIEBwYXJhbSB7YW55fSBmaWVsZCAtIHRhcmdldCBmaWVsZC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIG9uRXhwcmVzc2lvbkFwcGx5ZWQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0X3N5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgVWkgYW5kIHNob3cgcHJldmlld1xyXG5cdFx0ICovXHJcblx0XHR2YXIgdXBkYXRlVWlTdGF0ZUFuZFJlZnJlc2hQcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQvLyByZW1vdmUgZHJpbGxkb3ducyB3aGljaCBhcmUgbm90IGluIGFjdGl2ZSB0YWJsZXNcclxuXHRcdFx0dXBkYXRlRHJpbGxkb3ducygpO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIHBpdm90IHN0YXRlXHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnN5bmNQaXZvdFN0YXRlKGdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKCkpO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIGZpbHRlcnMgc3RhdGVcclxuXHRcdFx0c3luY0ZpbHRlcnMoKTtcclxuXHJcblx0XHRcdC8vIGFwcGx5L3Jlc2V0IGF1dG9ncm91cHNcclxuXHRcdFx0aWYgKGdldEFjdGl2ZVRhYmxlcygpLmxlbmd0aCA9PT0gMCB8fCBpc0FjdGl2ZUZpZWxkc0NvbnRhaW5zQmluYXJ5KCkpIHtcclxuXHRcdFx0XHRyZXNldEF1dG9Hcm91cHMoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhcHBseUF1dG9Hcm91cHMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpcmVzIHdoZW4gdXNlciBjaGVjay91bmNoZWNrIGZpZWxkXHJcblx0XHQgKi9cclxuXHRcdHZhciBhcHBseUZpZWxkQ2hlY2tlZCA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUsIHJlc3RyaWN0VGFibGVVbmNoZWNrKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGlmICghZmllbGQuZW5hYmxlZCkge1xyXG5cdFx0XHRcdFx0dmFsaWRhdGVSZXBvcnQoKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZmllbGQuY2hlY2tlZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogIWZpZWxkLmNoZWNrZWQ7XHJcblx0XHRcdFx0ZmllbGQub3JkZXIgPSBfZ2V0TmV4dE9yZGVyKCk7XHJcblxyXG5cdFx0XHRcdC8vIHVwZGF0ZSBzdGF0ZSBvZiBkYXRhc291cmNlcyB0cmVlXHJcblx0XHRcdFx0dXBkYXRlUGFyZW50Rm9sZGVyc0FuZFRhYmxlcyhmaWVsZCwgZmFsc2UsIHJlc3RyaWN0VGFibGVVbmNoZWNrKTtcclxuXHJcblx0XHRcdFx0aW5pdGlhbGl6ZUZpZWxkKGZpZWxkKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHVwZGF0ZVVpU3RhdGVBbmRSZWZyZXNoUHJldmlldygpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWxlY3QvdW5zZWxlY3QgZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGx5RmllbGRTZWxlY3RlZCA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSkge1xyXG5cdFx0XHRcdHVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdFx0c2V0Q3VycmVudEFjdGl2ZUZpZWxkKG51bGwpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWZpZWxkLmVuYWJsZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoZmllbGQuaXNNdWx0aXBsZUNvbHVtbnMpIHtcclxuXHRcdFx0XHRmaWVsZC5jb2xsYXBzZWQgPSAhZmllbGQuY29sbGFwc2VkO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHR1bnNlbGVjdEFsbEZpZWxkcygpO1xyXG5cdFx0XHRzZXRDdXJyZW50QWN0aXZlRmllbGQobnVsbCk7XHJcblx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdHNldEN1cnJlbnRBY3RpdmVGaWVsZChmaWVsZCk7XHJcblx0XHRcdFx0ZmllbGQuc2VsZWN0ZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRpbml0aWFsaXplRmllbGQoZmllbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hlY2svdW5jaGVjayB0YWJsZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwbHlUYWJsZUFjdGl2ZSA9IGZ1bmN0aW9uICh0YWJsZSkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHR2YXIgdXBkYXRlQW5kUmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHVwZGF0ZVBhcmVudEZvbGRlcnModGFibGUpO1xyXG5cdFx0XHRcdFx0dXBkYXRlVWlTdGF0ZUFuZFJlZnJlc2hQcmV2aWV3KCk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0aWYgKCF0YWJsZS5lbmFibGVkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRhYmxlLmFjdGl2ZSA9ICF0YWJsZS5hY3RpdmU7XHJcblx0XHRcdFx0dGFibGUub3JkZXIgPSBfZ2V0TmV4dE9yZGVyKCk7XHJcblxyXG5cdFx0XHRcdGlmICghdGFibGUuYWN0aXZlKSB7XHJcblx0XHRcdFx0XHQvLyBkZWFjdGl2YXRlIGFsbCB0YWJsZSBmaWVsZHNcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHRhYmxlLmZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRmaWVsZC5jaGVja2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHVwZGF0ZUFuZFJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gdGFibGUgYWN0aXZhdGVkXHJcblx0XHRcdFx0aWYgKHRhYmxlLmxhenkpIHtcclxuXHRcdFx0XHRcdC8vIGxvYWQgbGF6eSBmaWVsZHNcclxuXHRcdFx0XHRcdGxvYWRMYXp5RmllbGRzKHRhYmxlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dXBkYXRlQW5kUmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHVwZGF0ZUFuZFJlc29sdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgX3ByZXBhcmVQYXJlbnRGaWVsZEZvck11bHRpcGxlRmllbGRzID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHZhciBwYXJlbnRGaWVsZCA9IGZpZWxkO1xyXG5cdFx0XHRpZiAocGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdC8vIGlmIGZpZWxkIGhhcyBubyBtdWx0aXBsZSBmaWVsZHM6XHJcblx0XHRcdFx0dmFyIGNvcHlGaWVsZCA9IHBhcmVudEZpZWxkID0gYW5ndWxhci5jb3B5KGZpZWxkKTtcclxuXHRcdFx0XHRjb3B5RmllbGQubWNBbmNlc3RvciA9IGZpZWxkO1xyXG5cdFx0XHRcdGNvcHlGaWVsZC5vcmlnaW5JZCA9IGZpZWxkLmlkO1xyXG5cdFx0XHRcdGNvcHlGaWVsZC5pc011bHRpcGxlQ29sdW1ucyA9IHRydWU7XHJcblx0XHRcdFx0Y29weUZpZWxkLm11bHRpcGxlQ29sdW1uc0NvdW50ZXIgPSAxO1xyXG5cdFx0XHRcdGNvcHlGaWVsZC5tdWx0aXBsZUNvbHVtbnMucHVzaChmaWVsZCk7XHJcblx0XHRcdFx0dmFyIHRhYmxlID0gZ2V0VGFibGVCeUlkKGZpZWxkLnBhcmVudElkKTtcclxuXHRcdFx0XHR2YXIgZmllbGRJbmRleCA9IHRhYmxlLmZpZWxkcy5pbmRleE9mKGZpZWxkKTtcclxuXHRcdFx0XHR0YWJsZS5maWVsZHNbZmllbGRJbmRleF0gPSBjb3B5RmllbGQ7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHBhcmVudEZpZWxkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIHJlYWR5LXRvLXVzZSBhbm90aGVyIGZpZWxkIChubyBuZWVkIHRvIGNsb25lIHBhcmVudCBmaWVsZClcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFkZEV4YWN0QW5vdGhlckZpZWxkID0gZnVuY3Rpb24gKGZpZWxkLCBhbm90aGVyRmllbGRQcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHZhciBhbm90aGVyRmllbGQgPSBfY3JlYXRlRmllbGRPYmplY3QoYW5vdGhlckZpZWxkUHJvcGVydGllcyk7XHJcblx0XHRcdC8vIGFkZCB0byBwYXJlbnQgZmllbGQuXHJcblx0XHRcdHZhciBwYXJlbnRGaWVsZCA9IF9wcmVwYXJlUGFyZW50RmllbGRGb3JNdWx0aXBsZUZpZWxkcyhmaWVsZCk7XHJcblx0XHRcdHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1ucy5wdXNoKGFub3RoZXJGaWVsZCk7XHJcblx0XHRcdHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1uc0NvdW50ZXIrKztcclxuXHRcdFx0YW5vdGhlckZpZWxkLnBhcmVudEZpZWxkSWQgPSBwYXJlbnRGaWVsZC5pZDtcclxuXHRcdFx0YW5vdGhlckZpZWxkLnBhcmVudElkID0gcGFyZW50RmllbGQucGFyZW50SWQ7XHJcblx0XHRcdGFub3RoZXJGaWVsZC5uYW1lID0gcGFyZW50RmllbGQubmFtZSArIHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1uc0NvdW50ZXI7XHJcblx0XHRcdGFub3RoZXJGaWVsZC50YWJsZVN5c25hbWUgPSBwYXJlbnRGaWVsZC50YWJsZVN5c25hbWU7XHJcblx0XHRcdGFub3RoZXJGaWVsZC50YWJsZU5hbWUgPSBwYXJlbnRGaWVsZC50YWJsZU5hbWU7XHJcblx0XHRcdGFub3RoZXJGaWVsZC5zeXNuYW1lID0gcGFyZW50RmllbGQuc3lzbmFtZTtcclxuXHRcdFx0YW5vdGhlckZpZWxkLnR5cGVHcm91cCA9IHBhcmVudEZpZWxkLnR5cGVHcm91cDtcclxuXHRcdFx0YW5vdGhlckZpZWxkLnR5cGUgPSBwYXJlbnRGaWVsZC50eXBlO1xyXG5cdFx0XHRhbm90aGVyRmllbGQuc3FsVHlwZSA9IHBhcmVudEZpZWxkLnNxbFR5cGU7XHJcblx0XHRcdGFub3RoZXJGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzID0gcGFyZW50RmllbGQuYWxsb3dlZEluRmlsdGVycztcclxuXHRcdFx0YW5vdGhlckZpZWxkLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSA9IHRydWU7XHJcblx0XHRcdHJldHVybiBhbm90aGVyRmllbGQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIG1vcmUgdGhhbiBvbmUgc2FtZSBmaWVsZCB0byByZXBvcnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFkZEFub3RoZXJGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgbmVlZFRvU2VsZWN0KSB7XHJcblx0XHRcdHZhciBwYXJlbnRGaWVsZCA9IF9wcmVwYXJlUGFyZW50RmllbGRGb3JNdWx0aXBsZUZpZWxkcyhmaWVsZCk7XHJcblxyXG5cdFx0XHQvLyBhZGQgYW5vdGhlciBmaWVsZCB0byBwYXJlbnRGaWVsZFxyXG5cdFx0XHRwYXJlbnRGaWVsZC5tdWx0aXBsZUNvbHVtbnNDb3VudGVyKys7XHJcblx0XHRcdHZhciBhbm90aGVyRmllbGQgPSBjcmVhdGVGaWVsZE9iamVjdChwYXJlbnRGaWVsZC5uYW1lICsgcGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zQ291bnRlciwgcGFyZW50RmllbGQucGFyZW50SWQsXHJcblx0XHRcdFx0cGFyZW50RmllbGQudGFibGVTeXNuYW1lLCBwYXJlbnRGaWVsZC50YWJsZU5hbWUsIHBhcmVudEZpZWxkLnN5c25hbWUsIHBhcmVudEZpZWxkLnR5cGVHcm91cCxcclxuXHRcdFx0XHRwYXJlbnRGaWVsZC50eXBlLCBwYXJlbnRGaWVsZC5zcWxUeXBlLCBwYXJlbnRGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzLCBwYXJlbnRGaWVsZC5pc1NwUGFyYW1ldGVyKTtcclxuXHRcdFx0aWYgKHBhcmVudEZpZWxkLmRlc2NyaXB0aW9uKVxyXG5cdFx0XHRcdGFub3RoZXJGaWVsZC5kZXNjcmlwdGlvbiA9IHBhcmVudEZpZWxkLmRlc2NyaXB0aW9uICsgJyAnICsgKHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1ucy5sZW5ndGggKyAxKTtcclxuXHRcdFx0YW5vdGhlckZpZWxkLmFsbG93ZWRJbkZpbHRlcnMgPSBwYXJlbnRGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzO1xyXG5cdFx0XHRhbm90aGVyRmllbGQub3JkZXIgPSBfZ2V0TmV4dE9yZGVyKCk7XHJcblx0XHRcdGFub3RoZXJGaWVsZC5ndWlkID0gX2d1aWQoKTtcclxuXHRcdFx0YW5vdGhlckZpZWxkLnBhcmVudEZpZWxkSWQgPSBwYXJlbnRGaWVsZC5pZDtcclxuXHJcblx0XHRcdGluaXRpYWxpemVGaWVsZChhbm90aGVyRmllbGQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGFwcGx5QXV0b0dyb3VwcygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zLnB1c2goYW5vdGhlckZpZWxkKTtcclxuXHJcblx0XHRcdC8vIHNlbGVjdCBpZiBuZWVkZWRcclxuXHRcdFx0aWYgKG5lZWRUb1NlbGVjdCkge1xyXG5cdFx0XHRcdHVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdFx0YW5vdGhlckZpZWxkLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRzZXRDdXJyZW50QWN0aXZlRmllbGQoYW5vdGhlckZpZWxkKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGFub3RoZXJGaWVsZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBseSBmaWVsZCBjb25maWcgdG8gZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGxvYWRSZXBvcnRGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgZmllbGRDb25maWcpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIGZ1bmN0aW9uVmFsdWUgPSBmaWVsZENvbmZpZy5ncm91cEJ5RnVuY3Rpb24udmFsdWU7XHJcblx0XHRcdFx0dmFyIHN1YnRvdGFsRnVuY3Rpb25WYWx1ZSA9IGZpZWxkQ29uZmlnLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uLnZhbHVlO1xyXG5cdFx0XHRcdHZhciBmb3JtYXRWYWx1ZSA9IGZpZWxkQ29uZmlnLmZvcm1hdC52YWx1ZTtcclxuXHRcdFx0XHRhbmd1bGFyLmV4dGVuZChmaWVsZCwgZmllbGRDb25maWcpO1xyXG5cdFx0XHRcdC8vIHJlbW92ZSBjb2x1bW4gZ3JvdXAgZnJvbSBkZXNjcmlwdGlvbjogJ2ZpZWxkIGRlc2NyaXB0aW9uQGNvbHVtbiBncm91cCdcclxuXHRcdFx0XHRpZiAoZmllbGQuZGVzY3JpcHRpb24ubGFzdEluZGV4T2YoJ0AnKSA+IDAgJiYgZmllbGQuY29sdW1uR3JvdXApIHtcclxuXHRcdFx0XHRcdGZpZWxkLmRlc2NyaXB0aW9uID0gZmllbGQuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIGZpZWxkLmRlc2NyaXB0aW9uLmxhc3RJbmRleE9mKCdAJykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZmllbGQub3JkZXIgPiBvcmRlckNvdW50ZXIpXHJcblx0XHRcdFx0XHRvcmRlckNvdW50ZXIgPSBmaWVsZC5vcmRlciArIDE7XHJcblxyXG5cdFx0XHRcdGZpZWxkQ29uZmlnLmV4cHJlc3Npb25UeXBlID0gZmllbGRDb25maWcuZXhwcmVzc2lvblR5cGUgfHwgJy4uLic7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZXhwcmVzc2lvblR5cGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy52YWx1ZSA9PT0gZmllbGRDb25maWcuZXhwcmVzc2lvblR5cGUpXHJcblx0XHRcdFx0XHRcdGZpZWxkLmV4cHJlc3Npb25UeXBlID0gdGhpcztcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0bG9hZEdyb3VwRnVuY3Rpb25zQW5kRm9ybWF0c1RvRmllbGQoZmllbGQsIGZ1bmN0aW9uVmFsdWUsIGZvcm1hdFZhbHVlLCBzdWJ0b3RhbEZ1bmN0aW9uVmFsdWUpLnRoZW4oZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRcdGlmIChmaWVsZENvbmZpZy5kZXNjcmlwdGlvbikge1xyXG5cdFx0XHRcdFx0XHQvLyBpZiBkZXNjcmlwdGlvbiBkaWZmZXJzIGZyb20gdGhlIGRlZmF1bHQgZ2VuZXJhdGVkIGRlc2NyaXB0aW9uOiBtYXJrIGl0IGFzIFwic2V0IG1hbnVhbGx5XCJcclxuXHRcdFx0XHRcdFx0Zi5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSBmaWVsZENvbmZpZy5kZXNjcmlwdGlvbiAhPT0gX2dlbmVyYXRlRGVzY3JpcHRpb24oZik7XHJcblx0XHRcdFx0XHRcdGYuZGVzY3JpcHRpb24gPSBmaWVsZENvbmZpZy5kZXNjcmlwdGlvbjtcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRhdXRvVXBkYXRlRmllbGREZXNjcmlwdGlvbihmKTtcclxuXHRcdFx0XHRcdGYuaXNJbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGYpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgYXBwbHlEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHR2YXIgYXV0b0Rlc2NyaXB0aW9uID0gX2dlbmVyYXRlRGVzY3JpcHRpb24oZmllbGQpO1xyXG5cdFx0XHRpZiAoIWZpZWxkLmRlc2NyaXB0aW9uKVxyXG5cdFx0XHRcdGZpZWxkLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSA9IGZhbHNlO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZmllbGQuaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZmllbGQuZGVzY3JpcHRpb24gIT09IGF1dG9EZXNjcmlwdGlvbjtcclxuXHRcdFx0X3N5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNlbGVjdCBkcmlsbGRvd24gZmllbGRzXHJcblx0XHQgKi9cclxuXHRcdHZhciBjb252ZXJ0RHJpbGxkb3duRmllbGROYW1lc1RvRmllbGRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlcG9ydFNldC5kcmlsbERvd25GaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgY3VycmVudEl0ZW0gPSByZXBvcnRTZXQuZHJpbGxEb3duRmllbGRzW2ldO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGN1cnJlbnRJdGVtKSkge1xyXG5cdFx0XHRcdFx0cmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkc1tpXSA9IGdldEZpZWxkQnlTeXNOYW1lKGN1cnJlbnRJdGVtLCB0cnVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWxlY3QgY2hhcnRzXHJcblx0XHQgKi9cclxuXHRcdHZhciBjb252ZXJ0Q2hhcnROYW1lc1RvQ2hhcnRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlcG9ydFNldC5jaGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgY2hhcnQgPSByZXBvcnRTZXQuY2hhcnRzW2ldO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KGNoYXJ0KSAmJiBjaGFydC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpICYmIGNoYXJ0Lmhhc093blByb3BlcnR5KCdjYXRlZ29yeScpKSB7XHJcblx0XHRcdFx0XHR2YXIgdmlzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uLmZpbmRWaXN1YWxpemF0aW9uKGNoYXJ0LmNhdGVnb3J5LCBjaGFydC5uYW1lKTtcclxuXHRcdFx0XHRcdHZpcy5wcm9wZXJ0aWVzID0gcmVwb3J0U2V0LmNoYXJ0c1tpXS5wcm9wZXJ0aWVzO1xyXG5cdFx0XHRcdFx0cmVwb3J0U2V0LmNoYXJ0c1tpXSA9IHZpcztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBsb2FkZWQgZmlsdGVycy4gcmVwb3J0U2V0LmZpbHRlcnMgYXQgdGhpcyBzdGFnZSBpcyBub3QgaW5pdGlhbGl6ZWRcclxuXHRcdCAqIGFuZCB3ZSBuZWVkIHRvIHNldCBmaWVsZCwgb3BlcmF0b3IgYW5kIHZhbHVlIG9iamVjdHMuXHJcblx0XHQgKi9cclxuXHRcdHZhciBsb2FkRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIGZpbHRlck9wZXJhdG9yUHJvbWlzZXMgPSBbXTtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShyZXBvcnRTZXQuZmlsdGVycykgfHwgcmVwb3J0U2V0LmZpbHRlcnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcmVwb3J0U2V0LmZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdHZhciBmaWx0ZXIgPSByZXBvcnRTZXQuZmlsdGVyc1tpXTtcclxuXHRcdFx0XHRcdHZhciBmaWx0ZXJDb25maWcgPSB7XHJcblx0XHRcdFx0XHRcdGZpZWxkU3lzTmFtZTogZmlsdGVyLnN5c25hbWUsXHJcblx0XHRcdFx0XHRcdG9wZXJhdG9yTmFtZTogZmlsdGVyLm9wZXJhdG9yU3RyaW5nLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZXM6IGZpbHRlci52YWx1ZXMsXHJcblx0XHRcdFx0XHRcdHJlcXVpcmVkOiBmaWx0ZXIucmVxdWlyZWQsXHJcblx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBmaWx0ZXIuZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRcdHBhcmFtZXRlcjogZmlsdGVyLnBhcmFtZXRlcixcclxuXHRcdFx0XHRcdFx0dGl0bGVGb3JtYXQ6IGZpbHRlci50aXRsZUZvcm1hdCxcclxuXHRcdFx0XHRcdFx0Y3VzdG9tUG9wdXBUZW1wbGF0ZVVybDogZmlsdGVyLmN1c3RvbVBvcHVwVGVtcGxhdGVVcmxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR2YXIgbmV3RmlsdGVyID0gX2NyZWF0ZU5ld0ZpbHRlckJhc2UoXHJcblx0XHRcdFx0XHRcdGZpbHRlckNvbmZpZy5maWVsZFN5c05hbWUsXHJcblx0XHRcdFx0XHRcdGZpbHRlckNvbmZpZy5vcGVyYXRvck5hbWUsXHJcblx0XHRcdFx0XHRcdGZpbHRlckNvbmZpZy52YWx1ZXMsXHJcblx0XHRcdFx0XHRcdGZpbHRlckNvbmZpZy5yZXF1aXJlZCxcclxuXHRcdFx0XHRcdFx0ZmlsdGVyQ29uZmlnLmRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdFx0XHRmaWx0ZXJDb25maWcucGFyYW1ldGVyLFxyXG5cdFx0XHRcdFx0XHRmaWx0ZXIuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCk7XHJcblxyXG5cdFx0XHRcdFx0cmVwb3J0U2V0LmZpbHRlcnNbaV0gPSBuZXdGaWx0ZXI7XHJcblxyXG5cdFx0XHRcdFx0Ly8gbG9hZCBmaWx0ZXIgZm9ybWF0c1xyXG5cdFx0XHRcdFx0dmFyIGZvcm1hdExvYWRQcm9taXNlID0gbG9hZEZpbHRlckZvcm1hdHMobmV3RmlsdGVyLCBmaWx0ZXJDb25maWcudGl0bGVGb3JtYXQpO1xyXG5cdFx0XHRcdFx0ZmlsdGVyT3BlcmF0b3JQcm9taXNlcy5wdXNoKGZvcm1hdExvYWRQcm9taXNlKTtcclxuXHJcblx0XHRcdFx0XHQvLyBzZXQgb3BlcmF0b3JcclxuXHRcdFx0XHRcdHZhciBvcGVyYXRvclByb21pc2U7XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhmaWx0ZXJDb25maWcub3BlcmF0b3JOYW1lKSAmJiBmaWx0ZXJDb25maWcub3BlcmF0b3JOYW1lKSB7XHJcblx0XHRcdFx0XHRcdG9wZXJhdG9yUHJvbWlzZSA9IHNldEZpbHRlck9wZXJhdG9yKG5ld0ZpbHRlciwgZmlsdGVyQ29uZmlnLm9wZXJhdG9yTmFtZSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvcGVyYXRvclByb21pc2UgPSBzZXRGaWx0ZXJPcGVyYXRvcihuZXdGaWx0ZXIsIG51bGwpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZmlsdGVyT3BlcmF0b3JQcm9taXNlcy5wdXNoKG9wZXJhdG9yUHJvbWlzZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHdhaXQgd2hlbiBhbGwgb3BlcmF0b3JzIGxvYWRlZFxyXG5cdFx0XHRcdHZhciBleGlzdGVudFZhbHVlc1Byb21pc2VzID0gW107XHJcblx0XHRcdFx0JHEuYWxsKGZpbHRlck9wZXJhdG9yUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gocmVwb3J0U2V0LmZpbHRlcnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGV4aXN0ZW50UHJvbWlzZSA9IHVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXModGhpcywgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdGV4aXN0ZW50VmFsdWVzUHJvbWlzZXMucHVzaChleGlzdGVudFByb21pc2UpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQvLyB3YWl0IHdoZW4gYWxsIGV4aXN0ZW50IHZhbHVlcyBsb2FkZWRcclxuXHRcdFx0XHRcdCRxLmFsbChleGlzdGVudFZhbHVlc1Byb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0Ly8gaW5pdGlhbGl6YXRpb24gY29tcGxldGVkXHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemUgc2VydmljZSBmb3IgbmV3IHJlcG9ydFxyXG5cdFx0ICovXHJcblx0XHR2YXIgbmV3UmVwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHRpZiAoIWlzUGFnZUluaXRpYWxpemVkKSB7XHJcblx0XHRcdFx0XHRuZXdSZXBvcnRMb2FkaW5nU2NoZWR1bGUgPSAnbmV3ISc7XHJcblx0XHRcdFx0XHQkbG9nLmRlYnVnKCduZXdSZXBvcnQgc2NoZWR1bGVkJyk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBwcm9taXNlcyA9IFtdO1xyXG5cclxuXHRcdFx0XHQvLyBsb2FkIHNjaGVkdWxlIGRhdGEgd2l0aCBkZWZhdWx0IGNvbmZpZyBmb3IgbmV3IHJlcG9ydFxyXG5cdFx0XHRcdHByb21pc2VzLnB1c2goJGl6ZW5kYVNjaGVkdWxlU2VydmljZS5zZXRTY2hlZHVsZUNvbmZpZyhudWxsKSk7XHJcblx0XHRcdFx0cHJvbWlzZXMucHVzaCgkaXplbmRhU2hhcmVTZXJ2aWNlLnNldFNoYXJlQ29uZmlnKG51bGwpKTtcclxuXHJcblx0XHRcdFx0Ly8gc2V0IGZ1bGwgYWNjZXNzIGZvciBuZXcgcmVwb3J0OlxyXG5cdFx0XHRcdCRpemVuZGFDb21wYXRpYmlsaXR5LnNldEZ1bGxBY2Nlc3MoKTtcclxuXHJcblx0XHRcdFx0Ly8gbG9hZCBkZWZhdWx0IHRhYmxlIGlmIGRlZmluZWRcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZygkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzLmRlZmF1bHRUYWJsZSkpIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZSA9IGdldFRhYmxlQnlTeXNuYW1lKCRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MuZGVmYXVsdFRhYmxlKTtcclxuXHRcdFx0XHRcdGlmICghdGFibGUpIHtcclxuXHRcdFx0XHRcdFx0dGFibGUgPSBnZXRUYWJsZUJ5TmFtZSgkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzLmRlZmF1bHRUYWJsZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAodGFibGUpIHtcclxuXHRcdFx0XHRcdFx0dGFibGUuY29sbGFwc2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2goYXBwbHlUYWJsZUFjdGl2ZSh0YWJsZSkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gd2FpdCB1bnRpbCBjb21wbGV0ZWQgYWxsIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zXHJcblx0XHRcdFx0JHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZCBleGlzdGluZyByZXBvcnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGxvYWRSZXBvcnQgPSBmdW5jdGlvbiAocmVwb3J0RnVsbE5hbWUpIHtcclxuXHRcdFx0JGxvZy5kZWJ1ZygnbG9hZFJlcG9ydCAnICsgcmVwb3J0RnVsbE5hbWUgKyAnIHN0YXJ0Jyk7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGlmICghaXNQYWdlSW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHRcdGV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gcmVwb3J0RnVsbE5hbWU7XHJcblx0XHRcdFx0XHQkbG9nLmRlYnVnKCdsb2FkUmVwb3J0IHNjaGVkdWxlZCcpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShbZmFsc2VdKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gdXBkYXRlIFVJIHBhcmFtc1xyXG5cdFx0XHRcdGN1cnJlbnRBY3RpdmVGaWVsZCA9IG51bGw7XHJcblx0XHRcdFx0c2V0RmlsdGVyc1BhbmVsT3BlbmVkKGZhbHNlKTtcclxuXHRcdFx0XHR2YXIgcHJldmlvdXNQcmV2aWV3VG9wID0gMTAwO1xyXG5cdFx0XHRcdGlmIChyZXBvcnRTZXQgJiYgcmVwb3J0U2V0Lm9wdGlvbnMpXHJcblx0XHRcdFx0XHRwcmV2aW91c1ByZXZpZXdUb3AgPSByZXBvcnRTZXQub3B0aW9ucy5wcmV2aWV3VG9wO1xyXG5cdFx0XHRcdC8vIGxvYWQgcmVwb3J0IGRhdGFcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LmxvYWRSZXBvcnQocmVwb3J0RnVsbE5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlcG9ydFNldENvbmZpZykge1xyXG5cdFx0XHRcdFx0cmVzZXREYXRhU291cmNlcygpO1xyXG5cdFx0XHRcdFx0cmVwb3J0U2V0ID0gYW5ndWxhci5leHRlbmQocmVwb3J0U2V0LCByZXBvcnRTZXRDb25maWcpO1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHkuc2V0UmlnaHRzKHJlcG9ydFNldC5vcHRpb25zLmVmZmVjdGl2ZVJpZ2h0cyk7XHJcblx0XHRcdFx0XHQvLyB1cGRhdGUgdG9wXHJcblx0XHRcdFx0XHRpZiAocmVwb3J0U2V0Lm9wdGlvbnMudG9wIDwgMClcclxuXHRcdFx0XHRcdFx0cmVwb3J0U2V0Lm9wdGlvbnMudG9wID0gJyc7XHJcblx0XHRcdFx0XHRyZXBvcnRTZXQub3B0aW9ucy5wcmV2aWV3VG9wID0gcHJldmlvdXNQcmV2aWV3VG9wO1xyXG5cclxuXHRcdFx0XHRcdHZhciBsYXp5UHJvbWlzZXMgPSBbXTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHJlcG9ydFNldC5qb2luZWRUYWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dmFyIHRhYmxlT2JqID0gdGhpcztcclxuXHRcdFx0XHRcdFx0dmFyIHRhYmxlID0gZ2V0VGFibGVCeVN5c25hbWUodGFibGVPYmouc3lzbmFtZSk7XHJcblx0XHRcdFx0XHRcdHZhciBsb2FkRmllbGRQcm9taXNlID0gbG9hZExhenlGaWVsZHModGFibGUpO1xyXG5cdFx0XHRcdFx0XHR0YWJsZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR0YWJsZS5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0XHRcdFx0bGF6eVByb21pc2VzLnB1c2gobG9hZEZpZWxkUHJvbWlzZSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyB3YWl0IHVudGlsIHRhYmxlIGZpZWxkcyB3aWxsIGJlIGxvYWRlZDpcclxuXHRcdFx0XHRcdCRxLmFsbChsYXp5UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQvLyBpbml0aWFsaXphdGlvbiBwcm9taXNlc1xyXG5cdFx0XHRcdFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGNvbnZlcnQgY2hhcnQgbmFtZXMgdG8gY2hhcnQgb2JqZWN0cyBjb2xsZWN0aW9uXHJcblx0XHRcdFx0XHRcdGNvbnZlcnRDaGFydE5hbWVzVG9DaGFydHMoKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGNvbnZlcnQgZHJpbGxkb3duIGZpZWxkIHN5c25hbWVzIHRvIGZpZWxkcyBjb2xsZWN0aW9uOlxyXG5cdFx0XHRcdFx0XHRjb252ZXJ0RHJpbGxkb3duRmllbGROYW1lc1RvRmllbGRzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBsb2FkIHBpdm90IGZpZWxkc1xyXG5cdFx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc09iamVjdChyZXBvcnRTZXQucGl2b3QpKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHBpdm90Q29sdW1uQ29uZmlnID0gYW5ndWxhci5jb3B5KHJlcG9ydFNldC5waXZvdC5waXZvdENvbHVtbik7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHBpdm90Q29sdW1uRmllbGQgPSBnZXRGaWVsZEJ5U3lzTmFtZShwaXZvdENvbHVtbkNvbmZpZy5zeXNuYW1lLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRyZXBvcnRTZXQucGl2b3QucGl2b3RDb2x1bW4gPSBhbmd1bGFyLmNvcHkocGl2b3RDb2x1bW5GaWVsZCk7XHJcblx0XHRcdFx0XHRcdFx0cmVwb3J0U2V0LnBpdm90LnBpdm90Q29sdW1uLmlzUGl2b3RDb2x1bW4gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gobG9hZFJlcG9ydEZpZWxkKHJlcG9ydFNldC5waXZvdC5waXZvdENvbHVtbiwgcGl2b3RDb2x1bW5Db25maWcpKTtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlcG9ydFNldC5waXZvdC5jZWxsVmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgY2VsbFZhbHVlQ29uZmlnID0gYW5ndWxhci5jb3B5KHJlcG9ydFNldC5waXZvdC5jZWxsVmFsdWVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdHJlcG9ydFNldC5waXZvdC5jZWxsVmFsdWVzW2ldID0gYW5ndWxhci5jb3B5KGdldEZpZWxkQnlTeXNOYW1lKGNlbGxWYWx1ZUNvbmZpZy5zeXNuYW1lLCB0cnVlKSk7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGxvYWRSZXBvcnRGaWVsZChyZXBvcnRTZXQucGl2b3QuY2VsbFZhbHVlc1tpXSwgY2VsbFZhbHVlQ29uZmlnKSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBjb252ZXJ0IGZpZWxkc1xyXG5cdFx0XHRcdFx0XHR2YXIgYWRkZWRGaWVsZFN5c05hbWVzID0gW107XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHJlcG9ydFNldC5hY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgYWN0aXZlRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBzeXNuYW1lID0gYWN0aXZlRmllbGQuc3lzbmFtZTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmllbGQgPSBnZXRGaWVsZEJ5U3lzTmFtZShzeXNuYW1lLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZmllbGQpKVxyXG5cdFx0XHRcdFx0XHRcdFx0JGxvZy5lcnJvcignRmllbGQgJyArIHN5c25hbWUgKyAnIG5vdCBmb3VuZCBpbiBkYXRhc291cmNlcycpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgaXNGaWVsZE11bHRpcGxlID0gYWRkZWRGaWVsZFN5c05hbWVzLmluZGV4T2Yoc3lzbmFtZSkgPj0gMDtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWlzRmllbGRNdWx0aXBsZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZmllbGQuZ3VpZCA9IGFjdGl2ZUZpZWxkLmd1aWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGxvYWRSZXBvcnRGaWVsZChmaWVsZCwgYWN0aXZlRmllbGQpKTtcclxuXHRcdFx0XHRcdFx0XHRcdGZpZWxkLmNoZWNrZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlUGFyZW50Rm9sZGVyc0FuZFRhYmxlcyhmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRhZGRlZEZpZWxkU3lzTmFtZXMucHVzaChzeXNuYW1lKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGFub3RoZXJGaWVsZCA9IGFkZEV4YWN0QW5vdGhlckZpZWxkKGZpZWxkLCBhY3RpdmVGaWVsZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRhbm90aGVyRmllbGQuZ3VpZCA9IGFjdGl2ZUZpZWxkLmd1aWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoYWN0aXZlRmllbGQuZGVzY3JpcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YW5vdGhlckZpZWxkLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGFub3RoZXJGaWVsZC5kZXNjcmlwdGlvbiA9IGFjdGl2ZUZpZWxkLmRlc2NyaXB0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaChsb2FkUmVwb3J0RmllbGQoYW5vdGhlckZpZWxkLCBhY3RpdmVGaWVsZCkpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YW5vdGhlckZpZWxkLmNoZWNrZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdF9zeW5jQ2FsY0ZpZWxkc0FycmF5KCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBwaXZvdHMgaW5pdGlhbGl6YXRpb25cclxuXHRcdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QocmVwb3J0U2V0LnBpdm90KSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBwaXZvdERhdGEgPSByZXBvcnRTZXQucGl2b3Q7XHJcblx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaCgkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5sb2FkUGl2b3REYXRhKHBpdm90RGF0YSkpO1xyXG5cdFx0XHRcdFx0XHRcdHJlcG9ydFNldC5waXZvdCA9IG51bGw7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIGNvbnZlcnQgZmlsdGVyc1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGxvYWRGaWx0ZXJzKCkpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gbG9hZCBzY2hlZHVsZSBkYXRhIGZvciBjb25maWdcclxuXHRcdFx0XHRcdFx0dmFyIHNjaGVkdWxlQ29uZmlnRGF0YSA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCByZXBvcnRTZXRDb25maWcuc2NoZWR1bGUpO1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKCRpemVuZGFTY2hlZHVsZVNlcnZpY2Uuc2V0U2NoZWR1bGVDb25maWcoc2NoZWR1bGVDb25maWdEYXRhKSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBsb2FkIHNoYXJlIGRhdGEgZm9yIGNvbmZpZ1xyXG5cdFx0XHRcdFx0XHR2YXIgc2hhcmVDb25maWdEYXRhID0gYW5ndWxhci5leHRlbmQoW10sIHJlcG9ydFNldENvbmZpZy5zaGFyZSk7XHJcblx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2goJGl6ZW5kYVNoYXJlU2VydmljZS5zZXRTaGFyZUNvbmZpZyhzaGFyZUNvbmZpZ0RhdGEpKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIHdhaXQgZm9yIGFsbCBwcmVwYXJhdGlvbnMgY29tcGxldGlvblxyXG5cdFx0XHRcdFx0XHQkcS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbGlkYXRlRmlsdGVycygpO1xyXG5cdFx0XHRcdFx0XHRcdHN0YXJ0RmlsdGVycygpO1xyXG5cdFx0XHRcdFx0XHRcdCRsb2cuZGVidWcoJ2xvYWRSZXBvcnQgZW5kJyk7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShbdHJ1ZSwgdHJ1ZV0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdFx0Ly8gZXJyb3IgbG9hZGluZyByZXBvcnQgc2V0IGNvbmZpZ1xyXG5cdFx0XHRcdFx0Ly8gc2hvdyBlcnJvciBkaWFsb2dcclxuXHRcdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhcclxuXHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRUb0xvYWRSZXBvcnQnLCAnRmFpbGVkIHRvIGxvYWQgcmVwb3J0JykgKyAnOiBcIicgKyBlcnJvciArICdcIicsXHJcblx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfUmVwb3J0TG9hZEVycm9yJywgJ1JlcG9ydCBsb2FkIGVycm9yJykpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHJlZGlyZWN0IHRvIG5ldyByZXBvcnRcclxuXHRcdFx0XHRcdCRpemVuZGFVcmwuc2V0SXNOZXcoKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoW3RydWUsIGZhbHNlXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlIGFub3RoZXIgZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHJlbW92ZUFub3RoZXJGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgYW5vdGhlckZpZWxkKSB7XHJcblx0XHRcdHZhciBpZHggPSBmaWVsZC5tdWx0aXBsZUNvbHVtbnMuaW5kZXhPZihhbm90aGVyRmllbGQpO1xyXG5cdFx0XHRpZiAoaWR4ID49IDApIHtcclxuXHRcdFx0XHRpZiAoZ2V0Q3VycmVudEFjdGl2ZUZpZWxkKCkgPT09IGFub3RoZXJGaWVsZClcclxuXHRcdFx0XHRcdHNldEN1cnJlbnRBY3RpdmVGaWVsZChudWxsKTtcclxuXHJcblx0XHRcdFx0dmFyIGlzUmVwbGFjZUlkTmVlZGVkID0gZmllbGQub3JpZ2luSWQgPT0gYW5vdGhlckZpZWxkLmlkO1xyXG5cdFx0XHRcdGZpZWxkLm11bHRpcGxlQ29sdW1ucy5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdFx0XHRpZiAoZmllbGQubXVsdGlwbGVDb2x1bW5zLmxlbmd0aCA+IDAgJiYgaXNSZXBsYWNlSWROZWVkZWQpXHJcblx0XHRcdFx0XHRmaWVsZC5tdWx0aXBsZUNvbHVtbnNbMF0uaWQgPSBmaWVsZC5vcmlnaW5JZDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aHJvdyAnQ2FuXFwndCBmaW5kICcgKyBhbm90aGVyRmllbGQubmFtZSArICcgaW4gbXVsdGlwbGVDb2x1bW5zIGNvbGxlY3Rpb24uJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGZpZWxkLm11bHRpcGxlQ29sdW1ucy5sZW5ndGggPT09IDEpIHtcclxuXHRcdFx0XHRjb3B5RmllbGRPYmplY3QoZmllbGQubXVsdGlwbGVDb2x1bW5zWzBdLCBmaWVsZCk7XHJcblx0XHRcdFx0ZmllbGQubXVsdGlwbGVDb2x1bW5zID0gW107XHJcblx0XHRcdFx0ZmllbGQuaXNNdWx0aXBsZUNvbHVtbnMgPSBmYWxzZTtcclxuXHRcdFx0XHRmaWVsZC5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRmaWVsZC5wYXJlbnRGaWVsZElkID0gbnVsbDtcclxuXHRcdFx0XHRhdXRvVXBkYXRlRmllbGREZXNjcmlwdGlvbihmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgc29ydCB2YWx1ZSBmb3IgZmllbGQuXHJcblx0XHQgKi9cclxuXHRcdHZhciBhcHBseUZpZWxkU29ydCA9IGZ1bmN0aW9uIChmaWVsZCwgc29ydFN0cmluZykge1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhzb3J0U3RyaW5nKSkge1xyXG5cdFx0XHRcdGlmIChzb3J0U3RyaW5nID09PSAnYXNjJykge1xyXG5cdFx0XHRcdFx0ZmllbGQuc29ydCA9ICdhc2MnO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoc29ydFN0cmluZyA9PT0gJ2Rlc2MnKSB7XHJcblx0XHRcdFx0XHRmaWVsZC5zb3J0ID0gJ2Rlc2MnO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoIWZpZWxkLmlzVmdVc2VkKVxyXG5cdFx0XHRcdFx0XHRmaWVsZC5zb3J0ID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKCFmaWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0XHRcdGZpZWxkLnNvcnQgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IGZpZWxkIGl0YWxpY1xyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwbHlGaWVsZEl0YWxpYyA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcclxuXHRcdFx0ZmllbGQuaXRhbGljID0gdmFsdWU7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IGZpZWxkIHZpc2libGVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGx5RmllbGRWaXNpYmxlID0gZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0XHRpZiAoIXZhbHVlKVxyXG5cdFx0XHRcdGZpZWxkLmlzVmdVc2VkID0gZmFsc2U7XHJcblx0XHRcdGZpZWxkLnZpc2libGUgPSB2YWx1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgZmllbGQgYm9sZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwbHlGaWVsZEJvbGQgPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XHJcblx0XHRcdGZpZWxkLmJvbGQgPSB2YWx1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBXZSBuZWVkIHRvIHNldCB2aXN1YWwgZ3JvdXAgZmllbGRzIG9yZGVyIGZpcnN0IGFuZCBvdGhlciBmaWVsZHMgbmV4dC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZVZpc3VhbEdyb3VwRmllbGRPcmRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBhY3RpdmVGaWVsZHMgPSBnZXRBbGxBY3RpdmVGaWVsZHMoKTtcclxuXHRcdFx0Ly8gd2UgbmVlZCB0byB1cGRhdGUgZmllbGQgb3JkZXJzOlxyXG5cdFx0XHQvLyB2Z0ZpZWxkMSwgdmdGaWVsZDIsIC4uLiwgdmdGaWVsZE4sIG5vblZnMSwgbm9uVmcyLCAuLi4sIG5vblZnTVxyXG5cdFx0XHR2YXIgdmdGaWVsZHMgPSBhbmd1bGFyLmVsZW1lbnQuZ3JlcChhY3RpdmVGaWVsZHMsIGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0cmV0dXJuIGYuaXNWZ1VzZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAodmdGaWVsZHMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dmdGaWVsZHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG5cdFx0XHRcdHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZnRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBub25WZ0ZpZWxkcyA9IGFuZ3VsYXIuZWxlbWVudC5ncmVwKGFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRyZXR1cm4gIWYuaXNWZ1VzZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRub25WZ0ZpZWxkcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0cmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gobm9uVmdGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGlzLm9yZGVyID0gX2dldE5leHRPcmRlcigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXQgdmlzdWFsIGdyb3VwIFxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwbHlWaXN1YWxHcm91cCA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcclxuXHRcdFx0aWYgKHZhbHVlICYmIGZpZWxkLnNvcnQgPT09IG51bGwpIHtcclxuXHRcdFx0XHRhcHBseUZpZWxkU29ydChmaWVsZCwgJ2FzYycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZpZWxkLmlzVmdVc2VkID0gdmFsdWU7XHJcblx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdHVwZGF0ZVZpc3VhbEdyb3VwRmllbGRPcmRlcnMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbHVtbiByZW9yZGVyLiBJbmRleGVzIHN0YXJ0ZWQgZnJvbSAxOiAxLDIsMyw0LDUsNlxyXG5cdFx0ICovXHJcblx0XHR2YXIgc3dhcEZpZWxkcyA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdFx0aWYgKGZyb21JbmRleCA9PT0gdG9JbmRleClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZhciBhY3RpdmVGaWVsZHNTb3J0ZWRMaXN0ID0gYW5ndWxhci5lbGVtZW50LmdyZXAoZ2V0QWxsQWN0aXZlRmllbGRzKCksIGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdFx0cmV0dXJuICFpdGVtLmlzVmdVc2VkO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0YWN0aXZlRmllbGRzU29ydGVkTGlzdC5zb3J0KGZ1bmN0aW9uIChmMSwgZjIpIHtcclxuXHRcdFx0XHRyZXR1cm4gZjEub3JkZXIgLSBmMi5vcmRlcjtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBmaWVsZDEgPSBhY3RpdmVGaWVsZHNTb3J0ZWRMaXN0W2Zyb21JbmRleCAtIDFdLFxyXG5cdFx0XHRcdGZpZWxkMiA9IGFjdGl2ZUZpZWxkc1NvcnRlZExpc3RbdG9JbmRleCAtIDFdLFxyXG5cdFx0XHRcdGZpZWxkT3JkZXIxID0gZmllbGQxLm9yZGVyLFxyXG5cdFx0XHRcdGZpZWxkT3JkZXIyID0gZmllbGQyLm9yZGVyO1xyXG5cdFx0XHRmaWVsZDEub3JkZXIgPSBmaWVsZE9yZGVyMjtcclxuXHRcdFx0ZmllbGQyLm9yZGVyID0gZmllbGRPcmRlcjE7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hhbmdlIGZpZWxkIG9yZGVyXHJcblx0XHQgKi9cclxuXHRcdHZhciBtb3ZlRmllbGRUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCwgaXNWaXN1YWxHcm91cCwgdGFrZUNhcmVPZkludmlzaWJsZUZpZWxkcykge1xyXG5cdFx0XHRpZiAoZnJvbUluZGV4ID09PSB0b0luZGV4KVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dmFyIGZpZWxkcyA9IGFuZ3VsYXIuZWxlbWVudC5ncmVwKGdldEFsbEFjdGl2ZUZpZWxkcygpLCBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHQvLyBleHRyYWN0IHZnfG5vbi12ZyBmaWVsZHMgKGRlcGVuZHMgb24gaXNWaXN1YWxHcm91cCBwYXJhbSlcclxuXHRcdFx0XHRyZXR1cm4gKGlzVmlzdWFsR3JvdXAgXiBmaWVsZC5pc1ZnVXNlZCkgPT09IDA7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dmFyIGFjdGl2ZUZpZWxkc1NvcnRlZCA9IGZpZWxkcy5zb3J0KGZ1bmN0aW9uIChmMSwgZjIpIHtcclxuXHRcdFx0XHRyZXR1cm4gZjEub3JkZXIgLSBmMi5vcmRlcjtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciB2aXNpYmxlRmllbGRzU29ydGVkID0gdGFrZUNhcmVPZkludmlzaWJsZUZpZWxkc1xyXG5cdFx0XHRcdD8gYW5ndWxhci5lbGVtZW50LmdyZXAoYWN0aXZlRmllbGRzU29ydGVkLCBmdW5jdGlvbiAoZikgeyByZXR1cm4gZi52aXNpYmxlOyB9KVxyXG5cdFx0XHRcdDogYWN0aXZlRmllbGRzU29ydGVkO1xyXG5cclxuXHRcdFx0Ly8gY2FsY3VsYXRlIGFjdHVhbCBmcm9tSW5kZXggYW5kIHRvSW5kZXhcclxuXHRcdFx0dmFyIGZyb21FbGVtZW50ID0gdmlzaWJsZUZpZWxkc1NvcnRlZFtmcm9tSW5kZXhdO1xyXG5cdFx0XHRpZiAodGFrZUNhcmVPZkludmlzaWJsZUZpZWxkcykge1xyXG5cdFx0XHRcdGZyb21JbmRleCA9IGFjdGl2ZUZpZWxkc1NvcnRlZC5pbmRleE9mKGZyb21FbGVtZW50KTtcclxuXHRcdFx0XHR2YXIgZWxlbWVudCA9IHZpc2libGVGaWVsZHNTb3J0ZWRbdG9JbmRleF07XHJcblx0XHRcdFx0dG9JbmRleCA9IGFjdGl2ZUZpZWxkc1NvcnRlZC5pbmRleE9mKGVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBpO1xyXG5cdFx0XHRpZiAoZnJvbUluZGV4IDwgdG9JbmRleCkge1xyXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBmcm9tSW5kZXg7IGkrKylcclxuXHRcdFx0XHRcdGFjdGl2ZUZpZWxkc1NvcnRlZFtpXS5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXggKyAxOyBpIDw9IHRvSW5kZXg7IGkrKylcclxuXHRcdFx0XHRcdGFjdGl2ZUZpZWxkc1NvcnRlZFtpXS5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0XHRmcm9tRWxlbWVudC5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0XHRmb3IgKGkgPSB0b0luZGV4ICsgMTsgaSA8IGFjdGl2ZUZpZWxkc1NvcnRlZC5sZW5ndGg7IGkrKylcclxuXHRcdFx0XHRcdGFjdGl2ZUZpZWxkc1NvcnRlZFtpXS5vcmRlciA9IF9nZXROZXh0T3JkZXIoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgdG9JbmRleDsgaSsrKVxyXG5cdFx0XHRcdFx0YWN0aXZlRmllbGRzU29ydGVkW2ldLm9yZGVyID0gX2dldE5leHRPcmRlcigpO1xyXG5cdFx0XHRcdGZyb21FbGVtZW50Lm9yZGVyID0gX2dldE5leHRPcmRlcigpO1xyXG5cdFx0XHRcdGZvciAoaSA9IHRvSW5kZXg7IGkgPCBhY3RpdmVGaWVsZHNTb3J0ZWQubGVuZ3RoOyBpKyspXHJcblx0XHRcdFx0XHRpZiAoaSAhPT0gZnJvbUluZGV4KVxyXG5cdFx0XHRcdFx0XHRhY3RpdmVGaWVsZHNTb3J0ZWRbaV0ub3JkZXIgPSBfZ2V0TmV4dE9yZGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dXBkYXRlVmlzdWFsR3JvdXBGaWVsZE9yZGVycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgZ2V0UHJldmlld1NwbGFzaFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBpc1ByZXZpZXdTcGxhc2hWaXNpYmxlO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgZ2V0UHJldmlld1NwbGFzaFRleHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBwcmV2aWV3U3BsYXNoVGV4dDtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGhhc0FnZ3JlZ2F0ZUZvcm1hdHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghYWN0aXZlQ2hlY2tlZEZpZWxkcykgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR2YXIgYWdncmVnYXRlRm9ybWF0cyA9IFtcclxuXHRcdFx0XHRcIlBlcmNlbnRPZkdyb3VwXCIsXHJcblx0XHRcdFx0XCJQZXJjZW50T2ZHcm91cFdpdGhSb3VuZGluZ1wiLFxyXG5cdFx0XHRcdFwiR2F1Z2VcIixcclxuXHRcdFx0XHRcIkdhdWdlVmFyaWFibGVcIixcclxuXHRcdFx0XHRcIkdhdWdlRGFzaGJvYXJkXCJcclxuXHRcdFx0XTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVDaGVja2VkRmllbGRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGZpZWxkID0gYWN0aXZlQ2hlY2tlZEZpZWxkc1tpXTtcclxuXHRcdFx0XHRpZiAoIWZpZWxkIHx8ICFmaWVsZC5mb3JtYXQgfHwgIWZpZWxkLmZvcm1hdC52YWx1ZSkgY29udGludWU7XHJcblx0XHRcdFx0aWYgKGFnZ3JlZ2F0ZUZvcm1hdHMuaW5kZXhPZihmaWVsZC5mb3JtYXQudmFsdWUpID49IDApIHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZTpcclxuXHRcdCRsb2cuZGVidWcoJ1N0YXJ0IGluc3RhbnQgcmVwb3J0IGluaXRpYWxpemUnKTtcclxuXHRcdGlzUGFnZUluaXRpYWxpemVkID0gZmFsc2U7XHJcblx0XHRpc1BhZ2VSZWFkeSA9IGZhbHNlO1xyXG5cclxuXHRcdHZhciBzdGFydEluaXRpYWxpemluZ1RpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcblx0XHQkcS5hbGwoW2xvYWREYXRhU291cmNlcygpLCBpbml0aWFsaXplVmdTdHlsZXMoKSwgaW5pdGlhbGl6ZVN1YnJlcG9ydHMoKSwgaW5pdGlhbGl6ZURyaWxsRG93blN0eWxlcygpLFxyXG5cdFx0aW5pdGlhbGl6ZUV4cHJlc3Npb25UeXBlcygpLCAkaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb24ubG9hZFZpc3VhbGl6YXRpb25zKCldKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aXNQYWdlSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhleGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSkpIHtcclxuXHRcdFx0XHQvLyBleGlzdGluZyByZXBvcnRcclxuXHRcdFx0XHQkbG9nLmRlYnVnKCdTdGFydCBsb2FkaW5nIHNjaGVkdWxlZCByZXBvcnQnLCBleGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSk7XHJcblx0XHRcdFx0bG9hZFJlcG9ydChleGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkbG9nLmRlYnVnKCdFbmQgbG9hZGluZyBzY2hlZHVsZWQgcmVwb3J0Jyk7XHJcblx0XHRcdFx0XHRleGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSA9IG51bGw7XHJcblx0XHRcdFx0XHRpc1BhZ2VSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblxyXG5cdFx0XHRcdFx0dmFyIHRpbWVTcGVudCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBzdGFydEluaXRpYWxpemluZ1RpbWVzdGFtcDtcclxuXHRcdFx0XHRcdCRsb2cuZGVidWcoJ1BhZ2UgcmVhZHk6ICcsIHRpbWVTcGVudCArICdtcycpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobmV3UmVwb3J0TG9hZGluZ1NjaGVkdWxlKSkge1xyXG5cdFx0XHRcdC8vIG5ldyByZXBvcnRcclxuXHRcdFx0XHQkbG9nLmRlYnVnKCdTdGFydCBjcmVhdGluZyBuZXcgcmVwb3J0Jyk7XHJcblx0XHRcdFx0bmV3UmVwb3J0KCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkbG9nLmRlYnVnKCdFbmQgY3JlYXRpbmcgbmV3IHJlcG9ydCcpO1xyXG5cdFx0XHRcdFx0bmV3UmVwb3J0TG9hZGluZ1NjaGVkdWxlID0gbnVsbDtcclxuXHRcdFx0XHRcdGlzUGFnZVJlYWR5ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdCRyb290U2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdHZhciB0aW1lU3BlbnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gc3RhcnRJbml0aWFsaXppbmdUaW1lc3RhbXA7XHJcblx0XHRcdFx0XHQkbG9nLmRlYnVnKCdQYWdlIHJlYWR5OiAnLCB0aW1lU3BlbnQgKyAnbXMnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBkZWZhdWx0XHJcblx0XHRcdFx0aXNQYWdlUmVhZHkgPSB0cnVlO1xyXG5cdFx0XHRcdHZhciB0aW1lU3BlbnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gc3RhcnRJbml0aWFsaXppbmdUaW1lc3RhbXA7XHJcblx0XHRcdFx0JGxvZy5kZWJ1ZygnUGFnZSByZWFkeTogJywgdGltZVNwZW50ICsgJ21zJyk7XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlc3RvcmUgZGVmYXVsdCBjb2xvciBzZXR0aW5ncy5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmVzdG9yZURlZmF1bHRDb2xvcnMoKSB7XHJcblx0XHRcdHZhciBzdHlsZSA9IHJlcG9ydFNldC5vcHRpb25zLnN0eWxlO1xyXG5cdFx0XHRzdHlsZS5ib3JkZXJDb2xvciA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MucmVwb3J0Qm9yZGVyQ29sb3I7XHJcblx0XHRcdHN0eWxlLmhlYWRlckNvbG9yID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncy5yZXBvcnRIZWFkZXJDb2xvcjtcclxuXHRcdFx0c3R5bGUuaGVhZGVyRm9yZWNvbG9yID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncy5oZWFkZXJGb3JlZ3JvdW5kQ29sb3I7XHJcblx0XHRcdHN0eWxlLml0ZW1Db2xvciA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MucmVwb3J0SXRlbUNvbG9yO1xyXG5cdFx0XHRzdHlsZS5pdGVtRm9yZUNvbG9yID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncy5pdGVtRm9yZWdyb3VuZENvbG9yO1xyXG5cdFx0XHRzdHlsZS5pdGVtQWx0Q29sb3IgPSAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzLnJlcG9ydEFsdGVybmF0aW5nSXRlbUNvbG9yO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBkZWZhdWx0IGZpZWxkIGZvcm1hdCAoYmFzZWQgb24gZmllbGQgdHlwZWdyb3VwKVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGZpZWxkIEZpZWxkLlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBnZXREZWZhdWx0RmllbGRGb3JtYXQodHlwZUdyb3VwKSB7XHJcblx0XHRcdHZhciBmb3JtYXRLZXk7XHJcblx0XHRcdHN3aXRjaCAodHlwZUdyb3VwKSB7XHJcblx0XHRcdFx0Y2FzZSAnTnVtZXJpYyc6XHJcblx0XHRcdFx0XHRmb3JtYXRLZXkgPSAnezA6IywwfSc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdSZWFsJzpcclxuXHRcdFx0XHRcdGZvcm1hdEtleSA9ICd7MDojLDAuMDB9JztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ01vbmV5JzpcclxuXHRcdFx0XHRcdGZvcm1hdEtleSA9ICd7MDpDMn0nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnRGF0ZVRpbWUnOlxyXG5cdFx0XHRcdFx0Zm9ybWF0S2V5ID0gJ3swOmR9JztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRmb3JtYXRLZXkgPSAnezB9JztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZm9ybWF0S2V5O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFBVQkxJQyBBUElcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFBhZ2VSZWFkeTogZ2V0UGFnZVJlYWR5LFxyXG5cdFx0XHRnZXRSZXBvcnRTZXQ6IGdldFJlcG9ydFNldCxcclxuXHRcdFx0c2F2ZVJlcG9ydFNldDogc2F2ZVJlcG9ydFNldCxcclxuXHRcdFx0c2V0UmVwb3J0U2V0QXNDcnM6IHNldFJlcG9ydFNldEFzQ3JzLFxyXG5cdFx0XHRwcmludFJlcG9ydDogcHJpbnRSZXBvcnQsXHJcblx0XHRcdG9wZW5SZXBvcnRJbkRlc2lnbmVyOiBvcGVuUmVwb3J0SW5EZXNpZ25lcixcclxuXHRcdFx0ZXhwb3J0UmVwb3J0OiBleHBvcnRSZXBvcnQsXHJcblx0XHRcdHNlbmRSZXBvcnRMaW5rRW1haWw6IHNlbmRSZXBvcnRMaW5rRW1haWwsXHJcblx0XHRcdGdldFJlcG9ydFByZXZpZXdIdG1sOiBnZXRSZXBvcnRQcmV2aWV3SHRtbCxcclxuXHRcdFx0Y2xlYXJSZXBvcnRQcmV2aWV3SHRtbDogY2xlYXJSZXBvcnRQcmV2aWV3SHRtbCxcclxuXHRcdFx0c2V0UHJldmlld1RvcDogc2V0UHJldmlld1RvcCxcclxuXHJcblx0XHRcdGdldENhdGVnb3J5QnlJZDogZ2V0Q2F0ZWdvcnlCeUlkLFxyXG5cdFx0XHRnZXRUYWJsZUJ5SWQ6IGdldFRhYmxlQnlJZCxcclxuXHRcdFx0Z2V0VGFibGVCeVN5c25hbWU6IGdldFRhYmxlQnlTeXNuYW1lLFxyXG5cdFx0XHRnZXRBY3RpdmVUYWJsZXM6IGdldEFjdGl2ZVRhYmxlcyxcclxuXHRcdFx0Z2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXM6IGdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzLFxyXG5cdFx0XHRnZXRBbGxBY3RpdmVGaWVsZHM6IGdldEFsbEFjdGl2ZUZpZWxkcyxcclxuXHRcdFx0Z2V0QWxsVmlzaWJsZUZpZWxkczogZ2V0QWxsVmlzaWJsZUZpZWxkcyxcclxuXHRcdFx0Z2V0RmllbGRCeVN5c05hbWU6IGdldEZpZWxkQnlTeXNOYW1lLFxyXG5cdFx0XHRnZXREYXRhU291cmNlczogZ2V0RGF0YVNvdXJjZXMsXHJcblx0XHRcdHNldERhdGFTb3VyY2VzOiBzZXREYXRhU291cmNlcyxcclxuXHRcdFx0Z2V0RmlsdGVyczogZ2V0RmlsdGVycyxcclxuXHRcdFx0Z2V0RmlsdGVyT3B0aW9uczogZ2V0RmlsdGVyT3B0aW9ucyxcclxuXHJcblx0XHRcdGxvYWRMYXp5RmllbGRzOiBsb2FkTGF6eUZpZWxkcyxcclxuXHRcdFx0dXBkYXRlUGFyZW50Rm9sZGVyc0FuZFRhYmxlczogdXBkYXRlUGFyZW50Rm9sZGVyc0FuZFRhYmxlcyxcclxuXHRcdFx0dW5zZWxlY3RBbGxGaWVsZHM6IHVuc2VsZWN0QWxsRmllbGRzLFxyXG5cdFx0XHRzZWFyY2hJbkRhdGFEb3VyY2VzOiBzZWFyY2hJbkRhdGFEb3VyY2VzLFxyXG5cdFx0XHRnZXRGaWVsZEJ5SWQ6IGdldEZpZWxkQnlJZCxcclxuXHRcdFx0Z2V0T3B0aW9uczogZ2V0T3B0aW9ucyxcclxuXHRcdFx0Z2V0RHJpbGxEb3duRmllbGRzOiBnZXREcmlsbERvd25GaWVsZHMsXHJcblx0XHRcdGdldFZnU3R5bGVzOiBnZXRWZ1N0eWxlcyxcclxuXHRcdFx0Z2V0RHJpbGxEb3duU3R5bGVzOiBnZXREcmlsbERvd25TdHlsZXMsXHJcblx0XHRcdGRpc2FibGVFbWJlZGRlZERyaWxsRG93blN0eWxlOiBkaXNhYmxlRW1iZWRkZWREcmlsbERvd25TdHlsZSxcclxuXHRcdFx0Z2V0RXhwcmVzc2lvblR5cGVzOiBnZXRFeHByZXNzaW9uVHlwZXMsXHJcblx0XHRcdGdldFN1YnJlcG9ydHM6IGdldFN1YnJlcG9ydHMsXHJcblx0XHRcdGdldEN1cnJlbnRBY3RpdmVGaWVsZDogZ2V0Q3VycmVudEFjdGl2ZUZpZWxkLFxyXG5cdFx0XHRzZXRDdXJyZW50QWN0aXZlRmllbGQ6IHNldEN1cnJlbnRBY3RpdmVGaWVsZCxcclxuXHRcdFx0aXNGaWVsZEdyb3VwZWQ6IGlzRmllbGRHcm91cGVkLFxyXG5cdFx0XHRhcHBseUF1dG9Hcm91cHM6IGFwcGx5QXV0b0dyb3VwcyxcclxuXHRcdFx0cmVzZXRBdXRvR3JvdXBzOiByZXNldEF1dG9Hcm91cHMsXHJcblx0XHRcdGluaXRpYWxpemVGaWVsZDogaW5pdGlhbGl6ZUZpZWxkLFxyXG5cdFx0XHRyZXNldEZpZWxkT2JqZWN0OiByZXNldEZpZWxkT2JqZWN0LFxyXG5cdFx0XHRjcmVhdGVGaWVsZE9iamVjdDogY3JlYXRlRmllbGRPYmplY3QsXHJcblx0XHRcdGNvcHlGaWVsZE9iamVjdDogY29weUZpZWxkT2JqZWN0LFxyXG5cdFx0XHRhcHBseUZpZWxkQ2hlY2tlZDogYXBwbHlGaWVsZENoZWNrZWQsXHJcblx0XHRcdGFwcGx5RGVzY3JpcHRpb246IGFwcGx5RGVzY3JpcHRpb24sXHJcblx0XHRcdGFwcGx5RmllbGRTZWxlY3RlZDogYXBwbHlGaWVsZFNlbGVjdGVkLFxyXG5cdFx0XHRhcHBseVRhYmxlQWN0aXZlOiBhcHBseVRhYmxlQWN0aXZlLFxyXG5cdFx0XHRhZGRBbm90aGVyRmllbGQ6IGFkZEFub3RoZXJGaWVsZCxcclxuXHRcdFx0cmVtb3ZlQW5vdGhlckZpZWxkOiByZW1vdmVBbm90aGVyRmllbGQsXHJcblx0XHRcdG9uRmllbGRGdW5jdGlvbkFwcGx5ZWQ6IG9uRmllbGRGdW5jdGlvbkFwcGx5ZWQsXHJcblx0XHRcdG9uRXhwcmVzc2lvblR5cGVHcm91cEFwcGx5ZWQ6IG9uRXhwcmVzc2lvblR5cGVHcm91cEFwcGx5ZWQsXHJcblx0XHRcdG9uRXhwcmVzc2lvbkFwcGx5ZWQ6IG9uRXhwcmVzc2lvbkFwcGx5ZWQsXHJcblx0XHRcdGFwcGx5RmllbGRTb3J0OiBhcHBseUZpZWxkU29ydCxcclxuXHRcdFx0YXBwbHlGaWVsZEl0YWxpYzogYXBwbHlGaWVsZEl0YWxpYyxcclxuXHRcdFx0YXBwbHlGaWVsZFZpc2libGU6IGFwcGx5RmllbGRWaXNpYmxlLFxyXG5cdFx0XHRhcHBseUZpZWxkQm9sZDogYXBwbHlGaWVsZEJvbGQsXHJcblx0XHRcdGFwcGx5VmlzdWFsR3JvdXA6IGFwcGx5VmlzdWFsR3JvdXAsXHJcblx0XHRcdGlzQmluYXJ5RmllbGQ6IGlzQmluYXJ5RmllbGQsXHJcblx0XHRcdGlzQWN0aXZlRmllbGRzQ29udGFpbnNCaW5hcnk6IGlzQWN0aXZlRmllbGRzQ29udGFpbnNCaW5hcnksXHJcblx0XHRcdGlzQWxsU3BQYXJhbWV0ZXJzQXNzaWduZWQ6IGlzQWxsU3BQYXJhbWV0ZXJzQXNzaWduZWQsXHJcblx0XHRcdHVwZGF0ZVZpc3VhbEdyb3VwRmllbGRPcmRlcnM6IHVwZGF0ZVZpc3VhbEdyb3VwRmllbGRPcmRlcnMsXHJcblx0XHRcdHN3YXBGaWVsZHM6IHN3YXBGaWVsZHMsXHJcblx0XHRcdG1vdmVGaWVsZFRvUG9zaXRpb246IG1vdmVGaWVsZFRvUG9zaXRpb24sXHJcblx0XHRcdHJlc3RvcmVEZWZhdWx0Q29sb3JzOiByZXN0b3JlRGVmYXVsdENvbG9ycyxcclxuXHJcblx0XHRcdGdldFByZXZpZXc6IGdldFByZXZpZXcsXHJcblx0XHRcdG5ld1JlcG9ydDogbmV3UmVwb3J0LFxyXG5cdFx0XHRsb2FkUmVwb3J0OiBsb2FkUmVwb3J0LFxyXG5cclxuXHRcdFx0Ly8gY2hhcnRzXHJcblx0XHRcdHNlbGVjdENoYXJ0OiBzZWxlY3RDaGFydCxcclxuXHRcdFx0Z2V0U2VsZWN0ZWRDaGFydDogZ2V0U2VsZWN0ZWRDaGFydCxcclxuXHJcblx0XHRcdC8vIGZpbHRlcnNcclxuXHRcdFx0Z2V0RmlsdGVyc1BhbmVsT3BlbmVkOiBnZXRGaWx0ZXJzUGFuZWxPcGVuZWQsXHJcblx0XHRcdHNldEZpbHRlcnNQYW5lbE9wZW5lZDogc2V0RmlsdGVyc1BhbmVsT3BlbmVkLFxyXG5cdFx0XHRjcmVhdGVOZXdGaWx0ZXI6IGNyZWF0ZU5ld0ZpbHRlcixcclxuXHRcdFx0cmVtb3ZlRmlsdGVyOiByZW1vdmVGaWx0ZXIsXHJcblx0XHRcdHN3YXBGaWx0ZXJzOiBzd2FwRmlsdGVycyxcclxuXHRcdFx0bW92ZUZpbHRlclRvOiBtb3ZlRmlsdGVyVG8sXHJcblx0XHRcdGdldEZpZWxkRmlsdGVyT3BlcmF0b3JMaXN0OiBnZXRGaWVsZEZpbHRlck9wZXJhdG9yTGlzdCxcclxuXHRcdFx0dXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlczogdXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyxcclxuXHRcdFx0Z2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZTogZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZSxcclxuXHRcdFx0cmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nOiByZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcsXHJcblx0XHRcdHJlZnJlc2hGaWx0ZXJzRm9yRmlsdGVyTG9naWM6IHJlZnJlc2hGaWx0ZXJzRm9yRmlsdGVyTG9naWMsXHJcblx0XHRcdHNldEZpbHRlck9wZXJhdG9yOiBzZXRGaWx0ZXJPcGVyYXRvcixcclxuXHRcdFx0bG9hZEZpbHRlckZvcm1hdHM6IGxvYWRGaWx0ZXJGb3JtYXRzLFxyXG5cdFx0XHRnZXRQcmV2aWV3U3BsYXNoVmlzaWJsZTogZ2V0UHJldmlld1NwbGFzaFZpc2libGUsXHJcblx0XHRcdGdldFByZXZpZXdTcGxhc2hUZXh0OiBnZXRQcmV2aWV3U3BsYXNoVGV4dCxcclxuXHRcdFx0Z2V0UG9wdXBGaWx0ZXJDdXN0b21UZW1wbGF0ZTogZ2V0UG9wdXBGaWx0ZXJDdXN0b21UZW1wbGF0ZSxcclxuXHRcdFx0aGFzQWdncmVnYXRlRm9ybWF0czogaGFzQWdncmVnYXRlRm9ybWF0c1xyXG5cdFx0fTtcclxuXHR9XSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZmFjdG9yeSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uJywgW1xyXG5cdCckcScsXHJcblx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cycsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eScsXHJcblx0ZnVuY3Rpb24gKCRxLCAkaXplbmRhTG9jYWxlLCAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UsICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLCAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzLCAkaXplbmRhQ29tcGF0aWJpbGl0eSkge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRcdHZhciB2YWxpZGF0aW9uID0ge1xyXG5cdFx0XHRpc1ZhbGlkOiB0cnVlLFxyXG5cdFx0XHRtZXNzYWdlczogW11cclxuXHRcdH07XHJcblx0XHR2YXIgYmluYXJ5RmllbGRzQXJyYXkgPSBbJ051bGwnLCAnVW5rbm93bicsICdCaW5hcnknLCAnVmFyQmluYXJ5JywgJ1RleHQnLCAnSW1hZ2UnXTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElzIHJlcG9ydCB2YWxpZCBnZXR0ZXJcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufSBcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGlzUmVwb3J0VmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB2YWxpZGF0aW9uLmlzVmFsaWQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVmFsaWRhdGlvbiBvYmplY3QgZ2V0dGVyXHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fSBcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB2YWxpZGF0aW9uO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBsaXN0IG9mIHZhbGlkYXRpb24gbWVzc2FnZXNcclxuXHRcdCAqIEByZXR1cm5zIHtBcnJheX0uXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRWYWxpZGF0aW9uTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB2YWxpZGF0aW9uLm1lc3NhZ2VzO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFZhbGlkYXRlIHBpdm90cy4gXHJcblx0XHQgKi9cclxuXHRcdHZhciB2YWxpZGF0ZVBpdm90cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIHBpdm90Q29sdW1uID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuZ2V0UGl2b3RDb2x1bW4oKTtcclxuXHRcdFx0dmFyIHBpdm90Q2VsbHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRDZWxsVmFsdWVzKCk7XHJcblxyXG5cdFx0XHQvLyBjaGVjayBpZiBwaXZvdCBjb2x1bW4gd2FzIHNldDpcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QocGl2b3RDb2x1bW4pKSB7XHJcblx0XHRcdFx0aWYgKHBpdm90Q2VsbHMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHQvLyBzaG93IHdhcm5pbmcgd2hlbiBwaXZvdCBjZWxscyB3YXNuJ3QgYWRkZWQuXHJcblx0XHRcdFx0XHR2YWxpZGF0aW9uLmlzVmFsaWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZhbGlkYXRpb24ubWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHRcdHR5cGU6ICdpbmZvJyxcclxuXHRcdFx0XHRcdFx0dGV4dDogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19BZGRQaXZvdENlbGxzV2FybmluZycsICdZb3Ugc2hvdWxkIGFkZCBwaXZvdCBjZWxscyB0byBlbmFibGUgcGl2b3Qgdmlldy4nKVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciBoYXZlUGl2b3RDZWxscyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gocGl2b3RDZWxscywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgcGl2b3RDZWxsID0gdGhpcztcclxuXHRcdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QocGl2b3RDZWxsKSlcclxuXHRcdFx0XHRcdFx0XHRoYXZlUGl2b3RDZWxscyA9IHRydWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGlmICghaGF2ZVBpdm90Q2VsbHMpIHtcclxuXHRcdFx0XHRcdFx0dmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHZhbGlkYXRpb24ubWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0dHlwZTogJ2luZm8nLFxyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfU3BlY2lmeVBpdm90Q29sdW1uV2FybmluZycsICdZb3Ugc2hvdWxkIHNwZWNpZnkgY29sdW1uIGZvciBhdCBsZWFzdCBvbmUgcGl2b3QgY2VsbCAocGl2b3QgY2VsbHMgd2l0aG91dCBjb2x1bW4gd2lsbCBiZSBpZ25vcmVkKS4nKVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhciBhbGwgdmFsaWRhdGlvbiBtZXNzYWdlcyBhbmQgc3RhdGVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsZWFyVmFsaWRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFsaWRhdGlvbi5pc1ZhbGlkID0gdHJ1ZTtcclxuXHRcdFx0dmFsaWRhdGlvbi5tZXNzYWdlcyA9IFtdO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgZ2V0VmFsaWRhdGlvbkFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godmFsaWRhdGlvbi5tZXNzYWdlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBtZXNzYWdlID0gdGhpcztcclxuXHRcdFx0XHRpZiAobWVzc2FnZS5hZGRpdGlvbmFsQWN0aW9uVHlwZSlcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKG1lc3NhZ2UuYWRkaXRpb25hbEFjdGlvblR5cGUpXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVmFsaWRhdGUgcmVwb3J0IHNldFxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59IHJlcG9ydCBpcyB2YWxpZFxyXG5cdFx0ICovXHJcblx0XHR2YXIgdmFsaWRhdGVSZXBvcnRTZXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGNsZWFyVmFsaWRhdGlvbigpO1xyXG5cclxuXHRcdFx0dmFyIHBpdm90Q29sdW1uID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuZ2V0UGl2b3RDb2x1bW4oKTtcclxuXHJcblx0XHRcdC8vIHRyeSB0byBmaW5kIGF0IGxlYXN0IG9uZSBhY3RpdmUgZmllbGRcclxuXHRcdFx0dmFyIGhhc0FjdGl2ZUZpZWxkczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0XHR2YXIgYmluYXJ5RmllbGRzID0gW107XHJcblx0XHRcdHZhciBvcHRpb25zID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldE9wdGlvbnMoKTtcclxuXHRcdFx0dmFyIGFjdGl2ZUZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChhY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRoYXNBY3RpdmVGaWVsZHMgPSBoYXNBY3RpdmVGaWVsZHMgfHwgdGhpcy5jaGVja2VkO1xyXG5cdFx0XHRcdGlmICh0aGlzLmNoZWNrZWQgJiYgYmluYXJ5RmllbGRzQXJyYXkuaW5kZXhPZih0aGlzLnNxbFR5cGUpID49IDApIHtcclxuXHRcdFx0XHRcdGJpbmFyeUZpZWxkcy5wdXNoKHRoaXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIHRyeSB0byBmaW5kIGFjdGl2ZSBwaXZvdCBmaWVsZHNcclxuXHRcdFx0aGFzQWN0aXZlRmllbGRzID0gaGFzQWN0aXZlRmllbGRzIHx8ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLmlzUGl2b3RWYWxpZCgpO1xyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIHZhbGlkYXRpb24gcmVzdWx0IGZvciBmaWVsZHNcclxuXHRcdFx0aWYgKCFoYXNBY3RpdmVGaWVsZHMgJiYgIXBpdm90Q29sdW1uKSB7XHJcblx0XHRcdFx0dmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0dmFsaWRhdGlvbi5tZXNzYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRcdHR5cGU6ICdpbmZvJyxcclxuXHRcdFx0XHRcdHRleHQ6ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfWW91U2hvdWxkU2VsZWN0RmllbGQnLCAnWW91IHNob3VsZCBzZWxlY3QgYXQgbGVhc3Qgb25lIGZpZWxkIHRvIHNlZSBwcmV2aWV3LicpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHN0b3JlZCBwcm9jZWR1cmUgcGFyYW1ldGVycyB2YWxpZGF0aW9uXHJcblx0XHRcdGlmICghJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmlzQWxsU3BQYXJhbWV0ZXJzQXNzaWduZWQoKSkge1xyXG5cdFx0XHRcdHZhbGlkYXRpb24uaXNWYWxpZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHZhbGlkYXRpb24ubWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHR0eXBlOiAnaW5mbycsXHJcblx0XHRcdFx0XHR0ZXh0OiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX3NwUGFyYW1ldGVySXNSZXF1aXJlZCcsICdQbGVhc2Ugc3BlY2lmeSB2YWx1ZXMgZm9yIHlvdXIgc3RvcmVkIHByb2NlZHVyZSBwYXJhbWV0ZXJzIGluIHRoZSBmaWx0ZXJzLicpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRpc3RpbmN0IHZhbGlkYXRpb25cclxuXHRcdFx0aWYgKCRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3Muc2hvd0Rpc3RpbmN0ICYmIG9wdGlvbnMuZGlzdGluY3QgJiYgYmluYXJ5RmllbGRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR2YXIgYmluYXJ5RmllbGRzU3RyaW5nID0gYmluYXJ5RmllbGRzLm1hcChmdW5jdGlvbiAoYkZpZWxkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJ1wiJyArIGJGaWVsZC5uYW1lICsgJ1wiICgnICsgYkZpZWxkLnNxbFR5cGUgKyAnKSc7XHJcblx0XHRcdFx0fSkuam9pbignLCAnKTtcclxuXHRcdFx0XHR2YWxpZGF0aW9uLm1lc3NhZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0dHlwZTogJ2luZm8nLFxyXG5cdFx0XHRcdFx0YWRkaXRpb25hbEFjdGlvblR5cGU6ICdUVVJOX09GRl9ESVNUSU5DVCcsXHJcblx0XHRcdFx0XHR0ZXh0OiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHRXaXRoUGFyYW1zKFxyXG5cdFx0XHRcdFx0XHQnanNfQ29sdW1uc0lzbnRDb21wYXRpYmxlV2l0aERpc3RpbmN0JyxcclxuXHRcdFx0XHRcdFx0J1JlcG9ydCBjb250YWluIGNvbHVtbnM6IHswfS4gVGhlc2UgY29sdW1ucyBhcmUgbm90IGNvbXBhdGFibGUgd2l0aCBcImRpc3RpbmN0XCIgc2V0dGluZy4gRGlzdGluY3Qgc2V0dGluZyB3YXMgZGlzYWJsZWQhJyxcclxuXHRcdFx0XHRcdFx0W2JpbmFyeUZpZWxkc1N0cmluZ10pXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJ1biBwaXZvdHMgdmFsaWRhdGlvblxyXG5cdFx0XHR2YWxpZGF0ZVBpdm90cygpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHZhbGlkYXRpb24uaXNWYWxpZDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBWYWxpZGF0ZSByZXBvcnQgc2V0IGFuZCByZWZyZXNoIHByZXZpZXcuXHJcblx0XHQgKi9cclxuXHRcdHZhciB2YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2ggPSBmdW5jdGlvbiAoZm9yY2VSZWZyZXNoKSB7XHJcblx0XHRcdHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGVSZXBvcnRTZXQoKTtcclxuXHRcdFx0dmFyIHZhbGlkYXRpb25BY3Rpb25zID0gZ2V0VmFsaWRhdGlvbkFjdGlvbnMoKTtcclxuXHRcdFx0aWYgKHZhbGlkYXRpb25SZXN1bHQpIHtcclxuXHRcdFx0XHQvLyByZXBvcnQgaXMgdmFsaWRcclxuXHRcdFx0XHRpZiAodmFsaWRhdGlvbkFjdGlvbnMuaW5kZXhPZignVFVSTl9PRkZfRElTVElOQ1QnKSA+PSAwKSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0T3B0aW9ucygpLmRpc3RpbmN0ID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChmb3JjZVJlZnJlc2ggfHwgISRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0UmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyByZXBvcnQgbm90IHZhbGlkXHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmNsZWFyUmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBwdWJsaWMgQVBJXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc1JlcG9ydFZhbGlkOiBpc1JlcG9ydFZhbGlkLFxyXG5cdFx0XHRnZXRWYWxpZGF0aW9uOiBnZXRWYWxpZGF0aW9uLFxyXG5cdFx0XHRnZXRWYWxpZGF0aW9uTWVzc2FnZXM6IGdldFZhbGlkYXRpb25NZXNzYWdlcyxcclxuXHRcdFx0dmFsaWRhdGVSZXBvcnRTZXQ6IHZhbGlkYXRlUmVwb3J0U2V0LFxyXG5cdFx0XHR2YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2g6IHZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaFxyXG5cdFx0fTtcclxuXHR9XSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBjaGFydCBzZXJ2aWNlLiBDb250YWlucyBjaGFydHMgZGF0YSBhbmQgaXRzIGZ1bmN0aW9ucy5cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZmFjdG9yeSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uJywgW1xyXG5cdCckcScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnknLFxyXG5cdGZ1bmN0aW9uICgkcSwgJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeSkge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRcdHZhciBfdmlzQ29uZmlnID0gX2NyZWF0ZURlZmF1bHRDb25maWcoKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZSBkZWZhdWx0IGNvbmZpZyBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX2NyZWF0ZURlZmF1bHRDb25maWcoKSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0Y2F0ZWdvcmllczogW11cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjdXJyZW50IGNvbmZpZy5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0VmlzdWFsaXphdGlvbkNvbmZpZygpIHtcclxuXHRcdFx0cmV0dXJuIF92aXNDb25maWc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2FkIHZpc3VhbGl6YXRpb25zLiBEZXNpZ25lZCBhcyBhc3luYyBvcGVyYXRpb24gZm9yIGZ1dHVyZSBhc3luYyBjb25maWcgbG9hZGluZy5cclxuXHRcdCAqIEByZXR1cm5zIHtwcm9taXNlIG9iamVjdH0uXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGxvYWRWaXN1YWxpemF0aW9ucygpIHtcclxuXHRcdFx0X3Zpc0NvbmZpZyA9IF9jcmVhdGVEZWZhdWx0Q29uZmlnKCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHQvLyBydW4gcXVlcnk6XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeS5nZXRWaXN1YWxpemF0aW9uQ29uZmlnKCkudGhlbihmdW5jdGlvbiAoY29uZmlnKSB7XHJcblx0XHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoY29uZmlnKSB8fCAhYW5ndWxhci5pc0FycmF5KGNvbmZpZy5jYXRlZ29yaWVzKSkge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIHNldCBjb25maWc6XHJcblx0XHRcdFx0XHRfdmlzQ29uZmlnID0gY29uZmlnO1xyXG5cdFx0XHRcdFx0Ly8gYWRkIGNhdGVnb3J5IG5hbWUgdG8gZWFjaCB2aXN1YWxpemF0aW9uIG9iamVjdDpcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKF92aXNDb25maWcuY2F0ZWdvcmllcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgY2F0ZWdvcnlOYW1lID0gdGhpcy5uYW1lO1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0aGlzLmNoYXJ0cywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2F0ZWdvcnlOYW1lID0gY2F0ZWdvcnlOYW1lO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIHZpc3VhbGl6YXRpb24gb2JqZWN0IGJ5IGdpdmVuIG5hbWUgYW5kIGNhdGVnb3J5LlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5LlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUuXHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fSB2aXN1YWxpemF0aW9uIG9iamVjdC5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZmluZFZpc3VhbGl6YXRpb24oY2F0ZWdvcnksIG5hbWUpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IG51bGw7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKF92aXNDb25maWcuY2F0ZWdvcmllcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLm5hbWUgPT09IGNhdGVnb3J5KSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0aGlzLmNoYXJ0cywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5uYW1lID09PSBuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdCA9IHRoaXM7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBwdWJsaWMgQVBJOlxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0VmlzdWFsaXphdGlvbkNvbmZpZzogZ2V0VmlzdWFsaXphdGlvbkNvbmZpZyxcclxuXHRcdFx0bG9hZFZpc3VhbGl6YXRpb25zOiBsb2FkVmlzdWFsaXphdGlvbnMsXHJcblx0XHRcdGZpbmRWaXN1YWxpemF0aW9uOiBmaW5kVmlzdWFsaXphdGlvblxyXG5cdFx0fTtcclxuXHR9XHJcbl0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSXRlbSBkcmFnZ2FibGUgZGlyZWN0aXZlXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhSW5zdGFudFJlcG9ydEZpZWxkRHJhZ2dhYmxlJywgWyckcm9vdFNjb3BlJyxcclxuXHRmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0bGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG5cdFx0XHRcdHZhciBoYW5kbGUgPSBhdHRycy5kcmFnZ2FibGVIYW5kbGUgfHwgZmFsc2U7XHJcblxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChlbGVtKVsnZHJhZ2dhYmxlJ10oe1xyXG5cdFx0XHRcdFx0aGFuZGxlOiBoYW5kbGUsXHJcblx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0c3RvcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGhlbHBlcjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHRcdFx0XHRcdHZhciAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KHRoaXMpO1xyXG5cdFx0XHRcdFx0XHR2YXIgJGhlbHBlciA9ICR0YXJnZXQuY2xvbmUoKTtcclxuXHRcdFx0XHRcdFx0JGhlbHBlci5jc3Moe1xyXG5cdFx0XHRcdFx0XHRcdCdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXHJcblx0XHRcdFx0XHRcdFx0J3dpZHRoJzogJHRhcmdldC53aWR0aCgpLFxyXG5cdFx0XHRcdFx0XHRcdCdoZWlnaHQnOiAkdGFyZ2V0LmhlaWdodCgpXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHQkaGVscGVyLmF0dHIoJ2RyYWdnYWJsZS1kYXRhLWlkJywgJHRhcmdldC5hdHRyKCdkcmFnZ2FibGUtZGF0YS1pZCcpKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICRoZWxwZXI7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Y3Vyc29yQXQ6IHsgbGVmdDogLTEwLCB0b3A6IC0xMCB9LFxyXG5cdFx0XHRcdFx0YXBwZW5kVG86ICdib2R5JyxcclxuXHRcdFx0XHRcdGRpc3RhbmNlOiAxMCxcclxuXHRcdFx0XHRcdGN1cnNvcjogJ21vdmUnLFxyXG5cdFx0XHRcdFx0ekluZGV4OiA5OTk5XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0c2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0cnMuZHJhZ2dhYmxlRW5hYmxlZCwgZnVuY3Rpb24gKG5ld0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChlbGVtKVsnZHJhZ2dhYmxlJ10obmV3RW5hYmxlZCA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbl0pO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0RmllbGREcm9wcGFibGVTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZHJvcHBhYmxlQWNjZXB0OiBhbnk7XHJcblx0b25Ecm9wOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJdGVtIGRyb3BwYWJsZSBkaXJlY3RpdmVcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFJbnN0YW50UmVwb3J0RmllbGREcm9wcGFibGUnLCBbXHJcblx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRkcm9wcGFibGVBY2NlcHQ6ICdAJyxcclxuXHRcdFx0XHRvbkRyb3A6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGU6IElJemVuZGFJbnN0YW50UmVwb3J0RmllbGREcm9wcGFibGVTY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZWxlbSlbJ2Ryb3BwYWJsZSddKHtcclxuXHRcdFx0XHRcdGFjY2VwdDogc2NvcGUuZHJvcHBhYmxlQWNjZXB0LFxyXG5cdFx0XHRcdFx0YWN0aXZlQ2xhc3M6ICdkcmFnZ2FibGUtaGlnaGxpZ2h0JyxcclxuXHRcdFx0XHRcdGhvdmVyQ2xhc3M6ICdkcmFnZ2FibGUtaGlnaGxpZ2h0LWhvdmVyJyxcclxuXHRcdFx0XHRcdHRvbGVyYW5jZTogJ3BvaW50ZXInLFxyXG5cdFx0XHRcdFx0ZHJvcDogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNjb3BlLm9uRHJvcCkpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5vbkRyb3Aoe1xyXG5cdFx0XHRcdFx0XHRcdFx0YXJnMDogYW5ndWxhci5lbGVtZW50KHVpLmhlbHBlcikuYXR0cignZHJhZ2dhYmxlLWRhdGEtaWQnKVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0TGVmdFBhbmVsUmVzaXplU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGxlZnRQYW5lbFNlbGVjdG9yOiBhbnk7XHJcblx0bWFpblBhbmVsU2VsZWN0b3I6IGFueTtcclxuXHRvcGVuZWQ6IGFueTtcclxuXHQkaXplbmRhQ29tcGF0aWJpbGl0eTogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogUmVzaXplIGxlZnQgcGFuZWwgZGlyZWN0aXZlXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZScsIFsnJHdpbmRvdycsICckaXplbmRhQ29tcGF0aWJpbGl0eScsXHJcblx0ZnVuY3Rpb24gKCR3aW5kb3csICRpemVuZGFDb21wYXRpYmlsaXR5KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGxlZnRQYW5lbFNlbGVjdG9yOiAnQCcsXHJcblx0XHRcdFx0bWFpblBhbmVsU2VsZWN0b3I6ICdAJyxcclxuXHRcdFx0XHRvcGVuZWQ6ICc9J1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoJHNjb3BlOiBJSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZVNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5ID0gJGl6ZW5kYUNvbXBhdGliaWxpdHk7XHJcblx0XHRcdFx0dmFyICRlbGVtID0gYW5ndWxhci5lbGVtZW50KGVsZW0pLFxyXG5cdFx0XHRcdFx0JGxlZnQgPSBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLmxlZnRQYW5lbFNlbGVjdG9yKSxcclxuXHRcdFx0XHRcdCRtYWluID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5tYWluUGFuZWxTZWxlY3Rvcik7XHJcblx0XHRcdFx0dmFyIGxlZnRJbml0aWFsaXplZCA9IGZhbHNlLCBtYWluSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIHdpZHRoXHJcblx0XHRcdFx0ZnVuY3Rpb24gZ2V0TGVmdFdpZHRoKCkge1xyXG5cdFx0XHRcdFx0dmFyIHdpZHRoID0gJGxlZnQud2lkdGgoKTtcclxuXHRcdFx0XHRcdHZhciBzdHlsZURhdGEgPSAkbGVmdC5hdHRyKCdkYXRhLXN0eWxlJyk7XHJcblx0XHRcdFx0XHR2YXIgc3R5bGVTdHJpbmcgPSBzdHlsZURhdGEgPyBzdHlsZURhdGEgOiAkbGVmdC5hdHRyKCdzdHlsZScpO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoc3R5bGVTdHJpbmcpKVxyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChzdHlsZVN0cmluZy5zcGxpdCgnOycpLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMudHJpbSgpLmluZGV4T2YoJ3dpZHRoJykgPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciB3aWR0aEFycmF5ID0gdGhpcy5zcGxpdCgnOicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHdpZHRoU3RyaW5nID0gd2lkdGhBcnJheVsxXS50cmltKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR3aWR0aCA9IHBhcnNlSW50KHdpZHRoU3RyaW5nLnN1YnN0cmluZygwLCB3aWR0aFN0cmluZy5sZW5ndGggLSAyKSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHJldHVybiB3aWR0aDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGluaXRpYWxpemUganF1ZXJ5IG9iamVjdHNcclxuXHRcdFx0XHRmdW5jdGlvbiBpbml0aWFsaXplRWxlbWVudHMoKSB7XHJcblx0XHRcdFx0XHRpZiAoIWxlZnRJbml0aWFsaXplZCkge1xyXG5cdFx0XHRcdFx0XHQkbGVmdCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUubGVmdFBhbmVsU2VsZWN0b3IpO1xyXG5cdFx0XHRcdFx0XHRsZWZ0SW5pdGlhbGl6ZWQgPSAkbGVmdC5sZW5ndGggPiAwO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFtYWluSW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHRcdFx0JG1haW4gPSBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLm1haW5QYW5lbFNlbGVjdG9yKTtcclxuXHRcdFx0XHRcdFx0bWFpbkluaXRpYWxpemVkID0gJG1haW4ubGVuZ3RoID4gMDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGluaXRpYWxpemUgZHJhZ2dhYmxlXHJcblx0XHRcdFx0dmFyIHdpbmRvd1dpZHRoID0gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLndpZHRoKCk7XHJcblx0XHRcdFx0JGVsZW1bJ2RyYWdnYWJsZSddKHtcclxuXHRcdFx0XHRcdGF4aXM6ICd4JyxcclxuXHRcdFx0XHRcdHpJbmRleDogMixcclxuXHRcdFx0XHRcdGNvbnRhaW5tZW50OiBbMzUwLCAwLCBNYXRoLm1pbigxNTAwLCB3aW5kb3dXaWR0aCAtIDUwMCksIDBdLFxyXG5cdFx0XHRcdFx0ZHJhZzogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG5cdFx0XHRcdFx0XHRpbml0aWFsaXplRWxlbWVudHMoKTtcclxuXHRcdFx0XHRcdFx0dmFyIGxlZnRTdHlsZSA9ICd3aWR0aDogJyArIHVpLnBvc2l0aW9uLmxlZnQgKyAncHgnLFxyXG5cdFx0XHRcdFx0XHRcdG1haW5TdHlsZSA9ICdtYXJnaW4tbGVmdDogJyArICh1aS5wb3NpdGlvbi5sZWZ0ICsgNCkgKyAncHgnO1xyXG5cdFx0XHRcdFx0XHRlbGVtLmF0dHIoJ2RhdGEtc3R5bGUnLCAnbGVmdDogJyArIHVpLnBvc2l0aW9uLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0JGxlZnQuYXR0cignc3R5bGUnLCBsZWZ0U3R5bGUpO1xyXG5cdFx0XHRcdFx0XHQkbGVmdC5hdHRyKCdkYXRhLXN0eWxlJywgbGVmdFN0eWxlKTtcclxuXHRcdFx0XHRcdFx0JG1haW4uYXR0cignc3R5bGUnLCBtYWluU3R5bGUpO1xyXG5cdFx0XHRcdFx0XHQkbWFpbi5hdHRyKCdkYXRhLXN0eWxlJywgbWFpblN0eWxlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0aW5pdGlhbGl6ZUVsZW1lbnRzKCk7XHJcblx0XHRcdFx0dmFyIHdpZHRoID0gZ2V0TGVmdFdpZHRoKCk7XHJcblx0XHRcdFx0dmFyIGxlZnRTdHlsZSA9ICd3aWR0aDogJyArIHdpZHRoICsgJ3B4JyxcclxuXHRcdFx0XHRcdG1haW5TdHlsZSA9ICdtYXJnaW4tbGVmdDogJyArICh3aWR0aCArIDQpICsgJ3B4JztcclxuXHRcdFx0XHRlbGVtLmF0dHIoJ3N0eWxlJywgJ3dpZHRoOiAnICsgd2lkdGggKyAncHgnKTtcclxuXHRcdFx0XHRlbGVtLmF0dHIoJ2RhdGEtc3R5bGUnLCAnbGVmdDogJyArIHdpZHRoICsgJ3B4Jyk7XHJcblx0XHRcdFx0JGxlZnQuYXR0cignc3R5bGUnLCBsZWZ0U3R5bGUpO1xyXG5cdFx0XHRcdCRsZWZ0LmF0dHIoJ2RhdGEtc3R5bGUnLCBsZWZ0U3R5bGUpO1xyXG5cdFx0XHRcdCRtYWluLmF0dHIoJ3N0eWxlJywgbWFpblN0eWxlKTtcclxuXHRcdFx0XHQkbWFpbi5hdHRyKCdkYXRhLXN0eWxlJywgbWFpblN0eWxlKTtcclxuXHJcblx0XHRcdFx0Ly8gb3Blbi9jbG9zZSBsZWZ0IHBhbmVsIGhhbmRsZXJcclxuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKCdvcGVuZWQnLCBmdW5jdGlvbiAobmV3T3BlbmVkKSB7XHJcblx0XHRcdFx0XHR2YXIgaXNNb2JpbGVWaWV3ID0gJGl6ZW5kYUNvbXBhdGliaWxpdHkuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHRcdFx0XHRcdHZhciBjb2xsYXBzZWRMZWZ0ID0gaXNNb2JpbGVWaWV3ID8gNDggOiAxMjg7XHJcblx0XHRcdFx0XHRpbml0aWFsaXplRWxlbWVudHMoKTtcclxuXHRcdFx0XHRcdHZhciB3aWR0aCA9IGdldExlZnRXaWR0aCgpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChuZXdPcGVuZWQpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGRhdGFTdHlsZUxlZnQgPSAkbGVmdC5hdHRyKCdkYXRhLXN0eWxlJyksXHJcblx0XHRcdFx0XHRcdFx0ZGF0YVN0eWxlTWFpbiA9ICRtYWluLmF0dHIoJ2RhdGEtc3R5bGUnKSxcclxuXHRcdFx0XHRcdFx0XHRkYXRhU3R5bGVFbGVtID0gZWxlbS5hdHRyKCdkYXRhLXN0eWxlJyk7XHJcblx0XHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGRhdGFTdHlsZUxlZnQpKVxyXG5cdFx0XHRcdFx0XHRcdGRhdGFTdHlsZUxlZnQgPSAnd2lkdGg6ICcgKyAoaXNNb2JpbGVWaWV3ID8gJzEwMCUnIDogd2lkdGggKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoZGF0YVN0eWxlTWFpbikpXHJcblx0XHRcdFx0XHRcdFx0ZGF0YVN0eWxlTWFpbiA9ICdtYXJnaW4tbGVmdDogJyArICh3aWR0aCArIDQpICsgJ3B4Oyc7XHJcblx0XHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGRhdGFTdHlsZUVsZW0pKVxyXG5cdFx0XHRcdFx0XHRcdGRhdGFTdHlsZUVsZW0gPSAnbGVmdDogJyArIHdpZHRoICsgJ3B4Oyc7XHJcblx0XHRcdFx0XHRcdCRsZWZ0LmF0dHIoJ3N0eWxlJywgZGF0YVN0eWxlTGVmdCk7XHJcblx0XHRcdFx0XHRcdCRtYWluLmF0dHIoJ3N0eWxlJywgZGF0YVN0eWxlTWFpbik7XHJcblx0XHRcdFx0XHRcdGVsZW0uYXR0cignc3R5bGUnLCBkYXRhU3R5bGVFbGVtKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRsZWZ0LmF0dHIoJ3N0eWxlJywgJ3dpZHRoOiAnICsgY29sbGFwc2VkTGVmdCArICdweDsnKTtcclxuXHRcdFx0XHRcdFx0JG1haW4uYXR0cignc3R5bGUnLCAnbWFyZ2luLWxlZnQ6ICcgKyBjb2xsYXBzZWRMZWZ0ICsgJ3B4OycpO1xyXG5cdFx0XHRcdFx0XHRlbGVtLmF0dHIoJ3N0eWxlJywgJ2xlZnQ6IC00cHg7Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGNoYXJ0cyBjb250cm9sbGVyIGRlZmluaXRpb25cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydENoYXJ0c0NvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRpemVuZGFVcmwnLFxyXG5cdCckaXplbmRhTG9jYWxlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHknLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb24nLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24nLFxyXG5cdCckbG9nJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JHEsXHJcblx0XHQkaXplbmRhVXJsLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5LFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLFxyXG5cdFx0JGxvZykge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvbiA9ICRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvbjtcclxuXHJcblx0XHR2bS52aXN1YWxpemF0aW9uQ29uZmlnID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uLmdldFZpc3VhbGl6YXRpb25Db25maWcoKTtcclxuXHRcdHZtLnNlbGVjdGVkQ2hhcnQgPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VsZWN0IGNoYXJ0XHJcblx0XHQgKi9cclxuXHRcdHZtLnNlbGVjdENoYXJ0ID0gZnVuY3Rpb24gKGNoYXJ0KSB7XHJcblx0XHRcdGlmICh2bS5zZWxlY3RlZENoYXJ0ID09PSBjaGFydCkge1xyXG5cdFx0XHRcdHZtLnNlbGVjdGVkQ2hhcnQgPSBudWxsO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zZWxlY3RDaGFydChudWxsKTtcclxuXHRcdFx0XHRpZiAoISRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24udmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dm0uc2VsZWN0ZWRDaGFydCA9IGNoYXJ0O1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zZWxlY3RDaGFydChjaGFydCk7XHJcblx0XHRcdFx0aWYgKCEkaXplbmRhQ29tcGF0aWJpbGl0eS5pc1NtYWxsUmVzb2x1dGlvbigpKVxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmUgY29uZmlnXHJcblx0XHQgKi9cclxuXHRcdHZtLnByZXBhcmVDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdCh2bS52aXN1YWxpemF0aW9uQ29uZmlnKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KHZtLnZpc3VhbGl6YXRpb25Db25maWcuY2F0ZWdvcmllcykpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2bS52aXN1YWxpemF0aW9uQ29uZmlnLmNhdGVnb3JpZXMsIGZ1bmN0aW9uIChpQ2F0ZWdvcnk6IG51bWJlciwgY2F0ZWdvcnk6IGFueSkge1xyXG5cdFx0XHRcdGNhdGVnb3J5Lm9wZW5lZCA9IGlDYXRlZ29yeSA9PT0gMDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBuZXcgd2luZG93IHdpdGggY2hhcnQgaGVscFxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2bS5zaG93Q2hhcnRIZWxwID0gZnVuY3Rpb24gKGNoYXJ0KSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChjaGFydCkpXHJcblx0XHRcdFx0dGhyb3cgJ0NoYXJ0IHBhcmFtZXRlciBzaG91bGQgYmUgb2JqZWN0JztcclxuXHRcdFx0JHdpbmRvdy5vcGVuKGNoYXJ0LmRvY1VybCwgJ19ibGFuaycpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvbi5nZXRWaXN1YWxpemF0aW9uQ29uZmlnKCknLCBmdW5jdGlvbiAodmlzQ29uZmlnKSB7XHJcblx0XHRcdFx0dm0udmlzdWFsaXphdGlvbkNvbmZpZyA9IHZpc0NvbmZpZztcclxuXHRcdFx0XHR2bS5wcmVwYXJlQ29uZmlnKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFNlbGVjdGVkQ2hhcnQoKScsIGZ1bmN0aW9uIChjaGFydCkge1xyXG5cdFx0XHRcdHZtLnNlbGVjdGVkQ2hhcnQgPSBjaGFydDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBmaWx0ZXJzIGNvbnRyb2xsZXJcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydENvbHVtbnNTb3J0Q29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyR3aW5kb3cnLFxyXG5cdCckdGltZW91dCcsXHJcblx0JyRxJyxcclxuXHQnJHNjZScsXHJcblx0JyRsb2cnLFxyXG5cdCckaXplbmRhTG9jYWxlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHknLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24nLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkd2luZG93LFxyXG5cdFx0JHRpbWVvdXQsXHJcblx0XHQkcSxcclxuXHRcdCRzY2UsXHJcblx0XHQkbG9nLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5LFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHQvL3ZtLnBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5hY3RpdmVGaWVsZHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0QWxsQWN0aXZlRmllbGRzKCk7XHJcblxyXG5cdFx0dm0uY29sdW1uUmVvcmRlcmVkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCwgaXNWaXN1YWxHcm91cENvbHVtbikge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UubW92ZUZpZWxkVG9Qb3NpdGlvbihmcm9tSW5kZXgsIHRvSW5kZXgsIGlzVmlzdWFsR3JvdXBDb2x1bW4sIGZhbHNlKTtcclxuXHRcdFx0aWYgKCEkaXplbmRhQ29tcGF0aWJpbGl0eS5pc1NtYWxsUmVzb2x1dGlvbigpKVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZSB3YXRjaGVzXHJcblx0XHQgKi9cclxuXHRcdHZtLmluaXRXYXRjaGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFsbEFjdGl2ZUZpZWxkcygpJywgZnVuY3Rpb24gKG5ld0FjdGl2ZUZpZWxkcykge1xyXG5cdFx0XHRcdHZtLmFjdGl2ZUZpZWxkcyA9IG5ld0FjdGl2ZUZpZWxkcztcclxuXHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmluaXRXYXRjaGVycygpO1xyXG5cdH1cclxuXSk7XHJcblxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0Q29sdW1uc1Jlb3JkZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdJdGVtczogYW55O1xyXG5cdHNob3dTb3J0QnV0dG9uczogYW55O1xyXG5cdG9uUmVvcmRlcjogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogQ29sdW1ucyByZW9yZGVyIGRpcmVjdGl2ZVxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ2l6ZW5kYUluc3RhbnRSZXBvcnQnKS5kaXJlY3RpdmUoJ2luc3RhbnRSZXBvcnRDb2x1bW5zUmVvcmRlcicsIFtcclxuXHQnJGl6ZW5kYUxvY2FsZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZScsXHJcblx0ZnVuY3Rpb24gKCRpemVuZGFMb2NhbGUsICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0bmdJdGVtczogJz0nLFxyXG5cdFx0XHRcdHNob3dTb3J0QnV0dG9uczogJ0AnLFxyXG5cdFx0XHRcdG9uUmVvcmRlcjogJyYnXHJcblx0XHRcdH0sXHJcblx0XHRcdHRlbXBsYXRlOlxyXG5cdFx0XHRcdCc8ZGl2IGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaGVhZGVyIHZnXCI+JyArICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfVmlzR3JvdXBDb2x1bW5zJywgJ1Zpc3VhbCBncm91cCBjb2x1bW5zJykgKyAnPC9kaXY+JyArXHJcblx0XHRcdFx0Jzx1bCBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyIGxpc3QtdW5zdHlsZWQgdmdcIj4nICtcclxuXHRcdFx0XHQnPGxpIGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaXRlbVwiIG5nLXJlcGVhdD1cIml0ZW0gaW4gdmdMaXN0XCIgbmctYmluZD1cIml0ZW0udGl0bGVcIj4nICtcclxuXHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJwdWxsLXJpZ2h0IGdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctdXBcIj48L3NwYW4+JyArXHJcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwicHVsbC1yaWdodCBnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWRvd25cIj48L3NwYW4+JyArXHJcblx0XHRcdFx0JzwvbGk+JyArXHJcblx0XHRcdFx0JzwvdWw+JyArXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJpemVuZGEtcmVvcmRlci1oZWFkZXIgc2ltcGxlXCI+JyArICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfQ29sdW1ucycsICdDb2x1bW5zJykgKyAnPC9kaXY+JyArXHJcblx0XHRcdFx0Jzx1bCBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyIGxpc3QtdW5zdHlsZWQgc2ltcGxlXCI+JyArXHJcblx0XHRcdFx0JzxsaSBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWl0ZW1cIiBuZy1yZXBlYXQ9XCJpdGVtIGluIHNpbXBsZUxpc3RcIiBuZy1iaW5kPVwiaXRlbS50aXRsZVwiPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInB1bGwtcmlnaHQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy11cFwiPjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJwdWxsLXJpZ2h0IGdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctZG93blwiPjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9saT4nICtcclxuXHRcdFx0XHQnPC91bD4nLFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGU6IElJemVuZGFJbnN0YW50UmVwb3J0Q29sdW1uc1Jlb3JkZXJTY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0XHR2YXIgJHZnTGlzdCA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLnZnJyksXHJcblx0XHRcdFx0XHQkc2ltcGxlTGlzdCA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLnNpbXBsZScpLFxyXG5cdFx0XHRcdFx0JHZnTGlzdEhlYWRlciA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLWhlYWRlci52ZycpLFxyXG5cdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIgPSBlbGVtZW50LmZpbmQoJy5pemVuZGEtcmVvcmRlci1oZWFkZXIuc2ltcGxlJyk7XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIENhbGwgcmVvcmRlciBoYW5kbGVyXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dmFyIGRvUmVvcmRlciA9IGZ1bmN0aW9uIChzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgaXNWZykge1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzY29wZS5vblJlb3JkZXIpKVxyXG5cdFx0XHRcdFx0XHRzY29wZS5vblJlb3JkZXIoe1xyXG5cdFx0XHRcdFx0XHRcdGFyZzA6IHN0YXJ0UG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0YXJnMTogZW5kUG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0YXJnMjogaXNWZ1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBTb3J0IGhhbmRsZXJcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR2YXIgc29ydFVwZGF0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XHJcblx0XHRcdFx0XHR2YXIgJGVsZW0gPSB1aS5pdGVtLFxyXG5cdFx0XHRcdFx0XHQkcGFyZW50ID0gJGVsZW0uY2xvc2VzdCgnLml6ZW5kYS1yZW9yZGVyJyk7XHJcblx0XHRcdFx0XHR2YXIgc3RhcnRQb3NpdGlvbiA9IHBhcnNlSW50KCRlbGVtLmF0dHIoJ2RhdGEtb3JkZXInKSk7XHJcblx0XHRcdFx0XHR2YXIgZW5kUG9zaXRpb24gPSAkZWxlbS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIGluZGV4ZXNcclxuXHRcdFx0XHRcdCRwYXJlbnQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uIChpKSB7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5hdHRyKCdkYXRhLW9yZGVyJywgaSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGRvUmVvcmRlcihzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgJHBhcmVudC5oYXNDbGFzcygndmcnKSk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogUHJlcGFyZSBkYXRhIGFuZCB1cGRhdGUgc29ydGFibGVcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR2YXIgcHJlcGFyZSA9IGZ1bmN0aW9uIChpdGVtcykge1xyXG5cdFx0XHRcdFx0Ly8gcHJlcGFyZSBsaXN0c1xyXG5cdFx0XHRcdFx0dmFyIHZnTGlzdCA9IFtdLCBzaW1wbGVMaXN0ID0gW107XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0FycmF5KGl0ZW1zKSkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGl0ZW0gPSBpdGVtc1tpXTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaXRlbS5pc1ZnVXNlZClcclxuXHRcdFx0XHRcdFx0XHRcdHZnTGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdHNpbXBsZUxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dmdMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRzaW1wbGVMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVsZW1lbnRzOlxyXG5cdFx0XHRcdFx0aWYgKHZnTGlzdC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdCR2Z0xpc3RIZWFkZXIuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0LnNob3coKTtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdC5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2Z0xpc3QsIGZ1bmN0aW9uIChpKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRhYmxlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFRhYmxlQnlJZCh0aGlzLnBhcmVudElkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgJGVsID0gYW5ndWxhci5lbGVtZW50KCc8bGkgY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtXCI+PC9saT4nKTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXR0cignZGF0YS1vcmRlcicsIGkpO1xyXG5cdFx0XHRcdFx0XHRcdCR2Z0xpc3QuYXBwZW5kKCRlbCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciAkc3BhbiA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtLXRleHRcIj48L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRcdFx0JHNwYW4udGV4dCh0YWJsZS5uYW1lICsgJyDihpIgJyArICh0aGlzLmRlc2NyaXB0aW9uICE9PSAnJyA/IHRoaXMuZGVzY3JpcHRpb24gOiB0aGlzLm5hbWUpKTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXBwZW5kKCRzcGFuKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLnNob3dTb3J0QnV0dG9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyICRhcnJvd1VwID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cImRzLW11bHRpcGxlLWJ1dHRvbiBpemVuZGEtcmVvcmRlci1pdGVtLWJ0bjFcIiB0aXRsZT1cIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX01vdmVDb2x1bW5VcCcsICdNb3ZlIGNvbHVtbiB1cCcpICsgJ1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy11cFwiPjwvc3Bhbj48L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHQkZWwuYXBwZW5kKCRhcnJvd1VwKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRhcnJvd1VwLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGluZGV4ID0gYW5ndWxhci5lbGVtZW50KHRoaXMpLmNsb3Nlc3QoJy5pemVuZGEtcmVvcmRlci1pdGVtJykuaW5kZXgoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGluZGV4ID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRvUmVvcmRlcihpbmRleCwgaW5kZXggLSAxLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgJGFycm93RG93biA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJkcy1tdWx0aXBsZS1idXR0b24gaXplbmRhLXJlb3JkZXItaXRlbS1idG4yXCIgdGl0bGU9XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19Nb3ZlQ29sdW1uRG93bicsICdNb3ZlIGNvbHVtbiBkb3duJykgKyAnXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWRvd25cIj48L3NwYW4+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkYXJyb3dEb3duKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRhcnJvd0Rvd24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaW5kZXggPSBhbmd1bGFyLmVsZW1lbnQodGhpcykuY2xvc2VzdCgnLml6ZW5kYS1yZW9yZGVyLWl0ZW0nKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPCB2Z0xpc3QubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRvUmVvcmRlcihpbmRleCwgaW5kZXggKyAxLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdFsnc29ydGFibGUnXSgncmVmcmVzaCcpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdEhlYWRlci5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCR2Z0xpc3QuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0LmVtcHR5KCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHNpbXBsZUxpc3QubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodmdMaXN0Lmxlbmd0aCA+IDApXHJcblx0XHRcdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkc2ltcGxlTGlzdC5zaG93KCk7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LmVtcHR5KCk7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHNpbXBsZUxpc3QsIGZ1bmN0aW9uIChpKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRhYmxlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFRhYmxlQnlJZCh0aGlzLnBhcmVudElkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgJGVsID0gYW5ndWxhci5lbGVtZW50KCc8bGkgY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtXCI+PC9saT4nKTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXR0cignZGF0YS1vcmRlcicsIGkpO1xyXG5cdFx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LmFwcGVuZCgkZWwpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgJHNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoJzxzcGFuIGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaXRlbS10ZXh0XCI+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdCRzcGFuLnRleHQodGFibGUubmFtZSArICcg4oaSICcgKyAodGhpcy5kZXNjcmlwdGlvbiAhPT0gJycgPyB0aGlzLmRlc2NyaXB0aW9uIDogdGhpcy5uYW1lKSk7XHJcblx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkc3Bhbik7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChzY29wZS5zaG93U29ydEJ1dHRvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciAkYXJyb3dVcCA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJkcy1tdWx0aXBsZS1idXR0b24gaXplbmRhLXJlb3JkZXItaXRlbS1idG4xXCIgdGl0bGU9XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19Nb3ZlQ29sdW1uVXAnLCAnTW92ZSBjb2x1bW4gdXAnKSArICdcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctdXBcIj48L3NwYW4+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkYXJyb3dVcCk7XHJcblx0XHRcdFx0XHRcdFx0XHQkYXJyb3dVcC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBpbmRleCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5jbG9zZXN0KCcuaXplbmRhLXJlb3JkZXItaXRlbScpLmluZGV4KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkb1Jlb3JkZXIoaW5kZXgsIGluZGV4IC0gMSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciAkYXJyb3dEb3duID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cImRzLW11bHRpcGxlLWJ1dHRvbiBpemVuZGEtcmVvcmRlci1pdGVtLWJ0bjJcIiB0aXRsZT1cIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX01vdmVDb2x1bW5Eb3duJywgJ01vdmUgY29sdW1uIGRvd24nKSArICdcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctZG93blwiPjwvc3Bhbj48L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHQkZWwuYXBwZW5kKCRhcnJvd0Rvd24pO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGFycm93RG93bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBpbmRleCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5jbG9zZXN0KCcuaXplbmRhLXJlb3JkZXItaXRlbScpLmluZGV4KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCA8IHNpbXBsZUxpc3QubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRvUmVvcmRlcihpbmRleCwgaW5kZXggKyAxLCBmYWxzZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0Wydzb3J0YWJsZSddKCdyZWZyZXNoJyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkc2ltcGxlTGlzdEhlYWRlci5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0JHNpbXBsZUxpc3QuZW1wdHkoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQvLyBpbml0aWFsaXplXHJcblx0XHRcdFx0JHZnTGlzdFsnc29ydGFibGUnXSh7XHJcblx0XHRcdFx0XHR1cGRhdGU6IHNvcnRVcGRhdGVIYW5kbGVyLFxyXG5cdFx0XHRcdFx0YXhpczogJ3knXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JHZnTGlzdFsnZGlzYWJsZVNlbGVjdGlvbiddKCk7XHJcblx0XHRcdFx0JHNpbXBsZUxpc3RbJ3NvcnRhYmxlJ10oe1xyXG5cdFx0XHRcdFx0dXBkYXRlOiBzb3J0VXBkYXRlSGFuZGxlcixcclxuXHRcdFx0XHRcdGF4aXM6ICd5J1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRzaW1wbGVMaXN0WydkaXNhYmxlU2VsZWN0aW9uJ10oKTtcclxuXHRcdFx0XHRwcmVwYXJlKHNjb3BlLm5nSXRlbXMpO1xyXG5cclxuXHRcdFx0XHQvLyB3YXRjaCBmb3IgdXBkYXRlc1xyXG5cdFx0XHRcdHNjb3BlLiR3YXRjaCgnbmdJdGVtcycsIGZ1bmN0aW9uIChuZXdWYWwpIHtcclxuXHRcdFx0XHRcdHByZXBhcmUobmV3VmFsKTtcclxuXHRcdFx0XHR9LCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBjb250cm9sbGVyIGRlZmluaXRpb25cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydENvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckY29va2llcycsXHJcblx0JyRxJyxcclxuXHQnJGxvZycsXHJcblx0JyRpemVuZGFVdGlsVWlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYVVybCcsXHJcblx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdCckaXplbmRhU2V0dGluZ3MnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eScsXHJcblx0JyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhU2hhcmVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24nLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JGNvb2tpZXMsXHJcblx0XHQkcSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdCRpemVuZGFVcmwsXHJcblx0XHQkaXplbmRhTG9jYWxlLFxyXG5cdFx0JGl6ZW5kYVNldHRpbmdzLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHksXHJcblx0XHQkaXplbmRhU2NoZWR1bGVTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYVNoYXJlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncykge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZhciBVTkNBVEVHT1JJWkVEID0gJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKTtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cztcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24gPSAkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb247XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVVybCA9ICRpemVuZGFVcmw7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUxvY2FsZSA9ICRpemVuZGFMb2NhbGU7XHJcblxyXG5cdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5ID0gJGl6ZW5kYUNvbXBhdGliaWxpdHk7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVNjaGVkdWxlU2VydmljZSA9ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVNoYXJlU2VydmljZSA9ICRpemVuZGFTaGFyZVNlcnZpY2U7XHJcblxyXG5cdFx0dm0uaXNTbWFsbFJlc29sdXRpb24gPSAkaXplbmRhQ29tcGF0aWJpbGl0eS5pc1NtYWxsUmVzb2x1dGlvbigpO1xyXG5cclxuXHRcdHZtLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuXHRcdHZtLnByZXZpZXdIdG1sID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFByZXZpZXcoKTtcclxuXHRcdHZtLnJlcG9ydFNldE9wdGlvbnMgPSB7XHJcblx0XHRcdGlzVmdVc2VkOiBmYWxzZSxcclxuXHRcdFx0dmdTdHlsZTogbnVsbCxcclxuXHRcdFx0c29ydGVkQWN0aXZlRmllbGRzOiBbXVxyXG5cdFx0fTs7XHJcblx0XHR2bS5maWx0ZXJzUGFuZWxPcGVuZWQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmlsdGVyc1BhbmVsT3BlbmVkKCk7XHJcblx0XHR2bS5waXZvdHNQYW5lbE9wZW5lZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLmdldFBpdm90c1BhbmVsT3BlbmVkKCk7XHJcblx0XHR2bS5pc1ZhbGlkID0gdHJ1ZTtcclxuXHRcdHZtLmFjdGl2ZUZpZWxkID0gbnVsbDtcclxuXHRcdHZtLmZpbHRlcnNDb3VudCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWx0ZXJzKCkubGVuZ3RoO1xyXG5cdFx0dm0ucGl2b3RDZWxsc0NvdW50ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuZ2V0Q2VsbFZhbHVlcygpLmxlbmd0aDtcclxuXHRcdHZtLnRvcCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRPcHRpb25zKCkudG9wO1xyXG5cdFx0dm0ucHJldmlld1RvcCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRPcHRpb25zKCkucHJldmlld1RvcDtcclxuXHRcdHZtLmFjdGl2ZUZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRBbGxBY3RpdmVGaWVsZHMoKTtcclxuXHRcdHZtLnNldHRpbmdzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncztcclxuXHRcdHZtLnJlcG9ydEluZm8gPSBudWxsO1xyXG5cdFx0dm0uaXNFeGlzdGluZ1JlcG9ydCA9IGZhbHNlO1xyXG5cclxuXHRcdHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IC0xOyAvLyB1c2VkIGZvciBzZWxlY3QgZmllbGQgcG9zaXRpb24gZm9yIGRyYWcnbidkcm9wIGZpZWxkc1xyXG5cclxuXHRcdC8vIExlZnQgcGFuZWwgc3RhdGUgb2JqZWN0XHJcblx0XHR2YXIgcHJldmlld1BhbmVsSWQgPSA2O1xyXG5cdFx0dm0ubGVmdFBhbmVsID0ge1xyXG5cdFx0XHRhY3RpdmVJdGVtOiAwLFxyXG5cdFx0XHRwcmV2aW91c1BhbmVsSWQ6IDAsXHJcblx0XHRcdG9wZW5lZDogdHJ1ZVxyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5leHBvcnRQcm9ncmVzcyA9IG51bGw7XHJcblxyXG5cdFx0dm0uZWZmZWN0aXZlUmlnaHRzID0gJGl6ZW5kYUNvbXBhdGliaWxpdHkuZ2V0UmlnaHRzKCk7XHJcblx0XHRfdXBkYXRlUmVwb3J0U2V0UmlnaHRWYXJpYWJsZXMoKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFdhaXQgbWVzc2FnZSBoZWFkZXIgZm9yIGV4cG9ydCBhbmQgcHJpbnRcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0V2FpdE1lc3NhZ2VIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uZXhwb3J0UHJvZ3Jlc3MgPT09ICdleHBvcnQnKSB7XHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRXhwb3J0aW5nSW5Qcm9ncmVzcycsICdFeHBvcnRpbmcgaW4gcHJvZ3Jlc3MuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZtLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKSB7XHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfUHJpbnRpbmdJblByb2dyZXNzJywgJ1ByaW50aW5nIGluIHByb2dyZXNzLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFdhaXQgbWVzc2FnZSBmb3IgZXhwb3J0IGFuZCBwcmludFxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRXYWl0TWVzc2FnZVRleHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19GaW5pc2hFeHBvcnRpbmcnLCAnUGxlYXNlIHdhaXQgdGlsbCBleHBvcnQgaXMgY29tcGxldGVkLi4uJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZtLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKSB7XHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRmluaXNoUHJpbnRpbmcnLCAnUGxlYXNlIGZpbmlzaCBwcmludGluZyBiZWZvcmUgY29udGludWUuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IGFjdGl2ZSBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5zZXRMZWZ0UGFuZWxBY3RpdmVJdGVtID0gZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRcdHZtLmxlZnRQYW5lbC5hY3RpdmVJdGVtID0gaWQ7XHJcblx0XHRcdGlmIChpZCAhPT0gcHJldmlld1BhbmVsSWQpXHJcblx0XHRcdFx0dm0ubGVmdFBhbmVsLnByZXZpb3VzUGFuZWxJZCA9IGlkO1xyXG5cdFx0XHR2bS5sZWZ0UGFuZWwub3BlbmVkID0gdHJ1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPcGVuIHJlcG9ydCBkZXNpZ25lci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub3BlblJlcG9ydEluRGVzaWduZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5vcGVuUmVwb3J0SW5EZXNpZ25lcigpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZnJlc2ggcHJldmlld1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWZyZXNoIHByZXZpZXcgZm9yIG1vYmlsZSBkZXZpY2VzXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5Q2hhbmdlc01vYmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmxlZnRQYW5lbC5wcmV2aW91c1BhbmVsSWQgPT09IHZtLmxlZnRQYW5lbC5hY3RpdmVJdGVtKSB7XHJcblx0XHRcdFx0dm0uc2V0TGVmdFBhbmVsQWN0aXZlSXRlbSg2KTtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCh0cnVlKTtcclxuXHRcdFx0XHQvLyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5zZXRMZWZ0UGFuZWxBY3RpdmVJdGVtKHZtLmxlZnRQYW5lbC5wcmV2aW91c1BhbmVsSWQpO1xyXG5cdFx0XHRcdHZtLmxlZnRQYW5lbC5wcmV2aW91c1BhbmVsSWQgPSB2bS5sZWZ0UGFuZWwuYWN0aXZlSXRlbTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldCBwcmV2aWV3IHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZtLnNldFByZXZpZXdUb3AgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldFByZXZpZXdUb3AodmFsdWUpO1xyXG5cdFx0XHR2bS5hcHBseUNoYW5nZXMoKTtcclxuXHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIGFjdGl2ZSBjbGFzcyBmb3IgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0TGVmdFBhbmVsQ2xhc3MgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHZtLmlzRXhpc3RpbmdSZXBvcnQgPyAnaGFzLXRpdGxlJyA6ICcnO1xyXG5cdFx0XHRpZiAodm0uaXNMZWZ0UGFuZWxCb2R5QWN0aXZlKGlkKSlcclxuXHRcdFx0XHRyZXN1bHQgKz0gJyBhY3RpdmUnO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LnRyaW0oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY2xhc3MgZm9yIG1vYmlsZSB2aWV3XHJcblx0XHQgKi9cclxuXHRcdHZtLmdldE1vYmlsZUNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uaXNTbWFsbFJlc29sdXRpb24gPyAnIGl6LWluc3QtbW9iaWxlICcgOiAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiByZXR1cm5zIHRydWUgb25seSBmb3IgYWN0aXZlIHBhbmVsIGluIGxlZnQgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uaXNMZWZ0UGFuZWxCb2R5QWN0aXZlID0gZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5sZWZ0UGFuZWwuYWN0aXZlSXRlbSA9PT0gaWQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSGlkZS9zaG93IGxlZnQgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0udG9nZ2xlTGVmdFBhbmVsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5sZWZ0UGFuZWwub3BlbmVkID0gIXZtLmxlZnRQYW5lbC5vcGVuZWQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHRvZ2dsZSBsZWZ0IHBhbmVsIGJ1dHRvbiB0aXRsZVxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRUb2dnbGVCdXR0b25UaXRsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmxlZnRQYW5lbC5vcGVuZWQpXHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfSGlkZUxlZnRQYW5lbCcsICdIaWRlIGxlZnQgcGFuZWwnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1Nob3dMZWZ0UGFuZWwnLCAnU2hvdyBsZWZ0IHBhbmVsJyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlciBjb2x1bW4gZHJhZy9kcm9wIHJlb3JkZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0uY29sdW1uUmVvcmRlcmVkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCwgaXNWZykge1xyXG5cdFx0XHQvLyB3ZSBuZWVkIHRvIHVuZGVyc3RhbmQgdGhhdCBzd2FwIGZyb20gPC0+IHRvIGRvZXNuJ3QgdGFrZSBpbnRvIGNvbmNpZGVyYXRpb24gaW52aXNpYmxlIGZpZWxkcy5cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLm1vdmVGaWVsZFRvUG9zaXRpb24oZnJvbUluZGV4LCB0b0luZGV4LCBpc1ZnLCB0cnVlKTtcclxuXHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNvbHVtbnMsIGFsbG93ZWQgZm9yIHJlb3JkZXJcclxuXHRcdCAqIEByZXR1cm5zIHtudW1iZXJ9IGNvdW50IG9mIGNvbHVtbnMgd2hpY2ggYWxsb3dlZCBmb3IgcmVvcmRlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0QWxsb3dlZENvbHVtbnNGb3JSZW9yZGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uYWN0aXZlRmllbGRzLmxlbmd0aDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb2x1bW4gc2VsZWN0ZWRcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VsZWN0ZWRDb2x1bW4gPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdGZpZWxkLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldEN1cnJlbnRBY3RpdmVGaWVsZChmaWVsZCk7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBjb2x1bW4gYnkgZ2l2ZW4gaW5kZXhcclxuXHRcdCAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVtb3ZlQ29sdW1uID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc051bWJlcihmaWVsZC5wYXJlbnRGaWVsZElkKSkge1xyXG5cdFx0XHRcdC8vIGlmIGl0IGlzIG5vdCBtdWx0aXBsZSBjb2x1bW4gZm9yIG9uZSBkYXRhYmFzZSBmaWVsZC5cclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZENoZWNrZWQoZmllbGQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIHNlbGVjdGVkRmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0Q3VycmVudEFjdGl2ZUZpZWxkKCk7XHJcblx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRGaWVsZCA9PT0gZmllbGQpXHJcblx0XHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5hcHBseUZpZWxkU2VsZWN0ZWQoZmllbGQsIGZhbHNlKTtcclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFyZW50RmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmllbGRCeUlkKGZpZWxkLnBhcmVudEZpZWxkSWQpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5yZW1vdmVBbm90aGVyRmllbGQocGFyZW50RmllbGQsIGZpZWxkKTtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBmaWx0ZXJzIG1vZGFsIGRpYWxvZ1xyXG5cdFx0Ki9cclxuXHRcdHZtLm9wZW5GaWx0ZXJzUGFuZWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuc2V0UGl2b3RzUGFuZWxPcGVuZWQoZmFsc2UpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldEZpbHRlcnNQYW5lbE9wZW5lZCh2YWx1ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIG9wZW5lZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWx0ZXJzUGFuZWxPcGVuZWQoKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKCFvcGVuZWQpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBwaXZvdHMgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0ub3BlblBpdm90c1BhbmVsID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zZXRGaWx0ZXJzUGFuZWxPcGVuZWQoZmFsc2UpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuc2V0UGl2b3RzUGFuZWxPcGVuZWQodmFsdWUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBvcGVuZWQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRQaXZvdHNQYW5lbE9wZW5lZCgpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnNldFBpdm90c1BhbmVsT3BlbmVkKCFvcGVuZWQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPcGVuIGZpbHRlcnMgcGFuZWwgYW5kIGFkZCBmaWx0ZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0uYWRkRmlsdGVyID0gZnVuY3Rpb24gKGZpZWxkU3lzTmFtZSkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZmllbGRTeXNOYW1lKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICgkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0QWN0aXZlVGFibGVzKCkubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dm0ub3BlbkZpbHRlcnNQYW5lbCh0cnVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmNyZWF0ZU5ld0ZpbHRlcihmaWVsZFN5c05hbWUpLnRoZW4oZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWx0ZXJzKCkucHVzaChmaWx0ZXIpO1xyXG5cdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldEZpbHRlck9wZXJhdG9yKGZpbHRlciwgbnVsbCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBwaXZvdHMgcGFuZWwgYW5kIGFkZCBwaXZvdCBpdGVtXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZFBpdm90SXRlbSA9IGZ1bmN0aW9uIChmaWVsZFN5c05hbWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZpZWxkU3lzTmFtZSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFjdGl2ZVRhYmxlcygpLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHR2bS5vcGVuUGl2b3RzUGFuZWwodHJ1ZSk7XHJcblxyXG5cdFx0XHR2YXIgZmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lKTtcclxuXHRcdFx0dmFyIG5ld0l0ZW0gPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuY3JlYXRlRmllbGRPYmplY3QoXHJcblx0XHRcdFx0ZmllbGQubmFtZSwgZmllbGQucGFyZW50SWQsIGZpZWxkLnRhYmxlU3lzbmFtZSwgZmllbGQudGFibGVOYW1lLFxyXG5cdFx0XHRcdGZpZWxkLnN5c25hbWUsIGZpZWxkLnR5cGVHcm91cCwgZmllbGQudHlwZSwgZmllbGQuc3FsVHlwZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5pbml0aWFsaXplRmllbGQobmV3SXRlbSkudGhlbihmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuYWRkUGl2b3RJdGVtKG5ld0l0ZW0pO1xyXG5cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5QXV0b0dyb3Vwcyh0cnVlKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB2YWxpZGF0aW9uIHN0YXRlIGFuZCByZWZyZXNoIGlmIG5lZWRlZC5cclxuXHRcdCAqL1xyXG5cdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2ggPSBmdW5jdGlvbiAoZm9yY2VSZWZyZXNoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goZm9yY2VSZWZyZXNoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgZmllbGQgdG8gcmVwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZEZpZWxkVG9SZXBvcnQgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmaWVsZFN5c05hbWUpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dmFyIGZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpZWxkQnlTeXNOYW1lKGZpZWxkU3lzTmFtZSwgdHJ1ZSk7XHJcblx0XHRcdGlmIChmaWVsZC5jaGVja2VkKSB7XHJcblx0XHRcdFx0dmFyIGFub3RoZXJGaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5hZGRBbm90aGVyRmllbGQoZmllbGQsIHRydWUpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5hcHBseUZpZWxkQ2hlY2tlZChhbm90aGVyRmllbGQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnVwZGF0ZVZpc3VhbEdyb3VwRmllbGRPcmRlcnMoKTtcclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UudW5zZWxlY3RBbGxGaWVsZHMoKTtcclxuXHRcdFx0XHRmaWVsZC5zZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldEN1cnJlbnRBY3RpdmVGaWVsZChmaWVsZCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5RmllbGRDaGVja2VkKGZpZWxkKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS51cGRhdGVWaXN1YWxHcm91cEZpZWxkT3JkZXJzKCk7XHJcblx0XHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gbW92ZSBmaWVsZCBmcm9tIGxhc3QgcG9zdGlvbnMgdG8gc2VsZWN0ZWQgcG9zaXRpb24gaWYgaXQgaXMgZHJhZy1uLWRyb3A6XHJcblx0XHRcdGlmIChmaWVsZC5jaGVja2VkICYmIHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA+PSAwKSB7XHJcblx0XHRcdFx0dmFyIGZpZWxkc0FycmF5ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFsbFZpc2libGVGaWVsZHMoKS5zbGljZSgpO1xyXG5cdFx0XHRcdGZpZWxkc0FycmF5ID0gYW5ndWxhci5lbGVtZW50LmdyZXAoZmllbGRzQXJyYXksIGZ1bmN0aW9uIChmOiBhbnkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAhZi5pc1ZnVXNlZDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRmaWVsZHNBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dmFyIGZyb20gPSBmaWVsZHNBcnJheS5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdHZhciB0byA9IHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlcjtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UubW92ZUZpZWxkVG9Qb3NpdGlvbihmcm9tLCB0bywgZmFsc2UsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IC0xO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsb3NlIGFsbCBuYXZiYXIgb3BlbmVkIGRyb3Bkb3duc1xyXG5cdFx0ICovXHJcblx0XHR2bS5jbG9zZUFsbE5hdmJhcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciAkbmF2QmFyID0gYW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1uYXZiYXInKTtcclxuXHRcdFx0JG5hdkJhci5maW5kKCcubmF2YmFyLW5hdiA+IGxpLm9wZW4nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGxhY2UgZHJvcGRvd24gdG8gdGhlIHByb3BlciBwb3NpdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciAkbmF2YmFyID0gYW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1uYXZiYXInKTtcclxuXHRcdFx0dmFyICRsaUxpc3QgPSAkbmF2YmFyLmZpbmQoJy5pei1pbnN0LW5hdiA+IGxpLm9wZW4nKTtcclxuXHRcdFx0aWYgKCEkbGlMaXN0Lmxlbmd0aClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdCRsaUxpc3QuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyICRsaSA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKTtcclxuXHRcdFx0XHR2YXIgbGlXaWR0aCA9ICRsaS53aWR0aCgpO1xyXG5cdFx0XHRcdHZhciAkZHJvcGRvd24gPSAkbGkuY2hpbGRyZW4oJy5kcm9wZG93bi1tZW51Jyk7XHJcblx0XHRcdFx0dmFyIGlzUmlnaHROb3cgPSAkZHJvcGRvd24uaGFzQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcclxuXHRcdFx0XHR2YXIgZHJvcGRvd25XaWR0aCA9ICRkcm9wZG93bi53aWR0aCgpO1xyXG5cdFx0XHRcdHZhciBkZWx0YUxlZnQgPSAkbGkucG9zaXRpb24oKS5sZWZ0ICsgJGRyb3Bkb3duLnBvc2l0aW9uKCkubGVmdDtcclxuXHRcdFx0XHR2YXIgZGVsdGFSaWdodCA9ICRuYXZiYXIud2lkdGgoKSAtIGRlbHRhTGVmdCAtIGRyb3Bkb3duV2lkdGg7XHJcblx0XHRcdFx0dmFyIGlzUmlnaHRBbGlnbiA9IGZhbHNlO1xyXG5cdFx0XHRcdHZhciBuZWVkVG9Nb3ZlID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGRlbHRhUmlnaHQgPCAwKSB7XHJcblx0XHRcdFx0XHRpc1JpZ2h0QWxpZ24gPSB0cnVlO1xyXG5cdFx0XHRcdFx0bmVlZFRvTW92ZSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChkZWx0YUxlZnQgPCAwIHx8IChpc1JpZ2h0Tm93ICYmIGRlbHRhUmlnaHQgKyBsaVdpZHRoID4gZHJvcGRvd25XaWR0aCArIDEwKSkge1xyXG5cdFx0XHRcdFx0bmVlZFRvTW92ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRpc1JpZ2h0QWxpZ24gPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG5lZWRUb01vdmUpXHJcblx0XHRcdFx0XHRpZiAoaXNSaWdodEFsaWduKVxyXG5cdFx0XHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0JGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gbmF2YmFyIGRyb3Bkb3duIGFjY29yZGluZ2x5IHRvIGl0cyByZWxhdGl2ZSBwb3NpdGlvbiB0byB0aGUgZWRnZXMgb2YgdGhlIHNjcmVlbi5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkZXZlbnQgYW5ndWxhciBjbGljayBldmVudCBvYmplY3QuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9wZW5OYXZCYXJEcm9wZG93biA9IGZ1bmN0aW9uICgkZXZlbnQsIGRvU3luYykge1xyXG5cdFx0XHRmdW5jdGlvbiBvcGVuRHJvcGRvd24oJGxpKSB7XHJcblx0XHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHRcdFx0JGxpLmFkZENsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRpZiAoIXZtLmlzVmFsaWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gZHJvcGRvd24gZWxlbWVudHNcclxuXHRcdFx0dmFyICRhRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgkZXZlbnQuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdHZhciAkbGlFbGVtZW50ID0gJGFFbGVtZW50LnBhcmVudCgpO1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duRWxlbWVudCA9ICRhRWxlbWVudC5zaWJsaW5ncygnLmRyb3Bkb3duLW1lbnUnKTtcclxuXHJcblx0XHRcdC8vIGNsb3NlXHJcblx0XHRcdGlmICgkbGlFbGVtZW50Lmhhc0NsYXNzKCdvcGVuJykpIHtcclxuXHRcdFx0XHQkZHJvcGRvd25FbGVtZW50LnJlbW92ZUNsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcblx0XHRcdFx0JGxpRWxlbWVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gb3BlblxyXG5cdFx0XHRpZiAoZG9TeW5jKVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zZXRSZXBvcnRTZXRBc0NycyhmYWxzZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRvcGVuRHJvcGRvd24oJGxpRWxlbWVudCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRvcGVuRHJvcGRvd24oJGxpRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2F2ZSBkaWFsb2cgY2xvc2VkIGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uU2F2ZUNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXBvcnQgbmFtZS9jYXRlZ29yeSBzZWxlY3RlZC4gU2F2ZSByZXBvcnQgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub25TYXZlID0gZnVuY3Rpb24gKHJlcG9ydE5hbWUsIGNhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUocmVwb3J0TmFtZSwgY2F0ZWdvcnlOYW1lKTtcclxuXHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTYXZlIHJlcG9ydFxyXG5cdFx0ICovXHJcblx0XHR2bS5zYXZlUmVwb3J0ID0gZnVuY3Rpb24gKGZvcmNlUmVuYW1lKSB7XHJcblx0XHRcdHZtLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdHZhciBycyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdFx0dmFyIG5lZWRUb1JlbmFtZSA9IGZvcmNlUmVuYW1lIHx8ICFycy5yZXBvcnROYW1lO1xyXG5cdFx0XHRpZiAobmVlZFRvUmVuYW1lKSB7XHJcblx0XHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdF9zYXZlUmVwb3J0V2l0aEdpdmVuTmFtZShycy5yZXBvcnROYW1lLCBycy5yZXBvcnRDYXRlZ29yeSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUHJpbnQgcmVwb3J0IGJ1dHRvbnMgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ucHJpbnRSZXBvcnQgPSBmdW5jdGlvbiAocHJpbnRUeXBlKSB7XHJcblx0XHRcdHZtLmV4cG9ydFByb2dyZXNzID0gJ3ByaW50JztcclxuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5wcmludFJlcG9ydChwcmludFR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuXHRcdFx0XHRcdGlmICghcmVzdWx0cy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdHZhciByZXBvcnRTZXQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0UmVwb3J0U2V0KCk7XHJcblx0XHRcdFx0XHRcdHZhciByc1JlcG9ydE5hbWUgPSByZXBvcnRTZXQucmVwb3J0TmFtZTtcclxuXHRcdFx0XHRcdFx0Ly8gc2hvdyBtZXNzYWdlXHJcblx0XHRcdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhcclxuXHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlLmxvY2FsZVRleHRXaXRoUGFyYW1zKFxyXG5cdFx0XHRcdFx0XHRcdFx0J2pzX0ZhaWxlZFByaW50UmVwb3J0JyxcclxuXHRcdFx0XHRcdFx0XHRcdCdGYWlsZWQgdG8gcHJpbnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyxcclxuXHRcdFx0XHRcdFx0XHRcdFtyc1JlcG9ydE5hbWUsIHJlc3VsdHMubWVzc2FnZV0pLFxyXG5cdFx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRmFpbGVkUHJpbnRSZXBvcnRUaXRsZScsICdSZXBvcnQgcHJpbnQgZXJyb3InKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR2bS5leHBvcnRQcm9ncmVzcyA9IG51bGw7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0sIDUwMCk7XHJcblx0XHRcdHZtLmNsb3NlQWxsTmF2YmFycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgZXhwb3J0UmVwb3J0SW50ZXJuYWwgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xyXG5cdFx0XHR2bS5leHBvcnRQcm9ncmVzcyA9ICdleHBvcnQnO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZXhwb3J0UmVwb3J0KGV4cG9ydFR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuXHRcdFx0XHRpZiAoIXJlc3VsdHMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0dmFyIHJlcG9ydFNldCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdFx0XHRcdHZhciByc1JlcG9ydE5hbWUgPSByZXBvcnRTZXQucmVwb3J0TmFtZTtcclxuXHJcblx0XHRcdFx0XHQvLyBzaG93IGVycm9yIGRpYWxvZ1xyXG5cdFx0XHRcdFx0JGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKFxyXG5cdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlLmxvY2FsZVRleHRXaXRoUGFyYW1zKFxyXG5cdFx0XHRcdFx0XHRcdCdqc19GYWlsZWRFeHBvcnRSZXBvcnQnLFxyXG5cdFx0XHRcdFx0XHRcdCdGYWlsZWQgdG8gZXhwb3J0IHJlcG9ydCBcInswfVwiLiBFcnJvciBkZXNjcmlwdGlvbjogezF9LicsXHJcblx0XHRcdFx0XHRcdFx0W3JzUmVwb3J0TmFtZSwgcmVzdWx0cy5tZXNzYWdlXSksXHJcblx0XHRcdFx0XHRcdCRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRmFpbGVkRXhwb3J0UmVwb3J0VGl0bGUnLCAnUmVwb3J0IGV4cG9ydCBlcnJvcicpKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZtLmV4cG9ydFByb2dyZXNzID0gbnVsbDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNob3dDc3ZCdWxrVW5zdXBwb3J0ZWRGb3JtYXRXYXJuaW5nID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUpIHtcclxuXHJcblx0XHRcdHZhciBtZXNzYWdlID0gJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19Dc3ZCdWxrVW5zdXBwb3J0Rm9ybWF0c1dhcm5pbmcnLFxyXG5cdFx0XHRcdCdDc3YoYnVsaykgZXhwb3J0IGRvZXMgbm90IHN1cHBvcnQgZm9sbG93aW5nIGZvcm1hdHM6IHBlcmNlbnQgb2YgZ3JvdXAsIHBlcmNlbnQgb2YgZ3JvdXAgKHdpdGggcm91bmRpbmcpLCBnYXVnZSwgZ2F1Z2UgKHZhcmlhYmxlKSwgZGFzaCBnYXVnZS4gRGVmYXVsdCBmb3JtYXQgd2lsbCBiZSBhcHBsaWVkIGluc3RlYWQgb2YgdGhlbS4nKTtcclxuXHJcblx0XHRcdHZhciBjaGVja2JveGVzID0gW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGxhYmVsOiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX0RvTm90U2hvd1RoaXNEaWFsb2dBZ2FpbicsICdEbyBub3Qgc2hvdyB0aGlzIGRpYWxvZyBhZ2FpbicpLFxyXG5cdFx0XHRcdFx0Y2hlY2tlZDogZmFsc2VcclxuXHRcdFx0XHR9XTtcclxuXHJcblx0XHRcdHZhciB3YXJuaW5nQXJncyA9IHtcclxuXHRcdFx0XHR0aXRsZTogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19XYXJuaW5nJywgJ1dhcm5pbmcnKSxcclxuXHRcdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxyXG5cdFx0XHRcdGJ1dHRvbnM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dGV4dDogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19PaycsICdPaycpLFxyXG5cdFx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKGNoZWNrYm94ZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoY2hlY2tib3hlcyAmJiBjaGVja2JveGVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBkb05vdFNob3dBZ2FpbiA9IGNoZWNrYm94ZXNbMF07XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZG9Ob3RTaG93QWdhaW4gJiYgZG9Ob3RTaG93QWdhaW4uY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZGF0ZSA9IG5ldyBEYXRlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAzNjUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgY29va2llT3B0aW9ucyA9IHsgZXhwaXJlczogZGF0ZSB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRjb29raWVzLnB1dChcIml6ZW5kYUhpZGVDc3ZCdWxrVW5zdXBwb3J0ZWRGb3JtYXRXYXJuaW5nXCIsIHRydWUsIGNvb2tpZU9wdGlvbnMpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRleHBvcnRSZXBvcnRJbnRlcm5hbChleHBvcnRUeXBlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHsgdGV4dDogJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19DYW5jZWwnLCAnQ2FuY2VsJykgfVxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2hlY2tib3hlczogY2hlY2tib3hlcyxcclxuXHRcdFx0XHRhbGVydEluZm86ICd3YXJuaW5nJ1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dEaWFsb2dCb3god2FybmluZ0FyZ3MpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgaXNDc3ZCdWxrV2l0aFVuc3VwcG9ydGVkRm9ybWF0ID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUpIHtcclxuXHRcdFx0dmFyIGlzQ3N2QnVsayA9IGV4cG9ydFR5cGUgPT09ICdjc3YnICYmICRpemVuZGFTZXR0aW5ncy5nZXRCdWxrQ3N2KCk7XHJcblx0XHRcdGlmICghaXNDc3ZCdWxrKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHZhciBoYXNBZ2dyZWdhdGVGb3JtYXRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmhhc0FnZ3JlZ2F0ZUZvcm1hdHMoKTtcclxuXHRcdFx0cmV0dXJuIGhhc0FnZ3JlZ2F0ZUZvcm1hdHM7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFeHBvcnQgcmVwb3J0IGJ1dHRvbnMgaGFuZGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5leHBvcnRSZXBvcnQgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xyXG5cdFx0XHR2YXIgaGlkZUNzdldhcm5pbmcgPSAkY29va2llcy5nZXQoXCJpemVuZGFIaWRlQ3N2QnVsa1Vuc3VwcG9ydGVkRm9ybWF0V2FybmluZ1wiKTtcclxuXHRcdFx0aWYgKGlzQ3N2QnVsa1dpdGhVbnN1cHBvcnRlZEZvcm1hdChleHBvcnRUeXBlKSAmJiAhaGlkZUNzdldhcm5pbmcpIHtcclxuXHRcdFx0XHRzaG93Q3N2QnVsa1Vuc3VwcG9ydGVkRm9ybWF0V2FybmluZyhleHBvcnRUeXBlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0ZXhwb3J0UmVwb3J0SW50ZXJuYWwoZXhwb3J0VHlwZSk7XHJcblx0XHRcdHZtLmNsb3NlQWxsTmF2YmFycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIG9uLXBhZ2UtY2xpY2sgcmVwb3J0IHByZXZpZXcgaGFuZGxlci4gUmFpc2VzIHdoZW4gdXNlciBjbGlja3Mgb24gcGFnaW5nIGNvbnRyb2xzIGluIHByZXZpZXcuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uUGFnaW5nQ2xpY2sgPSBmdW5jdGlvbiAocGFnaW5nQ29udHJvbFR5cGUsIHBhZ2VSYW5nZSkge1xyXG5cdFx0XHR2YXIgcnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0UmVwb3J0U2V0KCk7XHJcblx0XHRcdHJzLm9wdGlvbnMucm93c1JhbmdlID0gcGFnZVJhbmdlO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24udmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VuZCByZXBvcnQgbGluayB2aWEgZW1haWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VuZFJlcG9ydExpbmtFbWFpbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNlbmRSZXBvcnRMaW5rRW1haWwoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIGFwcGx5UmVwb3J0SW5mbyA9IGZ1bmN0aW9uIChyZXBvcnRJbmZvKSB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHJlcG9ydEluZm8pKSB7XHJcblx0XHRcdFx0XHR2bS5pc0V4aXN0aW5nUmVwb3J0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5yZXBvcnRJbmZvID0gbnVsbDtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0SW5mby5mdWxsTmFtZSkgJiYgcmVwb3J0SW5mby5mdWxsTmFtZS50cmltKCkgIT09ICcnKSB7XHJcblx0XHRcdFx0XHQvLyBpZiBsb2NhdGlvbiBjb250YWlucyByZXBvcnQgbmFtZTogbG9hZCBpdFxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmxvYWRSZXBvcnQocmVwb3J0SW5mby5mdWxsTmFtZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHZtLmlzRXhpc3RpbmdSZXBvcnQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR2bS5yZXBvcnRJbmZvID0gcmVwb3J0SW5mbztcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLm5ld1JlcG9ydCgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2bS5pc0V4aXN0aW5nUmVwb3J0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHZtLnJlcG9ydEluZm8gPSByZXBvcnRJbmZvO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCknLCBmdW5jdGlvbiAodmFsdWUsIHByZXZWYWx1ZSkge1xyXG5cdFx0XHRcdHZtLmlzU21hbGxSZXNvbHV0aW9uID0gdmFsdWU7XHJcblx0XHRcdFx0aWYgKHByZXZWYWx1ZSAmJiAhdmFsdWUpIHtcclxuXHRcdFx0XHRcdC8vIHNtYWxsIC0+IG5vcm1hbFxyXG5cdFx0XHRcdFx0dm0uc2V0TGVmdFBhbmVsQWN0aXZlSXRlbSgwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUNvbXBhdGliaWxpdHkuZ2V0UmlnaHRzKCknLCBmdW5jdGlvbiAodmFsdWUsIHByZXZWYWx1ZSkge1xyXG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gcHJldlZhbHVlKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHZtLmVmZmVjdGl2ZVJpZ2h0cyA9IHZhbHVlO1xyXG5cdFx0XHRcdF91cGRhdGVSZXBvcnRTZXRSaWdodFZhcmlhYmxlcygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vXHJcblx0XHRcdCRzY29wZS4kb24oJ2NoYW5nZVZpc3VhbGl6YXRpb25Qcm9wZXJ0aWVzJywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFJlcG9ydFNldCgpLmNoYXJ0c1swXS5wcm9wZXJ0aWVzID0gYXJnc1swXTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBsb29rIGZvciBsb2NhdGlvbiBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYVVybC5nZXRSZXBvcnRJbmZvKCknLCBmdW5jdGlvbiAocmVwb3J0SW5mbykge1xyXG5cdFx0XHRcdGFwcGx5UmVwb3J0SW5mbyhyZXBvcnRJbmZvKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTGlzdGVuIGZvciBjb21wbGV0ZSBsb2FkaW5nIHBhZ2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0UGFnZVJlYWR5KCknLCBmdW5jdGlvbiAoaXNQYWdlUmVhZHkpIHtcclxuXHRcdFx0XHRpZiAoaXNQYWdlUmVhZHkpIHtcclxuXHRcdFx0XHRcdHZtLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gTG9vayBmb3IgcHJldmlldyBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFByZXZpZXcoKScsIGZ1bmN0aW9uIChwcmV2aWV3SHRtbCkge1xyXG5cclxuXHRcdFx0XHQvLyBwcmVwYXJlIG9wdGlvbnM6XHJcblx0XHRcdFx0dmFyIG9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0T3B0aW9ucygpO1xyXG5cdFx0XHRcdHZtLnJlcG9ydFNldE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRpc1ZnVXNlZDogZmFsc2UsXHJcblx0XHRcdFx0XHR2Z1N0eWxlOiBvcHRpb25zLnBhZ2UudmdTdHlsZSxcclxuXHRcdFx0XHRcdHNvcnRlZEFjdGl2ZUZpZWxkczogW10sXHJcblx0XHRcdFx0XHRwaXZvdENlbGxzQ291bnQ6IHZtLnBpdm90Q2VsbHNDb3VudFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIGFkZCBhY3RpdmUgZmllbGRzLlxyXG5cdFx0XHRcdHZtLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFsbFZpc2libGVGaWVsZHMoKTtcclxuXHRcdFx0XHR2bS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godm0ucmVwb3J0U2V0T3B0aW9ucy5zb3J0ZWRBY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmlzVmdVc2VkKVxyXG5cdFx0XHRcdFx0XHR2bS5yZXBvcnRTZXRPcHRpb25zLmlzVmdVc2VkID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gc2V0IHByZXZpZXcgaHRtbFxyXG5cdFx0XHRcdHZtLnByZXZpZXdIdG1sID0gcHJldmlld0h0bWw7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlcnNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLmZpbHRlcnNQYW5lbE9wZW5lZCA9IG9wZW5lZDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRQaXZvdHNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLnBpdm90c1BhbmVsT3BlbmVkID0gb3BlbmVkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRDdXJyZW50QWN0aXZlRmllbGQoKScsIGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRcdHZtLmFjdGl2ZUZpZWxkID0gZmllbGQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldE9wdGlvbnMoKS50b3AnLCBmdW5jdGlvbiAodG9wKSB7XHJcblx0XHRcdFx0dm0udG9wID0gdG9wO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRPcHRpb25zKCkucHJldmlld1RvcCcsIGZ1bmN0aW9uICh0b3ApIHtcclxuXHRcdFx0XHR2bS5wcmV2aWV3VG9wID0gdG9wO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmlsdGVycygpJywgZnVuY3Rpb24gKGZpbHRlcnMpIHtcclxuXHRcdFx0XHR2bS5maWx0ZXJzQ291bnQgPSBmaWx0ZXJzLmxlbmd0aDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuZ2V0Q2VsbFZhbHVlcygpJywgZnVuY3Rpb24gKGNlbGxWYWx1ZXMpIHtcclxuXHRcdFx0XHR2bS5waXZvdENlbGxzQ291bnQgPSBjZWxsVmFsdWVzLmxlbmd0aDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFsbEFjdGl2ZUZpZWxkcygpJywgZnVuY3Rpb24gKGFjdGl2ZUZpZWxkcykge1xyXG5cdFx0XHRcdHZtLmFjdGl2ZUZpZWxkcyA9IGFjdGl2ZUZpZWxkcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0UHJldmlld1NwbGFzaFZpc2libGUoKScsIGZ1bmN0aW9uICh2aXNpYmxlKSB7XHJcblx0XHRcdFx0dm0ucmVwb3J0TG9hZGluZ0luZGljYXRvcklzVmlzaWJsZSA9IHZpc2libGU7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbGlzdGVuIGZvciB2YWxpZGF0aW9uIHN0YXRlIGNoYW5nZS5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLmlzUmVwb3J0VmFsaWQoKScsIGZ1bmN0aW9uIChpc1ZhbGlkKSB7XHJcblx0XHRcdFx0dm0uaXNWYWxpZCA9IGlzVmFsaWQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFJlcG9ydCBuYW1lIHNlbGVjdGVkIGhhbmRsZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kb24oJ3NlbGVjdGVkTmV3UmVwb3J0TmFtZUV2ZW50JywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoYXJncykgfHwgYXJncy5sZW5ndGggIT09IDIpXHJcblx0XHRcdFx0XHR0aHJvdyAnQXJyYXkgd2l0aCAyIGVsZW1lbnRzIGV4cGVjdGVkJztcclxuXHRcdFx0XHR2YXIgbmFtZSA9IGFyZ3NbMF0sIGNhdGVnb3J5ID0gYXJnc1sxXTtcclxuXHRcdFx0XHRfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUobmFtZSwgY2F0ZWdvcnkpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHRvZG86IG1vdmUgdGhhdCBqYXZhc2NyaXB0IHRvIHNwZWNpYWwgZGlyZWN0aXZlIGluIGZ1dHVyZSwgYmVjYXVzZSBET00gbWFuaXB1bGF0aW9ucyBpbiBjb250cm9sbGVyIGlzIGJhZCBwcmFjdGljZTpcclxuXHRcdFx0dmFyICRyb290ID0gYW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1yb290Jyk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMoKTtcclxuXHRcdFx0XHQkcm9vdC5oZWlnaHQoYW5ndWxhci5lbGVtZW50KHdpbmRvdykuaGVpZ2h0KCkgLSAkcm9vdC5vZmZzZXQoKS50b3AgLSAzMCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkcm9vdC5oZWlnaHQoYW5ndWxhci5lbGVtZW50KHdpbmRvdykuaGVpZ2h0KCkgLSAkcm9vdC5vZmZzZXQoKS50b3AgLSAzMCk7XHJcblxyXG5cdFx0XHQvLyBsZWZ0IHBhbmVsIHJlc2l6ZSBzZW5zb3JcclxuXHRcdFx0dmFyICRwYW5lbCA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWluc3QtbGVmdC1wYW5lbCcpO1xyXG5cdFx0XHRpZiAoJHBhbmVsLmxlbmd0aClcclxuXHRcdFx0XHRyZXNpemVTZW5zb3IoJHBhbmVsLmdldCgwKSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dm0uYWxpZ25OYXZEcm9wZG93bnMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gX3VwZGF0ZVJlcG9ydFNldFJpZ2h0VmFyaWFibGVzKCkge1xyXG5cdFx0XHR2bS5yaWdodHMgPSB7fTtcclxuXHRcdFx0dm0ucmlnaHRzLmlzRmlsdGVyc0VkaXRBbGxvd2VkID0gJGl6ZW5kYUNvbXBhdGliaWxpdHkuaXNGaWx0ZXJzRWRpdEFsbG93ZWQoKTtcclxuXHRcdFx0dm0ucmlnaHRzLmlzRnVsbEFjY2VzcyA9ICRpemVuZGFDb21wYXRpYmlsaXR5LmlzRnVsbEFjY2VzcygpO1xyXG5cdFx0XHR2bS5yaWdodHMuaXNFZGl0QWxsb3dlZCA9ICRpemVuZGFDb21wYXRpYmlsaXR5LmlzRWRpdEFsbG93ZWQoKTtcclxuXHRcdFx0dm0ucmlnaHRzLmlzU2F2ZUFzQWxsb3dlZCA9ICRpemVuZGFDb21wYXRpYmlsaXR5LmlzU2F2ZUFzQWxsb3dlZCgpO1xyXG5cdFx0XHR2bS5yaWdodHMuaXNTYXZlQWxsb3dlZCA9ICRpemVuZGFDb21wYXRpYmlsaXR5LmlzU2F2ZUFsbG93ZWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNhdmUgcmVwb3J0IHdpdGggc2VsZWN0ZWQgbmFtZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUocmVwb3J0TmFtZSwgcmVwb3J0Q2F0ZWdvcnkpIHtcclxuXHRcdFx0dmFyIGNhdGVnb3J5ID0gcmVwb3J0Q2F0ZWdvcnk7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkgfHwgY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gVU5DQVRFR09SSVpFRC50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdGNhdGVnb3J5ID0gJyc7XHJcblxyXG5cdFx0XHR2YXIgcnNSZXBvcnROYW1lID0gcmVwb3J0TmFtZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0Q2F0ZWdvcnkpICYmIHJlcG9ydENhdGVnb3J5ICE9PSAnJylcclxuXHRcdFx0XHRyc1JlcG9ydE5hbWUgPSByZXBvcnRDYXRlZ29yeSArICRpemVuZGFTZXR0aW5ncy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcnNSZXBvcnROYW1lO1xyXG5cclxuXHRcdFx0dmFyIHNhdmVQcm9taXNlO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhyZXBvcnROYW1lKSAmJiByZXBvcnROYW1lICE9PSAnJykge1xyXG5cdFx0XHRcdHNhdmVQcm9taXNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNhdmVSZXBvcnRTZXQocmVwb3J0TmFtZSwgY2F0ZWdvcnkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNhdmVQcm9taXNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNhdmVSZXBvcnRTZXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzYXZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgbm90aWZpY2F0aW9uTWVzc2FnZSA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dFdpdGhQYXJhbXMoJ2pzX1JlcG9ydFNhdmVkJywgJ1JlcG9ydCBcInswfVwiIHN1Y2Vzc2Z1bGx5IHNhdmVkLicsIFtyc1JlcG9ydE5hbWVdKTtcclxuXHRcdFx0XHQkaXplbmRhVXRpbFVpU2VydmljZS5zaG93Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk1lc3NhZ2UpO1xyXG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHR2YXIgZXJyb3JUaXRsZSA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dCgnanNfRmFpbGVkU2F2ZVJlcG9ydFRpdGxlJywgJ1JlcG9ydCBzYXZlIGVycm9yJyk7XHJcblx0XHRcdFx0dmFyIGVycm9yTWVzc2FnZSA9ICRpemVuZGFMb2NhbGUubG9jYWxlVGV4dFdpdGhQYXJhbXMoXHJcblx0XHRcdFx0XHQnanNfRmFpbGVkU2F2ZVJlcG9ydCcsXHJcblx0XHRcdFx0XHQnRmFpbGVkIHRvIHNhdmUgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0nLFxyXG5cdFx0XHRcdFx0W3JzUmVwb3J0TmFtZSwgZXJyb3JdKTtcclxuXHRcdFx0XHQkaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JNZXNzYWdlLCBlcnJvclRpdGxlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fV0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgZGF0YSBzb3VyY2VzIGNvbnRyb2xsZXIgZGVmaW5pdGlvblxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0RGF0YVNvdXJjZUNvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRsb2cnLFxyXG5cdCckc2NlJyxcclxuXHQnJGFuY2hvclNjcm9sbCcsXHJcblx0JyRpemVuZGFVcmwnLFxyXG5cdCckaXplbmRhTG9jYWxlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHknLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5JyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24nLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JHEsXHJcblx0XHQkbG9nLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRhbmNob3JTY3JvbGwsXHJcblx0XHQkaXplbmRhVXJsLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5LFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5ncykge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZhciBhbmd1bGFySnEkID0gYW5ndWxhci5lbGVtZW50O1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZTtcclxuXHRcdCRzY29wZS4kaXplbmRhQ29tcGF0aWJpbGl0eSA9ICRpemVuZGFDb21wYXRpYmlsaXR5O1xyXG5cdFx0JHNjb3BlLiRpemVuZGFVcmwgPSAkaXplbmRhVXJsO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MgPSAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzO1xyXG5cdFx0JHNjb3BlLnRydXN0QXNIdG1sID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uc2VhcmNoU3RyaW5nID0gJyc7XHJcblx0XHR2bS5kYXRhU291cmNlcyA9IG51bGw7XHJcblx0XHR2bS5pc0RhdGFTb3VyY2VzTG9hZGluZyA9IHRydWU7XHJcblx0XHR2bS5zZWFyY2hSZXN1bHRzID0gW107XHJcblx0XHR2YXIgcHJldmlvdXNSZXN1bHRzQ291bnQgPSBudWxsO1xyXG5cdFx0dm0uc2VhcmNoUGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdHZtLm9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0T3B0aW9ucygpO1xyXG5cclxuXHRcdHZtLmNvbHVtblNvcnRQYW5lbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0dm0uY29sdW1uU29ydFBhbmVsQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdHZhciBzZWFyY2hTdGF0ZSA9IHtcclxuXHRcdFx0dGltZW91dElkOiBudWxsLFxyXG5cdFx0XHRjaGFuZ2luZzogZmFsc2VcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGNvbGxhcHNlU3RhdGUgPSB7XHJcblx0XHRcdHN0YXJ0ZWQ6IGZhbHNlXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29sbGFwc2UgYW5pbWF0aW9uIGNvbXBsZXRlZCBoYW5kbGVyLlxyXG5cdFx0ICovXHJcblx0XHR2bS5jb2xsYXBzZUNvbXBsZXRlZCA9IGZ1bmN0aW9uIChjb2xsYXBzZWQpIHtcclxuXHRcdFx0Y29sbGFwc2VTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRvZ2dsZSBvcGVuZWQvY29sbGFwc2VkIHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVJdGVtQ29sbGFwc2UgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHRpZiAoIWNvbGxhcHNlU3RhdGUuc3RhcnRlZCkge1xyXG5cdFx0XHRcdGNvbGxhcHNlU3RhdGUuc3RhcnRlZCA9IHRydWU7XHJcblx0XHRcdFx0aXRlbS5jb2xsYXBzZWQgPSAhaXRlbS5jb2xsYXBzZWQ7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUdXJuIG9mZiBzZWFyY2ggcGFuZWwgYW5kIHJlc2V0IGl0IHRvIGRlZmF1bHQgc3RhdGUuXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc2V0U2VhcmNoUmVzdWx0cy4gQ2xlYXIgc2VhcmNoIHN0cmluZyBhbmQgcmVzdWx0cy5cclxuXHRcdCAqL1xyXG5cdFx0dm0udHVybk9mZlNlYXJjaCA9IGZ1bmN0aW9uIChyZXNldFNlYXJjaFJlc3VsdHMpIHtcclxuXHRcdFx0dm0uc2VhcmNoUGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHJlc2V0U2VhcmNoUmVzdWx0cykge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnI2l6SW5zdERhdGFTb3VyY2VzVHJlZScpLmdldCgwKS5zY3JvbGxUb3AgPSAwO1xyXG5cdFx0XHRcdHZtLnNlYXJjaFN0cmluZyA9ICcnO1xyXG5cdFx0XHRcdHZtLnNlYXJjaFJlc3VsdHMgPSBbXTtcclxuXHRcdFx0XHRwcmV2aW91c1Jlc3VsdHNDb3VudCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJ1biBzZWFyY2ggcXVlcnkuXHJcblx0XHQgKi9cclxuXHRcdHZtLnJ1blNlYXJjaFF1ZXJ5ID0gZnVuY3Rpb24gKGNsZWFyUmVzdWx0cykge1xyXG5cdFx0XHRpZiAodm0uc2VhcmNoUXVlcnlSdW5uaW5nKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHZtLnNlYXJjaFN0cmluZykgfHwgdm0uc2VhcmNoU3RyaW5nLnRyaW0oKSA9PT0gJycpIHtcclxuXHRcdFx0XHR2bS5zZWFyY2hQYW5lbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHZtLnNlYXJjaFF1ZXJ5UnVubmluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHR2bS5zZWFyY2hRdWVyeVJ1bm5pbmcgPSB0cnVlO1xyXG5cdFx0XHR2YXIgY291bnQgPSA1MDtcclxuXHRcdFx0aWYgKGNsZWFyUmVzdWx0cykge1xyXG5cdFx0XHRcdHZtLnNlYXJjaFJlc3VsdHMgPSBbXTtcclxuXHRcdFx0XHRwcmV2aW91c1Jlc3VsdHNDb3VudCA9IG51bGw7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcjaXpJbnN0RGF0YVNvdXJjZXNUcmVlJykuZ2V0KDApLnNjcm9sbFRvcCA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHByZXZpb3VzUmVzdWx0c0NvdW50ID09PSAwKSB7XHJcblx0XHRcdFx0dm0uc2VhcmNoUXVlcnlSdW5uaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zZWFyY2hJbkRhdGFEb3VyY2VzKHZtLnNlYXJjaFN0cmluZywgdm0uc2VhcmNoUmVzdWx0cy5sZW5ndGgsIHZtLnNlYXJjaFJlc3VsdHMubGVuZ3RoICsgY291bnQgLSAxKS50aGVuKGZ1bmN0aW9uIChzZWFyY2hSZXN1bHRzKSB7XHJcblx0XHRcdFx0cHJldmlvdXNSZXN1bHRzQ291bnQgPSBzZWFyY2hSZXN1bHRzLmxlbmd0aDtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChzZWFyY2hSZXN1bHRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2bS5zZWFyY2hSZXN1bHRzLnB1c2godGhpcyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dm0uc2VhcmNoUGFuZWxPcGVuZWQgPSB0cnVlO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdHZtLnNlYXJjaFF1ZXJ5UnVubmluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgZmlsdGVyZWQgZGF0YXNvdXJjZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VhcmNoSW5EYXRhRG91cmNlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoc2VhcmNoU3RhdGUudGltZW91dElkICE9PSBudWxsKVxyXG5cdFx0XHRcdCR0aW1lb3V0LmNhbmNlbChzZWFyY2hTdGF0ZS50aW1lb3V0SWQpO1xyXG5cdFx0XHRzZWFyY2hTdGF0ZS50aW1lb3V0SWQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dm0ucnVuU2VhcmNoUXVlcnkodHJ1ZSk7XHJcblx0XHRcdH0sIDUwMCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNsYXNzZXMgZm9yIGNhdGVnb3J5L3RhYmxlIGZvbGRlciBpY29uc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRGb2xkZXJDbGFzcyA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdHZhciBjc3MgPSAnJztcclxuXHRcdFx0aWYgKCFpdGVtLmNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIG9wZW4nO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtLmFjdGl2ZSkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGFjdGl2ZSc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNzcy50cmltKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY2xhc3NlcyBmb3IgY2F0ZWdvcnkvdGFibGUgbGFiZWxzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEZvbGRlckxhYmVsQ2xhc3MgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHR2YXIgY3NzID0gJyc7XHJcblx0XHRcdGlmIChpdGVtLmFjdGl2ZSkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGFjdGl2ZSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGl0ZW0uaGlnaGxpZ2h0KSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgaGlnaGxpZ2h0JztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWl0ZW0uZW5hYmxlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGRpc2FibGVkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbS5zZWxlY3RlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIHNlbGVjdGVkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gY3NzLnRyaW0oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uZ2V0RmllbGRDbGFzcyA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdHZhciBjc3MgPSAnJztcclxuXHRcdFx0aWYgKGl0ZW0uY2hlY2tlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGNoZWNrZWQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtLmhpZ2hsaWdodCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGhpZ2hsaWdodCc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFpdGVtLmVuYWJsZWQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBkaXNhYmxlZCc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNzcy50cmltKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dm0uZ2V0RmllbGRUZXh0Q2xhc3MgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHR2YXIgY3NzID0gJyc7XHJcblx0XHRcdGlmIChpdGVtLnNlbGVjdGVkKSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgc2VsZWN0ZWQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjc3MudHJpbSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZtLmdldEZpZWxkQ2hlY2tDbGFzcyA9IGZ1bmN0aW9uIChpdGVtLCBpZ25vcmVGb2xkZXJJY29uKSB7XHJcblx0XHRcdGlmICghaWdub3JlRm9sZGVySWNvbiAmJiBpdGVtLmlzTXVsdGlwbGVDb2x1bW5zKSB7XHJcblx0XHRcdFx0aWYgKCFpdGVtLmNvbGxhcHNlZClcclxuXHRcdFx0XHRcdHJldHVybiAnZ2x5cGhpY29uLWNoZXZyb24tZG93bic7XHJcblx0XHRcdFx0cmV0dXJuICdnbHlwaGljb24tY2hldnJvbi1yaWdodCc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGNzcyA9ICcnO1xyXG5cdFx0XHRpZiAoaXRlbS5jaGVja2VkKSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgZ2x5cGhpY29uLWNoZWNrJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBnbHlwaGljb24tdW5jaGVja2VkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gY3NzLnRyaW0oKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrIGlmIGZpZWxkIGhhdmUgZ3JvdXBcclxuXHRcdCAqL1xyXG5cdFx0dm0uaXNGaWVsZEdyb3VwZWQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0cmV0dXJuIGZpZWxkLmNoZWNrZWQgJiYgJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmlzRmllbGRHcm91cGVkKGZpZWxkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb2dnbGUgdGFibGUgY29sbGFwc2VkXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gdGFibGUuIFRvZ2dsaW5nIHRhYmxlIG9iamVjdCBcclxuXHRcdCAqL1xyXG5cdFx0dm0udG9nZ2xlVGFibGVDb2xsYXBzZSA9IGZ1bmN0aW9uICh0YWJsZSkge1xyXG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuXHRcdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSAhdGFibGUuY29sbGFwc2VkO1xyXG5cdFx0XHRcdC8vIGlmIHRhYmxlIGlzIGxhenkgLSBsb2FkIGZpZWxkcy5cclxuXHRcdFx0XHRpZiAodGFibGUubGF6eSkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmxvYWRMYXp5RmllbGRzKHRhYmxlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUodGFibGUpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc29sdmUodGFibGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHZhbGlkYXRpb24gc3RhdGUgYW5kIHJlZnJlc2ggaWYgbmVlZGVkLlxyXG5cdFx0ICovXHJcblx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrL3VuY2hlY2sgZmllbGQuXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZUZpZWxkQ2hlY2tlZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAoIWZpZWxkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dmFyIG5lZWRUb0NoZWNrID0gIWZpZWxkLmNoZWNrZWQ7XHJcblx0XHRcdHZhciBwaXZvdHNFbmFibGVkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuaXNQaXZvdFZhbGlkKCk7XHJcblxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZENoZWNrZWQoZmllbGQsIG5lZWRUb0NoZWNrLCBwaXZvdHNFbmFibGVkKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UudXBkYXRlVmlzdWFsR3JvdXBGaWVsZE9yZGVycygpO1xyXG5cdFx0XHRcdC8vIHR1cm4gb24gYXV0b2dyb3VwIGlmIHBpdm90cyBhcmUgdHVybmVkIG9uXHJcblx0XHRcdFx0aWYgKHBpdm90c0VuYWJsZWQgJiYgbmVlZFRvQ2hlY2spIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5hcHBseUF1dG9Hcm91cHModHJ1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5nZXRGaWVsZFRvb2x0aXAgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCFmaWVsZC5jaGVja2VkKVxyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1RvZ2dsZVJlcG9ydEZpZWxkJywgJ1RvZ2dsZSByZXBvcnQgZmllbGQnKTtcclxuXHRcdFx0ZWxzZSBpZiAoIWZpZWxkLnNlbGVjdGVkKVxyXG5cdFx0XHRcdHJldHVybiAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdFJlcG9ydEZpZWxkJywgJ1NlbGVjdCByZXBvcnQgZmllbGQnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrL3VuY2hlY2sgZmllbGQgaGFuZGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5jaGVja0ZpZWxkID0gZnVuY3Rpb24gKGZpZWxkLCBhbGxvd1VuY2hlY2spIHtcclxuXHRcdFx0aWYgKGZpZWxkLmlzTXVsdGlwbGVDb2x1bW5zKSB7XHJcblx0XHRcdFx0dm0udG9nZ2xlSXRlbUNvbGxhcHNlKGZpZWxkKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLnNlbGVjdEZpZWxkKGZpZWxkKTtcclxuXHJcblx0XHRcdC8vIGV4aXQgaWYgZmllbGQgY2hlY2tlZCBidXQgd2Ugbm90IGFsbG93ZWQgdG8gdW5jaGVja1xyXG5cdFx0XHRpZiAoZmllbGQuY2hlY2tlZCAmJiAhYWxsb3dVbmNoZWNrKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdGlmICghJGl6ZW5kYUNvbXBhdGliaWxpdHkuaXNTbWFsbFJlc29sdXRpb24oKSkge1xyXG5cdFx0XHRcdC8vIGNoZWNrIGZpZWxkIG9jY3VycyBpbiBzZWxlY3RGaWVsZCBmdW5jdGlvblxyXG5cdFx0XHRcdHZtLnRvZ2dsZUZpZWxkQ2hlY2tlZChmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBY3RpdmF0ZS9kZWFjdGl2YXRlIHRhYmxlXHJcblx0XHQgKi9cclxuXHRcdHZtLmFjdGl2YXRlVGFibGUgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5VGFibGVBY3RpdmUodGFibGUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2hvdyBmaWVsZCBvcHRpb25zXHJcblx0XHQgKi9cclxuXHRcdHZtLnNlbGVjdEZpZWxkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGlmICgkaXplbmRhQ29tcGF0aWJpbGl0eS5pc1NtYWxsUmVzb2x1dGlvbigpKSB7XHJcblx0XHRcdFx0dm0udG9nZ2xlRmllbGRDaGVja2VkKGZpZWxkKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZFNlbGVjdGVkKGZpZWxkLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNob3cgZmllbGQgb3B0aW9ucyBidXR0b25cclxuXHRcdCAqL1xyXG5cdFx0dm0uc2hvd0ZpZWxkT3B0aW9ucyA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZFNlbGVjdGVkKGZpZWxkLCB0cnVlKTtcclxuXHRcdFx0aWYgKCRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCkpIHtcclxuXHRcdFx0XHQkc2NvcGUuaXJDb250cm9sbGVyLnNldExlZnRQYW5lbEFjdGl2ZUl0ZW0oNyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElzIGFsbCB0YWJsZXMgY29sbGFwc2VkXHJcblx0XHQgKi9cclxuXHRcdHZtLmlzVGFibGVzQ29sbGFwc2VkID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSB0cnVlO1xyXG5cdFx0XHRhbmd1bGFySnEkLmVhY2goY2F0ZWdvcnkudGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmNvbGxhcHNlZClcclxuXHRcdFx0XHRcdHJlc3VsdCA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb2xsYXBzZSBhbGwgdGFibGVzIGluc2lkZSBjYXRlZ29yeVxyXG5cdFx0ICovXHJcblx0XHR2bS5jb2xsYXBzZUNhdGVnb3J5VGFibGVzID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcblx0XHRcdGFuZ3VsYXJKcSQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGlzLmNvbGxhcHNlZCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIG1vcmUgdGhhbiBvbmUgc2FtZSBmaWVsZHMgdG8gcmVwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZEFub3RoZXJGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHR2YXIgYW5vdGhlckZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFkZEFub3RoZXJGaWVsZChmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdHZtLnRvZ2dsZUZpZWxkQ2hlY2tlZChhbm90aGVyRmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBtb3JlIHRoYW4gb25lIHNhbWUgZmllbGRcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVtb3ZlQW5vdGhlckZpZWxkID0gZnVuY3Rpb24gKGZpZWxkLCBtdWx0aUZpZWxkKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5yZW1vdmVBbm90aGVyRmllbGQoZmllbGQsIG11bHRpRmllbGQpO1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPcGVuL2Nsb3NlIGNvbHVtbiBzb3J0IHBhbmVsXHJcblx0XHQgKi9cclxuXHRcdHZtLm9wZW5Db2x1bW5zU29ydFBhbmVsID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkpXHJcblx0XHRcdFx0dm0uY29sdW1uU29ydFBhbmVsT3BlbmVkID0gdmFsdWU7XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHZtLmNvbHVtblNvcnRQYW5lbE9wZW5lZCA9ICF2bS5jb2x1bW5Tb3J0UGFuZWxPcGVuZWQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdvIHRvIGZvdW5kIGZpZWxkIG9yIHRhYmxlXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc2VhcmNoUmVzdWx0T2JqZWN0LiBPYmplY3QsIHdpdGggdGFibGUgc3lzbmFtZSBhbmQgZmllbGQgc3lzbmFtZS4gXHJcblx0XHQgKi9cclxuXHRcdHZtLnJldmVhbFNlYXJjaFJlc3VsdCA9IGZ1bmN0aW9uIChzZWFyY2hSZXN1bHRPYmplY3QpIHtcclxuXHRcdFx0ZnVuY3Rpb24gZ290b1NlYXJjaFRhcmdldChzZWFyY2hSZXN1bHQpIHtcclxuXHRcdFx0XHR2YXIgaXNGaWVsZCA9IHNlYXJjaFJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgnZlN5c05hbWUnKTtcclxuXHRcdFx0XHR2YXIgdFN5c05hbWUgPSBzZWFyY2hSZXN1bHRbJ3RTeXNOYW1lJ107XHJcblx0XHRcdFx0aWYgKGlzRmllbGQpIHtcclxuXHRcdFx0XHRcdHZhciBmaWVsZFN5c05hbWUgPSBzZWFyY2hSZXN1bHRbJ2ZTeXNOYW1lJ107XHJcblx0XHRcdFx0XHR2YXIgZmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lLCB0cnVlKTtcclxuXHRcdFx0XHRcdHZtLnNlbGVjdEZpZWxkKGZpZWxkKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBzY3JvbGwgdG8gZWxlbWVudFxyXG5cdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuY2hvcicgKyB0U3lzTmFtZSk7XHJcblx0XHRcdFx0XHRpZiAodGFibGVFbClcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcjaXpJbnN0RGF0YVNvdXJjZXNUcmVlJykuZ2V0KDApLnNjcm9sbFRvcCA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUVsKS5wb3NpdGlvbigpLnRvcDtcclxuXHRcdFx0XHR9LCAzMDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zZWxlY3RGaWVsZChudWxsKTtcclxuXHRcdFx0dm0udHVybk9mZlNlYXJjaCh0cnVlKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblxyXG5cdFx0XHR2YXIgdGFibGUgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0VGFibGVCeVN5c25hbWUoc2VhcmNoUmVzdWx0T2JqZWN0Wyd0U3lzTmFtZSddKTtcclxuXHRcdFx0aWYgKCF0YWJsZS5jb2xsYXBzZWQpIHtcclxuXHRcdFx0XHRnb3RvU2VhcmNoVGFyZ2V0KHNlYXJjaFJlc3VsdE9iamVjdCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dm0udG9nZ2xlVGFibGVDb2xsYXBzZSh0YWJsZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRnb3RvU2VhcmNoVGFyZ2V0KHNlYXJjaFJlc3VsdE9iamVjdCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgd2F0Y2hlcnNcclxuXHRcdCovXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goYW5ndWxhci5iaW5kKHZtLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2VhcmNoU3RyaW5nO1xyXG5cdFx0XHR9KSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZtLnNlYXJjaEluRGF0YURvdXJjZXMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTG9vayBmb3Igb3B0aW9ucyBjaGFuZ2VcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRPcHRpb25zKCknLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0XHRcdHZtLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBMaXN0ZW4gZm9yIGNvbXBsZXRlIGxvYWRpbmcgcGFnZS5cclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRQYWdlUmVhZHkoKScsIGZ1bmN0aW9uIChpc1BhZ2VSZWFkeSkge1xyXG5cdFx0XHRcdGlmIChpc1BhZ2VSZWFkeSkge1xyXG5cdFx0XHRcdFx0dm0uaXNEYXRhU291cmNlc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIExvb2sgZm9yIGRhdGFzb3VyY2VzIGNoYW5nZVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldERhdGFTb3VyY2VzKCknLCBmdW5jdGlvbiAoZGF0YXNvdXJjZXMpIHtcclxuXHRcdFx0XHR2bS5kYXRhU291cmNlcyA9IGRhdGFzb3VyY2VzO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBMb29rIGZvciBjaGVja2VkIGZpZWxkcyBjb3VudFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRBbGxBY3RpdmVGaWVsZHMoKScsIGZ1bmN0aW9uIChuZXdBY3RpdmVGaWVsZHMpIHtcclxuXHRcdFx0XHR2bS5jb2x1bW5Tb3J0UGFuZWxCdXR0b25FbmFibGVkID0gbmV3QWN0aXZlRmllbGRzLmxlbmd0aCA+IDE7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZSB3aXRoIGNvbnRyb2xsZXJcclxuXHRcdHZtLmluaXRXYXRjaGVycygpO1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBmaWVsZCBvcHRpb25zIGNvbnRyb2xsZXJcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydEZpZWxkT3B0aW9uc0NvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRzY2UnLFxyXG5cdCckbG9nJyxcclxuXHQnJGl6ZW5kYUxvY2FsZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5JyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbicsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHksXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5LFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dmFyIHByaW1hcnlCdXR0b25DbGFzcyA9IFwiaXplbmRhLWNvbW1vbi1idG4tZGFya1wiLFxyXG5cdFx0XHRhY3RpdmVCdXR0b25DbGFzcyA9IFwiaXplbmRhLWNvbW1vbi1idG4tZGFyayBhY3RpdmVcIjtcclxuXHJcblx0XHQkc2NvcGUuJGl6ZW5kYUxvY2FsZSA9ICRpemVuZGFMb2NhbGU7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlO1xyXG5cdFx0dm0uZmllbGQgPSBudWxsO1xyXG5cdFx0dm0uY3VycmVudFNvcnRGdW5jdGlvbiA9ICdhc2MnO1xyXG5cdFx0dm0uaXNTdWJ0b3RhbHNFbmFibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0dm0uZHJpbGxEb3duU3R5bGVzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldERyaWxsRG93blN0eWxlcygpO1xyXG5cdFx0dm0uc3VicmVwb3J0cyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRTdWJyZXBvcnRzKCk7XHJcblx0XHR2bS5leHBhbmRlZCA9IGZhbHNlO1xyXG5cdFx0dm0uZGRrVmFsdWVzTWF4QW1vdW50ID0gLTE7XHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjbGFzcyBcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0UGFuZWxDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCRpemVuZGFDb21wYXRpYmlsaXR5LmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0cmV0dXJuICdleHBhbmRlZCc7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdCh2bS5maWVsZCkgfHwgISRzY29wZS5pckNvbnRyb2xsZXIuaXNMZWZ0UGFuZWxCb2R5QWN0aXZlKDApKVxyXG5cdFx0XHRcdHJldHVybiAnY29sbGFwc2VkJztcclxuXHRcdFx0aWYgKHZtLmV4cGFuZGVkKVxyXG5cdFx0XHRcdHJldHVybiAnZXhwYW5kZWQnO1xyXG5cdFx0XHRyZXR1cm4gJyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNsYXNzZXMgZm9yIHZhbGlkYXRlIG1lc3NhZ2VzIGljb25cclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0VmFsaWRhdGVNZXNzYWdlSWNvbkNsYXNzID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuXHRcdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmlyZXMgd2hlbiBkZXNjcmlwdGlvbiB3YXMgc2V0IG1hbnVhbGx5LlxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkRlc2NyaXB0aW9uV2FzU2V0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlEZXNjcmlwdGlvbih2bS5maWVsZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmlyZXMgd2hlbiBncm91cCB3YXMgc2VsZWN0ZWRcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25GdW5jdGlvblNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID09PSBudWxsKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLm9uRmllbGRGdW5jdGlvbkFwcGx5ZWQodm0uZmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpcmVzIHdoZW4gdHlwZWdyb3VwIHdhcyBzZWxlY3RlZFxyXG5cdFx0ICovXHJcblx0XHR2bS5vblR5cGVHcm91cFNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2Uub25FeHByZXNzaW9uVHlwZUdyb3VwQXBwbHllZCh2bS5maWVsZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmlyZXMgd2hlbiBleHByZXNzaW9uIGNoYW5nZWQuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uRXhwcmVzc2lvbkNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5vbkV4cHJlc3Npb25BcHBseWVkKHZtLmZpZWxkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgcHJldmlld1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb2dnbGUgbGFiZWwganVzdGlmaWNhdGlvblxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVMYWJlbEp1c3RpZmljYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBpdGVtc0FycmF5ID0gWydMJywgJ00nLCAnUicsICdKJywgJyAnXTtcclxuXHRcdFx0dmFyIGlkeCA9IGl0ZW1zQXJyYXkuaW5kZXhPZih2bS5maWVsZC5sYWJlbEp1c3RpZmljYXRpb24pO1xyXG5cdFx0XHRpZiAoaWR4IDwgaXRlbXNBcnJheS5sZW5ndGggLSAxKVxyXG5cdFx0XHRcdGlkeCsrO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWR4ID0gMDtcclxuXHRcdFx0dm0uZmllbGQubGFiZWxKdXN0aWZpY2F0aW9uID0gaXRlbXNBcnJheVtpZHhdO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRvZ2dsZSB2YWx1ZSBqdXN0aWZpY2F0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZVZhbHVlSnVzdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIGl0ZW1zQXJyYXkgPSBbJ0wnLCAnTScsICdSJywgJ0onLCAnICddO1xyXG5cdFx0XHR2YXIgaWR4ID0gaXRlbXNBcnJheS5pbmRleE9mKHZtLmZpZWxkLnZhbHVlSnVzdGlmaWNhdGlvbik7XHJcblx0XHRcdGlmIChpZHggPCBpdGVtc0FycmF5Lmxlbmd0aCAtIDEpXHJcblx0XHRcdFx0aWR4Kys7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRpZHggPSAwO1xyXG5cdFx0XHR2bS5maWVsZC52YWx1ZUp1c3RpZmljYXRpb24gPSBpdGVtc0FycmF5W2lkeF07XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHNvcnQgYnV0dG9uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFNvcnRCdXR0b25DbGFzcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkKVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIHZtLmZpZWxkLnNvcnQgIT09IG51bGwgPyAnYWN0aXZlJyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBzb3J0IGJ1dHRvbiBpY29uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFNvcnRCdXR0b25HbHlwaENsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY3VycmVudFNvcnRGdW5jdGlvbiA9PT0gJ2Rlc2MnID8gJ2dseXBoaWNvbi1zb3J0LWJ5LWFscGhhYmV0LWFsdCcgOiAnZ2x5cGhpY29uLXNvcnQtYnktYWxwaGFiZXQnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmllbGQgc29ydC4gUGFyYW1ldGVyIHNob3VsZCBiZSAnYXNjJywgJ2Rlc2MnIG9yIG51bGxcclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlGaWVsZFNvcnQgPSBmdW5jdGlvbiAoc29ydEZ1bmN0aW9uKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0RlZmluZWQoc29ydEZ1bmN0aW9uKSkge1xyXG5cdFx0XHRcdGlmICh2bS5maWVsZC5zb3J0ID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQvLyBlbmFibGUgc2VsZWN0ZWQgc29ydFxyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5RmllbGRTb3J0KHZtLmZpZWxkLCB2bS5jdXJyZW50U29ydEZ1bmN0aW9uKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gZGlzYWJsZSBzZWxlY3RlZCBzb3J0XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZFNvcnQodm0uZmllbGQsIG51bGwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBzZXQgYW5kIGVuYWJsZSBzZWxlY3RlZCBzb3J0XHJcblx0XHRcdFx0dm0uY3VycmVudFNvcnRGdW5jdGlvbiA9IHNvcnRGdW5jdGlvbjtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZFNvcnQodm0uZmllbGQsIHZtLmN1cnJlbnRTb3J0RnVuY3Rpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGl0YWxpYyBidXR0b24gY2xhc3NcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0SXRhbGljQnV0dG9uQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQpXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRyZXR1cm4gdm0uZmllbGQuaXRhbGljID8gJ2FjdGl2ZScgOiAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBseSBmaWVsZCBpdGFsaWMuXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5RmllbGRJdGFsaWMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5hcHBseUZpZWxkSXRhbGljKHZtLmZpZWxkLCAhdm0uZmllbGQuaXRhbGljKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgdmlzaWJsZSBidXR0b24gY2xhc3NcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0VmlzaWJsZUJ1dHRvbkNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkKVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0dmFyIGNsYXNzZXMgPSBbXTtcclxuXHRcdFx0aWYgKHZtLmZpZWxkLmlzVmdVc2VkKVxyXG5cdFx0XHRcdGNsYXNzZXMucHVzaCgnZGlzYWJsZWQnKTtcclxuXHRcdFx0aWYgKCF2bS5maWVsZC52aXNpYmxlKVxyXG5cdFx0XHRcdGNsYXNzZXMucHVzaCgnYWN0aXZlJyk7XHJcblx0XHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBseSBmaWVsZCBpdGFsaWMuXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5RmllbGRWaXNpYmxlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uZmllbGQuaXNWZ1VzZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZFZpc2libGUodm0uZmllbGQsICF2bS5maWVsZC52aXNpYmxlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBib2xkIGJ1dHRvbiBjbGFzc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRCb2xkQnV0dG9uQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQpXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRyZXR1cm4gdm0uZmllbGQuYm9sZCA/ICdhY3RpdmUnIDogJyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmllbGQgYm9sZC5cclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlGaWVsZEJvbGQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5hcHBseUZpZWxkQm9sZCh2bS5maWVsZCwgIXZtLmZpZWxkLmJvbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCB2aXN1YWwgZ3JvdXAgYnV0dG9uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFZnQnV0dG9uQ2xhc3MgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCF2bS5maWVsZClcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdHZhciBjbGFzc2VzID0gW107XHJcblx0XHRcdGlmICghdm0uZmllbGQudmlzaWJsZSlcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2goJ2Rpc2FibGVkJyk7XHJcblx0XHRcdGlmICh2bS5maWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2goJ2FjdGl2ZScpO1xyXG5cdFx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgdmlzdWFsIGdyb3VwIGNoYW5nZWRcclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlWZyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCF2bS5maWVsZC52aXNpYmxlKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5VmlzdWFsR3JvdXAodm0uZmllbGQsICF2bS5maWVsZC5pc1ZnVXNlZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSWYgdXNlciBzZWxlY3RzIG5vbi1kZWZhdWx0IHN1YnRvdGFsIGZ1bmN0aW9uLCB3ZSBuZWVkIHRvIHR1cm4gb24gc3VidG90YWxzLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vblN1YnRvdGFsRnVuY3Rpb25TZWxlY3QgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBzdWJ0b3RhbEZ1bmN0aW9uID0gdm0uZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb247XHJcblx0XHRcdGlmIChzdWJ0b3RhbEZ1bmN0aW9uICE9PSAnREVGQVVMVCcpXHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldE9wdGlvbnMoKS5pc1N1YnRvdGFsc0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrIGlzIHN1YnRvdGFsIGdyb3VwIGZ1bmN0aW9uID09PSBleHByZXNzaW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLmlzU3VidG90YWxFeHByZXNzaW9uRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdCh2bS5maWVsZCkpXHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdGlmICghdm0uaXNTdWJ0b3RhbHNFbmFibGVkKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3Qodm0uZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24pKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gdm0uZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24udmFsdWUgIT09ICdFWFBSRVNTSU9OJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFN1YnJlcG9ydCBzZWxlY3RlZCBoYW5kbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uc3VicmVwb3J0U2VsZWN0ZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5maWVsZC5kcmlsbERvd25TdHlsZSA9ICh2bS5maWVsZC5zdWJyZXBvcnQpID8gJ0RldGFpbExpbmtOZXdXaW5kb3cnIDogJyc7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5kaXNhYmxlRW1iZWRkZWREcmlsbERvd25TdHlsZSh2bS5maWVsZCk7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsb3NlIHBhbmVsXHJcblx0XHQgKi9cclxuXHRcdHZtLmNsb3NlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zZXRDdXJyZW50QWN0aXZlRmllbGQobnVsbCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIHdhdGNoZXJzXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdFdhdGNoZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0Q3VycmVudEFjdGl2ZUZpZWxkKCknLCBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHR2bS5maWVsZCA9IGZpZWxkO1xyXG5cdFx0XHRcdHZtLmV4cGFuZGVkID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3Qodm0uZmllbGQpKSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZGlzYWJsZUVtYmVkZGVkRHJpbGxEb3duU3R5bGUodm0uZmllbGQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RHJpbGxEb3duU3R5bGVzKCknLCBmdW5jdGlvbiAoZGRTdHlsZXMpIHtcclxuXHRcdFx0XHR2bS5kcmlsbERvd25TdHlsZXMgPSBkZFN0eWxlcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RXhwcmVzc2lvblR5cGVzKCknLCBmdW5jdGlvbiAodHlwZXMpIHtcclxuXHRcdFx0XHR2bS5leHByZXNzaW9uVHlwZXMgPSB0eXBlcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0U3VicmVwb3J0cygpJywgZnVuY3Rpb24gKHN1YnJlcG9ydHMpIHtcclxuXHRcdFx0XHR2bS5zdWJyZXBvcnRzID0gc3VicmVwb3J0cztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0T3B0aW9ucygpLmlzU3VidG90YWxzRW5hYmxlZCcsIGZ1bmN0aW9uIChpc1N1YnRvdGFsc0VuYWJsZWQpIHtcclxuXHRcdFx0XHR2bS5pc1N1YnRvdGFsc0VuYWJsZWQgPSBpc1N1YnRvdGFsc0VuYWJsZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZSB3aXRoIGNvbnRyb2xsZXJcclxuXHRcdHZtLmluaXRXYXRjaGVycygpO1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBmaWx0ZXJzIGNvbnRyb2xsZXJcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydEZpbHRlcnNDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJHEnLFxyXG5cdCckc2NlJyxcclxuXHQnJGxvZycsXHJcblx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdCckaXplbmRhU2V0dGluZ3MnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eScsXHJcblx0JyRpemVuZGFVdGlsVWlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbicsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlLFxyXG5cdFx0JGl6ZW5kYVNldHRpbmdzLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHksXHJcblx0XHQkaXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnksXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24pIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdCRzY29wZS4kaXplbmRhTG9jYWxlID0gJGl6ZW5kYUxvY2FsZTtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVNldHRpbmdzID0gJGl6ZW5kYVNldHRpbmdzO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5ID0gJGl6ZW5kYUNvbXBhdGliaWxpdHk7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRcdHZtLnBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5maWx0ZXJzID0gW107XHJcblx0XHR2bS5maWx0ZXJPcHRpb25zID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlck9wdGlvbnMoKTtcclxuXHRcdHZtLm9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0T3B0aW9ucygpO1xyXG5cdFx0dm0uYWN0aXZlRmllbGRzID0gW107XHJcblx0XHR2bS5jdXJyZW50VmFsdWUgPSAnJztcclxuXHRcdHZtLmRhdGVGb3JtYXQgPSAkaXplbmRhU2V0dGluZ3MuZ2V0RGF0ZUZvcm1hdCgpO1xyXG5cdFx0dm0uY3VsdHVyZSA9ICRpemVuZGFTZXR0aW5ncy5nZXRDdWx0dXJlKCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgbmV3IGZpbHRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRGaWx0ZXIgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5jcmVhdGVOZXdGaWx0ZXIoZmllbGRTeXNOYW1lKS50aGVuKGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVyLmZpZWxkICE9PSBudWxsICYmICFmaWx0ZXIuZmllbGQuYWxsb3dlZEluRmlsdGVycykge1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yVGl0bGUgPSAkaXplbmRhTG9jYWxlLmxvY2FsZVRleHQoJ2pzX0Vycm9yJywgJ0Vycm9yJyk7XHJcblx0XHRcdFx0XHR2YXIgZXJyb3JUZXh0ID0gJGl6ZW5kYUxvY2FsZS5sb2NhbGVUZXh0KCdqc19GaWVsZEZvcmJpZGRlbkZvckZpbHRlcmluZycsICdUaGlzIGZpZWxkIGlzIGZvcmJpZGRlbiB0byB1c2UgZm9yIGZpbHRlcmluZy4nKTtcclxuXHRcdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dOb3RpZmljYXRpb24oZXJyb3JUZXh0LCBlcnJvclRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlcnMoKS5wdXNoKGZpbHRlcik7XHJcblx0XHRcdFx0ZmlsdGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24udmFsaWRhdGVSZXBvcnRTZXQoKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2Uuc2V0RmlsdGVyT3BlcmF0b3IoZmlsdGVyLCBudWxsKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTd2FwIGZpbHRlciBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlb3JkZXJGaWx0ZXJzID0gZnVuY3Rpb24gKGluZGV4MSwgaW5kZXgyKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5zd2FwRmlsdGVycyhpbmRleDEsIGluZGV4Mik7XHJcblx0XHRcdHZhciBhbGxmaWx0ZXJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlcnMoKTtcclxuXHRcdFx0dmFyIGluZGV4ID0gTWF0aC5taW4oaW5kZXgxLCBpbmRleDIpO1xyXG5cdFx0XHR2YXIgZmlsdGVyID0gYWxsZmlsdGVyc1tpbmRleF07XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmUgdG8gZmlsdGVyIGhhbmRsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ubW92ZUZpbHRlclRvID0gZnVuY3Rpb24gKGluZGV4MSwgaW5kZXgyKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5tb3ZlRmlsdGVyVG8oaW5kZXgxLCBpbmRleDIpO1xyXG5cdFx0XHR2YXIgYWxsZmlsdGVycyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWx0ZXJzKCk7XHJcblx0XHRcdHZhciBpbmRleCA9IE1hdGgubWluKGluZGV4MSwgaW5kZXgyKTtcclxuXHRcdFx0aW5kZXggPSBpbmRleCA+IDAgPyBpbmRleCAtIDEgOiAwO1xyXG5cdFx0XHR2YXIgZmlsdGVyID0gYWxsZmlsdGVyc1tpbmRleF07XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlIGZpbHRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5yZW1vdmVGaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdHZhciBhbGxmaWx0ZXJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlcnMoKTtcclxuXHRcdFx0dmFyIGNvdW50ID0gYWxsZmlsdGVycy5sZW5ndGg7XHJcblx0XHRcdHZhciBpbmRleCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWx0ZXJzKCkuaW5kZXhPZihmaWx0ZXIpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UucmVtb3ZlRmlsdGVyKGZpbHRlcik7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0XHRpZiAoY291bnQgPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gcmVmcmVzaCBuZXh0IGZpbHRlcnMgYWZ0ZXIgYXBwbHkgY2FzY2FkaW5nXHJcblx0XHRcdHZhciBuZXh0RmlsdGVyO1xyXG5cdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRuZXh0RmlsdGVyID0gYWxsZmlsdGVyc1swXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuZXh0RmlsdGVyID0gYWxsZmlsdGVyc1tpbmRleCAtIDFdO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKG5leHRGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcobmV4dEZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlciB3aGVuIGZpZWxkIHNlbGVjdGVkXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uRmlsdGVyRmllbGRDaGFuZ2UgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdGlmICghZmlsdGVyLmluaXRpYWxpemVkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFtdO1xyXG5cdFx0XHRmaWx0ZXIuY3VycmVudFZhbHVlID0gJyc7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UubG9hZEZpbHRlckZvcm1hdHMoZmlsdGVyKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldEZpbHRlck9wZXJhdG9yKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFBvcHVwRmlsdGVyQ3VzdG9tVGVtcGxhdGUoZmlsdGVyKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIsIHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmVwYXJlIGZpbHRlciB2YWx1ZXMgYW5kIGV4aXN0aW5nIHZhbHVlc1xyXG5cdFx0ICovXHJcblx0XHR2bS5vbkZpbHRlck9wZXJhdG9yQ2hhbmdlID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRmaWx0ZXIudmFsdWVzID0gW107XHJcblx0XHRcdHZhciBhc3luY1Byb21pc2UgPSAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdHZhciBvcGVyYXRvclR5cGUgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICdvbmVWYWx1ZScgfHwgb3BlcmF0b3JUeXBlID09PSAnb25lRGF0ZScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbJyddO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAndHdvVmFsdWVzJyB8fCBvcGVyYXRvclR5cGUgPT09ICd0d29EYXRlcycpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbJycsICcnXTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG9wZXJhdG9yVHlwZSA9PT0gJ0VxdWFsc19UZXh0QXJlYScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5jdXJyZW50VmFsdWUgPSAnJztcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG9wZXJhdG9yVHlwZSA9PT0gJ0VxdWFsc19BdXRvY29tcGxldGUnIHx8IG9wZXJhdG9yVHlwZSA9PT0gJ3NlbGVjdF9tdWx0aXBsZScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbJyddO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAnc2VsZWN0X3BvcHVwJykge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldFBvcHVwRmlsdGVyQ3VzdG9tVGVtcGxhdGUoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRhc3luY1Byb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCB0cnVlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm4gYXJyYXkgb2YgdGl0bGVzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEV4aXN0ZW50VmFsdWVzU2ltcGxlTGlzdCA9IGZ1bmN0aW9uIChleGlzdGVudFZhbHVlcykge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gYW5ndWxhci5lbGVtZW50Lm1hcChleGlzdGVudFZhbHVlcywgZnVuY3Rpb24gKHZhbCkge1xyXG5cdFx0XHRcdHJldHVybiB2YWwudGV4dDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgYXV0b2NvbXBsZXRlIGl0ZW1zIHdoaWxlIHVzZXIgZW50ZXJpbmcgc29tZSB0ZXh0XHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZmlsdGVyIFxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGF1dG9jb21wbGV0ZVRleHRcclxuXHRcdCAqIEByZXR1cm4ge2FuZ3VsYXIgcHJvbWlzZX0uIFByb21pc2Ugb24gY29tcGxldGVcclxuXHRcdCAqL1xyXG5cdFx0dm0udXBkYXRlQXV0b0NvbXBsZXRlSXRlbXMgPSBmdW5jdGlvbiAoZmlsdGVyLCBhdXRvY29tcGxldGVUZXh0KSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGZpbHRlci5wb3NzaWJsZVZhbHVlID0gYXV0b2NvbXBsZXRlVGV4dDtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIsIHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnBvc3NpYmxlVmFsdWUgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmVwYXJlIHZhbHVlIGZvciBmaWx0ZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25DdXJyZW50VmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdGlmICghZmlsdGVyLmlzRmlsdGVyUmVhZHkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQvLyBwcmVwYXJlIGRhdGE6XHJcblx0XHRcdGlmIChmaWx0ZXIub3BlcmF0b3IudmFsdWUgPT09ICdFcXVhbHNfVGV4dEFyZWEnKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlcyA9IGZpbHRlci5jdXJyZW50VmFsdWUubWF0Y2goL14uKigoXFxyXFxufFxcbnxcXHIpfCQpL2dtKTtcclxuXHRcdFx0XHRmaWx0ZXIudmFsdWVzID0gW107XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2godmFsdWVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy50cmltKCkgIT09ICcnICYmIGZpbHRlci52YWx1ZXMuaW5kZXhPZih0aGlzLnRyaW0oKSkgPCAwKVxyXG5cdFx0XHRcdFx0XHRmaWx0ZXIudmFsdWVzLnB1c2godGhpcy50cmltKCkpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHJlZnJlc2ggY2FzY2FkaW5nOlxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPbiBmaWx0ZXIgbG9naWMgY2hhbmdlLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkZpbHRlckxvZ2ljQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uZmlsdGVycy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAodm0uZmlsdGVyT3B0aW9ucy5maWx0ZXJMb2dpYykge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5yZWZyZXNoRmlsdGVyc0ZvckZpbHRlckxvZ2ljKCkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5vbkN1cnJlbnRWYWx1ZUNoYW5nZSh2bS5maWx0ZXJzWzBdKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZSB2YWx1ZSBoYW5kbGVyIGZvciBjdXN0b20gcG9wdXAgZmlsdGVyLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vblBvcHVwVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZmlsdGVyLCBuZXdWYWx1ZSkge1xyXG5cdFx0XHRmaWx0ZXIudmFsdWVzID0gbmV3VmFsdWUuc3BsaXQoJywnKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgYnRuIHRleHQgZm9yIHBvcHVwXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFBvcHVwQnRuVGV4dCA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoZmlsdGVyLnZhbHVlcykgfHwgZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuICcuLi4nO1xyXG5cdFx0XHR2YXIgbGFiZWxzID0gW107XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGZpbHRlci52YWx1ZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgZmlsdGVyVmFsdWUgPSB0aGlzO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKGZpbHRlci5leGlzdGVudFZhbHVlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIGV4aXN0ZW50VmFsdWUgPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKGV4aXN0ZW50VmFsdWUudmFsdWUgPT09IGZpbHRlclZhbHVlKVxyXG5cdFx0XHRcdFx0XHRsYWJlbHMucHVzaChleGlzdGVudFZhbHVlLnRleHQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IGxhYmVscy5qb2luKCcsICcpO1xyXG5cdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCA+IDMwKSB7XHJcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0LnN1YnN0cmluZygwLCAzMCk7XHJcblx0XHRcdFx0cmVzdWx0ICs9ICcuLi4nO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG9nZ2xlIGZpbHRlciB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVWYWx1ZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHZhbHVlKSB7XHJcblx0XHRcdHZhciB2YWx1ZXMgPSBmaWx0ZXIudmFsdWVzO1xyXG5cdFx0XHR2YXIgaW5kZXggPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSk7XHJcblx0XHRcdGlmIChpbmRleCA+PSAwKVxyXG5cdFx0XHRcdHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElzIHZhbHVlIGluIHZhbHVlcyBjb2xsZWN0aW9uIGluIGZpbHRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5pc1ZhbHVlQ2hlY2tlZCA9IGZ1bmN0aW9uIChmaWx0ZXIsIHZhbHVlKSB7XHJcblx0XHRcdHZhciB2YWx1ZXMgPSBmaWx0ZXIudmFsdWVzO1xyXG5cdFx0XHRyZXR1cm4gdmFsdWVzLmluZGV4T2YodmFsdWUpID49IDA7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGZpbHRlciB2YWx1ZSB0eXBlXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEZpbHRlck9wZXJhdG9yVHlwZSA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKGZpbHRlci5vcGVyYXRvcik7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmlsdGVyc1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbG9zZSBmaWx0ZXJzIHBhbmVsXHJcblx0XHQgKi9cclxuXHRcdHZtLmNsb3NlRmlsdGVyc1BhbmVsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKGZhbHNlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIHdhdGNoZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0uaW5pdFdhdGNoZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhU2V0dGluZ3MuZ2V0RGF0ZUZvcm1hdCgpJywgZnVuY3Rpb24gKGRhdGVGb3JtYXQpIHtcclxuXHRcdFx0XHR2bS5kYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdDtcclxuXHRcdFx0fSwgdHJ1ZSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhU2V0dGluZ3MuZ2V0Q3VsdHVyZSgpJywgZnVuY3Rpb24gKGN1bHR1cmUpIHtcclxuXHRcdFx0XHR2bS5jdWx0dXJlID0gY3VsdHVyZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlcnMoKScsIGZ1bmN0aW9uIChuZXdGaWx0ZXJzLCBvbGRGaWx0ZXJzKSB7XHJcblx0XHRcdFx0dm0uZmlsdGVycyA9IG5ld0ZpbHRlcnM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlck9wdGlvbnMoKScsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG5cdFx0XHRcdHZtLmZpbHRlck9wdGlvbnMgPSBuZXdWYWx1ZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0T3B0aW9ucygpJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdFx0XHR2bS5vcHRpb25zID0gb3B0aW9ucztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKHRydWUpJywgZnVuY3Rpb24gKG5ld0FjdGl2ZUZpZWxkcykge1xyXG5cdFx0XHRcdC8vIHN5bmMgY29sbGVjdGlvbiBlbGVtZW50czpcclxuXHRcdFx0XHQvLyBhZGQ6XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gobmV3QWN0aXZlRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgbmV3QWN0aXZlRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKCFuZXdBY3RpdmVGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR2YXIgZm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcyA9PT0gbmV3QWN0aXZlRmllbGQpXHJcblx0XHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRpZiAoIWZvdW5kKVxyXG5cdFx0XHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMucHVzaChuZXdBY3RpdmVGaWVsZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gcmVtb3ZlOlxyXG5cdFx0XHRcdHZhciBpID0gMDtcclxuXHRcdFx0XHR3aGlsZSAoaSA8IHZtLmFjdGl2ZUZpZWxkcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHZhciBmaWVsZCA9IHZtLmFjdGl2ZUZpZWxkc1tpXTtcclxuXHRcdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBuZXdBY3RpdmVGaWVsZHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKG5ld0FjdGl2ZUZpZWxkc1tqXSA9PT0gZmllbGQpXHJcblx0XHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFmb3VuZClcclxuXHRcdFx0XHRcdFx0dm0uYWN0aXZlRmllbGRzLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aSsrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmlsdGVyc1BhbmVsT3BlbmVkKCknLCBmdW5jdGlvbiAob3BlbmVkKSB7XHJcblx0XHRcdFx0dm0ucGFuZWxPcGVuZWQgPSBvcGVuZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5maWx0ZXJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpbHRlcnMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uaW5pdFdhdGNoZXJzKCk7XHJcblx0fVxyXG5dKTtcclxuXHJcbi8qKlxyXG4gKiBGaW5kIGFsbCBvcGVuZWQgZmlsdGVyIHBvcHVwIG1vZGFscyBhbmQgY2xvc2UgaXQuXHJcbiAqL1xyXG53aW5kb3cuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciBwb3B1cE1vZGFscyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdmaWx0ZXJzUG9wdXBNb2RhbERpYWxvZycpO1xyXG5cdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHBvcHVwTW9kYWxzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgJG1vZGFsID0gYW5ndWxhci5lbGVtZW50KHRoaXMpO1xyXG5cdFx0aWYgKCRtb2RhbC5oYXNDbGFzcygnbW9kYWwnKSAmJiAkbW9kYWwuaGFzQ2xhc3MoJ2luJykpIHtcclxuXHRcdFx0JG1vZGFsWydtb2RhbCddKCdoaWRlJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDdXN0b20gcG9wdXAgZmlsdGVyIG1vZGFsIHN1Ym1pdCBjYWxsYmFjay5cclxuICovXHJcbndpbmRvdy5DQ19DdXN0b21GaWx0ZXJQYWdlVmFsdWVSZWNlaXZlZCA9IGZ1bmN0aW9uICgpIHsgfVxyXG5cclxuLyoqXHJcbiAqIE92ZXJyaWRlIGhpZGUgbW9kYWwgZnVuY3Rpb24uXHJcbiAqL1xyXG53aW5kb3cuaG0gPSBmdW5jdGlvbiAoKSB7XHJcblx0d2luZG93LmhpZGVNb2RhbCgpO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYU9uUG9wdXBWYWx1ZUNoYW5nZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRoYW5kbGVyOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaXJlY3RpdmUsIHdoaWNoIHVzZWQgZm9yIGxpc3RlbmluZyBjdXN0b20gcG9wdXAgZmlsdGVycyB2YWx1ZSBjaGFuZ2UuXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhT25Qb3B1cFZhbHVlQ2hhbmdlJywgW1xyXG5cdCckaW50ZXJ2YWwnLFxyXG5cdGZ1bmN0aW9uICgkaW50ZXJ2YWwpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0aGFuZGxlcjogJyZpemVuZGFPblBvcHVwVmFsdWVDaGFuZ2UnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uICgkc2NvcGU6IElJemVuZGFPblBvcHVwVmFsdWVDaGFuZ2VTY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdFx0dmFyIHByZXZpb3VzVmFsdWUgPSAkZWxlbWVudC52YWwoKTtcclxuXHRcdFx0XHR2YXIgaW50ZXJ2YWxJZCA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgbmV3VmFsdWUgPSAkZWxlbWVudC52YWwoKTtcclxuXHRcdFx0XHRcdGlmIChuZXdWYWx1ZSAhPT0gcHJldmlvdXNWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuaGFuZGxlcih7XHJcblx0XHRcdFx0XHRcdFx0bmV3VmFsdWU6IG5ld1ZhbHVlXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRwcmV2aW91c1ZhbHVlID0gbmV3VmFsdWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMjApO1xyXG5cclxuXHRcdFx0XHQvLyB3ZSBzaG91bGQgdHVybiBvZmYgaW50ZXJ2YWwgb24gZGVzdHJveSBpbnB1dCB0YWcuXHJcblx0XHRcdFx0JHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiBoYW5kbGVEZXN0cm95RXZlbnQoKSB7XHJcblx0XHRcdFx0XHRpZiAoaW50ZXJ2YWxJZCkge1xyXG5cdFx0XHRcdFx0XHQkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsSWQpO1xyXG5cdFx0XHRcdFx0XHRpbnRlcnZhbElkID0gbnVsbDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBmb3JtYXR0aW5nIGNvbnRyb2xsZXIgZGVmaW5pdGlvblxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0Rm9ybWF0Q29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyR3aW5kb3cnLFxyXG5cdCckdGltZW91dCcsXHJcblx0JyRxJyxcclxuXHQnJGxvZycsXHJcblx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3MnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkd2luZG93LFxyXG5cdFx0JHRpbWVvdXQsXHJcblx0XHQkcSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHksXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUNvbXBhdGliaWxpdHkgPSAkaXplbmRhQ29tcGF0aWJpbGl0eTtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5vcHRHcm91cHMgPSB7XHJcblx0XHRcdCdoZWFkZXJBbmRGb290ZXInOiB7XHJcblx0XHRcdFx0b3BlbmVkOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQnY29sb3InOiB7XHJcblx0XHRcdFx0b3BlbmVkOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQncGFnZSc6IHtcclxuXHRcdFx0XHRvcGVuZWQ6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdCdkcmlsbGRvd25zJzoge1xyXG5cdFx0XHRcdG9wZW5lZDogZmFsc2VcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlO1xyXG5cdFx0dm0ub3B0aW9ucyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRPcHRpb25zKCk7XHJcblx0XHR2bS52Z1N0eWxlcyA9IFtdO1xyXG5cdFx0dm0uYWxsQWN0aXZlRmllbGRzID0gW107XHJcblx0XHR2bS5kcmlsbERvd25GaWVsZHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RHJpbGxEb3duRmllbGRzKCk7XHJcblx0XHR2bS5zZWxlY3RlZERyaWxsZG93bkZpZWxkID0gbnVsbDtcclxuXHJcblx0XHR2bS5zZXR0aW5ncyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3M7XHJcblx0XHR2bS5kZGtWYWx1ZXNNYXhBbW91bnQgPSB2bS5zZXR0aW5ncy5kZGtWYWx1ZXNNYXhBbW91bnQ7XHJcblx0XHR2bS5hbGxvd1ZpcnR1YWxEYXRhU291cmNlcyA9IHZtLnNldHRpbmdzLmFsbG93VmlydHVhbERhdGFTb3VyY2VzO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzdG9yZSBkZWZhdWx0IGNvbG9yIHNldHRpbmdzLlxyXG5cdFx0ICovXHJcblx0XHR2bS5yZXN0b3JlRGVmYXVsdENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlc3RvcmVEZWZhdWx0Q29sb3JzKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlIGZpZWxkcyB3aGljaCBhcmUgYWxyZWFkeSBpbiBkcmlsbGRvd24gY29sbGVjdGlvblxyXG5cdFx0ICovXHJcblx0XHR2bS5yZW1vdmVEcmlsbGRvd25GaWVsZHNGcm9tQXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5hbGxBY3RpdmVGaWVsZHMgPSBhbmd1bGFyLmVsZW1lbnQuZ3JlcCh2bS5hbGxBY3RpdmVGaWVsZHMsIGZ1bmN0aW9uIChmOiBhbnkpIHtcclxuXHRcdFx0XHR2YXIgZm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2bS5kcmlsbERvd25GaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBkZEZpZWxkID0gdGhpcztcclxuXHRcdFx0XHRcdGlmIChkZEZpZWxkLmlkID09PSBmLmlkKVxyXG5cdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmV0dXJuICFmb3VuZDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogdXBkYXRlIGF2YWlsYWJsZSBjb2xsZWN0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnN5bmNBdmFpbGFibGVDb2xsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgYWN0aXZlVGFibGVzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0XHR2bS5hbGxBY3RpdmVGaWVsZHMgPSBbXTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goYWN0aXZlVGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIHRhYmxlID0gdGhpcztcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0YWJsZS5maWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZtLmFsbEFjdGl2ZUZpZWxkcy5wdXNoKHRoaXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dm0ucmVtb3ZlRHJpbGxkb3duRmllbGRzRnJvbUF2YWlsYWJsZSgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBkcmlsbGRvd24ga2V5XHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZERyaWxsZG93biA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLnNlbGVjdGVkRHJpbGxkb3duRmllbGQgPT09IG51bGwpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAodm0uZHJpbGxEb3duRmllbGRzLmxlbmd0aCA+PSB2bS5kZGtWYWx1ZXNNYXhBbW91bnQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2bS5kcmlsbERvd25GaWVsZHMucHVzaCh2bS5zZWxlY3RlZERyaWxsZG93bkZpZWxkKTtcclxuXHRcdFx0dm0uc3luY0F2YWlsYWJsZUNvbGxlY3Rpb24oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgZHJpbGxkb3duIGZpZWxkXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZURyaWxsZG93bkZpZWxkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IHZtLmRyaWxsRG93bkZpZWxkcy5pbmRleE9mKGZpZWxkKTtcclxuXHRcdFx0dm0uZHJpbGxEb3duRmllbGRzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdHZtLnN5bmNBdmFpbGFibGVDb2xsZWN0aW9uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0Ki9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTG9vayBmb3Igb3B0aW9ucyBjaGFuZ2VcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRPcHRpb25zKCknLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0XHRcdHZtLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRWZ1N0eWxlcygpJywgZnVuY3Rpb24gKHN0eWxlcykge1xyXG5cdFx0XHRcdHZtLnZnU3R5bGVzID0gc3R5bGVzO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXREcmlsbERvd25GaWVsZHMoKScsIGZ1bmN0aW9uIChkZEZpZWxkcykge1xyXG5cdFx0XHRcdHZtLmRyaWxsRG93bkZpZWxkcyA9IGRkRmllbGRzO1xyXG5cdFx0XHRcdHZtLnN5bmNBdmFpbGFibGVDb2xsZWN0aW9uKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRBY3RpdmVUYWJsZXMoKScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2bS5zeW5jQXZhaWxhYmxlQ29sbGVjdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0UGl2b3RzQ29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyRpemVuZGFMb2NhbGUnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5LFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24pIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cztcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2U7XHJcblxyXG5cdFx0dm0ucGFuZWxPcGVuZWQgPSBmYWxzZTsgLy8gcGl2b3QgcGFuZWwgc3RhdGVcclxuXHRcdHZtLmFjdGl2ZUZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKTtcclxuXHRcdHZtLnBpdm90Q29sdW1uID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuZ2V0UGl2b3RDb2x1bW4oKTtcclxuXHRcdHZtLnBpdm90T3B0aW9ucyA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLmdldFBpdm90T3B0aW9ucygpO1xyXG5cdFx0dm0uY2VsbFZhbHVlcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLmdldENlbGxWYWx1ZXMoKTtcclxuXHRcdHZtLnNlbGVjdGVkRmllbGRzID0gW107XHJcblxyXG5cdFx0dmFyIHVwZGF0ZVNlbGVjdGVkRmllbGRzQXJyYXkgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzID0gW107XHJcblx0XHRcdHZtLmNlbGxWYWx1ZXMuZm9yRWFjaChjZWxsVmFsdWUgPT4ge1xyXG5cdFx0XHRcdGlmIChjZWxsVmFsdWUpXHJcblx0XHRcdFx0XHR2bS5zZWxlY3RlZEZpZWxkcy5wdXNoKCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRGaWVsZEJ5U3lzTmFtZShjZWxsVmFsdWUuc3lzbmFtZSkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHVwZGF0ZVNlbGVjdGVkRmllbGRzQXJyYXkoKTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0XHQvLyBwaXZvdCBjb2x1bW5cclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBhZGRpdGlvbmFsIGNsYXNzIGZvciBcImFkZCBjZWxsIHZhbHVlXCIgYnV0dG9uLlxyXG5cdFx0ICogQHJldHVybnMge3N0cmluZ30gY2xhc3MgbmFtZXMgJ2NsYXNzMSBjbGFzczIgLi4uJy5cclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0QWRkQ2VsbEJ0bkNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXZtLnBpdm90Q29sdW1uKVxyXG5cdFx0XHRcdHJldHVybiAnZGlzYWJsZWQnO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmNlbGxWYWx1ZXMsIGZ1bmN0aW9uIChpVmFsdWUsIHZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKCF2YWx1ZSlcclxuXHRcdFx0XHRcdHJlc3VsdCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0ID8gJ2Rpc2FibGVkJyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB2YWxpZGF0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnVwZGF0ZVZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbi52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB2YWxpZGF0aW9uIHN0YXRlIGFuZCByZWZyZXNoIGlmIG5lZWRlZC5cclxuXHRcdCAqL1xyXG5cdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnNldERlZmF1bHRHcm91cCgpO1xyXG5cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmNsZWFyUmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5QXV0b0dyb3Vwcyh0cnVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVzZXIgc2VsZWN0ZWQgcGl2b3QgY29sdW1uXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uUGl2b3RDb2x1bW5GaWVsZFNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLnBpdm90Q29sdW1uICE9PSBudWxsKSB7XHJcblx0XHRcdFx0dmFyIHNvdXJjZUZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEZpZWxkQnlTeXNOYW1lKHZtLnBpdm90Q29sdW1uLnN5c25hbWUpO1xyXG5cclxuXHRcdFx0XHR2YXIgZ3JvdXBOYW1lID0gbnVsbDtcclxuXHRcdFx0XHR2YXIgb2xkUGl2b3RDb2x1bW4gPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRQaXZvdENvbHVtbigpO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KG9sZFBpdm90Q29sdW1uKSAmJiBzb3VyY2VGaWVsZC5zeXNuYW1lID09PSBvbGRQaXZvdENvbHVtbi5zeXNuYW1lKSB7XHJcblx0XHRcdFx0XHRncm91cE5hbWUgPSBvbGRQaXZvdENvbHVtbi5ncm91cEJ5RnVuY3Rpb24udmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuY29weUZpZWxkT2JqZWN0KHNvdXJjZUZpZWxkLCB2bS5waXZvdENvbHVtbiwgdHJ1ZSk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlc2V0RmllbGRPYmplY3Qodm0ucGl2b3RDb2x1bW4pO1xyXG5cdFx0XHRcdHZtLnBpdm90Q29sdW1uLmlzUGl2b3RDb2x1bW4gPSB0cnVlO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnNldFBpdm90Q29sdW1uKHZtLnBpdm90Q29sdW1uKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuaW5pdGlhbGl6ZUZpZWxkKHZtLnBpdm90Q29sdW1uKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoZ3JvdXBOYW1lICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLnBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy52YWx1ZSA9PT0gZ3JvdXBOYW1lKVxyXG5cdFx0XHRcdFx0XHRcdFx0dm0ucGl2b3RDb2x1bW4uZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcztcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHZtLmNlbGxWYWx1ZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdHZtLmFkZENlbGxWYWx1ZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0XHQvLyBjZWxsIHZhbHVlc1xyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VsbCB2YWx1ZSBmaWVsZCBzZWxlY3QgaGFuZGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkNlbGxWYWx1ZUZpZWxkU2VsZWN0ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcblx0XHRcdHZhciBzZWxlY3RlZEZpZWxkID0gdm0uc2VsZWN0ZWRGaWVsZHNbaW5kZXhdO1xyXG5cdFx0XHR2YXIgY2VsbFZhbHVlID0gdm0uY2VsbFZhbHVlc1tpbmRleF07XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KGNlbGxWYWx1ZSkgJiYgc2VsZWN0ZWRGaWVsZC5zeXNuYW1lID09PSBjZWxsVmFsdWUuc3lzbmFtZSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmIChjZWxsVmFsdWUgPT09IG51bGwpIHtcclxuXHRcdFx0XHQvLyBpZiBmaWVsZCB3YXNuJ3Qgc2V0IHlldFxyXG5cdFx0XHRcdHZtLmNlbGxWYWx1ZXNbaW5kZXhdID0gY2VsbFZhbHVlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmNyZWF0ZUZpZWxkT2JqZWN0KHNlbGVjdGVkRmllbGQubmFtZSwgc2VsZWN0ZWRGaWVsZC5wYXJlbnRJZCwgc2VsZWN0ZWRGaWVsZC50YWJsZVN5c25hbWUsIHNlbGVjdGVkRmllbGQudGFibGVOYW1lLFxyXG5cdFx0XHRcdFx0c2VsZWN0ZWRGaWVsZC5zeXNuYW1lLCBzZWxlY3RlZEZpZWxkLnR5cGVHcm91cCwgc2VsZWN0ZWRGaWVsZC50eXBlLCBzZWxlY3RlZEZpZWxkLnNxbFR5cGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5jb3B5RmllbGRPYmplY3Qoc2VsZWN0ZWRGaWVsZCwgY2VsbFZhbHVlLCB0cnVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnJlc2V0RmllbGRPYmplY3QoY2VsbFZhbHVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmluaXRpYWxpemVGaWVsZChjZWxsVmFsdWUpLnRoZW4oZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChmLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdncm91cCcpXHJcblx0XHRcdFx0XHRcdGYuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcztcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlbGwgdmFsdWUgZnVuY3Rpb24gc2VsZWN0IGhhbmRsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25DZWxsVmFsdWVGdW5jdGlvblNlbGVjdCA9IGZ1bmN0aW9uIChjZWxsVmFsdWUpIHtcclxuXHRcdFx0aWYgKGNlbGxWYWx1ZS5ncm91cEJ5RnVuY3Rpb24gPT09IG51bGwpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2Uub25GaWVsZEZ1bmN0aW9uQXBwbHllZChjZWxsVmFsdWUpO1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlbGwgdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2hvd0FkdmFuY2VkT3B0aW9ucyA9IGZ1bmN0aW9uIChjZWxsVmFsdWUpIHtcclxuXHRcdFx0Y2VsbFZhbHVlLmlzUGl2b3RDZWxsVmFsdWUgPSB0cnVlO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuYXBwbHlGaWVsZFNlbGVjdGVkKGNlbGxWYWx1ZSwgdHJ1ZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlIGNlbGwgdmFsdWUgaXRlbVxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRDZWxsVmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLmFkZENlbGxWYWx1ZSgpO1xyXG5cdFx0XHR2bS5zZWxlY3RlZEZpZWxkcy5wdXNoKG51bGwpO1xyXG5cdFx0XHR2bS51cGRhdGVWYWxpZGF0aW9uKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmNsZWFyUGl2b3RzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5yZW1vdmVQaXZvdHMoKTtcclxuXHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgY2VsbCB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2bS5yZW1vdmVDZWxsVmFsdWUgPSBmdW5jdGlvbiAoY2VsbFZhbHVlKSB7XHJcblx0XHRcdHZhciBpZHggPSB2bS5jZWxsVmFsdWVzLmluZGV4T2YoY2VsbFZhbHVlKTtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnJlbW92ZUNlbGxWYWx1ZShjZWxsVmFsdWUpO1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZSBjZWxsIHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZtLm1vdmVDZWxsVmFsdWVUbyA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMubW92ZUNlbGxWYWx1ZVRvKGZyb21JbmRleCwgdG9JbmRleCk7XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzLnNwbGljZSh0b0luZGV4LCAwLCB2bS5zZWxlY3RlZEZpZWxkcy5zcGxpY2UoZnJvbUluZGV4LCAxKVswXSk7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVvcmRlciBjZWxsc1xyXG5cdFx0ICovXHJcblx0XHR2bS5yZW9yZGVyQ2VsbFZhbHVlID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5zd2FwQ2VsbFZhbHVlcyhmcm9tSW5kZXgsIHRvSW5kZXgpO1xyXG5cdFx0XHR2YXIgdGVtcCA9IHZtLnNlbGVjdGVkRmllbGRzW2Zyb21JbmRleF07XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzW2Zyb21JbmRleF0gPSB2bS5zZWxlY3RlZEZpZWxkc1t0b0luZGV4XTtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHNbdG9JbmRleF0gPSB0ZW1wO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBwaXZvdCBpdGVtXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZFBpdm90SXRlbSA9IGZ1bmN0aW9uIChmaWVsZFN5c05hbWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZpZWxkU3lzTmFtZSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmdldEFjdGl2ZVRhYmxlcygpLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdC8vIG9wZW4gcGFuZWxcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLnNldEZpbHRlcnNQYW5lbE9wZW5lZChmYWxzZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnNldFBpdm90c1BhbmVsT3BlbmVkKHRydWUpO1xyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIGFuZCBhZGQgcGl2b3QgaXRlbVxyXG5cdFx0XHR2YXIgZmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lKTtcclxuXHRcdFx0dmFyIG5ld0l0ZW0gPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2UuY3JlYXRlRmllbGRPYmplY3QoXHJcblx0XHRcdFx0ZmllbGQubmFtZSwgZmllbGQucGFyZW50SWQsIGZpZWxkLnRhYmxlU3lzbmFtZSwgZmllbGQudGFibGVOYW1lLFxyXG5cdFx0XHRcdGZpZWxkLnN5c25hbWUsIGZpZWxkLnR5cGVHcm91cCwgZmllbGQudHlwZSwgZmllbGQuc3FsVHlwZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5pbml0aWFsaXplRmllbGQobmV3SXRlbSkudGhlbihmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHMuYWRkUGl2b3RJdGVtKG5ld0l0ZW0pO1xyXG5cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlLmFwcGx5QXV0b0dyb3Vwcyh0cnVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0Ki9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHQvLyBwaXZvdCBwYW5lbCBzdGF0ZSBsaXN0ZW5lclxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRQaXZvdHNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLnBhbmVsT3BlbmVkID0gb3BlbmVkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1haW4gcGl2b3QgY29sdW1uXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLmdldFBpdm90Q29sdW1uKCknLCBmdW5jdGlvbiAocGl2b3RDb2x1bW4pIHtcclxuXHRcdFx0XHR2bS5waXZvdENvbHVtbiA9IHBpdm90Q29sdW1uO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHBpdm90IGNlbGwgdmFsdWVzXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRDZWxsVmFsdWVzKCknLCBmdW5jdGlvbiAoY2VsbFZhbHVlcykge1xyXG5cdFx0XHRcdHZtLmNlbGxWYWx1ZXMgPSBjZWxsVmFsdWVzO1xyXG5cdFx0XHRcdHVwZGF0ZVNlbGVjdGVkRmllbGRzQXJyYXkoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90cy5nZXRQaXZvdE9wdGlvbnMoKScsIGZ1bmN0aW9uIChwaXZvdE9wdGlvbnMpIHtcclxuXHRcdFx0XHR2bS5waXZvdE9wdGlvbnMgPSBwaXZvdE9wdGlvbnM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbGlzdGVuIGZvciBhY3RpdmUgZmllbGQgaXRlbXNcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZS5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKScsIGZ1bmN0aW9uIChuZXdBY3RpdmVGaWVsZHMpIHtcclxuXHRcdFx0XHQvLyBhZGQ6XHJcblx0XHRcdFx0dmFyIGNvdW50T2ZDaGFuZ2VzID0gMDtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChuZXdBY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBuZXdBY3RpdmVGaWVsZCA9IHRoaXM7XHJcblx0XHRcdFx0XHR2YXIgZm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zeXNuYW1lID09PSBuZXdBY3RpdmVGaWVsZC5zeXNuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0aWYgKCFmb3VuZCkge1xyXG5cdFx0XHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMucHVzaChuZXdBY3RpdmVGaWVsZCk7XHJcblx0XHRcdFx0XHRcdGNvdW50T2ZDaGFuZ2VzKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gcmVtb3ZlOlxyXG5cdFx0XHRcdHZhciBpID0gMDtcclxuXHRcdFx0XHR3aGlsZSAoaSA8IHZtLmFjdGl2ZUZpZWxkcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHZhciBmaWVsZCA9IHZtLmFjdGl2ZUZpZWxkc1tpXTtcclxuXHRcdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBuZXdBY3RpdmVGaWVsZHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKG5ld0FjdGl2ZUZpZWxkc1tqXS5zeXNuYW1lID09PSBmaWVsZC5zeXNuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0XHRcdFx0dm0uYWN0aXZlRmllbGRzLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdFx0Y291bnRPZkNoYW5nZXMrKztcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRpKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzLnN5bmNQaXZvdFN0YXRlKHZtLmFjdGl2ZUZpZWxkcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcbl0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgdmFsaWRhdGlvbiBjb250cm9sbGVyLlxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0VmFsaWRhdGlvbkNvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckaXplbmRhTG9jYWxlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvbikge1xyXG5cclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uO1xyXG5cclxuXHRcdHZtLmlzVmFsaWQgPSB0cnVlO1xyXG5cdFx0dm0ubWVzc2FnZXMgPSBbXTtcclxuXHRcdHZtLmluZm9NZXNzYWdlcyA9IFtdO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb24uZ2V0VmFsaWRhdGlvbk1lc3NhZ2VzKCknLCBmdW5jdGlvbiAobWVzc2FnZXMpIHtcclxuXHRcdFx0XHR2bS5pc1ZhbGlkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uLmlzUmVwb3J0VmFsaWQoKTtcclxuXHRcdFx0XHR2bS5tZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdHZtLmluZm9NZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKG1lc3NhZ2VzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgbWVzc2FnZSA9IHRoaXM7XHJcblx0XHRcdFx0XHRpZiAobWVzc2FnZS50eXBlID09PSAnaW5mbycpIHtcclxuXHRcdFx0XHRcdFx0dm0uaW5mb01lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR2bS5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIGFzIElSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5cclxuLyoqXHJcbiAqIFNlcnZlci1zaWRlIGZpbHRlcnMgb2JqZWN0IHJhdyBtb2RlbC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFGaWx0ZXJzTW9kZWwgaW1wbGVtZW50cyBJUmF3TW9kZWwge1xyXG5cclxuXHRmaWx0ZXJMb2dpYzogc3RyaW5nID0gJyc7XHJcblx0ZmlsdGVyczogYW55W10gPSBbXTtcclxuXHRzdWJyZXBvcnRzRmlsdGVyczogYW55ID0gbnVsbDtcclxuXHJcblx0ZnJvbUpzb24oanNvbjogYW55KSB7XHJcblx0XHR0aGlzLmZpbHRlckxvZ2ljID0ganNvbi5GaWx0ZXJMb2dpYyB8fCAnJztcclxuXHRcdHRoaXMuZmlsdGVycyA9IGpzb24uRmlsdGVycyB8fCBbXTtcclxuXHRcdHRoaXMuc3VicmVwb3J0c0ZpbHRlcnMgPSBqc29uLlN1YnJlcG9ydHNGaWx0ZXJzIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdEZpbHRlckxvZ2ljOiB0aGlzLmZpbHRlckxvZ2ljLFxyXG5cdFx0XHRGaWx0ZXJzOiB0aGlzLmZpbHRlcnMsXHJcblx0XHRcdFN1YnJlcG9ydEZpbHRlcnM6IHRoaXMuc3VicmVwb3J0c0ZpbHRlcnNcclxuXHRcdH07XHJcblx0fVxyXG59IiwiLyoqXHJcbiAqIFRoaXMgaW50ZXJmYWNlIHVzZWQgZm9yIHRoZSBjb252ZXJ0YXRpb24gZnJvbS90byBzZXJ2ZXItc2lkZSBqc29uIG9iamVjdHMuXHJcbiAqIE9iamVjdCB3aXRoIHRoaXMgaW50ZXJmYWNlIGFyZSB1c2VkIGFzIHRoZSBwcm9taXNlIHBhcmFtZXRlcnMgZm9yIHF1ZXJ5IG1ldGhvZHMuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElJemVuZGFSYXdNb2RlbCB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgcmF3IGpzb24gKG9yIGFueSBvdGhlciB0eXBlKSBpbnRvIHRoZSByYXcgbW9kZWwgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFNvdXJjZSByYXcgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSwgLi4ub3B0aW9uYWwpO1xyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRoaXMgb2JqZWN0IGludG8gdGhlIHJhdyBmb3JtYXQuXHJcblx0ICogQHJldHVybnMge2FueX0gUmF3IG9iamVjdC5cclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55O1xyXG59IiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcGl2b3QnO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXF1ZXJ5JztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zZXR0aW5ncyc7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtc3RvcmFnZSc7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtdmFsaWRhdGlvbic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtdmlzdWFsaXphdGlvbic7XHJcblxyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1maWVsZC1kcmFnZ2FibGUnO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1sZWZ0LXBhbmVsLXJlc2l6ZSc7XHJcblxyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWNoYXJ0cy1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1jb2x1bW5zLXNvcnQtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtZGF0YS1zb3VyY2UtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtZmllbGQtb3B0aW9ucy1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWx0ZXJzLWNvbnRyb2xsZXInO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWZvcm1hdC1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1waXZvdC1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uLWNvbnRyb2xsZXInO1xyXG4iXX0=
