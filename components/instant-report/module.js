var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
izendaRequire.define("common/core/module-definition", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // create izenda.common.core angular module
    var izendaCoreModule = angular.module('izenda.common.core', ['rx']);
    exports.default = izendaCoreModule;
});
izendaRequire.define("common/core/tools/msie-detect", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MsieDetect = /** @class */ (function () {
        function MsieDetect() {
        }
        MsieDetect.isSpecificIeVersion = function (version, comparison) {
            var ieCompareOperator = 'IE';
            var b = document.createElement('B');
            var docElem = document.documentElement;
            if (version) {
                ieCompareOperator += " " + version;
                if (comparison) {
                    ieCompareOperator = comparison + " " + ieCompareOperator;
                }
            }
            b.innerHTML = "<!--[if " + ieCompareOperator + "]><b id=\"iecctest\"></b><![endif]-->";
            docElem.appendChild(b);
            var isIeResult = !!document.getElementById('iecctest');
            docElem.removeChild(b);
            var docMode = document['documentMode'];
            var isCompatibilityMode = (typeof docMode !== 'undefined' &&
                ((comparison === 'lte' && Number(docMode) <= version) ||
                    (comparison === 'gte' && Number(docMode) >= version) ||
                    (comparison === 'lt' && Number(docMode) < version) ||
                    (comparison === 'gt' && Number(docMode) > version) ||
                    (comparison === 'eq' && Number(docMode) === version)));
            return isIeResult || isCompatibilityMode;
        };
        return MsieDetect;
    }());
    exports.default = MsieDetect;
});
izendaRequire.define("common/core/services/compatibility-service", ["require", "exports", "common/core/tools/msie-detect", "izenda-external-libs"], function (require, exports, msie_detect_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaCompatibilityService = /** @class */ (function () {
        function IzendaCompatibilityService($window) {
            this.$window = $window;
            this.rightNone = 'None';
            this.rightReadOnly = 'Read Only';
            this.rightViewOnly = 'View Only';
            this.rightLocked = 'Locked';
            this.rightFullAccess = 'Full Access';
            this.currentRights = this.rightNone;
            this.ie8 = msie_detect_1.default.isSpecificIeVersion(8, 'lte');
            this.lteIe10 = msie_detect_1.default.isSpecificIeVersion(10, 'lte');
            this.gteIe9 = msie_detect_1.default.isSpecificIeVersion(9, 'gte');
        }
        Object.defineProperty(IzendaCompatibilityService, "injectModules", {
            get: function () {
                return ['$window'];
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.prototype.isIe8 = function () {
            return this.ie8;
        };
        IzendaCompatibilityService.prototype.isIe = function () {
            return this.gteIe9;
        };
        IzendaCompatibilityService.prototype.isLteIe10 = function () {
            return this.lteIe10;
        };
        IzendaCompatibilityService.prototype.isHtml5FullScreenSupported = function () {
            return !this.lteIe10
                && (document['fullscreenEnabled'] || document['webkitFullscreenEnabled'] || document['mozFullScreenEnabled'] || document['msFullscreenEnabled']);
        };
        /**
         * Check is page should have mobile view.
         */
        IzendaCompatibilityService.prototype.isMobile = function () {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        };
        /**
         * Check is page window is too small to fit several columns of tiles.
         */
        IzendaCompatibilityService.prototype.isSmallResolution = function () {
            return this.$window.innerWidth <= 991;
        };
        /**
         * Check if one column view required
         */
        IzendaCompatibilityService.prototype.isOneColumnView = function () {
            return this.isMobile() || this.isSmallResolution();
        };
        ;
        /**
         * Set flag that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.setUsesHiddenColumns = function (value) {
            this.usesHiddenColumns = value;
        };
        /**
         * Get flat that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.isUsesHiddenColumns = function () {
            return this.usesHiddenColumns;
        };
        /**
         * Set rights for current dashboard
         */
        IzendaCompatibilityService.prototype.setRights = function (rights) {
            this.currentRights = rights ? rights : this.rightNone;
        };
        /**
         * Get current rights
         */
        IzendaCompatibilityService.prototype.getRights = function () {
            return this.currentRights ? this.currentRights : this.rightNone;
        };
        /**
         * Set full access right as current right.
         */
        IzendaCompatibilityService.prototype.setFullAccess = function () {
            this.setRights(this.rightFullAccess);
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isFullAccess = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isOneColumnView();
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save as allowed
         */
        IzendaCompatibilityService.prototype.isSaveAsAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed with hidden columns
         */
        IzendaCompatibilityService.prototype.isSaveAllowedWithHidden = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed
         */
        IzendaCompatibilityService.prototype.isSaveAllowed = function () {
            return this.isSaveAllowedWithHidden() && !this.usesHiddenColumns;
        };
        /**
         * Check is filters editing allowed
         */
        IzendaCompatibilityService.prototype.isFiltersEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly, this.rightLocked].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        Object.defineProperty(IzendaCompatibilityService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.register = function (module) {
            module.service('$izendaCompatibilityService', IzendaCompatibilityService.injectModules.concat(IzendaCompatibilityService));
        };
        return IzendaCompatibilityService;
    }());
    exports.default = IzendaCompatibilityService;
});
izendaRequire.define("common/core/services/event-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaEventService = /** @class */ (function () {
        function IzendaEventService($rootScope, $log) {
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.events = {};
        }
        Object.defineProperty(IzendaEventService, "injectModules", {
            get: function () {
                return ['$rootScope', '$log'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add event to queue.
         */
        IzendaEventService.prototype.queueEvent = function (eventName, eventArguments, clearQueue) {
            if (!(eventName in this.events) || clearQueue) {
                this.events[eventName] = [];
            }
            var eventRecord = {
                args: eventArguments
            };
            this.events[eventName].push(eventRecord);
            this.$log.debug("event \"" + eventName + "\" queued");
            this.$rootScope.$broadcast(eventName, eventArguments);
        };
        /**
         * Retrieve event record from queue and return it's record.
         */
        IzendaEventService.prototype.handleQueuedEvent = function (eventName, scope, eventContext, eventHandler) {
            var _this = this;
            if (!angular.isFunction(eventHandler))
                throw 'eventHandler should be a function';
            if (!(eventName in this.events) || !angular.isArray(this.events[eventName]))
                this.events[eventName] = [];
            while (this.events[eventName].length > 0) {
                var eventRecord = this.events[eventName].shift();
                this.$log.debug("event \"" + eventName + "\" run from queue");
                eventHandler.apply(eventContext, eventRecord.args);
            }
            // start handling event using angular events.
            if (scope.$$listeners) {
                var eventArr = scope.$$listeners[eventName];
                if (eventArr) {
                    for (var i = 0; i < eventArr.length; i++) {
                        if (eventArr[i] === eventHandler) {
                            eventArr.splice(i, 1);
                        }
                    }
                }
            }
            ;
            scope.$on(eventName, function (event, args) {
                _this.$log.debug("event \"" + eventName + "\" run from $on");
                _this.events[eventName] = [];
                eventHandler.apply(eventContext, args);
            });
        };
        /**
         * Clear all queued events (for manual $broadcast handling)
         */
        IzendaEventService.prototype.clearEventQueue = function (eventName) {
            this.events[eventName] = [];
        };
        Object.defineProperty(IzendaEventService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaEventService.register = function (module) {
            module.service('$izendaEventService', IzendaEventService.injectModules.concat(IzendaEventService));
        };
        return IzendaEventService;
    }());
    exports.default = IzendaEventService;
});
izendaRequire.define("common/core/services/localization-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Localization service. Gets localized strings from the "IzLocal" object.
     */
    var IzendaLocalizationService = /** @class */ (function () {
        function IzendaLocalizationService() {
            IzLocal.LocalizePage();
        }
        Object.defineProperty(IzendaLocalizationService, "injectModules", {
            get: function () {
                return [];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get localized text.
         * @param {string} key. Locale string key (defined in resources.aspx)
         * @param {string} defaultValue. Default value, when locale text couldn't be got
         * @returns {string} localized text.
         */
        IzendaLocalizationService.prototype.localeText = function (key, defaultValue) {
            var defaultText = angular.isString(defaultValue) ? defaultValue : '';
            return IzLocal.Res(key, defaultText);
        };
        /**
         * Apply locale string in format "...{0}...{1}..." and apply instead of '{n}' params[n]
         * @param {string} locale text key. This key contains in resources.
         * @param {strong} defaultValue. Default value if locale resource wasn't found.
         * @param {Array} params. Additional params.
         * @returns {string}. Localized text.
         */
        IzendaLocalizationService.prototype.localeTextWithParams = function (key, defaultValue, params) {
            var result = this.localeText(key, defaultValue);
            if (angular.isArray(params))
                params.forEach(function (param, iParam) {
                    return result = result.replaceAll("{" + iParam + "}", param);
                });
            return result;
        };
        Object.defineProperty(IzendaLocalizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaLocalizationService.register = function (module) {
            module.service('$izendaLocaleService', IzendaLocalizationService.injectModules.concat(IzendaLocalizationService));
            /**
             * Filter which is used for the applying localization.
             * Sample usage: <div ng-bind=":: 'js_close' | izendaLocale: 'Close'" /> where 'Close' - "defaultValue" parameter value.
             */
            module.filter('izendaLocale', [
                '$izendaLocaleService',
                function ($izendaLocaleService) {
                    return function (text, defaultValue) { return $izendaLocaleService.localeText(text, defaultValue); };
                }
            ]);
        };
        return IzendaLocalizationService;
    }());
    exports.default = IzendaLocalizationService;
});
izendaRequire.define("common/core/services/util-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Utility service. Provides the utility functions.
     */
    var IzendaUtilService = /** @class */ (function () {
        function IzendaUtilService($izendaLocaleService) {
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaUtilService, "injectModules", {
            get: function () {
                return ['$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create human readable variable name version
         * @param {string} text Text
         */
        IzendaUtilService.prototype.humanizeVariableName = function (text) {
            if (!angular.isString(text))
                return text;
            var result = text
                // insert a space between lower & upper
                .replace(/([a-z])([A-Z\d])/g, '$1 $2')
                // space before last upper in a sequence followed by lower
                .replace(/\b([A-Z\d]+)([A-Z\d])([a-z])/, '$1 $2$3')
                // uppercase the first character
                .replace(/^./, function (txt) { return txt.toUpperCase(); });
            return result;
        };
        Object.defineProperty(IzendaUtilService.prototype, "uncategorized", {
            /**
             * "Uncategorized" category localized name getter.
             */
            get: function () {
                return this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get "Uncategorized" category localized name.
         */
        IzendaUtilService.prototype.getUncategorized = function () {
            return this.uncategorized;
        };
        /**
         * Check whether "uncategorized" category or not.
         */
        IzendaUtilService.prototype.isUncategorized = function (category) {
            if (!category || !angular.isString(category))
                return true;
            return category.toLowerCase() === this.uncategorized.toLowerCase();
        };
        /**
         * Check whether categories equal or not.
         * @param {string} cat1 Category name.
         * @param {string} cat2 Category name.
         */
        IzendaUtilService.prototype.isCategoriesEqual = function (cat1, cat2) {
            return (this.isUncategorized(cat1) && this.isUncategorized(cat2)) || cat1 === cat2;
        };
        /**
         * Generate report full name
         * @param {string} reportName report name.
         * @param {string} separator directories separator symbol.
         * @param {string} category report category (optional).
         * @return {string} generated report full name.
         */
        IzendaUtilService.prototype.createReportFullName = function (reportName, separator, category) {
            if (!reportName || reportName.trim() === '')
                throw new Error('Empty "reportName" parameter isn\'t allowed.');
            return this.isUncategorized(category)
                ? reportName
                : category + separator + reportName;
        };
        /**
         * Convert options which have got from server using "GetOptionsByPath" query into
         * one dimentional array, which allow to use it as <option>
         */
        IzendaUtilService.prototype.convertOptionsByPath = function (optionGroups) {
            if (!angular.isArray(optionGroups))
                return [];
            var groups = [];
            optionGroups.forEach(function (group) {
                group.options.forEach(function (option) {
                    option.group = angular.isString(group.name) && group.name !== ''
                        ? group.name
                        : undefined;
                    groups.push(option);
                });
            });
            return groups;
        };
        /**
         * Get option by value from array of objects with "value" property (case insensitive):
         * [{value:'text1',...}, {value:'text2', ...}, ...]
         */
        IzendaUtilService.prototype.getOptionByValue = function (options, value, isLowerCaseComparison) {
            var i = 0;
            if (!angular.isArray(options) || !options.length)
                return null;
            while (i < options.length) {
                var option = options[i];
                if (!isLowerCaseComparison && option.value === value)
                    return option;
                if (isLowerCaseComparison && option.value.toLowerCase() === value.toLowerCase())
                    return option;
                i++;
            }
            return null;
        };
        Object.defineProperty(IzendaUtilService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilService.register = function (module) {
            module.service('$izendaUtilService', IzendaUtilService.injectModules.concat(IzendaUtilService));
        };
        return IzendaUtilService;
    }());
    exports.default = IzendaUtilService;
});
izendaRequire.define("common/core/services/util-ui-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaUtilUiService = /** @class */ (function () {
        function IzendaUtilUiService($timeout, $izendaLocaleService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.notificationHideDelay = 5000;
            this.notificationsIdCounter = 1;
            this.notifications = [];
            this.message = null;
            this.dialogBox = null;
        }
        Object.defineProperty(IzendaUtilUiService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Immediately close notification.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.closeNotification = function (notificationId) {
            var i = 0;
            while (i < this.notifications.length) {
                if (this.notifications[i].id === notificationId) {
                    this.cancelNotificationTimeout(notificationId);
                    this.notifications.splice(i, 1);
                    return;
                }
                i++;
            }
        };
        /**
         * Cancel notification autohide.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.cancelNotificationTimeout = function (notificationId) {
            var itm = this.getNotificationById(notificationId);
            if (itm.timeoutId) {
                this.$timeout.cancel(itm.timeoutId);
                itm.timeoutId = null;
            }
        };
        /**
         *  Shows pop up notification panel. If no <izenda-notification-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} text Message text.
         * @param {string} title Title text (optional).
         * @param {string} icon Icon (optional). Possible values 'error' or no value.
         */
        IzendaUtilUiService.prototype.showNotification = function (text, title, icon) {
            var _this = this;
            var nextId = this.notificationsIdCounter++;
            var iconClass = angular.isString(icon) && icon === 'error' ? 'glyphicon glyphicon-exclamation-sign' : '';
            var objToShow = {
                id: nextId,
                title: title ? title : '',
                text: text,
                iconClass: iconClass,
                timeoutId: null
            };
            objToShow.timeoutId = this.$timeout(function () {
                _this.closeNotification(objToShow.id);
            }, this.notificationHideDelay);
            this.notifications.push(objToShow);
        };
        /**
         * Shows message dialog. If no <izenda-message-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         */
        IzendaUtilUiService.prototype.showMessageDialog = function (message, title, alertInfo) {
            this.message = {
                message: message,
                title: angular.isDefined(title) ? title : '',
                alertInfo: angular.isDefined(alertInfo) ? alertInfo : 'info'
            };
        };
        /**
         * Shows error dialog.
         * @param {string} componentId ID of component. Used for distinguish different similar components.
         * @param {string} message Error text
         * @param {string} title Error title (optional)
         */
        IzendaUtilUiService.prototype.showErrorDialog = function (message, title) {
            var titleText = angular.isDefined(title) ? title : this.$izendaLocaleService.localeText('js_Error', 'Error');
            this.showMessageDialog(message, titleText, 'danger');
        };
        /**
         * Close message dialog.
         */
        IzendaUtilUiService.prototype.closeMessageDialog = function () {
            this.message = null;
        };
        /**
         * Shows dialog box. If no <izenda-dialog-box-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         * @param {Array} buttons dialog buttons (optional).
         * @param {Array} checkboxes checkboxes collection (optional).
         */
        IzendaUtilUiService.prototype.showDialogBox = function (options) {
            this.dialogBox = {
                message: options.message,
                title: angular.isDefined(options.title) ? options.title : '',
                alertInfo: angular.isDefined(options.alertInfo) ? options.alertInfo : 'info',
                buttons: angular.isDefined(options.buttons) ? options.buttons : [{ text: 'Close' }],
                checkboxes: angular.isDefined(options.checkboxes) ? options.checkboxes : []
            };
        };
        /**
         * Close dialog box
         */
        IzendaUtilUiService.prototype.closeDialogBox = function () {
            this.dialogBox = null;
        };
        IzendaUtilUiService.prototype.getNotificationById = function (id) {
            var found = this.notifications.find(function (n) {
                return n.id === id;
            });
            return found ? found : null;
        };
        Object.defineProperty(IzendaUtilUiService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilUiService.register = function (module) {
            module.service('$izendaUtilUiService', IzendaUtilUiService.injectModules.concat(IzendaUtilUiService));
        };
        return IzendaUtilUiService;
    }());
    exports.default = IzendaUtilUiService;
});
izendaRequire.define("common/core/directives/bootstrap-modal", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Bootstrap modal directive. Usage:
     * <izenda-bootstrap-modal opened="...">...</izenda-bootstrap-modal>
     */
    var IzendaBootstrapModalDirective = /** @class */ (function () {
        function IzendaBootstrapModalDirective($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                keyboard: '=',
                backdrop: '=',
                modalSize: '@',
                isModernBootstrapVersion: '@',
                onModalOpened: '&',
                onModalClosed: '&'
            };
            this.template = "\n<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n\t<div class=\"modal-dialog\" ng-class=\"getModalSizeClass()\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div ng-transclude=\"\"></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapModalDirective.prototype.link = function ($directiveScope, $element) {
                $directiveScope.getModalSizeClass = function () { return $directiveScope.modalSize === 'large' ? 'modal-lg' : ''; };
                var $modal = $element.children('.modal');
                if (!$directiveScope.isModernBootstrapVersion) {
                    $modal.css({
                        'overflow-x': 'hidden',
                        'overflow-y': 'scroll'
                    });
                }
                // additional bootstrap parameters
                if ($directiveScope.keyboard != null)
                    $modal.attr('data-keyboard', $directiveScope.keyboard);
                if ($directiveScope.backdrop != null)
                    $modal.attr('data-backdrop', $directiveScope.backdrop);
                // modal show handler
                $modal.on('show.bs.modal', function () {
                    $modal.css('background-color', 'rgba(0,0,0,0.8)');
                    $modal.css('filter', 'alpha(opacity=80)');
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('margin-right', '0');
                        angular.element('body').css('overflow', 'hidden');
                    }
                });
                // modal shown handler
                $modal.on('shown.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'hidden');
                        angular.element('body').scrollTop();
                    }
                    if (angular.isFunction($directiveScope.onModalOpened)) {
                        $directiveScope.onModalOpened({});
                    }
                    $directiveScope.$applyAsync();
                });
                // modal hidden handler
                $modal.on('hidden.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'inherit');
                        angular.element('body').css('margin-right', '0');
                    }
                    $directiveScope.opened = false;
                    if (angular.isFunction($directiveScope.onModalClosed)) {
                        $directiveScope.onModalClosed({});
                    }
                    $directiveScope.$applyAsync();
                });
                $directiveScope.$watch('opened', function (newVal) {
                    // create/hide modal dialog
                    if (newVal)
                        $element.children('.modal')['modal']();
                    else
                        $element.children('.modal')['modal']('hide');
                });
            };
        }
        IzendaBootstrapModalDirective.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapModalDirective($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapModalDirective;
    }());
    module_definition_1.default.directive('izendaBootstrapModal', ['$timeout', IzendaBootstrapModalDirective.factory()]);
});
izendaRequire.define("common/core/directives/utility", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Angular filter which replaces string.
     * Usage:
     * {{ 'some string' | izendaReplaceString: [{ from: 's', to: '$' }, { from: 'o', to: '0' } ] }}
     * this sample will produce string '$0me $tring'
     */
    module_definition_2.default.filter('izendaReplaceString', function () {
        return function (text, rules) {
            if (!angular.isArray(rules))
                return text;
            var resultText = text;
            if (!resultText)
                return resultText;
            rules.forEach(function (rule) { return resultText = resultText.replaceAll(rule.from, rule.to); });
            return resultText;
        };
    });
    /**
     * Attribute directive "izenda-scroll-bottom-action=""" which fires handler on container scroll end (-100px).
     * Event: scroll-bottom-action
     */
    var IzendaScrollBottomAction = /** @class */ (function () {
        function IzendaScrollBottomAction() {
            this.restrict = 'A';
            IzendaScrollBottomAction.prototype.link =
                function ($scope, $element, attrs) {
                    var $parent = $element.parent();
                    $parent.on('scroll', function () {
                        var height = $element.height();
                        if (height === 0)
                            return;
                        if (height - $parent.height() - 100 < $parent.scrollTop()) {
                            $scope.$eval(attrs.izendaScrollBottomAction);
                        }
                    });
                };
        }
        IzendaScrollBottomAction.factory = function () {
            return function () { return new IzendaScrollBottomAction(); };
        };
        return IzendaScrollBottomAction;
    }());
    exports.IzendaScrollBottomAction = IzendaScrollBottomAction;
    module_definition_2.default.directive('izendaScrollBottomAction', [IzendaScrollBottomAction.factory()]);
    /**
     * Set focus on element directive.
     * Usage:
     * <some-tag izenda-focus="{{expression_which_returns_bool}}" ...>
     *   ...
     * </some-tag>
     */
    var IzendaFocus = /** @class */ (function () {
        function IzendaFocus($timeout) {
            var _this = this;
            this.$timeout = $timeout;
            this.scope = {
                trigger: '@izendaFocus'
            };
            IzendaFocus.prototype.link = function ($scope, $element) {
                $scope.$watch('trigger', function (value) {
                    if (value)
                        _this.$timeout(function () { return $element[0].focus(); });
                });
            };
        }
        IzendaFocus.factory = function () {
            var directive = function ($timeout) { return new IzendaFocus($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaFocus;
    }());
    module_definition_2.default.directive('izendaFocus', ['$timeout', IzendaFocus.factory()]);
    /**
     * izenda-fit-absolute-element directive.
     */
    var IzendaFitAbsoluteElement = /** @class */ (function () {
        function IzendaFitAbsoluteElement($window, $timeout, $interval) {
            var _this = this;
            this.$window = $window;
            this.$timeout = $timeout;
            this.$interval = $interval;
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link = function ($scope, $element, attrs) {
                var windowResizeEventName = "resize.izendaFitAbsoluteElement." + Math.random();
                var deltaTopString = String(attrs['deltaTop']);
                var deltaTop = parseInt(deltaTopString) || 0;
                var $parent = angular.element($element.parent());
                var topCache = -1;
                var setTop = function () {
                    var $childs = $parent.children('[data-izenda-fit-absolute-element-relative=top]');
                    if ($childs.length === 0)
                        return false;
                    var topHeight = 0;
                    var isSuccess = true;
                    for (var i = 0; i < $childs.length; i++) {
                        var $child = angular.element($childs[i]);
                        var topValue = String($child.attr('data-izenda-fit-absolute-element-relative'));
                        if (topValue === 'top') {
                            var childHeight = $child.height();
                            if (childHeight <= 0)
                                isSuccess = false;
                            topHeight += childHeight;
                        }
                    }
                    if (topHeight > 0 && topCache < 0 || topHeight + deltaTop !== topCache) {
                        topCache = topHeight + deltaTop;
                        $element.css('top', topHeight + deltaTop + 'px');
                    }
                    return isSuccess;
                };
                var setTopUntilSuccess = function () {
                    var attemptCount = 0;
                    if (setTop())
                        return;
                    var toolbarIntervalPromise = _this.$interval(function () {
                        if (setTop() || attemptCount > 50) {
                            _this.$interval.cancel(toolbarIntervalPromise);
                            toolbarIntervalPromise = null;
                            attemptCount = 0;
                        }
                        attemptCount++;
                    }, 100);
                };
                setTopUntilSuccess();
                angular.element(_this.$window).on(windowResizeEventName, function () {
                    setTopUntilSuccess();
                });
                angular.element(_this.$window).on('izendaCustomResize', function () {
                    setTopUntilSuccess();
                });
                // destruction method
                $element.on('$destroy', function () {
                    angular.element(_this.$window).off(windowResizeEventName);
                    angular.element(_this.$window).off('izendaCustomResize');
                });
            };
        }
        IzendaFitAbsoluteElement.factory = function () {
            var directive = function ($window, $timeout, $interval) { return new IzendaFitAbsoluteElement($window, $timeout, $interval); };
            directive.$inject = ['$window', '$timeout', '$interval'];
            return directive;
        };
        return IzendaFitAbsoluteElement;
    }());
    module_definition_2.default.directive('izendaFitAbsoluteElement', IzendaFitAbsoluteElement.factory());
    /**
     * Directive for input element which allows to input only positive integer values.
     */
    var IzendaIntegerInput = /** @class */ (function () {
        function IzendaIntegerInput() {
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link =
                function ($scope, $element) {
                    $element.on('keydown', function (evt) {
                        var ctrlOrMeta = evt.ctrlKey || evt.metaKey;
                        if ([46, 8, 9, 27, 13].indexOf(evt.keyCode) >= 0 /*Allow: backspace, delete, tab, escape, enter*/
                            || (evt.keyCode === 65 && ctrlOrMeta) /*Allow: Ctrl/cmd+A*/
                            || (evt.keyCode === 67 && ctrlOrMeta) /*Allow: Ctrl/cmd+C*/
                            || (evt.keyCode === 88 && ctrlOrMeta) /*Allow: Ctrl/cmd+X*/
                            || (evt.keyCode >= 35 && evt.keyCode <= 40)) { /*Allow: home, end, left, right*/
                            // let it happen, don't do anything
                            return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((evt.shiftKey || (evt.keyCode < 48 || evt.keyCode > 57)) && (evt.keyCode < 96 || evt.keyCode > 105)) {
                            evt.preventDefault();
                        }
                    });
                };
        }
        IzendaIntegerInput.factory = function () {
            var directive = function () { return new IzendaIntegerInput(); };
            return directive;
        };
        return IzendaIntegerInput;
    }());
    module_definition_2.default.directive('izendaIntegerInput', IzendaIntegerInput.factory());
});
izendaRequire.define("common/core/tools/izenda-component", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // ReSharper disable once InconsistentNaming
    function IzendaComponent(moduleOrName, selector, dependencies, options) {
        return function (controller) {
            var module = typeof (moduleOrName) === 'string' ? angular.module(moduleOrName) : moduleOrName;
            var extendedOptions = angular.copy(options);
            var $inject = controller.$inject = dependencies;
            controller.prototype.$inject = $inject;
            controller.$inject = $inject;
            extendedOptions.controller = dependencies.concat(controller);
            module.component(selector, extendedOptions);
        };
    }
    exports.default = IzendaComponent;
});
izendaRequire.define("common/core/components/dialog-box/dialog-box-component", ["require", "exports", "angular", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, angular, module_definition_3, izenda_component_1, util_ui_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Handle button click.
         */
        IzendaDialogBoxComponent.prototype.onButtonClick = function (button) {
            if (!button)
                return;
            if (angular.isFunction(button.callback)) {
                button.callback(this.$izendaUtilUiService.dialogBox.checkboxes);
            }
            this.closeModal();
        };
        /**
         * Close modal dialog.
         */
        IzendaDialogBoxComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeDialogBox();
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_1.default(module_definition_3.default, 'izendaDialogBoxComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.dialog-box.dialog-box-template.html',
                bindings: {
                    componentId: '@',
                    useGlobalEventListening: '<',
                    opened: '<',
                    title: '<',
                    message: '<',
                    alertInfo: '<',
                    buttons: '<',
                    checkboxes: '<'
                },
            }),
            __metadata("design:paramtypes", [util_ui_service_1.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/components/message/message-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_4, izenda_component_2, localization_service_1, util_ui_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaMessageComponent = /** @class */ (function () {
        function IzendaMessageComponent($izendaLocaleService, $izendaUtilUiService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Close modal dialog.
         */
        IzendaMessageComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeMessageDialog();
        };
        IzendaMessageComponent = __decorate([
            izenda_component_2.default(module_definition_4.default, 'izendaMessageComponent', ['$izendaLocaleService', '$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.message.message-template.html',
                bindings: {},
            }),
            __metadata("design:paramtypes", [localization_service_1.default,
                util_ui_service_2.default])
        ], IzendaMessageComponent);
        return IzendaMessageComponent;
    }());
    exports.default = IzendaMessageComponent;
});
izendaRequire.define("common/core/components/notification/notification-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_5, izenda_component_3, util_ui_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Notification component
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.notifications = $izendaUtilUiService.notifications;
        }
        /**
         * Close notification.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.closeNotification = function (notification) {
            this.$izendaUtilUiService.closeNotification(notification.id);
        };
        /**
         * Cancel notification autohide.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.cancelNotificationTimeout = function (notification) {
            this.$izendaUtilUiService.cancelNotificationTimeout(notification.id);
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_3.default(module_definition_5.default, 'izendaNotificationComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.notification.notification-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [util_ui_service_3.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/module", ["require", "exports", "common/core/module-definition", "common/core/services/compatibility-service", "common/core/services/event-service", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/directives/bootstrap-modal", "common/core/directives/utility", "common/core/components/dialog-box/dialog-box-component", "common/core/components/message/message-component", "common/core/components/notification/notification-component"], function (require, exports, module_definition_6, compatibility_service_1, event_service_1, localization_service_2, util_service_1, util_ui_service_4) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    compatibility_service_1.default.register(module_definition_6.default);
    event_service_1.default.register(module_definition_6.default);
    localization_service_2.default.register(module_definition_6.default);
    util_service_1.default.register(module_definition_6.default);
    util_ui_service_4.default.register(module_definition_6.default);
});
izendaRequire.define("common/query/module-definition", ["require", "exports", "angular", "common/core/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaQueryModule = angular.module('izenda.common.query', ['rx', 'izenda.common.core']);
    exports.default = izendaQueryModule;
});
izendaRequire.define("common/query/services/rs-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaRsQueryService = /** @class */ (function () {
        function IzendaRsQueryService($window, $http, $q, $injector, $izendaLocaleService, $izendaUtilUiService) {
            this.$window = $window;
            this.$http = $http;
            this.$q = $q;
            this.$injector = $injector;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.urlSettings = this.$window.urlSettings$;
            this.rsQueryBaseUrl = this.urlSettings.urlRsPage;
            this.requestList = new Array();
        }
        Object.defineProperty(IzendaRsQueryService, "injectModules", {
            get: function () {
                return ['$window', '$http', '$q', '$injector', '$izendaLocaleService', '$izendaUtilUiService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Custom query to the izenda response server
         * @param {any} queryParams Query parameters.
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.rsQuery = function (queryParams, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.customQuery(this.rsQueryBaseUrl, queryParams, options, errorOptions, invalidateInCacheParameter);
        };
        /**
         * Custom query to the izenda API.
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.query = function (wsCmd, wsArgs, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            // prepare params:
            var params = this.createQueryParametersObject(wsCmd, wsArgs);
            // set default error options if it is not defined:
            var currentErrorOptions = angular.isObject(errorOptions)
                ? errorOptions
                : {
                    handler: function (wsCmd2, wsArgs2) { return "Query: \"" + wsCmd2 + "\" [" + wsArgs2 + "] failed."; },
                    params: [wsCmd, wsArgs]
                };
            return this.rsQuery(params, options, currentErrorOptions, invalidateInCacheParameter);
        };
        /**
         * Query to the izenda API (POST request which returns JSON).
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.apiQuery = function (wsCmd, wsArgs, invalidateInCacheParameter) {
            var _this = this;
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.$q(function (resolve, reject) {
                // check params:
                if (!angular.isString(wsCmd) || wsCmd === '') {
                    reject('Parameter error: wsCmd parameter should be non-empty string.');
                    return;
                }
                if (!angular.isArray(wsArgs)) {
                    reject('Parameter error: wsArgs parameter should be array.');
                    return;
                }
                // create params array
                var params = _this.createQueryParametersObject(wsCmd, wsArgs);
                // run query
                _this.rsQuery(params, { dataType: 'json', method: 'POST' }, null, invalidateInCacheParameter)
                    .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
            });
        };
        /**
         * Cancel all running queries
         * @param {any} options (optional) options.cancelList may set custom queries to cancel.
         */
        IzendaRsQueryService.prototype.cancelAllQueries = function (options) {
            var opts = options || {};
            // queries which we can cancel
            var cancellableQueries = opts.hasOwnProperty('cancelList')
                ? opts['cancelList']
                : this.$injector.get('izenda.common.query.cancellableQueries');
            var count = this.requestList.length;
            var i = 0;
            while (i < this.requestList.length) {
                var request = this.requestList[0];
                var cancel = false;
                if (angular.isArray(cancellableQueries)) {
                    var requestUrl = request.url;
                    var requestParams = request.queryParamsFinal;
                    for (var j = 0; j < cancellableQueries.length; j++) {
                        var cancelRule = cancellableQueries[j];
                        if (angular.isString(cancelRule)) {
                            cancel = cancel || requestUrl.indexOf(cancelRule) >= 0;
                        }
                        else if (angular.isObject(cancelRule)) {
                            if ('wscmd' in cancelRule) {
                                cancel = cancel || requestUrl.indexOf("wscmd=" + cancelRule['wscmd']) >= 0;
                                cancel = cancel || requestParams.hasOwnProperty('wscmd') && requestParams['wscmd'] === cancelRule['wscmd'];
                            }
                        }
                        else {
                            throw "Unknown cancel rule: " + cancelRule;
                        }
                    }
                }
                if (cancel) {
                    request.canceller.resolve();
                    request.resolver.$izendaRsQueryCancelled = false;
                    this.requestList.splice(i, 1);
                }
                else {
                    i++;
                }
            }
            return count - i;
        };
        /**
         * Send post request and receive file attachment.
         * @param {string} method GET/POST
         * @param {string} url Url.
         * @param {any} parameters Url parameters dictionary.
         * @return {angular.IPromise<void>} Promise without parameters.
         */
        IzendaRsQueryService.prototype.downloadFileRequest = function (method, url, parameters) {
            return this.$q(function (resolve) {
                if (typeof (Blob) !== 'undefined') {
                    // post request for download the file
                    var xhr_1 = new XMLHttpRequest();
                    xhr_1.open(method, url, true);
                    xhr_1.responseType = 'arraybuffer';
                    var selfXhr_1 = xhr_1;
                    xhr_1.onload = function (evt) {
                        console.log('downloadFileRequest xhr.onload evt: ', evt);
                        if (selfXhr_1.status !== 200)
                            return;
                        var disposition = xhr_1.getResponseHeader('Content-Disposition');
                        var filename = '';
                        if (disposition && disposition.toLowerCase().indexOf('attachment') !== -1) {
                            var filenameRegex = /[Ff]ilename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;
                            var matches = filenameRegex.exec(disposition);
                            if (matches != null && matches[1])
                                filename = matches[1].replace(/['"]/g, '');
                        }
                        var type = xhr_1.getResponseHeader('Content-Type');
                        var blob = new Blob([selfXhr_1.response], { type: type });
                        if (typeof window.navigator.msSaveBlob !== 'undefined') {
                            // IE workaround for "HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. 
                            // These URLs will no longer resolve as the data backing the URL has been freed."
                            window.navigator.msSaveBlob(blob, filename);
                            resolve();
                        }
                        else {
                            var urlFunc_1 = window.URL || window['webkitURL'];
                            var downloadUrl = urlFunc_1.createObjectURL(blob);
                            if (filename) {
                                // use HTML5 a[download] attribute to specify filename
                                var linkElement = document.createElement('a');
                                // safari doesn't support this yet
                                if (typeof linkElement.download === 'undefined') {
                                    window.location.href = downloadUrl;
                                }
                                else {
                                    linkElement.href = downloadUrl;
                                    linkElement.target = '_blank';
                                    linkElement.download = filename;
                                    document.body.appendChild(linkElement);
                                    linkElement.click();
                                    document.body.removeChild(linkElement);
                                }
                            }
                            else {
                                window.location.href = downloadUrl;
                            }
                            setTimeout(function () {
                                urlFunc_1.revokeObjectURL(downloadUrl);
                                resolve();
                            }, 100); // cleanup
                        }
                    };
                    xhr_1.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                    if (method.toLowerCase() === 'post')
                        xhr_1.send(angular.element.param(parameters || {}));
                    else if (method.toLowerCase() === 'get')
                        xhr_1.send();
                    else
                        throw "Unsupported request method: " + method;
                }
                else {
                    if (method.toLowerCase() === 'post') {
                        // old browser post request
                        var form = document.createElement('form');
                        form.action = url;
                        form.method = method;
                        form.target = '_blank';
                        if (parameters)
                            for (var key in parameters)
                                if (parameters.hasOwnProperty(key)) {
                                    var input = document.createElement('textarea');
                                    input.name = key;
                                    input.value = typeof parameters[key] === 'object' ? JSON.stringify(parameters[key]) : parameters[key];
                                    form.appendChild(input);
                                }
                        form.style.display = 'none';
                        document.body.appendChild(form);
                        form.submit();
                        document.body.removeChild(form);
                    }
                    else {
                        // old browser get request
                        var linkElement2 = document.createElement('a');
                        linkElement2.href = url;
                        linkElement2.target = '_blank';
                        document.body.appendChild(linkElement2);
                        linkElement2.click();
                        document.body.removeChild(linkElement2);
                    }
                    resolve();
                }
            });
        };
        /**
         * Do query to custom url
         */
        IzendaRsQueryService.prototype.customQuery = function (baseUrl, queryParams, options, errorOptions, invalidateInCacheParameter) {
            var _this = this;
            var queryParamsFinal = angular.copy(queryParams);
            // apply izendaPageId$
            if (typeof (window['izendaPageId$']) !== 'undefined')
                queryParamsFinal['izpid'] = window['izendaPageId$'];
            if (typeof (window['angularPageId$']) !== 'undefined')
                queryParamsFinal['anpid'] = window['angularPageId$'];
            var isPost = options && options.method === 'POST';
            var postData = {};
            var url = baseUrl;
            if (!isPost) {
                // GET request url:
                var kvStrings = [];
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        kvStrings.push(paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]));
                if (invalidateInCacheParameter)
                    kvStrings.push('iic=1');
                url += "?" + kvStrings.join('&');
            }
            else {
                // POST request params string:
                var postParamsString = 'urlencoded=true';
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        postParamsString += "&" + paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]);
                postData = {
                    data: postParamsString
                };
                if (invalidateInCacheParameter)
                    url += '?iic=1';
            }
            // create promises
            var canceler = this.$q.defer();
            var resolver = this.$q.defer();
            resolver['$izendaRsQueryCancelled'] = true;
            resolver['errorOptions'] = angular.isObject(errorOptions) ? errorOptions : null;
            // prepare request optinos
            var dataType = angular.isDefined(options) && angular.isString(options.dataType)
                ? options.dataType
                : 'text';
            var contentType = 'text/html';
            if (dataType === 'json')
                contentType = 'text/json';
            url = getAppendedUrl(url, queryParamsFinal);
            var requestId = (+new Date).toString() + '_' + Math.floor(Math.random() * 1000000).toString(); // pseudo random UID.
            var reqHeaders = {};
            reqHeaders['Content-Type'] = contentType;
            var req = {};
            req.method = 'GET';
            req.url = url;
            req.headers = reqHeaders;
            req.timeout = canceler.promise;
            if (angular.isObject(options)) {
                angular.extend(req, options);
            }
            angular.extend(req, postData); // it is empty for http GET requests
            // custom
            req['requestId'] = requestId;
            req['queryParamsFinal'] = queryParamsFinal;
            // add request to requestList
            this.requestList.push(new RequestListItem(requestId, url, queryParamsFinal, canceler, resolver));
            // run query
            this.$http(req).then(function (response) {
                // handle success
                _this.removeRequest(response.config['requestId']);
                if (!angular.isObject(response)) {
                    // resolve non-object responses
                    resolver.resolve(response);
                    return;
                }
                // object response
                var data = response.data;
                if (angular.isObject(data) && angular.isString(data['izendaQueryStatus'])) {
                    // API query result
                    if (data['izendaQueryStatus'] === 'ok') {
                        resolver.resolve(data['result'] || 'OK');
                    }
                    else if (data['izendaQueryStatus'] === 'error') {
                        resolver.reject(data['error']);
                    }
                    else {
                        resolver.reject('Unknown izendaQueryStatus: ' + data['izendaQueryStatus']);
                    }
                }
                else {
                    // Non-API json query result
                    resolver.resolve(data);
                }
            }, function (response) {
                // handle request error
                _this.removeRequest(response.config.requestId);
                var needToReject = true;
                var errorText;
                if (resolver['errorOptions'] != null) {
                    needToReject = false;
                    errorText = resolver['errorOptions'].handler.apply(response, resolver['errorOptions'].params ? resolver['errorOptions'].params : []);
                }
                else if (response.message)
                    errorText = response.message;
                else if (response.config)
                    errorText = _this.$izendaLocaleService.localeText('js_QueryFailed', 'Query failed') + ': ' + JSON.stringify(response.config);
                else
                    errorText = _this.$izendaLocaleService.localeText('localeVariable', 'An unknown error occurred.');
                if (resolver['$izendaRsQueryCancelled']) {
                    if (needToReject)
                        resolver.reject(errorText);
                    else
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                }
            });
            return resolver.promise;
        };
        /**
         * Remove request from array
         */
        IzendaRsQueryService.prototype.removeRequest = function (requestId) {
            var foundIndex = -1;
            var i = 0;
            while (foundIndex < 0 && i < this.requestList.length) {
                if (this.requestList[i].requestId === requestId) {
                    foundIndex = i;
                }
                i++;
            }
            if (foundIndex >= 0) {
                this.requestList.splice(foundIndex, 1);
            }
        };
        IzendaRsQueryService.prototype.createQueryParametersObject = function (wsCmd, wsArgs) {
            var params = {
                'wscmd': wsCmd
            };
            // add wsargN=... parameters into params variable.
            if (wsArgs && wsArgs.length)
                params = wsArgs.reduce(function (currentParams, wsArg, wsArgIdx) {
                    currentParams["wsarg" + wsArgIdx] = typeof (wsArg) !== 'undefined' && wsArg != null ? wsArg : '';
                    return currentParams;
                }, params);
            return params;
        };
        Object.defineProperty(IzendaRsQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaRsQueryService.register = function (module) {
            module.constant('izenda.common.query.cancellableQueries', [{
                    wscmd: 'loadDashboardConfigNew' // load dashboard layout query
                }, {
                    wscmd: 'getDashboardCategoriesNew'
                }, {
                    wscmd: 'getDashboardTilePreviewNew' // load tile html query
                }, {
                    wscmd: 'getCrsSchedule'
                }, {
                    wscmd: 'getCrsShare'
                }])
                .service('$izendaRsQueryService', IzendaRsQueryService.injectModules.concat(IzendaRsQueryService));
        };
        return IzendaRsQueryService;
    }());
    exports.default = IzendaRsQueryService;
    var RequestListItem = /** @class */ (function () {
        function RequestListItem(requestId, url, queryParamsFinal, canceller, resolver) {
            this.requestId = requestId;
            this.url = url;
            this.queryParamsFinal = queryParamsFinal;
            this.canceller = canceller;
            this.resolver = resolver;
        }
        return RequestListItem;
    }());
    exports.RequestListItem = RequestListItem;
});
izendaRequire.define("common/common-module-definition", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    String.prototype.replaceAll = function (search, replacement) {
        var target = this;
        if (typeof search !== 'string' || search === '')
            return this;
        return target.split(search).join(replacement);
    };
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    var IzendaCommonLoader = /** @class */ (function () {
        function IzendaCommonLoader() {
        }
        IzendaCommonLoader.loadSettings = function () {
            var deferredObject = angular.element.Deferred();
            var urlSettings = window.urlSettings$;
            var rsPageUrl = urlSettings.urlRsPage;
            var settingsUrl = rsPageUrl + '?wscmd=getCommonSettings';
            // load common settings:
            angular.element.get(settingsUrl, function (configJson) {
                var configObject = configJson;
                angular
                    .module('izenda.common.core')
                    .constant('$izendaCommonSettings', configObject);
                deferredObject.resolve();
            });
            return deferredObject.promise();
        };
        return IzendaCommonLoader;
    }());
    exports.IzendaCommonLoader = IzendaCommonLoader;
});
izendaRequire.define("common/query/services/settings-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DateTimeFormat = /** @class */ (function () {
        function DateTimeFormat(longDate, longTime, shortDate, shortTime, timeFormatForInnerIzendaProcessing, // this time format used in method DateLocToUs for saving filters.
        showTimeInFilterPickers, defaultFilterDateFormat) {
            this.longDate = longDate;
            this.longTime = longTime;
            this.shortDate = shortDate;
            this.shortTime = shortTime;
            this.timeFormatForInnerIzendaProcessing = timeFormatForInnerIzendaProcessing;
            this.showTimeInFilterPickers = showTimeInFilterPickers;
            this.defaultFilterDateFormat = defaultFilterDateFormat;
        }
        return DateTimeFormat;
    }());
    exports.DateTimeFormat = DateTimeFormat;
    var IzendaQuerySettingsService = /** @class */ (function () {
        function IzendaQuerySettingsService($izendaUtilService, $izendaCommonSettings) {
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaCommonSettings = $izendaCommonSettings;
            // initialize formats
            this.defaultDateFormat = new DateTimeFormat('dddd, MMMM DD, YYYY', 'h:mm:ss A', 'MM/DD/YYYY', 'h:mm A', 'HH:mm:ss', false, 'MM/DD/YYYY' + ($izendaCommonSettings.showTimeInFilterPickers ? ' HH:mm:ss' : ''));
            var format = this.defaultDateFormat;
            this.dateFormat = new DateTimeFormat(format.longDate, format.longTime, format.shortDate, format.shortTime, format.timeFormatForInnerIzendaProcessing, format.showTimeInFilterPickers, '');
            this.dateFormat.longDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatLong);
            this.dateFormat.longTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatLong);
            this.dateFormat.shortDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatShort);
            this.dateFormat.shortTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatShort);
            this.dateFormat.showTimeInFilterPickers = $izendaCommonSettings.showTimeInFilterPickers;
            this.dateFormat.defaultFilterDateFormat = this.dateFormat.shortDate +
                ($izendaCommonSettings.showTimeInFilterPickers ? " " + this.dateFormat.longTime : '');
            // culture
            this.culture = $izendaCommonSettings.culture;
            if (this.culture.indexOf('-') > 0)
                this.culture = this.culture.substring(0, this.culture.indexOf('-'));
            // bulk csv
            this.bulkCsv = false;
            if (typeof $izendaCommonSettings.bulkCsv != 'undefined')
                this.bulkCsv = $izendaCommonSettings.bulkCsv;
            // category character
            this.categoryCharacter = '\\';
            if (typeof $izendaCommonSettings.categoryCharacter != 'undefined')
                this.categoryCharacter = $izendaCommonSettings.categoryCharacter;
        }
        Object.defineProperty(IzendaQuerySettingsService, "injectModules", {
            get: function () {
                return ['$izendaUtilService', '$izendaCommonSettings'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Default date formats
         * @returns {DateTimeFormat}
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormat = function () {
            return this.defaultDateFormat;
        };
        /**
         * Default format string (en-US). This format used for sending dates to the server.
         * @param {string} customDateFormatString. Alternative date format if required.
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormatString = function (customDateFormatString) {
            var showTime = this.$izendaCommonSettings.showTimeInFilterPickers;
            var timeFormatString = showTime ? ' ' + this.defaultDateFormat.timeFormatForInnerIzendaProcessing : '';
            var dateFormatString = this.defaultDateFormat.shortDate;
            if (angular.isString(customDateFormatString) && customDateFormatString.trim() !== '') {
                dateFormatString = customDateFormatString;
            }
            return dateFormatString + timeFormatString;
        };
        /**
         * Convert .net date time format string to momentjs format string.
         * @param {string} format .net format string
         * @returns {string} momentjs format string
         */
        IzendaQuerySettingsService.prototype.convertDotNetTimeFormatToMoment = function (format) {
            var converter = izenda.utils.date.formatConverter;
            return converter.convert(format, converter.dotNet, converter.momentJs);
        };
        /**
        * Get common settings
        */
        IzendaQuerySettingsService.prototype.getCommonSettings = function () {
            return this.$izendaCommonSettings;
        };
        /**
         * Get date format.
         */
        IzendaQuerySettingsService.prototype.getDateFormat = function () {
            return this.dateFormat;
        };
        /**
         * Get current page culture.
         */
        IzendaQuerySettingsService.prototype.getCulture = function () {
            return this.culture;
        };
        /**
         * Get "bulk csv" CSV export mode enabled.
         */
        IzendaQuerySettingsService.prototype.getBulkCsv = function () {
            return this.bulkCsv;
        };
        IzendaQuerySettingsService.prototype.getCategoryCharacter = function () {
            return this.categoryCharacter;
        };
        IzendaQuerySettingsService.prototype.getReportFullName = function (reportName, reportCategory) {
            var result = null;
            if (reportName) {
                result = '';
                if (!this.$izendaUtilService.isUncategorized(reportCategory))
                    result = reportCategory + this.getCategoryCharacter();
                result += reportName;
            }
            return result;
        };
        Object.defineProperty(IzendaQuerySettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaQuerySettingsService.register = function (module) {
            module.service('$izendaSettingsService', IzendaQuerySettingsService.injectModules.concat(IzendaQuerySettingsService));
        };
        return IzendaQuerySettingsService;
    }());
    exports.default = IzendaQuerySettingsService;
});
izendaRequire.define("common/query/services/common-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * This service provides API query methods.
     */
    var IzendaCommonQueryService = /** @class */ (function () {
        function IzendaCommonQueryService($izendaRsQueryService, $izendaLocaleService) {
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaCommonQueryService, "injectModules", {
            get: function () {
                return ['$izendaRsQueryService', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Used for refresh session timeout
         */
        IzendaCommonQueryService.prototype.ping = function () {
            return this.$izendaRsQueryService.query('ping', [], { dataType: 'text' });
        };
        /**
         * Create new dashboard report set and set it as CurrentReportSet
         */
        IzendaCommonQueryService.prototype.newDashboard = function () {
            var _this = this;
            return this.$izendaRsQueryService.query('newcrs', ['DashboardDesigner'], { dataType: 'json' }, {
                handler: function () { return _this.$izendaLocaleService.localeText('js_DashboardCreateError', 'Failed to create new dashboard'); },
                params: []
            });
        };
        /**
         * Check report set is exist. Returns promise with 'true' value if exists
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.checkReportSetExist = function (reportSetFullName) {
            if (!angular.isString(reportSetFullName) || reportSetFullName.trim() === '')
                throw new Error('reportSetFullName should be non empty string');
            var errorText = this.$izendaLocaleService.localeText('js_DashboardCheckExistError', 'Failed to check dashboard exist');
            return this.$izendaRsQueryService.query('checkreportsetexists', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Set AdHocContext current report set
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.setCrs = function (reportSetFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_SetCrsError', 'Failed to set current report set');
            return this.$izendaRsQueryService.query('setcurrentreportset', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Get report list by category
         * @param {string} category category name.
         */
        IzendaCommonQueryService.prototype.getReportSetCategory = function (category) {
            var categoryStr = angular.isDefined(category)
                ? (category.toLowerCase() === this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized').toLowerCase()
                    ? ''
                    : category)
                : '';
            var errorText = this.$izendaLocaleService.localeText('js_GetCategoryError', 'Failed to get reports for category');
            return this.$izendaRsQueryService.query('reportlistdatalite', [categoryStr], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [category]
            });
        };
        /**
         * Get report parts
         * @param {string} reportFullName Report full name (xxx@aaa\bbb).
         */
        IzendaCommonQueryService.prototype.getReportParts = function (reportFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_ReportPartsError', 'Failed to get report parts for report');
            return this.$izendaRsQueryService.query('reportdata', [reportFullName], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportFullName]
            });
        };
        /**
         * Get data which needed for schedule
         * @param {number} clientTimezoneOffset Default timezone.
         */
        IzendaCommonQueryService.prototype.getScheduleData = function (clientTimezoneOffset) {
            return this.$izendaRsQueryService.query('getCrsSchedule', [String(clientTimezoneOffset)], { dataType: 'json' }, {
                handler: function () { return 'Failed to get schedule data'; },
                params: []
            });
        };
        /**
         * Get data which needed for schedule
         * @param {boolean} defaultShareConfig If true - share config will get from new empty reportset, false - from current report set.
         */
        IzendaCommonQueryService.prototype.getShareData = function (defaultShareConfig) {
            return this.$izendaRsQueryService.query('getCrsShare', [defaultShareConfig ? 'true' : 'false'], { dataType: 'json' }, {
                handler: function () { return 'Failed to get share data'; },
                params: []
            });
        };
        Object.defineProperty(IzendaCommonQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCommonQueryService.register = function (module) {
            module.service('$izendaCommonQueryService', IzendaCommonQueryService.injectModules.concat(IzendaCommonQueryService));
        };
        return IzendaCommonQueryService;
    }());
    exports.default = IzendaCommonQueryService;
});
izendaRequire.define("common/query/services/ping-service", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaPingService = /** @class */ (function () {
        function IzendaPingService($timeout, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.minute = 60 * 1000;
            this.defaultTimeout = 15 * this.minute; // default timeout - 15 minutes.
            this.timeout = -1;
            this.pingTimer = null;
        }
        Object.defineProperty(IzendaPingService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Stop ping queries
         */
        IzendaPingService.prototype.stopPing = function () {
            if (this.pingTimer !== null) {
                this.$timeout.cancel(this.pingTimer);
                this.pingTimer = null;
            }
        };
        /**
         * Make ping iteration and create timeout for next iteration.
         */
        IzendaPingService.prototype.ping = function () {
            var _this = this;
            // cancel previous timer:
            this.stopPing();
            // hint: start immediately if timeout variable wasn't set.
            this.pingTimer = this.$timeout(function () {
                _this.$izendaCommonQueryService.ping().then(function (data) {
                    // set timeout
                    _this.timeout = (data > 0)
                        ? Math.round(data * 0.75 * _this.minute)
                        : _this.defaultTimeout;
                    _this.ping();
                });
            }, this.timeout >= 0 ? this.timeout : 0);
        };
        /**
         * Start ping queries
         */
        IzendaPingService.prototype.startPing = function () {
            this.ping();
        };
        Object.defineProperty(IzendaPingService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaPingService.register = function (module) {
            module.service('$izendaPingService', IzendaPingService.injectModules.concat(IzendaPingService));
        };
        return IzendaPingService;
    }());
    exports.default = IzendaPingService;
});
izendaRequire.define("common/query/services/url-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLocationModel = /** @class */ (function () {
        function IzendaLocationModel() {
            this.fullName = null;
            this.category = null;
            this.name = null;
            this.isNew = false;
        }
        IzendaLocationModel.fromJson = function (json) {
            var location = new IzendaLocationModel();
            location.fullName = json.fullName || null;
            location.category = json.category || null;
            location.name = json.name || null;
            location.isNew = !!json.isNew;
            return location;
        };
        return IzendaLocationModel;
    }());
    exports.IzendaLocationModel = IzendaLocationModel;
    var IzendaUrlService = /** @class */ (function () {
        function IzendaUrlService(rx, $window, $izendaSettingsService, $izendaPingService, $izendaUtilService) {
            var _this = this;
            this.rx = rx;
            this.$window = $window;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaPingService = $izendaPingService;
            this.$izendaUtilService = $izendaUtilService;
            this.settings = $window.urlSettings$;
            this.reportNameInfo = this.getLocation();
            this.location = new this.rx.BehaviorSubject(this.reportNameInfo);
            // subscribe on location change:
            window.onpopstate = function (event) {
                if (event.state && (event.state.rn || event.state.new)) {
                    _this.locationChangedHandler();
                }
            };
            // start ping
            this.$izendaPingService.startPing();
        }
        Object.defineProperty(IzendaUrlService, "injectModules", {
            get: function () {
                return ['rx',
                    '$window',
                    '$izendaSettingsService',
                    '$izendaPingService',
                    '$izendaUtilService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Set report name and category to location
         * @param {IzendaLocationModel} locationInfo location object
         */
        IzendaUrlService.prototype.setLocation = function (locationInfo) {
            if (!angular.isObject(locationInfo))
                throw new Error('"locationInfo" parameter should be object');
            // if is new
            if (locationInfo.isNew) {
                this.setUrl({ isNew: '1' }, { new: true });
                this.locationChangedHandler();
                return;
            }
            // navigate to existing report
            this.setUrl({ rn: locationInfo.fullName.replaceAll(' ', '+') }, { rn: locationInfo.fullName });
            this.locationChangedHandler();
        };
        /**
         * Change url if possible, otherwise reload the page with new url.
         * @param {any} params - url params object.
         * @param {any} additionalParams - additional params for pushState.
         */
        IzendaUrlService.prototype.setUrl = function (params, additionalParams) {
            var previousUrlParams = this.getUrlParams(window.location.href);
            var isRnOldExist = angular.isString(previousUrlParams.rn);
            var isRnNewExist = angular.isString(params.rn) && params.rn !== '';
            var rnOld = isRnOldExist ? 'rn=' + previousUrlParams.rn.replaceAll(' ', '+') : '';
            var rnNew = isRnNewExist ? 'rn=' + params.rn.replaceAll(' ', '+') : '';
            var isNewOldExist = angular.isString(previousUrlParams.isNew);
            var isNewNewExist = angular.isString(params.isNew);
            if (isRnOldExist && isRnNewExist && rnOld === rnNew)
                // same rn
                return;
            if (isNewOldExist && isNewNewExist)
                // same isNew
                return;
            if (isRnNewExist && isNewNewExist)
                throw 'Incorrect params: both "rn" and "isNew" defined.';
            var newPath = window.location.pathname;
            var newParams = window.location.search ? window.location.search : '?';
            if (isNewNewExist) {
                // go to new report
                // remove rn
                newParams = newParams.replaceAll(rnOld, '');
                newParams += (newParams.endsWith('?') ? '' : '&') + 'isNew=1';
            }
            else if (isRnNewExist) {
                // go to existing report
                // remove isNew
                newParams = newParams.replaceAll('isNew=1', '');
                if (isRnOldExist)
                    newParams = newParams.replaceAll(rnOld, rnNew);
                else
                    newParams += (newParams.endsWith('?') ? '' : '&') + rnNew;
            }
            newParams = newParams.replaceAll('?&', '?');
            newParams = newParams.replaceAll('&&', '&');
            // navigate new url
            var newUrl = newPath + newParams;
            if (this.$window.history && this.$window.history.pushState) {
                this.$window.history.pushState(additionalParams, document.title, newUrl);
            }
            else
                window.location.href = newUrl;
        };
        /**
         * Returns report full name (category delimiter: $izendaSettingsService.getCategoryCharacter())
         * @return {IzendaLocationModel} current location model.
         */
        IzendaUrlService.prototype.getLocation = function () {
            this.settings = new UrlSettings(); // retrieve current url settings
            var reportInfo = this.settings.reportInfo;
            // existing report
            if (reportInfo.fullName)
                return IzendaLocationModel.fromJson(reportInfo);
            // isNew
            var result = new IzendaLocationModel();
            result.isNew = reportInfo.isNew;
            return result;
        };
        ;
        /**
         * Set report name and category to location.
         * @param {string} fullName Report full name.
         */
        IzendaUrlService.prototype.setReportFullName = function (fullName) {
            this.setLocation({
                fullName: fullName,
                name: this.extractReportName(fullName),
                category: this.extractReportCategory(fullName),
                isNew: false
            });
        };
        ;
        /**
         * Go to "new"
         */
        IzendaUrlService.prototype.setIsNew = function () {
            this.setLocation({
                fullName: null,
                name: null,
                category: null,
                isNew: true
            });
        };
        ;
        /**
         * Handler, which reacts on page load and $location change.
         */
        IzendaUrlService.prototype.locationChangedHandler = function () {
            // update url settings object because url has changed
            this.settings = new UrlSettings();
            // cancel all current queries
            //const countCancelled = this.$izendaRsQueryService.cancelAllQueries();
            //if (countCancelled > 0)
            //	this.$log.debug(`>>> Cancelled ${countCancelled} queries`);
            // set current report set if location has changed
            var newLocationModel = this.getLocation();
            if (newLocationModel.fullName !== this.reportNameInfo.fullName || newLocationModel.isNew !== this.reportNameInfo.isNew) {
                this.reportNameInfo = newLocationModel;
                this.location.onNext(this.reportNameInfo);
            }
        };
        ;
        /**
         * Create filter parameters url part using current filterParameters from UrlSettings object.
         * @return {string} Url parameters string: '&p1=v1&p2=v2...&pN=vN'.
         */
        IzendaUrlService.prototype.getFilterParamsString = function () {
            var requestString = '';
            if (this.settings.filterParameters.length > 0) {
                for (var i = 0; i < this.settings.filterParameters.length; i++) {
                    var paramObject = this.settings.filterParameters[i];
                    requestString += "&" + paramObject[0] + "=" + encodeURIComponent(paramObject[1]);
                }
            }
            return requestString;
        };
        /**
         * Extract report name from category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report name without category.
         */
        IzendaUrlService.prototype.extractReportName = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var parts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            return parts[parts.length - 1];
        };
        /**
         * Extract report category from "category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report category.
         */
        IzendaUrlService.prototype.extractReportCategory = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report category from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var reportFullNameParts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            var category;
            if (reportFullNameParts.length >= 2)
                category = reportFullNameParts.slice(0, reportFullNameParts.length - 1).join(this.$izendaSettingsService.getCategoryCharacter());
            else
                category = this.$izendaUtilService.getUncategorized();
            return category;
        };
        ;
        /**
         * Extract report name, category, report set name for report part.
         * @param {string} fullName Report full name.
         * @return {any} report parts object.
         */
        IzendaUrlService.prototype.extractReportPartNames = function (fullName, isPartNameAtRight) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report part name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var result = {
                reportPartName: null,
                reportFullName: fullName,
                reportSetName: null,
                reportName: null,
                reportCategory: null,
                reportNameWithCategory: null
            };
            // extract report part name
            var reportSetName = fullName;
            if (fullName.indexOf('@') >= 0) {
                var parts = fullName.split('@');
                if (!angular.isUndefined(isPartNameAtRight) && isPartNameAtRight) {
                    reportSetName = parts[0], result.reportPartName = parts[1];
                }
                else {
                    result.reportPartName = parts[0], reportSetName = parts[1];
                }
            }
            // collect results into one object:
            result.reportSetName = reportSetName;
            result.reportName = this.extractReportName(reportSetName);
            result.reportCategory = this.extractReportCategory(reportSetName);
            result.reportNameWithCategory = result.reportName;
            if (this.$izendaUtilService.isUncategorized(result.reportCategory))
                result.reportNameWithCategory =
                    result.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + result.reportNameWithCategory;
            result.reportFullName = (result.reportPartName != null ? result.reportPartName + '@' : '') + result.reportSetName;
            return result;
        };
        /**
         * Get current report info object.
         */
        IzendaUrlService.prototype.getReportInfo = function () {
            return this.reportNameInfo;
        };
        IzendaUrlService.prototype.getUrlParams = function (url) {
            var urlObj = (typeof (angular.element['url']) === 'undefined') ? window.purl(url) : angular.element['url'](url);
            return urlObj.data.param.query;
        };
        Object.defineProperty(IzendaUrlService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUrlService.register = function (module) {
            module.service('$izendaUrlService', IzendaUrlService.injectModules.concat(IzendaUrlService));
        };
        return IzendaUrlService;
    }());
    exports.default = IzendaUrlService;
});
izendaRequire.define("common/query/module", ["require", "exports", "angular", "common/query/module-definition", "common/query/services/rs-query-service", "common/query/services/settings-service", "common/query/services/common-query-service", "common/query/services/ping-service", "common/query/services/url-service"], function (require, exports, angular, module_definition_7, rs_query_service_1, settings_service_1, common_query_service_1, ping_service_1, url_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register http provider
    module_definition_7.default.config(['$httpProvider', function ($httpProvider) {
            $httpProvider.defaults.transformResponse.push(function (responseData) {
                // convert $http response. We need to translate asp.net dates 
                // in string format '/Date(ticksNumber)/' to js Date objects (only for json response type):
                var regexDate = /^\/Date\(([-]{0,1}\d+)\)\/$/;
                var convertDateStringsToDates = function (input) {
                    if (!angular.isObject(input))
                        return;
                    for (var key in input) {
                        if (!input.hasOwnProperty(key))
                            continue;
                        var value = input[key];
                        if (angular.isString(value)) {
                            var match = value.match(regexDate);
                            if (angular.isArray(match) && match.length > 0) {
                                var milliseconds = parseInt(match[match.length - 1]);
                                if (!isNaN(milliseconds)) {
                                    input[key] = new Date(milliseconds);
                                }
                            }
                        }
                        else if (angular.isObject(value)) {
                            convertDateStringsToDates(value);
                        }
                    }
                };
                convertDateStringsToDates(responseData);
                return responseData;
            });
        }]);
    // register services
    rs_query_service_1.default.register(module_definition_7.default);
    settings_service_1.default.register(module_definition_7.default);
    common_query_service_1.default.register(module_definition_7.default);
    ping_service_1.default.register(module_definition_7.default);
    url_service_1.default.register(module_definition_7.default);
});
izendaRequire.define("common/ui/module-definition", ["require", "exports", "angular", "izenda-external-libs", "common/core/module", "common/query/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaUiModule = angular
        .module('izenda.common.ui', ['rx', 'izenda.common.core', 'izenda.common.query'])
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_Name', 'Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    exports.default = izendaUiModule;
});
izendaRequire.define("common/core/models/select-item-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * IzendaSelectItemModel class is used to provide uniform angular bindings style for <select>.
     */
    var IzendaSelectItemModel = /** @class */ (function () {
        function IzendaSelectItemModel(text, value, group, selected, enabled) {
            if (typeof (value) === 'undefined')
                throw new Error('value should be defined');
            this.text = text;
            this.value = value;
            this.group = group ? group : undefined;
            this.selected = selected ? selected : false;
            this.enabled = enabled ? enabled : true;
        }
        Object.defineProperty(IzendaSelectItemModel.prototype, "disabled", {
            get: function () {
                return !this.enabled;
            },
            enumerable: true,
            configurable: true
        });
        IzendaSelectItemModel.prototype.isEqual = function (testValue, isLowerCaseComparison) {
            if (testValue === null && this.value === null)
                return true;
            if (testValue === null || this.value === null)
                return false;
            return isLowerCaseComparison
                ? testValue.toLowerCase() === this.value.toLowerCase()
                : testValue === this.value;
        };
        IzendaSelectItemModel.prototype.isEqualWithItem = function (item, isLowerCaseComparison) {
            if (!item)
                return false;
            return this.isEqual(item.value, isLowerCaseComparison);
        };
        return IzendaSelectItemModel;
    }());
    exports.IzendaSelectItemModel = IzendaSelectItemModel;
});
izendaRequire.define("common/core/models/raw-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("common/core/models/share-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Model for the list of share rules.
     */
    var IzendaShareModel = /** @class */ (function () {
        function IzendaShareModel() {
            this.shareRules = new Array();
        }
        /**
         * Deserialize share rules. This method sets this.shareRules field.
         * @param {any[]} json Serialized share rules array.
         * @param {Core.IzendaSelectItemModel[]} availableRights Right model collection.
         * @param {Core.IzendaSelectItemModel[]} availableSubjects Subject model collection.
         */
        IzendaShareModel.prototype.fromJson = function (json, availableRights, availableSubjects) {
            if (!json) {
                this.shareRules = [];
                return;
            }
            this.shareRules = json.map(function (ruleJson) {
                var shareRule = new IzendaShareRuleModel();
                shareRule.fromJson(ruleJson, availableRights, availableSubjects);
                return shareRule;
            });
        };
        /**
         * Serialize current share rules to json object.
         * @return {any[]} array of serialized share rules.
         */
        IzendaShareModel.prototype.toJson = function () {
            var json = this.shareRules
                .filter(function (shareRule) { return shareRule.subject && shareRule.right; })
                .map(function (shareRule) { return shareRule.toJson(); });
            return json;
        };
        return IzendaShareModel;
    }());
    exports.IzendaShareModel = IzendaShareModel;
    /**
     * Model for subject-right pair.
     */
    var IzendaShareRuleModel = /** @class */ (function () {
        function IzendaShareRuleModel(subjects) {
            this.availableSubjects = new Array();
            this.right = null;
            this.subject = null;
            if (subjects)
                this.setAvailableSubjects(subjects, null);
        }
        IzendaShareRuleModel.prototype.setAvailableSubjects = function (subjects, subjectValue) {
            var subjValue = subjectValue
                ? subjectValue
                : this.subject
                    ? this.subject.value
                    : null;
            // update available subjects collection
            this.availableSubjects = subjects && subjects.length ? subjects.slice() : [];
            // update subject
            this.subject = null;
            if (subjValue !== null)
                this.subject = this.availableSubjects.find(function (s) { return s.value === subjValue; }) || null;
        };
        IzendaShareRuleModel.prototype.fromJson = function (json, rights, subjects) {
            // set right
            this.right = null;
            if (rights && rights.length)
                this.right = rights.find(function (r) { return json && r.value === json.right; }) || null;
            // set available subject
            this.setAvailableSubjects(subjects, json ? json.subject : null);
        };
        IzendaShareRuleModel.prototype.toJson = function () {
            if (!this.right && !this.subject)
                // you can face with this situation only if you call toJson directly for this class, 
                //because when you serialize collection, there is additional check for empty subject and right.
                return null;
            var json = {
                right: this.right.value,
                subject: this.subject.value
            };
            return json;
        };
        return IzendaShareRuleModel;
    }());
    exports.IzendaShareRuleModel = IzendaShareRuleModel;
});
izendaRequire.define("common/ui/services/share-service", ["require", "exports", "common/core/models/select-item-model", "common/core/models/share-model", "common/core/models/share-model", "izenda-external-libs"], function (require, exports, select_item_model_1, share_model_1, share_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Service used for store data in share control
     */
    var IzendaShareService = /** @class */ (function () {
        function IzendaShareService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaShareService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add new empty share rule.
         */
        IzendaShareService.prototype.addNewShareRule = function () {
            var shareRuleModel = new share_model_2.IzendaShareRuleModel(this.subjects);
            this.shareModel.shareRules.push(shareRuleModel);
        };
        /**
         * Remove share rule
         * @param {Core.IzendaShareRuleModel} shareRule Share rule for removal.
         */
        IzendaShareService.prototype.removeShareRule = function (shareRule) {
            if (!shareRule)
                return;
            var idx = this.shareModel.shareRules.indexOf(shareRule);
            this.shareModel.shareRules.splice(idx, 1);
        };
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaShareService.prototype.getShareConfigForSend = function () {
            return this.shareModel.toJson();
        };
        /**
         * Set current share config.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.setShareConfig = function (json) {
            var _this = this;
            var isDefaultConfig = !json;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillShareConfigFromJson(json, isDefaultConfig).then(function () { return resolve(); });
            });
        };
        /**
         * Set share service state from the config object.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.fillShareConfigFromJson = function (json, isDefaultConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                _this.loadShareData().then(function () {
                    if (isDefaultConfig) {
                        json = [{
                                subject: 'Everyone',
                                right: 'None'
                            }];
                    }
                    _this.shareModel = new share_model_1.IzendaShareModel();
                    _this.shareModel.fromJson(json, _this.rights, _this.subjects);
                    resolve();
                });
            });
        };
        /**
         * Load share data and available values from server.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.loadShareData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaCommonQueryService.getShareData().then(function (json) {
                    // fill available rights collection
                    _this.rights = json.Rights.map(function (rightJson) { return new select_item_model_1.IzendaSelectItemModel(rightJson.Text, rightJson.Value); });
                    // fill available subjects collection
                    _this.subjects = json.ShareWith.map(function (subjectJson) { return new select_item_model_1.IzendaSelectItemModel(subjectJson.Text, subjectJson.Value); });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaShareService.prototype.reset = function () {
            this.rights = new Array();
            this.subjects = new Array();
            this.shareModel = new share_model_1.IzendaShareModel();
        };
        Object.defineProperty(IzendaShareService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaShareService.register = function (module) {
            module.service('$izendaShareService', IzendaShareService.injectModules.concat(IzendaShareService));
        };
        return IzendaShareService;
    }());
    exports.default = IzendaShareService;
});
izendaRequire.define("common/core/models/schedule-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleModel = /** @class */ (function () {
        function IzendaScheduleModel() {
            this.date = new Date();
            this.email = null;
            this.recipients = '';
            this.repeat = null;
            this.timezone = null;
        }
        /**
         * Fill this object from server-side dto object.
         * @param {any} json dto object.
         * @param {Core.IzendaSelectItemModel[]} emailTypes Email type models collection.
         * @param {Core.IzendaSelectItemModel[]} repeatTypes Repeat type models collection.
         * @param {Core.IzendaSelectItemModel[]} timezones Timezone models collection.
         */
        IzendaScheduleModel.prototype.fromJson = function (json, emailTypes, repeatTypes, timezones) {
            // parse and set date
            if (json && json.dateString) {
                var dateString = json.dateString.trim();
                var momentDate = void 0;
                if (json.timeString) {
                    dateString += " " + json.timeString.trim();
                    momentDate = moment(dateString, 'YYYY-MM-DD HH:mm:ss');
                }
                else {
                    momentDate = moment(dateString, 'YYYY-MM-DD');
                }
                this.date = momentDate.isValid() ? momentDate._d : new Date();
            }
            else
                this.date = new Date();
            if (!this.date || this.date.getFullYear() <= 1900)
                this.date = new Date();
            // timezone
            this.timezone = timezones.length ? (timezones.find(function (tz) { return tz.selected; }) || timezones[0]) : null;
            if (json && json.timezoneId)
                this.timezone = timezones.find(function (tz) { return tz.value === json.timezoneId; }) || this.timezone;
            // email type
            this.email = emailTypes.length ? (emailTypes.find(function (e) { return e.selected; }) || emailTypes[0]) : null;
            // repeat type
            this.repeat = repeatTypes.length ? (repeatTypes.find(function (r) { return r.selected; }) || repeatTypes[0]) : null;
            // recipients
            this.recipients = json && json.recipients ? json.recipients : '';
        };
        /**
         * Create server-side dto object for this schedule model object.
         * @return {any} New json object.
         */
        IzendaScheduleModel.prototype.toJson = function () {
            var dateString = null;
            var timeString = null;
            if (this.date) {
                dateString = moment(this.date).format('YYYY-MM-DD');
                timeString = moment(this.date).format('HH:mm:ss');
            }
            var json = {
                dateString: dateString,
                timeString: timeString,
                recipients: this.recipients,
                email: this.email ? this.email.value : null,
                repeat: this.repeat ? this.repeat.value : null,
                timezoneId: this.timezone ? this.timezone.value : null
            };
            return json;
        };
        return IzendaScheduleModel;
    }());
    exports.IzendaScheduleModel = IzendaScheduleModel;
});
izendaRequire.define("common/ui/services/schedule-service", ["require", "exports", "common/core/models/schedule-model", "common/core/models/select-item-model", "izenda-external-libs"], function (require, exports, schedule_model_1, select_item_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleService = /** @class */ (function () {
        function IzendaScheduleService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaScheduleService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaScheduleService.prototype.getScheduleConfigForSend = function () {
            return this.scheduleConfig.toJson();
        };
        /**
         * Set current schedule config.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.setScheduleConfig = function (json) {
            var _this = this;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillScheduleConfigFromJson(json).then(function () { return resolve(); });
            });
        };
        /**
         * Set schedule service state from the config object.
         * Schedule timezones, repeat types and others are supposed to be loaded.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.fillScheduleConfigFromJson = function (json) {
            var _this = this;
            return this.$q(function (resolve) {
                // Load schedule collections.
                _this.loadScheduleData().then(function () {
                    // Fill schedule config from json after loading collections.
                    _this.scheduleConfig.fromJson(json, _this.sendEmailTypes, _this.repeatTypes, _this.timezones);
                    resolve();
                });
            });
        };
        /**
         * Load schedule data and available values from server
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.loadScheduleData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                // calculate current timezone std offset:
                var rightNow = new Date();
                var jan1 = new Date(rightNow.getFullYear(), 0, 1, 0, 0, 0, 0);
                var temp = jan1.toGMTString();
                var jan2 = new Date(temp.substring(0, temp.lastIndexOf(' ')));
                var stdTimeOffset = (jan1.getTime() - jan2.getTime()) / (1000 * 60);
                // load schedule dictionaries:
                _this.$izendaCommonQueryService.getScheduleData(stdTimeOffset).then(function (json) {
                    _this.timezones = json.TimeZones.map(function (tz) {
                        var tzText = tz.Text ? tz.Text.replaceAll('&nbsp;', ' ') : '';
                        return new select_item_model_2.IzendaSelectItemModel(tzText, tz.Value, undefined, tz.Selected, tz.Enabled);
                    });
                    _this.sendEmailTypes = json.SendEmailList.map(function (eml) {
                        return new select_item_model_2.IzendaSelectItemModel(eml.Text, eml.Value, undefined, eml.Selected, eml.Enabled);
                    });
                    _this.repeatTypes = json.RepeatTypes.map(function (rt) {
                        return new select_item_model_2.IzendaSelectItemModel(rt.Text, rt.Value, undefined, rt.Selected, rt.Enabled);
                    });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaScheduleService.prototype.reset = function () {
            this.scheduleConfig = new schedule_model_1.IzendaScheduleModel();
            this.timezones = [];
            this.sendEmailTypes = [];
            this.repeatTypes = [];
        };
        Object.defineProperty(IzendaScheduleService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaScheduleService.register = function (module) {
            module.service('$izendaScheduleService', IzendaScheduleService.injectModules.concat(IzendaScheduleService));
        };
        return IzendaScheduleService;
    }());
    exports.default = IzendaScheduleService;
});
izendaRequire.define("common/ui/directives/align-switcher", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_8) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Align switcher directive.
     */
    var IzendaAlignSwitcher = /** @class */ (function () {
        function IzendaAlignSwitcher() {
            this.restrict = 'AE';
            this.scope = {
                ngModel: '=',
                title: '@'
            };
            this.template = "<span class=\"izenda-common-align-switcher glyphicon\" ng-click=\"nextValue()\" ng-attr-title=\"title\" ng-class=\"alignShortcut\"></span>";
            IzendaAlignSwitcher.prototype.link = function ($scope, $element, attrs) {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var shortcuts = {
                    'L': 'glyphicon-align-left',
                    'M': 'glyphicon-align-center',
                    'J': 'glyphicon-align-center',
                    'R': 'glyphicon-align-right',
                    ' ': 'glyphicon-none'
                };
                var validateValue = function (model) {
                    if (angular.isUndefined(model))
                        return;
                    if (itemsArray.indexOf(model) < 0)
                        throw 'Unknown align value: ' + model;
                };
                var updateShortcut = function (model) { return $scope.alignShortcut = shortcuts[model]; };
                $scope.nextValue = function () {
                    var idx = itemsArray.indexOf($scope.ngModel);
                    if (idx < itemsArray.length - 1)
                        idx++;
                    else
                        idx = 0;
                    $scope.ngModel = itemsArray[idx];
                    updateShortcut($scope.ngModel);
                };
                //
                $scope.$parent.$watch(attrs.ngModel, function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    validateValue(newValue);
                    updateShortcut(newValue);
                });
                validateValue($scope.ngModel);
                updateShortcut($scope.ngModel);
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaAlignSwitcher.factory = function () {
            var directive = function () { return new IzendaAlignSwitcher(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAlignSwitcher;
    }());
    module_definition_8.default.directive('izendaAlignSwitcher', [IzendaAlignSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/autocomplete", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_9) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Autocomplete directive. Uses "tagit". Applyed for <input izenda-autocomplete> element.
     */
    var IzendaAutocomplete = /** @class */ (function () {
        function IzendaAutocomplete() {
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                ngModel: '=',
                autocompleteItems: '=',
                updateAutocompleteItems: '&'
            };
            IzendaAutocomplete.prototype.link = function ($scope, $element) {
                /**
                 * Create array with autocomplete item texts
                 * @param {Array<object>} items.
                 * @returns {Array<string>}.
                 */
                var prepareSource = function (items) {
                    if (!angular.isArray(items) || !items.length)
                        return [];
                    return items
                        .filter(function (item) { return angular.isObject(item); })
                        .map(function (item) { return item['text']; });
                };
                // initialize component
                $element.val($scope.ngModel);
                $element['tagit']({
                    tagSource: function (req, responseFunction) {
                        if (!angular.isFunction($scope.updateAutocompleteItems))
                            return;
                        var possibleText = req.term.split(/,\s*/).pop();
                        // update suggested items:
                        $scope.updateAutocompleteItems({ arg0: possibleText }).then(function (newExistentValuesList) {
                            var items = prepareSource(newExistentValuesList);
                            var result = items
                                .filter(function (item) { return !!item && item != '...'; })
                                .map(function (item) { return item.replaceAll('#||#', ','); });
                            responseFunction(result);
                        });
                    },
                    caseSensitive: true,
                    allowDuplicates: false,
                    singleFieldDelimiter: jsResources.literalComma,
                    processValuesForSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll(',', '#||#'); }); },
                    processValuesFromSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll('#||#', ','); }); }
                });
                // add watchers
                $scope.$watch('ngModel', function (newValue) {
                    if (!newValue)
                        $element['tagit']('removeAll');
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element['tagit']('removeAll');
                });
            };
        }
        IzendaAutocomplete.factory = function () {
            var directive = function () { return new IzendaAutocomplete(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAutocomplete;
    }());
    module_definition_9.default.directive('izendaAutocomplete', [IzendaAutocomplete.factory()]);
});
izendaRequire.define("common/ui/directives/bootstrap", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_10) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Collapsible container directive.
     */
    var IzendaBootstrapCollapse = /** @class */ (function () {
        function IzendaBootstrapCollapse($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                collapsed: '=',
                useDelay: '=',
                onComplete: '&'
            };
            IzendaBootstrapCollapse.prototype.link = function ($scope, $element, attrs) {
                /**
                 * Invoke complete handler.
                 */
                var collapseCompleted = function (result) {
                    if (angular.isFunction($scope.onComplete)) {
                        $scope.onComplete({
                            collapsed: result
                        });
                    }
                };
                $element.addClass('collapse');
                if ($scope.collapsed)
                    $element.addClass('in');
                $element['collapse'](); // call bootstrap jquery_element.collapse() method.
                // add event collapse handlers
                $element.on('hidden.bs.collapse', function () { return collapseCompleted(true); });
                $element.on('shown.bs.collapse', function () { return collapseCompleted(false); });
                // watch for collapsed state change
                $scope.$watch('collapsed', function () {
                    if ($scope.useDelay)
                        $timeout(function () { return $element['collapse']($scope.collapsed ? 'hide' : 'show'); }, 1000);
                    else
                        $element['collapse']($scope.collapsed ? 'hide' : 'show');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapCollapse.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapCollapse($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapCollapse;
    }());
    module_definition_10.default.directive('izendaBootstrapCollapse', ['$timeout', IzendaBootstrapCollapse.factory()]);
    /**
     * Tooltip directive
     */
    var IzendaBootstrapTooltip = /** @class */ (function () {
        function IzendaBootstrapTooltip() {
            this.restrict = 'A';
            this.scope = {
                tooltipItems: '='
            };
            IzendaBootstrapTooltip.prototype.link = function ($scope, $element) {
                $scope.$watch('tooltipItems', function (newVal) {
                    if (!angular.isArray(newVal)) {
                        $element.attr('title', '');
                        return;
                    }
                    var result = '';
                    for (var i = 0; i < newVal.length; i++) {
                        if (newVal.length > 1)
                            result += i + '. ';
                        result += newVal[i].message + '<br/>';
                    }
                    $element.attr('title', result);
                    $element['tooltip']('hide')
                        .attr('data-original-title', newVal)
                        .tooltip('update');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapTooltip.factory = function () {
            return function () { return new IzendaBootstrapTooltip(); };
        };
        return IzendaBootstrapTooltip;
    }());
    module_definition_10.default.directive('izendaBootstrapTooltip', [IzendaBootstrapTooltip.factory()]);
    /**
     * Bootstrap dropdown directive
     */
    var IzendaBootstrapDropdown = /** @class */ (function () {
        function IzendaBootstrapDropdown($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                attachToElement: '@',
                width: '@',
                height: '@',
                onOpen: '&',
                onClose: '&'
            };
            this.template = "<div class=\"dropdown\">\n\t<div class=\"dropdown-menu izenda-common-dropdown-strong-shadow dropdown-no-close-on-click\"\n\t\tng-click=\"$event.stopPropagation();\">\n\t\t<div class=\"izenda-common-dropdown-triangle\"></div>\n\t\t<div ng-style=\"{'width': width, 'height': height}\">\n\t\t\t<div ng-transclude></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapDropdown.prototype.link = function ($scope, $element, attrs) {
                var id = ('' + Math.random()).substring(2);
                var scrollEventId = 'scroll.izendaBootstrapDropdown' + id;
                var resizeEventId = 'resize.izendaBootstrapDropdown' + id;
                var keyEventId = 'keyup.izendaBootstrapDropdown' + id;
                var $dropdown = $element.find('.dropdown');
                var $menu = $element.find('.dropdown-menu');
                $dropdown.find('.izenda-common-dropdown-triangle').on('click', function () { return close(); });
                angular.element($window).on(scrollEventId, function () { return close(); });
                angular.element($window).on(resizeEventId, function () { return close(); });
                angular.element($window).on(keyEventId, function (event) {
                    // esc button handler
                    if (event.keyCode == 27 && $scope.opened) {
                        close();
                    }
                });
                $scope.$watch('opened', function (newVal) {
                    if (newVal && !$dropdown.hasClass('open'))
                        open();
                    if (!newVal && $dropdown.hasClass('open'))
                        close();
                });
                function open() {
                    var $attachToElement = angular.element($scope.attachToElement);
                    var $tile = $attachToElement.closest('.iz-dash-tile');
                    $dropdown.addClass('open');
                    $menu.css('position', 'absolute');
                    $menu.css('z-index', 9999);
                    var left = $tile.width() - $menu.width() - 16;
                    var delta = 0;
                    if (left < 0) {
                        delta = -left;
                        left = 0;
                    }
                    var top = 44;
                    $menu.children('.izenda-common-dropdown-triangle').css('left', $menu.width() - delta - 58);
                    $menu.css({
                        left: left + 'px',
                        top: top + 'px'
                    });
                    if (angular.isFunction($scope.onOpen))
                        $scope.onOpen({});
                }
                function close() {
                    $dropdown.removeClass('open');
                    $menu.data('open', false);
                    $scope.opened = false;
                    if (angular.isFunction($scope.onClose))
                        $scope.onClose({});
                    $scope.$applyAsync();
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off(scrollEventId);
                    angular.element($window).off(resizeEventId);
                    angular.element($window).off(keyEventId);
                });
            };
        }
        IzendaBootstrapDropdown.factory = function () {
            var directive = function ($window) { return new IzendaBootstrapDropdown($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaBootstrapDropdown;
    }());
    module_definition_10.default.directive('izendaBootstrapDropdown', ['$window', IzendaBootstrapDropdown.factory()]);
});
izendaRequire.define("common/ui/directives/color-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_11) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Color picker directive. Requires "jquery-minicolors" jQuery plugin. Usage:
     * <izenda-color-picker ng-model="..."></izenda-color-picker>
     */
    var IzendaColorPicker = /** @class */ (function () {
        function IzendaColorPicker() {
            this.restrict = 'A';
            this.scope = {
                ngModel: '=',
                inline: '@',
                additionalClass: '@'
            };
            this.template = '<input class="minicolors form-control" ng-class="additionalClass"></input>';
            IzendaColorPicker.prototype.link = function ($scope, $element) {
                var $input = $element.find('input.minicolors');
                // watch active item changed
                $scope.$watch('ngModel', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    $input.val(newVal);
                    $input['minicolors']('value', newVal);
                });
                initializeControl();
                // destruction method
                $element.on('$destroy', function () {
                    $input['minicolors']('destroy');
                    $input.remove();
                });
                function initializeControl() {
                    $input['minicolors']('destroy');
                    $input.val($scope.ngModel);
                    $input['minicolors']({
                        inline: $scope.inline === 'true',
                        lettercase: 'lowercase',
                        theme: 'bootstrap',
                        color: $scope.color,
                        position: 'bottom right',
                        change: function (hex) {
                            var val = String($input.val());
                            if (val.match(/^#{0,1}[0-9a-f]{6}$/gi)) {
                                $scope.ngModel = hex;
                                angular.element('.iz-dash-background').css('background-color', hex);
                                $scope.$applyAsync();
                            }
                        }
                    });
                    $element.find('.minicolors-grid, .minicolors-slider').click(function (e) {
                        e.stopPropagation();
                        return false;
                    });
                }
            };
        }
        IzendaColorPicker.factory = function () {
            return function () { return new IzendaColorPicker(); };
        };
        return IzendaColorPicker;
    }());
    module_definition_11.default.directive('izendaColorPicker', [IzendaColorPicker.factory()]);
});
izendaRequire.define("common/ui/directives/datetime-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_12) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaDateTimePicker = /** @class */ (function () {
        function IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
            this.$window = $window;
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                model: '=ngModel',
                ngDisabled: '=',
                dateFormat: '=',
                locale: '=',
                datepart: '=',
                showAdditionalButtons: '@',
                htmlContainerSelector: '@',
                onChange: '&'
            };
            this.template = "<input type=\"text\" class=\"form-control\" />\n<span class=\"input-group-addon\">\n\t<span class=\"glyphicon-calendar glyphicon\"></span>\n</span>";
            // change template if resolution is too low
            if (this.$izendaCompatibilityService.isSmallResolution())
                this.template = '<div class="izenda-common-date-picker-inline"/>';
            IzendaDateTimePicker.prototype.link = function ($scope, $element, attrs, ngModelCtrl) {
                var uid = Math.floor(Math.random() * 1000000);
                var $input = $element.children('input,.izenda-common-date-picker-inline');
                var $btn = $element.children('.input-group-addon');
                var isSmallResolution = $izendaCompatibilityService.isSmallResolution();
                var getPicker = function () { return $input.data('DateTimePicker'); };
                /**
                 * Create new date object based on baseDate with updated from the newDate date or time or both.
                 * @param {Date} baseDate current date
                 * @param {Date} newDate updated date
                 * @param {string} datepart what part will be updated: '"date"|"time"|"datetime"'
                 */
                var getUpdatedDateValue = function (baseDate, newDate, datepart) {
                    if (!baseDate)
                        return new Date(newDate);
                    var currDate = new Date(baseDate);
                    if (datepart === 'datetime') {
                        currDate = new Date(newDate);
                    }
                    else if (datepart === 'date') {
                        currDate = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate(), baseDate.getHours(), baseDate.getMinutes(), baseDate.getSeconds(), 0);
                    }
                    else if (datepart === 'time') {
                        currDate = new Date(baseDate.getFullYear(), baseDate.getMonth(), baseDate.getDate(), newDate.getHours(), newDate.getMinutes(), newDate.getSeconds(), 0);
                    }
                    return currDate;
                };
                /**
                 * Set date to the picker
                 */
                var setDate = function (newDate) {
                    if (!newDate)
                        getPicker().date(null);
                    else if (angular.isDate(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, newDate, $scope.datepart));
                    else if (angular.isString(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, new Date(newDate), $scope.datepart));
                    else
                        throw "Unknown date type: " + typeof (newDate);
                };
                /**
                 * Enable/Disable picker
                 */
                var setDisabled = function (isDisabled) {
                    if (isDisabled)
                        getPicker().disable();
                    else
                        getPicker().enable();
                };
                /**
                 * Apply date format in the picker
                 */
                var setFormat = function (format) {
                    if (!angular.isString(format))
                        getPicker().format(false);
                    else
                        getPicker().format(format);
                };
                /**
                 * Apply locale in the picker
                 */
                var setLocale = function (locale) {
                    if (!angular.isString(locale))
                        return;
                    getPicker().locale(locale);
                };
                // create date picker config json
                var config = {};
                if ($scope.showAdditionalButtons === 'true') {
                    config = {
                        showTodayButton: true,
                        showClear: true
                    };
                }
                angular.extend(config, {
                    locale: $scope.locale,
                    inline: isSmallResolution,
                    widgetParent: isSmallResolution ? null : angular.element($scope.htmlContainerSelector),
                    toolbarPlacement: 'bottom',
                    widgetPositioning: {
                        vertical: 'bottom'
                    },
                    tooltips: {
                        today: $izendaLocaleService.localeText('js_GoToToday', 'Go to today'),
                        clear: $izendaLocaleService.localeText('js_ClearSelection', 'Clear selection'),
                        close: $izendaLocaleService.localeText('js_ClosePicker', 'Close the picker'),
                        selectMonth: $izendaLocaleService.localeText('js_SelectMonth', 'Select Month'),
                        prevMonth: $izendaLocaleService.localeText('js_PreviousMonth', 'Previous Month'),
                        nextMonth: $izendaLocaleService.localeText('js_NextMonth', 'Next Month'),
                        selectYear: $izendaLocaleService.localeText('js_SelectYear', 'Select Year'),
                        prevYear: $izendaLocaleService.localeText('js_PreviousYear', 'Previous Year'),
                        nextYear: $izendaLocaleService.localeText('js_NextYear', 'Next Year'),
                        selectDecade: $izendaLocaleService.localeText('js_SelectDecade', 'Select Decade'),
                        prevDecade: $izendaLocaleService.localeText('js_PreviousDecade', 'Previous Decade'),
                        nextDecade: $izendaLocaleService.localeText('js_NextDecade', 'Next Decade'),
                        prevCentury: $izendaLocaleService.localeText('js_PreviousCentury', 'Previous Century'),
                        nextCentury: $izendaLocaleService.localeText('js_NextCentury', 'Next Century')
                    }
                });
                // create picker
                $scope.dateTimePicker = $input['datetimepicker'](config);
                // date picker 'on show' handler
                $input.on('dp.show', function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.show();
                    $widget.css({
                        top: $input.offset().top - $widget.parent().offset().top + $input.height() + 20,
                        left: $input.offset().left - $widget.parent().offset().left
                    });
                });
                // window resize handler
                angular.element($window).on('resize.dp' + uid, function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.hide();
                    $timeout(function () { return $input.blur(); }, 10);
                });
                $btn.on('click', function () {
                    if (!$scope.ngDisabled)
                        $input.focus();
                });
                // watch variables:
                $scope.$watch('ngDisabled', function (newVal) { return setDisabled(newVal); });
                $scope.$watch('dateFormat', function (newVal) { return setFormat(newVal); });
                $scope.$watch('locale', function (newVal) { return setLocale(newVal); });
                // initialize values
                setDisabled($scope.ngDisabled);
                setFormat($scope.dateFormat);
                setLocale($scope.locale);
                if (ngModelCtrl) {
                    $scope.$watch('model', function (newVal) { return setDate(newVal); });
                    $timeout(function () {
                        ngModelCtrl.$render = function () { return setDate(ngModelCtrl.$viewValue); };
                    });
                    $input.on('dp.change', function (e) {
                        var newDateValue = e['date'] ? getUpdatedDateValue($scope.model, e['date'].toDate(), $scope.datepart) : null;
                        ngModelCtrl.$setViewValue(newDateValue);
                    });
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('resize.dp' + uid);
                    var picker = getPicker();
                    if (picker)
                        getPicker().destroy();
                });
            };
        }
        IzendaDateTimePicker.factory = function () {
            var directive = function ($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
                return new IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService);
            };
            directive.$inject = ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService'];
            return directive;
        };
        return IzendaDateTimePicker;
    }());
    module_definition_12.default.directive('izendaDateTimePicker', ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService', IzendaDateTimePicker.factory()]);
});
izendaRequire.define("common/ui/directives/report-viewer", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_13) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaReportViewer = /** @class */ (function () {
        function IzendaReportViewer($rootScope, $timeout) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.restrict = 'AE';
            this.scope = {
                allowColReorder: '@',
                allowedColumnsForReorder: '=',
                reportSetOptions: '=',
                allowColRemove: '@',
                droppableAccept: '@',
                onReorder: '&',
                onHeaderClick: '&',
                onPagingClick: '&',
                onDragOver: '&',
                onRemove: '&',
                emptyText: '=',
                currentInsertColumnOrder: '=',
                htmlText: '='
            };
            this.template = "<div class=\"izenda-report-viewer\">\n\t<div class=\"html-container-placeholder hidden\"></div>\n\t<div class=\"html-container-loading\" style=\"display: none;\" ng-bind=\":: 'js_Loading' | izendaLocale: 'Loading...'\"></div>\n\t<div id=\"renderedReportDiv\" class=\"html-container\"></div>\n</div>";
            IzendaReportViewer.prototype.link = function ($scope, $element) {
                //////////////////////////////////////////////////////////////
                // apply tile html function
                var $htmlContainer = $element.find('.html-container');
                var $htmlContainerLoading = $element.find('.html-container-loading');
                var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
                /**
                 * Prepare report table
                 * @param {jquery object} $table
                 */
                var processReportTable = function () {
                    // prepare table
                    if (!IzendaReportViewer.isTableIsGood($scope.$table))
                        return;
                    IzendaReportViewer.addColReorderHandler($scope, $timeout, function ($from, $to, isVisualGroup) {
                        IzendaReportViewer.onReorder($scope, $from, $to, isVisualGroup);
                    });
                    // add other handlers
                    IzendaReportViewer.addDragHandlers($scope, $rootScope, $element);
                    IzendaReportViewer.addClickHandler($scope);
                    IzendaReportViewer.addColRemoveButtons($scope);
                    izenda.report.registerPostRenderHandlers();
                };
                /**
                 * Apply report content html
                 * @param {string} html
                 */
                var applyHtml = function (html) {
                    // show/hide loading indicator
                    if (html === null) {
                        $htmlContainer.hide();
                        $htmlContainerLoading.show();
                    }
                    else {
                        $htmlContainer.show();
                        $htmlContainerLoading.hide();
                    }
                    // empty result
                    if (typeof (html) !== 'string' || (html && typeof (html) === 'string' && html.trim() === '')) {
                        $htmlContainer.text($scope.emptyText);
                        return;
                    }
                    $htmlContainer.html(html);
                    // is paging enabled
                    IzendaReportViewer.preparePageLinks($scope, $htmlContainer);
                    IzendaReportViewer.preparePagingInput($scope, $htmlContainer);
                    IzendaReportViewer.prepareGoToRecordBtn($scope, $htmlContainer);
                    $scope.$table = $htmlContainer.find('table[name=reportTable],table.ReportTable');
                    if ($scope.$table.length > 0) {
                        // prepare report table
                        processReportTable();
                    }
                };
                // htmlText change handler
                $scope.$watch('htmlText', function (newVal) { return applyHtml(newVal); });
                // is dragging enabled handler
                $rootScope.$watch('isDraggingNow', function (newVal) {
                    if (!newVal) {
                        $htmlContainerPlaceholder.addClass('hidden');
                    }
                });
                // run
                applyHtml($scope.htmlText);
                //////////////////////////////////////////////////////////////
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        /**
         * Check is any kind of visual group applied.
         */
        IzendaReportViewer.isVgApplyed = function ($scope) {
            return angular.isObject($scope.reportSetOptions)
                ? $scope.reportSetOptions.isVgUsed
                : false;
        };
        /**
         * Check is applied AG or VGHierarchy.
         */
        IzendaReportViewer.isTableContainVgColumns = function ($scope) {
            return IzendaReportViewer.isVgApplyed($scope) &&
                ['AnalysisGrid', 'VGHierarchy'].indexOf($scope.reportSetOptions.vgStyle) >= 0;
        };
        /**
         * Calculate count of visual group column.
         */
        IzendaReportViewer.getCountOfVgColumns = function ($scope) {
            var countOfVgColumns = 0;
            if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                var fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
                countOfVgColumns = fieldsInTable.filter(function (field) { return field.isVgUsed; }).length;
            }
            return countOfVgColumns;
        };
        /**
         * Get fields which have own column in preview table
         * @returns {Array} array of field objects.
         */
        IzendaReportViewer.getColumnFields = function ($scope) {
            var fieldsInTable;
            if (IzendaReportViewer.isTableContainVgColumns($scope))
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
            else
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields.filter(function (field) { return !field.isVgUsed; });
            return fieldsInTable;
        };
        IzendaReportViewer.isTableIsGood = function ($table) {
            if (!$table)
                return false;
            // if no table headers - stop:
            var $tableHeader = $table.children('tbody').children('tr.ReportHeader');
            if ($tableHeader.length === 0)
                return false;
            // check if table contains visual groups:
            return true;
        };
        /**
         * Add col reorder handler.
         */
        IzendaReportViewer.addColReorderHandler = function ($scope, $timeout, onColumnReorderCompleted) {
            if ($scope.allowColReorder !== 'true')
                return;
            var bodyOnselectstartSave = String(angular.element(document.body).attr('onselectstart'));
            var bodyUnselectableSave = String(angular.element(document.body).attr('unselectable'));
            var disableTextSelection = function () {
                // jQuery doesn't support the element.text attribute in MSIE 8
                // http://stackoverflow.com/questions/2692770/style-style-textcss-appendtohead-does-not-work-in-ie
                var $style = angular.element('<style id="__disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');
                angular.element(document.head).append($style);
                angular.element(document.body).attr('onselectstart', 'return false;').attr('unselectable', 'on');
                if (window.getSelection) {
                    window.getSelection().removeAllRanges();
                }
                else {
                    document.selection.empty(); // MSIE http://msdn.microsoft.com/en-us/library/ms535869%28v=VS.85%29.aspx
                }
            };
            var restoreTextSelection = function () {
                angular.element('#__disable_text_selection__').remove();
                if (bodyOnselectstartSave)
                    angular.element(document.body).attr('onselectstart', bodyOnselectstartSave);
                else
                    angular.element(document.body).removeAttr('onselectstart');
                if (bodyUnselectableSave)
                    angular.element(document.body).attr('unselectable', bodyUnselectableSave);
                else
                    angular.element(document.body).removeAttr('unselectable');
            };
            var createHelper = function (innerOffset) {
                var $cell = $scope.reorderState.$from;
                var $clone = $cell.clone().wrap('<div class="izenda-common-col-reorder-helper"></div>').parent();
                $clone.width($cell.outerWidth());
                $clone.height($cell.outerHeight());
                $clone.css('top', $cell.position().top);
                $clone.css('left', $cell.position().left + innerOffset);
                $scope.reorderState.$helper = $clone;
                $scope.reorderState.helperOffset = innerOffset;
                $scope.$table.append($clone);
                return $clone;
            };
            var removeHelper = function () {
                $scope.reorderState.$helper.remove();
            };
            var beforeReorderStarted = function () {
                disableTextSelection();
                $scope.reorderState.$from.addClass('izenda-reorder-cell-selected');
                $scope.reorderState.previousPosition = $scope.$table.css('position');
                $scope.$table.css('position', 'relative');
            };
            var afterReorderCompleted = function () {
                $scope.reorderState.$from.removeClass('izenda-reorder-cell-selected');
                $scope.reorderState.itemsCache = null;
                $scope.$table.css('position', $scope.reorderState.previousPosition);
                $scope.$table.find('.izenda-common-col-reorder-active').removeClass('izenda-col-reorder-active');
                removeHelper();
                restoreTextSelection();
            };
            var getCurrentItemsForReorder = function () {
                if (!$scope.reorderState.itemsCache) {
                    $scope.reorderState.itemsCache = $scope.reorderState.$from.parent().children();
                }
                return $scope.reorderState.itemsCache;
            };
            var completeReorder = function () {
                if (!$scope.reorderState.started)
                    return;
                $scope.reorderState.started = false;
                afterReorderCompleted();
                if (angular.isFunction(onColumnReorderCompleted)) {
                    var isVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                    onColumnReorderCompleted($scope.reorderState.$from, $scope.reorderState.$to, isVg);
                }
            };
            $scope.reorderState = {
                started: false,
                $from: null
            };
            // add table handlers:
            angular.element(document).off('mousemove.izendaColReorder');
            angular.element(document).off('mouseup.izendaColReorder');
            angular.element(document).on('mousemove.izendaColReorder', function (e) {
                if (!$scope.reorderState.started)
                    return;
                var currentTableX = e.pageX - $scope.$table.offset().left;
                var isFromColumnVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                // highlight current column
                var $tds = getCurrentItemsForReorder();
                var $toTd = null;
                angular.element.each($tds, function (iTd, td) {
                    var $currTd = angular.element(td);
                    var tdLeft = $currTd.position().left, tdWidth = $currTd.outerWidth();
                    var isTdColumnVg = String($currTd.attr('data-is-vg-column')) === 'true';
                    if (!$currTd.hasClass('izenda-col-reorder-disabled') &&
                        isFromColumnVg === isTdColumnVg &&
                        currentTableX >= tdLeft &&
                        currentTableX < tdLeft + tdWidth) {
                        $toTd = $currTd;
                    }
                });
                // is $toTd changed?
                if ($toTd && (!$scope.reorderState.$to || $toTd.index() !== $scope.reorderState.$to.index())) {
                    $scope.reorderState.$to = $toTd;
                    $tds.removeClass('izenda-common-col-reorder-active');
                    if (!$scope.reorderState.$to.hasClass('izenda-common-col-reorder-active')) {
                        $scope.reorderState.$to.addClass('izenda-common-col-reorder-active');
                    }
                    // bubble inner content
                    var fromIndex = $scope.reorderState.$from.index();
                    var toIndex = $scope.reorderState.$to.index();
                    angular.element.each($tds, function (iTd, td) {
                        var $currTd2 = angular.element(td);
                        var $backups = $currTd2.children('.izenda-common-col-reorder-hidden');
                        if ($backups.length > 0) {
                            $currTd2.children().not('.izenda-common-col-reorder-hidden').remove();
                        }
                        $currTd2.children().removeClass('izenda-common-col-reorder-hidden');
                    });
                    var $currentTd = void 0;
                    var $nextTd = void 0;
                    var i = void 0;
                    if (fromIndex < toIndex) {
                        for (i = fromIndex; i < toIndex; i++) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i + 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                    else {
                        for (i = fromIndex; i > toIndex; i--) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i - 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                }
                // move helper
                $scope.reorderState.$helper.css('left', currentTableX - $scope.reorderState.helperOffset);
            });
            angular.element(document).on('mouseup.izendaColReorder', function () {
                if ($scope.reorderState.downTimer)
                    $timeout.cancel($scope.reorderState.downTimer);
                completeReorder();
            });
            // initialize:
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            // fieldsInTable should contain only fields which have column
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iHeaderRow, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell < fieldsInTable.length) {
                        if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                            var field = fieldsInTable[iCell];
                            $cell.attr('data-is-vg-column', field.isVgUsed ? 'true' : 'false');
                        }
                        else {
                            $cell.attr('data-is-vg-column', 'false');
                        }
                        // mouse down handler
                        $cell.on('mousedown.izendaColReorder', function (e) {
                            $scope.reorderState.started = false;
                            if (e.which !== 1)
                                return;
                            if ($scope.reorderState.downTimer)
                                $timeout.cancel($scope.reorderState.downTimer);
                            $scope.reorderState.downTimer = null;
                            $scope.reorderState.$from = angular.element(e.delegateTarget);
                            $scope.reorderState.downTimer = $timeout(function () {
                                beforeReorderStarted();
                                createHelper(e.offsetX);
                                $scope.reorderState.started = true;
                            }, 250);
                        });
                    }
                    else {
                        $cell.addClass('izenda-col-reorder-disabled');
                    }
                });
            });
        };
        /**
         * Reorder completed handler
         * @param {jquery dom element} $from. Element which we dragged
         * @param {jquery dom element} $to. $from element dropped to this element.
         */
        IzendaReportViewer.onReorder = function ($scope, $from, $to, isVg) {
            if (!angular.isFunction($scope.onReorder))
                return;
            if (!$to || !$from)
                return;
            var fromIndex = $from.index();
            var toIndex = $to.index();
            if (fromIndex === toIndex)
                return;
            if (!isVg) {
                var vgColumnsCount = IzendaReportViewer.getCountOfVgColumns($scope);
                fromIndex -= vgColumnsCount;
                toIndex -= vgColumnsCount;
            }
            $scope.onReorder({ arg0: fromIndex, arg1: toIndex, arg2: isVg });
        };
        ;
        /**
         * Add drag handlers to table
         */
        IzendaReportViewer.addDragHandlers = function ($scope, $rootScope, $element) {
            var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
            // mouse over
            if (!angular.isString($scope.droppableAccept))
                return;
            var $currenttable = $scope.$table;
            var currentTableLeft = $currenttable.offset().left;
            $htmlContainerPlaceholder.height($currenttable.height());
            var columnCoords = [];
            var $currenttableHeader = $scope.$table.find('tr.ReportHeader').last();
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            var $currenttableRows = $currenttableHeader.children('td').slice(0, fieldsInTable.length);
            var countOfVgColumns = IzendaReportViewer.getCountOfVgColumns($scope);
            // calculate 
            angular.element.each($currenttableRows, function (iTh, th) {
                var $th = angular.element(th);
                if (iTh >= countOfVgColumns) {
                    columnCoords.push({
                        left: $th.position().left,
                        width: $th.outerWidth()
                    });
                }
            });
            // mouse enter handler
            $scope.$table.on('mouseenter', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                currentTableLeft = $currenttable.offset().left;
                $htmlContainerPlaceholder.css('top', $currenttable.position().top + 'px');
                $htmlContainerPlaceholder.height($currenttable.height());
                if (columnCoords.length > 0)
                    $htmlContainerPlaceholder.css('left', columnCoords[0].left + 'px');
                $htmlContainerPlaceholder.removeClass('hidden');
            });
            // mouse leave handler
            $scope.$table.on('mouseleave', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                if (event['toElement'] && angular.element(event['toElement']).hasClass('html-container-placeholder'))
                    return;
                $htmlContainerPlaceholder.addClass('hidden');
            });
            // mouse move handler
            $scope.$table.on('mousemove', function (event) {
                if (!$rootScope.isDraggingNow)
                    return;
                var left = event.pageX - currentTableLeft;
                for (var k = 0; k < columnCoords.length; k++) {
                    var column = columnCoords[k];
                    if (k < columnCoords.length - 1) {
                        var nextColumn = columnCoords[k + 1];
                        if (column.left <= left && left < nextColumn.left) {
                            if (left <= column.left + (nextColumn.left - column.left) / 2) {
                                $htmlContainerPlaceholder.css('left', column.left + 'px');
                                $scope.currentInsertColumnOrder = k;
                                $scope.$applyAsync();
                            }
                            else {
                                $htmlContainerPlaceholder.css('left', nextColumn.left + 'px');
                                $scope.currentInsertColumnOrder = k + 1;
                                $scope.$applyAsync();
                            }
                        }
                    }
                    else {
                        if (left >= column.left + column.width / 2) {
                            $htmlContainerPlaceholder.css('left', (column.left + column.width) + 'px');
                            $scope.currentInsertColumnOrder = k + 1;
                            $scope.$applyAsync();
                        }
                        else if (left >= column.left) {
                            $htmlContainerPlaceholder.css('left', (column.left) + 'px');
                            $scope.currentInsertColumnOrder = k;
                            $scope.$applyAsync();
                        }
                    }
                }
            });
        };
        ;
        /**
         * Add table header click handler
         */
        IzendaReportViewer.addClickHandler = function ($scope) {
            if (!angular.isFunction($scope.onHeaderClick))
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iTableHeader, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell >= fieldsInTable.length)
                        return;
                    $cell.on('mousedown', function (e) {
                        if (e.which !== 1)
                            return;
                        if (!angular.isFunction($scope.onHeaderClick))
                            return;
                        var $this = angular.element(e.delegateTarget);
                        var fieldIndex = $this.index();
                        $scope.onHeaderClick({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Add buttons which allow to remvoe table columns
         */
        IzendaReportViewer.addColRemoveButtons = function ($scope) {
            if ($scope.allowColRemove !== 'true')
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            // iterate headers
            angular.element.each($headerRows, function (iHeaderRow, headerRow) {
                var $tableHeader = angular.element(headerRow);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    $cell.css('position', 'relative');
                    if (iCell >= fieldsInTable.length)
                        return;
                    // add cell handlers
                    $cell.on('mouseover.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').show();
                    });
                    $cell.on('mouseout.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').hide();
                    });
                    // add button
                    var $reportColumnRemoveButton = angular.element('<div class="izenda-common-remove-column-btn"><span class="glyphicon glyphicon-remove"></span></div>');
                    $cell.append($reportColumnRemoveButton);
                    $reportColumnRemoveButton.on('mousedown.removebtn', function (e) {
                        if (e.which !== 1)
                            return;
                        e.stopImmediatePropagation();
                        if (!angular.isFunction($scope.onRemove))
                            return;
                        var fieldIndex = angular.element(e.delegateTarget).parent().index();
                        $scope.onRemove({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Remove 'onkeydown' event and add own keydown and blur events, which call onPagingClick handler.
         * @param {} $scope Current directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls
         */
        IzendaReportViewer.preparePagingInput = function ($scope, $htmlContainer) {
            var $pageInputs = $htmlContainer.find('.iz-pagelink-exact-page-input');
            if (!$pageInputs.length)
                return;
            angular.element.each($pageInputs, function (iPageInput, pageInput) {
                var $pageInput = angular.element(pageInput);
                $pageInput.attr('onkeydown', null);
                // input changed handler
                var onInputChanged = function ($input) {
                    var pagesCount = parseInt(String($input.attr('data-pages-count')));
                    var itemsPerPage = parseInt(String($input.attr('data-items-per-page')));
                    var val = Number($input.val());
                    if (val < 1)
                        val = 1;
                    if (val > pagesCount)
                        val = pagesCount;
                    var startRecord = ((val - 1) * itemsPerPage) + 1;
                    var finishRecord = startRecord + itemsPerPage - 1;
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink-exact-page-input',
                        arg1: startRecord + '-' + finishRecord
                    });
                };
                $pageInput.on('blur', function (event) {
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
                $pageInput.on('keydown', function (event) {
                    var kc = event.keyCode || event.which;
                    if (kc !== 13)
                        return;
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event, which call onPagingClick handler.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.preparePageLinks = function ($scope, $htmlContainer) {
            var $pageLinks = $htmlContainer.find('.iz-pagelink, .iz-pagelink-direction-btn');
            if (!$pageLinks.length || !angular.isFunction($scope.onPagingClick))
                return;
            angular.element.each($pageLinks, function (iPageLink, pageLink) {
                var $pageLink = angular.element(pageLink);
                var onClickScript = String($pageLink.attr('onclick'));
                var matchResult = /results=(\d+\-\d+)/g.exec(onClickScript);
                if (matchResult && matchResult.length === 2)
                    $pageLink.attr('data-active-page', matchResult[1]);
                $pageLink.attr('onclick', null);
                $pageLink.on('click', function (e) {
                    var $currentLink = angular.element(e.delegateTarget);
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink',
                        arg1: $currentLink.attr('data-active-page')
                    });
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.prepareGoToRecordBtn = function ($scope, $htmlContainer) {
            var $btn = $htmlContainer.find('.iz-pagelink-go-to-page-btn');
            $btn.attr('onclick', null);
            $btn.on('click', function (e) {
                var $this = angular.element(e.delegateTarget);
                var itemsCount = parseInt(String($this.attr('data-items-count')));
                var itemsPerPage = parseInt(String($this.attr('data-items-per-page')));
                var inputValue;
                try {
                    inputValue = parseInt(String(angular.element('#pageNumEd').val()));
                }
                catch (e) {
                    inputValue = 1;
                }
                if (itemsCount < inputValue)
                    inputValue = itemsCount;
                var startRecord = inputValue - (inputValue - 1) % itemsPerPage;
                var finishRecord = startRecord + itemsPerPage - 1;
                $scope.onPagingClick({
                    arg0: 'iz-pagelink-exact-page-input',
                    arg1: startRecord + '-' + finishRecord
                });
            });
        };
        IzendaReportViewer.factory = function () {
            var directive = function ($rootScope, $timeout) {
                return new IzendaReportViewer($rootScope, $timeout);
            };
            directive.$inject = ['$rootScope', '$timeout'];
            return directive;
        };
        return IzendaReportViewer;
    }());
    module_definition_13.default.directive('izendaReportViewer', ['$rootScope', '$timeout', IzendaReportViewer.factory()]);
});
izendaRequire.define("common/ui/directives/select-checkboxes", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_14) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select checkboxes directive.
     */
    var IzendaSelectCheckboxes = /** @class */ (function () {
        function IzendaSelectCheckboxes() {
            this.restrict = 'AE';
            this.scope = {
                existentValues: '=',
                ngModel: '='
            };
            this.template = "<div ng-repeat=\"existentValue in existentValues\">\n\t<label class=\"izenda-common-select-checkboxes-label\">\n\t\t<input type=\"checkbox\" ng-click=\"clickCheckbox(existentValue)\" ng-checked=\"isChecked(existentValue)\"/>\n\t\t<span ng-bind=\"existentValue.text\"></span>\n\t</label>\n</div>";
            IzendaSelectCheckboxes.prototype.link = function ($scope, $element, attrs) {
                $element.addClass('izenda-common-select-checkboxes');
                $scope.$watch('existentValues', function () { return $scope.$parent.$eval(attrs.ngChange); }, true);
                $scope.$watchCollection('ngModel', function () { return $scope.$parent.$eval(attrs.ngChange); });
                $scope.isChecked = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    return viewValue.indexOf(existentValue.value) >= 0;
                };
                $scope.clickCheckbox = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    if (viewValue.indexOf(existentValue.value) >= 0)
                        viewValue.splice(viewValue.indexOf(existentValue.value), 1);
                    else
                        viewValue.push(existentValue.value);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSelectCheckboxes.factory = function () {
            return function () { return new IzendaSelectCheckboxes(); };
        };
        return IzendaSelectCheckboxes;
    }());
    module_definition_14.default.directive('izendaSelectCheckboxes', [IzendaSelectCheckboxes.factory()]);
});
izendaRequire.define("common/ui/directives/splashscreen", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_15) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaSplashScreen = /** @class */ (function () {
        function IzendaSplashScreen($timeout, $izendaUrlService) {
            this.$timeout = $timeout;
            this.restrict = 'EA';
            this.scope = {
                ngShow: '=',
                text: '=',
                loadingIndicatorUrl: '@',
                parentSelector: '@'
            };
            IzendaSplashScreen.prototype.link = function ($scope) {
                var splashTimeout = null;
                var template = "<div class=\"izenda-common-splashscreen hidden\">\n\t<div class=\"izenda-common-splashscreen-inner text-center\">\n\t\t<img class=\"izenda-common-splashscreen-loading\"/>\n\t\t<span class=\"izenda-common-splashscreen-text\"></span>\n\t</div>\n</div>";
                var $element = angular.element(template);
                var added = false;
                // loading spinner
                var defaultLoadingIndicatorUrl = angular.isString($scope.loadingIndicatorUrl)
                    ? $scope.loadingIndicatorUrl
                    : $izendaUrlService.settings.urlRpPage + 'image=ModernImages.loading-grid.gif';
                var parentSelectorText = angular.isString($scope.parentSelector) ? $scope.parentSelector : 'body';
                var bodyOverflow;
                var bodyPadding;
                var $body;
                var initialize = function () {
                    $element.find('.izenda-common-splashscreen-loading').attr('src', defaultLoadingIndicatorUrl);
                    $body = angular.element(parentSelectorText);
                    if ($body.length > 0 && !added) {
                        bodyOverflow = $body.css('overflow');
                        bodyPadding = $body.css('padding-left');
                        $body.append($element);
                        added = true;
                    }
                };
                var setText = function () {
                    var $inner = $element.find('.izenda-common-splashscreen-text');
                    $inner.text($scope.text);
                };
                var bodyHasScrollbar = function () {
                    return $body.length > 0 && $body.get(0).scrollHeight > $body.height();
                };
                var showSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                    }
                    splashTimeout = $timeout(function () {
                        $element.removeClass('hidden');
                        bodyOverflow = $body.css('overflow');
                        $body.css('overflow', 'hidden');
                        if (bodyHasScrollbar()) {
                            bodyPadding = $body.css('padding-left');
                            $body.css('padding-right', '17px');
                        }
                    }, 1000);
                };
                var hideSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                        $element.addClass('hidden');
                        $body.css('overflow', bodyOverflow);
                        if (bodyHasScrollbar()) {
                            $body.css('padding-right', bodyPadding);
                        }
                    }
                };
                $scope.$watch('ngShow', function (newVal) {
                    if (newVal)
                        showSplash();
                    else
                        hideSplash();
                });
                $scope.$watch('text', function () { return setText(); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSplashScreen.factory = function () {
            var directive = function ($timeout, $izendaUrlService) { return new IzendaSplashScreen($timeout, $izendaUrlService); };
            directive.$inject = ['$timeout', '$izendaUrlService'];
            return directive;
        };
        return IzendaSplashScreen;
    }());
    module_definition_15.default.directive('izendaSplashScreen', ['$timeout', '$izendaUrlService', IzendaSplashScreen.factory()]);
});
izendaRequire.define("common/ui/directives/switcher", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_16) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Switcher directive
     */
    var IzendaSwitcher = /** @class */ (function () {
        function IzendaSwitcher() {
            this.restrict = 'A';
            this.scope = {
                tooltip: '=',
                label: '=',
                ngModel: '='
            };
            this.template = "<span ng-show=\"label != null && label != ''\" class=\"izenda-common-switcher-label\">{{label}}</span>\n<span class=\"izenda-common-switcher\" title=\"{{tooltip}}\">\n\t<span class=\"izenda-common-switcher-text-off\">O</span>\n\t<span class=\"izenda-common-switcher-item\"></span>\n\t<span class=\"izenda-common-switcher-text-on\">I</span>\n</span>";
            IzendaSwitcher.prototype.link = function ($scope, $element) {
                $element.click(function (e) {
                    e.stopPropagation();
                    $scope.ngModel = !$scope.ngModel;
                    $scope.$parent.$apply();
                });
                var $switcher = $element.find('.izenda-common-switcher');
                $scope.$watch('ngModel', function (newVal) {
                    if (newVal)
                        $switcher.addClass('on');
                    else
                        $switcher.removeClass('on');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSwitcher.factory = function () {
            return function () { return new IzendaSwitcher(); };
        };
        return IzendaSwitcher;
    }());
    module_definition_16.default.directive('izendaSwitcher', [IzendaSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/toggle-button", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_17) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Toggle button directive
     */
    var IzendaToggleButton = /** @class */ (function () {
        function IzendaToggleButton() {
            this.restrict = 'EA';
            this.transclude = true;
            this.require = ['ngModel'];
            this.scope = {
                trueValue: '=',
                falseValue: '='
            };
            this.template = "<span type=\"button\" class=\"btn izenda-toggle-button-btn active\" data-toggle=\"button\">\n\t<ng-transclude></ng-transclude>\n</span>";
            IzendaToggleButton.prototype.link = function ($scope, $element, attrs, requiredParams) {
                var ngModel = requiredParams[0];
                var btn = $element.children('.btn');
                $scope.$parent.$watch(attrs.ngModel, function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    if (newVal == $scope.trueValue) {
                        if (btn.hasClass('active')) {
                            btn.removeClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                    else if (newVal == $scope.falseValue) {
                        if (!btn.hasClass('active')) {
                            btn.addClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                });
                if (ngModel.$viewValue === $scope.trueValue) {
                    if (btn.hasClass('active')) {
                        btn.removeClass('active');
                    }
                }
                else if (ngModel.$viewValue === $scope.falseValue) {
                    if (!btn.hasClass('active')) {
                        btn.addClass('active');
                    }
                }
                $element.on('click', function () { return ngModel.$setViewValue(!ngModel.$viewValue); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToggleButton.factory = function () {
            return function () { return new IzendaToggleButton(); };
        };
        return IzendaToggleButton;
    }());
    module_definition_17.default.directive('izendaToggleButton', [IzendaToggleButton.factory()]);
});
izendaRequire.define("common/ui/components/schedule/schedule-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/settings-service", "common/ui/services/schedule-service", "izenda-external-libs"], function (require, exports, module_definition_18, izenda_component_4, localization_service_3, settings_service_2, schedule_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Schedule component definition
     */
    var IzendaScheduleComponent = /** @class */ (function () {
        function IzendaScheduleComponent($izendaLocaleService, $izendaSettingsService, $izendaScheduleService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaScheduleService = $izendaScheduleService;
        }
        /**
         * Component init
         */
        IzendaScheduleComponent.prototype.$onInit = function () {
            this.dateFormat = this.$izendaSettingsService.dateFormat;
            this.culture = this.$izendaSettingsService.culture;
        };
        IzendaScheduleComponent = __decorate([
            izenda_component_4.default(module_definition_18.default, 'izendaScheduleComponent', ['$izendaLocaleService', '$izendaSettingsService', '$izendaScheduleService'], {
                templateUrl: '###RS###extres=components.common.ui.components.schedule.schedule-template.html',
                bindings: {
                    scheduleConfig: '=',
                    repeatTypes: '<',
                    emailTypes: '<',
                    timezones: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_3.default,
                settings_service_2.default,
                schedule_service_1.default])
        ], IzendaScheduleComponent);
        return IzendaScheduleComponent;
    }());
    exports.default = IzendaScheduleComponent;
});
izendaRequire.define("common/ui/components/select-report/select-report-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_19, izenda_component_5, localization_service_4, url_service_2, settings_service_3, common_query_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report component definition
     */
    var IzendaSelectReportComponent = /** @class */ (function () {
        function IzendaSelectReportComponent($timeout, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.uncategorizedText = this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.reset();
        }
        IzendaSelectReportComponent.prototype.$onChanges = function (changesObj) {
            var _this = this;
            if (!changesObj.opened)
                return;
            var currentOpened = changesObj.opened.currentValue;
            if (currentOpened) {
                this.reset();
                this.openedInner = true;
                // timeout is needed for the smoother modal animation
                this.$timeout(function () {
                    _this.hideAll = false;
                    _this.$izendaCommonQueryService.getReportSetCategory(_this.uncategorizedText).then(function (data) {
                        var reportSets = data.ReportSets;
                        _this.addCategoriesToModal(reportSets);
                        _this.addReportsToModal(reportSets);
                        _this.isLoading = false;
                    });
                }, 1000);
            }
        };
        /**
         * Add report parts to modal
         */
        IzendaSelectReportComponent.prototype.addReportPartsToModal = function (reportParts) {
            this.groups = [];
            if (!reportParts || !reportParts.length)
                return;
            // add groups:
            var currentGroup = [];
            for (var i = 0; i < reportParts.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportPart = reportParts[i];
                reportPart.isReportPart = true;
                currentGroup.push(reportPart);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Add reportset categories to modal select control.
         */
        IzendaSelectReportComponent.prototype.addCategoriesToModal = function (reportSets) {
            var _this = this;
            if (!reportSets)
                return;
            this.categories = reportSets
                .filter(function (report) { return !report.Dashboard; })
                .map(function (report) {
                var category = report.Category ? report.Category : _this.uncategorizedText;
                return !report.Subcategory
                    ? category
                    : category + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
            });
            // make categories unique
            this.categories = Array.from(new Set(this.categories));
            if (!this.category)
                this.category = this.uncategorizedText;
        };
        /**
         * Add report to modal dialog body.
         */
        IzendaSelectReportComponent.prototype.addReportsToModal = function (reportSets) {
            this.groups = [];
            var reportSetsToShow = [];
            if (reportSets && reportSets.length)
                reportSetsToShow = reportSets.filter(function (rs) { return !rs.Dashboard && rs.Name; });
            if (!reportSetsToShow || !reportSetsToShow.length)
                return;
            // add groups:
            var currentGroup = [];
            this.groups.length = 0;
            for (var i = 0; i < reportSetsToShow.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportSet = reportSetsToShow[i];
                reportSet.isReportPart = false;
                currentGroup.push(reportSet);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Select category handler
         */
        IzendaSelectReportComponent.prototype.categoryChangedHandler = function () {
            var _this = this;
            if (this.isLoading)
                return;
            this.isLoading = true;
            this.groups = [];
            if (!this.category)
                this.category = this.uncategorizedText;
            this.$izendaCommonQueryService.getReportSetCategory(this.category).then(function (data) {
                _this.addReportsToModal(data.ReportSets);
                _this.isLoading = false;
            });
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * User clicked to report set item
         */
        IzendaSelectReportComponent.prototype.itemSelectedHandler = function (item) {
            var _this = this;
            var isReportPart = item.isReportPart;
            var reportFullName = item.Name;
            if (item.CategoryFull)
                reportFullName = item.CategoryFull + this.$izendaSettingsService.getCategoryCharacter() + reportFullName;
            if (!isReportPart) {
                // if report set selected
                this.isLoading = true;
                this.groups = [];
                this.$izendaCommonQueryService.getReportParts(reportFullName).then(function (data) {
                    var reports = data.Reports;
                    _this.addReportPartsToModal(reports);
                    _this.isLoading = false;
                });
            }
            else {
                this.openedInner = false;
                // if report part selected
                if (angular.isFunction(this.onSelected))
                    this.onSelected({ reportPartInfo: item });
            }
        };
        /**
         * Reset form
         */
        IzendaSelectReportComponent.prototype.reset = function () {
            this.openedInner = false;
            this.category = this.uncategorizedText;
            this.categories = [];
            this.groups = [];
            this.isLoading = true;
            this.hideAll = true;
        };
        IzendaSelectReportComponent = __decorate([
            izenda_component_5.default(module_definition_19.default, 'izendaSelectReportComponent', ['$timeout', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report.select-report-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_4.default,
                url_service_2.default,
                settings_service_3.default,
                common_query_service_2.default])
        ], IzendaSelectReportComponent);
        return IzendaSelectReportComponent;
    }());
    exports.default = IzendaSelectReportComponent;
});
izendaRequire.define("common/ui/components/select-report-name/select-report-name-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_20, izenda_component_6, localization_service_5, url_service_3, settings_service_4, common_query_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report name component definition
     */
    var IzendaSelectReportNameComponent = /** @class */ (function () {
        function IzendaSelectReportNameComponent($q, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService, reportNameInputPlaceholderText, reportNameEmptyError, reportNameInvalidError) {
            this.$q = $q;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reportNameEmptyError = reportNameEmptyError;
            this.reportNameInvalidError = reportNameInvalidError;
            // other
            this.nextId = 1;
            this.isCategoryAllowed = $izendaSettingsService.getCommonSettings().showCategoryTextboxInSaveDialog;
            this.reportNameInputPlaceholderText = this.$izendaLocaleService
                .localeText(reportNameInputPlaceholderText[0], reportNameInputPlaceholderText[1]);
            this.textCreateNew = $izendaLocaleService.localeText('js_CreateNew', 'Create New');
            this.textUncategorized = $izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.textErrorReportNameEmpty = $izendaLocaleService.localeText(reportNameEmptyError[0], reportNameEmptyError[1]);
            this.textErrorInvalidReportName = $izendaLocaleService.localeText(reportNameInvalidError[0], reportNameInvalidError[1]);
            this.textErrorInvalidCategoryName = $izendaLocaleService.localeText('js_InvalidCategoryName', 'Invalid Category Name');
            this.isOpenedInner = false;
            this.isNewReportDialog = false;
            this.reportName = '';
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.errorMessages = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        }
        IzendaSelectReportNameComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.opened) {
                var currentOpened = changesObj.opened.currentValue;
                if (currentOpened)
                    this.openModal();
            }
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportNameComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * Close modal dialog
         */
        IzendaSelectReportNameComponent.prototype.closeModal = function () {
            this.isOpenedInner = false;
        };
        /**
         * Open modal dialog
         */
        IzendaSelectReportNameComponent.prototype.openModal = function () {
            var _this = this;
            this.isSelectDisabled = true;
            this.isOpenedInner = true;
            this.resetForm();
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.nextId = 1;
            // show loading message inside select control
            this.categories = [];
            this.categories.push({
                id: -1,
                name: this.$izendaLocaleService.localeText('js_Loading', 'Loading...')
            });
            this.selectedCategory = this.categories[0];
            this.reportName = reportInfo.name;
            this.$izendaCommonQueryService.getReportSetCategory(this.textUncategorized).then(function (data) {
                _this.categories = [];
                _this.selectedCategory = null;
                _this.reportSets = data.ReportSets;
                // add categories
                // "Create new"
                if (_this.$izendaSettingsService.getCommonSettings().allowCreateNewCategory)
                    _this.categories.push({
                        id: _this.nextId++,
                        name: _this.textCreateNew
                    });
                // "Uncategorized"
                _this.categories.push({
                    id: _this.nextId++,
                    name: _this.textUncategorized
                });
                _this.selectedCategory = _this.getCategoryObjectByName(_this.textUncategorized);
                // Other categories
                if (angular.isArray(_this.reportSets)) {
                    _this.reportSets.forEach(function (report) {
                        var id = _this.nextId++;
                        var currentCategoryName = report.Category;
                        if (!currentCategoryName)
                            currentCategoryName = _this.textUncategorized;
                        currentCategoryName = !report.Subcategory
                            ? currentCategoryName
                            : currentCategoryName + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
                        if (_this.categories && _this.categories.length) {
                            if (!_this.categories.find(function (c) { return c.name === currentCategoryName; })) {
                                // if have't already added
                                var cat = {
                                    id: id,
                                    name: currentCategoryName
                                };
                                _this.categories.push(cat);
                                if (reportInfo.category === currentCategoryName) {
                                    _this.selectedCategory = cat;
                                }
                            }
                        }
                    });
                }
                _this.isSelectDisabled = false;
            });
        };
        /**
         * "Enter" button key press handler for report name <input>
         * @param {event object} $event.
         */
        IzendaSelectReportNameComponent.prototype.reportNameKeyPressed = function ($event) {
            if ($event.keyCode === 13 /* Enter */)
                this.completeHandler();
        };
        /**
         * OK button pressed
         */
        IzendaSelectReportNameComponent.prototype.completeHandler = function () {
            var _this = this;
            this.validateForm().then(function () {
                _this.closeModal();
                var categoryName = _this.isCreatingNewCategory ? _this.newCategoryName : _this.selectedCategory.name;
                if (angular.isFunction(_this.onSelected)) {
                    _this.onSelected({
                        reportName: _this.reportName,
                        categoryName: categoryName
                    });
                }
            }, function () { });
        };
        /**
         * Get report with given name from report list
         * @param {string} report name.
         * @param {Array} list with reports.
         */
        IzendaSelectReportNameComponent.prototype.isReportInReportList = function (reportName, reportList) {
            if (!reportList || !reportList.length)
                return false;
            return reportList.find(function (rs) { return rs.Name === reportName.trim(); });
        };
        /**
         * Set form to it's initial state
         */
        IzendaSelectReportNameComponent.prototype.resetForm = function () {
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.errorMessages = [];
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
            if (this.isNewReportDialog) {
                this.reportName = '';
            }
            else {
                var separatorIndex = (reportInfo && reportInfo.name)
                    ? reportInfo.name.lastIndexOf(this.$izendaSettingsService.getCategoryCharacter())
                    : -1;
                this.reportName = (separatorIndex < 0) ? reportInfo.name : reportInfo.name.substr(separatorIndex + 1);
            }
        };
        /**
         * Clear all focus
         */
        IzendaSelectReportNameComponent.prototype.clearFocus = function () {
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        };
        /**
         * Set focus on report name input
         */
        IzendaSelectReportNameComponent.prototype.setFocus = function () {
            this.isNameFocused = true;
        };
        /**
         * Categories were updated.
         */
        IzendaSelectReportNameComponent.prototype.updateCategoriesHandler = function (newCategories) {
            var _this = this;
            this.categories = newCategories.map(function (newCategoryName) {
                return {
                    id: _this.nextId++,
                    name: newCategoryName
                };
            });
            var selectedCategoryName = this.selectedCategory ? this.selectedCategory.name : null;
            this.selectedCategory = this.getCategoryObjectByName(selectedCategoryName);
        };
        /**
         * Report category selected handler
         */
        IzendaSelectReportNameComponent.prototype.categorySelectedHandler = function (category) {
            if (!this.isCategoryAllowed) {
                this.selectedCategory = this.getCategoryObjectByName(this.textUncategorized);
                return;
            }
            this.selectedCategory = this.getCategoryObjectByName(category);
            if (this.selectedCategory !== null) {
                if (this.selectedCategory.name === this.textCreateNew) {
                    this.isCreatingNewCategory = true;
                    this.clearFocus();
                    this.isCategoryFocused = true;
                }
                else {
                    this.isCreatingNewCategory = false;
                }
            }
            else {
                this.isCreatingNewCategory = false;
            }
        };
        /**
         * Validate form
         */
        IzendaSelectReportNameComponent.prototype.validateForm = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                // check report name not empty
                _this.errorMessages.length = 0;
                _this.reportName = angular.isString(_this.reportName) ? _this.reportName.trim() : '';
                if (!_this.reportName) {
                    _this.errorMessages.push(_this.textErrorReportNameEmpty);
                    reject();
                    return false;
                }
                // check report name is valid
                var settings = _this.$izendaSettingsService.getCommonSettings();
                var reportNameFixed = window.utility.fixReportNamePath(_this.reportName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                if (!reportNameFixed) {
                    _this.errorMessages.push(_this.textErrorInvalidReportName);
                    reject();
                    return false;
                }
                _this.reportName = reportNameFixed;
                // check category
                if (_this.isCreatingNewCategory) {
                    var fixedCategoryName = window.utility.fixReportNamePath(_this.newCategoryName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                    if (!fixedCategoryName) {
                        _this.errorMessages.push(_this.textErrorInvalidCategoryName);
                        reject();
                        return false;
                    }
                    _this.newCategoryName = fixedCategoryName;
                    for (var i = 0; i < _this.categories.length; i++) {
                        if (_this.newCategoryName === _this.categories[i]['name']) {
                            _this.errorMessages.push(_this.getErrorTextCategoryExist(_this.newCategoryName));
                            reject();
                            return false;
                        }
                    }
                    resolve();
                    return true;
                }
                // check report name
                var selectedCategoryName = _this.selectedCategory.name;
                // resolve if it is same report
                var reportInfo = _this.$izendaUrlService.getReportInfo();
                if (reportInfo.name === _this.reportName && reportInfo.category === selectedCategoryName) {
                    _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                        _this.$izendaSettingsService.getCategoryCharacter() +
                        _this.reportName));
                    reject();
                    return false;
                }
                // check report isn't in that category
                if (selectedCategoryName === _this.textUncategorized) {
                    if (_this.isReportInReportList(_this.reportName, _this.reportSets)) {
                        _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                            _this.$izendaSettingsService.getCategoryCharacter() +
                            _this.reportName));
                        reject();
                        return false;
                    }
                    resolve();
                    return true;
                }
                else {
                    _this.$izendaCommonQueryService.getReportSetCategory(selectedCategoryName).then(function (data) {
                        _this.reportSets = data.ReportSets;
                        if (_this.isReportInReportList(_this.reportName, data.ReportSets)) {
                            _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                                _this.$izendaSettingsService.getCategoryCharacter() +
                                _this.reportName));
                            reject();
                            return false;
                        }
                        resolve();
                        return true;
                    });
                }
                return true;
            });
        };
        /**
         * Get category object by it's id
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectById = function (id) {
            return this.categories.find(function (category) { return category.id === id; }) || null;
        };
        /**
         * Get category object by it's name
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectByName = function (name) {
            return this.categories.find(function (category) { return category.name === name; }) || null;
        };
        IzendaSelectReportNameComponent.prototype.getInvalidCharsRegex = function () {
            var additionalCharacter = '';
            if (jsResources.categoryCharacter !== '\\')
                additionalCharacter = jsResources.categoryCharacter.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
            return new RegExp('[^A-Za-z0-9_/' + additionalCharacter + "\\-'' \\\\]", 'g');
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextCategoryExist = function (categoryName) {
            return this.$izendaLocaleService.localeTextWithParams('js_CategoryExist', 'Category with name "{0}" already exist.', [categoryName]);
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextReportExist = function (fullReportName) {
            return this.$izendaLocaleService.localeTextWithParams('js_ReportAlreadyExist', 'Dashboard or report "{0}" already exist', [fullReportName]);
        };
        IzendaSelectReportNameComponent = __decorate([
            izenda_component_6.default(module_definition_20.default, 'izendaSelectReportNameComponent', ['$q', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService', 'izenda.common.ui.reportNameInputPlaceholderText',
                'izenda.common.ui.reportNameEmptyError', 'izenda.common.ui.reportNameInvalidError'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report-name.select-report-name-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_5.default,
                url_service_3.default,
                settings_service_4.default,
                common_query_service_3.default, Array, String, String])
        ], IzendaSelectReportNameComponent);
        return IzendaSelectReportNameComponent;
    }());
    exports.default = IzendaSelectReportNameComponent;
    /**
     * Directive docs.
     */
    var IzendaCategorySelect = /** @class */ (function () {
        function IzendaCategorySelect($izendaSettingsService) {
            this.$izendaSettingsService = $izendaSettingsService;
            this.restrict = 'A';
            this.scope = {
                categories: '=',
                category: '=',
                onSelect: '&',
                onCategoriesChanged: '&'
            };
            IzendaCategorySelect.prototype.link = function ($scope, $element) {
                var categoryCharacter = $izendaSettingsService.getCategoryCharacter();
                var commonSettings = $izendaSettingsService.getCommonSettings();
                var stripInvalidCharacters = commonSettings.stripInvalidCharacters;
                var allowInvalidCharacters = commonSettings.allowInvalidCharacters;
                var categoryControl = new AdHoc.Utility.IzendaCategorySelectorControl($element, categoryCharacter, stripInvalidCharacters, allowInvalidCharacters);
                categoryControl.addSelectedHandler(function (val) {
                    if (angular.isFunction($scope.onSelect)) {
                        $scope.onSelect({
                            val: val
                        });
                        $scope.$applyAsync();
                    }
                });
                // watch for collapsed state change
                $scope.$watchCollection('categories', function () {
                    updateCategories();
                    updateCategory();
                });
                $scope.$watch('category', function () {
                    updateCategory();
                });
                function updateCategories() {
                    var previousLength = $scope.categories.length;
                    categoryControl.setCategories($scope.categories);
                    var newCategories = collectCategories();
                    if (previousLength !== newCategories.length && angular.isFunction($scope.onCategoriesChanged)) {
                        $scope.onCategoriesChanged({
                            newCategories: newCategories
                        });
                        $scope.$applyAsync();
                    }
                }
                function updateCategory() {
                    if (angular.isObject($scope.category) && $scope.category.id !== 1) {
                        categoryControl.select($scope.category.name);
                    }
                }
                function collectCategories() {
                    var options = angular.element.map($element.children('option'), function ($option) {
                        return $option.value;
                    });
                    return options;
                }
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaCategorySelect.factory = function () {
            var directive = function ($izendaSettingsService) { return new IzendaCategorySelect($izendaSettingsService); };
            directive.$inject = ['$izendaSettingsService'];
            return directive;
        };
        return IzendaCategorySelect;
    }());
    module_definition_20.default.directive('izendaCategorySelect', ['$izendaSettingsService', IzendaCategorySelect.factory()]);
    var CategoryObject = /** @class */ (function () {
        function CategoryObject() {
        }
        return CategoryObject;
    }());
});
izendaRequire.define("common/ui/components/share/share-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/ui/services/share-service", "izenda-external-libs"], function (require, exports, module_definition_21, izenda_component_7, localization_service_6, share_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaShareComponent = /** @class */ (function () {
        function IzendaShareComponent($izendaLocaleService, $izendaShareService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaShareService = $izendaShareService;
        }
        /**
         * Check is share rule selected right is valid
         */
        IzendaShareComponent.prototype.getShareRuleValidationMessage = function (shareRule) {
            if (!shareRule.right && !shareRule.subject)
                return this.$izendaLocaleService.localeText('js_NessesarySelectRight', 'It is necessary to choose the right, otherwise it will be ignored.');
            return null;
        };
        /**
         * Remove share rule handler.
         * @param {Core.IzendaShareRuleModel} shareRule
         */
        IzendaShareComponent.prototype.removeShareRule = function (shareRule) {
            this.$izendaShareService.removeShareRule(shareRule);
        };
        /**
         * Add share rule
         */
        IzendaShareComponent.prototype.addShareRule = function () {
            this.$izendaShareService.addNewShareRule();
        };
        IzendaShareComponent = __decorate([
            izenda_component_7.default(module_definition_21.default, 'izendaShareComponent', ['$izendaLocaleService', '$izendaShareService'], {
                templateUrl: '###RS###extres=components.common.ui.components.share.share-template.html',
                bindings: {
                    subjects: '<',
                    rights: '<',
                    shareRules: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_6.default,
                share_service_1.default])
        ], IzendaShareComponent);
        return IzendaShareComponent;
    }());
    exports.default = IzendaShareComponent;
});
izendaRequire.define("common/ui/module", ["require", "exports", "common/ui/module-definition", "common/ui/services/share-service", "common/ui/services/schedule-service", "common/ui/directives/align-switcher", "common/ui/directives/autocomplete", "common/ui/directives/bootstrap", "common/ui/directives/color-picker", "common/ui/directives/datetime-picker", "common/ui/directives/report-viewer", "common/ui/directives/select-checkboxes", "common/ui/directives/splashscreen", "common/ui/directives/switcher", "common/ui/directives/toggle-button", "common/ui/components/schedule/schedule-component", "common/ui/components/select-report/select-report-component", "common/ui/components/select-report-name/select-report-name-component", "common/ui/components/share/share-component"], function (require, exports, module_definition_22, share_service_2, schedule_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    share_service_2.default.register(module_definition_22.default);
    schedule_service_2.default.register(module_definition_22.default);
});
izendaRequire.define("instant-report/models/instant-report-config", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("instant-report/module-definition", ["require", "exports", "angular", "common/ui/module-definition", "common/common-module-definition", "izenda-external-libs", "common/core/module", "common/query/module", "common/ui/module"], function (require, exports, angular, module_definition_23, common_module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // Create instant report angular module
    var izendaInstantReportModule = angular.module('izendaInstantReport', [
        'ngCookies',
        'rx',
        'izenda.common.core',
        'izenda.common.query',
        'izenda.common.ui'
    ]);
    exports.default = izendaInstantReportModule;
    // configure common ui module:
    module_definition_23.default
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_ReportName', 'Report Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    var IzendaInstantReportLoader = /** @class */ (function () {
        function IzendaInstantReportLoader() {
        }
        IzendaInstantReportLoader.configureInstantReportModules = function (instantReportConfig) {
            // configure instant report module
            var module = izendaInstantReportModule
                .config(['$logProvider', function ($logProvider) { return $logProvider.debugEnabled(false); }])
                .config(['$provide', function ($provide) {
                    $provide.decorator('$browser', ['$delegate', function ($delegate) {
                            $delegate.onUrlChange = function () { };
                            $delegate.url = function () { return ''; };
                            return $delegate;
                        }]);
                }])
                .value('$izendaInstantReportSettingsValue', instantReportConfig);
            return module;
        };
        /**
         * Bootstrap angular app:
         * window.urlSettings$ objects should be defined before this moment.
         */
        IzendaInstantReportLoader.bootstrap = function () {
            angular.element(document).ready(function () {
                // common settings promise:
                var commonQuerySettingsPromise = common_module_definition_1.IzendaCommonLoader.loadSettings();
                // instant report settings promise:
                var urlSettings = window.urlSettings$;
                var rsPageUrl = urlSettings.urlRsPage;
                var settingsUrl = rsPageUrl + '?wscmd=getInstantReportSettings';
                var instantReportSettingsPromise = angular.element.get(settingsUrl);
                // wait while all settings are loaded:
                angular.element
                    .when(commonQuerySettingsPromise, instantReportSettingsPromise)
                    .then(function (commonSettingsResult, instantReportSettingsResult) {
                    // get instant report config object
                    var configObject = instantReportSettingsResult[0];
                    configObject.moveUncategorizedToLastPosition = true;
                    // create and configure modules:
                    IzendaInstantReportLoader.configureInstantReportModules(configObject);
                    // bootstrap application:
                    angular.element('#izendaInstantReportRootContainer').removeClass('hidden');
                    angular.bootstrap('#izendaInstantReportRootContainer', ['izendaInstantReport']);
                });
            });
        };
        return IzendaInstantReportLoader;
    }());
    exports.IzendaInstantReportLoader = IzendaInstantReportLoader;
});
izendaRequire.define("instant-report/services/instant-report-query", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda query service which provides dashboard specific queries
     * this is singleton
     */
    var IzendaInstantReportQueryService = /** @class */ (function () {
        function IzendaInstantReportQueryService($q, $http, $window, $izendaLocaleService, $izendaUtilUiService, $izendaUrlService, $izendaSettingsService, $izendaRsQueryService) {
            this.$q = $q;
            this.$http = $http;
            this.$window = $window;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.requestList = [];
        }
        Object.defineProperty(IzendaInstantReportQueryService, "injectModules", {
            get: function () {
                return ['$q', '$http', '$window', '$izendaLocaleService', '$izendaUtilUiService', '$izendaUrlService',
                    '$izendaSettingsService', '$izendaRsQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get type group of field operator
         */
        IzendaInstantReportQueryService.prototype.getFieldFilterOperatorValueType = function (operator) {
            var hiddenOperators = ['Blank', 'NotBlank', 'UsePreviousOR', 'True', 'False'];
            var oneValueOperators = [
                'LessThan', 'GreaterThan', 'LessThanNot', 'GreaterThanNot', 'Equals', 'NotEquals', 'Like',
                'BeginsWith', 'EndsWith', 'NotLike', 'LessThan_DaysOld', 'GreaterThan_DaysOld', 'Equals_DaysOld',
                'LessThan_DaysOld',
                'GreaterThan_DaysOld', 'Equals_DaysOld'
            ];
            var twoValueOperators = ['Between', 'NotBetween'];
            var selectValuesOperators = ['Equals_Select', 'NotEquals_Select'];
            var selectMultipleValuesOperators = ['Equals_Multiple', 'NotEquals_Multiple'];
            var selectPopupValuesOperators = ['EqualsPopup', 'NotEqualsPopup'];
            var selectCheckboxesValuesOperators = ['Equals_CheckBoxes'];
            var selectOneDateOperators = ['EqualsCalendar', 'NotEqualsCalendar'];
            var selectTwoDatesOperators = ['BetweenTwoDates', 'NotBetweenTwoDates'];
            var fieldOperators = ['LessThanField', 'GreaterThanField', 'EqualsField', 'NotEqualsField'];
            var inTimePeriod = ['InTimePeriod'];
            if (!angular.isObject(operator))
                return 'hidden';
            if (!operator.value || hiddenOperators.indexOf(operator.value) >= 0)
                return 'hidden';
            if (oneValueOperators.indexOf(operator.value) >= 0)
                return 'oneValue';
            if (twoValueOperators.indexOf(operator.value) >= 0)
                return 'twoValues';
            if (selectValuesOperators.indexOf(operator.value) >= 0)
                return 'select';
            if (selectMultipleValuesOperators.indexOf(operator.value) >= 0)
                return 'select_multiple';
            if (selectPopupValuesOperators.indexOf(operator.value) >= 0)
                return 'select_popup';
            if (selectCheckboxesValuesOperators.indexOf(operator.value) >= 0)
                return 'select_checkboxes';
            if (selectOneDateOperators.indexOf(operator.value) >= 0)
                return 'oneDate';
            if (selectTwoDatesOperators.indexOf(operator.value) >= 0)
                return 'twoDates';
            if (fieldOperators.indexOf(operator.value) >= 0)
                return 'field';
            if (inTimePeriod.indexOf(operator.value) >= 0) {
                return 'inTimePeriod';
            }
            return operator.value;
        };
        /**
         * Calculate current actual type group for field.
         */
        IzendaInstantReportQueryService.prototype.getCurrentTypeGroup = function (field, dataTypeGroup) {
            var typeGroup;
            if (angular.isDefined(dataTypeGroup)) {
                typeGroup = dataTypeGroup;
            }
            else {
                var expressionType = field.expressionType;
                typeGroup = angular.isObject(expressionType) && expressionType.value !== '...'
                    ? expressionType.value
                    : field.typeGroup;
            }
            return typeGroup;
        };
        /**
         * Get datasources
         */
        IzendaInstantReportQueryService.prototype.getDatasources = function () {
            return this.$izendaRsQueryService.query('getjsonschema', ['lazy'], {
                dataType: 'json'
            }, {
                handler: function () { return 'Failed to get datasources'; },
                params: []
            });
        };
        /**
         * Load field info by given sql column name.
         */
        IzendaInstantReportQueryService.prototype.getFieldsInfo = function (fieldSysName) {
            return this.$izendaRsQueryService.query('getfieldsinfo', [fieldSysName], {
                dataType: 'json'
            }, {
                handler: function (fieldName) { return "Failed to get field info for field " + fieldName; },
                params: [fieldSysName]
            });
        };
        /**
         * Search fields in datasources (returns range of values [from, to])
         */
        IzendaInstantReportQueryService.prototype.findInDatasources = function (searchString, from, to) {
            var params = [encodeURIComponent(searchString)];
            if (angular.isNumber(from) && angular.isNumber(to))
                params = params.concat(String(from), String(to));
            return this.$izendaRsQueryService.query('findfields', params, {
                dataType: 'json'
            }, {
                handler: function (sString) { return "Failed to search fields and tables by keyword: " + sString; },
                params: [searchString]
            });
        };
        /**
         * Load report json config
         */
        IzendaInstantReportQueryService.prototype.loadReport = function (reportFullName) {
            return this.$izendaRsQueryService.apiQuery('loadReportSetConfigJson', [reportFullName]);
        };
        /**
         * Cancel all running preview queries. All queries will be rejected.
         */
        IzendaInstantReportQueryService.prototype.cancelAllPreviewQueries = function () {
            for (var i = 0; i < this.requestList.length; i++) {
                var request = this.requestList[i];
                request.canceller.resolve('Cancelled!');
            }
            this.requestList = [];
        };
        ;
        /**
         * Run reportSet preview request. If request R2 have come earlier that request R1 - R1 request cancels.
         */
        IzendaInstantReportQueryService.prototype.getReportSetPreviewQueued = function (reportSetConfig) {
            var _this = this;
            this.cancelAllPreviewQueries();
            // prepare params
            var paramsArray = [
                'iic=1',
                'urlencoded=true',
                'wscmd=getNewReportSetPreviewFromJson',
                "wsarg0=" + encodeURIComponent(JSON.stringify(reportSetConfig))
            ];
            if (typeof (window.izendaPageId$) !== 'undefined')
                paramsArray.push("izpid=" + window.izendaPageId$);
            if (typeof (window.angularPageId$) !== 'undefined')
                paramsArray.push("anpid=" + window.angularPageId$);
            var rnParamValue = (reportSetConfig.reportCategory
                ? reportSetConfig.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + reportSetConfig.reportName
                : reportSetConfig.reportName);
            var resolver = this.$q.defer();
            var canceller = this.$q.defer();
            var req = {
                method: 'POST',
                url: this.$izendaUrlService.settings.urlRsPage,
                params: { 'rnalt': rnParamValue },
                timeout: canceller.promise,
                dataType: 'text',
                data: paramsArray.join('&'),
                headers: {
                    'Content-Type': 'text/html'
                }
            };
            // add request to current requests list
            this.requestList.push({
                canceller: canceller,
                resolver: resolver
            });
            var requestPromise = this.$http(req);
            requestPromise
                .then(function (response) { return resolver.resolve(response.data); }, function (response) {
                if (response.config.timeout.$$state.value !== 'Cancelled!') {
                    //handle errors:
                    var errorText = _this.$izendaLocaleService.localeText('js_FailedToLoadPreview', 'Failed to load preview.');
                    _this.$izendaUtilUiService.showErrorDialog(errorText);
                    resolver.reject(response.data);
                }
            });
            return resolver.promise;
        };
        /**
         * Create report set from json and save it.
         */
        IzendaInstantReportQueryService.prototype.saveReportSet = function (reportSetConfig) {
            var paramsString = JSON.stringify(reportSetConfig);
            return this.$izendaRsQueryService.apiQuery('saveReportSetNew', [paramsString]);
        };
        /**
         * Create report set from json and set it as CurrentReportSet.
         */
        IzendaInstantReportQueryService.prototype.setReportAsCrs = function (reportSetConfig) {
            var paramsString = JSON.stringify(reportSetConfig);
            return this.$izendaRsQueryService.query('setReportSetFromJsonToCrs', [paramsString], {
                dataType: 'text',
                headers: {
                    'Content-Type': 'text/html'
                },
                method: 'POST'
            }, {
                handler: function () { return 'Failed to set current report as CurrentReportSet'; }
            });
        };
        ;
        /**
         * Open window for print.
         */
        IzendaInstantReportQueryService.prototype.openPrintWindow = function (parameters, resolve) {
            // open html print window
            var form = document.createElement('form');
            form.action = this.$izendaUrlService.settings.urlRsPage;
            form.method = 'POST';
            // set custom (our) window as target window
            form.target = 'form-target';
            if (parameters) {
                for (var key in parameters) {
                    if (parameters.hasOwnProperty(key)) {
                        var input = document.createElement('textarea');
                        input.name = key;
                        input.value = typeof parameters[key] === 'object'
                            ? JSON.stringify(parameters[key])
                            : parameters[key];
                        form.appendChild(input);
                    }
                }
            }
            form.style.display = 'none';
            document.body.appendChild(form);
            // open window for form and submit for into that window
            var formWindow = window.open('', 'form-target', '');
            form.submit();
            // workaround for webkit ajax request block
            if ('WebkitAppearance' in document.documentElement.style) {
                var intervalId = setInterval(function () {
                    if (!formWindow || formWindow.closed) {
                        clearInterval(intervalId);
                        intervalId = null;
                        resolve();
                    }
                }, 500);
            }
            else
                resolve();
        };
        /**
         * Open url in new window.
         */
        IzendaInstantReportQueryService.prototype.exportReportInNewWindow = function (reportSetToSend, exportType) {
            var _this = this;
            return this.$q(function (resolve) {
                // create url for export
                var urlParams = {
                    'wscmd': exportType === 'print' ? 'printReportSet' : 'exportReportSet',
                    'wsarg0': JSON.stringify(reportSetToSend),
                    'wsarg1': exportType
                };
                if (typeof (_this.$window.izendaPageId$) !== 'undefined')
                    urlParams['izpid'] = _this.$window.izendaPageId$;
                if (exportType !== 'print') {
                    // export file
                    _this.$izendaRsQueryService.downloadFileRequest('POST', _this.$izendaUrlService.settings.urlRsPage, urlParams)
                        .then(function () {
                        resolve();
                    });
                }
                else {
                    // print html
                    _this.openPrintWindow(urlParams, resolve);
                }
            });
        };
        IzendaInstantReportQueryService.prototype.getVisualizationConfig = function () {
            return this.$izendaRsQueryService.query('getVisualizationConfig', [], {
                dataType: 'json'
            }, {
                handler: function () { return 'Failed to get visualizations config'; }
            });
        };
        /**
         * Get list of constraints
         */
        IzendaInstantReportQueryService.prototype.getConstraintsInfo = function () {
            return this.$izendaRsQueryService.query('getconstraintslist', [], {
                dataType: 'json'
            }, {
                handler: function () { return 'Failed to get constraints info'; }
            });
        };
        IzendaInstantReportQueryService.prototype.getFieldFunctions = function (field, functionPurpose) {
            if (!angular.isObject(field))
                throw 'Field should be object';
            var parameters = null;
            var typeGroup = this.getCurrentTypeGroup(field);
            if (functionPurpose === 'subtotal') {
                // available functions for subtotals
                parameters = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'FunctionList',
                    'type': field.sqlType,
                    'typeGroup': typeGroup,
                    'includeBlank': 'true',
                    'includeGroupBy': 'false',
                    'forSubtotals': 'true',
                    'extraFunction': 'false',
                    'forDundasMap': 'false',
                    'onlyNumericResults': 'false',
                    'resultType': 'json'
                };
            }
            else if (functionPurpose === 'field') {
                // available functions for column
                parameters = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'FunctionList',
                    'type': field.sqlType,
                    'typeGroup': typeGroup,
                    'includeBlank': 'true',
                    'includeGroupBy': 'true',
                    'forSubtotals': 'false',
                    'extraFunction': 'false',
                    'forDundasMap': 'false',
                    'onlyNumericResults': 'false',
                    'resultType': 'json'
                };
            }
            else if (functionPurpose === 'pivotField') {
                parameters = {
                    'cmd': 'GetOptionsByPath',
                    'p': 'FunctionList',
                    'type': field.sqlType,
                    'typeGroup': typeGroup,
                    'includeBlank': 'true',
                    'includeGroupBy': 'true',
                    'forSubtotals': 'false',
                    'extraFunction': 'true',
                    'forDundasMap': 'false',
                    'onlyNumericResults': 'false',
                    'resultType': 'json'
                };
            }
            return this.$izendaRsQueryService.rsQuery(parameters, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (fieldParam) { return "Failed to get function list info for field " + fieldParam.sysname; },
                params: [field]
            });
        };
        IzendaInstantReportQueryService.prototype.getPeriodList = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'PeriodList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get period list.'; },
                params: []
            });
        };
        ;
        IzendaInstantReportQueryService.prototype.getExistentPopupValuesList = function (field, table) {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'ExistentPopupValuesList',
                'columnName': field.sysname,
                'tbl0': table.sysname,
                'ta0': '',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get custom popups styles.'; },
                params: []
            });
        };
        ;
        IzendaInstantReportQueryService.prototype.getDrillDownStyles = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'DrillDownStyleList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get drilldown styles.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getExpressionTypes = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'ExpressionTypeList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get expression types.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getSubreports = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'SubreportsList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get subreports.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getVgStyles = function () {
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'VgStyleList',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get available visual group styles.'; },
                params: []
            });
        };
        IzendaInstantReportQueryService.prototype.getFieldFormats = function (field, dataTypeGroup) {
            if (!angular.isObject(field))
                throw 'Field should be object';
            var typeGroup = this.getCurrentTypeGroup(field, dataTypeGroup);
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'FormatList',
                'typeGroup': typeGroup,
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (fieldParam) { return "Failed to get format list info for field " + fieldParam.sysname; },
                params: [field]
            });
        };
        IzendaInstantReportQueryService.prototype.getFilterFormats = function (filter) {
            if (!angular.isObject(filter) || !angular.isObject(filter.field))
                throw 'filter and filter.field should be objects.';
            var typeGroup = this.getCurrentTypeGroup(filter.field);
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'FormatList',
                'typeGroup': typeGroup,
                'onlySimple': 'true',
                'forceSimple': 'true',
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (filterParam) { return "Failed to get format list info for filter " + filterParam.field.sysname; },
                params: [filter]
            });
        };
        IzendaInstantReportQueryService.prototype.getFieldOperatorList = function (field, tablesString, dataTypeGroup) {
            if (!angular.isObject(field))
                throw 'Field should be object.';
            var typeGroup = this.getCurrentTypeGroup(field, dataTypeGroup);
            return this.$izendaRsQueryService.rsQuery({
                'cmd': 'GetOptionsByPath',
                'p': 'OperatorList',
                'typeGroup': typeGroup,
                'tables': tablesString,
                'colFullName': field.sysname,
                'resultType': 'json'
            }, {
                dataType: 'json',
                cache: true
            }, {
                handler: function (fieldParam) { return "Failed to get operator list for field " + fieldParam.sysname; },
                params: [field]
            });
        };
        IzendaInstantReportQueryService.prototype.getExistentValuesList = function (tables, constraintFilters, filter, simpleJoins, filterLogic) {
            var _this = this;
            if (filter.field === null || !angular.isString(filter.field.sysname))
                throw 'filter field sysname should be defined.';
            if (!angular.isArray(tables))
                throw 'tables should be array';
            // create base query params
            var queryParams = {
                'cmd': 'GetOptionsByPath',
                'p': 'ExistentValuesList',
                'columnName': filter.field.sysname,
                'resultType': 'json'
            };
            if (angular.isString(filter.possibleValue)) {
                queryParams['possibleValue'] = filter.possibleValue.replace('&', '%26');
            }
            // add constraint filters params
            var counter = 0;
            if (constraintFilters)
                constraintFilters.forEach(function (constraintFilter) {
                    var constraintFilterOperatorValue = constraintFilter && constraintFilter.operator ? constraintFilter.operator.value : '';
                    if (constraintFilter.field !== null && angular.isObject(constraintFilter.operator)
                        && constraintFilterOperatorValue !== '' && angular.isArray(constraintFilter.values)
                        && constraintFilter.values.length > 0) {
                        var constraintParamPart = {};
                        constraintParamPart["fc" + counter] = constraintFilter.field.sysname;
                        constraintParamPart["fo" + counter] = constraintFilterOperatorValue;
                        var constraintOperatorType = _this.getFieldFilterOperatorValueType(constraintFilter.operator);
                        if (constraintOperatorType === 'twoValues') {
                            constraintParamPart["fvl" + counter] = constraintFilter.values[0];
                            constraintParamPart["fvr" + counter] = constraintFilter.values[1];
                        }
                        else if (constraintOperatorType === 'twoDates') {
                            constraintParamPart["fvl" + counter] = moment(constraintFilter.values[0]).format(_this.$izendaSettingsService.getDateFormat().shortDate);
                            constraintParamPart["fvr" + counter] = moment(constraintFilter.values[1]).format(_this.$izendaSettingsService.getDateFormat().shortDate);
                        }
                        else if (constraintOperatorType === 'oneDate') {
                            constraintParamPart["fvl" + counter] = moment(constraintFilter.values[0]).format(_this.$izendaSettingsService.getDateFormat().shortDate);
                        }
                        else if (constraintOperatorType === 'field') {
                            var val = angular.isObject(constraintFilter.values[0])
                                ? constraintFilter.values[0].sysname
                                : '';
                            constraintParamPart["fvl" + counter] = val;
                        }
                        else {
                            constraintParamPart["fvl" + counter] = constraintFilter.values.join(',');
                        }
                        angular.extend(queryParams, constraintParamPart);
                        counter++;
                    }
                });
            if (simpleJoins) {
                // create tablenames
                var tableNames = tables.map(function (x) { return x.sysname; });
                queryParams['tbl0'] = tableNames.join('\'');
                if (angular.isString(filterLogic) && filterLogic.trim() !== '') {
                    queryParams['filterLogic'] = filterLogic;
                }
                // run query
                return this.$izendaRsQueryService.rsQuery(queryParams, {
                    'dataType': 'json',
                    cache: true
                }, {
                    handler: function (tablesParam, fieldParam) { return "Failed to existent values list list for tables " + tablesParam + " and field " + fieldParam; },
                    params: [tableNames.join(','), filter.field.sysname]
                });
            }
            else {
                // Custom joins request:
                /*
                cmd:GetOptionsByPath
                p:ExistentValuesList
                columnName:[dbo].[Categories].[CategoryID]
                tbl0:[dbo].[Categories]
                ta0:
                tbl1:[dbo].[Invoices]
                ta1:
                lclm1:[dbo].[Invoices].[OrderID]
                rclm1:[dbo].[Categories].[CategoryID]
                jn1:INNER
                */
                throw 'Custom joins hasn\'t implemented yet';
            }
        };
        Object.defineProperty(IzendaInstantReportQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportQueryService.register = function (module) {
            module.service('$izendaInstantReportQueryService', IzendaInstantReportQueryService.injectModules.concat(IzendaInstantReportQueryService));
        };
        return IzendaInstantReportQueryService;
    }());
    exports.default = IzendaInstantReportQueryService;
});
izendaRequire.define("instant-report/models/instant-report-pivot-config", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportDefaultPivotConfig = /** @class */ (function () {
        function IzendaInstantReportDefaultPivotConfig() {
            this.pivotColumn = null;
            this.cellValues = [];
            this.options = {
                addSideTotals: false
            };
        }
        IzendaInstantReportDefaultPivotConfig.fromObject = function (object) {
            var result = new IzendaInstantReportDefaultPivotConfig();
            result.pivotColumn = object.pivotColumn;
            result.cellValues = object.cellValues;
            result.options = {
                addSideTotals: object.options.addSideTotals
            };
            return result;
        };
        IzendaInstantReportDefaultPivotConfig.prototype.clone = function () {
            var result = new IzendaInstantReportDefaultPivotConfig();
            result.pivotColumn = this.pivotColumn;
            result.cellValues = new Array(this.cellValues);
            result.options = { addSideTotals: this.options ? this.options.addSideTotals : false };
            return result;
        };
        return IzendaInstantReportDefaultPivotConfig;
    }());
    exports.default = IzendaInstantReportDefaultPivotConfig;
});
izendaRequire.define("instant-report/services/instant-report-pivot", ["require", "exports", "angular", "instant-report/models/instant-report-pivot-config", "izenda-external-libs"], function (require, exports, angular, instant_report_pivot_config_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Pivot storage service
     */
    var IzendaInstantReportPivotService = /** @class */ (function () {
        function IzendaInstantReportPivotService($injector, $q, $izendaUtilService) {
            this.$injector = $injector;
            this.$q = $q;
            this.$izendaUtilService = $izendaUtilService;
            var defaultConfig = this.$injector.get(IzendaInstantReportPivotService.$izendaInstantReportPivotsDefaultConfigName);
            this.pivotConfig = instant_report_pivot_config_1.default.fromObject(defaultConfig);
            this.pivotsPanelOpened = false;
        }
        Object.defineProperty(IzendaInstantReportPivotService, "injectModules", {
            get: function () {
                return ['$injector', '$q', '$izendaUtilService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get pivot column field wrapper
         */
        IzendaInstantReportPivotService.prototype.getPivotColumn = function () {
            return this.pivotConfig.pivotColumn;
        };
        /**
         * Set pivot column
         */
        IzendaInstantReportPivotService.prototype.setPivotColumn = function (value) {
            this.pivotConfig.pivotColumn = value;
        };
        /**
         * Set default group for pivot column.
         */
        IzendaInstantReportPivotService.prototype.setDefaultGroup = function () {
            if (!angular.isObject(this.pivotConfig.pivotColumn))
                return;
            if (!this.pivotConfig.pivotColumn.groupByFunction)
                this.pivotConfig.pivotColumn.groupByFunction = this.$izendaUtilService.getOptionByValue(this.pivotConfig.pivotColumn.groupByFunctionOptions, 'GROUP', true);
        };
        /**
         * Clear pivots
         */
        IzendaInstantReportPivotService.prototype.removePivots = function () {
            this.pivotConfig.pivotColumn = null;
            this.pivotConfig.cellValues = [];
            this.pivotConfig.options.addSideTotals = false;
        };
        /**
         * Get pivot options object
         */
        IzendaInstantReportPivotService.prototype.getPivotOptions = function () {
            return this.pivotConfig.options;
        };
        /**
         * Get pivots panel state
         */
        IzendaInstantReportPivotService.prototype.getPivotsPanelOpened = function () {
            return this.pivotsPanelOpened;
        };
        /**
         * Set pivots panel state
         */
        IzendaInstantReportPivotService.prototype.setPivotsPanelOpened = function (value) {
            this.pivotsPanelOpened = value;
        };
        /////////////////////////////////////////
        // cell value functions
        /////////////////////////////////////////
        /**
         * Get pivot fields wrappers
         */
        IzendaInstantReportPivotService.prototype.getCellValues = function () {
            return this.pivotConfig.cellValues;
        };
        /**
         * Check is pivot added and valid.
         * @returns {boolean} is valid
         */
        IzendaInstantReportPivotService.prototype.isPivotValid = function () {
            return angular.isObject(this.pivotConfig.pivotColumn) && this.pivotConfig.cellValues.length > 0;
        };
        /**
         * Add cell value field
         */
        IzendaInstantReportPivotService.prototype.addCellValue = function () {
            this.pivotConfig.cellValues.push(null);
        };
        /**
         * Remove cell value
         */
        IzendaInstantReportPivotService.prototype.removeCellValue = function (cellValue) {
            var cellValues = this.pivotConfig.cellValues;
            var idx = cellValues.indexOf(cellValue);
            if (idx >= 0) {
                cellValues.splice(idx, 1);
            }
        };
        /**
         * Replace cell values by each other
         */
        IzendaInstantReportPivotService.prototype.swapCellValues = function (fromIndex, toIndex) {
            var cellValues = this.pivotConfig.cellValues;
            var temp = cellValues[fromIndex];
            cellValues[fromIndex] = cellValues[toIndex];
            cellValues[toIndex] = temp;
        };
        /**
         * Move cell value to position
         */
        IzendaInstantReportPivotService.prototype.moveCellValueTo = function (fromIndex, toIndex) {
            var cellValues = this.pivotConfig.cellValues;
            cellValues.splice(toIndex, 0, cellValues.splice(fromIndex, 1)[0]);
        };
        /**
         * Set cell value field, update available groups, formats, etc...
         */
        IzendaInstantReportPivotService.prototype.setCellValueField = function (index, newField) {
            this.pivotConfig.cellValues[index] = newField;
        };
        /**
         * Add pivot column or cell if pivot column already defined
         */
        IzendaInstantReportPivotService.prototype.addPivotItem = function (fieldCopy) {
            if (!angular.isObject(this.pivotConfig.pivotColumn)) {
                this.pivotConfig.pivotColumn = fieldCopy;
            }
            else {
                this.pivotConfig.cellValues.push(fieldCopy);
            }
        };
        /**
         * Synchronizes pivot
         */
        IzendaInstantReportPivotService.prototype.syncPivotState = function (activeFieldsInActiveTables) {
            this.removeNotActiveFields(activeFieldsInActiveTables);
        };
        /**
         * Remove pivot column and pivot cell if corresponging fields are no
         * longer available.
         * @param {array} array of currently active fields.
         */
        IzendaInstantReportPivotService.prototype.removeNotActiveFields = function (activeFieldsInActiveTables) {
            var isFieldInList = function (field, fieldList) { return fieldList && fieldList.some(function (f) { return f.sysname === field.sysname; }); };
            if (this.pivotConfig.pivotColumn && !isFieldInList(this.pivotConfig.pivotColumn, activeFieldsInActiveTables))
                this.pivotConfig.pivotColumn = null;
            this.pivotConfig.cellValues = this.pivotConfig.cellValues.filter(function (cv) { return isFieldInList(cv, activeFieldsInActiveTables); });
        };
        /////////////////////////////////////////
        // data
        /////////////////////////////////////////
        /**
         * Prepare pivots for send
         */
        IzendaInstantReportPivotService.prototype.getPivotDataForSend = function () {
            return this.pivotConfig.pivotColumn ? this.pivotConfig : null;
        };
        /**
         * Load pivot
         */
        IzendaInstantReportPivotService.prototype.loadPivotData = function (pivotData) {
            this.pivotConfig = pivotData;
            return this.$q(function (resolve) { return resolve(); });
        };
        Object.defineProperty(IzendaInstantReportPivotService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportPivotService.register = function (module) {
            module
                .value(IzendaInstantReportPivotService.$izendaInstantReportPivotsDefaultConfigName, {
                pivotColumn: null,
                cellValues: [],
                options: {
                    addSideTotals: false
                }
            })
                .service('$izendaInstantReportPivotService', IzendaInstantReportPivotService.injectModules.concat(IzendaInstantReportPivotService));
        };
        IzendaInstantReportPivotService.$izendaInstantReportPivotsDefaultConfigName = '$izendaInstantReportPivotsDefaultConfig';
        return IzendaInstantReportPivotService;
    }());
    exports.default = IzendaInstantReportPivotService;
});
izendaRequire.define("instant-report/services/instant-report-settings", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report settings service.
     */
    var IzendaInstantReportSettingsService = /** @class */ (function () {
        function IzendaInstantReportSettingsService($injector, $izendaRsQueryService) {
            var _this = this;
            this.$injector = $injector;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.settingsObject = null;
            // first try to get settings object if it have been already loaded
            this.settingsObject = this.$injector.get('$izendaInstantReportSettingsValue');
            if (!angular.isObject(this.settingsObject))
                // if not loaded - load now.
                this.loadInstantReportSettings().then(function (resultObject) {
                    _this.settingsObject = resultObject;
                });
        }
        Object.defineProperty(IzendaInstantReportSettingsService, "injectModules", {
            get: function () {
                return ['$injector', '$izendaRsQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get instant report settings from server.
         */
        IzendaInstantReportSettingsService.prototype.loadInstantReportSettings = function () {
            return this.$izendaRsQueryService.query('getInstantReportSettings', [], {
                dataType: 'json',
                cache: true
            }, {
                handler: function () { return 'Failed to get instant report settings'; },
                params: []
            });
        };
        /**
         * Settings getter
         */
        IzendaInstantReportSettingsService.prototype.getSettings = function () {
            return this.settingsObject;
        };
        Object.defineProperty(IzendaInstantReportSettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportSettingsService.register = function (module) {
            module.service('$izendaInstantReportSettingsService', IzendaInstantReportSettingsService.injectModules.concat(IzendaInstantReportSettingsService));
        };
        return IzendaInstantReportSettingsService;
    }());
    exports.default = IzendaInstantReportSettingsService;
});
izendaRequire.define("instant-report/services/instant-report-visualization", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report chart service. Contains charts data and its functions.
     */
    var IzendaInstantReportVisualizationService = /** @class */ (function () {
        function IzendaInstantReportVisualizationService($q, $izendaInstantReportQueryService) {
            this.$q = $q;
            this.$izendaInstantReportQueryService = $izendaInstantReportQueryService;
            this.visConfig = this.createDefaultConfig();
        }
        Object.defineProperty(IzendaInstantReportVisualizationService, "injectModules", {
            get: function () {
                return ['$q', '$izendaInstantReportQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create default config object
         */
        IzendaInstantReportVisualizationService.prototype.createDefaultConfig = function () {
            return {
                categories: []
            };
        };
        /**
         * Get current config.
         */
        IzendaInstantReportVisualizationService.prototype.getVisualizationConfig = function () {
            return this.visConfig;
        };
        /**
         * Load visualizations. Designed as async operation for future async config loading.
         * @returns {promise object}.
         */
        IzendaInstantReportVisualizationService.prototype.loadVisualizations = function () {
            var _this = this;
            this.visConfig = this.createDefaultConfig();
            return this.$q(function (resolve) {
                // run query:
                _this.$izendaInstantReportQueryService.getVisualizationConfig().then(function (config) {
                    if (!angular.isObject(config) || !angular.isArray(config.categories)) {
                        resolve();
                        return;
                    }
                    // set config:
                    _this.visConfig = config;
                    // add category name to each visualization object:
                    _this.visConfig.categories
                        .filter(function (c) { return !!c.charts; })
                        .forEach(function (c) { return c.charts.forEach(function (chart) { return chart.categoryName = c.name; }); });
                    resolve();
                });
            });
        };
        /**
         * Find visualization object by given name and category.
         * @param {string} category.
         * @param {string} name.
         * @returns {object} visualization object.
         */
        IzendaInstantReportVisualizationService.prototype.findVisualization = function (category, name) {
            var result = null;
            this.visConfig.categories
                .filter(function (c) { return c.name === category; })
                .forEach(function (c) {
                var charts = c.charts.filter(function (ch) { return ch.name === name; });
                if (charts && charts.length)
                    result = charts[0];
            });
            return result;
        };
        Object.defineProperty(IzendaInstantReportVisualizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportVisualizationService.register = function (module) {
            module.service('$izendaInstantReportVisualizationService', IzendaInstantReportVisualizationService.injectModules.concat(IzendaInstantReportVisualizationService));
        };
        return IzendaInstantReportVisualizationService;
    }());
    exports.default = IzendaInstantReportVisualizationService;
});
izendaRequire.define("common/core/tools/izenda-linq", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLinq;
    (function (IzendaLinq) {
        Array.prototype.firstOrDefault = function (predicate) {
            return this.reduce(function (accumulator, currentValue) {
                if (!accumulator && predicate(currentValue))
                    accumulator = currentValue;
                return accumulator;
            }, null);
        };
        Array.prototype.pushAll = function (collection) {
            var _this = this;
            if (collection === null)
                return this;
            collection.forEach(function (t) { return _this.push(t); });
            return this;
        };
        Array.prototype.firstOrDefaultInInner = function (innerObjectKey, innerObjectPredicate) {
            for (var i = 0; i < this.length; i++) {
                var parentObject = this[i];
                if (!parentObject.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + parentObject;
                var innerObject = parentObject[innerObjectKey];
                if (innerObject && innerObject instanceof Array) {
                    var foundInner = innerObject.firstOrDefault(innerObjectPredicate);
                    if (foundInner)
                        return foundInner;
                }
            }
            return null;
        };
        Array.prototype.filterInInner = function (innerObjectKey, innerObjectPredicate) {
            return this.reduce(function (result, currentTopLevel) {
                if (!currentTopLevel.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + currentTopLevel;
                var inner = currentTopLevel[innerObjectKey];
                if (inner && inner instanceof Array)
                    return result.concat(inner.filter(innerObjectPredicate));
                return result;
            }, []);
        };
    })(IzendaLinq = exports.IzendaLinq || (exports.IzendaLinq = {}));
});
izendaRequire.define("instant-report/services/instant-report-storage", ["require", "exports", "angular", "izenda-external-libs", "common/core/tools/izenda-linq"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportStorageService = /** @class */ (function () {
        function IzendaInstantReportStorageService($injector, $window, $q, $log, $rootScope, $izendaUtilUiService, $izendaUtilService, $izendaUrlService, $izendaLocaleService, $izendaSettingsService, $izendaCompatibilityService, $izendaScheduleService, $izendaShareService, $izendaInstantReportSettingsService, $izendaInstantReportQueryService, $izendaInstantReportPivotService, $izendaInstantReportVisualizationService) {
            this.$injector = $injector;
            this.$window = $window;
            this.$q = $q;
            this.$log = $log;
            this.$rootScope = $rootScope;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
            this.$izendaInstantReportSettingsService = $izendaInstantReportSettingsService;
            this.$izendaInstantReportQueryService = $izendaInstantReportQueryService;
            this.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            this.$izendaInstantReportVisualizationService = $izendaInstantReportVisualizationService;
            // const:
            this.emptyFieldGroupOption = $injector.get('izendaDefaultFunctionObject');
            this.emptySubtotalFieldGroupOptions = $injector.get('izendaDefaultSubtotalFunctionObject');
            this.emptyExpressionType = {
                value: '...',
                text: '...'
            };
            this.emptyFieldFormatOption = $injector.get('izendaDefaultFormatObject');
            this.isPageInitialized = false;
            this.isPageReady = false;
            this.existingReportLoadingSchedule = null;
            this.newReportLoadingSchedule = null;
            this.isPreviewSplashVisible = false;
            this.previewSplashText = $izendaLocaleService.localeText('js_WaitPreviewLoading', 'Please wait while preview is loading...');
            this.reportSet = angular.merge({}, $injector.get('izendaInstantReportObjectDefaults'));
            this.reportSet.options.distinct = $izendaInstantReportSettingsService.getSettings().distinct; // set default distinct setting value
            this.restoreDefaultColors(); // set default report colors
            this.activeTables = [];
            this.activeFields = [];
            this.calcFields = [];
            this.activeCheckedFields = [];
            this.constraints = [];
            this.vgStyles = null;
            this.drillDownStyles = null;
            this.expressionTypes = null;
            this.subreports = null;
            this.currentActiveField = null;
            this.uiPanelsState = {
                filtersPanelOpened: false
            };
            this.nextId = 1;
            this.orderCounter = 1;
            this.previewHtml = '';
            this.initialize();
        }
        Object.defineProperty(IzendaInstantReportStorageService, "injectModules", {
            get: function () {
                return [
                    '$injector',
                    '$window',
                    '$q',
                    '$log',
                    '$rootScope',
                    '$izendaUtilUiService',
                    '$izendaUtilService',
                    '$izendaUrlService',
                    '$izendaLocaleService',
                    '$izendaSettingsService',
                    '$izendaCompatibilityService',
                    '$izendaScheduleService',
                    '$izendaShareService',
                    '$izendaInstantReportSettingsService',
                    '$izendaInstantReportQueryService',
                    '$izendaInstantReportPivotService',
                    '$izendaInstantReportVisualizationService'
                ];
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportStorageService.prototype.initialize = function () {
            var _this = this;
            // initialize:
            this.$log.debug('Start instant report initialize');
            this.isPageInitialized = false;
            this.isPageReady = false;
            var startInitializingTimestamp = (new Date()).getTime();
            this.$q.all([this.loadDataSources(), this.initializeVgStyles(), this.initializeSubreports(), this.initializeDrillDownStyles(),
                this.initializeExpressionTypes(), this.initializeCharts()]).then(function () {
                _this.isPageInitialized = true;
                if (angular.isString(_this.existingReportLoadingSchedule)) {
                    // existing report
                    _this.$log.debug('Start loading scheduled report', _this.existingReportLoadingSchedule);
                    _this.loadReport(_this.existingReportLoadingSchedule).then(function () {
                        _this.$log.debug('End loading scheduled report');
                        _this.existingReportLoadingSchedule = null;
                        _this.isPageReady = true;
                        _this.$rootScope.$applyAsync();
                        _this.$log.debug('Page ready: ', (new Date()).getTime() - startInitializingTimestamp + "ms");
                    });
                }
                else if (angular.isString(_this.newReportLoadingSchedule)) {
                    // new report
                    _this.$log.debug('Start creating new report');
                    _this.newReport().then(function () {
                        _this.$log.debug('End creating new report');
                        _this.newReportLoadingSchedule = null;
                        _this.isPageReady = true;
                        _this.$rootScope.$applyAsync();
                        _this.$log.debug('Page ready: ', (new Date()).getTime() - startInitializingTimestamp + "ms");
                    });
                }
                else {
                    // default
                    _this.isPageReady = true;
                    _this.$log.debug('Page ready: ', (new Date()).getTime() - startInitializingTimestamp + "ms");
                }
            });
        };
        /////////////////////////////////////////
        // common functions
        /////////////////////////////////////////
        /**
         * Get type group of field operator
         */
        IzendaInstantReportStorageService.prototype.getFieldFilterOperatorValueType = function (operator) {
            return this.$izendaInstantReportQueryService.getFieldFilterOperatorValueType(operator);
        };
        IzendaInstantReportStorageService.prototype.getReportSetFullName = function () {
            var category = this.reportSet.reportCategory;
            var name = this.reportSet.reportName;
            if (!angular.isString(name) || name.trim() === '')
                return null;
            var result = '';
            if (!this.$izendaUtilService.isUncategorized(category)) {
                result += category + this.$izendaSettingsService.getCategoryCharacter();
            }
            result += name;
            return result;
        };
        IzendaInstantReportStorageService.prototype.getNextId = function () {
            return this.nextId++;
        };
        IzendaInstantReportStorageService.prototype.guid = function () {
            function s4() {
                return Math.floor((1 + Math.random()) * 0x10000)
                    .toString(16)
                    .substring(1);
            }
            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
                s4() + '-' + s4() + s4() + s4();
        };
        IzendaInstantReportStorageService.prototype.getNextOrder = function () {
            return this.orderCounter++;
        };
        /**
         * Becomes true when page is ready to work
         */
        IzendaInstantReportStorageService.prototype.getPageReady = function () {
            return this.isPageReady;
        };
        /**
         * Get whole report set
         */
        IzendaInstantReportStorageService.prototype.getReportSet = function () {
            return this.reportSet;
        };
        /**
         * Get datasources
         */
        IzendaInstantReportStorageService.prototype.getDataSources = function () {
            return this.reportSet.dataSources;
        };
        /**
         * Set datasources
         */
        IzendaInstantReportStorageService.prototype.setDataSources = function (dataSources) {
            if (!angular.isArray(dataSources))
                throw '"dataSources" parameter should be array.';
            this.reportSet.dataSources = dataSources;
        };
        /**
         * Get filters reference
         */
        IzendaInstantReportStorageService.prototype.getFilters = function () {
            return this.reportSet.filters;
        };
        /**
         * Get report set options
         */
        IzendaInstantReportStorageService.prototype.getOptions = function () {
            return this.reportSet.options;
        };
        /**
         * Get drilldown fields
         */
        IzendaInstantReportStorageService.prototype.getDrillDownFields = function () {
            return this.reportSet.drillDownFields;
        };
        /**
         * Get filter options
         */
        IzendaInstantReportStorageService.prototype.getFilterOptions = function () {
            return this.reportSet.filterOptions;
        };
        /**
         * Get preview html
         */
        IzendaInstantReportStorageService.prototype.getPreview = function () {
            return this.previewHtml;
        };
        /**
         * Parse and set constraints
         */
        IzendaInstantReportStorageService.prototype.setConstraints = function (constraintsData) {
            this.constraints = constraintsData.Data;
        };
        /**
         * Find category by given id
         */
        IzendaInstantReportStorageService.prototype.getCategoryById = function (id) {
            var i = 0;
            var datasources = this.getDataSources();
            while (i < datasources.length) {
                var datasource = datasources[i];
                if (datasource.id === id)
                    return datasource;
                i++;
            }
            return null;
        };
        /**
         * Find first table by property value.
         */
        IzendaInstantReportStorageService.prototype.getTableByProperty = function (propertyName, value, caseIndependent) {
            if (angular.isUndefined(propertyName))
                throw 'propertyName parameter should be set.';
            var datasources = this.getDataSources();
            for (var i = 0; i < datasources.length; i++) {
                var category = datasources[i];
                for (var j = 0; j < category.tables.length; j++) {
                    var table = category.tables[j];
                    if (!table.hasOwnProperty(propertyName))
                        throw 'Table don\'t have property ' + propertyName;
                    var propertyValue = table[propertyName];
                    var compareValue = value;
                    if (propertyValue && caseIndependent)
                        propertyValue = (propertyValue + '').toLowerCase();
                    if (compareValue && caseIndependent)
                        compareValue = (compareValue + '').toLowerCase();
                    if (propertyValue === compareValue)
                        return table;
                }
            }
            return null;
        };
        /**
         * Find table by given id
         */
        IzendaInstantReportStorageService.prototype.getTableById = function (id) {
            return this.getTableByProperty('id', id);
        };
        /**
         * Find table by given sysname
         * @param {string} sysname.
         * @returns {object} table object.
         */
        IzendaInstantReportStorageService.prototype.getTableBySysname = function (sysname) {
            return this.getTableByProperty('sysname', sysname);
        };
        /**
         * Find table by name. (Case independent)
         * @param {string} name.
         * @returns {object} table object.
         */
        IzendaInstantReportStorageService.prototype.getTableByName = function (name) {
            return this.getTableByProperty('name', name, true);
        };
        /**
         * Find field by given id
         */
        IzendaInstantReportStorageService.prototype.getFieldById = function (id) {
            var i = 0;
            var datasources = this.getDataSources();
            while (i < datasources.length) {
                var j = 0;
                var tables = datasources[i].tables;
                while (j < tables.length) {
                    var k = 0;
                    var fields = tables[j].fields;
                    while (k < fields.length) {
                        var field = fields[k];
                        if (field.id === id) {
                            return field;
                        }
                        if (field.isMultipleColumns && field.multipleColumns.length) {
                            var multipleField = field.multipleColumns.firstOrDefault(function (f) { return f.id === id; });
                            if (multipleField)
                                return multipleField;
                        }
                        k++;
                    }
                    j++;
                }
                i++;
            }
            return null;
        };
        /**
         * Get all tables in all datasources
         */
        IzendaInstantReportStorageService.prototype.getAllTables = function () {
            return this.getDataSources().reduce(function (result, category) { return result.concat(category.tables); }, []);
        };
        /**
        * Get checked tables
        */
        IzendaInstantReportStorageService.prototype.getActiveTables = function () {
            return this.activeTables;
        };
        /**
         * Find field by guid
         */
        IzendaInstantReportStorageService.prototype.getCalcField = function (calcFieldId) {
            return this.calcFields.firstOrDefault(function (c) { return c.sysname === calcFieldId; });
        };
        IzendaInstantReportStorageService.prototype.getField = function (propertyName, propertyValue, findInAllTables) {
            if (propertyValue && propertyValue.indexOf('fldId|') === 0)
                return this.getCalcField(propertyValue);
            var tablesCollection = (typeof (findInAllTables) === 'boolean' && findInAllTables)
                ? this.getAllTables()
                : this.getActiveTables();
            // find first field in tables which matches predicate "propertyName = propertyValue":
            return tablesCollection.firstOrDefaultInInner('fields', function (f) {
                return f.hasOwnProperty(propertyName) && f[propertyName] === propertyValue;
            });
        };
        /**
         * Find field by sysname
         */
        IzendaInstantReportStorageService.prototype.getFieldBySysName = function (sysname, findInAllTables) {
            return this.getField('sysname', sysname, findInAllTables);
        };
        /**
         * Check if functions allowed to field
         */
        IzendaInstantReportStorageService.prototype.isBinaryField = function (field) {
            if (!field)
                return false;
            var expressionType = field.expressionType;
            if (expressionType && expressionType.value && expressionType.value !== '...')
                return ['Binary', 'Other', 'None'].indexOf(expressionType.value) >= 0;
            return field.sqlType === 'Text' || field.sqlType === 'Image';
        };
        /**
         * Get checked and not checked fields in active tables;
         * TODO: it is not a good idea to assign values to "additionalGroup" property in get function.
         */
        IzendaInstantReportStorageService.prototype.getAllFieldsInActiveTables = function (appendCalcFields) {
            var _this = this;
            this.activeFields.forEach(function (f) {
                return f.additionalGroup = f.tableName;
            });
            if (!appendCalcFields)
                return this.activeFields;
            this.calcFields.forEach(function (f) {
                return f.additionalGroup = _this.$izendaLocaleService.localeText('js_calcFields', 'Calculated Fields');
            });
            return this.activeFields.concat(this.calcFields);
        };
        /**
         * Get active (checked) fields (including multiple fields).
         * @param {object} table Table object.
         * @returns {object[]} Checked fields collection.
         */
        IzendaInstantReportStorageService.prototype.getActiveFields = function (table) {
            return table.fields.reduce(function (result, f) {
                if (!f.isMultipleColumns && f.checked)
                    result.push(f);
                else if (f.isMultipleColumns)
                    result = result.concat(f.multipleColumns.filter(function (fm) { return fm.checked; }));
                return result;
            }, []);
        };
        /**
         * Base fields iterator function
         * @param {function} fieldHandler iterator "each" handler
         * @param {function} getFieldsFunction field filter function (function(table) {... return fieldsArray; })
         * @param {object} context context object
         */
        IzendaInstantReportStorageService.prototype.eachFieldsBase = function (fieldHandler, getFieldsFunction, context) {
            var _this = this;
            if (!angular.isFunction(fieldHandler))
                throw 'fieldHandler should be a function.';
            this.getActiveTables().forEach(function (t) {
                var aFields = getFieldsFunction(t);
                if (aFields && aFields.length)
                    aFields.forEach(function (f) { return fieldHandler.call(angular.isDefined(context) ? context : _this, f, t); });
            });
        };
        /**
         * Works like each. Iterate through checked fields
         */
        IzendaInstantReportStorageService.prototype.eachActiveFields = function (fieldHandler, context) {
            this.eachFieldsBase(fieldHandler, this.getActiveFields, context);
        };
        /**
         * Get all checked fields.
         */
        IzendaInstantReportStorageService.prototype.getAllActiveFields = function () {
            var result = [];
            this.eachActiveFields(function (field) { return result.push(field); });
            return result;
        };
        /**
         * Get all checked and visible fields.
         */
        IzendaInstantReportStorageService.prototype.getAllVisibleFields = function () {
            return this.getAllActiveFields().filter(function (f) { return f.visible; });
        };
        /////////////////////////////////////////
        // group functions
        /////////////////////////////////////////
        /**
         * Check if functions allowed to field
         */
        IzendaInstantReportStorageService.prototype.isActiveFieldsContainsBinary = function () {
            var _this = this;
            return this.getAllActiveFields().some(function (f) { return _this.isBinaryField(f); });
        };
        /////////////////////////////////////////
        // group functions
        /////////////////////////////////////////
        /**
         * Check if field grouped
         */
        IzendaInstantReportStorageService.prototype.isFieldGrouped = function (field) {
            var compareWithValue = this.emptyFieldGroupOption.value;
            if (!field.groupByFunction || !field.groupByFunction.value)
                return false;
            return field.groupByFunction.value.toLowerCase() !== compareWithValue.toLowerCase();
        };
        /**
         * Check if field grouped and not 'group' function is applied.
         */
        IzendaInstantReportStorageService.prototype.isFieldGroupedWithFunction = function (field) {
            return this.isFieldGrouped(field) && field.groupByFunction.value.toLowerCase() !== 'group';
        };
        /**
         * Update field formats (it depends on selected group function)
         */
        IzendaInstantReportStorageService.prototype.updateFieldFormats = function (field, defaultFormatString) {
            var _this = this;
            var gotFieldFormats = function (returnObj, defaultTypeGroup, resolveFunc) {
                field.formatOptionGroups = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                var formatToApply;
                var defaultTypeGroupFormatString = _this.getDefaultFieldFormat(defaultTypeGroup);
                if (angular.isString(defaultFormatString) && defaultFormatString) {
                    formatToApply = _this.$izendaUtilService.getOptionByValue(field.formatOptionGroups, defaultFormatString);
                    if (!formatToApply) {
                        formatToApply =
                            _this.$izendaUtilService.getOptionByValue(field.formatOptionGroups, defaultTypeGroupFormatString);
                    }
                }
                else {
                    formatToApply =
                        _this.$izendaUtilService.getOptionByValue(field.formatOptionGroups, defaultTypeGroupFormatString);
                }
                field.format = formatToApply;
                resolveFunc(field);
            };
            return this.$q(function (resolve) {
                // isFieldGrouped guarantees that field.groupByFunction.value will be non-empty and don't have "None" value.
                if (_this.isFieldGrouped(field) && ['min', 'max', 'sum', 'sum_distinct', 'group'].indexOf(field.groupByFunction.value.toLowerCase()) < 0) {
                    _this.$izendaInstantReportQueryService.getFieldFormats(field, field.groupByFunction.dataTypeGroup).then(function (returnObj) {
                        gotFieldFormats(returnObj, field.groupByFunction.dataTypeGroup, resolve);
                    });
                }
                else {
                    _this.$izendaInstantReportQueryService.getFieldFormats(field).then(function (returnObj) {
                        gotFieldFormats(returnObj, field.typeGroup, resolve);
                    });
                }
            });
        };
        /**
         * Get group by given value
         */
        IzendaInstantReportStorageService.prototype.getGroupByValue = function (field, value) {
            return this.$izendaUtilService.getOptionByValue(field.groupByFunctionOptions, value, true);
        };
        /**
         * Get Subtotal group by given value
         */
        IzendaInstantReportStorageService.prototype.getGroupBySubtotalValue = function (field, value) {
            return this.$izendaUtilService.getOptionByValue(field.groupBySubtotalFunctionOptions, value, true);
        };
        /**
         * Check if checked fields has function
         */
        IzendaInstantReportStorageService.prototype.isReportUseGroup = function () {
            var _this = this;
            var activeTables = this.getActiveTables();
            if (activeTables.length === 0)
                return false;
            var result = false;
            this.eachActiveFields(function (field) {
                if (_this.isFieldGrouped(field))
                    result = true;
            });
            return result;
        };
        /**
         * Reset all groups which was grouped automatically.
         */
        IzendaInstantReportStorageService.prototype.resetAutoGroups = function () {
            var _this = this;
            // check group function:
            this.eachActiveFields(function (field) {
                if (!_this.isBinaryField(field)) {
                    field.groupByFunction = _this.getGroupByValue(field, 'NONE');
                    _this.updateFieldFormats(field);
                }
            });
        };
        /**
         * Check if report has group and apply group by for other columns.
         */
        IzendaInstantReportStorageService.prototype.applyAutoGroups = function (force) {
            var _this = this;
            if (!force) {
                var hasGroup = this.isReportUseGroup();
                if (!hasGroup)
                    return;
            }
            // check group function:
            this.eachActiveFields(function (field) {
                if (_this.isBinaryField(field))
                    return;
                if (!_this.isFieldGrouped(field)) {
                    field.groupByFunction = _this.getGroupByValue(field, 'GROUP');
                    _this.updateFieldFormats(field);
                }
            });
        };
        /**
         * Get possible visual group styles from server
         */
        IzendaInstantReportStorageService.prototype.initializeVgStyles = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getVgStyles().then(function (result) {
                    _this.vgStyles = result[0].options;
                    resolve();
                });
            });
        };
        /**
         * Get visual group styles
         */
        IzendaInstantReportStorageService.prototype.getVgStyles = function () {
            return this.vgStyles;
        };
        /**
         * Initialize possible expression types.
         */
        IzendaInstantReportStorageService.prototype.initializeExpressionTypes = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getExpressionTypes().then(function (result) {
                    _this.expressionTypes = [];
                    var options = result[0].options;
                    if (options)
                        _this.expressionTypes = _this.expressionTypes.concat(options.filter(function (o) { return o.value !== ''; }));
                    resolve();
                });
            });
        };
        /**
         * Initialize possible drilldown styles from server
         */
        IzendaInstantReportStorageService.prototype.initializeDrillDownStyles = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getDrillDownStyles().then(function (result) {
                    _this.drillDownStyles = [];
                    var options = result[0].options;
                    if (options)
                        options.forEach(function (o) {
                            o.disabled = false;
                            _this.drillDownStyles.push(o);
                        });
                    resolve();
                });
            });
        };
        /**
         * Disable EmbeddedDetail drilldown style for current report and (AUTO)
         */
        IzendaInstantReportStorageService.prototype.disableEmbeddedDrillDownStyle = function (field) {
            var _this = this;
            this.drillDownStyles.forEach(function (ddStyle) {
                ddStyle.disabled = false;
                var reportInfo = _this.$izendaUrlService.getReportInfo();
                if (ddStyle.value === 'EmbeddedDetail') {
                    ddStyle.disabled = field.subreport === '(AUTO)' || field.subreport === reportInfo.fullName;
                }
            });
        };
        /**
         * Get drilldown styles
         */
        IzendaInstantReportStorageService.prototype.getDrillDownStyles = function () {
            return this.drillDownStyles;
        };
        IzendaInstantReportStorageService.prototype.getExpressionTypes = function () {
            return this.expressionTypes;
        };
        IzendaInstantReportStorageService.prototype.initializeSubreports = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getSubreports().then(function (result) {
                    _this.subreports = result[0].options;
                    resolve();
                });
            });
        };
        IzendaInstantReportStorageService.prototype.getSubreports = function () {
            return this.subreports;
        };
        /**
        * Initialize charts
        */
        IzendaInstantReportStorageService.prototype.initializeCharts = function () {
            var _this = this;
            return this.$q(function (resolve) {
                var settings = _this.$izendaInstantReportSettingsService.getSettings();
                if (!settings.showChartTab || !settings.visionAllowed) {
                    resolve();
                    return;
                }
                _this.$izendaInstantReportVisualizationService.loadVisualizations().then(function () { return resolve(); });
            });
        };
        /////////////////////////////////////////
        // validation functions
        /////////////////////////////////////////
        /**
         * Remove all validation messages
         */
        IzendaInstantReportStorageService.prototype.clearValidation = function () {
            if (!angular.isArray(this.getDataSources()))
                return;
            this.getDataSources().forEach(function (category) {
                category.tables.forEach(function (table) {
                    table.validateMessages = [];
                    table.validateMessageLevel = null;
                    table.fields.forEach(function (field) {
                        field.validateMessages = [];
                        field.validateMessageLevel = null;
                    });
                });
            });
        };
        /**
         * Validate report and set validate messages to tables and fields
         */
        IzendaInstantReportStorageService.prototype.validateReport = function () {
            var _this = this;
            this.clearValidation();
            var validationFailed = false;
            var activeTables = this.getActiveTables();
            if (activeTables.length === 0)
                return false;
            var hasGroup = this.isReportUseGroup();
            this.eachActiveFields(function (field) {
                if (hasGroup && _this.isBinaryField(field)) {
                    // if field have sql type which can't be grouped
                    field.validateMessages.push({
                        messageType: 'danger',
                        message: _this.$izendaLocaleService.localeTextWithParams('js_CantUseWithGroup', 'Can\'t use fields with sql type "{0}" with GROUP BY statement', [field.sqlType])
                    });
                    field.validateMessageLevel = 'danger';
                    validationFailed = true;
                }
                else if (hasGroup && !_this.isFieldGrouped(field)) {
                    // if field have no group function
                    field.validateMessages.push({
                        messageType: 'danger',
                        message: _this.$izendaLocaleService.localeText('js_MustBeFunction', 'If functions are used, each selection must be a function.')
                    });
                    field.validateMessageLevel = 'danger';
                    validationFailed = true;
                }
            });
            return validationFailed;
        };
        /////////////////////////////////////////
        // common UI functions
        /////////////////////////////////////////
        IzendaInstantReportStorageService.prototype.hideAllPanels = function () {
            this.uiPanelsState.filtersPanelOpened = false;
        };
        IzendaInstantReportStorageService.prototype.getFiltersPanelOpened = function () {
            return this.uiPanelsState.filtersPanelOpened;
        };
        IzendaInstantReportStorageService.prototype.setFiltersPanelOpened = function (value) {
            this.hideAllPanels();
            this.uiPanelsState.filtersPanelOpened = value;
        };
        /////////////////////////////////////////
        // datasources functions
        /////////////////////////////////////////
        /**
         * Algorithm which find nodes which can't be deactivated
         */
        IzendaInstantReportStorageService.prototype.findBridgesForGraph = function (nodes, links) {
            var n = nodes.length;
            var used = new Array(n);
            var tin = new Array(n);
            var fup = new Array(n);
            var timer = 0;
            var bridgeNodes = [];
            var getLinksForNode = function (node) {
                var result = [];
                for (var i = 0; i < links.length; i++) {
                    var link = links[i];
                    var link1 = link[0];
                    var link2 = link[1];
                    if (link1 === link2)
                        continue;
                    if (link1 === node && result.indexOf(link2) < 0)
                        result.push(link2);
                    if (link2 === node && result.indexOf(link1) < 0)
                        result.push(link1);
                }
                return result;
            };
            var dfs = function (v, p) {
                used[v] = true;
                tin[v] = fup[v] = timer++;
                var currentLinks = getLinksForNode(nodes[v]);
                for (var i = 0; i < currentLinks.length; i++) {
                    var to = currentLinks[i];
                    if (to === p)
                        continue;
                    if (used[to])
                        fup[v] = Math.min(fup[v], tin[to]);
                    else {
                        dfs(to, v);
                        fup[v] = Math.min(fup[v], fup[to]);
                        if (fup[to] > tin[v]) {
                            var isToNodeEdge = getLinksForNode(to).length < 2;
                            var isVNodeEdge = currentLinks.length < 2;
                            if (!isToNodeEdge && bridgeNodes.indexOf(to) < 0) {
                                bridgeNodes.push(to);
                            }
                            if (!isVNodeEdge && bridgeNodes.indexOf(v) < 0) {
                                bridgeNodes.push(v);
                            }
                        }
                    }
                }
            };
            var findBridges = function () {
                timer = 0;
                for (var ii = 0; ii < n; ii++) {
                    used[ii] = false;
                    tin[ii] = null;
                    fup[ii] = null;
                }
                for (var i = 0; i < n; i++)
                    if (!used[i])
                        dfs(i);
            };
            findBridges();
            return bridgeNodes;
        };
        /**
         * Constraints check and update tables availability.
         */
        IzendaInstantReportStorageService.prototype.updateTablesAvailability = function () {
            var _this = this;
            // create tables which available by foreign keys
            var currentActiveTables = this.getActiveTables();
            var applyConstraints = currentActiveTables.length !== 0;
            var activeTableNames = [];
            var nodeConstraints = [];
            var nodes = [];
            currentActiveTables.forEach(function (table, iTable) {
                nodes.push(iTable);
                activeTableNames.push(table.sysname);
            });
            // process constraints data
            var foreignKeyTables = [];
            this.constraints.forEach(function (constraint) {
                var part1 = constraint[0], part2 = constraint[1];
                var part1Index = activeTableNames.indexOf(part1);
                var part2Index = activeTableNames.indexOf(part2);
                if (part1Index >= 0 && part2Index >= 0 && part1 !== part2) {
                    nodeConstraints.push([part1Index, part2Index]);
                }
                currentActiveTables.forEach(function (table) {
                    if (part1 === table.sysname || part2 === table.sysname) {
                        if (foreignKeyTables.indexOf(part1) < 0)
                            foreignKeyTables.push(part1);
                        if (foreignKeyTables.indexOf(part2) < 0)
                            foreignKeyTables.push(part2);
                    }
                });
            });
            // enable/disable tables
            this.getDataSources().forEach(function (category) {
                category.enabled = false;
                // check tables
                category.tables.forEach(function (table) {
                    if (!applyConstraints) {
                        category.enabled = true;
                        table.enabled = true;
                        table.fields.forEach(function (field) {
                            field.enabled = table.enabled;
                        });
                        return;
                    }
                    table.enabled = table.active
                        || (foreignKeyTables.indexOf(table.sysname) >= 0
                            && _this.$izendaInstantReportSettingsService.getSettings().maxAllowedTables > currentActiveTables.length);
                    category.enabled |= table.enabled;
                    table.fields.forEach(function (field) {
                        field.enabled = table.enabled;
                    });
                });
            });
            // disable bridge tables (tables which are links between two other active tables):
            var result = this.findBridgesForGraph(nodes, nodeConstraints);
            result.forEach(function (idx) { return currentActiveTables[idx].enabled = false; });
        };
        /**
         * Set "selected = false" for all fields
         */
        IzendaInstantReportStorageService.prototype.unselectAllFields = function () {
            this.getDataSources().forEach(function (category) {
                category.tables.forEach(function (table) {
                    table.fields.forEach(function (field) {
                        field.selected = false;
                        field.multipleColumns.forEach(function (mField) { return mField.selected = false; });
                    });
                });
            });
        };
        /**
         * Check is calc field exist
         */
        IzendaInstantReportStorageService.prototype.calcFieldExist = function (calcFieldId) {
            return this.calcFields.some(function (c) { return c.sysname === calcFieldId; });
        };
        /**
         * Update calc field properties
         */
        IzendaInstantReportStorageService.prototype.updateCalcField = function (field, calcField) {
            calcField.name = "[" + field.description + "] (calc)";
        };
        /**
         * Create calc field
         */
        IzendaInstantReportStorageService.prototype.createCalcField = function (field) {
            var result = angular.copy(field);
            result.sysname = "fldId|" + field.guid;
            this.updateCalcField(field, result);
            return result;
        };
        /**
         * Sync calc fields
         */
        IzendaInstantReportStorageService.prototype.syncCalcFieldsArray = function () {
            var _this = this;
            var newCalcFields = [];
            // remove old calc fields
            this.calcFields.forEach(function (calcField) {
                var foundField = null;
                var fieldGuid = calcField.sysname.substring(6);
                _this.eachActiveFields(function (field) {
                    if (fieldGuid === field.guid)
                        foundField = field;
                });
                var isExpressionSet = foundField
                    && angular.isString(foundField.expression)
                    && foundField.expression.trim() !== '';
                if (foundField && (_this.isFieldGroupedWithFunction(foundField) || isExpressionSet)) {
                    newCalcFields.push(calcField);
                    _this.updateCalcField(foundField, calcField);
                }
            });
            this.calcFields = newCalcFields;
            // add new
            this.eachActiveFields(function (field) {
                var isExpressionSet = angular.isString(field.expression)
                    && field.expression.trim() !== '';
                // if field grouped and it is not simple 'GROUP' or it has expression
                if (!_this.calcFieldExist("fldId|" + field.guid) && (_this.isFieldGroupedWithFunction(field) || isExpressionSet)) {
                    var calcField = _this.createCalcField(field);
                    _this.calcFields.push(calcField);
                }
            });
        };
        /**
         * Create active tables array
         */
        IzendaInstantReportStorageService.prototype.syncActiveTablesArray = function () {
            var _this = this;
            this.activeTables = [];
            this.activeFields = [];
            this.activeCheckedFields = [];
            this.getDataSources().forEach(function (category) {
                category.tables.filter(function (t) { return t.active; }).forEach(function (table) {
                    _this.activeTables.push(table);
                    _this.activeFields = _this.activeFields.concat(table.fields);
                    _this.activeCheckedFields = _this.activeCheckedFields.concat(table.fields.filter(function (f) { return f.checked; }));
                });
            });
            this.syncCalcFieldsArray();
        };
        /**
         * Update tree state after checking table
         */
        IzendaInstantReportStorageService.prototype.updateParentFolders = function (table, syncCollapse) {
            var parentCategory = this.getCategoryById(table.parentId);
            this.syncActiveTablesArray();
            // update category active
            parentCategory.active = parentCategory.tables.some(function (t) { return t.active; });
            if (syncCollapse)
                parentCategory.collapsed = !parentCategory.active;
            this.updateTablesAvailability();
        };
        /**
         * Update tree state after checking field
         */
        IzendaInstantReportStorageService.prototype.updateParentFoldersAndTables = function (field, syncCollapse, restrictTableUncheck) {
            var table = this.getTableById(field.parentId);
            var hasCheckedFields = table.fields.some(function (f) { return f.checked; });
            // if table checked state false -> true:
            if (hasCheckedFields && !table.active)
                table.order = this.getNextOrder();
            // update table active
            table.active = restrictTableUncheck || hasCheckedFields || !table.enabled;
            if (syncCollapse)
                table.collapsed = !hasCheckedFields;
            // update table
            this.updateParentFolders(table, syncCollapse);
        };
        /**
         * Update drilldowns
         */
        IzendaInstantReportStorageService.prototype.updateDrilldowns = function () {
            var _this = this;
            this.reportSet.drillDownFields = this.reportSet.drillDownFields.filter(function (drilldownField) {
                return _this.getAllFieldsInActiveTables().some(function (f) { return drilldownField.id === f.id; });
            });
        };
        /**
        * Get filtered datasources
        */
        IzendaInstantReportStorageService.prototype.searchInDataDources = function (searchString, from, to) {
            var _this = this;
            return this.$q(function (resolve) {
                if (searchString === '') {
                    resolve([]);
                    return;
                }
                // start search
                _this.$izendaInstantReportQueryService.findInDatasources(searchString, from, to).then(function (results) {
                    // search completed
                    if (results && results.length)
                        results.forEach(function (item, idx) { return item.id = from + idx; });
                    resolve(results);
                });
            });
        };
        IzendaInstantReportStorageService.prototype.resetFieldObject = function (fieldObject, defaultValues) {
            fieldObject.isInitialized = false;
            fieldObject.isMultipleColumns = false;
            fieldObject.multipleColumns = [];
            fieldObject.highlight = false;
            fieldObject.enabled = true;
            fieldObject.checked = false;
            fieldObject.selected = false;
            fieldObject.collapsed = false;
            fieldObject.isVgUsed = false;
            fieldObject.breakPageAfterVg = false;
            fieldObject.description = this.$izendaUtilService.humanizeVariableName(fieldObject.name);
            fieldObject.isDescriptionSetManually = false;
            fieldObject.order = 0;
            fieldObject.format = this.emptyFieldFormatOption;
            fieldObject.formatOptionGroups = [];
            fieldObject.groupByFunction = this.emptyFieldGroupOption;
            fieldObject.groupByFunctionOptions = [];
            fieldObject.groupBySubtotalFunction = this.emptySubtotalFieldGroupOptions;
            fieldObject.groupBySubtotalFunctionOptions = [];
            fieldObject.subtotalExpression = '';
            fieldObject.allowedInFilters = true;
            fieldObject.isSpParameter = false;
            fieldObject.sort = null;
            fieldObject.italic = false;
            fieldObject.columnGroup = '';
            fieldObject.separator = false;
            fieldObject.textHighlight = '';
            fieldObject.cellHighlight = '';
            fieldObject.valueRange = '';
            fieldObject.width = '';
            fieldObject.labelJustification = 'M';
            fieldObject.valueJustification = ' ';
            fieldObject.visible = true;
            fieldObject.gradient = false;
            fieldObject.bold = false;
            fieldObject.drillDownStyle = '';
            fieldObject.customUrl = '';
            fieldObject.subreport = '';
            fieldObject.expression = '';
            fieldObject.expressionType = this.emptyExpressionType;
            fieldObject.groupByExpression = false;
            fieldObject.validateMessages = [];
            fieldObject.validateMessageLevel = null;
            angular.extend(fieldObject, defaultValues);
        };
        IzendaInstantReportStorageService.prototype.createFieldObjectInner = function (fieldProperties) {
            var fieldObject = {
                id: this.getNextId(),
                parentFieldId: null,
                parentId: null,
                name: null,
                tableSysname: null,
                tableName: null,
                sysname: null,
                typeGroup: null,
                type: null,
                sqlType: null,
                allowedInFilters: null,
                isDescriptionSetManually: null,
                description: null,
                order: 0,
                guid: null,
                selected: null,
                checked: null
            };
            this.resetFieldObject(fieldObject, fieldProperties);
            return fieldObject;
        };
        /**
         * Create field object.
         */
        IzendaInstantReportStorageService.prototype.createFieldObject = function (fieldName, tableId, tableSysname, tableName, fieldSysname, fieldTypeGroup, fieldType, fieldSqlType, allowedInFilters, isSpParameter) {
            var fieldObject = this.createFieldObjectInner({
                guid: this.guid(),
                parentId: tableId,
                name: fieldName,
                tableSysname: tableSysname,
                tableName: tableName,
                sysname: fieldSysname,
                typeGroup: fieldTypeGroup,
                type: fieldType,
                sqlType: fieldSqlType,
                allowedInFilters: allowedInFilters,
                isSpParameter: isSpParameter
            });
            return fieldObject;
        };
        /**
         * Copy field object state
         */
        IzendaInstantReportStorageService.prototype.copyFieldObject = function (from, to, replaceName) {
            to.id = from.id;
            to.guid = from.guid;
            to.isInitialized = from.isInitialized;
            to.parentId = from.parentId;
            to.tableSysname = from.tableSysname;
            if (replaceName)
                to.name = from.name;
            to.sysname = from.sysname;
            to.typeGroup = from.typeGroup;
            to.type = from.type;
            to.sqlType = from.sqlType;
            to.enabled = from.enabled;
            to.expression = from.expression;
            to.expressionType = from.expressionType;
            to.groupByExpression = from.groupByExpression;
            to.checked = from.checked;
            to.isVgUsed = from.isVgUsed;
            to.breakPageAfterVg = from.breakPageAfterVg;
            to.description = from.description;
            to.isDescriptionSetManually = from.isDescriptionSetManually;
            to.order = from.order;
            to.format = from.format;
            to.formatOptionGroups = from.formatOptionGroups;
            to.groupByFunction = from.groupByFunction;
            to.groupByFunctionOptions = from.groupByFunctionOptions;
            to.groupBySubtotalFunction = from.groupBySubtotalFunction;
            to.groupBySubtotalFunctionOptions = from.groupBySubtotalFunctionOptions;
            to.sort = from.sort;
            to.italic = from.italic;
            to.columnGroup = from.columnGroup;
            to.separator = from.separator;
            to.textHighlight = from.textHighlight;
            to.cellHighlight = from.cellHighlight;
            to.valueRange = from.valueRange;
            to.width = from.width;
            to.labelJustification = from.labelJustification;
            to.valueJustification = from.valueJustification;
            to.gradient = from.gradient;
            to.visible = from.visible;
            to.bold = from.bold;
            to.drillDownStyle = from.drillDownStyle;
            to.customUrl = from.customUrl;
            to.subreport = from.subreport;
            to.validateMessages = from.validateMessages;
            to.validateMessageLevel = from.validateMessageLevel;
        };
        /**
         * Reset datasources state
         */
        IzendaInstantReportStorageService.prototype.resetDataSources = function () {
            var _this = this;
            var datasources = this.getDataSources();
            if (!angular.isArray(datasources))
                return;
            datasources.forEach(function (category) {
                category.visible = true;
                category.active = false;
                category.enabled = true;
                category.collapsed = true;
                // iterate tables
                category.tables.forEach(function (table) {
                    table.visible = true;
                    table.active = false;
                    table.enabled = true;
                    table.collapsed = true;
                    table.validateMessages = [];
                    table.validateMessageLevel = null;
                    // iterate fields
                    table.fields.forEach(function (field) {
                        _this.resetFieldObject(field);
                    });
                });
            });
        };
        /**
         * Refresh field description
         */
        IzendaInstantReportStorageService.prototype.autoUpdateFieldDescription = function (field) {
            if (!field.isDescriptionSetManually) {
                field.description = this.generateDescription(field);
            }
        };
        /**
         * Convert fields which got from server into format which used in app and add it to table object.
         * @param {Array} fields. Server side fields object.
         */
        IzendaInstantReportStorageService.prototype.convertAndAddFields = function (tableObject, fields) {
            var _this = this;
            if (fields && fields.length)
                fields.forEach(function (field) {
                    var fieldObject = _this.createFieldObject(field.name, tableObject.id, tableObject.sysname, tableObject.name, field.sysname, field.typeGroup, field.type, field.sqlType, field.allowedInFilters, field.isSpParameter === 'True');
                    _this.autoUpdateFieldDescription(fieldObject);
                    tableObject.fields.push(fieldObject);
                });
            tableObject.lazy = false;
        };
        /**
        * Convert datasources for future use it in app
        */
        IzendaInstantReportStorageService.prototype.convertDataSources = function (dataSources) {
            var _this = this;
            if (!angular.isArray(dataSources))
                return [];
            var result = [];
            // iterate categories
            var uncategorized = null;
            dataSources.forEach(function (category) {
                var categoryObject = {
                    id: _this.getNextId(),
                    name: category.DataSourceCategory,
                    tables: [],
                    visible: true,
                    active: false,
                    enabled: true,
                    collapsed: true
                };
                // iterate tables
                category.tables.forEach(function (table) {
                    var tableObject = {
                        id: _this.getNextId(),
                        order: 0,
                        parentId: categoryObject.id,
                        name: table.name,
                        sysname: table.sysname,
                        tableType: table.tableType,
                        fields: [],
                        visible: true,
                        active: false,
                        enabled: true,
                        collapsed: true,
                        validateMessages: [],
                        validateMessageLevel: null,
                        lazy: null
                    };
                    // add field if loaded
                    if (table.fields === 'LAZIED') {
                        tableObject.lazy = true;
                    }
                    else {
                        _this.convertAndAddFields(tableObject, table.fields);
                    }
                    categoryObject.tables.push(tableObject);
                });
                if (_this.$izendaUtilService.isUncategorized(categoryObject.name)
                    && _this.$izendaInstantReportSettingsService.getSettings().moveUncategorizedToLastPosition) {
                    uncategorized = categoryObject;
                }
                else {
                    result.push(categoryObject);
                }
            });
            // move uncategorized to the last position:
            if (uncategorized !== null) {
                result.push(uncategorized);
            }
            if (result.length > 0) {
                result[0].collapsed = false;
            }
            return result;
        };
        IzendaInstantReportStorageService.prototype.createFieldObjectForSend = function (field) {
            return {
                guid: field.guid,
                sysname: field.sysname,
                description: field.description ? field.description : this.$izendaUtilService.humanizeVariableName(field.name),
                format: field.format,
                groupByFunction: field.groupByFunction,
                groupBySubtotalFunction: field.groupBySubtotalFunction,
                subtotalExpression: field.subtotalExpression,
                allowedInFilters: field.allowedInFilters,
                sort: field.sort,
                order: field.order,
                italic: field.italic,
                columnGroup: field.columnGroup,
                separator: field.separator,
                valueRange: field.valueRange,
                textHighlight: field.textHighlight,
                cellHighlight: field.cellHighlight,
                width: field.width,
                labelJustification: field.labelJustification,
                valueJustification: field.valueJustification,
                gradient: field.gradient,
                visible: field.visible,
                isVgUsed: field.isVgUsed,
                breakPageAfterVg: field.breakPageAfterVg,
                bold: field.bold,
                drillDownStyle: field.drillDownStyle,
                customUrl: field.customUrl,
                subreport: field.subreport,
                expression: field.expression,
                expressionType: field.expressionType.value,
                groupByExpression: field.groupByExpression
            };
        };
        /**
         * Create object with report data which will be send to server.
         */
        IzendaInstantReportStorageService.prototype.createReportSetConfigForSend = function (previewTop) {
            var _this = this;
            // iterate through active fields.
            var activeTables = this.getActiveTables();
            if (activeTables.length === 0)
                return null;
            var options = angular.extend({}, this.getOptions());
            var filterOptions = angular.extend({}, this.getFilterOptions());
            var reportSetConfig = {
                reportName: this.reportSet.reportName,
                reportCategory: this.reportSet.reportCategory,
                joinedTables: [],
                drillDownFields: [],
                fields: [],
                filters: [],
                charts: [],
                options: options,
                filterOptions: filterOptions,
                schedule: null,
                share: {},
                pivot: null,
                reportId: this.reportSet.reportId
            };
            if (typeof (reportSetConfig.options.page.itemsPerPage) !== 'number') {
                reportSetConfig.options.page.itemsPerPage = parseInt(reportSetConfig.options.page.itemsPerPage);
            }
            // preview top
            var reportTop = parseInt(reportSetConfig.options.top);
            if (angular.isNumber(previewTop)) {
                if (!isNaN(reportTop) && (reportTop < previewTop || previewTop < 0))
                    reportSetConfig.options.top = reportTop;
                else
                    reportSetConfig.options.top = previewTop;
            }
            // schedule
            reportSetConfig.schedule = this.$izendaScheduleService.getScheduleConfigForSend();
            // share
            reportSetConfig.share = this.$izendaShareService.getShareConfigForSend();
            // add drilldown fields.
            reportSetConfig.drillDownFields = this.getDrillDownFields().map(function (f) { return f.sysname; });
            // add charts
            if (this.reportSet.charts.length > 0) {
                var chart = this.reportSet.charts[0];
                if (chart) {
                    reportSetConfig.charts[0] = {
                        name: chart.name,
                        category: chart.categoryName,
                        properties: chart.properties ? chart.properties : null
                    };
                }
            }
            // prepare tables
            var activeFieldsList = this.getAllActiveFields();
            activeFieldsList.sort(function (field1, field2) { return field1.order - field2.order; });
            for (var i = 0; i < activeFieldsList.length; i++)
                activeFieldsList[i].order = i + 1;
            // add filters to config
            this.getFilters().forEach(function (filter) {
                if (filter.field === null || !angular.isObject(filter.operator)) {
                    filter.isValid = false;
                    return;
                }
                filter.isValid = true;
                // prepare filter values to send
                var preparedValues = filter.values;
                // date string created according to format which used in "internal static string DateLocToUs(string date)":
                var valueType = _this.getFieldFilterOperatorValueType(filter.operator);
                if (valueType === 'select_multiple' || valueType === 'select_popup' || valueType === 'select_checkboxes') {
                    preparedValues = [filter.values.join(',')];
                }
                else if (valueType === 'field' && filter.values.length === 1 && filter.values[0] !== null) {
                    preparedValues = [filter.values[0].sysname];
                }
                else if (valueType === 'twoDates') {
                    var momentObj1 = null;
                    var momentObj2 = null;
                    if (filter.values[0])
                        momentObj1 = moment(filter.values[0]);
                    if (filter.values[1])
                        momentObj2 = moment(filter.values[1]);
                    preparedValues = [
                        momentObj1 && momentObj1.isValid() ? momentObj1.format(_this.$izendaSettingsService.getDefaultDateFormatString()) : null,
                        momentObj2 && momentObj2.isValid() ? momentObj2.format(_this.$izendaSettingsService.getDefaultDateFormatString()) : null
                    ];
                }
                else if (valueType === 'oneDate') {
                    var momentObj = null;
                    if (filter.values[0])
                        momentObj = moment(filter.values[0]);
                    preparedValues = [
                        momentObj && momentObj.isValid() ? momentObj.format(_this.$izendaSettingsService.getDefaultDateFormatString()) : null
                    ];
                }
                var filterObj = {
                    required: filter.required,
                    description: filter.description,
                    parameter: filter.parameter,
                    sysname: filter.field.sysname,
                    operatorString: filter.operator.value,
                    values: preparedValues,
                    titleFormat: filter.titleFormat,
                    customPopupTemplateUrl: filter.customPopupTemplateUrl
                };
                var isBlank = filterObj.values.every(function (v) { return v === ''; });
                if (isBlank)
                    filterObj.values = [];
                reportSetConfig.filters.push(filterObj);
            });
            // pivot
            this.$izendaInstantReportPivotService.syncPivotState(this.getAllFieldsInActiveTables());
            var pivotConfig = this.$izendaInstantReportPivotService.getPivotDataForSend();
            if (!pivotConfig)
                reportSetConfig.pivot = null;
            else {
                reportSetConfig.pivot = {
                    options: pivotConfig.options
                };
                reportSetConfig.pivot.pivotColumn = this.createFieldObjectForSend(pivotConfig.pivotColumn);
                reportSetConfig.pivot.cellValues = pivotConfig.cellValues
                    .filter(function (c) { return !!c; })
                    .map(function (c) { return _this.createFieldObjectForSend(c); });
            }
            // fill joined tables:
            reportSetConfig.joinedTables = activeTables.map(function (t) {
                return { sysname: t.sysname };
            });
            // fill fields
            activeTables.forEach(function (table) {
                var activeFields = _this.getActiveFields(table);
                reportSetConfig.fields.pushAll(activeFields.map(_this.createFieldObjectForSend));
            });
            // update field order 
            reportSetConfig.fields.sort(function (f1, f2) {
                if (f1.isVgUsed ^ f2.isVgUsed)
                    if (f1.isVgUsed)
                        return -1;
                    else
                        return 1;
                else
                    return f1.order - f2.order;
            });
            reportSetConfig.fields.forEach(function (f) { return f.order = _this.getNextOrder(); });
            this.$log.debug('reportSetConfig: ', reportSetConfig);
            return reportSetConfig;
        };
        /**
         * Load fields for lazy table
         * @param {object} table
         */
        IzendaInstantReportStorageService.prototype.loadLazyFields = function (table) {
            var _this = this;
            return this.$q(function (resolve) {
                if (!table.lazy) {
                    resolve(false);
                    return;
                }
                _this.$izendaInstantReportQueryService.getFieldsInfo(table.sysname).then(function (data) {
                    _this.convertAndAddFields(table, data.fields);
                    resolve(true);
                });
            });
        };
        /**
         * Clear report preview.
         */
        IzendaInstantReportStorageService.prototype.clearReportPreviewHtml = function () {
            this.previewHtml = '';
            this.$izendaInstantReportQueryService.cancelAllPreviewQueries();
        };
        /**
         * Get and apply preview for current report set config.
         */
        IzendaInstantReportStorageService.prototype.getReportPreviewHtml = function () {
            var _this = this;
            this.clearReportPreviewHtml();
            this.isPreviewSplashVisible = true;
            this.$rootScope.$applyAsync();
            return this.$q(function (resolve) {
                var options = _this.getOptions();
                var reportSetToSend = _this.createReportSetConfigForSend(options.previewTop);
                _this.$izendaInstantReportQueryService.getReportSetPreviewQueued(reportSetToSend).then(function (data) {
                    _this.previewHtml = data;
                    _this.isPreviewSplashVisible = false;
                    _this.getOptions().rowsRange = null;
                    _this.$rootScope.$applyAsync();
                    resolve();
                }, function () {
                    // reject
                    _this.isPreviewSplashVisible = false;
                    _this.$rootScope.$applyAsync();
                    resolve();
                });
            });
        };
        /**
         * Set top value for preview
         */
        IzendaInstantReportStorageService.prototype.setPreviewTop = function (value) {
            var options = this.getOptions();
            if (!angular.isNumber(value) || value < 0) {
                options.previewTop = -2147483648;
            }
            else {
                options.previewTop = value;
            }
        };
        /**
         * Save report set
         */
        IzendaInstantReportStorageService.prototype.saveReportSet = function (name, category) {
            var _this = this;
            var rs = this.getReportSet();
            var nameToSave = angular.isDefined(name) ? name : rs.reportName;
            var categoryToSave = angular.isString(category) && category !== '' ? category : '';
            rs.reportName = nameToSave;
            rs.reportCategory = categoryToSave;
            if (this.$izendaUtilService.isUncategorized(rs.reportCategory))
                rs.reportCategory = '';
            var reportSetToSend = this.createReportSetConfigForSend();
            return this.$q(function (resolve, reject) {
                _this.$izendaInstantReportQueryService.saveReportSet(reportSetToSend).then(function (result) {
                    var reportSetFullName = _this.getReportSetFullName();
                    if (angular.isString(reportSetFullName))
                        _this.$izendaUrlService.setReportFullName(reportSetFullName);
                    resolve(result);
                }, function (error) {
                    reject(error);
                });
            });
        };
        /**
         * Send send report set to server and set it as CRS
         */
        IzendaInstantReportStorageService.prototype.setReportSetAsCrs = function (applyPreviewTop) {
            var _this = this;
            return this.$q(function (resolve) {
                var reportSetToSend = _this.createReportSetConfigForSend();
                if (applyPreviewTop)
                    reportSetToSend.options.applyPreviewTop = true;
                _this.$izendaInstantReportQueryService.setReportAsCrs(reportSetToSend).then(function (result) {
                    if (result === 'OK') {
                        resolve([true]);
                    }
                    else {
                        resolve([false, result]);
                    }
                });
            });
        };
        /**
         * Generate pdf with current report and send file to user
         */
        IzendaInstantReportStorageService.prototype.exportReportAs = function (exportType) {
            var _this = this;
            return this.$q(function (resolve) {
                var reportSetToSend = _this.createReportSetConfigForSend();
                reportSetToSend.options.applyPreviewTop = false;
                _this.$izendaInstantReportQueryService
                    .exportReportInNewWindow(reportSetToSend, exportType)
                    .then(function () { return resolve(true); });
            });
        };
        /**
         * Generate html and open print page.
         */
        IzendaInstantReportStorageService.prototype.printReportAsHtml = function () {
            var _this = this;
            return this.$q(function (resolve) {
                var reportSetToSend = _this.createReportSetConfigForSend();
                reportSetToSend.options.applyPreviewTop = false;
                _this.$izendaInstantReportQueryService
                    .exportReportInNewWindow(reportSetToSend, 'print')
                    .then(function () { return resolve(true); });
            });
        };
        /**
         * Print report function
         */
        IzendaInstantReportStorageService.prototype.printReport = function (printType) {
            var _this = this;
            return this.$q(function (resolve) {
                if (printType === 'html') {
                    _this.printReportAsHtml()
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (printType === 'pdf') {
                    _this.exportReportAs('PDF').then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else {
                    resolve({
                        success: false,
                        message: "Unknown print type " + printType
                    });
                }
            });
        };
        /**
         * Open report in report designer.
         */
        IzendaInstantReportStorageService.prototype.openReportInDesigner = function () {
            var _this = this;
            this.setReportSetAsCrs().then(function () {
                var url = _this.$izendaUrlService.settings.urlReportDesigner;
                if (angular.isString(_this.reportSet.reportName) && _this.reportSet.reportName !== '')
                    url += "?rn=" + _this.getReportSetFullName() + "&tab=Fields";
                else
                    url += '?tab=Fields';
                _this.$window.location.href = getAppendedUrl(url);
            });
        };
        /**
         * Export report function
         */
        IzendaInstantReportStorageService.prototype.exportReport = function (exportType) {
            var _this = this;
            return this.$q(function (resolve) {
                if (exportType === 'excel') {
                    _this.exportReportAs('XLS(MIME)')
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (exportType === 'word') {
                    _this.exportReportAs('DOC')
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (exportType === 'csv') {
                    var exportMode = _this.$izendaSettingsService.getBulkCsv() ? 'BULKCSV' : 'CSV';
                    _this.exportReportAs(exportMode)
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else if (exportType === 'xml') {
                    _this.exportReportAs('XML')
                        .then(function (success) { return resolve({
                        success: success,
                        message: ''
                    }); });
                }
                else {
                    resolve({
                        success: false,
                        message: "Unknown export type " + exportType
                    });
                }
            });
        };
        /**
         * Send report link via client email
         */
        IzendaInstantReportStorageService.prototype.sendReportLinkEmail = function () {
            var reportInfo = this.$izendaUrlService.getReportInfo();
            if (!angular.isObject(reportInfo) || !angular.isString(reportInfo.fullName) || reportInfo.fullName === '')
                throw 'Can\'t send email without report name';
            var reportViewerLocation = location.href.replaceAll(this.$izendaUrlService.settings.urlInstantReport, this.$izendaUrlService.settings.urlReportViewer);
            var redirectUrl = "?subject=" + encodeURIComponent(reportInfo.fullName) + "&body=" + encodeURIComponent(reportViewerLocation);
            redirectUrl = "mailto:" + redirectUrl.replace(/ /g, '%20');
            this.$window.top.location.href = getAppendedUrl(redirectUrl);
        };
        /**
         * Load instant report datasources
         */
        IzendaInstantReportStorageService.prototype.loadDataSources = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaInstantReportQueryService.getConstraintsInfo().then(function (constraintsData) {
                    _this.setConstraints(constraintsData);
                    _this.$izendaInstantReportQueryService.getDatasources().then(function (data) {
                        _this.setDataSources(_this.convertDataSources(data));
                        resolve();
                    });
                });
            });
        };
        /////////////////////////////////////////
        // charts
        /////////////////////////////////////////
        /**
         * Set current chart
         */
        IzendaInstantReportStorageService.prototype.selectChart = function (chart) {
            this.reportSet.charts[0] = chart;
        };
        /**
         * Get current chart
         */
        IzendaInstantReportStorageService.prototype.getSelectedChart = function () {
            return this.reportSet.charts.length ? this.reportSet.charts[0] : null;
        };
        /////////////////////////////////////////
        // filters
        /////////////////////////////////////////
        IzendaInstantReportStorageService.prototype.validateFilter = function (filter) {
            filter.isValid = true;
            filter.validationMessages = [];
            filter.validationMessageString = '';
            // check: is filter refer to field which in active table.
            if (filter.field !== null) {
                var filterField_1 = filter.field;
                var found = this.getAllFieldsInActiveTables(true).some(function (f) { return f.sysname === filterField_1.sysname; });
                if (!found) {
                    filter.isValid = false;
                    filter.validationMessages.push(this.$izendaLocaleService.localeText('js_FilterFieldIsntIncluded', 'Filter field refers on datasource which isn\'t included to report'));
                    filter.validationMessageString = filter.validationMessages.join(', ');
                }
            }
        };
        /**
         * Disable filters which are not pass validation
         */
        IzendaInstantReportStorageService.prototype.validateFilters = function () {
            var _this = this;
            this.reportSet.filters.forEach(function (f) { return _this.validateFilter(f); });
        };
        /**
         * Mark filters as ready to use.
         */
        IzendaInstantReportStorageService.prototype.startFilters = function () {
            this.reportSet.filters.forEach(function (f) { return f.isFilterReady = true; });
        };
        /**
         * Find filter operator by string value
         */
        IzendaInstantReportStorageService.prototype.getFilterOperatorByValue = function (filter, value) {
            if (!angular.isString(value) || !value)
                return null;
            return filter.operators.firstOrDefault(function (f) { return f.value === value; });
        };
        /**
         * Check all stored procedure parameters assigned in filters
         */
        IzendaInstantReportStorageService.prototype.isAllSpParametersAssigned = function () {
            var spParamFields = this.getAllFieldsInActiveTables().filter(function (field) { return field.isSpParameter; });
            if (!spParamFields.length)
                return true;
            var filters = this.getFilters();
            var foundUnassignedParam = false;
            spParamFields.forEach(function (field) {
                var found = filters.some(function (f) { return f.field && f.field === field; });
                if (!found)
                    foundUnassignedParam = true;
            });
            return !foundUnassignedParam;
        };
        /**
         * Get filter operator list for field
         */
        IzendaInstantReportStorageService.prototype.getFieldFilterOperatorList = function (field) {
            var _this = this;
            return this.$q(function (resolve) {
                var tablesParam = _this.getActiveTables().map(function (table) { return table.sysname; }).join(',');
                _this.$izendaInstantReportQueryService.getFieldOperatorList(field, tablesParam).then(function (data) {
                    var result = [];
                    data.forEach(function (d) {
                        var groupName = d.name ? d.name : undefined;
                        result = result.concat(d.options
                            .filter(function (o) { return o.value !== '...'; })
                            .map(function (o) { return angular.extend({ groupName: groupName }, o); }));
                    });
                    resolve(result);
                });
            });
        };
        /**
         * Set filter operator and update available values
         */
        IzendaInstantReportStorageService.prototype.setFilterOperator = function (filter, operatorName) {
            var _this = this;
            return this.$q(function (resolve) {
                if (!angular.isObject(filter.field)) {
                    filter.operators = [];
                    filter.operator = null;
                    resolve(filter);
                    return;
                }
                _this.getFieldFilterOperatorList(filter.field).then(function (result) {
                    // select filter operator to apply
                    var operatorNameToApply = null;
                    if (filter.operator)
                        operatorNameToApply = filter.operator.value;
                    if (angular.isString(operatorName))
                        operatorNameToApply = operatorName;
                    filter.operators = result;
                    filter.operator = _this.getFilterOperatorByValue(filter, operatorNameToApply);
                    // update field value
                    var operatorType = _this.getFieldFilterOperatorValueType(filter.operator);
                    if (operatorType === 'field') {
                        filter.values = [_this.getFieldBySysName(filter.values[0])];
                    }
                    else if (operatorType === 'oneDate' || operatorType === 'twoDates') {
                        filter.values = filter.values.map(function (v) {
                            var parsedDate = moment(v, [_this.$izendaSettingsService.getDefaultDateFormatString(), _this.$izendaSettingsService.getDefaultDateFormatString('M/D/YYYY')], true);
                            if (parsedDate.isValid())
                                return parsedDate._d;
                            return null;
                        });
                    }
                    else if (filter.operator && filter.operator.value === 'Equals_TextArea') {
                        filter.currentValue = filter.values.join();
                    }
                    resolve(filter);
                });
            });
        };
        /**
         * Load filter existent values list (you need to ensure that all operators were applied before starting update existing values)
         */
        IzendaInstantReportStorageService.prototype.updateFieldFilterExistentValues = function (filter, forceUpdate) {
            var _this = this;
            // parse unicode symbols util
            var parseHtmlUnicodeEntities = function (str) {
                return angular.element('<textarea />').html(str).text();
            };
            // convert options which we have got from server.
            var convertOptionsForSelect = function (options, operatorType) {
                if (!angular.isArray(options))
                    return [];
                var result = [];
                options.forEach(function (option) {
                    if (option.value === '...') {
                        if (operatorType === 'select' || operatorType === 'inTimePeriod' || operatorType === 'select_multiple') {
                            option.text = parseHtmlUnicodeEntities(option.text);
                            option.value = option.value;
                            result.push(option);
                        }
                    }
                    else {
                        option.text = parseHtmlUnicodeEntities(option.text);
                        option.value = option.value;
                        result.push(option);
                    }
                });
                return result;
            };
            var syncValues = function (filterObject) {
                if (filterObject.values.length === 0 || filterObject.operator.value === 'Equals_Autocomplete')
                    return;
                filterObject.values = filterObject.values.filter(function (fv) {
                    return filterObject.existentValues.map(function (e) { return e.value; }).includes(fv);
                });
            };
            // return promise
            return this.$q(function (resolve) {
                if (!angular.isObject(filter)) {
                    resolve(filter);
                    return;
                }
                if (!angular.isObject(filter.field) || !angular.isObject(filter.operator)) {
                    filter.existentValues = [];
                    filter.values = [];
                    filter.initialized = true;
                    resolve(filter);
                    return;
                }
                var isCascadingDisabled = _this.$window.nrvConfig && !_this.$window.nrvConfig.CascadeFilterValues;
                if (!forceUpdate && (_this.reportSet.filterOptions.filterLogic || isCascadingDisabled)) {
                    resolve(filter);
                    return;
                }
                // get constraint filters
                var allFilters = _this.getFilters();
                var idx = allFilters.indexOf(filter);
                if (idx < 0)
                    throw "Filter " + (filter.field !== null ? filter.field.sysname : '') + " isn't found in report set filters collection.";
                // Add constraint filters if filter logic wasn't applied
                var constraintFilters = [];
                if (!_this.reportSet.filterOptions.filterLogic)
                    constraintFilters = allFilters.slice(0, idx);
                // load existent values
                var operatorType = _this.getFieldFilterOperatorValueType(filter.operator);
                if (['select', 'Equals_Autocomplete', 'select_multiple', 'select_popup', 'select_checkboxes'].indexOf(operatorType) >= 0) {
                    _this.setReportSetAsCrs(false).then(function () {
                        _this.$izendaInstantReportQueryService
                            .getExistentValuesList(_this.getActiveTables(), constraintFilters, filter, true, _this.reportSet.filterOptions.filterLogic)
                            .then(function (data) {
                            filter.existentValues = convertOptionsForSelect(data && data.length ? data[0].options : [], operatorType);
                            syncValues(filter);
                            var defaultValue = _this.$izendaUtilService.getOptionByValue(filter.existentValues, '...');
                            if (filter.values.length === 0 && defaultValue)
                                filter.values = [defaultValue.value];
                            filter.initialized = true;
                            resolve(filter);
                        });
                    });
                }
                else if (operatorType === 'inTimePeriod') {
                    _this.$izendaInstantReportQueryService.getPeriodList().then(function (data) {
                        filter.existentValues = convertOptionsForSelect(data && data.length ? data[0].options : [], operatorType);
                        syncValues(filter);
                        var defaultValue = _this.$izendaUtilService.getOptionByValue(filter.existentValues, '...');
                        if (filter.values.length === 0 && defaultValue)
                            filter.values = [defaultValue.value];
                        filter.initialized = true;
                        resolve(filter);
                    });
                }
                else {
                    filter.existentValues = [];
                    filter.initialized = true;
                    resolve(filter);
                }
            });
        };
        /**
         * Set filter existing values when filterLogic
         */
        IzendaInstantReportStorageService.prototype.refreshFiltersForFilterLogic = function () {
            var _this = this;
            return this.$q(function (resolve) {
                if (!_this.reportSet.filterOptions.filterLogic) {
                    resolve();
                    return;
                }
                var allFilters = _this.getFilters();
                var promises = allFilters.map(function (filter) { return _this.updateFieldFilterExistentValues(filter, true); });
                _this.$q.all(promises).then(function () { return resolve(); });
            });
        };
        /**
         * Refresh next filter values.
         */
        IzendaInstantReportStorageService.prototype.refreshNextFiltersCascading = function (filter) {
            var _this = this;
            return this.$q(function (resolve) {
                var isCascadingDisabled = _this.$window.nrvConfig && !_this.$window.nrvConfig.CascadeFilterValues;
                if (_this.reportSet.filterOptions.filterLogic || isCascadingDisabled) {
                    resolve();
                    return;
                }
                var allFilters = _this.getFilters();
                // TODO: change to: const filtersToRefresh = allFilters.filter((f, fi) => {...});
                var filtersToRefresh;
                if (filter) {
                    var idx = allFilters.indexOf(filter);
                    if (idx < 0)
                        throw "Filter " + (filter.field !== null ? filter.field.sysname + ' ' : '') + "isn't found in report set filters collection.";
                    filtersToRefresh = allFilters.slice(idx + 1);
                }
                else {
                    filtersToRefresh = allFilters.slice(0);
                }
                // cascading filters update
                if (filtersToRefresh.length > 0) {
                    var refreshingFilter_1 = filtersToRefresh[0];
                    _this.updateFieldFilterExistentValues(refreshingFilter_1).then(function () {
                        _this.refreshNextFiltersCascading(refreshingFilter_1).then(function () {
                            // we don't need to call markAllFiltersAsRefreshing(false); here, because the last time when that function
                            // will be called - it will go through the "else" condition.
                            resolve(filter);
                        });
                    });
                }
                else {
                    resolve(filter);
                }
            });
        };
        /**
         * Create filter object without loading its format.
         */
        IzendaInstantReportStorageService.prototype.createNewFilterBase = function (fieldSysName, operatorName, values, required, description, parameter, customPopupTemplateUrl) {
            var filterObject = angular.extend({}, this.$injector.get('izendaFilterObjectDefaults'));
            // set field
            var field;
            if (fieldSysName && fieldSysName.indexOf('fldId|') === 0) {
                field = this.getCalcField(fieldSysName);
            }
            else
                field = this.getFieldBySysName(fieldSysName);
            while (field && field.mcAncestor)
                field = field.mcAncestor;
            filterObject.field = field;
            if (angular.isDefined(values)) {
                filterObject.values = values;
                if (operatorName === 'Equals_Autocomplete')
                    filterObject.values = [values.join(',')];
            }
            if (angular.isDefined(required))
                filterObject.required = required;
            if (angular.isDefined(description))
                filterObject.description = description;
            if (angular.isDefined(parameter))
                filterObject.parameter = parameter;
            if (angular.isDefined(operatorName))
                filterObject.operatorString = operatorName;
            if (angular.isDefined(customPopupTemplateUrl))
                filterObject.customPopupTemplateUrl = customPopupTemplateUrl;
            return filterObject;
        };
        /**
         * Load possible formats collection and set format for filter string in description.
         * @param {object} filter. Filter object (field must me set to apply format)
         * @param {string} titleFormatName. Format object value
         * @returns {angular promise}. Promise parameter: filter object.
         */
        IzendaInstantReportStorageService.prototype.loadFilterFormats = function (filter, titleFormatName) {
            var _this = this;
            // load and set filter format:
            var filterFormatNameToApply = this.emptyFieldFormatOption.value;
            if (angular.isString(titleFormatName) && titleFormatName !== '')
                filterFormatNameToApply = titleFormatName;
            return this.$q(function (resolve) {
                if (filter.field) {
                    _this.$izendaInstantReportQueryService.getFilterFormats(filter).then(function (returnObj) {
                        filter.titleFormats = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                        filter.titleFormat = _this.$izendaUtilService.getOptionByValue(filter.titleFormats, filterFormatNameToApply);
                        resolve(filter);
                    });
                }
                else {
                    resolve(filter);
                }
            });
        };
        /**
         * Create new filter object with default values
         */
        IzendaInstantReportStorageService.prototype.createNewFilter = function (fieldSysName, operatorName, values, required, description, parameter, titleFormatName, customPopupTemplateUrl) {
            var filterObject = this.createNewFilterBase(fieldSysName, operatorName, values, required, description, parameter, customPopupTemplateUrl);
            filterObject.isFilterReady = true;
            return this.loadFilterFormats(filterObject, titleFormatName);
        };
        /**
         * Delete filter from collection
         */
        IzendaInstantReportStorageService.prototype.removeFilter = function (filter) {
            var index = this.reportSet.filters.indexOf(filter);
            if (index >= 0) {
                this.reportSet.filters[index].field = null;
                this.reportSet.filters.splice(index, 1);
            }
        };
        /**
         * Swap filter
         */
        IzendaInstantReportStorageService.prototype.swapFilters = function (index0, index1) {
            var filters = this.reportSet.filters;
            var temp = filters[index0];
            filters[index0] = filters[index1];
            filters[index1] = temp;
        };
        /**
         * Move filter from position to position
         */
        IzendaInstantReportStorageService.prototype.moveFilterTo = function (fromIndex, toIndex) {
            this.reportSet.filters.splice(toIndex, 0, this.reportSet.filters.splice(fromIndex, 1)[0]);
        };
        /**
         * Check current active tables and remove filters which connected to non-active fields
         */
        IzendaInstantReportStorageService.prototype.syncFilters = function () {
            var _this = this;
            var aFields = this.getAllFieldsInActiveTables(true);
            var filters = this.getFilters();
            // find filters to remove
            var filtersToRemove = [];
            filters.forEach(function (filter) {
                var isFilterActive = aFields
                    .some(function (activeField) { return filter.field === null || activeField.sysname === filter.field.sysname; });
                if (!isFilterActive)
                    filtersToRemove.push(filter);
            });
            // remove filters
            filtersToRemove.forEach(function (f) { return _this.removeFilter(f); });
        };
        /**
         * Load custom template for popup filter.
         */
        IzendaInstantReportStorageService.prototype.getPopupFilterCustomTemplate = function (filter) {
            var _this = this;
            return this.$q(function (resolve) {
                var field = filter.field;
                if (!filter.field) {
                    resolve();
                    return;
                }
                var table = _this.getTableById(field.parentId);
                _this.$izendaInstantReportQueryService.getExistentPopupValuesList(field, table).then(function (data) {
                    if (data.userpage != null)
                        filter.customPopupTemplateUrl = data.userpage;
                    else
                        filter.customPopupTemplateUrl = null;
                    resolve();
                });
            });
        };
        /////////////////////////////////////////
        // field options
        /////////////////////////////////////////
        /**
         * Load field function and apply group by function to field
         */
        IzendaInstantReportStorageService.prototype.loadFieldFunctions = function (field, defaultGroupString) {
            var _this = this;
            return this.$q(function (resolve) {
                var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                    ? defaultGroupString
                    : 'NONE';
                _this.$izendaInstantReportQueryService
                    .getFieldFunctions(field, field.isPivotColumn ? 'pivotField' : 'field')
                    .then(function (returnObj) {
                    field.groupByFunctionOptions = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                    var isSimpleGroupFunction = field.groupByFunctionOptions.length === 2
                        && field.groupByFunctionOptions[0].value.toLowerCase() === 'none'
                        && field.groupByFunctionOptions[1].value.toLowerCase() === 'group';
                    if (isSimpleGroupFunction && groupToApply.toLowerCase() === 'none')
                        groupToApply = 'GROUP';
                    field.groupByFunction = _this.getGroupByValue(field, groupToApply);
                    // if group list was changed and current group function not in list
                    if (field.groupByFunction === null)
                        field.groupByFunction = _this.getGroupByValue(field, 'NONE');
                    resolve(field);
                });
            });
        };
        /**
         * Load Subtotal field function and apply Subtotal group by function to field
         */
        IzendaInstantReportStorageService.prototype.loadSubtotalFieldFunctions = function (field, defaultGroupString) {
            var _this = this;
            return this.$q(function (resolve) {
                var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                    ? defaultGroupString
                    : 'DEFAULT';
                _this.$izendaInstantReportQueryService
                    .getFieldFunctions(field, 'subtotal')
                    .then(function (returnObj) {
                    field.groupBySubtotalFunctionOptions = _this.$izendaUtilService.convertOptionsByPath(returnObj);
                    field.groupBySubtotalFunction = _this.getGroupBySubtotalValue(field, groupToApply);
                    // if group list was changed and current group function not in list
                    if (field.groupBySubtotalFunction === null)
                        field.groupByFunction = _this.getGroupBySubtotalValue(field, 'DEFAULT');
                    resolve(field);
                });
            });
        };
        /**
         * Load group functions to field
         */
        IzendaInstantReportStorageService.prototype.loadGroupFunctionsAndFormatsToField = function (field, defaultGroupString, defaultFormatString, defaultSubtotalGroupString) {
            var _this = this;
            return this.$q(function (resolve) {
                var groupToApply = angular.isString(defaultGroupString) && defaultGroupString
                    ? defaultGroupString
                    : 'NONE';
                var groupSubtotalToApply = angular.isString(defaultSubtotalGroupString) && defaultSubtotalGroupString
                    ? defaultSubtotalGroupString
                    : 'DEFAULT';
                if (_this.isBinaryField(field)) {
                    // if field type doesn't support group by.
                    field.groupByFunctionOptions = [_this.emptyFieldGroupOption];
                    field.groupByFunction = _this.emptyFieldGroupOption;
                    field.groupBySubtotalFunctionOptions = [_this.emptySubtotalFieldGroupOptions];
                    field.groupBySubtotalFunction = _this.emptySubtotalFieldGroupOptions;
                    _this.updateFieldFormats(field, defaultFormatString).then(function (f) { return resolve(f); });
                }
                else {
                    // get field and Subtotal functions from server or request cache:
                    var functionPromise = _this.loadFieldFunctions(field, groupToApply);
                    var subtotalPromise = _this.loadSubtotalFieldFunctions(field, groupSubtotalToApply);
                    _this.$q
                        .all([functionPromise, subtotalPromise])
                        .then(function () {
                        return _this.updateFieldFormats(field, defaultFormatString)
                            .then(function () {
                            return resolve(field);
                        });
                    });
                }
            });
        };
        /**
         * Field initialization (async: returns promise)
         */
        IzendaInstantReportStorageService.prototype.initializeField = function (field) {
            var _this = this;
            return this.$q(function (resolve) {
                if (field.isInitialized) {
                    resolve(field);
                    return;
                }
                // load group and format collections:
                _this.loadGroupFunctionsAndFormatsToField(field).then(function (f) {
                    f.isInitialized = true;
                    resolve(f);
                });
            });
        };
        /**
         * Get current field which we are editing now.
         */
        IzendaInstantReportStorageService.prototype.getCurrentActiveField = function () {
            return this.currentActiveField;
        };
        /**
         * Set current field for editing it.
         */
        IzendaInstantReportStorageService.prototype.setCurrentActiveField = function (field) {
            this.currentActiveField = field;
        };
        /**
         * Create auto description.
         */
        IzendaInstantReportStorageService.prototype.generateDescription = function (field) {
            if (this.isFieldGrouped(field) && field.groupByFunction.value.toLowerCase() !== 'group')
                return field.groupByFunction.text + ' (' + this.$izendaUtilService.humanizeVariableName(field.name) + ')';
            else
                return this.$izendaUtilService.humanizeVariableName(field.name);
        };
        /**
         * Set aggregate function for field.
         */
        IzendaInstantReportStorageService.prototype.onFieldFunctionApplied = function (field) {
            // do not change format for max, min, sum and sum distinct
            if (this.isFieldGrouped(field)) {
                this.applyAutoGroups();
            }
            else {
                this.resetAutoGroups();
            }
            this.updateFieldFormats(field);
            // auto update description
            this.autoUpdateFieldDescription(field);
            this.syncCalcFieldsArray();
            // validate
            this.validateReport();
        };
        /**
         * Update functions, formats after expression typegroup was changed
         */
        IzendaInstantReportStorageService.prototype.onExpressionTypeGroupApplied = function (field) {
            var _this = this;
            this.loadGroupFunctionsAndFormatsToField(field, field.groupByFunction.value, field.format.value, field.groupBySubtotalFunction.value)
                .then(function () { return _this.syncCalcFieldsArray(); });
        };
        /**
         * Update calc fields collection when expression was changed.
         * @param {any} field - target field.
         */
        IzendaInstantReportStorageService.prototype.onExpressionApplied = function () {
            this.syncCalcFieldsArray();
        };
        /**
         * Update Ui and show preview
         */
        IzendaInstantReportStorageService.prototype.updateUiStateAndRefreshPreview = function () {
            // remove drilldowns which are not in active tables
            this.updateDrilldowns();
            // update pivot state
            this.$izendaInstantReportPivotService.syncPivotState(this.getAllFieldsInActiveTables());
            // update filters state
            this.syncFilters();
            // apply/reset autogroups
            if (this.getActiveTables().length === 0 || this.isActiveFieldsContainsBinary()) {
                this.resetAutoGroups();
            }
            else {
                this.applyAutoGroups();
            }
        };
        /**
         * Fires when user check/uncheck field
         */
        IzendaInstantReportStorageService.prototype.applyFieldChecked = function (field, value, restrictTableUncheck) {
            var _this = this;
            return this.$q(function (resolve) {
                if (!field.enabled) {
                    _this.validateReport();
                    resolve();
                    return;
                }
                field.checked = angular.isDefined(value) ? value : !field.checked;
                field.order = _this.getNextOrder();
                // update state of datasources tree
                _this.updateParentFoldersAndTables(field, false, restrictTableUncheck);
                _this.initializeField(field).then(function () {
                    _this.updateUiStateAndRefreshPreview();
                    resolve();
                });
            });
        };
        /**
         * Select/unselect field
         */
        IzendaInstantReportStorageService.prototype.applyFieldSelected = function (field, value) {
            if (!angular.isObject(field)) {
                this.unselectAllFields();
                this.setCurrentActiveField(null);
                return;
            }
            if (!field.enabled)
                return;
            if (field.isMultipleColumns) {
                field.collapsed = !field.collapsed;
                return;
            }
            this.unselectAllFields();
            this.setCurrentActiveField(null);
            if (value) {
                this.setCurrentActiveField(field);
                field.selected = value;
                this.initializeField(field);
            }
        };
        /**
         * Check/uncheck table
         */
        IzendaInstantReportStorageService.prototype.applyTableActive = function (table) {
            var _this = this;
            return this.$q(function (resolve) {
                var updateAndResolve = function () {
                    _this.updateParentFolders(table);
                    _this.updateUiStateAndRefreshPreview();
                    resolve();
                };
                if (!table.enabled) {
                    return;
                }
                table.active = !table.active;
                table.order = _this.getNextOrder();
                if (!table.active) {
                    // deactivate all table fields
                    table.fields.forEach(function (f) { return f.checked = false; });
                    updateAndResolve();
                    return;
                }
                // table activated
                if (table.lazy) {
                    // load lazy fields
                    _this.loadLazyFields(table).then(function () {
                        updateAndResolve();
                    });
                }
                else {
                    updateAndResolve();
                }
            });
        };
        IzendaInstantReportStorageService.prototype.prepareParentFieldForMultipleFields = function (field) {
            var parentField = field;
            if (parentField.multipleColumns.length === 0) {
                // if field has no multiple fields:
                var copyField = angular.copy(field);
                parentField = copyField;
                copyField.mcAncestor = field;
                copyField.originId = field.id;
                copyField.isMultipleColumns = true;
                copyField.multipleColumnsCounter = 1;
                copyField.multipleColumns.push(field);
                var table = this.getTableById(field.parentId);
                var fieldIndex = table.fields.indexOf(field);
                table.fields[fieldIndex] = copyField;
            }
            return parentField;
        };
        /**
         * Add ready-to-use another field (no need to clone parent field)
         */
        IzendaInstantReportStorageService.prototype.addExactAnotherField = function (field, anotherFieldProperties) {
            var anotherField = this.createFieldObjectInner(anotherFieldProperties);
            // add to parent field.
            var parentField = this.prepareParentFieldForMultipleFields(field);
            parentField.multipleColumns.push(anotherField);
            parentField.multipleColumnsCounter++;
            anotherField.parentFieldId = parentField.id;
            anotherField.parentId = parentField.parentId;
            anotherField.name = parentField.name + parentField.multipleColumnsCounter;
            anotherField.tableSysname = parentField.tableSysname;
            anotherField.tableName = parentField.tableName;
            anotherField.sysname = parentField.sysname;
            anotherField.typeGroup = parentField.typeGroup;
            anotherField.type = parentField.type;
            anotherField.sqlType = parentField.sqlType;
            anotherField.allowedInFilters = parentField.allowedInFilters;
            anotherField.isDescriptionSetManually = true;
            return anotherField;
        };
        /**
         * Add more than one same field to report
         */
        IzendaInstantReportStorageService.prototype.addAnotherField = function (field, needToSelect) {
            var _this = this;
            var parentField = this.prepareParentFieldForMultipleFields(field);
            // add another field to parentField
            parentField.multipleColumnsCounter++;
            var anotherField = this.createFieldObject(parentField.name + parentField.multipleColumnsCounter, parentField.parentId, parentField.tableSysname, parentField.tableName, parentField.sysname, parentField.typeGroup, parentField.type, parentField.sqlType, parentField.allowedInFilters, parentField.isSpParameter);
            if (parentField.description)
                anotherField.description = parentField.description + ' ' + (parentField.multipleColumns.length + 1);
            anotherField.allowedInFilters = parentField.allowedInFilters;
            anotherField.order = this.getNextOrder();
            anotherField.guid = this.guid();
            anotherField.parentFieldId = parentField.id;
            this.initializeField(anotherField).then(function () {
                _this.applyAutoGroups();
            });
            parentField.multipleColumns.push(anotherField);
            // select if needed
            if (needToSelect) {
                this.unselectAllFields();
                anotherField.selected = true;
                this.setCurrentActiveField(anotherField);
            }
            return anotherField;
        };
        /**
         * Apply field config to field
         */
        IzendaInstantReportStorageService.prototype.loadReportField = function (field, fieldConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                var functionValue = fieldConfig.groupByFunction.value;
                var subtotalFunctionValue = fieldConfig.groupBySubtotalFunction.value;
                var formatValue = fieldConfig.format.value;
                angular.extend(field, fieldConfig);
                // remove column group from description: 'field description@column group'
                if (field.description.lastIndexOf('@') > 0 && field.columnGroup) {
                    field.description = field.description.substring(0, field.description.lastIndexOf('@'));
                }
                if (field.order > _this.orderCounter)
                    _this.orderCounter = field.order + 1;
                fieldConfig.expressionType = fieldConfig.expressionType || '...';
                var expressionType = _this.expressionTypes.firstOrDefault(function (e) { return e.value === fieldConfig.expressionType; });
                if (expressionType)
                    field.expressionType = expressionType;
                _this.loadGroupFunctionsAndFormatsToField(field, functionValue, formatValue, subtotalFunctionValue)
                    .then(function (f) {
                    if (fieldConfig.description) {
                        // if description differs from the default generated description: mark it as "set manually"
                        f.isDescriptionSetManually = fieldConfig.description !== _this.generateDescription(f);
                        f.description = fieldConfig.description;
                    }
                    else
                        _this.autoUpdateFieldDescription(f);
                    f.isInitialized = true;
                    resolve(f);
                });
            });
        };
        IzendaInstantReportStorageService.prototype.applyDescription = function (field) {
            var autoDescription = this.generateDescription(field);
            if (!field.description)
                field.isDescriptionSetManually = false;
            else
                field.isDescriptionSetManually = field.description !== autoDescription;
            this.syncCalcFieldsArray();
        };
        /**
         * Select drilldown fields
         */
        IzendaInstantReportStorageService.prototype.convertDrilldownFieldNamesToFields = function () {
            for (var i = 0; i < this.reportSet.drillDownFields.length; i++) {
                var currentItem = this.reportSet.drillDownFields[i];
                if (angular.isString(currentItem)) {
                    this.reportSet.drillDownFields[i] = this.getFieldBySysName(currentItem, true);
                }
            }
        };
        /**
         * Select charts
         */
        IzendaInstantReportStorageService.prototype.convertChartNamesToCharts = function () {
            for (var i = 0; i < this.reportSet.charts.length; i++) {
                var chart = this.reportSet.charts[i];
                if (chart && chart.hasOwnProperty('name') && chart.hasOwnProperty('category')) {
                    var vis = this.$izendaInstantReportVisualizationService.findVisualization(chart.category, chart.name);
                    vis.properties = this.reportSet.charts[i].properties;
                    this.reportSet.charts[i] = vis;
                }
            }
        };
        /**
         * Add loaded filters. reportSet.filters at this stage is not initialized
         * and we need to set field, operator and value objects.
         */
        IzendaInstantReportStorageService.prototype.loadFilters = function () {
            var _this = this;
            return this.$q(function (resolve) {
                var filterOperatorPromises = [];
                if (!angular.isArray(_this.reportSet.filters) || _this.reportSet.filters.length === 0) {
                    resolve();
                    return;
                }
                for (var i = 0; i < _this.reportSet.filters.length; i++) {
                    var filter = _this.reportSet.filters[i];
                    var filterConfig = {
                        fieldSysName: filter.sysname,
                        operatorName: filter.operatorString,
                        values: filter.values,
                        required: filter.required,
                        description: filter.description,
                        parameter: filter.parameter,
                        titleFormat: filter.titleFormat,
                        customPopupTemplateUrl: filter.customPopupTemplateUrl
                    };
                    var newFilter = _this.createNewFilterBase(filterConfig.fieldSysName, filterConfig.operatorName, filterConfig.values, filterConfig.required, filterConfig.description, filterConfig.parameter, filter.customPopupTemplateUrl);
                    _this.reportSet.filters[i] = newFilter;
                    // load filter formats
                    var formatLoadPromise = _this.loadFilterFormats(newFilter, filterConfig.titleFormat);
                    filterOperatorPromises.push(formatLoadPromise);
                    // set operator
                    var operatorPromise = void 0;
                    if (angular.isString(filterConfig.operatorName) && filterConfig.operatorName) {
                        operatorPromise = _this.setFilterOperator(newFilter, filterConfig.operatorName);
                    }
                    else {
                        operatorPromise = _this.setFilterOperator(newFilter, null);
                    }
                    filterOperatorPromises.push(operatorPromise);
                }
                // wait when all operators loaded
                _this.$q.all(filterOperatorPromises).then(function () {
                    var existentValuesPromises = _this.reportSet.filters.reduce(function (promise, filter) {
                        return promise.then(function () { return _this.updateFieldFilterExistentValues(filter, true); });
                    }, Promise.resolve([]));
                    // wait when all existent values loaded
                    _this.$q.all(existentValuesPromises).then(function () { return resolve(); });
                });
            });
        };
        /**
         * Initialize service for new report
         */
        IzendaInstantReportStorageService.prototype.newReport = function () {
            var _this = this;
            return this.$q(function (resolve) {
                if (!_this.isPageInitialized) {
                    _this.newReportLoadingSchedule = 'new!';
                    _this.$log.debug('newReport scheduled');
                    resolve(false);
                    return;
                }
                var promises = [];
                // load schedule data with default config for new report
                promises.push(_this.$izendaScheduleService.setScheduleConfig(null));
                promises.push(_this.$izendaShareService.setShareConfig(null));
                // set full access for new report:
                _this.$izendaCompatibilityService.setFullAccess();
                // load default table if defined
                var defaultTableName = _this.$izendaInstantReportSettingsService.getSettings().defaultTable;
                if (defaultTableName) {
                    var table = _this.getTableBySysname(defaultTableName) || _this.getTableByName(defaultTableName);
                    if (table) {
                        table.collapsed = false;
                        promises.push(_this.applyTableActive(table));
                    }
                }
                // wait until completed all asynchronous operations
                _this.$q.all(promises).then(function () { return resolve(); });
            });
        };
        /**
         * Load existing report
         */
        IzendaInstantReportStorageService.prototype.loadReport = function (reportFullName) {
            var _this = this;
            this.$log.debug("loadReport " + reportFullName + " start");
            return this.$q(function (resolve) {
                if (!_this.isPageInitialized) {
                    _this.existingReportLoadingSchedule = reportFullName;
                    _this.$log.debug('loadReport scheduled');
                    resolve([false]);
                    return;
                }
                // update UI params
                _this.currentActiveField = null;
                _this.setFiltersPanelOpened(false);
                var previousPreviewTop = 100;
                if (_this.reportSet && _this.reportSet.options)
                    previousPreviewTop = _this.reportSet.options.previewTop;
                // load report data
                _this.$izendaInstantReportQueryService.loadReport(reportFullName).then(function (reportSetConfig) {
                    _this.resetDataSources();
                    _this.reportSet = angular.extend(_this.reportSet, reportSetConfig);
                    _this.$izendaCompatibilityService.setRights(_this.reportSet.options.effectiveRights);
                    _this.$izendaCompatibilityService.setUsesHiddenColumns(_this.reportSet.options.usesHiddenColumns);
                    // update top
                    if (_this.reportSet.options.top < 0)
                        _this.reportSet.options.top = '';
                    _this.reportSet.options.previewTop = previousPreviewTop;
                    var lazyPromises = [];
                    _this.reportSet.joinedTables.forEach(function (tableObj) {
                        var table = _this.getTableBySysname(tableObj.sysname);
                        var loadFieldPromise = _this.loadLazyFields(table);
                        table.active = true;
                        table.order = _this.getNextOrder();
                        lazyPromises.push(loadFieldPromise);
                    });
                    // wait until table fields will be loaded:
                    _this.$q.all(lazyPromises).then(function () {
                        // initialization promises
                        var promises = [];
                        // convert chart names to chart objects collection
                        _this.convertChartNamesToCharts();
                        // convert drilldown field sysnames to fields collection:
                        _this.convertDrilldownFieldNamesToFields();
                        // load pivot fields
                        if (angular.isObject(_this.reportSet.pivot)) {
                            var pivotColumnConfig = angular.copy(_this.reportSet.pivot.pivotColumn);
                            var pivotColumnField = _this.getFieldBySysName(pivotColumnConfig.sysname, true);
                            _this.reportSet.pivot.pivotColumn = angular.copy(pivotColumnField);
                            _this.reportSet.pivot.pivotColumn.isPivotColumn = true;
                            promises.push(_this.loadReportField(_this.reportSet.pivot.pivotColumn, pivotColumnConfig));
                            for (var i = 0; i < _this.reportSet.pivot.cellValues.length; i++) {
                                var cellValueConfig = angular.copy(_this.reportSet.pivot.cellValues[i]);
                                _this.reportSet.pivot.cellValues[i] = angular.copy(_this.getFieldBySysName(cellValueConfig.sysname, true));
                                promises.push(_this.loadReportField(_this.reportSet.pivot.cellValues[i], cellValueConfig));
                            }
                        }
                        // convert fields
                        var addedFieldSysNames = [];
                        _this.reportSet.activeFields.forEach(function (activeField) {
                            var sysname = activeField.sysname;
                            var field = _this.getFieldBySysName(sysname, true);
                            if (!angular.isObject(field))
                                _this.$log.error("Field " + sysname + " not found in datasources");
                            var isFieldMultiple = addedFieldSysNames.indexOf(sysname) >= 0;
                            if (!isFieldMultiple) {
                                field.guid = activeField.guid;
                                promises.push(_this.loadReportField(field, activeField));
                                field.checked = true;
                                _this.updateParentFoldersAndTables(field, true);
                                addedFieldSysNames.push(sysname);
                            }
                            else {
                                var anotherField = _this.addExactAnotherField(field, activeField);
                                anotherField.guid = activeField.guid;
                                if (activeField.description) {
                                    anotherField.isDescriptionSetManually = true;
                                    anotherField.description = activeField.description;
                                }
                                promises.push(_this.loadReportField(anotherField, activeField));
                                anotherField.checked = true;
                            }
                        });
                        _this.syncCalcFieldsArray();
                        // pivots initialization
                        if (angular.isObject(_this.reportSet.pivot)) {
                            var pivotData = _this.reportSet.pivot;
                            promises.push(_this.$izendaInstantReportPivotService.loadPivotData(pivotData));
                            _this.reportSet.pivot = null;
                        }
                        // convert filters
                        promises.push(_this.loadFilters());
                        // load schedule data for config
                        var scheduleConfigData = angular.extend({}, reportSetConfig.schedule);
                        promises.push(_this.$izendaScheduleService.setScheduleConfig(scheduleConfigData));
                        // load share data for config
                        var shareConfigData = angular.extend([], reportSetConfig.share);
                        promises.push(_this.$izendaShareService.setShareConfig(shareConfigData));
                        // wait for all preparations completion
                        _this.$q.all(promises).then(function () {
                            _this.validateFilters();
                            _this.startFilters();
                            if (_this.$izendaCompatibilityService.isUsesHiddenColumns()) {
                                if (_this.reportSet.activeFields.length > 0)
                                    _this.$izendaUtilUiService.showMessageDialog(_this.$izendaLocaleService.localeText('js_reportSetUsesHiddenColumns', 'This ReportSet has publicly unavailable fields in configuration, therefore it misses some elements on current page, and cannot be saved/updated. Use Save As with different name instead.'));
                                else
                                    _this.$izendaUtilUiService.showMessageDialog(_this.$izendaLocaleService.localeText('js_reportSetUsesAllHiddenColumns', 'All fields in this report are unavailable. Please choose another fields and use Save As with different name instead.'));
                            }
                            _this.$log.debug('loadReport end');
                            resolve([true, true]);
                        });
                    });
                }, function (error) {
                    // error loading report set config
                    // show error dialog
                    _this.$izendaUtilUiService.showErrorDialog(_this.$izendaLocaleService.localeText('js_FailedToLoadReport', 'Failed to load report') + ': "' + error + '"', _this.$izendaLocaleService.localeText('js_ReportLoadError', 'Report load error'));
                    // redirect to new report
                    _this.$izendaUrlService.setIsNew();
                    resolve([true, false]);
                });
            });
        };
        /**
         * Remove another field
         */
        IzendaInstantReportStorageService.prototype.removeAnotherField = function (field, anotherField) {
            var idx = field.multipleColumns.indexOf(anotherField);
            if (idx >= 0) {
                if (this.getCurrentActiveField() === anotherField)
                    this.setCurrentActiveField(null);
                var isReplaceIdNeeded = field.originId === anotherField.id;
                field.multipleColumns.splice(idx, 1);
                if (field.multipleColumns.length > 0 && isReplaceIdNeeded)
                    field.multipleColumns[0].id = field.originId;
            }
            else {
                throw "Can't find " + anotherField.name + " in multipleColumns collection.";
            }
            if (field.multipleColumns.length === 1) {
                this.copyFieldObject(field.multipleColumns[0], field);
                field.multipleColumns = [];
                field.isMultipleColumns = false;
                field.collapsed = false;
                field.parentFieldId = null;
                this.autoUpdateFieldDescription(field);
            }
        };
        /**
         * Set sort value for field.
         */
        IzendaInstantReportStorageService.prototype.applyFieldSort = function (field, sortString) {
            if (angular.isString(sortString)) {
                if (sortString === 'asc') {
                    field.sort = 'asc';
                }
                else if (sortString === 'desc') {
                    field.sort = 'desc';
                }
                else {
                    if (!field.isVgUsed)
                        field.sort = null;
                }
            }
            else {
                if (!field.isVgUsed)
                    field.sort = null;
            }
        };
        /**
         * Set field italic
         */
        IzendaInstantReportStorageService.prototype.applyFieldItalic = function (field, value) {
            field.italic = value;
        };
        /**
         * Set field visible
         */
        IzendaInstantReportStorageService.prototype.applyFieldVisible = function (field, value) {
            if (!value)
                field.isVgUsed = false;
            field.visible = value;
        };
        /**
         * Set field bold
         */
        IzendaInstantReportStorageService.prototype.applyFieldBold = function (field, value) {
            field.bold = value;
        };
        /**
         * Set visual group
         */
        IzendaInstantReportStorageService.prototype.applyVisualGroup = function (field, value) {
            if (value && field.sort === null) {
                this.applyFieldSort(field, 'asc');
            }
            field.isVgUsed = value;
            this.updateVisualGroupFieldOrders(field);
        };
        /**
         * Column reorder. Indexes started from 1: 1,2,3,4,5,6
         */
        IzendaInstantReportStorageService.prototype.swapFields = function (fromIndex, toIndex) {
            if (fromIndex === toIndex)
                return;
            var activeFieldsSortedList = this.getAllActiveFields().filter(function (item) { return !item.isVgUsed; });
            activeFieldsSortedList.sort(function (f1, f2) { return f1.order - f2.order; });
            var field1 = activeFieldsSortedList[fromIndex - 1];
            var field2 = activeFieldsSortedList[toIndex - 1];
            var fieldOrder1 = field1.order;
            var fieldOrder2 = field2.order;
            field1.order = fieldOrder2;
            field2.order = fieldOrder1;
        };
        /**
         * We need to set visual group fields order first and other fields next.
         */
        IzendaInstantReportStorageService.prototype.updateVisualGroupFieldOrders = function (recentlyChangedField) {
            var _this = this;
            var activeFields = this.getAllActiveFields();
            var vgFields = activeFields.filter(function (f) { return f.isVgUsed; });
            // if we don't have VG fields - do nothing.
            if (vgFields.length === 0)
                return;
            // we need to update field orders:
            // vgField1, vgField2, ..., vgFieldN, nonVg1, nonVg2, ..., nonVgM
            // if we turned on visual group on currently changed field - move it to the last position of vg fields
            if (recentlyChangedField && recentlyChangedField.isVgUsed)
                recentlyChangedField.order = vgFields.reduce(function (max, f) { return f.order > max ? f.order : max; }, vgFields[0].order) + 1;
            // recalculate fields order
            vgFields.sort(function (a, b) { return a.order - b.order; });
            vgFields.forEach(function (f) { return f.order = _this.getNextOrder(); });
            var nonVgFields = activeFields.filter(function (f) { return !f.isVgUsed; });
            // if we turned off visual group on currently changed field - move it to the first position of non-vg fields.
            if (nonVgFields.length && recentlyChangedField && !recentlyChangedField.isVgUsed)
                recentlyChangedField.order = nonVgFields.reduce(function (min, f) { return f.order < min ? f.order : min; }, nonVgFields[0].order) - 1;
            // recalculate fields order
            nonVgFields.sort(function (a, b) { return a.order - b.order; });
            nonVgFields.forEach(function (f) { return f.order = _this.getNextOrder(); });
        };
        /**
         * Change field order
         */
        IzendaInstantReportStorageService.prototype.moveFieldToPosition = function (fromIndex, toIndex, isVisualGroup, takeCareOfInvisibleFields) {
            if (fromIndex === toIndex)
                return;
            var fields = this.getAllActiveFields().filter(function (field) {
                // extract vg|non-vg fields (depends on isVisualGroup param)
                return (isVisualGroup ^ field.isVgUsed) === 0;
            });
            var activeFieldsSorted = fields.sort(function (f1, f2) { return f1.order - f2.order; });
            var visibleFieldsSorted = takeCareOfInvisibleFields
                ? activeFieldsSorted.filter(function (f) { return f.visible; })
                : activeFieldsSorted;
            // calculate actual fromIndex and toIndex
            var fromElement = visibleFieldsSorted[fromIndex];
            if (takeCareOfInvisibleFields) {
                fromIndex = activeFieldsSorted.indexOf(fromElement);
                var element = visibleFieldsSorted[toIndex];
                toIndex = activeFieldsSorted.indexOf(element);
            }
            // Move element: fromIndex -> toIndex that way:
            // for example, we're sorting visual group columns which has orders activeFieldsSorted=[c1=1,c2=2,c3=5]
            // (3, 4, 6,... - are non vg columns)
            // and we need to move 1 --> 3, so the result orders will be [c1=5,c2=1,c3=2]. non vg column orders won't be touched.
            if (fromIndex < toIndex) {
                var previousOrder = activeFieldsSorted[fromIndex].order;
                for (var j = fromIndex + 1; j <= toIndex; j++) {
                    var order = activeFieldsSorted[j].order;
                    activeFieldsSorted[j].order = previousOrder;
                    previousOrder = order;
                }
                activeFieldsSorted[fromIndex].order = previousOrder;
            }
            else {
                var nextOrder = activeFieldsSorted[fromIndex].order;
                for (var j = fromIndex - 1; j >= toIndex; j--) {
                    var order = activeFieldsSorted[j].order;
                    activeFieldsSorted[j].order = nextOrder;
                    nextOrder = order;
                }
                activeFieldsSorted[fromIndex].order = nextOrder;
            }
        };
        IzendaInstantReportStorageService.prototype.getPreviewSplashVisible = function () {
            return this.isPreviewSplashVisible;
        };
        IzendaInstantReportStorageService.prototype.getPreviewSplashText = function () {
            return this.previewSplashText;
        };
        IzendaInstantReportStorageService.prototype.hasAggregateFormats = function () {
            if (!this.activeCheckedFields)
                return false;
            var aggregateFormats = [
                'PercentOfGroup',
                'PercentOfGroupWithRounding',
                'Gauge',
                'GaugeVariable',
                'GaugeDashboard'
            ];
            for (var i = 0; i < this.activeCheckedFields.length; i++) {
                var field = this.activeCheckedFields[i];
                if (!field || !field.format || !field.format.value)
                    continue;
                if (aggregateFormats.indexOf(field.format.value) >= 0)
                    return true;
            }
            return false;
        };
        /**
         * Restore default color settings.
         */
        IzendaInstantReportStorageService.prototype.restoreDefaultColors = function () {
            var style = this.reportSet.options.style;
            var settings = this.$izendaInstantReportSettingsService.getSettings();
            style.borderColor = settings.reportBorderColor;
            style.headerColor = settings.reportHeaderColor;
            style.headerForecolor = settings.headerForegroundColor;
            style.itemColor = settings.reportItemColor;
            style.itemForeColor = settings.itemForegroundColor;
            style.itemAltColor = settings.reportAlternatingItemColor;
        };
        /**
         * Get default field format (based on field typegroup)
         * @param {object} field Field.
         */
        IzendaInstantReportStorageService.prototype.getDefaultFieldFormat = function (typeGroup) {
            var formatKey;
            switch (typeGroup) {
                case 'Numeric':
                    formatKey = '{0:#,0}';
                    break;
                case 'Real':
                    formatKey = '{0:#,0.00}';
                    break;
                case 'Money':
                    formatKey = '{0:C2}';
                    break;
                case 'DateTime':
                    formatKey = '{0:d}';
                    break;
                default:
                    formatKey = '{0}';
            }
            return formatKey;
        };
        Object.defineProperty(IzendaInstantReportStorageService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportStorageService.register = function (module) {
            module
                .constant('izendaInstantReportObjectDefaults', {
                reportName: null,
                reportCategory: null,
                dataSources: [],
                charts: [],
                filters: [],
                filterOptions: {
                    require: 'None',
                    filterLogic: ''
                },
                drillDownFields: [],
                options: {
                    usesHiddenColumns: false,
                    rowsRange: null,
                    distinct: true,
                    showFiltersInReportDescription: false,
                    isSubtotalsEnabled: false,
                    exposeAsDatasource: false,
                    hideGrid: false,
                    top: '',
                    previewTop: 100,
                    imageAlign: 'L',
                    title: '',
                    titleAlign: 'L',
                    description: '',
                    descriptionAlign: 'L',
                    headerAndFooter: {
                        reportHeader: '',
                        reportHeaderAlign: 'L',
                        reportFooter: '',
                        reportFooterAlign: 'L',
                        pageHeader: ''
                    },
                    style: {
                        borderColor: '#ffffff',
                        headerColor: '#483d8b',
                        headerForecolor: '#ffffff',
                        itemColor: '#ffffff',
                        itemForeColor: '#000000',
                        itemAltColor: '#dcdcdc',
                        isHeadersBold: false,
                        isHeadersItalic: false,
                        customCss: ''
                    },
                    page: {
                        landscapePrinting: false,
                        showPageNumber: false,
                        showDateAndTime: false,
                        usePagination: true,
                        itemsPerPage: 10000,
                        addBookmarkForVg: false,
                        pageBreakAfterVg: false,
                        minimizeGridWidth: true,
                        enableResponsiveGrid: true,
                        vgStyle: 'CommaDelimited',
                        pivotsPerPage: '',
                        splitAllColumns: false,
                        pageBreakOnSplit: false
                    }
                },
                isFieldsAutoGrouped: false
            })
                .constant('izendaFilterObjectDefaults', {
                initialized: false,
                field: null,
                required: false,
                description: '',
                parameter: true,
                operatorString: '',
                operator: null,
                operators: [],
                existentValues: [],
                values: [],
                titleFormat: null,
                titleFormats: [],
                isValid: true,
                validationMessages: [],
                validationMessageString: '',
                customPopupTemplateUrl: null,
                isFilterReady: false
            })
                .constant('izendaDefaultFunctionObject', {
                dataType: 'Unknown',
                dataTypeGroup: 'None',
                isScalar: '0',
                sqlTemplate: '{0}',
                text: '...',
                value: 'None',
                group: ''
            })
                .constant('izendaDefaultSubtotalFunctionObject', {
                dataType: 'Unknown',
                dataTypeGroup: 'None',
                isScalar: '0',
                sqlTemplate: '{0}',
                text: '(Default)',
                value: 'DEFAULT',
                group: ''
            })
                .constant('izendaDefaultFormatObject', {
                text: '...',
                value: '{0}',
                group: ''
            })
                .service('$izendaInstantReportStorageService', IzendaInstantReportStorageService.injectModules.concat(IzendaInstantReportStorageService));
        };
        return IzendaInstantReportStorageService;
    }());
    exports.default = IzendaInstantReportStorageService;
});
izendaRequire.define("instant-report/services/instant-report-validation", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportValidationService = /** @class */ (function () {
        function IzendaInstantReportValidationService($izendaLocaleService, $izendaInstantReportStorageService, $izendaInstantReportPivotService, $izendaInstantReportSettingsService, $izendaCompatibilityService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            this.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            this.$izendaInstantReportSettingsService = $izendaInstantReportSettingsService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.validation = {
                isValid: true,
                messages: []
            };
            this.binaryFieldsArray = ['Null', 'Unknown', 'Binary', 'VarBinary', 'Text', 'Image'];
        }
        Object.defineProperty(IzendaInstantReportValidationService, "injectModules", {
            get: function () {
                return [
                    '$izendaLocaleService',
                    '$izendaInstantReportStorageService',
                    '$izendaInstantReportPivotService',
                    '$izendaInstantReportSettingsService',
                    '$izendaCompatibilityService'
                ];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Is report valid getter
         * @returns {boolean}
         */
        IzendaInstantReportValidationService.prototype.isReportValid = function () {
            return this.validation.isValid;
        };
        /**
         * Validation object getter
         * @returns {object}
         */
        IzendaInstantReportValidationService.prototype.getValidation = function () {
            return this.validation;
        };
        /**
         * Get list of validation messages
         * @returns {Array}.
         */
        IzendaInstantReportValidationService.prototype.getValidationMessages = function () {
            return this.validation.messages;
        };
        /**
         * Validate pivots.
         */
        IzendaInstantReportValidationService.prototype.validatePivots = function () {
            var pivotColumn = this.$izendaInstantReportPivotService.getPivotColumn();
            var pivotCells = this.$izendaInstantReportPivotService.getCellValues();
            // check if pivot column was set:
            if (angular.isObject(pivotColumn)) {
                if (!pivotCells || !pivotCells.length) {
                    // show warning when pivot cells wasn't added.
                    this.validation.isValid = false;
                    this.validation.messages.push({
                        type: 'info',
                        text: this.$izendaLocaleService.localeText('js_AddPivotCellsWarning', 'You should add pivot cells to enable pivot view.')
                    });
                }
                else {
                    var havePivotCells = pivotCells.some(function (p) { return angular.isObject(p); });
                    if (!havePivotCells) {
                        this.validation.isValid = false;
                        this.validation.messages.push({
                            type: 'info',
                            text: this.$izendaLocaleService.localeText('js_SpecifyPivotColumnWarning', 'You should specify column for at least one pivot cell (pivot cells without column will be ignored).')
                        });
                    }
                }
            }
        };
        /**
         * Clear all validation messages and state
         */
        IzendaInstantReportValidationService.prototype.clearValidation = function () {
            this.validation.isValid = true;
            this.validation.messages = [];
        };
        /**
         * Return existing validation actions
         */
        IzendaInstantReportValidationService.prototype.getValidationActions = function () {
            return this.validation.messages
                .map(function (m) { return m.additionalActionType; })
                .filter(function (a) { return !!a; });
        };
        /**
         * Validate report set
         * @returns {boolean} report is valid
         */
        IzendaInstantReportValidationService.prototype.validateReportSet = function () {
            var _this = this;
            this.clearValidation();
            var pivotColumn = this.$izendaInstantReportPivotService.getPivotColumn();
            var activeFields = this.$izendaInstantReportStorageService.getAllFieldsInActiveTables();
            var options = this.$izendaInstantReportStorageService.getOptions();
            // try to find at least one active field
            var binaryFields = [];
            var hasActiveFields = false;
            activeFields.forEach(function (field) {
                hasActiveFields = hasActiveFields || field.checked;
                if (field.checked && _this.binaryFieldsArray.indexOf(field.sqlType) >= 0) {
                    binaryFields.push(field);
                }
            });
            // try to find active pivot fields
            hasActiveFields = hasActiveFields || this.$izendaInstantReportPivotService.isPivotValid();
            // create validation result for fields
            if (!hasActiveFields && !pivotColumn) {
                this.validation.isValid = false;
                this.validation.messages.push({
                    type: 'info',
                    text: this.$izendaLocaleService.localeText('js_YouShouldSelectField', 'You should select at least one field to see preview.')
                });
            }
            // stored procedure parameters validation
            if (!this.$izendaInstantReportStorageService.isAllSpParametersAssigned()) {
                this.validation.isValid = false;
                this.validation.messages.push({
                    type: 'info',
                    text: this.$izendaLocaleService.localeText('js_spParameterIsRequired', 'Please specify values for your stored procedure parameters in the filters.')
                });
            }
            // distinct validation
            if (this.$izendaInstantReportSettingsService.getSettings().showDistinct && options.distinct && binaryFields.length > 0) {
                var binaryFieldsString = binaryFields
                    .map(function (bField) { return "\"" + bField.name + "\" (" + bField.sqlType + ")"; })
                    .join(', ');
                this.validation.messages.push({
                    type: 'info',
                    additionalActionType: 'TURN_OFF_DISTINCT',
                    text: this.$izendaLocaleService.localeTextWithParams('js_ColumnsIsntCompatibleWithDistinct', 'Report contain columns: {0}. These columns are not compatable with "distinct" setting. Distinct setting was disabled!', [binaryFieldsString])
                });
            }
            // run pivots validation
            this.validatePivots();
            return this.validation.isValid;
        };
        ;
        /**
         * Validate report set and refresh preview.
         */
        IzendaInstantReportValidationService.prototype.validateReportSetAndRefresh = function (forceRefresh) {
            if (forceRefresh === void 0) { forceRefresh = false; }
            var validationResult = this.validateReportSet();
            var validationActions = this.getValidationActions();
            if (validationResult) {
                // report is valid
                if (validationActions.indexOf('TURN_OFF_DISTINCT') >= 0)
                    this.$izendaInstantReportStorageService.getOptions().distinct = false;
                if (forceRefresh || !this.$izendaCompatibilityService.isSmallResolution())
                    this.$izendaInstantReportStorageService.getReportPreviewHtml();
            }
            else {
                // report not valid
                this.$izendaInstantReportStorageService.clearReportPreviewHtml();
            }
        };
        Object.defineProperty(IzendaInstantReportValidationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaInstantReportValidationService.register = function (module) {
            module.service('$izendaInstantReportValidationService', IzendaInstantReportValidationService.injectModules.concat(IzendaInstantReportValidationService));
        };
        return IzendaInstantReportValidationService;
    }());
    exports.default = IzendaInstantReportValidationService;
});
izendaRequire.define("instant-report/directive/instant-report-field-draggable", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_24) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Item draggable directive
     */
    module_definition_24.default.directive('izendaInstantReportFieldDraggable', ['$rootScope',
        function ($rootScope) {
            return {
                restrict: 'A',
                link: function (scope, elem, attrs) {
                    var handle = attrs.draggableHandle || false;
                    angular.element(elem)['draggable']({
                        handle: handle,
                        start: function () {
                            $rootScope.isDraggingNow = true;
                            $rootScope.$applyAsync();
                        },
                        stop: function () {
                            $rootScope.isDraggingNow = false;
                            $rootScope.$applyAsync();
                        },
                        helper: function (event) {
                            var $target = angular.element(this);
                            var $helper = $target.clone();
                            $helper.css({
                                'position': 'absolute',
                                'width': $target.width(),
                                'height': $target.height()
                            });
                            $helper.attr('draggable-data-id', $target.attr('draggable-data-id'));
                            return $helper;
                        },
                        cursorAt: { left: -10, top: -10 },
                        appendTo: 'body',
                        distance: 10,
                        cursor: 'move',
                        zIndex: 9999
                    });
                    scope.$parent.$watch(attrs.draggableEnabled, function (newEnabled) {
                        angular.element(elem)['draggable'](newEnabled ? 'enable' : 'disable');
                    });
                }
            };
        }
    ]);
    /**
     * Item droppable directive
     */
    module_definition_24.default.directive('izendaInstantReportFieldDroppable', [
        function () {
            return {
                restrict: 'A',
                scope: {
                    droppableAccept: '@',
                    onDrop: '&'
                },
                link: function (scope, elem, attrs) {
                    angular.element(elem)['droppable']({
                        accept: scope.droppableAccept,
                        activeClass: 'draggable-highlight',
                        hoverClass: 'draggable-highlight-hover',
                        tolerance: 'pointer',
                        drop: function (event, ui) {
                            if (angular.isFunction(scope.onDrop)) {
                                scope.onDrop({
                                    arg0: angular.element(ui.helper).attr('draggable-data-id')
                                });
                            }
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/directive/instant-report-left-panel-resize", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_25) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaInstantReportLeftPanelResizeDirective = /** @class */ (function () {
        function IzendaInstantReportLeftPanelResizeDirective($window, $izendaCompatibilityService) {
            var _this = this;
            this.$window = $window;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.restrict = 'A';
            this.scope = {
                leftPanelSelector: '@',
                mainPanelSelector: '@',
                opened: '='
            };
            IzendaInstantReportLeftPanelResizeDirective.prototype.link = function ($scope, $element) {
                var getWidth = function ($el) {
                    var elWidth = $el.width();
                    var styleData = String($el.attr('data-style'));
                    var styleString = styleData ? styleData : String($el.attr('style'));
                    if (styleString) {
                        // find "width: NNNpx" items and parse it.
                        styleString.split(';')
                            .filter(function (x) { return x && x.trim().indexOf('width') === 0; })
                            .forEach(function (x) {
                            var widthArray = x.split(':');
                            var widthString = widthArray[1].trim();
                            var initialValue = elWidth;
                            elWidth = parseInt(widthString.substring(0, widthString.length - 2));
                            if (isNaN(elWidth))
                                elWidth = initialValue;
                        });
                    }
                    return elWidth;
                };
                var applyCustomEvent = function () {
                    if (!_this.$izendaCompatibilityService.isIe()) {
                        _this.$window.dispatchEvent(new Event('izendaCustomResize'));
                    }
                    else {
                        var evt = document.createEvent('UIEvents');
                        evt.initUIEvent('resize', true, false, window, 0);
                        window.dispatchEvent(evt);
                    }
                };
                $scope.$izendaCompatibilityService = _this.$izendaCompatibilityService;
                var $elem = angular.element($element);
                var $left = angular.element($scope.leftPanelSelector);
                var $main = angular.element($scope.mainPanelSelector);
                var isLeftInitialized = false;
                var isMainInitialized = false;
                // initialize jquery objects
                var initializeElements = function () {
                    if (!isLeftInitialized) {
                        $left = angular.element($scope.leftPanelSelector);
                        isLeftInitialized = $left.length > 0;
                    }
                    if (!isMainInitialized) {
                        $main = angular.element($scope.mainPanelSelector);
                        isMainInitialized = $main.length > 0;
                    }
                };
                var initStyles = function ($el) {
                    var width = getWidth($el);
                    var leftStyle = "width: " + width + "px";
                    var mainStyle = "margin-left: " + (width + 4) + "px";
                    $elem.attr('style', "width: " + width + "px");
                    $elem.attr('data-style', "left: " + width + "px");
                    $left.attr('style', leftStyle);
                    $left.attr('data-style', leftStyle);
                    $main.attr('style', mainStyle);
                    $main.attr('data-style', mainStyle);
                };
                // initialize draggable
                var windowWidth = angular.element(_this.$window).width();
                $elem['draggable']({
                    axis: 'x',
                    zIndex: 2,
                    containment: [350, 0, Math.min(1500, windowWidth - 500), 0],
                    drag: function (event, ui) {
                        initializeElements();
                        var currentLeftStyle = "width: " + ui.position.left + "px";
                        var currentMainStyle = "margin-left: " + (ui.position.left + 4) + "px";
                        $elem.attr('data-style', "left: " + ui.position.left + "px");
                        $left.attr('style', currentLeftStyle);
                        $left.attr('data-style', currentLeftStyle);
                        $main.attr('style', currentMainStyle);
                        $main.attr('data-style', currentMainStyle);
                        applyCustomEvent();
                    }
                });
                initializeElements();
                initStyles($left);
                // open/close left panel handler
                $scope.$watch('opened', function (newOpened) {
                    initializeElements();
                    var isMobileView = _this.$izendaCompatibilityService.isSmallResolution();
                    var collapsedLeft = isMobileView ? 48 : 128;
                    var width = getWidth($left);
                    if (newOpened) {
                        var dataStyleLeft = String($left.attr('data-style')) || "width: " + (isMobileView ? '100%' : width + 'px');
                        var dataStyleMain = String($main.attr('data-style')) || "margin-left: " + (width + 4) + "px;";
                        var dataStyleElem = String($elem.attr('data-style')) || "left: " + width + "px;";
                        $left.attr('style', dataStyleLeft);
                        $main.attr('style', dataStyleMain);
                        $element.attr('style', dataStyleElem);
                    }
                    else {
                        $left.attr('style', "width: " + collapsedLeft + "px;");
                        $main.attr('style', "margin-left: " + collapsedLeft + "px;");
                        $element.attr('style', 'left: -4px;');
                    }
                    applyCustomEvent();
                });
            };
        }
        IzendaInstantReportLeftPanelResizeDirective.factory = function () {
            var directive = function ($window, $izendaCompatibilityService) {
                return new IzendaInstantReportLeftPanelResizeDirective($window, $izendaCompatibilityService);
            };
            directive.$inject = ['$window', '$izendaCompatibilityService'];
            return directive;
        };
        return IzendaInstantReportLeftPanelResizeDirective;
    }());
    module_definition_25.default.directive('izendaInstantReportLeftPanelResize', [
        '$window', '$izendaCompatibilityService', IzendaInstantReportLeftPanelResizeDirective.factory()
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-charts-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_26) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report charts controller definition
     */
    module_definition_26.default.controller('InstantReportChartsController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$izendaUrlService',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportVisualizationService',
        '$izendaInstantReportValidationService',
        '$log',
        function ($rootScope, $scope, $window, $timeout, $q, $izendaUrlService, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportVisualizationService, $izendaInstantReportValidationService, $log) {
            'use strict';
            var vm = this;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaInstantReportVisualizationService = $izendaInstantReportVisualizationService;
            vm.visualizationConfig = $izendaInstantReportVisualizationService.getVisualizationConfig();
            vm.selectedChart = null;
            /**
             * Select chart
             */
            vm.selectChart = function (chart) {
                if (vm.selectedChart === chart) {
                    vm.selectedChart = null;
                    $izendaInstantReportStorageService.selectChart(null);
                    if (!$izendaCompatibilityService.isSmallResolution())
                        $izendaInstantReportValidationService.validateReportSetAndRefresh();
                }
                else {
                    vm.selectedChart = chart;
                    $izendaInstantReportStorageService.selectChart(chart);
                    if (!$izendaCompatibilityService.isSmallResolution())
                        $izendaInstantReportValidationService.validateReportSetAndRefresh();
                }
            };
            /**
             * Prepare config
             */
            vm.prepareConfig = function () {
                if (!angular.isObject(vm.visualizationConfig))
                    return;
                if (!angular.isArray(vm.visualizationConfig.categories))
                    return;
                angular.element.each(vm.visualizationConfig.categories, function (iCategory, category) {
                    category.opened = iCategory === 0;
                });
            };
            /**
             * Open new window with chart help
             * @param {object} chart object
             */
            vm.showChartHelp = function (chart) {
                if (!angular.isObject(chart))
                    throw 'Chart parameter should be object';
                $window.open(chart.docUrl, '_blank');
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                $scope.$watch('$izendaInstantReportVisualizationService.getVisualizationConfig()', function (visConfig) {
                    vm.visualizationConfig = visConfig;
                    vm.prepareConfig();
                });
                $scope.$watch('$izendaInstantReportStorageService.getSelectedChart()', function (chart) {
                    vm.selectedChart = chart;
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-columns-sort-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_27) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report filters controller
     */
    module_definition_27.default.controller('InstantReportColumnsSortController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportValidationService) {
            'use strict';
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            var vm = this;
            //vm.panelOpened = false;
            vm.activeFields = $izendaInstantReportStorageService.getAllActiveFields();
            vm.columnReordered = function (fromIndex, toIndex, isVisualGroupColumn) {
                $izendaInstantReportStorageService.moveFieldToPosition(fromIndex, toIndex, isVisualGroupColumn, false);
                if (!$izendaCompatibilityService.isSmallResolution())
                    $izendaInstantReportValidationService.validateReportSetAndRefresh();
                $scope.$applyAsync();
            };
            vm.columnSelected = function (field) {
                $izendaInstantReportStorageService.applyFieldSelected(field, true);
                $scope.$applyAsync();
            };
            /**
             * Initialize watches
             */
            vm.initWatchers = function () {
                $scope.$watch('$izendaInstantReportStorageService.getAllActiveFields()', function (newActiveFields) {
                    vm.activeFields = newActiveFields;
                }, true);
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
            };
            vm.initWatchers();
        }
    ]);
    /**
     * Columns reorder directive
     */
    angular.module('izendaInstantReport').directive('instantReportColumnsReorder', [
        '$izendaLocaleService',
        '$izendaInstantReportStorageService',
        function ($izendaLocaleService, $izendaInstantReportStorageService) {
            return {
                restrict: 'EA',
                scope: {
                    ngItems: '=',
                    showSortButtons: '@',
                    onReorder: '&',
                    onClick: '&'
                },
                template: '<div class="izenda-reorder-header vg">' + $izendaLocaleService.localeText('js_VisGroupColumns', 'Visual group columns') + '</div>' +
                    '<ul class="izenda-reorder list-unstyled vg">' +
                    '<li class="izenda-reorder-item" ng-repeat="item in vgList" ng-bind="item.title">' +
                    '<span class="pull-right glyphicon glyphicon-arrow-up"></span>' +
                    '<span class="pull-right glyphicon glyphicon-arrow-down"></span>' +
                    '</li>' +
                    '</ul>' +
                    '<div class="izenda-reorder-header simple">' + $izendaLocaleService.localeText('js_Columns', 'Columns') + '</div>' +
                    '<ul class="izenda-reorder list-unstyled simple">' +
                    '<li class="izenda-reorder-item" ng-repeat="item in simpleList" ng-bind="item.title">' +
                    '<span class="pull-right glyphicon glyphicon-arrow-up"></span>' +
                    '<span class="pull-right glyphicon glyphicon-arrow-down"></span>' +
                    '</li>' +
                    '</ul>',
                link: function (scope, element, attrs) {
                    var $vgList = element.find('.izenda-reorder.vg'), $simpleList = element.find('.izenda-reorder.simple'), $vgListHeader = element.find('.izenda-reorder-header.vg'), $simpleListHeader = element.find('.izenda-reorder-header.simple');
                    var doClick = function (field) {
                        if (field && angular.isFunction(scope.onClick))
                            scope.onClick({ field: field });
                    };
                    /**
                     * Call reorder handler
                     */
                    var doReorder = function (startPosition, endPosition, isVg) {
                        if (angular.isFunction(scope.onReorder))
                            scope.onReorder({
                                arg0: startPosition,
                                arg1: endPosition,
                                arg2: isVg
                            });
                    };
                    /**
                     * Sort handler
                     */
                    var sortUpdateHandler = function (event, ui) {
                        var $elem = ui.item, $parent = $elem.closest('.izenda-reorder');
                        var startPosition = parseInt($elem.attr('data-order'));
                        var endPosition = $elem.index();
                        // update indexes
                        $parent.children().each(function (i) {
                            angular.element(this).attr('data-order', i);
                        });
                        doReorder(startPosition, endPosition, $parent.hasClass('vg'));
                    };
                    /**
                     * Prepare data and update sortable
                     */
                    var prepare = function (items) {
                        // prepare lists
                        var vgList = [], simpleList = [];
                        if (angular.isArray(items)) {
                            for (var i = 0; i < items.length; i++) {
                                var item = items[i];
                                if (item.isVgUsed)
                                    vgList.push(item);
                                else
                                    simpleList.push(item);
                            }
                        }
                        vgList.sort(function (a, b) {
                            return a.order - b.order;
                        });
                        simpleList.sort(function (a, b) {
                            return a.order - b.order;
                        });
                        // create elements:
                        if (vgList.length > 0) {
                            $vgListHeader.show();
                            $vgList.show();
                            $vgList.empty();
                            angular.element.each(vgList, function (i) {
                                var table = $izendaInstantReportStorageService.getTableById(this.parentId);
                                var $el = angular.element('<li class="izenda-reorder-item"></li>');
                                $el.attr('data-order', i);
                                $vgList.append($el);
                                var $span = angular.element('<span class="izenda-reorder-item-text"></span>');
                                $span.text(table.name + '  ' + (this.description !== '' ? this.description : this.name));
                                $span.on('click', function () {
                                    doClick(vgList[i]);
                                });
                                $el.append($span);
                                if (scope.showSortButtons) {
                                    var $arrowUp = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn1" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnUp', 'Move column up') + '"><span class="glyphicon glyphicon-arrow-up"></span></span>');
                                    $el.append($arrowUp);
                                    $arrowUp.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index > 0) {
                                            doReorder(index, index - 1, true);
                                        }
                                    });
                                    var $arrowDown = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn2" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnDown', 'Move column down') + '"><span class="glyphicon glyphicon-arrow-down"></span></span>');
                                    $el.append($arrowDown);
                                    $arrowDown.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index < vgList.length - 1) {
                                            doReorder(index, index + 1, true);
                                        }
                                    });
                                }
                            });
                            $vgList['sortable']('refresh');
                        }
                        else {
                            $vgListHeader.hide();
                            $vgList.hide();
                            $vgList.empty();
                        }
                        if (simpleList.length > 0) {
                            if (vgList.length > 0)
                                $simpleListHeader.show();
                            else
                                $simpleListHeader.hide();
                            $simpleList.show();
                            $simpleList.empty();
                            angular.element.each(simpleList, function (i) {
                                var table = $izendaInstantReportStorageService.getTableById(this.parentId);
                                var $el = angular.element('<li class="izenda-reorder-item"></li>');
                                $el.attr('data-order', i);
                                $simpleList.append($el);
                                var $span = angular.element('<span class="izenda-reorder-item-text"></span>');
                                $span.text(table.name + '  ' + (this.description !== '' ? this.description : this.name));
                                $span.on('click', function () {
                                    doClick(simpleList[i]);
                                });
                                $el.append($span);
                                if (scope.showSortButtons) {
                                    var $arrowUp = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn1" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnUp', 'Move column up') + '"><span class="glyphicon glyphicon-arrow-up"></span></span>');
                                    $el.append($arrowUp);
                                    $arrowUp.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index > 0) {
                                            doReorder(index, index - 1, false);
                                        }
                                    });
                                    var $arrowDown = angular.element('<span class="ds-multiple-button izenda-reorder-item-btn2" title="' +
                                        $izendaLocaleService.localeText('js_MoveColumnDown', 'Move column down') + '"><span class="glyphicon glyphicon-arrow-down"></span></span>');
                                    $el.append($arrowDown);
                                    $arrowDown.on('click', function () {
                                        var index = angular.element(this).closest('.izenda-reorder-item').index();
                                        if (index < simpleList.length - 1) {
                                            doReorder(index, index + 1, false);
                                        }
                                    });
                                }
                            });
                            $simpleList['sortable']('refresh');
                        }
                        else {
                            $simpleListHeader.hide();
                            $simpleList.hide();
                            $simpleList.empty();
                        }
                    };
                    // initialize
                    $vgList['sortable']({
                        update: sortUpdateHandler,
                        axis: 'y'
                    });
                    $vgList['disableSelection']();
                    $simpleList['sortable']({
                        update: sortUpdateHandler,
                        axis: 'y'
                    });
                    $simpleList['disableSelection']();
                    prepare(scope.ngItems);
                    // watch for updates
                    scope.$watch('ngItems', function (newVal) {
                        prepare(newVal);
                    }, true);
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_28) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report controller definition
     */
    module_definition_28.default.controller('InstantReportController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$cookies',
        '$q',
        '$log',
        '$izendaUtilUiService',
        '$izendaUrlService',
        '$izendaLocaleService',
        '$izendaSettingsService',
        '$izendaCompatibilityService',
        '$izendaScheduleService',
        '$izendaShareService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportPivotService',
        '$izendaInstantReportValidationService',
        '$izendaInstantReportSettingsService',
        function ($rootScope, $scope, $window, $timeout, $cookies, $q, $log, $izendaUtilUiService, $izendaUrlService, $izendaLocaleService, $izendaSettingsService, $izendaCompatibilityService, $izendaScheduleService, $izendaShareService, $izendaInstantReportStorageService, $izendaInstantReportPivotService, $izendaInstantReportValidationService, $izendaInstantReportSettingsService) {
            'use strict';
            var vm = this;
            var UNCATEGORIZED = $izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            $scope.$izendaInstantReportValidationService = $izendaInstantReportValidationService;
            $scope.$izendaUrlService = $izendaUrlService;
            $scope.$izendaLocaleService = $izendaLocaleService;
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            $scope.$izendaScheduleService = $izendaScheduleService;
            $scope.$izendaShareService = $izendaShareService;
            vm.isSmallResolution = $izendaCompatibilityService.isSmallResolution();
            vm.isSaveReportModalOpened = false;
            vm.isLoading = true;
            vm.previewHtml = $izendaInstantReportStorageService.getPreview();
            vm.reportSetOptions = {
                isVgUsed: false,
                vgStyle: null,
                sortedActiveFields: []
            };
            ;
            vm.filtersPanelOpened = $izendaInstantReportStorageService.getFiltersPanelOpened();
            vm.pivotsPanelOpened = $izendaInstantReportPivotService.getPivotsPanelOpened();
            vm.isValid = true;
            vm.activeField = null;
            vm.filtersCount = $izendaInstantReportStorageService.getFilters().length;
            vm.pivotCellsCount = $izendaInstantReportPivotService.getCellValues().length;
            vm.top = $izendaInstantReportStorageService.getOptions().top;
            vm.previewTop = $izendaInstantReportStorageService.getOptions().previewTop;
            vm.activeFields = $izendaInstantReportStorageService.getAllActiveFields();
            vm.settings = $izendaInstantReportSettingsService.getSettings();
            vm.reportInfo = null;
            vm.isExistingReport = false;
            vm.currentInsertColumnOrder = -1; // used for select field position for drag'n'drop fields
            // Left panel state object
            var previewPanelId = 6;
            vm.leftPanel = {
                activeItem: 0,
                previousPanelId: 0,
                opened: true
            };
            vm.exportProgress = null;
            vm.effectiveRights = $izendaCompatibilityService.getRights();
            _updateReportSetRightVariables();
            /**
             * Wait message header for export and print
             */
            vm.getWaitMessageHeaderText = function () {
                if (vm.exportProgress === 'export') {
                    return $izendaLocaleService.localeText('js_ExportingInProgress', 'Exporting in progress.');
                }
                if (vm.exportProgress === 'print') {
                    return $izendaLocaleService.localeText('js_PrintingInProgress', 'Printing in progress.');
                }
                return '';
            };
            /**
             * Wait message for export and print
             */
            vm.getWaitMessageText = function () {
                if (vm.exportProgress === 'export') {
                    return $izendaLocaleService.localeText('js_FinishExporting', 'Please wait till export is completed...');
                }
                if (vm.exportProgress === 'print') {
                    return $izendaLocaleService.localeText('js_FinishPrinting', 'Please finish printing before continue.');
                }
                return '';
            };
            /**
             * Set active panel
             */
            vm.setLeftPanelActiveItem = function (id) {
                vm.leftPanel.activeItem = id;
                if (id !== previewPanelId)
                    vm.leftPanel.previousPanelId = id;
                vm.leftPanel.opened = true;
            };
            /**
             * Open report designer.
             */
            vm.openReportInDesigner = function () {
                $izendaInstantReportStorageService.openReportInDesigner();
            };
            /**
             * Refresh preview
             */
            vm.applyChanges = function () {
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Refresh preview for mobile devices
             */
            vm.applyChangesMobile = function () {
                if (vm.leftPanel.previousPanelId === vm.leftPanel.activeItem) {
                    vm.setLeftPanelActiveItem(6);
                    vm.updateReportSetValidationAndRefresh(true);
                    //$izendaInstantReportValidationService.validateReportSetAndRefresh();
                }
                else {
                    vm.setLeftPanelActiveItem(vm.leftPanel.previousPanelId);
                    vm.leftPanel.previousPanelId = vm.leftPanel.activeItem;
                }
            };
            /**
             * Set preview value
             */
            vm.setPreviewTop = function (value) {
                $izendaInstantReportStorageService.setPreviewTop(value);
                vm.applyChanges();
                vm.closeAllNavbars();
            };
            /**
             * Returns active class for panel
             */
            vm.getLeftPanelClass = function (id) {
                var result = vm.isExistingReport ? 'has-title' : '';
                if (vm.isLeftPanelBodyActive(id))
                    result += ' active';
                return result.trim();
            };
            /**
             * Get class for mobile view
             */
            vm.getMobileClass = function () {
                return vm.isSmallResolution ? ' iz-inst-mobile ' : '';
            };
            /**
             * returns true only for active panel in left panel
             */
            vm.isLeftPanelBodyActive = function (id) {
                return vm.leftPanel.activeItem === id;
            };
            /**
             * Hide/show left panel
             */
            vm.toggleLeftPanel = function () {
                vm.leftPanel.opened = !vm.leftPanel.opened;
            };
            /**
             * Get toggle left panel button title
             */
            vm.getToggleButtonTitle = function () {
                if (vm.leftPanel.opened)
                    return $izendaLocaleService.localeText('js_HideLeftPanel', 'Hide left panel');
                else
                    return $izendaLocaleService.localeText('js_ShowLeftPanel', 'Show left panel');
            };
            /**
             * Handler column drag/drop reorder
             */
            vm.columnReordered = function (fromIndex, toIndex, isVg) {
                // we need to understand that swap from <-> to doesn't take into concideration invisible fields.
                $izendaInstantReportStorageService.moveFieldToPosition(fromIndex, toIndex, isVg, true);
                vm.updateReportSetValidationAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Get columns, allowed for reorder
             * @returns {number} count of columns which allowed for reorder.
             */
            vm.getAllowedColumnsForReorder = function () {
                return vm.activeFields.length;
            };
            /**
             * Column selected
             */
            vm.selectedColumn = function (field) {
                $izendaInstantReportStorageService.unselectAllFields();
                field.selected = true;
                $izendaInstantReportStorageService.setCurrentActiveField(field);
                $scope.$applyAsync();
            };
            /**
             * Remove column by given index
             * @param {number} index
             */
            vm.removeColumn = function (field) {
                if (!angular.isNumber(field.parentFieldId)) {
                    // if it is not multiple column for one database field.
                    $izendaInstantReportStorageService.applyFieldChecked(field).then(function () {
                        var selectedField = $izendaInstantReportStorageService.getCurrentActiveField();
                        if (selectedField === field)
                            $izendaInstantReportStorageService.applyFieldSelected(field, false);
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                else {
                    var parentField = $izendaInstantReportStorageService.getFieldById(field.parentFieldId);
                    $izendaInstantReportStorageService.removeAnotherField(parentField, field);
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                }
            };
            /**
             * Open filters modal dialog
            */
            vm.openFiltersPanel = function (value) {
                $izendaInstantReportPivotService.setPivotsPanelOpened(false);
                if (angular.isDefined(value)) {
                    $izendaInstantReportStorageService.setFiltersPanelOpened(value);
                }
                else {
                    var opened = $izendaInstantReportStorageService.getFiltersPanelOpened();
                    $izendaInstantReportStorageService.setFiltersPanelOpened(!opened);
                }
            };
            /**
             * Open pivots panel
             */
            vm.openPivotsPanel = function (value) {
                $izendaInstantReportStorageService.setFiltersPanelOpened(false);
                if (angular.isDefined(value)) {
                    $izendaInstantReportPivotService.setPivotsPanelOpened(value);
                }
                else {
                    var opened = $izendaInstantReportPivotService.getPivotsPanelOpened();
                    $izendaInstantReportPivotService.setPivotsPanelOpened(!opened);
                }
            };
            /**
             * Open filters panel and add filter
             */
            vm.addFilter = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorageService.getActiveTables().length === 0)
                    return;
                vm.openFiltersPanel(true);
                $izendaInstantReportStorageService.createNewFilter(fieldSysName).then(function (filter) {
                    $izendaInstantReportStorageService.getFilters().push(filter);
                    filter.initialized = true;
                    $izendaInstantReportValidationService.validateReportSet();
                    $izendaInstantReportStorageService.setFilterOperator(filter, null).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Open pivots panel and add pivot item
             */
            vm.addPivotItem = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorageService.getActiveTables().length === 0)
                    return;
                vm.openPivotsPanel(true);
                var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName);
                var newItem = $izendaInstantReportStorageService.createFieldObject(field.name, field.parentId, field.tableSysname, field.tableName, field.sysname, field.typeGroup, field.type, field.sqlType);
                $izendaInstantReportStorageService.initializeField(newItem).then(function (f) {
                    $scope.$applyAsync();
                });
                $izendaInstantReportPivotService.addPivotItem(newItem);
                $izendaInstantReportStorageService.applyAutoGroups(true);
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function (forceRefresh) {
                $izendaInstantReportValidationService.validateReportSetAndRefresh(forceRefresh);
            };
            /**
             * Add field to report
             */
            vm.addFieldToReport = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName, true);
                if (field.checked) {
                    var anotherField = $izendaInstantReportStorageService.addAnotherField(field, true);
                    $izendaInstantReportStorageService.applyFieldChecked(anotherField).then(function () {
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                else {
                    $izendaInstantReportStorageService.unselectAllFields();
                    field.selected = true;
                    $izendaInstantReportStorageService.setCurrentActiveField(field);
                    $izendaInstantReportStorageService.applyFieldChecked(field).then(function () {
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
                // move field from last postions to selected position if it is drag-n-drop:
                if (field.checked && vm.currentInsertColumnOrder >= 0) {
                    var fieldsArray = $izendaInstantReportStorageService.getAllVisibleFields().slice();
                    fieldsArray = angular.element.grep(fieldsArray, function (f) {
                        return !f.isVgUsed;
                    });
                    fieldsArray.sort(function (a, b) {
                        return a.order - b.order;
                    });
                    var from = fieldsArray.length - 1;
                    var to = vm.currentInsertColumnOrder;
                    $izendaInstantReportStorageService.moveFieldToPosition(from, to, false, true);
                }
                vm.currentInsertColumnOrder = -1;
            };
            /**
             * Close all navbar opened dropdowns
             */
            vm.closeAllNavbars = function () {
                var $navBar = angular.element('.iz-inst-navbar');
                $navBar.find('.navbar-nav > li.open').each(function () {
                    angular.element(this).removeClass('open');
                });
            };
            /**
             * Place dropdown to the proper position.
             */
            vm.alignNavDropdowns = function () {
                var $navbar = angular.element('.iz-inst-navbar');
                var $liList = $navbar.find('.iz-inst-nav > li.open');
                if (!$liList.length)
                    return;
                $liList.each(function () {
                    var $li = angular.element(this);
                    var liWidth = $li.width();
                    var $dropdown = $li.children('.dropdown-menu');
                    var isRightNow = $dropdown.hasClass('dropdown-menu-right');
                    var dropdownWidth = $dropdown.width();
                    var deltaLeft = $li.position().left + $dropdown.position().left;
                    var deltaRight = $navbar.width() - deltaLeft - dropdownWidth;
                    var isRightAlign = false;
                    var needToMove = false;
                    if (deltaRight < 0) {
                        isRightAlign = true;
                        needToMove = true;
                    }
                    if (deltaLeft < 0 || (isRightNow && deltaRight + liWidth > dropdownWidth + 10)) {
                        needToMove = true;
                        isRightAlign = false;
                    }
                    if (needToMove)
                        if (isRightAlign)
                            $dropdown.addClass('dropdown-menu-right');
                        else
                            $dropdown.removeClass('dropdown-menu-right');
                });
            };
            /**
             * Open navbar dropdown accordingly to its relative position to the edges of the screen.
             * @param {object} $event angular click event object.
             */
            vm.openNavBarDropdown = function ($event, doSync) {
                function openDropdown($li) {
                    vm.closeAllNavbars();
                    $li.addClass('open');
                    vm.alignNavDropdowns();
                }
                $event.stopPropagation();
                if (!vm.isValid)
                    return;
                // dropdown elements
                var $aElement = angular.element($event.currentTarget);
                var $liElement = $aElement.parent();
                var $dropdownElement = $aElement.siblings('.dropdown-menu');
                // close
                if ($liElement.hasClass('open')) {
                    $dropdownElement.removeClass('dropdown-menu-right');
                    $liElement.removeClass('open');
                    return;
                }
                // open
                if (doSync)
                    $izendaInstantReportStorageService.setReportSetAsCrs(false).then(function () {
                        openDropdown($liElement);
                    });
                else
                    openDropdown($liElement);
            };
            vm.isSaveButtonVisible = function () {
                return vm.settings.showSaveControls && vm.rights.isSaveAllowed && vm.activeFields.length > 0;
            };
            vm.isSaveAsButtonVisible = function () {
                return vm.settings.showSaveControls && vm.rights.isSaveAsAllowed && vm.activeFields.length > 0;
            };
            /**
             * Save dialog closed handler.
             */
            vm.onSaveClosed = function () {
                vm.isSaveReportModalOpened = false;
            };
            /**
             * Report name/category selected. Save report handler.
             */
            vm.onSave = function (reportName, categoryName) {
                _saveReportWithGivenName(reportName, categoryName);
                vm.isSaveReportModalOpened = false;
            };
            /**
             * Save report
             */
            vm.saveReport = function (forceRename) {
                vm.isSaveReportModalOpened = false;
                var rs = $izendaInstantReportStorageService.getReportSet();
                var needToRename = forceRename || !rs.reportName;
                if (needToRename) {
                    vm.isSaveReportModalOpened = true;
                }
                else {
                    _saveReportWithGivenName(rs.reportName, rs.reportCategory);
                }
                vm.closeAllNavbars();
            };
            /**
             * Print report buttons handler.
             */
            vm.printReport = function (printType) {
                vm.exportProgress = 'print';
                $timeout(function () {
                    $izendaInstantReportStorageService.printReport(printType).then(function (results) {
                        if (!results.success) {
                            var reportSet = $izendaInstantReportStorageService.getReportSet();
                            var rsReportName = reportSet.reportName;
                            // show message
                            $izendaUtilUiService.showErrorDialog($izendaLocaleService.localeTextWithParams('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.', [rsReportName, results.message]), $izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error'));
                        }
                        vm.exportProgress = null;
                    });
                    $scope.$applyAsync();
                }, 500);
                vm.closeAllNavbars();
            };
            var exportReportInternal = function (exportType) {
                vm.exportProgress = 'export';
                $izendaInstantReportStorageService.exportReport(exportType).then(function (results) {
                    if (!results.success) {
                        var reportSet = $izendaInstantReportStorageService.getReportSet();
                        var rsReportName = reportSet.reportName;
                        // show error dialog
                        $izendaUtilUiService.showErrorDialog($izendaLocaleService.localeTextWithParams('js_FailedExportReport', 'Failed to export report "{0}". Error description: {1}.', [rsReportName, results.message]), $izendaLocaleService.localeText('js_FailedExportReportTitle', 'Report export error'));
                    }
                    vm.exportProgress = null;
                });
            };
            var showCsvBulkUnsupportedFormatWarning = function (exportType) {
                var message = $izendaLocaleService.localeText('js_CsvBulkUnsupportFormatsWarning', 'Csv(bulk) export does not support following formats: percent of group, percent of group (with rounding), gauge, gauge (variable), dash gauge. Default format will be applied instead of them.');
                var checkboxes = [
                    {
                        label: $izendaLocaleService.localeText('js_DoNotShowThisDialogAgain', 'Do not show this dialog again'),
                        checked: false
                    }
                ];
                var warningArgs = {
                    title: $izendaLocaleService.localeText('js_Warning', 'Warning'),
                    message: message,
                    buttons: [
                        {
                            text: $izendaLocaleService.localeText('js_Ok', 'Ok'),
                            callback: function (checkboxes) {
                                if (checkboxes && checkboxes.length > 0) {
                                    var doNotShowAgain = checkboxes[0];
                                    if (doNotShowAgain && doNotShowAgain.checked) {
                                        var date = new Date;
                                        date.setDate(date.getDate() + 365);
                                        var cookieOptions = { expires: date };
                                        $cookies.put("izendaHideCsvBulkUnsupportedFormatWarning", true, cookieOptions);
                                    }
                                }
                                exportReportInternal(exportType);
                            }
                        },
                        { text: $izendaLocaleService.localeText('js_Cancel', 'Cancel') }
                    ],
                    checkboxes: checkboxes,
                    alertInfo: 'warning'
                };
                $izendaUtilUiService.showDialogBox(warningArgs);
            };
            var isCsvBulkWithUnsupportedFormat = function (exportType) {
                var isCsvBulk = exportType === 'csv' && $izendaSettingsService.getBulkCsv();
                if (!isCsvBulk)
                    return false;
                var hasAggregateFormats = $izendaInstantReportStorageService.hasAggregateFormats();
                return hasAggregateFormats;
            };
            /**
             * Export report buttons handler
             */
            vm.exportReport = function (exportType) {
                var hideCsvWarning = $cookies.get("izendaHideCsvBulkUnsupportedFormatWarning");
                if (isCsvBulkWithUnsupportedFormat(exportType) && !hideCsvWarning) {
                    showCsvBulkUnsupportedFormatWarning(exportType);
                    return;
                }
                exportReportInternal(exportType);
                vm.closeAllNavbars();
            };
            /**
             * on-page-click report preview handler. Raises when user clicks on paging controls in preview.
             */
            vm.onPagingClick = function (pagingControlType, pageRange) {
                var rs = $izendaInstantReportStorageService.getReportSet();
                rs.options.rowsRange = pageRange;
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Send report link via email
             */
            vm.sendReportLinkEmail = function () {
                $izendaInstantReportStorageService.sendReportLinkEmail();
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
                var applyReportInfo = function (reportInfo) {
                    if (!angular.isObject(reportInfo)) {
                        vm.isExistingReport = false;
                        vm.reportInfo = null;
                        return;
                    }
                    if (angular.isString(reportInfo.fullName) && reportInfo.fullName.trim() !== '') {
                        // if location contains report name: load it
                        $izendaInstantReportStorageService.loadReport(reportInfo.fullName).then(function () {
                            vm.isExistingReport = true;
                            vm.reportInfo = reportInfo;
                            $scope.$applyAsync();
                        });
                    }
                    else {
                        $izendaInstantReportStorageService.newReport().then(function () {
                            vm.isExistingReport = false;
                            vm.reportInfo = reportInfo;
                            $scope.$applyAsync();
                        });
                    }
                };
                $scope.$watch('$izendaCompatibilityService.isSmallResolution()', function (value, prevValue) {
                    vm.isSmallResolution = value;
                    if (vm.isSmallResolution) {
                        angular.element('.iz-inst-mainpanel-body').css('visibility', 'hidden');
                    }
                    else {
                        $timeout(function () {
                            angular.element('.iz-inst-mainpanel-body').css('visibility', 'visible');
                        }, 600);
                    }
                    if (prevValue && !value) {
                        // small -> normal
                        vm.setLeftPanelActiveItem(0);
                    }
                });
                $scope.$watch('$izendaCompatibilityService.getRights()', function (value, prevValue) {
                    if (value === prevValue)
                        return;
                    vm.effectiveRights = value;
                    _updateReportSetRightVariables();
                });
                //
                $scope.$on('changeVisualizationProperties', function (event, args) {
                    $izendaInstantReportStorageService.getReportSet().charts[0].properties = args[0];
                });
                // look for location change
                $scope.$watch('$izendaUrlService.getReportInfo()', function (reportInfo) {
                    applyReportInfo(reportInfo);
                });
                /**
                 * Listen for complete loading page.
                 */
                $scope.$watch('$izendaInstantReportStorageService.getPageReady()', function (isPageReady) {
                    if (isPageReady) {
                        vm.isLoading = false;
                        vm.updateReportSetValidationAndRefresh();
                    }
                });
                // Look for preview change
                $scope.$watch('$izendaInstantReportStorageService.getPreview()', function (previewHtml) {
                    // prepare options:
                    var options = $izendaInstantReportStorageService.getOptions();
                    vm.reportSetOptions = {
                        isVgUsed: false,
                        vgStyle: options.page.vgStyle,
                        sortedActiveFields: [],
                        pivotCellsCount: vm.pivotCellsCount
                    };
                    // add active fields.
                    vm.reportSetOptions.sortedActiveFields = $izendaInstantReportStorageService.getAllVisibleFields();
                    vm.reportSetOptions.sortedActiveFields.sort(function (a, b) {
                        return a.order - b.order;
                    });
                    angular.element.each(vm.reportSetOptions.sortedActiveFields, function () {
                        if (this.isVgUsed)
                            vm.reportSetOptions.isVgUsed = true;
                    });
                    // set preview html
                    vm.previewHtml = previewHtml;
                });
                $scope.$watch('$izendaInstantReportStorageService.getFiltersPanelOpened()', function (opened) {
                    vm.filtersPanelOpened = opened;
                });
                $scope.$watch('$izendaInstantReportPivotService.getPivotsPanelOpened()', function (opened) {
                    vm.pivotsPanelOpened = opened;
                });
                $scope.$watch('$izendaInstantReportStorageService.getCurrentActiveField()', function (field) {
                    vm.activeField = field;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions().top', function (top) {
                    vm.top = top;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions().previewTop', function (top) {
                    vm.previewTop = top;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getFilters()', function (filters) {
                    vm.filtersCount = filters.length;
                });
                $scope.$watchCollection('$izendaInstantReportPivotService.getCellValues()', function (cellValues) {
                    vm.pivotCellsCount = cellValues.length;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllActiveFields()', function (activeFields) {
                    vm.activeFields = activeFields;
                });
                $scope.$watch('$izendaInstantReportStorageService.getPreviewSplashVisible()', function (visible) {
                    vm.reportLoadingIndicatorIsVisible = visible;
                });
                // listen for validation state change.
                $scope.$watch('$izendaInstantReportValidationService.isReportValid()', function (isValid) {
                    vm.isValid = isValid;
                });
                /**
                 * Report name selected handler
                 */
                $scope.$on('selectedNewReportNameEvent', function (event, args) {
                    if (!angular.isArray(args) || args.length !== 2)
                        throw 'Array with 2 elements expected';
                    var name = args[0], category = args[1];
                    _saveReportWithGivenName(name, category);
                });
                // todo: move that javascript to special directive in future, because DOM manipulations in controller is bad practice:
                var $root = angular.element('.iz-inst-root');
                angular.element(window).resize(function () {
                    vm.alignNavDropdowns();
                    $root.height(angular.element(window).height() - $root.offset().top - 30);
                });
                $root.height(angular.element(window).height() - $root.offset().top - 30);
                // left panel resize sensor
                var $panel = angular.element('.iz-inst-left-panel');
                if ($panel.length)
                    resizeSensor($panel.get(0), function () {
                        vm.alignNavDropdowns();
                    });
            };
            function _updateReportSetRightVariables() {
                vm.rights = {};
                vm.rights.isFiltersEditAllowed = $izendaCompatibilityService.isFiltersEditAllowed();
                vm.rights.isFullAccess = $izendaCompatibilityService.isFullAccess();
                vm.rights.isEditAllowed = $izendaCompatibilityService.isEditAllowed();
                vm.rights.isSaveAsAllowed = $izendaCompatibilityService.isSaveAsAllowed();
                vm.rights.isSaveAllowed = $izendaCompatibilityService.isSaveAllowed();
            }
            /**
             * Save report with selected name
             */
            function _saveReportWithGivenName(reportName, reportCategory) {
                var category = reportCategory;
                if (!angular.isString(category) || category.toLowerCase() === UNCATEGORIZED.toLowerCase())
                    category = '';
                var rsReportName = reportName;
                if (angular.isString(reportCategory) && reportCategory !== '')
                    rsReportName = reportCategory + $izendaSettingsService.getCategoryCharacter() + rsReportName;
                var savePromise;
                if (angular.isString(reportName) && reportName !== '') {
                    savePromise = $izendaInstantReportStorageService.saveReportSet(reportName, category);
                }
                else {
                    savePromise = $izendaInstantReportStorageService.saveReportSet();
                }
                savePromise.then(function () {
                    var notificationMessage = $izendaLocaleService.localeTextWithParams('js_ReportSaved', 'Report "{0}" sucessfully saved.', [rsReportName]);
                    $izendaUtilUiService.showNotification(notificationMessage);
                }, function (error) {
                    var errorTitle = $izendaLocaleService.localeText('js_FailedSaveReportTitle', 'Report save error');
                    var errorMessage = $izendaLocaleService.localeTextWithParams('js_FailedSaveReport', 'Failed to save report "{0}". Error description: {1}', [rsReportName, error]);
                    $izendaUtilUiService.showErrorDialog(errorMessage, errorTitle);
                });
            }
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-data-source-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_29) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report data sources controller definition
     */
    module_definition_29.default.controller('InstantReportDataSourceController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$log',
        '$sce',
        '$anchorScroll',
        '$izendaUrlService',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportQueryService',
        '$izendaInstantReportPivotService',
        '$izendaInstantReportValidationService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportSettingsService',
        function ($rootScope, $scope, $window, $timeout, $q, $log, $sce, $anchorScroll, $izendaUrlService, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportQueryService, $izendaInstantReportPivotService, $izendaInstantReportValidationService, $izendaInstantReportStorageService, $izendaInstantReportSettingsService) {
            'use strict';
            var vm = this;
            var angularJq$ = angular.element;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            $scope.$izendaUrlService = $izendaUrlService;
            $scope.$izendaInstantReportSettingsService = $izendaInstantReportSettingsService;
            $scope.trustAsHtml = function (value) {
                return $sce.trustAsHtml(value);
            };
            vm.searchString = '';
            vm.dataSources = null;
            vm.isDataSourcesLoading = true;
            vm.searchResults = [];
            var previousResultsCount = null;
            vm.searchPanelOpened = false;
            vm.options = $izendaInstantReportStorageService.getOptions();
            vm.columnSortPanelOpened = false;
            vm.columnSortPanelButtonEnabled = false;
            var searchState = {
                timeoutId: null,
                changing: false
            };
            var collapseState = {
                started: false
            };
            /**
             * Collapse animation completed handler.
             */
            vm.collapseCompleted = function (collapsed) {
                collapseState.started = false;
                $scope.$applyAsync();
            };
            /**
             * Toggle opened/collapsed state.
             */
            vm.toggleItemCollapse = function (item) {
                if (!collapseState.started) {
                    collapseState.started = true;
                    item.collapsed = !item.collapsed;
                }
            };
            /**
             * Turn off search panel and reset it to default state.
             * @param {boolean} resetSearchResults. Clear search string and results.
             */
            vm.turnOffSearch = function (resetSearchResults) {
                vm.searchPanelOpened = false;
                if (resetSearchResults) {
                    angular.element('#izInstDataSourcesTree').get(0).scrollTop = 0;
                    vm.searchString = '';
                    vm.searchResults = [];
                    previousResultsCount = null;
                }
            };
            /**
             * Run search query.
             */
            vm.runSearchQuery = function (clearResults) {
                if (vm.searchQueryRunning)
                    return;
                if (!angular.isString(vm.searchString) || vm.searchString.trim() === '') {
                    vm.searchPanelOpened = false;
                    vm.searchQueryRunning = false;
                    return;
                }
                vm.searchQueryRunning = true;
                var count = 50;
                if (clearResults) {
                    vm.searchResults = [];
                    previousResultsCount = null;
                    angular.element('#izInstDataSourcesTree').get(0).scrollTop = 0;
                }
                if (previousResultsCount === 0) {
                    vm.searchQueryRunning = false;
                    return;
                }
                $izendaInstantReportStorageService.searchInDataDources(vm.searchString, vm.searchResults.length, vm.searchResults.length + count - 1).then(function (searchResults) {
                    previousResultsCount = searchResults.length;
                    angular.element.each(searchResults, function () {
                        vm.searchResults.push(this);
                    });
                    vm.searchPanelOpened = true;
                    $scope.$applyAsync();
                    vm.searchQueryRunning = false;
                });
            };
            /**
             * Get filtered datasources
             */
            vm.searchInDataDources = function () {
                if ($izendaCompatibilityService.isSmallResolution())
                    return;
                if (searchState.timeoutId !== null)
                    $timeout.cancel(searchState.timeoutId);
                searchState.timeoutId = $timeout(function () {
                    vm.runSearchQuery(true);
                }, 500);
            };
            /**
             * Get classes for category/table folder icons
             */
            vm.getFolderClass = function (item) {
                var css = '';
                if (!item.collapsed) {
                    css += ' open';
                }
                if (item.active) {
                    css += ' active';
                }
                return css.trim();
            };
            /**
             * Get classes for category/table labels
             */
            vm.getFolderLabelClass = function (item) {
                var css = '';
                if (item.active) {
                    css += ' active';
                }
                if (item.highlight) {
                    css += ' highlight';
                }
                if (!item.enabled) {
                    css += ' disabled';
                }
                if (item.selected) {
                    css += ' selected';
                }
                return css.trim();
            };
            vm.getFieldClass = function (item) {
                var css = '';
                if (item.checked) {
                    css += ' checked';
                }
                if (item.highlight) {
                    css += ' highlight';
                }
                if (!item.enabled) {
                    css += ' disabled';
                }
                return css.trim();
            };
            vm.getFieldTextClass = function (item) {
                var css = '';
                if (item.selected) {
                    css += ' selected';
                }
                return css.trim();
            };
            vm.getFieldCheckClass = function (item, ignoreFolderIcon) {
                if (!ignoreFolderIcon && item.isMultipleColumns) {
                    if (!item.collapsed)
                        return 'glyphicon-chevron-down';
                    return 'glyphicon-chevron-right';
                }
                var css = '';
                if (item.checked) {
                    css += ' glyphicon-check';
                }
                else {
                    css += ' glyphicon-unchecked';
                }
                return css.trim();
            };
            /**
             * Check if field have group
             */
            vm.isFieldGrouped = function (field) {
                return field.checked && $izendaInstantReportStorageService.isFieldGrouped(field);
            };
            /**
             * Toggle table collapsed
             * @param {object} table. Toggling table object
             */
            vm.toggleTableCollapse = function (table) {
                return $q(function (resolve) {
                    table.collapsed = !table.collapsed;
                    // if table is lazy - load fields.
                    if (table.lazy) {
                        $izendaInstantReportStorageService.loadLazyFields(table).then(function () {
                            $scope.$applyAsync();
                            resolve(table);
                        });
                    }
                    else {
                        resolve(table);
                    }
                });
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function () {
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Check/uncheck field.
             */
            vm.toggleFieldChecked = function (field) {
                if (!field)
                    return;
                var needToCheck = !field.checked;
                var pivotsEnabled = $izendaInstantReportPivotService.isPivotValid();
                $izendaInstantReportStorageService.applyFieldChecked(field, needToCheck, pivotsEnabled).then(function () {
                    // turn on autogroup if pivots are turned on
                    if (pivotsEnabled && needToCheck) {
                        $izendaInstantReportStorageService.applyAutoGroups(true);
                    }
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            vm.getFieldTooltip = function (field) {
                if (!field.checked)
                    return $izendaLocaleService.localeText('js_ToggleReportField', 'Toggle report field');
                else if (!field.selected)
                    return $izendaLocaleService.localeText('js_SelectReportField', 'Select report field');
                else
                    return '';
            };
            /**
             * Check/uncheck field handler
             */
            vm.checkField = function (field, allowUncheck) {
                if (field.isMultipleColumns) {
                    vm.toggleItemCollapse(field);
                    return;
                }
                vm.selectField(field);
                // exit if field checked but we not allowed to uncheck
                if (field.checked && !allowUncheck)
                    return;
                if (!$izendaCompatibilityService.isSmallResolution()) {
                    // check field occurs in selectField function
                    vm.toggleFieldChecked(field);
                }
            };
            /**
             * Activate/deactivate table
             */
            vm.activateTable = function (table) {
                $izendaInstantReportStorageService.applyTableActive(table).then(function () {
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            /**
             * Show field options
             */
            vm.selectField = function (field) {
                if ($izendaCompatibilityService.isSmallResolution()) {
                    vm.toggleFieldChecked(field);
                }
                else {
                    $izendaInstantReportStorageService.applyFieldSelected(field, true);
                }
            };
            /**
             * Show field options button
             */
            vm.showFieldOptions = function (field) {
                $izendaInstantReportStorageService.applyFieldSelected(field, true);
                if ($izendaCompatibilityService.isSmallResolution()) {
                    $scope.irController.setLeftPanelActiveItem(7);
                }
            };
            /**
             * Is all tables collapsed
             */
            vm.isTablesCollapsed = function (category) {
                var result = true;
                angularJq$.each(category.tables, function () {
                    if (!this.collapsed)
                        result = false;
                });
                return result;
            };
            /**
             * Collapse all tables inside category
             */
            vm.collapseCategoryTables = function (category) {
                angularJq$.each(category.tables, function () {
                    this.collapsed = true;
                });
            };
            /**
             * Add more than one same fields to report
             */
            vm.addAnotherField = function (field) {
                var anotherField = $izendaInstantReportStorageService.addAnotherField(field, true);
                vm.toggleFieldChecked(anotherField);
            };
            /**
             * Remove more than one same field
             */
            vm.removeAnotherField = function (field, multiField) {
                $izendaInstantReportStorageService.removeAnotherField(field, multiField);
                vm.updateReportSetValidationAndRefresh();
                $scope.$applyAsync();
            };
            /**
             * Open/close column sort panel
             */
            vm.openColumnsSortPanel = function (value) {
                if (angular.isDefined(value))
                    vm.columnSortPanelOpened = value;
                else {
                    vm.columnSortPanelOpened = !vm.columnSortPanelOpened;
                }
            };
            /**
             * Go to found field or table
             * @param {object} searchResultObject. Object, with table sysname and field sysname.
             */
            vm.revealSearchResult = function (searchResultObject) {
                function gotoSearchTarget(searchResult) {
                    var isField = searchResult.hasOwnProperty('fSysName');
                    var tSysName = searchResult['tSysName'];
                    if (isField) {
                        var fieldSysName = searchResult['fSysName'];
                        var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName, true);
                        vm.selectField(field);
                        $scope.$applyAsync();
                    }
                    // scroll to element
                    $timeout(function () {
                        var tableEl = document.getElementById('anchor' + tSysName);
                        if (tableEl)
                            angular.element('#izInstDataSourcesTree').get(0).scrollTop = angular.element(tableEl).position().top;
                    }, 300);
                }
                vm.selectField(null);
                vm.turnOffSearch(true);
                $scope.$applyAsync();
                var table = $izendaInstantReportStorageService.getTableBySysname(searchResultObject['tSysName']);
                if (!table.collapsed) {
                    gotoSearchTarget(searchResultObject);
                }
                else {
                    vm.toggleTableCollapse(table).then(function () {
                        gotoSearchTarget(searchResultObject);
                    });
                }
            };
            /**
            * Initialize watchers
            */
            vm.initWatchers = function () {
                $scope.$watch(angular.bind(vm, function () {
                    return this.searchString;
                }), function () {
                    vm.searchInDataDources();
                });
                /**
                 * Look for options change
                 */
                $scope.$watch('$izendaInstantReportStorageService.getOptions()', function (options) {
                    vm.options = options;
                });
                /**
                 * Listen for complete loading page.
                 */
                $scope.$watch('$izendaInstantReportStorageService.getPageReady()', function (isPageReady) {
                    if (isPageReady) {
                        vm.isDataSourcesLoading = false;
                    }
                });
                /**
                 * Look for datasources change
                 */
                $scope.$watch('$izendaInstantReportStorageService.getDataSources()', function (datasources) {
                    vm.dataSources = datasources;
                });
                /**
                 * Look for checked fields count
                 */
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllActiveFields()', function (newActiveFields) {
                    vm.columnSortPanelButtonEnabled = newActiveFields.length > 1;
                });
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
            };
            // initialize with controller
            vm.initWatchers();
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-field-options-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_30) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report field options controller
     */
    module_definition_30.default.controller('InstantReportFieldOptionsController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportQueryService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportQueryService, $izendaInstantReportStorageService, $izendaInstantReportValidationService) {
            'use strict';
            var vm = this;
            var primaryButtonClass = "izenda-common-btn-dark", activeButtonClass = "izenda-common-btn-dark active";
            $scope.$izendaLocaleService = $izendaLocaleService;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            vm.field = null;
            vm.currentSortFunction = 'asc';
            vm.isSubtotalsEnabled = false;
            vm.drillDownStyles = $izendaInstantReportStorageService.getDrillDownStyles();
            vm.subreports = $izendaInstantReportStorageService.getSubreports();
            vm.expanded = false;
            vm.ddkValuesMaxAmount = -1;
            /**
             * Get class
             */
            vm.getPanelClass = function () {
                if ($izendaCompatibilityService.isSmallResolution())
                    return 'expanded';
                if (!angular.isObject(vm.field) || !$scope.irController.isLeftPanelBodyActive(0))
                    return 'collapsed';
                if (vm.expanded)
                    return 'expanded';
                return '';
            };
            /**
             * Get classes for validate messages icon
             */
            vm.getValidateMessageIconClass = function (message) {
                return message;
            };
            /**
             * Fires when description was set manually.
             */
            vm.onDescriptionWasSet = function () {
                $izendaInstantReportStorageService.applyDescription(vm.field);
            };
            /**
             * Fires when group was selected
             */
            vm.onFunctionSelected = function () {
                if (vm.field.groupByFunction === null)
                    return;
                $izendaInstantReportStorageService.onFieldFunctionApplied(vm.field);
            };
            /**
             * Fires when typegroup was selected
             */
            vm.onTypeGroupSelected = function () {
                $izendaInstantReportStorageService.onExpressionTypeGroupApplied(vm.field);
            };
            /**
             * Fires when expression changed.
             */
            vm.onExpressionChanged = function () {
                $izendaInstantReportStorageService.onExpressionApplied();
            };
            /**
             * Update preview
             */
            vm.applyChanges = function () {
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Toggle label justification
             */
            vm.toggleLabelJustification = function () {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var idx = itemsArray.indexOf(vm.field.labelJustification);
                if (idx < itemsArray.length - 1)
                    idx++;
                else
                    idx = 0;
                vm.field.labelJustification = itemsArray[idx];
            };
            /**
             * Toggle value justification
             */
            vm.toggleValueJustification = function () {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var idx = itemsArray.indexOf(vm.field.valueJustification);
                if (idx < itemsArray.length - 1)
                    idx++;
                else
                    idx = 0;
                vm.field.valueJustification = itemsArray[idx];
            };
            /**
             * Get sort button class
             */
            vm.getSortButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.sort !== null ? 'active' : '';
            };
            /**
             * Get sort button icon class
             */
            vm.getSortButtonGlyphClass = function () {
                return vm.currentSortFunction === 'desc' ? 'glyphicon-sort-by-alphabet-alt' : 'glyphicon-sort-by-alphabet';
            };
            /**
             * Apply field sort. Parameter should be 'asc', 'desc' or null
             */
            vm.applyFieldSort = function (sortFunction) {
                if (!angular.isDefined(sortFunction)) {
                    if (vm.field.sort === null) {
                        // enable selected sort
                        $izendaInstantReportStorageService.applyFieldSort(vm.field, vm.currentSortFunction);
                    }
                    else {
                        // disable selected sort
                        $izendaInstantReportStorageService.applyFieldSort(vm.field, null);
                    }
                }
                else {
                    // set and enable selected sort
                    vm.currentSortFunction = sortFunction;
                    $izendaInstantReportStorageService.applyFieldSort(vm.field, vm.currentSortFunction);
                }
            };
            /**
             * Get italic button class
             */
            vm.getItalicButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.italic ? 'active' : '';
            };
            /**
             * Apply field italic.
             */
            vm.applyFieldItalic = function () {
                $izendaInstantReportStorageService.applyFieldItalic(vm.field, !vm.field.italic);
            };
            /**
             * Get visible button class
             */
            vm.getVisibleButtonClass = function () {
                if (!vm.field)
                    return '';
                var classes = [];
                if (vm.field.isVgUsed)
                    classes.push('disabled');
                if (!vm.field.visible)
                    classes.push('active');
                return classes.join(' ');
            };
            /**
             * Apply field italic.
             */
            vm.applyFieldVisible = function () {
                if (vm.field.isVgUsed)
                    return;
                $izendaInstantReportStorageService.applyFieldVisible(vm.field, !vm.field.visible);
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Get bold button class
             */
            vm.getBoldButtonClass = function () {
                if (!vm.field)
                    return '';
                return vm.field.bold ? 'active' : '';
            };
            /**
             * Apply field bold.
             */
            vm.applyFieldBold = function () {
                $izendaInstantReportStorageService.applyFieldBold(vm.field, !vm.field.bold);
            };
            /**
             * Get visual group button class
             */
            vm.getVgButtonClass = function () {
                if (!vm.field)
                    return '';
                var classes = [];
                if (!vm.field.visible)
                    classes.push('disabled');
                if (vm.field.isVgUsed)
                    classes.push('active');
                return classes.join(' ');
            };
            /**
             * Apply visual group changed
             */
            vm.applyVg = function () {
                if (!vm.field.visible)
                    return;
                $izendaInstantReportStorageService.applyVisualGroup(vm.field, !vm.field.isVgUsed);
            };
            /**
             * If user selects non-default subtotal function, we need to turn on subtotals.
             */
            vm.onSubtotalFunctionSelect = function () {
                var subtotalFunction = vm.field.groupBySubtotalFunction;
                if (subtotalFunction !== 'DEFAULT')
                    $izendaInstantReportStorageService.getOptions().isSubtotalsEnabled = true;
            };
            /**
             * Check is subtotal group function === expression
             */
            vm.isSubtotalExpressionDisabled = function () {
                if (!angular.isObject(vm.field))
                    return true;
                if (!vm.isSubtotalsEnabled)
                    return true;
                if (!angular.isObject(vm.field.groupBySubtotalFunction))
                    return true;
                return vm.field.groupBySubtotalFunction.value !== 'EXPRESSION';
            };
            /**
            * Subreport selected handler
            */
            vm.subreportSelectedHandler = function () {
                vm.field.drillDownStyle = (vm.field.subreport) ? 'DetailLinkNewWindow' : '';
                $izendaInstantReportStorageService.disableEmbeddedDrillDownStyle(vm.field);
                $scope.$applyAsync();
            };
            /**
             * Close panel
             */
            vm.closePanel = function () {
                $izendaInstantReportStorageService.setCurrentActiveField(null);
            };
            /**
            * Initialize watchers
            */
            vm.initWatchers = function () {
                $scope.$watch('$izendaInstantReportStorageService.getCurrentActiveField()', function (field) {
                    vm.field = field;
                    vm.expanded = false;
                    if (angular.isObject(vm.field)) {
                        $izendaInstantReportStorageService.disableEmbeddedDrillDownStyle(vm.field);
                    }
                });
                $scope.$watch('$izendaInstantReportStorageService.getDrillDownStyles()', function (ddStyles) {
                    vm.drillDownStyles = ddStyles;
                });
                $scope.$watch('$izendaInstantReportStorageService.getExpressionTypes()', function (types) {
                    vm.expressionTypes = types;
                });
                $scope.$watch('$izendaInstantReportStorageService.getSubreports()', function (subreports) {
                    vm.subreports = subreports;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions().isSubtotalsEnabled', function (isSubtotalsEnabled) {
                    vm.isSubtotalsEnabled = isSubtotalsEnabled;
                });
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
            };
            // initialize with controller
            vm.initWatchers();
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-filters-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_31) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report filters controller
     */
    module_definition_31.default.controller('InstantReportFiltersController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$sce',
        '$log',
        '$izendaLocaleService',
        '$izendaSettingsService',
        '$izendaCompatibilityService',
        '$izendaUtilUiService',
        '$izendaInstantReportQueryService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $window, $timeout, $q, $sce, $log, $izendaLocaleService, $izendaSettingsService, $izendaCompatibilityService, $izendaUtilUiService, $izendaInstantReportQueryService, $izendaInstantReportStorageService, $izendaInstantReportValidationService) {
            'use strict';
            $scope.$izendaLocaleService = $izendaLocaleService;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            $scope.$izendaSettingsService = $izendaSettingsService;
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            var vm = this;
            vm.panelOpened = false;
            vm.filters = [];
            vm.filterOptions = $izendaInstantReportStorageService.getFilterOptions();
            vm.options = $izendaInstantReportStorageService.getOptions();
            vm.activeFields = [];
            vm.currentValue = '';
            vm.dateFormat = $izendaSettingsService.getDateFormat();
            vm.culture = $izendaSettingsService.getCulture();
            /**
             * Add new filter
             */
            vm.addFilter = function (fieldSysName) {
                $izendaInstantReportStorageService.createNewFilter(fieldSysName).then(function (filter) {
                    if (filter.field !== null && !filter.field.allowedInFilters) {
                        var errorTitle = $izendaLocaleService.localeText('js_Error', 'Error');
                        var errorText = $izendaLocaleService.localeText('js_FieldForbiddenForFiltering', 'This field is forbidden to use for filtering.');
                        $izendaUtilUiService.showNotification(errorText, errorTitle);
                        return;
                    }
                    $izendaInstantReportStorageService.getFilters().push(filter);
                    filter.initialized = true;
                    $izendaInstantReportValidationService.validateReportSet();
                    $izendaInstantReportStorageService.setFilterOperator(filter, null).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Swap filter handler
             */
            vm.reorderFilters = function (index1, index2) {
                $izendaInstantReportStorageService.swapFilters(index1, index2);
                var allfilters = $izendaInstantReportStorageService.getFilters();
                var index = Math.min(index1, index2);
                var filter = allfilters[index];
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Move to filter handler
             */
            vm.moveFilterTo = function (index1, index2) {
                $izendaInstantReportStorageService.moveFilterTo(index1, index2);
                var allfilters = $izendaInstantReportStorageService.getFilters();
                var index = Math.min(index1, index2);
                index = index > 0 ? index - 1 : 0;
                var filter = allfilters[index];
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Remove filter
             */
            vm.removeFilter = function (filter) {
                var allfilters = $izendaInstantReportStorageService.getFilters();
                var count = allfilters.length;
                var index = $izendaInstantReportStorageService.getFilters().indexOf(filter);
                $izendaInstantReportStorageService.removeFilter(filter);
                $izendaInstantReportValidationService.validateReportSet();
                if (count === 0)
                    return;
                // refresh next filters after apply cascading
                var nextFilter;
                if (index === 0) {
                    nextFilter = allfilters[0];
                }
                else {
                    nextFilter = allfilters[index - 1];
                }
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(nextFilter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(nextFilter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * Handler when field selected
             */
            vm.onFilterFieldChange = function (filter) {
                if (!filter.initialized)
                    return;
                filter.values = [];
                filter.currentValue = '';
                $izendaInstantReportValidationService.validateReportSet();
                $izendaInstantReportStorageService.loadFilterFormats(filter);
                $izendaInstantReportStorageService.setFilterOperator(filter).then(function () {
                    $izendaInstantReportStorageService.getPopupFilterCustomTemplate(filter);
                    $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter, true).then(function () {
                        $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                            $scope.$applyAsync();
                        });
                    });
                });
            };
            /**
             * Prepare filter values and existing values
             */
            vm.onFilterOperatorChange = function (filter) {
                filter.values = [];
                var asyncPromise = $q(function (resolve) {
                    var operatorType = $izendaInstantReportStorageService.getFieldFilterOperatorValueType(filter.operator);
                    if (operatorType === 'oneValue' || operatorType === 'oneDate') {
                        filter.values = [''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'twoValues' || operatorType === 'twoDates') {
                        filter.values = ['', ''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'Equals_TextArea') {
                        filter.currentValue = '';
                        resolve();
                        return;
                    }
                    if (operatorType === 'Equals_Autocomplete' || operatorType === 'select_multiple') {
                        filter.values = [''];
                        resolve();
                        return;
                    }
                    if (operatorType === 'select_popup') {
                        $izendaInstantReportStorageService.getPopupFilterCustomTemplate(filter).then(function () {
                            resolve();
                        });
                        return;
                    }
                    resolve();
                });
                asyncPromise.then(function () {
                    $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter, true).then(function () {
                        $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                            $scope.$applyAsync();
                        });
                    });
                });
            };
            /**
             * Return array of titles
             */
            vm.getExistentValuesSimpleList = function (existentValues) {
                var result = angular.element.map(existentValues, function (val) {
                    return val.text;
                });
                return result;
            };
            /**
             * Update autocomplete items while user entering some text
             * @param {object} filter
             * @param {string} autocompleteText
             * @return {angular promise}. Promise on complete
             */
            vm.updateAutoCompleteItems = function (filter, autocompleteText) {
                return $q(function (resolve) {
                    filter.possibleValue = autocompleteText;
                    $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter, true).then(function () {
                        filter.possibleValue = null;
                        resolve(filter.existentValues);
                    });
                });
            };
            /**
             * Prepare value for filter
             */
            vm.onCurrentValueChange = function (filter) {
                if (!filter.isFilterReady)
                    return;
                // prepare data:
                if (filter.operator.value === 'Equals_TextArea') {
                    var values = filter.currentValue.match(/^.*((\r\n|\n|\r)|$)/gm);
                    filter.values = [];
                    angular.element.each(values, function () {
                        if (this.trim() !== '' && filter.values.indexOf(this.trim()) < 0)
                            filter.values.push(this.trim());
                    });
                }
                // refresh cascading:
                $izendaInstantReportStorageService.updateFieldFilterExistentValues(filter).then(function () {
                    $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                        $scope.$applyAsync();
                    });
                });
            };
            /**
             * On filter logic change.
             */
            vm.onFilterLogicChange = function () {
                if (vm.filters.length === 0)
                    return;
                if (vm.filterOptions.filterLogic) {
                    $izendaInstantReportStorageService.refreshFiltersForFilterLogic().then(function () {
                        $scope.$applyAsync();
                    });
                }
                else {
                    vm.onCurrentValueChange(vm.filters[0]);
                }
            };
            /**
             * Change value handler for custom popup filter.
             */
            vm.onPopupValueChange = function (filter, newValue) {
                filter.values = newValue.split(',');
                $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                    $scope.$applyAsync();
                });
            };
            /**
             * Get btn text for popup
             */
            vm.getPopupBtnText = function (filter) {
                if (!angular.isArray(filter.values) || filter.values.length === 0)
                    return '...';
                var labels = [];
                angular.element.each(filter.values, function () {
                    var filterValue = this;
                    angular.element.each(filter.existentValues, function () {
                        var existentValue = this;
                        if (existentValue.value === filterValue)
                            labels.push(existentValue.text);
                    });
                });
                var result = labels.join(', ');
                if (result.length > 30) {
                    result = result.substring(0, 30);
                    result += '...';
                }
                return result;
            };
            /**
             * Toggle filter value
             */
            vm.toggleValue = function (filter, value) {
                var values = filter.values;
                var index = values.indexOf(value);
                if (index >= 0)
                    values.splice(index, 1);
                else
                    values.push(value);
                $izendaInstantReportStorageService.refreshNextFiltersCascading(filter).then(function () {
                    $scope.$applyAsync();
                });
            };
            /**
             * Is value in values collection in filter
             */
            vm.isValueChecked = function (filter, value) {
                var values = filter.values;
                return values.indexOf(value) >= 0;
            };
            /**
             * Get filter value type
             */
            vm.getFilterOperatorType = function (filter) {
                return $izendaInstantReportStorageService.getFieldFilterOperatorValueType(filter.operator);
            };
            /**
             * Apply filters
             */
            vm.applyFilters = function () {
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * Close filters panel
             */
            vm.closeFiltersPanel = function () {
                $izendaInstantReportStorageService.setFiltersPanelOpened(false);
            };
            /**
             * Initialize watches
             */
            vm.initWatchers = function () {
                $scope.$watch('$izendaSettingsService.getDateFormat()', function (dateFormat) {
                    vm.dateFormat = dateFormat;
                }, true);
                $scope.$watch('$izendaSettingsService.getCulture()', function (culture) {
                    vm.culture = culture;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getFilters()', function (newFilters, oldFilters) {
                    vm.filters = newFilters;
                });
                $scope.$watch('$izendaInstantReportStorageService.getFilterOptions()', function (newValue) {
                    vm.filterOptions = newValue;
                });
                $scope.$watch('$izendaInstantReportStorageService.getOptions()', function (options) {
                    vm.options = options;
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllFieldsInActiveTables(true)', function (newActiveFields) {
                    // sync collection elements:
                    // add:
                    angular.element.each(newActiveFields, function () {
                        var newActiveField = this;
                        if (!newActiveField.allowedInFilters)
                            return;
                        var found = false;
                        angular.element.each(vm.activeFields, function () {
                            if (this === newActiveField)
                                found = true;
                        });
                        if (!found)
                            vm.activeFields.push(newActiveField);
                    });
                    // remove:
                    var i = 0;
                    while (i < vm.activeFields.length) {
                        var field = vm.activeFields[i];
                        var found = false;
                        for (var j = 0; j < newActiveFields.length; j++) {
                            if (newActiveFields[j] === field)
                                found = true;
                        }
                        if (!found)
                            vm.activeFields.splice(i, 1);
                        else
                            i++;
                    }
                });
                $scope.$watch('$izendaInstantReportStorageService.getFiltersPanelOpened()', function (opened) {
                    vm.panelOpened = opened;
                });
            };
            /**
             * Initialize controller
             */
            vm.init = function () {
                vm.filters = $izendaInstantReportStorageService.getFilters();
            };
            vm.initWatchers();
        }
    ]);
    /**
     * Find all opened filter popup modals and close it.
     */
    window.hideModal = function () {
        var popupModals = document.getElementsByName('filtersPopupModalDialog');
        angular.element.each(popupModals, function () {
            var $modal = angular.element(this);
            if ($modal.hasClass('modal') && $modal.hasClass('in')) {
                $modal['modal']('hide');
            }
        });
    };
    /**
     * Custom popup filter modal submit callback.
     */
    window.CC_CustomFilterPageValueReceived = function () { };
    /**
     * Override hide modal function.
     */
    window.hm = function () {
        window.hideModal();
    };
    /**
     * Directive, which used for listening custom popup filters value change.
     */
    module_definition_31.default.directive('izendaOnPopupValueChange', [
        '$interval',
        function ($interval) {
            return {
                restrict: 'A',
                scope: {
                    handler: '&izendaOnPopupValueChange'
                },
                link: function ($scope, $element, attrs) {
                    var previousValue = $element.val();
                    var intervalId = $interval(function () {
                        var newValue = $element.val();
                        if (newValue !== previousValue) {
                            $scope.handler({
                                newValue: newValue
                            });
                            previousValue = newValue;
                        }
                    }, 20);
                    // we should turn off interval on destroy input tag.
                    $scope.$on('$destroy', function handleDestroyEvent() {
                        if (intervalId) {
                            $interval.cancel(intervalId);
                            intervalId = null;
                        }
                    });
                }
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-format-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_32) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report formatting controller definition
     */
    module_definition_32.default.controller('InstantReportFormatController', [
        '$rootScope',
        '$scope',
        '$window',
        '$timeout',
        '$q',
        '$log',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportSettingsService',
        function ($rootScope, $scope, $window, $timeout, $q, $log, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportSettingsService) {
            'use strict';
            $scope.$izendaCompatibilityService = $izendaCompatibilityService;
            var vm = this;
            vm.optGroups = {
                'headerAndFooter': {
                    opened: false
                },
                'color': {
                    opened: false
                },
                'page': {
                    opened: false
                },
                'drilldowns': {
                    opened: false
                }
            };
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            vm.options = $izendaInstantReportStorageService.getOptions();
            vm.vgStyles = [];
            vm.allActiveFields = [];
            vm.drillDownFields = $izendaInstantReportStorageService.getDrillDownFields();
            vm.selectedDrilldownField = null;
            vm.settings = $izendaInstantReportSettingsService.getSettings();
            vm.ddkValuesMaxAmount = vm.settings.ddkValuesMaxAmount;
            vm.allowVirtualDataSources = vm.settings.allowVirtualDataSources;
            /**
             * Restore default color settings.
             */
            vm.restoreDefaultColors = function () {
                $izendaInstantReportStorageService.restoreDefaultColors();
            };
            /**
             * Remove fields which are already in drilldown collection
             */
            vm.removeDrilldownFieldsFromAvailable = function () {
                vm.allActiveFields = angular.element.grep(vm.allActiveFields, function (f) {
                    var found = false;
                    angular.element.each(vm.drillDownFields, function () {
                        var ddField = this;
                        if (ddField.id === f.id)
                            found = true;
                    });
                    return !found;
                });
            };
            /**
             * update available collection
             */
            vm.syncAvailableCollection = function () {
                var activeTables = $izendaInstantReportStorageService.getActiveTables();
                vm.allActiveFields = [];
                angular.element.each(activeTables, function () {
                    var table = this;
                    angular.element.each(table.fields, function () {
                        vm.allActiveFields.push(this);
                    });
                });
                vm.removeDrilldownFieldsFromAvailable();
            };
            /**
             * Add drilldown key
             */
            vm.addDrilldown = function () {
                if (vm.selectedDrilldownField === null)
                    return;
                if (vm.drillDownFields.length >= vm.ddkValuesMaxAmount)
                    return;
                vm.drillDownFields.push(vm.selectedDrilldownField);
                vm.syncAvailableCollection();
            };
            /**
             * Remove drilldown field
             */
            vm.removeDrilldownField = function (field) {
                var index = vm.drillDownFields.indexOf(field);
                vm.drillDownFields.splice(index, 1);
                vm.syncAvailableCollection();
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                /**
                 * Look for options change
                 */
                $scope.$watch('$izendaInstantReportStorageService.getOptions()', function (options) {
                    vm.options = options;
                });
                $scope.$watch('$izendaInstantReportStorageService.getVgStyles()', function (styles) {
                    vm.vgStyles = styles;
                });
                $scope.$watch('$izendaInstantReportStorageService.getDrillDownFields()', function (ddFields) {
                    vm.drillDownFields = ddFields;
                    vm.syncAvailableCollection();
                });
                $scope.$watchCollection('$izendaInstantReportStorageService.getActiveTables()', function () {
                    vm.syncAvailableCollection();
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-pivot-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_33) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    module_definition_33.default.controller('InstantReportPivotsController', [
        '$rootScope',
        '$scope',
        '$izendaLocaleService',
        '$izendaCompatibilityService',
        '$izendaInstantReportStorageService',
        '$izendaInstantReportPivotService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $izendaLocaleService, $izendaCompatibilityService, $izendaInstantReportStorageService, $izendaInstantReportPivotService, $izendaInstantReportValidationService) {
            var vm = this;
            $scope.$izendaInstantReportPivotService = $izendaInstantReportPivotService;
            $scope.$izendaInstantReportStorageService = $izendaInstantReportStorageService;
            vm.panelOpened = false; // pivot panel state
            vm.activeFields = $izendaInstantReportStorageService.getAllFieldsInActiveTables(true);
            vm.pivotColumn = $izendaInstantReportPivotService.getPivotColumn();
            vm.pivotOptions = $izendaInstantReportPivotService.getPivotOptions();
            vm.cellValues = $izendaInstantReportPivotService.getCellValues();
            vm.selectedFields = [];
            var updateSelectedFieldsArray = function () {
                vm.selectedFields = [];
                vm.cellValues.forEach(function (cellValue) {
                    if (cellValue)
                        vm.selectedFields.push($izendaInstantReportStorageService.getFieldBySysName(cellValue.sysname));
                });
            };
            updateSelectedFieldsArray();
            ////////////////////////////
            // pivot column
            ////////////////////////////
            /**
             * Get additional class for "add cell value" button.
             * @returns {string} class names 'class1 class2 ...'.
             */
            vm.getAddCellBtnClass = function () {
                if (!vm.pivotColumn)
                    return 'disabled';
                var result = false;
                angular.element.each(vm.cellValues, function (iValue, value) {
                    if (!value)
                        result = true;
                });
                return result ? 'disabled' : '';
            };
            /**
             * Update validation
             */
            vm.updateValidation = function () {
                $izendaInstantReportValidationService.validateReportSet();
            };
            /**
             * Update validation state and refresh if needed.
             */
            vm.updateReportSetValidationAndRefresh = function () {
                $izendaInstantReportPivotService.setDefaultGroup();
                $izendaInstantReportStorageService.clearReportPreviewHtml();
                $izendaInstantReportStorageService.applyAutoGroups(true);
                $izendaInstantReportValidationService.validateReportSetAndRefresh();
            };
            /**
             * User selected pivot column
             */
            vm.onPivotColumnFieldSelect = function () {
                if (vm.pivotColumn !== null) {
                    var sourceField = $izendaInstantReportStorageService.getFieldBySysName(vm.pivotColumn.sysname);
                    var groupName = null;
                    var oldPivotColumn = $izendaInstantReportPivotService.getPivotColumn();
                    if (angular.isObject(oldPivotColumn) && sourceField.sysname === oldPivotColumn.sysname) {
                        groupName = oldPivotColumn.groupByFunction.value;
                    }
                    $izendaInstantReportStorageService.copyFieldObject(sourceField, vm.pivotColumn, true);
                    $izendaInstantReportStorageService.resetFieldObject(vm.pivotColumn);
                    vm.pivotColumn.isPivotColumn = true;
                    $izendaInstantReportPivotService.setPivotColumn(vm.pivotColumn);
                    $izendaInstantReportStorageService.initializeField(vm.pivotColumn).then(function () {
                        if (groupName !== null) {
                            angular.element.each(vm.pivotColumn.groupByFunctionOptions, function () {
                                if (this.value === groupName)
                                    vm.pivotColumn.groupByFunction = this;
                            });
                        }
                        if (vm.cellValues.length === 0) {
                            vm.addCellValue();
                        }
                        vm.updateReportSetValidationAndRefresh();
                        $scope.$applyAsync();
                    });
                }
            };
            ////////////////////////////
            // cell values
            ////////////////////////////
            /**
             * Cell value field select handler
             */
            vm.onCellValueFieldSelect = function (index) {
                var selectedField = vm.selectedFields[index];
                var cellValue = vm.cellValues[index];
                if (angular.isObject(cellValue) && selectedField.sysname === cellValue.sysname)
                    return;
                if (cellValue === null) {
                    // if field wasn't set yet
                    vm.cellValues[index] = cellValue = $izendaInstantReportStorageService.createFieldObject(selectedField.name, selectedField.parentId, selectedField.tableSysname, selectedField.tableName, selectedField.sysname, selectedField.typeGroup, selectedField.type, selectedField.sqlType);
                }
                $izendaInstantReportStorageService.copyFieldObject(selectedField, cellValue, true);
                $izendaInstantReportStorageService.resetFieldObject(cellValue);
                $izendaInstantReportStorageService.initializeField(cellValue).then(function (f) {
                    angular.element.each(f.groupByFunctionOptions, function () {
                        if (this.value.toLowerCase() === 'group')
                            f.groupByFunction = this;
                    });
                    vm.updateReportSetValidationAndRefresh();
                    $scope.$applyAsync();
                });
            };
            /**
             * Cell value function select handler
             */
            vm.onCellValueFunctionSelect = function (cellValue) {
                if (cellValue.groupByFunction === null)
                    return;
                $izendaInstantReportStorageService.onFieldFunctionApplied(cellValue);
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Cell value
             */
            vm.showAdvancedOptions = function (cellValue) {
                cellValue.isPivotCellValue = true;
                $izendaInstantReportStorageService.applyFieldSelected(cellValue, true);
            };
            /**
             * Create cell value item
             */
            vm.addCellValue = function () {
                $izendaInstantReportPivotService.addCellValue();
                vm.selectedFields.push(null);
                vm.updateValidation();
            };
            vm.clearPivots = function () {
                $izendaInstantReportPivotService.removePivots();
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Remove cell value
             */
            vm.removeCellValue = function (cellValue) {
                var idx = vm.cellValues.indexOf(cellValue);
                vm.selectedFields.splice(idx, 1);
                $izendaInstantReportPivotService.removeCellValue(cellValue);
                vm.updateReportSetValidationAndRefresh();
            };
            /**
             * Move cell value
             */
            vm.moveCellValueTo = function (fromIndex, toIndex) {
                $izendaInstantReportPivotService.moveCellValueTo(fromIndex, toIndex);
                vm.selectedFields.splice(toIndex, 0, vm.selectedFields.splice(fromIndex, 1)[0]);
                $scope.$applyAsync();
            };
            /**
             * Reorder cells
             */
            vm.reorderCellValue = function (fromIndex, toIndex) {
                $izendaInstantReportPivotService.swapCellValues(fromIndex, toIndex);
                var temp = vm.selectedFields[fromIndex];
                vm.selectedFields[fromIndex] = vm.selectedFields[toIndex];
                vm.selectedFields[toIndex] = temp;
                $scope.$applyAsync();
            };
            /**
             * Add pivot item
             */
            vm.addPivotItem = function (fieldSysName) {
                if (!angular.isString(fieldSysName))
                    return;
                if ($izendaInstantReportStorageService.getActiveTables().length === 0)
                    return;
                // open panel
                $izendaInstantReportStorageService.setFiltersPanelOpened(false);
                $izendaInstantReportPivotService.setPivotsPanelOpened(true);
                // create and add pivot item
                var field = $izendaInstantReportStorageService.getFieldBySysName(fieldSysName);
                var newItem = $izendaInstantReportStorageService.createFieldObject(field.name, field.parentId, field.tableSysname, field.tableName, field.sysname, field.typeGroup, field.type, field.sqlType);
                $izendaInstantReportStorageService.initializeField(newItem).then(function (f) {
                    $scope.$applyAsync();
                });
                $izendaInstantReportPivotService.addPivotItem(newItem);
                $izendaInstantReportStorageService.applyAutoGroups(true);
            };
            /**
            * Initialize controller
            */
            vm.init = function () {
                // pivot panel state listener
                $scope.$watch('$izendaInstantReportPivotService.getPivotsPanelOpened()', function (opened) {
                    vm.panelOpened = opened;
                });
                // main pivot column
                $scope.$watch('$izendaInstantReportPivotService.getPivotColumn()', function (pivotColumn) {
                    vm.pivotColumn = pivotColumn;
                });
                // pivot cell values
                $scope.$watchCollection('$izendaInstantReportPivotService.getCellValues()', function (cellValues) {
                    vm.cellValues = cellValues;
                    updateSelectedFieldsArray();
                });
                $scope.$watch('$izendaInstantReportPivotService.getPivotOptions()', function (pivotOptions) {
                    vm.pivotOptions = pivotOptions;
                });
                // listen for active field items
                $scope.$watchCollection('$izendaInstantReportStorageService.getAllFieldsInActiveTables(true)', function (newActiveFields) {
                    // add:
                    var countOfChanges = 0;
                    angular.element.each(newActiveFields, function () {
                        var newActiveField = this;
                        var found = false;
                        angular.element.each(vm.activeFields, function () {
                            if (this.sysname === newActiveField.sysname)
                                found = true;
                        });
                        if (!found) {
                            vm.activeFields.push(newActiveField);
                            countOfChanges++;
                        }
                    });
                    // remove:
                    var i = 0;
                    while (i < vm.activeFields.length) {
                        var field = vm.activeFields[i];
                        var found = false;
                        for (var j = 0; j < newActiveFields.length; j++) {
                            if (newActiveFields[j].sysname === field.sysname)
                                found = true;
                        }
                        if (!found) {
                            vm.activeFields.splice(i, 1);
                            countOfChanges++;
                        }
                        else
                            i++;
                    }
                    $izendaInstantReportPivotService.syncPivotState(vm.activeFields);
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/controllers/instant-report-validation-controller", ["require", "exports", "angular", "instant-report/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_34) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Instant report validation controller.
     */
    module_definition_34.default.controller('InstantReportValidationController', [
        '$rootScope',
        '$scope',
        '$izendaLocaleService',
        '$izendaInstantReportValidationService',
        function ($rootScope, $scope, $izendaLocaleService, $izendaInstantReportValidationService) {
            'use strict';
            var vm = this;
            $scope.$izendaInstantReportValidationService = $izendaInstantReportValidationService;
            vm.isValid = true;
            vm.messages = [];
            vm.infoMessages = [];
            /**
            * Initialize controller
            */
            vm.init = function () {
                $scope.$watch('$izendaInstantReportValidationService.getValidationMessages()', function (messages) {
                    vm.isValid = $izendaInstantReportValidationService.isReportValid();
                    vm.messages = [];
                    vm.infoMessages = [];
                    angular.element.each(messages, function () {
                        var message = this;
                        if (message.type === 'info') {
                            vm.infoMessages.push(message);
                        }
                        else {
                            vm.messages.push(message);
                        }
                    });
                });
            };
        }
    ]);
});
izendaRequire.define("instant-report/module", ["require", "exports", "instant-report/module-definition", "instant-report/services/instant-report-query", "instant-report/services/instant-report-pivot", "instant-report/services/instant-report-settings", "instant-report/services/instant-report-visualization", "instant-report/services/instant-report-storage", "instant-report/services/instant-report-validation", "izenda-external-libs", "instant-report/directive/instant-report-field-draggable", "instant-report/directive/instant-report-left-panel-resize", "instant-report/controllers/instant-report-charts-controller", "instant-report/controllers/instant-report-columns-sort-controller", "instant-report/controllers/instant-report-controller", "instant-report/controllers/instant-report-data-source-controller", "instant-report/controllers/instant-report-field-options-controller", "instant-report/controllers/instant-report-filters-controller", "instant-report/controllers/instant-report-format-controller", "instant-report/controllers/instant-report-pivot-controller", "instant-report/controllers/instant-report-validation-controller"], function (require, exports, module_definition_35, instant_report_query_1, instant_report_pivot_1, instant_report_settings_1, instant_report_visualization_1, instant_report_storage_1, instant_report_validation_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    instant_report_query_1.default.register(module_definition_35.default);
    instant_report_pivot_1.default.register(module_definition_35.default);
    instant_report_settings_1.default.register(module_definition_35.default);
    instant_report_visualization_1.default.register(module_definition_35.default);
    instant_report_storage_1.default.register(module_definition_35.default);
    instant_report_validation_1.default.register(module_definition_35.default);
});
izendaRequire.define("common/core/models/filters-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Server-side filters object raw model.
     */
    var IzendaFiltersModel = /** @class */ (function () {
        function IzendaFiltersModel() {
            this.filterLogic = '';
            this.filters = [];
            this.subreportsFilters = null;
        }
        IzendaFiltersModel.prototype.fromJson = function (json) {
            this.filterLogic = json.FilterLogic || '';
            this.filters = json.Filters || [];
            this.subreportsFilters = json.SubreportsFilters || null;
        };
        IzendaFiltersModel.prototype.toJson = function () {
            return {
                FilterLogic: this.filterLogic,
                Filters: this.filters,
                SubreportFilters: this.subreportsFilters
            };
        };
        return IzendaFiltersModel;
    }());
    exports.IzendaFiltersModel = IzendaFiltersModel;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvbXNpZS1kZXRlY3QudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC1tb2RhbC50cyIsImNvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eS50cyIsImNvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL2RpYWxvZy1ib3gvZGlhbG9nLWJveC1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50LnRzIiwiY29tbW9uL2NvcmUvbW9kdWxlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS50cyIsImNvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbC50cyIsImNvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsLnRzIiwiY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZS50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3JlcG9ydC12aWV3ZXIudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcy50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbi50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3N3aXRjaGVyLnRzIiwiY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbi50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NlbGVjdC1yZXBvcnQvc2VsZWN0LXJlcG9ydC1jb21wb25lbnQudHMiLCJjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9tb2R1bGUudHMiLCJpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImluc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXF1ZXJ5LnRzIiwiaW5zdGFudC1yZXBvcnQvbW9kZWxzL2luc3RhbnQtcmVwb3J0LXBpdm90LWNvbmZpZy50cyIsImluc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXBpdm90LnRzIiwiaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtc2V0dGluZ3MudHMiLCJpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC12aXN1YWxpemF0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWxpbnEudHMiLCJpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zdG9yYWdlLnRzIiwiaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtdmFsaWRhdGlvbi50cyIsImluc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1maWVsZC1kcmFnZ2FibGUudHMiLCJpbnN0YW50LXJlcG9ydC9kaXJlY3RpdmUvaW5zdGFudC1yZXBvcnQtbGVmdC1wYW5lbC1yZXNpemUudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1jaGFydHMtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWNvbHVtbnMtc29ydC1jb250cm9sbGVyLnRzIiwiaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWRhdGEtc291cmNlLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWVsZC1vcHRpb25zLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWx0ZXJzLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1mb3JtYXQtY29udHJvbGxlci50cyIsImluc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LXBpdm90LWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uLWNvbnRyb2xsZXIudHMiLCJpbnN0YW50LXJlcG9ydC9tb2R1bGUudHMiLCJjb21tb24vY29yZS9tb2RlbHMvZmlsdGVycy1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwudHMiLCJpbnN0YW50LXJlcG9ydC9tb2RlbHMvaW5zdGFudC1yZXBvcnQtY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztJQUVBLDJDQUEyQztJQUMzQyxJQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLGtCQUFlLGdCQUFnQixDQUFDOzs7OztJQ0poQztRQUFBO1FBMEJBLENBQUM7UUF6Qk8sOEJBQW1CLEdBQTFCLFVBQTJCLE9BQWUsRUFBRSxVQUFrQjtZQUM3RCxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQztZQUM3QixJQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3RDLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7WUFDekMsSUFBSSxPQUFPLEVBQUU7Z0JBQ1osaUJBQWlCLElBQUksTUFBSSxPQUFTLENBQUM7Z0JBQ25DLElBQUksVUFBVSxFQUFFO29CQUNmLGlCQUFpQixHQUFNLFVBQVUsU0FB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QUksQ0FBQyxXQUFXO2dCQUM3QixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87Z0JBQ3JCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxpQkFBaUI7YUFDeEMsQ0FBQztRQUNILENBQUM7UUFDRix5QkFBQztJQUFELENBbkJBLEFBbUJDLElBQUE7SUFuQlksZ0RBQWtCIiwiZmlsZSI6Im1vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcblxyXG4vLyBjcmVhdGUgaXplbmRhLmNvbW1vbi5jb3JlIGFuZ3VsYXIgbW9kdWxlXHJcbmNvbnN0IGl6ZW5kYUNvcmVNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaXplbmRhLmNvbW1vbi5jb3JlJywgWydyeCddKTtcclxuZXhwb3J0IGRlZmF1bHQgaXplbmRhQ29yZU1vZHVsZTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXNpZURldGVjdCB7XHJcblx0c3RhdGljIGlzU3BlY2lmaWNJZVZlcnNpb24odmVyc2lvbjogbnVtYmVyLCBjb21wYXJpc29uOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdGxldCBpZUNvbXBhcmVPcGVyYXRvciA9ICdJRSc7XHJcblx0XHRjb25zdCBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnQicpO1xyXG5cdFx0Y29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRcdGlmICh2ZXJzaW9uKSB7XHJcblx0XHRcdGllQ29tcGFyZU9wZXJhdG9yICs9IGAgJHt2ZXJzaW9ufWA7XHJcblx0XHRcdGlmIChjb21wYXJpc29uKSB7XHJcblx0XHRcdFx0aWVDb21wYXJlT3BlcmF0b3IgPSBgJHtjb21wYXJpc29ufSAke2llQ29tcGFyZU9wZXJhdG9yfWA7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGIuaW5uZXJIVE1MID0gYDwhLS1baWYgJHtpZUNvbXBhcmVPcGVyYXRvcn1dPjxiIGlkPVwiaWVjY3Rlc3RcIj48L2I+PCFbZW5kaWZdLS0+YDtcclxuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoYik7XHJcblx0XHRjb25zdCBpc0llUmVzdWx0ID0gISFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWVjY3Rlc3QnKTtcclxuXHRcdGRvY0VsZW0ucmVtb3ZlQ2hpbGQoYik7XHJcblx0XHRjb25zdCBkb2NNb2RlID0gZG9jdW1lbnRbJ2RvY3VtZW50TW9kZSddO1xyXG5cdFx0Y29uc3QgaXNDb21wYXRpYmlsaXR5TW9kZSA9XHJcblx0XHRcdCh0eXBlb2YgZG9jTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuXHRcdFx0XHQoXHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2x0ZScgJiYgTnVtYmVyKGRvY01vZGUpIDw9IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2d0ZScgJiYgTnVtYmVyKGRvY01vZGUpID49IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2x0JyAmJiBOdW1iZXIoZG9jTW9kZSkgPCB2ZXJzaW9uKSB8fFxyXG5cdFx0XHRcdFx0KGNvbXBhcmlzb24gPT09ICdndCcgJiYgTnVtYmVyKGRvY01vZGUpID4gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnZXEnICYmIE51bWJlcihkb2NNb2RlKSA9PT0gdmVyc2lvbikpKTtcclxuXHRcdHJldHVybiBpc0llUmVzdWx0IHx8IGlzQ29tcGF0aWJpbGl0eU1vZGU7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgTXNpZURldGVjdCBmcm9tICdjb21tb24vY29yZS90b29scy9tc2llLWRldGVjdCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSB7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodE5vbmUgPSAnTm9uZSc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodFJlYWRPbmx5ID0gJ1JlYWQgT25seSc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodFZpZXdPbmx5ID0gJ1ZpZXcgT25seSc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodExvY2tlZCA9ICdMb2NrZWQnO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgcmlnaHRGdWxsQWNjZXNzID0gJ0Z1bGwgQWNjZXNzJztcclxuXHRwcml2YXRlIGN1cnJlbnRSaWdodHM6IHN0cmluZyA9IHRoaXMucmlnaHROb25lO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgaWU4OiBib29sZWFuO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgbHRlSWUxMDogYm9vbGVhbjtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGd0ZUllOTogYm9vbGVhbjtcclxuXHRwcml2YXRlIHVzZXNIaWRkZW5Db2x1bW5zOiBib29sZWFuO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHdpbmRvdyddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0dGhpcy5pZTggPSBNc2llRGV0ZWN0LmlzU3BlY2lmaWNJZVZlcnNpb24oOCwgJ2x0ZScpO1xyXG5cdFx0dGhpcy5sdGVJZTEwID0gTXNpZURldGVjdC5pc1NwZWNpZmljSWVWZXJzaW9uKDEwLCAnbHRlJyk7XHJcblx0XHR0aGlzLmd0ZUllOSA9IE1zaWVEZXRlY3QuaXNTcGVjaWZpY0llVmVyc2lvbig5LCAnZ3RlJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzSWU4KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaWU4O1xyXG5cdH1cclxuXHJcblx0aXNJZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmd0ZUllOTtcclxuXHR9XHJcblxyXG5cdGlzTHRlSWUxMCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmx0ZUllMTA7XHJcblx0fVxyXG5cclxuXHRpc0h0bWw1RnVsbFNjcmVlblN1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAhdGhpcy5sdGVJZTEwXHJcblx0XHRcdCYmIChkb2N1bWVudFsnZnVsbHNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnd2Via2l0RnVsbHNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnbW96RnVsbFNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnbXNGdWxsc2NyZWVuRW5hYmxlZCddKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHBhZ2Ugc2hvdWxkIGhhdmUgbW9iaWxlIHZpZXcuXHJcblx0ICovXHJcblx0aXNNb2JpbGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgcGFnZSB3aW5kb3cgaXMgdG9vIHNtYWxsIHRvIGZpdCBzZXZlcmFsIGNvbHVtbnMgb2YgdGlsZXMuXHJcblx0ICovXHJcblx0aXNTbWFsbFJlc29sdXRpb24oKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kd2luZG93LmlubmVyV2lkdGggPD0gOTkxO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgb25lIGNvbHVtbiB2aWV3IHJlcXVpcmVkXHJcblx0ICovXHJcblx0aXNPbmVDb2x1bW5WaWV3KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNNb2JpbGUoKSB8fCB0aGlzLmlzU21hbGxSZXNvbHV0aW9uKCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCByZXBvcnQgd2l0aCBoaWRkZW4gY29sdW1ucyBpcyBjdXJyZW5seSBsb2FkZWQuXHJcblx0ICovXHJcblx0c2V0VXNlc0hpZGRlbkNvbHVtbnModmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMudXNlc0hpZGRlbkNvbHVtbnMgPSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBmbGF0IHRoYXQgaW5kaWNhdGVzIHRoYXQgcmVwb3J0IHdpdGggaGlkZGVuIGNvbHVtbnMgaXMgY3VycmVubHkgbG9hZGVkLlxyXG5cdCAqL1xyXG5cdGlzVXNlc0hpZGRlbkNvbHVtbnMoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VzSGlkZGVuQ29sdW1ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCByaWdodHMgZm9yIGN1cnJlbnQgZGFzaGJvYXJkXHJcblx0ICovXHJcblx0c2V0UmlnaHRzKHJpZ2h0czogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmN1cnJlbnRSaWdodHMgPSByaWdodHMgPyByaWdodHMgOiB0aGlzLnJpZ2h0Tm9uZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IHJpZ2h0c1xyXG5cdCAqL1xyXG5cdGdldFJpZ2h0cygpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFJpZ2h0cyA/IHRoaXMuY3VycmVudFJpZ2h0cyA6IHRoaXMucmlnaHROb25lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZ1bGwgYWNjZXNzIHJpZ2h0IGFzIGN1cnJlbnQgcmlnaHQuXHJcblx0ICovXHJcblx0c2V0RnVsbEFjY2VzcygpIHtcclxuXHRcdHRoaXMuc2V0UmlnaHRzKHRoaXMucmlnaHRGdWxsQWNjZXNzKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHRpbGUgZWRpdGluZyBhbGxvd2VkLlxyXG5cdCAqL1xyXG5cdGlzRnVsbEFjY2VzcygpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzXS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc0llOCgpO1xyXG5cdFx0cmV0dXJuIGFsbG93ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyB0aWxlIGVkaXRpbmcgYWxsb3dlZC5cclxuXHQgKi9cclxuXHRpc0VkaXRBbGxvd2VkKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3MsIHRoaXMucmlnaHRSZWFkT25seV0uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNPbmVDb2x1bW5WaWV3KCk7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc0llOCgpO1xyXG5cdFx0cmV0dXJuIGFsbG93ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzYXZlIGFzIGFsbG93ZWRcclxuXHQgKi9cclxuXHRpc1NhdmVBc0FsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2VzcywgdGhpcy5yaWdodFJlYWRPbmx5XS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc0llOCgpO1xyXG5cdFx0cmV0dXJuIGFsbG93ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzYXZlIGFsbG93ZWQgd2l0aCBoaWRkZW4gY29sdW1uc1xyXG5cdCAqL1xyXG5cdGlzU2F2ZUFsbG93ZWRXaXRoSGlkZGVuKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3NdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzU2F2ZUFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc1NhdmVBbGxvd2VkV2l0aEhpZGRlbigpICYmICF0aGlzLnVzZXNIaWRkZW5Db2x1bW5zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgZmlsdGVycyBlZGl0aW5nIGFsbG93ZWRcclxuXHQgKi9cclxuXHRpc0ZpbHRlcnNFZGl0QWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzLCB0aGlzLnJpZ2h0UmVhZE9ubHksIHRoaXMucmlnaHRMb2NrZWRdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJywgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFFdmVudFNlcnZpY2Uge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZXZlbnRzOiBhbnkgPSB7fTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRyb290U2NvcGUnLCAnJGxvZyddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkbG9nOiBuZy5JTG9nU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBldmVudCB0byBxdWV1ZS4gXHJcblx0ICovXHJcblx0cXVldWVFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRBcmd1bWVudHM6IGFueVtdLCBjbGVhclF1ZXVlOiBib29sZWFuKSB7XHJcblx0XHRpZiAoIShldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHx8IGNsZWFyUXVldWUpIHtcclxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZXZlbnRSZWNvcmQgPSB7XHJcblx0XHRcdGFyZ3M6IGV2ZW50QXJndW1lbnRzXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGV2ZW50UmVjb3JkKTtcclxuXHRcdHRoaXMuJGxvZy5kZWJ1ZyhgZXZlbnQgXCIke2V2ZW50TmFtZX1cIiBxdWV1ZWRgKTtcclxuXHRcdHRoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KGV2ZW50TmFtZSwgZXZlbnRBcmd1bWVudHMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0cmlldmUgZXZlbnQgcmVjb3JkIGZyb20gcXVldWUgYW5kIHJldHVybiBpdCdzIHJlY29yZC5cclxuXHQgKi9cclxuXHRoYW5kbGVRdWV1ZWRFdmVudChldmVudE5hbWU6IHN0cmluZywgc2NvcGU6IGFueSwgZXZlbnRDb250ZXh0OiBhbnksIGV2ZW50SGFuZGxlcjogYW55KSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihldmVudEhhbmRsZXIpKVxyXG5cdFx0XHR0aHJvdyAnZXZlbnRIYW5kbGVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uJztcclxuXHRcdGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykgfHwgIWFuZ3VsYXIuaXNBcnJheSh0aGlzLmV2ZW50c1tldmVudE5hbWVdKSlcclxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cclxuXHRcdHdoaWxlICh0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y29uc3QgZXZlbnRSZWNvcmQgPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnNoaWZ0KCk7XHJcblx0XHRcdHRoaXMuJGxvZy5kZWJ1ZyhgZXZlbnQgXCIke2V2ZW50TmFtZX1cIiBydW4gZnJvbSBxdWV1ZWApO1xyXG5cdFx0XHRldmVudEhhbmRsZXIuYXBwbHkoZXZlbnRDb250ZXh0LCBldmVudFJlY29yZC5hcmdzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBzdGFydCBoYW5kbGluZyBldmVudCB1c2luZyBhbmd1bGFyIGV2ZW50cy5cclxuXHRcdGlmIChzY29wZS4kJGxpc3RlbmVycykge1xyXG5cdFx0XHRjb25zdCBldmVudEFyciA9IHNjb3BlLiQkbGlzdGVuZXJzW2V2ZW50TmFtZV07XHJcblx0XHRcdGlmIChldmVudEFycikge1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRBcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChldmVudEFycltpXSA9PT0gZXZlbnRIYW5kbGVyKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50QXJyLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRzY29wZS4kb24oZXZlbnROYW1lLCAoZXZlbnQsIGFyZ3MpID0+IHtcclxuXHRcdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHJ1biBmcm9tICRvbmApO1xyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblx0XHRcdGV2ZW50SGFuZGxlci5hcHBseShldmVudENvbnRleHQsIGFyZ3MpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciBhbGwgcXVldWVkIGV2ZW50cyAoZm9yIG1hbnVhbCAkYnJvYWRjYXN0IGhhbmRsaW5nKVxyXG5cdCAqL1xyXG5cdGNsZWFyRXZlbnRRdWV1ZShldmVudE5hbWUpIHtcclxuXHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUV2ZW50U2VydmljZScsIEl6ZW5kYUV2ZW50U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFFdmVudFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG4vKipcclxuICogTG9jYWxpemF0aW9uIHNlcnZpY2UuIEdldHMgbG9jYWxpemVkIHN0cmluZ3MgZnJvbSB0aGUgXCJJekxvY2FsXCIgb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gW107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6TG9jYWwuTG9jYWxpemVQYWdlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgbG9jYWxpemVkIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleS4gTG9jYWxlIHN0cmluZyBrZXkgKGRlZmluZWQgaW4gcmVzb3VyY2VzLmFzcHgpXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRWYWx1ZS4gRGVmYXVsdCB2YWx1ZSwgd2hlbiBsb2NhbGUgdGV4dCBjb3VsZG4ndCBiZSBnb3RcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBsb2NhbGl6ZWQgdGV4dC5cclxuXHQgKi9cclxuXHRsb2NhbGVUZXh0KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBkZWZhdWx0VGV4dCA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6ICcnO1xyXG5cdFx0cmV0dXJuIEl6TG9jYWwuUmVzKGtleSwgZGVmYXVsdFRleHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQXBwbHkgbG9jYWxlIHN0cmluZyBpbiBmb3JtYXQgXCIuLi57MH0uLi57MX0uLi5cIiBhbmQgYXBwbHkgaW5zdGVhZCBvZiAne259JyBwYXJhbXNbbl1cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIHRleHQga2V5LiBUaGlzIGtleSBjb250YWlucyBpbiByZXNvdXJjZXMuXHJcblx0ICogQHBhcmFtIHtzdHJvbmd9IGRlZmF1bHRWYWx1ZS4gRGVmYXVsdCB2YWx1ZSBpZiBsb2NhbGUgcmVzb3VyY2Ugd2Fzbid0IGZvdW5kLlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcy4gQWRkaXRpb25hbCBwYXJhbXMuXHJcblx0ICogQHJldHVybnMge3N0cmluZ30uIExvY2FsaXplZCB0ZXh0LiBcclxuXHQgKi9cclxuXHRsb2NhbGVUZXh0V2l0aFBhcmFtcyhrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcsIHBhcmFtczogc3RyaW5nW10pOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlc3VsdCA9IHRoaXMubG9jYWxlVGV4dChrZXksIGRlZmF1bHRWYWx1ZSk7XHJcblx0XHRpZiAoYW5ndWxhci5pc0FycmF5KHBhcmFtcykpXHJcblx0XHRcdHBhcmFtcy5mb3JFYWNoKChwYXJhbSwgaVBhcmFtKSA9PlxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlQWxsKGB7JHtpUGFyYW19fWAsIHBhcmFtKSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhTG9jYWxlU2VydmljZScsIEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkpO1xyXG5cdFx0LyoqXHJcblx0XHQgKiBGaWx0ZXIgd2hpY2ggaXMgdXNlZCBmb3IgdGhlIGFwcGx5aW5nIGxvY2FsaXphdGlvbi5cclxuXHRcdCAqIFNhbXBsZSB1c2FnZTogPGRpdiBuZy1iaW5kPVwiOjogJ2pzX2Nsb3NlJyB8IGl6ZW5kYUxvY2FsZTogJ0Nsb3NlJ1wiIC8+IHdoZXJlICdDbG9zZScgLSBcImRlZmF1bHRWYWx1ZVwiIHBhcmFtZXRlciB2YWx1ZS5cclxuXHRcdCAqL1xyXG5cdFx0bW9kdWxlLmZpbHRlcignaXplbmRhTG9jYWxlJywgW1xyXG5cdFx0XHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdFx0XHQoJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gKHRleHQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpID0+ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQodGV4dCwgZGVmYXVsdFZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0XSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcblxyXG4vKipcclxuICogVXRpbGl0eSBzZXJ2aWNlLiBQcm92aWRlcyB0aGUgdXRpbGl0eSBmdW5jdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFVdGlsU2VydmljZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhTG9jYWxlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBodW1hbiByZWFkYWJsZSB2YXJpYWJsZSBuYW1lIHZlcnNpb25cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0XHJcblx0ICovXHJcblx0aHVtYW5pemVWYXJpYWJsZU5hbWUodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyh0ZXh0KSlcclxuXHRcdFx0cmV0dXJuIHRleHQ7XHJcblx0XHRjb25zdCByZXN1bHQgPSB0ZXh0XHJcblx0XHRcdC8vIGluc2VydCBhIHNwYWNlIGJldHdlZW4gbG93ZXIgJiB1cHBlclxyXG5cdFx0XHQucmVwbGFjZSgvKFthLXpdKShbQS1aXFxkXSkvZywgJyQxICQyJylcclxuXHRcdFx0Ly8gc3BhY2UgYmVmb3JlIGxhc3QgdXBwZXIgaW4gYSBzZXF1ZW5jZSBmb2xsb3dlZCBieSBsb3dlclxyXG5cdFx0XHQucmVwbGFjZSgvXFxiKFtBLVpcXGRdKykoW0EtWlxcZF0pKFthLXpdKS8sICckMSAkMiQzJylcclxuXHRcdFx0Ly8gdXBwZXJjYXNlIHRoZSBmaXJzdCBjaGFyYWN0ZXJcclxuXHRcdFx0LnJlcGxhY2UoL14uLywgdHh0ID0+IHR4dC50b1VwcGVyQ2FzZSgpKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcIlVuY2F0ZWdvcml6ZWRcIiBjYXRlZ29yeSBsb2NhbGl6ZWQgbmFtZSBnZXR0ZXIuXHJcblx0ICovXHJcblx0Z2V0IHVuY2F0ZWdvcml6ZWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFwiVW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IGxvY2FsaXplZCBuYW1lLlxyXG5cdCAqL1xyXG5cdGdldFVuY2F0ZWdvcml6ZWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnVuY2F0ZWdvcml6ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayB3aGV0aGVyIFwidW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IG9yIG5vdC5cclxuXHQgKi9cclxuXHRpc1VuY2F0ZWdvcml6ZWQoY2F0ZWdvcnk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFjYXRlZ29yeSB8fCAhYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0cmV0dXJuIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IHRoaXMudW5jYXRlZ29yaXplZC50b0xvd2VyQ2FzZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgd2hldGhlciBjYXRlZ29yaWVzIGVxdWFsIG9yIG5vdC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY2F0MSBDYXRlZ29yeSBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXQyIENhdGVnb3J5IG5hbWUuXHJcblx0ICovXHJcblx0aXNDYXRlZ29yaWVzRXF1YWwoY2F0MTogc3RyaW5nLCBjYXQyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAodGhpcy5pc1VuY2F0ZWdvcml6ZWQoY2F0MSkgJiYgdGhpcy5pc1VuY2F0ZWdvcml6ZWQoY2F0MikpIHx8IGNhdDEgPT09IGNhdDI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSByZXBvcnQgZnVsbCBuYW1lXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydE5hbWUgcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvciBkaXJlY3RvcmllcyBzZXBhcmF0b3Igc3ltYm9sLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSByZXBvcnQgY2F0ZWdvcnkgKG9wdGlvbmFsKS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IGdlbmVyYXRlZCByZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqL1xyXG5cdGNyZWF0ZVJlcG9ydEZ1bGxOYW1lKHJlcG9ydE5hbWU6IHN0cmluZywgc2VwYXJhdG9yOiBzdHJpbmcsIGNhdGVnb3J5Pzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghcmVwb3J0TmFtZSB8fCByZXBvcnROYW1lLnRyaW0oKSA9PT0gJycpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignRW1wdHkgXCJyZXBvcnROYW1lXCIgcGFyYW1ldGVyIGlzblxcJ3QgYWxsb3dlZC4nKTtcclxuXHRcdHJldHVybiB0aGlzLmlzVW5jYXRlZ29yaXplZChjYXRlZ29yeSlcclxuXHRcdFx0PyByZXBvcnROYW1lXHJcblx0XHRcdDogY2F0ZWdvcnkgKyBzZXBhcmF0b3IgKyByZXBvcnROYW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCBvcHRpb25zIHdoaWNoIGhhdmUgZ290IGZyb20gc2VydmVyIHVzaW5nIFwiR2V0T3B0aW9uc0J5UGF0aFwiIHF1ZXJ5IGludG8gXHJcblx0ICogb25lIGRpbWVudGlvbmFsIGFycmF5LCB3aGljaCBhbGxvdyB0byB1c2UgaXQgYXMgPG9wdGlvbj5cclxuXHQgKi9cclxuXHRjb252ZXJ0T3B0aW9uc0J5UGF0aChvcHRpb25Hcm91cHM6IGFueVtdKTogYW55W10ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkob3B0aW9uR3JvdXBzKSlcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cclxuXHRcdGNvbnN0IGdyb3VwcyA9IFtdO1xyXG5cdFx0b3B0aW9uR3JvdXBzLmZvckVhY2goZ3JvdXAgPT4ge1xyXG5cdFx0XHRncm91cC5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcclxuXHRcdFx0XHRvcHRpb24uZ3JvdXAgPSBhbmd1bGFyLmlzU3RyaW5nKGdyb3VwLm5hbWUpICYmIGdyb3VwLm5hbWUgIT09ICcnXHJcblx0XHRcdFx0XHQ/IGdyb3VwLm5hbWVcclxuXHRcdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0XHRcdGdyb3Vwcy5wdXNoKG9wdGlvbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZ3JvdXBzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IG9wdGlvbiBieSB2YWx1ZSBmcm9tIGFycmF5IG9mIG9iamVjdHMgd2l0aCBcInZhbHVlXCIgcHJvcGVydHkgKGNhc2UgaW5zZW5zaXRpdmUpOiBcclxuXHQgKiBbe3ZhbHVlOid0ZXh0MScsLi4ufSwge3ZhbHVlOid0ZXh0MicsIC4uLn0sIC4uLl1cclxuXHQgKi9cclxuXHRnZXRPcHRpb25CeVZhbHVlKG9wdGlvbnM6IGFueVtdLCB2YWx1ZTogc3RyaW5nLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24/OiBib29sZWFuKSB7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25zKSB8fCAhb3B0aW9ucy5sZW5ndGgpXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0d2hpbGUgKGkgPCBvcHRpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCBvcHRpb246IGFueSA9IG9wdGlvbnNbaV07XHJcblx0XHRcdGlmICghaXNMb3dlckNhc2VDb21wYXJpc29uICYmIG9wdGlvbi52YWx1ZSA9PT0gdmFsdWUpXHJcblx0XHRcdFx0cmV0dXJuIG9wdGlvbjtcclxuXHRcdFx0aWYgKGlzTG93ZXJDYXNlQ29tcGFyaXNvbiAmJiBvcHRpb24udmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9uO1xyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgSXplbmRhVXRpbFNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXRpbFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVV0aWxVaVNlcnZpY2Uge1xyXG5cdHByaXZhdGUgbm90aWZpY2F0aW9uSGlkZURlbGF5ID0gNTAwMDtcclxuXHRwcml2YXRlIG5vdGlmaWNhdGlvbnNJZENvdW50ZXIgPSAxO1xyXG5cdG5vdGlmaWNhdGlvbnM6IGFueVtdID0gW107XHJcblxyXG5cdG1lc3NhZ2U6IGFueSA9IG51bGw7XHJcblx0ZGlhbG9nQm94OiBhbnkgPSBudWxsO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW1tZWRpYXRlbHkgY2xvc2Ugbm90aWZpY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBub3RpZmljYXRpb25JZCBub3RpZmljYXRpb24gaWRcclxuXHQgKi9cclxuXHRjbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZDogbnVtYmVyKSB7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZSAoaSA8IHRoaXMubm90aWZpY2F0aW9ucy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKHRoaXMubm90aWZpY2F0aW9uc1tpXS5pZCA9PT0gbm90aWZpY2F0aW9uSWQpIHtcclxuXHRcdFx0XHR0aGlzLmNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uSWQpO1xyXG5cdFx0XHRcdHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbmNlbCBub3RpZmljYXRpb24gYXV0b2hpZGUuXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vdGlmaWNhdGlvbklkIG5vdGlmaWNhdGlvbiBpZFxyXG5cdCAqL1xyXG5cdGNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uSWQ6IG51bWJlcikge1xyXG5cdFx0Y29uc3QgaXRtID0gdGhpcy5nZXROb3RpZmljYXRpb25CeUlkKG5vdGlmaWNhdGlvbklkKTtcclxuXHRcdGlmIChpdG0udGltZW91dElkKSB7XHJcblx0XHRcdHRoaXMuJHRpbWVvdXQuY2FuY2VsKGl0bS50aW1lb3V0SWQpO1xyXG5cdFx0XHRpdG0udGltZW91dElkID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqICBTaG93cyBwb3AgdXAgbm90aWZpY2F0aW9uIHBhbmVsLiBJZiBubyA8aXplbmRhLW5vdGlmaWNhdGlvbi1jb21wb25lbnQ+IGRlZmluZWQgb3Igbm8gY29tcG9uZW50cyB3aXRoIGNvbXBvbmVudElkIHdpbGwgYmUgZm91bmRcclxuXHQgKiB0aGVuIG5vdGhpbmcgd2lsbCBoYXBwZW4uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWVzc2FnZSB0ZXh0LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBUaXRsZSB0ZXh0IChvcHRpb25hbCkuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGljb24gSWNvbiAob3B0aW9uYWwpLiBQb3NzaWJsZSB2YWx1ZXMgJ2Vycm9yJyBvciBubyB2YWx1ZS5cclxuXHQgKi9cclxuXHRzaG93Tm90aWZpY2F0aW9uKHRleHQ6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIGljb24/OiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IG5leHRJZCA9IHRoaXMubm90aWZpY2F0aW9uc0lkQ291bnRlcisrO1xyXG5cdFx0Y29uc3QgaWNvbkNsYXNzID0gYW5ndWxhci5pc1N0cmluZyhpY29uKSAmJiBpY29uID09PSAnZXJyb3InID8gJ2dseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbicgOiAnJztcclxuXHRcdHZhciBvYmpUb1Nob3cgPSB7XHJcblx0XHRcdGlkOiBuZXh0SWQsXHJcblx0XHRcdHRpdGxlOiB0aXRsZSA/IHRpdGxlIDogJycsXHJcblx0XHRcdHRleHQ6IHRleHQsXHJcblx0XHRcdGljb25DbGFzczogaWNvbkNsYXNzLFxyXG5cdFx0XHR0aW1lb3V0SWQ6IG51bGxcclxuXHRcdH07XHJcblx0XHRvYmpUb1Nob3cudGltZW91dElkID0gdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2xvc2VOb3RpZmljYXRpb24ob2JqVG9TaG93LmlkKTtcclxuXHRcdH0sIHRoaXMubm90aWZpY2F0aW9uSGlkZURlbGF5KTtcclxuXHRcdHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG9ialRvU2hvdyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93cyBtZXNzYWdlIGRpYWxvZy4gSWYgbm8gPGl6ZW5kYS1tZXNzYWdlLWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYWxlcnRJbmZvIFR5cGUgb2YgZGlhbG9nIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlczogJ3N1Y2Nlc3MnLCAnaW5mbycsICd3YXJuaW5nJywgJ2RhbmdlcidcclxuXHQgKi9cclxuXHRzaG93TWVzc2FnZURpYWxvZyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nLCBhbGVydEluZm8/OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWVzc2FnZSA9IHtcclxuXHRcdFx0bWVzc2FnZTogbWVzc2FnZSxcclxuXHRcdFx0dGl0bGU6IGFuZ3VsYXIuaXNEZWZpbmVkKHRpdGxlKSA/IHRpdGxlIDogJycsXHJcblx0XHRcdGFsZXJ0SW5mbzogYW5ndWxhci5pc0RlZmluZWQoYWxlcnRJbmZvKSA/IGFsZXJ0SW5mbyA6ICdpbmZvJ1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIGVycm9yIGRpYWxvZy5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50SWQgSUQgb2YgY29tcG9uZW50LiBVc2VkIGZvciBkaXN0aW5ndWlzaCBkaWZmZXJlbnQgc2ltaWxhciBjb21wb25lbnRzLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIEVycm9yIHRleHRcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgRXJyb3IgdGl0bGUgKG9wdGlvbmFsKVxyXG5cdCAqL1xyXG5cdHNob3dFcnJvckRpYWxvZyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSB7XHJcblx0XHRjb25zdCB0aXRsZVRleHQgPSBhbmd1bGFyLmlzRGVmaW5lZCh0aXRsZSkgPyB0aXRsZSA6IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRXJyb3InLCAnRXJyb3InKTtcclxuXHRcdHRoaXMuc2hvd01lc3NhZ2VEaWFsb2cobWVzc2FnZSwgdGl0bGVUZXh0LCAnZGFuZ2VyJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtZXNzYWdlIGRpYWxvZy5cclxuXHQgKi9cclxuXHRjbG9zZU1lc3NhZ2VEaWFsb2coKSB7XHJcblx0XHR0aGlzLm1lc3NhZ2UgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvd3MgZGlhbG9nIGJveC4gSWYgbm8gPGl6ZW5kYS1kaWFsb2ctYm94LWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYWxlcnRJbmZvIFR5cGUgb2YgZGlhbG9nIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlczogJ3N1Y2Nlc3MnLCAnaW5mbycsICd3YXJuaW5nJywgJ2RhbmdlcidcclxuXHQgKiBAcGFyYW0ge0FycmF5fSBidXR0b25zIGRpYWxvZyBidXR0b25zIChvcHRpb25hbCkuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gY2hlY2tib3hlcyBjaGVja2JveGVzIGNvbGxlY3Rpb24gKG9wdGlvbmFsKS5cclxuXHQgKi9cclxuXHRzaG93RGlhbG9nQm94KG9wdGlvbnM6IGFueSkge1xyXG5cdFx0dGhpcy5kaWFsb2dCb3ggPSB7XHJcblx0XHRcdG1lc3NhZ2U6IG9wdGlvbnMubWVzc2FnZSxcclxuXHRcdFx0dGl0bGU6IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMudGl0bGUpID8gb3B0aW9ucy50aXRsZSA6ICcnLFxyXG5cdFx0XHRhbGVydEluZm86IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYWxlcnRJbmZvKSA/IG9wdGlvbnMuYWxlcnRJbmZvIDogJ2luZm8nLFxyXG5cdFx0XHRidXR0b25zOiBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmJ1dHRvbnMpID8gb3B0aW9ucy5idXR0b25zIDogW3sgdGV4dDogJ0Nsb3NlJyB9XSxcclxuXHRcdFx0Y2hlY2tib3hlczogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5jaGVja2JveGVzKSA/IG9wdGlvbnMuY2hlY2tib3hlcyA6IFtdXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgZGlhbG9nIGJveFxyXG5cdCAqL1xyXG5cdGNsb3NlRGlhbG9nQm94KCkge1xyXG5cdFx0dGhpcy5kaWFsb2dCb3ggPSBudWxsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXROb3RpZmljYXRpb25CeUlkKGlkKSB7XHJcblx0XHRjb25zdCBmb3VuZCA9IHRoaXMubm90aWZpY2F0aW9ucy5maW5kKG4gPT4ge1xyXG5cdFx0XHRyZXR1cm4gbi5pZCA9PT0gaWQ7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBmb3VuZCA/IGZvdW5kIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLFxyXG5cdFx0XHRJemVuZGFVdGlsVWlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVV0aWxVaVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBCb290c3RyYXAgbW9kYWwgZGlyZWN0aXZlLiBVc2FnZTpcclxuICogPGl6ZW5kYS1ib290c3RyYXAtbW9kYWwgb3BlbmVkPVwiLi4uXCI+Li4uPC9pemVuZGEtYm9vdHN0cmFwLW1vZGFsPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcblx0cmVzdHJpY3QgPSAnRSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRvcGVuZWQ6ICc9JyxcclxuXHRcdGtleWJvYXJkOiAnPScsXHJcblx0XHRiYWNrZHJvcDogJz0nLFxyXG5cdFx0bW9kYWxTaXplOiAnQCcsXHJcblx0XHRpc01vZGVybkJvb3RzdHJhcFZlcnNpb246ICdAJyxcclxuXHRcdG9uTW9kYWxPcGVuZWQ6ICcmJyxcclxuXHRcdG9uTW9kYWxDbG9zZWQ6ICcmJ1xyXG5cdH07XHJcblxyXG5cdHRlbXBsYXRlID0gYFxyXG48ZGl2IGNsYXNzPVwibW9kYWwgZmFkZVwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XHJcblx0PGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIG5nLWNsYXNzPVwiZ2V0TW9kYWxTaXplQ2xhc3MoKVwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuXHRcdFx0PGRpdiBuZy10cmFuc2NsdWRlPVwiXCI+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQ8L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcblx0bGluazogKCRkaXJlY3RpdmVTY29wZTogSUl6ZW5kYUJvb3RzdHJhcE1vZGFsU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlLnByb3RvdHlwZS5saW5rID0gKCRkaXJlY3RpdmVTY29wZTogSUl6ZW5kYUJvb3RzdHJhcE1vZGFsU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdCRkaXJlY3RpdmVTY29wZS5nZXRNb2RhbFNpemVDbGFzcyA9ICgpID0+ICRkaXJlY3RpdmVTY29wZS5tb2RhbFNpemUgPT09ICdsYXJnZScgPyAnbW9kYWwtbGcnIDogJyc7XHJcblxyXG5cdFx0XHR2YXIgJG1vZGFsID0gJGVsZW1lbnQuY2hpbGRyZW4oJy5tb2RhbCcpO1xyXG5cclxuXHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0JG1vZGFsLmNzcyh7XHJcblx0XHRcdFx0XHQnb3ZlcmZsb3cteCc6ICdoaWRkZW4nLFxyXG5cdFx0XHRcdFx0J292ZXJmbG93LXknOiAnc2Nyb2xsJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhZGRpdGlvbmFsIGJvb3RzdHJhcCBwYXJhbWV0ZXJzXHJcblx0XHRcdGlmICgkZGlyZWN0aXZlU2NvcGUua2V5Ym9hcmQgIT0gbnVsbClcclxuXHRcdFx0XHQkbW9kYWwuYXR0cignZGF0YS1rZXlib2FyZCcsICRkaXJlY3RpdmVTY29wZS5rZXlib2FyZCk7XHJcblx0XHRcdGlmICgkZGlyZWN0aXZlU2NvcGUuYmFja2Ryb3AgIT0gbnVsbClcclxuXHRcdFx0XHQkbW9kYWwuYXR0cignZGF0YS1iYWNrZHJvcCcsICRkaXJlY3RpdmVTY29wZS5iYWNrZHJvcCk7XHJcblxyXG5cdFx0XHQvLyBtb2RhbCBzaG93IGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdzaG93LmJzLm1vZGFsJywgKCkgPT4ge1xyXG5cdFx0XHRcdCRtb2RhbC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSgwLDAsMCwwLjgpJyk7XHJcblx0XHRcdFx0JG1vZGFsLmNzcygnZmlsdGVyJywgJ2FscGhhKG9wYWNpdHk9ODApJyk7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ21hcmdpbi1yaWdodCcsICcwJyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBtb2RhbCBzaG93biBoYW5kbGVyXHJcblx0XHRcdCRtb2RhbC5vbignc2hvd24uYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCdib2R5Jykuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxPcGVuZWQpKSB7XHJcblx0XHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUub25Nb2RhbE9wZW5lZCh7fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIGhpZGRlbiBoYW5kbGVyXHJcblx0XHRcdCRtb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghJGRpcmVjdGl2ZVNjb3BlLmlzTW9kZXJuQm9vdHN0cmFwVmVyc2lvbikge1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdpbmhlcml0Jyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ21hcmdpbi1yaWdodCcsICcwJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS5vcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRkaXJlY3RpdmVTY29wZS5vbk1vZGFsQ2xvc2VkKSkge1xyXG5cdFx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxDbG9zZWQoe30pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkZGlyZWN0aXZlU2NvcGUuJHdhdGNoKCdvcGVuZWQnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdC8vIGNyZWF0ZS9oaWRlIG1vZGFsIGRpYWxvZ1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpXHJcblx0XHRcdFx0XHQkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJylbJ21vZGFsJ10oKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHQkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJylbJ21vZGFsJ10oJ2hpZGUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBJemVuZGFCb290c3RyYXBNb2RhbERpcmVjdGl2ZSgkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcE1vZGFsU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRrZXlib2FyZDogc3RyaW5nO1xyXG5cdGJhY2tkcm9wOiBzdHJpbmc7XHJcblx0bW9kYWxTaXplOiBzdHJpbmc7XHJcblx0aXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uOiBib29sZWFuO1xyXG5cdG9uTW9kYWxPcGVuZWQ6IChhbnkpID0+IGFueTtcclxuXHRvbk1vZGFsQ2xvc2VkOiAoYW55KSA9PiBhbnk7XHJcblx0Z2V0TW9kYWxTaXplQ2xhc3M6ICgpID0+IHN0cmluZztcclxufVxyXG5cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcE1vZGFsJywgWyckdGltZW91dCcsIEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEFuZ3VsYXIgZmlsdGVyIHdoaWNoIHJlcGxhY2VzIHN0cmluZy5cclxuICogVXNhZ2U6XHJcbiAqIHt7ICdzb21lIHN0cmluZycgfCBpemVuZGFSZXBsYWNlU3RyaW5nOiBbeyBmcm9tOiAncycsIHRvOiAnJCcgfSwgeyBmcm9tOiAnbycsIHRvOiAnMCcgfSBdIH19XHJcbiAqIHRoaXMgc2FtcGxlIHdpbGwgcHJvZHVjZSBzdHJpbmcgJyQwbWUgJHRyaW5nJ1xyXG4gKi9cclxuaXplbmRhQ29yZU1vZHVsZS5maWx0ZXIoJ2l6ZW5kYVJlcGxhY2VTdHJpbmcnLCAoKSA9PlxyXG5cdCh0ZXh0OiBzdHJpbmcsIHJ1bGVzOiBBcnJheTx7IGZyb206IHN0cmluZywgdG86IHN0cmluZyB9PikgPT4ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkocnVsZXMpKVxyXG5cdFx0XHRyZXR1cm4gdGV4dDtcclxuXHRcdHZhciByZXN1bHRUZXh0ID0gdGV4dDtcclxuXHRcdGlmICghcmVzdWx0VGV4dClcclxuXHRcdFx0cmV0dXJuIHJlc3VsdFRleHQ7XHJcblxyXG5cdFx0cnVsZXMuZm9yRWFjaChydWxlID0+IHJlc3VsdFRleHQgPSByZXN1bHRUZXh0LnJlcGxhY2VBbGwocnVsZS5mcm9tLCBydWxlLnRvKSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0VGV4dDtcclxuXHR9KTtcclxuXHJcblxyXG4vKipcclxuICogQXR0cmlidXRlIGRpcmVjdGl2ZSBcIml6ZW5kYS1zY3JvbGwtYm90dG9tLWFjdGlvbj1cIlwiXCIgd2hpY2ggZmlyZXMgaGFuZGxlciBvbiBjb250YWluZXIgc2Nyb2xsIGVuZCAoLTEwMHB4KS5cclxuICogRXZlbnQ6IHNjcm9sbC1ib3R0b20tYWN0aW9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0bGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbi5wcm90b3R5cGUubGluayA9XHJcblx0XHRcdCgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCAkcGFyZW50ID0gJGVsZW1lbnQucGFyZW50KCk7XHJcblx0XHRcdFx0JHBhcmVudC5vbignc2Nyb2xsJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaGVpZ2h0ID0gJGVsZW1lbnQuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRpZiAoaGVpZ2h0ID09PSAwKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRpZiAoaGVpZ2h0IC0gJHBhcmVudC5oZWlnaHQoKSAtIDEwMCA8ICRwYXJlbnQuc2Nyb2xsVG9wKCkpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRldmFsKGF0dHJzLml6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbigpO1xyXG5cdH1cclxufVxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uJywgW0l6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbi5mYWN0b3J5KCldKTtcclxuXHJcbi8qKlxyXG4gKiBTZXQgZm9jdXMgb24gZWxlbWVudCBkaXJlY3RpdmUuXHJcbiAqIFVzYWdlOiBcclxuICogPHNvbWUtdGFnIGl6ZW5kYS1mb2N1cz1cInt7ZXhwcmVzc2lvbl93aGljaF9yZXR1cm5zX2Jvb2x9fVwiIC4uLj5cclxuICogICAuLi5cclxuICogPC9zb21lLXRhZz5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUZvY3VzIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0cmlnZ2VyOiAnQGl6ZW5kYUZvY3VzJ1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUZvY3VzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUZvY3VzLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUZvY3VzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3RyaWdnZXInLCB2YWx1ZSA9PiB7XHJcblx0XHRcdFx0aWYgKHZhbHVlKVxyXG5cdFx0XHRcdFx0dGhpcy4kdGltZW91dCgoKSA9PiAkZWxlbWVudFswXS5mb2N1cygpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBhbnkpID0+IG5ldyBJemVuZGFGb2N1cygkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbmludGVyZmFjZSBJSXplbmRhRm9jdXNTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dHJpZ2dlcjogYW55O1xyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFGb2N1cycsIFsnJHRpbWVvdXQnLCBJemVuZGFGb2N1cy5mYWN0b3J5KCldKTtcclxuXHJcbi8qKlxyXG4gKiBpemVuZGEtZml0LWFic29sdXRlLWVsZW1lbnQgZGlyZWN0aXZlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRml0QWJzb2x1dGVFbGVtZW50IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0bGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSkge1xyXG5cclxuXHRcdEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cdFx0XHRjb25zdCB3aW5kb3dSZXNpemVFdmVudE5hbWUgPSBgcmVzaXplLml6ZW5kYUZpdEFic29sdXRlRWxlbWVudC4ke01hdGgucmFuZG9tKCl9YDtcclxuXHRcdFx0Y29uc3QgZGVsdGFUb3BTdHJpbmcgPSBTdHJpbmcoYXR0cnNbJ2RlbHRhVG9wJ10pO1xyXG5cdFx0XHRjb25zdCBkZWx0YVRvcCA9IHBhcnNlSW50KGRlbHRhVG9wU3RyaW5nKSB8fCAwO1xyXG5cdFx0XHRjb25zdCAkcGFyZW50ID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50LnBhcmVudCgpKTtcclxuXHRcdFx0bGV0IHRvcENhY2hlID0gLTE7XHJcblxyXG5cdFx0XHRjb25zdCBzZXRUb3AgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGNoaWxkcyA9ICRwYXJlbnQuY2hpbGRyZW4oJ1tkYXRhLWl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudC1yZWxhdGl2ZT10b3BdJyk7XHJcblx0XHRcdFx0aWYgKCRjaGlsZHMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRsZXQgdG9wSGVpZ2h0ID0gMDtcclxuXHRcdFx0XHRsZXQgaXNTdWNjZXNzID0gdHJ1ZTtcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8ICRjaGlsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0ICRjaGlsZCA9IGFuZ3VsYXIuZWxlbWVudCgkY2hpbGRzW2ldKTtcclxuXHRcdFx0XHRcdGNvbnN0IHRvcFZhbHVlID0gU3RyaW5nKCRjaGlsZC5hdHRyKCdkYXRhLWl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudC1yZWxhdGl2ZScpKTtcclxuXHRcdFx0XHRcdGlmICh0b3BWYWx1ZSA9PT0gJ3RvcCcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2hpbGRIZWlnaHQgPSAkY2hpbGQuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRcdGlmIChjaGlsZEhlaWdodCA8PSAwKVxyXG5cdFx0XHRcdFx0XHRcdGlzU3VjY2VzcyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR0b3BIZWlnaHQgKz0gY2hpbGRIZWlnaHQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0b3BIZWlnaHQgPiAwICYmIHRvcENhY2hlIDwgMCB8fCB0b3BIZWlnaHQgKyBkZWx0YVRvcCAhPT0gdG9wQ2FjaGUpIHtcclxuXHRcdFx0XHRcdHRvcENhY2hlID0gdG9wSGVpZ2h0ICsgZGVsdGFUb3A7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5jc3MoJ3RvcCcsIHRvcEhlaWdodCArIGRlbHRhVG9wICsgJ3B4Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBpc1N1Y2Nlc3M7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBzZXRUb3BVbnRpbFN1Y2Nlc3MgPSAoKSA9PiB7XHJcblx0XHRcdFx0bGV0IGF0dGVtcHRDb3VudCA9IDA7XHJcblx0XHRcdFx0aWYgKHNldFRvcCgpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGxldCB0b29sYmFySW50ZXJ2YWxQcm9taXNlID0gdGhpcy4kaW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHNldFRvcCgpIHx8IGF0dGVtcHRDb3VudCA+IDUwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuJGludGVydmFsLmNhbmNlbCh0b29sYmFySW50ZXJ2YWxQcm9taXNlKTtcclxuXHRcdFx0XHRcdFx0dG9vbGJhckludGVydmFsUHJvbWlzZSA9IG51bGw7XHJcblx0XHRcdFx0XHRcdGF0dGVtcHRDb3VudCA9IDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRhdHRlbXB0Q291bnQrKztcclxuXHRcdFx0XHR9LCAxMDApO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0c2V0VG9wVW50aWxTdWNjZXNzKCk7XHJcblxyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vbih3aW5kb3dSZXNpemVFdmVudE5hbWUsICgpID0+IHtcclxuXHRcdFx0XHRzZXRUb3BVbnRpbFN1Y2Nlc3MoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vbignaXplbmRhQ3VzdG9tUmVzaXplJywgKCkgPT4ge1xyXG5cdFx0XHRcdHNldFRvcFVudGlsU3VjY2VzcygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykub2ZmKHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykub2ZmKCdpemVuZGFDdXN0b21SZXNpemUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID1cclxuXHRcdFx0KCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UpID0+IG5ldyBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQoJHdpbmRvdywgJHRpbWVvdXQsICRpbnRlcnZhbCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdycsICckdGltZW91dCcsICckaW50ZXJ2YWwnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQnLCBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQuZmFjdG9yeSgpKTtcclxuXHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGZvciBpbnB1dCBlbGVtZW50IHdoaWNoIGFsbG93cyB0byBpbnB1dCBvbmx5IHBvc2l0aXZlIGludGVnZXIgdmFsdWVzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhSW50ZWdlcklucHV0IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0bGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQucHJvdG90eXBlLmxpbmsgPVxyXG5cdFx0XHQoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdFx0JGVsZW1lbnQub24oJ2tleWRvd24nLCBldnQgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgY3RybE9yTWV0YSA9IGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5O1xyXG5cdFx0XHRcdFx0aWYgKFs0NiwgOCwgOSwgMjcsIDEzXS5pbmRleE9mKGV2dC5rZXlDb2RlKSA+PSAwIC8qQWxsb3c6IGJhY2tzcGFjZSwgZGVsZXRlLCB0YWIsIGVzY2FwZSwgZW50ZXIqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPT09IDY1ICYmIGN0cmxPck1ldGEpIC8qQWxsb3c6IEN0cmwvY21kK0EqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPT09IDY3ICYmIGN0cmxPck1ldGEpIC8qQWxsb3c6IEN0cmwvY21kK0MqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPT09IDg4ICYmIGN0cmxPck1ldGEpIC8qQWxsb3c6IEN0cmwvY21kK1gqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPj0gMzUgJiYgZXZ0LmtleUNvZGUgPD0gNDApKSB7IC8qQWxsb3c6IGhvbWUsIGVuZCwgbGVmdCwgcmlnaHQqL1xyXG5cdFx0XHRcdFx0XHQvLyBsZXQgaXQgaGFwcGVuLCBkb24ndCBkbyBhbnl0aGluZ1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBFbnN1cmUgdGhhdCBpdCBpcyBhIG51bWJlciBhbmQgc3RvcCB0aGUga2V5cHJlc3NcclxuXHRcdFx0XHRcdGlmICgoZXZ0LnNoaWZ0S2V5IHx8IChldnQua2V5Q29kZSA8IDQ4IHx8IGV2dC5rZXlDb2RlID4gNTcpKSAmJiAoZXZ0LmtleUNvZGUgPCA5NiB8fCBldnQua2V5Q29kZSA+IDEwNSkpIHtcclxuXHRcdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoKSA9PiBuZXcgSXplbmRhSW50ZWdlcklucHV0KCk7XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhSW50ZWdlcklucHV0JywgSXplbmRhSW50ZWdlcklucHV0LmZhY3RvcnkoKSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuXHJcbi8vIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgSW5jb25zaXN0ZW50TmFtaW5nXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEl6ZW5kYUNvbXBvbmVudChtb2R1bGVPck5hbWU6IHN0cmluZyB8IG5nLklNb2R1bGUsXHJcblx0c2VsZWN0b3I6IHN0cmluZyxcclxuXHRkZXBlbmRlbmNpZXM6IGFueVtdLFxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHRlbXBsYXRlPzogc3RyaW5nLFxyXG5cdFx0dGVtcGxhdGVVcmw/OiBzdHJpbmcsXHJcblx0XHRiaW5kaW5ncz86IGFueSxcclxuXHRcdGNvbnRyb2xsZXI/OiBhbnksXHJcblx0fSkge1xyXG5cdHJldHVybiAoY29udHJvbGxlcjogRnVuY3Rpb24pID0+IHtcclxuXHRcdGNvbnN0IG1vZHVsZSA9IHR5cGVvZiAobW9kdWxlT3JOYW1lKSA9PT0gJ3N0cmluZycgPyBhbmd1bGFyLm1vZHVsZShtb2R1bGVPck5hbWUpIDogbW9kdWxlT3JOYW1lO1xyXG5cdFx0Y29uc3QgZXh0ZW5kZWRPcHRpb25zOiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IGFuZ3VsYXIuY29weShvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgJGluamVjdCA9IGNvbnRyb2xsZXIuJGluamVjdCA9IGRlcGVuZGVuY2llcztcclxuXHRcdGNvbnRyb2xsZXIucHJvdG90eXBlLiRpbmplY3QgPSAkaW5qZWN0O1xyXG5cdFx0Y29udHJvbGxlci4kaW5qZWN0ID0gJGluamVjdDtcclxuXHJcblx0XHRleHRlbmRlZE9wdGlvbnMuY29udHJvbGxlciA9IGRlcGVuZGVuY2llcy5jb25jYXQoY29udHJvbGxlcik7XHJcblx0XHRtb2R1bGUuY29tcG9uZW50KHNlbGVjdG9yLCBleHRlbmRlZE9wdGlvbnMpO1xyXG5cdH1cclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogTWVzc2FnZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChpemVuZGFDb3JlTW9kdWxlLCAnaXplbmRhRGlhbG9nQm94Q29tcG9uZW50JywgWyckaXplbmRhVXRpbFVpU2VydmljZSddLCB7XHJcblx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi5jb3JlLmNvbXBvbmVudHMuZGlhbG9nLWJveC5kaWFsb2ctYm94LXRlbXBsYXRlLmh0bWwnLFxyXG5cdGJpbmRpbmdzOiB7XHJcblx0XHRjb21wb25lbnRJZDogJ0AnLFxyXG5cdFx0dXNlR2xvYmFsRXZlbnRMaXN0ZW5pbmc6ICc8JyxcclxuXHRcdG9wZW5lZDogJzwnLFxyXG5cdFx0dGl0bGU6ICc8JyxcclxuXHRcdG1lc3NhZ2U6ICc8JyxcclxuXHRcdGFsZXJ0SW5mbzogJzwnLFxyXG5cdFx0YnV0dG9uczogJzwnLFxyXG5cdFx0Y2hlY2tib3hlczogJzwnXHJcblx0fSxcclxufSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhRGlhbG9nQm94Q29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhhbmRsZSBidXR0b24gY2xpY2suXHJcblx0ICovXHJcblx0b25CdXR0b25DbGljayhidXR0b24pIHtcclxuXHRcdGlmICghYnV0dG9uKSByZXR1cm47XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGJ1dHRvbi5jYWxsYmFjaykpIHtcclxuXHRcdFx0YnV0dG9uLmNhbGxiYWNrKHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuZGlhbG9nQm94LmNoZWNrYm94ZXMpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5jbG9zZU1vZGFsKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2cuXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VEaWFsb2dCb3goKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIE1lc3NhZ2UgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoaXplbmRhQ29yZU1vZHVsZSwgJ2l6ZW5kYU1lc3NhZ2VDb21wb25lbnQnLCBbJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5tZXNzYWdlLm1lc3NhZ2UtdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHt9LFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFNZXNzYWdlQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgbW9kYWwgZGlhbG9nLlxyXG5cdCAqL1xyXG5cdGNsb3NlTW9kYWwoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLmNsb3NlTWVzc2FnZURpYWxvZygpO1xyXG5cdH1cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBOb3RpZmljYXRpb24gY29tcG9uZW50XHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KGl6ZW5kYUNvcmVNb2R1bGUsICdpemVuZGFOb3RpZmljYXRpb25Db21wb25lbnQnLCBbJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5ub3RpZmljYXRpb24ubm90aWZpY2F0aW9uLXRlbXBsYXRlLmh0bWwnLFxyXG5cdGJpbmRpbmdzOiB7fVxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFEaWFsb2dCb3hDb21wb25lbnQge1xyXG5cdG5vdGlmaWNhdGlvbnM6IGFueVtdO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLm5vdGlmaWNhdGlvbnMgPSAkaXplbmRhVXRpbFVpU2VydmljZS5ub3RpZmljYXRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2Ugbm90aWZpY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBub3RpZmljYXRpb24gTm90aWZpY2F0aW9uIG9iamVjdC5cclxuXHQgKi9cclxuXHRjbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLmlkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbmNlbCBub3RpZmljYXRpb24gYXV0b2hpZGUuXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG5vdGlmaWNhdGlvbiBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uKSB7XHJcblx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLmNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uLmlkKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUV2ZW50U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8vIHJlZ2lzdGVyIHNlcnZpY2VzXHJcbkl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUNvcmVNb2R1bGUpO1xyXG5JemVuZGFFdmVudFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYVV0aWxTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUNvcmVNb2R1bGUpO1xyXG5JemVuZGFVdGlsVWlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUNvcmVNb2R1bGUpO1xyXG5cclxuLy8gcmVnaXN0ZXIgY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlc1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvYm9vdHN0cmFwLW1vZGFsJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9kaXJlY3RpdmVzL3V0aWxpdHknO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2NvbXBvbmVudHMvZGlhbG9nLWJveC9kaWFsb2ctYm94LWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50JztcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9tb2R1bGUnO1xyXG5cclxuY29uc3QgaXplbmRhUXVlcnlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaXplbmRhLmNvbW1vbi5xdWVyeScsIFsncngnLCAnaXplbmRhLmNvbW1vbi5jb3JlJ10pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFRdWVyeU1vZHVsZTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVJzUXVlcnlTZXJ2aWNlIHtcclxuXHJcblx0dXJsU2V0dGluZ3M6IGFueTtcclxuXHRyc1F1ZXJ5QmFzZVVybDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgcmVxdWVzdExpc3Q6IEFycmF5PFJlcXVlc3RMaXN0SXRlbT47XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckd2luZG93JywgJyRodHRwJywgJyRxJywgJyRpbmplY3RvcicsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXRpbFVpU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaW5qZWN0b3I6IG5nLmF1dG8uSUluamVjdG9yU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0dGhpcy51cmxTZXR0aW5ncyA9IHRoaXMuJHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHR0aGlzLnJzUXVlcnlCYXNlVXJsID0gdGhpcy51cmxTZXR0aW5ncy51cmxSc1BhZ2U7XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0ID0gbmV3IEFycmF5PFJlcXVlc3RMaXN0SXRlbT4oKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEN1c3RvbSBxdWVyeSB0byB0aGUgaXplbmRhIHJlc3BvbnNlIHNlcnZlclxyXG5cdCAqIEBwYXJhbSB7YW55fSBxdWVyeVBhcmFtcyBRdWVyeSBwYXJhbWV0ZXJzLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFF1ZXJ5IG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHthbnl9IGVycm9yT3B0aW9ucyBFcnJvciBvcHRpb25zLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIgRG8gd2UgbmVlZCB0byBpbnZhbGlkYXRlIGNhY2hlcy5cclxuXHQgKi9cclxuXHRyc1F1ZXJ5KHF1ZXJ5UGFyYW1zOiBhbnksIG9wdGlvbnM6IGFueSwgZXJyb3JPcHRpb25zOiBhbnksIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuID0gZmFsc2UpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3VzdG9tUXVlcnkodGhpcy5yc1F1ZXJ5QmFzZVVybCwgcXVlcnlQYXJhbXMsIG9wdGlvbnMsIGVycm9yT3B0aW9ucywgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3VzdG9tIHF1ZXJ5IHRvIHRoZSBpemVuZGEgQVBJLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3c0NtZCBJemVuZGEgQVBJIGNvbW1hbmQuXHJcblx0ICogQHBhcmFtIHthbnlbXX0gd3NBcmdzIEl6ZW5kYSBBUEkgY29tbWFuZCBwYXJhbWV0ZXJzICh3c2FyZzAsIHdzYXJnMSwuLi4pLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFF1ZXJ5IG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHthbnl9IGVycm9yT3B0aW9ucyBFcnJvciBvcHRpb25zLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIgRG8gd2UgbmVlZCB0byBpbnZhbGlkYXRlIGNhY2hlcy5cclxuXHQgKi9cclxuXHRxdWVyeSh3c0NtZDogc3RyaW5nLCB3c0FyZ3M6IGFueVtdLCBvcHRpb25zOiBhbnksIGVycm9yT3B0aW9ucz86IGFueSwgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSlcclxuXHRcdDogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHJcblx0XHQvLyBwcmVwYXJlIHBhcmFtczpcclxuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuY3JlYXRlUXVlcnlQYXJhbWV0ZXJzT2JqZWN0KHdzQ21kLCB3c0FyZ3MpO1xyXG5cclxuXHRcdC8vIHNldCBkZWZhdWx0IGVycm9yIG9wdGlvbnMgaWYgaXQgaXMgbm90IGRlZmluZWQ6XHJcblx0XHRjb25zdCBjdXJyZW50RXJyb3JPcHRpb25zID0gYW5ndWxhci5pc09iamVjdChlcnJvck9wdGlvbnMpXHJcblx0XHRcdD8gZXJyb3JPcHRpb25zXHJcblx0XHRcdDoge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICh3c0NtZDIsIHdzQXJnczIpID0+IGBRdWVyeTogXCIke3dzQ21kMn1cIiBbJHt3c0FyZ3MyfV0gZmFpbGVkLmAsXHJcblx0XHRcdFx0cGFyYW1zOiBbd3NDbWQsIHdzQXJnc11cclxuXHRcdFx0fTtcclxuXHRcdHJldHVybiB0aGlzLnJzUXVlcnkocGFyYW1zLCBvcHRpb25zLCBjdXJyZW50RXJyb3JPcHRpb25zLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBRdWVyeSB0byB0aGUgaXplbmRhIEFQSSAoUE9TVCByZXF1ZXN0IHdoaWNoIHJldHVybnMgSlNPTikuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdzQ21kIEl6ZW5kYSBBUEkgY29tbWFuZC5cclxuXHQgKiBAcGFyYW0ge2FueVtdfSB3c0FyZ3MgSXplbmRhIEFQSSBjb21tYW5kIHBhcmFtZXRlcnMgKHdzYXJnMCwgd3NhcmcxLC4uLikuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlciBEbyB3ZSBuZWVkIHRvIGludmFsaWRhdGUgY2FjaGVzLlxyXG5cdCAqL1xyXG5cdGFwaVF1ZXJ5KHdzQ21kOiBzdHJpbmcsIHdzQXJnczogYW55W10sIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuID0gZmFsc2UpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHQvLyBjaGVjayBwYXJhbXM6XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyh3c0NtZCkgfHwgd3NDbWQgPT09ICcnKSB7XHJcblx0XHRcdFx0cmVqZWN0KCdQYXJhbWV0ZXIgZXJyb3I6IHdzQ21kIHBhcmFtZXRlciBzaG91bGQgYmUgbm9uLWVtcHR5IHN0cmluZy4nKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkod3NBcmdzKSkge1xyXG5cdFx0XHRcdHJlamVjdCgnUGFyYW1ldGVyIGVycm9yOiB3c0FyZ3MgcGFyYW1ldGVyIHNob3VsZCBiZSBhcnJheS4nKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBwYXJhbXMgYXJyYXlcclxuXHRcdFx0Y29uc3QgcGFyYW1zID0gdGhpcy5jcmVhdGVRdWVyeVBhcmFtZXRlcnNPYmplY3Qod3NDbWQsIHdzQXJncyk7XHJcblxyXG5cdFx0XHQvLyBydW4gcXVlcnlcclxuXHRcdFx0dGhpcy5yc1F1ZXJ5KHBhcmFtcywgeyBkYXRhVHlwZTogJ2pzb24nLCBtZXRob2Q6ICdQT1NUJyB9LCBudWxsLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHQudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpLCBlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIGFsbCBydW5uaW5nIHF1ZXJpZXNcclxuXHQgKiBAcGFyYW0ge2FueX0gb3B0aW9ucyAob3B0aW9uYWwpIG9wdGlvbnMuY2FuY2VsTGlzdCBtYXkgc2V0IGN1c3RvbSBxdWVyaWVzIHRvIGNhbmNlbC5cclxuXHQgKi9cclxuXHRjYW5jZWxBbGxRdWVyaWVzKG9wdGlvbnM/OiBhbnkpIHtcclxuXHRcdGNvbnN0IG9wdHMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gcXVlcmllcyB3aGljaCB3ZSBjYW4gY2FuY2VsXHJcblx0XHRjb25zdCBjYW5jZWxsYWJsZVF1ZXJpZXMgPSBvcHRzLmhhc093blByb3BlcnR5KCdjYW5jZWxMaXN0JylcclxuXHRcdFx0PyBvcHRzWydjYW5jZWxMaXN0J11cclxuXHRcdFx0OiB0aGlzLiRpbmplY3Rvci5nZXQoJ2l6ZW5kYS5jb21tb24ucXVlcnkuY2FuY2VsbGFibGVRdWVyaWVzJyk7XHJcblxyXG5cdFx0Y29uc3QgY291bnQgPSB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aDtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlIChpIDwgdGhpcy5yZXF1ZXN0TGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0Y29uc3QgcmVxdWVzdCA9IHRoaXMucmVxdWVzdExpc3RbMF07XHJcblx0XHRcdGxldCBjYW5jZWwgPSBmYWxzZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheShjYW5jZWxsYWJsZVF1ZXJpZXMpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVxdWVzdFVybCA9IHJlcXVlc3QudXJsO1xyXG5cdFx0XHRcdGNvbnN0IHJlcXVlc3RQYXJhbXMgPSByZXF1ZXN0LnF1ZXJ5UGFyYW1zRmluYWw7XHJcblx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjYW5jZWxsYWJsZVF1ZXJpZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IGNhbmNlbFJ1bGUgPSBjYW5jZWxsYWJsZVF1ZXJpZXNbal07XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhjYW5jZWxSdWxlKSkge1xyXG5cdFx0XHRcdFx0XHRjYW5jZWwgPSBjYW5jZWwgfHwgcmVxdWVzdFVybC5pbmRleE9mKGNhbmNlbFJ1bGUpID49IDA7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QoY2FuY2VsUnVsZSkpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCd3c2NtZCcgaW4gY2FuY2VsUnVsZSkge1xyXG5cdFx0XHRcdFx0XHRcdGNhbmNlbCA9IGNhbmNlbCB8fCByZXF1ZXN0VXJsLmluZGV4T2YoYHdzY21kPSR7Y2FuY2VsUnVsZVsnd3NjbWQnXX1gKSA+PSAwO1xyXG5cdFx0XHRcdFx0XHRcdGNhbmNlbCA9IGNhbmNlbCB8fCByZXF1ZXN0UGFyYW1zLmhhc093blByb3BlcnR5KCd3c2NtZCcpICYmIHJlcXVlc3RQYXJhbXNbJ3dzY21kJ10gPT09IGNhbmNlbFJ1bGVbJ3dzY21kJ107XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRocm93IGBVbmtub3duIGNhbmNlbCBydWxlOiAke2NhbmNlbFJ1bGV9YDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjYW5jZWwpIHtcclxuXHRcdFx0XHRyZXF1ZXN0LmNhbmNlbGxlci5yZXNvbHZlKCk7XHJcblx0XHRcdFx0cmVxdWVzdC5yZXNvbHZlci4kaXplbmRhUnNRdWVyeUNhbmNlbGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMucmVxdWVzdExpc3Quc3BsaWNlKGksIDEpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGkrKztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjb3VudCAtIGk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZW5kIHBvc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSBmaWxlIGF0dGFjaG1lbnQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBHRVQvUE9TVFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVXJsLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBwYXJhbWV0ZXJzIFVybCBwYXJhbWV0ZXJzIGRpY3Rpb25hcnkuXHJcblx0ICogQHJldHVybiB7YW5ndWxhci5JUHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlcnMuXHJcblx0ICovXHJcblx0ZG93bmxvYWRGaWxlUmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtZXRlcnM/OiBhbnkpOiBhbmd1bGFyLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlOiAoKSA9PiB2b2lkKSA9PiB7XHJcblx0XHRcdGlmICh0eXBlb2YgKEJsb2IpICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8vIHBvc3QgcmVxdWVzdCBmb3IgZG93bmxvYWQgdGhlIGZpbGVcclxuXHRcdFx0XHRjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcblx0XHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNlbGZYaHIgPSB4aHI7XHJcblx0XHRcdFx0eGhyLm9ubG9hZCA9IChldnQpID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdkb3dubG9hZEZpbGVSZXF1ZXN0IHhoci5vbmxvYWQgZXZ0OiAnLCBldnQpO1xyXG5cdFx0XHRcdFx0aWYgKHNlbGZYaHIuc3RhdHVzICE9PSAyMDApXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdGNvbnN0IGRpc3Bvc2l0aW9uID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJyk7XHJcblx0XHRcdFx0XHRsZXQgZmlsZW5hbWUgPSAnJztcclxuXHRcdFx0XHRcdGlmIChkaXNwb3NpdGlvbiAmJiBkaXNwb3NpdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2F0dGFjaG1lbnQnKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZmlsZW5hbWVSZWdleCA9IC9bRmZdaWxlbmFtZVteOz1cXG5dKj0oKFsnXCJdKS4qP1xcMnxbXjtcXG5dKikvO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtYXRjaGVzID0gZmlsZW5hbWVSZWdleC5leGVjKGRpc3Bvc2l0aW9uKTtcclxuXHRcdFx0XHRcdFx0aWYgKG1hdGNoZXMgIT0gbnVsbCAmJiBtYXRjaGVzWzFdKVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVuYW1lID0gbWF0Y2hlc1sxXS5yZXBsYWNlKC9bJ1wiXS9nLCAnJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCB0eXBlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW3NlbGZYaHIucmVzcG9uc2VdLCB7IHR5cGU6IHR5cGUgfSk7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0Ly8gSUUgd29ya2Fyb3VuZCBmb3IgXCJIVE1MNzAwNzogT25lIG9yIG1vcmUgYmxvYiBVUkxzIHdlcmUgcmV2b2tlZCBieSBjbG9zaW5nIHRoZSBibG9iIGZvciB3aGljaCB0aGV5IHdlcmUgY3JlYXRlZC4gXHJcblx0XHRcdFx0XHRcdC8vIFRoZXNlIFVSTHMgd2lsbCBubyBsb25nZXIgcmVzb2x2ZSBhcyB0aGUgZGF0YSBiYWNraW5nIHRoZSBVUkwgaGFzIGJlZW4gZnJlZWQuXCJcclxuXHRcdFx0XHRcdFx0d2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdXJsRnVuYyA9IHdpbmRvdy5VUkwgfHwgd2luZG93Wyd3ZWJraXRVUkwnXTtcclxuXHRcdFx0XHRcdFx0dmFyIGRvd25sb2FkVXJsID0gdXJsRnVuYy5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHRcdFx0XHRcdGlmIChmaWxlbmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHVzZSBIVE1MNSBhW2Rvd25sb2FkXSBhdHRyaWJ1dGUgdG8gc3BlY2lmeSBmaWxlbmFtZVxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIHNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXRcclxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGxpbmtFbGVtZW50LmRvd25sb2FkID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBkb3dubG9hZFVybDtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGlua0VsZW1lbnQuaHJlZiA9IGRvd25sb2FkVXJsO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGlua0VsZW1lbnQudGFyZ2V0ID0gJ19ibGFuayc7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5kb3dubG9hZCA9IGZpbGVuYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5jbGljaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZG93bmxvYWRVcmw7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dXJsRnVuYy5yZXZva2VPYmplY3RVUkwoZG93bmxvYWRVcmwpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwKTsgLy8gY2xlYW51cFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcblx0XHRcdFx0aWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncG9zdCcpXHJcblx0XHRcdFx0XHR4aHIuc2VuZChhbmd1bGFyLmVsZW1lbnQucGFyYW0ocGFyYW1ldGVycyB8fCB7fSkpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0JylcclxuXHRcdFx0XHRcdHhoci5zZW5kKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgYFVuc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kOiAke21ldGhvZH1gO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnKSB7XHJcblx0XHRcdFx0XHQvLyBvbGQgYnJvd3NlciBwb3N0IHJlcXVlc3RcclxuXHRcdFx0XHRcdGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcblx0XHRcdFx0XHRmb3JtLmFjdGlvbiA9IHVybDtcclxuXHRcdFx0XHRcdGZvcm0ubWV0aG9kID0gbWV0aG9kO1xyXG5cdFx0XHRcdFx0Zm9ybS50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdGlmIChwYXJhbWV0ZXJzKVxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBrZXkgaW4gcGFyYW1ldGVycylcclxuXHRcdFx0XHRcdFx0XHRpZiAocGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dC5uYW1lID0ga2V5O1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQudmFsdWUgPSB0eXBlb2YgcGFyYW1ldGVyc1trZXldID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KHBhcmFtZXRlcnNba2V5XSkgOiBwYXJhbWV0ZXJzW2tleV07XHJcblx0XHRcdFx0XHRcdFx0XHRmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xyXG5cdFx0XHRcdFx0Zm9ybS5zdWJtaXQoKTtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIG9sZCBicm93c2VyIGdldCByZXF1ZXN0XHJcblx0XHRcdFx0XHRjb25zdCBsaW5rRWxlbWVudDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRcdFx0XHRsaW5rRWxlbWVudDIuaHJlZiA9IHVybDtcclxuXHRcdFx0XHRcdGxpbmtFbGVtZW50Mi50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGlua0VsZW1lbnQyKTtcclxuXHRcdFx0XHRcdGxpbmtFbGVtZW50Mi5jbGljaygpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rRWxlbWVudDIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRG8gcXVlcnkgdG8gY3VzdG9tIHVybFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3VzdG9tUXVlcnkoXHJcblx0XHRiYXNlVXJsOiBzdHJpbmcsXHJcblx0XHRxdWVyeVBhcmFtczogb2JqZWN0LFxyXG5cdFx0b3B0aW9uczogeyBtZXRob2Q6IHN0cmluZywgZGF0YVR5cGU6IHN0cmluZyB9LFxyXG5cdFx0ZXJyb3JPcHRpb25zOiBhbnksXHJcblx0XHRpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcjogYm9vbGVhbik6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblxyXG5cdFx0Y29uc3QgcXVlcnlQYXJhbXNGaW5hbCA9IGFuZ3VsYXIuY29weTxvYmplY3Q+KHF1ZXJ5UGFyYW1zKTtcclxuXHJcblx0XHQvLyBhcHBseSBpemVuZGFQYWdlSWQkXHJcblx0XHRpZiAodHlwZW9mICh3aW5kb3dbJ2l6ZW5kYVBhZ2VJZCQnXSkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRxdWVyeVBhcmFtc0ZpbmFsWydpenBpZCddID0gd2luZG93WydpemVuZGFQYWdlSWQkJ107XHJcblx0XHRpZiAodHlwZW9mICh3aW5kb3dbJ2FuZ3VsYXJQYWdlSWQkJ10pICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0cXVlcnlQYXJhbXNGaW5hbFsnYW5waWQnXSA9IHdpbmRvd1snYW5ndWxhclBhZ2VJZCQnXTtcclxuXHJcblx0XHRjb25zdCBpc1Bvc3QgPSBvcHRpb25zICYmIG9wdGlvbnMubWV0aG9kID09PSAnUE9TVCc7XHJcblxyXG5cdFx0bGV0IHBvc3REYXRhID0ge307XHJcblx0XHRsZXQgdXJsID0gYmFzZVVybDtcclxuXHRcdGlmICghaXNQb3N0KSB7XHJcblx0XHRcdC8vIEdFVCByZXF1ZXN0IHVybDpcclxuXHRcdFx0Y29uc3Qga3ZTdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHRmb3IgKGxldCBwYXJhbU5hbWUgaW4gcXVlcnlQYXJhbXNGaW5hbClcclxuXHRcdFx0XHRpZiAocXVlcnlQYXJhbXNGaW5hbC5oYXNPd25Qcm9wZXJ0eShwYXJhbU5hbWUpKVxyXG5cdFx0XHRcdFx0a3ZTdHJpbmdzLnB1c2goYCR7cGFyYW1OYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeVBhcmFtc0ZpbmFsW3BhcmFtTmFtZV0pfWApO1xyXG5cdFx0XHRpZiAoaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpXHJcblx0XHRcdFx0a3ZTdHJpbmdzLnB1c2goJ2lpYz0xJyk7XHJcblx0XHRcdHVybCArPSBgPyR7a3ZTdHJpbmdzLmpvaW4oJyYnKX1gO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gUE9TVCByZXF1ZXN0IHBhcmFtcyBzdHJpbmc6XHJcblx0XHRcdGxldCBwb3N0UGFyYW1zU3RyaW5nID0gJ3VybGVuY29kZWQ9dHJ1ZSc7XHJcblx0XHRcdGZvciAobGV0IHBhcmFtTmFtZSBpbiBxdWVyeVBhcmFtc0ZpbmFsKVxyXG5cdFx0XHRcdGlmIChxdWVyeVBhcmFtc0ZpbmFsLmhhc093blByb3BlcnR5KHBhcmFtTmFtZSkpXHJcblx0XHRcdFx0XHRwb3N0UGFyYW1zU3RyaW5nICs9IGAmJHtwYXJhbU5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1zRmluYWxbcGFyYW1OYW1lXSl9YDtcclxuXHRcdFx0cG9zdERhdGEgPSB7XHJcblx0XHRcdFx0ZGF0YTogcG9zdFBhcmFtc1N0cmluZ1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAoaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpXHJcblx0XHRcdFx0dXJsICs9ICc/aWljPTEnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNyZWF0ZSBwcm9taXNlc1xyXG5cdFx0Y29uc3QgY2FuY2VsZXIgPSB0aGlzLiRxLmRlZmVyPGFueT4oKTtcclxuXHRcdGNvbnN0IHJlc29sdmVyID0gdGhpcy4kcS5kZWZlcjxhbnk+KCk7XHJcblx0XHRyZXNvbHZlclsnJGl6ZW5kYVJzUXVlcnlDYW5jZWxsZWQnXSA9IHRydWU7XHJcblx0XHRyZXNvbHZlclsnZXJyb3JPcHRpb25zJ10gPSBhbmd1bGFyLmlzT2JqZWN0KGVycm9yT3B0aW9ucykgPyBlcnJvck9wdGlvbnMgOiBudWxsO1xyXG5cclxuXHRcdC8vIHByZXBhcmUgcmVxdWVzdCBvcHRpbm9zXHJcblx0XHRjb25zdCBkYXRhVHlwZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMpICYmIGFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5kYXRhVHlwZSlcclxuXHRcdFx0PyBvcHRpb25zLmRhdGFUeXBlXHJcblx0XHRcdDogJ3RleHQnO1xyXG5cdFx0bGV0IGNvbnRlbnRUeXBlID0gJ3RleHQvaHRtbCc7XHJcblx0XHRpZiAoZGF0YVR5cGUgPT09ICdqc29uJylcclxuXHRcdFx0Y29udGVudFR5cGUgPSAndGV4dC9qc29uJztcclxuXHRcdHVybCA9IGdldEFwcGVuZGVkVXJsKHVybCwgcXVlcnlQYXJhbXNGaW5hbCk7XHJcblx0XHRjb25zdCByZXF1ZXN0SWQgPSAoK25ldyBEYXRlKS50b1N0cmluZygpICsgJ18nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkudG9TdHJpbmcoKTsgLy8gcHNldWRvIHJhbmRvbSBVSUQuXHJcblx0XHRjb25zdCByZXFIZWFkZXJzID0ge30gYXMgbmcuSUh0dHBSZXF1ZXN0Q29uZmlnSGVhZGVycztcclxuXHRcdHJlcUhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gY29udGVudFR5cGU7XHJcblx0XHRjb25zdCByZXEgPSB7fSBhcyBuZy5JUmVxdWVzdENvbmZpZztcclxuXHRcdHJlcS5tZXRob2QgPSAnR0VUJztcclxuXHRcdHJlcS51cmwgPSB1cmw7XHJcblx0XHRyZXEuaGVhZGVycyA9IHJlcUhlYWRlcnM7XHJcblx0XHRyZXEudGltZW91dCA9IGNhbmNlbGVyLnByb21pc2U7XHJcblx0XHRpZiAoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSkge1xyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChyZXEsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0YW5ndWxhci5leHRlbmQocmVxLCBwb3N0RGF0YSk7IC8vIGl0IGlzIGVtcHR5IGZvciBodHRwIEdFVCByZXF1ZXN0c1xyXG5cdFx0Ly8gY3VzdG9tXHJcblx0XHRyZXFbJ3JlcXVlc3RJZCddID0gcmVxdWVzdElkO1xyXG5cdFx0cmVxWydxdWVyeVBhcmFtc0ZpbmFsJ10gPSBxdWVyeVBhcmFtc0ZpbmFsO1xyXG5cclxuXHRcdC8vIGFkZCByZXF1ZXN0IHRvIHJlcXVlc3RMaXN0XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0LnB1c2gobmV3IFJlcXVlc3RMaXN0SXRlbShyZXF1ZXN0SWQsIHVybCwgcXVlcnlQYXJhbXNGaW5hbCwgY2FuY2VsZXIsIHJlc29sdmVyKSk7XHJcblxyXG5cdFx0Ly8gcnVuIHF1ZXJ5XHJcblx0XHR0aGlzLiRodHRwKHJlcSkudGhlbihyZXNwb25zZSA9PiB7XHJcblx0XHRcdC8vIGhhbmRsZSBzdWNjZXNzXHJcblx0XHRcdHRoaXMucmVtb3ZlUmVxdWVzdChyZXNwb25zZS5jb25maWdbJ3JlcXVlc3RJZCddKTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdC8vIHJlc29sdmUgbm9uLW9iamVjdCByZXNwb25zZXNcclxuXHRcdFx0XHRyZXNvbHZlci5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gb2JqZWN0IHJlc3BvbnNlXHJcblx0XHRcdHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoZGF0YSkgJiYgYW5ndWxhci5pc1N0cmluZyhkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddKSkge1xyXG5cdFx0XHRcdC8vIEFQSSBxdWVyeSByZXN1bHRcclxuXHRcdFx0XHRpZiAoZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSA9PT0gJ29rJykge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShkYXRhWydyZXN1bHQnXSB8fCAnT0snKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFbJ2l6ZW5kYVF1ZXJ5U3RhdHVzJ10gPT09ICdlcnJvcicpIHtcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlamVjdChkYXRhWydlcnJvciddKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KCdVbmtub3duIGl6ZW5kYVF1ZXJ5U3RhdHVzOiAnICsgZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIE5vbi1BUEkganNvbiBxdWVyeSByZXN1bHRcclxuXHRcdFx0XHRyZXNvbHZlci5yZXNvbHZlKGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCByZXNwb25zZSA9PiB7XHJcblx0XHRcdC8vIGhhbmRsZSByZXF1ZXN0IGVycm9yXHJcblx0XHRcdHRoaXMucmVtb3ZlUmVxdWVzdChyZXNwb25zZS5jb25maWcucmVxdWVzdElkKTtcclxuXHJcblx0XHRcdGxldCBuZWVkVG9SZWplY3QgPSB0cnVlO1xyXG5cdFx0XHRsZXQgZXJyb3JUZXh0OiBzdHJpbmc7XHJcblx0XHRcdGlmIChyZXNvbHZlclsnZXJyb3JPcHRpb25zJ10gIT0gbnVsbCkge1xyXG5cdFx0XHRcdG5lZWRUb1JlamVjdCA9IGZhbHNlO1xyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHJlc29sdmVyWydlcnJvck9wdGlvbnMnXS5oYW5kbGVyLmFwcGx5KHJlc3BvbnNlLFxyXG5cdFx0XHRcdFx0cmVzb2x2ZXJbJ2Vycm9yT3B0aW9ucyddLnBhcmFtcyA/IHJlc29sdmVyWydlcnJvck9wdGlvbnMnXS5wYXJhbXMgOiBbXSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmVzcG9uc2UubWVzc2FnZSlcclxuXHRcdFx0XHRlcnJvclRleHQgPSByZXNwb25zZS5tZXNzYWdlO1xyXG5cdFx0XHRlbHNlIGlmIChyZXNwb25zZS5jb25maWcpXHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19RdWVyeUZhaWxlZCcsICdRdWVyeSBmYWlsZWQnKSArICc6ICcgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5jb25maWcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdsb2NhbGVWYXJpYWJsZScsICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLicpO1xyXG5cdFx0XHRpZiAocmVzb2x2ZXJbJyRpemVuZGFSc1F1ZXJ5Q2FuY2VsbGVkJ10pIHtcclxuXHRcdFx0XHRpZiAobmVlZFRvUmVqZWN0KVxyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KGVycm9yVGV4dCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzb2x2ZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSByZXF1ZXN0IGZyb20gYXJyYXlcclxuXHQgKi9cclxuXHRwcml2YXRlIHJlbW92ZVJlcXVlc3QocmVxdWVzdElkOiBzdHJpbmcpIHtcclxuXHRcdGxldCBmb3VuZEluZGV4ID0gLTE7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZSAoZm91bmRJbmRleCA8IDAgJiYgaSA8IHRoaXMucmVxdWVzdExpc3QubGVuZ3RoKSB7XHJcblx0XHRcdGlmICh0aGlzLnJlcXVlc3RMaXN0W2ldLnJlcXVlc3RJZCA9PT0gcmVxdWVzdElkKSB7XHJcblx0XHRcdFx0Zm91bmRJbmRleCA9IGk7XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGZvdW5kSW5kZXggPj0gMCkge1xyXG5cdFx0XHR0aGlzLnJlcXVlc3RMaXN0LnNwbGljZShmb3VuZEluZGV4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlUXVlcnlQYXJhbWV0ZXJzT2JqZWN0KHdzQ21kOiBzdHJpbmcsIHdzQXJnczogYW55W10pOiBvYmplY3Qge1xyXG5cdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0J3dzY21kJzogd3NDbWRcclxuXHRcdH07XHJcblx0XHQvLyBhZGQgd3NhcmdOPS4uLiBwYXJhbWV0ZXJzIGludG8gcGFyYW1zIHZhcmlhYmxlLlxyXG5cdFx0aWYgKHdzQXJncyAmJiB3c0FyZ3MubGVuZ3RoKVxyXG5cdFx0XHRwYXJhbXMgPSB3c0FyZ3MucmVkdWNlKChjdXJyZW50UGFyYW1zOiBhbnksIHdzQXJnOiBhbnksIHdzQXJnSWR4OiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHRjdXJyZW50UGFyYW1zW2B3c2FyZyR7d3NBcmdJZHh9YF0gPSB0eXBlb2YgKHdzQXJnKSAhPT0gJ3VuZGVmaW5lZCcgJiYgd3NBcmcgIT0gbnVsbCA/IHdzQXJnIDogJyc7XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRQYXJhbXM7XHJcblx0XHRcdH0sIHBhcmFtcyk7XHJcblx0XHRyZXR1cm4gcGFyYW1zO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5jb25zdGFudCgnaXplbmRhLmNvbW1vbi5xdWVyeS5jYW5jZWxsYWJsZVF1ZXJpZXMnLCBbe1xyXG5cdFx0XHR3c2NtZDogJ2xvYWREYXNoYm9hcmRDb25maWdOZXcnIC8vIGxvYWQgZGFzaGJvYXJkIGxheW91dCBxdWVyeVxyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldERhc2hib2FyZENhdGVnb3JpZXNOZXcnXHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0RGFzaGJvYXJkVGlsZVByZXZpZXdOZXcnIC8vIGxvYWQgdGlsZSBodG1sIHF1ZXJ5XHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0Q3JzU2NoZWR1bGUnXHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0Q3JzU2hhcmUnXHJcblx0XHR9XSlcclxuXHRcdFx0LnNlcnZpY2UoJyRpemVuZGFSc1F1ZXJ5U2VydmljZScsIEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVJzUXVlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVxdWVzdExpc3RJdGVtIHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHB1YmxpYyByZXF1ZXN0SWQ6IHN0cmluZyxcclxuXHRcdHB1YmxpYyB1cmw6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBxdWVyeVBhcmFtc0ZpbmFsOiBhbnksXHJcblx0XHRwdWJsaWMgY2FuY2VsbGVyOiBhbnksXHJcblx0XHRwdWJsaWMgcmVzb2x2ZXI6IGFueSkgeyB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAoc2VhcmNoLCByZXBsYWNlbWVudCkge1xyXG5cdGNvbnN0IHRhcmdldCA9IHRoaXM7XHJcblx0aWYgKHR5cGVvZiBzZWFyY2ggIT09ICdzdHJpbmcnIHx8IHNlYXJjaCA9PT0gJycpXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHRyZXR1cm4gdGFyZ2V0LnNwbGl0KHNlYXJjaCkuam9pbihyZXBsYWNlbWVudCk7XHJcbn07XHJcblxyXG4vKipcclxuICogcmVxdWlyZWpzIG1vZHVsZSwgd2hpY2ggY3JlYXRlcyBhbmd1bGFyIG1vZHVsZXMuXHJcbiAqIHJldHVybnMgJ2xvYWRTZXR0aW5ncycgZnVuY3Rpb24sIHdoaWNoIGNvdWxkIGxvYWQgc2V0dGluZ3MgZm9yIHRoaXMgbW9kdWxlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUNvbW1vbkxvYWRlciB7XHJcblx0c3RhdGljIGxvYWRTZXR0aW5ncygpIHtcdFxyXG5cdFx0Y29uc3QgZGVmZXJyZWRPYmplY3QgPSBhbmd1bGFyLmVsZW1lbnQuRGVmZXJyZWQoKTtcclxuXHRcdGNvbnN0IHVybFNldHRpbmdzID0gd2luZG93LnVybFNldHRpbmdzJDtcclxuXHRcdGNvbnN0IHJzUGFnZVVybCA9IHVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdGNvbnN0IHNldHRpbmdzVXJsID0gcnNQYWdlVXJsICsgJz93c2NtZD1nZXRDb21tb25TZXR0aW5ncyc7XHJcblx0XHQvLyBsb2FkIGNvbW1vbiBzZXR0aW5nczpcclxuXHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZ2V0KHNldHRpbmdzVXJsLCAoY29uZmlnSnNvbikgPT4ge1xyXG5cdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gY29uZmlnSnNvbiBhcyBJSXplbmRhQ29tbW9uU2V0dGluZ3M7XHJcblx0XHRcdGFuZ3VsYXJcclxuXHRcdFx0XHQubW9kdWxlKCdpemVuZGEuY29tbW9uLmNvcmUnKVxyXG5cdFx0XHRcdC5jb25zdGFudCgnJGl6ZW5kYUNvbW1vblNldHRpbmdzJywgY29uZmlnT2JqZWN0KTtcclxuXHRcdFx0ZGVmZXJyZWRPYmplY3QucmVzb2x2ZSgpO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXJyZWRPYmplY3QucHJvbWlzZSgpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhQ29tbW9uU2V0dGluZ3Mge1xyXG5cdGFsbG93Q3JlYXRlTmV3Q2F0ZWdvcnk6IGJvb2xlYW47XHJcblx0YWxsb3dJbnZhbGlkQ2hhcmFjdGVyczogYm9vbGVhbjtcclxuXHRidWxrQ3N2OiBib29sZWFuO1xyXG5cdGNhdGVnb3J5Q2hhcmFjdGVyOiBzdHJpbmc7XHJcblx0Y3VsdHVyZTogc3RyaW5nO1xyXG5cdGRhdGVGb3JtYXRMb25nOiBzdHJpbmc7XHJcblx0ZGF0ZUZvcm1hdFNob3J0OiBzdHJpbmc7XHJcblx0c2hvd0FsbEluUmVzdWx0czogYm9vbGVhbjtcclxuXHRzaG93Q2F0ZWdvcnlUZXh0Ym94SW5TYXZlRGlhbG9nOiBib29sZWFuO1xyXG5cdHNob3dEZXNpZ25MaW5rczogYm9vbGVhbjtcclxuXHRzaG93RGVzaWduRGFzaGJvYXJkTGluazogYm9vbGVhbjtcclxuXHRzaG93U2F2ZUFzVG9vbGJhckJ1dHRvbjogYm9vbGVhbjtcclxuXHRzaG93U2F2ZUNvbnRyb2xzOiBib29sZWFuO1xyXG5cdHNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzOiBib29sZWFuO1xyXG5cdHN0cmlwSW52YWxpZENoYXJhY3RlcnM6IGJvb2xlYW47XHJcblx0dGltZUZvcm1hdExvbmc6IHN0cmluZztcclxuXHR0aW1lRm9ybWF0U2hvcnQ6IHN0cmluZztcclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IHsgSUl6ZW5kYUNvbW1vblNldHRpbmdzIH0gZnJvbSAnY29tbW9uL2NvbW1vbi1tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0ZVRpbWVGb3JtYXQge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHVibGljIGxvbmdEYXRlOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgbG9uZ1RpbWU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBzaG9ydERhdGU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBzaG9ydFRpbWU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyB0aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nOiBzdHJpbmcsIC8vIHRoaXMgdGltZSBmb3JtYXQgdXNlZCBpbiBtZXRob2QgRGF0ZUxvY1RvVXMgZm9yIHNhdmluZyBmaWx0ZXJzLlxyXG5cdFx0cHVibGljIHNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzOiBib29sZWFuLFxyXG5cdFx0cHVibGljIGRlZmF1bHRGaWx0ZXJEYXRlRm9ybWF0OiBzdHJpbmcpIHtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIHtcclxuXHJcblx0cmVhZG9ubHkgZGVmYXVsdERhdGVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0O1xyXG5cdHJlYWRvbmx5IGRhdGVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0O1xyXG5cdHJlYWRvbmx5IGN1bHR1cmU6IHN0cmluZztcclxuXHRyZWFkb25seSBidWxrQ3N2OiBib29sZWFuO1xyXG5cdHJlYWRvbmx5IGNhdGVnb3J5Q2hhcmFjdGVyOiBzdHJpbmc7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhVXRpbFNlcnZpY2UnLCAnJGl6ZW5kYUNvbW1vblNldHRpbmdzJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxTZXJ2aWNlOiBJemVuZGFVdGlsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbW1vblNldHRpbmdzOiBJSXplbmRhQ29tbW9uU2V0dGluZ3MpIHtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplIGZvcm1hdHNcclxuXHRcdHRoaXMuZGVmYXVsdERhdGVGb3JtYXQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQoXHJcblx0XHRcdCdkZGRkLCBNTU1NIERELCBZWVlZJyxcclxuXHRcdFx0J2g6bW06c3MgQScsXHJcblx0XHRcdCdNTS9ERC9ZWVlZJyxcclxuXHRcdFx0J2g6bW0gQScsXHJcblx0XHRcdCdISDptbTpzcycsXHJcblx0XHRcdGZhbHNlLFxyXG5cdFx0XHQnTU0vREQvWVlZWScgKyAoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzID8gJyBISDptbTpzcycgOiAnJykpO1xyXG5cdFx0Y29uc3QgZm9ybWF0ID0gdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdDtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdCA9IG5ldyBEYXRlVGltZUZvcm1hdChmb3JtYXQubG9uZ0RhdGUsIGZvcm1hdC5sb25nVGltZSwgZm9ybWF0LnNob3J0RGF0ZSxcclxuXHRcdFx0Zm9ybWF0LnNob3J0VGltZSwgZm9ybWF0LnRpbWVGb3JtYXRGb3JJbm5lckl6ZW5kYVByb2Nlc3NpbmcsIGZvcm1hdC5zaG93VGltZUluRmlsdGVyUGlja2VycywgJycpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LmxvbmdEYXRlID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy5kYXRlRm9ybWF0TG9uZyk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQubG9uZ1RpbWUgPSB0aGlzLmNvbnZlcnREb3ROZXRUaW1lRm9ybWF0VG9Nb21lbnQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnRpbWVGb3JtYXRMb25nKTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5zaG9ydERhdGUgPSB0aGlzLmNvbnZlcnREb3ROZXRUaW1lRm9ybWF0VG9Nb21lbnQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLmRhdGVGb3JtYXRTaG9ydCk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQuc2hvcnRUaW1lID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy50aW1lRm9ybWF0U2hvcnQpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LmRlZmF1bHRGaWx0ZXJEYXRlRm9ybWF0ID0gdGhpcy5kYXRlRm9ybWF0LnNob3J0RGF0ZSArXHJcblx0XHRcdCgkaXplbmRhQ29tbW9uU2V0dGluZ3Muc2hvd1RpbWVJbkZpbHRlclBpY2tlcnMgPyBgICR7dGhpcy5kYXRlRm9ybWF0LmxvbmdUaW1lfWAgOiAnJyk7XHJcblxyXG5cdFx0Ly8gY3VsdHVyZVxyXG5cdFx0dGhpcy5jdWx0dXJlID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLmN1bHR1cmU7XHJcblx0XHRpZiAodGhpcy5jdWx0dXJlLmluZGV4T2YoJy0nKSA+IDApXHJcblx0XHRcdHRoaXMuY3VsdHVyZSA9IHRoaXMuY3VsdHVyZS5zdWJzdHJpbmcoMCwgdGhpcy5jdWx0dXJlLmluZGV4T2YoJy0nKSk7XHJcblxyXG5cdFx0Ly8gYnVsayBjc3ZcclxuXHRcdHRoaXMuYnVsa0NzdiA9IGZhbHNlO1xyXG5cdFx0aWYgKHR5cGVvZiAkaXplbmRhQ29tbW9uU2V0dGluZ3MuYnVsa0NzdiAhPSAndW5kZWZpbmVkJylcclxuXHRcdFx0dGhpcy5idWxrQ3N2ID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLmJ1bGtDc3Y7XHJcblxyXG5cdFx0Ly8gY2F0ZWdvcnkgY2hhcmFjdGVyXHJcblx0XHR0aGlzLmNhdGVnb3J5Q2hhcmFjdGVyID0gJ1xcXFwnO1xyXG5cdFx0aWYgKHR5cGVvZiAkaXplbmRhQ29tbW9uU2V0dGluZ3MuY2F0ZWdvcnlDaGFyYWN0ZXIgIT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHRoaXMuY2F0ZWdvcnlDaGFyYWN0ZXIgPSAkaXplbmRhQ29tbW9uU2V0dGluZ3MuY2F0ZWdvcnlDaGFyYWN0ZXI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZWZhdWx0IGRhdGUgZm9ybWF0c1xyXG5cdCAqIEByZXR1cm5zIHtEYXRlVGltZUZvcm1hdH0gXHJcblx0ICovXHJcblx0Z2V0RGVmYXVsdERhdGVGb3JtYXQoKTogRGF0ZVRpbWVGb3JtYXQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGVmYXVsdERhdGVGb3JtYXQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZWZhdWx0IGZvcm1hdCBzdHJpbmcgKGVuLVVTKS4gVGhpcyBmb3JtYXQgdXNlZCBmb3Igc2VuZGluZyBkYXRlcyB0byB0aGUgc2VydmVyLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21EYXRlRm9ybWF0U3RyaW5nLiBBbHRlcm5hdGl2ZSBkYXRlIGZvcm1hdCBpZiByZXF1aXJlZC5cclxuXHQgKi9cclxuXHRnZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZyhjdXN0b21EYXRlRm9ybWF0U3RyaW5nPzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHNob3dUaW1lID0gdGhpcy4kaXplbmRhQ29tbW9uU2V0dGluZ3Muc2hvd1RpbWVJbkZpbHRlclBpY2tlcnM7XHJcblx0XHRjb25zdCB0aW1lRm9ybWF0U3RyaW5nID0gc2hvd1RpbWUgPyAnICcgKyB0aGlzLmRlZmF1bHREYXRlRm9ybWF0LnRpbWVGb3JtYXRGb3JJbm5lckl6ZW5kYVByb2Nlc3NpbmcgOiAnJztcclxuXHRcdGxldCBkYXRlRm9ybWF0U3RyaW5nID0gdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdC5zaG9ydERhdGU7XHJcblx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhjdXN0b21EYXRlRm9ybWF0U3RyaW5nKSAmJiBjdXN0b21EYXRlRm9ybWF0U3RyaW5nLnRyaW0oKSAhPT0gJycpIHtcclxuXHRcdFx0ZGF0ZUZvcm1hdFN0cmluZyA9IGN1c3RvbURhdGVGb3JtYXRTdHJpbmc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGF0ZUZvcm1hdFN0cmluZyArIHRpbWVGb3JtYXRTdHJpbmc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IC5uZXQgZGF0ZSB0aW1lIGZvcm1hdCBzdHJpbmcgdG8gbW9tZW50anMgZm9ybWF0IHN0cmluZy5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0IC5uZXQgZm9ybWF0IHN0cmluZ1xyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IG1vbWVudGpzIGZvcm1hdCBzdHJpbmdcclxuXHQgKi9cclxuXHRjb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGNvbnZlcnRlciA9IGl6ZW5kYS51dGlscy5kYXRlLmZvcm1hdENvbnZlcnRlcjtcclxuXHRcdHJldHVybiBjb252ZXJ0ZXIuY29udmVydChmb3JtYXQsIGNvbnZlcnRlci5kb3ROZXQsIGNvbnZlcnRlci5tb21lbnRKcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIEdldCBjb21tb24gc2V0dGluZ3NcclxuXHQqL1xyXG5cdGdldENvbW1vblNldHRpbmdzKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQ29tbW9uU2V0dGluZ3M7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZGF0ZSBmb3JtYXQuXHJcblx0ICovXHJcblx0Z2V0RGF0ZUZvcm1hdCgpOiBEYXRlVGltZUZvcm1hdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRlRm9ybWF0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgcGFnZSBjdWx0dXJlLlxyXG5cdCAqL1xyXG5cdGdldEN1bHR1cmUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmN1bHR1cmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgXCJidWxrIGNzdlwiIENTViBleHBvcnQgbW9kZSBlbmFibGVkLlxyXG5cdCAqL1xyXG5cdGdldEJ1bGtDc3YoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5idWxrQ3N2O1xyXG5cdH1cclxuXHJcblx0Z2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmNhdGVnb3J5Q2hhcmFjdGVyO1xyXG5cdH1cclxuXHJcblx0Z2V0UmVwb3J0RnVsbE5hbWUocmVwb3J0TmFtZTogc3RyaW5nLCByZXBvcnRDYXRlZ29yeT86IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gbnVsbDtcclxuXHRcdGlmIChyZXBvcnROYW1lKSB7XHJcblx0XHRcdHJlc3VsdCA9ICcnO1xyXG5cdFx0XHRpZiAoIXRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChyZXBvcnRDYXRlZ29yeSkpXHJcblx0XHRcdFx0cmVzdWx0ID0gcmVwb3J0Q2F0ZWdvcnkgKyB0aGlzLmdldENhdGVnb3J5Q2hhcmFjdGVyKCk7XHJcblx0XHRcdHJlc3VsdCArPSByZXBvcnROYW1lO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogVGhpcyBzZXJ2aWNlIHByb3ZpZGVzIEFQSSBxdWVyeSBtZXRob2RzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRpemVuZGFSc1F1ZXJ5U2VydmljZScsICckaXplbmRhTG9jYWxlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFSc1F1ZXJ5U2VydmljZTogSXplbmRhUnNRdWVyeVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogVXNlZCBmb3IgcmVmcmVzaCBzZXNzaW9uIHRpbWVvdXRcclxuXHQgKi9cclxuXHRwaW5nKCk6IGFuZ3VsYXIuSVByb21pc2U8bnVtYmVyPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ3BpbmcnLCBbXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIG5ldyBkYXNoYm9hcmQgcmVwb3J0IHNldCBhbmQgc2V0IGl0IGFzIEN1cnJlbnRSZXBvcnRTZXRcclxuXHQgKi9cclxuXHRuZXdEYXNoYm9hcmQoKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnbmV3Y3JzJywgWydEYXNoYm9hcmREZXNpZ25lciddLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiAoKSA9PiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZENyZWF0ZUVycm9yJywgJ0ZhaWxlZCB0byBjcmVhdGUgbmV3IGRhc2hib2FyZCcpLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIHJlcG9ydCBzZXQgaXMgZXhpc3QuIFJldHVybnMgcHJvbWlzZSB3aXRoICd0cnVlJyB2YWx1ZSBpZiBleGlzdHNcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0U2V0RnVsbE5hbWUgUmVwb3J0IHNldCBmdWxsIG5hbWUgZm9yIGNoZWNrLlxyXG5cdCAqL1xyXG5cdGNoZWNrUmVwb3J0U2V0RXhpc3QocmVwb3J0U2V0RnVsbE5hbWU6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0U2V0RnVsbE5hbWUpIHx8IHJlcG9ydFNldEZ1bGxOYW1lLnRyaW0oKSA9PT0gJycpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigncmVwb3J0U2V0RnVsbE5hbWUgc2hvdWxkIGJlIG5vbiBlbXB0eSBzdHJpbmcnKTtcclxuXHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZENoZWNrRXhpc3RFcnJvcicsICdGYWlsZWQgdG8gY2hlY2sgZGFzaGJvYXJkIGV4aXN0Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2NoZWNrcmVwb3J0c2V0ZXhpc3RzJywgW3JlcG9ydFNldEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0U2V0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBBZEhvY0NvbnRleHQgY3VycmVudCByZXBvcnQgc2V0XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydFNldEZ1bGxOYW1lIFJlcG9ydCBzZXQgZnVsbCBuYW1lIGZvciBjaGVjay5cclxuXHQgKi9cclxuXHRzZXRDcnMocmVwb3J0U2V0RnVsbE5hbWU6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NldENyc0Vycm9yJywgJ0ZhaWxlZCB0byBzZXQgY3VycmVudCByZXBvcnQgc2V0Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ3NldGN1cnJlbnRyZXBvcnRzZXQnLCBbcmVwb3J0U2V0RnVsbE5hbWVdLCB7IGRhdGFUeXBlOiAndGV4dCcgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiBuYW1lID0+IGAke2Vycm9yVGV4dH06ICR7bmFtZX1gLFxyXG5cdFx0XHRwYXJhbXM6IFtyZXBvcnRTZXRGdWxsTmFtZV1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCBsaXN0IGJ5IGNhdGVnb3J5XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5IGNhdGVnb3J5IG5hbWUuXHJcblx0ICovXHJcblx0Z2V0UmVwb3J0U2V0Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHR2YXIgY2F0ZWdvcnlTdHIgPSBhbmd1bGFyLmlzRGVmaW5lZChjYXRlZ29yeSlcclxuXHRcdFx0PyAoY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKS50b0xvd2VyQ2FzZSgpXHJcblx0XHRcdFx0PyAnJ1xyXG5cdFx0XHRcdDogY2F0ZWdvcnkpXHJcblx0XHRcdDogJyc7XHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0dldENhdGVnb3J5RXJyb3InLCAnRmFpbGVkIHRvIGdldCByZXBvcnRzIGZvciBjYXRlZ29yeScpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdyZXBvcnRsaXN0ZGF0YWxpdGUnLCBbY2F0ZWdvcnlTdHJdLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiBuYW1lID0+IGAke2Vycm9yVGV4dH06ICR7bmFtZX1gLFxyXG5cdFx0XHRwYXJhbXM6IFtjYXRlZ29yeV1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCBwYXJ0c1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lICh4eHhAYWFhXFxiYmIpLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFBhcnRzKHJlcG9ydEZ1bGxOYW1lOiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19SZXBvcnRQYXJ0c0Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgcmVwb3J0IHBhcnRzIGZvciByZXBvcnQnKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgncmVwb3J0ZGF0YScsIFtyZXBvcnRGdWxsTmFtZV0sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6IG5hbWUgPT4gYCR7ZXJyb3JUZXh0fTogJHtuYW1lfWAsXHJcblx0XHRcdHBhcmFtczogW3JlcG9ydEZ1bGxOYW1lXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZGF0YSB3aGljaCBuZWVkZWQgZm9yIHNjaGVkdWxlXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFRpbWV6b25lT2Zmc2V0IERlZmF1bHQgdGltZXpvbmUuXHJcblx0ICovXHJcblx0Z2V0U2NoZWR1bGVEYXRhKGNsaWVudFRpbWV6b25lT2Zmc2V0OiBudW1iZXIpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdnZXRDcnNTY2hlZHVsZScsIFtTdHJpbmcoY2xpZW50VGltZXpvbmVPZmZzZXQpXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgc2NoZWR1bGUgZGF0YScsXHJcblx0XHRcdHBhcmFtczogW11cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGEgd2hpY2ggbmVlZGVkIGZvciBzY2hlZHVsZVxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVmYXVsdFNoYXJlQ29uZmlnIElmIHRydWUgLSBzaGFyZSBjb25maWcgd2lsbCBnZXQgZnJvbSBuZXcgZW1wdHkgcmVwb3J0c2V0LCBmYWxzZSAtIGZyb20gY3VycmVudCByZXBvcnQgc2V0LlxyXG5cdCAqL1xyXG5cdGdldFNoYXJlRGF0YShkZWZhdWx0U2hhcmVDb25maWc/OiBib29sZWFuKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0Q3JzU2hhcmUnLCBbZGVmYXVsdFNoYXJlQ29uZmlnID8gJ3RydWUnIDogJ2ZhbHNlJ10sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHNoYXJlIGRhdGEnLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZScsIEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVBpbmdTZXJ2aWNlIHtcclxuXHJcblx0cHJpdmF0ZSByZWFkb25seSBtaW51dGU6IG51bWJlcjtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRUaW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSB0aW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBwaW5nVGltZXI6IGFueTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyR0aW1lb3V0JywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHRcdHRoaXMubWludXRlID0gNjAgKiAxMDAwO1xyXG5cdFx0dGhpcy5kZWZhdWx0VGltZW91dCA9IDE1ICogdGhpcy5taW51dGU7IC8vIGRlZmF1bHQgdGltZW91dCAtIDE1IG1pbnV0ZXMuXHJcblx0XHR0aGlzLnRpbWVvdXQgPSAtMTtcclxuXHRcdHRoaXMucGluZ1RpbWVyID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3AgcGluZyBxdWVyaWVzXHJcblx0ICovXHJcblx0c3RvcFBpbmcoKSB7XHJcblx0XHRpZiAodGhpcy5waW5nVGltZXIgIT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy4kdGltZW91dC5jYW5jZWwodGhpcy5waW5nVGltZXIpO1xyXG5cdFx0XHR0aGlzLnBpbmdUaW1lciA9IG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNYWtlIHBpbmcgaXRlcmF0aW9uIGFuZCBjcmVhdGUgdGltZW91dCBmb3IgbmV4dCBpdGVyYXRpb24uXHJcblx0ICovXHJcblx0cGluZygpIHtcclxuXHRcdC8vIGNhbmNlbCBwcmV2aW91cyB0aW1lcjpcclxuXHRcdHRoaXMuc3RvcFBpbmcoKTtcclxuXHJcblx0XHQvLyBoaW50OiBzdGFydCBpbW1lZGlhdGVseSBpZiB0aW1lb3V0IHZhcmlhYmxlIHdhc24ndCBzZXQuXHJcblx0XHR0aGlzLnBpbmdUaW1lciA9IHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UucGluZygpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0Ly8gc2V0IHRpbWVvdXRcclxuXHRcdFx0XHR0aGlzLnRpbWVvdXQgPSAoZGF0YSA+IDApXHJcblx0XHRcdFx0XHQ/IE1hdGgucm91bmQoZGF0YSAqIDAuNzUgKiB0aGlzLm1pbnV0ZSlcclxuXHRcdFx0XHRcdDogdGhpcy5kZWZhdWx0VGltZW91dDtcclxuXHRcdFx0XHR0aGlzLnBpbmcoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFx0XHR0aGlzLnRpbWVvdXQgPj0gMCA/IHRoaXMudGltZW91dCA6IDApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgcGluZyBxdWVyaWVzXHJcblx0ICovXHJcblx0c3RhcnRQaW5nKCkge1xyXG5cdFx0dGhpcy5waW5nKCk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFQaW5nU2VydmljZScsIEl6ZW5kYVBpbmdTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVBpbmdTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVBpbmdTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9waW5nLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdGZ1bGxOYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdGNhdGVnb3J5OiBzdHJpbmcgPSBudWxsO1xyXG5cdG5hbWU6IHN0cmluZyA9IG51bGw7XHJcblx0aXNOZXc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0c3RhdGljIGZyb21Kc29uKGpzb246IGFueSk6IEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdFx0Y29uc3QgbG9jYXRpb24gPSBuZXcgSXplbmRhTG9jYXRpb25Nb2RlbCgpO1xyXG5cdFx0bG9jYXRpb24uZnVsbE5hbWUgPSBqc29uLmZ1bGxOYW1lIHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5jYXRlZ29yeSA9IGpzb24uY2F0ZWdvcnkgfHwgbnVsbDtcclxuXHRcdGxvY2F0aW9uLm5hbWUgPSBqc29uLm5hbWUgfHwgbnVsbDtcclxuXHRcdGxvY2F0aW9uLmlzTmV3ID0gISFqc29uLmlzTmV3O1xyXG5cdFx0cmV0dXJuIGxvY2F0aW9uO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhVXJsU2VydmljZSB7XHJcblxyXG5cdHNldHRpbmdzOiBhbnk7IC8vIHVybCBzZXR0aW5ncy5cclxuXHRyZXBvcnROYW1lSW5mbzogSXplbmRhTG9jYXRpb25Nb2RlbDtcclxuXHRsb2NhdGlvbjogYW55OyAvLyBjdXJyZW50IGxvY2F0aW9uIChyeC5CZWhhdmlvclN1YmplY3Qgb2JqZWN0KVxyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsncngnLFxyXG5cdFx0XHQnJHdpbmRvdycsXHJcblx0XHRcdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFQaW5nU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhVXRpbFNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByeDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFQaW5nU2VydmljZTogSXplbmRhUGluZ1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnNldHRpbmdzID0gJHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWVJbmZvID0gdGhpcy5nZXRMb2NhdGlvbigpO1xyXG5cdFx0dGhpcy5sb2NhdGlvbiA9IG5ldyB0aGlzLnJ4LkJlaGF2aW9yU3ViamVjdCh0aGlzLnJlcG9ydE5hbWVJbmZvKTtcclxuXHRcdC8vIHN1YnNjcmliZSBvbiBsb2NhdGlvbiBjaGFuZ2U6XHJcblx0XHR3aW5kb3cub25wb3BzdGF0ZSA9IGV2ZW50ID0+IHtcclxuXHRcdFx0aWYgKGV2ZW50LnN0YXRlICYmIChldmVudC5zdGF0ZS5ybiB8fCBldmVudC5zdGF0ZS5uZXcpKSB7XHJcblx0XHRcdFx0dGhpcy5sb2NhdGlvbkNoYW5nZWRIYW5kbGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIHN0YXJ0IHBpbmdcclxuXHRcdHRoaXMuJGl6ZW5kYVBpbmdTZXJ2aWNlLnN0YXJ0UGluZygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJlcG9ydCBuYW1lIGFuZCBjYXRlZ29yeSB0byBsb2NhdGlvblxyXG5cdCAqIEBwYXJhbSB7SXplbmRhTG9jYXRpb25Nb2RlbH0gbG9jYXRpb25JbmZvIGxvY2F0aW9uIG9iamVjdFxyXG5cdCAqL1xyXG5cdHNldExvY2F0aW9uKGxvY2F0aW9uSW5mbzogSXplbmRhTG9jYXRpb25Nb2RlbCkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGxvY2F0aW9uSW5mbykpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignXCJsb2NhdGlvbkluZm9cIiBwYXJhbWV0ZXIgc2hvdWxkIGJlIG9iamVjdCcpO1xyXG5cclxuXHRcdC8vIGlmIGlzIG5ld1xyXG5cdFx0aWYgKGxvY2F0aW9uSW5mby5pc05ldykge1xyXG5cdFx0XHR0aGlzLnNldFVybCh7IGlzTmV3OiAnMScgfSwgeyBuZXc6IHRydWUgfSk7XHJcblx0XHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbmF2aWdhdGUgdG8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHR0aGlzLnNldFVybCh7IHJuOiBsb2NhdGlvbkluZm8uZnVsbE5hbWUucmVwbGFjZUFsbCgnICcsICcrJykgfSwgeyBybjogbG9jYXRpb25JbmZvLmZ1bGxOYW1lIH0pO1xyXG5cdFx0dGhpcy5sb2NhdGlvbkNoYW5nZWRIYW5kbGVyKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2UgdXJsIGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgcmVsb2FkIHRoZSBwYWdlIHdpdGggbmV3IHVybC5cclxuXHQgKiBAcGFyYW0ge2FueX0gcGFyYW1zIC0gdXJsIHBhcmFtcyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGFkZGl0aW9uYWxQYXJhbXMgLSBhZGRpdGlvbmFsIHBhcmFtcyBmb3IgcHVzaFN0YXRlLlxyXG5cdCAqL1xyXG5cdHNldFVybChwYXJhbXM6IGFueSwgYWRkaXRpb25hbFBhcmFtczogYW55KSB7XHJcblx0XHRjb25zdCBwcmV2aW91c1VybFBhcmFtcyA9IHRoaXMuZ2V0VXJsUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHJcblx0XHRjb25zdCBpc1JuT2xkRXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHByZXZpb3VzVXJsUGFyYW1zLnJuKTtcclxuXHRcdGNvbnN0IGlzUm5OZXdFeGlzdCA9IGFuZ3VsYXIuaXNTdHJpbmcocGFyYW1zLnJuKSAmJiBwYXJhbXMucm4gIT09ICcnO1xyXG5cclxuXHRcdGNvbnN0IHJuT2xkID0gaXNSbk9sZEV4aXN0ID8gJ3JuPScgKyBwcmV2aW91c1VybFBhcmFtcy5ybi5yZXBsYWNlQWxsKCcgJywgJysnKSA6ICcnO1xyXG5cdFx0Y29uc3Qgcm5OZXcgPSBpc1JuTmV3RXhpc3QgPyAncm49JyArIHBhcmFtcy5ybi5yZXBsYWNlQWxsKCcgJywgJysnKSA6ICcnO1xyXG5cclxuXHRcdGNvbnN0IGlzTmV3T2xkRXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHByZXZpb3VzVXJsUGFyYW1zLmlzTmV3KTtcclxuXHRcdGNvbnN0IGlzTmV3TmV3RXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHBhcmFtcy5pc05ldyk7XHJcblxyXG5cdFx0aWYgKGlzUm5PbGRFeGlzdCAmJiBpc1JuTmV3RXhpc3QgJiYgcm5PbGQgPT09IHJuTmV3KVxyXG5cdFx0XHQvLyBzYW1lIHJuXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChpc05ld09sZEV4aXN0ICYmIGlzTmV3TmV3RXhpc3QpXHJcblx0XHRcdC8vIHNhbWUgaXNOZXdcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKGlzUm5OZXdFeGlzdCAmJiBpc05ld05ld0V4aXN0KVxyXG5cdFx0XHR0aHJvdyAnSW5jb3JyZWN0IHBhcmFtczogYm90aCBcInJuXCIgYW5kIFwiaXNOZXdcIiBkZWZpbmVkLic7XHJcblxyXG5cdFx0Y29uc3QgbmV3UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuXHRcdGxldCBuZXdQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoID8gd2luZG93LmxvY2F0aW9uLnNlYXJjaCA6ICc/JztcclxuXHJcblx0XHRpZiAoaXNOZXdOZXdFeGlzdCkge1xyXG5cdFx0XHQvLyBnbyB0byBuZXcgcmVwb3J0XHJcblx0XHRcdC8vIHJlbW92ZSByblxyXG5cdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbChybk9sZCwgJycpO1xyXG5cdFx0XHRuZXdQYXJhbXMgKz0gKG5ld1BhcmFtcy5lbmRzV2l0aCgnPycpID8gJycgOiAnJicpICsgJ2lzTmV3PTEnO1xyXG5cdFx0fSBlbHNlIGlmIChpc1JuTmV3RXhpc3QpIHtcclxuXHRcdFx0Ly8gZ28gdG8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHRcdC8vIHJlbW92ZSBpc05ld1xyXG5cdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbCgnaXNOZXc9MScsICcnKTtcclxuXHRcdFx0aWYgKGlzUm5PbGRFeGlzdClcclxuXHRcdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbChybk9sZCwgcm5OZXcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3UGFyYW1zICs9IChuZXdQYXJhbXMuZW5kc1dpdGgoJz8nKSA/ICcnIDogJyYnKSArIHJuTmV3O1xyXG5cdFx0fVxyXG5cdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwoJz8mJywgJz8nKTtcclxuXHRcdG5ld1BhcmFtcyA9IG5ld1BhcmFtcy5yZXBsYWNlQWxsKCcmJicsICcmJyk7XHJcblxyXG5cdFx0Ly8gbmF2aWdhdGUgbmV3IHVybFxyXG5cdFx0Y29uc3QgbmV3VXJsID0gbmV3UGF0aCArIG5ld1BhcmFtcztcclxuXHRcdGlmICh0aGlzLiR3aW5kb3cuaGlzdG9yeSAmJiB0aGlzLiR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpIHtcclxuXHRcdFx0dGhpcy4kd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGFkZGl0aW9uYWxQYXJhbXMsIGRvY3VtZW50LnRpdGxlLCBuZXdVcmwpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbmV3VXJsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyByZXBvcnQgZnVsbCBuYW1lIChjYXRlZ29yeSBkZWxpbWl0ZXI6ICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSlcclxuXHQgKiBAcmV0dXJuIHtJemVuZGFMb2NhdGlvbk1vZGVsfSBjdXJyZW50IGxvY2F0aW9uIG1vZGVsLlxyXG5cdCAqL1xyXG5cdGdldExvY2F0aW9uKCk6IEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IG5ldyBVcmxTZXR0aW5ncygpOyAvLyByZXRyaWV2ZSBjdXJyZW50IHVybCBzZXR0aW5nc1xyXG5cdFx0Y29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuc2V0dGluZ3MucmVwb3J0SW5mbztcclxuXHJcblx0XHQvLyBleGlzdGluZyByZXBvcnRcclxuXHRcdGlmIChyZXBvcnRJbmZvLmZ1bGxOYW1lKVxyXG5cdFx0XHRyZXR1cm4gSXplbmRhTG9jYXRpb25Nb2RlbC5mcm9tSnNvbihyZXBvcnRJbmZvKTtcclxuXHJcblx0XHQvLyBpc05ld1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IEl6ZW5kYUxvY2F0aW9uTW9kZWwoKTtcclxuXHRcdHJlc3VsdC5pc05ldyA9IHJlcG9ydEluZm8uaXNOZXc7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCByZXBvcnQgbmFtZSBhbmQgY2F0ZWdvcnkgdG8gbG9jYXRpb24uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZ1bGxOYW1lIFJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICovXHJcblx0c2V0UmVwb3J0RnVsbE5hbWUoZnVsbE5hbWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5zZXRMb2NhdGlvbih7XHJcblx0XHRcdGZ1bGxOYW1lOiBmdWxsTmFtZSxcclxuXHRcdFx0bmFtZTogdGhpcy5leHRyYWN0UmVwb3J0TmFtZShmdWxsTmFtZSksXHJcblx0XHRcdGNhdGVnb3J5OiB0aGlzLmV4dHJhY3RSZXBvcnRDYXRlZ29yeShmdWxsTmFtZSksXHJcblx0XHRcdGlzTmV3OiBmYWxzZVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogR28gdG8gXCJuZXdcIlxyXG5cdCAqL1xyXG5cdHNldElzTmV3KCkge1xyXG5cdFx0dGhpcy5zZXRMb2NhdGlvbih7XHJcblx0XHRcdGZ1bGxOYW1lOiBudWxsLFxyXG5cdFx0XHRuYW1lOiBudWxsLFxyXG5cdFx0XHRjYXRlZ29yeTogbnVsbCxcclxuXHRcdFx0aXNOZXc6IHRydWVcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhhbmRsZXIsIHdoaWNoIHJlYWN0cyBvbiBwYWdlIGxvYWQgYW5kICRsb2NhdGlvbiBjaGFuZ2UuXHJcblx0ICovXHJcblx0bG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpIHtcclxuXHRcdC8vIHVwZGF0ZSB1cmwgc2V0dGluZ3Mgb2JqZWN0IGJlY2F1c2UgdXJsIGhhcyBjaGFuZ2VkXHJcblx0XHR0aGlzLnNldHRpbmdzID0gbmV3IFVybFNldHRpbmdzKCk7XHJcblxyXG5cdFx0Ly8gY2FuY2VsIGFsbCBjdXJyZW50IHF1ZXJpZXNcclxuXHRcdC8vY29uc3QgY291bnRDYW5jZWxsZWQgPSB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5jYW5jZWxBbGxRdWVyaWVzKCk7XHJcblx0XHQvL2lmIChjb3VudENhbmNlbGxlZCA+IDApXHJcblx0XHQvL1x0dGhpcy4kbG9nLmRlYnVnKGA+Pj4gQ2FuY2VsbGVkICR7Y291bnRDYW5jZWxsZWR9IHF1ZXJpZXNgKTtcclxuXHJcblx0XHQvLyBzZXQgY3VycmVudCByZXBvcnQgc2V0IGlmIGxvY2F0aW9uIGhhcyBjaGFuZ2VkXHJcblx0XHRjb25zdCBuZXdMb2NhdGlvbk1vZGVsID0gdGhpcy5nZXRMb2NhdGlvbigpO1xyXG5cdFx0aWYgKG5ld0xvY2F0aW9uTW9kZWwuZnVsbE5hbWUgIT09IHRoaXMucmVwb3J0TmFtZUluZm8uZnVsbE5hbWUgfHwgbmV3TG9jYXRpb25Nb2RlbC5pc05ldyAhPT0gdGhpcy5yZXBvcnROYW1lSW5mby5pc05ldykge1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWVJbmZvID0gbmV3TG9jYXRpb25Nb2RlbDtcclxuXHRcdFx0dGhpcy5sb2NhdGlvbi5vbk5leHQodGhpcy5yZXBvcnROYW1lSW5mbyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGZpbHRlciBwYXJhbWV0ZXJzIHVybCBwYXJ0IHVzaW5nIGN1cnJlbnQgZmlsdGVyUGFyYW1ldGVycyBmcm9tIFVybFNldHRpbmdzIG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IFVybCBwYXJhbWV0ZXJzIHN0cmluZzogJyZwMT12MSZwMj12Mi4uLiZwTj12TicuXHJcblx0ICovXHJcblx0Z2V0RmlsdGVyUGFyYW1zU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVxdWVzdFN0cmluZyA9ICcnO1xyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuZmlsdGVyUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXR0aW5ncy5maWx0ZXJQYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3QgcGFyYW1PYmplY3QgPSB0aGlzLnNldHRpbmdzLmZpbHRlclBhcmFtZXRlcnNbaV07XHJcblx0XHRcdFx0cmVxdWVzdFN0cmluZyArPSBgJiR7cGFyYW1PYmplY3RbMF19PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtT2JqZWN0WzFdKX1gO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVxdWVzdFN0cmluZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IG5hbWUgZnJvbSBjYXRlZ29yeVxccmVwb3J0IGZ1bGwgbmFtZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gcmVwb3J0IG5hbWUgd2l0aG91dCBjYXRlZ29yeS5cclxuXHQgKi9cclxuXHRleHRyYWN0UmVwb3J0TmFtZShmdWxsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgbmFtZSBmcm9tIG9iamVjdCBcIiR7SlNPTi5zdHJpbmdpZnkoZnVsbE5hbWUpfVwiIHdpdGggdHlwZSAke3R5cGVvZiAoZnVsbE5hbWUpfWA7XHJcblx0XHRjb25zdCBwYXJ0cyA9IGZ1bGxOYW1lLnNwbGl0KHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKTtcclxuXHRcdHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IGNhdGVnb3J5IGZyb20gXCJjYXRlZ29yeVxccmVwb3J0IGZ1bGwgbmFtZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gcmVwb3J0IGNhdGVnb3J5LlxyXG5cdCAqL1xyXG5cdGV4dHJhY3RSZXBvcnRDYXRlZ29yeShmdWxsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgY2F0ZWdvcnkgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cclxuXHRcdGNvbnN0IHJlcG9ydEZ1bGxOYW1lUGFydHMgPSBmdWxsTmFtZS5zcGxpdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRsZXQgY2F0ZWdvcnk6IHN0cmluZztcclxuXHRcdGlmIChyZXBvcnRGdWxsTmFtZVBhcnRzLmxlbmd0aCA+PSAyKVxyXG5cdFx0XHRjYXRlZ29yeSA9IHJlcG9ydEZ1bGxOYW1lUGFydHMuc2xpY2UoMCwgcmVwb3J0RnVsbE5hbWVQYXJ0cy5sZW5ndGggLSAxKS5qb2luKHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0Y2F0ZWdvcnkgPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRVbmNhdGVnb3JpemVkKCk7XHJcblx0XHRyZXR1cm4gY2F0ZWdvcnk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCByZXBvcnQgbmFtZSwgY2F0ZWdvcnksIHJlcG9ydCBzZXQgbmFtZSBmb3IgcmVwb3J0IHBhcnQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZ1bGxOYW1lIFJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICogQHJldHVybiB7YW55fSByZXBvcnQgcGFydHMgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGV4dHJhY3RSZXBvcnRQYXJ0TmFtZXMoZnVsbE5hbWU6IHN0cmluZywgaXNQYXJ0TmFtZUF0UmlnaHQ6IGJvb2xlYW4pOiBhbnkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZ1bGxOYW1lKSB8fCBmdWxsTmFtZSA9PT0gJycpXHJcblx0XHRcdHRocm93IGBDYW4ndCBleHRyYWN0IHJlcG9ydCBwYXJ0IG5hbWUgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cclxuXHRcdGNvbnN0IHJlc3VsdCA9IHtcclxuXHRcdFx0cmVwb3J0UGFydE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lOiBmdWxsTmFtZSxcclxuXHRcdFx0cmVwb3J0U2V0TmFtZTogbnVsbCxcclxuXHRcdFx0cmVwb3J0TmFtZTogbnVsbCxcclxuXHRcdFx0cmVwb3J0Q2F0ZWdvcnk6IG51bGwsXHJcblx0XHRcdHJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk6IG51bGxcclxuXHRcdH07XHJcblx0XHQvLyBleHRyYWN0IHJlcG9ydCBwYXJ0IG5hbWVcclxuXHRcdGxldCByZXBvcnRTZXROYW1lID0gZnVsbE5hbWU7XHJcblx0XHRpZiAoZnVsbE5hbWUuaW5kZXhPZignQCcpID49IDApIHtcclxuXHRcdFx0Y29uc3QgcGFydHMgPSBmdWxsTmFtZS5zcGxpdCgnQCcpO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNVbmRlZmluZWQoaXNQYXJ0TmFtZUF0UmlnaHQpICYmIGlzUGFydE5hbWVBdFJpZ2h0KSB7XHJcblx0XHRcdFx0W3JlcG9ydFNldE5hbWUsIHJlc3VsdC5yZXBvcnRQYXJ0TmFtZV0gPSBwYXJ0cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRbcmVzdWx0LnJlcG9ydFBhcnROYW1lLCByZXBvcnRTZXROYW1lXSA9IHBhcnRzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBjb2xsZWN0IHJlc3VsdHMgaW50byBvbmUgb2JqZWN0OlxyXG5cdFx0cmVzdWx0LnJlcG9ydFNldE5hbWUgPSByZXBvcnRTZXROYW1lO1xyXG5cdFx0cmVzdWx0LnJlcG9ydE5hbWUgPSB0aGlzLmV4dHJhY3RSZXBvcnROYW1lKHJlcG9ydFNldE5hbWUpO1xyXG5cdFx0cmVzdWx0LnJlcG9ydENhdGVnb3J5ID0gdGhpcy5leHRyYWN0UmVwb3J0Q2F0ZWdvcnkocmVwb3J0U2V0TmFtZSk7XHJcblx0XHRyZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9IHJlc3VsdC5yZXBvcnROYW1lO1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChyZXN1bHQucmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRyZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9XHJcblx0XHRcdFx0cmVzdWx0LnJlcG9ydENhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeTtcclxuXHRcdHJlc3VsdC5yZXBvcnRGdWxsTmFtZSA9IChyZXN1bHQucmVwb3J0UGFydE5hbWUgIT0gbnVsbCA/IHJlc3VsdC5yZXBvcnRQYXJ0TmFtZSArICdAJyA6ICcnKSArIHJlc3VsdC5yZXBvcnRTZXROYW1lO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IHJlcG9ydCBpbmZvIG9iamVjdC5cclxuXHQgKi9cclxuXHRnZXRSZXBvcnRJbmZvKCk6IEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0TmFtZUluZm87XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFVybFBhcmFtcyh1cmwpIHtcclxuXHRcdGNvbnN0IHVybE9iaiA9ICh0eXBlb2YgKGFuZ3VsYXIuZWxlbWVudFsndXJsJ10pID09PSAndW5kZWZpbmVkJykgPyB3aW5kb3cucHVybCh1cmwpIDogYW5ndWxhci5lbGVtZW50Wyd1cmwnXSh1cmwpO1xyXG5cdFx0cmV0dXJuIHVybE9iai5kYXRhLnBhcmFtLnF1ZXJ5O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXJsU2VydmljZScsIEl6ZW5kYVVybFNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXJsU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgaXplbmRhUXVlcnlNb2R1bGUgZnJvbSAnY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9ycy1xdWVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUGluZ1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3Bpbmctc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcblxyXG4vLyByZWdpc3RlciBodHRwIHByb3ZpZGVyXHJcbml6ZW5kYVF1ZXJ5TW9kdWxlLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCAkaHR0cFByb3ZpZGVyID0+IHtcclxuXHQkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLnB1c2gocmVzcG9uc2VEYXRhID0+IHtcclxuXHRcdC8vIGNvbnZlcnQgJGh0dHAgcmVzcG9uc2UuIFdlIG5lZWQgdG8gdHJhbnNsYXRlIGFzcC5uZXQgZGF0ZXMgXHJcblx0XHQvLyBpbiBzdHJpbmcgZm9ybWF0ICcvRGF0ZSh0aWNrc051bWJlcikvJyB0byBqcyBEYXRlIG9iamVjdHMgKG9ubHkgZm9yIGpzb24gcmVzcG9uc2UgdHlwZSk6XHJcblx0XHR2YXIgcmVnZXhEYXRlID0gL15cXC9EYXRlXFwoKFstXXswLDF9XFxkKylcXClcXC8kLztcclxuXHRcdHZhciBjb252ZXJ0RGF0ZVN0cmluZ3NUb0RhdGVzID0gaW5wdXQgPT4ge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW5wdXQpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Zm9yIChsZXQga2V5IGluIGlucHV0KSB7XHJcblx0XHRcdFx0aWYgKCFpbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcclxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IGlucHV0W2tleV07XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IHZhbHVlLm1hdGNoKHJlZ2V4RGF0ZSk7XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0FycmF5KG1hdGNoKSAmJiBtYXRjaC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1pbGxpc2Vjb25kcyA9IHBhcnNlSW50KG1hdGNoW21hdGNoLmxlbmd0aCAtIDFdKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc05hTihtaWxsaXNlY29uZHMpKSB7XHJcblx0XHRcdFx0XHRcdFx0aW5wdXRba2V5XSA9IG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRjb252ZXJ0RGF0ZVN0cmluZ3NUb0RhdGVzKHZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRjb252ZXJ0RGF0ZVN0cmluZ3NUb0RhdGVzKHJlc3BvbnNlRGF0YSk7XHJcblx0XHRyZXR1cm4gcmVzcG9uc2VEYXRhO1xyXG5cdH0pO1xyXG59XSk7XHJcblxyXG4vLyByZWdpc3RlciBzZXJ2aWNlc1xyXG5JemVuZGFSc1F1ZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhUGluZ1NlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG5JemVuZGFVcmxTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvbW9kdWxlJztcclxuaW1wb3J0ICdjb21tb24vcXVlcnkvbW9kdWxlJztcclxuXHJcbmNvbnN0IGl6ZW5kYVVpTW9kdWxlID0gYW5ndWxhclxyXG5cdC5tb2R1bGUoJ2l6ZW5kYS5jb21tb24udWknLCBbJ3J4JywgJ2l6ZW5kYS5jb21tb24uY29yZScsICdpemVuZGEuY29tbW9uLnF1ZXJ5J10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCcsIFsnanNfTmFtZScsICdOYW1lJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVFbXB0eUVycm9yJywgWydqc19OYW1lQ2FudEJlRW1wdHknLCAnUmVwb3J0IG5hbWUgY2FuXFwndCBiZSBlbXB0eS4nXSlcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUludmFsaWRFcnJvcicsIFsnanNfSW52YWxpZFJlcG9ydE5hbWUnLCAnSW52YWxpZCByZXBvcnQgbmFtZSddKTtcclxuZXhwb3J0IGRlZmF1bHQgaXplbmRhVWlNb2R1bGU7XHJcblxyXG4iLCIvKipcclxuICogSXplbmRhU2VsZWN0SXRlbU1vZGVsIGNsYXNzIGlzIHVzZWQgdG8gcHJvdmlkZSB1bmlmb3JtIGFuZ3VsYXIgYmluZGluZ3Mgc3R5bGUgZm9yIDxzZWxlY3Q+LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB7XHJcblx0dGV4dDogc3RyaW5nO1xyXG5cdHZhbHVlOiBzdHJpbmc7XHJcblx0Z3JvdXA6IHN0cmluZztcclxuXHRzZWxlY3RlZDogYm9vbGVhbjtcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGdyb3VwPzogc3RyaW5nLCBzZWxlY3RlZD86IGJvb2xlYW4sIGVuYWJsZWQ/OiBib29sZWFuKSB7XHJcblx0XHRpZiAodHlwZW9mICh2YWx1ZSkgPT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIHNob3VsZCBiZSBkZWZpbmVkJyk7XHJcblx0XHR0aGlzLnRleHQgPSB0ZXh0O1xyXG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cdFx0dGhpcy5ncm91cCA9IGdyb3VwID8gZ3JvdXAgOiB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQgPyBzZWxlY3RlZCA6IGZhbHNlO1xyXG5cdFx0dGhpcy5lbmFibGVkID0gZW5hYmxlZCA/IGVuYWJsZWQgOiB0cnVlO1xyXG5cdH1cclxuXHJcblx0Z2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLmVuYWJsZWQ7XHJcblx0fVxyXG5cclxuXHRpc0VxdWFsKHRlc3RWYWx1ZTogc3RyaW5nLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcblx0XHRpZiAodGVzdFZhbHVlID09PSBudWxsICYmIHRoaXMudmFsdWUgPT09IG51bGwpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0aWYgKHRlc3RWYWx1ZSA9PT0gbnVsbCB8fCB0aGlzLnZhbHVlID09PSBudWxsKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRyZXR1cm4gaXNMb3dlckNhc2VDb21wYXJpc29uXHJcblx0XHRcdD8gdGVzdFZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKVxyXG5cdFx0XHQ6IHRlc3RWYWx1ZSA9PT0gdGhpcy52YWx1ZTtcclxuXHR9XHJcblxyXG5cdGlzRXF1YWxXaXRoSXRlbShpdGVtOiBJemVuZGFTZWxlY3RJdGVtTW9kZWwsIGlzTG93ZXJDYXNlQ29tcGFyaXNvbj86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICghaXRlbSlcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNFcXVhbChpdGVtLnZhbHVlLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIGFzIElSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5cclxuLyoqXHJcbiAqIE1vZGVsIGZvciB0aGUgbGlzdCBvZiBzaGFyZSBydWxlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTaGFyZU1vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHJcblx0LyoqXHJcblx0ICogU2hhcmUgcnVsZXMgbW9kZWwgY29sbGVjdGlvblxyXG5cdCAqL1xyXG5cdHNoYXJlUnVsZXM6IEl6ZW5kYVNoYXJlUnVsZU1vZGVsW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5zaGFyZVJ1bGVzID0gbmV3IEFycmF5PEl6ZW5kYVNoYXJlUnVsZU1vZGVsPigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVzZXJpYWxpemUgc2hhcmUgcnVsZXMuIFRoaXMgbWV0aG9kIHNldHMgdGhpcy5zaGFyZVJ1bGVzIGZpZWxkLlxyXG5cdCAqIEBwYXJhbSB7YW55W119IGpzb24gU2VyaWFsaXplZCBzaGFyZSBydWxlcyBhcnJheS5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IGF2YWlsYWJsZVJpZ2h0cyBSaWdodCBtb2RlbCBjb2xsZWN0aW9uLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gYXZhaWxhYmxlU3ViamVjdHMgU3ViamVjdCBtb2RlbCBjb2xsZWN0aW9uLlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSxcclxuXHRcdGF2YWlsYWJsZVJpZ2h0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sXHJcblx0XHRhdmFpbGFibGVTdWJqZWN0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10pIHtcclxuXHRcdGlmICghanNvbikge1xyXG5cdFx0XHR0aGlzLnNoYXJlUnVsZXMgPSBbXTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5zaGFyZVJ1bGVzID0ganNvbi5tYXAocnVsZUpzb24gPT4ge1xyXG5cdFx0XHRjb25zdCBzaGFyZVJ1bGUgPSBuZXcgSXplbmRhU2hhcmVSdWxlTW9kZWwoKTtcclxuXHRcdFx0c2hhcmVSdWxlLmZyb21Kc29uKHJ1bGVKc29uLCBhdmFpbGFibGVSaWdodHMsIGF2YWlsYWJsZVN1YmplY3RzKTtcclxuXHRcdFx0cmV0dXJuIHNoYXJlUnVsZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VyaWFsaXplIGN1cnJlbnQgc2hhcmUgcnVsZXMgdG8ganNvbiBvYmplY3QuXHJcblx0ICogQHJldHVybiB7YW55W119IGFycmF5IG9mIHNlcmlhbGl6ZWQgc2hhcmUgcnVsZXMuXHJcblx0ICovXHJcblx0dG9Kc29uKCk6IGFueVtdIHtcclxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLnNoYXJlUnVsZXNcclxuXHRcdFx0LmZpbHRlcihzaGFyZVJ1bGUgPT4gc2hhcmVSdWxlLnN1YmplY3QgJiYgc2hhcmVSdWxlLnJpZ2h0KVxyXG5cdFx0XHQubWFwKHNoYXJlUnVsZSA9PiBzaGFyZVJ1bGUudG9Kc29uKCkpO1xyXG5cdFx0cmV0dXJuIGpzb247XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogTW9kZWwgZm9yIHN1YmplY3QtcmlnaHQgcGFpci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTaGFyZVJ1bGVNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblxyXG5cdGF2YWlsYWJsZVN1YmplY3RzID0gbmV3IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD4oKTtcclxuXHRyaWdodDogSXplbmRhU2VsZWN0SXRlbU1vZGVsID0gbnVsbDtcclxuXHRzdWJqZWN0OiBJemVuZGFTZWxlY3RJdGVtTW9kZWwgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzdWJqZWN0cz86IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblx0XHRpZiAoc3ViamVjdHMpXHJcblx0XHRcdHRoaXMuc2V0QXZhaWxhYmxlU3ViamVjdHMoc3ViamVjdHMsIG51bGwpO1xyXG5cdH1cclxuXHJcblx0c2V0QXZhaWxhYmxlU3ViamVjdHMoc3ViamVjdHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLCBzdWJqZWN0VmFsdWU/OiBzdHJpbmcpIHtcclxuXHJcblx0XHRjb25zdCBzdWJqVmFsdWUgPSBzdWJqZWN0VmFsdWVcclxuXHRcdFx0PyBzdWJqZWN0VmFsdWVcclxuXHRcdFx0OiB0aGlzLnN1YmplY3RcclxuXHRcdFx0XHQ/IHRoaXMuc3ViamVjdC52YWx1ZVxyXG5cdFx0XHRcdDogbnVsbDtcclxuXHJcblx0XHQvLyB1cGRhdGUgYXZhaWxhYmxlIHN1YmplY3RzIGNvbGxlY3Rpb25cclxuXHRcdHRoaXMuYXZhaWxhYmxlU3ViamVjdHMgPSBzdWJqZWN0cyAmJiBzdWJqZWN0cy5sZW5ndGggPyBbLi4uc3ViamVjdHNdIDogW107XHJcblxyXG5cdFx0Ly8gdXBkYXRlIHN1YmplY3RcclxuXHRcdHRoaXMuc3ViamVjdCA9IG51bGw7XHJcblx0XHRpZiAoc3VialZhbHVlICE9PSBudWxsKVxyXG5cdFx0XHR0aGlzLnN1YmplY3QgPSB0aGlzLmF2YWlsYWJsZVN1YmplY3RzLmZpbmQocyA9PiBzLnZhbHVlID09PSBzdWJqVmFsdWUpIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHRmcm9tSnNvbihqc29uOiBhbnksIHJpZ2h0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sIHN1YmplY3RzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cclxuXHRcdC8vIHNldCByaWdodFxyXG5cdFx0dGhpcy5yaWdodCA9IG51bGw7XHJcblx0XHRpZiAocmlnaHRzICYmIHJpZ2h0cy5sZW5ndGgpXHJcblx0XHRcdHRoaXMucmlnaHQgPSByaWdodHMuZmluZChyID0+IGpzb24gJiYgci52YWx1ZSA9PT0ganNvbi5yaWdodCkgfHwgbnVsbDtcclxuXHJcblx0XHQvLyBzZXQgYXZhaWxhYmxlIHN1YmplY3RcclxuXHRcdHRoaXMuc2V0QXZhaWxhYmxlU3ViamVjdHMoc3ViamVjdHMsIGpzb24gPyBqc29uLnN1YmplY3QgOiBudWxsKTtcclxuXHR9XHJcblxyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cclxuXHRcdGlmICghdGhpcy5yaWdodCAmJiAhdGhpcy5zdWJqZWN0KVxyXG5cdFx0XHQvLyB5b3UgY2FuIGZhY2Ugd2l0aCB0aGlzIHNpdHVhdGlvbiBvbmx5IGlmIHlvdSBjYWxsIHRvSnNvbiBkaXJlY3RseSBmb3IgdGhpcyBjbGFzcywgXHJcblx0XHRcdC8vYmVjYXVzZSB3aGVuIHlvdSBzZXJpYWxpemUgY29sbGVjdGlvbiwgdGhlcmUgaXMgYWRkaXRpb25hbCBjaGVjayBmb3IgZW1wdHkgc3ViamVjdCBhbmQgcmlnaHQuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IGpzb24gPSB7XHJcblx0XHRcdHJpZ2h0OiB0aGlzLnJpZ2h0LnZhbHVlLFxyXG5cdFx0XHRzdWJqZWN0OiB0aGlzLnN1YmplY3QudmFsdWVcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGpzb247XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTaGFyZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2hhcmVSdWxlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2hhcmUtbW9kZWwnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogU2VydmljZSB1c2VkIGZvciBzdG9yZSBkYXRhIGluIHNoYXJlIGNvbnRyb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNoYXJlU2VydmljZSB7XHJcblxyXG5cdHJpZ2h0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzdWJqZWN0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzaGFyZU1vZGVsOiBJemVuZGFTaGFyZU1vZGVsO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHEnLCAnJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIG5ldyBlbXB0eSBzaGFyZSBydWxlLlxyXG5cdCAqL1xyXG5cdGFkZE5ld1NoYXJlUnVsZSgpIHtcclxuXHRcdGNvbnN0IHNoYXJlUnVsZU1vZGVsID0gbmV3IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKHRoaXMuc3ViamVjdHMpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMucHVzaChzaGFyZVJ1bGVNb2RlbCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgc2hhcmUgcnVsZVxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTaGFyZVJ1bGVNb2RlbH0gc2hhcmVSdWxlIFNoYXJlIHJ1bGUgZm9yIHJlbW92YWwuXHJcblx0ICovXHJcblx0cmVtb3ZlU2hhcmVSdWxlKHNoYXJlUnVsZTogSXplbmRhU2hhcmVSdWxlTW9kZWwpIHtcclxuXHRcdGlmICghc2hhcmVSdWxlKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBpZHggPSB0aGlzLnNoYXJlTW9kZWwuc2hhcmVSdWxlcy5pbmRleE9mKHNoYXJlUnVsZSk7XHJcblx0XHR0aGlzLnNoYXJlTW9kZWwuc2hhcmVSdWxlcy5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBjdXJyZW50IHNjaGV1bGUgY29uZmlnIGpzb24gZm9yIHNlbmQgdG8gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gUmF3IG1vZGVsIGZvciBzZW5kaW5nIHRvIHNlcnZlci5cclxuXHQgKi9cclxuXHRnZXRTaGFyZUNvbmZpZ0ZvclNlbmQoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLnNoYXJlTW9kZWwudG9Kc29uKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBzaGFyZSBjb25maWcuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU2hhcmUgbW9kZWwgcmF3IG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0c2V0U2hhcmVDb25maWcoanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0dmFyIGlzRGVmYXVsdENvbmZpZyA9ICFqc29uO1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuZmlsbFNoYXJlQ29uZmlnRnJvbUpzb24oanNvbiwgaXNEZWZhdWx0Q29uZmlnKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBzaGFyZSBzZXJ2aWNlIHN0YXRlIGZyb20gdGhlIGNvbmZpZyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU2hhcmUgbW9kZWwgcmF3IG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaWxsU2hhcmVDb25maWdGcm9tSnNvbihqc29uOiBhbnksIGlzRGVmYXVsdENvbmZpZzogYm9vbGVhbik6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLmxvYWRTaGFyZURhdGEoKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRpZiAoaXNEZWZhdWx0Q29uZmlnKSB7XHJcblx0XHRcdFx0XHRqc29uID0gW3tcclxuXHRcdFx0XHRcdFx0c3ViamVjdDogJ0V2ZXJ5b25lJyxcclxuXHRcdFx0XHRcdFx0cmlnaHQ6ICdOb25lJ1xyXG5cdFx0XHRcdFx0fV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuc2hhcmVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZU1vZGVsKCk7XHJcblx0XHRcdFx0dGhpcy5zaGFyZU1vZGVsLmZyb21Kc29uKGpzb24sIHRoaXMucmlnaHRzLCB0aGlzLnN1YmplY3RzKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBzaGFyZSBkYXRhIGFuZCBhdmFpbGFibGUgdmFsdWVzIGZyb20gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRwcml2YXRlIGxvYWRTaGFyZURhdGEoKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblxyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0U2hhcmVEYXRhKCkudGhlbihqc29uID0+IHtcclxuXHRcdFx0XHQvLyBmaWxsIGF2YWlsYWJsZSByaWdodHMgY29sbGVjdGlvblxyXG5cdFx0XHRcdHRoaXMucmlnaHRzID0ganNvbi5SaWdodHMubWFwKHJpZ2h0SnNvbiA9PiBuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKHJpZ2h0SnNvbi5UZXh0LCByaWdodEpzb24uVmFsdWUpKTtcclxuXHJcblx0XHRcdFx0Ly8gZmlsbCBhdmFpbGFibGUgc3ViamVjdHMgY29sbGVjdGlvblxyXG5cdFx0XHRcdHRoaXMuc3ViamVjdHMgPSBqc29uLlNoYXJlV2l0aC5tYXAoc3ViamVjdEpzb24gPT4gbmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChzdWJqZWN0SnNvbi5UZXh0LCBzdWJqZWN0SnNvbi5WYWx1ZSkpO1xyXG5cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZGVmYXVsdCB2YWx1ZXMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcclxuXHRcdHRoaXMucmlnaHRzID0gbmV3IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD4oKTtcclxuXHRcdHRoaXMuc3ViamVjdHMgPSBuZXcgQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPigpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsID0gbmV3IEl6ZW5kYVNoYXJlTW9kZWwoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFuZ3VsYXIgZGVwZW5kZW5jaWVzXHJcblx0ICovXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhU2hhcmVTZXJ2aWNlJywgSXplbmRhU2hhcmVTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVNoYXJlU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIGFzIElSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTY2hlZHVsZU1vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHRkYXRlOiBEYXRlO1xyXG5cdHJlY2lwaWVudHM6IHN0cmluZztcclxuXHJcblx0ZW1haWw6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbDtcclxuXHRyZXBlYXQ6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbDtcclxuXHR0aW1lem9uZTogSXplbmRhU2VsZWN0SXRlbU1vZGVsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblx0XHR0aGlzLmVtYWlsID0gbnVsbDtcclxuXHRcdHRoaXMucmVjaXBpZW50cyA9ICcnO1xyXG5cdFx0dGhpcy5yZXBlYXQgPSBudWxsO1xyXG5cdFx0dGhpcy50aW1lem9uZSA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaWxsIHRoaXMgb2JqZWN0IGZyb20gc2VydmVyLXNpZGUgZHRvIG9iamVjdC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBkdG8gb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gZW1haWxUeXBlcyBFbWFpbCB0eXBlIG1vZGVscyBjb2xsZWN0aW9uLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gcmVwZWF0VHlwZXMgUmVwZWF0IHR5cGUgbW9kZWxzIGNvbGxlY3Rpb24uXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSB0aW1lem9uZXMgVGltZXpvbmUgbW9kZWxzIGNvbGxlY3Rpb24uXHJcblx0ICovXHJcblx0ZnJvbUpzb24oanNvbjogYW55LFxyXG5cdFx0ZW1haWxUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sXHJcblx0XHRyZXBlYXRUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sXHJcblx0XHR0aW1lem9uZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblxyXG5cdFx0Ly8gcGFyc2UgYW5kIHNldCBkYXRlXHJcblx0XHRpZiAoanNvbiAmJiBqc29uLmRhdGVTdHJpbmcpIHtcclxuXHRcdFx0bGV0IGRhdGVTdHJpbmcgPSBqc29uLmRhdGVTdHJpbmcudHJpbSgpO1xyXG5cdFx0XHRsZXQgbW9tZW50RGF0ZTogYW55O1xyXG5cdFx0XHRpZiAoanNvbi50aW1lU3RyaW5nKSB7XHJcblx0XHRcdFx0ZGF0ZVN0cmluZyArPSBgICR7anNvbi50aW1lU3RyaW5nLnRyaW0oKX1gO1xyXG5cdFx0XHRcdG1vbWVudERhdGUgPSBtb21lbnQoZGF0ZVN0cmluZywgJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRtb21lbnREYXRlID0gbW9tZW50KGRhdGVTdHJpbmcsICdZWVlZLU1NLUREJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5kYXRlID0gbW9tZW50RGF0ZS5pc1ZhbGlkKCkgPyBtb21lbnREYXRlLl9kIDogbmV3IERhdGUoKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0aWYgKCF0aGlzLmRhdGUgfHwgdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgPD0gMTkwMClcclxuXHRcdFx0dGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcblx0XHQvLyB0aW1lem9uZVxyXG5cdFx0dGhpcy50aW1lem9uZSA9IHRpbWV6b25lcy5sZW5ndGggPyAodGltZXpvbmVzLmZpbmQodHogPT4gdHouc2VsZWN0ZWQpIHx8IHRpbWV6b25lc1swXSkgOiBudWxsO1xyXG5cdFx0aWYgKGpzb24gJiYganNvbi50aW1lem9uZUlkKVxyXG5cdFx0XHR0aGlzLnRpbWV6b25lID0gdGltZXpvbmVzLmZpbmQodHogPT4gdHoudmFsdWUgPT09IGpzb24udGltZXpvbmVJZCkgfHwgdGhpcy50aW1lem9uZTtcclxuXHJcblx0XHQvLyBlbWFpbCB0eXBlXHJcblx0XHR0aGlzLmVtYWlsID0gZW1haWxUeXBlcy5sZW5ndGggPyAoZW1haWxUeXBlcy5maW5kKGUgPT4gZS5zZWxlY3RlZCkgfHwgZW1haWxUeXBlc1swXSkgOiBudWxsO1xyXG5cclxuXHRcdC8vIHJlcGVhdCB0eXBlXHJcblx0XHR0aGlzLnJlcGVhdCA9IHJlcGVhdFR5cGVzLmxlbmd0aCA/IChyZXBlYXRUeXBlcy5maW5kKHIgPT4gci5zZWxlY3RlZCkgfHwgcmVwZWF0VHlwZXNbMF0pIDogbnVsbDtcclxuXHJcblx0XHQvLyByZWNpcGllbnRzXHJcblx0XHR0aGlzLnJlY2lwaWVudHMgPSBqc29uICYmIGpzb24ucmVjaXBpZW50cyA/IGpzb24ucmVjaXBpZW50cyA6ICcnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIHNlcnZlci1zaWRlIGR0byBvYmplY3QgZm9yIHRoaXMgc2NoZWR1bGUgbW9kZWwgb2JqZWN0LlxyXG5cdCAqIEByZXR1cm4ge2FueX0gTmV3IGpzb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cdFx0bGV0IGRhdGVTdHJpbmc6IHN0cmluZyA9IG51bGw7XHJcblx0XHRsZXQgdGltZVN0cmluZzogc3RyaW5nID0gbnVsbDtcclxuXHRcdGlmICh0aGlzLmRhdGUpIHtcclxuXHRcdFx0ZGF0ZVN0cmluZyA9IG1vbWVudCh0aGlzLmRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG5cdFx0XHR0aW1lU3RyaW5nID0gbW9tZW50KHRoaXMuZGF0ZSkuZm9ybWF0KCdISDptbTpzcycpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QganNvbiA9IHtcclxuXHRcdFx0ZGF0ZVN0cmluZzogZGF0ZVN0cmluZyxcclxuXHRcdFx0dGltZVN0cmluZzogdGltZVN0cmluZyxcclxuXHRcdFx0cmVjaXBpZW50czogdGhpcy5yZWNpcGllbnRzLFxyXG5cdFx0XHRlbWFpbDogdGhpcy5lbWFpbCA/IHRoaXMuZW1haWwudmFsdWUgOiBudWxsLFxyXG5cdFx0XHRyZXBlYXQ6IHRoaXMucmVwZWF0ID8gdGhpcy5yZXBlYXQudmFsdWUgOiBudWxsLFxyXG5cdFx0XHR0aW1lem9uZUlkOiB0aGlzLnRpbWV6b25lID8gdGhpcy50aW1lem9uZS52YWx1ZSA6IG51bGxcclxuXHRcdH07XHJcblx0XHRyZXR1cm4ganNvbjtcclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgeyBJemVuZGFTY2hlZHVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIHtcclxuXHJcblx0c2NoZWR1bGVDb25maWc6IEl6ZW5kYVNjaGVkdWxlTW9kZWw7XHJcblx0dGltZXpvbmVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXTtcclxuXHRzZW5kRW1haWxUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW107XHJcblx0cmVwZWF0VHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHEnLCAnJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGN1cnJlbnQgc2NoZXVsZSBjb25maWcganNvbiBmb3Igc2VuZCB0byBzZXJ2ZXIuXHJcblx0ICogQHJldHVybiB7YW55fSBSYXcgbW9kZWwgZm9yIHNlbmRpbmcgdG8gc2VydmVyLlxyXG5cdCAqL1xyXG5cdGdldFNjaGVkdWxlQ29uZmlnRm9yU2VuZCgpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2NoZWR1bGVDb25maWcudG9Kc29uKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBzY2hlZHVsZSBjb25maWcuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gc2NoZWR1bGUgcmF3IG1vZGVsLlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRzZXRTY2hlZHVsZUNvbmZpZyhqc29uOiBhbnkpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy5maWxsU2NoZWR1bGVDb25maWdGcm9tSnNvbihqc29uKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBzY2hlZHVsZSBzZXJ2aWNlIHN0YXRlIGZyb20gdGhlIGNvbmZpZyBvYmplY3QuXHJcblx0ICogU2NoZWR1bGUgdGltZXpvbmVzLCByZXBlYXQgdHlwZXMgYW5kIG90aGVycyBhcmUgc3VwcG9zZWQgdG8gYmUgbG9hZGVkLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIHNjaGVkdWxlIHJhdyBtb2RlbC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaWxsU2NoZWR1bGVDb25maWdGcm9tSnNvbihqc29uOiBhbnkpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Ly8gTG9hZCBzY2hlZHVsZSBjb2xsZWN0aW9ucy5cclxuXHRcdFx0dGhpcy5sb2FkU2NoZWR1bGVEYXRhKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0Ly8gRmlsbCBzY2hlZHVsZSBjb25maWcgZnJvbSBqc29uIGFmdGVyIGxvYWRpbmcgY29sbGVjdGlvbnMuXHJcblx0XHRcdFx0dGhpcy5zY2hlZHVsZUNvbmZpZy5mcm9tSnNvbihqc29uLCB0aGlzLnNlbmRFbWFpbFR5cGVzLCB0aGlzLnJlcGVhdFR5cGVzLCB0aGlzLnRpbWV6b25lcyk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBzY2hlZHVsZSBkYXRhIGFuZCBhdmFpbGFibGUgdmFsdWVzIGZyb20gc2VydmVyXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZFNjaGVkdWxlRGF0YSgpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHJcblx0XHRcdC8vIGNhbGN1bGF0ZSBjdXJyZW50IHRpbWV6b25lIHN0ZCBvZmZzZXQ6XHJcblx0XHRcdGNvbnN0IHJpZ2h0Tm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Y29uc3QgamFuMSA9IG5ldyBEYXRlKHJpZ2h0Tm93LmdldEZ1bGxZZWFyKCksIDAsIDEsIDAsIDAsIDAsIDApO1xyXG5cdFx0XHRjb25zdCB0ZW1wID0gamFuMS50b0dNVFN0cmluZygpO1xyXG5cdFx0XHRjb25zdCBqYW4yID0gbmV3IERhdGUodGVtcC5zdWJzdHJpbmcoMCwgdGVtcC5sYXN0SW5kZXhPZignICcpKSk7XHJcblx0XHRcdGNvbnN0IHN0ZFRpbWVPZmZzZXQgPSAoamFuMS5nZXRUaW1lKCkgLSBqYW4yLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKTtcclxuXHJcblx0XHRcdC8vIGxvYWQgc2NoZWR1bGUgZGljdGlvbmFyaWVzOlxyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0U2NoZWR1bGVEYXRhKHN0ZFRpbWVPZmZzZXQpLnRoZW4oanNvbiA9PiB7XHJcblxyXG5cdFx0XHRcdHRoaXMudGltZXpvbmVzID0ganNvbi5UaW1lWm9uZXMubWFwKHR6ID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHR6VGV4dCA9IHR6LlRleHQgPyB0ei5UZXh0LnJlcGxhY2VBbGwoJyZuYnNwOycsICcgJykgOiAnJztcclxuXHRcdFx0XHRcdHJldHVybiBuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKHR6VGV4dCwgdHouVmFsdWUsIHVuZGVmaW5lZCwgdHouU2VsZWN0ZWQsIHR6LkVuYWJsZWQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR0aGlzLnNlbmRFbWFpbFR5cGVzID0ganNvbi5TZW5kRW1haWxMaXN0Lm1hcChlbWwgPT5cclxuXHRcdFx0XHRcdG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwoZW1sLlRleHQsIGVtbC5WYWx1ZSwgdW5kZWZpbmVkLCBlbWwuU2VsZWN0ZWQsIGVtbC5FbmFibGVkKSk7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVwZWF0VHlwZXMgPSBqc29uLlJlcGVhdFR5cGVzLm1hcChydCA9PlxyXG5cdFx0XHRcdFx0bmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChydC5UZXh0LCBydC5WYWx1ZSwgdW5kZWZpbmVkLCBydC5TZWxlY3RlZCwgcnQuRW5hYmxlZCkpO1xyXG5cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZGVmYXVsdCB2YWx1ZXMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc2NoZWR1bGVDb25maWcgPSBuZXcgSXplbmRhU2NoZWR1bGVNb2RlbCgpO1xyXG5cdFx0dGhpcy50aW1lem9uZXMgPSBbXTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsVHlwZXMgPSBbXTtcclxuXHRcdHRoaXMucmVwZWF0VHlwZXMgPSBbXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsIEl6ZW5kYVNjaGVkdWxlU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFTY2hlZHVsZVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFBbGlnblN3aXRjaGVyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG5nTW9kZWw6IGFueTtcclxuXHR0aXRsZTogc3RyaW5nO1xyXG5cdGFsaWduU2hvcnRjdXQ6IHN0cmluZztcclxuXHRuZXh0VmFsdWU6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFsaWduIHN3aXRjaGVyIGRpcmVjdGl2ZS5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUFsaWduU3dpdGNoZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBRSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ01vZGVsOiAnPScsXHJcblx0XHR0aXRsZTogJ0AnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9IGA8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tYWxpZ24tc3dpdGNoZXIgZ2x5cGhpY29uXCIgbmctY2xpY2s9XCJuZXh0VmFsdWUoKVwiIG5nLWF0dHItdGl0bGU9XCJ0aXRsZVwiIG5nLWNsYXNzPVwiYWxpZ25TaG9ydGN1dFwiPjwvc3Bhbj5gO1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQWxpZ25Td2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUFsaWduU3dpdGNoZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQWxpZ25Td2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtc0FycmF5ID0gWydMJywgJ00nLCAnUicsICdKJywgJyAnXTtcclxuXHRcdFx0Y29uc3Qgc2hvcnRjdXRzID0ge1xyXG5cdFx0XHRcdCdMJzogJ2dseXBoaWNvbi1hbGlnbi1sZWZ0JyxcclxuXHRcdFx0XHQnTSc6ICdnbHlwaGljb24tYWxpZ24tY2VudGVyJyxcclxuXHRcdFx0XHQnSic6ICdnbHlwaGljb24tYWxpZ24tY2VudGVyJyxcclxuXHRcdFx0XHQnUic6ICdnbHlwaGljb24tYWxpZ24tcmlnaHQnLFxyXG5cdFx0XHRcdCcgJzogJ2dseXBoaWNvbi1ub25lJ1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgdmFsaWRhdGVWYWx1ZSA9IChtb2RlbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKG1vZGVsKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAoaXRlbXNBcnJheS5pbmRleE9mKG1vZGVsKSA8IDApXHJcblx0XHRcdFx0XHR0aHJvdyAnVW5rbm93biBhbGlnbiB2YWx1ZTogJyArIG1vZGVsO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIHVwZGF0ZVNob3J0Y3V0ID0gKG1vZGVsKSA9PiAkc2NvcGUuYWxpZ25TaG9ydGN1dCA9IHNob3J0Y3V0c1ttb2RlbF07XHJcblxyXG5cdFx0XHQkc2NvcGUubmV4dFZhbHVlID0gKCkgPT4ge1xyXG5cdFx0XHRcdHZhciBpZHggPSBpdGVtc0FycmF5LmluZGV4T2YoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHRcdGlmIChpZHggPCBpdGVtc0FycmF5Lmxlbmd0aCAtIDEpXHJcblx0XHRcdFx0XHRpZHgrKztcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRpZHggPSAwO1xyXG5cdFx0XHRcdCRzY29wZS5uZ01vZGVsID0gaXRlbXNBcnJheVtpZHhdO1xyXG5cdFx0XHRcdHVwZGF0ZVNob3J0Y3V0KCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vXHJcblx0XHRcdCRzY29wZS4kcGFyZW50LiR3YXRjaChhdHRycy5uZ01vZGVsLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XHJcblx0XHRcdFx0aWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YWxpZGF0ZVZhbHVlKG5ld1ZhbHVlKTtcclxuXHRcdFx0XHR1cGRhdGVTaG9ydGN1dChuZXdWYWx1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YWxpZGF0ZVZhbHVlKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0dXBkYXRlU2hvcnRjdXQoJHNjb3BlLm5nTW9kZWwpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCkgPT4gbmV3IEl6ZW5kYUFsaWduU3dpdGNoZXIoKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gW107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUFsaWduU3dpdGNoZXInLCBbSXplbmRhQWxpZ25Td2l0Y2hlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFBdXRvY29tcGxldGVTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdNb2RlbDogc3RyaW5nO1xyXG5cdGF1dG9jb21wbGV0ZUl0ZW1zOiBhbnk7XHJcblx0dXBkYXRlQXV0b2NvbXBsZXRlSXRlbXM6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEF1dG9jb21wbGV0ZSBkaXJlY3RpdmUuIFVzZXMgXCJ0YWdpdFwiLiBBcHBseWVkIGZvciA8aW5wdXQgaXplbmRhLWF1dG9jb21wbGV0ZT4gZWxlbWVudC5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUF1dG9jb21wbGV0ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHJlcXVpcmUgPSAnbmdNb2RlbCc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ01vZGVsOiAnPScsXHJcblx0XHRhdXRvY29tcGxldGVJdGVtczogJz0nLFxyXG5cdFx0dXBkYXRlQXV0b2NvbXBsZXRlSXRlbXM6ICcmJ1xyXG5cdH07XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFBdXRvY29tcGxldGVTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFBdXRvY29tcGxldGUucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQXV0b2NvbXBsZXRlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ3JlYXRlIGFycmF5IHdpdGggYXV0b2NvbXBsZXRlIGl0ZW0gdGV4dHNcclxuXHRcdFx0ICogQHBhcmFtIHtBcnJheTxvYmplY3Q+fSBpdGVtcy5cclxuXHRcdFx0ICogQHJldHVybnMge0FycmF5PHN0cmluZz59LlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0bGV0IHByZXBhcmVTb3VyY2UgPSAoaXRlbXM6IGFueVtdKTogc3RyaW5nW10gPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGl0ZW1zKSB8fCAhaXRlbXMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0XHRcdHJldHVybiBpdGVtc1xyXG5cdFx0XHRcdFx0LmZpbHRlcihpdGVtID0+IGFuZ3VsYXIuaXNPYmplY3QoaXRlbSkpXHJcblx0XHRcdFx0XHQubWFwKGl0ZW0gPT4gaXRlbVsndGV4dCddKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGluaXRpYWxpemUgY29tcG9uZW50XHJcblx0XHRcdCRlbGVtZW50LnZhbCgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdCRlbGVtZW50Wyd0YWdpdCddKHtcclxuXHRcdFx0XHR0YWdTb3VyY2U6IChyZXEsIHJlc3BvbnNlRnVuY3Rpb24pID0+IHtcclxuXHRcdFx0XHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS51cGRhdGVBdXRvY29tcGxldGVJdGVtcykpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdHZhciBwb3NzaWJsZVRleHQgPSByZXEudGVybS5zcGxpdCgvLFxccyovKS5wb3AoKTtcclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBzdWdnZXN0ZWQgaXRlbXM6XHJcblx0XHRcdFx0XHQkc2NvcGUudXBkYXRlQXV0b2NvbXBsZXRlSXRlbXMoeyBhcmcwOiBwb3NzaWJsZVRleHQgfSkudGhlbihuZXdFeGlzdGVudFZhbHVlc0xpc3QgPT4ge1xyXG5cdFx0XHRcdFx0XHR2YXIgaXRlbXMgPSBwcmVwYXJlU291cmNlKG5ld0V4aXN0ZW50VmFsdWVzTGlzdCBhcyBhbnlbXSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGl0ZW1zXHJcblx0XHRcdFx0XHRcdFx0LmZpbHRlcihpdGVtID0+ICEhaXRlbSAmJiBpdGVtICE9ICcuLi4nKVxyXG5cdFx0XHRcdFx0XHRcdC5tYXAoaXRlbSA9PiBpdGVtLnJlcGxhY2VBbGwoJyN8fCMnLCAnLCcpKTtcclxuXHRcdFx0XHRcdFx0cmVzcG9uc2VGdW5jdGlvbihyZXN1bHQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjYXNlU2Vuc2l0aXZlOiB0cnVlLFxyXG5cdFx0XHRcdGFsbG93RHVwbGljYXRlczogZmFsc2UsXHJcblx0XHRcdFx0c2luZ2xlRmllbGREZWxpbWl0ZXI6IGpzUmVzb3VyY2VzLmxpdGVyYWxDb21tYSxcclxuXHRcdFx0XHRwcm9jZXNzVmFsdWVzRm9yU2luZ2xlRmllbGQ6IHRhZ3MgPT4gdGFncy5tYXAodGFnID0+IHRhZy5yZXBsYWNlQWxsKCcsJywgJyN8fCMnKSksXHJcblx0XHRcdFx0cHJvY2Vzc1ZhbHVlc0Zyb21TaW5nbGVGaWVsZDogdGFncyA9PiB0YWdzLm1hcCh0YWcgPT4gdGFnLnJlcGxhY2VBbGwoJyN8fCMnLCAnLCcpKVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGFkZCB3YXRjaGVyc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgKG5ld1ZhbHVlKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdWYWx1ZSlcclxuXHRcdFx0XHRcdCRlbGVtZW50Wyd0YWdpdCddKCdyZW1vdmVBbGwnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdCRlbGVtZW50Wyd0YWdpdCddKCdyZW1vdmVBbGwnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCkgPT4gbmV3IEl6ZW5kYUF1dG9jb21wbGV0ZSgpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUF1dG9jb21wbGV0ZScsIFtJemVuZGFBdXRvY29tcGxldGUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwQ29sbGFwc2VTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0Y29sbGFwc2VkOiBib29sZWFuO1xyXG5cdHVzZURlbGF5OiBib29sZWFuO1xyXG5cdG9uQ29tcGxldGU6IChhbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2xsYXBzaWJsZSBjb250YWluZXIgZGlyZWN0aXZlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwQ29sbGFwc2UgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGNvbGxhcHNlZDogJz0nLFxyXG5cdFx0dXNlRGVsYXk6ICc9JyxcclxuXHRcdG9uQ29tcGxldGU6ICcmJ1xyXG5cdH07XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBDb2xsYXBzZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBJbnZva2UgY29tcGxldGUgaGFuZGxlci5cclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IGNvbGxhcHNlQ29tcGxldGVkID0gcmVzdWx0ID0+IHtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNvbXBsZXRlKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ29tcGxldGUoe1xyXG5cdFx0XHRcdFx0XHRjb2xsYXBzZWQ6IHJlc3VsdFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XHJcblx0XHRcdGlmICgkc2NvcGUuY29sbGFwc2VkKVxyXG5cdFx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdpbicpO1xyXG5cdFx0XHQkZWxlbWVudFsnY29sbGFwc2UnXSgpOyAvLyBjYWxsIGJvb3RzdHJhcCBqcXVlcnlfZWxlbWVudC5jb2xsYXBzZSgpIG1ldGhvZC5cclxuXHJcblx0XHRcdC8vIGFkZCBldmVudCBjb2xsYXBzZSBoYW5kbGVyc1xyXG5cdFx0XHQkZWxlbWVudC5vbignaGlkZGVuLmJzLmNvbGxhcHNlJywgKCkgPT4gY29sbGFwc2VDb21wbGV0ZWQodHJ1ZSkpO1xyXG5cdFx0XHQkZWxlbWVudC5vbignc2hvd24uYnMuY29sbGFwc2UnLCAoKSA9PiBjb2xsYXBzZUNvbXBsZXRlZChmYWxzZSkpO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggZm9yIGNvbGxhcHNlZCBzdGF0ZSBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnY29sbGFwc2VkJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICgkc2NvcGUudXNlRGVsYXkpXHJcblx0XHRcdFx0XHQkdGltZW91dCgoKSA9PiAkZWxlbWVudFsnY29sbGFwc2UnXSgkc2NvcGUuY29sbGFwc2VkID8gJ2hpZGUnIDogJ3Nob3cnKSwgMTAwMCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0JGVsZW1lbnRbJ2NvbGxhcHNlJ10oJHNjb3BlLmNvbGxhcHNlZCA/ICdoaWRlJyA6ICdzaG93Jyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBJemVuZGFCb290c3RyYXBDb2xsYXBzZSgkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwQ29sbGFwc2UnLCBbJyR0aW1lb3V0JywgSXplbmRhQm9vdHN0cmFwQ29sbGFwc2UuZmFjdG9yeSgpXSk7XHJcblxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFCb290c3RyYXBUb29sdGlwU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdHRvb2x0aXBJdGVtczogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogVG9vbHRpcCBkaXJlY3RpdmVcclxuICovXHJcbmNsYXNzIEl6ZW5kYUJvb3RzdHJhcFRvb2x0aXAgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdHRvb2x0aXBJdGVtczogJz0nXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwVG9vbHRpcFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFCb290c3RyYXBUb29sdGlwLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcFRvb2x0aXBTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndG9vbHRpcEl0ZW1zJywgKG5ld1ZhbDogYW55W10pID0+IHtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShuZXdWYWwpKSB7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5hdHRyKCd0aXRsZScsICcnKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9ICcnO1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VmFsLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAobmV3VmFsLmxlbmd0aCA+IDEpXHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBpICsgJy4gJztcclxuXHRcdFx0XHRcdHJlc3VsdCArPSBuZXdWYWxbaV0ubWVzc2FnZSArICc8YnIvPic7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRlbGVtZW50LmF0dHIoJ3RpdGxlJywgcmVzdWx0KTtcclxuXHRcdFx0XHQkZWxlbWVudFsndG9vbHRpcCddKCdoaWRlJylcclxuXHRcdFx0XHRcdC5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgbmV3VmFsKVxyXG5cdFx0XHRcdFx0LnRvb2x0aXAoJ3VwZGF0ZScpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhQm9vdHN0cmFwVG9vbHRpcCgpO1xyXG5cdH1cclxufVxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcFRvb2x0aXAnLCBbSXplbmRhQm9vdHN0cmFwVG9vbHRpcC5mYWN0b3J5KCldKTtcclxuXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRhdHRhY2hUb0VsZW1lbnQ6IHN0cmluZztcclxuXHR3aWR0aDogbnVtYmVyO1xyXG5cdGhlaWdodDogbnVtYmVyO1xyXG5cdG9uT3BlbjogKC4uLmFueSkgPT4gdm9pZDtcclxuXHRvbkNsb3NlOiAoLi4uYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQm9vdHN0cmFwIGRyb3Bkb3duIGRpcmVjdGl2ZVxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwRHJvcGRvd24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRzY29wZSA9IHtcclxuXHRcdG9wZW5lZDogJz0nLFxyXG5cdFx0YXR0YWNoVG9FbGVtZW50OiAnQCcsXHJcblx0XHR3aWR0aDogJ0AnLFxyXG5cdFx0aGVpZ2h0OiAnQCcsXHJcblx0XHRvbk9wZW46ICcmJyxcclxuXHRcdG9uQ2xvc2U6ICcmJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxkaXYgY2xhc3M9XCJkcm9wZG93blwiPlxyXG5cdDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGl6ZW5kYS1jb21tb24tZHJvcGRvd24tc3Ryb25nLXNoYWRvdyBkcm9wZG93bi1uby1jbG9zZS1vbi1jbGlja1wiXHJcblx0XHRuZy1jbGljaz1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLWRyb3Bkb3duLXRyaWFuZ2xlXCI+PC9kaXY+XHJcblx0XHQ8ZGl2IG5nLXN0eWxlPVwie1xcJ3dpZHRoXFwnOiB3aWR0aCwgXFwnaGVpZ2h0XFwnOiBoZWlnaHR9XCI+XHJcblx0XHRcdDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBEcm9wZG93blNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFCb290c3RyYXBEcm9wZG93bi5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBEcm9wZG93blNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblx0XHRcdGNvbnN0IGlkID0gKCcnICsgTWF0aC5yYW5kb20oKSkuc3Vic3RyaW5nKDIpO1xyXG5cdFx0XHRjb25zdCBzY3JvbGxFdmVudElkID0gJ3Njcm9sbC5pemVuZGFCb290c3RyYXBEcm9wZG93bicgKyBpZDtcclxuXHRcdFx0Y29uc3QgcmVzaXplRXZlbnRJZCA9ICdyZXNpemUuaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nICsgaWQ7XHJcblx0XHRcdGNvbnN0IGtleUV2ZW50SWQgPSAna2V5dXAuaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nICsgaWQ7XHJcblxyXG5cdFx0XHRjb25zdCAkZHJvcGRvd24gPSAkZWxlbWVudC5maW5kKCcuZHJvcGRvd24nKTtcclxuXHRcdFx0Y29uc3QgJG1lbnUgPSAkZWxlbWVudC5maW5kKCcuZHJvcGRvd24tbWVudScpO1xyXG5cclxuXHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5pemVuZGEtY29tbW9uLWRyb3Bkb3duLXRyaWFuZ2xlJykub24oJ2NsaWNrJywgKCkgPT4gY2xvc2UoKSk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbihzY3JvbGxFdmVudElkLCAoKSA9PiBjbG9zZSgpKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKHJlc2l6ZUV2ZW50SWQsICgpID0+IGNsb3NlKCkpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oa2V5RXZlbnRJZCwgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdC8vIGVzYyBidXR0b24gaGFuZGxlclxyXG5cdFx0XHRcdGlmIChldmVudC5rZXlDb2RlID09IDI3ICYmICRzY29wZS5vcGVuZWQpIHtcclxuXHRcdFx0XHRcdGNsb3NlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ29wZW5lZCcsIChuZXdWYWw6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsICYmICEkZHJvcGRvd24uaGFzQ2xhc3MoJ29wZW4nKSlcclxuXHRcdFx0XHRcdG9wZW4oKTtcclxuXHRcdFx0XHRpZiAoIW5ld1ZhbCAmJiAkZHJvcGRvd24uaGFzQ2xhc3MoJ29wZW4nKSlcclxuXHRcdFx0XHRcdGNsb3NlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gb3BlbigpIHtcclxuXHRcdFx0XHRjb25zdCAkYXR0YWNoVG9FbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5hdHRhY2hUb0VsZW1lbnQpO1xyXG5cdFx0XHRcdGNvbnN0ICR0aWxlID0gJGF0dGFjaFRvRWxlbWVudC5jbG9zZXN0KCcuaXotZGFzaC10aWxlJyk7XHJcblx0XHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JG1lbnUuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xyXG5cdFx0XHRcdCRtZW51LmNzcygnei1pbmRleCcsIDk5OTkpO1xyXG5cdFx0XHRcdGxldCBsZWZ0ID0gJHRpbGUud2lkdGgoKSAtICRtZW51LndpZHRoKCkgLSAxNjtcclxuXHRcdFx0XHRsZXQgZGVsdGEgPSAwO1xyXG5cdFx0XHRcdGlmIChsZWZ0IDwgMCkge1xyXG5cdFx0XHRcdFx0ZGVsdGEgPSAtbGVmdDtcclxuXHRcdFx0XHRcdGxlZnQgPSAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCB0b3AgPSA0NDtcclxuXHRcdFx0XHQkbWVudS5jaGlsZHJlbignLml6ZW5kYS1jb21tb24tZHJvcGRvd24tdHJpYW5nbGUnKS5jc3MoJ2xlZnQnLCAkbWVudS53aWR0aCgpIC0gZGVsdGEgLSA1OCk7XHJcblx0XHRcdFx0JG1lbnUuY3NzKHtcclxuXHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAncHgnLFxyXG5cdFx0XHRcdFx0dG9wOiB0b3AgKyAncHgnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25PcGVuKSlcclxuXHRcdFx0XHRcdCRzY29wZS5vbk9wZW4oe30pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbG9zZSgpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24ucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0XHQkbWVudS5kYXRhKCdvcGVuJywgZmFsc2UpO1xyXG5cdFx0XHRcdCRzY29wZS5vcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNsb3NlKSlcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNsb3NlKHt9KTtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKHNjcm9sbEV2ZW50SWQpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYocmVzaXplRXZlbnRJZCk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZihrZXlFdmVudElkKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSA9PiBuZXcgSXplbmRhQm9vdHN0cmFwRHJvcGRvd24oJHdpbmRvdyk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdyddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nLCBbJyR3aW5kb3cnLCBJemVuZGFCb290c3RyYXBEcm9wZG93bi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFDb2xvclBpY2tlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0aW5saW5lOiBhbnk7XHJcblx0YWRkaXRpb25hbENsYXNzOiBhbnk7XHJcblx0Y29sb3I6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbG9yIHBpY2tlciBkaXJlY3RpdmUuIFJlcXVpcmVzIFwianF1ZXJ5LW1pbmljb2xvcnNcIiBqUXVlcnkgcGx1Z2luLiBVc2FnZTpcclxuICogPGl6ZW5kYS1jb2xvci1waWNrZXIgbmctbW9kZWw9XCIuLi5cIj48L2l6ZW5kYS1jb2xvci1waWNrZXI+XHJcbiAqL1xyXG5jbGFzcyBJemVuZGFDb2xvclBpY2tlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0aW5saW5lOiAnQCcsXHJcblx0XHRhZGRpdGlvbmFsQ2xhc3M6ICdAJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPSAnPGlucHV0IGNsYXNzPVwibWluaWNvbG9ycyBmb3JtLWNvbnRyb2xcIiBuZy1jbGFzcz1cImFkZGl0aW9uYWxDbGFzc1wiPjwvaW5wdXQ+JztcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQ29sb3JQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQ29sb3JQaWNrZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQ29sb3JQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0Y29uc3QgJGlucHV0ID0gJGVsZW1lbnQuZmluZCgnaW5wdXQubWluaWNvbG9ycycpO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggYWN0aXZlIGl0ZW0gY2hhbmdlZFxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgKG5ld1ZhbDogc3RyaW5nLCBvbGRWYWw6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQkaW5wdXQudmFsKG5ld1ZhbCk7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oJ3ZhbHVlJywgbmV3VmFsKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpbml0aWFsaXplQ29udHJvbCgpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSgnZGVzdHJveScpO1xyXG5cdFx0XHRcdCRpbnB1dC5yZW1vdmUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBpbml0aWFsaXplQ29udHJvbCgpIHtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSgnZGVzdHJveScpO1xyXG5cdFx0XHRcdCRpbnB1dC52YWwoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHRcdCRpbnB1dFsnbWluaWNvbG9ycyddKHtcclxuXHRcdFx0XHRcdGlubGluZTogJHNjb3BlLmlubGluZSA9PT0gJ3RydWUnLFxyXG5cdFx0XHRcdFx0bGV0dGVyY2FzZTogJ2xvd2VyY2FzZScsXHJcblx0XHRcdFx0XHR0aGVtZTogJ2Jvb3RzdHJhcCcsXHJcblx0XHRcdFx0XHRjb2xvcjogJHNjb3BlLmNvbG9yLFxyXG5cdFx0XHRcdFx0cG9zaXRpb246ICdib3R0b20gcmlnaHQnLFxyXG5cdFx0XHRcdFx0Y2hhbmdlOiBoZXggPT4ge1xyXG5cdFx0XHRcdFx0XHR2YXIgdmFsID0gU3RyaW5nKCRpbnB1dC52YWwoKSk7XHJcblx0XHRcdFx0XHRcdGlmICh2YWwubWF0Y2goL14jezAsMX1bMC05YS1mXXs2fSQvZ2kpKSB7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLm5nTW9kZWwgPSBoZXg7XHJcblx0XHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcuaXotZGFzaC1iYWNrZ3JvdW5kJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaGV4KTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQkZWxlbWVudC5maW5kKCcubWluaWNvbG9ycy1ncmlkLCAubWluaWNvbG9ycy1zbGlkZXInKS5jbGljayhlID0+IHtcclxuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYUNvbG9yUGlja2VyKCk7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUNvbG9yUGlja2VyJywgW0l6ZW5kYUNvbG9yUGlja2VyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcblxyXG50eXBlIEl6ZW5kYURhdGVUaW1lUGlja2VyRGF0ZVBhcnQgPSAnZGF0ZScgfCAndGltZScgfCAnZGF0ZXRpbWUnO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFEYXRlVGltZVBpY2tlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRtb2RlbDogYW55O1xyXG5cdG5nRGlzYWJsZWQ6IGFueTtcclxuXHRkYXRlRm9ybWF0OiBhbnk7XHJcblx0bG9jYWxlOiBhbnk7XHJcblx0ZGF0ZXBhcnQ6IEl6ZW5kYURhdGVUaW1lUGlja2VyRGF0ZVBhcnQ7XHJcblx0c2hvd0FkZGl0aW9uYWxCdXR0b25zOiBhbnk7XHJcblx0aHRtbENvbnRhaW5lclNlbGVjdG9yOiBhbnk7XHJcblx0b25DaGFuZ2U6IGFueTtcclxuXHRkYXRlVGltZVBpY2tlcjogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFEYXRlVGltZVBpY2tlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHJlcXVpcmUgPSAnbmdNb2RlbCc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRtb2RlbDogJz1uZ01vZGVsJyxcclxuXHRcdG5nRGlzYWJsZWQ6ICc9JyxcclxuXHRcdGRhdGVGb3JtYXQ6ICc9JyxcclxuXHRcdGxvY2FsZTogJz0nLFxyXG5cdFx0ZGF0ZXBhcnQ6ICc9JyxcclxuXHRcdHNob3dBZGRpdGlvbmFsQnV0dG9uczogJ0AnLFxyXG5cdFx0aHRtbENvbnRhaW5lclNlbGVjdG9yOiAnQCcsXHJcblx0XHRvbkNoYW5nZTogJyYnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAvPlxyXG48c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWFkZG9uXCI+XHJcblx0PHNwYW4gY2xhc3M9XCJnbHlwaGljb24tY2FsZW5kYXIgZ2x5cGhpY29uXCI+PC9zcGFuPlxyXG48L3NwYW4+YDtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRhdHRyczogbmcuSUF0dHJpYnV0ZXMsIG5nTW9kZWxDdHJsOiBuZy5JQ29udHJvbGxlcikgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpIHtcclxuXHJcblx0XHQvLyBjaGFuZ2UgdGVtcGxhdGUgaWYgcmVzb2x1dGlvbiBpcyB0b28gbG93XHJcblx0XHRpZiAodGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSlcclxuXHRcdFx0dGhpcy50ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1kYXRlLXBpY2tlci1pbmxpbmVcIi8+JztcclxuXHJcblxyXG5cdFx0SXplbmRhRGF0ZVRpbWVQaWNrZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRcdGF0dHJzOiBuZy5JQXR0cmlidXRlcywgbmdNb2RlbEN0cmw6IG5nLklDb250cm9sbGVyKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB1aWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTtcclxuXHRcdFx0Y29uc3QgJGlucHV0ID0gJGVsZW1lbnQuY2hpbGRyZW4oJ2lucHV0LC5pemVuZGEtY29tbW9uLWRhdGUtcGlja2VyLWlubGluZScpO1xyXG5cdFx0XHRjb25zdCAkYnRuID0gJGVsZW1lbnQuY2hpbGRyZW4oJy5pbnB1dC1ncm91cC1hZGRvbicpO1xyXG5cdFx0XHRjb25zdCBpc1NtYWxsUmVzb2x1dGlvbiA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpO1xyXG5cdFx0XHRjb25zdCBnZXRQaWNrZXI6ICgpID0+IGFueSA9ICgpID0+ICRpbnB1dC5kYXRhKCdEYXRlVGltZVBpY2tlcicpO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENyZWF0ZSBuZXcgZGF0ZSBvYmplY3QgYmFzZWQgb24gYmFzZURhdGUgd2l0aCB1cGRhdGVkIGZyb20gdGhlIG5ld0RhdGUgZGF0ZSBvciB0aW1lIG9yIGJvdGguXHJcblx0XHRcdCAqIEBwYXJhbSB7RGF0ZX0gYmFzZURhdGUgY3VycmVudCBkYXRlXHJcblx0XHRcdCAqIEBwYXJhbSB7RGF0ZX0gbmV3RGF0ZSB1cGRhdGVkIGRhdGVcclxuXHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGRhdGVwYXJ0IHdoYXQgcGFydCB3aWxsIGJlIHVwZGF0ZWQ6ICdcImRhdGVcInxcInRpbWVcInxcImRhdGV0aW1lXCInXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBnZXRVcGRhdGVkRGF0ZVZhbHVlID0gKGJhc2VEYXRlLCBuZXdEYXRlLCBkYXRlcGFydCkgPT4ge1xyXG5cdFx0XHRcdGlmICghYmFzZURhdGUpXHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IERhdGUobmV3RGF0ZSk7XHJcblxyXG5cdFx0XHRcdHZhciBjdXJyRGF0ZSA9IG5ldyBEYXRlKGJhc2VEYXRlKTtcclxuXHRcdFx0XHRpZiAoZGF0ZXBhcnQgPT09ICdkYXRldGltZScpIHtcclxuXHRcdFx0XHRcdGN1cnJEYXRlID0gbmV3IERhdGUobmV3RGF0ZSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChkYXRlcGFydCA9PT0gJ2RhdGUnKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZSA9IG5ldyBEYXRlKFxyXG5cdFx0XHRcdFx0XHRuZXdEYXRlLmdldEZ1bGxZZWFyKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0TW9udGgoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXREYXRlKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldEhvdXJzKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldE1pbnV0ZXMoKSxcclxuXHRcdFx0XHRcdFx0YmFzZURhdGUuZ2V0U2Vjb25kcygpLFxyXG5cdFx0XHRcdFx0XHQwKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGVwYXJ0ID09PSAndGltZScpIHtcclxuXHRcdFx0XHRcdGN1cnJEYXRlID0gbmV3IERhdGUoXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldEZ1bGxZZWFyKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldE1vbnRoKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldERhdGUoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRIb3VycygpLFxyXG5cdFx0XHRcdFx0XHRuZXdEYXRlLmdldE1pbnV0ZXMoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRTZWNvbmRzKCksXHJcblx0XHRcdFx0XHRcdDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY3VyckRhdGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTZXQgZGF0ZSB0byB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXREYXRlID0gbmV3RGF0ZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdEYXRlKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGF0ZShudWxsKTtcclxuXHRcdFx0XHRlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZShuZXdEYXRlKSlcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRhdGUoZ2V0VXBkYXRlZERhdGVWYWx1ZSgkc2NvcGUubW9kZWwsIG5ld0RhdGUsICRzY29wZS5kYXRlcGFydCkpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobmV3RGF0ZSkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kYXRlKGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBuZXcgRGF0ZShuZXdEYXRlKSwgJHNjb3BlLmRhdGVwYXJ0KSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgYFVua25vd24gZGF0ZSB0eXBlOiAke3R5cGVvZiAobmV3RGF0ZSl9YDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEVuYWJsZS9EaXNhYmxlIHBpY2tlclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3Qgc2V0RGlzYWJsZWQgPSBpc0Rpc2FibGVkID0+IHtcclxuXHRcdFx0XHRpZiAoaXNEaXNhYmxlZClcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRpc2FibGUoKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5lbmFibGUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IGRhdGUgZm9ybWF0IGluIHRoZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldEZvcm1hdCA9IGZvcm1hdCA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZvcm1hdCkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5mb3JtYXQoZmFsc2UpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmZvcm1hdChmb3JtYXQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQXBwbHkgbG9jYWxlIGluIHRoZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldExvY2FsZSA9IGxvY2FsZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGxvY2FsZSkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Z2V0UGlja2VyKCkubG9jYWxlKGxvY2FsZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBkYXRlIHBpY2tlciBjb25maWcganNvblxyXG5cdFx0XHR2YXIgY29uZmlnID0ge307XHJcblx0XHRcdGlmICgkc2NvcGUuc2hvd0FkZGl0aW9uYWxCdXR0b25zID09PSAndHJ1ZScpIHtcclxuXHRcdFx0XHRjb25maWcgPSB7XHJcblx0XHRcdFx0XHRzaG93VG9kYXlCdXR0b246IHRydWUsXHJcblx0XHRcdFx0XHRzaG93Q2xlYXI6IHRydWVcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNvbmZpZyxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRsb2NhbGU6ICRzY29wZS5sb2NhbGUsXHJcblx0XHRcdFx0XHRpbmxpbmU6IGlzU21hbGxSZXNvbHV0aW9uLFxyXG5cdFx0XHRcdFx0d2lkZ2V0UGFyZW50OiBpc1NtYWxsUmVzb2x1dGlvbiA/IG51bGwgOiBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLmh0bWxDb250YWluZXJTZWxlY3RvciksXHJcblx0XHRcdFx0XHR0b29sYmFyUGxhY2VtZW50OiAnYm90dG9tJyxcclxuXHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOiB7XHJcblx0XHRcdFx0XHRcdHZlcnRpY2FsOiAnYm90dG9tJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHRvb2x0aXBzOiB7XHJcblx0XHRcdFx0XHRcdHRvZGF5OiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Hb1RvVG9kYXknLCAnR28gdG8gdG9kYXknKSxcclxuXHRcdFx0XHRcdFx0Y2xlYXI6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NsZWFyU2VsZWN0aW9uJywgJ0NsZWFyIHNlbGVjdGlvbicpLFxyXG5cdFx0XHRcdFx0XHRjbG9zZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ2xvc2VQaWNrZXInLCAnQ2xvc2UgdGhlIHBpY2tlcicpLFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RNb250aDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2VsZWN0TW9udGgnLCAnU2VsZWN0IE1vbnRoJyksXHJcblx0XHRcdFx0XHRcdHByZXZNb250aDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJldmlvdXNNb250aCcsICdQcmV2aW91cyBNb250aCcpLFxyXG5cdFx0XHRcdFx0XHRuZXh0TW9udGg6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05leHRNb250aCcsICdOZXh0IE1vbnRoJyksXHJcblx0XHRcdFx0XHRcdHNlbGVjdFllYXI6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdFllYXInLCAnU2VsZWN0IFllYXInKSxcclxuXHRcdFx0XHRcdFx0cHJldlllYXI6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzWWVhcicsICdQcmV2aW91cyBZZWFyJyksXHJcblx0XHRcdFx0XHRcdG5leHRZZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXh0WWVhcicsICdOZXh0IFllYXInKSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0RGVjYWRlOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TZWxlY3REZWNhZGUnLCAnU2VsZWN0IERlY2FkZScpLFxyXG5cdFx0XHRcdFx0XHRwcmV2RGVjYWRlOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19QcmV2aW91c0RlY2FkZScsICdQcmV2aW91cyBEZWNhZGUnKSxcclxuXHRcdFx0XHRcdFx0bmV4dERlY2FkZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTmV4dERlY2FkZScsICdOZXh0IERlY2FkZScpLFxyXG5cdFx0XHRcdFx0XHRwcmV2Q2VudHVyeTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJldmlvdXNDZW50dXJ5JywgJ1ByZXZpb3VzIENlbnR1cnknKSxcclxuXHRcdFx0XHRcdFx0bmV4dENlbnR1cnk6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05leHRDZW50dXJ5JywgJ05leHQgQ2VudHVyeScpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdC8vIGNyZWF0ZSBwaWNrZXJcclxuXHRcdFx0JHNjb3BlLmRhdGVUaW1lUGlja2VyID0gJGlucHV0WydkYXRldGltZXBpY2tlciddKGNvbmZpZyk7XHJcblxyXG5cdFx0XHQvLyBkYXRlIHBpY2tlciAnb24gc2hvdycgaGFuZGxlclxyXG5cdFx0XHQkaW5wdXQub24oJ2RwLnNob3cnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGlzU21hbGxSZXNvbHV0aW9uKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHZhciAkd2lkZ2V0ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5odG1sQ29udGFpbmVyU2VsZWN0b3IgKyAnID4gLmJvb3RzdHJhcC1kYXRldGltZXBpY2tlci13aWRnZXQnKTtcclxuXHRcdFx0XHQkd2lkZ2V0LnNob3coKTtcclxuXHRcdFx0XHQkd2lkZ2V0LmNzcyh7XHJcblx0XHRcdFx0XHR0b3A6ICRpbnB1dC5vZmZzZXQoKS50b3AgLSAkd2lkZ2V0LnBhcmVudCgpLm9mZnNldCgpLnRvcCArICRpbnB1dC5oZWlnaHQoKSArIDIwLFxyXG5cdFx0XHRcdFx0bGVmdDogJGlucHV0Lm9mZnNldCgpLmxlZnQgLSAkd2lkZ2V0LnBhcmVudCgpLm9mZnNldCgpLmxlZnRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3aW5kb3cgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUuZHAnICsgdWlkLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGlzU21hbGxSZXNvbHV0aW9uKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHZhciAkd2lkZ2V0ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5odG1sQ29udGFpbmVyU2VsZWN0b3IgKyAnID4gLmJvb3RzdHJhcC1kYXRldGltZXBpY2tlci13aWRnZXQnKTtcclxuXHRcdFx0XHQkd2lkZ2V0LmhpZGUoKTtcclxuXHRcdFx0XHQkdGltZW91dCgoKSA9PiAkaW5wdXQuYmx1cigpLCAxMCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGJ0bi5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkc2NvcGUubmdEaXNhYmxlZClcclxuXHRcdFx0XHRcdCRpbnB1dC5mb2N1cygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIHZhcmlhYmxlczpcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdEaXNhYmxlZCcsIG5ld1ZhbCA9PiBzZXREaXNhYmxlZChuZXdWYWwpKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnZGF0ZUZvcm1hdCcsIG5ld1ZhbCA9PiBzZXRGb3JtYXQobmV3VmFsKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2xvY2FsZScsIG5ld1ZhbCA9PiBzZXRMb2NhbGUobmV3VmFsKSk7XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIHZhbHVlc1xyXG5cdFx0XHRzZXREaXNhYmxlZCgkc2NvcGUubmdEaXNhYmxlZCk7XHJcblx0XHRcdHNldEZvcm1hdCgkc2NvcGUuZGF0ZUZvcm1hdCk7XHJcblx0XHRcdHNldExvY2FsZSgkc2NvcGUubG9jYWxlKTtcclxuXHJcblx0XHRcdGlmIChuZ01vZGVsQ3RybCkge1xyXG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goJ21vZGVsJywgbmV3VmFsID0+IHNldERhdGUobmV3VmFsKSk7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHJlbmRlciA9ICgpID0+IHNldERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdCRpbnB1dC5vbignZHAuY2hhbmdlJywgZSA9PiB7XHJcblx0XHRcdFx0XHR2YXIgbmV3RGF0ZVZhbHVlID0gZVsnZGF0ZSddID8gZ2V0VXBkYXRlZERhdGVWYWx1ZSgkc2NvcGUubW9kZWwsIGVbJ2RhdGUnXS50b0RhdGUoKSwgJHNjb3BlLmRhdGVwYXJ0KSA6IG51bGw7XHJcblx0XHRcdFx0XHRuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ld0RhdGVWYWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplLmRwJyArIHVpZCk7XHJcblx0XHRcdFx0dmFyIHBpY2tlciA9IGdldFBpY2tlcigpO1xyXG5cdFx0XHRcdGlmIChwaWNrZXIpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kZXN0cm95KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdFx0JHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdFx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSA9PlxyXG5cdFx0XHRuZXcgSXplbmRhRGF0ZVRpbWVQaWNrZXIoJHdpbmRvdywgJHRpbWVvdXQsICRpemVuZGFMb2NhbGVTZXJ2aWNlLCAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFEYXRlVGltZVBpY2tlcicsXHJcblx0Wyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsIEl6ZW5kYURhdGVUaW1lUGlja2VyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVJlcG9ydFZpZXdlclJvb3RTY29wZSBleHRlbmRzIG5nLklSb290U2NvcGVTZXJ2aWNlIHtcclxuXHRpc0RyYWdnaW5nTm93OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRhbGxvd0NvbFJlb3JkZXI6IGFueTtcclxuXHRhbGxvd2VkQ29sdW1uc0ZvclJlb3JkZXI6IGFueTtcclxuXHRyZXBvcnRTZXRPcHRpb25zOiB7IGlzVmdVc2VkOiBib29sZWFuOyB2Z1N0eWxlOiBzdHJpbmcsIHNvcnRlZEFjdGl2ZUZpZWxkczogYW55W10gfTtcclxuXHRhbGxvd0NvbFJlbW92ZTogYW55O1xyXG5cdGRyb3BwYWJsZUFjY2VwdDogYW55O1xyXG5cdG9uUmVvcmRlcjogYW55O1xyXG5cdG9uSGVhZGVyQ2xpY2s6IGFueTtcclxuXHRvblBhZ2luZ0NsaWNrOiBhbnk7XHJcblx0b25EcmFnT3ZlcjogYW55O1xyXG5cdG9uUmVtb3ZlOiBhbnk7XHJcblx0ZW1wdHlUZXh0OiBhbnk7XHJcblx0Y3VycmVudEluc2VydENvbHVtbk9yZGVyOiBhbnk7XHJcblx0aHRtbFRleHQ6IGFueTtcclxuXHJcblx0cmVvcmRlclN0YXRlOiBhbnk7XHJcblx0JHRhYmxlOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFSZXBvcnRWaWV3ZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBRSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRhbGxvd0NvbFJlb3JkZXI6ICdAJyxcclxuXHRcdGFsbG93ZWRDb2x1bW5zRm9yUmVvcmRlcjogJz0nLFxyXG5cdFx0cmVwb3J0U2V0T3B0aW9uczogJz0nLFxyXG5cdFx0YWxsb3dDb2xSZW1vdmU6ICdAJyxcclxuXHRcdGRyb3BwYWJsZUFjY2VwdDogJ0AnLFxyXG5cdFx0b25SZW9yZGVyOiAnJicsXHJcblx0XHRvbkhlYWRlckNsaWNrOiAnJicsXHJcblx0XHRvblBhZ2luZ0NsaWNrOiAnJicsXHJcblx0XHRvbkRyYWdPdmVyOiAnJicsXHJcblx0XHRvblJlbW92ZTogJyYnLFxyXG5cdFx0ZW1wdHlUZXh0OiAnPScsXHJcblx0XHRjdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXI6ICc9JyxcclxuXHRcdGh0bWxUZXh0OiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGRpdiBjbGFzcz1cIml6ZW5kYS1yZXBvcnQtdmlld2VyXCI+XHJcblx0PGRpdiBjbGFzcz1cImh0bWwtY29udGFpbmVyLXBsYWNlaG9sZGVyIGhpZGRlblwiPjwvZGl2PlxyXG5cdDxkaXYgY2xhc3M9XCJodG1sLWNvbnRhaW5lci1sb2FkaW5nXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIG5nLWJpbmQ9XCI6OiAnanNfTG9hZGluZycgfCBpemVuZGFMb2NhbGU6ICdMb2FkaW5nLi4uJ1wiPjwvZGl2PlxyXG5cdDxkaXYgaWQ9XCJyZW5kZXJlZFJlcG9ydERpdlwiIGNsYXNzPVwiaHRtbC1jb250YWluZXJcIj48L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0XHQvLyBhcHBseSB0aWxlIGh0bWwgZnVuY3Rpb25cclxuXHRcdFx0Y29uc3QgJGh0bWxDb250YWluZXIgPSAkZWxlbWVudC5maW5kKCcuaHRtbC1jb250YWluZXInKTtcclxuXHRcdFx0Y29uc3QgJGh0bWxDb250YWluZXJMb2FkaW5nID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyLWxvYWRpbmcnKTtcclxuXHRcdFx0Y29uc3QgJGh0bWxDb250YWluZXJQbGFjZWhvbGRlciA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFByZXBhcmUgcmVwb3J0IHRhYmxlXHJcblx0XHRcdCAqIEBwYXJhbSB7anF1ZXJ5IG9iamVjdH0gJHRhYmxlIFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgcHJvY2Vzc1JlcG9ydFRhYmxlID0gKCkgPT4ge1xyXG5cdFx0XHRcdC8vIHByZXBhcmUgdGFibGVcclxuXHRcdFx0XHRpZiAoIUl6ZW5kYVJlcG9ydFZpZXdlci5pc1RhYmxlSXNHb29kKCRzY29wZS4kdGFibGUpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDb2xSZW9yZGVySGFuZGxlcigkc2NvcGUsICR0aW1lb3V0LCAoJGZyb20sICR0bywgaXNWaXN1YWxHcm91cCkgPT4ge1xyXG5cdFx0XHRcdFx0SXplbmRhUmVwb3J0Vmlld2VyLm9uUmVvcmRlcigkc2NvcGUsICRmcm9tLCAkdG8sIGlzVmlzdWFsR3JvdXApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIGFkZCBvdGhlciBoYW5kbGVyc1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGREcmFnSGFuZGxlcnMoJHNjb3BlLCAkcm9vdFNjb3BlLCAkZWxlbWVudCk7XHJcblx0XHRcdFx0SXplbmRhUmVwb3J0Vmlld2VyLmFkZENsaWNrSGFuZGxlcigkc2NvcGUpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDb2xSZW1vdmVCdXR0b25zKCRzY29wZSk7XHJcblx0XHRcdFx0aXplbmRhLnJlcG9ydC5yZWdpc3RlclBvc3RSZW5kZXJIYW5kbGVycygpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IHJlcG9ydCBjb250ZW50IGh0bWxcclxuXHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBhcHBseUh0bWwgPSAoaHRtbDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0Ly8gc2hvdy9oaWRlIGxvYWRpbmcgaW5kaWNhdG9yXHJcblx0XHRcdFx0aWYgKGh0bWwgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyLmhpZGUoKTtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyLnNob3coKTtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGVtcHR5IHJlc3VsdFxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGh0bWwpICE9PSAnc3RyaW5nJyB8fCAoaHRtbCAmJiB0eXBlb2YgKGh0bWwpID09PSAnc3RyaW5nJyAmJiBodG1sLnRyaW0oKSA9PT0gJycpKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci50ZXh0KCRzY29wZS5lbXB0eVRleHQpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkaHRtbENvbnRhaW5lci5odG1sKGh0bWwpO1xyXG5cclxuXHRcdFx0XHQvLyBpcyBwYWdpbmcgZW5hYmxlZFxyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlUGFnZUxpbmtzKCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlUGFnaW5nSW5wdXQoJHNjb3BlLCAkaHRtbENvbnRhaW5lcik7XHJcblx0XHRcdFx0SXplbmRhUmVwb3J0Vmlld2VyLnByZXBhcmVHb1RvUmVjb3JkQnRuKCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cclxuXHRcdFx0XHQkc2NvcGUuJHRhYmxlID0gJGh0bWxDb250YWluZXIuZmluZCgndGFibGVbbmFtZT1yZXBvcnRUYWJsZV0sdGFibGUuUmVwb3J0VGFibGUnKTtcclxuXHRcdFx0XHRpZiAoJHNjb3BlLiR0YWJsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQvLyBwcmVwYXJlIHJlcG9ydCB0YWJsZVxyXG5cdFx0XHRcdFx0cHJvY2Vzc1JlcG9ydFRhYmxlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gaHRtbFRleHQgY2hhbmdlIGhhbmRsZXJcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnaHRtbFRleHQnLCAobmV3VmFsOiBzdHJpbmcpID0+IGFwcGx5SHRtbChuZXdWYWwpKTtcclxuXHJcblx0XHRcdC8vIGlzIGRyYWdnaW5nIGVuYWJsZWQgaGFuZGxlclxyXG5cdFx0XHQkcm9vdFNjb3BlLiR3YXRjaCgnaXNEcmFnZ2luZ05vdycsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdWYWwpIHtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBydW5cclxuXHRcdFx0YXBwbHlIdG1sKCRzY29wZS5odG1sVGV4dCk7XHJcblxyXG5cdFx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgYW55IGtpbmQgb2YgdmlzdWFsIGdyb3VwIGFwcGxpZWQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgaXNWZ0FwcGx5ZWQoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBhbmd1bGFyLmlzT2JqZWN0KCRzY29wZS5yZXBvcnRTZXRPcHRpb25zKVxyXG5cdFx0XHQ/ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLmlzVmdVc2VkXHJcblx0XHRcdDogZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBhcHBsaWVkIEFHIG9yIFZHSGllcmFyY2h5LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gSXplbmRhUmVwb3J0Vmlld2VyLmlzVmdBcHBseWVkKCRzY29wZSkgJiZcclxuXHRcdFx0WydBbmFseXNpc0dyaWQnLCAnVkdIaWVyYXJjaHknXS5pbmRleE9mKCRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnZnU3R5bGUpID49IDA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYWxjdWxhdGUgY291bnQgb2YgdmlzdWFsIGdyb3VwIGNvbHVtbi5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogbnVtYmVyIHtcclxuXHRcdGxldCBjb3VudE9mVmdDb2x1bW5zID0gMDtcclxuXHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSkge1xyXG5cdFx0XHR2YXIgZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcztcclxuXHRcdFx0Y291bnRPZlZnQ29sdW1ucyA9IGZpZWxkc0luVGFibGUuZmlsdGVyKGZpZWxkID0+IGZpZWxkLmlzVmdVc2VkKS5sZW5ndGg7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY291bnRPZlZnQ29sdW1ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBmaWVsZHMgd2hpY2ggaGF2ZSBvd24gY29sdW1uIGluIHByZXZpZXcgdGFibGVcclxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5IG9mIGZpZWxkIG9iamVjdHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2V0Q29sdW1uRmllbGRzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYW55W10ge1xyXG5cdFx0bGV0IGZpZWxkc0luVGFibGU6IGFueVtdO1xyXG5cdFx0aWYgKEl6ZW5kYVJlcG9ydFZpZXdlci5pc1RhYmxlQ29udGFpblZnQ29sdW1ucygkc2NvcGUpKVxyXG5cdFx0XHRmaWVsZHNJblRhYmxlID0gJHNjb3BlLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmaWVsZHNJblRhYmxlID0gJHNjb3BlLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzLmZpbHRlcihmaWVsZCA9PiAhZmllbGQuaXNWZ1VzZWQpO1xyXG5cdFx0cmV0dXJuIGZpZWxkc0luVGFibGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBpc1RhYmxlSXNHb29kKCR0YWJsZTogSlF1ZXJ5PEhUTUxFbGVtZW50Pik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCEkdGFibGUpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdC8vIGlmIG5vIHRhYmxlIGhlYWRlcnMgLSBzdG9wOlxyXG5cdFx0dmFyICR0YWJsZUhlYWRlciA9ICR0YWJsZS5jaGlsZHJlbigndGJvZHknKS5jaGlsZHJlbigndHIuUmVwb3J0SGVhZGVyJyk7XHJcblx0XHRpZiAoJHRhYmxlSGVhZGVyLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0Ly8gY2hlY2sgaWYgdGFibGUgY29udGFpbnMgdmlzdWFsIGdyb3VwczpcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGNvbCByZW9yZGVyIGhhbmRsZXIuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkQ29sUmVvcmRlckhhbmRsZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsIG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZDogKC4uLmFueSkgPT4gdm9pZCkge1xyXG5cdFx0aWYgKCRzY29wZS5hbGxvd0NvbFJlb3JkZXIgIT09ICd0cnVlJylcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IGJvZHlPbnNlbGVjdHN0YXJ0U2F2ZSA9IFN0cmluZyhhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cignb25zZWxlY3RzdGFydCcpKTtcclxuXHRcdGNvbnN0IGJvZHlVbnNlbGVjdGFibGVTYXZlID0gU3RyaW5nKGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnKSk7XHJcblx0XHRjb25zdCBkaXNhYmxlVGV4dFNlbGVjdGlvbiA9ICgpID0+IHtcclxuXHRcdFx0Ly8galF1ZXJ5IGRvZXNuJ3Qgc3VwcG9ydCB0aGUgZWxlbWVudC50ZXh0IGF0dHJpYnV0ZSBpbiBNU0lFIDhcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjkyNzcwL3N0eWxlLXN0eWxlLXRleHRjc3MtYXBwZW5kdG9oZWFkLWRvZXMtbm90LXdvcmstaW4taWVcclxuXHRcdFx0dmFyICRzdHlsZSA9XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KFxyXG5cdFx0XHRcdFx0JzxzdHlsZSBpZD1cIl9fZGlzYWJsZV90ZXh0X3NlbGVjdGlvbl9fXCIgdHlwZT1cInRleHQvY3NzXCI+Ym9keSB7IC1tcy11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6LW1vei1ub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lOyB9PC9zdHlsZT4nKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLmFwcGVuZCgkc3R5bGUpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cignb25zZWxlY3RzdGFydCcsICdyZXR1cm4gZmFsc2U7JykuYXR0cigndW5zZWxlY3RhYmxlJywgJ29uJyk7XHJcblx0XHRcdGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcblx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpOyAvLyBNU0lFIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNTg2OSUyOHY9VlMuODUlMjkuYXNweFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgcmVzdG9yZVRleHRTZWxlY3Rpb24gPSAoKSA9PiB7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnI19fZGlzYWJsZV90ZXh0X3NlbGVjdGlvbl9fJykucmVtb3ZlKCk7XHJcblx0XHRcdGlmIChib2R5T25zZWxlY3RzdGFydFNhdmUpXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnLCBib2R5T25zZWxlY3RzdGFydFNhdmUpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ29uc2VsZWN0c3RhcnQnKTtcclxuXHRcdFx0aWYgKGJvZHlVbnNlbGVjdGFibGVTYXZlKVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnLCBib2R5VW5zZWxlY3RhYmxlU2F2ZSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkucmVtb3ZlQXR0cigndW5zZWxlY3RhYmxlJyk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgY3JlYXRlSGVscGVyID0gaW5uZXJPZmZzZXQgPT4ge1xyXG5cdFx0XHR2YXIgJGNlbGwgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tO1xyXG5cdFx0XHR2YXIgJGNsb25lID0gJGNlbGwuY2xvbmUoKS53cmFwKCc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oZWxwZXJcIj48L2Rpdj4nKS5wYXJlbnQoKTtcclxuXHRcdFx0JGNsb25lLndpZHRoKCRjZWxsLm91dGVyV2lkdGgoKSk7XHJcblx0XHRcdCRjbG9uZS5oZWlnaHQoJGNlbGwub3V0ZXJIZWlnaHQoKSk7XHJcblx0XHRcdCRjbG9uZS5jc3MoJ3RvcCcsICRjZWxsLnBvc2l0aW9uKCkudG9wKTtcclxuXHRcdFx0JGNsb25lLmNzcygnbGVmdCcsICRjZWxsLnBvc2l0aW9uKCkubGVmdCArIGlubmVyT2Zmc2V0KTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyID0gJGNsb25lO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmhlbHBlck9mZnNldCA9IGlubmVyT2Zmc2V0O1xyXG5cdFx0XHQkc2NvcGUuJHRhYmxlLmFwcGVuZCgkY2xvbmUpO1xyXG5cdFx0XHRyZXR1cm4gJGNsb25lO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IHJlbW92ZUhlbHBlciA9ICgpID0+IHtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyLnJlbW92ZSgpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGJlZm9yZVJlb3JkZXJTdGFydGVkID0gKCkgPT4ge1xyXG5cdFx0XHRkaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLmFkZENsYXNzKCdpemVuZGEtcmVvcmRlci1jZWxsLXNlbGVjdGVkJyk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUucHJldmlvdXNQb3NpdGlvbiA9ICRzY29wZS4kdGFibGUuY3NzKCdwb3NpdGlvbicpO1xyXG5cdFx0XHQkc2NvcGUuJHRhYmxlLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBhZnRlclJlb3JkZXJDb21wbGV0ZWQgPSAoKSA9PiB7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20ucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1yZW9yZGVyLWNlbGwtc2VsZWN0ZWQnKTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5pdGVtc0NhY2hlID0gbnVsbDtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5jc3MoJ3Bvc2l0aW9uJywgJHNjb3BlLnJlb3JkZXJTdGF0ZS5wcmV2aW91c1Bvc2l0aW9uKTtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5maW5kKCcuaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWFjdGl2ZScpO1xyXG5cdFx0XHRyZW1vdmVIZWxwZXIoKTtcclxuXHRcdFx0cmVzdG9yZVRleHRTZWxlY3Rpb24oKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBnZXRDdXJyZW50SXRlbXNGb3JSZW9yZGVyID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAoISRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSkge1xyXG5cdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20ucGFyZW50KCkuY2hpbGRyZW4oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJHNjb3BlLnJlb3JkZXJTdGF0ZS5pdGVtc0NhY2hlO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGNvbXBsZXRlUmVvcmRlciA9ICgpID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YWZ0ZXJSZW9yZGVyQ29tcGxldGVkKCk7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ob25Db2x1bW5SZW9yZGVyQ29tcGxldGVkKSkge1xyXG5cdFx0XHRcdHZhciBpc1ZnID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5hdHRyKCdkYXRhLWlzLXZnLWNvbHVtbicpID09PSAndHJ1ZSc7XHJcblx0XHRcdFx0b25Db2x1bW5SZW9yZGVyQ29tcGxldGVkKCRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20sICRzY29wZS5yZW9yZGVyU3RhdGUuJHRvLCBpc1ZnKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUucmVvcmRlclN0YXRlID0ge1xyXG5cdFx0XHRzdGFydGVkOiBmYWxzZSxcclxuXHRcdFx0JGZyb206IG51bGxcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gYWRkIHRhYmxlIGhhbmRsZXJzOlxyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vZmYoJ21vdXNlbW92ZS5pemVuZGFDb2xSZW9yZGVyJyk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLm9mZignbW91c2V1cC5pemVuZGFDb2xSZW9yZGVyJyk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUuaXplbmRhQ29sUmVvcmRlcicsIGUgPT4ge1xyXG5cdFx0XHRpZiAoISRzY29wZS5yZW9yZGVyU3RhdGUuc3RhcnRlZClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRUYWJsZVggPSBlLnBhZ2VYIC0gJHNjb3BlLiR0YWJsZS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHRjb25zdCBpc0Zyb21Db2x1bW5WZyA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nKSA9PT0gJ3RydWUnO1xyXG5cclxuXHJcblx0XHRcdC8vIGhpZ2hsaWdodCBjdXJyZW50IGNvbHVtblxyXG5cdFx0XHR2YXIgJHRkcyA9IGdldEN1cnJlbnRJdGVtc0ZvclJlb3JkZXIoKTtcclxuXHRcdFx0dmFyICR0b1RkID0gbnVsbDtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRkcywgKGlUZCwgdGQpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY3VyclRkID0gYW5ndWxhci5lbGVtZW50KHRkKTtcclxuXHRcdFx0XHRjb25zdCB0ZExlZnQgPSAkY3VyclRkLnBvc2l0aW9uKCkubGVmdCwgdGRXaWR0aCA9ICRjdXJyVGQub3V0ZXJXaWR0aCgpO1xyXG5cdFx0XHRcdGNvbnN0IGlzVGRDb2x1bW5WZyA9IFN0cmluZygkY3VyclRkLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJykpID09PSAndHJ1ZSc7XHJcblx0XHRcdFx0aWYgKCEkY3VyclRkLmhhc0NsYXNzKCdpemVuZGEtY29sLXJlb3JkZXItZGlzYWJsZWQnKSAmJlxyXG5cdFx0XHRcdFx0aXNGcm9tQ29sdW1uVmcgPT09IGlzVGRDb2x1bW5WZyAmJlxyXG5cdFx0XHRcdFx0Y3VycmVudFRhYmxlWCA+PSB0ZExlZnQgJiZcclxuXHRcdFx0XHRcdGN1cnJlbnRUYWJsZVggPCB0ZExlZnQgKyB0ZFdpZHRoKSB7XHJcblx0XHRcdFx0XHQkdG9UZCA9ICRjdXJyVGQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGlzICR0b1RkIGNoYW5nZWQ/XHJcblx0XHRcdGlmICgkdG9UZCAmJiAoISRzY29wZS5yZW9yZGVyU3RhdGUuJHRvIHx8ICR0b1RkLmluZGV4KCkgIT09ICRzY29wZS5yZW9yZGVyU3RhdGUuJHRvLmluZGV4KCkpKSB7XHJcblx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8gPSAkdG9UZDtcclxuXHJcblx0XHRcdFx0JHRkcy5yZW1vdmVDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0XHRpZiAoISRzY29wZS5yZW9yZGVyU3RhdGUuJHRvLmhhc0NsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWFjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiR0by5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGJ1YmJsZSBpbm5lciBjb250ZW50XHJcblx0XHRcdFx0Y29uc3QgZnJvbUluZGV4ID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5pbmRleCgpO1xyXG5cdFx0XHRcdGNvbnN0IHRvSW5kZXggPSAkc2NvcGUucmVvcmRlclN0YXRlLiR0by5pbmRleCgpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0ZHMsIChpVGQsIHRkKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkY3VyclRkMiA9IGFuZ3VsYXIuZWxlbWVudCh0ZCk7XHJcblx0XHRcdFx0XHRjb25zdCAkYmFja3VwcyA9ICRjdXJyVGQyLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdGlmICgkYmFja3Vwcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdCRjdXJyVGQyLmNoaWxkcmVuKCkubm90KCcuaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRjdXJyVGQyLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJyk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdGxldCAkY3VycmVudFRkOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cdFx0XHRcdGxldCAkbmV4dFRkOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cdFx0XHRcdGxldCBpOiBudW1iZXI7XHJcblx0XHRcdFx0aWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcclxuXHRcdFx0XHRcdGZvciAoaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaV0pO1xyXG5cdFx0XHRcdFx0XHQkbmV4dFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaSArIDFdKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5jaGlsZHJlbigpLmFkZENsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkLmFwcGVuZCgkbmV4dFRkLmNoaWxkcmVuKCkuY2xvbmUoKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAoaSA9IGZyb21JbmRleDsgaSA+IHRvSW5kZXg7IGktLSkge1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaV0pO1xyXG5cdFx0XHRcdFx0XHQkbmV4dFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaSAtIDFdKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5jaGlsZHJlbigpLmFkZENsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkLmFwcGVuZCgkbmV4dFRkLmNoaWxkcmVuKCkuY2xvbmUoKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBtb3ZlIGhlbHBlclxyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRoZWxwZXIuY3NzKCdsZWZ0JywgY3VycmVudFRhYmxlWCAtICRzY29wZS5yZW9yZGVyU3RhdGUuaGVscGVyT2Zmc2V0KTtcclxuXHRcdH0pO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vbignbW91c2V1cC5pemVuZGFDb2xSZW9yZGVyJywgKCkgPT4ge1xyXG5cdFx0XHRpZiAoJHNjb3BlLnJlb3JkZXJTdGF0ZS5kb3duVGltZXIpXHJcblx0XHRcdFx0JHRpbWVvdXQuY2FuY2VsKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKTtcclxuXHRcdFx0Y29tcGxldGVSZW9yZGVyKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplOlxyXG5cdFx0dmFyICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHJcblx0XHQvLyBmaWVsZHNJblRhYmxlIHNob3VsZCBjb250YWluIG9ubHkgZmllbGRzIHdoaWNoIGhhdmUgY29sdW1uXHJcblx0XHR2YXIgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaUhlYWRlclJvdywgdGFibGVIZWFkZXIpID0+IHtcclxuXHRcdFx0dmFyICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUhlYWRlcik7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHR2YXIgJGNlbGwgPSBhbmd1bGFyLmVsZW1lbnQoY2VsbCk7XHJcblx0XHRcdFx0aWYgKGlDZWxsIDwgZmllbGRzSW5UYWJsZS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZmllbGQgPSBmaWVsZHNJblRhYmxlW2lDZWxsXTtcclxuXHRcdFx0XHRcdFx0JGNlbGwuYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nLCBmaWVsZC5pc1ZnVXNlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JGNlbGwuYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nLCAnZmFsc2UnKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBtb3VzZSBkb3duIGhhbmRsZXJcclxuXHRcdFx0XHRcdCRjZWxsLm9uKCdtb3VzZWRvd24uaXplbmRhQ29sUmVvcmRlcicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdFx0aWYgKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKVxyXG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0LmNhbmNlbCgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcik7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyID0gbnVsbDtcclxuXHJcblx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20gPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyID0gJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGJlZm9yZVJlb3JkZXJTdGFydGVkKCk7XHJcblx0XHRcdFx0XHRcdFx0Y3JlYXRlSGVscGVyKGUub2Zmc2V0WCk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fSwgMjUwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkY2VsbC5hZGRDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWRpc2FibGVkJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVvcmRlciBjb21wbGV0ZWQgaGFuZGxlclxyXG5cdCAqIEBwYXJhbSB7anF1ZXJ5IGRvbSBlbGVtZW50fSAkZnJvbS4gRWxlbWVudCB3aGljaCB3ZSBkcmFnZ2VkXHJcblx0ICogQHBhcmFtIHtqcXVlcnkgZG9tIGVsZW1lbnR9ICR0by4gJGZyb20gZWxlbWVudCBkcm9wcGVkIHRvIHRoaXMgZWxlbWVudC5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBvblJlb3JkZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRmcm9tLCAkdG8sIGlzVmcpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblJlb3JkZXIpKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoISR0byB8fCAhJGZyb20pXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGxldCBmcm9tSW5kZXggPSAkZnJvbS5pbmRleCgpO1xyXG5cdFx0bGV0IHRvSW5kZXggPSAkdG8uaW5kZXgoKTtcclxuXHRcdGlmIChmcm9tSW5kZXggPT09IHRvSW5kZXgpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmICghaXNWZykge1xyXG5cdFx0XHRjb25zdCB2Z0NvbHVtbnNDb3VudCA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZSk7XHJcblx0XHRcdGZyb21JbmRleCAtPSB2Z0NvbHVtbnNDb3VudDtcclxuXHRcdFx0dG9JbmRleCAtPSB2Z0NvbHVtbnNDb3VudDtcclxuXHRcdH1cclxuXHRcdCRzY29wZS5vblJlb3JkZXIoeyBhcmcwOiBmcm9tSW5kZXgsIGFyZzE6IHRvSW5kZXgsIGFyZzI6IGlzVmcgfSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGRyYWcgaGFuZGxlcnMgdG8gdGFibGVcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZGREcmFnSGFuZGxlcnMoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRyb290U2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSB7XHJcblx0XHRjb25zdCAkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyLXBsYWNlaG9sZGVyJyk7XHJcblxyXG5cdFx0Ly8gbW91c2Ugb3ZlclxyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5kcm9wcGFibGVBY2NlcHQpKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCAkY3VycmVudHRhYmxlID0gJHNjb3BlLiR0YWJsZTtcclxuXHRcdGxldCBjdXJyZW50VGFibGVMZWZ0ID0gJGN1cnJlbnR0YWJsZS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5oZWlnaHQoJGN1cnJlbnR0YWJsZS5oZWlnaHQoKSk7XHJcblxyXG5cdFx0Y29uc3QgY29sdW1uQ29vcmRzOiBBcnJheTx7IGxlZnQ6IG51bWJlcjsgd2lkdGg6IG51bWJlciB9PiA9IFtdO1xyXG5cdFx0Y29uc3QgJGN1cnJlbnR0YWJsZUhlYWRlciA9ICRzY29wZS4kdGFibGUuZmluZCgndHIuUmVwb3J0SGVhZGVyJykubGFzdCgpO1xyXG5cdFx0Y29uc3QgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdGNvbnN0ICRjdXJyZW50dGFibGVSb3dzID0gJGN1cnJlbnR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKS5zbGljZSgwLCBmaWVsZHNJblRhYmxlLmxlbmd0aCk7XHJcblx0XHRjb25zdCBjb3VudE9mVmdDb2x1bW5zID0gSXplbmRhUmVwb3J0Vmlld2VyLmdldENvdW50T2ZWZ0NvbHVtbnMoJHNjb3BlKTtcclxuXHJcblx0XHQvLyBjYWxjdWxhdGUgXHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkY3VycmVudHRhYmxlUm93cywgKGlUaDogbnVtYmVyLCB0aDogYW55KSA9PiB7XHJcblx0XHRcdHZhciAkdGggPSBhbmd1bGFyLmVsZW1lbnQodGgpO1xyXG5cdFx0XHRpZiAoaVRoID49IGNvdW50T2ZWZ0NvbHVtbnMpIHtcclxuXHRcdFx0XHRjb2x1bW5Db29yZHMucHVzaCh7XHJcblx0XHRcdFx0XHRsZWZ0OiAkdGgucG9zaXRpb24oKS5sZWZ0LFxyXG5cdFx0XHRcdFx0d2lkdGg6ICR0aC5vdXRlcldpZHRoKClcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gbW91c2UgZW50ZXIgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2VlbnRlcicsICgpID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjdXJyZW50VGFibGVMZWZ0ID0gJGN1cnJlbnR0YWJsZS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygndG9wJywgJGN1cnJlbnR0YWJsZS5wb3NpdGlvbigpLnRvcCArICdweCcpO1xyXG5cdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmhlaWdodCgkY3VycmVudHRhYmxlLmhlaWdodCgpKTtcclxuXHRcdFx0aWYgKGNvbHVtbkNvb3Jkcy5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgY29sdW1uQ29vcmRzWzBdLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBtb3VzZSBsZWF2ZSBoYW5kbGVyXHJcblx0XHQkc2NvcGUuJHRhYmxlLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG5cdFx0XHRpZiAoISRyb290U2NvcGUuaXNEcmFnZ2luZ05vdylcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmIChldmVudFsndG9FbGVtZW50J10gJiYgYW5ndWxhci5lbGVtZW50KGV2ZW50Wyd0b0VsZW1lbnQnXSkuaGFzQ2xhc3MoJ2h0bWwtY29udGFpbmVyLXBsYWNlaG9sZGVyJykpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIG1vdXNlIG1vdmUgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2Vtb3ZlJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRpZiAoISRyb290U2NvcGUuaXNEcmFnZ2luZ05vdylcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZhciBsZWZ0ID0gZXZlbnQucGFnZVggLSBjdXJyZW50VGFibGVMZWZ0O1xyXG5cdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IGNvbHVtbkNvb3Jkcy5sZW5ndGg7IGsrKykge1xyXG5cdFx0XHRcdGNvbnN0IGNvbHVtbiA9IGNvbHVtbkNvb3Jkc1trXTtcclxuXHRcdFx0XHRpZiAoayA8IGNvbHVtbkNvb3Jkcy5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRjb25zdCBuZXh0Q29sdW1uID0gY29sdW1uQ29vcmRzW2sgKyAxXTtcclxuXHRcdFx0XHRcdGlmIChjb2x1bW4ubGVmdCA8PSBsZWZ0ICYmIGxlZnQgPCBuZXh0Q29sdW1uLmxlZnQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGxlZnQgPD0gY29sdW1uLmxlZnQgKyAobmV4dENvbHVtbi5sZWZ0IC0gY29sdW1uLmxlZnQpIC8gMikge1xyXG5cdFx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgY29sdW1uLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gaztcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIG5leHRDb2x1bW4ubGVmdCArICdweCcpO1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSBrICsgMTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAobGVmdCA+PSBjb2x1bW4ubGVmdCArIGNvbHVtbi53aWR0aCAvIDIpIHtcclxuXHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCAoY29sdW1uLmxlZnQgKyBjb2x1bW4ud2lkdGgpICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSBrICsgMTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGxlZnQgPj0gY29sdW1uLmxlZnQpIHtcclxuXHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCAoY29sdW1uLmxlZnQpICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSBrO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCB0YWJsZSBoZWFkZXIgY2xpY2sgaGFuZGxlclxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENsaWNrSGFuZGxlcigkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uSGVhZGVyQ2xpY2spKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Y29uc3QgJGhlYWRlclJvd3MgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0Y29uc3QgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaVRhYmxlSGVhZGVyLCB0YWJsZUhlYWRlcikgPT4ge1xyXG5cdFx0XHR2YXIgJHRhYmxlSGVhZGVyID0gYW5ndWxhci5lbGVtZW50KHRhYmxlSGVhZGVyKTtcclxuXHRcdFx0aWYgKCR0YWJsZUhlYWRlci5jaGlsZHJlbignLkVtcHR5Q2VsbCcpLmxlbmd0aCA+IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQvLyBpdGVyYXRlIGhlYWRlciBjZWxsc1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJ3RkJyksIChpQ2VsbCwgY2VsbCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0ICRjZWxsID0gYW5ndWxhci5lbGVtZW50KGNlbGwpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA+PSBmaWVsZHNJblRhYmxlLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQkY2VsbC5vbignbW91c2Vkb3duJywgZSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZS53aGljaCAhPT0gMSkgcmV0dXJuO1xyXG5cdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uSGVhZGVyQ2xpY2spKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdGNvbnN0IGZpZWxkSW5kZXggPSAkdGhpcy5pbmRleCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uSGVhZGVyQ2xpY2soeyBhcmcwOiBmaWVsZHNJblRhYmxlW2ZpZWxkSW5kZXhdIH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBidXR0b25zIHdoaWNoIGFsbG93IHRvIHJlbXZvZSB0YWJsZSBjb2x1bW5zXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkQ29sUmVtb3ZlQnV0dG9ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSkge1xyXG5cdFx0aWYgKCRzY29wZS5hbGxvd0NvbFJlbW92ZSAhPT0gJ3RydWUnKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Y29uc3QgJGhlYWRlclJvd3MgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0Y29uc3QgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdC8vIGl0ZXJhdGUgaGVhZGVyc1xyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJGhlYWRlclJvd3MsIChpSGVhZGVyUm93LCBoZWFkZXJSb3cpID0+IHtcclxuXHRcdFx0Y29uc3QgJHRhYmxlSGVhZGVyID0gYW5ndWxhci5lbGVtZW50KGhlYWRlclJvdyk7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Ly8gaXRlcmF0ZSBoZWFkZXIgY2VsbHNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2VsbCA9IGFuZ3VsYXIuZWxlbWVudChjZWxsKTtcclxuXHRcdFx0XHQkY2VsbC5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcblx0XHRcdFx0aWYgKGlDZWxsID49IGZpZWxkc0luVGFibGUubGVuZ3RoKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdC8vIGFkZCBjZWxsIGhhbmRsZXJzXHJcblx0XHRcdFx0JGNlbGwub24oJ21vdXNlb3Zlci5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0ICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0JHRoaXMuY2hpbGRyZW4oJy5pemVuZGEtY29tbW9uLXJlbW92ZS1jb2x1bW4tYnRuJykuc2hvdygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRjZWxsLm9uKCdtb3VzZW91dC5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0ICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0JHRoaXMuY2hpbGRyZW4oJy5pemVuZGEtY29tbW9uLXJlbW92ZS1jb2x1bW4tYnRuJykuaGlkZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgYnV0dG9uXHJcblx0XHRcdFx0Y29uc3QgJHJlcG9ydENvbHVtblJlbW92ZUJ1dHRvbiA9XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXJlbW92ZS1jb2x1bW4tYnRuXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiPjwvc3Bhbj48L2Rpdj4nKTtcclxuXHRcdFx0XHQkY2VsbC5hcHBlbmQoJHJlcG9ydENvbHVtblJlbW92ZUJ1dHRvbik7XHJcblx0XHRcdFx0JHJlcG9ydENvbHVtblJlbW92ZUJ1dHRvbi5vbignbW91c2Vkb3duLnJlbW92ZWJ0bicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZW1vdmUpKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZEluZGV4ID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpLnBhcmVudCgpLmluZGV4KCk7XHJcblx0XHRcdFx0XHQkc2NvcGUub25SZW1vdmUoeyBhcmcwOiBmaWVsZHNJblRhYmxlW2ZpZWxkSW5kZXhdIH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25rZXlkb3duJyBldmVudCBhbmQgYWRkIG93biBrZXlkb3duIGFuZCBibHVyIGV2ZW50cywgd2hpY2ggY2FsbCBvblBhZ2luZ0NsaWNrIGhhbmRsZXIuXHJcblx0ICogQHBhcmFtIHt9ICRzY29wZSBDdXJyZW50IGRpcmVjdGl2ZSBzY29wZS5cclxuXHQgKiBAcGFyYW0ge30gJGh0bWxDb250YWluZXIgUmVwb3J0IGNvbnRhaW5lciwgd2hpY2ggY29udGFpbnMgcGFnaW5nIGNvbnRyb2xzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZVBhZ2luZ0lucHV0KCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0Y29uc3QgJHBhZ2VJbnB1dHMgPSAkaHRtbENvbnRhaW5lci5maW5kKCcuaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcpO1xyXG5cdFx0aWYgKCEkcGFnZUlucHV0cy5sZW5ndGgpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRwYWdlSW5wdXRzLCAoaVBhZ2VJbnB1dCwgcGFnZUlucHV0KSA9PiB7XHJcblx0XHRcdHZhciAkcGFnZUlucHV0ID0gYW5ndWxhci5lbGVtZW50KHBhZ2VJbnB1dCk7XHJcblx0XHRcdCRwYWdlSW5wdXQuYXR0cignb25rZXlkb3duJywgbnVsbCk7XHJcblxyXG5cdFx0XHQvLyBpbnB1dCBjaGFuZ2VkIGhhbmRsZXJcclxuXHRcdFx0dmFyIG9uSW5wdXRDaGFuZ2VkID0gKCRpbnB1dDogSlF1ZXJ5PEhUTUxFbGVtZW50PikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHBhZ2VzQ291bnQgPSBwYXJzZUludChTdHJpbmcoJGlucHV0LmF0dHIoJ2RhdGEtcGFnZXMtY291bnQnKSkpO1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KFN0cmluZygkaW5wdXQuYXR0cignZGF0YS1pdGVtcy1wZXItcGFnZScpKSk7XHJcblx0XHRcdFx0bGV0IHZhbCA9IE51bWJlcigkaW5wdXQudmFsKCkpO1xyXG5cdFx0XHRcdGlmICh2YWwgPCAxKSB2YWwgPSAxO1xyXG5cdFx0XHRcdGlmICh2YWwgPiBwYWdlc0NvdW50KSB2YWwgPSBwYWdlc0NvdW50O1xyXG5cdFx0XHRcdGNvbnN0IHN0YXJ0UmVjb3JkID0gKCh2YWwgLSAxKSAqIGl0ZW1zUGVyUGFnZSkgKyAxO1xyXG5cdFx0XHRcdGNvbnN0IGZpbmlzaFJlY29yZCA9IHN0YXJ0UmVjb3JkICsgaXRlbXNQZXJQYWdlIC0gMTtcclxuXHRcdFx0XHQkc2NvcGUub25QYWdpbmdDbGljayh7XHJcblx0XHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcsXHJcblx0XHRcdFx0XHRhcmcxOiBzdGFydFJlY29yZCArICctJyArIGZpbmlzaFJlY29yZFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRwYWdlSW5wdXQub24oJ2JsdXInLCBldmVudCA9PiB7XHJcblx0XHRcdFx0dmFyICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRvbklucHV0Q2hhbmdlZCgkdGhpcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkcGFnZUlucHV0Lm9uKCdrZXlkb3duJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdHZhciBrYyA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2g7XHJcblx0XHRcdFx0aWYgKGtjICE9PSAxMylcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHRoaXMgPSBhbmd1bGFyLmVsZW1lbnQoZXZlbnQuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdG9uSW5wdXRDaGFuZ2VkKCR0aGlzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25jbGljaycgZXZlbnQgYW5kIGFkZCBvd24gY2xpY2sgZXZlbnQsIHdoaWNoIGNhbGwgb25QYWdpbmdDbGljayBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7fSAkc2NvcGUgY3VycmVudCBEaXJlY3RpdmUgc2NvcGUuXHJcblx0ICogQHBhcmFtIHt9ICRodG1sQ29udGFpbmVyIFJlcG9ydCBjb250YWluZXIsIHdoaWNoIGNvbnRhaW5zIHBhZ2luZyBjb250cm9scy5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBwcmVwYXJlUGFnZUxpbmtzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0dmFyICRwYWdlTGlua3MgPSAkaHRtbENvbnRhaW5lci5maW5kKCcuaXotcGFnZWxpbmssIC5pei1wYWdlbGluay1kaXJlY3Rpb24tYnRuJyk7XHJcblx0XHRpZiAoISRwYWdlTGlua3MubGVuZ3RoIHx8ICFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uUGFnaW5nQ2xpY2spKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkcGFnZUxpbmtzLCAoaVBhZ2VMaW5rLCBwYWdlTGluaykgPT4ge1xyXG5cdFx0XHRjb25zdCAkcGFnZUxpbmsgPSBhbmd1bGFyLmVsZW1lbnQocGFnZUxpbmspO1xyXG5cdFx0XHRjb25zdCBvbkNsaWNrU2NyaXB0ID0gU3RyaW5nKCRwYWdlTGluay5hdHRyKCdvbmNsaWNrJykpO1xyXG5cdFx0XHRjb25zdCBtYXRjaFJlc3VsdCA9IC9yZXN1bHRzPShcXGQrXFwtXFxkKykvZy5leGVjKG9uQ2xpY2tTY3JpcHQpO1xyXG5cdFx0XHRpZiAobWF0Y2hSZXN1bHQgJiYgbWF0Y2hSZXN1bHQubGVuZ3RoID09PSAyKVxyXG5cdFx0XHRcdCRwYWdlTGluay5hdHRyKCdkYXRhLWFjdGl2ZS1wYWdlJywgbWF0Y2hSZXN1bHRbMV0pO1xyXG5cdFx0XHQkcGFnZUxpbmsuYXR0cignb25jbGljaycsIG51bGwpO1xyXG5cdFx0XHQkcGFnZUxpbmsub24oJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdFx0dmFyICRjdXJyZW50TGluayA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHQkc2NvcGUub25QYWdpbmdDbGljayh7XHJcblx0XHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmsnLFxyXG5cdFx0XHRcdFx0YXJnMTogJGN1cnJlbnRMaW5rLmF0dHIoJ2RhdGEtYWN0aXZlLXBhZ2UnKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlICdvbmNsaWNrJyBldmVudCBhbmQgYWRkIG93biBjbGljayBldmVudC5cclxuXHQgKiBAcGFyYW0ge30gJHNjb3BlIGN1cnJlbnQgRGlyZWN0aXZlIHNjb3BlLlxyXG5cdCAqIEBwYXJhbSB7fSAkaHRtbENvbnRhaW5lciBSZXBvcnQgY29udGFpbmVyLCB3aGljaCBjb250YWlucyBwYWdpbmcgY29udHJvbHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZUdvVG9SZWNvcmRCdG4oJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRodG1sQ29udGFpbmVyOiBKUXVlcnk8SFRNTEVsZW1lbnQ+KSB7XHJcblx0XHRjb25zdCAkYnRuID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLWdvLXRvLXBhZ2UtYnRuJyk7XHJcblx0XHQkYnRuLmF0dHIoJ29uY2xpY2snLCBudWxsKTtcclxuXHRcdCRidG4ub24oJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdGNvbnN0ICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRjb25zdCBpdGVtc0NvdW50ID0gcGFyc2VJbnQoU3RyaW5nKCR0aGlzLmF0dHIoJ2RhdGEtaXRlbXMtY291bnQnKSkpO1xyXG5cdFx0XHRjb25zdCBpdGVtc1BlclBhZ2UgPSBwYXJzZUludChTdHJpbmcoJHRoaXMuYXR0cignZGF0YS1pdGVtcy1wZXItcGFnZScpKSk7XHJcblx0XHRcdGxldCBpbnB1dFZhbHVlO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlucHV0VmFsdWUgPSBwYXJzZUludChTdHJpbmcoYW5ndWxhci5lbGVtZW50KCcjcGFnZU51bUVkJykudmFsKCkpKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGlucHV0VmFsdWUgPSAxO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtc0NvdW50IDwgaW5wdXRWYWx1ZSkgaW5wdXRWYWx1ZSA9IGl0ZW1zQ291bnQ7XHJcblx0XHRcdGNvbnN0IHN0YXJ0UmVjb3JkID0gaW5wdXRWYWx1ZSAtIChpbnB1dFZhbHVlIC0gMSkgJSBpdGVtc1BlclBhZ2U7XHJcblx0XHRcdGNvbnN0IGZpbmlzaFJlY29yZCA9IHN0YXJ0UmVjb3JkICsgaXRlbXNQZXJQYWdlIC0gMTtcclxuXHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdGFyZzA6ICdpei1wYWdlbGluay1leGFjdC1wYWdlLWlucHV0JyxcclxuXHRcdFx0XHRhcmcxOiBzdGFydFJlY29yZCArICctJyArIGZpbmlzaFJlY29yZFxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCRyb290U2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+XHJcblx0XHRcdG5ldyBJemVuZGFSZXBvcnRWaWV3ZXIoJHJvb3RTY29wZSwgJHRpbWVvdXQpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVJlcG9ydFZpZXdlcicsXHJcblx0Wyckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgSXplbmRhUmVwb3J0Vmlld2VyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVNlbGVjdENoZWNrYm94ZXNTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZXhpc3RlbnRWYWx1ZXM6IGFueTtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0aXNDaGVja2VkOiBhbnk7XHJcblx0Y2xpY2tDaGVja2JveDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogU2VsZWN0IGNoZWNrYm94ZXMgZGlyZWN0aXZlLiBcclxuICovXHJcbmNsYXNzIEl6ZW5kYVNlbGVjdENoZWNrYm94ZXMgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBRSc7XHJcblxyXG5cdHNjb3BlID0ge1xyXG5cdFx0ZXhpc3RlbnRWYWx1ZXM6ICc9JyxcclxuXHRcdG5nTW9kZWw6ICc9J1xyXG5cdH07XHJcblxyXG5cdHRlbXBsYXRlID1cclxuXHRcdGA8ZGl2IG5nLXJlcGVhdD1cImV4aXN0ZW50VmFsdWUgaW4gZXhpc3RlbnRWYWx1ZXNcIj5cclxuXHQ8bGFiZWwgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNlbGVjdC1jaGVja2JveGVzLWxhYmVsXCI+XHJcblx0XHQ8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctY2xpY2s9XCJjbGlja0NoZWNrYm94KGV4aXN0ZW50VmFsdWUpXCIgbmctY2hlY2tlZD1cImlzQ2hlY2tlZChleGlzdGVudFZhbHVlKVwiLz5cclxuXHRcdDxzcGFuIG5nLWJpbmQ9XCJleGlzdGVudFZhbHVlLnRleHRcIj48L3NwYW4+XHJcblx0PC9sYWJlbD5cclxuPC9kaXY+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVNlbGVjdENoZWNrYm94ZXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFTZWxlY3RDaGVja2JveGVzLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVNlbGVjdENoZWNrYm94ZXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2l6ZW5kYS1jb21tb24tc2VsZWN0LWNoZWNrYm94ZXMnKTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2V4aXN0ZW50VmFsdWVzJywgKCkgPT4gJHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpLCB0cnVlKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25nTW9kZWwnLCAoKSA9PiAkc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5uZ0NoYW5nZSkpO1xyXG5cclxuXHRcdFx0JHNjb3BlLmlzQ2hlY2tlZCA9IGV4aXN0ZW50VmFsdWUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHZpZXdWYWx1ZSA9ICRzY29wZS5uZ01vZGVsO1xyXG5cdFx0XHRcdHJldHVybiB2aWV3VmFsdWUuaW5kZXhPZihleGlzdGVudFZhbHVlLnZhbHVlKSA+PSAwO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHQkc2NvcGUuY2xpY2tDaGVja2JveCA9IGV4aXN0ZW50VmFsdWUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHZpZXdWYWx1ZSA9ICRzY29wZS5uZ01vZGVsO1xyXG5cdFx0XHRcdGlmICh2aWV3VmFsdWUuaW5kZXhPZihleGlzdGVudFZhbHVlLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRcdFx0dmlld1ZhbHVlLnNwbGljZSh2aWV3VmFsdWUuaW5kZXhPZihleGlzdGVudFZhbHVlLnZhbHVlKSwgMSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dmlld1ZhbHVlLnB1c2goZXhpc3RlbnRWYWx1ZS52YWx1ZSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVNlbGVjdENoZWNrYm94ZXMoKTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU2VsZWN0Q2hlY2tib3hlcycsIFtJemVuZGFTZWxlY3RDaGVja2JveGVzLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVNwbGFzaFNjcmVlblNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ1Nob3c6IGFueTtcclxuXHR0ZXh0OiBhbnk7XHJcblx0bG9hZGluZ0luZGljYXRvclVybDogYW55O1xyXG5cdHBhcmVudFNlbGVjdG9yOiBhbnk7XHJcbn1cclxuXHJcbmNsYXNzIEl6ZW5kYVNwbGFzaFNjcmVlbiBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0VBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdG5nU2hvdzogJz0nLFxyXG5cdFx0dGV4dDogJz0nLFxyXG5cdFx0bG9hZGluZ0luZGljYXRvclVybDogJ0AnLFxyXG5cdFx0cGFyZW50U2VsZWN0b3I6ICdAJ1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVNwbGFzaFNjcmVlblNjb3BlKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFTcGxhc2hTY3JlZW4ucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhU3BsYXNoU2NyZWVuU2NvcGUpID0+IHtcclxuXHJcblx0XHRcdHZhciBzcGxhc2hUaW1lb3V0OiBuZy5JUHJvbWlzZTxhbnk+ID0gbnVsbDtcclxuXHRcdFx0dmFyIHRlbXBsYXRlID1cclxuXHRcdFx0XHRgPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuIGhpZGRlblwiPlxyXG5cdDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi1pbm5lciB0ZXh0LWNlbnRlclwiPlxyXG5cdFx0PGltZyBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLWxvYWRpbmdcIi8+XHJcblx0XHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLXRleHRcIj48L3NwYW4+XHJcblx0PC9kaXY+XHJcbjwvZGl2PmA7XHJcblx0XHRcdGNvbnN0ICRlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlKTtcclxuXHRcdFx0bGV0IGFkZGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBsb2FkaW5nIHNwaW5uZXJcclxuXHRcdFx0Y29uc3QgZGVmYXVsdExvYWRpbmdJbmRpY2F0b3JVcmwgPSBhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5sb2FkaW5nSW5kaWNhdG9yVXJsKVxyXG5cdFx0XHRcdD8gJHNjb3BlLmxvYWRpbmdJbmRpY2F0b3JVcmxcclxuXHRcdFx0XHQ6ICRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybFJwUGFnZSArICdpbWFnZT1Nb2Rlcm5JbWFnZXMubG9hZGluZy1ncmlkLmdpZic7XHJcblx0XHRcdGNvbnN0IHBhcmVudFNlbGVjdG9yVGV4dCA9IGFuZ3VsYXIuaXNTdHJpbmcoJHNjb3BlLnBhcmVudFNlbGVjdG9yKSA/ICRzY29wZS5wYXJlbnRTZWxlY3RvciA6ICdib2R5JztcclxuXHRcdFx0bGV0IGJvZHlPdmVyZmxvdzogc3RyaW5nO1xyXG5cdFx0XHRsZXQgYm9keVBhZGRpbmc6IHN0cmluZztcclxuXHRcdFx0bGV0ICRib2R5OiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cclxuXHRcdFx0Y29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcclxuXHRcdFx0XHQkZWxlbWVudC5maW5kKCcuaXplbmRhLWNvbW1vbi1zcGxhc2hzY3JlZW4tbG9hZGluZycpLmF0dHIoJ3NyYycsIGRlZmF1bHRMb2FkaW5nSW5kaWNhdG9yVXJsKTtcclxuXHRcdFx0XHQkYm9keSA9IGFuZ3VsYXIuZWxlbWVudChwYXJlbnRTZWxlY3RvclRleHQpO1xyXG5cdFx0XHRcdGlmICgkYm9keS5sZW5ndGggPiAwICYmICFhZGRlZCkge1xyXG5cdFx0XHRcdFx0Ym9keU92ZXJmbG93ID0gJGJvZHkuY3NzKCdvdmVyZmxvdycpO1xyXG5cdFx0XHRcdFx0Ym9keVBhZGRpbmcgPSAkYm9keS5jc3MoJ3BhZGRpbmctbGVmdCcpO1xyXG5cdFx0XHRcdFx0JGJvZHkuYXBwZW5kKCRlbGVtZW50KTtcclxuXHRcdFx0XHRcdGFkZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBzZXRUZXh0ID0gKCkgPT4ge1xyXG5cdFx0XHRcdHZhciAkaW5uZXIgPSAkZWxlbWVudC5maW5kKCcuaXplbmRhLWNvbW1vbi1zcGxhc2hzY3JlZW4tdGV4dCcpO1xyXG5cdFx0XHRcdCRpbm5lci50ZXh0KCRzY29wZS50ZXh0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgYm9keUhhc1Njcm9sbGJhciA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gJGJvZHkubGVuZ3RoID4gMCAmJiAkYm9keS5nZXQoMCkuc2Nyb2xsSGVpZ2h0ID4gJGJvZHkuaGVpZ2h0KCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBzaG93U3BsYXNoID0gKCkgPT4ge1xyXG5cdFx0XHRcdGluaXRpYWxpemUoKTtcclxuXHRcdFx0XHRpZiAoc3BsYXNoVGltZW91dCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQuY2FuY2VsKHNwbGFzaFRpbWVvdXQpO1xyXG5cdFx0XHRcdFx0c3BsYXNoVGltZW91dCA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNwbGFzaFRpbWVvdXQgPSAkdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRib2R5T3ZlcmZsb3cgPSAkYm9keS5jc3MoJ292ZXJmbG93Jyk7XHJcblx0XHRcdFx0XHQkYm9keS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0aWYgKGJvZHlIYXNTY3JvbGxiYXIoKSkge1xyXG5cdFx0XHRcdFx0XHRib2R5UGFkZGluZyA9ICRib2R5LmNzcygncGFkZGluZy1sZWZ0Jyk7XHJcblx0XHRcdFx0XHRcdCRib2R5LmNzcygncGFkZGluZy1yaWdodCcsICcxN3B4Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBoaWRlU3BsYXNoID0gKCkgPT4ge1xyXG5cdFx0XHRcdGluaXRpYWxpemUoKTtcclxuXHRcdFx0XHRpZiAoc3BsYXNoVGltZW91dCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQuY2FuY2VsKHNwbGFzaFRpbWVvdXQpO1xyXG5cdFx0XHRcdFx0c3BsYXNoVGltZW91dCA9IG51bGw7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHQkYm9keS5jc3MoJ292ZXJmbG93JywgYm9keU92ZXJmbG93KTtcclxuXHRcdFx0XHRcdGlmIChib2R5SGFzU2Nyb2xsYmFyKCkpIHtcclxuXHRcdFx0XHRcdFx0JGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZGRpbmcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nU2hvdycsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbClcclxuXHRcdFx0XHRcdHNob3dTcGxhc2goKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRoaWRlU3BsYXNoKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndGV4dCcsICgpID0+IHNldFRleHQoKSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UpID0+IG5ldyBJemVuZGFTcGxhc2hTY3JlZW4oJHRpbWVvdXQsICRpemVuZGFVcmxTZXJ2aWNlKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCcsICckaXplbmRhVXJsU2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU3BsYXNoU2NyZWVuJywgWyckdGltZW91dCcsICckaXplbmRhVXJsU2VydmljZScsIEl6ZW5kYVNwbGFzaFNjcmVlbi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTd2l0Y2hlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0b29sdGlwOiBzdHJpbmc7XHJcblx0bGFiZWw6IHN0cmluZztcclxuXHRuZ01vZGVsOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogU3dpdGNoZXIgZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFTd2l0Y2hlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cclxuXHRzY29wZSA9IHtcclxuXHRcdHRvb2x0aXA6ICc9JyxcclxuXHRcdGxhYmVsOiAnPScsXHJcblx0XHRuZ01vZGVsOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPHNwYW4gbmctc2hvdz1cImxhYmVsICE9IG51bGwgJiYgbGFiZWwgIT0gJydcIiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItbGFiZWxcIj57e2xhYmVsfX08L3NwYW4+XHJcbjxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zd2l0Y2hlclwiIHRpdGxlPVwie3t0b29sdGlwfX1cIj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItdGV4dC1vZmZcIj5PPC9zcGFuPlxyXG5cdDxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zd2l0Y2hlci1pdGVtXCI+PC9zcGFuPlxyXG5cdDxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zd2l0Y2hlci10ZXh0LW9uXCI+STwvc3Bhbj5cclxuPC9zcGFuPmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTd2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFTd2l0Y2hlci5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFTd2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0JGVsZW1lbnQuY2xpY2soZSA9PiB7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHQkc2NvcGUubmdNb2RlbCA9ICEkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHQkc2NvcGUuJHBhcmVudC4kYXBwbHkoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciAkc3dpdGNoZXIgPSAkZWxlbWVudC5maW5kKCcuaXplbmRhLWNvbW1vbi1zd2l0Y2hlcicpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgKG5ld1ZhbDogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpXHJcblx0XHRcdFx0XHQkc3dpdGNoZXIuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0JHN3aXRjaGVyLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhU3dpdGNoZXIoKTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFTd2l0Y2hlcicsIFtJemVuZGFTd2l0Y2hlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFUb2dnbGVCdXR0b25TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dHJ1ZVZhbHVlOiBhbnk7XHJcblx0ZmFsc2VWYWx1ZTogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogVG9nZ2xlIGJ1dHRvbiBkaXJlY3RpdmVcclxuICovXHJcbmNsYXNzIEl6ZW5kYVRvZ2dsZUJ1dHRvbiBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0VBJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRyZXF1aXJlID0gWyduZ01vZGVsJ107XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0cnVlVmFsdWU6ICc9JyxcclxuXHRcdGZhbHNlVmFsdWU6ICc9J1xyXG5cdH07XHJcblxyXG5cdHRlbXBsYXRlID1cclxuXHRcdGA8c3BhbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gaXplbmRhLXRvZ2dsZS1idXR0b24tYnRuIGFjdGl2ZVwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uXCI+XHJcblx0PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPlxyXG48L3NwYW4+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRvZ2dsZUJ1dHRvblNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzLCByZXF1aXJlZFBhcmFtczogbmcuSUNvbnRyb2xsZXIpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRvZ2dsZUJ1dHRvblNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzLFxyXG5cdFx0XHRyZXF1aXJlZFBhcmFtczogbmcuSUNvbnRyb2xsZXIpID0+IHtcclxuXHRcdFx0Y29uc3QgbmdNb2RlbDogYW55ID0gcmVxdWlyZWRQYXJhbXNbMF07XHJcblx0XHRcdGNvbnN0IGJ0biA9ICRlbGVtZW50LmNoaWxkcmVuKCcuYnRuJyk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0cnMubmdNb2RlbCwgKG5ld1ZhbCwgb2xkVmFsKSA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbCA9PT0gb2xkVmFsKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT0gJHNjb3BlLnRydWVWYWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKGJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdFx0YnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAobmV3VmFsID09ICRzY29wZS5mYWxzZVZhbHVlKSB7XHJcblx0XHRcdFx0XHRpZiAoIWJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdFx0YnRuLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmIChuZ01vZGVsLiR2aWV3VmFsdWUgPT09ICRzY29wZS50cnVlVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAoYnRuLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0YnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAobmdNb2RlbC4kdmlld1ZhbHVlID09PSAkc2NvcGUuZmFsc2VWYWx1ZSkge1xyXG5cdFx0XHRcdGlmICghYnRuLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0YnRuLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRlbGVtZW50Lm9uKCdjbGljaycsICgpID0+IG5nTW9kZWwuJHNldFZpZXdWYWx1ZSghbmdNb2RlbC4kdmlld1ZhbHVlKSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVRvZ2dsZUJ1dHRvbigpO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUb2dnbGVCdXR0b24nLCBbSXplbmRhVG9nZ2xlQnV0dG9uLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IERhdGVUaW1lRm9ybWF0IH0gZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTY2hlZHVsZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNjaGVkdWxlIGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTY2hlZHVsZUNvbXBvbmVudCcsXHJcblx0WyckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2NoZWR1bGUuc2NoZWR1bGUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRzY2hlZHVsZUNvbmZpZzogJz0nLFxyXG5cdFx0XHRyZXBlYXRUeXBlczogJzwnLFxyXG5cdFx0XHRlbWFpbFR5cGVzOiAnPCcsXHJcblx0XHRcdHRpbWV6b25lczogJzwnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2NoZWR1bGVDb21wb25lbnQge1xyXG5cdGRhdGVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0O1xyXG5cdGN1bHR1cmU6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNjaGVkdWxlU2VydmljZTogSXplbmRhU2NoZWR1bGVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb21wb25lbnQgaW5pdFxyXG5cdCAqL1xyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZGF0ZUZvcm1hdDtcclxuXHRcdHRoaXMuY3VsdHVyZSA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5jdWx0dXJlO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCByZXBvcnQgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhVWlNb2R1bGUsXHJcblx0J2l6ZW5kYVNlbGVjdFJlcG9ydENvbXBvbmVudCcsXHJcblx0WyckdGltZW91dCcsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2VsZWN0LXJlcG9ydC5zZWxlY3QtcmVwb3J0LXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0b3BlbmVkOiAnPCcsXHJcblx0XHRcdG9uU2VsZWN0ZWQ6ICcmJyxcclxuXHRcdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2VsZWN0UmVwb3J0Q29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdW5jYXRlZ29yaXplZFRleHQ6IHN0cmluZztcclxuXHQvLyBiaW5kaW5nc1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRvblNlbGVjdGVkOiAocGFyYW06IGFueSkgPT4gdm9pZDtcclxuXHRvbk1vZGFsQ2xvc2VkOiAocGFyYW06IGFueSkgPT4gdm9pZDtcclxuXHQvLyBvdGhlclxyXG5cdG9wZW5lZElubmVyOiBib29sZWFuO1xyXG5cdGNhdGVnb3J5OiBzdHJpbmc7XHJcblx0Y2F0ZWdvcmllczogc3RyaW5nW107XHJcblx0Z3JvdXBzOiBhbnlbXTtcclxuXHRpc0xvYWRpbmc6IGJvb2xlYW47XHJcblx0aGlkZUFsbDogYm9vbGVhbjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cclxuXHRcdHRoaXMudW5jYXRlZ29yaXplZFRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0JG9uQ2hhbmdlcyhjaGFuZ2VzT2JqKSB7XHJcblx0XHRpZiAoIWNoYW5nZXNPYmoub3BlbmVkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBjdXJyZW50T3BlbmVkID0gY2hhbmdlc09iai5vcGVuZWQuY3VycmVudFZhbHVlO1xyXG5cdFx0aWYgKGN1cnJlbnRPcGVuZWQpIHtcclxuXHRcdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0XHR0aGlzLm9wZW5lZElubmVyID0gdHJ1ZTtcclxuXHRcdFx0Ly8gdGltZW91dCBpcyBuZWVkZWQgZm9yIHRoZSBzbW9vdGhlciBtb2RhbCBhbmltYXRpb25cclxuXHRcdFx0dGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5oaWRlQWxsID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMudW5jYXRlZ29yaXplZFRleHQpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRDYXRlZ29yaWVzVG9Nb2RhbChyZXBvcnRTZXRzKTtcclxuXHRcdFx0XHRcdHRoaXMuYWRkUmVwb3J0c1RvTW9kYWwocmVwb3J0U2V0cyk7XHJcblx0XHRcdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnQgcGFydHMgdG8gbW9kYWxcclxuXHQgKi9cclxuXHRhZGRSZXBvcnRQYXJ0c1RvTW9kYWwocmVwb3J0UGFydHM6IGFueVtdKSB7XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0aWYgKCFyZXBvcnRQYXJ0cyB8fCAhcmVwb3J0UGFydHMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Ly8gYWRkIGdyb3VwczpcclxuXHRcdGxldCBjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVwb3J0UGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5ncm91cHMucHVzaChjdXJyZW50R3JvdXApO1xyXG5cdFx0XHRcdGN1cnJlbnRHcm91cCA9IFtdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlcG9ydFBhcnQgPSByZXBvcnRQYXJ0c1tpXTtcclxuXHRcdFx0cmVwb3J0UGFydC5pc1JlcG9ydFBhcnQgPSB0cnVlO1xyXG5cdFx0XHRjdXJyZW50R3JvdXAucHVzaChyZXBvcnRQYXJ0KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnRzZXQgY2F0ZWdvcmllcyB0byBtb2RhbCBzZWxlY3QgY29udHJvbC5cclxuXHQgKi9cclxuXHRhZGRDYXRlZ29yaWVzVG9Nb2RhbChyZXBvcnRTZXRzOiBhbnlbXSkge1xyXG5cdFx0aWYgKCFyZXBvcnRTZXRzKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSByZXBvcnRTZXRzXHJcblx0XHRcdC5maWx0ZXIocmVwb3J0ID0+ICFyZXBvcnQuRGFzaGJvYXJkKVxyXG5cdFx0XHQubWFwPHN0cmluZz4ocmVwb3J0ID0+IHtcclxuXHRcdFx0XHRjb25zdCBjYXRlZ29yeSA9IHJlcG9ydC5DYXRlZ29yeSA/IHJlcG9ydC5DYXRlZ29yeSA6IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHRcdFx0cmV0dXJuICFyZXBvcnQuU3ViY2F0ZWdvcnlcclxuXHRcdFx0XHRcdD8gY2F0ZWdvcnlcclxuXHRcdFx0XHRcdDogY2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydC5TdWJjYXRlZ29yeTtcclxuXHRcdFx0fSk7XHJcblx0XHQvLyBtYWtlIGNhdGVnb3JpZXMgdW5pcXVlXHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQ8c3RyaW5nPih0aGlzLmNhdGVnb3JpZXMpKTtcclxuXHRcdGlmICghdGhpcy5jYXRlZ29yeSlcclxuXHRcdFx0dGhpcy5jYXRlZ29yeSA9IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVwb3J0IHRvIG1vZGFsIGRpYWxvZyBib2R5LlxyXG5cdCAqL1xyXG5cdGFkZFJlcG9ydHNUb01vZGFsKHJlcG9ydFNldHM6IGFueVtdKSB7XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0bGV0IHJlcG9ydFNldHNUb1Nob3cgPSBbXTtcclxuXHJcblx0XHRpZiAocmVwb3J0U2V0cyAmJiByZXBvcnRTZXRzLmxlbmd0aClcclxuXHRcdFx0cmVwb3J0U2V0c1RvU2hvdyA9IHJlcG9ydFNldHMuZmlsdGVyKHJzID0+ICFycy5EYXNoYm9hcmQgJiYgcnMuTmFtZSk7XHJcblx0XHRpZiAoIXJlcG9ydFNldHNUb1Nob3cgfHwgIXJlcG9ydFNldHNUb1Nob3cubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Ly8gYWRkIGdyb3VwczpcclxuXHRcdGxldCBjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdHRoaXMuZ3JvdXBzLmxlbmd0aCA9IDA7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlcG9ydFNldHNUb1Nob3cubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5ncm91cHMucHVzaChjdXJyZW50R3JvdXApO1xyXG5cdFx0XHRcdGN1cnJlbnRHcm91cCA9IFtdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlcG9ydFNldCA9IHJlcG9ydFNldHNUb1Nob3dbaV07XHJcblx0XHRcdHJlcG9ydFNldC5pc1JlcG9ydFBhcnQgPSBmYWxzZTtcclxuXHRcdFx0Y3VycmVudEdyb3VwLnB1c2gocmVwb3J0U2V0KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbGVjdCBjYXRlZ29yeSBoYW5kbGVyXHJcblx0ICovXHJcblx0Y2F0ZWdvcnlDaGFuZ2VkSGFuZGxlcigpIHtcclxuXHRcdGlmICh0aGlzLmlzTG9hZGluZylcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdGlmICghdGhpcy5jYXRlZ29yeSlcclxuXHRcdFx0dGhpcy5jYXRlZ29yeSA9IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0UmVwb3J0U2V0Q2F0ZWdvcnkodGhpcy5jYXRlZ29yeSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0dGhpcy5hZGRSZXBvcnRzVG9Nb2RhbChkYXRhLlJlcG9ydFNldHMpO1xyXG5cdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNb2RhbCBjbG9zZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG1vZGFsQ2xvc2VkSGFuZGxlcigpIHtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vbk1vZGFsQ2xvc2VkKSlcclxuXHRcdFx0dGhpcy5vbk1vZGFsQ2xvc2VkKHt9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVzZXIgY2xpY2tlZCB0byByZXBvcnQgc2V0IGl0ZW1cclxuXHQgKi9cclxuXHRpdGVtU2VsZWN0ZWRIYW5kbGVyKGl0ZW0pIHtcclxuXHRcdGNvbnN0IGlzUmVwb3J0UGFydCA9IGl0ZW0uaXNSZXBvcnRQYXJ0O1xyXG5cdFx0bGV0IHJlcG9ydEZ1bGxOYW1lID0gaXRlbS5OYW1lO1xyXG5cclxuXHRcdGlmIChpdGVtLkNhdGVnb3J5RnVsbClcclxuXHRcdFx0cmVwb3J0RnVsbE5hbWUgPSBpdGVtLkNhdGVnb3J5RnVsbCArIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVwb3J0RnVsbE5hbWU7XHJcblxyXG5cdFx0aWYgKCFpc1JlcG9ydFBhcnQpIHtcclxuXHRcdFx0Ly8gaWYgcmVwb3J0IHNldCBzZWxlY3RlZFxyXG5cdFx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5nZXRSZXBvcnRQYXJ0cyhyZXBvcnRGdWxsTmFtZSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHR2YXIgcmVwb3J0cyA9IGRhdGEuUmVwb3J0cztcclxuXHRcdFx0XHR0aGlzLmFkZFJlcG9ydFBhcnRzVG9Nb2RhbChyZXBvcnRzKTtcclxuXHRcdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMub3BlbmVkSW5uZXIgPSBmYWxzZTtcclxuXHRcdFx0Ly8gaWYgcmVwb3J0IHBhcnQgc2VsZWN0ZWRcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uU2VsZWN0ZWQpKVxyXG5cdFx0XHRcdHRoaXMub25TZWxlY3RlZCh7IHJlcG9ydFBhcnRJbmZvOiBpdGVtIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVzZXQgZm9ybVxyXG5cdCAqL1xyXG5cdHJlc2V0KCkge1xyXG5cdFx0dGhpcy5vcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdFx0dGhpcy5jYXRlZ29yeSA9IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHR0aGlzLmhpZGVBbGwgPSB0cnVlO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCByZXBvcnQgbmFtZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2VsZWN0UmVwb3J0TmFtZUNvbXBvbmVudCcsXHJcblx0WyckcScsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnLCAnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQnLFxyXG5cdFx0J2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUVtcHR5RXJyb3InLCAnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW52YWxpZEVycm9yJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi51aS5jb21wb25lbnRzLnNlbGVjdC1yZXBvcnQtbmFtZS5zZWxlY3QtcmVwb3J0LW5hbWUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRvcGVuZWQ6ICc8JyxcclxuXHRcdFx0b25TZWxlY3RlZDogJyYnLFxyXG5cdFx0XHRvbk1vZGFsQ2xvc2VkOiAnJidcclxuXHRcdH1cclxuXHR9KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTZWxlY3RSZXBvcnROYW1lQ29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdC8vIGJpbmRpbmdzXHJcblx0b25TZWxlY3RlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0b25Nb2RhbENsb3NlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0Ly8gb3RoZXJcclxuXHRwcml2YXRlIG5leHRJZDogbnVtYmVyID0gMTtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHRleHRDcmVhdGVOZXc6IHN0cmluZztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHRleHRVbmNhdGVnb3JpemVkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JSZXBvcnROYW1lRW1wdHk6IHN0cmluZztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHRleHRFcnJvckludmFsaWRSZXBvcnROYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JJbnZhbGlkQ2F0ZWdvcnlOYW1lOiBzdHJpbmc7XHJcblxyXG5cdGlzQ2F0ZWdvcnlBbGxvd2VkOiBib29sZWFuO1xyXG5cdGlzT3BlbmVkSW5uZXI6IGJvb2xlYW47XHJcblx0aXNOZXdSZXBvcnREaWFsb2c6IGJvb2xlYW47XHJcblx0aXNDcmVhdGluZ05ld0NhdGVnb3J5OiBib29sZWFuO1xyXG5cdGlzU2VsZWN0RGlzYWJsZWQ6IGJvb2xlYW47XHJcblx0aXNOYW1lRm9jdXNlZDogYm9vbGVhbjtcclxuXHRpc0NhdGVnb3J5Rm9jdXNlZDogYm9vbGVhbjtcclxuXHJcblx0cmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0OiBzdHJpbmc7XHJcblx0cmVwb3J0TmFtZTogc3RyaW5nO1xyXG5cdG5ld0NhdGVnb3J5TmFtZTogc3RyaW5nO1xyXG5cdGNhdGVnb3JpZXM6IEFycmF5PENhdGVnb3J5T2JqZWN0PjtcclxuXHRzZWxlY3RlZENhdGVnb3J5OiBDYXRlZ29yeU9iamVjdDtcclxuXHRyZXBvcnRTZXRzOiBhbnlbXTtcclxuXHRlcnJvck1lc3NhZ2VzOiBzdHJpbmdbXTtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSxcclxuXHRcdHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dDogc3RyaW5nW10sXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJlcG9ydE5hbWVFbXB0eUVycm9yOiBzdHJpbmcsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJlcG9ydE5hbWVJbnZhbGlkRXJyb3I6IHN0cmluZykge1xyXG5cclxuXHRcdHRoaXMuaXNDYXRlZ29yeUFsbG93ZWQgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCkuc2hvd0NhdGVnb3J5VGV4dGJveEluU2F2ZURpYWxvZztcclxuXHRcdHRoaXMucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZVxyXG5cdFx0XHQubG9jYWxlVGV4dChyZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHRbMF0sIHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dFsxXSk7XHJcblx0XHR0aGlzLnRleHRDcmVhdGVOZXcgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19DcmVhdGVOZXcnLCAnQ3JlYXRlIE5ldycpO1xyXG5cdFx0dGhpcy50ZXh0VW5jYXRlZ29yaXplZCA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdFx0dGhpcy50ZXh0RXJyb3JSZXBvcnROYW1lRW1wdHkgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KHJlcG9ydE5hbWVFbXB0eUVycm9yWzBdLCByZXBvcnROYW1lRW1wdHlFcnJvclsxXSk7XHJcblx0XHR0aGlzLnRleHRFcnJvckludmFsaWRSZXBvcnROYW1lID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChyZXBvcnROYW1lSW52YWxpZEVycm9yWzBdLCByZXBvcnROYW1lSW52YWxpZEVycm9yWzFdKTtcclxuXHRcdHRoaXMudGV4dEVycm9ySW52YWxpZENhdGVnb3J5TmFtZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ludmFsaWRDYXRlZ29yeU5hbWUnLCAnSW52YWxpZCBDYXRlZ29yeSBOYW1lJyk7XHJcblxyXG5cdFx0dGhpcy5pc09wZW5lZElubmVyID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzTmV3UmVwb3J0RGlhbG9nID0gZmFsc2U7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWUgPSAnJztcclxuXHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9ICcnO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0dGhpcy5pc1NlbGVjdERpc2FibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVwb3J0U2V0cyA9IFtdO1xyXG5cdFx0dGhpcy5lcnJvck1lc3NhZ2VzID0gW107XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iaikge1xyXG5cdFx0aWYgKGNoYW5nZXNPYmoub3BlbmVkKSB7XHJcblx0XHRcdHZhciBjdXJyZW50T3BlbmVkID0gY2hhbmdlc09iai5vcGVuZWQuY3VycmVudFZhbHVlO1xyXG5cdFx0XHRpZiAoY3VycmVudE9wZW5lZClcclxuXHRcdFx0XHR0aGlzLm9wZW5Nb2RhbCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW9kYWwgY2xvc2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRtb2RhbENsb3NlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25Nb2RhbENsb3NlZCkpXHJcblx0XHRcdHRoaXMub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2dcclxuXHQgKi9cclxuXHRjbG9zZU1vZGFsKCkge1xyXG5cdFx0dGhpcy5pc09wZW5lZElubmVyID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIG1vZGFsIGRpYWxvZ1xyXG5cdCAqL1xyXG5cdG9wZW5Nb2RhbCgpIHtcclxuXHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLmlzT3BlbmVkSW5uZXIgPSB0cnVlO1xyXG5cdFx0dGhpcy5yZXNldEZvcm0oKTtcclxuXHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCk7XHJcblx0XHR0aGlzLm5leHRJZCA9IDE7XHJcblxyXG5cdFx0Ly8gc2hvdyBsb2FkaW5nIG1lc3NhZ2UgaW5zaWRlIHNlbGVjdCBjb250cm9sXHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcy5wdXNoKHtcclxuXHRcdFx0aWQ6IC0xLFxyXG5cdFx0XHRuYW1lOiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0xvYWRpbmcnLCAnTG9hZGluZy4uLicpXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcmllc1swXTtcclxuXHRcdHRoaXMucmVwb3J0TmFtZSA9IHJlcG9ydEluZm8ubmFtZTtcclxuXHJcblx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0UmVwb3J0U2V0Q2F0ZWdvcnkodGhpcy50ZXh0VW5jYXRlZ29yaXplZCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IG51bGw7XHJcblx0XHRcdHRoaXMucmVwb3J0U2V0cyA9IGRhdGEuUmVwb3J0U2V0cztcclxuXHJcblx0XHRcdC8vIGFkZCBjYXRlZ29yaWVzXHJcblx0XHRcdC8vIFwiQ3JlYXRlIG5ld1wiXHJcblx0XHRcdGlmICh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q29tbW9uU2V0dGluZ3MoKS5hbGxvd0NyZWF0ZU5ld0NhdGVnb3J5KVxyXG5cdFx0XHRcdHRoaXMuY2F0ZWdvcmllcy5wdXNoKHtcclxuXHRcdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdFx0bmFtZTogdGhpcy50ZXh0Q3JlYXRlTmV3XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBcIlVuY2F0ZWdvcml6ZWRcIlxyXG5cdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdFx0aWQ6IHRoaXMubmV4dElkKyssXHJcblx0XHRcdFx0bmFtZTogdGhpcy50ZXh0VW5jYXRlZ29yaXplZFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZSh0aGlzLnRleHRVbmNhdGVnb3JpemVkKTtcclxuXHJcblx0XHRcdC8vIE90aGVyIGNhdGVnb3JpZXNcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheSh0aGlzLnJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0dGhpcy5yZXBvcnRTZXRzLmZvckVhY2gocmVwb3J0ID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGlkID0gdGhpcy5uZXh0SWQrKztcclxuXHRcdFx0XHRcdGxldCBjdXJyZW50Q2F0ZWdvcnlOYW1lID0gcmVwb3J0LkNhdGVnb3J5O1xyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50Q2F0ZWdvcnlOYW1lKVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gdGhpcy50ZXh0VW5jYXRlZ29yaXplZDtcclxuXHRcdFx0XHRcdGN1cnJlbnRDYXRlZ29yeU5hbWUgPSAhcmVwb3J0LlN1YmNhdGVnb3J5XHJcblx0XHRcdFx0XHRcdD8gY3VycmVudENhdGVnb3J5TmFtZVxyXG5cdFx0XHRcdFx0XHQ6IGN1cnJlbnRDYXRlZ29yeU5hbWUgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydC5TdWJjYXRlZ29yeTtcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5jYXRlZ29yaWVzICYmIHRoaXMuY2F0ZWdvcmllcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLmNhdGVnb3JpZXMuZmluZChjID0+IGMubmFtZSA9PT0gY3VycmVudENhdGVnb3J5TmFtZSkpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBoYXZlJ3QgYWxyZWFkeSBhZGRlZFxyXG5cdFx0XHRcdFx0XHRcdHZhciBjYXQgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZDogaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBjdXJyZW50Q2F0ZWdvcnlOYW1lXHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaChjYXQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChyZXBvcnRJbmZvLmNhdGVnb3J5ID09PSBjdXJyZW50Q2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBjYXQ7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcIkVudGVyXCIgYnV0dG9uIGtleSBwcmVzcyBoYW5kbGVyIGZvciByZXBvcnQgbmFtZSA8aW5wdXQ+XHJcblx0ICogQHBhcmFtIHtldmVudCBvYmplY3R9ICRldmVudC5cclxuXHQgKi9cclxuXHRyZXBvcnROYW1lS2V5UHJlc3NlZCgkZXZlbnQ6IEpRdWVyeS5FdmVudCkge1xyXG5cdFx0aWYgKCRldmVudC5rZXlDb2RlID09PSBKUXVlcnkuS2V5LkVudGVyKVxyXG5cdFx0XHR0aGlzLmNvbXBsZXRlSGFuZGxlcigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT0sgYnV0dG9uIHByZXNzZWRcclxuXHQgKi9cclxuXHRjb21wbGV0ZUhhbmRsZXIoKSB7XHJcblx0XHR0aGlzLnZhbGlkYXRlRm9ybSgpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNsb3NlTW9kYWwoKTtcclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlOYW1lID0gdGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPyB0aGlzLm5ld0NhdGVnb3J5TmFtZSA6IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25TZWxlY3RlZCkpIHtcclxuXHRcdFx0XHR0aGlzLm9uU2VsZWN0ZWQoe1xyXG5cdFx0XHRcdFx0cmVwb3J0TmFtZTogdGhpcy5yZXBvcnROYW1lLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnlOYW1lOiBjYXRlZ29yeU5hbWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgKCkgPT4geyB9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgd2l0aCBnaXZlbiBuYW1lIGZyb20gcmVwb3J0IGxpc3RcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gbGlzdCB3aXRoIHJlcG9ydHMuXHJcblx0ICovXHJcblx0aXNSZXBvcnRJblJlcG9ydExpc3QocmVwb3J0TmFtZTogc3RyaW5nLCByZXBvcnRMaXN0OiBhbnlbXSk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFyZXBvcnRMaXN0IHx8ICFyZXBvcnRMaXN0Lmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIHJlcG9ydExpc3QuZmluZChycyA9PiBycy5OYW1lID09PSByZXBvcnROYW1lLnRyaW0oKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZm9ybSB0byBpdCdzIGluaXRpYWwgc3RhdGVcclxuXHQgKi9cclxuXHRyZXNldEZvcm0oKSB7XHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCk7XHJcblx0XHR0aGlzLmVycm9yTWVzc2FnZXMgPSBbXTtcclxuXHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9ICcnO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0dGhpcy5pc1NlbGVjdERpc2FibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVwb3J0U2V0cyA9IFtdO1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gZmFsc2U7XHJcblx0XHRpZiAodGhpcy5pc05ld1JlcG9ydERpYWxvZykge1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IHNlcGFyYXRvckluZGV4ID0gKHJlcG9ydEluZm8gJiYgcmVwb3J0SW5mby5uYW1lKVxyXG5cdFx0XHRcdD8gcmVwb3J0SW5mby5uYW1lLmxhc3RJbmRleE9mKHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKVxyXG5cdFx0XHRcdDogLTE7XHJcblx0XHRcdHRoaXMucmVwb3J0TmFtZSA9IChzZXBhcmF0b3JJbmRleCA8IDApID8gcmVwb3J0SW5mby5uYW1lIDogcmVwb3J0SW5mby5uYW1lLnN1YnN0cihzZXBhcmF0b3JJbmRleCArIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xlYXIgYWxsIGZvY3VzXHJcblx0ICovXHJcblx0Y2xlYXJGb2N1cygpIHtcclxuXHRcdHRoaXMuaXNOYW1lRm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0NhdGVnb3J5Rm9jdXNlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZvY3VzIG9uIHJlcG9ydCBuYW1lIGlucHV0XHJcblx0ICovXHJcblx0c2V0Rm9jdXMoKSB7XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2F0ZWdvcmllcyB3ZXJlIHVwZGF0ZWQuXHJcblx0ICovXHJcblx0dXBkYXRlQ2F0ZWdvcmllc0hhbmRsZXIobmV3Q2F0ZWdvcmllczogc3RyaW5nW10pIHtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IG5ld0NhdGVnb3JpZXMubWFwKG5ld0NhdGVnb3J5TmFtZSA9PiB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0aWQ6IHRoaXMubmV4dElkKyssXHJcblx0XHRcdFx0bmFtZTogbmV3Q2F0ZWdvcnlOYW1lXHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnlOYW1lID0gdGhpcy5zZWxlY3RlZENhdGVnb3J5ID8gdGhpcy5zZWxlY3RlZENhdGVnb3J5Lm5hbWUgOiBudWxsO1xyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZShzZWxlY3RlZENhdGVnb3J5TmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXBvcnQgY2F0ZWdvcnkgc2VsZWN0ZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdGNhdGVnb3J5U2VsZWN0ZWRIYW5kbGVyKGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuXHRcdGlmICghdGhpcy5pc0NhdGVnb3J5QWxsb3dlZCkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSB0aGlzLmdldENhdGVnb3J5T2JqZWN0QnlOYW1lKHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZShjYXRlZ29yeSk7XHJcblx0XHRpZiAodGhpcy5zZWxlY3RlZENhdGVnb3J5ICE9PSBudWxsKSB7XHJcblx0XHRcdGlmICh0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZSA9PT0gdGhpcy50ZXh0Q3JlYXRlTmV3KSB7XHJcblx0XHRcdFx0dGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMuY2xlYXJGb2N1cygpO1xyXG5cdFx0XHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSBmb3JtXHJcblx0ICovXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZUZvcm0oKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgcmVwb3J0IG5hbWUgbm90IGVtcHR5XHJcblx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5sZW5ndGggPSAwO1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSBhbmd1bGFyLmlzU3RyaW5nKHRoaXMucmVwb3J0TmFtZSkgPyB0aGlzLnJlcG9ydE5hbWUudHJpbSgpIDogJyc7XHJcblx0XHRcdGlmICghdGhpcy5yZXBvcnROYW1lKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JSZXBvcnROYW1lRW1wdHkpO1xyXG5cdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2hlY2sgcmVwb3J0IG5hbWUgaXMgdmFsaWRcclxuXHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCk7XHJcblx0XHRcdHZhciByZXBvcnROYW1lRml4ZWQgPSB3aW5kb3cudXRpbGl0eS5maXhSZXBvcnROYW1lUGF0aCh0aGlzLnJlcG9ydE5hbWUsXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCksXHJcblx0XHRcdFx0c2V0dGluZ3Muc3RyaXBJbnZhbGlkQ2hhcmFjdGVycyxcclxuXHRcdFx0XHRzZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzKTtcclxuXHRcdFx0aWYgKCFyZXBvcnROYW1lRml4ZWQpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLnRleHRFcnJvckludmFsaWRSZXBvcnROYW1lKTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gcmVwb3J0TmFtZUZpeGVkO1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgY2F0ZWdvcnlcclxuXHRcdFx0aWYgKHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5KSB7XHJcblx0XHRcdFx0dmFyIGZpeGVkQ2F0ZWdvcnlOYW1lID0gd2luZG93LnV0aWxpdHkuZml4UmVwb3J0TmFtZVBhdGgodGhpcy5uZXdDYXRlZ29yeU5hbWUsXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSxcclxuXHRcdFx0XHRcdHNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnMsXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzKTtcclxuXHRcdFx0XHRpZiAoIWZpeGVkQ2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLnRleHRFcnJvckludmFsaWRDYXRlZ29yeU5hbWUpO1xyXG5cdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMubmV3Q2F0ZWdvcnlOYW1lID0gZml4ZWRDYXRlZ29yeU5hbWU7XHJcblxyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXRlZ29yaWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5uZXdDYXRlZ29yeU5hbWUgPT09IHRoaXMuY2F0ZWdvcmllc1tpXVsnbmFtZSddKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMuZ2V0RXJyb3JUZXh0Q2F0ZWdvcnlFeGlzdCh0aGlzLm5ld0NhdGVnb3J5TmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lXHJcblx0XHRcdHZhciBzZWxlY3RlZENhdGVnb3J5TmFtZSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lO1xyXG5cclxuXHRcdFx0Ly8gcmVzb2x2ZSBpZiBpdCBpcyBzYW1lIHJlcG9ydFxyXG5cdFx0XHR2YXIgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0XHRpZiAocmVwb3J0SW5mby5uYW1lID09PSB0aGlzLnJlcG9ydE5hbWUgJiYgcmVwb3J0SW5mby5jYXRlZ29yeSA9PT0gc2VsZWN0ZWRDYXRlZ29yeU5hbWUpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdHRoaXMucmVwb3J0TmFtZSkpO1xyXG5cdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2hlY2sgcmVwb3J0IGlzbid0IGluIHRoYXQgY2F0ZWdvcnlcclxuXHRcdFx0aWYgKHNlbGVjdGVkQ2F0ZWdvcnlOYW1lID09PSB0aGlzLnRleHRVbmNhdGVnb3JpemVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuaXNSZXBvcnRJblJlcG9ydExpc3QodGhpcy5yZXBvcnROYW1lLCB0aGlzLnJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgK1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlcG9ydE5hbWUpKTtcclxuXHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNSZXBvcnRJblJlcG9ydExpc3QodGhpcy5yZXBvcnROYW1lLCBkYXRhLlJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMuZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3Qoc2VsZWN0ZWRDYXRlZ29yeU5hbWUgK1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlcG9ydE5hbWUpKTtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY2F0ZWdvcnkgb2JqZWN0IGJ5IGl0J3MgaWRcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldENhdGVnb3J5T2JqZWN0QnlJZChpZDogbnVtYmVyKTogQ2F0ZWdvcnlPYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2F0ZWdvcmllcy5maW5kKGNhdGVnb3J5ID0+IGNhdGVnb3J5LmlkID09PSBpZCkgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjYXRlZ29yeSBvYmplY3QgYnkgaXQncyBuYW1lXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRDYXRlZ29yeU9iamVjdEJ5TmFtZShuYW1lOiBzdHJpbmcpOiBDYXRlZ29yeU9iamVjdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYXRlZ29yaWVzLmZpbmQoY2F0ZWdvcnkgPT4gY2F0ZWdvcnkubmFtZSA9PT0gbmFtZSkgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SW52YWxpZENoYXJzUmVnZXgoKTogUmVnRXhwIHtcclxuXHRcdGxldCBhZGRpdGlvbmFsQ2hhcmFjdGVyID0gJyc7XHJcblx0XHRpZiAoanNSZXNvdXJjZXMuY2F0ZWdvcnlDaGFyYWN0ZXIgIT09ICdcXFxcJylcclxuXHRcdFx0YWRkaXRpb25hbENoYXJhY3RlciA9IGpzUmVzb3VyY2VzLmNhdGVnb3J5Q2hhcmFjdGVyLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xyXG5cdFx0cmV0dXJuIG5ldyBSZWdFeHAoJ1teQS1aYS16MC05Xy8nICsgYWRkaXRpb25hbENoYXJhY3RlciArIFwiXFxcXC0nJyBcXFxcXFxcXF1cIiwgJ2cnKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RXJyb3JUZXh0Q2F0ZWdvcnlFeGlzdChjYXRlZ29yeU5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKCdqc19DYXRlZ29yeUV4aXN0JyxcclxuXHRcdFx0J0NhdGVnb3J5IHdpdGggbmFtZSBcInswfVwiIGFscmVhZHkgZXhpc3QuJyxcclxuXHRcdFx0W2NhdGVnb3J5TmFtZV0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRFcnJvclRleHRSZXBvcnRFeGlzdChmdWxsUmVwb3J0TmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dFdpdGhQYXJhbXMoJ2pzX1JlcG9ydEFscmVhZHlFeGlzdCcsXHJcblx0XHRcdCdEYXNoYm9hcmQgb3IgcmVwb3J0IFwiezB9XCIgYWxyZWFkeSBleGlzdCcsXHJcblx0XHRcdFtmdWxsUmVwb3J0TmFtZV0pO1xyXG5cdH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUNhdGVnb3J5U2VsZWN0U2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGNhdGVnb3JpZXM6IENhdGVnb3J5T2JqZWN0W107XHJcblx0Y2F0ZWdvcnk6IENhdGVnb3J5T2JqZWN0O1xyXG5cdG9uU2VsZWN0OiBhbnk7XHJcblx0b25DYXRlZ29yaWVzQ2hhbmdlZDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFDYXRlZ29yeVNlbGVjdCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0Y2F0ZWdvcmllczogJz0nLFxyXG5cdFx0Y2F0ZWdvcnk6ICc9JyxcclxuXHRcdG9uU2VsZWN0OiAnJicsXHJcblx0XHRvbkNhdGVnb3JpZXNDaGFuZ2VkOiAnJidcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFDYXRlZ29yeVNlbGVjdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkge1xyXG5cdFx0SXplbmRhQ2F0ZWdvcnlTZWxlY3QucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQ2F0ZWdvcnlTZWxlY3RTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5Q2hhcmFjdGVyID0gJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0XHRjb25zdCBjb21tb25TZXR0aW5ncyA9ICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q29tbW9uU2V0dGluZ3MoKTtcclxuXHRcdFx0Y29uc3Qgc3RyaXBJbnZhbGlkQ2hhcmFjdGVycyA9IGNvbW1vblNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnM7XHJcblx0XHRcdGNvbnN0IGFsbG93SW52YWxpZENoYXJhY3RlcnMgPSBjb21tb25TZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzO1xyXG5cdFx0XHRjb25zdCBjYXRlZ29yeUNvbnRyb2wgPSBuZXcgQWRIb2MuVXRpbGl0eS5JemVuZGFDYXRlZ29yeVNlbGVjdG9yQ29udHJvbChcclxuXHRcdFx0XHQkZWxlbWVudCxcclxuXHRcdFx0XHRjYXRlZ29yeUNoYXJhY3RlcixcclxuXHRcdFx0XHRzdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdGFsbG93SW52YWxpZENoYXJhY3RlcnMpO1xyXG5cdFx0XHRjYXRlZ29yeUNvbnRyb2wuYWRkU2VsZWN0ZWRIYW5kbGVyKHZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25TZWxlY3QpKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUub25TZWxlY3Qoe1xyXG5cdFx0XHRcdFx0XHR2YWw6IHZhbFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggZm9yIGNvbGxhcHNlZCBzdGF0ZSBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2NhdGVnb3JpZXMnLCAoKSA9PiB7XHJcblx0XHRcdFx0dXBkYXRlQ2F0ZWdvcmllcygpO1xyXG5cdFx0XHRcdHVwZGF0ZUNhdGVnb3J5KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdjYXRlZ29yeScsICgpID0+IHtcclxuXHRcdFx0XHR1cGRhdGVDYXRlZ29yeSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3JpZXMoKSB7XHJcblx0XHRcdFx0Y29uc3QgcHJldmlvdXNMZW5ndGggPSAkc2NvcGUuY2F0ZWdvcmllcy5sZW5ndGg7XHJcblx0XHRcdFx0Y2F0ZWdvcnlDb250cm9sLnNldENhdGVnb3JpZXMoJHNjb3BlLmNhdGVnb3JpZXMpO1xyXG5cdFx0XHRcdGNvbnN0IG5ld0NhdGVnb3JpZXMgPSBjb2xsZWN0Q2F0ZWdvcmllcygpO1xyXG5cdFx0XHRcdGlmIChwcmV2aW91c0xlbmd0aCAhPT0gbmV3Q2F0ZWdvcmllcy5sZW5ndGggJiYgYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNhdGVnb3JpZXNDaGFuZ2VkKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ2F0ZWdvcmllc0NoYW5nZWQoe1xyXG5cdFx0XHRcdFx0XHRuZXdDYXRlZ29yaWVzOiBuZXdDYXRlZ29yaWVzXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdXBkYXRlQ2F0ZWdvcnkoKSB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoJHNjb3BlLmNhdGVnb3J5KSAmJiAkc2NvcGUuY2F0ZWdvcnkuaWQgIT09IDEpIHtcclxuXHRcdFx0XHRcdGNhdGVnb3J5Q29udHJvbC5zZWxlY3QoJHNjb3BlLmNhdGVnb3J5Lm5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY29sbGVjdENhdGVnb3JpZXMoKSB7XHJcblx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IGFuZ3VsYXIuZWxlbWVudC5tYXAoJGVsZW1lbnQuY2hpbGRyZW4oJ29wdGlvbicpLCAoJG9wdGlvbjogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlKSA9PiBuZXcgSXplbmRhQ2F0ZWdvcnlTZWxlY3QoJGl6ZW5kYVNldHRpbmdzU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJGl6ZW5kYVNldHRpbmdzU2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQ2F0ZWdvcnlTZWxlY3QnLCBbJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLCBJemVuZGFDYXRlZ29yeVNlbGVjdC5mYWN0b3J5KCldKTtcclxuXHJcbmNsYXNzIENhdGVnb3J5T2JqZWN0IHtcclxuXHRpZDogbnVtYmVyO1xyXG5cdG5hbWU6IHN0cmluZztcclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2hhcmVSdWxlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2hhcmUtbW9kZWwnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2hhcmVDb21wb25lbnQnLFxyXG5cdFsnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVNoYXJlU2VydmljZSddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24udWkuY29tcG9uZW50cy5zaGFyZS5zaGFyZS10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdHN1YmplY3RzOiAnPCcsXHJcblx0XHRcdHJpZ2h0czogJzwnLFxyXG5cdFx0XHRzaGFyZVJ1bGVzOiAnPCdcclxuXHRcdH1cclxuXHR9KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTaGFyZUNvbXBvbmVudCB7XHJcblx0Ly8gdmFyaWFibGVzIGZvciBiaW5kaW5nIGRlZmluaXRpb246XHJcblx0c3ViamVjdHM6IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD47XHJcblx0cmlnaHRzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHNoYXJlUnVsZXM6IEFycmF5PEl6ZW5kYVNoYXJlUnVsZU1vZGVsPjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2hhcmVTZXJ2aWNlOiBJemVuZGFTaGFyZVNlcnZpY2UpIHtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNoYXJlIHJ1bGUgc2VsZWN0ZWQgcmlnaHQgaXMgdmFsaWRcclxuXHQgKi9cclxuXHRnZXRTaGFyZVJ1bGVWYWxpZGF0aW9uTWVzc2FnZShzaGFyZVJ1bGU6IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKSB7XHJcblx0XHRpZiAoIXNoYXJlUnVsZS5yaWdodCAmJiAhc2hhcmVSdWxlLnN1YmplY3QpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05lc3Nlc2FyeVNlbGVjdFJpZ2h0JyxcclxuXHRcdFx0XHQnSXQgaXMgbmVjZXNzYXJ5IHRvIGNob29zZSB0aGUgcmlnaHQsIG90aGVyd2lzZSBpdCB3aWxsIGJlIGlnbm9yZWQuJyk7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBzaGFyZSBydWxlIGhhbmRsZXIuXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNoYXJlUnVsZU1vZGVsfSBzaGFyZVJ1bGVcclxuXHQgKi9cclxuXHRyZW1vdmVTaGFyZVJ1bGUoc2hhcmVSdWxlOiBJemVuZGFTaGFyZVJ1bGVNb2RlbCkge1xyXG5cdFx0dGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLnJlbW92ZVNoYXJlUnVsZShzaGFyZVJ1bGUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHNoYXJlIHJ1bGVcclxuXHQgKi9cclxuXHRhZGRTaGFyZVJ1bGUoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2UuYWRkTmV3U2hhcmVSdWxlKCk7XHJcblx0fVxyXG59IiwiaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuSXplbmRhU2hhcmVTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVVpTW9kdWxlKTtcclxuSXplbmRhU2NoZWR1bGVTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVVpTW9kdWxlKTtcclxuXHJcbi8vIHJlZ2lzdGVyIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXNcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYXV0b2NvbXBsZXRlJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9ib290c3RyYXAnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvZGF0ZXRpbWUtcGlja2VyJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9yZXBvcnQtdmlld2VyJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcyc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc3BsYXNoc2NyZWVuJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9zd2l0Y2hlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2NoZWR1bGUvc2NoZWR1bGUtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0L3NlbGVjdC1yZXBvcnQtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2hhcmUvc2hhcmUtY29tcG9uZW50JzsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi9xdWVyeS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9tb2R1bGUnO1xyXG5cclxuLy8gY29tbW9uXHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgeyBJemVuZGFDb21tb25Mb2FkZXIgfSBmcm9tICdjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IHsgSUl6ZW5kYUluc3RhbnRSZXBvcnRDb25maWcgfSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2RlbHMvaW5zdGFudC1yZXBvcnQtY29uZmlnJztcclxuXHJcbi8vIENyZWF0ZSBpbnN0YW50IHJlcG9ydCBhbmd1bGFyIG1vZHVsZVxyXG5jb25zdCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2l6ZW5kYUluc3RhbnRSZXBvcnQnLCBbXHJcblx0J25nQ29va2llcycsXHJcblx0J3J4JyxcclxuXHQnaXplbmRhLmNvbW1vbi5jb3JlJyxcclxuXHQnaXplbmRhLmNvbW1vbi5xdWVyeScsXHJcblx0J2l6ZW5kYS5jb21tb24udWknXHJcbl0pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlO1xyXG5cclxuLy8gY29uZmlndXJlIGNvbW1vbiB1aSBtb2R1bGU6XHJcbml6ZW5kYVVpTW9kdWxlXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCcsIFsnanNfUmVwb3J0TmFtZScsICdSZXBvcnQgTmFtZSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lRW1wdHlFcnJvcicsIFsnanNfTmFtZUNhbnRCZUVtcHR5JywgJ1JlcG9ydCBuYW1lIGNhblxcJ3QgYmUgZW1wdHkuJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnZhbGlkRXJyb3InLCBbJ2pzX0ludmFsaWRSZXBvcnROYW1lJywgJ0ludmFsaWQgcmVwb3J0IG5hbWUnXSk7XHJcblxyXG5leHBvcnQgY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydExvYWRlciB7XHJcblxyXG5cdHN0YXRpYyBjb25maWd1cmVJbnN0YW50UmVwb3J0TW9kdWxlcyhpbnN0YW50UmVwb3J0Q29uZmlnOiBJSXplbmRhSW5zdGFudFJlcG9ydENvbmZpZykge1xyXG5cdFx0Ly8gY29uZmlndXJlIGluc3RhbnQgcmVwb3J0IG1vZHVsZVxyXG5cdFx0Y29uc3QgbW9kdWxlID0gaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZVxyXG5cdFx0XHQuY29uZmlnKFsnJGxvZ1Byb3ZpZGVyJywgJGxvZ1Byb3ZpZGVyID0+ICRsb2dQcm92aWRlci5kZWJ1Z0VuYWJsZWQoZmFsc2UpXSlcclxuXHRcdFx0LmNvbmZpZyhbJyRwcm92aWRlJywgJHByb3ZpZGUgPT4ge1xyXG5cdFx0XHRcdCRwcm92aWRlLmRlY29yYXRvcignJGJyb3dzZXInLCBbJyRkZWxlZ2F0ZScsICRkZWxlZ2F0ZSA9PiB7XHJcblx0XHRcdFx0XHQkZGVsZWdhdGUub25VcmxDaGFuZ2UgPSAoKSA9PiB7IH07XHJcblx0XHRcdFx0XHQkZGVsZWdhdGUudXJsID0gKCkgPT4gJyc7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGRlbGVnYXRlO1xyXG5cdFx0XHRcdH1dKTtcclxuXHRcdFx0fV0pXHJcblx0XHRcdC52YWx1ZSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1ZhbHVlJywgaW5zdGFudFJlcG9ydENvbmZpZyk7XHJcblx0XHRyZXR1cm4gbW9kdWxlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQm9vdHN0cmFwIGFuZ3VsYXIgYXBwOlxyXG5cdCAqIHdpbmRvdy51cmxTZXR0aW5ncyQgb2JqZWN0cyBzaG91bGQgYmUgZGVmaW5lZCBiZWZvcmUgdGhpcyBtb21lbnQuXHJcblx0ICovXHJcblx0c3RhdGljIGJvb3RzdHJhcCgpIHtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG5cdFx0XHQvLyBjb21tb24gc2V0dGluZ3MgcHJvbWlzZTpcclxuXHRcdFx0Y29uc3QgY29tbW9uUXVlcnlTZXR0aW5nc1Byb21pc2UgPSBJemVuZGFDb21tb25Mb2FkZXIubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHQvLyBpbnN0YW50IHJlcG9ydCBzZXR0aW5ncyBwcm9taXNlOlxyXG5cdFx0XHRjb25zdCB1cmxTZXR0aW5ncyA9IHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHRcdGNvbnN0IHJzUGFnZVVybCA9IHVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ3NVcmwgPSByc1BhZ2VVcmwgKyAnP3dzY21kPWdldEluc3RhbnRSZXBvcnRTZXR0aW5ncyc7XHJcblx0XHRcdGNvbnN0IGluc3RhbnRSZXBvcnRTZXR0aW5nc1Byb21pc2UgPSBhbmd1bGFyLmVsZW1lbnQuZ2V0KHNldHRpbmdzVXJsKTtcclxuXHJcblx0XHRcdC8vIHdhaXQgd2hpbGUgYWxsIHNldHRpbmdzIGFyZSBsb2FkZWQ6XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudFxyXG5cdFx0XHRcdC53aGVuKGNvbW1vblF1ZXJ5U2V0dGluZ3NQcm9taXNlLCBpbnN0YW50UmVwb3J0U2V0dGluZ3NQcm9taXNlKVxyXG5cdFx0XHRcdC50aGVuKChjb21tb25TZXR0aW5nc1Jlc3VsdCwgaW5zdGFudFJlcG9ydFNldHRpbmdzUmVzdWx0KSA9PiB7XHJcblx0XHRcdFx0XHQvLyBnZXQgaW5zdGFudCByZXBvcnQgY29uZmlnIG9iamVjdFxyXG5cdFx0XHRcdFx0Y29uc3QgY29uZmlnT2JqZWN0ID0gaW5zdGFudFJlcG9ydFNldHRpbmdzUmVzdWx0WzBdIGFzIElJemVuZGFJbnN0YW50UmVwb3J0Q29uZmlnO1xyXG5cdFx0XHRcdFx0Y29uZmlnT2JqZWN0Lm1vdmVVbmNhdGVnb3JpemVkVG9MYXN0UG9zaXRpb24gPSB0cnVlO1xyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGFuZCBjb25maWd1cmUgbW9kdWxlczpcclxuXHRcdFx0XHRcdEl6ZW5kYUluc3RhbnRSZXBvcnRMb2FkZXIuY29uZmlndXJlSW5zdGFudFJlcG9ydE1vZHVsZXMoY29uZmlnT2JqZWN0KTtcclxuXHRcdFx0XHRcdC8vIGJvb3RzdHJhcCBhcHBsaWNhdGlvbjpcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnI2l6ZW5kYUluc3RhbnRSZXBvcnRSb290Q29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5ib290c3RyYXAoJyNpemVuZGFJbnN0YW50UmVwb3J0Um9vdENvbnRhaW5lcicsIFsnaXplbmRhSW5zdGFudFJlcG9ydCddKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIEl6ZW5kYSBxdWVyeSBzZXJ2aWNlIHdoaWNoIHByb3ZpZGVzIGRhc2hib2FyZCBzcGVjaWZpYyBxdWVyaWVzXHJcbiAqIHRoaXMgaXMgc2luZ2xldG9uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlIHtcclxuXHJcblx0cHJpdmF0ZSByZXF1ZXN0TGlzdDogYW55W107XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckcScsICckaHR0cCcsICckd2luZG93JywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJywgJyRpemVuZGFVcmxTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLCAnJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHE6IG5nLklRU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGh0dHA6IG5nLklIdHRwU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeVNlcnZpY2U6IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0ID0gW107XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdHlwZSBncm91cCBvZiBmaWVsZCBvcGVyYXRvclxyXG5cdCAqL1xyXG5cdGdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUob3BlcmF0b3IpIHtcclxuXHRcdGNvbnN0IGhpZGRlbk9wZXJhdG9ycyA9IFsnQmxhbmsnLCAnTm90QmxhbmsnLCAnVXNlUHJldmlvdXNPUicsICdUcnVlJywgJ0ZhbHNlJ107XHJcblx0XHRjb25zdCBvbmVWYWx1ZU9wZXJhdG9ycyA9IFtcclxuXHRcdFx0J0xlc3NUaGFuJywgJ0dyZWF0ZXJUaGFuJywgJ0xlc3NUaGFuTm90JywgJ0dyZWF0ZXJUaGFuTm90JywgJ0VxdWFscycsICdOb3RFcXVhbHMnLCAnTGlrZScsXHJcblx0XHRcdCdCZWdpbnNXaXRoJywgJ0VuZHNXaXRoJywgJ05vdExpa2UnLCAnTGVzc1RoYW5fRGF5c09sZCcsICdHcmVhdGVyVGhhbl9EYXlzT2xkJywgJ0VxdWFsc19EYXlzT2xkJyxcclxuXHRcdFx0J0xlc3NUaGFuX0RheXNPbGQnLFxyXG5cdFx0XHQnR3JlYXRlclRoYW5fRGF5c09sZCcsICdFcXVhbHNfRGF5c09sZCdcclxuXHRcdF07XHJcblx0XHRjb25zdCB0d29WYWx1ZU9wZXJhdG9ycyA9IFsnQmV0d2VlbicsICdOb3RCZXR3ZWVuJ107XHJcblx0XHRjb25zdCBzZWxlY3RWYWx1ZXNPcGVyYXRvcnMgPSBbJ0VxdWFsc19TZWxlY3QnLCAnTm90RXF1YWxzX1NlbGVjdCddO1xyXG5cdFx0Y29uc3Qgc2VsZWN0TXVsdGlwbGVWYWx1ZXNPcGVyYXRvcnMgPSBbJ0VxdWFsc19NdWx0aXBsZScsICdOb3RFcXVhbHNfTXVsdGlwbGUnXTtcclxuXHRcdGNvbnN0IHNlbGVjdFBvcHVwVmFsdWVzT3BlcmF0b3JzID0gWydFcXVhbHNQb3B1cCcsICdOb3RFcXVhbHNQb3B1cCddO1xyXG5cdFx0Y29uc3Qgc2VsZWN0Q2hlY2tib3hlc1ZhbHVlc09wZXJhdG9ycyA9IFsnRXF1YWxzX0NoZWNrQm94ZXMnXTtcclxuXHRcdGNvbnN0IHNlbGVjdE9uZURhdGVPcGVyYXRvcnMgPSBbJ0VxdWFsc0NhbGVuZGFyJywgJ05vdEVxdWFsc0NhbGVuZGFyJ107XHJcblx0XHRjb25zdCBzZWxlY3RUd29EYXRlc09wZXJhdG9ycyA9IFsnQmV0d2VlblR3b0RhdGVzJywgJ05vdEJldHdlZW5Ud29EYXRlcyddO1xyXG5cdFx0Y29uc3QgZmllbGRPcGVyYXRvcnMgPSBbJ0xlc3NUaGFuRmllbGQnLCAnR3JlYXRlclRoYW5GaWVsZCcsICdFcXVhbHNGaWVsZCcsICdOb3RFcXVhbHNGaWVsZCddO1xyXG5cdFx0Y29uc3QgaW5UaW1lUGVyaW9kID0gWydJblRpbWVQZXJpb2QnXTtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChvcGVyYXRvcikpXHJcblx0XHRcdHJldHVybiAnaGlkZGVuJztcclxuXHRcdGlmICghb3BlcmF0b3IudmFsdWUgfHwgaGlkZGVuT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdHJldHVybiAnaGlkZGVuJztcclxuXHRcdGlmIChvbmVWYWx1ZU9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ29uZVZhbHVlJztcclxuXHRcdGlmICh0d29WYWx1ZU9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ3R3b1ZhbHVlcyc7XHJcblx0XHRpZiAoc2VsZWN0VmFsdWVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdHJldHVybiAnc2VsZWN0JztcclxuXHRcdGlmIChzZWxlY3RNdWx0aXBsZVZhbHVlc09wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ3NlbGVjdF9tdWx0aXBsZSc7XHJcblx0XHRpZiAoc2VsZWN0UG9wdXBWYWx1ZXNPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0cmV0dXJuICdzZWxlY3RfcG9wdXAnO1xyXG5cdFx0aWYgKHNlbGVjdENoZWNrYm94ZXNWYWx1ZXNPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci52YWx1ZSkgPj0gMClcclxuXHRcdFx0cmV0dXJuICdzZWxlY3RfY2hlY2tib3hlcyc7XHJcblx0XHRpZiAoc2VsZWN0T25lRGF0ZU9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRyZXR1cm4gJ29uZURhdGUnO1xyXG5cdFx0aWYgKHNlbGVjdFR3b0RhdGVzT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdHJldHVybiAndHdvRGF0ZXMnO1xyXG5cdFx0aWYgKGZpZWxkT3BlcmF0b3JzLmluZGV4T2Yob3BlcmF0b3IudmFsdWUpID49IDApXHJcblx0XHRcdHJldHVybiAnZmllbGQnO1xyXG5cdFx0aWYgKGluVGltZVBlcmlvZC5pbmRleE9mKG9wZXJhdG9yLnZhbHVlKSA+PSAwKSB7XHJcblx0XHRcdHJldHVybiAnaW5UaW1lUGVyaW9kJztcclxuXHRcdH1cclxuXHRcdHJldHVybiBvcGVyYXRvci52YWx1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbGN1bGF0ZSBjdXJyZW50IGFjdHVhbCB0eXBlIGdyb3VwIGZvciBmaWVsZC5cclxuXHQgKi9cclxuXHRnZXRDdXJyZW50VHlwZUdyb3VwKGZpZWxkLCBkYXRhVHlwZUdyb3VwPykge1xyXG5cdFx0bGV0IHR5cGVHcm91cDogYW55O1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGFUeXBlR3JvdXApKSB7XHJcblx0XHRcdHR5cGVHcm91cCA9IGRhdGFUeXBlR3JvdXA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBleHByZXNzaW9uVHlwZTogeyB2YWx1ZTogYW55IH0gPSBmaWVsZC5leHByZXNzaW9uVHlwZTtcclxuXHRcdFx0dHlwZUdyb3VwID0gYW5ndWxhci5pc09iamVjdChleHByZXNzaW9uVHlwZSkgJiYgZXhwcmVzc2lvblR5cGUudmFsdWUgIT09ICcuLi4nXHJcblx0XHRcdFx0PyBleHByZXNzaW9uVHlwZS52YWx1ZVxyXG5cdFx0XHRcdDogZmllbGQudHlwZUdyb3VwO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHR5cGVHcm91cDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRhc291cmNlc1xyXG5cdCAqL1xyXG5cdGdldERhdGFzb3VyY2VzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdnZXRqc29uc2NoZW1hJywgWydsYXp5J10sIHtcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IGRhdGFzb3VyY2VzJyxcclxuXHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmaWVsZCBpbmZvIGJ5IGdpdmVuIHNxbCBjb2x1bW4gbmFtZS5cclxuXHQgKi9cclxuXHRnZXRGaWVsZHNJbmZvKGZpZWxkU3lzTmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdnZXRmaWVsZHNpbmZvJywgW2ZpZWxkU3lzTmFtZV0sIHtcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6IGZpZWxkTmFtZSA9PiBgRmFpbGVkIHRvIGdldCBmaWVsZCBpbmZvIGZvciBmaWVsZCAke2ZpZWxkTmFtZX1gLFxyXG5cdFx0XHRcdHBhcmFtczogW2ZpZWxkU3lzTmFtZV1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWFyY2ggZmllbGRzIGluIGRhdGFzb3VyY2VzIChyZXR1cm5zIHJhbmdlIG9mIHZhbHVlcyBbZnJvbSwgdG9dKVxyXG5cdCAqL1xyXG5cdGZpbmRJbkRhdGFzb3VyY2VzKHNlYXJjaFN0cmluZywgZnJvbSwgdG8pIHtcclxuXHRcdGxldCBwYXJhbXMgPSBbZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaFN0cmluZyldO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNOdW1iZXIoZnJvbSkgJiYgYW5ndWxhci5pc051bWJlcih0bykpXHJcblx0XHRcdHBhcmFtcyA9IHBhcmFtcy5jb25jYXQoU3RyaW5nKGZyb20pLCBTdHJpbmcodG8pKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZmluZGZpZWxkcycsIHBhcmFtcywge1xyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogc1N0cmluZyA9PiBgRmFpbGVkIHRvIHNlYXJjaCBmaWVsZHMgYW5kIHRhYmxlcyBieSBrZXl3b3JkOiAke3NTdHJpbmd9YCxcclxuXHRcdFx0XHRwYXJhbXM6IFtzZWFyY2hTdHJpbmddXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCByZXBvcnQganNvbiBjb25maWdcclxuXHQgKi9cclxuXHRsb2FkUmVwb3J0KHJlcG9ydEZ1bGxOYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ2xvYWRSZXBvcnRTZXRDb25maWdKc29uJywgW3JlcG9ydEZ1bGxOYW1lXSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYW5jZWwgYWxsIHJ1bm5pbmcgcHJldmlldyBxdWVyaWVzLiBBbGwgcXVlcmllcyB3aWxsIGJlIHJlamVjdGVkLlxyXG5cdCAqL1xyXG5cdGNhbmNlbEFsbFByZXZpZXdRdWVyaWVzKCkge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IHJlcXVlc3QgPSB0aGlzLnJlcXVlc3RMaXN0W2ldO1xyXG5cdFx0XHRyZXF1ZXN0LmNhbmNlbGxlci5yZXNvbHZlKCdDYW5jZWxsZWQhJyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0ID0gW107XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUnVuIHJlcG9ydFNldCBwcmV2aWV3IHJlcXVlc3QuIElmIHJlcXVlc3QgUjIgaGF2ZSBjb21lIGVhcmxpZXIgdGhhdCByZXF1ZXN0IFIxIC0gUjEgcmVxdWVzdCBjYW5jZWxzLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFNldFByZXZpZXdRdWV1ZWQocmVwb3J0U2V0Q29uZmlnKSB7XHJcblx0XHR0aGlzLmNhbmNlbEFsbFByZXZpZXdRdWVyaWVzKCk7XHJcblx0XHQvLyBwcmVwYXJlIHBhcmFtc1xyXG5cdFx0Y29uc3QgcGFyYW1zQXJyYXkgPSBbXHJcblx0XHRcdCdpaWM9MScsIC8vIGludmFsaWRhdGUgaW4gY2FjaGVcclxuXHRcdFx0J3VybGVuY29kZWQ9dHJ1ZScsXHJcblx0XHRcdCd3c2NtZD1nZXROZXdSZXBvcnRTZXRQcmV2aWV3RnJvbUpzb24nLFxyXG5cdFx0XHRgd3NhcmcwPSR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHJlcG9ydFNldENvbmZpZykpfWBcclxuXHRcdF07XHJcblx0XHRpZiAodHlwZW9mICh3aW5kb3cuaXplbmRhUGFnZUlkJCkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRwYXJhbXNBcnJheS5wdXNoKGBpenBpZD0ke3dpbmRvdy5pemVuZGFQYWdlSWQkfWApO1xyXG5cdFx0aWYgKHR5cGVvZiAod2luZG93LmFuZ3VsYXJQYWdlSWQkKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHBhcmFtc0FycmF5LnB1c2goYGFucGlkPSR7d2luZG93LmFuZ3VsYXJQYWdlSWQkfWApO1xyXG5cclxuXHRcdGNvbnN0IHJuUGFyYW1WYWx1ZSA9IChyZXBvcnRTZXRDb25maWcucmVwb3J0Q2F0ZWdvcnlcclxuXHRcdFx0PyByZXBvcnRTZXRDb25maWcucmVwb3J0Q2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydFNldENvbmZpZy5yZXBvcnROYW1lXHJcblx0XHRcdDogcmVwb3J0U2V0Q29uZmlnLnJlcG9ydE5hbWUpO1xyXG5cclxuXHRcdHZhciByZXNvbHZlciA9IHRoaXMuJHEuZGVmZXIoKTtcclxuXHRcdGNvbnN0IGNhbmNlbGxlciA9IHRoaXMuJHEuZGVmZXIoKTtcclxuXHRcdGNvbnN0IHJlcSA9IHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdHVybDogdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSc1BhZ2UsXHJcblx0XHRcdHBhcmFtczogeyAncm5hbHQnOiByblBhcmFtVmFsdWUgfSxcclxuXHRcdFx0dGltZW91dDogY2FuY2VsbGVyLnByb21pc2UsXHJcblx0XHRcdGRhdGFUeXBlOiAndGV4dCcsXHJcblx0XHRcdGRhdGE6IHBhcmFtc0FycmF5LmpvaW4oJyYnKSwgLy8gcXVlcnkgcGFyYW1ldGVyc1xyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICd0ZXh0L2h0bWwnXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gYWRkIHJlcXVlc3QgdG8gY3VycmVudCByZXF1ZXN0cyBsaXN0XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0LnB1c2goe1xyXG5cdFx0XHRjYW5jZWxsZXI6IGNhbmNlbGxlcixcclxuXHRcdFx0cmVzb2x2ZXI6IHJlc29sdmVyXHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCByZXF1ZXN0UHJvbWlzZSA9IHRoaXMuJGh0dHAocmVxKTtcclxuXHRcdHJlcXVlc3RQcm9taXNlXHJcblx0XHRcdC50aGVuKFxyXG5cdFx0XHRcdHJlc3BvbnNlID0+IHJlc29sdmVyLnJlc29sdmUocmVzcG9uc2UuZGF0YSksXHJcblx0XHRcdFx0cmVzcG9uc2UgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmNvbmZpZy50aW1lb3V0LiQkc3RhdGUudmFsdWUgIT09ICdDYW5jZWxsZWQhJykge1xyXG5cdFx0XHRcdFx0XHQvL2hhbmRsZSBlcnJvcnM6XHJcblx0XHRcdFx0XHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkVG9Mb2FkUHJldmlldycsICdGYWlsZWQgdG8gbG9hZCBwcmV2aWV3LicpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhlcnJvclRleHQpO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlci5yZWplY3QocmVzcG9uc2UuZGF0YSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzb2x2ZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSByZXBvcnQgc2V0IGZyb20ganNvbiBhbmQgc2F2ZSBpdC5cclxuXHQgKi9cclxuXHRzYXZlUmVwb3J0U2V0KHJlcG9ydFNldENvbmZpZykge1xyXG5cdFx0Y29uc3QgcGFyYW1zU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocmVwb3J0U2V0Q29uZmlnKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5hcGlRdWVyeSgnc2F2ZVJlcG9ydFNldE5ldycsIFtwYXJhbXNTdHJpbmddKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSByZXBvcnQgc2V0IGZyb20ganNvbiBhbmQgc2V0IGl0IGFzIEN1cnJlbnRSZXBvcnRTZXQuXHJcblx0ICovXHJcblx0c2V0UmVwb3J0QXNDcnMocmVwb3J0U2V0Q29uZmlnKSB7XHJcblx0XHRjb25zdCBwYXJhbXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShyZXBvcnRTZXRDb25maWcpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdzZXRSZXBvcnRTZXRGcm9tSnNvblRvQ3JzJywgW3BhcmFtc1N0cmluZ10sIHtcclxuXHRcdFx0ZGF0YVR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gc2V0IGN1cnJlbnQgcmVwb3J0IGFzIEN1cnJlbnRSZXBvcnRTZXQnXHJcblx0XHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9wZW4gd2luZG93IGZvciBwcmludC5cclxuXHQgKi9cclxuXHRvcGVuUHJpbnRXaW5kb3cocGFyYW1ldGVycywgcmVzb2x2ZSkge1xyXG5cdFx0Ly8gb3BlbiBodG1sIHByaW50IHdpbmRvd1xyXG5cdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuXHRcdGZvcm0uYWN0aW9uID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSc1BhZ2U7XHJcblx0XHRmb3JtLm1ldGhvZCA9ICdQT1NUJztcclxuXHRcdC8vIHNldCBjdXN0b20gKG91cikgd2luZG93IGFzIHRhcmdldCB3aW5kb3dcclxuXHRcdGZvcm0udGFyZ2V0ID0gJ2Zvcm0tdGFyZ2V0JztcclxuXHRcdGlmIChwYXJhbWV0ZXJzKSB7XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBwYXJhbWV0ZXJzKSB7XHJcblx0XHRcdFx0aWYgKHBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG5cdFx0XHRcdFx0aW5wdXQubmFtZSA9IGtleTtcclxuXHRcdFx0XHRcdGlucHV0LnZhbHVlID0gdHlwZW9mIHBhcmFtZXRlcnNba2V5XSA9PT0gJ29iamVjdCdcclxuXHRcdFx0XHRcdFx0PyBKU09OLnN0cmluZ2lmeShwYXJhbWV0ZXJzW2tleV0pXHJcblx0XHRcdFx0XHRcdDogcGFyYW1ldGVyc1trZXldO1xyXG5cdFx0XHRcdFx0Zm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xyXG5cclxuXHRcdC8vIG9wZW4gd2luZG93IGZvciBmb3JtIGFuZCBzdWJtaXQgZm9yIGludG8gdGhhdCB3aW5kb3dcclxuXHRcdHZhciBmb3JtV2luZG93ID0gd2luZG93Lm9wZW4oJycsICdmb3JtLXRhcmdldCcsICcnKTtcclxuXHRcdGZvcm0uc3VibWl0KCk7XHJcblxyXG5cdFx0Ly8gd29ya2Fyb3VuZCBmb3Igd2Via2l0IGFqYXggcmVxdWVzdCBibG9ja1xyXG5cdFx0aWYgKCdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHtcclxuXHRcdFx0dmFyIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFmb3JtV2luZG93IHx8IGZvcm1XaW5kb3cuY2xvc2VkKSB7XHJcblx0XHRcdFx0XHRjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG5cdFx0XHRcdFx0aW50ZXJ2YWxJZCA9IG51bGw7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCA1MDApO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHJlc29sdmUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9wZW4gdXJsIGluIG5ldyB3aW5kb3cuIFxyXG5cdCAqL1xyXG5cdGV4cG9ydFJlcG9ydEluTmV3V2luZG93KHJlcG9ydFNldFRvU2VuZCwgZXhwb3J0VHlwZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdC8vIGNyZWF0ZSB1cmwgZm9yIGV4cG9ydFxyXG5cdFx0XHR2YXIgdXJsUGFyYW1zID0ge1xyXG5cdFx0XHRcdCd3c2NtZCc6IGV4cG9ydFR5cGUgPT09ICdwcmludCcgPyAncHJpbnRSZXBvcnRTZXQnIDogJ2V4cG9ydFJlcG9ydFNldCcsXHJcblx0XHRcdFx0J3dzYXJnMCc6IEpTT04uc3RyaW5naWZ5KHJlcG9ydFNldFRvU2VuZCksXHJcblx0XHRcdFx0J3dzYXJnMSc6IGV4cG9ydFR5cGVcclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKHR5cGVvZiAodGhpcy4kd2luZG93Lml6ZW5kYVBhZ2VJZCQpICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0XHR1cmxQYXJhbXNbJ2l6cGlkJ10gPSB0aGlzLiR3aW5kb3cuaXplbmRhUGFnZUlkJDtcclxuXHJcblx0XHRcdGlmIChleHBvcnRUeXBlICE9PSAncHJpbnQnKSB7XHJcblx0XHRcdFx0Ly8gZXhwb3J0IGZpbGVcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5kb3dubG9hZEZpbGVSZXF1ZXN0KCdQT1NUJywgdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSc1BhZ2UsIHVybFBhcmFtcylcclxuXHRcdFx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gcHJpbnQgaHRtbFxyXG5cdFx0XHRcdHRoaXMub3BlblByaW50V2luZG93KHVybFBhcmFtcywgcmVzb2x2ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0VmlzdWFsaXphdGlvbkNvbmZpZygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0VmlzdWFsaXphdGlvbkNvbmZpZycsIFtdLCB7XHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCB2aXN1YWxpemF0aW9ucyBjb25maWcnXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGxpc3Qgb2YgY29uc3RyYWludHNcclxuXHQgKi9cclxuXHRnZXRDb25zdHJhaW50c0luZm8oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2dldGNvbnN0cmFpbnRzbGlzdCcsIFtdLCB7XHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0sIHtcclxuXHRcdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBjb25zdHJhaW50cyBpbmZvJ1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBmdW5jdGlvblB1cnBvc2UpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWVsZCkpXHJcblx0XHRcdHRocm93ICdGaWVsZCBzaG91bGQgYmUgb2JqZWN0JztcclxuXHRcdGxldCBwYXJhbWV0ZXJzOiBhbnkgPSBudWxsO1xyXG5cdFx0Y29uc3QgdHlwZUdyb3VwID0gdGhpcy5nZXRDdXJyZW50VHlwZUdyb3VwKGZpZWxkKTtcclxuXHRcdGlmIChmdW5jdGlvblB1cnBvc2UgPT09ICdzdWJ0b3RhbCcpIHtcclxuXHRcdFx0Ly8gYXZhaWxhYmxlIGZ1bmN0aW9ucyBmb3Igc3VidG90YWxzXHJcblx0XHRcdHBhcmFtZXRlcnMgPSB7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdGdW5jdGlvbkxpc3QnLFxyXG5cdFx0XHRcdCd0eXBlJzogZmllbGQuc3FsVHlwZSxcclxuXHRcdFx0XHQndHlwZUdyb3VwJzogdHlwZUdyb3VwLFxyXG5cdFx0XHRcdCdpbmNsdWRlQmxhbmsnOiAndHJ1ZScsXHJcblx0XHRcdFx0J2luY2x1ZGVHcm91cEJ5JzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnZm9yU3VidG90YWxzJzogJ3RydWUnLFxyXG5cdFx0XHRcdCdleHRyYUZ1bmN0aW9uJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnZm9yRHVuZGFzTWFwJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnb25seU51bWVyaWNSZXN1bHRzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIGlmIChmdW5jdGlvblB1cnBvc2UgPT09ICdmaWVsZCcpIHtcclxuXHRcdFx0Ly8gYXZhaWxhYmxlIGZ1bmN0aW9ucyBmb3IgY29sdW1uXHJcblx0XHRcdHBhcmFtZXRlcnMgPSB7XHJcblx0XHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0XHQncCc6ICdGdW5jdGlvbkxpc3QnLFxyXG5cdFx0XHRcdCd0eXBlJzogZmllbGQuc3FsVHlwZSxcclxuXHRcdFx0XHQndHlwZUdyb3VwJzogdHlwZUdyb3VwLFxyXG5cdFx0XHRcdCdpbmNsdWRlQmxhbmsnOiAndHJ1ZScsXHJcblx0XHRcdFx0J2luY2x1ZGVHcm91cEJ5JzogJ3RydWUnLFxyXG5cdFx0XHRcdCdmb3JTdWJ0b3RhbHMnOiAnZmFsc2UnLFxyXG5cdFx0XHRcdCdleHRyYUZ1bmN0aW9uJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnZm9yRHVuZGFzTWFwJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnb25seU51bWVyaWNSZXN1bHRzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIGlmIChmdW5jdGlvblB1cnBvc2UgPT09ICdwaXZvdEZpZWxkJykge1xyXG5cdFx0XHRwYXJhbWV0ZXJzID0ge1xyXG5cdFx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdFx0J3AnOiAnRnVuY3Rpb25MaXN0JyxcclxuXHRcdFx0XHQndHlwZSc6IGZpZWxkLnNxbFR5cGUsXHJcblx0XHRcdFx0J3R5cGVHcm91cCc6IHR5cGVHcm91cCxcclxuXHRcdFx0XHQnaW5jbHVkZUJsYW5rJzogJ3RydWUnLFxyXG5cdFx0XHRcdCdpbmNsdWRlR3JvdXBCeSc6ICd0cnVlJyxcclxuXHRcdFx0XHQnZm9yU3VidG90YWxzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnZXh0cmFGdW5jdGlvbic6ICd0cnVlJyxcclxuXHRcdFx0XHQnZm9yRHVuZGFzTWFwJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQnb25seU51bWVyaWNSZXN1bHRzJzogJ2ZhbHNlJyxcclxuXHRcdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkocGFyYW1ldGVycywge1xyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6IGZpZWxkUGFyYW0gPT4gYEZhaWxlZCB0byBnZXQgZnVuY3Rpb24gbGlzdCBpbmZvIGZvciBmaWVsZCAke2ZpZWxkUGFyYW0uc3lzbmFtZX1gLFxyXG5cdFx0XHRcdHBhcmFtczogW2ZpZWxkXVxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldFBlcmlvZExpc3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ1BlcmlvZExpc3QnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHBlcmlvZCBsaXN0LicsXHJcblx0XHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRnZXRFeGlzdGVudFBvcHVwVmFsdWVzTGlzdChmaWVsZCwgdGFibGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5yc1F1ZXJ5KHtcclxuXHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0J3AnOiAnRXhpc3RlbnRQb3B1cFZhbHVlc0xpc3QnLFxyXG5cdFx0XHQnY29sdW1uTmFtZSc6IGZpZWxkLnN5c25hbWUsXHJcblx0XHRcdCd0YmwwJzogdGFibGUuc3lzbmFtZSxcclxuXHRcdFx0J3RhMCc6ICcnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IGN1c3RvbSBwb3B1cHMgc3R5bGVzLicsXHJcblx0XHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRnZXREcmlsbERvd25TdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ0RyaWxsRG93blN0eWxlTGlzdCcsXHJcblx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgZHJpbGxkb3duIHN0eWxlcy4nLFxyXG5cdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRFeHByZXNzaW9uVHlwZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ0V4cHJlc3Npb25UeXBlTGlzdCcsXHJcblx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgZXhwcmVzc2lvbiB0eXBlcy4nLFxyXG5cdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRTdWJyZXBvcnRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkoe1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdTdWJyZXBvcnRzTGlzdCcsXHJcblx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgc3VicmVwb3J0cy4nLFxyXG5cdFx0XHRcdHBhcmFtczogW11cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRWZ1N0eWxlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5yc1F1ZXJ5KHtcclxuXHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0J3AnOiAnVmdTdHlsZUxpc3QnLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IGF2YWlsYWJsZSB2aXN1YWwgZ3JvdXAgc3R5bGVzLicsXHJcblx0XHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldEZpZWxkRm9ybWF0cyhmaWVsZCwgZGF0YVR5cGVHcm91cD8pIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWVsZCkpXHJcblx0XHRcdHRocm93ICdGaWVsZCBzaG91bGQgYmUgb2JqZWN0JztcclxuXHRcdGNvbnN0IHR5cGVHcm91cCA9IHRoaXMuZ2V0Q3VycmVudFR5cGVHcm91cChmaWVsZCwgZGF0YVR5cGVHcm91cCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ0Zvcm1hdExpc3QnLFxyXG5cdFx0XHQndHlwZUdyb3VwJzogdHlwZUdyb3VwLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6IGZpZWxkUGFyYW0gPT4gYEZhaWxlZCB0byBnZXQgZm9ybWF0IGxpc3QgaW5mbyBmb3IgZmllbGQgJHtmaWVsZFBhcmFtLnN5c25hbWV9YCxcclxuXHRcdFx0XHRwYXJhbXM6IFtmaWVsZF1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRGaWx0ZXJGb3JtYXRzKGZpbHRlcikge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlcikgfHwgIWFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLmZpZWxkKSlcclxuXHRcdFx0dGhyb3cgJ2ZpbHRlciBhbmQgZmlsdGVyLmZpZWxkIHNob3VsZCBiZSBvYmplY3RzLic7XHJcblx0XHRjb25zdCB0eXBlR3JvdXAgPSB0aGlzLmdldEN1cnJlbnRUeXBlR3JvdXAoZmlsdGVyLmZpZWxkKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5yc1F1ZXJ5KHtcclxuXHRcdFx0J2NtZCc6ICdHZXRPcHRpb25zQnlQYXRoJyxcclxuXHRcdFx0J3AnOiAnRm9ybWF0TGlzdCcsXHJcblx0XHRcdCd0eXBlR3JvdXAnOiB0eXBlR3JvdXAsXHJcblx0XHRcdCdvbmx5U2ltcGxlJzogJ3RydWUnLFxyXG5cdFx0XHQnZm9yY2VTaW1wbGUnOiAndHJ1ZScsXHJcblx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogZmlsdGVyUGFyYW0gPT4gYEZhaWxlZCB0byBnZXQgZm9ybWF0IGxpc3QgaW5mbyBmb3IgZmlsdGVyICR7ZmlsdGVyUGFyYW0uZmllbGQuc3lzbmFtZX1gLFxyXG5cdFx0XHRcdHBhcmFtczogW2ZpbHRlcl1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRGaWVsZE9wZXJhdG9yTGlzdChmaWVsZCwgdGFibGVzU3RyaW5nLCBkYXRhVHlwZUdyb3VwPykge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSlcclxuXHRcdFx0dGhyb3cgJ0ZpZWxkIHNob3VsZCBiZSBvYmplY3QuJztcclxuXHRcdGNvbnN0IHR5cGVHcm91cCA9IHRoaXMuZ2V0Q3VycmVudFR5cGVHcm91cChmaWVsZCwgZGF0YVR5cGVHcm91cCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucnNRdWVyeSh7XHJcblx0XHRcdCdjbWQnOiAnR2V0T3B0aW9uc0J5UGF0aCcsXHJcblx0XHRcdCdwJzogJ09wZXJhdG9yTGlzdCcsXHJcblx0XHRcdCd0eXBlR3JvdXAnOiB0eXBlR3JvdXAsXHJcblx0XHRcdCd0YWJsZXMnOiB0YWJsZXNTdHJpbmcsXHJcblx0XHRcdCdjb2xGdWxsTmFtZSc6IGZpZWxkLnN5c25hbWUsXHJcblx0XHRcdCdyZXN1bHRUeXBlJzogJ2pzb24nXHJcblx0XHR9LCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aGFuZGxlcjogZmllbGRQYXJhbSA9PiBgRmFpbGVkIHRvIGdldCBvcGVyYXRvciBsaXN0IGZvciBmaWVsZCAke2ZpZWxkUGFyYW0uc3lzbmFtZX1gLFxyXG5cdFx0XHRcdHBhcmFtczogW2ZpZWxkXVxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldEV4aXN0ZW50VmFsdWVzTGlzdCh0YWJsZXMsIGNvbnN0cmFpbnRGaWx0ZXJzLCBmaWx0ZXIsIHNpbXBsZUpvaW5zLCBmaWx0ZXJMb2dpYykge1xyXG5cdFx0aWYgKGZpbHRlci5maWVsZCA9PT0gbnVsbCB8fCAhYW5ndWxhci5pc1N0cmluZyhmaWx0ZXIuZmllbGQuc3lzbmFtZSkpXHJcblx0XHRcdHRocm93ICdmaWx0ZXIgZmllbGQgc3lzbmFtZSBzaG91bGQgYmUgZGVmaW5lZC4nO1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkodGFibGVzKSlcclxuXHRcdFx0dGhyb3cgJ3RhYmxlcyBzaG91bGQgYmUgYXJyYXknO1xyXG5cclxuXHRcdC8vIGNyZWF0ZSBiYXNlIHF1ZXJ5IHBhcmFtc1xyXG5cdFx0dmFyIHF1ZXJ5UGFyYW1zID0ge1xyXG5cdFx0XHQnY21kJzogJ0dldE9wdGlvbnNCeVBhdGgnLFxyXG5cdFx0XHQncCc6ICdFeGlzdGVudFZhbHVlc0xpc3QnLFxyXG5cdFx0XHQnY29sdW1uTmFtZSc6IGZpbHRlci5maWVsZC5zeXNuYW1lLFxyXG5cdFx0XHQncmVzdWx0VHlwZSc6ICdqc29uJ1xyXG5cdFx0fTtcclxuXHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGZpbHRlci5wb3NzaWJsZVZhbHVlKSkge1xyXG5cdFx0XHRxdWVyeVBhcmFtc1sncG9zc2libGVWYWx1ZSddID0gZmlsdGVyLnBvc3NpYmxlVmFsdWUucmVwbGFjZSgnJicsICclMjYnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBhZGQgY29uc3RyYWludCBmaWx0ZXJzIHBhcmFtc1xyXG5cdFx0dmFyIGNvdW50ZXIgPSAwO1xyXG5cdFx0aWYgKGNvbnN0cmFpbnRGaWx0ZXJzKVxyXG5cdFx0XHRjb25zdHJhaW50RmlsdGVycy5mb3JFYWNoKGNvbnN0cmFpbnRGaWx0ZXIgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGNvbnN0cmFpbnRGaWx0ZXJPcGVyYXRvclZhbHVlID0gY29uc3RyYWludEZpbHRlciAmJiBjb25zdHJhaW50RmlsdGVyLm9wZXJhdG9yID8gY29uc3RyYWludEZpbHRlci5vcGVyYXRvci52YWx1ZSA6ICcnO1xyXG5cclxuXHRcdFx0XHRpZiAoY29uc3RyYWludEZpbHRlci5maWVsZCAhPT0gbnVsbCAmJiBhbmd1bGFyLmlzT2JqZWN0KGNvbnN0cmFpbnRGaWx0ZXIub3BlcmF0b3IpXHJcblx0XHRcdFx0XHQmJiBjb25zdHJhaW50RmlsdGVyT3BlcmF0b3JWYWx1ZSAhPT0gJycgJiYgYW5ndWxhci5pc0FycmF5KGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzKVxyXG5cdFx0XHRcdFx0JiYgY29uc3RyYWludEZpbHRlci52YWx1ZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgY29uc3RyYWludFBhcmFtUGFydCA9IHt9O1xyXG5cdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZmMke2NvdW50ZXJ9YF0gPSBjb25zdHJhaW50RmlsdGVyLmZpZWxkLnN5c25hbWU7XHJcblx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0W2BmbyR7Y291bnRlcn1gXSA9IGNvbnN0cmFpbnRGaWx0ZXJPcGVyYXRvclZhbHVlO1xyXG5cdFx0XHRcdFx0Y29uc3QgY29uc3RyYWludE9wZXJhdG9yVHlwZSA9IHRoaXMuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShjb25zdHJhaW50RmlsdGVyLm9wZXJhdG9yKTtcclxuXHRcdFx0XHRcdGlmIChjb25zdHJhaW50T3BlcmF0b3JUeXBlID09PSAndHdvVmFsdWVzJykge1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0W2Bmdmwke2NvdW50ZXJ9YF0gPSBjb25zdHJhaW50RmlsdGVyLnZhbHVlc1swXTtcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZyJHtjb3VudGVyfWBdID0gY29uc3RyYWludEZpbHRlci52YWx1ZXNbMV07XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGNvbnN0cmFpbnRPcGVyYXRvclR5cGUgPT09ICd0d29EYXRlcycpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3RyYWludFBhcmFtUGFydFtgZnZsJHtjb3VudGVyfWBdID0gbW9tZW50KGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzBdKS5mb3JtYXQodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERhdGVGb3JtYXQoKS5zaG9ydERhdGUpO1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0W2BmdnIke2NvdW50ZXJ9YF0gPSBtb21lbnQoY29uc3RyYWludEZpbHRlci52YWx1ZXNbMV0pLmZvcm1hdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0RGF0ZUZvcm1hdCgpLnNob3J0RGF0ZSk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGNvbnN0cmFpbnRPcGVyYXRvclR5cGUgPT09ICdvbmVEYXRlJykge1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0W2Bmdmwke2NvdW50ZXJ9YF0gPSBtb21lbnQoY29uc3RyYWludEZpbHRlci52YWx1ZXNbMF0pLmZvcm1hdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0RGF0ZUZvcm1hdCgpLnNob3J0RGF0ZSk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGNvbnN0cmFpbnRPcGVyYXRvclR5cGUgPT09ICdmaWVsZCcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdmFsID0gYW5ndWxhci5pc09iamVjdChjb25zdHJhaW50RmlsdGVyLnZhbHVlc1swXSlcclxuXHRcdFx0XHRcdFx0XHQ/IGNvbnN0cmFpbnRGaWx0ZXIudmFsdWVzWzBdLnN5c25hbWVcclxuXHRcdFx0XHRcdFx0XHQ6ICcnO1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0W2Bmdmwke2NvdW50ZXJ9YF0gPSB2YWw7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb25zdHJhaW50UGFyYW1QYXJ0W2Bmdmwke2NvdW50ZXJ9YF0gPSBjb25zdHJhaW50RmlsdGVyLnZhbHVlcy5qb2luKCcsJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YW5ndWxhci5leHRlbmQocXVlcnlQYXJhbXMsIGNvbnN0cmFpbnRQYXJhbVBhcnQpO1xyXG5cdFx0XHRcdFx0Y291bnRlcisrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0aWYgKHNpbXBsZUpvaW5zKSB7XHJcblx0XHRcdC8vIGNyZWF0ZSB0YWJsZW5hbWVzXHJcblx0XHRcdGNvbnN0IHRhYmxlTmFtZXMgPSB0YWJsZXMubWFwKHggPT4geC5zeXNuYW1lKTtcclxuXHRcdFx0cXVlcnlQYXJhbXNbJ3RibDAnXSA9IHRhYmxlTmFtZXMuam9pbignXFwnJyk7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGZpbHRlckxvZ2ljKSAmJiBmaWx0ZXJMb2dpYy50cmltKCkgIT09ICcnKSB7XHJcblx0XHRcdFx0cXVlcnlQYXJhbXNbJ2ZpbHRlckxvZ2ljJ10gPSBmaWx0ZXJMb2dpYztcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBydW4gcXVlcnlcclxuXHRcdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnJzUXVlcnkocXVlcnlQYXJhbXMsIHtcclxuXHRcdFx0XHQnZGF0YVR5cGUnOiAnanNvbicsXHJcblx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aGFuZGxlcjogKHRhYmxlc1BhcmFtLCBmaWVsZFBhcmFtKSA9PiBgRmFpbGVkIHRvIGV4aXN0ZW50IHZhbHVlcyBsaXN0IGxpc3QgZm9yIHRhYmxlcyAke3RhYmxlc1BhcmFtfSBhbmQgZmllbGQgJHtmaWVsZFBhcmFtfWAsXHJcblx0XHRcdFx0XHRwYXJhbXM6IFt0YWJsZU5hbWVzLmpvaW4oJywnKSwgZmlsdGVyLmZpZWxkLnN5c25hbWVdXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBDdXN0b20gam9pbnMgcmVxdWVzdDpcclxuXHRcdFx0LypcclxuXHRcdFx0Y21kOkdldE9wdGlvbnNCeVBhdGhcclxuXHRcdFx0cDpFeGlzdGVudFZhbHVlc0xpc3RcclxuXHRcdFx0Y29sdW1uTmFtZTpbZGJvXS5bQ2F0ZWdvcmllc10uW0NhdGVnb3J5SURdXHJcblx0XHRcdHRibDA6W2Rib10uW0NhdGVnb3JpZXNdXHJcblx0XHRcdHRhMDpcclxuXHRcdFx0dGJsMTpbZGJvXS5bSW52b2ljZXNdXHJcblx0XHRcdHRhMTpcclxuXHRcdFx0bGNsbTE6W2Rib10uW0ludm9pY2VzXS5bT3JkZXJJRF1cclxuXHRcdFx0cmNsbTE6W2Rib10uW0NhdGVnb3JpZXNdLltDYXRlZ29yeUlEXVxyXG5cdFx0XHRqbjE6SU5ORVJcclxuXHRcdFx0Ki9cclxuXHRcdFx0dGhyb3cgJ0N1c3RvbSBqb2lucyBoYXNuXFwndCBpbXBsZW1lbnRlZCB5ZXQnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZScsIEl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnIHtcclxuXHRwaXZvdENvbHVtbjogYW55O1xyXG5cdGNlbGxWYWx1ZXM6IGFueVtdO1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdGFkZFNpZGVUb3RhbHM6IGJvb2xlYW5cclxuXHR9O1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMucGl2b3RDb2x1bW4gPSBudWxsO1xyXG5cdFx0dGhpcy5jZWxsVmFsdWVzID0gW107XHJcblx0XHR0aGlzLm9wdGlvbnMgPSB7XHJcblx0XHRcdGFkZFNpZGVUb3RhbHM6IGZhbHNlXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZyb21PYmplY3Qob2JqZWN0OiBhbnkpIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBJemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnKCk7XHJcblx0XHRyZXN1bHQucGl2b3RDb2x1bW4gPSBvYmplY3QucGl2b3RDb2x1bW47XHJcblx0XHRyZXN1bHQuY2VsbFZhbHVlcyA9IG9iamVjdC5jZWxsVmFsdWVzO1xyXG5cdFx0cmVzdWx0Lm9wdGlvbnMgPSB7XHJcblx0XHRcdGFkZFNpZGVUb3RhbHM6IG9iamVjdC5vcHRpb25zLmFkZFNpZGVUb3RhbHNcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Y2xvbmUoKTogSXplbmRhSW5zdGFudFJlcG9ydERlZmF1bHRQaXZvdENvbmZpZyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgSXplbmRhSW5zdGFudFJlcG9ydERlZmF1bHRQaXZvdENvbmZpZygpO1xyXG5cdFx0cmVzdWx0LnBpdm90Q29sdW1uID0gdGhpcy5waXZvdENvbHVtbjtcclxuXHRcdHJlc3VsdC5jZWxsVmFsdWVzID0gbmV3IEFycmF5PGFueT4odGhpcy5jZWxsVmFsdWVzKTtcclxuXHRcdHJlc3VsdC5vcHRpb25zID0geyBhZGRTaWRlVG90YWxzOiB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuYWRkU2lkZVRvdGFscyA6IGZhbHNlIH07XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZGVscy9pbnN0YW50LXJlcG9ydC1waXZvdC1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIFBpdm90IHN0b3JhZ2Ugc2VydmljZVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSB7XHJcblxyXG5cdHByaXZhdGUgc3RhdGljICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzRGVmYXVsdENvbmZpZ05hbWUgPSAnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdHNEZWZhdWx0Q29uZmlnJztcclxuXHRwcml2YXRlIHBpdm90Q29uZmlnOiBJemVuZGFJbnN0YW50UmVwb3J0RGVmYXVsdFBpdm90Q29uZmlnO1xyXG5cdHByaXZhdGUgcGl2b3RzUGFuZWxPcGVuZWQ6IGJvb2xlYW47XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaW5qZWN0b3InLCAnJHEnLCAnJGl6ZW5kYVV0aWxTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlKSB7XHJcblxyXG5cdFx0Y29uc3QgZGVmYXVsdENvbmZpZyA9IHRoaXMuJGluamVjdG9yLmdldChJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzRGVmYXVsdENvbmZpZ05hbWUpO1xyXG5cdFx0dGhpcy5waXZvdENvbmZpZyA9IEl6ZW5kYUluc3RhbnRSZXBvcnREZWZhdWx0UGl2b3RDb25maWcuZnJvbU9iamVjdChkZWZhdWx0Q29uZmlnKTtcclxuXHRcdHRoaXMucGl2b3RzUGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBwaXZvdCBjb2x1bW4gZmllbGQgd3JhcHBlclxyXG5cdCAqL1xyXG5cdGdldFBpdm90Q29sdW1uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW47XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgcGl2b3QgY29sdW1uXHJcblx0ICovXHJcblx0c2V0UGl2b3RDb2x1bW4odmFsdWUpIHtcclxuXHRcdHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4gPSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBkZWZhdWx0IGdyb3VwIGZvciBwaXZvdCBjb2x1bW4uXHJcblx0ICovXHJcblx0c2V0RGVmYXVsdEdyb3VwKCkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4pKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoIXRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4uZ3JvdXBCeUZ1bmN0aW9uKVxyXG5cdFx0XHR0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbiA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUodGhpcy5waXZvdENvbmZpZy5waXZvdENvbHVtbi5ncm91cEJ5RnVuY3Rpb25PcHRpb25zLCAnR1JPVVAnLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIHBpdm90c1xyXG5cdCAqL1xyXG5cdHJlbW92ZVBpdm90cygpIHtcclxuXHRcdHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4gPSBudWxsO1xyXG5cdFx0dGhpcy5waXZvdENvbmZpZy5jZWxsVmFsdWVzID0gW107XHJcblx0XHR0aGlzLnBpdm90Q29uZmlnLm9wdGlvbnMuYWRkU2lkZVRvdGFscyA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHBpdm90IG9wdGlvbnMgb2JqZWN0XHJcblx0ICovXHJcblx0Z2V0UGl2b3RPcHRpb25zKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucGl2b3RDb25maWcub3B0aW9ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBwaXZvdHMgcGFuZWwgc3RhdGVcclxuXHQgKi9cclxuXHRnZXRQaXZvdHNQYW5lbE9wZW5lZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnBpdm90c1BhbmVsT3BlbmVkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHBpdm90cyBwYW5lbCBzdGF0ZVxyXG5cdCAqL1xyXG5cdHNldFBpdm90c1BhbmVsT3BlbmVkKHZhbHVlKSB7XHJcblx0XHR0aGlzLnBpdm90c1BhbmVsT3BlbmVkID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGNlbGwgdmFsdWUgZnVuY3Rpb25zXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHBpdm90IGZpZWxkcyB3cmFwcGVyc1xyXG5cdCAqL1xyXG5cdGdldENlbGxWYWx1ZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5waXZvdENvbmZpZy5jZWxsVmFsdWVzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgcGl2b3QgYWRkZWQgYW5kIHZhbGlkLlxyXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBpcyB2YWxpZFxyXG5cdCAqL1xyXG5cdGlzUGl2b3RWYWxpZCgpIHtcclxuXHRcdHJldHVybiBhbmd1bGFyLmlzT2JqZWN0KHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4pICYmIHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcy5sZW5ndGggPiAwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGNlbGwgdmFsdWUgZmllbGRcclxuXHQgKi9cclxuXHRhZGRDZWxsVmFsdWUoKSB7XHJcblx0XHR0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXMucHVzaChudWxsKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBjZWxsIHZhbHVlXHJcblx0ICovXHJcblx0cmVtb3ZlQ2VsbFZhbHVlKGNlbGxWYWx1ZSkge1xyXG5cdFx0Y29uc3QgY2VsbFZhbHVlcyA9IHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcztcclxuXHRcdGNvbnN0IGlkeCA9IGNlbGxWYWx1ZXMuaW5kZXhPZihjZWxsVmFsdWUpO1xyXG5cdFx0aWYgKGlkeCA+PSAwKSB7XHJcblx0XHRcdGNlbGxWYWx1ZXMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXBsYWNlIGNlbGwgdmFsdWVzIGJ5IGVhY2ggb3RoZXJcclxuXHQgKi9cclxuXHRzd2FwQ2VsbFZhbHVlcyhmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdGNvbnN0IGNlbGxWYWx1ZXMgPSB0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXM7XHJcblx0XHRjb25zdCB0ZW1wID0gY2VsbFZhbHVlc1tmcm9tSW5kZXhdO1xyXG5cdFx0Y2VsbFZhbHVlc1tmcm9tSW5kZXhdID0gY2VsbFZhbHVlc1t0b0luZGV4XTtcclxuXHRcdGNlbGxWYWx1ZXNbdG9JbmRleF0gPSB0ZW1wO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW92ZSBjZWxsIHZhbHVlIHRvIHBvc2l0aW9uXHJcblx0ICovXHJcblx0bW92ZUNlbGxWYWx1ZVRvKGZyb21JbmRleCwgdG9JbmRleCkge1xyXG5cdFx0Y29uc3QgY2VsbFZhbHVlcyA9IHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcztcclxuXHRcdGNlbGxWYWx1ZXMuc3BsaWNlKHRvSW5kZXgsIDAsIGNlbGxWYWx1ZXMuc3BsaWNlKGZyb21JbmRleCwgMSlbMF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGNlbGwgdmFsdWUgZmllbGQsIHVwZGF0ZSBhdmFpbGFibGUgZ3JvdXBzLCBmb3JtYXRzLCBldGMuLi5cclxuXHQgKi9cclxuXHRzZXRDZWxsVmFsdWVGaWVsZChpbmRleCwgbmV3RmllbGQpIHtcclxuXHRcdHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlc1tpbmRleF0gPSBuZXdGaWVsZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBwaXZvdCBjb2x1bW4gb3IgY2VsbCBpZiBwaXZvdCBjb2x1bW4gYWxyZWFkeSBkZWZpbmVkXHJcblx0ICovXHJcblx0YWRkUGl2b3RJdGVtKGZpZWxkQ29weSkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4pKSB7XHJcblx0XHRcdHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4gPSBmaWVsZENvcHk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnBpdm90Q29uZmlnLmNlbGxWYWx1ZXMucHVzaChmaWVsZENvcHkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3luY2hyb25pemVzIHBpdm90XHJcblx0ICovXHJcblx0c3luY1Bpdm90U3RhdGUoYWN0aXZlRmllbGRzSW5BY3RpdmVUYWJsZXMpIHtcclxuXHRcdHRoaXMucmVtb3ZlTm90QWN0aXZlRmllbGRzKGFjdGl2ZUZpZWxkc0luQWN0aXZlVGFibGVzKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBwaXZvdCBjb2x1bW4gYW5kIHBpdm90IGNlbGwgaWYgY29ycmVzcG9uZ2luZyBmaWVsZHMgYXJlIG5vXHJcblx0ICogbG9uZ2VyIGF2YWlsYWJsZS5cclxuXHQgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBvZiBjdXJyZW50bHkgYWN0aXZlIGZpZWxkcy5cclxuXHQgKi9cclxuXHRyZW1vdmVOb3RBY3RpdmVGaWVsZHMoYWN0aXZlRmllbGRzSW5BY3RpdmVUYWJsZXMpIHtcclxuXHRcdGNvbnN0IGlzRmllbGRJbkxpc3QgPSAoZmllbGQsIGZpZWxkTGlzdCkgPT4gZmllbGRMaXN0ICYmIGZpZWxkTGlzdC5zb21lKGYgPT4gZi5zeXNuYW1lID09PSBmaWVsZC5zeXNuYW1lKTtcclxuXHJcblx0XHRpZiAodGhpcy5waXZvdENvbmZpZy5waXZvdENvbHVtbiAmJiAhaXNGaWVsZEluTGlzdCh0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uLCBhY3RpdmVGaWVsZHNJbkFjdGl2ZVRhYmxlcykpXHJcblx0XHRcdHRoaXMucGl2b3RDb25maWcucGl2b3RDb2x1bW4gPSBudWxsO1xyXG5cclxuXHRcdHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcyA9IHRoaXMucGl2b3RDb25maWcuY2VsbFZhbHVlcy5maWx0ZXIoY3YgPT4gaXNGaWVsZEluTGlzdChjdiwgYWN0aXZlRmllbGRzSW5BY3RpdmVUYWJsZXMpKTtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gZGF0YVxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIFByZXBhcmUgcGl2b3RzIGZvciBzZW5kXHJcblx0ICovXHJcblx0Z2V0UGl2b3REYXRhRm9yU2VuZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnBpdm90Q29uZmlnLnBpdm90Q29sdW1uID8gdGhpcy5waXZvdENvbmZpZyA6IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIHBpdm90XHJcblx0ICovXHJcblx0bG9hZFBpdm90RGF0YShwaXZvdERhdGEpIHtcclxuXHRcdHRoaXMucGl2b3RDb25maWcgPSBwaXZvdERhdGE7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlXHJcblx0XHRcdC52YWx1ZShJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RzRGVmYXVsdENvbmZpZ05hbWUsIHtcclxuXHRcdFx0XHRwaXZvdENvbHVtbjogbnVsbCxcclxuXHRcdFx0XHRjZWxsVmFsdWVzOiBbXSxcclxuXHRcdFx0XHRvcHRpb25zOiB7XHJcblx0XHRcdFx0XHRhZGRTaWRlVG90YWxzOiBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnNlcnZpY2UoJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlJyxcclxuXHRcdFx0XHRJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCB7IElJemVuZGFJbnN0YW50UmVwb3J0Q29uZmlnIH0gZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kZWxzL2luc3RhbnQtcmVwb3J0LWNvbmZpZyc7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgc2V0dGluZ3Mgc2VydmljZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2Uge1xyXG5cclxuXHRwcml2YXRlIHNldHRpbmdzT2JqZWN0OiBJSXplbmRhSW5zdGFudFJlcG9ydENvbmZpZyA9IG51bGw7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaW5qZWN0b3InLCAnJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGluamVjdG9yOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFSc1F1ZXJ5U2VydmljZTogSXplbmRhUnNRdWVyeVNlcnZpY2UpIHtcclxuXHJcblx0XHQvLyBmaXJzdCB0cnkgdG8gZ2V0IHNldHRpbmdzIG9iamVjdCBpZiBpdCBoYXZlIGJlZW4gYWxyZWFkeSBsb2FkZWRcclxuXHRcdHRoaXMuc2V0dGluZ3NPYmplY3QgPSB0aGlzLiRpbmplY3Rvci5nZXQ8SUl6ZW5kYUluc3RhbnRSZXBvcnRDb25maWc+KCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzVmFsdWUnKTtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdCh0aGlzLnNldHRpbmdzT2JqZWN0KSlcclxuXHRcdFx0Ly8gaWYgbm90IGxvYWRlZCAtIGxvYWQgbm93LlxyXG5cdFx0XHR0aGlzLmxvYWRJbnN0YW50UmVwb3J0U2V0dGluZ3MoKS50aGVuKHJlc3VsdE9iamVjdCA9PiB7XHJcblx0XHRcdFx0dGhpcy5zZXR0aW5nc09iamVjdCA9IHJlc3VsdE9iamVjdCBhcyBJSXplbmRhSW5zdGFudFJlcG9ydENvbmZpZztcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgaW5zdGFudCByZXBvcnQgc2V0dGluZ3MgZnJvbSBzZXJ2ZXIuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkSW5zdGFudFJlcG9ydFNldHRpbmdzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdnZXRJbnN0YW50UmVwb3J0U2V0dGluZ3MnLCBbXSwge1xyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0fSwge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IGluc3RhbnQgcmVwb3J0IHNldHRpbmdzJyxcclxuXHRcdFx0XHRwYXJhbXM6IFtdXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0dGluZ3MgZ2V0dGVyXHJcblx0ICovXHJcblx0Z2V0U2V0dGluZ3MoKTogSUl6ZW5kYUluc3RhbnRSZXBvcnRDb25maWcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3NPYmplY3Q7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRcdFx0SXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1xdWVyeSc7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgY2hhcnQgc2VydmljZS4gQ29udGFpbnMgY2hhcnRzIGRhdGEgYW5kIGl0cyBmdW5jdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2Uge1xyXG5cclxuXHR2aXNDb25maWc6IGFueTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlOiBJemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLnZpc0NvbmZpZyA9IHRoaXMuY3JlYXRlRGVmYXVsdENvbmZpZygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGRlZmF1bHQgY29uZmlnIG9iamVjdFxyXG5cdCAqL1xyXG5cdGNyZWF0ZURlZmF1bHRDb25maWcoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjYXRlZ29yaWVzOiBbXVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IGNvbmZpZy5cclxuXHQgKi9cclxuXHRnZXRWaXN1YWxpemF0aW9uQ29uZmlnKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudmlzQ29uZmlnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCB2aXN1YWxpemF0aW9ucy4gRGVzaWduZWQgYXMgYXN5bmMgb3BlcmF0aW9uIGZvciBmdXR1cmUgYXN5bmMgY29uZmlnIGxvYWRpbmcuXHJcblx0ICogQHJldHVybnMge3Byb21pc2Ugb2JqZWN0fS5cclxuXHQgKi9cclxuXHRsb2FkVmlzdWFsaXphdGlvbnMoKSB7XHJcblx0XHR0aGlzLnZpc0NvbmZpZyA9IHRoaXMuY3JlYXRlRGVmYXVsdENvbmZpZygpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHQvLyBydW4gcXVlcnk6XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0VmlzdWFsaXphdGlvbkNvbmZpZygpLnRoZW4oY29uZmlnID0+IHtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoY29uZmlnKSB8fCAhYW5ndWxhci5pc0FycmF5KGNvbmZpZy5jYXRlZ29yaWVzKSkge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBzZXQgY29uZmlnOlxyXG5cdFx0XHRcdHRoaXMudmlzQ29uZmlnID0gY29uZmlnO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgY2F0ZWdvcnkgbmFtZSB0byBlYWNoIHZpc3VhbGl6YXRpb24gb2JqZWN0OlxyXG5cdFx0XHRcdHRoaXMudmlzQ29uZmlnLmNhdGVnb3JpZXNcclxuXHRcdFx0XHRcdC5maWx0ZXIoYyA9PiAhIWMuY2hhcnRzKVxyXG5cdFx0XHRcdFx0LmZvckVhY2goYyA9PiBjLmNoYXJ0cy5mb3JFYWNoKGNoYXJ0ID0+IGNoYXJ0LmNhdGVnb3J5TmFtZSA9IGMubmFtZSkpO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgdmlzdWFsaXphdGlvbiBvYmplY3QgYnkgZ2l2ZW4gbmFtZSBhbmQgY2F0ZWdvcnkuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lLlxyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9IHZpc3VhbGl6YXRpb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGZpbmRWaXN1YWxpemF0aW9uKGNhdGVnb3J5LCBuYW1lKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gbnVsbDtcclxuXHRcdHRoaXMudmlzQ29uZmlnLmNhdGVnb3JpZXNcclxuXHRcdFx0LmZpbHRlcihjID0+IGMubmFtZSA9PT0gY2F0ZWdvcnkpXHJcblx0XHRcdC5mb3JFYWNoKGMgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGNoYXJ0cyA9IGMuY2hhcnRzLmZpbHRlcihjaCA9PiBjaC5uYW1lID09PSBuYW1lKTtcclxuXHRcdFx0XHRpZiAoY2hhcnRzICYmIGNoYXJ0cy5sZW5ndGgpXHJcblx0XHRcdFx0XHRyZXN1bHQgPSBjaGFydHNbMF07XHJcblx0XHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiZGVjbGFyZSBnbG9iYWwge1xyXG5cclxuXHR0eXBlIFByZWRpY2F0ZTxUPiA9IChhcmc6IFQpID0+IGJvb2xlYW47XHJcblxyXG5cdGludGVyZmFjZSBBcnJheTxUPiB7XHJcblx0XHQvKipcclxuXHRcdCAqIExJTlEgRmlyc3RPckRlZmF1bHQgbWV0aG9kIGFuYWxvZy5cclxuXHRcdCAqIEBwYXJhbSBwcmVkaWNhdGUgU2VhcmNoIHByZWRpY2F0ZS5cclxuXHRcdCAqIEByZXR1cm5zIHtUIHwgbnVsbH0gUmV0dXJucyBmaXJzdCBmb3VuZCB2YWx1ZSBvciBudWxsLlxyXG5cdFx0ICovXHJcblx0XHRmaXJzdE9yRGVmYXVsdChwcmVkaWNhdGU6IFByZWRpY2F0ZTxUPik6IFQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmQgY29sbGVjdGlvblxyXG5cdFx0ICogQHBhcmFtIGNvbGxlY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0cHVzaEFsbChjb2xsZWN0aW9uOiBBcnJheTxUPik6IEFycmF5PFQ+O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmluZCBmaXJzdCBvY2N1cmVuY2UgaW4gYXJyYXkncyBuZXN0ZWQgb2JqZWN0cy5cclxuXHRcdCAqIEkuZS4gZm9yIGFycmF5OlxyXG5cdFx0ICogY29uc3QgYSA9IFsge2E6MSwgYjpbJ2EnLCdiJ119LCB7YToxMDAsIGI6WydhYWEnLCAnZCddfSwge2E6MTAwMCwgYjpbJ2UnLCdhYWFhJ119IF07XHJcblx0XHQgKiBhLmZpcnN0T3JEZWZhdWx0SW5Jbm5lcignYicsIGJJdGVtID0+IGJJdGVtLmluZGV4T2YoJ2EnKSA+PSAwKTtcclxuXHRcdCAqIHdpbGwgcmV0dXJuIGZpcnN0IHZhbHVlIGZyb20gLmIgYXJyYXlzIHdpdGggc3Vic3RyaW5nICdhJy5cclxuXHRcdCAqIEBwYXJhbSBpbm5lck9iamVjdEtleSBJbm5lciBjb2xsZWN0aW9uIHByb3BlcnR5IG5hbWUuXHJcblx0XHQgKiBAcGFyYW0gaW5uZXJPYmplY3RQcmVkaWNhdGUgUHJlZGljYXRlIGZvciBzZWFyY2ggYWNyb3NzIGlubmVyIGNvbGxlY3Rpb25zLlxyXG5cdFx0ICovXHJcblx0XHRmaXJzdE9yRGVmYXVsdEluSW5uZXI8SyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLCBpbm5lck9iamVjdFByZWRpY2F0ZTogUHJlZGljYXRlPFRbS10+KTogVFtLXTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpbmQgYWxsIG9jY3VyZW5jZXMgaW4gYXJyYXkncyBuZXN0ZWQgb2JqZWN0cy5cclxuXHRcdCAqIEkuZS4gZm9yIGFycmF5OlxyXG5cdFx0ICogY29uc3QgYSA9IFsge2E6MSwgYjpbJ2EnLCdiJ119LCB7YToxMDAsIGI6WydhYWEnLCAnZCddfSwge2E6MTAwMCwgYjpbJ2UnLCdhYWFhJ119IF07XHJcblx0XHQgKiBhLmZpbHRlckluSW5uZXIoJ2InLCBiSXRlbSA9PiBiSXRlbS5pbmRleE9mKCdhJykgPj0gMCk7XHJcblx0XHQgKiB3aWxsIHJldHVybiBhbGwgdmFsdWVzIGZyb20gLmIgYXJyYXlzIHdpdGggc3Vic3RyaW5nICdhJzogWydhJywgJ2FhYScsICdhYWFhJ10uXHJcblx0XHQgKiBAcGFyYW0gaW5uZXJPYmplY3RLZXkgSW5uZXIgY29sbGVjdGlvbiBwcm9wZXJ0eSBuYW1lLlxyXG5cdFx0ICogQHBhcmFtIGlubmVyT2JqZWN0UHJlZGljYXRlIFByZWRpY2F0ZSBmb3Igc2VhcmNoIGFjcm9zcyBpbm5lciBjb2xsZWN0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0ZmlsdGVySW5Jbm5lcjxLIGV4dGVuZHMga2V5b2YgVD4oaW5uZXJPYmplY3RLZXk6IEssIGlubmVyT2JqZWN0UHJlZGljYXRlOiBQcmVkaWNhdGU8VFtLXT4pOiBBcnJheTxUW0tdPjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBtb2R1bGUgSXplbmRhTGlucSB7XHJcblxyXG5cdEFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdCA9IGZ1bmN0aW9uIDxUPihwcmVkaWNhdGU6IFByZWRpY2F0ZTxUPik6IFQge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVkdWNlKChhY2N1bXVsYXRvcjogVCwgY3VycmVudFZhbHVlOiBUKSA9PiB7XHJcblx0XHRcdGlmKCFhY2N1bXVsYXRvciAmJiBwcmVkaWNhdGUoY3VycmVudFZhbHVlKSkgXHJcblx0XHRcdFx0YWNjdW11bGF0b3IgPSBjdXJyZW50VmFsdWU7XHJcblx0XHRcdHJldHVybiBhY2N1bXVsYXRvcjtcclxuXHRcdH0sIG51bGwpO1xyXG5cdH1cclxuXHJcblx0QXJyYXkucHJvdG90eXBlLnB1c2hBbGwgPSBmdW5jdGlvbjxUPihjb2xsZWN0aW9uOiBBcnJheTxUPik6IEFycmF5PFQ+IHtcclxuXHRcdGlmIChjb2xsZWN0aW9uID09PSBudWxsKVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdGNvbGxlY3Rpb24uZm9yRWFjaCh0ID0+IHRoaXMucHVzaCh0KSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdEFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdEluSW5uZXIgPSBmdW5jdGlvbjxULCBLIGV4dGVuZHMga2V5b2YgVD4oaW5uZXJPYmplY3RLZXk6IEssXHJcblx0XHRpbm5lck9iamVjdFByZWRpY2F0ZTogUHJlZGljYXRlPFRbS10+KTogVFtLXSB8IG51bGwge1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBwYXJlbnRPYmplY3QgPSB0aGlzW2ldIGFzIFQ7XHJcblx0XHRcdGlmICghcGFyZW50T2JqZWN0Lmhhc093blByb3BlcnR5KGlubmVyT2JqZWN0S2V5KSlcclxuXHRcdFx0XHR0aHJvdyBgS2V5ICR7aW5uZXJPYmplY3RLZXl9IG5vdCBmb3VuZCBpbiBvYmplY3QgJHtwYXJlbnRPYmplY3R9YDtcclxuXHJcblx0XHRcdGNvbnN0IGlubmVyT2JqZWN0ID0gcGFyZW50T2JqZWN0W2lubmVyT2JqZWN0S2V5XTtcclxuXHRcdFx0aWYgKGlubmVyT2JqZWN0ICYmIGlubmVyT2JqZWN0IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuXHRcdFx0XHRjb25zdCBmb3VuZElubmVyID0gaW5uZXJPYmplY3QuZmlyc3RPckRlZmF1bHQoaW5uZXJPYmplY3RQcmVkaWNhdGUpO1xyXG5cdFx0XHRcdGlmIChmb3VuZElubmVyKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZvdW5kSW5uZXI7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0QXJyYXkucHJvdG90eXBlLmZpbHRlckluSW5uZXIgPSBmdW5jdGlvbjxULCBLIGV4dGVuZHMga2V5b2YgVD4oaW5uZXJPYmplY3RLZXk6IEssXHJcblx0XHRpbm5lck9iamVjdFByZWRpY2F0ZTogUHJlZGljYXRlPFRbS10+KTogQXJyYXk8VFtLXT4ge1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnJlZHVjZSgocmVzdWx0OiBBcnJheTxUW0tdPiwgY3VycmVudFRvcExldmVsOiBUKSA9PiB7XHJcblx0XHRcdGlmICghY3VycmVudFRvcExldmVsLmhhc093blByb3BlcnR5KGlubmVyT2JqZWN0S2V5KSlcclxuXHRcdFx0XHR0aHJvdyBgS2V5ICR7aW5uZXJPYmplY3RLZXl9IG5vdCBmb3VuZCBpbiBvYmplY3QgJHtjdXJyZW50VG9wTGV2ZWx9YDtcclxuXHRcdFx0Y29uc3QgaW5uZXIgPSBjdXJyZW50VG9wTGV2ZWxbaW5uZXJPYmplY3RLZXldO1xyXG5cdFx0XHRpZiAoaW5uZXIgJiYgaW5uZXIgaW5zdGFuY2VvZiBBcnJheSlcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0LmNvbmNhdChpbm5lci5maWx0ZXIoaW5uZXJPYmplY3RQcmVkaWNhdGUpKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sIFtdKTtcclxuXHR9O1xyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1saW5xJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTY2hlZHVsZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcXVlcnknO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1waXZvdCc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXNldHRpbmdzJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC12aXN1YWxpemF0aW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSB7XHJcblxyXG5cdHByaXZhdGUgcmVhZG9ubHkgZW1wdHlGaWVsZEdyb3VwT3B0aW9uOiBhbnk7XHJcblx0cHJpdmF0ZSByZWFkb25seSBlbXB0eVN1YnRvdGFsRmllbGRHcm91cE9wdGlvbnM6IGFueTtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGVtcHR5RXhwcmVzc2lvblR5cGU6IGFueTtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGVtcHR5RmllbGRGb3JtYXRPcHRpb246IGFueTtcclxuXHRpc1BhZ2VJbml0aWFsaXplZDogYm9vbGVhbjtcclxuXHRpc1BhZ2VSZWFkeTogYm9vbGVhbjtcclxuXHRleGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZTogYW55O1xyXG5cdG5ld1JlcG9ydExvYWRpbmdTY2hlZHVsZTogYW55O1xyXG5cdGlzUHJldmlld1NwbGFzaFZpc2libGU6IGJvb2xlYW47XHJcblx0cHJldmlld1NwbGFzaFRleHQ6IHN0cmluZztcclxuXHRyZXBvcnRTZXQ6IGFueTtcclxuXHRhY3RpdmVUYWJsZXM6IGFueVtdO1xyXG5cdGFjdGl2ZUZpZWxkczogYW55W107XHJcblx0Y2FsY0ZpZWxkczogYW55W107XHJcblx0YWN0aXZlQ2hlY2tlZEZpZWxkczogYW55W107XHJcblx0cHJpdmF0ZSBjb25zdHJhaW50czogYW55W107XHJcblx0dmdTdHlsZXM6IGFueTtcclxuXHRkcmlsbERvd25TdHlsZXM6IGFueTtcclxuXHRleHByZXNzaW9uVHlwZXM6IGFueTtcclxuXHRzdWJyZXBvcnRzOiBhbnk7XHJcblx0Y3VycmVudEFjdGl2ZUZpZWxkOiBhbnk7XHJcblx0dWlQYW5lbHNTdGF0ZTogYW55O1xyXG5cdG5leHRJZDogbnVtYmVyO1xyXG5cdG9yZGVyQ291bnRlcjogbnVtYmVyO1xyXG5cdHByZXZpZXdIdG1sOiBzdHJpbmc7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHQnJGluamVjdG9yJyxcclxuXHRcdFx0JyR3aW5kb3cnLFxyXG5cdFx0XHQnJHEnLFxyXG5cdFx0XHQnJGxvZycsXHJcblx0XHRcdCckcm9vdFNjb3BlJyxcclxuXHRcdFx0JyRpemVuZGFVdGlsVWlTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFVdGlsU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhVXJsU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0XHRcdCckaXplbmRhU2NoZWR1bGVTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFTaGFyZVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaW5qZWN0b3I6IG5nLmF1dG8uSUluamVjdG9yU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRsb2c6IG5nLklMb2dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U6IEl6ZW5kYVNjaGVkdWxlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNoYXJlU2VydmljZTogSXplbmRhU2hhcmVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2U6IEl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlOiBJemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlOiBJemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UpIHtcclxuXHRcdC8vIGNvbnN0OlxyXG5cdFx0dGhpcy5lbXB0eUZpZWxkR3JvdXBPcHRpb24gPSAkaW5qZWN0b3IuZ2V0KCdpemVuZGFEZWZhdWx0RnVuY3Rpb25PYmplY3QnKTtcclxuXHRcdHRoaXMuZW1wdHlTdWJ0b3RhbEZpZWxkR3JvdXBPcHRpb25zID0gJGluamVjdG9yLmdldCgnaXplbmRhRGVmYXVsdFN1YnRvdGFsRnVuY3Rpb25PYmplY3QnKTtcclxuXHRcdHRoaXMuZW1wdHlFeHByZXNzaW9uVHlwZSA9IHtcclxuXHRcdFx0dmFsdWU6ICcuLi4nLFxyXG5cdFx0XHR0ZXh0OiAnLi4uJ1xyXG5cdFx0fTtcclxuXHRcdHRoaXMuZW1wdHlGaWVsZEZvcm1hdE9wdGlvbiA9ICRpbmplY3Rvci5nZXQoJ2l6ZW5kYURlZmF1bHRGb3JtYXRPYmplY3QnKTtcclxuXHRcdHRoaXMuaXNQYWdlSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNQYWdlUmVhZHkgPSBmYWxzZTtcclxuXHRcdHRoaXMuZXhpc3RpbmdSZXBvcnRMb2FkaW5nU2NoZWR1bGUgPSBudWxsO1xyXG5cdFx0dGhpcy5uZXdSZXBvcnRMb2FkaW5nU2NoZWR1bGUgPSBudWxsO1xyXG5cdFx0dGhpcy5pc1ByZXZpZXdTcGxhc2hWaXNpYmxlID0gZmFsc2U7XHJcblx0XHR0aGlzLnByZXZpZXdTcGxhc2hUZXh0ID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfV2FpdFByZXZpZXdMb2FkaW5nJywgJ1BsZWFzZSB3YWl0IHdoaWxlIHByZXZpZXcgaXMgbG9hZGluZy4uLicpO1xyXG5cdFx0dGhpcy5yZXBvcnRTZXQgPSBhbmd1bGFyLm1lcmdlKHt9LCAkaW5qZWN0b3IuZ2V0KCdpemVuZGFJbnN0YW50UmVwb3J0T2JqZWN0RGVmYXVsdHMnKSk7XHJcblx0XHR0aGlzLnJlcG9ydFNldC5vcHRpb25zLmRpc3RpbmN0ID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKS5kaXN0aW5jdDsgLy8gc2V0IGRlZmF1bHQgZGlzdGluY3Qgc2V0dGluZyB2YWx1ZVxyXG5cdFx0dGhpcy5yZXN0b3JlRGVmYXVsdENvbG9ycygpOyAvLyBzZXQgZGVmYXVsdCByZXBvcnQgY29sb3JzXHJcblx0XHR0aGlzLmFjdGl2ZVRhYmxlcyA9IFtdO1xyXG5cdFx0dGhpcy5hY3RpdmVGaWVsZHMgPSBbXTtcclxuXHRcdHRoaXMuY2FsY0ZpZWxkcyA9IFtdO1xyXG5cdFx0dGhpcy5hY3RpdmVDaGVja2VkRmllbGRzID0gW107XHJcblx0XHR0aGlzLmNvbnN0cmFpbnRzID0gW107XHJcblx0XHR0aGlzLnZnU3R5bGVzID0gbnVsbDtcclxuXHRcdHRoaXMuZHJpbGxEb3duU3R5bGVzID0gbnVsbDtcclxuXHRcdHRoaXMuZXhwcmVzc2lvblR5cGVzID0gbnVsbDtcclxuXHRcdHRoaXMuc3VicmVwb3J0cyA9IG51bGw7XHJcblx0XHR0aGlzLmN1cnJlbnRBY3RpdmVGaWVsZCA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy51aVBhbmVsc1N0YXRlID0ge1xyXG5cdFx0XHRmaWx0ZXJzUGFuZWxPcGVuZWQ6IGZhbHNlXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5uZXh0SWQgPSAxO1xyXG5cdFx0dGhpcy5vcmRlckNvdW50ZXIgPSAxO1xyXG5cdFx0dGhpcy5wcmV2aWV3SHRtbCA9ICcnO1xyXG5cclxuXHRcdHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG5cdH1cclxuXHJcblx0aW5pdGlhbGl6ZSgpIHtcclxuXHRcdC8vIGluaXRpYWxpemU6XHJcblx0XHR0aGlzLiRsb2cuZGVidWcoJ1N0YXJ0IGluc3RhbnQgcmVwb3J0IGluaXRpYWxpemUnKTtcclxuXHRcdHRoaXMuaXNQYWdlSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNQYWdlUmVhZHkgPSBmYWxzZTtcclxuXHRcdHZhciBzdGFydEluaXRpYWxpemluZ1RpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcblx0XHR0aGlzLiRxLmFsbChbdGhpcy5sb2FkRGF0YVNvdXJjZXMoKSwgdGhpcy5pbml0aWFsaXplVmdTdHlsZXMoKSwgdGhpcy5pbml0aWFsaXplU3VicmVwb3J0cygpLCB0aGlzLmluaXRpYWxpemVEcmlsbERvd25TdHlsZXMoKSxcclxuXHRcdHRoaXMuaW5pdGlhbGl6ZUV4cHJlc3Npb25UeXBlcygpLCB0aGlzLmluaXRpYWxpemVDaGFydHMoKV0pLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmlzUGFnZUluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcodGhpcy5leGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSkpIHtcclxuXHRcdFx0XHQvLyBleGlzdGluZyByZXBvcnRcclxuXHRcdFx0XHR0aGlzLiRsb2cuZGVidWcoJ1N0YXJ0IGxvYWRpbmcgc2NoZWR1bGVkIHJlcG9ydCcsIHRoaXMuZXhpc3RpbmdSZXBvcnRMb2FkaW5nU2NoZWR1bGUpO1xyXG5cdFx0XHRcdHRoaXMubG9hZFJlcG9ydCh0aGlzLmV4aXN0aW5nUmVwb3J0TG9hZGluZ1NjaGVkdWxlKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnRW5kIGxvYWRpbmcgc2NoZWR1bGVkIHJlcG9ydCcpO1xyXG5cdFx0XHRcdFx0dGhpcy5leGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSA9IG51bGw7XHJcblx0XHRcdFx0XHR0aGlzLmlzUGFnZVJlYWR5ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHRoaXMuJHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdQYWdlIHJlYWR5OiAnLCBgJHsobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gc3RhcnRJbml0aWFsaXppbmdUaW1lc3RhbXB9bXNgKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHRoaXMubmV3UmVwb3J0TG9hZGluZ1NjaGVkdWxlKSkge1xyXG5cdFx0XHRcdC8vIG5ldyByZXBvcnRcclxuXHRcdFx0XHR0aGlzLiRsb2cuZGVidWcoJ1N0YXJ0IGNyZWF0aW5nIG5ldyByZXBvcnQnKTtcclxuXHRcdFx0XHR0aGlzLm5ld1JlcG9ydCgpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdFbmQgY3JlYXRpbmcgbmV3IHJlcG9ydCcpO1xyXG5cdFx0XHRcdFx0dGhpcy5uZXdSZXBvcnRMb2FkaW5nU2NoZWR1bGUgPSBudWxsO1xyXG5cdFx0XHRcdFx0dGhpcy5pc1BhZ2VSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0XHR0aGlzLiRyb290U2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnUGFnZSByZWFkeTogJywgYCR7KG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIHN0YXJ0SW5pdGlhbGl6aW5nVGltZXN0YW1wfW1zYCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gZGVmYXVsdFxyXG5cdFx0XHRcdHRoaXMuaXNQYWdlUmVhZHkgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnUGFnZSByZWFkeTogJywgYCR7KG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIHN0YXJ0SW5pdGlhbGl6aW5nVGltZXN0YW1wfW1zYCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBjb21tb24gZnVuY3Rpb25zXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHR5cGUgZ3JvdXAgb2YgZmllbGQgb3BlcmF0b3JcclxuXHQgKi9cclxuXHRnZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKG9wZXJhdG9yKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRGaWVsZEZpbHRlck9wZXJhdG9yVmFsdWVUeXBlKG9wZXJhdG9yKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0UmVwb3J0U2V0RnVsbE5hbWUoKSB7XHJcblx0XHRjb25zdCBjYXRlZ29yeSA9IHRoaXMucmVwb3J0U2V0LnJlcG9ydENhdGVnb3J5O1xyXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMucmVwb3J0U2V0LnJlcG9ydE5hbWU7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcobmFtZSkgfHwgbmFtZS50cmltKCkgPT09ICcnKVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdGxldCByZXN1bHQgPSAnJztcclxuXHRcdGlmICghdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKGNhdGVnb3J5KSkge1xyXG5cdFx0XHRyZXN1bHQgKz0gY2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKTtcclxuXHRcdH1cclxuXHRcdHJlc3VsdCArPSBuYW1lO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0TmV4dElkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMubmV4dElkKys7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGd1aWQoKSB7XHJcblx0XHRmdW5jdGlvbiBzNCgpIHtcclxuXHRcdFx0cmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXHJcblx0XHRcdFx0LnRvU3RyaW5nKDE2KVxyXG5cdFx0XHRcdC5zdWJzdHJpbmcoMSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArXHJcblx0XHRcdHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldE5leHRPcmRlcigpIHtcclxuXHRcdHJldHVybiB0aGlzLm9yZGVyQ291bnRlcisrO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQmVjb21lcyB0cnVlIHdoZW4gcGFnZSBpcyByZWFkeSB0byB3b3JrXHJcblx0ICovXHJcblx0Z2V0UGFnZVJlYWR5KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNQYWdlUmVhZHk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgd2hvbGUgcmVwb3J0IHNldFxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFNldCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydFNldDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRhc291cmNlc1xyXG5cdCAqL1xyXG5cdGdldERhdGFTb3VyY2VzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0U2V0LmRhdGFTb3VyY2VzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGRhdGFzb3VyY2VzXHJcblx0ICovXHJcblx0c2V0RGF0YVNvdXJjZXMoZGF0YVNvdXJjZXMpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KGRhdGFTb3VyY2VzKSlcclxuXHRcdFx0dGhyb3cgJ1wiZGF0YVNvdXJjZXNcIiBwYXJhbWV0ZXIgc2hvdWxkIGJlIGFycmF5Lic7XHJcblx0XHR0aGlzLnJlcG9ydFNldC5kYXRhU291cmNlcyA9IGRhdGFTb3VyY2VzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGZpbHRlcnMgcmVmZXJlbmNlXHJcblx0ICovXHJcblx0Z2V0RmlsdGVycygpIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydFNldC5maWx0ZXJzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCBzZXQgb3B0aW9uc1xyXG5cdCAqL1xyXG5cdGdldE9wdGlvbnMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZXBvcnRTZXQub3B0aW9ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkcmlsbGRvd24gZmllbGRzXHJcblx0ICovXHJcblx0Z2V0RHJpbGxEb3duRmllbGRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBmaWx0ZXIgb3B0aW9uc1xyXG5cdCAqL1xyXG5cdGdldEZpbHRlck9wdGlvbnMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZXBvcnRTZXQuZmlsdGVyT3B0aW9ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBwcmV2aWV3IGh0bWxcclxuXHQgKi9cclxuXHRnZXRQcmV2aWV3KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJldmlld0h0bWw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQYXJzZSBhbmQgc2V0IGNvbnN0cmFpbnRzXHJcblx0ICovXHJcblx0c2V0Q29uc3RyYWludHMoY29uc3RyYWludHNEYXRhKSB7XHJcblx0XHR0aGlzLmNvbnN0cmFpbnRzID0gY29uc3RyYWludHNEYXRhLkRhdGE7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIGNhdGVnb3J5IGJ5IGdpdmVuIGlkXHJcblx0ICovXHJcblx0Z2V0Q2F0ZWdvcnlCeUlkKGlkKSB7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHRjb25zdCBkYXRhc291cmNlcyA9IHRoaXMuZ2V0RGF0YVNvdXJjZXMoKTtcclxuXHRcdHdoaWxlIChpIDwgZGF0YXNvdXJjZXMubGVuZ3RoKSB7XHJcblx0XHRcdGNvbnN0IGRhdGFzb3VyY2UgPSBkYXRhc291cmNlc1tpXTtcclxuXHRcdFx0aWYgKGRhdGFzb3VyY2UuaWQgPT09IGlkKVxyXG5cdFx0XHRcdHJldHVybiBkYXRhc291cmNlO1xyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgZmlyc3QgdGFibGUgYnkgcHJvcGVydHkgdmFsdWUuXHJcblx0ICovXHJcblx0Z2V0VGFibGVCeVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUsIGNhc2VJbmRlcGVuZGVudD8pIHtcclxuXHRcdGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHByb3BlcnR5TmFtZSkpXHJcblx0XHRcdHRocm93ICdwcm9wZXJ0eU5hbWUgcGFyYW1ldGVyIHNob3VsZCBiZSBzZXQuJztcclxuXHRcdGNvbnN0IGRhdGFzb3VyY2VzID0gdGhpcy5nZXREYXRhU291cmNlcygpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhc291cmNlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBjYXRlZ29yeSA9IGRhdGFzb3VyY2VzW2ldO1xyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNhdGVnb3J5LnRhYmxlcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGNvbnN0IHRhYmxlID0gY2F0ZWdvcnkudGFibGVzW2pdO1xyXG5cdFx0XHRcdGlmICghdGFibGUuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSlcclxuXHRcdFx0XHRcdHRocm93ICdUYWJsZSBkb25cXCd0IGhhdmUgcHJvcGVydHkgJyArIHByb3BlcnR5TmFtZTtcclxuXHRcdFx0XHRsZXQgcHJvcGVydHlWYWx1ZSA9IHRhYmxlW3Byb3BlcnR5TmFtZV07XHJcblx0XHRcdFx0bGV0IGNvbXBhcmVWYWx1ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eVZhbHVlICYmIGNhc2VJbmRlcGVuZGVudClcclxuXHRcdFx0XHRcdHByb3BlcnR5VmFsdWUgPSAocHJvcGVydHlWYWx1ZSArICcnKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdGlmIChjb21wYXJlVmFsdWUgJiYgY2FzZUluZGVwZW5kZW50KVxyXG5cdFx0XHRcdFx0Y29tcGFyZVZhbHVlID0gKGNvbXBhcmVWYWx1ZSArICcnKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eVZhbHVlID09PSBjb21wYXJlVmFsdWUpXHJcblx0XHRcdFx0XHRyZXR1cm4gdGFibGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCB0YWJsZSBieSBnaXZlbiBpZFxyXG5cdCAqL1xyXG5cdGdldFRhYmxlQnlJZChpZCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFibGVCeVByb3BlcnR5KCdpZCcsIGlkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgdGFibGUgYnkgZ2l2ZW4gc3lzbmFtZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzeXNuYW1lLlxyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9IHRhYmxlIG9iamVjdC4gXHJcblx0ICovXHJcblx0Z2V0VGFibGVCeVN5c25hbWUoc3lzbmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFibGVCeVByb3BlcnR5KCdzeXNuYW1lJywgc3lzbmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIHRhYmxlIGJ5IG5hbWUuIChDYXNlIGluZGVwZW5kZW50KVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lLlxyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9IHRhYmxlIG9iamVjdC5cclxuXHQgKi9cclxuXHRnZXRUYWJsZUJ5TmFtZShuYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWJsZUJ5UHJvcGVydHkoJ25hbWUnLCBuYW1lLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgZmllbGQgYnkgZ2l2ZW4gaWRcclxuXHQgKi9cclxuXHRnZXRGaWVsZEJ5SWQoaWQpIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGNvbnN0IGRhdGFzb3VyY2VzID0gdGhpcy5nZXREYXRhU291cmNlcygpO1xyXG5cdFx0d2hpbGUgKGkgPCBkYXRhc291cmNlcy5sZW5ndGgpIHtcclxuXHRcdFx0bGV0IGogPSAwO1xyXG5cdFx0XHRjb25zdCB0YWJsZXMgPSBkYXRhc291cmNlc1tpXS50YWJsZXM7XHJcblx0XHRcdHdoaWxlIChqIDwgdGFibGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdGxldCBrID0gMDtcclxuXHRcdFx0XHRjb25zdCBmaWVsZHMgPSB0YWJsZXNbal0uZmllbGRzO1xyXG5cdFx0XHRcdHdoaWxlIChrIDwgZmllbGRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgZmllbGQgPSBmaWVsZHNba107XHJcblx0XHRcdFx0XHRpZiAoZmllbGQuaWQgPT09IGlkKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmaWVsZDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChmaWVsZC5pc011bHRpcGxlQ29sdW1ucyAmJiBmaWVsZC5tdWx0aXBsZUNvbHVtbnMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG11bHRpcGxlRmllbGQgPSBmaWVsZC5tdWx0aXBsZUNvbHVtbnMuZmlyc3RPckRlZmF1bHQoZiA9PiBmLmlkID09PSBpZCk7XHJcblx0XHRcdFx0XHRcdGlmIChtdWx0aXBsZUZpZWxkKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBtdWx0aXBsZUZpZWxkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRqKys7XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYWxsIHRhYmxlcyBpbiBhbGwgZGF0YXNvdXJjZXNcclxuXHQgKi9cclxuXHRnZXRBbGxUYWJsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXREYXRhU291cmNlcygpLnJlZHVjZSgocmVzdWx0LCBjYXRlZ29yeSkgPT4gcmVzdWx0LmNvbmNhdChjYXRlZ29yeS50YWJsZXMpLCBbXSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIEdldCBjaGVja2VkIHRhYmxlc1xyXG5cdCovXHJcblx0Z2V0QWN0aXZlVGFibGVzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlVGFibGVzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCBmaWVsZCBieSBndWlkXHJcblx0ICovXHJcblx0Z2V0Q2FsY0ZpZWxkKGNhbGNGaWVsZElkKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYWxjRmllbGRzLmZpcnN0T3JEZWZhdWx0KGMgPT4gYy5zeXNuYW1lID09PSBjYWxjRmllbGRJZCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEZpZWxkKHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSwgZmluZEluQWxsVGFibGVzPykge1xyXG5cdFx0aWYgKHByb3BlcnR5VmFsdWUgJiYgcHJvcGVydHlWYWx1ZS5pbmRleE9mKCdmbGRJZHwnKSA9PT0gMClcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q2FsY0ZpZWxkKHByb3BlcnR5VmFsdWUpO1xyXG5cclxuXHRcdGNvbnN0IHRhYmxlc0NvbGxlY3Rpb24gPSAodHlwZW9mIChmaW5kSW5BbGxUYWJsZXMpID09PSAnYm9vbGVhbicgJiYgZmluZEluQWxsVGFibGVzKVxyXG5cdFx0XHQ/IHRoaXMuZ2V0QWxsVGFibGVzKClcclxuXHRcdFx0OiB0aGlzLmdldEFjdGl2ZVRhYmxlcygpO1xyXG5cclxuXHRcdC8vIGZpbmQgZmlyc3QgZmllbGQgaW4gdGFibGVzIHdoaWNoIG1hdGNoZXMgcHJlZGljYXRlIFwicHJvcGVydHlOYW1lID0gcHJvcGVydHlWYWx1ZVwiOlxyXG5cdFx0cmV0dXJuIHRhYmxlc0NvbGxlY3Rpb24uZmlyc3RPckRlZmF1bHRJbklubmVyKCdmaWVsZHMnLCBmID0+XHJcblx0XHRcdGYuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSAmJiBmW3Byb3BlcnR5TmFtZV0gPT09IHByb3BlcnR5VmFsdWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmluZCBmaWVsZCBieSBzeXNuYW1lXHJcblx0ICovXHJcblx0Z2V0RmllbGRCeVN5c05hbWUoc3lzbmFtZSwgZmluZEluQWxsVGFibGVzPykge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0RmllbGQoJ3N5c25hbWUnLCBzeXNuYW1lLCBmaW5kSW5BbGxUYWJsZXMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgZnVuY3Rpb25zIGFsbG93ZWQgdG8gZmllbGRcclxuXHQgKi9cclxuXHRpc0JpbmFyeUZpZWxkKGZpZWxkKSB7XHJcblx0XHRpZiAoIWZpZWxkKSByZXR1cm4gZmFsc2U7XHJcblx0XHRjb25zdCBleHByZXNzaW9uVHlwZSA9IGZpZWxkLmV4cHJlc3Npb25UeXBlO1xyXG5cdFx0aWYgKGV4cHJlc3Npb25UeXBlICYmIGV4cHJlc3Npb25UeXBlLnZhbHVlICYmIGV4cHJlc3Npb25UeXBlLnZhbHVlICE9PSAnLi4uJylcclxuXHRcdFx0cmV0dXJuIFsnQmluYXJ5JywgJ090aGVyJywgJ05vbmUnXS5pbmRleE9mKGV4cHJlc3Npb25UeXBlLnZhbHVlKSA+PSAwO1xyXG5cdFx0cmV0dXJuIGZpZWxkLnNxbFR5cGUgPT09ICdUZXh0JyB8fCBmaWVsZC5zcWxUeXBlID09PSAnSW1hZ2UnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNoZWNrZWQgYW5kIG5vdCBjaGVja2VkIGZpZWxkcyBpbiBhY3RpdmUgdGFibGVzO1xyXG5cdCAqIFRPRE86IGl0IGlzIG5vdCBhIGdvb2QgaWRlYSB0byBhc3NpZ24gdmFsdWVzIHRvIFwiYWRkaXRpb25hbEdyb3VwXCIgcHJvcGVydHkgaW4gZ2V0IGZ1bmN0aW9uLlxyXG5cdCAqL1xyXG5cdGdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKGFwcGVuZENhbGNGaWVsZHM/KSB7XHJcblx0XHR0aGlzLmFjdGl2ZUZpZWxkcy5mb3JFYWNoKGYgPT5cclxuXHRcdFx0Zi5hZGRpdGlvbmFsR3JvdXAgPSBmLnRhYmxlTmFtZSk7XHJcblxyXG5cdFx0aWYgKCFhcHBlbmRDYWxjRmllbGRzKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5hY3RpdmVGaWVsZHM7XHJcblxyXG5cdFx0dGhpcy5jYWxjRmllbGRzLmZvckVhY2goZiA9PlxyXG5cdFx0XHRmLmFkZGl0aW9uYWxHcm91cCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfY2FsY0ZpZWxkcycsICdDYWxjdWxhdGVkIEZpZWxkcycpKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5hY3RpdmVGaWVsZHMuY29uY2F0KHRoaXMuY2FsY0ZpZWxkcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYWN0aXZlIChjaGVja2VkKSBmaWVsZHMgKGluY2x1ZGluZyBtdWx0aXBsZSBmaWVsZHMpLlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZSBUYWJsZSBvYmplY3QuXHJcblx0ICogQHJldHVybnMge29iamVjdFtdfSBDaGVja2VkIGZpZWxkcyBjb2xsZWN0aW9uLlxyXG5cdCAqL1xyXG5cdGdldEFjdGl2ZUZpZWxkcyh0YWJsZSkge1xyXG5cdFx0cmV0dXJuIHRhYmxlLmZpZWxkcy5yZWR1Y2UoKHJlc3VsdDogYW55W10sIGY6IGFueSkgPT4ge1xyXG5cdFx0XHRpZiAoIWYuaXNNdWx0aXBsZUNvbHVtbnMgJiYgZi5jaGVja2VkKVxyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGYpO1xyXG5cdFx0XHRlbHNlIGlmIChmLmlzTXVsdGlwbGVDb2x1bW5zKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZi5tdWx0aXBsZUNvbHVtbnMuZmlsdGVyKGZtID0+IGZtLmNoZWNrZWQpKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sIFtdKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJhc2UgZmllbGRzIGl0ZXJhdG9yIGZ1bmN0aW9uXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZmllbGRIYW5kbGVyIGl0ZXJhdG9yIFwiZWFjaFwiIGhhbmRsZXJcclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBnZXRGaWVsZHNGdW5jdGlvbiBmaWVsZCBmaWx0ZXIgZnVuY3Rpb24gKGZ1bmN0aW9uKHRhYmxlKSB7Li4uIHJldHVybiBmaWVsZHNBcnJheTsgfSlcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBjb250ZXh0IG9iamVjdFxyXG5cdCAqL1xyXG5cdGVhY2hGaWVsZHNCYXNlPFQsIEY+KFxyXG5cdFx0ZmllbGRIYW5kbGVyOiAoZmllbGQ6IEYsIHRhYmxlOiBUKSA9PiB2b2lkLFxyXG5cdFx0Z2V0RmllbGRzRnVuY3Rpb246ICh0YWJsZTogVCkgPT4gRltdLFxyXG5cdFx0Y29udGV4dD86IGFueSkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oZmllbGRIYW5kbGVyKSlcclxuXHRcdFx0dGhyb3cgJ2ZpZWxkSGFuZGxlciBzaG91bGQgYmUgYSBmdW5jdGlvbi4nO1xyXG5cclxuXHRcdHRoaXMuZ2V0QWN0aXZlVGFibGVzKCkuZm9yRWFjaCh0ID0+IHtcclxuXHRcdFx0dmFyIGFGaWVsZHMgPSBnZXRGaWVsZHNGdW5jdGlvbih0KTtcclxuXHRcdFx0aWYgKGFGaWVsZHMgJiYgYUZpZWxkcy5sZW5ndGgpXHJcblx0XHRcdFx0YUZpZWxkcy5mb3JFYWNoKGYgPT4gZmllbGRIYW5kbGVyLmNhbGwoYW5ndWxhci5pc0RlZmluZWQoY29udGV4dCkgPyBjb250ZXh0IDogdGhpcywgZiwgdCkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBXb3JrcyBsaWtlIGVhY2guIEl0ZXJhdGUgdGhyb3VnaCBjaGVja2VkIGZpZWxkc1xyXG5cdCAqL1xyXG5cdGVhY2hBY3RpdmVGaWVsZHMoZmllbGRIYW5kbGVyLCBjb250ZXh0Pykge1xyXG5cdFx0dGhpcy5lYWNoRmllbGRzQmFzZShmaWVsZEhhbmRsZXIsIHRoaXMuZ2V0QWN0aXZlRmllbGRzLCBjb250ZXh0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBhbGwgY2hlY2tlZCBmaWVsZHMuXHJcblx0ICovXHJcblx0Z2V0QWxsQWN0aXZlRmllbGRzKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0dGhpcy5lYWNoQWN0aXZlRmllbGRzKGZpZWxkID0+IHJlc3VsdC5wdXNoKGZpZWxkKSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFsbCBjaGVja2VkIGFuZCB2aXNpYmxlIGZpZWxkcy5cclxuXHQgKi9cclxuXHRnZXRBbGxWaXNpYmxlRmllbGRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0QWxsQWN0aXZlRmllbGRzKCkuZmlsdGVyKGYgPT4gZi52aXNpYmxlKTtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gZ3JvdXAgZnVuY3Rpb25zXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBmdW5jdGlvbnMgYWxsb3dlZCB0byBmaWVsZFxyXG5cdCAqL1xyXG5cdGlzQWN0aXZlRmllbGRzQ29udGFpbnNCaW5hcnkoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRBbGxBY3RpdmVGaWVsZHMoKS5zb21lKGYgPT4gdGhpcy5pc0JpbmFyeUZpZWxkKGYpKTtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gZ3JvdXAgZnVuY3Rpb25zXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgZmllbGQgZ3JvdXBlZFxyXG5cdCAqL1xyXG5cdGlzRmllbGRHcm91cGVkKGZpZWxkKSB7XHJcblx0XHRjb25zdCBjb21wYXJlV2l0aFZhbHVlID0gdGhpcy5lbXB0eUZpZWxkR3JvdXBPcHRpb24udmFsdWU7XHJcblx0XHRpZiAoIWZpZWxkLmdyb3VwQnlGdW5jdGlvbiB8fCAhZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRyZXR1cm4gZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkgIT09IGNvbXBhcmVXaXRoVmFsdWUudG9Mb3dlckNhc2UoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlmIGZpZWxkIGdyb3VwZWQgYW5kIG5vdCAnZ3JvdXAnIGZ1bmN0aW9uIGlzIGFwcGxpZWQuXHJcblx0ICovXHJcblx0aXNGaWVsZEdyb3VwZWRXaXRoRnVuY3Rpb24oZmllbGQpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzRmllbGRHcm91cGVkKGZpZWxkKSAmJiBmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUudG9Mb3dlckNhc2UoKSAhPT0gJ2dyb3VwJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBmaWVsZCBmb3JtYXRzIChpdCBkZXBlbmRzIG9uIHNlbGVjdGVkIGdyb3VwIGZ1bmN0aW9uKVxyXG5cdCAqL1xyXG5cdHVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCwgZGVmYXVsdEZvcm1hdFN0cmluZz8pIHtcclxuXHRcdGNvbnN0IGdvdEZpZWxkRm9ybWF0cyA9IChyZXR1cm5PYmosIGRlZmF1bHRUeXBlR3JvdXAsIHJlc29sdmVGdW5jKSA9PiB7XHJcblx0XHRcdGZpZWxkLmZvcm1hdE9wdGlvbkdyb3VwcyA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmNvbnZlcnRPcHRpb25zQnlQYXRoKHJldHVybk9iaik7XHJcblx0XHRcdHZhciBmb3JtYXRUb0FwcGx5O1xyXG5cdFx0XHR2YXIgZGVmYXVsdFR5cGVHcm91cEZvcm1hdFN0cmluZyA9IHRoaXMuZ2V0RGVmYXVsdEZpZWxkRm9ybWF0KGRlZmF1bHRUeXBlR3JvdXApO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0Rm9ybWF0U3RyaW5nKSAmJiBkZWZhdWx0Rm9ybWF0U3RyaW5nKSB7XHJcblx0XHRcdFx0Zm9ybWF0VG9BcHBseSA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmllbGQuZm9ybWF0T3B0aW9uR3JvdXBzLCBkZWZhdWx0Rm9ybWF0U3RyaW5nKTtcclxuXHRcdFx0XHRpZiAoIWZvcm1hdFRvQXBwbHkpIHtcclxuXHRcdFx0XHRcdGZvcm1hdFRvQXBwbHkgPVxyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmZvcm1hdE9wdGlvbkdyb3VwcywgZGVmYXVsdFR5cGVHcm91cEZvcm1hdFN0cmluZyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZvcm1hdFRvQXBwbHkgPVxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0T3B0aW9uQnlWYWx1ZShmaWVsZC5mb3JtYXRPcHRpb25Hcm91cHMsIGRlZmF1bHRUeXBlR3JvdXBGb3JtYXRTdHJpbmcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZpZWxkLmZvcm1hdCA9IGZvcm1hdFRvQXBwbHk7XHJcblx0XHRcdHJlc29sdmVGdW5jKGZpZWxkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdC8vIGlzRmllbGRHcm91cGVkIGd1YXJhbnRlZXMgdGhhdCBmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUgd2lsbCBiZSBub24tZW1wdHkgYW5kIGRvbid0IGhhdmUgXCJOb25lXCIgdmFsdWUuXHJcblx0XHRcdGlmICh0aGlzLmlzRmllbGRHcm91cGVkKGZpZWxkKSAmJiBbJ21pbicsICdtYXgnLCAnc3VtJywgJ3N1bV9kaXN0aW5jdCcsICdncm91cCddLmluZGV4T2YoZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkpIDwgMCkge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0RmllbGRGb3JtYXRzKGZpZWxkLCBmaWVsZC5ncm91cEJ5RnVuY3Rpb24uZGF0YVR5cGVHcm91cCkudGhlbihyZXR1cm5PYmogPT4ge1xyXG5cdFx0XHRcdFx0Z290RmllbGRGb3JtYXRzKHJldHVybk9iaiwgZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLmRhdGFUeXBlR3JvdXAsIHJlc29sdmUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0RmllbGRGb3JtYXRzKGZpZWxkKS50aGVuKHJldHVybk9iaiA9PiB7XHJcblx0XHRcdFx0XHRnb3RGaWVsZEZvcm1hdHMocmV0dXJuT2JqLCBmaWVsZC50eXBlR3JvdXAsIHJlc29sdmUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBncm91cCBieSBnaXZlbiB2YWx1ZVxyXG5cdCAqL1xyXG5cdGdldEdyb3VwQnlWYWx1ZShmaWVsZCwgdmFsdWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRPcHRpb25CeVZhbHVlKGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsIHZhbHVlLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBTdWJ0b3RhbCBncm91cCBieSBnaXZlbiB2YWx1ZVxyXG5cdCAqL1xyXG5cdGdldEdyb3VwQnlTdWJ0b3RhbFZhbHVlKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb25PcHRpb25zLCB2YWx1ZSwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBjaGVja2VkIGZpZWxkcyBoYXMgZnVuY3Rpb25cclxuXHQgKi9cclxuXHRpc1JlcG9ydFVzZUdyb3VwKCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlVGFibGVzID0gdGhpcy5nZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdGlmIChhY3RpdmVUYWJsZXMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0bGV0IHJlc3VsdDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0dGhpcy5lYWNoQWN0aXZlRmllbGRzKGZpZWxkID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuaXNGaWVsZEdyb3VwZWQoZmllbGQpKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHRydWU7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXNldCBhbGwgZ3JvdXBzIHdoaWNoIHdhcyBncm91cGVkIGF1dG9tYXRpY2FsbHkuXHJcblx0ICovXHJcblx0cmVzZXRBdXRvR3JvdXBzKCkge1xyXG5cdFx0Ly8gY2hlY2sgZ3JvdXAgZnVuY3Rpb246XHJcblx0XHR0aGlzLmVhY2hBY3RpdmVGaWVsZHMoZmllbGQgPT4ge1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNCaW5hcnlGaWVsZChmaWVsZCkpIHtcclxuXHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb24gPSB0aGlzLmdldEdyb3VwQnlWYWx1ZShmaWVsZCwgJ05PTkUnKTtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqIFxyXG5cdCAqIENoZWNrIGlmIHJlcG9ydCBoYXMgZ3JvdXAgYW5kIGFwcGx5IGdyb3VwIGJ5IGZvciBvdGhlciBjb2x1bW5zLlxyXG5cdCAqL1xyXG5cdGFwcGx5QXV0b0dyb3Vwcyhmb3JjZT8pIHtcclxuXHRcdGlmICghZm9yY2UpIHtcclxuXHRcdFx0Y29uc3QgaGFzR3JvdXAgPSB0aGlzLmlzUmVwb3J0VXNlR3JvdXAoKTtcclxuXHRcdFx0aWYgKCFoYXNHcm91cClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHQvLyBjaGVjayBncm91cCBmdW5jdGlvbjpcclxuXHRcdHRoaXMuZWFjaEFjdGl2ZUZpZWxkcyhmaWVsZCA9PiB7XHJcblx0XHRcdGlmICh0aGlzLmlzQmluYXJ5RmllbGQoZmllbGQpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKCF0aGlzLmlzRmllbGRHcm91cGVkKGZpZWxkKSkge1xyXG5cdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9IHRoaXMuZ2V0R3JvdXBCeVZhbHVlKGZpZWxkLCAnR1JPVVAnKTtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHBvc3NpYmxlIHZpc3VhbCBncm91cCBzdHlsZXMgZnJvbSBzZXJ2ZXJcclxuXHQgKi9cclxuXHRpbml0aWFsaXplVmdTdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRWZ1N0eWxlcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHR0aGlzLnZnU3R5bGVzID0gcmVzdWx0WzBdLm9wdGlvbnM7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHZpc3VhbCBncm91cCBzdHlsZXNcclxuXHQgKi9cclxuXHRnZXRWZ1N0eWxlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLnZnU3R5bGVzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZSBwb3NzaWJsZSBleHByZXNzaW9uIHR5cGVzLlxyXG5cdCAqL1xyXG5cdGluaXRpYWxpemVFeHByZXNzaW9uVHlwZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRFeHByZXNzaW9uVHlwZXMoKS50aGVuKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0dGhpcy5leHByZXNzaW9uVHlwZXMgPSBbXTtcclxuXHRcdFx0XHRjb25zdCBvcHRpb25zID0gcmVzdWx0WzBdLm9wdGlvbnM7XHJcblx0XHRcdFx0aWYgKG9wdGlvbnMpXHJcblx0XHRcdFx0XHR0aGlzLmV4cHJlc3Npb25UeXBlcyA9IHRoaXMuZXhwcmVzc2lvblR5cGVzLmNvbmNhdChvcHRpb25zLmZpbHRlcihvID0+IG8udmFsdWUgIT09ICcnKSk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYWxpemUgcG9zc2libGUgZHJpbGxkb3duIHN0eWxlcyBmcm9tIHNlcnZlclxyXG5cdCAqL1xyXG5cdGluaXRpYWxpemVEcmlsbERvd25TdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXREcmlsbERvd25TdHlsZXMoKS50aGVuKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0dGhpcy5kcmlsbERvd25TdHlsZXMgPSBbXTtcclxuXHRcdFx0XHRjb25zdCBvcHRpb25zID0gcmVzdWx0WzBdLm9wdGlvbnM7XHJcblx0XHRcdFx0aWYgKG9wdGlvbnMpXHJcblx0XHRcdFx0XHRvcHRpb25zLmZvckVhY2gobyA9PiB7XHJcblx0XHRcdFx0XHRcdG8uZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kcmlsbERvd25TdHlsZXMucHVzaChvKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc2FibGUgRW1iZWRkZWREZXRhaWwgZHJpbGxkb3duIHN0eWxlIGZvciBjdXJyZW50IHJlcG9ydCBhbmQgKEFVVE8pXHJcblx0ICovXHJcblx0ZGlzYWJsZUVtYmVkZGVkRHJpbGxEb3duU3R5bGUoZmllbGQpIHtcclxuXHRcdHRoaXMuZHJpbGxEb3duU3R5bGVzLmZvckVhY2goZGRTdHlsZSA9PiB7XHJcblx0XHRcdGRkU3R5bGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0dmFyIHJlcG9ydEluZm8gPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLmdldFJlcG9ydEluZm8oKTtcclxuXHRcdFx0aWYgKGRkU3R5bGUudmFsdWUgPT09ICdFbWJlZGRlZERldGFpbCcpIHtcclxuXHRcdFx0XHRkZFN0eWxlLmRpc2FibGVkID0gZmllbGQuc3VicmVwb3J0ID09PSAnKEFVVE8pJyB8fCBmaWVsZC5zdWJyZXBvcnQgPT09IHJlcG9ydEluZm8uZnVsbE5hbWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRyaWxsZG93biBzdHlsZXNcclxuXHQgKi9cclxuXHRnZXREcmlsbERvd25TdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5kcmlsbERvd25TdHlsZXM7XHJcblx0fVxyXG5cclxuXHRnZXRFeHByZXNzaW9uVHlwZXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5leHByZXNzaW9uVHlwZXM7XHJcblx0fVxyXG5cclxuXHRpbml0aWFsaXplU3VicmVwb3J0cygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldFN1YnJlcG9ydHMoKS50aGVuKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0dGhpcy5zdWJyZXBvcnRzID0gcmVzdWx0WzBdLm9wdGlvbnM7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0U3VicmVwb3J0cygpIHtcclxuXHRcdHJldHVybiB0aGlzLnN1YnJlcG9ydHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIEluaXRpYWxpemUgY2hhcnRzXHJcblx0Ki9cclxuXHRpbml0aWFsaXplQ2hhcnRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpO1xyXG5cdFx0XHRpZiAoIXNldHRpbmdzLnNob3dDaGFydFRhYiB8fCAhc2V0dGluZ3MudmlzaW9uQWxsb3dlZCkge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlLmxvYWRWaXN1YWxpemF0aW9ucygpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyB2YWxpZGF0aW9uIGZ1bmN0aW9uc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBhbGwgdmFsaWRhdGlvbiBtZXNzYWdlc1xyXG5cdCAqL1xyXG5cdGNsZWFyVmFsaWRhdGlvbigpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KHRoaXMuZ2V0RGF0YVNvdXJjZXMoKSkpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMuZ2V0RGF0YVNvdXJjZXMoKS5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcclxuXHRcdFx0Y2F0ZWdvcnkudGFibGVzLmZvckVhY2godGFibGUgPT4ge1xyXG5cdFx0XHRcdHRhYmxlLnZhbGlkYXRlTWVzc2FnZXMgPSBbXTtcclxuXHRcdFx0XHR0YWJsZS52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IG51bGw7XHJcblx0XHRcdFx0dGFibGUuZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0ZmllbGQudmFsaWRhdGVNZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdFx0ZmllbGQudmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSBudWxsO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgcmVwb3J0IGFuZCBzZXQgdmFsaWRhdGUgbWVzc2FnZXMgdG8gdGFibGVzIGFuZCBmaWVsZHNcclxuXHQgKi9cclxuXHR2YWxpZGF0ZVJlcG9ydCgpIHtcclxuXHRcdHRoaXMuY2xlYXJWYWxpZGF0aW9uKCk7XHJcblx0XHR2YXIgdmFsaWRhdGlvbkZhaWxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0Y29uc3QgYWN0aXZlVGFibGVzID0gdGhpcy5nZXRBY3RpdmVUYWJsZXMoKTtcclxuXHRcdGlmIChhY3RpdmVUYWJsZXMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR2YXIgaGFzR3JvdXAgPSB0aGlzLmlzUmVwb3J0VXNlR3JvdXAoKTtcclxuXHJcblx0XHR0aGlzLmVhY2hBY3RpdmVGaWVsZHMoZmllbGQgPT4ge1xyXG5cdFx0XHRpZiAoaGFzR3JvdXAgJiYgdGhpcy5pc0JpbmFyeUZpZWxkKGZpZWxkKSkge1xyXG5cdFx0XHRcdC8vIGlmIGZpZWxkIGhhdmUgc3FsIHR5cGUgd2hpY2ggY2FuJ3QgYmUgZ3JvdXBlZFxyXG5cdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHRtZXNzYWdlVHlwZTogJ2RhbmdlcicsXHJcblx0XHRcdFx0XHRtZXNzYWdlOiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKFxyXG5cdFx0XHRcdFx0XHQnanNfQ2FudFVzZVdpdGhHcm91cCcsXHJcblx0XHRcdFx0XHRcdCdDYW5cXCd0IHVzZSBmaWVsZHMgd2l0aCBzcWwgdHlwZSBcInswfVwiIHdpdGggR1JPVVAgQlkgc3RhdGVtZW50JyxcclxuXHRcdFx0XHRcdFx0W2ZpZWxkLnNxbFR5cGVdKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZUxldmVsID0gJ2Rhbmdlcic7XHJcblx0XHRcdFx0dmFsaWRhdGlvbkZhaWxlZCA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoaGFzR3JvdXAgJiYgIXRoaXMuaXNGaWVsZEdyb3VwZWQoZmllbGQpKSB7XHJcblx0XHRcdFx0Ly8gaWYgZmllbGQgaGF2ZSBubyBncm91cCBmdW5jdGlvblxyXG5cdFx0XHRcdGZpZWxkLnZhbGlkYXRlTWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHRtZXNzYWdlVHlwZTogJ2RhbmdlcicsXHJcblx0XHRcdFx0XHRtZXNzYWdlOiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX011c3RCZUZ1bmN0aW9uJywgJ0lmIGZ1bmN0aW9ucyBhcmUgdXNlZCwgZWFjaCBzZWxlY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLicpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZmllbGQudmFsaWRhdGVNZXNzYWdlTGV2ZWwgPSAnZGFuZ2VyJztcclxuXHRcdFx0XHR2YWxpZGF0aW9uRmFpbGVkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gdmFsaWRhdGlvbkZhaWxlZDtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gY29tbW9uIFVJIGZ1bmN0aW9uc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdGhpZGVBbGxQYW5lbHMoKSB7XHJcblx0XHR0aGlzLnVpUGFuZWxzU3RhdGUuZmlsdGVyc1BhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRnZXRGaWx0ZXJzUGFuZWxPcGVuZWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy51aVBhbmVsc1N0YXRlLmZpbHRlcnNQYW5lbE9wZW5lZDtcclxuXHR9XHJcblxyXG5cdHNldEZpbHRlcnNQYW5lbE9wZW5lZCh2YWx1ZSkge1xyXG5cdFx0dGhpcy5oaWRlQWxsUGFuZWxzKCk7XHJcblx0XHR0aGlzLnVpUGFuZWxzU3RhdGUuZmlsdGVyc1BhbmVsT3BlbmVkID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGRhdGFzb3VyY2VzIGZ1bmN0aW9uc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsZ29yaXRobSB3aGljaCBmaW5kIG5vZGVzIHdoaWNoIGNhbid0IGJlIGRlYWN0aXZhdGVkXHJcblx0ICovXHJcblx0ZmluZEJyaWRnZXNGb3JHcmFwaChub2RlcywgbGlua3MpIHtcclxuXHRcdGNvbnN0IG4gPSBub2Rlcy5sZW5ndGg7XHJcblx0XHRjb25zdCB1c2VkID0gbmV3IEFycmF5KG4pO1xyXG5cdFx0Y29uc3QgdGluID0gbmV3IEFycmF5KG4pO1xyXG5cdFx0Y29uc3QgZnVwID0gbmV3IEFycmF5KG4pO1xyXG5cdFx0bGV0IHRpbWVyOiBudW1iZXIgPSAwO1xyXG5cdFx0Y29uc3QgYnJpZGdlTm9kZXMgPSBbXTtcclxuXHJcblx0XHRjb25zdCBnZXRMaW5rc0Zvck5vZGUgPSBub2RlID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gW107XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRjb25zdCBsaW5rID0gbGlua3NbaV07XHJcblx0XHRcdFx0Y29uc3QgbGluazEgPSBsaW5rWzBdO1xyXG5cdFx0XHRcdGNvbnN0IGxpbmsyID0gbGlua1sxXTtcclxuXHRcdFx0XHRpZiAobGluazEgPT09IGxpbmsyKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0aWYgKGxpbmsxID09PSBub2RlICYmIHJlc3VsdC5pbmRleE9mKGxpbmsyKSA8IDApXHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChsaW5rMik7XHJcblx0XHRcdFx0aWYgKGxpbmsyID09PSBub2RlICYmIHJlc3VsdC5pbmRleE9mKGxpbmsxKSA8IDApXHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChsaW5rMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZGZzID0gKHYsIHA/KSA9PiB7XHJcblx0XHRcdHVzZWRbdl0gPSB0cnVlO1xyXG5cdFx0XHR0aW5bdl0gPSBmdXBbdl0gPSB0aW1lcisrO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50TGlua3MgPSBnZXRMaW5rc0Zvck5vZGUobm9kZXNbdl0pO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRMaW5rcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IHRvID0gY3VycmVudExpbmtzW2ldO1xyXG5cdFx0XHRcdGlmICh0byA9PT0gcCkgY29udGludWU7XHJcblx0XHRcdFx0aWYgKHVzZWRbdG9dKVxyXG5cdFx0XHRcdFx0ZnVwW3ZdID0gTWF0aC5taW4oZnVwW3ZdLCB0aW5bdG9dKTtcclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGRmcyh0bywgdik7XHJcblx0XHRcdFx0XHRmdXBbdl0gPSBNYXRoLm1pbihmdXBbdl0sIGZ1cFt0b10pO1xyXG5cdFx0XHRcdFx0aWYgKGZ1cFt0b10gPiB0aW5bdl0pIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaXNUb05vZGVFZGdlID0gZ2V0TGlua3NGb3JOb2RlKHRvKS5sZW5ndGggPCAyO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpc1ZOb2RlRWRnZSA9IGN1cnJlbnRMaW5rcy5sZW5ndGggPCAyO1xyXG5cdFx0XHRcdFx0XHRpZiAoIWlzVG9Ob2RlRWRnZSAmJiBicmlkZ2VOb2Rlcy5pbmRleE9mKHRvKSA8IDApIHtcclxuXHRcdFx0XHRcdFx0XHRicmlkZ2VOb2Rlcy5wdXNoKHRvKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIWlzVk5vZGVFZGdlICYmIGJyaWRnZU5vZGVzLmluZGV4T2YodikgPCAwKSB7XHJcblx0XHRcdFx0XHRcdFx0YnJpZGdlTm9kZXMucHVzaCh2KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBmaW5kQnJpZGdlcyA9ICgpID0+IHtcclxuXHRcdFx0dGltZXIgPSAwO1xyXG5cdFx0XHRmb3IgKGxldCBpaSA9IDA7IGlpIDwgbjsgaWkrKykge1xyXG5cdFx0XHRcdHVzZWRbaWldID0gZmFsc2U7XHJcblx0XHRcdFx0dGluW2lpXSA9IG51bGw7XHJcblx0XHRcdFx0ZnVwW2lpXSA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspXHJcblx0XHRcdFx0aWYgKCF1c2VkW2ldKVxyXG5cdFx0XHRcdFx0ZGZzKGkpO1xyXG5cdFx0fVxyXG5cdFx0ZmluZEJyaWRnZXMoKTtcclxuXHJcblx0XHRyZXR1cm4gYnJpZGdlTm9kZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb25zdHJhaW50cyBjaGVjayBhbmQgdXBkYXRlIHRhYmxlcyBhdmFpbGFiaWxpdHkuXHJcblx0ICovXHJcblx0dXBkYXRlVGFibGVzQXZhaWxhYmlsaXR5KCkge1xyXG5cdFx0Ly8gY3JlYXRlIHRhYmxlcyB3aGljaCBhdmFpbGFibGUgYnkgZm9yZWlnbiBrZXlzXHJcblx0XHR2YXIgY3VycmVudEFjdGl2ZVRhYmxlcyA9IHRoaXMuZ2V0QWN0aXZlVGFibGVzKCk7XHJcblx0XHR2YXIgYXBwbHlDb25zdHJhaW50cyA9IGN1cnJlbnRBY3RpdmVUYWJsZXMubGVuZ3RoICE9PSAwO1xyXG5cdFx0dmFyIGFjdGl2ZVRhYmxlTmFtZXMgPSBbXTtcclxuXHRcdHZhciBub2RlQ29uc3RyYWludHMgPSBbXTtcclxuXHRcdHZhciBub2RlcyA9IFtdO1xyXG5cclxuXHRcdGN1cnJlbnRBY3RpdmVUYWJsZXMuZm9yRWFjaCgodGFibGUsIGlUYWJsZSkgPT4ge1xyXG5cdFx0XHRub2Rlcy5wdXNoKGlUYWJsZSk7XHJcblx0XHRcdGFjdGl2ZVRhYmxlTmFtZXMucHVzaCh0YWJsZS5zeXNuYW1lKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHByb2Nlc3MgY29uc3RyYWludHMgZGF0YVxyXG5cdFx0dmFyIGZvcmVpZ25LZXlUYWJsZXMgPSBbXTtcclxuXHRcdHRoaXMuY29uc3RyYWludHMuZm9yRWFjaChjb25zdHJhaW50ID0+IHtcclxuXHRcdFx0Y29uc3QgW3BhcnQxLCBwYXJ0Ml0gPSBjb25zdHJhaW50O1xyXG5cdFx0XHRjb25zdCBwYXJ0MUluZGV4ID0gYWN0aXZlVGFibGVOYW1lcy5pbmRleE9mKHBhcnQxKTtcclxuXHRcdFx0Y29uc3QgcGFydDJJbmRleCA9IGFjdGl2ZVRhYmxlTmFtZXMuaW5kZXhPZihwYXJ0Mik7XHJcblx0XHRcdGlmIChwYXJ0MUluZGV4ID49IDAgJiYgcGFydDJJbmRleCA+PSAwICYmIHBhcnQxICE9PSBwYXJ0Mikge1xyXG5cdFx0XHRcdG5vZGVDb25zdHJhaW50cy5wdXNoKFtwYXJ0MUluZGV4LCBwYXJ0MkluZGV4XSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y3VycmVudEFjdGl2ZVRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0XHRpZiAocGFydDEgPT09IHRhYmxlLnN5c25hbWUgfHwgcGFydDIgPT09IHRhYmxlLnN5c25hbWUpIHtcclxuXHRcdFx0XHRcdGlmIChmb3JlaWduS2V5VGFibGVzLmluZGV4T2YocGFydDEpIDwgMClcclxuXHRcdFx0XHRcdFx0Zm9yZWlnbktleVRhYmxlcy5wdXNoKHBhcnQxKTtcclxuXHRcdFx0XHRcdGlmIChmb3JlaWduS2V5VGFibGVzLmluZGV4T2YocGFydDIpIDwgMClcclxuXHRcdFx0XHRcdFx0Zm9yZWlnbktleVRhYmxlcy5wdXNoKHBhcnQyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gZW5hYmxlL2Rpc2FibGUgdGFibGVzXHJcblx0XHR0aGlzLmdldERhdGFTb3VyY2VzKCkuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcblx0XHRcdGNhdGVnb3J5LmVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0Ly8gY2hlY2sgdGFibGVzXHJcblx0XHRcdGNhdGVnb3J5LnRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0XHRpZiAoIWFwcGx5Q29uc3RyYWludHMpIHtcclxuXHRcdFx0XHRcdGNhdGVnb3J5LmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGFibGUuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHR0YWJsZS5maWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcblx0XHRcdFx0XHRcdGZpZWxkLmVuYWJsZWQgPSB0YWJsZS5lbmFibGVkO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRhYmxlLmVuYWJsZWQgPSB0YWJsZS5hY3RpdmVcclxuXHRcdFx0XHRcdHx8IChmb3JlaWduS2V5VGFibGVzLmluZGV4T2YodGFibGUuc3lzbmFtZSkgPj0gMFxyXG5cdFx0XHRcdFx0XHQmJiB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlLmdldFNldHRpbmdzKCkubWF4QWxsb3dlZFRhYmxlcyA+IGN1cnJlbnRBY3RpdmVUYWJsZXMubGVuZ3RoKTtcclxuXHRcdFx0XHRjYXRlZ29yeS5lbmFibGVkIHw9IHRhYmxlLmVuYWJsZWQ7XHJcblx0XHRcdFx0dGFibGUuZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0ZmllbGQuZW5hYmxlZCA9IHRhYmxlLmVuYWJsZWQ7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gZGlzYWJsZSBicmlkZ2UgdGFibGVzICh0YWJsZXMgd2hpY2ggYXJlIGxpbmtzIGJldHdlZW4gdHdvIG90aGVyIGFjdGl2ZSB0YWJsZXMpOlxyXG5cdFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5maW5kQnJpZGdlc0ZvckdyYXBoKG5vZGVzLCBub2RlQ29uc3RyYWludHMpO1xyXG5cdFx0cmVzdWx0LmZvckVhY2goaWR4ID0+IGN1cnJlbnRBY3RpdmVUYWJsZXNbaWR4XS5lbmFibGVkID0gZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IFwic2VsZWN0ZWQgPSBmYWxzZVwiIGZvciBhbGwgZmllbGRzXHJcblx0ICovXHJcblx0dW5zZWxlY3RBbGxGaWVsZHMoKSB7XHJcblx0XHR0aGlzLmdldERhdGFTb3VyY2VzKCkuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcblx0XHRcdGNhdGVnb3J5LnRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0XHR0YWJsZS5maWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcblx0XHRcdFx0XHRmaWVsZC5zZWxlY3RlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0ZmllbGQubXVsdGlwbGVDb2x1bW5zLmZvckVhY2gobUZpZWxkID0+IG1GaWVsZC5zZWxlY3RlZCA9IGZhbHNlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGNhbGMgZmllbGQgZXhpc3RcclxuXHQgKi9cclxuXHRwcml2YXRlIGNhbGNGaWVsZEV4aXN0KGNhbGNGaWVsZElkKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYWxjRmllbGRzLnNvbWUoYyA9PiBjLnN5c25hbWUgPT09IGNhbGNGaWVsZElkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBjYWxjIGZpZWxkIHByb3BlcnRpZXNcclxuXHQgKi9cclxuXHRwcml2YXRlIHVwZGF0ZUNhbGNGaWVsZChmaWVsZCwgY2FsY0ZpZWxkKSB7XHJcblx0XHRjYWxjRmllbGQubmFtZSA9IGBbJHtmaWVsZC5kZXNjcmlwdGlvbn1dIChjYWxjKWA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgY2FsYyBmaWVsZFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3JlYXRlQ2FsY0ZpZWxkKGZpZWxkKSB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBhbmd1bGFyLmNvcHkoZmllbGQpIGFzIGFueTtcclxuXHRcdHJlc3VsdC5zeXNuYW1lID0gYGZsZElkfCR7ZmllbGQuZ3VpZH1gO1xyXG5cdFx0dGhpcy51cGRhdGVDYWxjRmllbGQoZmllbGQsIHJlc3VsdCk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3luYyBjYWxjIGZpZWxkc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3luY0NhbGNGaWVsZHNBcnJheSgpIHtcclxuXHRcdHZhciBuZXdDYWxjRmllbGRzID0gW107XHJcblx0XHQvLyByZW1vdmUgb2xkIGNhbGMgZmllbGRzXHJcblx0XHR0aGlzLmNhbGNGaWVsZHMuZm9yRWFjaChjYWxjRmllbGQgPT4ge1xyXG5cdFx0XHRsZXQgZm91bmRGaWVsZCA9IG51bGw7XHJcblx0XHRcdGNvbnN0IGZpZWxkR3VpZCA9IGNhbGNGaWVsZC5zeXNuYW1lLnN1YnN0cmluZyg2KTtcclxuXHRcdFx0dGhpcy5lYWNoQWN0aXZlRmllbGRzKGZpZWxkID0+IHtcclxuXHRcdFx0XHRpZiAoZmllbGRHdWlkID09PSBmaWVsZC5ndWlkKVxyXG5cdFx0XHRcdFx0Zm91bmRGaWVsZCA9IGZpZWxkO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29uc3QgaXNFeHByZXNzaW9uU2V0ID0gZm91bmRGaWVsZFxyXG5cdFx0XHRcdCYmIGFuZ3VsYXIuaXNTdHJpbmcoZm91bmRGaWVsZC5leHByZXNzaW9uKVxyXG5cdFx0XHRcdCYmIGZvdW5kRmllbGQuZXhwcmVzc2lvbi50cmltKCkgIT09ICcnO1xyXG5cdFx0XHRpZiAoZm91bmRGaWVsZCAmJiAodGhpcy5pc0ZpZWxkR3JvdXBlZFdpdGhGdW5jdGlvbihmb3VuZEZpZWxkKSB8fCBpc0V4cHJlc3Npb25TZXQpKSB7XHJcblx0XHRcdFx0bmV3Q2FsY0ZpZWxkcy5wdXNoKGNhbGNGaWVsZCk7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVDYWxjRmllbGQoZm91bmRGaWVsZCwgY2FsY0ZpZWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLmNhbGNGaWVsZHMgPSBuZXdDYWxjRmllbGRzO1xyXG5cclxuXHRcdC8vIGFkZCBuZXdcclxuXHRcdHRoaXMuZWFjaEFjdGl2ZUZpZWxkcyhmaWVsZCA9PiB7XHJcblx0XHRcdGNvbnN0IGlzRXhwcmVzc2lvblNldCA9IGFuZ3VsYXIuaXNTdHJpbmcoZmllbGQuZXhwcmVzc2lvbilcclxuXHRcdFx0XHQmJiBmaWVsZC5leHByZXNzaW9uLnRyaW0oKSAhPT0gJyc7XHJcblxyXG5cdFx0XHQvLyBpZiBmaWVsZCBncm91cGVkIGFuZCBpdCBpcyBub3Qgc2ltcGxlICdHUk9VUCcgb3IgaXQgaGFzIGV4cHJlc3Npb25cclxuXHRcdFx0aWYgKCF0aGlzLmNhbGNGaWVsZEV4aXN0KGBmbGRJZHwke2ZpZWxkLmd1aWR9YCkgJiYgKHRoaXMuaXNGaWVsZEdyb3VwZWRXaXRoRnVuY3Rpb24oZmllbGQpIHx8IGlzRXhwcmVzc2lvblNldCkpIHtcclxuXHRcdFx0XHRjb25zdCBjYWxjRmllbGQgPSB0aGlzLmNyZWF0ZUNhbGNGaWVsZChmaWVsZCk7XHJcblx0XHRcdFx0dGhpcy5jYWxjRmllbGRzLnB1c2goY2FsY0ZpZWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgYWN0aXZlIHRhYmxlcyBhcnJheVxyXG5cdCAqL1xyXG5cdHN5bmNBY3RpdmVUYWJsZXNBcnJheSgpIHtcclxuXHRcdHRoaXMuYWN0aXZlVGFibGVzID0gW107XHJcblx0XHR0aGlzLmFjdGl2ZUZpZWxkcyA9IFtdO1xyXG5cdFx0dGhpcy5hY3RpdmVDaGVja2VkRmllbGRzID0gW107XHJcblx0XHR0aGlzLmdldERhdGFTb3VyY2VzKCkuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcblx0XHRcdGNhdGVnb3J5LnRhYmxlcy5maWx0ZXIodCA9PiB0LmFjdGl2ZSkuZm9yRWFjaCh0YWJsZSA9PiB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVUYWJsZXMucHVzaCh0YWJsZSk7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVGaWVsZHMgPSB0aGlzLmFjdGl2ZUZpZWxkcy5jb25jYXQodGFibGUuZmllbGRzKTtcclxuXHRcdFx0XHR0aGlzLmFjdGl2ZUNoZWNrZWRGaWVsZHMgPSB0aGlzLmFjdGl2ZUNoZWNrZWRGaWVsZHMuY29uY2F0KHRhYmxlLmZpZWxkcy5maWx0ZXIoZiA9PiBmLmNoZWNrZWQpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuc3luY0NhbGNGaWVsZHNBcnJheSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIHRyZWUgc3RhdGUgYWZ0ZXIgY2hlY2tpbmcgdGFibGVcclxuXHQgKi9cclxuXHR1cGRhdGVQYXJlbnRGb2xkZXJzKHRhYmxlLCBzeW5jQ29sbGFwc2U/KSB7XHJcblx0XHRjb25zdCBwYXJlbnRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlCeUlkKHRhYmxlLnBhcmVudElkKTtcclxuXHRcdHRoaXMuc3luY0FjdGl2ZVRhYmxlc0FycmF5KCk7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIGNhdGVnb3J5IGFjdGl2ZVxyXG5cdFx0cGFyZW50Q2F0ZWdvcnkuYWN0aXZlID0gcGFyZW50Q2F0ZWdvcnkudGFibGVzLnNvbWUodCA9PiB0LmFjdGl2ZSk7XHJcblx0XHRpZiAoc3luY0NvbGxhcHNlKVxyXG5cdFx0XHRwYXJlbnRDYXRlZ29yeS5jb2xsYXBzZWQgPSAhcGFyZW50Q2F0ZWdvcnkuYWN0aXZlO1xyXG5cdFx0dGhpcy51cGRhdGVUYWJsZXNBdmFpbGFiaWxpdHkoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSB0cmVlIHN0YXRlIGFmdGVyIGNoZWNraW5nIGZpZWxkXHJcblx0ICovXHJcblx0dXBkYXRlUGFyZW50Rm9sZGVyc0FuZFRhYmxlcyhmaWVsZCwgc3luY0NvbGxhcHNlPywgcmVzdHJpY3RUYWJsZVVuY2hlY2s/KSB7XHJcblx0XHRjb25zdCB0YWJsZSA9IHRoaXMuZ2V0VGFibGVCeUlkKGZpZWxkLnBhcmVudElkKTtcclxuXHRcdGNvbnN0IGhhc0NoZWNrZWRGaWVsZHMgPSB0YWJsZS5maWVsZHMuc29tZShmID0+IGYuY2hlY2tlZCk7XHJcblxyXG5cdFx0Ly8gaWYgdGFibGUgY2hlY2tlZCBzdGF0ZSBmYWxzZSAtPiB0cnVlOlxyXG5cdFx0aWYgKGhhc0NoZWNrZWRGaWVsZHMgJiYgIXRhYmxlLmFjdGl2ZSlcclxuXHRcdFx0dGFibGUub3JkZXIgPSB0aGlzLmdldE5leHRPcmRlcigpO1xyXG5cdFx0Ly8gdXBkYXRlIHRhYmxlIGFjdGl2ZVxyXG5cdFx0dGFibGUuYWN0aXZlID0gcmVzdHJpY3RUYWJsZVVuY2hlY2sgfHwgaGFzQ2hlY2tlZEZpZWxkcyB8fCAhdGFibGUuZW5hYmxlZDtcclxuXHJcblx0XHRpZiAoc3luY0NvbGxhcHNlKVxyXG5cdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSAhaGFzQ2hlY2tlZEZpZWxkcztcclxuXHJcblx0XHQvLyB1cGRhdGUgdGFibGVcclxuXHRcdHRoaXMudXBkYXRlUGFyZW50Rm9sZGVycyh0YWJsZSwgc3luY0NvbGxhcHNlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBkcmlsbGRvd25zXHJcblx0ICovXHJcblx0dXBkYXRlRHJpbGxkb3ducygpIHtcclxuXHRcdHRoaXMucmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkcyA9IHRoaXMucmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkcy5maWx0ZXIoZHJpbGxkb3duRmllbGQgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcygpLnNvbWUoZiA9PiBkcmlsbGRvd25GaWVsZC5pZCA9PT0gZi5pZCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCogR2V0IGZpbHRlcmVkIGRhdGFzb3VyY2VzXHJcblx0Ki9cclxuXHRzZWFyY2hJbkRhdGFEb3VyY2VzKHNlYXJjaFN0cmluZywgZnJvbSwgdG8pIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoc2VhcmNoU3RyaW5nID09PSAnJykge1xyXG5cdFx0XHRcdHJlc29sdmUoW10pO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBzdGFydCBzZWFyY2hcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5maW5kSW5EYXRhc291cmNlcyhzZWFyY2hTdHJpbmcsIGZyb20sIHRvKS50aGVuKHJlc3VsdHMgPT4ge1xyXG5cdFx0XHRcdC8vIHNlYXJjaCBjb21wbGV0ZWRcclxuXHRcdFx0XHRpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aClcclxuXHRcdFx0XHRcdHJlc3VsdHMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiBpdGVtLmlkID0gZnJvbSArIGlkeCk7XHJcblx0XHRcdFx0cmVzb2x2ZShyZXN1bHRzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHJlc2V0RmllbGRPYmplY3QoZmllbGRPYmplY3QsIGRlZmF1bHRWYWx1ZXM/KSB7XHJcblx0XHRmaWVsZE9iamVjdC5pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5pc011bHRpcGxlQ29sdW1ucyA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3QubXVsdGlwbGVDb2x1bW5zID0gW107XHJcblx0XHRmaWVsZE9iamVjdC5oaWdobGlnaHQgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0ZmllbGRPYmplY3QuY2hlY2tlZCA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3Quc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LmNvbGxhcHNlZCA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3QuaXNWZ1VzZWQgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LmJyZWFrUGFnZUFmdGVyVmcgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LmRlc2NyaXB0aW9uID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaHVtYW5pemVWYXJpYWJsZU5hbWUoZmllbGRPYmplY3QubmFtZSk7XHJcblx0XHRmaWVsZE9iamVjdC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0Lm9yZGVyID0gMDtcclxuXHRcdGZpZWxkT2JqZWN0LmZvcm1hdCA9IHRoaXMuZW1wdHlGaWVsZEZvcm1hdE9wdGlvbjtcclxuXHRcdGZpZWxkT2JqZWN0LmZvcm1hdE9wdGlvbkdyb3VwcyA9IFtdO1xyXG5cdFx0ZmllbGRPYmplY3QuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcy5lbXB0eUZpZWxkR3JvdXBPcHRpb247XHJcblx0XHRmaWVsZE9iamVjdC5ncm91cEJ5RnVuY3Rpb25PcHRpb25zID0gW107XHJcblx0XHRmaWVsZE9iamVjdC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbiA9IHRoaXMuZW1wdHlTdWJ0b3RhbEZpZWxkR3JvdXBPcHRpb25zO1xyXG5cdFx0ZmllbGRPYmplY3QuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb25PcHRpb25zID0gW107XHJcblx0XHRmaWVsZE9iamVjdC5zdWJ0b3RhbEV4cHJlc3Npb24gPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LmFsbG93ZWRJbkZpbHRlcnMgPSB0cnVlO1xyXG5cdFx0ZmllbGRPYmplY3QuaXNTcFBhcmFtZXRlciA9IGZhbHNlO1xyXG5cdFx0ZmllbGRPYmplY3Quc29ydCA9IG51bGw7XHJcblx0XHRmaWVsZE9iamVjdC5pdGFsaWMgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LmNvbHVtbkdyb3VwID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5zZXBhcmF0b3IgPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LnRleHRIaWdobGlnaHQgPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LmNlbGxIaWdobGlnaHQgPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LnZhbHVlUmFuZ2UgPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LndpZHRoID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5sYWJlbEp1c3RpZmljYXRpb24gPSAnTSc7XHJcblx0XHRmaWVsZE9iamVjdC52YWx1ZUp1c3RpZmljYXRpb24gPSAnICc7XHJcblx0XHRmaWVsZE9iamVjdC52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdGZpZWxkT2JqZWN0LmdyYWRpZW50ID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5ib2xkID0gZmFsc2U7XHJcblx0XHRmaWVsZE9iamVjdC5kcmlsbERvd25TdHlsZSA9ICcnO1xyXG5cdFx0ZmllbGRPYmplY3QuY3VzdG9tVXJsID0gJyc7XHJcblx0XHRmaWVsZE9iamVjdC5zdWJyZXBvcnQgPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LmV4cHJlc3Npb24gPSAnJztcclxuXHRcdGZpZWxkT2JqZWN0LmV4cHJlc3Npb25UeXBlID0gdGhpcy5lbXB0eUV4cHJlc3Npb25UeXBlO1xyXG5cdFx0ZmllbGRPYmplY3QuZ3JvdXBCeUV4cHJlc3Npb24gPSBmYWxzZTtcclxuXHRcdGZpZWxkT2JqZWN0LnZhbGlkYXRlTWVzc2FnZXMgPSBbXTtcclxuXHRcdGZpZWxkT2JqZWN0LnZhbGlkYXRlTWVzc2FnZUxldmVsID0gbnVsbDtcclxuXHJcblx0XHRhbmd1bGFyLmV4dGVuZChmaWVsZE9iamVjdCwgZGVmYXVsdFZhbHVlcyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUZpZWxkT2JqZWN0SW5uZXIoZmllbGRQcm9wZXJ0aWVzKSB7XHJcblx0XHRjb25zdCBmaWVsZE9iamVjdCA9IHtcclxuXHRcdFx0aWQ6IHRoaXMuZ2V0TmV4dElkKCksXHJcblx0XHRcdHBhcmVudEZpZWxkSWQ6IG51bGwsXHJcblx0XHRcdHBhcmVudElkOiBudWxsLFxyXG5cdFx0XHRuYW1lOiBudWxsLFxyXG5cdFx0XHR0YWJsZVN5c25hbWU6IG51bGwsXHJcblx0XHRcdHRhYmxlTmFtZTogbnVsbCxcclxuXHRcdFx0c3lzbmFtZTogbnVsbCxcclxuXHRcdFx0dHlwZUdyb3VwOiBudWxsLFxyXG5cdFx0XHR0eXBlOiBudWxsLFxyXG5cdFx0XHRzcWxUeXBlOiBudWxsLFxyXG5cdFx0XHRhbGxvd2VkSW5GaWx0ZXJzOiBudWxsLFxyXG5cdFx0XHRpc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHk6IG51bGwsXHJcblx0XHRcdGRlc2NyaXB0aW9uOiBudWxsLFxyXG5cdFx0XHRvcmRlcjogMCxcclxuXHRcdFx0Z3VpZDogbnVsbCxcclxuXHRcdFx0c2VsZWN0ZWQ6IG51bGwsXHJcblx0XHRcdGNoZWNrZWQ6IG51bGxcclxuXHRcdH07XHJcblx0XHR0aGlzLnJlc2V0RmllbGRPYmplY3QoZmllbGRPYmplY3QsIGZpZWxkUHJvcGVydGllcyk7XHJcblx0XHRyZXR1cm4gZmllbGRPYmplY3Q7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgZmllbGQgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNyZWF0ZUZpZWxkT2JqZWN0KGZpZWxkTmFtZSwgdGFibGVJZCwgdGFibGVTeXNuYW1lLCB0YWJsZU5hbWUsIGZpZWxkU3lzbmFtZSwgZmllbGRUeXBlR3JvdXAsXHJcblx0XHRmaWVsZFR5cGUsIGZpZWxkU3FsVHlwZSwgYWxsb3dlZEluRmlsdGVycywgaXNTcFBhcmFtZXRlcikge1xyXG5cdFx0Y29uc3QgZmllbGRPYmplY3QgPSB0aGlzLmNyZWF0ZUZpZWxkT2JqZWN0SW5uZXIoe1xyXG5cdFx0XHRndWlkOiB0aGlzLmd1aWQoKSxcclxuXHRcdFx0cGFyZW50SWQ6IHRhYmxlSWQsXHJcblx0XHRcdG5hbWU6IGZpZWxkTmFtZSxcclxuXHRcdFx0dGFibGVTeXNuYW1lOiB0YWJsZVN5c25hbWUsXHJcblx0XHRcdHRhYmxlTmFtZTogdGFibGVOYW1lLFxyXG5cdFx0XHRzeXNuYW1lOiBmaWVsZFN5c25hbWUsXHJcblx0XHRcdHR5cGVHcm91cDogZmllbGRUeXBlR3JvdXAsXHJcblx0XHRcdHR5cGU6IGZpZWxkVHlwZSxcclxuXHRcdFx0c3FsVHlwZTogZmllbGRTcWxUeXBlLFxyXG5cdFx0XHRhbGxvd2VkSW5GaWx0ZXJzOiBhbGxvd2VkSW5GaWx0ZXJzLFxyXG5cdFx0XHRpc1NwUGFyYW1ldGVyOiBpc1NwUGFyYW1ldGVyXHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBmaWVsZE9iamVjdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvcHkgZmllbGQgb2JqZWN0IHN0YXRlXHJcblx0ICovXHJcblx0Y29weUZpZWxkT2JqZWN0KGZyb20sIHRvLCByZXBsYWNlTmFtZT8pIHtcclxuXHRcdHRvLmlkID0gZnJvbS5pZDtcclxuXHRcdHRvLmd1aWQgPSBmcm9tLmd1aWQ7XHJcblx0XHR0by5pc0luaXRpYWxpemVkID0gZnJvbS5pc0luaXRpYWxpemVkO1xyXG5cdFx0dG8ucGFyZW50SWQgPSBmcm9tLnBhcmVudElkO1xyXG5cdFx0dG8udGFibGVTeXNuYW1lID0gZnJvbS50YWJsZVN5c25hbWU7XHJcblx0XHRpZiAocmVwbGFjZU5hbWUpXHJcblx0XHRcdHRvLm5hbWUgPSBmcm9tLm5hbWU7XHJcblx0XHR0by5zeXNuYW1lID0gZnJvbS5zeXNuYW1lO1xyXG5cdFx0dG8udHlwZUdyb3VwID0gZnJvbS50eXBlR3JvdXA7XHJcblx0XHR0by50eXBlID0gZnJvbS50eXBlO1xyXG5cdFx0dG8uc3FsVHlwZSA9IGZyb20uc3FsVHlwZTtcclxuXHRcdHRvLmVuYWJsZWQgPSBmcm9tLmVuYWJsZWQ7XHJcblx0XHR0by5leHByZXNzaW9uID0gZnJvbS5leHByZXNzaW9uO1xyXG5cdFx0dG8uZXhwcmVzc2lvblR5cGUgPSBmcm9tLmV4cHJlc3Npb25UeXBlO1xyXG5cdFx0dG8uZ3JvdXBCeUV4cHJlc3Npb24gPSBmcm9tLmdyb3VwQnlFeHByZXNzaW9uO1xyXG5cdFx0dG8uY2hlY2tlZCA9IGZyb20uY2hlY2tlZDtcclxuXHRcdHRvLmlzVmdVc2VkID0gZnJvbS5pc1ZnVXNlZDtcclxuXHRcdHRvLmJyZWFrUGFnZUFmdGVyVmcgPSBmcm9tLmJyZWFrUGFnZUFmdGVyVmc7XHJcblx0XHR0by5kZXNjcmlwdGlvbiA9IGZyb20uZGVzY3JpcHRpb247XHJcblx0XHR0by5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSBmcm9tLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseTtcclxuXHRcdHRvLm9yZGVyID0gZnJvbS5vcmRlcjtcclxuXHRcdHRvLmZvcm1hdCA9IGZyb20uZm9ybWF0O1xyXG5cdFx0dG8uZm9ybWF0T3B0aW9uR3JvdXBzID0gZnJvbS5mb3JtYXRPcHRpb25Hcm91cHM7XHJcblx0XHR0by5ncm91cEJ5RnVuY3Rpb24gPSBmcm9tLmdyb3VwQnlGdW5jdGlvbjtcclxuXHRcdHRvLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMgPSBmcm9tLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnM7XHJcblx0XHR0by5ncm91cEJ5U3VidG90YWxGdW5jdGlvbiA9IGZyb20uZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb247XHJcblx0XHR0by5ncm91cEJ5U3VidG90YWxGdW5jdGlvbk9wdGlvbnMgPSBmcm9tLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucztcclxuXHRcdHRvLnNvcnQgPSBmcm9tLnNvcnQ7XHJcblx0XHR0by5pdGFsaWMgPSBmcm9tLml0YWxpYztcclxuXHRcdHRvLmNvbHVtbkdyb3VwID0gZnJvbS5jb2x1bW5Hcm91cDtcclxuXHRcdHRvLnNlcGFyYXRvciA9IGZyb20uc2VwYXJhdG9yO1xyXG5cdFx0dG8udGV4dEhpZ2hsaWdodCA9IGZyb20udGV4dEhpZ2hsaWdodDtcclxuXHRcdHRvLmNlbGxIaWdobGlnaHQgPSBmcm9tLmNlbGxIaWdobGlnaHQ7XHJcblx0XHR0by52YWx1ZVJhbmdlID0gZnJvbS52YWx1ZVJhbmdlO1xyXG5cdFx0dG8ud2lkdGggPSBmcm9tLndpZHRoO1xyXG5cdFx0dG8ubGFiZWxKdXN0aWZpY2F0aW9uID0gZnJvbS5sYWJlbEp1c3RpZmljYXRpb247XHJcblx0XHR0by52YWx1ZUp1c3RpZmljYXRpb24gPSBmcm9tLnZhbHVlSnVzdGlmaWNhdGlvbjtcclxuXHRcdHRvLmdyYWRpZW50ID0gZnJvbS5ncmFkaWVudDtcclxuXHRcdHRvLnZpc2libGUgPSBmcm9tLnZpc2libGU7XHJcblx0XHR0by5ib2xkID0gZnJvbS5ib2xkO1xyXG5cdFx0dG8uZHJpbGxEb3duU3R5bGUgPSBmcm9tLmRyaWxsRG93blN0eWxlO1xyXG5cdFx0dG8uY3VzdG9tVXJsID0gZnJvbS5jdXN0b21Vcmw7XHJcblx0XHR0by5zdWJyZXBvcnQgPSBmcm9tLnN1YnJlcG9ydDtcclxuXHRcdHRvLnZhbGlkYXRlTWVzc2FnZXMgPSBmcm9tLnZhbGlkYXRlTWVzc2FnZXM7XHJcblx0XHR0by52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IGZyb20udmFsaWRhdGVNZXNzYWdlTGV2ZWw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXNldCBkYXRhc291cmNlcyBzdGF0ZVxyXG5cdCAqL1xyXG5cdHJlc2V0RGF0YVNvdXJjZXMoKSB7XHJcblx0XHRjb25zdCBkYXRhc291cmNlcyA9IHRoaXMuZ2V0RGF0YVNvdXJjZXMoKTtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KGRhdGFzb3VyY2VzKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0ZGF0YXNvdXJjZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcblx0XHRcdGNhdGVnb3J5LnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRjYXRlZ29yeS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0Y2F0ZWdvcnkuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdGNhdGVnb3J5LmNvbGxhcHNlZCA9IHRydWU7XHJcblx0XHRcdC8vIGl0ZXJhdGUgdGFibGVzXHJcblx0XHRcdGNhdGVnb3J5LnRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0XHR0YWJsZS52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0XHR0YWJsZS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHR0YWJsZS5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHR0YWJsZS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHRhYmxlLnZhbGlkYXRlTWVzc2FnZXMgPSBbXTtcclxuXHRcdFx0XHR0YWJsZS52YWxpZGF0ZU1lc3NhZ2VMZXZlbCA9IG51bGw7XHJcblx0XHRcdFx0Ly8gaXRlcmF0ZSBmaWVsZHNcclxuXHRcdFx0XHR0YWJsZS5maWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnJlc2V0RmllbGRPYmplY3QoZmllbGQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVmcmVzaCBmaWVsZCBkZXNjcmlwdGlvblxyXG5cdCAqL1xyXG5cdGF1dG9VcGRhdGVGaWVsZERlc2NyaXB0aW9uKGZpZWxkKSB7XHJcblx0XHRpZiAoIWZpZWxkLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSkge1xyXG5cdFx0XHRmaWVsZC5kZXNjcmlwdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihmaWVsZCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IGZpZWxkcyB3aGljaCBnb3QgZnJvbSBzZXJ2ZXIgaW50byBmb3JtYXQgd2hpY2ggdXNlZCBpbiBhcHAgYW5kIGFkZCBpdCB0byB0YWJsZSBvYmplY3QuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gZmllbGRzLiBTZXJ2ZXIgc2lkZSBmaWVsZHMgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNvbnZlcnRBbmRBZGRGaWVsZHModGFibGVPYmplY3QsIGZpZWxkcykge1xyXG5cdFx0aWYgKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoKVxyXG5cdFx0XHRmaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuXHRcdFx0XHR2YXIgZmllbGRPYmplY3QgPSB0aGlzLmNyZWF0ZUZpZWxkT2JqZWN0KGZpZWxkLm5hbWUsIHRhYmxlT2JqZWN0LmlkLCB0YWJsZU9iamVjdC5zeXNuYW1lLCB0YWJsZU9iamVjdC5uYW1lLCBmaWVsZC5zeXNuYW1lLFxyXG5cdFx0XHRcdFx0ZmllbGQudHlwZUdyb3VwLCBmaWVsZC50eXBlLCBmaWVsZC5zcWxUeXBlLCBmaWVsZC5hbGxvd2VkSW5GaWx0ZXJzLCBmaWVsZC5pc1NwUGFyYW1ldGVyID09PSAnVHJ1ZScpO1xyXG5cdFx0XHRcdHRoaXMuYXV0b1VwZGF0ZUZpZWxkRGVzY3JpcHRpb24oZmllbGRPYmplY3QpO1xyXG5cdFx0XHRcdHRhYmxlT2JqZWN0LmZpZWxkcy5wdXNoKGZpZWxkT2JqZWN0KTtcclxuXHRcdFx0fSk7XHJcblx0XHR0YWJsZU9iamVjdC5sYXp5ID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIENvbnZlcnQgZGF0YXNvdXJjZXMgZm9yIGZ1dHVyZSB1c2UgaXQgaW4gYXBwXHJcblx0Ki9cclxuXHRjb252ZXJ0RGF0YVNvdXJjZXMoZGF0YVNvdXJjZXMpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KGRhdGFTb3VyY2VzKSlcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Ly8gaXRlcmF0ZSBjYXRlZ29yaWVzXHJcblx0XHR2YXIgdW5jYXRlZ29yaXplZCA9IG51bGw7XHJcblx0XHRkYXRhU291cmNlcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlPYmplY3QgPSB7XHJcblx0XHRcdFx0aWQ6IHRoaXMuZ2V0TmV4dElkKCksXHJcblx0XHRcdFx0bmFtZTogY2F0ZWdvcnkuRGF0YVNvdXJjZUNhdGVnb3J5LFxyXG5cdFx0XHRcdHRhYmxlczogW10sXHJcblx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcclxuXHRcdFx0XHRhY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdFx0Y29sbGFwc2VkOiB0cnVlXHJcblx0XHRcdH07XHJcblx0XHRcdC8vIGl0ZXJhdGUgdGFibGVzXHJcblx0XHRcdGNhdGVnb3J5LnRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0XHRjb25zdCB0YWJsZU9iamVjdCA9IHtcclxuXHRcdFx0XHRcdGlkOiB0aGlzLmdldE5leHRJZCgpLFxyXG5cdFx0XHRcdFx0b3JkZXI6IDAsXHJcblx0XHRcdFx0XHRwYXJlbnRJZDogY2F0ZWdvcnlPYmplY3QuaWQsXHJcblx0XHRcdFx0XHRuYW1lOiB0YWJsZS5uYW1lLFxyXG5cdFx0XHRcdFx0c3lzbmFtZTogdGFibGUuc3lzbmFtZSxcclxuXHRcdFx0XHRcdHRhYmxlVHlwZTogdGFibGUudGFibGVUeXBlLFxyXG5cdFx0XHRcdFx0ZmllbGRzOiBbXSxcclxuXHRcdFx0XHRcdHZpc2libGU6IHRydWUsXHJcblx0XHRcdFx0XHRhY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdGNvbGxhcHNlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdHZhbGlkYXRlTWVzc2FnZXM6IFtdLFxyXG5cdFx0XHRcdFx0dmFsaWRhdGVNZXNzYWdlTGV2ZWw6IG51bGwsXHJcblx0XHRcdFx0XHRsYXp5OiBudWxsXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHQvLyBhZGQgZmllbGQgaWYgbG9hZGVkXHJcblx0XHRcdFx0aWYgKHRhYmxlLmZpZWxkcyA9PT0gJ0xBWklFRCcpIHtcclxuXHRcdFx0XHRcdHRhYmxlT2JqZWN0LmxhenkgPSB0cnVlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmNvbnZlcnRBbmRBZGRGaWVsZHModGFibGVPYmplY3QsIHRhYmxlLmZpZWxkcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNhdGVnb3J5T2JqZWN0LnRhYmxlcy5wdXNoKHRhYmxlT2JqZWN0KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKGNhdGVnb3J5T2JqZWN0Lm5hbWUpXHJcblx0XHRcdFx0JiYgdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpLm1vdmVVbmNhdGVnb3JpemVkVG9MYXN0UG9zaXRpb24pIHtcclxuXHRcdFx0XHR1bmNhdGVnb3JpemVkID0gY2F0ZWdvcnlPYmplY3Q7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goY2F0ZWdvcnlPYmplY3QpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBtb3ZlIHVuY2F0ZWdvcml6ZWQgdG8gdGhlIGxhc3QgcG9zaXRpb246XHJcblx0XHRpZiAodW5jYXRlZ29yaXplZCAhPT0gbnVsbCkge1xyXG5cdFx0XHRyZXN1bHQucHVzaCh1bmNhdGVnb3JpemVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuXHRcdFx0cmVzdWx0WzBdLmNvbGxhcHNlZCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdGNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZChmaWVsZCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z3VpZDogZmllbGQuZ3VpZCxcclxuXHRcdFx0c3lzbmFtZTogZmllbGQuc3lzbmFtZSxcclxuXHRcdFx0ZGVzY3JpcHRpb246IGZpZWxkLmRlc2NyaXB0aW9uID8gZmllbGQuZGVzY3JpcHRpb24gOiB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5odW1hbml6ZVZhcmlhYmxlTmFtZShmaWVsZC5uYW1lKSxcclxuXHRcdFx0Zm9ybWF0OiBmaWVsZC5mb3JtYXQsXHJcblx0XHRcdGdyb3VwQnlGdW5jdGlvbjogZmllbGQuZ3JvdXBCeUZ1bmN0aW9uLFxyXG5cdFx0XHRncm91cEJ5U3VidG90YWxGdW5jdGlvbjogZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24sXHJcblx0XHRcdHN1YnRvdGFsRXhwcmVzc2lvbjogZmllbGQuc3VidG90YWxFeHByZXNzaW9uLFxyXG5cdFx0XHRhbGxvd2VkSW5GaWx0ZXJzOiBmaWVsZC5hbGxvd2VkSW5GaWx0ZXJzLFxyXG5cdFx0XHRzb3J0OiBmaWVsZC5zb3J0LFxyXG5cdFx0XHRvcmRlcjogZmllbGQub3JkZXIsXHJcblx0XHRcdGl0YWxpYzogZmllbGQuaXRhbGljLFxyXG5cdFx0XHRjb2x1bW5Hcm91cDogZmllbGQuY29sdW1uR3JvdXAsXHJcblx0XHRcdHNlcGFyYXRvcjogZmllbGQuc2VwYXJhdG9yLFxyXG5cdFx0XHR2YWx1ZVJhbmdlOiBmaWVsZC52YWx1ZVJhbmdlLFxyXG5cdFx0XHR0ZXh0SGlnaGxpZ2h0OiBmaWVsZC50ZXh0SGlnaGxpZ2h0LFxyXG5cdFx0XHRjZWxsSGlnaGxpZ2h0OiBmaWVsZC5jZWxsSGlnaGxpZ2h0LFxyXG5cdFx0XHR3aWR0aDogZmllbGQud2lkdGgsXHJcblx0XHRcdGxhYmVsSnVzdGlmaWNhdGlvbjogZmllbGQubGFiZWxKdXN0aWZpY2F0aW9uLFxyXG5cdFx0XHR2YWx1ZUp1c3RpZmljYXRpb246IGZpZWxkLnZhbHVlSnVzdGlmaWNhdGlvbixcclxuXHRcdFx0Z3JhZGllbnQ6IGZpZWxkLmdyYWRpZW50LFxyXG5cdFx0XHR2aXNpYmxlOiBmaWVsZC52aXNpYmxlLFxyXG5cdFx0XHRpc1ZnVXNlZDogZmllbGQuaXNWZ1VzZWQsXHJcblx0XHRcdGJyZWFrUGFnZUFmdGVyVmc6IGZpZWxkLmJyZWFrUGFnZUFmdGVyVmcsXHJcblx0XHRcdGJvbGQ6IGZpZWxkLmJvbGQsXHJcblx0XHRcdGRyaWxsRG93blN0eWxlOiBmaWVsZC5kcmlsbERvd25TdHlsZSxcclxuXHRcdFx0Y3VzdG9tVXJsOiBmaWVsZC5jdXN0b21VcmwsXHJcblx0XHRcdHN1YnJlcG9ydDogZmllbGQuc3VicmVwb3J0LFxyXG5cdFx0XHRleHByZXNzaW9uOiBmaWVsZC5leHByZXNzaW9uLFxyXG5cdFx0XHRleHByZXNzaW9uVHlwZTogZmllbGQuZXhwcmVzc2lvblR5cGUudmFsdWUsXHJcblx0XHRcdGdyb3VwQnlFeHByZXNzaW9uOiBmaWVsZC5ncm91cEJ5RXhwcmVzc2lvblxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIG9iamVjdCB3aXRoIHJlcG9ydCBkYXRhIHdoaWNoIHdpbGwgYmUgc2VuZCB0byBzZXJ2ZXIuXHJcblx0ICovXHJcblx0Y3JlYXRlUmVwb3J0U2V0Q29uZmlnRm9yU2VuZChwcmV2aWV3VG9wPykge1xyXG5cdFx0Ly8gaXRlcmF0ZSB0aHJvdWdoIGFjdGl2ZSBmaWVsZHMuXHJcblx0XHRjb25zdCBhY3RpdmVUYWJsZXMgPSB0aGlzLmdldEFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0aWYgKGFjdGl2ZVRhYmxlcy5sZW5ndGggPT09IDApXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgdGhpcy5nZXRPcHRpb25zKCkpO1xyXG5cdFx0Y29uc3QgZmlsdGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCB0aGlzLmdldEZpbHRlck9wdGlvbnMoKSk7XHJcblxyXG5cdFx0Y29uc3QgcmVwb3J0U2V0Q29uZmlnID0ge1xyXG5cdFx0XHRyZXBvcnROYW1lOiB0aGlzLnJlcG9ydFNldC5yZXBvcnROYW1lLFxyXG5cdFx0XHRyZXBvcnRDYXRlZ29yeTogdGhpcy5yZXBvcnRTZXQucmVwb3J0Q2F0ZWdvcnksXHJcblx0XHRcdGpvaW5lZFRhYmxlczogW10sXHJcblx0XHRcdGRyaWxsRG93bkZpZWxkczogW10sXHJcblx0XHRcdGZpZWxkczogW10sXHJcblx0XHRcdGZpbHRlcnM6IFtdLFxyXG5cdFx0XHRjaGFydHM6IFtdLFxyXG5cdFx0XHRvcHRpb25zOiBvcHRpb25zLFxyXG5cdFx0XHRmaWx0ZXJPcHRpb25zOiBmaWx0ZXJPcHRpb25zLFxyXG5cdFx0XHRzY2hlZHVsZTogbnVsbCxcclxuXHRcdFx0c2hhcmU6IHt9LFxyXG5cdFx0XHRwaXZvdDogbnVsbCxcclxuXHRcdFx0cmVwb3J0SWQ6IHRoaXMucmVwb3J0U2V0LnJlcG9ydElkXHJcblx0XHR9O1xyXG5cdFx0aWYgKHR5cGVvZiAocmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMucGFnZS5pdGVtc1BlclBhZ2UpICE9PSAnbnVtYmVyJykge1xyXG5cdFx0XHRyZXBvcnRTZXRDb25maWcub3B0aW9ucy5wYWdlLml0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KHJlcG9ydFNldENvbmZpZy5vcHRpb25zLnBhZ2UuaXRlbXNQZXJQYWdlKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBwcmV2aWV3IHRvcFxyXG5cdFx0Y29uc3QgcmVwb3J0VG9wID0gcGFyc2VJbnQocmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMudG9wKTtcclxuXHRcdGlmIChhbmd1bGFyLmlzTnVtYmVyKHByZXZpZXdUb3ApKSB7XHJcblx0XHRcdGlmICghaXNOYU4ocmVwb3J0VG9wKSAmJiAocmVwb3J0VG9wIDwgcHJldmlld1RvcCB8fCBwcmV2aWV3VG9wIDwgMCkpXHJcblx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMudG9wID0gcmVwb3J0VG9wO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmVwb3J0U2V0Q29uZmlnLm9wdGlvbnMudG9wID0gcHJldmlld1RvcDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBzY2hlZHVsZVxyXG5cdFx0cmVwb3J0U2V0Q29uZmlnLnNjaGVkdWxlID0gdGhpcy4kaXplbmRhU2NoZWR1bGVTZXJ2aWNlLmdldFNjaGVkdWxlQ29uZmlnRm9yU2VuZCgpO1xyXG5cclxuXHRcdC8vIHNoYXJlXHJcblx0XHRyZXBvcnRTZXRDb25maWcuc2hhcmUgPSB0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2UuZ2V0U2hhcmVDb25maWdGb3JTZW5kKCk7XHJcblxyXG5cdFx0Ly8gYWRkIGRyaWxsZG93biBmaWVsZHMuXHJcblx0XHRyZXBvcnRTZXRDb25maWcuZHJpbGxEb3duRmllbGRzID0gdGhpcy5nZXREcmlsbERvd25GaWVsZHMoKS5tYXAoZiA9PiBmLnN5c25hbWUpO1xyXG5cclxuXHRcdC8vIGFkZCBjaGFydHNcclxuXHRcdGlmICh0aGlzLnJlcG9ydFNldC5jaGFydHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHR2YXIgY2hhcnQgPSB0aGlzLnJlcG9ydFNldC5jaGFydHNbMF0gYXMgYW55O1xyXG5cdFx0XHRpZiAoY2hhcnQpIHtcclxuXHRcdFx0XHRyZXBvcnRTZXRDb25maWcuY2hhcnRzWzBdID0ge1xyXG5cdFx0XHRcdFx0bmFtZTogY2hhcnQubmFtZSxcclxuXHRcdFx0XHRcdGNhdGVnb3J5OiBjaGFydC5jYXRlZ29yeU5hbWUsXHJcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiBjaGFydC5wcm9wZXJ0aWVzID8gY2hhcnQucHJvcGVydGllcyA6IG51bGxcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcHJlcGFyZSB0YWJsZXNcclxuXHRcdGNvbnN0IGFjdGl2ZUZpZWxkc0xpc3QgPSB0aGlzLmdldEFsbEFjdGl2ZUZpZWxkcygpO1xyXG5cdFx0YWN0aXZlRmllbGRzTGlzdC5zb3J0KChmaWVsZDEsIGZpZWxkMikgPT4gZmllbGQxLm9yZGVyIC0gZmllbGQyLm9yZGVyKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlRmllbGRzTGlzdC5sZW5ndGg7IGkrKylcclxuXHRcdFx0YWN0aXZlRmllbGRzTGlzdFtpXS5vcmRlciA9IGkgKyAxO1xyXG5cclxuXHRcdC8vIGFkZCBmaWx0ZXJzIHRvIGNvbmZpZ1xyXG5cdFx0dGhpcy5nZXRGaWx0ZXJzKCkuZm9yRWFjaChmaWx0ZXIgPT4ge1xyXG5cdFx0XHRpZiAoZmlsdGVyLmZpZWxkID09PSBudWxsIHx8ICFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlci5vcGVyYXRvcikpIHtcclxuXHRcdFx0XHRmaWx0ZXIuaXNWYWxpZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRmaWx0ZXIuaXNWYWxpZCA9IHRydWU7XHJcblxyXG5cdFx0XHQvLyBwcmVwYXJlIGZpbHRlciB2YWx1ZXMgdG8gc2VuZFxyXG5cdFx0XHRsZXQgcHJlcGFyZWRWYWx1ZXMgPSBmaWx0ZXIudmFsdWVzO1xyXG5cdFx0XHQvLyBkYXRlIHN0cmluZyBjcmVhdGVkIGFjY29yZGluZyB0byBmb3JtYXQgd2hpY2ggdXNlZCBpbiBcImludGVybmFsIHN0YXRpYyBzdHJpbmcgRGF0ZUxvY1RvVXMoc3RyaW5nIGRhdGUpXCI6XHJcblx0XHRcdGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRpZiAodmFsdWVUeXBlID09PSAnc2VsZWN0X211bHRpcGxlJyB8fCB2YWx1ZVR5cGUgPT09ICdzZWxlY3RfcG9wdXAnIHx8IHZhbHVlVHlwZSA9PT0gJ3NlbGVjdF9jaGVja2JveGVzJykge1xyXG5cdFx0XHRcdHByZXBhcmVkVmFsdWVzID0gW2ZpbHRlci52YWx1ZXMuam9pbignLCcpXTtcclxuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdmaWVsZCcgJiYgZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDEgJiYgZmlsdGVyLnZhbHVlc1swXSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdHByZXBhcmVkVmFsdWVzID0gW2ZpbHRlci52YWx1ZXNbMF0uc3lzbmFtZV07XHJcblx0XHRcdH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAndHdvRGF0ZXMnKSB7XHJcblx0XHRcdFx0bGV0IG1vbWVudE9iajE6IGFueSA9IG51bGw7XHJcblx0XHRcdFx0bGV0IG1vbWVudE9iajI6IGFueSA9IG51bGw7XHJcblx0XHRcdFx0aWYgKGZpbHRlci52YWx1ZXNbMF0pXHJcblx0XHRcdFx0XHRtb21lbnRPYmoxID0gbW9tZW50KGZpbHRlci52YWx1ZXNbMF0pO1xyXG5cdFx0XHRcdGlmIChmaWx0ZXIudmFsdWVzWzFdKVxyXG5cdFx0XHRcdFx0bW9tZW50T2JqMiA9IG1vbWVudChmaWx0ZXIudmFsdWVzWzFdKTtcclxuXHRcdFx0XHRwcmVwYXJlZFZhbHVlcyA9IFtcclxuXHRcdFx0XHRcdG1vbWVudE9iajEgJiYgbW9tZW50T2JqMS5pc1ZhbGlkKCkgPyBtb21lbnRPYmoxLmZvcm1hdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoKSkgOiBudWxsLFxyXG5cdFx0XHRcdFx0bW9tZW50T2JqMiAmJiBtb21lbnRPYmoyLmlzVmFsaWQoKSA/IG1vbWVudE9iajIuZm9ybWF0KHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZygpKSA6IG51bGxcclxuXHRcdFx0XHRdO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ29uZURhdGUnKSB7XHJcblx0XHRcdFx0bGV0IG1vbWVudE9iajogYW55ID0gbnVsbDtcclxuXHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlc1swXSlcclxuXHRcdFx0XHRcdG1vbWVudE9iaiA9IG1vbWVudChmaWx0ZXIudmFsdWVzWzBdKTtcclxuXHRcdFx0XHRwcmVwYXJlZFZhbHVlcyA9IFtcclxuXHRcdFx0XHRcdG1vbWVudE9iaiAmJiBtb21lbnRPYmouaXNWYWxpZCgpID8gbW9tZW50T2JqLmZvcm1hdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoKSkgOiBudWxsXHJcblx0XHRcdFx0XTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgZmlsdGVyT2JqID0ge1xyXG5cdFx0XHRcdHJlcXVpcmVkOiBmaWx0ZXIucmVxdWlyZWQsXHJcblx0XHRcdFx0ZGVzY3JpcHRpb246IGZpbHRlci5kZXNjcmlwdGlvbixcclxuXHRcdFx0XHRwYXJhbWV0ZXI6IGZpbHRlci5wYXJhbWV0ZXIsXHJcblx0XHRcdFx0c3lzbmFtZTogZmlsdGVyLmZpZWxkLnN5c25hbWUsXHJcblx0XHRcdFx0b3BlcmF0b3JTdHJpbmc6IGZpbHRlci5vcGVyYXRvci52YWx1ZSxcclxuXHRcdFx0XHR2YWx1ZXM6IHByZXBhcmVkVmFsdWVzLFxyXG5cdFx0XHRcdHRpdGxlRm9ybWF0OiBmaWx0ZXIudGl0bGVGb3JtYXQsXHJcblx0XHRcdFx0Y3VzdG9tUG9wdXBUZW1wbGF0ZVVybDogZmlsdGVyLmN1c3RvbVBvcHVwVGVtcGxhdGVVcmxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IGlzQmxhbmsgPSBmaWx0ZXJPYmoudmFsdWVzLmV2ZXJ5KHYgPT4gdiA9PT0gJycpO1xyXG5cdFx0XHRpZiAoaXNCbGFuaylcclxuXHRcdFx0XHRmaWx0ZXJPYmoudmFsdWVzID0gW107XHJcblxyXG5cdFx0XHRyZXBvcnRTZXRDb25maWcuZmlsdGVycy5wdXNoKGZpbHRlck9iaik7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBwaXZvdFxyXG5cdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zeW5jUGl2b3RTdGF0ZSh0aGlzLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKCkpO1xyXG5cdFx0Y29uc3QgcGl2b3RDb25maWcgPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90RGF0YUZvclNlbmQoKTtcclxuXHRcdGlmICghcGl2b3RDb25maWcpXHJcblx0XHRcdHJlcG9ydFNldENvbmZpZy5waXZvdCA9IG51bGw7XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmVwb3J0U2V0Q29uZmlnLnBpdm90ID0ge1xyXG5cdFx0XHRcdG9wdGlvbnM6IHBpdm90Q29uZmlnLm9wdGlvbnNcclxuXHRcdFx0fTtcclxuXHRcdFx0cmVwb3J0U2V0Q29uZmlnLnBpdm90LnBpdm90Q29sdW1uID0gdGhpcy5jcmVhdGVGaWVsZE9iamVjdEZvclNlbmQocGl2b3RDb25maWcucGl2b3RDb2x1bW4pO1xyXG5cdFx0XHRyZXBvcnRTZXRDb25maWcucGl2b3QuY2VsbFZhbHVlcyA9IHBpdm90Q29uZmlnLmNlbGxWYWx1ZXNcclxuXHRcdFx0XHQuZmlsdGVyKGMgPT4gISFjKVxyXG5cdFx0XHRcdC5tYXAoYyA9PiB0aGlzLmNyZWF0ZUZpZWxkT2JqZWN0Rm9yU2VuZChjKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZmlsbCBqb2luZWQgdGFibGVzOlxyXG5cdFx0cmVwb3J0U2V0Q29uZmlnLmpvaW5lZFRhYmxlcyA9IGFjdGl2ZVRhYmxlcy5tYXAodCA9PiB7XHJcblx0XHRcdHJldHVybiB7IHN5c25hbWU6IHQuc3lzbmFtZSB9O1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gZmlsbCBmaWVsZHNcclxuXHRcdGFjdGl2ZVRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcclxuXHRcdFx0dmFyIGFjdGl2ZUZpZWxkcyA9IHRoaXMuZ2V0QWN0aXZlRmllbGRzKHRhYmxlKTtcclxuXHRcdFx0cmVwb3J0U2V0Q29uZmlnLmZpZWxkcy5wdXNoQWxsKGFjdGl2ZUZpZWxkcy5tYXAodGhpcy5jcmVhdGVGaWVsZE9iamVjdEZvclNlbmQpKTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gdXBkYXRlIGZpZWxkIG9yZGVyIFxyXG5cdFx0cmVwb3J0U2V0Q29uZmlnLmZpZWxkcy5zb3J0KChmMSwgZjIpID0+IHtcclxuXHRcdFx0aWYgKGYxLmlzVmdVc2VkIF4gZjIuaXNWZ1VzZWQpXHJcblx0XHRcdFx0aWYgKGYxLmlzVmdVc2VkKSByZXR1cm4gLTE7XHJcblx0XHRcdFx0ZWxzZSByZXR1cm4gMTtcclxuXHRcdFx0ZWxzZSByZXR1cm4gZjEub3JkZXIgLSBmMi5vcmRlcjtcclxuXHRcdH0pO1xyXG5cdFx0cmVwb3J0U2V0Q29uZmlnLmZpZWxkcy5mb3JFYWNoKGYgPT4gZi5vcmRlciA9IHRoaXMuZ2V0TmV4dE9yZGVyKCkpO1xyXG5cclxuXHRcdHRoaXMuJGxvZy5kZWJ1ZygncmVwb3J0U2V0Q29uZmlnOiAnLCByZXBvcnRTZXRDb25maWcpO1xyXG5cdFx0cmV0dXJuIHJlcG9ydFNldENvbmZpZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZmllbGRzIGZvciBsYXp5IHRhYmxlXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHRhYmxlIFxyXG5cdCAqL1xyXG5cdGxvYWRMYXp5RmllbGRzKHRhYmxlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKCF0YWJsZS5sYXp5KSB7XHJcblx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0RmllbGRzSW5mbyh0YWJsZS5zeXNuYW1lKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY29udmVydEFuZEFkZEZpZWxkcyh0YWJsZSwgZGF0YS5maWVsZHMpO1xyXG5cdFx0XHRcdHJlc29sdmUodHJ1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciByZXBvcnQgcHJldmlldy5cclxuXHQgKi9cclxuXHRjbGVhclJlcG9ydFByZXZpZXdIdG1sKCkge1xyXG5cdFx0dGhpcy5wcmV2aWV3SHRtbCA9ICcnO1xyXG5cdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5jYW5jZWxBbGxQcmV2aWV3UXVlcmllcygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFuZCBhcHBseSBwcmV2aWV3IGZvciBjdXJyZW50IHJlcG9ydCBzZXQgY29uZmlnLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFByZXZpZXdIdG1sKCkge1xyXG5cdFx0dGhpcy5jbGVhclJlcG9ydFByZXZpZXdIdG1sKCk7XHJcblx0XHR0aGlzLmlzUHJldmlld1NwbGFzaFZpc2libGUgPSB0cnVlO1xyXG5cdFx0dGhpcy4kcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG5cdFx0XHRjb25zdCByZXBvcnRTZXRUb1NlbmQgPSB0aGlzLmNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQob3B0aW9ucy5wcmV2aWV3VG9wKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRSZXBvcnRTZXRQcmV2aWV3UXVldWVkKHJlcG9ydFNldFRvU2VuZCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHR0aGlzLnByZXZpZXdIdG1sID0gZGF0YSBhcyBzdHJpbmc7XHJcblx0XHRcdFx0dGhpcy5pc1ByZXZpZXdTcGxhc2hWaXNpYmxlID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5nZXRPcHRpb25zKCkucm93c1JhbmdlID0gbnVsbDtcclxuXHRcdFx0XHR0aGlzLiRyb290U2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0sICgpID0+IHtcclxuXHRcdFx0XHQvLyByZWplY3RcclxuXHRcdFx0XHR0aGlzLmlzUHJldmlld1NwbGFzaFZpc2libGUgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLiRyb290U2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdG9wIHZhbHVlIGZvciBwcmV2aWV3XHJcblx0ICovXHJcblx0c2V0UHJldmlld1RvcCh2YWx1ZSkge1xyXG5cdFx0Y29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcclxuXHRcdFx0b3B0aW9ucy5wcmV2aWV3VG9wID0gLTIxNDc0ODM2NDg7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvcHRpb25zLnByZXZpZXdUb3AgPSB2YWx1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgcmVwb3J0IHNldFxyXG5cdCAqL1xyXG5cdHNhdmVSZXBvcnRTZXQobmFtZSwgY2F0ZWdvcnkpIHtcclxuXHRcdGNvbnN0IHJzID0gdGhpcy5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdGNvbnN0IG5hbWVUb1NhdmU6IHN0cmluZyA9IGFuZ3VsYXIuaXNEZWZpbmVkKG5hbWUpID8gbmFtZSA6IHJzLnJlcG9ydE5hbWU7XHJcblx0XHRjb25zdCBjYXRlZ29yeVRvU2F2ZSA9IGFuZ3VsYXIuaXNTdHJpbmcoY2F0ZWdvcnkpICYmIGNhdGVnb3J5ICE9PSAnJyA/IGNhdGVnb3J5IDogJyc7XHJcblxyXG5cdFx0cnMucmVwb3J0TmFtZSA9IG5hbWVUb1NhdmU7XHJcblx0XHRycy5yZXBvcnRDYXRlZ29yeSA9IGNhdGVnb3J5VG9TYXZlO1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChycy5yZXBvcnRDYXRlZ29yeSkpXHJcblx0XHRcdHJzLnJlcG9ydENhdGVnb3J5ID0gJyc7XHJcblxyXG5cdFx0Y29uc3QgcmVwb3J0U2V0VG9TZW5kID0gdGhpcy5jcmVhdGVSZXBvcnRTZXRDb25maWdGb3JTZW5kKCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2Uuc2F2ZVJlcG9ydFNldChyZXBvcnRTZXRUb1NlbmQpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHRjb25zdCByZXBvcnRTZXRGdWxsTmFtZSA9IHRoaXMuZ2V0UmVwb3J0U2V0RnVsbE5hbWUoKTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhyZXBvcnRTZXRGdWxsTmFtZSkpXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLnNldFJlcG9ydEZ1bGxOYW1lKHJlcG9ydFNldEZ1bGxOYW1lKTtcclxuXHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XHJcblx0XHRcdH0sIGVycm9yID0+IHtcclxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCBzZW5kIHJlcG9ydCBzZXQgdG8gc2VydmVyIGFuZCBzZXQgaXQgYXMgQ1JTXHJcblx0ICovXHJcblx0c2V0UmVwb3J0U2V0QXNDcnMoYXBwbHlQcmV2aWV3VG9wPykge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IHJlcG9ydFNldFRvU2VuZCA9IHRoaXMuY3JlYXRlUmVwb3J0U2V0Q29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0XHRpZiAoYXBwbHlQcmV2aWV3VG9wKVxyXG5cdFx0XHRcdHJlcG9ydFNldFRvU2VuZC5vcHRpb25zLmFwcGx5UHJldmlld1RvcCA9IHRydWU7XHJcblxyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLnNldFJlcG9ydEFzQ3JzKHJlcG9ydFNldFRvU2VuZCkudGhlbihyZXN1bHQgPT4ge1xyXG5cdFx0XHRcdGlmIChyZXN1bHQgPT09ICdPSycpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoW3RydWVdKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShbZmFsc2UsIHJlc3VsdF0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIHBkZiB3aXRoIGN1cnJlbnQgcmVwb3J0IGFuZCBzZW5kIGZpbGUgdG8gdXNlclxyXG5cdCAqL1xyXG5cdGV4cG9ydFJlcG9ydEFzKGV4cG9ydFR5cGUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCByZXBvcnRTZXRUb1NlbmQgPSB0aGlzLmNyZWF0ZVJlcG9ydFNldENvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0cmVwb3J0U2V0VG9TZW5kLm9wdGlvbnMuYXBwbHlQcmV2aWV3VG9wID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2VcclxuXHRcdFx0XHQuZXhwb3J0UmVwb3J0SW5OZXdXaW5kb3cocmVwb3J0U2V0VG9TZW5kLCBleHBvcnRUeXBlKVxyXG5cdFx0XHRcdC50aGVuKCgpID0+IHJlc29sdmUodHJ1ZSkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSBodG1sIGFuZCBvcGVuIHByaW50IHBhZ2UuXHJcblx0ICovXHJcblx0cHJpbnRSZXBvcnRBc0h0bWwoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3QgcmVwb3J0U2V0VG9TZW5kID0gdGhpcy5jcmVhdGVSZXBvcnRTZXRDb25maWdGb3JTZW5kKCk7XHJcblx0XHRcdHJlcG9ydFNldFRvU2VuZC5vcHRpb25zLmFwcGx5UHJldmlld1RvcCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlXHJcblx0XHRcdFx0LmV4cG9ydFJlcG9ydEluTmV3V2luZG93KHJlcG9ydFNldFRvU2VuZCwgJ3ByaW50JylcclxuXHRcdFx0XHQudGhlbigoKSA9PiByZXNvbHZlKHRydWUpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUHJpbnQgcmVwb3J0IGZ1bmN0aW9uXHJcblx0ICovXHJcblx0cHJpbnRSZXBvcnQocHJpbnRUeXBlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKHByaW50VHlwZSA9PT0gJ2h0bWwnKSB7XHJcblx0XHRcdFx0dGhpcy5wcmludFJlcG9ydEFzSHRtbCgpXHJcblx0XHRcdFx0XHQudGhlbihzdWNjZXNzID0+IHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnJ1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHByaW50VHlwZSA9PT0gJ3BkZicpIHtcclxuXHRcdFx0XHR0aGlzLmV4cG9ydFJlcG9ydEFzKCdQREYnKS50aGVuKFxyXG5cdFx0XHRcdFx0c3VjY2VzcyA9PiByZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0c3VjY2Vzczogc3VjY2VzcyxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJydcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXNvbHZlKHtcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxyXG5cdFx0XHRcdFx0bWVzc2FnZTogYFVua25vd24gcHJpbnQgdHlwZSAke3ByaW50VHlwZX1gXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT3BlbiByZXBvcnQgaW4gcmVwb3J0IGRlc2lnbmVyLlxyXG5cdCAqL1xyXG5cdG9wZW5SZXBvcnRJbkRlc2lnbmVyKCkge1xyXG5cdFx0dGhpcy5zZXRSZXBvcnRTZXRBc0NycygpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR2YXIgdXJsID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSZXBvcnREZXNpZ25lcjtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcodGhpcy5yZXBvcnRTZXQucmVwb3J0TmFtZSkgJiYgdGhpcy5yZXBvcnRTZXQucmVwb3J0TmFtZSAhPT0gJycpXHJcblx0XHRcdFx0dXJsICs9IGA/cm49JHt0aGlzLmdldFJlcG9ydFNldEZ1bGxOYW1lKCl9JnRhYj1GaWVsZHNgO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dXJsICs9ICc/dGFiPUZpZWxkcyc7XHJcblx0XHRcdHRoaXMuJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZ2V0QXBwZW5kZWRVcmwodXJsKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhwb3J0IHJlcG9ydCBmdW5jdGlvblxyXG5cdCAqL1xyXG5cdGV4cG9ydFJlcG9ydChleHBvcnRUeXBlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKGV4cG9ydFR5cGUgPT09ICdleGNlbCcpIHtcclxuXHRcdFx0XHR0aGlzLmV4cG9ydFJlcG9ydEFzKCdYTFMoTUlNRSknKVxyXG5cdFx0XHRcdFx0LnRoZW4oc3VjY2VzcyA9PiByZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0c3VjY2Vzczogc3VjY2VzcyxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJydcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0fSBlbHNlIGlmIChleHBvcnRUeXBlID09PSAnd29yZCcpIHtcclxuXHRcdFx0XHR0aGlzLmV4cG9ydFJlcG9ydEFzKCdET0MnKVxyXG5cdFx0XHRcdFx0LnRoZW4oc3VjY2VzcyA9PiByZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0c3VjY2Vzczogc3VjY2VzcyxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJydcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0fSBlbHNlIGlmIChleHBvcnRUeXBlID09PSAnY3N2Jykge1xyXG5cdFx0XHRcdGNvbnN0IGV4cG9ydE1vZGUgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0QnVsa0NzdigpID8gJ0JVTEtDU1YnIDogJ0NTVic7XHJcblx0XHRcdFx0dGhpcy5leHBvcnRSZXBvcnRBcyhleHBvcnRNb2RlKVxyXG5cdFx0XHRcdFx0LnRoZW4oc3VjY2VzcyA9PiByZXNvbHZlKHtcclxuXHRcdFx0XHRcdFx0c3VjY2Vzczogc3VjY2VzcyxcclxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJydcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0fSBlbHNlIGlmIChleHBvcnRUeXBlID09PSAneG1sJykge1xyXG5cdFx0XHRcdHRoaXMuZXhwb3J0UmVwb3J0QXMoJ1hNTCcpXHJcblx0XHRcdFx0XHQudGhlbihzdWNjZXNzID0+IHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBzdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnJ1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc29sdmUoe1xyXG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXHJcblx0XHRcdFx0XHRtZXNzYWdlOiBgVW5rbm93biBleHBvcnQgdHlwZSAke2V4cG9ydFR5cGV9YFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbmQgcmVwb3J0IGxpbmsgdmlhIGNsaWVudCBlbWFpbFxyXG5cdCAqL1xyXG5cdHNlbmRSZXBvcnRMaW5rRW1haWwoKSB7XHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCk7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVwb3J0SW5mbykgfHwgIWFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0SW5mby5mdWxsTmFtZSkgfHwgcmVwb3J0SW5mby5mdWxsTmFtZSA9PT0gJycpXHJcblx0XHRcdHRocm93ICdDYW5cXCd0IHNlbmQgZW1haWwgd2l0aG91dCByZXBvcnQgbmFtZSc7XHJcblx0XHRjb25zdCByZXBvcnRWaWV3ZXJMb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZUFsbCh0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybEluc3RhbnRSZXBvcnQsIHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUmVwb3J0Vmlld2VyKTtcclxuXHRcdGxldCByZWRpcmVjdFVybCA9IGA/c3ViamVjdD0ke2VuY29kZVVSSUNvbXBvbmVudChyZXBvcnRJbmZvLmZ1bGxOYW1lKX0mYm9keT0ke2VuY29kZVVSSUNvbXBvbmVudChyZXBvcnRWaWV3ZXJMb2NhdGlvbil9YDtcclxuXHRcdHJlZGlyZWN0VXJsID0gYG1haWx0bzoke3JlZGlyZWN0VXJsLnJlcGxhY2UoLyAvZywgJyUyMCcpfWA7XHJcblx0XHR0aGlzLiR3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWYgPSBnZXRBcHBlbmRlZFVybChyZWRpcmVjdFVybCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGluc3RhbnQgcmVwb3J0IGRhdGFzb3VyY2VzXHJcblx0ICovXHJcblx0bG9hZERhdGFTb3VyY2VzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0Q29uc3RyYWludHNJbmZvKCkudGhlbihjb25zdHJhaW50c0RhdGEgPT4ge1xyXG5cdFx0XHRcdHRoaXMuc2V0Q29uc3RyYWludHMoY29uc3RyYWludHNEYXRhKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmdldERhdGFzb3VyY2VzKCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0RGF0YVNvdXJjZXModGhpcy5jb252ZXJ0RGF0YVNvdXJjZXMoZGF0YSkpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyBjaGFydHNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBjaGFydFxyXG5cdCAqL1xyXG5cdHNlbGVjdENoYXJ0KGNoYXJ0KSB7XHJcblx0XHR0aGlzLnJlcG9ydFNldC5jaGFydHNbMF0gPSBjaGFydDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IGNoYXJ0XHJcblx0ICovXHJcblx0Z2V0U2VsZWN0ZWRDaGFydCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydFNldC5jaGFydHMubGVuZ3RoID8gdGhpcy5yZXBvcnRTZXQuY2hhcnRzWzBdIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gZmlsdGVyc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdHZhbGlkYXRlRmlsdGVyKGZpbHRlcikge1xyXG5cdFx0ZmlsdGVyLmlzVmFsaWQgPSB0cnVlO1xyXG5cdFx0ZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlcyA9IFtdO1xyXG5cdFx0ZmlsdGVyLnZhbGlkYXRpb25NZXNzYWdlU3RyaW5nID0gJyc7XHJcblxyXG5cdFx0Ly8gY2hlY2s6IGlzIGZpbHRlciByZWZlciB0byBmaWVsZCB3aGljaCBpbiBhY3RpdmUgdGFibGUuXHJcblx0XHRpZiAoZmlsdGVyLmZpZWxkICE9PSBudWxsKSB7XHJcblx0XHRcdGNvbnN0IGZpbHRlckZpZWxkID0gZmlsdGVyLmZpZWxkO1xyXG5cdFx0XHRjb25zdCBmb3VuZCA9IHRoaXMuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXModHJ1ZSkuc29tZShmID0+IGYuc3lzbmFtZSA9PT0gZmlsdGVyRmllbGQuc3lzbmFtZSk7XHJcblx0XHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0XHRmaWx0ZXIuaXNWYWxpZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGZpbHRlci52YWxpZGF0aW9uTWVzc2FnZXMucHVzaChcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmlsdGVyRmllbGRJc250SW5jbHVkZWQnLCAnRmlsdGVyIGZpZWxkIHJlZmVycyBvbiBkYXRhc291cmNlIHdoaWNoIGlzblxcJ3QgaW5jbHVkZWQgdG8gcmVwb3J0JykpO1xyXG5cdFx0XHRcdGZpbHRlci52YWxpZGF0aW9uTWVzc2FnZVN0cmluZyA9IGZpbHRlci52YWxpZGF0aW9uTWVzc2FnZXMuam9pbignLCAnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc2FibGUgZmlsdGVycyB3aGljaCBhcmUgbm90IHBhc3MgdmFsaWRhdGlvblxyXG5cdCAqL1xyXG5cdHZhbGlkYXRlRmlsdGVycygpIHtcclxuXHRcdHRoaXMucmVwb3J0U2V0LmZpbHRlcnMuZm9yRWFjaChmID0+IHRoaXMudmFsaWRhdGVGaWx0ZXIoZikpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWFyayBmaWx0ZXJzIGFzIHJlYWR5IHRvIHVzZS5cclxuXHQgKi9cclxuXHRzdGFydEZpbHRlcnMoKSB7XHJcblx0XHR0aGlzLnJlcG9ydFNldC5maWx0ZXJzLmZvckVhY2goZiA9PiBmLmlzRmlsdGVyUmVhZHkgPSB0cnVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgZmlsdGVyIG9wZXJhdG9yIGJ5IHN0cmluZyB2YWx1ZVxyXG5cdCAqL1xyXG5cdGdldEZpbHRlck9wZXJhdG9yQnlWYWx1ZShmaWx0ZXIsIHZhbHVlKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpIHx8ICF2YWx1ZSlcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRyZXR1cm4gZmlsdGVyLm9wZXJhdG9ycy5maXJzdE9yRGVmYXVsdChmID0+IGYudmFsdWUgPT09IHZhbHVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGFsbCBzdG9yZWQgcHJvY2VkdXJlIHBhcmFtZXRlcnMgYXNzaWduZWQgaW4gZmlsdGVyc1xyXG5cdCAqL1xyXG5cdGlzQWxsU3BQYXJhbWV0ZXJzQXNzaWduZWQoKSB7XHJcblx0XHRjb25zdCBzcFBhcmFtRmllbGRzID0gdGhpcy5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcygpLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5pc1NwUGFyYW1ldGVyKTtcclxuXHRcdGlmICghc3BQYXJhbUZpZWxkcy5sZW5ndGgpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdGNvbnN0IGZpbHRlcnMgPSB0aGlzLmdldEZpbHRlcnMoKTtcclxuXHRcdGxldCBmb3VuZFVuYXNzaWduZWRQYXJhbTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0c3BQYXJhbUZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuXHRcdFx0Y29uc3QgZm91bmQgPSBmaWx0ZXJzLnNvbWUoZiA9PiBmLmZpZWxkICYmIGYuZmllbGQgPT09IGZpZWxkKTtcclxuXHRcdFx0aWYgKCFmb3VuZClcclxuXHRcdFx0XHRmb3VuZFVuYXNzaWduZWRQYXJhbSA9IHRydWU7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiAhZm91bmRVbmFzc2lnbmVkUGFyYW07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZmlsdGVyIG9wZXJhdG9yIGxpc3QgZm9yIGZpZWxkXHJcblx0ICovXHJcblx0Z2V0RmllbGRGaWx0ZXJPcGVyYXRvckxpc3QoZmllbGQpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR2YXIgdGFibGVzUGFyYW0gPSB0aGlzLmdldEFjdGl2ZVRhYmxlcygpLm1hcCh0YWJsZSA9PiB0YWJsZS5zeXNuYW1lKS5qb2luKCcsJyk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0RmllbGRPcGVyYXRvckxpc3QoZmllbGQsIHRhYmxlc1BhcmFtKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0XHRkYXRhLmZvckVhY2goZCA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBncm91cE5hbWUgPSBkLm5hbWUgPyBkLm5hbWUgOiB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSByZXN1bHQuY29uY2F0KGQub3B0aW9uc1xyXG5cdFx0XHRcdFx0XHQuZmlsdGVyKG8gPT4gby52YWx1ZSAhPT0gJy4uLicpXHJcblx0XHRcdFx0XHRcdC5tYXAobyA9PiBhbmd1bGFyLmV4dGVuZCh7IGdyb3VwTmFtZTogZ3JvdXBOYW1lIH0sIG8pKSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmVzb2x2ZShyZXN1bHQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZpbHRlciBvcGVyYXRvciBhbmQgdXBkYXRlIGF2YWlsYWJsZSB2YWx1ZXNcclxuXHQgKi9cclxuXHRzZXRGaWx0ZXJPcGVyYXRvcihmaWx0ZXIsIG9wZXJhdG9yTmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWx0ZXIuZmllbGQpKSB7XHJcblx0XHRcdFx0ZmlsdGVyLm9wZXJhdG9ycyA9IFtdO1xyXG5cdFx0XHRcdGZpbHRlci5vcGVyYXRvciA9IG51bGw7XHJcblx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5nZXRGaWVsZEZpbHRlck9wZXJhdG9yTGlzdChmaWx0ZXIuZmllbGQpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHQvLyBzZWxlY3QgZmlsdGVyIG9wZXJhdG9yIHRvIGFwcGx5XHJcblx0XHRcdFx0dmFyIG9wZXJhdG9yTmFtZVRvQXBwbHkgPSBudWxsO1xyXG5cdFx0XHRcdGlmIChmaWx0ZXIub3BlcmF0b3IpXHJcblx0XHRcdFx0XHRvcGVyYXRvck5hbWVUb0FwcGx5ID0gZmlsdGVyLm9wZXJhdG9yLnZhbHVlO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKG9wZXJhdG9yTmFtZSkpXHJcblx0XHRcdFx0XHRvcGVyYXRvck5hbWVUb0FwcGx5ID0gb3BlcmF0b3JOYW1lO1xyXG5cclxuXHRcdFx0XHRmaWx0ZXIub3BlcmF0b3JzID0gcmVzdWx0O1xyXG5cdFx0XHRcdGZpbHRlci5vcGVyYXRvciA9IHRoaXMuZ2V0RmlsdGVyT3BlcmF0b3JCeVZhbHVlKGZpbHRlciwgb3BlcmF0b3JOYW1lVG9BcHBseSk7XHJcblxyXG5cdFx0XHRcdC8vIHVwZGF0ZSBmaWVsZCB2YWx1ZVxyXG5cdFx0XHRcdHZhciBvcGVyYXRvclR5cGUgPSB0aGlzLmdldEZpZWxkRmlsdGVyT3BlcmF0b3JWYWx1ZVR5cGUoZmlsdGVyLm9wZXJhdG9yKTtcclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAnZmllbGQnKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXIudmFsdWVzID0gW3RoaXMuZ2V0RmllbGRCeVN5c05hbWUoZmlsdGVyLnZhbHVlc1swXSldO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAob3BlcmF0b3JUeXBlID09PSAnb25lRGF0ZScgfHwgb3BlcmF0b3JUeXBlID09PSAndHdvRGF0ZXMnKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXIudmFsdWVzID0gZmlsdGVyLnZhbHVlcy5tYXAodiA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlZERhdGUgPSBtb21lbnQoXHJcblx0XHRcdFx0XHRcdFx0dixcclxuXHRcdFx0XHRcdFx0XHRbdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERlZmF1bHREYXRlRm9ybWF0U3RyaW5nKCksIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZygnTS9EL1lZWVknKV0sXHJcblx0XHRcdFx0XHRcdFx0dHJ1ZSk7XHJcblx0XHRcdFx0XHRcdGlmIChwYXJzZWREYXRlLmlzVmFsaWQoKSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcGFyc2VkRGF0ZS5fZDtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGZpbHRlci5vcGVyYXRvciAmJiBmaWx0ZXIub3BlcmF0b3IudmFsdWUgPT09ICdFcXVhbHNfVGV4dEFyZWEnKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXIuY3VycmVudFZhbHVlID0gZmlsdGVyLnZhbHVlcy5qb2luKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZmlsdGVyIGV4aXN0ZW50IHZhbHVlcyBsaXN0ICh5b3UgbmVlZCB0byBlbnN1cmUgdGhhdCBhbGwgb3BlcmF0b3JzIHdlcmUgYXBwbGllZCBiZWZvcmUgc3RhcnRpbmcgdXBkYXRlIGV4aXN0aW5nIHZhbHVlcylcclxuXHQgKi9cclxuXHR1cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlciwgZm9yY2VVcGRhdGU/KSB7XHJcblx0XHQvLyBwYXJzZSB1bmljb2RlIHN5bWJvbHMgdXRpbFxyXG5cdFx0Y29uc3QgcGFyc2VIdG1sVW5pY29kZUVudGl0aWVzID0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnPHRleHRhcmVhIC8+JykuaHRtbChzdHIpLnRleHQoKTtcclxuXHJcblx0XHQvLyBjb252ZXJ0IG9wdGlvbnMgd2hpY2ggd2UgaGF2ZSBnb3QgZnJvbSBzZXJ2ZXIuXHJcblx0XHRjb25zdCBjb252ZXJ0T3B0aW9uc0ZvclNlbGVjdCA9IChvcHRpb25zLCBvcGVyYXRvclR5cGUpID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkob3B0aW9ucykpXHJcblx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xyXG5cdFx0XHRcdGlmIChvcHRpb24udmFsdWUgPT09ICcuLi4nKSB7XHJcblx0XHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAnc2VsZWN0JyB8fCBvcGVyYXRvclR5cGUgPT09ICdpblRpbWVQZXJpb2QnIHx8IG9wZXJhdG9yVHlwZSA9PT0gJ3NlbGVjdF9tdWx0aXBsZScpIHtcclxuXHRcdFx0XHRcdFx0b3B0aW9uLnRleHQgPSBwYXJzZUh0bWxVbmljb2RlRW50aXRpZXMob3B0aW9uLnRleHQpO1xyXG5cdFx0XHRcdFx0XHRvcHRpb24udmFsdWUgPSBvcHRpb24udmFsdWU7XHJcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKG9wdGlvbik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG9wdGlvbi50ZXh0ID0gcGFyc2VIdG1sVW5pY29kZUVudGl0aWVzKG9wdGlvbi50ZXh0KTtcclxuXHRcdFx0XHRcdG9wdGlvbi52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKG9wdGlvbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc3luY1ZhbHVlcyA9IGZpbHRlck9iamVjdCA9PiB7XHJcblx0XHRcdGlmIChmaWx0ZXJPYmplY3QudmFsdWVzLmxlbmd0aCA9PT0gMCB8fCBmaWx0ZXJPYmplY3Qub3BlcmF0b3IudmFsdWUgPT09ICdFcXVhbHNfQXV0b2NvbXBsZXRlJylcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGZpbHRlck9iamVjdC52YWx1ZXMgPSBmaWx0ZXJPYmplY3QudmFsdWVzLmZpbHRlcihmdiA9PlxyXG5cdFx0XHRcdGZpbHRlck9iamVjdC5leGlzdGVudFZhbHVlcy5tYXAoZSA9PiBlLnZhbHVlKS5pbmNsdWRlcyhmdikpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyByZXR1cm4gcHJvbWlzZVxyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWx0ZXIpKSB7XHJcblx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpbHRlci5maWVsZCkgfHwgIWFuZ3VsYXIuaXNPYmplY3QoZmlsdGVyLm9wZXJhdG9yKSkge1xyXG5cdFx0XHRcdGZpbHRlci5leGlzdGVudFZhbHVlcyA9IFtdO1xyXG5cdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbXTtcclxuXHRcdFx0XHRmaWx0ZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGlzQ2FzY2FkaW5nRGlzYWJsZWQgPSB0aGlzLiR3aW5kb3cubnJ2Q29uZmlnICYmICF0aGlzLiR3aW5kb3cubnJ2Q29uZmlnLkNhc2NhZGVGaWx0ZXJWYWx1ZXM7XHJcblx0XHRcdGlmICghZm9yY2VVcGRhdGUgJiYgKHRoaXMucmVwb3J0U2V0LmZpbHRlck9wdGlvbnMuZmlsdGVyTG9naWMgfHwgaXNDYXNjYWRpbmdEaXNhYmxlZCkpIHtcclxuXHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBnZXQgY29uc3RyYWludCBmaWx0ZXJzXHJcblx0XHRcdGNvbnN0IGFsbEZpbHRlcnMgPSB0aGlzLmdldEZpbHRlcnMoKTtcclxuXHRcdFx0Y29uc3QgaWR4ID0gYWxsRmlsdGVycy5pbmRleE9mKGZpbHRlcik7XHJcblx0XHRcdGlmIChpZHggPCAwKVxyXG5cdFx0XHRcdHRocm93IGBGaWx0ZXIgJHtmaWx0ZXIuZmllbGQgIT09IG51bGwgPyBmaWx0ZXIuZmllbGQuc3lzbmFtZSA6ICcnfSBpc24ndCBmb3VuZCBpbiByZXBvcnQgc2V0IGZpbHRlcnMgY29sbGVjdGlvbi5gO1xyXG5cclxuXHRcdFx0Ly8gQWRkIGNvbnN0cmFpbnQgZmlsdGVycyBpZiBmaWx0ZXIgbG9naWMgd2Fzbid0IGFwcGxpZWRcclxuXHRcdFx0bGV0IGNvbnN0cmFpbnRGaWx0ZXJzID0gW107XHJcblx0XHRcdGlmICghdGhpcy5yZXBvcnRTZXQuZmlsdGVyT3B0aW9ucy5maWx0ZXJMb2dpYylcclxuXHRcdFx0XHRjb25zdHJhaW50RmlsdGVycyA9IGFsbEZpbHRlcnMuc2xpY2UoMCwgaWR4KTtcclxuXHJcblx0XHRcdC8vIGxvYWQgZXhpc3RlbnQgdmFsdWVzXHJcblx0XHRcdGNvbnN0IG9wZXJhdG9yVHlwZSA9IHRoaXMuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRpZiAoWydzZWxlY3QnLCAnRXF1YWxzX0F1dG9jb21wbGV0ZScsICdzZWxlY3RfbXVsdGlwbGUnLCAnc2VsZWN0X3BvcHVwJywgJ3NlbGVjdF9jaGVja2JveGVzJ10uaW5kZXhPZihvcGVyYXRvclR5cGUpID49IDApIHtcclxuXHRcdFx0XHR0aGlzLnNldFJlcG9ydFNldEFzQ3JzKGZhbHNlKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2VcclxuXHRcdFx0XHRcdFx0LmdldEV4aXN0ZW50VmFsdWVzTGlzdCh0aGlzLmdldEFjdGl2ZVRhYmxlcygpLCBjb25zdHJhaW50RmlsdGVycywgZmlsdGVyLCB0cnVlLCB0aGlzLnJlcG9ydFNldC5maWx0ZXJPcHRpb25zLmZpbHRlckxvZ2ljKVxyXG5cdFx0XHRcdFx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdFx0XHRmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMgPSBjb252ZXJ0T3B0aW9uc0ZvclNlbGVjdChkYXRhICYmIGRhdGEubGVuZ3RoID8gZGF0YVswXS5vcHRpb25zIDogW10sIG9wZXJhdG9yVHlwZSk7XHJcblx0XHRcdFx0XHRcdFx0c3luY1ZhbHVlcyhmaWx0ZXIpO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmlsdGVyLmV4aXN0ZW50VmFsdWVzLCAnLi4uJyk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGZpbHRlci52YWx1ZXMubGVuZ3RoID09PSAwICYmIGRlZmF1bHRWYWx1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbZGVmYXVsdFZhbHVlLnZhbHVlXTtcclxuXHRcdFx0XHRcdFx0XHRmaWx0ZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSBpZiAob3BlcmF0b3JUeXBlID09PSAnaW5UaW1lUGVyaW9kJykge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0UGVyaW9kTGlzdCgpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRmaWx0ZXIuZXhpc3RlbnRWYWx1ZXMgPSBjb252ZXJ0T3B0aW9uc0ZvclNlbGVjdChkYXRhICYmIGRhdGEubGVuZ3RoID8gZGF0YVswXS5vcHRpb25zOiBbXSwgb3BlcmF0b3JUeXBlKTtcclxuXHRcdFx0XHRcdHN5bmNWYWx1ZXMoZmlsdGVyKTtcclxuXHRcdFx0XHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmdldE9wdGlvbkJ5VmFsdWUoZmlsdGVyLmV4aXN0ZW50VmFsdWVzLCAnLi4uJyk7XHJcblx0XHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDAgJiYgZGVmYXVsdFZhbHVlKVxyXG5cdFx0XHRcdFx0XHRmaWx0ZXIudmFsdWVzID0gW2RlZmF1bHRWYWx1ZS52YWx1ZV07XHJcblx0XHRcdFx0XHRmaWx0ZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZpbHRlci5leGlzdGVudFZhbHVlcyA9IFtdO1xyXG5cdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0cmVzb2x2ZShmaWx0ZXIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmaWx0ZXIgZXhpc3RpbmcgdmFsdWVzIHdoZW4gZmlsdGVyTG9naWNcclxuXHQgKi9cclxuXHRyZWZyZXNoRmlsdGVyc0ZvckZpbHRlckxvZ2ljKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmICghdGhpcy5yZXBvcnRTZXQuZmlsdGVyT3B0aW9ucy5maWx0ZXJMb2dpYykge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgYWxsRmlsdGVycyA9IHRoaXMuZ2V0RmlsdGVycygpO1xyXG5cdFx0XHRjb25zdCBwcm9taXNlcyA9IGFsbEZpbHRlcnMubWFwKGZpbHRlciA9PiB0aGlzLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCB0cnVlKSk7XHJcblx0XHRcdHRoaXMuJHEuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlZnJlc2ggbmV4dCBmaWx0ZXIgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhmaWx0ZXIpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCBpc0Nhc2NhZGluZ0Rpc2FibGVkID0gdGhpcy4kd2luZG93Lm5ydkNvbmZpZyAmJiAhdGhpcy4kd2luZG93Lm5ydkNvbmZpZy5DYXNjYWRlRmlsdGVyVmFsdWVzO1xyXG5cdFx0XHRpZiAodGhpcy5yZXBvcnRTZXQuZmlsdGVyT3B0aW9ucy5maWx0ZXJMb2dpYyB8fCBpc0Nhc2NhZGluZ0Rpc2FibGVkKSB7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBhbGxGaWx0ZXJzID0gdGhpcy5nZXRGaWx0ZXJzKCk7XHJcblx0XHRcdC8vIFRPRE86IGNoYW5nZSB0bzogY29uc3QgZmlsdGVyc1RvUmVmcmVzaCA9IGFsbEZpbHRlcnMuZmlsdGVyKChmLCBmaSkgPT4gey4uLn0pO1xyXG5cdFx0XHRsZXQgZmlsdGVyc1RvUmVmcmVzaDtcclxuXHRcdFx0aWYgKGZpbHRlcikge1xyXG5cdFx0XHRcdGNvbnN0IGlkeCA9IGFsbEZpbHRlcnMuaW5kZXhPZihmaWx0ZXIpO1xyXG5cdFx0XHRcdGlmIChpZHggPCAwKVxyXG5cdFx0XHRcdFx0dGhyb3cgYEZpbHRlciAke2ZpbHRlci5maWVsZCAhPT0gbnVsbCA/IGZpbHRlci5maWVsZC5zeXNuYW1lICsgJyAnIDogJyd9aXNuJ3QgZm91bmQgaW4gcmVwb3J0IHNldCBmaWx0ZXJzIGNvbGxlY3Rpb24uYDtcclxuXHRcdFx0XHRmaWx0ZXJzVG9SZWZyZXNoID0gYWxsRmlsdGVycy5zbGljZShpZHggKyAxKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmaWx0ZXJzVG9SZWZyZXNoID0gYWxsRmlsdGVycy5zbGljZSgwKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2FzY2FkaW5nIGZpbHRlcnMgdXBkYXRlXHJcblx0XHRcdGlmIChmaWx0ZXJzVG9SZWZyZXNoLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCByZWZyZXNoaW5nRmlsdGVyID0gZmlsdGVyc1RvUmVmcmVzaFswXTtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMocmVmcmVzaGluZ0ZpbHRlcikudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhyZWZyZXNoaW5nRmlsdGVyKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0Ly8gd2UgZG9uJ3QgbmVlZCB0byBjYWxsIG1hcmtBbGxGaWx0ZXJzQXNSZWZyZXNoaW5nKGZhbHNlKTsgaGVyZSwgYmVjYXVzZSB0aGUgbGFzdCB0aW1lIHdoZW4gdGhhdCBmdW5jdGlvblxyXG5cdFx0XHRcdFx0XHQvLyB3aWxsIGJlIGNhbGxlZCAtIGl0IHdpbGwgZ28gdGhyb3VnaCB0aGUgXCJlbHNlXCIgY29uZGl0aW9uLlxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGZpbHRlciBvYmplY3Qgd2l0aG91dCBsb2FkaW5nIGl0cyBmb3JtYXQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBjcmVhdGVOZXdGaWx0ZXJCYXNlKGZpZWxkU3lzTmFtZSwgb3BlcmF0b3JOYW1lLCB2YWx1ZXMsIHJlcXVpcmVkLCBkZXNjcmlwdGlvbiwgcGFyYW1ldGVyLCBjdXN0b21Qb3B1cFRlbXBsYXRlVXJsKSB7XHJcblx0XHRjb25zdCBmaWx0ZXJPYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgdGhpcy4kaW5qZWN0b3IuZ2V0KCdpemVuZGFGaWx0ZXJPYmplY3REZWZhdWx0cycpKTtcclxuXHRcdC8vIHNldCBmaWVsZFxyXG5cdFx0bGV0IGZpZWxkO1xyXG5cdFx0aWYgKGZpZWxkU3lzTmFtZSAmJiBmaWVsZFN5c05hbWUuaW5kZXhPZignZmxkSWR8JykgPT09IDApIHtcclxuXHRcdFx0ZmllbGQgPSB0aGlzLmdldENhbGNGaWVsZChmaWVsZFN5c05hbWUpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdGZpZWxkID0gdGhpcy5nZXRGaWVsZEJ5U3lzTmFtZShmaWVsZFN5c05hbWUpO1xyXG5cdFx0d2hpbGUgKGZpZWxkICYmIGZpZWxkLm1jQW5jZXN0b3IpXHJcblx0XHRcdGZpZWxkID0gZmllbGQubWNBbmNlc3RvcjtcclxuXHJcblx0XHRmaWx0ZXJPYmplY3QuZmllbGQgPSBmaWVsZDtcclxuXHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZXMpKSB7XHJcblx0XHRcdGZpbHRlck9iamVjdC52YWx1ZXMgPSB2YWx1ZXM7XHJcblx0XHRcdGlmIChvcGVyYXRvck5hbWUgPT09ICdFcXVhbHNfQXV0b2NvbXBsZXRlJylcclxuXHRcdFx0XHRmaWx0ZXJPYmplY3QudmFsdWVzID0gW3ZhbHVlcy5qb2luKCcsJyldO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHJlcXVpcmVkKSlcclxuXHRcdFx0ZmlsdGVyT2JqZWN0LnJlcXVpcmVkID0gcmVxdWlyZWQ7XHJcblx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQoZGVzY3JpcHRpb24pKVxyXG5cdFx0XHRmaWx0ZXJPYmplY3QuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuXHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChwYXJhbWV0ZXIpKVxyXG5cdFx0XHRmaWx0ZXJPYmplY3QucGFyYW1ldGVyID0gcGFyYW1ldGVyO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG9wZXJhdG9yTmFtZSkpXHJcblx0XHRcdGZpbHRlck9iamVjdC5vcGVyYXRvclN0cmluZyA9IG9wZXJhdG9yTmFtZTtcclxuXHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChjdXN0b21Qb3B1cFRlbXBsYXRlVXJsKSlcclxuXHRcdFx0ZmlsdGVyT2JqZWN0LmN1c3RvbVBvcHVwVGVtcGxhdGVVcmwgPSBjdXN0b21Qb3B1cFRlbXBsYXRlVXJsO1xyXG5cdFx0cmV0dXJuIGZpbHRlck9iamVjdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgcG9zc2libGUgZm9ybWF0cyBjb2xsZWN0aW9uIGFuZCBzZXQgZm9ybWF0IGZvciBmaWx0ZXIgc3RyaW5nIGluIGRlc2NyaXB0aW9uLlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBmaWx0ZXIuIEZpbHRlciBvYmplY3QgKGZpZWxkIG11c3QgbWUgc2V0IHRvIGFwcGx5IGZvcm1hdClcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVGb3JtYXROYW1lLiBGb3JtYXQgb2JqZWN0IHZhbHVlXHJcblx0ICogQHJldHVybnMge2FuZ3VsYXIgcHJvbWlzZX0uIFByb21pc2UgcGFyYW1ldGVyOiBmaWx0ZXIgb2JqZWN0LiBcclxuXHQgKi9cclxuXHRsb2FkRmlsdGVyRm9ybWF0cyhmaWx0ZXIsIHRpdGxlRm9ybWF0TmFtZSkge1xyXG5cdFx0Ly8gbG9hZCBhbmQgc2V0IGZpbHRlciBmb3JtYXQ6XHJcblx0XHRsZXQgZmlsdGVyRm9ybWF0TmFtZVRvQXBwbHkgPSB0aGlzLmVtcHR5RmllbGRGb3JtYXRPcHRpb24udmFsdWU7XHJcblx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyh0aXRsZUZvcm1hdE5hbWUpICYmIHRpdGxlRm9ybWF0TmFtZSAhPT0gJycpXHJcblx0XHRcdGZpbHRlckZvcm1hdE5hbWVUb0FwcGx5ID0gdGl0bGVGb3JtYXROYW1lO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoZmlsdGVyLmZpZWxkKSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZS5nZXRGaWx0ZXJGb3JtYXRzKGZpbHRlcikudGhlbihyZXR1cm5PYmogPT4ge1xyXG5cdFx0XHRcdFx0ZmlsdGVyLnRpdGxlRm9ybWF0cyA9IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmNvbnZlcnRPcHRpb25zQnlQYXRoKHJldHVybk9iaik7XHJcblx0XHRcdFx0XHRmaWx0ZXIudGl0bGVGb3JtYXQgPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRPcHRpb25CeVZhbHVlKGZpbHRlci50aXRsZUZvcm1hdHMsIGZpbHRlckZvcm1hdE5hbWVUb0FwcGx5KTtcclxuXHRcdFx0XHRcdHJlc29sdmUoZmlsdGVyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXNvbHZlKGZpbHRlcik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIG5ldyBmaWx0ZXIgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXNcclxuXHQgKi9cclxuXHRjcmVhdGVOZXdGaWx0ZXIoZmllbGRTeXNOYW1lLCBvcGVyYXRvck5hbWUsIHZhbHVlcywgcmVxdWlyZWQsIGRlc2NyaXB0aW9uLCBwYXJhbWV0ZXIsIHRpdGxlRm9ybWF0TmFtZSwgY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCkge1xyXG5cdFx0Y29uc3QgZmlsdGVyT2JqZWN0ID0gdGhpcy5jcmVhdGVOZXdGaWx0ZXJCYXNlKGZpZWxkU3lzTmFtZSwgb3BlcmF0b3JOYW1lLCB2YWx1ZXMsIHJlcXVpcmVkLFxyXG5cdFx0XHRkZXNjcmlwdGlvbiwgcGFyYW1ldGVyLCBjdXN0b21Qb3B1cFRlbXBsYXRlVXJsKTtcclxuXHRcdGZpbHRlck9iamVjdC5pc0ZpbHRlclJlYWR5ID0gdHJ1ZTtcclxuXHRcdHJldHVybiB0aGlzLmxvYWRGaWx0ZXJGb3JtYXRzKGZpbHRlck9iamVjdCwgdGl0bGVGb3JtYXROYW1lKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlbGV0ZSBmaWx0ZXIgZnJvbSBjb2xsZWN0aW9uXHJcblx0ICovXHJcblx0cmVtb3ZlRmlsdGVyKGZpbHRlcikge1xyXG5cdFx0Y29uc3QgaW5kZXggPSB0aGlzLnJlcG9ydFNldC5maWx0ZXJzLmluZGV4T2YoZmlsdGVyKTtcclxuXHRcdGlmIChpbmRleCA+PSAwKSB7XHJcblx0XHRcdHRoaXMucmVwb3J0U2V0LmZpbHRlcnNbaW5kZXhdLmZpZWxkID0gbnVsbDtcclxuXHRcdFx0dGhpcy5yZXBvcnRTZXQuZmlsdGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3dhcCBmaWx0ZXJcclxuXHQgKi9cclxuXHRzd2FwRmlsdGVycyhpbmRleDAsIGluZGV4MSkge1xyXG5cdFx0Y29uc3QgZmlsdGVycyA9IHRoaXMucmVwb3J0U2V0LmZpbHRlcnM7XHJcblx0XHRjb25zdCB0ZW1wID0gZmlsdGVyc1tpbmRleDBdO1xyXG5cdFx0ZmlsdGVyc1tpbmRleDBdID0gZmlsdGVyc1tpbmRleDFdO1xyXG5cdFx0ZmlsdGVyc1tpbmRleDFdID0gdGVtcDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1vdmUgZmlsdGVyIGZyb20gcG9zaXRpb24gdG8gcG9zaXRpb25cclxuXHQgKi9cclxuXHRtb3ZlRmlsdGVyVG8oZnJvbUluZGV4LCB0b0luZGV4KSB7XHJcblx0XHR0aGlzLnJlcG9ydFNldC5maWx0ZXJzLnNwbGljZSh0b0luZGV4LCAwLCB0aGlzLnJlcG9ydFNldC5maWx0ZXJzLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGN1cnJlbnQgYWN0aXZlIHRhYmxlcyBhbmQgcmVtb3ZlIGZpbHRlcnMgd2hpY2ggY29ubmVjdGVkIHRvIG5vbi1hY3RpdmUgZmllbGRzXHJcblx0ICovXHJcblx0c3luY0ZpbHRlcnMoKSB7XHJcblx0XHRjb25zdCBhRmllbGRzID0gdGhpcy5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKTtcclxuXHRcdGNvbnN0IGZpbHRlcnMgPSB0aGlzLmdldEZpbHRlcnMoKTtcclxuXHJcblx0XHQvLyBmaW5kIGZpbHRlcnMgdG8gcmVtb3ZlXHJcblx0XHR2YXIgZmlsdGVyc1RvUmVtb3ZlID0gW107XHJcblx0XHRmaWx0ZXJzLmZvckVhY2goZmlsdGVyID0+IHtcclxuXHRcdFx0Y29uc3QgaXNGaWx0ZXJBY3RpdmUgPSBhRmllbGRzXHJcblx0XHRcdFx0LnNvbWUoYWN0aXZlRmllbGQgPT4gZmlsdGVyLmZpZWxkID09PSBudWxsIHx8IGFjdGl2ZUZpZWxkLnN5c25hbWUgPT09IGZpbHRlci5maWVsZC5zeXNuYW1lKTtcclxuXHRcdFx0aWYgKCFpc0ZpbHRlckFjdGl2ZSlcclxuXHRcdFx0XHRmaWx0ZXJzVG9SZW1vdmUucHVzaChmaWx0ZXIpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gcmVtb3ZlIGZpbHRlcnNcclxuXHRcdGZpbHRlcnNUb1JlbW92ZS5mb3JFYWNoKGYgPT4gdGhpcy5yZW1vdmVGaWx0ZXIoZikpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBjdXN0b20gdGVtcGxhdGUgZm9yIHBvcHVwIGZpbHRlci5cclxuXHQgKi9cclxuXHRnZXRQb3B1cEZpbHRlckN1c3RvbVRlbXBsYXRlKGZpbHRlcikge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gZmlsdGVyLmZpZWxkO1xyXG5cdFx0XHRpZiAoIWZpbHRlci5maWVsZCkge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgdGFibGUgPSB0aGlzLmdldFRhYmxlQnlJZChmaWVsZC5wYXJlbnRJZCk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UuZ2V0RXhpc3RlbnRQb3B1cFZhbHVlc0xpc3QoZmllbGQsIHRhYmxlKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdGlmIChkYXRhLnVzZXJwYWdlICE9IG51bGwpXHJcblx0XHRcdFx0XHRmaWx0ZXIuY3VzdG9tUG9wdXBUZW1wbGF0ZVVybCA9IGRhdGEudXNlcnBhZ2U7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0ZmlsdGVyLmN1c3RvbVBvcHVwVGVtcGxhdGVVcmwgPSBudWxsO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gZmllbGQgb3B0aW9uc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZmllbGQgZnVuY3Rpb24gYW5kIGFwcGx5IGdyb3VwIGJ5IGZ1bmN0aW9uIHRvIGZpZWxkXHJcblx0ICovXHJcblx0bG9hZEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBkZWZhdWx0R3JvdXBTdHJpbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRsZXQgZ3JvdXBUb0FwcGx5ID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0R3JvdXBTdHJpbmcpICYmIGRlZmF1bHRHcm91cFN0cmluZ1xyXG5cdFx0XHRcdD8gZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0OiAnTk9ORSc7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2VcclxuXHRcdFx0XHQuZ2V0RmllbGRGdW5jdGlvbnMoZmllbGQsIGZpZWxkLmlzUGl2b3RDb2x1bW4gPyAncGl2b3RGaWVsZCcgOiAnZmllbGQnKVxyXG5cdFx0XHRcdC50aGVuKHJldHVybk9iaiA9PiB7XHJcblx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb25PcHRpb25zID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuY29udmVydE9wdGlvbnNCeVBhdGgocmV0dXJuT2JqKTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBpc1NpbXBsZUdyb3VwRnVuY3Rpb24gPSBmaWVsZC5ncm91cEJ5RnVuY3Rpb25PcHRpb25zLmxlbmd0aCA9PT0gMlxyXG5cdFx0XHRcdFx0XHQmJiBmaWVsZC5ncm91cEJ5RnVuY3Rpb25PcHRpb25zWzBdLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdub25lJ1xyXG5cdFx0XHRcdFx0XHQmJiBmaWVsZC5ncm91cEJ5RnVuY3Rpb25PcHRpb25zWzFdLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdncm91cCc7XHJcblx0XHRcdFx0XHRpZiAoaXNTaW1wbGVHcm91cEZ1bmN0aW9uICYmIGdyb3VwVG9BcHBseS50b0xvd2VyQ2FzZSgpID09PSAnbm9uZScpXHJcblx0XHRcdFx0XHRcdGdyb3VwVG9BcHBseSA9ICdHUk9VUCc7XHJcblxyXG5cdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcy5nZXRHcm91cEJ5VmFsdWUoZmllbGQsIGdyb3VwVG9BcHBseSk7XHJcblx0XHRcdFx0XHQvLyBpZiBncm91cCBsaXN0IHdhcyBjaGFuZ2VkIGFuZCBjdXJyZW50IGdyb3VwIGZ1bmN0aW9uIG5vdCBpbiBsaXN0XHJcblx0XHRcdFx0XHRpZiAoZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID09PSBudWxsKVxyXG5cdFx0XHRcdFx0XHRmaWVsZC5ncm91cEJ5RnVuY3Rpb24gPSB0aGlzLmdldEdyb3VwQnlWYWx1ZShmaWVsZCwgJ05PTkUnKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoZmllbGQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIFN1YnRvdGFsIGZpZWxkIGZ1bmN0aW9uIGFuZCBhcHBseSBTdWJ0b3RhbCBncm91cCBieSBmdW5jdGlvbiB0byBmaWVsZFxyXG5cdCAqL1xyXG5cdGxvYWRTdWJ0b3RhbEZpZWxkRnVuY3Rpb25zKGZpZWxkLCBkZWZhdWx0R3JvdXBTdHJpbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCBncm91cFRvQXBwbHkgPSBhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRHcm91cFN0cmluZykgJiYgZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0PyBkZWZhdWx0R3JvdXBTdHJpbmdcclxuXHRcdFx0XHQ6ICdERUZBVUxUJztcclxuXHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZVxyXG5cdFx0XHRcdC5nZXRGaWVsZEZ1bmN0aW9ucyhmaWVsZCwgJ3N1YnRvdGFsJylcclxuXHRcdFx0XHQudGhlbihyZXR1cm5PYmogPT4ge1xyXG5cdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb25PcHRpb25zID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuY29udmVydE9wdGlvbnNCeVBhdGgocmV0dXJuT2JqKTtcclxuXHRcdFx0XHRcdGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uID0gdGhpcy5nZXRHcm91cEJ5U3VidG90YWxWYWx1ZShmaWVsZCwgZ3JvdXBUb0FwcGx5KTtcclxuXHRcdFx0XHRcdC8vIGlmIGdyb3VwIGxpc3Qgd2FzIGNoYW5nZWQgYW5kIGN1cnJlbnQgZ3JvdXAgZnVuY3Rpb24gbm90IGluIGxpc3RcclxuXHRcdFx0XHRcdGlmIChmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbiA9PT0gbnVsbClcclxuXHRcdFx0XHRcdFx0ZmllbGQuZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcy5nZXRHcm91cEJ5U3VidG90YWxWYWx1ZShmaWVsZCwgJ0RFRkFVTFQnKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoZmllbGQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGdyb3VwIGZ1bmN0aW9ucyB0byBmaWVsZFxyXG5cdCAqL1xyXG5cdGxvYWRHcm91cEZ1bmN0aW9uc0FuZEZvcm1hdHNUb0ZpZWxkKGZpZWxkLCBkZWZhdWx0R3JvdXBTdHJpbmc/LCBkZWZhdWx0Rm9ybWF0U3RyaW5nPywgZGVmYXVsdFN1YnRvdGFsR3JvdXBTdHJpbmc/KSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3QgZ3JvdXBUb0FwcGx5ID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0R3JvdXBTdHJpbmcpICYmIGRlZmF1bHRHcm91cFN0cmluZ1xyXG5cdFx0XHRcdD8gZGVmYXVsdEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0OiAnTk9ORSc7XHJcblx0XHRcdGNvbnN0IGdyb3VwU3VidG90YWxUb0FwcGx5ID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0U3VidG90YWxHcm91cFN0cmluZykgJiYgZGVmYXVsdFN1YnRvdGFsR3JvdXBTdHJpbmdcclxuXHRcdFx0XHQ/IGRlZmF1bHRTdWJ0b3RhbEdyb3VwU3RyaW5nXHJcblx0XHRcdFx0OiAnREVGQVVMVCc7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5pc0JpbmFyeUZpZWxkKGZpZWxkKSkge1xyXG5cdFx0XHRcdC8vIGlmIGZpZWxkIHR5cGUgZG9lc24ndCBzdXBwb3J0IGdyb3VwIGJ5LlxyXG5cdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMgPSBbdGhpcy5lbXB0eUZpZWxkR3JvdXBPcHRpb25dO1xyXG5cdFx0XHRcdGZpZWxkLmdyb3VwQnlGdW5jdGlvbiA9IHRoaXMuZW1wdHlGaWVsZEdyb3VwT3B0aW9uO1xyXG5cdFx0XHRcdGZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uT3B0aW9ucyA9IFt0aGlzLmVtcHR5U3VidG90YWxGaWVsZEdyb3VwT3B0aW9uc107XHJcblx0XHRcdFx0ZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb24gPSB0aGlzLmVtcHR5U3VidG90YWxGaWVsZEdyb3VwT3B0aW9ucztcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZUZpZWxkRm9ybWF0cyhmaWVsZCwgZGVmYXVsdEZvcm1hdFN0cmluZykudGhlbihmID0+IHJlc29sdmUoZikpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIGdldCBmaWVsZCBhbmQgU3VidG90YWwgZnVuY3Rpb25zIGZyb20gc2VydmVyIG9yIHJlcXVlc3QgY2FjaGU6XHJcblx0XHRcdFx0Y29uc3QgZnVuY3Rpb25Qcm9taXNlID0gdGhpcy5sb2FkRmllbGRGdW5jdGlvbnMoZmllbGQsIGdyb3VwVG9BcHBseSk7XHJcblx0XHRcdFx0Y29uc3Qgc3VidG90YWxQcm9taXNlID0gdGhpcy5sb2FkU3VidG90YWxGaWVsZEZ1bmN0aW9ucyhmaWVsZCwgZ3JvdXBTdWJ0b3RhbFRvQXBwbHkpO1xyXG5cdFx0XHRcdHRoaXMuJHFcclxuXHRcdFx0XHRcdC5hbGwoW2Z1bmN0aW9uUHJvbWlzZSwgc3VidG90YWxQcm9taXNlXSlcclxuXHRcdFx0XHRcdC50aGVuKCgpID0+XHJcblx0XHRcdFx0XHRcdHRoaXMudXBkYXRlRmllbGRGb3JtYXRzKGZpZWxkLCBkZWZhdWx0Rm9ybWF0U3RyaW5nKVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKCgpID0+XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGZpZWxkKSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpZWxkIGluaXRpYWxpemF0aW9uIChhc3luYzogcmV0dXJucyBwcm9taXNlKVxyXG5cdCAqL1xyXG5cdGluaXRpYWxpemVGaWVsZChmaWVsZCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGlmIChmaWVsZC5pc0luaXRpYWxpemVkKSB7XHJcblx0XHRcdFx0cmVzb2x2ZShmaWVsZCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBsb2FkIGdyb3VwIGFuZCBmb3JtYXQgY29sbGVjdGlvbnM6XHJcblx0XHRcdHRoaXMubG9hZEdyb3VwRnVuY3Rpb25zQW5kRm9ybWF0c1RvRmllbGQoZmllbGQpLnRoZW4oKGY6IGFueSkgPT4ge1xyXG5cdFx0XHRcdGYuaXNJbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0cmVzb2x2ZShmKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IGZpZWxkIHdoaWNoIHdlIGFyZSBlZGl0aW5nIG5vdy5cclxuXHQgKi9cclxuXHRnZXRDdXJyZW50QWN0aXZlRmllbGQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50QWN0aXZlRmllbGQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBmaWVsZCBmb3IgZWRpdGluZyBpdC5cclxuXHQgKi9cclxuXHRzZXRDdXJyZW50QWN0aXZlRmllbGQoZmllbGQpIHtcclxuXHRcdHRoaXMuY3VycmVudEFjdGl2ZUZpZWxkID0gZmllbGQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgYXV0byBkZXNjcmlwdGlvbi5cclxuXHQgKi9cclxuXHRwcml2YXRlIGdlbmVyYXRlRGVzY3JpcHRpb24oZmllbGQpIHtcclxuXHRcdGlmICh0aGlzLmlzRmllbGRHcm91cGVkKGZpZWxkKSAmJiBmaWVsZC5ncm91cEJ5RnVuY3Rpb24udmFsdWUudG9Mb3dlckNhc2UoKSAhPT0gJ2dyb3VwJylcclxuXHRcdFx0cmV0dXJuIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi50ZXh0ICsgJyAoJyArIHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmh1bWFuaXplVmFyaWFibGVOYW1lKGZpZWxkLm5hbWUpICsgJyknO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaHVtYW5pemVWYXJpYWJsZU5hbWUoZmllbGQubmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgYWdncmVnYXRlIGZ1bmN0aW9uIGZvciBmaWVsZC5cclxuXHQgKi9cclxuXHRvbkZpZWxkRnVuY3Rpb25BcHBsaWVkKGZpZWxkKSB7XHJcblx0XHQvLyBkbyBub3QgY2hhbmdlIGZvcm1hdCBmb3IgbWF4LCBtaW4sIHN1bSBhbmQgc3VtIGRpc3RpbmN0XHJcblx0XHRpZiAodGhpcy5pc0ZpZWxkR3JvdXBlZChmaWVsZCkpIHtcclxuXHRcdFx0dGhpcy5hcHBseUF1dG9Hcm91cHMoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMucmVzZXRBdXRvR3JvdXBzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy51cGRhdGVGaWVsZEZvcm1hdHMoZmllbGQpO1xyXG5cclxuXHRcdC8vIGF1dG8gdXBkYXRlIGRlc2NyaXB0aW9uXHJcblx0XHR0aGlzLmF1dG9VcGRhdGVGaWVsZERlc2NyaXB0aW9uKGZpZWxkKTtcclxuXHJcblx0XHR0aGlzLnN5bmNDYWxjRmllbGRzQXJyYXkoKTtcclxuXHJcblx0XHQvLyB2YWxpZGF0ZVxyXG5cdFx0dGhpcy52YWxpZGF0ZVJlcG9ydCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGZ1bmN0aW9ucywgZm9ybWF0cyBhZnRlciBleHByZXNzaW9uIHR5cGVncm91cCB3YXMgY2hhbmdlZFxyXG5cdCAqL1xyXG5cdG9uRXhwcmVzc2lvblR5cGVHcm91cEFwcGxpZWQoZmllbGQpIHtcclxuXHRcdHRoaXMubG9hZEdyb3VwRnVuY3Rpb25zQW5kRm9ybWF0c1RvRmllbGQoZmllbGQsIGZpZWxkLmdyb3VwQnlGdW5jdGlvbi52YWx1ZSwgZmllbGQuZm9ybWF0LnZhbHVlLCBmaWVsZC5ncm91cEJ5U3VidG90YWxGdW5jdGlvbi52YWx1ZSlcclxuXHRcdFx0LnRoZW4oKCkgPT4gdGhpcy5zeW5jQ2FsY0ZpZWxkc0FycmF5KCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGNhbGMgZmllbGRzIGNvbGxlY3Rpb24gd2hlbiBleHByZXNzaW9uIHdhcyBjaGFuZ2VkLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBmaWVsZCAtIHRhcmdldCBmaWVsZC5cclxuXHQgKi9cclxuXHRvbkV4cHJlc3Npb25BcHBsaWVkKCkge1xyXG5cdFx0dGhpcy5zeW5jQ2FsY0ZpZWxkc0FycmF5KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgVWkgYW5kIHNob3cgcHJldmlld1xyXG5cdCAqL1xyXG5cdHVwZGF0ZVVpU3RhdGVBbmRSZWZyZXNoUHJldmlldygpIHtcclxuXHRcdC8vIHJlbW92ZSBkcmlsbGRvd25zIHdoaWNoIGFyZSBub3QgaW4gYWN0aXZlIHRhYmxlc1xyXG5cdFx0dGhpcy51cGRhdGVEcmlsbGRvd25zKCk7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIHBpdm90IHN0YXRlXHJcblx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnN5bmNQaXZvdFN0YXRlKHRoaXMuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXMoKSk7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIGZpbHRlcnMgc3RhdGVcclxuXHRcdHRoaXMuc3luY0ZpbHRlcnMoKTtcclxuXHJcblx0XHQvLyBhcHBseS9yZXNldCBhdXRvZ3JvdXBzXHJcblx0XHRpZiAodGhpcy5nZXRBY3RpdmVUYWJsZXMoKS5sZW5ndGggPT09IDAgfHwgdGhpcy5pc0FjdGl2ZUZpZWxkc0NvbnRhaW5zQmluYXJ5KCkpIHtcclxuXHRcdFx0dGhpcy5yZXNldEF1dG9Hcm91cHMoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuYXBwbHlBdXRvR3JvdXBzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaXJlcyB3aGVuIHVzZXIgY2hlY2svdW5jaGVjayBmaWVsZFxyXG5cdCAqL1xyXG5cdGFwcGx5RmllbGRDaGVja2VkKGZpZWxkLCB2YWx1ZSwgcmVzdHJpY3RUYWJsZVVuY2hlY2spIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoIWZpZWxkLmVuYWJsZWQpIHtcclxuXHRcdFx0XHR0aGlzLnZhbGlkYXRlUmVwb3J0KCk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRmaWVsZC5jaGVja2VkID0gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiAhZmllbGQuY2hlY2tlZDtcclxuXHRcdFx0ZmllbGQub3JkZXIgPSB0aGlzLmdldE5leHRPcmRlcigpO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIHN0YXRlIG9mIGRhdGFzb3VyY2VzIHRyZWVcclxuXHRcdFx0dGhpcy51cGRhdGVQYXJlbnRGb2xkZXJzQW5kVGFibGVzKGZpZWxkLCBmYWxzZSwgcmVzdHJpY3RUYWJsZVVuY2hlY2spO1xyXG5cclxuXHRcdFx0dGhpcy5pbml0aWFsaXplRmllbGQoZmllbGQpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlVWlTdGF0ZUFuZFJlZnJlc2hQcmV2aWV3KCk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VsZWN0L3Vuc2VsZWN0IGZpZWxkXHJcblx0ICovXHJcblx0YXBwbHlGaWVsZFNlbGVjdGVkKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGZpZWxkKSkge1xyXG5cdFx0XHR0aGlzLnVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdHRoaXMuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKG51bGwpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAoIWZpZWxkLmVuYWJsZWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChmaWVsZC5pc011bHRpcGxlQ29sdW1ucykge1xyXG5cdFx0XHRmaWVsZC5jb2xsYXBzZWQgPSAhZmllbGQuY29sbGFwc2VkO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLnVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHR0aGlzLnNldEN1cnJlbnRBY3RpdmVGaWVsZChudWxsKTtcclxuXHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHR0aGlzLnNldEN1cnJlbnRBY3RpdmVGaWVsZChmaWVsZCk7XHJcblx0XHRcdGZpZWxkLnNlbGVjdGVkID0gdmFsdWU7XHJcblx0XHRcdHRoaXMuaW5pdGlhbGl6ZUZpZWxkKGZpZWxkKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrL3VuY2hlY2sgdGFibGVcclxuXHQgKi9cclxuXHRhcHBseVRhYmxlQWN0aXZlKHRhYmxlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Y29uc3QgdXBkYXRlQW5kUmVzb2x2ZSA9ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVBhcmVudEZvbGRlcnModGFibGUpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlVWlTdGF0ZUFuZFJlZnJlc2hQcmV2aWV3KCk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKCF0YWJsZS5lbmFibGVkKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRhYmxlLmFjdGl2ZSA9ICF0YWJsZS5hY3RpdmU7XHJcblx0XHRcdHRhYmxlLm9yZGVyID0gdGhpcy5nZXROZXh0T3JkZXIoKTtcclxuXHJcblx0XHRcdGlmICghdGFibGUuYWN0aXZlKSB7XHJcblx0XHRcdFx0Ly8gZGVhY3RpdmF0ZSBhbGwgdGFibGUgZmllbGRzXHJcblx0XHRcdFx0dGFibGUuZmllbGRzLmZvckVhY2goZiA9PiBmLmNoZWNrZWQgPSBmYWxzZSk7XHJcblx0XHRcdFx0dXBkYXRlQW5kUmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyB0YWJsZSBhY3RpdmF0ZWRcclxuXHRcdFx0aWYgKHRhYmxlLmxhenkpIHtcclxuXHRcdFx0XHQvLyBsb2FkIGxhenkgZmllbGRzXHJcblx0XHRcdFx0dGhpcy5sb2FkTGF6eUZpZWxkcyh0YWJsZSkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHR1cGRhdGVBbmRSZXNvbHZlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dXBkYXRlQW5kUmVzb2x2ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcHJlcGFyZVBhcmVudEZpZWxkRm9yTXVsdGlwbGVGaWVsZHMoZmllbGQpIHtcclxuXHRcdGxldCBwYXJlbnRGaWVsZCA9IGZpZWxkO1xyXG5cdFx0aWYgKHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1ucy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0Ly8gaWYgZmllbGQgaGFzIG5vIG11bHRpcGxlIGZpZWxkczpcclxuXHRcdFx0Y29uc3QgY29weUZpZWxkID0gYW5ndWxhci5jb3B5KGZpZWxkKSBhcyBhbnk7XHJcblx0XHRcdHBhcmVudEZpZWxkID0gY29weUZpZWxkO1xyXG5cdFx0XHRjb3B5RmllbGQubWNBbmNlc3RvciA9IGZpZWxkO1xyXG5cdFx0XHRjb3B5RmllbGQub3JpZ2luSWQgPSBmaWVsZC5pZDtcclxuXHRcdFx0Y29weUZpZWxkLmlzTXVsdGlwbGVDb2x1bW5zID0gdHJ1ZTtcclxuXHRcdFx0Y29weUZpZWxkLm11bHRpcGxlQ29sdW1uc0NvdW50ZXIgPSAxO1xyXG5cdFx0XHRjb3B5RmllbGQubXVsdGlwbGVDb2x1bW5zLnB1c2goZmllbGQpO1xyXG5cdFx0XHRjb25zdCB0YWJsZSA9IHRoaXMuZ2V0VGFibGVCeUlkKGZpZWxkLnBhcmVudElkKTtcclxuXHRcdFx0Y29uc3QgZmllbGRJbmRleCA9IHRhYmxlLmZpZWxkcy5pbmRleE9mKGZpZWxkKTtcclxuXHRcdFx0dGFibGUuZmllbGRzW2ZpZWxkSW5kZXhdID0gY29weUZpZWxkO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcmVudEZpZWxkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHJlYWR5LXRvLXVzZSBhbm90aGVyIGZpZWxkIChubyBuZWVkIHRvIGNsb25lIHBhcmVudCBmaWVsZClcclxuXHQgKi9cclxuXHRhZGRFeGFjdEFub3RoZXJGaWVsZChmaWVsZCwgYW5vdGhlckZpZWxkUHJvcGVydGllcykge1xyXG5cdFx0Y29uc3QgYW5vdGhlckZpZWxkID0gdGhpcy5jcmVhdGVGaWVsZE9iamVjdElubmVyKGFub3RoZXJGaWVsZFByb3BlcnRpZXMpO1xyXG5cdFx0Ly8gYWRkIHRvIHBhcmVudCBmaWVsZC5cclxuXHRcdGNvbnN0IHBhcmVudEZpZWxkID0gdGhpcy5wcmVwYXJlUGFyZW50RmllbGRGb3JNdWx0aXBsZUZpZWxkcyhmaWVsZCk7XHJcblx0XHRwYXJlbnRGaWVsZC5tdWx0aXBsZUNvbHVtbnMucHVzaChhbm90aGVyRmllbGQpO1xyXG5cdFx0cGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zQ291bnRlcisrO1xyXG5cdFx0YW5vdGhlckZpZWxkLnBhcmVudEZpZWxkSWQgPSBwYXJlbnRGaWVsZC5pZDtcclxuXHRcdGFub3RoZXJGaWVsZC5wYXJlbnRJZCA9IHBhcmVudEZpZWxkLnBhcmVudElkO1xyXG5cdFx0YW5vdGhlckZpZWxkLm5hbWUgPSBwYXJlbnRGaWVsZC5uYW1lICsgcGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zQ291bnRlcjtcclxuXHRcdGFub3RoZXJGaWVsZC50YWJsZVN5c25hbWUgPSBwYXJlbnRGaWVsZC50YWJsZVN5c25hbWU7XHJcblx0XHRhbm90aGVyRmllbGQudGFibGVOYW1lID0gcGFyZW50RmllbGQudGFibGVOYW1lO1xyXG5cdFx0YW5vdGhlckZpZWxkLnN5c25hbWUgPSBwYXJlbnRGaWVsZC5zeXNuYW1lO1xyXG5cdFx0YW5vdGhlckZpZWxkLnR5cGVHcm91cCA9IHBhcmVudEZpZWxkLnR5cGVHcm91cDtcclxuXHRcdGFub3RoZXJGaWVsZC50eXBlID0gcGFyZW50RmllbGQudHlwZTtcclxuXHRcdGFub3RoZXJGaWVsZC5zcWxUeXBlID0gcGFyZW50RmllbGQuc3FsVHlwZTtcclxuXHRcdGFub3RoZXJGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzID0gcGFyZW50RmllbGQuYWxsb3dlZEluRmlsdGVycztcclxuXHRcdGFub3RoZXJGaWVsZC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSB0cnVlO1xyXG5cdFx0cmV0dXJuIGFub3RoZXJGaWVsZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBtb3JlIHRoYW4gb25lIHNhbWUgZmllbGQgdG8gcmVwb3J0XHJcblx0ICovXHJcblx0YWRkQW5vdGhlckZpZWxkKGZpZWxkLCBuZWVkVG9TZWxlY3QpIHtcclxuXHRcdGNvbnN0IHBhcmVudEZpZWxkID0gdGhpcy5wcmVwYXJlUGFyZW50RmllbGRGb3JNdWx0aXBsZUZpZWxkcyhmaWVsZCk7XHJcblxyXG5cdFx0Ly8gYWRkIGFub3RoZXIgZmllbGQgdG8gcGFyZW50RmllbGRcclxuXHRcdHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1uc0NvdW50ZXIrKztcclxuXHRcdGNvbnN0IGFub3RoZXJGaWVsZCA9IHRoaXMuY3JlYXRlRmllbGRPYmplY3QocGFyZW50RmllbGQubmFtZSArIHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1uc0NvdW50ZXIsIHBhcmVudEZpZWxkLnBhcmVudElkLFxyXG5cdFx0XHRwYXJlbnRGaWVsZC50YWJsZVN5c25hbWUsIHBhcmVudEZpZWxkLnRhYmxlTmFtZSwgcGFyZW50RmllbGQuc3lzbmFtZSwgcGFyZW50RmllbGQudHlwZUdyb3VwLFxyXG5cdFx0XHRwYXJlbnRGaWVsZC50eXBlLCBwYXJlbnRGaWVsZC5zcWxUeXBlLCBwYXJlbnRGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzLCBwYXJlbnRGaWVsZC5pc1NwUGFyYW1ldGVyKTtcclxuXHRcdGlmIChwYXJlbnRGaWVsZC5kZXNjcmlwdGlvbilcclxuXHRcdFx0YW5vdGhlckZpZWxkLmRlc2NyaXB0aW9uID0gcGFyZW50RmllbGQuZGVzY3JpcHRpb24gKyAnICcgKyAocGFyZW50RmllbGQubXVsdGlwbGVDb2x1bW5zLmxlbmd0aCArIDEpO1xyXG5cdFx0YW5vdGhlckZpZWxkLmFsbG93ZWRJbkZpbHRlcnMgPSBwYXJlbnRGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzO1xyXG5cdFx0YW5vdGhlckZpZWxkLm9yZGVyID0gdGhpcy5nZXROZXh0T3JkZXIoKTtcclxuXHRcdGFub3RoZXJGaWVsZC5ndWlkID0gdGhpcy5ndWlkKCk7XHJcblx0XHRhbm90aGVyRmllbGQucGFyZW50RmllbGRJZCA9IHBhcmVudEZpZWxkLmlkO1xyXG5cclxuXHRcdHRoaXMuaW5pdGlhbGl6ZUZpZWxkKGFub3RoZXJGaWVsZCkudGhlbigoKSA9PiB7XHJcblx0XHRcdHRoaXMuYXBwbHlBdXRvR3JvdXBzKCk7XHJcblx0XHR9KTtcclxuXHRcdHBhcmVudEZpZWxkLm11bHRpcGxlQ29sdW1ucy5wdXNoKGFub3RoZXJGaWVsZCk7XHJcblxyXG5cdFx0Ly8gc2VsZWN0IGlmIG5lZWRlZFxyXG5cdFx0aWYgKG5lZWRUb1NlbGVjdCkge1xyXG5cdFx0XHR0aGlzLnVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdGFub3RoZXJGaWVsZC5zZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdHRoaXMuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKGFub3RoZXJGaWVsZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGFub3RoZXJGaWVsZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFwcGx5IGZpZWxkIGNvbmZpZyB0byBmaWVsZFxyXG5cdCAqL1xyXG5cdGxvYWRSZXBvcnRGaWVsZChmaWVsZCwgZmllbGRDb25maWcpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRjb25zdCBmdW5jdGlvblZhbHVlID0gZmllbGRDb25maWcuZ3JvdXBCeUZ1bmN0aW9uLnZhbHVlO1xyXG5cdFx0XHRjb25zdCBzdWJ0b3RhbEZ1bmN0aW9uVmFsdWUgPSBmaWVsZENvbmZpZy5ncm91cEJ5U3VidG90YWxGdW5jdGlvbi52YWx1ZTtcclxuXHRcdFx0Y29uc3QgZm9ybWF0VmFsdWUgPSBmaWVsZENvbmZpZy5mb3JtYXQudmFsdWU7XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGZpZWxkLCBmaWVsZENvbmZpZyk7XHJcblx0XHRcdC8vIHJlbW92ZSBjb2x1bW4gZ3JvdXAgZnJvbSBkZXNjcmlwdGlvbjogJ2ZpZWxkIGRlc2NyaXB0aW9uQGNvbHVtbiBncm91cCdcclxuXHRcdFx0aWYgKGZpZWxkLmRlc2NyaXB0aW9uLmxhc3RJbmRleE9mKCdAJykgPiAwICYmIGZpZWxkLmNvbHVtbkdyb3VwKSB7XHJcblx0XHRcdFx0ZmllbGQuZGVzY3JpcHRpb24gPSBmaWVsZC5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgZmllbGQuZGVzY3JpcHRpb24ubGFzdEluZGV4T2YoJ0AnKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGZpZWxkLm9yZGVyID4gdGhpcy5vcmRlckNvdW50ZXIpXHJcblx0XHRcdFx0dGhpcy5vcmRlckNvdW50ZXIgPSBmaWVsZC5vcmRlciArIDE7XHJcblxyXG5cdFx0XHRmaWVsZENvbmZpZy5leHByZXNzaW9uVHlwZSA9IGZpZWxkQ29uZmlnLmV4cHJlc3Npb25UeXBlIHx8ICcuLi4nO1xyXG5cdFx0XHRjb25zdCBleHByZXNzaW9uVHlwZSA9IHRoaXMuZXhwcmVzc2lvblR5cGVzLmZpcnN0T3JEZWZhdWx0KGUgPT4gZS52YWx1ZSA9PT0gZmllbGRDb25maWcuZXhwcmVzc2lvblR5cGUpO1xyXG5cdFx0XHRpZiAoZXhwcmVzc2lvblR5cGUpXHJcblx0XHRcdFx0ZmllbGQuZXhwcmVzc2lvblR5cGUgPSBleHByZXNzaW9uVHlwZTtcclxuXHJcblx0XHRcdHRoaXMubG9hZEdyb3VwRnVuY3Rpb25zQW5kRm9ybWF0c1RvRmllbGQoZmllbGQsIGZ1bmN0aW9uVmFsdWUsIGZvcm1hdFZhbHVlLCBzdWJ0b3RhbEZ1bmN0aW9uVmFsdWUpXHJcblx0XHRcdFx0LnRoZW4oKGY6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGZpZWxkQ29uZmlnLmRlc2NyaXB0aW9uKSB7XHJcblx0XHRcdFx0XHRcdC8vIGlmIGRlc2NyaXB0aW9uIGRpZmZlcnMgZnJvbSB0aGUgZGVmYXVsdCBnZW5lcmF0ZWQgZGVzY3JpcHRpb246IG1hcmsgaXQgYXMgXCJzZXQgbWFudWFsbHlcIlxyXG5cdFx0XHRcdFx0XHRmLmlzRGVzY3JpcHRpb25TZXRNYW51YWxseSA9IGZpZWxkQ29uZmlnLmRlc2NyaXB0aW9uICE9PSB0aGlzLmdlbmVyYXRlRGVzY3JpcHRpb24oZik7XHJcblx0XHRcdFx0XHRcdGYuZGVzY3JpcHRpb24gPSBmaWVsZENvbmZpZy5kZXNjcmlwdGlvbjtcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR0aGlzLmF1dG9VcGRhdGVGaWVsZERlc2NyaXB0aW9uKGYpO1xyXG5cdFx0XHRcdFx0Zi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHJlc29sdmUoZik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFwcGx5RGVzY3JpcHRpb24oZmllbGQpIHtcclxuXHRcdGNvbnN0IGF1dG9EZXNjcmlwdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihmaWVsZCk7XHJcblx0XHRpZiAoIWZpZWxkLmRlc2NyaXB0aW9uKVxyXG5cdFx0XHRmaWVsZC5pc0Rlc2NyaXB0aW9uU2V0TWFudWFsbHkgPSBmYWxzZTtcclxuXHRcdGVsc2VcclxuXHRcdFx0ZmllbGQuaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gZmllbGQuZGVzY3JpcHRpb24gIT09IGF1dG9EZXNjcmlwdGlvbjtcclxuXHRcdHRoaXMuc3luY0NhbGNGaWVsZHNBcnJheSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VsZWN0IGRyaWxsZG93biBmaWVsZHNcclxuXHQgKi9cclxuXHRjb252ZXJ0RHJpbGxkb3duRmllbGROYW1lc1RvRmllbGRzKCkge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlcG9ydFNldC5kcmlsbERvd25GaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudEl0ZW0gPSB0aGlzLnJlcG9ydFNldC5kcmlsbERvd25GaWVsZHNbaV07XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGN1cnJlbnRJdGVtKSkge1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0LmRyaWxsRG93bkZpZWxkc1tpXSA9IHRoaXMuZ2V0RmllbGRCeVN5c05hbWUoY3VycmVudEl0ZW0sIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QgY2hhcnRzXHJcblx0ICovXHJcblx0Y29udmVydENoYXJ0TmFtZXNUb0NoYXJ0cygpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZXBvcnRTZXQuY2hhcnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGNoYXJ0ID0gdGhpcy5yZXBvcnRTZXQuY2hhcnRzW2ldO1xyXG5cdFx0XHRpZiAoY2hhcnQgJiYgY2hhcnQuaGFzT3duUHJvcGVydHkoJ25hbWUnKSAmJiBjaGFydC5oYXNPd25Qcm9wZXJ0eSgnY2F0ZWdvcnknKSkge1xyXG5cdFx0XHRcdGNvbnN0IHZpcyA9IHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZS5maW5kVmlzdWFsaXphdGlvbihjaGFydC5jYXRlZ29yeSwgY2hhcnQubmFtZSk7XHJcblx0XHRcdFx0dmlzLnByb3BlcnRpZXMgPSB0aGlzLnJlcG9ydFNldC5jaGFydHNbaV0ucHJvcGVydGllcztcclxuXHRcdFx0XHR0aGlzLnJlcG9ydFNldC5jaGFydHNbaV0gPSB2aXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBsb2FkZWQgZmlsdGVycy4gcmVwb3J0U2V0LmZpbHRlcnMgYXQgdGhpcyBzdGFnZSBpcyBub3QgaW5pdGlhbGl6ZWRcclxuXHQgKiBhbmQgd2UgbmVlZCB0byBzZXQgZmllbGQsIG9wZXJhdG9yIGFuZCB2YWx1ZSBvYmplY3RzLlxyXG5cdCAqL1xyXG5cdGxvYWRGaWx0ZXJzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdGNvbnN0IGZpbHRlck9wZXJhdG9yUHJvbWlzZXM6IGFueVtdID0gW107XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KHRoaXMucmVwb3J0U2V0LmZpbHRlcnMpIHx8IHRoaXMucmVwb3J0U2V0LmZpbHRlcnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVwb3J0U2V0LmZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRjb25zdCBmaWx0ZXIgPSB0aGlzLnJlcG9ydFNldC5maWx0ZXJzW2ldO1xyXG5cdFx0XHRcdGNvbnN0IGZpbHRlckNvbmZpZyA9IHtcclxuXHRcdFx0XHRcdGZpZWxkU3lzTmFtZTogZmlsdGVyLnN5c25hbWUsXHJcblx0XHRcdFx0XHRvcGVyYXRvck5hbWU6IGZpbHRlci5vcGVyYXRvclN0cmluZyxcclxuXHRcdFx0XHRcdHZhbHVlczogZmlsdGVyLnZhbHVlcyxcclxuXHRcdFx0XHRcdHJlcXVpcmVkOiBmaWx0ZXIucmVxdWlyZWQsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogZmlsdGVyLmRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdFx0cGFyYW1ldGVyOiBmaWx0ZXIucGFyYW1ldGVyLFxyXG5cdFx0XHRcdFx0dGl0bGVGb3JtYXQ6IGZpbHRlci50aXRsZUZvcm1hdCxcclxuXHRcdFx0XHRcdGN1c3RvbVBvcHVwVGVtcGxhdGVVcmw6IGZpbHRlci5jdXN0b21Qb3B1cFRlbXBsYXRlVXJsXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRjb25zdCBuZXdGaWx0ZXIgPSB0aGlzLmNyZWF0ZU5ld0ZpbHRlckJhc2UoXHJcblx0XHRcdFx0XHRmaWx0ZXJDb25maWcuZmllbGRTeXNOYW1lLFxyXG5cdFx0XHRcdFx0ZmlsdGVyQ29uZmlnLm9wZXJhdG9yTmFtZSxcclxuXHRcdFx0XHRcdGZpbHRlckNvbmZpZy52YWx1ZXMsXHJcblx0XHRcdFx0XHRmaWx0ZXJDb25maWcucmVxdWlyZWQsXHJcblx0XHRcdFx0XHRmaWx0ZXJDb25maWcuZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRmaWx0ZXJDb25maWcucGFyYW1ldGVyLFxyXG5cdFx0XHRcdFx0ZmlsdGVyLmN1c3RvbVBvcHVwVGVtcGxhdGVVcmwpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnJlcG9ydFNldC5maWx0ZXJzW2ldID0gbmV3RmlsdGVyO1xyXG5cclxuXHRcdFx0XHQvLyBsb2FkIGZpbHRlciBmb3JtYXRzXHJcblx0XHRcdFx0Y29uc3QgZm9ybWF0TG9hZFByb21pc2UgPSB0aGlzLmxvYWRGaWx0ZXJGb3JtYXRzKG5ld0ZpbHRlciwgZmlsdGVyQ29uZmlnLnRpdGxlRm9ybWF0KTtcclxuXHRcdFx0XHRmaWx0ZXJPcGVyYXRvclByb21pc2VzLnB1c2goZm9ybWF0TG9hZFByb21pc2UpO1xyXG5cclxuXHRcdFx0XHQvLyBzZXQgb3BlcmF0b3JcclxuXHRcdFx0XHRsZXQgb3BlcmF0b3JQcm9taXNlOiBPYmplY3Q7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoZmlsdGVyQ29uZmlnLm9wZXJhdG9yTmFtZSkgJiYgZmlsdGVyQ29uZmlnLm9wZXJhdG9yTmFtZSkge1xyXG5cdFx0XHRcdFx0b3BlcmF0b3JQcm9taXNlID0gdGhpcy5zZXRGaWx0ZXJPcGVyYXRvcihuZXdGaWx0ZXIsIGZpbHRlckNvbmZpZy5vcGVyYXRvck5hbWUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRvcGVyYXRvclByb21pc2UgPSB0aGlzLnNldEZpbHRlck9wZXJhdG9yKG5ld0ZpbHRlciwgbnVsbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZpbHRlck9wZXJhdG9yUHJvbWlzZXMucHVzaChvcGVyYXRvclByb21pc2UpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHdhaXQgd2hlbiBhbGwgb3BlcmF0b3JzIGxvYWRlZFxyXG5cdFx0XHR0aGlzLiRxLmFsbChmaWx0ZXJPcGVyYXRvclByb21pc2VzKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHR2YXIgZXhpc3RlbnRWYWx1ZXNQcm9taXNlcyA9IHRoaXMucmVwb3J0U2V0LmZpbHRlcnMucmVkdWNlKChwcm9taXNlLCBmaWx0ZXIpID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdGhpcy51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlciwgdHJ1ZSkpO1xyXG5cdFx0XHRcdH0sIFByb21pc2UucmVzb2x2ZShbXSkpO1xyXG5cdFx0XHRcdC8vIHdhaXQgd2hlbiBhbGwgZXhpc3RlbnQgdmFsdWVzIGxvYWRlZFxyXG5cdFx0XHRcdHRoaXMuJHEuYWxsKGV4aXN0ZW50VmFsdWVzUHJvbWlzZXMpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYWxpemUgc2VydmljZSBmb3IgbmV3IHJlcG9ydFxyXG5cdCAqL1xyXG5cdG5ld1JlcG9ydCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNQYWdlSW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0XHR0aGlzLm5ld1JlcG9ydExvYWRpbmdTY2hlZHVsZSA9ICduZXchJztcclxuXHRcdFx0XHR0aGlzLiRsb2cuZGVidWcoJ25ld1JlcG9ydCBzY2hlZHVsZWQnKTtcclxuXHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHByb21pc2VzOiBhbnlbXSA9IFtdO1xyXG5cclxuXHRcdFx0Ly8gbG9hZCBzY2hlZHVsZSBkYXRhIHdpdGggZGVmYXVsdCBjb25maWcgZm9yIG5ldyByZXBvcnRcclxuXHRcdFx0cHJvbWlzZXMucHVzaCh0aGlzLiRpemVuZGFTY2hlZHVsZVNlcnZpY2Uuc2V0U2NoZWR1bGVDb25maWcobnVsbCkpO1xyXG5cdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMuJGl6ZW5kYVNoYXJlU2VydmljZS5zZXRTaGFyZUNvbmZpZyhudWxsKSk7XHJcblxyXG5cdFx0XHQvLyBzZXQgZnVsbCBhY2Nlc3MgZm9yIG5ldyByZXBvcnQ6XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLnNldEZ1bGxBY2Nlc3MoKTtcclxuXHJcblx0XHRcdC8vIGxvYWQgZGVmYXVsdCB0YWJsZSBpZiBkZWZpbmVkXHJcblx0XHRcdGNvbnN0IGRlZmF1bHRUYWJsZU5hbWUgPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlLmdldFNldHRpbmdzKCkuZGVmYXVsdFRhYmxlO1xyXG5cdFx0XHRpZiAoZGVmYXVsdFRhYmxlTmFtZSkge1xyXG5cdFx0XHRcdGNvbnN0IHRhYmxlID0gdGhpcy5nZXRUYWJsZUJ5U3lzbmFtZShkZWZhdWx0VGFibGVOYW1lKSB8fCB0aGlzLmdldFRhYmxlQnlOYW1lKGRlZmF1bHRUYWJsZU5hbWUpO1xyXG5cdFx0XHRcdGlmICh0YWJsZSkge1xyXG5cdFx0XHRcdFx0dGFibGUuY29sbGFwc2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMuYXBwbHlUYWJsZUFjdGl2ZSh0YWJsZSkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gd2FpdCB1bnRpbCBjb21wbGV0ZWQgYWxsIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zXHJcblx0XHRcdHRoaXMuJHEuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZXhpc3RpbmcgcmVwb3J0XHJcblx0ICovXHJcblx0bG9hZFJlcG9ydChyZXBvcnRGdWxsTmFtZSkge1xyXG5cdFx0dGhpcy4kbG9nLmRlYnVnKGBsb2FkUmVwb3J0ICR7cmVwb3J0RnVsbE5hbWV9IHN0YXJ0YCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0aWYgKCF0aGlzLmlzUGFnZUluaXRpYWxpemVkKSB7XHJcblx0XHRcdFx0dGhpcy5leGlzdGluZ1JlcG9ydExvYWRpbmdTY2hlZHVsZSA9IHJlcG9ydEZ1bGxOYW1lO1xyXG5cdFx0XHRcdHRoaXMuJGxvZy5kZWJ1ZygnbG9hZFJlcG9ydCBzY2hlZHVsZWQnKTtcclxuXHRcdFx0XHRyZXNvbHZlKFtmYWxzZV0pO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyB1cGRhdGUgVUkgcGFyYW1zXHJcblx0XHRcdHRoaXMuY3VycmVudEFjdGl2ZUZpZWxkID0gbnVsbDtcclxuXHRcdFx0dGhpcy5zZXRGaWx0ZXJzUGFuZWxPcGVuZWQoZmFsc2UpO1xyXG5cclxuXHRcdFx0bGV0IHByZXZpb3VzUHJldmlld1RvcCA9IDEwMDtcclxuXHRcdFx0aWYgKHRoaXMucmVwb3J0U2V0ICYmIHRoaXMucmVwb3J0U2V0Lm9wdGlvbnMpXHJcblx0XHRcdFx0cHJldmlvdXNQcmV2aWV3VG9wID0gdGhpcy5yZXBvcnRTZXQub3B0aW9ucy5wcmV2aWV3VG9wO1xyXG5cclxuXHRcdFx0Ly8gbG9hZCByZXBvcnQgZGF0YVxyXG5cdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLmxvYWRSZXBvcnQocmVwb3J0RnVsbE5hbWUpLnRoZW4ocmVwb3J0U2V0Q29uZmlnID0+IHtcclxuXHRcdFx0XHR0aGlzLnJlc2V0RGF0YVNvdXJjZXMoKTtcclxuXHRcdFx0XHR0aGlzLnJlcG9ydFNldCA9IGFuZ3VsYXIuZXh0ZW5kKHRoaXMucmVwb3J0U2V0LCByZXBvcnRTZXRDb25maWcpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLnNldFJpZ2h0cyh0aGlzLnJlcG9ydFNldC5vcHRpb25zLmVmZmVjdGl2ZVJpZ2h0cyk7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2Uuc2V0VXNlc0hpZGRlbkNvbHVtbnModGhpcy5yZXBvcnRTZXQub3B0aW9ucy51c2VzSGlkZGVuQ29sdW1ucyk7XHJcblxyXG5cdFx0XHRcdC8vIHVwZGF0ZSB0b3BcclxuXHRcdFx0XHRpZiAodGhpcy5yZXBvcnRTZXQub3B0aW9ucy50b3AgPCAwKVxyXG5cdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXQub3B0aW9ucy50b3AgPSAnJztcclxuXHRcdFx0XHR0aGlzLnJlcG9ydFNldC5vcHRpb25zLnByZXZpZXdUb3AgPSBwcmV2aW91c1ByZXZpZXdUb3A7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGxhenlQcm9taXNlczogYW55W10gPSBbXTtcclxuXHRcdFx0XHR0aGlzLnJlcG9ydFNldC5qb2luZWRUYWJsZXMuZm9yRWFjaCh0YWJsZU9iaiA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCB0YWJsZSA9IHRoaXMuZ2V0VGFibGVCeVN5c25hbWUodGFibGVPYmouc3lzbmFtZSk7XHJcblx0XHRcdFx0XHRjb25zdCBsb2FkRmllbGRQcm9taXNlID0gdGhpcy5sb2FkTGF6eUZpZWxkcyh0YWJsZSk7XHJcblx0XHRcdFx0XHR0YWJsZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGFibGUub3JkZXIgPSB0aGlzLmdldE5leHRPcmRlcigpO1xyXG5cdFx0XHRcdFx0bGF6eVByb21pc2VzLnB1c2gobG9hZEZpZWxkUHJvbWlzZSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8vIHdhaXQgdW50aWwgdGFibGUgZmllbGRzIHdpbGwgYmUgbG9hZGVkOlxyXG5cdFx0XHRcdHRoaXMuJHEuYWxsKGxhenlQcm9taXNlcykudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBpbml0aWFsaXphdGlvbiBwcm9taXNlc1xyXG5cdFx0XHRcdFx0dmFyIHByb21pc2VzID0gW107XHJcblxyXG5cdFx0XHRcdFx0Ly8gY29udmVydCBjaGFydCBuYW1lcyB0byBjaGFydCBvYmplY3RzIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRcdHRoaXMuY29udmVydENoYXJ0TmFtZXNUb0NoYXJ0cygpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGNvbnZlcnQgZHJpbGxkb3duIGZpZWxkIHN5c25hbWVzIHRvIGZpZWxkcyBjb2xsZWN0aW9uOlxyXG5cdFx0XHRcdFx0dGhpcy5jb252ZXJ0RHJpbGxkb3duRmllbGROYW1lc1RvRmllbGRzKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gbG9hZCBwaXZvdCBmaWVsZHNcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KHRoaXMucmVwb3J0U2V0LnBpdm90KSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwaXZvdENvbHVtbkNvbmZpZyA9IGFuZ3VsYXIuY29weSh0aGlzLnJlcG9ydFNldC5waXZvdC5waXZvdENvbHVtbik7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHBpdm90Q29sdW1uRmllbGQgPSB0aGlzLmdldEZpZWxkQnlTeXNOYW1lKHBpdm90Q29sdW1uQ29uZmlnLnN5c25hbWUsIHRydWUpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlcG9ydFNldC5waXZvdC5waXZvdENvbHVtbiA9IGFuZ3VsYXIuY29weShwaXZvdENvbHVtbkZpZWxkKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXQucGl2b3QucGl2b3RDb2x1bW4uaXNQaXZvdENvbHVtbiA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMubG9hZFJlcG9ydEZpZWxkKHRoaXMucmVwb3J0U2V0LnBpdm90LnBpdm90Q29sdW1uLCBwaXZvdENvbHVtbkNvbmZpZykpO1xyXG5cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlcG9ydFNldC5waXZvdC5jZWxsVmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgY2VsbFZhbHVlQ29uZmlnID0gYW5ndWxhci5jb3B5KHRoaXMucmVwb3J0U2V0LnBpdm90LmNlbGxWYWx1ZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVwb3J0U2V0LnBpdm90LmNlbGxWYWx1ZXNbaV0gPSBhbmd1bGFyLmNvcHkodGhpcy5nZXRGaWVsZEJ5U3lzTmFtZShjZWxsVmFsdWVDb25maWcuc3lzbmFtZSwgdHJ1ZSkpO1xyXG5cdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy5sb2FkUmVwb3J0RmllbGQodGhpcy5yZXBvcnRTZXQucGl2b3QuY2VsbFZhbHVlc1tpXSwgY2VsbFZhbHVlQ29uZmlnKSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBjb252ZXJ0IGZpZWxkc1xyXG5cdFx0XHRcdFx0dmFyIGFkZGVkRmllbGRTeXNOYW1lcyA9IFtdO1xyXG5cdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXQuYWN0aXZlRmllbGRzLmZvckVhY2goYWN0aXZlRmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0XHR2YXIgc3lzbmFtZSA9IGFjdGl2ZUZpZWxkLnN5c25hbWU7XHJcblx0XHRcdFx0XHRcdHZhciBmaWVsZCA9IHRoaXMuZ2V0RmllbGRCeVN5c05hbWUoc3lzbmFtZSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChmaWVsZCkpXHJcblx0XHRcdFx0XHRcdFx0dGhpcy4kbG9nLmVycm9yKGBGaWVsZCAke3N5c25hbWV9IG5vdCBmb3VuZCBpbiBkYXRhc291cmNlc2ApO1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIGlzRmllbGRNdWx0aXBsZSA9IGFkZGVkRmllbGRTeXNOYW1lcy5pbmRleE9mKHN5c25hbWUpID49IDA7XHJcblx0XHRcdFx0XHRcdGlmICghaXNGaWVsZE11bHRpcGxlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmllbGQuZ3VpZCA9IGFjdGl2ZUZpZWxkLmd1aWQ7XHJcblx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaCh0aGlzLmxvYWRSZXBvcnRGaWVsZChmaWVsZCwgYWN0aXZlRmllbGQpKTtcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5jaGVja2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVBhcmVudEZvbGRlcnNBbmRUYWJsZXMoZmllbGQsIHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdGFkZGVkRmllbGRTeXNOYW1lcy5wdXNoKHN5c25hbWUpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGFub3RoZXJGaWVsZCA9IHRoaXMuYWRkRXhhY3RBbm90aGVyRmllbGQoZmllbGQsIGFjdGl2ZUZpZWxkKTtcclxuXHRcdFx0XHRcdFx0XHRhbm90aGVyRmllbGQuZ3VpZCA9IGFjdGl2ZUZpZWxkLmd1aWQ7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGFjdGl2ZUZpZWxkLmRlc2NyaXB0aW9uKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhbm90aGVyRmllbGQuaXNEZXNjcmlwdGlvblNldE1hbnVhbGx5ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdGFub3RoZXJGaWVsZC5kZXNjcmlwdGlvbiA9IGFjdGl2ZUZpZWxkLmRlc2NyaXB0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMubG9hZFJlcG9ydEZpZWxkKGFub3RoZXJGaWVsZCwgYWN0aXZlRmllbGQpKTtcclxuXHRcdFx0XHRcdFx0XHRhbm90aGVyRmllbGQuY2hlY2tlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGhpcy5zeW5jQ2FsY0ZpZWxkc0FycmF5KCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gcGl2b3RzIGluaXRpYWxpemF0aW9uXHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc09iamVjdCh0aGlzLnJlcG9ydFNldC5waXZvdCkpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgcGl2b3REYXRhID0gdGhpcy5yZXBvcnRTZXQucGl2b3Q7XHJcblx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5sb2FkUGl2b3REYXRhKHBpdm90RGF0YSkpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlcG9ydFNldC5waXZvdCA9IG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gY29udmVydCBmaWx0ZXJzXHJcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMubG9hZEZpbHRlcnMoKSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gbG9hZCBzY2hlZHVsZSBkYXRhIGZvciBjb25maWdcclxuXHRcdFx0XHRcdHZhciBzY2hlZHVsZUNvbmZpZ0RhdGEgPSBhbmd1bGFyLmV4dGVuZCh7fSwgcmVwb3J0U2V0Q29uZmlnLnNjaGVkdWxlKTtcclxuXHRcdFx0XHRcdHByb21pc2VzLnB1c2godGhpcy4kaXplbmRhU2NoZWR1bGVTZXJ2aWNlLnNldFNjaGVkdWxlQ29uZmlnKHNjaGVkdWxlQ29uZmlnRGF0YSkpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGxvYWQgc2hhcmUgZGF0YSBmb3IgY29uZmlnXHJcblx0XHRcdFx0XHR2YXIgc2hhcmVDb25maWdEYXRhID0gYW5ndWxhci5leHRlbmQoW10sIHJlcG9ydFNldENvbmZpZy5zaGFyZSk7XHJcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHRoaXMuJGl6ZW5kYVNoYXJlU2VydmljZS5zZXRTaGFyZUNvbmZpZyhzaGFyZUNvbmZpZ0RhdGEpKTtcclxuXHJcblx0XHRcdFx0XHQvLyB3YWl0IGZvciBhbGwgcHJlcGFyYXRpb25zIGNvbXBsZXRpb25cclxuXHRcdFx0XHRcdHRoaXMuJHEuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy52YWxpZGF0ZUZpbHRlcnMoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGFydEZpbHRlcnMoKTtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzVXNlc0hpZGRlbkNvbHVtbnMoKSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnJlcG9ydFNldC5hY3RpdmVGaWVsZHMubGVuZ3RoID4gMClcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd01lc3NhZ2VEaWFsb2coXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnanNfcmVwb3J0U2V0VXNlc0hpZGRlbkNvbHVtbnMnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdUaGlzIFJlcG9ydFNldCBoYXMgcHVibGljbHkgdW5hdmFpbGFibGUgZmllbGRzIGluIGNvbmZpZ3VyYXRpb24sIHRoZXJlZm9yZSBpdCBtaXNzZXMgc29tZSBlbGVtZW50cyBvbiBjdXJyZW50IHBhZ2UsIGFuZCBjYW5ub3QgYmUgc2F2ZWQvdXBkYXRlZC4gVXNlIFNhdmUgQXMgd2l0aCBkaWZmZXJlbnQgbmFtZSBpbnN0ZWFkLicpKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dNZXNzYWdlRGlhbG9nKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2pzX3JlcG9ydFNldFVzZXNBbGxIaWRkZW5Db2x1bW5zJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnQWxsIGZpZWxkcyBpbiB0aGlzIHJlcG9ydCBhcmUgdW5hdmFpbGFibGUuIFBsZWFzZSBjaG9vc2UgYW5vdGhlciBmaWVsZHMgYW5kIHVzZSBTYXZlIEFzIHdpdGggZGlmZmVyZW50IG5hbWUgaW5zdGVhZC4nKSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGhpcy4kbG9nLmRlYnVnKCdsb2FkUmVwb3J0IGVuZCcpO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKFt0cnVlLCB0cnVlXSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgZXJyb3IgPT4ge1xyXG5cdFx0XHRcdC8vIGVycm9yIGxvYWRpbmcgcmVwb3J0IHNldCBjb25maWdcclxuXHRcdFx0XHQvLyBzaG93IGVycm9yIGRpYWxvZ1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKFxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRUb0xvYWRSZXBvcnQnLCAnRmFpbGVkIHRvIGxvYWQgcmVwb3J0JykgKyAnOiBcIicgKyBlcnJvciArICdcIicsXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1JlcG9ydExvYWRFcnJvcicsICdSZXBvcnQgbG9hZCBlcnJvcicpKTtcclxuXHJcblx0XHRcdFx0Ly8gcmVkaXJlY3QgdG8gbmV3IHJlcG9ydFxyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0SXNOZXcoKTtcclxuXHRcdFx0XHRyZXNvbHZlKFt0cnVlLCBmYWxzZV0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlIGFub3RoZXIgZmllbGRcclxuXHQgKi9cclxuXHRyZW1vdmVBbm90aGVyRmllbGQoZmllbGQsIGFub3RoZXJGaWVsZCkge1xyXG5cdFx0Y29uc3QgaWR4ID0gZmllbGQubXVsdGlwbGVDb2x1bW5zLmluZGV4T2YoYW5vdGhlckZpZWxkKTtcclxuXHRcdGlmIChpZHggPj0gMCkge1xyXG5cdFx0XHRpZiAodGhpcy5nZXRDdXJyZW50QWN0aXZlRmllbGQoKSA9PT0gYW5vdGhlckZpZWxkKVxyXG5cdFx0XHRcdHRoaXMuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKG51bGwpO1xyXG5cclxuXHRcdFx0Y29uc3QgaXNSZXBsYWNlSWROZWVkZWQgPSBmaWVsZC5vcmlnaW5JZCA9PT0gYW5vdGhlckZpZWxkLmlkO1xyXG5cdFx0XHRmaWVsZC5tdWx0aXBsZUNvbHVtbnMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHRcdGlmIChmaWVsZC5tdWx0aXBsZUNvbHVtbnMubGVuZ3RoID4gMCAmJiBpc1JlcGxhY2VJZE5lZWRlZClcclxuXHRcdFx0XHRmaWVsZC5tdWx0aXBsZUNvbHVtbnNbMF0uaWQgPSBmaWVsZC5vcmlnaW5JZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IGBDYW4ndCBmaW5kICR7YW5vdGhlckZpZWxkLm5hbWV9IGluIG11bHRpcGxlQ29sdW1ucyBjb2xsZWN0aW9uLmA7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGZpZWxkLm11bHRpcGxlQ29sdW1ucy5sZW5ndGggPT09IDEpIHtcclxuXHRcdFx0dGhpcy5jb3B5RmllbGRPYmplY3QoZmllbGQubXVsdGlwbGVDb2x1bW5zWzBdLCBmaWVsZCk7XHJcblx0XHRcdGZpZWxkLm11bHRpcGxlQ29sdW1ucyA9IFtdO1xyXG5cdFx0XHRmaWVsZC5pc011bHRpcGxlQ29sdW1ucyA9IGZhbHNlO1xyXG5cdFx0XHRmaWVsZC5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHRcdFx0ZmllbGQucGFyZW50RmllbGRJZCA9IG51bGw7XHJcblx0XHRcdHRoaXMuYXV0b1VwZGF0ZUZpZWxkRGVzY3JpcHRpb24oZmllbGQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHNvcnQgdmFsdWUgZm9yIGZpZWxkLlxyXG5cdCAqL1xyXG5cdGFwcGx5RmllbGRTb3J0KGZpZWxkLCBzb3J0U3RyaW5nKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhzb3J0U3RyaW5nKSkge1xyXG5cdFx0XHRpZiAoc29ydFN0cmluZyA9PT0gJ2FzYycpIHtcclxuXHRcdFx0XHRmaWVsZC5zb3J0ID0gJ2FzYyc7XHJcblx0XHRcdH0gZWxzZSBpZiAoc29ydFN0cmluZyA9PT0gJ2Rlc2MnKSB7XHJcblx0XHRcdFx0ZmllbGQuc29ydCA9ICdkZXNjJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoIWZpZWxkLmlzVmdVc2VkKVxyXG5cdFx0XHRcdFx0ZmllbGQuc29ydCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICghZmllbGQuaXNWZ1VzZWQpXHJcblx0XHRcdFx0ZmllbGQuc29ydCA9IG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmllbGQgaXRhbGljXHJcblx0ICovXHJcblx0YXBwbHlGaWVsZEl0YWxpYyhmaWVsZCwgdmFsdWUpIHtcclxuXHRcdGZpZWxkLml0YWxpYyA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZpZWxkIHZpc2libGVcclxuXHQgKi9cclxuXHRhcHBseUZpZWxkVmlzaWJsZShmaWVsZCwgdmFsdWUpIHtcclxuXHRcdGlmICghdmFsdWUpXHJcblx0XHRcdGZpZWxkLmlzVmdVc2VkID0gZmFsc2U7XHJcblx0XHRmaWVsZC52aXNpYmxlID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmllbGQgYm9sZFxyXG5cdCAqL1xyXG5cdGFwcGx5RmllbGRCb2xkKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0ZmllbGQuYm9sZCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHZpc3VhbCBncm91cCBcclxuXHQgKi9cclxuXHRhcHBseVZpc3VhbEdyb3VwKGZpZWxkLCB2YWx1ZSkge1xyXG5cdFx0aWYgKHZhbHVlICYmIGZpZWxkLnNvcnQgPT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5hcHBseUZpZWxkU29ydChmaWVsZCwgJ2FzYycpO1xyXG5cdFx0fVxyXG5cdFx0ZmllbGQuaXNWZ1VzZWQgPSB2YWx1ZTtcclxuXHRcdHRoaXMudXBkYXRlVmlzdWFsR3JvdXBGaWVsZE9yZGVycyhmaWVsZCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb2x1bW4gcmVvcmRlci4gSW5kZXhlcyBzdGFydGVkIGZyb20gMTogMSwyLDMsNCw1LDZcclxuXHQgKi9cclxuXHRzd2FwRmllbGRzKGZyb21JbmRleCwgdG9JbmRleCkge1xyXG5cdFx0aWYgKGZyb21JbmRleCA9PT0gdG9JbmRleClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgYWN0aXZlRmllbGRzU29ydGVkTGlzdCA9IHRoaXMuZ2V0QWxsQWN0aXZlRmllbGRzKCkuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uaXNWZ1VzZWQpO1xyXG5cdFx0YWN0aXZlRmllbGRzU29ydGVkTGlzdC5zb3J0KChmMSwgZjIpID0+IGYxLm9yZGVyIC0gZjIub3JkZXIpO1xyXG5cclxuXHRcdGNvbnN0IGZpZWxkMSA9IGFjdGl2ZUZpZWxkc1NvcnRlZExpc3RbZnJvbUluZGV4IC0gMV07XHJcblx0XHRjb25zdCBmaWVsZDIgPSBhY3RpdmVGaWVsZHNTb3J0ZWRMaXN0W3RvSW5kZXggLSAxXTtcclxuXHRcdGNvbnN0IGZpZWxkT3JkZXIxID0gZmllbGQxLm9yZGVyO1xyXG5cdFx0Y29uc3QgZmllbGRPcmRlcjIgPSBmaWVsZDIub3JkZXI7XHJcblx0XHRmaWVsZDEub3JkZXIgPSBmaWVsZE9yZGVyMjtcclxuXHRcdGZpZWxkMi5vcmRlciA9IGZpZWxkT3JkZXIxO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogV2UgbmVlZCB0byBzZXQgdmlzdWFsIGdyb3VwIGZpZWxkcyBvcmRlciBmaXJzdCBhbmQgb3RoZXIgZmllbGRzIG5leHQuXHJcblx0ICovXHJcblx0dXBkYXRlVmlzdWFsR3JvdXBGaWVsZE9yZGVycyhyZWNlbnRseUNoYW5nZWRGaWVsZCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlRmllbGRzID0gdGhpcy5nZXRBbGxBY3RpdmVGaWVsZHMoKTtcclxuXHRcdGNvbnN0IHZnRmllbGRzID0gYWN0aXZlRmllbGRzLmZpbHRlcihmID0+IGYuaXNWZ1VzZWQpO1xyXG5cdFx0Ly8gaWYgd2UgZG9uJ3QgaGF2ZSBWRyBmaWVsZHMgLSBkbyBub3RoaW5nLlxyXG5cdFx0aWYgKHZnRmllbGRzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Ly8gd2UgbmVlZCB0byB1cGRhdGUgZmllbGQgb3JkZXJzOlxyXG5cdFx0Ly8gdmdGaWVsZDEsIHZnRmllbGQyLCAuLi4sIHZnRmllbGROLCBub25WZzEsIG5vblZnMiwgLi4uLCBub25WZ01cclxuXHJcblx0XHQvLyBpZiB3ZSB0dXJuZWQgb24gdmlzdWFsIGdyb3VwIG9uIGN1cnJlbnRseSBjaGFuZ2VkIGZpZWxkIC0gbW92ZSBpdCB0byB0aGUgbGFzdCBwb3NpdGlvbiBvZiB2ZyBmaWVsZHNcclxuXHRcdGlmIChyZWNlbnRseUNoYW5nZWRGaWVsZCAmJiByZWNlbnRseUNoYW5nZWRGaWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0cmVjZW50bHlDaGFuZ2VkRmllbGQub3JkZXIgPSB2Z0ZpZWxkcy5yZWR1Y2UoKG1heCwgZikgPT4gZi5vcmRlciA+IG1heCA/IGYub3JkZXIgOiBtYXgsIHZnRmllbGRzWzBdLm9yZGVyKSArIDE7XHJcblx0XHQvLyByZWNhbGN1bGF0ZSBmaWVsZHMgb3JkZXJcclxuXHRcdHZnRmllbGRzLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcclxuXHRcdHZnRmllbGRzLmZvckVhY2goZiA9PiBmLm9yZGVyID0gdGhpcy5nZXROZXh0T3JkZXIoKSk7XHJcblxyXG5cdFx0Y29uc3Qgbm9uVmdGaWVsZHMgPSBhY3RpdmVGaWVsZHMuZmlsdGVyKGYgPT4gIWYuaXNWZ1VzZWQpO1xyXG5cdFx0Ly8gaWYgd2UgdHVybmVkIG9mZiB2aXN1YWwgZ3JvdXAgb24gY3VycmVudGx5IGNoYW5nZWQgZmllbGQgLSBtb3ZlIGl0IHRvIHRoZSBmaXJzdCBwb3NpdGlvbiBvZiBub24tdmcgZmllbGRzLlxyXG5cdFx0aWYgKG5vblZnRmllbGRzLmxlbmd0aCAmJiByZWNlbnRseUNoYW5nZWRGaWVsZCAmJiAhcmVjZW50bHlDaGFuZ2VkRmllbGQuaXNWZ1VzZWQpXHJcblx0XHRcdHJlY2VudGx5Q2hhbmdlZEZpZWxkLm9yZGVyID0gbm9uVmdGaWVsZHMucmVkdWNlKChtaW4sIGYpID0+IGYub3JkZXIgPCBtaW4gPyBmLm9yZGVyIDogbWluLCBub25WZ0ZpZWxkc1swXS5vcmRlcikgLSAxO1xyXG5cdFx0Ly8gcmVjYWxjdWxhdGUgZmllbGRzIG9yZGVyXHJcblx0XHRub25WZ0ZpZWxkcy5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XHJcblx0XHRub25WZ0ZpZWxkcy5mb3JFYWNoKGYgPT4gZi5vcmRlciA9IHRoaXMuZ2V0TmV4dE9yZGVyKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hhbmdlIGZpZWxkIG9yZGVyXHJcblx0ICovXHJcblx0bW92ZUZpZWxkVG9Qb3NpdGlvbihmcm9tSW5kZXgsIHRvSW5kZXgsIGlzVmlzdWFsR3JvdXAsIHRha2VDYXJlT2ZJbnZpc2libGVGaWVsZHMpIHtcclxuXHRcdGlmIChmcm9tSW5kZXggPT09IHRvSW5kZXgpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGNvbnN0IGZpZWxkcyA9IHRoaXMuZ2V0QWxsQWN0aXZlRmllbGRzKCkuZmlsdGVyKGZpZWxkID0+IHtcclxuXHRcdFx0Ly8gZXh0cmFjdCB2Z3xub24tdmcgZmllbGRzIChkZXBlbmRzIG9uIGlzVmlzdWFsR3JvdXAgcGFyYW0pXHJcblx0XHRcdHJldHVybiAoaXNWaXN1YWxHcm91cCBeIGZpZWxkLmlzVmdVc2VkKSA9PT0gMDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGFjdGl2ZUZpZWxkc1NvcnRlZCA9IGZpZWxkcy5zb3J0KChmMSwgZjIpID0+IGYxLm9yZGVyIC0gZjIub3JkZXIpO1xyXG5cdFx0Y29uc3QgdmlzaWJsZUZpZWxkc1NvcnRlZCA9IHRha2VDYXJlT2ZJbnZpc2libGVGaWVsZHNcclxuXHRcdFx0PyBhY3RpdmVGaWVsZHNTb3J0ZWQuZmlsdGVyKGYgPT4gZi52aXNpYmxlKVxyXG5cdFx0XHQ6IGFjdGl2ZUZpZWxkc1NvcnRlZDtcclxuXHJcblx0XHQvLyBjYWxjdWxhdGUgYWN0dWFsIGZyb21JbmRleCBhbmQgdG9JbmRleFxyXG5cdFx0Y29uc3QgZnJvbUVsZW1lbnQgPSB2aXNpYmxlRmllbGRzU29ydGVkW2Zyb21JbmRleF07XHJcblx0XHRpZiAodGFrZUNhcmVPZkludmlzaWJsZUZpZWxkcykge1xyXG5cdFx0XHRmcm9tSW5kZXggPSBhY3RpdmVGaWVsZHNTb3J0ZWQuaW5kZXhPZihmcm9tRWxlbWVudCk7XHJcblx0XHRcdGNvbnN0IGVsZW1lbnQgPSB2aXNpYmxlRmllbGRzU29ydGVkW3RvSW5kZXhdO1xyXG5cdFx0XHR0b0luZGV4ID0gYWN0aXZlRmllbGRzU29ydGVkLmluZGV4T2YoZWxlbWVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTW92ZSBlbGVtZW50OiBmcm9tSW5kZXggLT4gdG9JbmRleCB0aGF0IHdheTpcclxuXHRcdC8vIGZvciBleGFtcGxlLCB3ZSdyZSBzb3J0aW5nIHZpc3VhbCBncm91cCBjb2x1bW5zIHdoaWNoIGhhcyBvcmRlcnMgYWN0aXZlRmllbGRzU29ydGVkPVtjMT0xLGMyPTIsYzM9NV1cclxuXHRcdC8vICgzLCA0LCA2LC4uLiAtIGFyZSBub24gdmcgY29sdW1ucylcclxuXHRcdC8vIGFuZCB3ZSBuZWVkIHRvIG1vdmUgMSAtLT4gMywgc28gdGhlIHJlc3VsdCBvcmRlcnMgd2lsbCBiZSBbYzE9NSxjMj0xLGMzPTJdLiBub24gdmcgY29sdW1uIG9yZGVycyB3b24ndCBiZSB0b3VjaGVkLlxyXG5cdFx0aWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcclxuXHRcdFx0bGV0IHByZXZpb3VzT3JkZXIgPSBhY3RpdmVGaWVsZHNTb3J0ZWRbZnJvbUluZGV4XS5vcmRlcjtcclxuXHRcdFx0Zm9yIChsZXQgaiA9IGZyb21JbmRleCArIDE7IGogPD0gdG9JbmRleDsgaisrKSB7XHJcblx0XHRcdFx0Y29uc3Qgb3JkZXIgPSBhY3RpdmVGaWVsZHNTb3J0ZWRbal0ub3JkZXI7XHJcblx0XHRcdFx0YWN0aXZlRmllbGRzU29ydGVkW2pdLm9yZGVyID0gcHJldmlvdXNPcmRlcjtcclxuXHRcdFx0XHRwcmV2aW91c09yZGVyID0gb3JkZXI7XHJcblx0XHRcdH1cclxuXHRcdFx0YWN0aXZlRmllbGRzU29ydGVkW2Zyb21JbmRleF0ub3JkZXIgPSBwcmV2aW91c09yZGVyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bGV0IG5leHRPcmRlciA9IGFjdGl2ZUZpZWxkc1NvcnRlZFtmcm9tSW5kZXhdLm9yZGVyO1xyXG5cdFx0XHRmb3IgKGxldCBqID0gZnJvbUluZGV4IC0gMTsgaiA+PSB0b0luZGV4OyBqLS0pIHtcclxuXHRcdFx0XHRjb25zdCBvcmRlciA9IGFjdGl2ZUZpZWxkc1NvcnRlZFtqXS5vcmRlcjtcclxuXHRcdFx0XHRhY3RpdmVGaWVsZHNTb3J0ZWRbal0ub3JkZXIgPSBuZXh0T3JkZXI7XHJcblx0XHRcdFx0bmV4dE9yZGVyID0gb3JkZXI7XHJcblx0XHRcdH1cclxuXHRcdFx0YWN0aXZlRmllbGRzU29ydGVkW2Zyb21JbmRleF0ub3JkZXIgPSBuZXh0T3JkZXI7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRQcmV2aWV3U3BsYXNoVmlzaWJsZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzUHJldmlld1NwbGFzaFZpc2libGU7XHJcblx0fVxyXG5cclxuXHRnZXRQcmV2aWV3U3BsYXNoVGV4dCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnByZXZpZXdTcGxhc2hUZXh0O1xyXG5cdH1cclxuXHJcblx0aGFzQWdncmVnYXRlRm9ybWF0cygpIHtcclxuXHRcdGlmICghdGhpcy5hY3RpdmVDaGVja2VkRmllbGRzKSByZXR1cm4gZmFsc2U7XHJcblx0XHRjb25zdCBhZ2dyZWdhdGVGb3JtYXRzID0gW1xyXG5cdFx0XHQnUGVyY2VudE9mR3JvdXAnLFxyXG5cdFx0XHQnUGVyY2VudE9mR3JvdXBXaXRoUm91bmRpbmcnLFxyXG5cdFx0XHQnR2F1Z2UnLFxyXG5cdFx0XHQnR2F1Z2VWYXJpYWJsZScsXHJcblx0XHRcdCdHYXVnZURhc2hib2FyZCdcclxuXHRcdF07XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYWN0aXZlQ2hlY2tlZEZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBmaWVsZCA9IHRoaXMuYWN0aXZlQ2hlY2tlZEZpZWxkc1tpXTtcclxuXHRcdFx0aWYgKCFmaWVsZCB8fCAhZmllbGQuZm9ybWF0IHx8ICFmaWVsZC5mb3JtYXQudmFsdWUpIGNvbnRpbnVlO1xyXG5cdFx0XHRpZiAoYWdncmVnYXRlRm9ybWF0cy5pbmRleE9mKGZpZWxkLmZvcm1hdC52YWx1ZSkgPj0gMCkgcmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXN0b3JlIGRlZmF1bHQgY29sb3Igc2V0dGluZ3MuXHJcblx0ICovXHJcblx0cmVzdG9yZURlZmF1bHRDb2xvcnMoKSB7XHJcblx0XHRjb25zdCBzdHlsZSA9IHRoaXMucmVwb3J0U2V0Lm9wdGlvbnMuc3R5bGU7XHJcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKTtcclxuXHJcblx0XHRzdHlsZS5ib3JkZXJDb2xvciA9IHNldHRpbmdzLnJlcG9ydEJvcmRlckNvbG9yO1xyXG5cdFx0c3R5bGUuaGVhZGVyQ29sb3IgPSBzZXR0aW5ncy5yZXBvcnRIZWFkZXJDb2xvcjtcclxuXHRcdHN0eWxlLmhlYWRlckZvcmVjb2xvciA9IHNldHRpbmdzLmhlYWRlckZvcmVncm91bmRDb2xvcjtcclxuXHRcdHN0eWxlLml0ZW1Db2xvciA9IHNldHRpbmdzLnJlcG9ydEl0ZW1Db2xvcjtcclxuXHRcdHN0eWxlLml0ZW1Gb3JlQ29sb3IgPSBzZXR0aW5ncy5pdGVtRm9yZWdyb3VuZENvbG9yO1xyXG5cdFx0c3R5bGUuaXRlbUFsdENvbG9yID0gc2V0dGluZ3MucmVwb3J0QWx0ZXJuYXRpbmdJdGVtQ29sb3I7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZGVmYXVsdCBmaWVsZCBmb3JtYXQgKGJhc2VkIG9uIGZpZWxkIHR5cGVncm91cClcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gZmllbGQgRmllbGQuXHJcblx0ICovXHJcblx0Z2V0RGVmYXVsdEZpZWxkRm9ybWF0KHR5cGVHcm91cCkge1xyXG5cdFx0bGV0IGZvcm1hdEtleTtcclxuXHRcdHN3aXRjaCAodHlwZUdyb3VwKSB7XHJcblx0XHRcdGNhc2UgJ051bWVyaWMnOlxyXG5cdFx0XHRcdGZvcm1hdEtleSA9ICd7MDojLDB9JztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnUmVhbCc6XHJcblx0XHRcdFx0Zm9ybWF0S2V5ID0gJ3swOiMsMC4wMH0nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdNb25leSc6XHJcblx0XHRcdFx0Zm9ybWF0S2V5ID0gJ3swOkMyfSc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ0RhdGVUaW1lJzpcclxuXHRcdFx0XHRmb3JtYXRLZXkgPSAnezA6ZH0nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdGZvcm1hdEtleSA9ICd7MH0nO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZvcm1hdEtleTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGVcclxuXHRcdFx0LmNvbnN0YW50KCdpemVuZGFJbnN0YW50UmVwb3J0T2JqZWN0RGVmYXVsdHMnLCB7XHJcblx0XHRcdFx0cmVwb3J0TmFtZTogbnVsbCxcclxuXHRcdFx0XHRyZXBvcnRDYXRlZ29yeTogbnVsbCxcclxuXHRcdFx0XHRkYXRhU291cmNlczogW10sXHJcblx0XHRcdFx0Y2hhcnRzOiBbXSxcclxuXHRcdFx0XHRmaWx0ZXJzOiBbXSxcclxuXHRcdFx0XHRmaWx0ZXJPcHRpb25zOiB7XHJcblx0XHRcdFx0XHRyZXF1aXJlOiAnTm9uZScsXHJcblx0XHRcdFx0XHRmaWx0ZXJMb2dpYzogJydcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGRyaWxsRG93bkZpZWxkczogW10sXHJcblx0XHRcdFx0b3B0aW9uczoge1xyXG5cdFx0XHRcdFx0dXNlc0hpZGRlbkNvbHVtbnM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0cm93c1JhbmdlOiBudWxsLFxyXG5cdFx0XHRcdFx0ZGlzdGluY3Q6IHRydWUsXHJcblx0XHRcdFx0XHRzaG93RmlsdGVyc0luUmVwb3J0RGVzY3JpcHRpb246IGZhbHNlLFxyXG5cdFx0XHRcdFx0aXNTdWJ0b3RhbHNFbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0XHRcdGV4cG9zZUFzRGF0YXNvdXJjZTogZmFsc2UsXHJcblx0XHRcdFx0XHRoaWRlR3JpZDogZmFsc2UsXHJcblx0XHRcdFx0XHR0b3A6ICcnLFxyXG5cdFx0XHRcdFx0cHJldmlld1RvcDogMTAwLFxyXG5cdFx0XHRcdFx0aW1hZ2VBbGlnbjogJ0wnLFxyXG5cdFx0XHRcdFx0dGl0bGU6ICcnLFxyXG5cdFx0XHRcdFx0dGl0bGVBbGlnbjogJ0wnLFxyXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICcnLFxyXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb25BbGlnbjogJ0wnLFxyXG5cdFx0XHRcdFx0aGVhZGVyQW5kRm9vdGVyOiB7XHJcblx0XHRcdFx0XHRcdHJlcG9ydEhlYWRlcjogJycsXHJcblx0XHRcdFx0XHRcdHJlcG9ydEhlYWRlckFsaWduOiAnTCcsXHJcblx0XHRcdFx0XHRcdHJlcG9ydEZvb3RlcjogJycsXHJcblx0XHRcdFx0XHRcdHJlcG9ydEZvb3RlckFsaWduOiAnTCcsXHJcblx0XHRcdFx0XHRcdHBhZ2VIZWFkZXI6ICcnXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0c3R5bGU6IHtcclxuXHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6ICcjZmZmZmZmJyxcclxuXHRcdFx0XHRcdFx0aGVhZGVyQ29sb3I6ICcjNDgzZDhiJyxcclxuXHRcdFx0XHRcdFx0aGVhZGVyRm9yZWNvbG9yOiAnI2ZmZmZmZicsXHJcblx0XHRcdFx0XHRcdGl0ZW1Db2xvcjogJyNmZmZmZmYnLFxyXG5cdFx0XHRcdFx0XHRpdGVtRm9yZUNvbG9yOiAnIzAwMDAwMCcsXHJcblx0XHRcdFx0XHRcdGl0ZW1BbHRDb2xvcjogJyNkY2RjZGMnLFxyXG5cdFx0XHRcdFx0XHRpc0hlYWRlcnNCb2xkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0aXNIZWFkZXJzSXRhbGljOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0Y3VzdG9tQ3NzOiAnJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBhZ2U6IHtcclxuXHRcdFx0XHRcdFx0bGFuZHNjYXBlUHJpbnRpbmc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRzaG93UGFnZU51bWJlcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHNob3dEYXRlQW5kVGltZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHVzZVBhZ2luYXRpb246IHRydWUsXHJcblx0XHRcdFx0XHRcdGl0ZW1zUGVyUGFnZTogMTAwMDAsXHJcblx0XHRcdFx0XHRcdGFkZEJvb2ttYXJrRm9yVmc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRwYWdlQnJlYWtBZnRlclZnOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0bWluaW1pemVHcmlkV2lkdGg6IHRydWUsXHJcblx0XHRcdFx0XHRcdGVuYWJsZVJlc3BvbnNpdmVHcmlkOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHR2Z1N0eWxlOiAnQ29tbWFEZWxpbWl0ZWQnLFxyXG5cdFx0XHRcdFx0XHRwaXZvdHNQZXJQYWdlOiAnJyxcclxuXHRcdFx0XHRcdFx0c3BsaXRBbGxDb2x1bW5zOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0cGFnZUJyZWFrT25TcGxpdDogZmFsc2VcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGlzRmllbGRzQXV0b0dyb3VwZWQ6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdC5jb25zdGFudCgnaXplbmRhRmlsdGVyT2JqZWN0RGVmYXVsdHMnLCB7XHJcblx0XHRcdFx0aW5pdGlhbGl6ZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGZpZWxkOiBudWxsLFxyXG5cdFx0XHRcdHJlcXVpcmVkOiBmYWxzZSxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJycsXHJcblx0XHRcdFx0cGFyYW1ldGVyOiB0cnVlLFxyXG5cdFx0XHRcdG9wZXJhdG9yU3RyaW5nOiAnJyxcclxuXHRcdFx0XHRvcGVyYXRvcjogbnVsbCxcclxuXHRcdFx0XHRvcGVyYXRvcnM6IFtdLFxyXG5cdFx0XHRcdGV4aXN0ZW50VmFsdWVzOiBbXSxcclxuXHRcdFx0XHR2YWx1ZXM6IFtdLFxyXG5cdFx0XHRcdHRpdGxlRm9ybWF0OiBudWxsLFxyXG5cdFx0XHRcdHRpdGxlRm9ybWF0czogW10sXHJcblx0XHRcdFx0aXNWYWxpZDogdHJ1ZSxcclxuXHRcdFx0XHR2YWxpZGF0aW9uTWVzc2FnZXM6IFtdLFxyXG5cdFx0XHRcdHZhbGlkYXRpb25NZXNzYWdlU3RyaW5nOiAnJyxcclxuXHRcdFx0XHRjdXN0b21Qb3B1cFRlbXBsYXRlVXJsOiBudWxsLFxyXG5cdFx0XHRcdGlzRmlsdGVyUmVhZHk6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdC5jb25zdGFudCgnaXplbmRhRGVmYXVsdEZ1bmN0aW9uT2JqZWN0Jywge1xyXG5cdFx0XHRcdGRhdGFUeXBlOiAnVW5rbm93bicsXHJcblx0XHRcdFx0ZGF0YVR5cGVHcm91cDogJ05vbmUnLFxyXG5cdFx0XHRcdGlzU2NhbGFyOiAnMCcsXHJcblx0XHRcdFx0c3FsVGVtcGxhdGU6ICd7MH0nLFxyXG5cdFx0XHRcdHRleHQ6ICcuLi4nLFxyXG5cdFx0XHRcdHZhbHVlOiAnTm9uZScsXHJcblx0XHRcdFx0Z3JvdXA6ICcnXHJcblx0XHRcdH0pXHJcblx0XHRcdC5jb25zdGFudCgnaXplbmRhRGVmYXVsdFN1YnRvdGFsRnVuY3Rpb25PYmplY3QnLCB7XHJcblx0XHRcdFx0ZGF0YVR5cGU6ICdVbmtub3duJyxcclxuXHRcdFx0XHRkYXRhVHlwZUdyb3VwOiAnTm9uZScsXHJcblx0XHRcdFx0aXNTY2FsYXI6ICcwJyxcclxuXHRcdFx0XHRzcWxUZW1wbGF0ZTogJ3swfScsXHJcblx0XHRcdFx0dGV4dDogJyhEZWZhdWx0KScsXHJcblx0XHRcdFx0dmFsdWU6ICdERUZBVUxUJyxcclxuXHRcdFx0XHRncm91cDogJydcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNvbnN0YW50KCdpemVuZGFEZWZhdWx0Rm9ybWF0T2JqZWN0Jywge1xyXG5cdFx0XHRcdHRleHQ6ICcuLi4nLFxyXG5cdFx0XHRcdHZhbHVlOiAnezB9JyxcclxuXHRcdFx0XHRncm91cDogJydcclxuXHRcdFx0fSlcclxuXHRcdFx0LnNlcnZpY2UoJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UnLCBJemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlKSk7XHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zdG9yYWdlJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcGl2b3QnO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zZXR0aW5ncyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2Uge1xyXG5cclxuXHR2YWxpZGF0aW9uID0ge1xyXG5cdFx0aXNWYWxpZDogdHJ1ZSxcclxuXHRcdG1lc3NhZ2VzOiBbXVxyXG5cdH07XHJcblx0YmluYXJ5RmllbGRzQXJyYXk6IHN0cmluZ1tdID0gWydOdWxsJywgJ1Vua25vd24nLCAnQmluYXJ5JywgJ1ZhckJpbmFyeScsICdUZXh0JywgJ0ltYWdlJ107XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZScsXHJcblx0XHRcdCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZTogSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpIHtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJcyByZXBvcnQgdmFsaWQgZ2V0dGVyXHJcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFxyXG5cdCAqL1xyXG5cdGlzUmVwb3J0VmFsaWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0aW9uLmlzVmFsaWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0aW9uIG9iamVjdCBnZXR0ZXJcclxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fSBcclxuXHQgKi9cclxuXHRnZXRWYWxpZGF0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGlvbjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBsaXN0IG9mIHZhbGlkYXRpb24gbWVzc2FnZXNcclxuXHQgKiBAcmV0dXJucyB7QXJyYXl9LlxyXG5cdCAqL1xyXG5cdGdldFZhbGlkYXRpb25NZXNzYWdlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRpb24ubWVzc2FnZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSBwaXZvdHMuIFxyXG5cdCAqL1xyXG5cdHZhbGlkYXRlUGl2b3RzKCkge1xyXG5cdFx0Y29uc3QgcGl2b3RDb2x1bW4gPSB0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90Q29sdW1uKCk7XHJcblx0XHRjb25zdCBwaXZvdENlbGxzID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRDZWxsVmFsdWVzKCk7XHJcblxyXG5cdFx0Ly8gY2hlY2sgaWYgcGl2b3QgY29sdW1uIHdhcyBzZXQ6XHJcblx0XHRpZiAoYW5ndWxhci5pc09iamVjdChwaXZvdENvbHVtbikpIHtcclxuXHRcdFx0aWYgKCFwaXZvdENlbGxzIHx8ICFwaXZvdENlbGxzLmxlbmd0aCkge1xyXG5cdFx0XHRcdC8vIHNob3cgd2FybmluZyB3aGVuIHBpdm90IGNlbGxzIHdhc24ndCBhZGRlZC5cclxuXHRcdFx0XHR0aGlzLnZhbGlkYXRpb24uaXNWYWxpZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMudmFsaWRhdGlvbi5tZXNzYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRcdHR5cGU6ICdpbmZvJyxcclxuXHRcdFx0XHRcdHRleHQ6IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQWRkUGl2b3RDZWxsc1dhcm5pbmcnLFxyXG5cdFx0XHRcdFx0XHQnWW91IHNob3VsZCBhZGQgcGl2b3QgY2VsbHMgdG8gZW5hYmxlIHBpdm90IHZpZXcuJylcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb25zdCBoYXZlUGl2b3RDZWxscyA9IHBpdm90Q2VsbHMuc29tZShwID0+IGFuZ3VsYXIuaXNPYmplY3QocCkpO1xyXG5cdFx0XHRcdGlmICghaGF2ZVBpdm90Q2VsbHMpIHtcclxuXHRcdFx0XHRcdHRoaXMudmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR0aGlzLnZhbGlkYXRpb24ubWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0XHRcdHR5cGU6ICdpbmZvJyxcclxuXHRcdFx0XHRcdFx0dGV4dDogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TcGVjaWZ5UGl2b3RDb2x1bW5XYXJuaW5nJyxcclxuXHRcdFx0XHRcdFx0XHQnWW91IHNob3VsZCBzcGVjaWZ5IGNvbHVtbiBmb3IgYXQgbGVhc3Qgb25lIHBpdm90IGNlbGwgKHBpdm90IGNlbGxzIHdpdGhvdXQgY29sdW1uIHdpbGwgYmUgaWdub3JlZCkuJylcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xlYXIgYWxsIHZhbGlkYXRpb24gbWVzc2FnZXMgYW5kIHN0YXRlXHJcblx0ICovXHJcblx0Y2xlYXJWYWxpZGF0aW9uKCkge1xyXG5cdFx0dGhpcy52YWxpZGF0aW9uLmlzVmFsaWQgPSB0cnVlO1xyXG5cdFx0dGhpcy52YWxpZGF0aW9uLm1lc3NhZ2VzID0gW107XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gZXhpc3RpbmcgdmFsaWRhdGlvbiBhY3Rpb25zXHJcblx0ICovXHJcblx0Z2V0VmFsaWRhdGlvbkFjdGlvbnMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0aW9uLm1lc3NhZ2VzXHJcblx0XHRcdC5tYXAobSA9PiBtLmFkZGl0aW9uYWxBY3Rpb25UeXBlKVxyXG5cdFx0XHQuZmlsdGVyKGEgPT4gISFhKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIHJlcG9ydCBzZXRcclxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmVwb3J0IGlzIHZhbGlkXHJcblx0ICovXHJcblx0dmFsaWRhdGVSZXBvcnRTZXQoKSB7XHJcblx0XHR0aGlzLmNsZWFyVmFsaWRhdGlvbigpO1xyXG5cclxuXHRcdGNvbnN0IHBpdm90Q29sdW1uID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRQaXZvdENvbHVtbigpO1xyXG5cdFx0Y29uc3QgYWN0aXZlRmllbGRzID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKCk7XHJcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKTtcclxuXHJcblx0XHQvLyB0cnkgdG8gZmluZCBhdCBsZWFzdCBvbmUgYWN0aXZlIGZpZWxkXHJcblx0XHRjb25zdCBiaW5hcnlGaWVsZHMgPSBbXTtcclxuXHRcdGxldCBoYXNBY3RpdmVGaWVsZHM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdGFjdGl2ZUZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuXHRcdFx0aGFzQWN0aXZlRmllbGRzID0gaGFzQWN0aXZlRmllbGRzIHx8IGZpZWxkLmNoZWNrZWQ7XHJcblx0XHRcdGlmIChmaWVsZC5jaGVja2VkICYmIHRoaXMuYmluYXJ5RmllbGRzQXJyYXkuaW5kZXhPZihmaWVsZC5zcWxUeXBlKSA+PSAwKSB7XHJcblx0XHRcdFx0YmluYXJ5RmllbGRzLnB1c2goZmllbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyB0cnkgdG8gZmluZCBhY3RpdmUgcGl2b3QgZmllbGRzXHJcblx0XHRoYXNBY3RpdmVGaWVsZHMgPSBoYXNBY3RpdmVGaWVsZHMgfHwgdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5pc1Bpdm90VmFsaWQoKTtcclxuXHJcblx0XHQvLyBjcmVhdGUgdmFsaWRhdGlvbiByZXN1bHQgZm9yIGZpZWxkc1xyXG5cdFx0aWYgKCFoYXNBY3RpdmVGaWVsZHMgJiYgIXBpdm90Q29sdW1uKSB7XHJcblx0XHRcdHRoaXMudmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMudmFsaWRhdGlvbi5tZXNzYWdlcy5wdXNoKHtcclxuXHRcdFx0XHR0eXBlOiAnaW5mbycsXHJcblx0XHRcdFx0dGV4dDogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Zb3VTaG91bGRTZWxlY3RGaWVsZCcsICdZb3Ugc2hvdWxkIHNlbGVjdCBhdCBsZWFzdCBvbmUgZmllbGQgdG8gc2VlIHByZXZpZXcuJylcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gc3RvcmVkIHByb2NlZHVyZSBwYXJhbWV0ZXJzIHZhbGlkYXRpb25cclxuXHRcdGlmICghdGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmlzQWxsU3BQYXJhbWV0ZXJzQXNzaWduZWQoKSkge1xyXG5cdFx0XHR0aGlzLnZhbGlkYXRpb24uaXNWYWxpZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLnZhbGlkYXRpb24ubWVzc2FnZXMucHVzaCh7XHJcblx0XHRcdFx0dHlwZTogJ2luZm8nLFxyXG5cdFx0XHRcdHRleHQ6IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfc3BQYXJhbWV0ZXJJc1JlcXVpcmVkJywgJ1BsZWFzZSBzcGVjaWZ5IHZhbHVlcyBmb3IgeW91ciBzdG9yZWQgcHJvY2VkdXJlIHBhcmFtZXRlcnMgaW4gdGhlIGZpbHRlcnMuJylcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZGlzdGluY3QgdmFsaWRhdGlvblxyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKS5zaG93RGlzdGluY3QgJiYgb3B0aW9ucy5kaXN0aW5jdCAmJiBiaW5hcnlGaWVsZHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCBiaW5hcnlGaWVsZHNTdHJpbmcgPSBiaW5hcnlGaWVsZHNcclxuXHRcdFx0XHQubWFwKChiRmllbGQ6IGFueSkgPT4gYFwiJHtiRmllbGQubmFtZX1cIiAoJHtiRmllbGQuc3FsVHlwZX0pYClcclxuXHRcdFx0XHQuam9pbignLCAnKTtcclxuXHRcdFx0dGhpcy52YWxpZGF0aW9uLm1lc3NhZ2VzLnB1c2goe1xyXG5cdFx0XHRcdHR5cGU6ICdpbmZvJyxcclxuXHRcdFx0XHRhZGRpdGlvbmFsQWN0aW9uVHlwZTogJ1RVUk5fT0ZGX0RJU1RJTkNUJyxcclxuXHRcdFx0XHR0ZXh0OiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKFxyXG5cdFx0XHRcdFx0J2pzX0NvbHVtbnNJc250Q29tcGF0aWJsZVdpdGhEaXN0aW5jdCcsXHJcblx0XHRcdFx0XHQnUmVwb3J0IGNvbnRhaW4gY29sdW1uczogezB9LiBUaGVzZSBjb2x1bW5zIGFyZSBub3QgY29tcGF0YWJsZSB3aXRoIFwiZGlzdGluY3RcIiBzZXR0aW5nLiBEaXN0aW5jdCBzZXR0aW5nIHdhcyBkaXNhYmxlZCEnLFxyXG5cdFx0XHRcdFx0W2JpbmFyeUZpZWxkc1N0cmluZ10pXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJ1biBwaXZvdHMgdmFsaWRhdGlvblxyXG5cdFx0dGhpcy52YWxpZGF0ZVBpdm90cygpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRpb24uaXNWYWxpZDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSByZXBvcnQgc2V0IGFuZCByZWZyZXNoIHByZXZpZXcuXHJcblx0ICovXHJcblx0dmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKGZvcmNlUmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblx0XHRjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gdGhpcy52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0Y29uc3QgdmFsaWRhdGlvbkFjdGlvbnMgPSB0aGlzLmdldFZhbGlkYXRpb25BY3Rpb25zKCk7XHJcblx0XHRpZiAodmFsaWRhdGlvblJlc3VsdCkge1xyXG5cdFx0XHQvLyByZXBvcnQgaXMgdmFsaWRcclxuXHRcdFx0aWYgKHZhbGlkYXRpb25BY3Rpb25zLmluZGV4T2YoJ1RVUk5fT0ZGX0RJU1RJTkNUJykgPj0gMClcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpLmRpc3RpbmN0ID0gZmFsc2U7XHJcblx0XHRcdGlmIChmb3JjZVJlZnJlc2ggfHwgIXRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFJlcG9ydFByZXZpZXdIdG1sKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyByZXBvcnQgbm90IHZhbGlkXHJcblx0XHRcdHRoaXMuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5jbGVhclJlcG9ydFByZXZpZXdIdG1sKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UnLCBJemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSXRlbSBkcmFnZ2FibGUgZGlyZWN0aXZlXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhSW5zdGFudFJlcG9ydEZpZWxkRHJhZ2dhYmxlJywgWyckcm9vdFNjb3BlJyxcclxuXHRmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0bGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG5cdFx0XHRcdHZhciBoYW5kbGUgPSBhdHRycy5kcmFnZ2FibGVIYW5kbGUgfHwgZmFsc2U7XHJcblxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChlbGVtKVsnZHJhZ2dhYmxlJ10oe1xyXG5cdFx0XHRcdFx0aGFuZGxlOiBoYW5kbGUsXHJcblx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0c3RvcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGhlbHBlcjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHRcdFx0XHRcdHZhciAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KHRoaXMpO1xyXG5cdFx0XHRcdFx0XHR2YXIgJGhlbHBlciA9ICR0YXJnZXQuY2xvbmUoKTtcclxuXHRcdFx0XHRcdFx0JGhlbHBlci5jc3Moe1xyXG5cdFx0XHRcdFx0XHRcdCdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXHJcblx0XHRcdFx0XHRcdFx0J3dpZHRoJzogJHRhcmdldC53aWR0aCgpLFxyXG5cdFx0XHRcdFx0XHRcdCdoZWlnaHQnOiAkdGFyZ2V0LmhlaWdodCgpXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHQkaGVscGVyLmF0dHIoJ2RyYWdnYWJsZS1kYXRhLWlkJywgJHRhcmdldC5hdHRyKCdkcmFnZ2FibGUtZGF0YS1pZCcpKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICRoZWxwZXI7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Y3Vyc29yQXQ6IHsgbGVmdDogLTEwLCB0b3A6IC0xMCB9LFxyXG5cdFx0XHRcdFx0YXBwZW5kVG86ICdib2R5JyxcclxuXHRcdFx0XHRcdGRpc3RhbmNlOiAxMCxcclxuXHRcdFx0XHRcdGN1cnNvcjogJ21vdmUnLFxyXG5cdFx0XHRcdFx0ekluZGV4OiA5OTk5XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0c2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0cnMuZHJhZ2dhYmxlRW5hYmxlZCwgZnVuY3Rpb24gKG5ld0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChlbGVtKVsnZHJhZ2dhYmxlJ10obmV3RW5hYmxlZCA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbl0pO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFJbnN0YW50UmVwb3J0RmllbGREcm9wcGFibGVTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZHJvcHBhYmxlQWNjZXB0OiBhbnk7XHJcblx0b25Ecm9wOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJdGVtIGRyb3BwYWJsZSBkaXJlY3RpdmVcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFJbnN0YW50UmVwb3J0RmllbGREcm9wcGFibGUnLCBbXHJcblx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRkcm9wcGFibGVBY2NlcHQ6ICdAJyxcclxuXHRcdFx0XHRvbkRyb3A6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGU6IElJemVuZGFJbnN0YW50UmVwb3J0RmllbGREcm9wcGFibGVTY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZWxlbSlbJ2Ryb3BwYWJsZSddKHtcclxuXHRcdFx0XHRcdGFjY2VwdDogc2NvcGUuZHJvcHBhYmxlQWNjZXB0LFxyXG5cdFx0XHRcdFx0YWN0aXZlQ2xhc3M6ICdkcmFnZ2FibGUtaGlnaGxpZ2h0JyxcclxuXHRcdFx0XHRcdGhvdmVyQ2xhc3M6ICdkcmFnZ2FibGUtaGlnaGxpZ2h0LWhvdmVyJyxcclxuXHRcdFx0XHRcdHRvbGVyYW5jZTogJ3BvaW50ZXInLFxyXG5cdFx0XHRcdFx0ZHJvcDogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNjb3BlLm9uRHJvcCkpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5vbkRyb3Aoe1xyXG5cdFx0XHRcdFx0XHRcdFx0YXJnMDogYW5ndWxhci5lbGVtZW50KHVpLmhlbHBlcikuYXR0cignZHJhZ2dhYmxlLWRhdGEtaWQnKVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRsZWZ0UGFuZWxTZWxlY3RvcjogYW55O1xyXG5cdG1haW5QYW5lbFNlbGVjdG9yOiBhbnk7XHJcblx0b3BlbmVkOiBhbnk7XHJcblx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBhbnk7XHJcbn1cclxuXHJcbmNsYXNzIEl6ZW5kYUluc3RhbnRSZXBvcnRMZWZ0UGFuZWxSZXNpemVEaXJlY3RpdmUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGxlZnRQYW5lbFNlbGVjdG9yOiAnQCcsXHJcblx0XHRtYWluUGFuZWxTZWxlY3RvcjogJ0AnLFxyXG5cdFx0b3BlbmVkOiAnPSdcclxuXHR9O1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkge1xyXG5cdFx0SXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZURpcmVjdGl2ZS5wcm90b3R5cGUubGluayA9IChcclxuXHRcdFx0JHNjb3BlOiBJSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgZ2V0V2lkdGggPSAoJGVsOiBKUXVlcnk8SFRNTEVsZW1lbnQ+KTogbnVtYmVyID0+IHtcclxuXHRcdFx0XHRsZXQgZWxXaWR0aCA9ICRlbC53aWR0aCgpO1xyXG5cdFx0XHRcdGNvbnN0IHN0eWxlRGF0YSA9IFN0cmluZygkZWwuYXR0cignZGF0YS1zdHlsZScpKTtcclxuXHRcdFx0XHRjb25zdCBzdHlsZVN0cmluZyA9IHN0eWxlRGF0YSA/IHN0eWxlRGF0YSA6IFN0cmluZygkZWwuYXR0cignc3R5bGUnKSk7XHJcblx0XHRcdFx0aWYgKHN0eWxlU3RyaW5nKSB7XHJcblx0XHRcdFx0XHQvLyBmaW5kIFwid2lkdGg6IE5OTnB4XCIgaXRlbXMgYW5kIHBhcnNlIGl0LlxyXG5cdFx0XHRcdFx0c3R5bGVTdHJpbmcuc3BsaXQoJzsnKVxyXG5cdFx0XHRcdFx0XHQuZmlsdGVyKHggPT4geCAmJiB4LnRyaW0oKS5pbmRleE9mKCd3aWR0aCcpID09PSAwKVxyXG5cdFx0XHRcdFx0XHQuZm9yRWFjaCh4ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB3aWR0aEFycmF5ID0geC5zcGxpdCgnOicpO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHdpZHRoU3RyaW5nID0gd2lkdGhBcnJheVsxXS50cmltKCk7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW5pdGlhbFZhbHVlID0gZWxXaWR0aDtcclxuXHRcdFx0XHRcdFx0XHRlbFdpZHRoID0gcGFyc2VJbnQod2lkdGhTdHJpbmcuc3Vic3RyaW5nKDAsIHdpZHRoU3RyaW5nLmxlbmd0aCAtIDIpKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaXNOYU4oZWxXaWR0aCkpXHJcblx0XHRcdFx0XHRcdFx0XHRlbFdpZHRoID0gaW5pdGlhbFZhbHVlO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGVsV2lkdGg7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGFwcGx5Q3VzdG9tRXZlbnQgPSAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc0llKCkpIHtcclxuXHRcdFx0XHRcdHRoaXMuJHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaXplbmRhQ3VzdG9tUmVzaXplJykpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25zdCBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnVUlFdmVudHMnKTtcclxuXHRcdFx0XHRcdGV2dC5pbml0VUlFdmVudCgncmVzaXplJywgdHJ1ZSwgZmFsc2UsIHdpbmRvdywgMCk7XHJcblx0XHRcdFx0XHR3aW5kb3cuZGlzcGF0Y2hFdmVudChldnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRzY29wZS4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgPSB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTtcclxuXHJcblx0XHRcdGNvbnN0ICRlbGVtID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KTtcclxuXHRcdFx0bGV0ICRsZWZ0ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5sZWZ0UGFuZWxTZWxlY3Rvcik7XHJcblx0XHRcdGxldCAkbWFpbiA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUubWFpblBhbmVsU2VsZWN0b3IpO1xyXG5cdFx0XHRsZXQgaXNMZWZ0SW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHRcdFx0bGV0IGlzTWFpbkluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIGpxdWVyeSBvYmplY3RzXHJcblx0XHRcdGNvbnN0IGluaXRpYWxpemVFbGVtZW50cyA9ICgpID0+IHtcclxuXHRcdFx0XHRpZiAoIWlzTGVmdEluaXRpYWxpemVkKSB7XHJcblx0XHRcdFx0XHQkbGVmdCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUubGVmdFBhbmVsU2VsZWN0b3IpO1xyXG5cdFx0XHRcdFx0aXNMZWZ0SW5pdGlhbGl6ZWQgPSAkbGVmdC5sZW5ndGggPiAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIWlzTWFpbkluaXRpYWxpemVkKSB7XHJcblx0XHRcdFx0XHQkbWFpbiA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUubWFpblBhbmVsU2VsZWN0b3IpO1xyXG5cdFx0XHRcdFx0aXNNYWluSW5pdGlhbGl6ZWQgPSAkbWFpbi5sZW5ndGggPiAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IGluaXRTdHlsZXMgPSAoJGVsOiBKUXVlcnk8SFRNTEVsZW1lbnQ+KSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgd2lkdGggPSBnZXRXaWR0aCgkZWwpO1xyXG5cdFx0XHRcdGNvbnN0IGxlZnRTdHlsZSA9IGB3aWR0aDogJHt3aWR0aH1weGA7XHJcblx0XHRcdFx0Y29uc3QgbWFpblN0eWxlID0gYG1hcmdpbi1sZWZ0OiAke3dpZHRoICsgNH1weGA7XHJcblx0XHRcdFx0JGVsZW0uYXR0cignc3R5bGUnLCBgd2lkdGg6ICR7d2lkdGh9cHhgKTtcclxuXHRcdFx0XHQkZWxlbS5hdHRyKCdkYXRhLXN0eWxlJywgYGxlZnQ6ICR7d2lkdGh9cHhgKTtcclxuXHRcdFx0XHQkbGVmdC5hdHRyKCdzdHlsZScsIGxlZnRTdHlsZSk7XHJcblx0XHRcdFx0JGxlZnQuYXR0cignZGF0YS1zdHlsZScsIGxlZnRTdHlsZSk7XHJcblx0XHRcdFx0JG1haW4uYXR0cignc3R5bGUnLCBtYWluU3R5bGUpO1xyXG5cdFx0XHRcdCRtYWluLmF0dHIoJ2RhdGEtc3R5bGUnLCBtYWluU3R5bGUpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBkcmFnZ2FibGVcclxuXHRcdFx0dmFyIHdpbmRvd1dpZHRoID0gYW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykud2lkdGgoKTtcclxuXHRcdFx0JGVsZW1bJ2RyYWdnYWJsZSddKHtcclxuXHRcdFx0XHRheGlzOiAneCcsXHJcblx0XHRcdFx0ekluZGV4OiAyLFxyXG5cdFx0XHRcdGNvbnRhaW5tZW50OiBbMzUwLCAwLCBNYXRoLm1pbigxNTAwLCB3aW5kb3dXaWR0aCAtIDUwMCksIDBdLFxyXG5cdFx0XHRcdGRyYWc6IChldmVudCwgdWkpID0+IHtcclxuXHRcdFx0XHRcdGluaXRpYWxpemVFbGVtZW50cygpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudExlZnRTdHlsZSA9IGB3aWR0aDogJHt1aS5wb3NpdGlvbi5sZWZ0fXB4YDtcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRNYWluU3R5bGUgPSBgbWFyZ2luLWxlZnQ6ICR7dWkucG9zaXRpb24ubGVmdCArIDR9cHhgO1xyXG5cdFx0XHRcdFx0JGVsZW0uYXR0cignZGF0YS1zdHlsZScsIGBsZWZ0OiAke3VpLnBvc2l0aW9uLmxlZnR9cHhgKTtcclxuXHRcdFx0XHRcdCRsZWZ0LmF0dHIoJ3N0eWxlJywgY3VycmVudExlZnRTdHlsZSk7XHJcblx0XHRcdFx0XHQkbGVmdC5hdHRyKCdkYXRhLXN0eWxlJywgY3VycmVudExlZnRTdHlsZSk7XHJcblx0XHRcdFx0XHQkbWFpbi5hdHRyKCdzdHlsZScsIGN1cnJlbnRNYWluU3R5bGUpO1xyXG5cdFx0XHRcdFx0JG1haW4uYXR0cignZGF0YS1zdHlsZScsIGN1cnJlbnRNYWluU3R5bGUpO1xyXG5cdFx0XHRcdFx0YXBwbHlDdXN0b21FdmVudCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpbml0aWFsaXplRWxlbWVudHMoKTtcclxuXHRcdFx0aW5pdFN0eWxlcygkbGVmdCk7XHJcblxyXG5cdFx0XHQvLyBvcGVuL2Nsb3NlIGxlZnQgcGFuZWwgaGFuZGxlclxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdvcGVuZWQnLCAobmV3T3BlbmVkOiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0aW5pdGlhbGl6ZUVsZW1lbnRzKCk7XHJcblx0XHRcdFx0Y29uc3QgaXNNb2JpbGVWaWV3ID0gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHRcdFx0XHRjb25zdCBjb2xsYXBzZWRMZWZ0ID0gaXNNb2JpbGVWaWV3ID8gNDggOiAxMjg7XHJcblx0XHRcdFx0Y29uc3Qgd2lkdGggPSBnZXRXaWR0aCgkbGVmdCk7XHJcblxyXG5cdFx0XHRcdGlmIChuZXdPcGVuZWQpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGRhdGFTdHlsZUxlZnQgPSBTdHJpbmcoJGxlZnQuYXR0cignZGF0YS1zdHlsZScpKSB8fCBgd2lkdGg6ICR7aXNNb2JpbGVWaWV3ID8gJzEwMCUnIDogd2lkdGggKyAncHgnfWA7XHJcblx0XHRcdFx0XHRjb25zdCBkYXRhU3R5bGVNYWluID0gU3RyaW5nKCRtYWluLmF0dHIoJ2RhdGEtc3R5bGUnKSkgfHwgYG1hcmdpbi1sZWZ0OiAke3dpZHRoICsgNH1weDtgO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGF0YVN0eWxlRWxlbSA9IFN0cmluZygkZWxlbS5hdHRyKCdkYXRhLXN0eWxlJykpIHx8IGBsZWZ0OiAke3dpZHRofXB4O2A7XHJcblx0XHRcdFx0XHQkbGVmdC5hdHRyKCdzdHlsZScsIGRhdGFTdHlsZUxlZnQpO1xyXG5cdFx0XHRcdFx0JG1haW4uYXR0cignc3R5bGUnLCBkYXRhU3R5bGVNYWluKTtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmF0dHIoJ3N0eWxlJywgZGF0YVN0eWxlRWxlbSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRsZWZ0LmF0dHIoJ3N0eWxlJywgYHdpZHRoOiAke2NvbGxhcHNlZExlZnR9cHg7YCk7XHJcblx0XHRcdFx0XHQkbWFpbi5hdHRyKCdzdHlsZScsIGBtYXJnaW4tbGVmdDogJHtjb2xsYXBzZWRMZWZ0fXB4O2ApO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuYXR0cignc3R5bGUnLCAnbGVmdDogLTRweDsnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YXBwbHlDdXN0b21FdmVudCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoXHJcblx0XHRcdCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSA9PlxyXG5cdFx0XHRuZXcgSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZURpcmVjdGl2ZSgkd2luZG93LCAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUluc3RhbnRSZXBvcnRMZWZ0UGFuZWxSZXNpemUnLCBbXHJcblx0JyR3aW5kb3cnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJywgSXplbmRhSW5zdGFudFJlcG9ydExlZnRQYW5lbFJlc2l6ZURpcmVjdGl2ZS5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBjaGFydHMgY29udHJvbGxlciBkZWZpbml0aW9uXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnRyb2xsZXIoJ0luc3RhbnRSZXBvcnRDaGFydHNDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJHEnLFxyXG5cdCckaXplbmRhVXJsU2VydmljZScsXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlJyxcclxuXHQnJGxvZycsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JGl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSxcclxuXHRcdCRsb2cpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlO1xyXG5cclxuXHRcdHZtLnZpc3VhbGl6YXRpb25Db25maWcgPSAkaXplbmRhSW5zdGFudFJlcG9ydFZpc3VhbGl6YXRpb25TZXJ2aWNlLmdldFZpc3VhbGl6YXRpb25Db25maWcoKTtcclxuXHRcdHZtLnNlbGVjdGVkQ2hhcnQgPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VsZWN0IGNoYXJ0XHJcblx0XHQgKi9cclxuXHRcdHZtLnNlbGVjdENoYXJ0ID0gZnVuY3Rpb24gKGNoYXJ0KSB7XHJcblx0XHRcdGlmICh2bS5zZWxlY3RlZENoYXJ0ID09PSBjaGFydCkge1xyXG5cdFx0XHRcdHZtLnNlbGVjdGVkQ2hhcnQgPSBudWxsO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2VsZWN0Q2hhcnQobnVsbCk7XHJcblx0XHRcdFx0aWYgKCEkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSlcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dm0uc2VsZWN0ZWRDaGFydCA9IGNoYXJ0O1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2VsZWN0Q2hhcnQoY2hhcnQpO1xyXG5cdFx0XHRcdGlmICghJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmUgY29uZmlnXHJcblx0XHQgKi9cclxuXHRcdHZtLnByZXBhcmVDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdCh2bS52aXN1YWxpemF0aW9uQ29uZmlnKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KHZtLnZpc3VhbGl6YXRpb25Db25maWcuY2F0ZWdvcmllcykpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2bS52aXN1YWxpemF0aW9uQ29uZmlnLmNhdGVnb3JpZXMsIGZ1bmN0aW9uIChpQ2F0ZWdvcnk6IG51bWJlciwgY2F0ZWdvcnk6IGFueSkge1xyXG5cdFx0XHRcdGNhdGVnb3J5Lm9wZW5lZCA9IGlDYXRlZ29yeSA9PT0gMDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogT3BlbiBuZXcgd2luZG93IHdpdGggY2hhcnQgaGVscFxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2bS5zaG93Q2hhcnRIZWxwID0gZnVuY3Rpb24gKGNoYXJ0KSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChjaGFydCkpXHJcblx0XHRcdFx0dGhyb3cgJ0NoYXJ0IHBhcmFtZXRlciBzaG91bGQgYmUgb2JqZWN0JztcclxuXHRcdFx0JHdpbmRvdy5vcGVuKGNoYXJ0LmRvY1VybCwgJ19ibGFuaycpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0VmlzdWFsaXphdGlvblNlcnZpY2UuZ2V0VmlzdWFsaXphdGlvbkNvbmZpZygpJywgZnVuY3Rpb24gKHZpc0NvbmZpZykge1xyXG5cdFx0XHRcdHZtLnZpc3VhbGl6YXRpb25Db25maWcgPSB2aXNDb25maWc7XHJcblx0XHRcdFx0dm0ucHJlcGFyZUNvbmZpZygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0U2VsZWN0ZWRDaGFydCgpJywgZnVuY3Rpb24gKGNoYXJ0KSB7XHJcblx0XHRcdFx0dm0uc2VsZWN0ZWRDaGFydCA9IGNoYXJ0O1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGZpbHRlcnMgY29udHJvbGxlclxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0Q29sdW1uc1NvcnRDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJHEnLFxyXG5cdCckc2NlJyxcclxuXHQnJGxvZycsXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkd2luZG93LFxyXG5cdFx0JHRpbWVvdXQsXHJcblx0XHQkcSxcclxuXHRcdCRzY2UsXHJcblx0XHQkbG9nLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSkge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHQvL3ZtLnBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5hY3RpdmVGaWVsZHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbEFjdGl2ZUZpZWxkcygpO1xyXG5cclxuXHRcdHZtLmNvbHVtblJlb3JkZXJlZCA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgsIGlzVmlzdWFsR3JvdXBDb2x1bW4pIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5tb3ZlRmllbGRUb1Bvc2l0aW9uKGZyb21JbmRleCwgdG9JbmRleCwgaXNWaXN1YWxHcm91cENvbHVtbiwgZmFsc2UpO1xyXG5cdFx0XHRpZiAoISRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpKVxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5jb2x1bW5TZWxlY3RlZCA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNlbGVjdGVkKGZpZWxkLCB0cnVlKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZSB3YXRjaGVzXHJcblx0XHQgKi9cclxuXHRcdHZtLmluaXRXYXRjaGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBbGxBY3RpdmVGaWVsZHMoKScsIGZ1bmN0aW9uIChuZXdBY3RpdmVGaWVsZHMpIHtcclxuXHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMgPSBuZXdBY3RpdmVGaWVsZHM7XHJcblx0XHRcdH0sIHRydWUpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMoKTtcclxuXHR9XHJcbl0pO1xyXG5cclxuXHJcbmludGVyZmFjZSBJSXplbmRhSW5zdGFudFJlcG9ydENvbHVtbnNSZW9yZGVyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG5nSXRlbXM6IGFueTtcclxuXHRzaG93U29ydEJ1dHRvbnM6IGFueTtcclxuXHRvblJlb3JkZXI6IGFueTtcclxuXHRvbkNsaWNrOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2x1bW5zIHJlb3JkZXIgZGlyZWN0aXZlXHJcbiAqL1xyXG5hbmd1bGFyLm1vZHVsZSgnaXplbmRhSW5zdGFudFJlcG9ydCcpLmRpcmVjdGl2ZSgnaW5zdGFudFJlcG9ydENvbHVtbnNSZW9yZGVyJywgW1xyXG5cdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uICgkaXplbmRhTG9jYWxlU2VydmljZSwgJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0bmdJdGVtczogJz0nLFxyXG5cdFx0XHRcdHNob3dTb3J0QnV0dG9uczogJ0AnLFxyXG5cdFx0XHRcdG9uUmVvcmRlcjogJyYnLFxyXG5cdFx0XHRcdG9uQ2xpY2s6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHR0ZW1wbGF0ZTpcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWhlYWRlciB2Z1wiPicgKyAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19WaXNHcm91cENvbHVtbnMnLCAnVmlzdWFsIGdyb3VwIGNvbHVtbnMnKSArICc8L2Rpdj4nICtcclxuXHRcdFx0XHQnPHVsIGNsYXNzPVwiaXplbmRhLXJlb3JkZXIgbGlzdC11bnN0eWxlZCB2Z1wiPicgK1xyXG5cdFx0XHRcdCc8bGkgY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtXCIgbmctcmVwZWF0PVwiaXRlbSBpbiB2Z0xpc3RcIiBuZy1iaW5kPVwiaXRlbS50aXRsZVwiPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInB1bGwtcmlnaHQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy11cFwiPjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJwdWxsLXJpZ2h0IGdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctZG93blwiPjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9saT4nICtcclxuXHRcdFx0XHQnPC91bD4nICtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWhlYWRlciBzaW1wbGVcIj4nICsgJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ29sdW1ucycsICdDb2x1bW5zJykgKyAnPC9kaXY+JyArXHJcblx0XHRcdFx0Jzx1bCBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyIGxpc3QtdW5zdHlsZWQgc2ltcGxlXCI+JyArXHJcblx0XHRcdFx0JzxsaSBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWl0ZW1cIiBuZy1yZXBlYXQ9XCJpdGVtIGluIHNpbXBsZUxpc3RcIiBuZy1iaW5kPVwiaXRlbS50aXRsZVwiPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInB1bGwtcmlnaHQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy11cFwiPjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJwdWxsLXJpZ2h0IGdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctZG93blwiPjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9saT4nICtcclxuXHRcdFx0XHQnPC91bD4nLFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGU6IElJemVuZGFJbnN0YW50UmVwb3J0Q29sdW1uc1Jlb3JkZXJTY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0XHR2YXIgJHZnTGlzdCA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLnZnJyksXHJcblx0XHRcdFx0XHQkc2ltcGxlTGlzdCA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLnNpbXBsZScpLFxyXG5cdFx0XHRcdFx0JHZnTGlzdEhlYWRlciA9IGVsZW1lbnQuZmluZCgnLml6ZW5kYS1yZW9yZGVyLWhlYWRlci52ZycpLFxyXG5cdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIgPSBlbGVtZW50LmZpbmQoJy5pemVuZGEtcmVvcmRlci1oZWFkZXIuc2ltcGxlJyk7XHJcblxyXG5cdFx0XHRcdHZhciBkb0NsaWNrID0gZnVuY3Rpb24oZmllbGQpIHtcclxuXHRcdFx0XHRcdGlmIChmaWVsZCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oc2NvcGUub25DbGljaykpXHJcblx0XHRcdFx0XHRcdHNjb3BlLm9uQ2xpY2soeyBmaWVsZDogZmllbGQgfSk7XHJcblx0XHRcdFx0fSBcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQ2FsbCByZW9yZGVyIGhhbmRsZXJcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR2YXIgZG9SZW9yZGVyID0gZnVuY3Rpb24gKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCBpc1ZnKSB7XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNjb3BlLm9uUmVvcmRlcikpXHJcblx0XHRcdFx0XHRcdHNjb3BlLm9uUmVvcmRlcih7XHJcblx0XHRcdFx0XHRcdFx0YXJnMDogc3RhcnRQb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRhcmcxOiBlbmRQb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRhcmcyOiBpc1ZnXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIFNvcnQgaGFuZGxlclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHZhciBzb3J0VXBkYXRlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcclxuXHRcdFx0XHRcdHZhciAkZWxlbSA9IHVpLml0ZW0sXHJcblx0XHRcdFx0XHRcdCRwYXJlbnQgPSAkZWxlbS5jbG9zZXN0KCcuaXplbmRhLXJlb3JkZXInKTtcclxuXHRcdFx0XHRcdHZhciBzdGFydFBvc2l0aW9uID0gcGFyc2VJbnQoJGVsZW0uYXR0cignZGF0YS1vcmRlcicpKTtcclxuXHRcdFx0XHRcdHZhciBlbmRQb3NpdGlvbiA9ICRlbGVtLmluZGV4KCk7XHJcblx0XHRcdFx0XHQvLyB1cGRhdGUgaW5kZXhlc1xyXG5cdFx0XHRcdFx0JHBhcmVudC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24gKGkpIHtcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMpLmF0dHIoJ2RhdGEtb3JkZXInLCBpKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZG9SZW9yZGVyKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCAkcGFyZW50Lmhhc0NsYXNzKCd2ZycpKTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBQcmVwYXJlIGRhdGEgYW5kIHVwZGF0ZSBzb3J0YWJsZVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHZhciBwcmVwYXJlID0gZnVuY3Rpb24gKGl0ZW1zKSB7XHJcblx0XHRcdFx0XHQvLyBwcmVwYXJlIGxpc3RzXHJcblx0XHRcdFx0XHR2YXIgdmdMaXN0ID0gW10sIHNpbXBsZUxpc3QgPSBbXTtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkoaXRlbXMpKSB7XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgaXRlbSA9IGl0ZW1zW2ldO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpdGVtLmlzVmdVc2VkKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmdMaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0c2ltcGxlTGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR2Z0xpc3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHNpbXBsZUxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBjcmVhdGUgZWxlbWVudHM6XHJcblx0XHRcdFx0XHRpZiAodmdMaXN0Lmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdEhlYWRlci5zaG93KCk7XHJcblx0XHRcdFx0XHRcdCR2Z0xpc3Quc2hvdygpO1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0LmVtcHR5KCk7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZnTGlzdCwgZnVuY3Rpb24gKGkpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdGFibGUgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFRhYmxlQnlJZCh0aGlzLnBhcmVudElkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgJGVsID0gYW5ndWxhci5lbGVtZW50KCc8bGkgY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtXCI+PC9saT4nKTtcclxuXHRcdFx0XHRcdFx0XHQkZWwuYXR0cignZGF0YS1vcmRlcicsIGkpO1xyXG5cdFx0XHRcdFx0XHRcdCR2Z0xpc3QuYXBwZW5kKCRlbCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciAkc3BhbiA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJpemVuZGEtcmVvcmRlci1pdGVtLXRleHRcIj48L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRcdFx0JHNwYW4udGV4dCh0YWJsZS5uYW1lICsgJyDihpIgJyArICh0aGlzLmRlc2NyaXB0aW9uICE9PSAnJyA/IHRoaXMuZGVzY3JpcHRpb24gOiB0aGlzLm5hbWUpKTtcclxuXHRcdFx0XHRcdFx0XHQkc3Bhbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkb0NsaWNrKHZnTGlzdFtpXSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkc3Bhbik7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChzY29wZS5zaG93U29ydEJ1dHRvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciAkYXJyb3dVcCA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJkcy1tdWx0aXBsZS1idXR0b24gaXplbmRhLXJlb3JkZXItaXRlbS1idG4xXCIgdGl0bGU9XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTW92ZUNvbHVtblVwJywgJ01vdmUgY29sdW1uIHVwJykgKyAnXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRlbC5hcHBlbmQoJGFycm93VXApO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGFycm93VXAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaW5kZXggPSBhbmd1bGFyLmVsZW1lbnQodGhpcykuY2xvc2VzdCgnLml6ZW5kYS1yZW9yZGVyLWl0ZW0nKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZG9SZW9yZGVyKGluZGV4LCBpbmRleCAtIDEsIHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciAkYXJyb3dEb3duID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cImRzLW11bHRpcGxlLWJ1dHRvbiBpemVuZGEtcmVvcmRlci1pdGVtLWJ0bjJcIiB0aXRsZT1cIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Nb3ZlQ29sdW1uRG93bicsICdNb3ZlIGNvbHVtbiBkb3duJykgKyAnXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWRvd25cIj48L3NwYW4+PC9zcGFuPicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkYXJyb3dEb3duKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRhcnJvd0Rvd24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaW5kZXggPSBhbmd1bGFyLmVsZW1lbnQodGhpcykuY2xvc2VzdCgnLml6ZW5kYS1yZW9yZGVyLWl0ZW0nKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPCB2Z0xpc3QubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRvUmVvcmRlcihpbmRleCwgaW5kZXggKyAxLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdFsnc29ydGFibGUnXSgncmVmcmVzaCcpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JHZnTGlzdEhlYWRlci5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCR2Z0xpc3QuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkdmdMaXN0LmVtcHR5KCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHNpbXBsZUxpc3QubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodmdMaXN0Lmxlbmd0aCA+IDApXHJcblx0XHRcdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0JHNpbXBsZUxpc3RIZWFkZXIuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkc2ltcGxlTGlzdC5zaG93KCk7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0LmVtcHR5KCk7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHNpbXBsZUxpc3QsIGZ1bmN0aW9uIChpKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRhYmxlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRUYWJsZUJ5SWQodGhpcy5wYXJlbnRJZCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyICRlbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGxpIGNsYXNzPVwiaXplbmRhLXJlb3JkZXItaXRlbVwiPjwvbGk+Jyk7XHJcblx0XHRcdFx0XHRcdFx0JGVsLmF0dHIoJ2RhdGEtb3JkZXInLCBpKTtcclxuXHRcdFx0XHRcdFx0XHQkc2ltcGxlTGlzdC5hcHBlbmQoJGVsKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyICRzcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3BhbiBjbGFzcz1cIml6ZW5kYS1yZW9yZGVyLWl0ZW0tdGV4dFwiPjwvc3Bhbj4nKTtcclxuXHRcdFx0XHRcdFx0XHQkc3Bhbi50ZXh0KHRhYmxlLm5hbWUgKyAnIOKGkiAnICsgKHRoaXMuZGVzY3JpcHRpb24gIT09ICcnID8gdGhpcy5kZXNjcmlwdGlvbiA6IHRoaXMubmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRcdCRzcGFuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRvQ2xpY2soc2ltcGxlTGlzdFtpXSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0JGVsLmFwcGVuZCgkc3Bhbik7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChzY29wZS5zaG93U29ydEJ1dHRvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciAkYXJyb3dVcCA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJkcy1tdWx0aXBsZS1idXR0b24gaXplbmRhLXJlb3JkZXItaXRlbS1idG4xXCIgdGl0bGU9XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTW92ZUNvbHVtblVwJywgJ01vdmUgY29sdW1uIHVwJykgKyAnXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRlbC5hcHBlbmQoJGFycm93VXApO1xyXG5cdFx0XHRcdFx0XHRcdFx0JGFycm93VXAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaW5kZXggPSBhbmd1bGFyLmVsZW1lbnQodGhpcykuY2xvc2VzdCgnLml6ZW5kYS1yZW9yZGVyLWl0ZW0nKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZG9SZW9yZGVyKGluZGV4LCBpbmRleCAtIDEsIGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgJGFycm93RG93biA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4gY2xhc3M9XCJkcy1tdWx0aXBsZS1idXR0b24gaXplbmRhLXJlb3JkZXItaXRlbS1idG4yXCIgdGl0bGU9XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTW92ZUNvbHVtbkRvd24nLCAnTW92ZSBjb2x1bW4gZG93bicpICsgJ1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy1kb3duXCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRlbC5hcHBlbmQoJGFycm93RG93bik7XHJcblx0XHRcdFx0XHRcdFx0XHQkYXJyb3dEb3duLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGluZGV4ID0gYW5ndWxhci5lbGVtZW50KHRoaXMpLmNsb3Nlc3QoJy5pemVuZGEtcmVvcmRlci1pdGVtJykuaW5kZXgoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGluZGV4IDwgc2ltcGxlTGlzdC5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZG9SZW9yZGVyKGluZGV4LCBpbmRleCArIDEsIGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0JHNpbXBsZUxpc3RbJ3NvcnRhYmxlJ10oJ3JlZnJlc2gnKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRzaW1wbGVMaXN0SGVhZGVyLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0JHNpbXBsZUxpc3QuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkc2ltcGxlTGlzdC5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIGluaXRpYWxpemVcclxuXHRcdFx0XHQkdmdMaXN0Wydzb3J0YWJsZSddKHtcclxuXHRcdFx0XHRcdHVwZGF0ZTogc29ydFVwZGF0ZUhhbmRsZXIsXHJcblx0XHRcdFx0XHRheGlzOiAneSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkdmdMaXN0WydkaXNhYmxlU2VsZWN0aW9uJ10oKTtcclxuXHRcdFx0XHQkc2ltcGxlTGlzdFsnc29ydGFibGUnXSh7XHJcblx0XHRcdFx0XHR1cGRhdGU6IHNvcnRVcGRhdGVIYW5kbGVyLFxyXG5cdFx0XHRcdFx0YXhpczogJ3knXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JHNpbXBsZUxpc3RbJ2Rpc2FibGVTZWxlY3Rpb24nXSgpO1xyXG5cdFx0XHRcdHByZXBhcmUoc2NvcGUubmdJdGVtcyk7XHJcblxyXG5cdFx0XHRcdC8vIHdhdGNoIGZvciB1cGRhdGVzXHJcblx0XHRcdFx0c2NvcGUuJHdhdGNoKCduZ0l0ZW1zJywgZnVuY3Rpb24gKG5ld1ZhbCkge1xyXG5cdFx0XHRcdFx0cHJlcGFyZShuZXdWYWwpO1xyXG5cdFx0XHRcdH0sIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGNvbnRyb2xsZXIgZGVmaW5pdGlvblxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0Q29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyR3aW5kb3cnLFxyXG5cdCckdGltZW91dCcsXHJcblx0JyRjb29raWVzJyxcclxuXHQnJHEnLFxyXG5cdCckbG9nJyxcclxuXHQnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLFxyXG5cdCckaXplbmRhVXJsU2VydmljZScsXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0JyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhU2hhcmVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JHdpbmRvdyxcclxuXHRcdCR0aW1lb3V0LFxyXG5cdFx0JGNvb2tpZXMsXHJcblx0XHQkcSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdCRpemVuZGFVcmxTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYVNjaGVkdWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFTaGFyZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2YXIgVU5DQVRFR09SSVpFRCA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVVybFNlcnZpY2UgPSAkaXplbmRhVXJsU2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhTG9jYWxlU2VydmljZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlO1xyXG5cclxuXHRcdCRzY29wZS4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVNjaGVkdWxlU2VydmljZSA9ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYVNoYXJlU2VydmljZSA9ICRpemVuZGFTaGFyZVNlcnZpY2U7XHJcblxyXG5cdFx0dm0uaXNTbWFsbFJlc29sdXRpb24gPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHJcblx0XHR2bS5pc1NhdmVSZXBvcnRNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0dm0uaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHJcblx0XHR2bS5wcmV2aWV3SHRtbCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UHJldmlldygpO1xyXG5cdFx0dm0ucmVwb3J0U2V0T3B0aW9ucyA9IHtcclxuXHRcdFx0aXNWZ1VzZWQ6IGZhbHNlLFxyXG5cdFx0XHR2Z1N0eWxlOiBudWxsLFxyXG5cdFx0XHRzb3J0ZWRBY3RpdmVGaWVsZHM6IFtdXHJcblx0XHR9OztcclxuXHRcdHZtLmZpbHRlcnNQYW5lbE9wZW5lZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVyc1BhbmVsT3BlbmVkKCk7XHJcblx0XHR2bS5waXZvdHNQYW5lbE9wZW5lZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90c1BhbmVsT3BlbmVkKCk7XHJcblx0XHR2bS5pc1ZhbGlkID0gdHJ1ZTtcclxuXHRcdHZtLmFjdGl2ZUZpZWxkID0gbnVsbDtcclxuXHRcdHZtLmZpbHRlcnNDb3VudCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpLmxlbmd0aDtcclxuXHRcdHZtLnBpdm90Q2VsbHNDb3VudCA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldENlbGxWYWx1ZXMoKS5sZW5ndGg7XHJcblx0XHR2bS50b3AgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKS50b3A7XHJcblx0XHR2bS5wcmV2aWV3VG9wID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCkucHJldmlld1RvcDtcclxuXHRcdHZtLmFjdGl2ZUZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsQWN0aXZlRmllbGRzKCk7XHJcblx0XHR2bS5zZXR0aW5ncyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlLmdldFNldHRpbmdzKCk7XHJcblx0XHR2bS5yZXBvcnRJbmZvID0gbnVsbDtcclxuXHRcdHZtLmlzRXhpc3RpbmdSZXBvcnQgPSBmYWxzZTtcclxuXHJcblx0XHR2bS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSAtMTsgLy8gdXNlZCBmb3Igc2VsZWN0IGZpZWxkIHBvc2l0aW9uIGZvciBkcmFnJ24nZHJvcCBmaWVsZHNcclxuXHJcblx0XHQvLyBMZWZ0IHBhbmVsIHN0YXRlIG9iamVjdFxyXG5cdFx0dmFyIHByZXZpZXdQYW5lbElkID0gNjtcclxuXHRcdHZtLmxlZnRQYW5lbCA9IHtcclxuXHRcdFx0YWN0aXZlSXRlbTogMCxcclxuXHRcdFx0cHJldmlvdXNQYW5lbElkOiAwLFxyXG5cdFx0XHRvcGVuZWQ6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uZXhwb3J0UHJvZ3Jlc3MgPSBudWxsO1xyXG5cclxuXHRcdHZtLmVmZmVjdGl2ZVJpZ2h0cyA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5nZXRSaWdodHMoKTtcclxuXHRcdF91cGRhdGVSZXBvcnRTZXRSaWdodFZhcmlhYmxlcygpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogV2FpdCBtZXNzYWdlIGhlYWRlciBmb3IgZXhwb3J0IGFuZCBwcmludFxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRXYWl0TWVzc2FnZUhlYWRlclRleHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRXhwb3J0aW5nSW5Qcm9ncmVzcycsICdFeHBvcnRpbmcgaW4gcHJvZ3Jlc3MuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZtLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKSB7XHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByaW50aW5nSW5Qcm9ncmVzcycsICdQcmludGluZyBpbiBwcm9ncmVzcy4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBXYWl0IG1lc3NhZ2UgZm9yIGV4cG9ydCBhbmQgcHJpbnRcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0V2FpdE1lc3NhZ2VUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uZXhwb3J0UHJvZ3Jlc3MgPT09ICdleHBvcnQnKSB7XHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZpbmlzaEV4cG9ydGluZycsICdQbGVhc2Ugd2FpdCB0aWxsIGV4cG9ydCBpcyBjb21wbGV0ZWQuLi4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodm0uZXhwb3J0UHJvZ3Jlc3MgPT09ICdwcmludCcpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmluaXNoUHJpbnRpbmcnLCAnUGxlYXNlIGZpbmlzaCBwcmludGluZyBiZWZvcmUgY29udGludWUuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IGFjdGl2ZSBwYW5lbFxyXG5cdFx0ICovXHJcblx0XHR2bS5zZXRMZWZ0UGFuZWxBY3RpdmVJdGVtID0gZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRcdHZtLmxlZnRQYW5lbC5hY3RpdmVJdGVtID0gaWQ7XHJcblx0XHRcdGlmIChpZCAhPT0gcHJldmlld1BhbmVsSWQpXHJcblx0XHRcdFx0dm0ubGVmdFBhbmVsLnByZXZpb3VzUGFuZWxJZCA9IGlkO1xyXG5cdFx0XHR2bS5sZWZ0UGFuZWwub3BlbmVkID0gdHJ1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPcGVuIHJlcG9ydCBkZXNpZ25lci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub3BlblJlcG9ydEluRGVzaWduZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uub3BlblJlcG9ydEluRGVzaWduZXIoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWZyZXNoIHByZXZpZXdcclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVmcmVzaCBwcmV2aWV3IGZvciBtb2JpbGUgZGV2aWNlc1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUNoYW5nZXNNb2JpbGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5sZWZ0UGFuZWwucHJldmlvdXNQYW5lbElkID09PSB2bS5sZWZ0UGFuZWwuYWN0aXZlSXRlbSkge1xyXG5cdFx0XHRcdHZtLnNldExlZnRQYW5lbEFjdGl2ZUl0ZW0oNik7XHJcblx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2godHJ1ZSk7XHJcblx0XHRcdFx0Ly8kaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZtLnNldExlZnRQYW5lbEFjdGl2ZUl0ZW0odm0ubGVmdFBhbmVsLnByZXZpb3VzUGFuZWxJZCk7XHJcblx0XHRcdFx0dm0ubGVmdFBhbmVsLnByZXZpb3VzUGFuZWxJZCA9IHZtLmxlZnRQYW5lbC5hY3RpdmVJdGVtO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0IHByZXZpZXcgdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2V0UHJldmlld1RvcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNldFByZXZpZXdUb3AodmFsdWUpO1xyXG5cdFx0XHR2bS5hcHBseUNoYW5nZXMoKTtcclxuXHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIGFjdGl2ZSBjbGFzcyBmb3IgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0TGVmdFBhbmVsQ2xhc3MgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHZtLmlzRXhpc3RpbmdSZXBvcnQgPyAnaGFzLXRpdGxlJyA6ICcnO1xyXG5cdFx0XHRpZiAodm0uaXNMZWZ0UGFuZWxCb2R5QWN0aXZlKGlkKSlcclxuXHRcdFx0XHRyZXN1bHQgKz0gJyBhY3RpdmUnO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LnRyaW0oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgY2xhc3MgZm9yIG1vYmlsZSB2aWV3XHJcblx0XHQgKi9cclxuXHRcdHZtLmdldE1vYmlsZUNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uaXNTbWFsbFJlc29sdXRpb24gPyAnIGl6LWluc3QtbW9iaWxlICcgOiAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiByZXR1cm5zIHRydWUgb25seSBmb3IgYWN0aXZlIHBhbmVsIGluIGxlZnQgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uaXNMZWZ0UGFuZWxCb2R5QWN0aXZlID0gZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5sZWZ0UGFuZWwuYWN0aXZlSXRlbSA9PT0gaWQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSGlkZS9zaG93IGxlZnQgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0udG9nZ2xlTGVmdFBhbmVsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2bS5sZWZ0UGFuZWwub3BlbmVkID0gIXZtLmxlZnRQYW5lbC5vcGVuZWQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHRvZ2dsZSBsZWZ0IHBhbmVsIGJ1dHRvbiB0aXRsZVxyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRUb2dnbGVCdXR0b25UaXRsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLmxlZnRQYW5lbC5vcGVuZWQpXHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0hpZGVMZWZ0UGFuZWwnLCAnSGlkZSBsZWZ0IHBhbmVsJyk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2hvd0xlZnRQYW5lbCcsICdTaG93IGxlZnQgcGFuZWwnKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGVyIGNvbHVtbiBkcmFnL2Ryb3AgcmVvcmRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5jb2x1bW5SZW9yZGVyZWQgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4LCBpc1ZnKSB7XHJcblx0XHRcdC8vIHdlIG5lZWQgdG8gdW5kZXJzdGFuZCB0aGF0IHN3YXAgZnJvbSA8LT4gdG8gZG9lc24ndCB0YWtlIGludG8gY29uY2lkZXJhdGlvbiBpbnZpc2libGUgZmllbGRzLlxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm1vdmVGaWVsZFRvUG9zaXRpb24oZnJvbUluZGV4LCB0b0luZGV4LCBpc1ZnLCB0cnVlKTtcclxuXHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNvbHVtbnMsIGFsbG93ZWQgZm9yIHJlb3JkZXJcclxuXHRcdCAqIEByZXR1cm5zIHtudW1iZXJ9IGNvdW50IG9mIGNvbHVtbnMgd2hpY2ggYWxsb3dlZCBmb3IgcmVvcmRlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0QWxsb3dlZENvbHVtbnNGb3JSZW9yZGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uYWN0aXZlRmllbGRzLmxlbmd0aDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb2x1bW4gc2VsZWN0ZWRcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VsZWN0ZWRDb2x1bW4gPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS51bnNlbGVjdEFsbEZpZWxkcygpO1xyXG5cdFx0XHRmaWVsZC5zZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKGZpZWxkKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlIGNvbHVtbiBieSBnaXZlbiBpbmRleFxyXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFxyXG5cdFx0ICovXHJcblx0XHR2bS5yZW1vdmVDb2x1bW4gPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzTnVtYmVyKGZpZWxkLnBhcmVudEZpZWxkSWQpKSB7XHJcblx0XHRcdFx0Ly8gaWYgaXQgaXMgbm90IG11bHRpcGxlIGNvbHVtbiBmb3Igb25lIGRhdGFiYXNlIGZpZWxkLlxyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZENoZWNrZWQoZmllbGQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIHNlbGVjdGVkRmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEN1cnJlbnRBY3RpdmVGaWVsZCgpO1xyXG5cdFx0XHRcdFx0aWYgKHNlbGVjdGVkRmllbGQgPT09IGZpZWxkKVxyXG5cdFx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRTZWxlY3RlZChmaWVsZCwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBwYXJlbnRGaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeUlkKGZpZWxkLnBhcmVudEZpZWxkSWQpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVtb3ZlQW5vdGhlckZpZWxkKHBhcmVudEZpZWxkLCBmaWVsZCk7XHJcblx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gZmlsdGVycyBtb2RhbCBkaWFsb2dcclxuXHRcdCovXHJcblx0XHR2bS5vcGVuRmlsdGVyc1BhbmVsID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnNldFBpdm90c1BhbmVsT3BlbmVkKGZhbHNlKTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKHZhbHVlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgb3BlbmVkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzUGFuZWxPcGVuZWQoKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNldEZpbHRlcnNQYW5lbE9wZW5lZCghb3BlbmVkKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gcGl2b3RzIHBhbmVsXHJcblx0XHQgKi9cclxuXHRcdHZtLm9wZW5QaXZvdHNQYW5lbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNldEZpbHRlcnNQYW5lbE9wZW5lZChmYWxzZSk7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zZXRQaXZvdHNQYW5lbE9wZW5lZCh2YWx1ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIG9wZW5lZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90c1BhbmVsT3BlbmVkKCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uuc2V0UGl2b3RzUGFuZWxPcGVuZWQoIW9wZW5lZCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gZmlsdGVycyBwYW5lbCBhbmQgYWRkIGZpbHRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRGaWx0ZXIgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmaWVsZFN5c05hbWUpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWN0aXZlVGFibGVzKCkubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dm0ub3BlbkZpbHRlcnNQYW5lbCh0cnVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5jcmVhdGVOZXdGaWx0ZXIoZmllbGRTeXNOYW1lKS50aGVuKGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnMoKS5wdXNoKGZpbHRlcik7XHJcblx0XHRcdFx0ZmlsdGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRGaWx0ZXJPcGVyYXRvcihmaWx0ZXIsIG51bGwpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4gcGl2b3RzIHBhbmVsIGFuZCBhZGQgcGl2b3QgaXRlbVxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRQaXZvdEl0ZW0gPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmaWVsZFN5c05hbWUpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWN0aXZlVGFibGVzKCkubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdHZtLm9wZW5QaXZvdHNQYW5lbCh0cnVlKTtcclxuXHJcblx0XHRcdHZhciBmaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lKTtcclxuXHRcdFx0dmFyIG5ld0l0ZW0gPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNyZWF0ZUZpZWxkT2JqZWN0KFxyXG5cdFx0XHRcdGZpZWxkLm5hbWUsIGZpZWxkLnBhcmVudElkLCBmaWVsZC50YWJsZVN5c25hbWUsIGZpZWxkLnRhYmxlTmFtZSxcclxuXHRcdFx0XHRmaWVsZC5zeXNuYW1lLCBmaWVsZC50eXBlR3JvdXAsIGZpZWxkLnR5cGUsIGZpZWxkLnNxbFR5cGUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmluaXRpYWxpemVGaWVsZChuZXdJdGVtKS50aGVuKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5hZGRQaXZvdEl0ZW0obmV3SXRlbSk7XHJcblxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5QXV0b0dyb3Vwcyh0cnVlKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB2YWxpZGF0aW9uIHN0YXRlIGFuZCByZWZyZXNoIGlmIG5lZWRlZC5cclxuXHRcdCAqL1xyXG5cdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2ggPSBmdW5jdGlvbiAoZm9yY2VSZWZyZXNoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKGZvcmNlUmVmcmVzaCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIGZpZWxkIHRvIHJlcG9ydFxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRGaWVsZFRvUmVwb3J0ID0gZnVuY3Rpb24gKGZpZWxkU3lzTmFtZSkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZmllbGRTeXNOYW1lKSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZhciBmaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lLCB0cnVlKTtcclxuXHRcdFx0aWYgKGZpZWxkLmNoZWNrZWQpIHtcclxuXHRcdFx0XHR2YXIgYW5vdGhlckZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hZGRBbm90aGVyRmllbGQoZmllbGQsIHRydWUpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZENoZWNrZWQoYW5vdGhlckZpZWxkKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnVuc2VsZWN0QWxsRmllbGRzKCk7XHJcblx0XHRcdFx0ZmllbGQuc2VsZWN0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0Q3VycmVudEFjdGl2ZUZpZWxkKGZpZWxkKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRDaGVja2VkKGZpZWxkKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBtb3ZlIGZpZWxkIGZyb20gbGFzdCBwb3N0aW9ucyB0byBzZWxlY3RlZCBwb3NpdGlvbiBpZiBpdCBpcyBkcmFnLW4tZHJvcDpcclxuXHRcdFx0aWYgKGZpZWxkLmNoZWNrZWQgJiYgdm0uY3VycmVudEluc2VydENvbHVtbk9yZGVyID49IDApIHtcclxuXHRcdFx0XHR2YXIgZmllbGRzQXJyYXkgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbFZpc2libGVGaWVsZHMoKS5zbGljZSgpO1xyXG5cdFx0XHRcdGZpZWxkc0FycmF5ID0gYW5ndWxhci5lbGVtZW50LmdyZXAoZmllbGRzQXJyYXksIGZ1bmN0aW9uIChmOiBhbnkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAhZi5pc1ZnVXNlZDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRmaWVsZHNBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dmFyIGZyb20gPSBmaWVsZHNBcnJheS5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdHZhciB0byA9IHZtLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlcjtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm1vdmVGaWVsZFRvUG9zaXRpb24oZnJvbSwgdG8sIGZhbHNlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2bS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSAtMTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbG9zZSBhbGwgbmF2YmFyIG9wZW5lZCBkcm9wZG93bnNcclxuXHRcdCAqL1xyXG5cdFx0dm0uY2xvc2VBbGxOYXZiYXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgJG5hdkJhciA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWluc3QtbmF2YmFyJyk7XHJcblx0XHRcdCRuYXZCYXIuZmluZCgnLm5hdmJhci1uYXYgPiBsaS5vcGVuJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBsYWNlIGRyb3Bkb3duIHRvIHRoZSBwcm9wZXIgcG9zaXRpb24uXHJcblx0XHQgKi9cclxuXHRcdHZtLmFsaWduTmF2RHJvcGRvd25zID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgJG5hdmJhciA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWluc3QtbmF2YmFyJyk7XHJcblx0XHRcdHZhciAkbGlMaXN0ID0gJG5hdmJhci5maW5kKCcuaXotaW5zdC1uYXYgPiBsaS5vcGVuJyk7XHJcblx0XHRcdGlmICghJGxpTGlzdC5sZW5ndGgpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkbGlMaXN0LmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciAkbGkgPSBhbmd1bGFyLmVsZW1lbnQodGhpcyk7XHJcblx0XHRcdFx0dmFyIGxpV2lkdGggPSAkbGkud2lkdGgoKTtcclxuXHRcdFx0XHR2YXIgJGRyb3Bkb3duID0gJGxpLmNoaWxkcmVuKCcuZHJvcGRvd24tbWVudScpO1xyXG5cdFx0XHRcdHZhciBpc1JpZ2h0Tm93ID0gJGRyb3Bkb3duLmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcblx0XHRcdFx0dmFyIGRyb3Bkb3duV2lkdGggPSAkZHJvcGRvd24ud2lkdGgoKTtcclxuXHRcdFx0XHR2YXIgZGVsdGFMZWZ0ID0gJGxpLnBvc2l0aW9uKCkubGVmdCArICRkcm9wZG93bi5wb3NpdGlvbigpLmxlZnQ7XHJcblx0XHRcdFx0dmFyIGRlbHRhUmlnaHQgPSAkbmF2YmFyLndpZHRoKCkgLSBkZWx0YUxlZnQgLSBkcm9wZG93bldpZHRoO1xyXG5cdFx0XHRcdHZhciBpc1JpZ2h0QWxpZ24gPSBmYWxzZTtcclxuXHRcdFx0XHR2YXIgbmVlZFRvTW92ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChkZWx0YVJpZ2h0IDwgMCkge1xyXG5cdFx0XHRcdFx0aXNSaWdodEFsaWduID0gdHJ1ZTtcclxuXHRcdFx0XHRcdG5lZWRUb01vdmUgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZGVsdGFMZWZ0IDwgMCB8fCAoaXNSaWdodE5vdyAmJiBkZWx0YVJpZ2h0ICsgbGlXaWR0aCA+IGRyb3Bkb3duV2lkdGggKyAxMCkpIHtcclxuXHRcdFx0XHRcdG5lZWRUb01vdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0aXNSaWdodEFsaWduID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChuZWVkVG9Nb3ZlKVxyXG5cdFx0XHRcdFx0aWYgKGlzUmlnaHRBbGlnbilcclxuXHRcdFx0XHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdCRkcm9wZG93bi5yZW1vdmVDbGFzcygnZHJvcGRvd24tbWVudS1yaWdodCcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPcGVuIG5hdmJhciBkcm9wZG93biBhY2NvcmRpbmdseSB0byBpdHMgcmVsYXRpdmUgcG9zaXRpb24gdG8gdGhlIGVkZ2VzIG9mIHRoZSBzY3JlZW4uXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGV2ZW50IGFuZ3VsYXIgY2xpY2sgZXZlbnQgb2JqZWN0LlxyXG5cdFx0ICovXHJcblx0XHR2bS5vcGVuTmF2QmFyRHJvcGRvd24gPSBmdW5jdGlvbiAoJGV2ZW50LCBkb1N5bmMpIHtcclxuXHRcdFx0ZnVuY3Rpb24gb3BlbkRyb3Bkb3duKCRsaSkge1xyXG5cdFx0XHRcdHZtLmNsb3NlQWxsTmF2YmFycygpO1xyXG5cdFx0XHRcdCRsaS5hZGRDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdHZtLmFsaWduTmF2RHJvcGRvd25zKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0aWYgKCF2bS5pc1ZhbGlkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdC8vIGRyb3Bkb3duIGVsZW1lbnRzXHJcblx0XHRcdHZhciAkYUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG5cdFx0XHR2YXIgJGxpRWxlbWVudCA9ICRhRWxlbWVudC5wYXJlbnQoKTtcclxuXHRcdFx0dmFyICRkcm9wZG93bkVsZW1lbnQgPSAkYUVsZW1lbnQuc2libGluZ3MoJy5kcm9wZG93bi1tZW51Jyk7XHJcblxyXG5cdFx0XHQvLyBjbG9zZVxyXG5cdFx0XHRpZiAoJGxpRWxlbWVudC5oYXNDbGFzcygnb3BlbicpKSB7XHJcblx0XHRcdFx0JGRyb3Bkb3duRWxlbWVudC5yZW1vdmVDbGFzcygnZHJvcGRvd24tbWVudS1yaWdodCcpO1xyXG5cdFx0XHRcdCRsaUVsZW1lbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG9wZW5cclxuXHRcdFx0aWYgKGRvU3luYylcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNldFJlcG9ydFNldEFzQ3JzKGZhbHNlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdG9wZW5Ecm9wZG93bigkbGlFbGVtZW50KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG9wZW5Ecm9wZG93bigkbGlFbGVtZW50KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uaXNTYXZlQnV0dG9uVmlzaWJsZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uc2V0dGluZ3Muc2hvd1NhdmVDb250cm9scyAmJiB2bS5yaWdodHMuaXNTYXZlQWxsb3dlZCAmJiB2bS5hY3RpdmVGaWVsZHMubGVuZ3RoID4gMDtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uaXNTYXZlQXNCdXR0b25WaXNpYmxlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB2bS5zZXR0aW5ncy5zaG93U2F2ZUNvbnRyb2xzICYmIHZtLnJpZ2h0cy5pc1NhdmVBc0FsbG93ZWQgJiYgdm0uYWN0aXZlRmllbGRzLmxlbmd0aCA+IDA7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2F2ZSBkaWFsb2cgY2xvc2VkIGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uU2F2ZUNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXBvcnQgbmFtZS9jYXRlZ29yeSBzZWxlY3RlZC4gU2F2ZSByZXBvcnQgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub25TYXZlID0gZnVuY3Rpb24gKHJlcG9ydE5hbWUsIGNhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUocmVwb3J0TmFtZSwgY2F0ZWdvcnlOYW1lKTtcclxuXHRcdFx0dm0uaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTYXZlIHJlcG9ydFxyXG5cdFx0ICovXHJcblx0XHR2bS5zYXZlUmVwb3J0ID0gZnVuY3Rpb24gKGZvcmNlUmVuYW1lKSB7XHJcblx0XHRcdHZtLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdHZhciBycyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UmVwb3J0U2V0KCk7XHJcblx0XHRcdHZhciBuZWVkVG9SZW5hbWUgPSBmb3JjZVJlbmFtZSB8fCAhcnMucmVwb3J0TmFtZTtcclxuXHRcdFx0aWYgKG5lZWRUb1JlbmFtZSkge1xyXG5cdFx0XHRcdHZtLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUocnMucmVwb3J0TmFtZSwgcnMucmVwb3J0Q2F0ZWdvcnkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZtLmNsb3NlQWxsTmF2YmFycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFByaW50IHJlcG9ydCBidXR0b25zIGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdHZtLnByaW50UmVwb3J0ID0gZnVuY3Rpb24gKHByaW50VHlwZSkge1xyXG5cdFx0XHR2bS5leHBvcnRQcm9ncmVzcyA9ICdwcmludCc7XHJcblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnByaW50UmVwb3J0KHByaW50VHlwZSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xyXG5cdFx0XHRcdFx0aWYgKCFyZXN1bHRzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdFx0dmFyIHJlcG9ydFNldCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UmVwb3J0U2V0KCk7XHJcblx0XHRcdFx0XHRcdHZhciByc1JlcG9ydE5hbWUgPSByZXBvcnRTZXQucmVwb3J0TmFtZTtcclxuXHRcdFx0XHRcdFx0Ly8gc2hvdyBtZXNzYWdlXHJcblx0XHRcdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhcclxuXHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0V2l0aFBhcmFtcyhcclxuXHRcdFx0XHRcdFx0XHRcdCdqc19GYWlsZWRQcmludFJlcG9ydCcsXHJcblx0XHRcdFx0XHRcdFx0XHQnRmFpbGVkIHRvIHByaW50IHJlcG9ydCBcInswfVwiLiBFcnJvciBkZXNjcmlwdGlvbjogezF9LicsXHJcblx0XHRcdFx0XHRcdFx0XHRbcnNSZXBvcnROYW1lLCByZXN1bHRzLm1lc3NhZ2VdKSxcclxuXHRcdFx0XHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRQcmludFJlcG9ydFRpdGxlJywgJ1JlcG9ydCBwcmludCBlcnJvcicpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZtLmV4cG9ydFByb2dyZXNzID0gbnVsbDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSwgNTAwKTtcclxuXHRcdFx0dm0uY2xvc2VBbGxOYXZiYXJzKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBleHBvcnRSZXBvcnRJbnRlcm5hbCA9IGZ1bmN0aW9uIChleHBvcnRUeXBlKSB7XHJcblx0XHRcdHZtLmV4cG9ydFByb2dyZXNzID0gJ2V4cG9ydCc7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZXhwb3J0UmVwb3J0KGV4cG9ydFR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuXHRcdFx0XHRpZiAoIXJlc3VsdHMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0dmFyIHJlcG9ydFNldCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UmVwb3J0U2V0KCk7XHJcblx0XHRcdFx0XHR2YXIgcnNSZXBvcnROYW1lID0gcmVwb3J0U2V0LnJlcG9ydE5hbWU7XHJcblxyXG5cdFx0XHRcdFx0Ly8gc2hvdyBlcnJvciBkaWFsb2dcclxuXHRcdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhcclxuXHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dFdpdGhQYXJhbXMoXHJcblx0XHRcdFx0XHRcdFx0J2pzX0ZhaWxlZEV4cG9ydFJlcG9ydCcsXHJcblx0XHRcdFx0XHRcdFx0J0ZhaWxlZCB0byBleHBvcnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyxcclxuXHRcdFx0XHRcdFx0XHRbcnNSZXBvcnROYW1lLCByZXN1bHRzLm1lc3NhZ2VdKSxcclxuXHRcdFx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkRXhwb3J0UmVwb3J0VGl0bGUnLCAnUmVwb3J0IGV4cG9ydCBlcnJvcicpKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZtLmV4cG9ydFByb2dyZXNzID0gbnVsbDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNob3dDc3ZCdWxrVW5zdXBwb3J0ZWRGb3JtYXRXYXJuaW5nID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUpIHtcclxuXHJcblx0XHRcdHZhciBtZXNzYWdlID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ3N2QnVsa1Vuc3VwcG9ydEZvcm1hdHNXYXJuaW5nJyxcclxuXHRcdFx0XHQnQ3N2KGJ1bGspIGV4cG9ydCBkb2VzIG5vdCBzdXBwb3J0IGZvbGxvd2luZyBmb3JtYXRzOiBwZXJjZW50IG9mIGdyb3VwLCBwZXJjZW50IG9mIGdyb3VwICh3aXRoIHJvdW5kaW5nKSwgZ2F1Z2UsIGdhdWdlICh2YXJpYWJsZSksIGRhc2ggZ2F1Z2UuIERlZmF1bHQgZm9ybWF0IHdpbGwgYmUgYXBwbGllZCBpbnN0ZWFkIG9mIHRoZW0uJyk7XHJcblxyXG5cdFx0XHR2YXIgY2hlY2tib3hlcyA9IFtcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRsYWJlbDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRG9Ob3RTaG93VGhpc0RpYWxvZ0FnYWluJywgJ0RvIG5vdCBzaG93IHRoaXMgZGlhbG9nIGFnYWluJyksXHJcblx0XHRcdFx0XHRjaGVja2VkOiBmYWxzZVxyXG5cdFx0XHRcdH1dO1xyXG5cclxuXHRcdFx0dmFyIHdhcm5pbmdBcmdzID0ge1xyXG5cdFx0XHRcdHRpdGxlOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19XYXJuaW5nJywgJ1dhcm5pbmcnKSxcclxuXHRcdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxyXG5cdFx0XHRcdGJ1dHRvbnM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dGV4dDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfT2snLCAnT2snKSxcclxuXHRcdFx0XHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uIChjaGVja2JveGVzKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGNoZWNrYm94ZXMgJiYgY2hlY2tib3hlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgZG9Ob3RTaG93QWdhaW4gPSBjaGVja2JveGVzWzBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRvTm90U2hvd0FnYWluICYmIGRvTm90U2hvd0FnYWluLmNoZWNrZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGRhdGUgPSBuZXcgRGF0ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMzY1KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGNvb2tpZU9wdGlvbnMgPSB7IGV4cGlyZXM6IGRhdGUgfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQkY29va2llcy5wdXQoXCJpemVuZGFIaWRlQ3N2QnVsa1Vuc3VwcG9ydGVkRm9ybWF0V2FybmluZ1wiLCB0cnVlLCBjb29raWVPcHRpb25zKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZXhwb3J0UmVwb3J0SW50ZXJuYWwoZXhwb3J0VHlwZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7IHRleHQ6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NhbmNlbCcsICdDYW5jZWwnKSB9XHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjaGVja2JveGVzOiBjaGVja2JveGVzLFxyXG5cdFx0XHRcdGFsZXJ0SW5mbzogJ3dhcm5pbmcnXHJcblx0XHRcdH1cclxuXHRcdFx0JGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0RpYWxvZ0JveCh3YXJuaW5nQXJncyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBpc0NzdkJ1bGtXaXRoVW5zdXBwb3J0ZWRGb3JtYXQgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xyXG5cdFx0XHR2YXIgaXNDc3ZCdWxrID0gZXhwb3J0VHlwZSA9PT0gJ2NzdicgJiYgJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRCdWxrQ3N2KCk7XHJcblx0XHRcdGlmICghaXNDc3ZCdWxrKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHZhciBoYXNBZ2dyZWdhdGVGb3JtYXRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5oYXNBZ2dyZWdhdGVGb3JtYXRzKCk7XHJcblx0XHRcdHJldHVybiBoYXNBZ2dyZWdhdGVGb3JtYXRzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXhwb3J0IHJlcG9ydCBidXR0b25zIGhhbmRsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0uZXhwb3J0UmVwb3J0ID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUpIHtcclxuXHRcdFx0dmFyIGhpZGVDc3ZXYXJuaW5nID0gJGNvb2tpZXMuZ2V0KFwiaXplbmRhSGlkZUNzdkJ1bGtVbnN1cHBvcnRlZEZvcm1hdFdhcm5pbmdcIik7XHJcblx0XHRcdGlmIChpc0NzdkJ1bGtXaXRoVW5zdXBwb3J0ZWRGb3JtYXQoZXhwb3J0VHlwZSkgJiYgIWhpZGVDc3ZXYXJuaW5nKSB7XHJcblx0XHRcdFx0c2hvd0NzdkJ1bGtVbnN1cHBvcnRlZEZvcm1hdFdhcm5pbmcoZXhwb3J0VHlwZSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGV4cG9ydFJlcG9ydEludGVybmFsKGV4cG9ydFR5cGUpO1xyXG5cdFx0XHR2bS5jbG9zZUFsbE5hdmJhcnMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBvbi1wYWdlLWNsaWNrIHJlcG9ydCBwcmV2aWV3IGhhbmRsZXIuIFJhaXNlcyB3aGVuIHVzZXIgY2xpY2tzIG9uIHBhZ2luZyBjb250cm9scyBpbiBwcmV2aWV3LlxyXG5cdFx0ICovXHJcblx0XHR2bS5vblBhZ2luZ0NsaWNrID0gZnVuY3Rpb24gKHBhZ2luZ0NvbnRyb2xUeXBlLCBwYWdlUmFuZ2UpIHtcclxuXHRcdFx0dmFyIHJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRSZXBvcnRTZXQoKTtcclxuXHRcdFx0cnMub3B0aW9ucy5yb3dzUmFuZ2UgPSBwYWdlUmFuZ2U7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VuZCByZXBvcnQgbGluayB2aWEgZW1haWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VuZFJlcG9ydExpbmtFbWFpbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZW5kUmVwb3J0TGlua0VtYWlsKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBhcHBseVJlcG9ydEluZm8gPSBmdW5jdGlvbiAocmVwb3J0SW5mbykge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc09iamVjdChyZXBvcnRJbmZvKSkge1xyXG5cdFx0XHRcdFx0dm0uaXNFeGlzdGluZ1JlcG9ydCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0ucmVwb3J0SW5mbyA9IG51bGw7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHJlcG9ydEluZm8uZnVsbE5hbWUpICYmIHJlcG9ydEluZm8uZnVsbE5hbWUudHJpbSgpICE9PSAnJykge1xyXG5cdFx0XHRcdFx0Ly8gaWYgbG9jYXRpb24gY29udGFpbnMgcmVwb3J0IG5hbWU6IGxvYWQgaXRcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UubG9hZFJlcG9ydChyZXBvcnRJbmZvLmZ1bGxOYW1lKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dm0uaXNFeGlzdGluZ1JlcG9ydCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHZtLnJlcG9ydEluZm8gPSByZXBvcnRJbmZvO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm5ld1JlcG9ydCgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2bS5pc0V4aXN0aW5nUmVwb3J0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHZtLnJlcG9ydEluZm8gPSByZXBvcnRJbmZvO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpJywgZnVuY3Rpb24gKHZhbHVlLCBwcmV2VmFsdWUpIHtcclxuXHRcdFx0XHR2bS5pc1NtYWxsUmVzb2x1dGlvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdGlmICh2bS5pc1NtYWxsUmVzb2x1dGlvbikge1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcuaXotaW5zdC1tYWlucGFuZWwtYm9keScpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJy5pei1pbnN0LW1haW5wYW5lbC1ib2R5JykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuXHRcdFx0XHRcdH0sIDYwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcmV2VmFsdWUgJiYgIXZhbHVlKSB7XHJcblx0XHRcdFx0XHQvLyBzbWFsbCAtPiBub3JtYWxcclxuXHRcdFx0XHRcdHZtLnNldExlZnRQYW5lbEFjdGl2ZUl0ZW0oMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5nZXRSaWdodHMoKScsIGZ1bmN0aW9uICh2YWx1ZSwgcHJldlZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKHZhbHVlID09PSBwcmV2VmFsdWUpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dm0uZWZmZWN0aXZlUmlnaHRzID0gdmFsdWU7XHJcblx0XHRcdFx0X3VwZGF0ZVJlcG9ydFNldFJpZ2h0VmFyaWFibGVzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9cclxuXHRcdFx0JHNjb3BlLiRvbignY2hhbmdlVmlzdWFsaXphdGlvblByb3BlcnRpZXMnLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFJlcG9ydFNldCgpLmNoYXJ0c1swXS5wcm9wZXJ0aWVzID0gYXJnc1swXTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBsb29rIGZvciBsb2NhdGlvbiBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpJywgZnVuY3Rpb24gKHJlcG9ydEluZm8pIHtcclxuXHRcdFx0XHRhcHBseVJlcG9ydEluZm8ocmVwb3J0SW5mbyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIExpc3RlbiBmb3IgY29tcGxldGUgbG9hZGluZyBwYWdlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRQYWdlUmVhZHkoKScsIGZ1bmN0aW9uIChpc1BhZ2VSZWFkeSkge1xyXG5cdFx0XHRcdGlmIChpc1BhZ2VSZWFkeSkge1xyXG5cdFx0XHRcdFx0dm0uaXNMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBMb29rIGZvciBwcmV2aWV3IGNoYW5nZVxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFByZXZpZXcoKScsIGZ1bmN0aW9uIChwcmV2aWV3SHRtbCkge1xyXG5cclxuXHRcdFx0XHQvLyBwcmVwYXJlIG9wdGlvbnM6XHJcblx0XHRcdFx0dmFyIG9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKTtcclxuXHRcdFx0XHR2bS5yZXBvcnRTZXRPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0aXNWZ1VzZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0dmdTdHlsZTogb3B0aW9ucy5wYWdlLnZnU3R5bGUsXHJcblx0XHRcdFx0XHRzb3J0ZWRBY3RpdmVGaWVsZHM6IFtdLFxyXG5cdFx0XHRcdFx0cGl2b3RDZWxsc0NvdW50OiB2bS5waXZvdENlbGxzQ291bnRcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgYWN0aXZlIGZpZWxkcy5cclxuXHRcdFx0XHR2bS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsVmlzaWJsZUZpZWxkcygpO1xyXG5cdFx0XHRcdHZtLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuXHRcdFx0XHRcdHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2bS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNWZ1VzZWQpXHJcblx0XHRcdFx0XHRcdHZtLnJlcG9ydFNldE9wdGlvbnMuaXNWZ1VzZWQgPSB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBzZXQgcHJldmlldyBodG1sXHJcblx0XHRcdFx0dm0ucHJldmlld0h0bWwgPSBwcmV2aWV3SHRtbDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLmZpbHRlcnNQYW5lbE9wZW5lZCA9IG9wZW5lZDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRQaXZvdHNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLnBpdm90c1BhbmVsT3BlbmVkID0gb3BlbmVkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0Q3VycmVudEFjdGl2ZUZpZWxkKCknLCBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0XHR2bS5hY3RpdmVGaWVsZCA9IGZpZWxkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpLnRvcCcsIGZ1bmN0aW9uICh0b3ApIHtcclxuXHRcdFx0XHR2bS50b3AgPSB0b3A7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCkucHJldmlld1RvcCcsIGZ1bmN0aW9uICh0b3ApIHtcclxuXHRcdFx0XHR2bS5wcmV2aWV3VG9wID0gdG9wO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnMoKScsIGZ1bmN0aW9uIChmaWx0ZXJzKSB7XHJcblx0XHRcdFx0dm0uZmlsdGVyc0NvdW50ID0gZmlsdGVycy5sZW5ndGg7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldENlbGxWYWx1ZXMoKScsIGZ1bmN0aW9uIChjZWxsVmFsdWVzKSB7XHJcblx0XHRcdFx0dm0ucGl2b3RDZWxsc0NvdW50ID0gY2VsbFZhbHVlcy5sZW5ndGg7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsQWN0aXZlRmllbGRzKCknLCBmdW5jdGlvbiAoYWN0aXZlRmllbGRzKSB7XHJcblx0XHRcdFx0dm0uYWN0aXZlRmllbGRzID0gYWN0aXZlRmllbGRzO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0UHJldmlld1NwbGFzaFZpc2libGUoKScsIGZ1bmN0aW9uICh2aXNpYmxlKSB7XHJcblx0XHRcdFx0dm0ucmVwb3J0TG9hZGluZ0luZGljYXRvcklzVmlzaWJsZSA9IHZpc2libGU7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbGlzdGVuIGZvciB2YWxpZGF0aW9uIHN0YXRlIGNoYW5nZS5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS5pc1JlcG9ydFZhbGlkKCknLCBmdW5jdGlvbiAoaXNWYWxpZCkge1xyXG5cdFx0XHRcdHZtLmlzVmFsaWQgPSBpc1ZhbGlkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBSZXBvcnQgbmFtZSBzZWxlY3RlZCBoYW5kbGVyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkc2NvcGUuJG9uKCdzZWxlY3RlZE5ld1JlcG9ydE5hbWVFdmVudCcsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGFyZ3MpIHx8IGFyZ3MubGVuZ3RoICE9PSAyKVxyXG5cdFx0XHRcdFx0dGhyb3cgJ0FycmF5IHdpdGggMiBlbGVtZW50cyBleHBlY3RlZCc7XHJcblx0XHRcdFx0dmFyIG5hbWUgPSBhcmdzWzBdLCBjYXRlZ29yeSA9IGFyZ3NbMV07XHJcblx0XHRcdFx0X3NhdmVSZXBvcnRXaXRoR2l2ZW5OYW1lKG5hbWUsIGNhdGVnb3J5KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB0b2RvOiBtb3ZlIHRoYXQgamF2YXNjcmlwdCB0byBzcGVjaWFsIGRpcmVjdGl2ZSBpbiBmdXR1cmUsIGJlY2F1c2UgRE9NIG1hbmlwdWxhdGlvbnMgaW4gY29udHJvbGxlciBpcyBiYWQgcHJhY3RpY2U6XHJcblx0XHRcdHZhciAkcm9vdCA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWluc3Qtcm9vdCcpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZtLmFsaWduTmF2RHJvcGRvd25zKCk7XHJcblx0XHRcdFx0JHJvb3QuaGVpZ2h0KGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLmhlaWdodCgpIC0gJHJvb3Qub2Zmc2V0KCkudG9wIC0gMzApO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHJvb3QuaGVpZ2h0KGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLmhlaWdodCgpIC0gJHJvb3Qub2Zmc2V0KCkudG9wIC0gMzApO1xyXG5cclxuXHRcdFx0Ly8gbGVmdCBwYW5lbCByZXNpemUgc2Vuc29yXHJcblx0XHRcdHZhciAkcGFuZWwgPSBhbmd1bGFyLmVsZW1lbnQoJy5pei1pbnN0LWxlZnQtcGFuZWwnKTtcclxuXHRcdFx0aWYgKCRwYW5lbC5sZW5ndGgpXHJcblx0XHRcdFx0cmVzaXplU2Vuc29yKCRwYW5lbC5nZXQoMCksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZtLmFsaWduTmF2RHJvcGRvd25zKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIF91cGRhdGVSZXBvcnRTZXRSaWdodFZhcmlhYmxlcygpIHtcclxuXHRcdFx0dm0ucmlnaHRzID0ge307XHJcblx0XHRcdHZtLnJpZ2h0cy5pc0ZpbHRlcnNFZGl0QWxsb3dlZCA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc0ZpbHRlcnNFZGl0QWxsb3dlZCgpO1xyXG5cdFx0XHR2bS5yaWdodHMuaXNGdWxsQWNjZXNzID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRnVsbEFjY2VzcygpO1xyXG5cdFx0XHR2bS5yaWdodHMuaXNFZGl0QWxsb3dlZCA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc0VkaXRBbGxvd2VkKCk7XHJcblx0XHRcdHZtLnJpZ2h0cy5pc1NhdmVBc0FsbG93ZWQgPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTYXZlQXNBbGxvd2VkKCk7XHJcblx0XHRcdHZtLnJpZ2h0cy5pc1NhdmVBbGxvd2VkID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU2F2ZUFsbG93ZWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNhdmUgcmVwb3J0IHdpdGggc2VsZWN0ZWQgbmFtZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfc2F2ZVJlcG9ydFdpdGhHaXZlbk5hbWUocmVwb3J0TmFtZSwgcmVwb3J0Q2F0ZWdvcnkpIHtcclxuXHRcdFx0dmFyIGNhdGVnb3J5ID0gcmVwb3J0Q2F0ZWdvcnk7XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkgfHwgY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gVU5DQVRFR09SSVpFRC50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdGNhdGVnb3J5ID0gJyc7XHJcblxyXG5cdFx0XHR2YXIgcnNSZXBvcnROYW1lID0gcmVwb3J0TmFtZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0Q2F0ZWdvcnkpICYmIHJlcG9ydENhdGVnb3J5ICE9PSAnJylcclxuXHRcdFx0XHRyc1JlcG9ydE5hbWUgPSByZXBvcnRDYXRlZ29yeSArICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJzUmVwb3J0TmFtZTtcclxuXHJcblx0XHRcdHZhciBzYXZlUHJvbWlzZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0TmFtZSkgJiYgcmVwb3J0TmFtZSAhPT0gJycpIHtcclxuXHRcdFx0XHRzYXZlUHJvbWlzZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2F2ZVJlcG9ydFNldChyZXBvcnROYW1lLCBjYXRlZ29yeSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2F2ZVByb21pc2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnNhdmVSZXBvcnRTZXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzYXZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgbm90aWZpY2F0aW9uTWVzc2FnZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKCdqc19SZXBvcnRTYXZlZCcsICdSZXBvcnQgXCJ7MH1cIiBzdWNlc3NmdWxseSBzYXZlZC4nLCBbcnNSZXBvcnROYW1lXSk7XHJcblx0XHRcdFx0JGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb25NZXNzYWdlKTtcclxuXHRcdFx0fSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHRcdFx0dmFyIGVycm9yVGl0bGUgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRTYXZlUmVwb3J0VGl0bGUnLCAnUmVwb3J0IHNhdmUgZXJyb3InKTtcclxuXHRcdFx0XHR2YXIgZXJyb3JNZXNzYWdlID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dFdpdGhQYXJhbXMoXHJcblx0XHRcdFx0XHQnanNfRmFpbGVkU2F2ZVJlcG9ydCcsXHJcblx0XHRcdFx0XHQnRmFpbGVkIHRvIHNhdmUgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0nLFxyXG5cdFx0XHRcdFx0W3JzUmVwb3J0TmFtZSwgZXJyb3JdKTtcclxuXHRcdFx0XHQkaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JNZXNzYWdlLCBlcnJvclRpdGxlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fV0pOyIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSBmcm9tICdpbnN0YW50LXJlcG9ydC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogSW5zdGFudCByZXBvcnQgZGF0YSBzb3VyY2VzIGNvbnRyb2xsZXIgZGVmaW5pdGlvblxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0RGF0YVNvdXJjZUNvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckd2luZG93JyxcclxuXHQnJHRpbWVvdXQnLFxyXG5cdCckcScsXHJcblx0JyRsb2cnLFxyXG5cdCckc2NlJyxcclxuXHQnJGFuY2hvclNjcm9sbCcsXHJcblx0JyRpemVuZGFVcmxTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JGxvZyxcclxuXHRcdCRzY2UsXHJcblx0XHQkYW5jaG9yU2Nyb2xsLFxyXG5cdFx0JGl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dmFyIGFuZ3VsYXJKcSQgPSBhbmd1bGFyLmVsZW1lbnQ7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlID0gJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFVcmxTZXJ2aWNlID0gJGl6ZW5kYVVybFNlcnZpY2U7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZTtcclxuXHRcdCRzY29wZS50cnVzdEFzSHRtbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gJHNjZS50cnVzdEFzSHRtbCh2YWx1ZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLnNlYXJjaFN0cmluZyA9ICcnO1xyXG5cdFx0dm0uZGF0YVNvdXJjZXMgPSBudWxsO1xyXG5cdFx0dm0uaXNEYXRhU291cmNlc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0dm0uc2VhcmNoUmVzdWx0cyA9IFtdO1xyXG5cdFx0dmFyIHByZXZpb3VzUmVzdWx0c0NvdW50ID0gbnVsbDtcclxuXHRcdHZtLnNlYXJjaFBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5vcHRpb25zID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCk7XHJcblxyXG5cdFx0dm0uY29sdW1uU29ydFBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR2bS5jb2x1bW5Tb3J0UGFuZWxCdXR0b25FbmFibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0dmFyIHNlYXJjaFN0YXRlID0ge1xyXG5cdFx0XHR0aW1lb3V0SWQ6IG51bGwsXHJcblx0XHRcdGNoYW5naW5nOiBmYWxzZVxyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgY29sbGFwc2VTdGF0ZSA9IHtcclxuXHRcdFx0c3RhcnRlZDogZmFsc2VcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb2xsYXBzZSBhbmltYXRpb24gY29tcGxldGVkIGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdHZtLmNvbGxhcHNlQ29tcGxldGVkID0gZnVuY3Rpb24gKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRjb2xsYXBzZVN0YXRlLnN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG9nZ2xlIG9wZW5lZC9jb2xsYXBzZWQgc3RhdGUuXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZUl0ZW1Db2xsYXBzZSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdGlmICghY29sbGFwc2VTdGF0ZS5zdGFydGVkKSB7XHJcblx0XHRcdFx0Y29sbGFwc2VTdGF0ZS5zdGFydGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpdGVtLmNvbGxhcHNlZCA9ICFpdGVtLmNvbGxhcHNlZDtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFR1cm4gb2ZmIHNlYXJjaCBwYW5lbCBhbmQgcmVzZXQgaXQgdG8gZGVmYXVsdCBzdGF0ZS5cclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzZXRTZWFyY2hSZXN1bHRzLiBDbGVhciBzZWFyY2ggc3RyaW5nIGFuZCByZXN1bHRzLlxyXG5cdFx0ICovXHJcblx0XHR2bS50dXJuT2ZmU2VhcmNoID0gZnVuY3Rpb24gKHJlc2V0U2VhcmNoUmVzdWx0cykge1xyXG5cdFx0XHR2bS5zZWFyY2hQYW5lbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRpZiAocmVzZXRTZWFyY2hSZXN1bHRzKSB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcjaXpJbnN0RGF0YVNvdXJjZXNUcmVlJykuZ2V0KDApLnNjcm9sbFRvcCA9IDA7XHJcblx0XHRcdFx0dm0uc2VhcmNoU3RyaW5nID0gJyc7XHJcblx0XHRcdFx0dm0uc2VhcmNoUmVzdWx0cyA9IFtdO1xyXG5cdFx0XHRcdHByZXZpb3VzUmVzdWx0c0NvdW50ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUnVuIHNlYXJjaCBxdWVyeS5cclxuXHRcdCAqL1xyXG5cdFx0dm0ucnVuU2VhcmNoUXVlcnkgPSBmdW5jdGlvbiAoY2xlYXJSZXN1bHRzKSB7XHJcblx0XHRcdGlmICh2bS5zZWFyY2hRdWVyeVJ1bm5pbmcpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcodm0uc2VhcmNoU3RyaW5nKSB8fCB2bS5zZWFyY2hTdHJpbmcudHJpbSgpID09PSAnJykge1xyXG5cdFx0XHRcdHZtLnNlYXJjaFBhbmVsT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdFx0dm0uc2VhcmNoUXVlcnlSdW5uaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZtLnNlYXJjaFF1ZXJ5UnVubmluZyA9IHRydWU7XHJcblx0XHRcdHZhciBjb3VudCA9IDUwO1xyXG5cdFx0XHRpZiAoY2xlYXJSZXN1bHRzKSB7XHJcblx0XHRcdFx0dm0uc2VhcmNoUmVzdWx0cyA9IFtdO1xyXG5cdFx0XHRcdHByZXZpb3VzUmVzdWx0c0NvdW50ID0gbnVsbDtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNpekluc3REYXRhU291cmNlc1RyZWUnKS5nZXQoMCkuc2Nyb2xsVG9wID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJldmlvdXNSZXN1bHRzQ291bnQgPT09IDApIHtcclxuXHRcdFx0XHR2bS5zZWFyY2hRdWVyeVJ1bm5pbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZWFyY2hJbkRhdGFEb3VyY2VzKHZtLnNlYXJjaFN0cmluZywgdm0uc2VhcmNoUmVzdWx0cy5sZW5ndGgsIHZtLnNlYXJjaFJlc3VsdHMubGVuZ3RoICsgY291bnQgLSAxKS50aGVuKGZ1bmN0aW9uIChzZWFyY2hSZXN1bHRzKSB7XHJcblx0XHRcdFx0cHJldmlvdXNSZXN1bHRzQ291bnQgPSBzZWFyY2hSZXN1bHRzLmxlbmd0aDtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaChzZWFyY2hSZXN1bHRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2bS5zZWFyY2hSZXN1bHRzLnB1c2godGhpcyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dm0uc2VhcmNoUGFuZWxPcGVuZWQgPSB0cnVlO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdHZtLnNlYXJjaFF1ZXJ5UnVubmluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgZmlsdGVyZWQgZGF0YXNvdXJjZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VhcmNoSW5EYXRhRG91cmNlcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0aWYgKHNlYXJjaFN0YXRlLnRpbWVvdXRJZCAhPT0gbnVsbClcclxuXHRcdFx0XHQkdGltZW91dC5jYW5jZWwoc2VhcmNoU3RhdGUudGltZW91dElkKTtcclxuXHRcdFx0c2VhcmNoU3RhdGUudGltZW91dElkID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZtLnJ1blNlYXJjaFF1ZXJ5KHRydWUpO1xyXG5cdFx0XHR9LCA1MDApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjbGFzc2VzIGZvciBjYXRlZ29yeS90YWJsZSBmb2xkZXIgaWNvbnNcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0Rm9sZGVyQ2xhc3MgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHR2YXIgY3NzID0gJyc7XHJcblx0XHRcdGlmICghaXRlbS5jb2xsYXBzZWQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBvcGVuJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbS5hY3RpdmUpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBhY3RpdmUnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjc3MudHJpbSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGNsYXNzZXMgZm9yIGNhdGVnb3J5L3RhYmxlIGxhYmVsc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRGb2xkZXJMYWJlbENsYXNzID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHRcdFx0dmFyIGNzcyA9ICcnO1xyXG5cdFx0XHRpZiAoaXRlbS5hY3RpdmUpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBhY3RpdmUnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtLmhpZ2hsaWdodCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGhpZ2hsaWdodCc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFpdGVtLmVuYWJsZWQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBkaXNhYmxlZCc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGl0ZW0uc2VsZWN0ZWQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBzZWxlY3RlZCc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNzcy50cmltKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmdldEZpZWxkQ2xhc3MgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cdFx0XHR2YXIgY3NzID0gJyc7XHJcblx0XHRcdGlmIChpdGVtLmNoZWNrZWQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBjaGVja2VkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbS5oaWdobGlnaHQpIHtcclxuXHRcdFx0XHRjc3MgKz0gJyBoaWdobGlnaHQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghaXRlbS5lbmFibGVkKSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgZGlzYWJsZWQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjc3MudHJpbSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZtLmdldEZpZWxkVGV4dENsYXNzID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHRcdFx0dmFyIGNzcyA9ICcnO1xyXG5cdFx0XHRpZiAoaXRlbS5zZWxlY3RlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIHNlbGVjdGVkJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gY3NzLnRyaW0oKTtcclxuXHRcdH1cclxuXHJcblx0XHR2bS5nZXRGaWVsZENoZWNrQ2xhc3MgPSBmdW5jdGlvbiAoaXRlbSwgaWdub3JlRm9sZGVySWNvbikge1xyXG5cdFx0XHRpZiAoIWlnbm9yZUZvbGRlckljb24gJiYgaXRlbS5pc011bHRpcGxlQ29sdW1ucykge1xyXG5cdFx0XHRcdGlmICghaXRlbS5jb2xsYXBzZWQpXHJcblx0XHRcdFx0XHRyZXR1cm4gJ2dseXBoaWNvbi1jaGV2cm9uLWRvd24nO1xyXG5cdFx0XHRcdHJldHVybiAnZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBjc3MgPSAnJztcclxuXHRcdFx0aWYgKGl0ZW0uY2hlY2tlZCkge1xyXG5cdFx0XHRcdGNzcyArPSAnIGdseXBoaWNvbi1jaGVjayc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y3NzICs9ICcgZ2x5cGhpY29uLXVuY2hlY2tlZCc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNzcy50cmltKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpZiBmaWVsZCBoYXZlIGdyb3VwXHJcblx0XHQgKi9cclxuXHRcdHZtLmlzRmllbGRHcm91cGVkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHJldHVybiBmaWVsZC5jaGVja2VkICYmICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuaXNGaWVsZEdyb3VwZWQoZmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRvZ2dsZSB0YWJsZSBjb2xsYXBzZWRcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZS4gVG9nZ2xpbmcgdGFibGUgb2JqZWN0IFxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVUYWJsZUNvbGxhcHNlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdHRhYmxlLmNvbGxhcHNlZCA9ICF0YWJsZS5jb2xsYXBzZWQ7XHJcblx0XHRcdFx0Ly8gaWYgdGFibGUgaXMgbGF6eSAtIGxvYWQgZmllbGRzLlxyXG5cdFx0XHRcdGlmICh0YWJsZS5sYXp5KSB7XHJcblx0XHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmxvYWRMYXp5RmllbGRzKHRhYmxlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUodGFibGUpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc29sdmUodGFibGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHZhbGlkYXRpb24gc3RhdGUgYW5kIHJlZnJlc2ggaWYgbmVlZGVkLlxyXG5cdFx0ICovXHJcblx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjay91bmNoZWNrIGZpZWxkLlxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVGaWVsZENoZWNrZWQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCFmaWVsZClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZhciBuZWVkVG9DaGVjayA9ICFmaWVsZC5jaGVja2VkO1xyXG5cdFx0XHR2YXIgcGl2b3RzRW5hYmxlZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmlzUGl2b3RWYWxpZCgpO1xyXG5cclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkQ2hlY2tlZChmaWVsZCwgbmVlZFRvQ2hlY2ssIHBpdm90c0VuYWJsZWQpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdC8vIHR1cm4gb24gYXV0b2dyb3VwIGlmIHBpdm90cyBhcmUgdHVybmVkIG9uXHJcblx0XHRcdFx0aWYgKHBpdm90c0VuYWJsZWQgJiYgbmVlZFRvQ2hlY2spIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlBdXRvR3JvdXBzKHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dm0uZ2V0RmllbGRUb29sdGlwID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGlmICghZmllbGQuY2hlY2tlZClcclxuXHRcdFx0XHRyZXR1cm4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVG9nZ2xlUmVwb3J0RmllbGQnLCAnVG9nZ2xlIHJlcG9ydCBmaWVsZCcpO1xyXG5cdFx0XHRlbHNlIGlmICghZmllbGQuc2VsZWN0ZWQpXHJcblx0XHRcdFx0cmV0dXJuICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdFJlcG9ydEZpZWxkJywgJ1NlbGVjdCByZXBvcnQgZmllbGQnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrL3VuY2hlY2sgZmllbGQgaGFuZGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5jaGVja0ZpZWxkID0gZnVuY3Rpb24gKGZpZWxkLCBhbGxvd1VuY2hlY2spIHtcclxuXHRcdFx0aWYgKGZpZWxkLmlzTXVsdGlwbGVDb2x1bW5zKSB7XHJcblx0XHRcdFx0dm0udG9nZ2xlSXRlbUNvbGxhcHNlKGZpZWxkKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLnNlbGVjdEZpZWxkKGZpZWxkKTtcclxuXHJcblx0XHRcdC8vIGV4aXQgaWYgZmllbGQgY2hlY2tlZCBidXQgd2Ugbm90IGFsbG93ZWQgdG8gdW5jaGVja1xyXG5cdFx0XHRpZiAoZmllbGQuY2hlY2tlZCAmJiAhYWxsb3dVbmNoZWNrKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdGlmICghJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpIHtcclxuXHRcdFx0XHQvLyBjaGVjayBmaWVsZCBvY2N1cnMgaW4gc2VsZWN0RmllbGQgZnVuY3Rpb25cclxuXHRcdFx0XHR2bS50b2dnbGVGaWVsZENoZWNrZWQoZmllbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWN0aXZhdGUvZGVhY3RpdmF0ZSB0YWJsZVxyXG5cdFx0ICovXHJcblx0XHR2bS5hY3RpdmF0ZVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlUYWJsZUFjdGl2ZSh0YWJsZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTaG93IGZpZWxkIG9wdGlvbnNcclxuXHRcdCAqL1xyXG5cdFx0dm0uc2VsZWN0RmllbGQgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpKSB7XHJcblx0XHRcdFx0dm0udG9nZ2xlRmllbGRDaGVja2VkKGZpZWxkKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRTZWxlY3RlZChmaWVsZCwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTaG93IGZpZWxkIG9wdGlvbnMgYnV0dG9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnNob3dGaWVsZE9wdGlvbnMgPSBmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUZpZWxkU2VsZWN0ZWQoZmllbGQsIHRydWUpO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpIHtcclxuXHRcdFx0XHQkc2NvcGUuaXJDb250cm9sbGVyLnNldExlZnRQYW5lbEFjdGl2ZUl0ZW0oNyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElzIGFsbCB0YWJsZXMgY29sbGFwc2VkXHJcblx0XHQgKi9cclxuXHRcdHZtLmlzVGFibGVzQ29sbGFwc2VkID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSB0cnVlO1xyXG5cdFx0XHRhbmd1bGFySnEkLmVhY2goY2F0ZWdvcnkudGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmNvbGxhcHNlZClcclxuXHRcdFx0XHRcdHJlc3VsdCA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb2xsYXBzZSBhbGwgdGFibGVzIGluc2lkZSBjYXRlZ29yeVxyXG5cdFx0ICovXHJcblx0XHR2bS5jb2xsYXBzZUNhdGVnb3J5VGFibGVzID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcblx0XHRcdGFuZ3VsYXJKcSQuZWFjaChjYXRlZ29yeS50YWJsZXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGlzLmNvbGxhcHNlZCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIG1vcmUgdGhhbiBvbmUgc2FtZSBmaWVsZHMgdG8gcmVwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZEFub3RoZXJGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHR2YXIgYW5vdGhlckZpZWxkID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hZGRBbm90aGVyRmllbGQoZmllbGQsIHRydWUpO1xyXG5cdFx0XHR2bS50b2dnbGVGaWVsZENoZWNrZWQoYW5vdGhlckZpZWxkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgbW9yZSB0aGFuIG9uZSBzYW1lIGZpZWxkXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZUFub3RoZXJGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgbXVsdGlGaWVsZCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFub3RoZXJGaWVsZChmaWVsZCwgbXVsdGlGaWVsZCk7XHJcblx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9wZW4vY2xvc2UgY29sdW1uIHNvcnQgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0ub3BlbkNvbHVtbnNTb3J0UGFuZWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSlcclxuXHRcdFx0XHR2bS5jb2x1bW5Tb3J0UGFuZWxPcGVuZWQgPSB2YWx1ZTtcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0dm0uY29sdW1uU29ydFBhbmVsT3BlbmVkID0gIXZtLmNvbHVtblNvcnRQYW5lbE9wZW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR28gdG8gZm91bmQgZmllbGQgb3IgdGFibGVcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBzZWFyY2hSZXN1bHRPYmplY3QuIE9iamVjdCwgd2l0aCB0YWJsZSBzeXNuYW1lIGFuZCBmaWVsZCBzeXNuYW1lLiBcclxuXHRcdCAqL1xyXG5cdFx0dm0ucmV2ZWFsU2VhcmNoUmVzdWx0ID0gZnVuY3Rpb24gKHNlYXJjaFJlc3VsdE9iamVjdCkge1xyXG5cdFx0XHRmdW5jdGlvbiBnb3RvU2VhcmNoVGFyZ2V0KHNlYXJjaFJlc3VsdCkge1xyXG5cdFx0XHRcdHZhciBpc0ZpZWxkID0gc2VhcmNoUmVzdWx0Lmhhc093blByb3BlcnR5KCdmU3lzTmFtZScpO1xyXG5cdFx0XHRcdHZhciB0U3lzTmFtZSA9IHNlYXJjaFJlc3VsdFsndFN5c05hbWUnXTtcclxuXHRcdFx0XHRpZiAoaXNGaWVsZCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpZWxkU3lzTmFtZSA9IHNlYXJjaFJlc3VsdFsnZlN5c05hbWUnXTtcclxuXHRcdFx0XHRcdHZhciBmaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lLCB0cnVlKTtcclxuXHRcdFx0XHRcdHZtLnNlbGVjdEZpZWxkKGZpZWxkKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBzY3JvbGwgdG8gZWxlbWVudFxyXG5cdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciB0YWJsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuY2hvcicgKyB0U3lzTmFtZSk7XHJcblx0XHRcdFx0XHRpZiAodGFibGVFbClcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcjaXpJbnN0RGF0YVNvdXJjZXNUcmVlJykuZ2V0KDApLnNjcm9sbFRvcCA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUVsKS5wb3NpdGlvbigpLnRvcDtcclxuXHRcdFx0XHR9LCAzMDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zZWxlY3RGaWVsZChudWxsKTtcclxuXHRcdFx0dm0udHVybk9mZlNlYXJjaCh0cnVlKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblxyXG5cdFx0XHR2YXIgdGFibGUgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFRhYmxlQnlTeXNuYW1lKHNlYXJjaFJlc3VsdE9iamVjdFsndFN5c05hbWUnXSk7XHJcblx0XHRcdGlmICghdGFibGUuY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0Z290b1NlYXJjaFRhcmdldChzZWFyY2hSZXN1bHRPYmplY3QpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZtLnRvZ2dsZVRhYmxlQ29sbGFwc2UodGFibGUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0Z290b1NlYXJjaFRhcmdldChzZWFyY2hSZXN1bHRPYmplY3QpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIHdhdGNoZXJzXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdFdhdGNoZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKGFuZ3VsYXIuYmluZCh2bSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNlYXJjaFN0cmluZztcclxuXHRcdFx0fSksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2bS5zZWFyY2hJbkRhdGFEb3VyY2VzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIExvb2sgZm9yIG9wdGlvbnMgY2hhbmdlXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKScsIGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRcdFx0dm0ub3B0aW9ucyA9IG9wdGlvbnM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIExpc3RlbiBmb3IgY29tcGxldGUgbG9hZGluZyBwYWdlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRQYWdlUmVhZHkoKScsIGZ1bmN0aW9uIChpc1BhZ2VSZWFkeSkge1xyXG5cdFx0XHRcdGlmIChpc1BhZ2VSZWFkeSkge1xyXG5cdFx0XHRcdFx0dm0uaXNEYXRhU291cmNlc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIExvb2sgZm9yIGRhdGFzb3VyY2VzIGNoYW5nZVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXREYXRhU291cmNlcygpJywgZnVuY3Rpb24gKGRhdGFzb3VyY2VzKSB7XHJcblx0XHRcdFx0dm0uZGF0YVNvdXJjZXMgPSBkYXRhc291cmNlcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTG9vayBmb3IgY2hlY2tlZCBmaWVsZHMgY291bnRcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbEFjdGl2ZUZpZWxkcygpJywgZnVuY3Rpb24gKG5ld0FjdGl2ZUZpZWxkcykge1xyXG5cdFx0XHRcdHZtLmNvbHVtblNvcnRQYW5lbEJ1dHRvbkVuYWJsZWQgPSBuZXdBY3RpdmVGaWVsZHMubGVuZ3RoID4gMTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCovXHJcblx0XHR2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplIHdpdGggY29udHJvbGxlclxyXG5cdFx0dm0uaW5pdFdhdGNoZXJzKCk7XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGZpZWxkIG9wdGlvbnMgY29udHJvbGxlclxyXG4gKi9cclxuaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZS5jb250cm9sbGVyKCdJbnN0YW50UmVwb3J0RmllbGRPcHRpb25zQ29udHJvbGxlcicsIFtcclxuXHQnJHJvb3RTY29wZScsXHJcblx0JyRzY29wZScsXHJcblx0JyR3aW5kb3cnLFxyXG5cdCckdGltZW91dCcsXHJcblx0JyRxJyxcclxuXHQnJHNjZScsXHJcblx0JyRsb2cnLFxyXG5cdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkd2luZG93LFxyXG5cdFx0JHRpbWVvdXQsXHJcblx0XHQkcSxcclxuXHRcdCRzY2UsXHJcblx0XHQkbG9nLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFF1ZXJ5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlKSB7XHJcblx0XHQndXNlIHN0cmljdCc7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dmFyIHByaW1hcnlCdXR0b25DbGFzcyA9IFwiaXplbmRhLWNvbW1vbi1idG4tZGFya1wiLFxyXG5cdFx0XHRhY3RpdmVCdXR0b25DbGFzcyA9IFwiaXplbmRhLWNvbW1vbi1idG4tZGFyayBhY3RpdmVcIjtcclxuXHJcblx0XHQkc2NvcGUuJGl6ZW5kYUxvY2FsZVNlcnZpY2UgPSAkaXplbmRhTG9jYWxlU2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZTtcclxuXHRcdHZtLmZpZWxkID0gbnVsbDtcclxuXHRcdHZtLmN1cnJlbnRTb3J0RnVuY3Rpb24gPSAnYXNjJztcclxuXHRcdHZtLmlzU3VidG90YWxzRW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdHZtLmRyaWxsRG93blN0eWxlcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RHJpbGxEb3duU3R5bGVzKCk7XHJcblx0XHR2bS5zdWJyZXBvcnRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRTdWJyZXBvcnRzKCk7XHJcblx0XHR2bS5leHBhbmRlZCA9IGZhbHNlO1xyXG5cdFx0dm0uZGRrVmFsdWVzTWF4QW1vdW50ID0gLTE7XHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjbGFzcyBcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0UGFuZWxDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpKVxyXG5cdFx0XHRcdHJldHVybiAnZXhwYW5kZWQnO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3Qodm0uZmllbGQpIHx8ICEkc2NvcGUuaXJDb250cm9sbGVyLmlzTGVmdFBhbmVsQm9keUFjdGl2ZSgwKSlcclxuXHRcdFx0XHRyZXR1cm4gJ2NvbGxhcHNlZCc7XHJcblx0XHRcdGlmICh2bS5leHBhbmRlZClcclxuXHRcdFx0XHRyZXR1cm4gJ2V4cGFuZGVkJztcclxuXHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBjbGFzc2VzIGZvciB2YWxpZGF0ZSBtZXNzYWdlcyBpY29uXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldFZhbGlkYXRlTWVzc2FnZUljb25DbGFzcyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcblx0XHRcdHJldHVybiBtZXNzYWdlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpcmVzIHdoZW4gZGVzY3JpcHRpb24gd2FzIHNldCBtYW51YWxseS5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub25EZXNjcmlwdGlvbldhc1NldCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseURlc2NyaXB0aW9uKHZtLmZpZWxkKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaXJlcyB3aGVuIGdyb3VwIHdhcyBzZWxlY3RlZFxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkZ1bmN0aW9uU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5maWVsZC5ncm91cEJ5RnVuY3Rpb24gPT09IG51bGwpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm9uRmllbGRGdW5jdGlvbkFwcGxpZWQodm0uZmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpcmVzIHdoZW4gdHlwZWdyb3VwIHdhcyBzZWxlY3RlZFxyXG5cdFx0ICovXHJcblx0XHR2bS5vblR5cGVHcm91cFNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm9uRXhwcmVzc2lvblR5cGVHcm91cEFwcGxpZWQodm0uZmllbGQpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpcmVzIHdoZW4gZXhwcmVzc2lvbiBjaGFuZ2VkLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkV4cHJlc3Npb25DaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm9uRXhwcmVzc2lvbkFwcGxpZWQoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgcHJldmlld1xyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG9nZ2xlIGxhYmVsIGp1c3RpZmljYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0dm0udG9nZ2xlTGFiZWxKdXN0aWZpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgaXRlbXNBcnJheSA9IFsnTCcsICdNJywgJ1InLCAnSicsICcgJ107XHJcblx0XHRcdHZhciBpZHggPSBpdGVtc0FycmF5LmluZGV4T2Yodm0uZmllbGQubGFiZWxKdXN0aWZpY2F0aW9uKTtcclxuXHRcdFx0aWYgKGlkeCA8IGl0ZW1zQXJyYXkubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHRpZHgrKztcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlkeCA9IDA7XHJcblx0XHRcdHZtLmZpZWxkLmxhYmVsSnVzdGlmaWNhdGlvbiA9IGl0ZW1zQXJyYXlbaWR4XTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb2dnbGUgdmFsdWUganVzdGlmaWNhdGlvblxyXG5cdFx0ICovXHJcblx0XHR2bS50b2dnbGVWYWx1ZUp1c3RpZmljYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBpdGVtc0FycmF5ID0gWydMJywgJ00nLCAnUicsICdKJywgJyAnXTtcclxuXHRcdFx0dmFyIGlkeCA9IGl0ZW1zQXJyYXkuaW5kZXhPZih2bS5maWVsZC52YWx1ZUp1c3RpZmljYXRpb24pO1xyXG5cdFx0XHRpZiAoaWR4IDwgaXRlbXNBcnJheS5sZW5ndGggLSAxKVxyXG5cdFx0XHRcdGlkeCsrO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWR4ID0gMDtcclxuXHRcdFx0dm0uZmllbGQudmFsdWVKdXN0aWZpY2F0aW9uID0gaXRlbXNBcnJheVtpZHhdO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBzb3J0IGJ1dHRvbiBjbGFzc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRTb3J0QnV0dG9uQ2xhc3MgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCF2bS5maWVsZClcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdHJldHVybiB2bS5maWVsZC5zb3J0ICE9PSBudWxsID8gJ2FjdGl2ZScgOiAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgc29ydCBidXR0b24gaWNvbiBjbGFzc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRTb3J0QnV0dG9uR2x5cGhDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmN1cnJlbnRTb3J0RnVuY3Rpb24gPT09ICdkZXNjJyA/ICdnbHlwaGljb24tc29ydC1ieS1hbHBoYWJldC1hbHQnIDogJ2dseXBoaWNvbi1zb3J0LWJ5LWFscGhhYmV0JztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IGZpZWxkIHNvcnQuIFBhcmFtZXRlciBzaG91bGQgYmUgJ2FzYycsICdkZXNjJyBvciBudWxsXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5RmllbGRTb3J0ID0gZnVuY3Rpb24gKHNvcnRGdW5jdGlvbikge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKHNvcnRGdW5jdGlvbikpIHtcclxuXHRcdFx0XHRpZiAodm0uZmllbGQuc29ydCA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0Ly8gZW5hYmxlIHNlbGVjdGVkIHNvcnRcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNvcnQodm0uZmllbGQsIHZtLmN1cnJlbnRTb3J0RnVuY3Rpb24pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBkaXNhYmxlIHNlbGVjdGVkIHNvcnRcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNvcnQodm0uZmllbGQsIG51bGwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBzZXQgYW5kIGVuYWJsZSBzZWxlY3RlZCBzb3J0XHJcblx0XHRcdFx0dm0uY3VycmVudFNvcnRGdW5jdGlvbiA9IHNvcnRGdW5jdGlvbjtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRTb3J0KHZtLmZpZWxkLCB2bS5jdXJyZW50U29ydEZ1bmN0aW9uKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBpdGFsaWMgYnV0dG9uIGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEl0YWxpY0J1dHRvbkNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkKVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIHZtLmZpZWxkLml0YWxpYyA/ICdhY3RpdmUnIDogJyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgZmllbGQgaXRhbGljLlxyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseUZpZWxkSXRhbGljID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRJdGFsaWModm0uZmllbGQsICF2bS5maWVsZC5pdGFsaWMpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCB2aXNpYmxlIGJ1dHRvbiBjbGFzc1xyXG5cdFx0ICovXHJcblx0XHR2bS5nZXRWaXNpYmxlQnV0dG9uQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdm0uZmllbGQpXHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHR2YXIgY2xhc3NlcyA9IFtdO1xyXG5cdFx0XHRpZiAodm0uZmllbGQuaXNWZ1VzZWQpXHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkLnZpc2libGUpXHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKCdhY3RpdmUnKTtcclxuXHRcdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IGZpZWxkIGl0YWxpYy5cclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlGaWVsZFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh2bS5maWVsZC5pc1ZnVXNlZClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFZpc2libGUodm0uZmllbGQsICF2bS5maWVsZC52aXNpYmxlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldEFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgYm9sZCBidXR0b24gY2xhc3NcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0Qm9sZEJ1dHRvbkNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkKVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIHZtLmZpZWxkLmJvbGQgPyAnYWN0aXZlJyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IGZpZWxkIGJvbGQuXHJcblx0XHQgKi9cclxuXHRcdHZtLmFwcGx5RmllbGRCb2xkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5RmllbGRCb2xkKHZtLmZpZWxkLCAhdm0uZmllbGQuYm9sZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHZpc3VhbCBncm91cCBidXR0b24gY2xhc3NcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0VmdCdXR0b25DbGFzcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkKVxyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0dmFyIGNsYXNzZXMgPSBbXTtcclxuXHRcdFx0aWYgKCF2bS5maWVsZC52aXNpYmxlKVxyXG5cdFx0XHRcdGNsYXNzZXMucHVzaCgnZGlzYWJsZWQnKTtcclxuXHRcdFx0aWYgKHZtLmZpZWxkLmlzVmdVc2VkKVxyXG5cdFx0XHRcdGNsYXNzZXMucHVzaCgnYWN0aXZlJyk7XHJcblx0XHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBseSB2aXN1YWwgZ3JvdXAgY2hhbmdlZFxyXG5cdFx0ICovXHJcblx0XHR2bS5hcHBseVZnID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIXZtLmZpZWxkLnZpc2libGUpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5VmlzdWFsR3JvdXAodm0uZmllbGQsICF2bS5maWVsZC5pc1ZnVXNlZCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSWYgdXNlciBzZWxlY3RzIG5vbi1kZWZhdWx0IHN1YnRvdGFsIGZ1bmN0aW9uLCB3ZSBuZWVkIHRvIHR1cm4gb24gc3VidG90YWxzLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vblN1YnRvdGFsRnVuY3Rpb25TZWxlY3QgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBzdWJ0b3RhbEZ1bmN0aW9uID0gdm0uZmllbGQuZ3JvdXBCeVN1YnRvdGFsRnVuY3Rpb247XHJcblx0XHRcdGlmIChzdWJ0b3RhbEZ1bmN0aW9uICE9PSAnREVGQVVMVCcpXHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCkuaXNTdWJ0b3RhbHNFbmFibGVkID0gdHJ1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpcyBzdWJ0b3RhbCBncm91cCBmdW5jdGlvbiA9PT0gZXhwcmVzc2lvblxyXG5cdFx0ICovXHJcblx0XHR2bS5pc1N1YnRvdGFsRXhwcmVzc2lvbkRpc2FibGVkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3Qodm0uZmllbGQpKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRpZiAoIXZtLmlzU3VidG90YWxzRW5hYmxlZClcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHZtLmZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uKSlcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuIHZtLmZpZWxkLmdyb3VwQnlTdWJ0b3RhbEZ1bmN0aW9uLnZhbHVlICE9PSAnRVhQUkVTU0lPTic7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBTdWJyZXBvcnQgc2VsZWN0ZWQgaGFuZGxlclxyXG5cdFx0Ki9cclxuXHRcdHZtLnN1YnJlcG9ydFNlbGVjdGVkSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dm0uZmllbGQuZHJpbGxEb3duU3R5bGUgPSAodm0uZmllbGQuc3VicmVwb3J0KSA/ICdEZXRhaWxMaW5rTmV3V2luZG93JyA6ICcnO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmRpc2FibGVFbWJlZGRlZERyaWxsRG93blN0eWxlKHZtLmZpZWxkKTtcclxuXHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xvc2UgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uY2xvc2VQYW5lbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5zZXRDdXJyZW50QWN0aXZlRmllbGQobnVsbCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIHdhdGNoZXJzXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdFdhdGNoZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEN1cnJlbnRBY3RpdmVGaWVsZCgpJywgZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdFx0dm0uZmllbGQgPSBmaWVsZDtcclxuXHRcdFx0XHR2bS5leHBhbmRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KHZtLmZpZWxkKSkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5kaXNhYmxlRW1iZWRkZWREcmlsbERvd25TdHlsZSh2bS5maWVsZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RHJpbGxEb3duU3R5bGVzKCknLCBmdW5jdGlvbiAoZGRTdHlsZXMpIHtcclxuXHRcdFx0XHR2bS5kcmlsbERvd25TdHlsZXMgPSBkZFN0eWxlcztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEV4cHJlc3Npb25UeXBlcygpJywgZnVuY3Rpb24gKHR5cGVzKSB7XHJcblx0XHRcdFx0dm0uZXhwcmVzc2lvblR5cGVzID0gdHlwZXM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRTdWJyZXBvcnRzKCknLCBmdW5jdGlvbiAoc3VicmVwb3J0cykge1xyXG5cdFx0XHRcdHZtLnN1YnJlcG9ydHMgPSBzdWJyZXBvcnRzO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpLmlzU3VidG90YWxzRW5hYmxlZCcsIGZ1bmN0aW9uIChpc1N1YnRvdGFsc0VuYWJsZWQpIHtcclxuXHRcdFx0XHR2bS5pc1N1YnRvdGFsc0VuYWJsZWQgPSBpc1N1YnRvdGFsc0VuYWJsZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZSB3aXRoIGNvbnRyb2xsZXJcclxuXHRcdHZtLmluaXRXYXRjaGVycygpO1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbnN0YW50IHJlcG9ydCBmaWx0ZXJzIGNvbnRyb2xsZXJcclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydEZpbHRlcnNDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJHEnLFxyXG5cdCckc2NlJyxcclxuXHQnJGxvZycsXHJcblx0JyRpemVuZGFMb2NhbGVTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0JyRpemVuZGFVdGlsVWlTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZScsXHJcblx0ZnVuY3Rpb24gKFxyXG5cdFx0JHJvb3RTY29wZSxcclxuXHRcdCRzY29wZSxcclxuXHRcdCR3aW5kb3csXHJcblx0XHQkdGltZW91dCxcclxuXHRcdCRxLFxyXG5cdFx0JHNjZSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UsXHJcblx0XHQkaXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UXVlcnlTZXJ2aWNlLFxyXG5cdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UpIHtcclxuXHRcdCd1c2Ugc3RyaWN0JztcclxuXHRcdCRzY29wZS4kaXplbmRhTG9jYWxlU2VydmljZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0ucGFuZWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdHZtLmZpbHRlcnMgPSBbXTtcclxuXHRcdHZtLmZpbHRlck9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlck9wdGlvbnMoKTtcclxuXHRcdHZtLm9wdGlvbnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldE9wdGlvbnMoKTtcclxuXHRcdHZtLmFjdGl2ZUZpZWxkcyA9IFtdO1xyXG5cdFx0dm0uY3VycmVudFZhbHVlID0gJyc7XHJcblx0XHR2bS5kYXRlRm9ybWF0ID0gJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXREYXRlRm9ybWF0KCk7XHJcblx0XHR2bS5jdWx0dXJlID0gJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDdWx0dXJlKCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgbmV3IGZpbHRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRGaWx0ZXIgPSBmdW5jdGlvbiAoZmllbGRTeXNOYW1lKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuY3JlYXRlTmV3RmlsdGVyKGZpZWxkU3lzTmFtZSkudGhlbihmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdFx0aWYgKGZpbHRlci5maWVsZCAhPT0gbnVsbCAmJiAhZmlsdGVyLmZpZWxkLmFsbG93ZWRJbkZpbHRlcnMpIHtcclxuXHRcdFx0XHRcdHZhciBlcnJvclRpdGxlID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRXJyb3InLCAnRXJyb3InKTtcclxuXHRcdFx0XHRcdHZhciBlcnJvclRleHQgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GaWVsZEZvcmJpZGRlbkZvckZpbHRlcmluZycsICdUaGlzIGZpZWxkIGlzIGZvcmJpZGRlbiB0byB1c2UgZm9yIGZpbHRlcmluZy4nKTtcclxuXHRcdFx0XHRcdCRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dOb3RpZmljYXRpb24oZXJyb3JUZXh0LCBlcnJvclRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzKCkucHVzaChmaWx0ZXIpO1xyXG5cdFx0XHRcdGZpbHRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyT3BlcmF0b3IoZmlsdGVyLCBudWxsKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTd2FwIGZpbHRlciBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlb3JkZXJGaWx0ZXJzID0gZnVuY3Rpb24gKGluZGV4MSwgaW5kZXgyKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc3dhcEZpbHRlcnMoaW5kZXgxLCBpbmRleDIpO1xyXG5cdFx0XHR2YXIgYWxsZmlsdGVycyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpO1xyXG5cdFx0XHR2YXIgaW5kZXggPSBNYXRoLm1pbihpbmRleDEsIGluZGV4Mik7XHJcblx0XHRcdHZhciBmaWx0ZXIgPSBhbGxmaWx0ZXJzW2luZGV4XTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlIHRvIGZpbHRlciBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLm1vdmVGaWx0ZXJUbyA9IGZ1bmN0aW9uIChpbmRleDEsIGluZGV4Mikge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLm1vdmVGaWx0ZXJUbyhpbmRleDEsIGluZGV4Mik7XHJcblx0XHRcdHZhciBhbGxmaWx0ZXJzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJzKCk7XHJcblx0XHRcdHZhciBpbmRleCA9IE1hdGgubWluKGluZGV4MSwgaW5kZXgyKTtcclxuXHRcdFx0aW5kZXggPSBpbmRleCA+IDAgPyBpbmRleCAtIDEgOiAwO1xyXG5cdFx0XHR2YXIgZmlsdGVyID0gYWxsZmlsdGVyc1tpbmRleF07XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgZmlsdGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0dmFyIGFsbGZpbHRlcnMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnMoKTtcclxuXHRcdFx0dmFyIGNvdW50ID0gYWxsZmlsdGVycy5sZW5ndGg7XHJcblx0XHRcdHZhciBpbmRleCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpLmluZGV4T2YoZmlsdGVyKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZW1vdmVGaWx0ZXIoZmlsdGVyKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0XHRpZiAoY291bnQgPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gcmVmcmVzaCBuZXh0IGZpbHRlcnMgYWZ0ZXIgYXBwbHkgY2FzY2FkaW5nXHJcblx0XHRcdHZhciBuZXh0RmlsdGVyO1xyXG5cdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRuZXh0RmlsdGVyID0gYWxsZmlsdGVyc1swXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuZXh0RmlsdGVyID0gYWxsZmlsdGVyc1tpbmRleCAtIDFdO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhuZXh0RmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hOZXh0RmlsdGVyc0Nhc2NhZGluZyhuZXh0RmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGVyIHdoZW4gZmllbGQgc2VsZWN0ZWRcclxuXHRcdCAqL1xyXG5cdFx0dm0ub25GaWx0ZXJGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0aWYgKCFmaWx0ZXIuaW5pdGlhbGl6ZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRmaWx0ZXIudmFsdWVzID0gW107XHJcblx0XHRcdGZpbHRlci5jdXJyZW50VmFsdWUgPSAnJztcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZVJlcG9ydFNldCgpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmxvYWRGaWx0ZXJGb3JtYXRzKGZpbHRlcik7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyT3BlcmF0b3IoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFBvcHVwRmlsdGVyQ3VzdG9tVGVtcGxhdGUoZmlsdGVyKTtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCB0cnVlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmUgZmlsdGVyIHZhbHVlcyBhbmQgZXhpc3RpbmcgdmFsdWVzXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uRmlsdGVyT3BlcmF0b3JDaGFuZ2UgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcblx0XHRcdGZpbHRlci52YWx1ZXMgPSBbXTtcclxuXHRcdFx0dmFyIGFzeW5jUHJvbWlzZSA9ICRxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcblx0XHRcdFx0dmFyIG9wZXJhdG9yVHlwZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0XHRcdGlmIChvcGVyYXRvclR5cGUgPT09ICdvbmVWYWx1ZScgfHwgb3BlcmF0b3JUeXBlID09PSAnb25lRGF0ZScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbJyddO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAndHdvVmFsdWVzJyB8fCBvcGVyYXRvclR5cGUgPT09ICd0d29EYXRlcycpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbJycsICcnXTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG9wZXJhdG9yVHlwZSA9PT0gJ0VxdWFsc19UZXh0QXJlYScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5jdXJyZW50VmFsdWUgPSAnJztcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG9wZXJhdG9yVHlwZSA9PT0gJ0VxdWFsc19BdXRvY29tcGxldGUnIHx8IG9wZXJhdG9yVHlwZSA9PT0gJ3NlbGVjdF9tdWx0aXBsZScpIHtcclxuXHRcdFx0XHRcdGZpbHRlci52YWx1ZXMgPSBbJyddO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3BlcmF0b3JUeXBlID09PSAnc2VsZWN0X3BvcHVwJykge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRQb3B1cEZpbHRlckN1c3RvbVRlbXBsYXRlKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0YXN5bmNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UudXBkYXRlRmllbGRGaWx0ZXJFeGlzdGVudFZhbHVlcyhmaWx0ZXIsIHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm4gYXJyYXkgb2YgdGl0bGVzXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEV4aXN0ZW50VmFsdWVzU2ltcGxlTGlzdCA9IGZ1bmN0aW9uIChleGlzdGVudFZhbHVlcykge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gYW5ndWxhci5lbGVtZW50Lm1hcChleGlzdGVudFZhbHVlcywgZnVuY3Rpb24gKHZhbCkge1xyXG5cdFx0XHRcdHJldHVybiB2YWwudGV4dDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgYXV0b2NvbXBsZXRlIGl0ZW1zIHdoaWxlIHVzZXIgZW50ZXJpbmcgc29tZSB0ZXh0XHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZmlsdGVyIFxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGF1dG9jb21wbGV0ZVRleHRcclxuXHRcdCAqIEByZXR1cm4ge2FuZ3VsYXIgcHJvbWlzZX0uIFByb21pc2Ugb24gY29tcGxldGVcclxuXHRcdCAqL1xyXG5cdFx0dm0udXBkYXRlQXV0b0NvbXBsZXRlSXRlbXMgPSBmdW5jdGlvbiAoZmlsdGVyLCBhdXRvY29tcGxldGVUZXh0KSB7XHJcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cdFx0XHRcdGZpbHRlci5wb3NzaWJsZVZhbHVlID0gYXV0b2NvbXBsZXRlVGV4dDtcclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnVwZGF0ZUZpZWxkRmlsdGVyRXhpc3RlbnRWYWx1ZXMoZmlsdGVyLCB0cnVlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGZpbHRlci5wb3NzaWJsZVZhbHVlID0gbnVsbDtcclxuXHRcdFx0XHRcdHJlc29sdmUoZmlsdGVyLmV4aXN0ZW50VmFsdWVzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZSB2YWx1ZSBmb3IgZmlsdGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uQ3VycmVudFZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRpZiAoIWZpbHRlci5pc0ZpbHRlclJlYWR5KVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Ly8gcHJlcGFyZSBkYXRhOlxyXG5cdFx0XHRpZiAoZmlsdGVyLm9wZXJhdG9yLnZhbHVlID09PSAnRXF1YWxzX1RleHRBcmVhJykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBmaWx0ZXIuY3VycmVudFZhbHVlLm1hdGNoKC9eLiooKFxcclxcbnxcXG58XFxyKXwkKS9nbSk7XHJcblx0XHRcdFx0ZmlsdGVyLnZhbHVlcyA9IFtdO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZhbHVlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMudHJpbSgpICE9PSAnJyAmJiBmaWx0ZXIudmFsdWVzLmluZGV4T2YodGhpcy50cmltKCkpIDwgMClcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLnZhbHVlcy5wdXNoKHRoaXMudHJpbSgpKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyByZWZyZXNoIGNhc2NhZGluZzpcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS51cGRhdGVGaWVsZEZpbHRlckV4aXN0ZW50VmFsdWVzKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5yZWZyZXNoTmV4dEZpbHRlcnNDYXNjYWRpbmcoZmlsdGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPbiBmaWx0ZXIgbG9naWMgY2hhbmdlLlxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkZpbHRlckxvZ2ljQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0uZmlsdGVycy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAodm0uZmlsdGVyT3B0aW9ucy5maWx0ZXJMb2dpYykge1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVmcmVzaEZpbHRlcnNGb3JGaWx0ZXJMb2dpYygpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dm0ub25DdXJyZW50VmFsdWVDaGFuZ2Uodm0uZmlsdGVyc1swXSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2UgdmFsdWUgaGFuZGxlciBmb3IgY3VzdG9tIHBvcHVwIGZpbHRlci5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub25Qb3B1cFZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGZpbHRlciwgbmV3VmFsdWUpIHtcclxuXHRcdFx0ZmlsdGVyLnZhbHVlcyA9IG5ld1ZhbHVlLnNwbGl0KCcsJyk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdldCBidG4gdGV4dCBmb3IgcG9wdXBcclxuXHRcdCAqL1xyXG5cdFx0dm0uZ2V0UG9wdXBCdG5UZXh0ID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShmaWx0ZXIudmFsdWVzKSB8fCBmaWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm4gJy4uLic7XHJcblx0XHRcdHZhciBsYWJlbHMgPSBbXTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZmlsdGVyLnZhbHVlcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBmaWx0ZXJWYWx1ZSA9IHRoaXM7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZmlsdGVyLmV4aXN0ZW50VmFsdWVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgZXhpc3RlbnRWYWx1ZSA9IHRoaXM7XHJcblx0XHRcdFx0XHRpZiAoZXhpc3RlbnRWYWx1ZS52YWx1ZSA9PT0gZmlsdGVyVmFsdWUpXHJcblx0XHRcdFx0XHRcdGxhYmVscy5wdXNoKGV4aXN0ZW50VmFsdWUudGV4dCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gbGFiZWxzLmpvaW4oJywgJyk7XHJcblx0XHRcdGlmIChyZXN1bHQubGVuZ3RoID4gMzApIHtcclxuXHRcdFx0XHRyZXN1bHQgPSByZXN1bHQuc3Vic3RyaW5nKDAsIDMwKTtcclxuXHRcdFx0XHRyZXN1bHQgKz0gJy4uLic7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb2dnbGUgZmlsdGVyIHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZtLnRvZ2dsZVZhbHVlID0gZnVuY3Rpb24gKGZpbHRlciwgdmFsdWUpIHtcclxuXHRcdFx0dmFyIHZhbHVlcyA9IGZpbHRlci52YWx1ZXM7XHJcblx0XHRcdHZhciBpbmRleCA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKTtcclxuXHRcdFx0aWYgKGluZGV4ID49IDApXHJcblx0XHRcdFx0dmFsdWVzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVmcmVzaE5leHRGaWx0ZXJzQ2FzY2FkaW5nKGZpbHRlcikudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElzIHZhbHVlIGluIHZhbHVlcyBjb2xsZWN0aW9uIGluIGZpbHRlclxyXG5cdFx0ICovXHJcblx0XHR2bS5pc1ZhbHVlQ2hlY2tlZCA9IGZ1bmN0aW9uIChmaWx0ZXIsIHZhbHVlKSB7XHJcblx0XHRcdHZhciB2YWx1ZXMgPSBmaWx0ZXIudmFsdWVzO1xyXG5cdFx0XHRyZXR1cm4gdmFsdWVzLmluZGV4T2YodmFsdWUpID49IDA7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IGZpbHRlciB2YWx1ZSB0eXBlXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEZpbHRlck9wZXJhdG9yVHlwZSA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuXHRcdFx0cmV0dXJuICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRGaWx0ZXJPcGVyYXRvclZhbHVlVHlwZShmaWx0ZXIub3BlcmF0b3IpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IGZpbHRlcnNcclxuXHRcdCAqL1xyXG5cdFx0dm0uYXBwbHlGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0QW5kUmVmcmVzaCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsb3NlIGZpbHRlcnMgcGFuZWxcclxuXHRcdCAqL1xyXG5cdFx0dm0uY2xvc2VGaWx0ZXJzUGFuZWwgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKGZhbHNlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIHdhdGNoZXNcclxuXHRcdCAqL1xyXG5cdFx0dm0uaW5pdFdhdGNoZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldERhdGVGb3JtYXQoKScsIGZ1bmN0aW9uIChkYXRlRm9ybWF0KSB7XHJcblx0XHRcdFx0dm0uZGF0ZUZvcm1hdCA9IGRhdGVGb3JtYXQ7XHJcblx0XHRcdH0sIHRydWUpO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDdWx0dXJlKCknLCBmdW5jdGlvbiAoY3VsdHVyZSkge1xyXG5cdFx0XHRcdHZtLmN1bHR1cmUgPSBjdWx0dXJlO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnMoKScsIGZ1bmN0aW9uIChuZXdGaWx0ZXJzLCBvbGRGaWx0ZXJzKSB7XHJcblx0XHRcdFx0dm0uZmlsdGVycyA9IG5ld0ZpbHRlcnM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRGaWx0ZXJPcHRpb25zKCknLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuXHRcdFx0XHR2bS5maWx0ZXJPcHRpb25zID0gbmV3VmFsdWU7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCknLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0XHRcdHZtLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFsbEZpZWxkc0luQWN0aXZlVGFibGVzKHRydWUpJywgZnVuY3Rpb24gKG5ld0FjdGl2ZUZpZWxkcykge1xyXG5cdFx0XHRcdC8vIHN5bmMgY29sbGVjdGlvbiBlbGVtZW50czpcclxuXHRcdFx0XHQvLyBhZGQ6XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gobmV3QWN0aXZlRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgbmV3QWN0aXZlRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKCFuZXdBY3RpdmVGaWVsZC5hbGxvd2VkSW5GaWx0ZXJzKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR2YXIgZm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcyA9PT0gbmV3QWN0aXZlRmllbGQpXHJcblx0XHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRpZiAoIWZvdW5kKVxyXG5cdFx0XHRcdFx0XHR2bS5hY3RpdmVGaWVsZHMucHVzaChuZXdBY3RpdmVGaWVsZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gcmVtb3ZlOlxyXG5cdFx0XHRcdHZhciBpID0gMDtcclxuXHRcdFx0XHR3aGlsZSAoaSA8IHZtLmFjdGl2ZUZpZWxkcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHZhciBmaWVsZCA9IHZtLmFjdGl2ZUZpZWxkc1tpXTtcclxuXHRcdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBuZXdBY3RpdmVGaWVsZHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKG5ld0FjdGl2ZUZpZWxkc1tqXSA9PT0gZmllbGQpXHJcblx0XHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFmb3VuZClcclxuXHRcdFx0XHRcdFx0dm0uYWN0aXZlRmllbGRzLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aSsrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpbHRlcnNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLnBhbmVsT3BlbmVkID0gb3BlbmVkO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplIGNvbnRyb2xsZXJcclxuXHRcdCAqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dm0uZmlsdGVycyA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmlsdGVycygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2bS5pbml0V2F0Y2hlcnMoKTtcclxuXHR9XHJcbl0pO1xyXG5cclxuLyoqXHJcbiAqIEZpbmQgYWxsIG9wZW5lZCBmaWx0ZXIgcG9wdXAgbW9kYWxzIGFuZCBjbG9zZSBpdC5cclxuICovXHJcbndpbmRvdy5oaWRlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHBvcHVwTW9kYWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ2ZpbHRlcnNQb3B1cE1vZGFsRGlhbG9nJyk7XHJcblx0YW5ndWxhci5lbGVtZW50LmVhY2gocG9wdXBNb2RhbHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciAkbW9kYWwgPSBhbmd1bGFyLmVsZW1lbnQodGhpcyk7XHJcblx0XHRpZiAoJG1vZGFsLmhhc0NsYXNzKCdtb2RhbCcpICYmICRtb2RhbC5oYXNDbGFzcygnaW4nKSkge1xyXG5cdFx0XHQkbW9kYWxbJ21vZGFsJ10oJ2hpZGUnKTtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEN1c3RvbSBwb3B1cCBmaWx0ZXIgbW9kYWwgc3VibWl0IGNhbGxiYWNrLlxyXG4gKi9cclxud2luZG93LkNDX0N1c3RvbUZpbHRlclBhZ2VWYWx1ZVJlY2VpdmVkID0gZnVuY3Rpb24gKCkgeyB9XHJcblxyXG4vKipcclxuICogT3ZlcnJpZGUgaGlkZSBtb2RhbCBmdW5jdGlvbi5cclxuICovXHJcbndpbmRvdy5obSA9IGZ1bmN0aW9uICgpIHtcclxuXHR3aW5kb3cuaGlkZU1vZGFsKCk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJSXplbmRhT25Qb3B1cFZhbHVlQ2hhbmdlU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGhhbmRsZXI6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSwgd2hpY2ggdXNlZCBmb3IgbGlzdGVuaW5nIGN1c3RvbSBwb3B1cCBmaWx0ZXJzIHZhbHVlIGNoYW5nZS5cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFPblBvcHVwVmFsdWVDaGFuZ2UnLCBbXHJcblx0JyRpbnRlcnZhbCcsXHJcblx0ZnVuY3Rpb24gKCRpbnRlcnZhbCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRoYW5kbGVyOiAnJml6ZW5kYU9uUG9wdXBWYWx1ZUNoYW5nZSdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24gKCRzY29wZTogSUl6ZW5kYU9uUG9wdXBWYWx1ZUNoYW5nZVNjb3BlLCAkZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0XHR2YXIgcHJldmlvdXNWYWx1ZSA9ICRlbGVtZW50LnZhbCgpO1xyXG5cdFx0XHRcdHZhciBpbnRlcnZhbElkID0gJGludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhciBuZXdWYWx1ZSA9ICRlbGVtZW50LnZhbCgpO1xyXG5cdFx0XHRcdFx0aWYgKG5ld1ZhbHVlICE9PSBwcmV2aW91c1ZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5oYW5kbGVyKHtcclxuXHRcdFx0XHRcdFx0XHRuZXdWYWx1ZTogbmV3VmFsdWVcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWUgPSBuZXdWYWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAyMCk7XHJcblxyXG5cdFx0XHRcdC8vIHdlIHNob3VsZCB0dXJuIG9mZiBpbnRlcnZhbCBvbiBkZXN0cm95IGlucHV0IHRhZy5cclxuXHRcdFx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3lFdmVudCgpIHtcclxuXHRcdFx0XHRcdGlmIChpbnRlcnZhbElkKSB7XHJcblx0XHRcdFx0XHRcdCRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWxJZCk7XHJcblx0XHRcdFx0XHRcdGludGVydmFsSWQgPSBudWxsO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IGZvcm1hdHRpbmcgY29udHJvbGxlciBkZWZpbml0aW9uXHJcbiAqL1xyXG5pemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlLmNvbnRyb2xsZXIoJ0luc3RhbnRSZXBvcnRGb3JtYXRDb250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJHdpbmRvdycsXHJcblx0JyR0aW1lb3V0JyxcclxuXHQnJHEnLFxyXG5cdCckbG9nJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHQnJGl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkd2luZG93LFxyXG5cdFx0JHRpbWVvdXQsXHJcblx0XHQkcSxcclxuXHRcdCRsb2csXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZSkge1xyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0JHNjb3BlLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5vcHRHcm91cHMgPSB7XHJcblx0XHRcdCdoZWFkZXJBbmRGb290ZXInOiB7XHJcblx0XHRcdFx0b3BlbmVkOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQnY29sb3InOiB7XHJcblx0XHRcdFx0b3BlbmVkOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQncGFnZSc6IHtcclxuXHRcdFx0XHRvcGVuZWQ6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdCdkcmlsbGRvd25zJzoge1xyXG5cdFx0XHRcdG9wZW5lZDogZmFsc2VcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2U7XHJcblx0XHR2bS5vcHRpb25zID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRPcHRpb25zKCk7XHJcblx0XHR2bS52Z1N0eWxlcyA9IFtdO1xyXG5cdFx0dm0uYWxsQWN0aXZlRmllbGRzID0gW107XHJcblx0XHR2bS5kcmlsbERvd25GaWVsZHMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldERyaWxsRG93bkZpZWxkcygpO1xyXG5cdFx0dm0uc2VsZWN0ZWREcmlsbGRvd25GaWVsZCA9IG51bGw7XHJcblxyXG5cdFx0dm0uc2V0dGluZ3MgPSAkaXplbmRhSW5zdGFudFJlcG9ydFNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpO1xyXG5cdFx0dm0uZGRrVmFsdWVzTWF4QW1vdW50ID0gdm0uc2V0dGluZ3MuZGRrVmFsdWVzTWF4QW1vdW50O1xyXG5cdFx0dm0uYWxsb3dWaXJ0dWFsRGF0YVNvdXJjZXMgPSB2bS5zZXR0aW5ncy5hbGxvd1ZpcnR1YWxEYXRhU291cmNlcztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlc3RvcmUgZGVmYXVsdCBjb2xvciBzZXR0aW5ncy5cclxuXHRcdCAqL1xyXG5cdFx0dm0ucmVzdG9yZURlZmF1bHRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVzdG9yZURlZmF1bHRDb2xvcnMoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgZmllbGRzIHdoaWNoIGFyZSBhbHJlYWR5IGluIGRyaWxsZG93biBjb2xsZWN0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZURyaWxsZG93bkZpZWxkc0Zyb21BdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZtLmFsbEFjdGl2ZUZpZWxkcyA9IGFuZ3VsYXIuZWxlbWVudC5ncmVwKHZtLmFsbEFjdGl2ZUZpZWxkcywgZnVuY3Rpb24gKGY6IGFueSkge1xyXG5cdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLmRyaWxsRG93bkZpZWxkcywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dmFyIGRkRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0aWYgKGRkRmllbGQuaWQgPT09IGYuaWQpXHJcblx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gIWZvdW5kO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiB1cGRhdGUgYXZhaWxhYmxlIGNvbGxlY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0dm0uc3luY0F2YWlsYWJsZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBhY3RpdmVUYWJsZXMgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEFjdGl2ZVRhYmxlcygpO1xyXG5cdFx0XHR2bS5hbGxBY3RpdmVGaWVsZHMgPSBbXTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goYWN0aXZlVGFibGVzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIHRhYmxlID0gdGhpcztcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh0YWJsZS5maWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZtLmFsbEFjdGl2ZUZpZWxkcy5wdXNoKHRoaXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dm0ucmVtb3ZlRHJpbGxkb3duRmllbGRzRnJvbUF2YWlsYWJsZSgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBkcmlsbGRvd24ga2V5XHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZERyaWxsZG93biA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHZtLnNlbGVjdGVkRHJpbGxkb3duRmllbGQgPT09IG51bGwpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAodm0uZHJpbGxEb3duRmllbGRzLmxlbmd0aCA+PSB2bS5kZGtWYWx1ZXNNYXhBbW91bnQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2bS5kcmlsbERvd25GaWVsZHMucHVzaCh2bS5zZWxlY3RlZERyaWxsZG93bkZpZWxkKTtcclxuXHRcdFx0dm0uc3luY0F2YWlsYWJsZUNvbGxlY3Rpb24oKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgZHJpbGxkb3duIGZpZWxkXHJcblx0XHQgKi9cclxuXHRcdHZtLnJlbW92ZURyaWxsZG93bkZpZWxkID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IHZtLmRyaWxsRG93bkZpZWxkcy5pbmRleE9mKGZpZWxkKTtcclxuXHRcdFx0dm0uZHJpbGxEb3duRmllbGRzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdHZtLnN5bmNBdmFpbGFibGVDb2xsZWN0aW9uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0Ki9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogTG9vayBmb3Igb3B0aW9ucyBjaGFuZ2VcclxuXHRcdFx0ICovXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0T3B0aW9ucygpJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdFx0XHR2bS5vcHRpb25zID0gb3B0aW9ucztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldFZnU3R5bGVzKCknLCBmdW5jdGlvbiAoc3R5bGVzKSB7XHJcblx0XHRcdFx0dm0udmdTdHlsZXMgPSBzdHlsZXM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXREcmlsbERvd25GaWVsZHMoKScsIGZ1bmN0aW9uIChkZEZpZWxkcykge1xyXG5cdFx0XHRcdHZtLmRyaWxsRG93bkZpZWxkcyA9IGRkRmllbGRzO1xyXG5cdFx0XHRcdHZtLnN5bmNBdmFpbGFibGVDb2xsZWN0aW9uKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWN0aXZlVGFibGVzKCknLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dm0uc3luY0F2YWlsYWJsZUNvbGxlY3Rpb24oKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydFBpdm90c0NvbnRyb2xsZXInLCBbXHJcblx0JyRyb290U2NvcGUnLFxyXG5cdCckc2NvcGUnLFxyXG5cdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZScsXHJcblx0JyRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UnLFxyXG5cdGZ1bmN0aW9uIChcclxuXHRcdCRyb290U2NvcGUsXHJcblx0XHQkc2NvcGUsXHJcblx0XHQkaXplbmRhTG9jYWxlU2VydmljZSxcclxuXHRcdCRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSxcclxuXHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHQkc2NvcGUuJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UgPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZTtcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZTtcclxuXHJcblx0XHR2bS5wYW5lbE9wZW5lZCA9IGZhbHNlOyAvLyBwaXZvdCBwYW5lbCBzdGF0ZVxyXG5cdFx0dm0uYWN0aXZlRmllbGRzID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBbGxGaWVsZHNJbkFjdGl2ZVRhYmxlcyh0cnVlKTtcclxuXHRcdHZtLnBpdm90Q29sdW1uID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UuZ2V0UGl2b3RDb2x1bW4oKTtcclxuXHRcdHZtLnBpdm90T3B0aW9ucyA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90T3B0aW9ucygpO1xyXG5cdFx0dm0uY2VsbFZhbHVlcyA9ICRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldENlbGxWYWx1ZXMoKTtcclxuXHRcdHZtLnNlbGVjdGVkRmllbGRzID0gW107XHJcblxyXG5cdFx0dmFyIHVwZGF0ZVNlbGVjdGVkRmllbGRzQXJyYXkgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzID0gW107XHJcblx0XHRcdHZtLmNlbGxWYWx1ZXMuZm9yRWFjaChjZWxsVmFsdWUgPT4ge1xyXG5cdFx0XHRcdGlmIChjZWxsVmFsdWUpXHJcblx0XHRcdFx0XHR2bS5zZWxlY3RlZEZpZWxkcy5wdXNoKCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeVN5c05hbWUoY2VsbFZhbHVlLnN5c25hbWUpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHR1cGRhdGVTZWxlY3RlZEZpZWxkc0FycmF5KCk7XHJcblxyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0Ly8gcGl2b3QgY29sdW1uXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXQgYWRkaXRpb25hbCBjbGFzcyBmb3IgXCJhZGQgY2VsbCB2YWx1ZVwiIGJ1dHRvbi5cclxuXHRcdCAqIEByZXR1cm5zIHtzdHJpbmd9IGNsYXNzIG5hbWVzICdjbGFzczEgY2xhc3MyIC4uLicuXHJcblx0XHQgKi9cclxuXHRcdHZtLmdldEFkZENlbGxCdG5DbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCF2bS5waXZvdENvbHVtbilcclxuXHRcdFx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcclxuXHRcdFx0dmFyIHJlc3VsdCA9IGZhbHNlO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2bS5jZWxsVmFsdWVzLCBmdW5jdGlvbiAoaVZhbHVlLCB2YWx1ZSkge1xyXG5cdFx0XHRcdGlmICghdmFsdWUpXHJcblx0XHRcdFx0XHRyZXN1bHQgPSB0cnVlO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdCA/ICdkaXNhYmxlZCcgOiAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgdmFsaWRhdGlvblxyXG5cdFx0ICovXHJcblx0XHR2bS51cGRhdGVWYWxpZGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlUmVwb3J0U2V0KCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHZhbGlkYXRpb24gc3RhdGUgYW5kIHJlZnJlc2ggaWYgbmVlZGVkLlxyXG5cdFx0ICovXHJcblx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uuc2V0RGVmYXVsdEdyb3VwKCk7XHJcblxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNsZWFyUmVwb3J0UHJldmlld0h0bWwoKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5hcHBseUF1dG9Hcm91cHModHJ1ZSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVSZXBvcnRTZXRBbmRSZWZyZXNoKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXNlciBzZWxlY3RlZCBwaXZvdCBjb2x1bW5cclxuXHRcdCAqL1xyXG5cdFx0dm0ub25QaXZvdENvbHVtbkZpZWxkU2VsZWN0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodm0ucGl2b3RDb2x1bW4gIT09IG51bGwpIHtcclxuXHRcdFx0XHR2YXIgc291cmNlRmllbGQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmdldEZpZWxkQnlTeXNOYW1lKHZtLnBpdm90Q29sdW1uLnN5c25hbWUpO1xyXG5cclxuXHRcdFx0XHR2YXIgZ3JvdXBOYW1lID0gbnVsbDtcclxuXHRcdFx0XHR2YXIgb2xkUGl2b3RDb2x1bW4gPSAkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRQaXZvdENvbHVtbigpO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KG9sZFBpdm90Q29sdW1uKSAmJiBzb3VyY2VGaWVsZC5zeXNuYW1lID09PSBvbGRQaXZvdENvbHVtbi5zeXNuYW1lKSB7XHJcblx0XHRcdFx0XHRncm91cE5hbWUgPSBvbGRQaXZvdENvbHVtbi5ncm91cEJ5RnVuY3Rpb24udmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNvcHlGaWVsZE9iamVjdChzb3VyY2VGaWVsZCwgdm0ucGl2b3RDb2x1bW4sIHRydWUpO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UucmVzZXRGaWVsZE9iamVjdCh2bS5waXZvdENvbHVtbik7XHJcblx0XHRcdFx0dm0ucGl2b3RDb2x1bW4uaXNQaXZvdENvbHVtbiA9IHRydWU7XHJcblx0XHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uuc2V0UGl2b3RDb2x1bW4odm0ucGl2b3RDb2x1bW4pO1xyXG5cdFx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuaW5pdGlhbGl6ZUZpZWxkKHZtLnBpdm90Q29sdW1uKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoZ3JvdXBOYW1lICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKHZtLnBpdm90Q29sdW1uLmdyb3VwQnlGdW5jdGlvbk9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy52YWx1ZSA9PT0gZ3JvdXBOYW1lKVxyXG5cdFx0XHRcdFx0XHRcdFx0dm0ucGl2b3RDb2x1bW4uZ3JvdXBCeUZ1bmN0aW9uID0gdGhpcztcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHZtLmNlbGxWYWx1ZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdHZtLmFkZENlbGxWYWx1ZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0XHQvLyBjZWxsIHZhbHVlc1xyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VsbCB2YWx1ZSBmaWVsZCBzZWxlY3QgaGFuZGxlclxyXG5cdFx0ICovXHJcblx0XHR2bS5vbkNlbGxWYWx1ZUZpZWxkU2VsZWN0ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcblx0XHRcdHZhciBzZWxlY3RlZEZpZWxkID0gdm0uc2VsZWN0ZWRGaWVsZHNbaW5kZXhdO1xyXG5cdFx0XHR2YXIgY2VsbFZhbHVlID0gdm0uY2VsbFZhbHVlc1tpbmRleF07XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KGNlbGxWYWx1ZSkgJiYgc2VsZWN0ZWRGaWVsZC5zeXNuYW1lID09PSBjZWxsVmFsdWUuc3lzbmFtZSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmIChjZWxsVmFsdWUgPT09IG51bGwpIHtcclxuXHRcdFx0XHQvLyBpZiBmaWVsZCB3YXNuJ3Qgc2V0IHlldFxyXG5cdFx0XHRcdHZtLmNlbGxWYWx1ZXNbaW5kZXhdID0gY2VsbFZhbHVlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5jcmVhdGVGaWVsZE9iamVjdChzZWxlY3RlZEZpZWxkLm5hbWUsIHNlbGVjdGVkRmllbGQucGFyZW50SWQsIHNlbGVjdGVkRmllbGQudGFibGVTeXNuYW1lLCBzZWxlY3RlZEZpZWxkLnRhYmxlTmFtZSxcclxuXHRcdFx0XHRcdHNlbGVjdGVkRmllbGQuc3lzbmFtZSwgc2VsZWN0ZWRGaWVsZC50eXBlR3JvdXAsIHNlbGVjdGVkRmllbGQudHlwZSwgc2VsZWN0ZWRGaWVsZC5zcWxUeXBlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNvcHlGaWVsZE9iamVjdChzZWxlY3RlZEZpZWxkLCBjZWxsVmFsdWUsIHRydWUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlc2V0RmllbGRPYmplY3QoY2VsbFZhbHVlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5pbml0aWFsaXplRmllbGQoY2VsbFZhbHVlKS50aGVuKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goZi5ncm91cEJ5RnVuY3Rpb25PcHRpb25zLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnZ3JvdXAnKVxyXG5cdFx0XHRcdFx0XHRmLmdyb3VwQnlGdW5jdGlvbiA9IHRoaXM7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDZWxsIHZhbHVlIGZ1bmN0aW9uIHNlbGVjdCBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdHZtLm9uQ2VsbFZhbHVlRnVuY3Rpb25TZWxlY3QgPSBmdW5jdGlvbiAoY2VsbFZhbHVlKSB7XHJcblx0XHRcdGlmIChjZWxsVmFsdWUuZ3JvdXBCeUZ1bmN0aW9uID09PSBudWxsKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5vbkZpZWxkRnVuY3Rpb25BcHBsaWVkKGNlbGxWYWx1ZSk7XHJcblx0XHRcdHZtLnVwZGF0ZVJlcG9ydFNldFZhbGlkYXRpb25BbmRSZWZyZXNoKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VsbCB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2bS5zaG93QWR2YW5jZWRPcHRpb25zID0gZnVuY3Rpb24gKGNlbGxWYWx1ZSkge1xyXG5cdFx0XHRjZWxsVmFsdWUuaXNQaXZvdENlbGxWYWx1ZSA9IHRydWU7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuYXBwbHlGaWVsZFNlbGVjdGVkKGNlbGxWYWx1ZSwgdHJ1ZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlIGNlbGwgdmFsdWUgaXRlbVxyXG5cdFx0ICovXHJcblx0XHR2bS5hZGRDZWxsVmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmFkZENlbGxWYWx1ZSgpO1xyXG5cdFx0XHR2bS5zZWxlY3RlZEZpZWxkcy5wdXNoKG51bGwpO1xyXG5cdFx0XHR2bS51cGRhdGVWYWxpZGF0aW9uKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZtLmNsZWFyUGl2b3RzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5yZW1vdmVQaXZvdHMoKTtcclxuXHRcdFx0dm0udXBkYXRlUmVwb3J0U2V0VmFsaWRhdGlvbkFuZFJlZnJlc2goKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgY2VsbCB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2bS5yZW1vdmVDZWxsVmFsdWUgPSBmdW5jdGlvbiAoY2VsbFZhbHVlKSB7XHJcblx0XHRcdHZhciBpZHggPSB2bS5jZWxsVmFsdWVzLmluZGV4T2YoY2VsbFZhbHVlKTtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLnJlbW92ZUNlbGxWYWx1ZShjZWxsVmFsdWUpO1xyXG5cdFx0XHR2bS51cGRhdGVSZXBvcnRTZXRWYWxpZGF0aW9uQW5kUmVmcmVzaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZSBjZWxsIHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZtLm1vdmVDZWxsVmFsdWVUbyA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UubW92ZUNlbGxWYWx1ZVRvKGZyb21JbmRleCwgdG9JbmRleCk7XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzLnNwbGljZSh0b0luZGV4LCAwLCB2bS5zZWxlY3RlZEZpZWxkcy5zcGxpY2UoZnJvbUluZGV4LCAxKVswXSk7XHJcblx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVvcmRlciBjZWxsc1xyXG5cdFx0ICovXHJcblx0XHR2bS5yZW9yZGVyQ2VsbFZhbHVlID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zd2FwQ2VsbFZhbHVlcyhmcm9tSW5kZXgsIHRvSW5kZXgpO1xyXG5cdFx0XHR2YXIgdGVtcCA9IHZtLnNlbGVjdGVkRmllbGRzW2Zyb21JbmRleF07XHJcblx0XHRcdHZtLnNlbGVjdGVkRmllbGRzW2Zyb21JbmRleF0gPSB2bS5zZWxlY3RlZEZpZWxkc1t0b0luZGV4XTtcclxuXHRcdFx0dm0uc2VsZWN0ZWRGaWVsZHNbdG9JbmRleF0gPSB0ZW1wO1xyXG5cdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBwaXZvdCBpdGVtXHJcblx0XHQgKi9cclxuXHRcdHZtLmFkZFBpdm90SXRlbSA9IGZ1bmN0aW9uIChmaWVsZFN5c05hbWUpIHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZpZWxkU3lzTmFtZSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoJGl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZS5nZXRBY3RpdmVUYWJsZXMoKS5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQvLyBvcGVuIHBhbmVsXHJcblx0XHRcdCRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2Uuc2V0RmlsdGVyc1BhbmVsT3BlbmVkKGZhbHNlKTtcclxuXHRcdFx0JGl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2Uuc2V0UGl2b3RzUGFuZWxPcGVuZWQodHJ1ZSk7XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgYW5kIGFkZCBwaXZvdCBpdGVtXHJcblx0XHRcdHZhciBmaWVsZCA9ICRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0RmllbGRCeVN5c05hbWUoZmllbGRTeXNOYW1lKTtcclxuXHRcdFx0dmFyIG5ld0l0ZW0gPSAkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmNyZWF0ZUZpZWxkT2JqZWN0KFxyXG5cdFx0XHRcdGZpZWxkLm5hbWUsIGZpZWxkLnBhcmVudElkLCBmaWVsZC50YWJsZVN5c25hbWUsIGZpZWxkLnRhYmxlTmFtZSxcclxuXHRcdFx0XHRmaWVsZC5zeXNuYW1lLCBmaWVsZC50eXBlR3JvdXAsIGZpZWxkLnR5cGUsIGZpZWxkLnNxbFR5cGUpO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmluaXRpYWxpemVGaWVsZChuZXdJdGVtKS50aGVuKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5hZGRQaXZvdEl0ZW0obmV3SXRlbSk7XHJcblxyXG5cdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLmFwcGx5QXV0b0dyb3Vwcyh0cnVlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgY29udHJvbGxlclxyXG5cdFx0Ki9cclxuXHRcdHZtLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHQvLyBwaXZvdCBwYW5lbCBzdGF0ZSBsaXN0ZW5lclxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRQaXZvdHNQYW5lbE9wZW5lZCgpJywgZnVuY3Rpb24gKG9wZW5lZCkge1xyXG5cdFx0XHRcdHZtLnBhbmVsT3BlbmVkID0gb3BlbmVkO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1haW4gcGl2b3QgY29sdW1uXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRpemVuZGFJbnN0YW50UmVwb3J0UGl2b3RTZXJ2aWNlLmdldFBpdm90Q29sdW1uKCknLCBmdW5jdGlvbiAocGl2b3RDb2x1bW4pIHtcclxuXHRcdFx0XHR2bS5waXZvdENvbHVtbiA9IHBpdm90Q29sdW1uO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHBpdm90IGNlbGwgdmFsdWVzXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRDZWxsVmFsdWVzKCknLCBmdW5jdGlvbiAoY2VsbFZhbHVlcykge1xyXG5cdFx0XHRcdHZtLmNlbGxWYWx1ZXMgPSBjZWxsVmFsdWVzO1xyXG5cdFx0XHRcdHVwZGF0ZVNlbGVjdGVkRmllbGRzQXJyYXkoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5nZXRQaXZvdE9wdGlvbnMoKScsIGZ1bmN0aW9uIChwaXZvdE9wdGlvbnMpIHtcclxuXHRcdFx0XHR2bS5waXZvdE9wdGlvbnMgPSBwaXZvdE9wdGlvbnM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbGlzdGVuIGZvciBhY3RpdmUgZmllbGQgaXRlbXNcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJyRpemVuZGFJbnN0YW50UmVwb3J0U3RvcmFnZVNlcnZpY2UuZ2V0QWxsRmllbGRzSW5BY3RpdmVUYWJsZXModHJ1ZSknLCBmdW5jdGlvbiAobmV3QWN0aXZlRmllbGRzKSB7XHJcblx0XHRcdFx0Ly8gYWRkOlxyXG5cdFx0XHRcdHZhciBjb3VudE9mQ2hhbmdlcyA9IDA7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2gobmV3QWN0aXZlRmllbGRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgbmV3QWN0aXZlRmllbGQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0dmFyIGZvdW5kID0gZmFsc2U7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCh2bS5hY3RpdmVGaWVsZHMsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuc3lzbmFtZSA9PT0gbmV3QWN0aXZlRmllbGQuc3lzbmFtZSlcclxuXHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0XHRcdFx0dm0uYWN0aXZlRmllbGRzLnB1c2gobmV3QWN0aXZlRmllbGQpO1xyXG5cdFx0XHRcdFx0XHRjb3VudE9mQ2hhbmdlcysrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIHJlbW92ZTpcclxuXHRcdFx0XHR2YXIgaSA9IDA7XHJcblx0XHRcdFx0d2hpbGUgKGkgPCB2bS5hY3RpdmVGaWVsZHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHR2YXIgZmllbGQgPSB2bS5hY3RpdmVGaWVsZHNbaV07XHJcblx0XHRcdFx0XHR2YXIgZm91bmQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgbmV3QWN0aXZlRmllbGRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRcdGlmIChuZXdBY3RpdmVGaWVsZHNbal0uc3lzbmFtZSA9PT0gZmllbGQuc3lzbmFtZSlcclxuXHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIWZvdW5kKSB7XHJcblx0XHRcdFx0XHRcdHZtLmFjdGl2ZUZpZWxkcy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHRcdGNvdW50T2ZDaGFuZ2VzKys7XHJcblx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0aSsrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZS5zeW5jUGl2b3RTdGF0ZSh2bS5hY3RpdmVGaWVsZHMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5dKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUgZnJvbSAnaW5zdGFudC1yZXBvcnQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEluc3RhbnQgcmVwb3J0IHZhbGlkYXRpb24gY29udHJvbGxlci5cclxuICovXHJcbml6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUuY29udHJvbGxlcignSW5zdGFudFJlcG9ydFZhbGlkYXRpb25Db250cm9sbGVyJywgW1xyXG5cdCckcm9vdFNjb3BlJyxcclxuXHQnJHNjb3BlJyxcclxuXHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdCckaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlJyxcclxuXHRmdW5jdGlvbiAoXHJcblx0XHQkcm9vdFNjb3BlLFxyXG5cdFx0JHNjb3BlLFxyXG5cdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2UsXHJcblx0XHQkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlKSB7XHJcblxyXG5cdFx0J3VzZSBzdHJpY3QnO1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdCRzY29wZS4kaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlID0gJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZTtcclxuXHJcblx0XHR2bS5pc1ZhbGlkID0gdHJ1ZTtcclxuXHRcdHZtLm1lc3NhZ2VzID0gW107XHJcblx0XHR2bS5pbmZvTWVzc2FnZXMgPSBbXTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSBjb250cm9sbGVyXHJcblx0XHQqL1xyXG5cdFx0dm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnJGl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZS5nZXRWYWxpZGF0aW9uTWVzc2FnZXMoKScsIGZ1bmN0aW9uIChtZXNzYWdlcykge1xyXG5cdFx0XHRcdHZtLmlzVmFsaWQgPSAkaXplbmRhSW5zdGFudFJlcG9ydFZhbGlkYXRpb25TZXJ2aWNlLmlzUmVwb3J0VmFsaWQoKTtcclxuXHRcdFx0XHR2bS5tZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdHZtLmluZm9NZXNzYWdlcyA9IFtdO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKG1lc3NhZ2VzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR2YXIgbWVzc2FnZSA9IHRoaXM7XHJcblx0XHRcdFx0XHRpZiAobWVzc2FnZS50eXBlID09PSAnaW5mbycpIHtcclxuXHRcdFx0XHRcdFx0dm0uaW5mb01lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR2bS5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXSk7IiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlIGZyb20gJ2luc3RhbnQtcmVwb3J0L21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UgZnJvbSAnaW5zdGFudC1yZXBvcnQvc2VydmljZXMvaW5zdGFudC1yZXBvcnQtcXVlcnknO1xyXG5pbXBvcnQgSXplbmRhSW5zdGFudFJlcG9ydFBpdm90U2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1waXZvdCc7XHJcbmltcG9ydCBJemVuZGFJbnN0YW50UmVwb3J0U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2luc3RhbnQtcmVwb3J0L3NlcnZpY2VzL2luc3RhbnQtcmVwb3J0LXNldHRpbmdzJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC12aXN1YWxpemF0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRTdG9yYWdlU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC1zdG9yYWdlJztcclxuaW1wb3J0IEl6ZW5kYUluc3RhbnRSZXBvcnRWYWxpZGF0aW9uU2VydmljZSBmcm9tICdpbnN0YW50LXJlcG9ydC9zZXJ2aWNlcy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uJztcclxuXHJcbkl6ZW5kYUluc3RhbnRSZXBvcnRRdWVyeVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSk7XHJcbkl6ZW5kYUluc3RhbnRSZXBvcnRQaXZvdFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSk7XHJcbkl6ZW5kYUluc3RhbnRSZXBvcnRTZXR0aW5nc1NlcnZpY2UucmVnaXN0ZXIoaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSk7XHJcbkl6ZW5kYUluc3RhbnRSZXBvcnRWaXN1YWxpemF0aW9uU2VydmljZS5yZWdpc3RlcihpemVuZGFJbnN0YW50UmVwb3J0TW9kdWxlKTtcclxuSXplbmRhSW5zdGFudFJlcG9ydFN0b3JhZ2VTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUluc3RhbnRSZXBvcnRNb2R1bGUpO1xyXG5JemVuZGFJbnN0YW50UmVwb3J0VmFsaWRhdGlvblNlcnZpY2UucmVnaXN0ZXIoaXplbmRhSW5zdGFudFJlcG9ydE1vZHVsZSk7XHJcblxyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1maWVsZC1kcmFnZ2FibGUnO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2RpcmVjdGl2ZS9pbnN0YW50LXJlcG9ydC1sZWZ0LXBhbmVsLXJlc2l6ZSc7XHJcblxyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWNoYXJ0cy1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1jb2x1bW5zLXNvcnQtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtZGF0YS1zb3VyY2UtY29udHJvbGxlcic7XHJcbmltcG9ydCAnaW5zdGFudC1yZXBvcnQvY29udHJvbGxlcnMvaW5zdGFudC1yZXBvcnQtZmllbGQtb3B0aW9ucy1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1maWx0ZXJzLWNvbnRyb2xsZXInO1xyXG5pbXBvcnQgJ2luc3RhbnQtcmVwb3J0L2NvbnRyb2xsZXJzL2luc3RhbnQtcmVwb3J0LWZvcm1hdC1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC1waXZvdC1jb250cm9sbGVyJztcclxuaW1wb3J0ICdpbnN0YW50LXJlcG9ydC9jb250cm9sbGVycy9pbnN0YW50LXJlcG9ydC12YWxpZGF0aW9uLWNvbnRyb2xsZXInO1xyXG4iLCJpbXBvcnQgeyBJSXplbmRhUmF3TW9kZWwgYXMgSVJhd01vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3Jhdy1tb2RlbCc7XHJcblxyXG4vKipcclxuICogU2VydmVyLXNpZGUgZmlsdGVycyBvYmplY3QgcmF3IG1vZGVsLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUZpbHRlcnNNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblxyXG5cdGZpbHRlckxvZ2ljOiBzdHJpbmcgPSAnJztcclxuXHRmaWx0ZXJzOiBhbnlbXSA9IFtdO1xyXG5cdHN1YnJlcG9ydHNGaWx0ZXJzOiBhbnkgPSBudWxsO1xyXG5cclxuXHRmcm9tSnNvbihqc29uOiBhbnkpIHtcclxuXHRcdHRoaXMuZmlsdGVyTG9naWMgPSBqc29uLkZpbHRlckxvZ2ljIHx8ICcnO1xyXG5cdFx0dGhpcy5maWx0ZXJzID0ganNvbi5GaWx0ZXJzIHx8IFtdO1xyXG5cdFx0dGhpcy5zdWJyZXBvcnRzRmlsdGVycyA9IGpzb24uU3VicmVwb3J0c0ZpbHRlcnMgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0RmlsdGVyTG9naWM6IHRoaXMuZmlsdGVyTG9naWMsXHJcblx0XHRcdEZpbHRlcnM6IHRoaXMuZmlsdGVycyxcclxuXHRcdFx0U3VicmVwb3J0RmlsdGVyczogdGhpcy5zdWJyZXBvcnRzRmlsdGVyc1xyXG5cdFx0fTtcclxuXHR9XHJcbn0iLCIvKipcclxuICogVGhpcyBpbnRlcmZhY2UgdXNlZCBmb3IgdGhlIGNvbnZlcnRhdGlvbiBmcm9tL3RvIHNlcnZlci1zaWRlIGpzb24gb2JqZWN0cy5cclxuICogT2JqZWN0IHdpdGggdGhpcyBpbnRlcmZhY2UgYXJlIHVzZWQgYXMgdGhlIHByb21pc2UgcGFyYW1ldGVycyBmb3IgcXVlcnkgbWV0aG9kcy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl6ZW5kYVJhd01vZGVsIHtcclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCByYXcganNvbiAob3IgYW55IG90aGVyIHR5cGUpIGludG8gdGhlIHJhdyBtb2RlbCBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU291cmNlIHJhdyBvYmplY3QuXHJcblx0ICovXHJcblx0ZnJvbUpzb24oanNvbjogYW55LCAuLi5vcHRpb25hbCk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgdGhpcyBvYmplY3QgaW50byB0aGUgcmF3IGZvcm1hdC5cclxuXHQgKiBAcmV0dXJucyB7YW55fSBSYXcgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnk7XHJcbn0iLCIvKipcclxuICogSW5zdGFudCByZXBvcnQgc2V0dGluZ3Mgb2JqZWN0IGludGVyZmFjZS4gVmFsdWVzIGZvciB0aGlzIHBhc3NlZCBmcm9tXHJcbiAqIFwic3RhdGljIHN0cmluZyBHZXRJbnN0YW50UmVwb3J0U2V0dGluZ3MoKVwiIGJhY2tlbmQgbWV0aG9kLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhSW5zdGFudFJlcG9ydENvbmZpZyB7XHJcblx0YWxsb3dWaXJ0dWFsRGF0YVNvdXJjZXM6IGJvb2xlYW47XHJcblx0ZGRrVmFsdWVzTWF4QW1vdW50OiBudW1iZXI7XHJcblx0c2hvd0Rlc2lnbkxpbmtzOiBib29sZWFuO1xyXG5cdHNob3dTYXZlQ29udHJvbHM6IGJvb2xlYW47XHJcblx0c2hvd1NjaGVkdWxlQ29udHJvbHM6IGJvb2xlYW47XHJcblx0c2hvd1NoYXJpbmdDb250cm9sOiBib29sZWFuO1xyXG5cdHNob3dDaGFydFRhYjogYm9vbGVhbjtcclxuXHR2aXNpb25BbGxvd2VkOiBib29sZWFuO1xyXG5cdHNob3dBbGxJblByZXZpZXc6IGJvb2xlYW47XHJcblx0ZGlzdGluY3Q6IGJvb2xlYW47XHJcblx0c2hvd0Rpc3RpbmN0OiBib29sZWFuO1xyXG5cdGRlZmF1bHRUYWJsZTogc3RyaW5nO1xyXG5cdG1heEFsbG93ZWRUYWJsZXM6IG51bWJlcjtcclxuXHRoZWFkZXJGb3JlZ3JvdW5kQ29sb3I6IHN0cmluZztcclxuXHRpdGVtRm9yZWdyb3VuZENvbG9yOiBzdHJpbmc7XHJcblx0cmVwb3J0SGVhZGVyQ29sb3I6IHN0cmluZztcclxuXHRyZXBvcnRJdGVtQ29sb3I6IHN0cmluZztcclxuXHRyZXBvcnRBbHRlcm5hdGluZ0l0ZW1Db2xvcjogc3RyaW5nO1xyXG5cdHJlcG9ydEJvcmRlckNvbG9yOiBzdHJpbmc7XHJcblx0ZGVmYXVsdFZpc2liaWxpdHlGb3JOb25BZG1pbnM6IHN0cmluZztcclxuXHRkZWZhdWx0U2hhcmluZ1JpZ2h0czogc3RyaW5nO1xyXG5cclxuXHQvLyBjdXN0b20gYWRkaXRpb25hbCBzZXR0aW5ncyAobm90IHByZXNlbnRlZCBpbiBiYWNrZW5kKVxyXG5cdG1vdmVVbmNhdGVnb3JpemVkVG9MYXN0UG9zaXRpb24gOiBib29sZWFuO1xyXG59XHJcbiJdfQ==
