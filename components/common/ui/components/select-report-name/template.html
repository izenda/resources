<izenda-bootstrap-modal opened="$ctrl.openedInner"
                        on-modal-opened="$ctrl.setFocus()"
                        on-modal-closed="$ctrl.modalClosedHandler()">
  <div class="modal-body">
    <form class="form-horizontal" role="form">
      <div class="form-group" ng-if="$ctrl.errorMessages.length > 0">
        <div class="alert alert-danger" role="alert">
          <div ng-repeat="errorMessage in $ctrl.errorMessages"
               ng-bind="errorMessage">
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="izendaNameModalName" class="col-sm-2 control-label"
               ng-bind="'js_Name' | izendaLocale: 'Name'" bind-once>
        </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="izendaNameModalName"
                 ng-model="$ctrl.reportName"
                 ng-attr-placeholder="{{$ctrl.reportNameInputPlaceholderText}}"
                 ng-keypress="$ctrl.reportNameKeyPressed($event)"
                 izenda-focus="{{$ctrl.focus.isNameFocused}}"
                 tabindex="1">
        </div>
      </div>
      <div class="form-group"
           ng-show="$ctrl.isCategoryAllowed">
        <label for="izendaNameModalCategory" class="col-sm-2 control-label"
               ng-bind="'js_Category' | izendaLocale: 'Category'" bind-once>
        </label>
        <div class="col-sm-10" ng-hide="!$ctrl.isCreatingNewCategory">
          <input id="izendaNameModalCategoryName" type="text" class="form-control"
                 ng-attr-placeholder="{{'js_Category' | izendaLocale: 'Category'}}"
                 ng-model="$ctrl.newCategoryName"
                 izenda-focus="{{$ctrl.focus.isCategoryFocused}}"
                 tabindex="2" />
        </div>
        <div class="col-sm-10" ng-hide="$ctrl.isCreatingNewCategory">
          <select id="izendaNameModalCategory" class="form-control"
                  ng-options="category as category.name for category in $ctrl.categories"
                  ng-model="$ctrl.selectedCategory"
                  ng-change="$ctrl.categorySelectedHandler()"
                  ng-disabled="$ctrl.isSelectDisabled"
                  tabindex="2"></select>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal"
            ng-click="$ctrl.closeModal()"
            ng-bind="'js_close' | izendaLocale: 'Close'"
            tabindex="4"></button>
    <button type="button" class="btn btn-izenda-dark"
            ng-click="$ctrl.completeHandler()"
            ng-bind="'js_Ok' | izendaLocale: 'OK'"
            tabindex="3"></button>
  </div>
</izenda-bootstrap-modal>
