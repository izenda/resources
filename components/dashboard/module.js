var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
izendaRequire.define("common/core/module-definition", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // create izenda.common.core angular module
    var izendaCoreModule = angular.module('izenda.common.core', ['rx']);
    exports.default = izendaCoreModule;
});
izendaRequire.define("common/core/tools/msie-detect", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MsieDetect = /** @class */ (function () {
        function MsieDetect() {
        }
        MsieDetect.isSpecificIeVersion = function (version, comparison) {
            var ieCompareOperator = 'IE';
            var b = document.createElement('B');
            var docElem = document.documentElement;
            if (version) {
                ieCompareOperator += " " + version;
                if (comparison) {
                    ieCompareOperator = comparison + " " + ieCompareOperator;
                }
            }
            b.innerHTML = "<!--[if " + ieCompareOperator + "]><b id=\"iecctest\"></b><![endif]-->";
            docElem.appendChild(b);
            var isIeResult = !!document.getElementById('iecctest');
            docElem.removeChild(b);
            var docMode = document['documentMode'];
            var isCompatibilityMode = (typeof docMode !== 'undefined' &&
                ((comparison === 'lte' && Number(docMode) <= version) ||
                    (comparison === 'gte' && Number(docMode) >= version) ||
                    (comparison === 'lt' && Number(docMode) < version) ||
                    (comparison === 'gt' && Number(docMode) > version) ||
                    (comparison === 'eq' && Number(docMode) === version)));
            return isIeResult || isCompatibilityMode;
        };
        return MsieDetect;
    }());
    exports.default = MsieDetect;
});
izendaRequire.define("common/core/services/compatibility-service", ["require", "exports", "common/core/tools/msie-detect", "izenda-external-libs"], function (require, exports, msie_detect_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaCompatibilityService = /** @class */ (function () {
        function IzendaCompatibilityService($window) {
            this.$window = $window;
            this.rightNone = 'None';
            this.rightReadOnly = 'Read Only';
            this.rightViewOnly = 'View Only';
            this.rightLocked = 'Locked';
            this.rightFullAccess = 'Full Access';
            this.currentRights = this.rightNone;
            this.ie8 = msie_detect_1.default.isSpecificIeVersion(8, 'lte');
            this.lteIe10 = msie_detect_1.default.isSpecificIeVersion(10, 'lte');
            this.gteIe9 = msie_detect_1.default.isSpecificIeVersion(9, 'gte');
        }
        Object.defineProperty(IzendaCompatibilityService, "injectModules", {
            get: function () {
                return ['$window'];
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.prototype.isIe8 = function () {
            return this.ie8;
        };
        IzendaCompatibilityService.prototype.isIe = function () {
            return this.gteIe9;
        };
        IzendaCompatibilityService.prototype.isLteIe10 = function () {
            return this.lteIe10;
        };
        IzendaCompatibilityService.prototype.isHtml5FullScreenSupported = function () {
            return !this.lteIe10
                && (document['fullscreenEnabled'] || document['webkitFullscreenEnabled'] || document['mozFullScreenEnabled'] || document['msFullscreenEnabled']);
        };
        /**
         * Check is page should have mobile view.
         */
        IzendaCompatibilityService.prototype.isMobile = function () {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        };
        /**
         * Check is page window is too small to fit several columns of tiles.
         */
        IzendaCompatibilityService.prototype.isSmallResolution = function () {
            return this.$window.innerWidth <= 991;
        };
        /**
         * Check if one column view required
         */
        IzendaCompatibilityService.prototype.isOneColumnView = function () {
            return this.isMobile() || this.isSmallResolution();
        };
        ;
        /**
         * Set flag that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.setUsesHiddenColumns = function (value) {
            this.usesHiddenColumns = value;
        };
        /**
         * Get flat that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.isUsesHiddenColumns = function () {
            return this.usesHiddenColumns;
        };
        /**
         * Set rights for current dashboard
         */
        IzendaCompatibilityService.prototype.setRights = function (rights) {
            this.currentRights = rights ? rights : this.rightNone;
        };
        /**
         * Get current rights
         */
        IzendaCompatibilityService.prototype.getRights = function () {
            return this.currentRights ? this.currentRights : this.rightNone;
        };
        /**
         * Set full access right as current right.
         */
        IzendaCompatibilityService.prototype.setFullAccess = function () {
            this.setRights(this.rightFullAccess);
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isFullAccess = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isOneColumnView();
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save as allowed
         */
        IzendaCompatibilityService.prototype.isSaveAsAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed with hidden columns
         */
        IzendaCompatibilityService.prototype.isSaveAllowedWithHidden = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed
         */
        IzendaCompatibilityService.prototype.isSaveAllowed = function () {
            return this.isSaveAllowedWithHidden() && !this.usesHiddenColumns;
        };
        /**
         * Check is filters editing allowed
         */
        IzendaCompatibilityService.prototype.isFiltersEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly, this.rightLocked].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        Object.defineProperty(IzendaCompatibilityService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.register = function (module) {
            module.service('$izendaCompatibilityService', IzendaCompatibilityService.injectModules.concat(IzendaCompatibilityService));
        };
        return IzendaCompatibilityService;
    }());
    exports.default = IzendaCompatibilityService;
});
izendaRequire.define("common/core/services/event-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaEventService = /** @class */ (function () {
        function IzendaEventService($rootScope, $log) {
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.events = {};
        }
        Object.defineProperty(IzendaEventService, "injectModules", {
            get: function () {
                return ['$rootScope', '$log'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add event to queue.
         */
        IzendaEventService.prototype.queueEvent = function (eventName, eventArguments, clearQueue) {
            if (!(eventName in this.events) || clearQueue) {
                this.events[eventName] = [];
            }
            var eventRecord = {
                args: eventArguments
            };
            this.events[eventName].push(eventRecord);
            this.$log.debug("event \"" + eventName + "\" queued");
            this.$rootScope.$broadcast(eventName, eventArguments);
        };
        /**
         * Retrieve event record from queue and return it's record.
         */
        IzendaEventService.prototype.handleQueuedEvent = function (eventName, scope, eventContext, eventHandler) {
            var _this = this;
            if (!angular.isFunction(eventHandler))
                throw 'eventHandler should be a function';
            if (!(eventName in this.events) || !angular.isArray(this.events[eventName]))
                this.events[eventName] = [];
            while (this.events[eventName].length > 0) {
                var eventRecord = this.events[eventName].shift();
                this.$log.debug("event \"" + eventName + "\" run from queue");
                eventHandler.apply(eventContext, eventRecord.args);
            }
            // start handling event using angular events.
            if (scope.$$listeners) {
                var eventArr = scope.$$listeners[eventName];
                if (eventArr) {
                    for (var i = 0; i < eventArr.length; i++) {
                        if (eventArr[i] === eventHandler) {
                            eventArr.splice(i, 1);
                        }
                    }
                }
            }
            ;
            scope.$on(eventName, function (event, args) {
                _this.$log.debug("event \"" + eventName + "\" run from $on");
                _this.events[eventName] = [];
                eventHandler.apply(eventContext, args);
            });
        };
        /**
         * Clear all queued events (for manual $broadcast handling)
         */
        IzendaEventService.prototype.clearEventQueue = function (eventName) {
            this.events[eventName] = [];
        };
        Object.defineProperty(IzendaEventService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaEventService.register = function (module) {
            module.service('$izendaEventService', IzendaEventService.injectModules.concat(IzendaEventService));
        };
        return IzendaEventService;
    }());
    exports.default = IzendaEventService;
});
izendaRequire.define("common/core/services/localization-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Localization service. Gets localized strings from the "IzLocal" object.
     */
    var IzendaLocalizationService = /** @class */ (function () {
        function IzendaLocalizationService() {
            IzLocal.LocalizePage();
        }
        Object.defineProperty(IzendaLocalizationService, "injectModules", {
            get: function () {
                return [];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get localized text.
         * @param {string} key. Locale string key (defined in resources.aspx)
         * @param {string} defaultValue. Default value, when locale text couldn't be got
         * @returns {string} localized text.
         */
        IzendaLocalizationService.prototype.localeText = function (key, defaultValue) {
            var defaultText = angular.isString(defaultValue) ? defaultValue : '';
            return IzLocal.Res(key, defaultText);
        };
        /**
         * Apply locale string in format "...{0}...{1}..." and apply instead of '{n}' params[n]
         * @param {string} locale text key. This key contains in resources.
         * @param {strong} defaultValue. Default value if locale resource wasn't found.
         * @param {Array} params. Additional params.
         * @returns {string}. Localized text.
         */
        IzendaLocalizationService.prototype.localeTextWithParams = function (key, defaultValue, params) {
            var result = this.localeText(key, defaultValue);
            if (angular.isArray(params))
                params.forEach(function (param, iParam) {
                    return result = result.replaceAll("{" + iParam + "}", param);
                });
            return result;
        };
        Object.defineProperty(IzendaLocalizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaLocalizationService.register = function (module) {
            module.service('$izendaLocaleService', IzendaLocalizationService.injectModules.concat(IzendaLocalizationService));
            /**
             * Filter which is used for the applying localization.
             * Sample usage: <div ng-bind=":: 'js_close' | izendaLocale: 'Close'" /> where 'Close' - "defaultValue" parameter value.
             */
            module.filter('izendaLocale', [
                '$izendaLocaleService',
                function ($izendaLocaleService) {
                    return function (text, defaultValue) { return $izendaLocaleService.localeText(text, defaultValue); };
                }
            ]);
        };
        return IzendaLocalizationService;
    }());
    exports.default = IzendaLocalizationService;
});
izendaRequire.define("common/core/services/util-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Utility service. Provides the utility functions.
     */
    var IzendaUtilService = /** @class */ (function () {
        function IzendaUtilService($izendaLocaleService) {
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaUtilService, "injectModules", {
            get: function () {
                return ['$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create human readable variable name version
         * @param {string} text Text
         */
        IzendaUtilService.prototype.humanizeVariableName = function (text) {
            if (!angular.isString(text))
                return text;
            var result = text
                // insert a space between lower & upper
                .replace(/([a-z])([A-Z\d])/g, '$1 $2')
                // space before last upper in a sequence followed by lower
                .replace(/\b([A-Z\d]+)([A-Z\d])([a-z])/, '$1 $2$3')
                // uppercase the first character
                .replace(/^./, function (txt) { return txt.toUpperCase(); });
            return result;
        };
        Object.defineProperty(IzendaUtilService.prototype, "uncategorized", {
            /**
             * "Uncategorized" category localized name getter.
             */
            get: function () {
                return this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get "Uncategorized" category localized name.
         */
        IzendaUtilService.prototype.getUncategorized = function () {
            return this.uncategorized;
        };
        /**
         * Check whether "uncategorized" category or not.
         */
        IzendaUtilService.prototype.isUncategorized = function (category) {
            if (!category || !angular.isString(category))
                return true;
            return category.toLowerCase() === this.uncategorized.toLowerCase();
        };
        /**
         * Check whether categories equal or not.
         * @param {string} cat1 Category name.
         * @param {string} cat2 Category name.
         */
        IzendaUtilService.prototype.isCategoriesEqual = function (cat1, cat2) {
            return (this.isUncategorized(cat1) && this.isUncategorized(cat2)) || cat1 === cat2;
        };
        /**
         * Generate report full name
         * @param {string} reportName report name.
         * @param {string} separator directories separator symbol.
         * @param {string} category report category (optional).
         * @return {string} generated report full name.
         */
        IzendaUtilService.prototype.createReportFullName = function (reportName, separator, category) {
            if (!reportName || reportName.trim() === '')
                throw new Error('Empty "reportName" parameter isn\'t allowed.');
            return this.isUncategorized(category)
                ? reportName
                : category + separator + reportName;
        };
        /**
         * Convert options which have got from server using "GetOptionsByPath" query into
         * one dimentional array, which allow to use it as <option>
         */
        IzendaUtilService.prototype.convertOptionsByPath = function (optionGroups) {
            if (!angular.isArray(optionGroups))
                return [];
            var groups = [];
            optionGroups.forEach(function (group) {
                group.options.forEach(function (option) {
                    option.group = angular.isString(group.name) && group.name !== ''
                        ? group.name
                        : undefined;
                    groups.push(option);
                });
            });
            return groups;
        };
        /**
         * Get option by value from array of objects with "value" property (case insensitive):
         * [{value:'text1',...}, {value:'text2', ...}, ...]
         */
        IzendaUtilService.prototype.getOptionByValue = function (options, value, isLowerCaseComparison) {
            var i = 0;
            if (!angular.isArray(options) || !options.length)
                return null;
            while (i < options.length) {
                var option = options[i];
                if (!isLowerCaseComparison && option.value === value)
                    return option;
                if (isLowerCaseComparison && option.value.toLowerCase() === value.toLowerCase())
                    return option;
                i++;
            }
            return null;
        };
        Object.defineProperty(IzendaUtilService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilService.register = function (module) {
            module.service('$izendaUtilService', IzendaUtilService.injectModules.concat(IzendaUtilService));
        };
        return IzendaUtilService;
    }());
    exports.default = IzendaUtilService;
});
izendaRequire.define("common/core/services/util-ui-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaUtilUiService = /** @class */ (function () {
        function IzendaUtilUiService($timeout, $izendaLocaleService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.notificationHideDelay = 5000;
            this.notificationsIdCounter = 1;
            this.notifications = [];
            this.message = null;
            this.dialogBox = null;
        }
        Object.defineProperty(IzendaUtilUiService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Immediately close notification.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.closeNotification = function (notificationId) {
            var i = 0;
            while (i < this.notifications.length) {
                if (this.notifications[i].id === notificationId) {
                    this.cancelNotificationTimeout(notificationId);
                    this.notifications.splice(i, 1);
                    return;
                }
                i++;
            }
        };
        /**
         * Cancel notification autohide.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.cancelNotificationTimeout = function (notificationId) {
            var itm = this.getNotificationById(notificationId);
            if (itm.timeoutId) {
                this.$timeout.cancel(itm.timeoutId);
                itm.timeoutId = null;
            }
        };
        /**
         *  Shows pop up notification panel. If no <izenda-notification-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} text Message text.
         * @param {string} title Title text (optional).
         * @param {string} icon Icon (optional). Possible values 'error' or no value.
         */
        IzendaUtilUiService.prototype.showNotification = function (text, title, icon) {
            var _this = this;
            var nextId = this.notificationsIdCounter++;
            var iconClass = angular.isString(icon) && icon === 'error' ? 'glyphicon glyphicon-exclamation-sign' : '';
            var objToShow = {
                id: nextId,
                title: title ? title : '',
                text: text,
                iconClass: iconClass,
                timeoutId: null
            };
            objToShow.timeoutId = this.$timeout(function () {
                _this.closeNotification(objToShow.id);
            }, this.notificationHideDelay);
            this.notifications.push(objToShow);
        };
        /**
         * Shows message dialog. If no <izenda-message-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         */
        IzendaUtilUiService.prototype.showMessageDialog = function (message, title, alertInfo) {
            this.message = {
                message: message,
                title: angular.isDefined(title) ? title : '',
                alertInfo: angular.isDefined(alertInfo) ? alertInfo : 'info'
            };
        };
        /**
         * Shows error dialog.
         * @param {string} componentId ID of component. Used for distinguish different similar components.
         * @param {string} message Error text
         * @param {string} title Error title (optional)
         */
        IzendaUtilUiService.prototype.showErrorDialog = function (message, title) {
            var titleText = angular.isDefined(title) ? title : this.$izendaLocaleService.localeText('js_Error', 'Error');
            this.showMessageDialog(message, titleText, 'danger');
        };
        /**
         * Close message dialog.
         */
        IzendaUtilUiService.prototype.closeMessageDialog = function () {
            this.message = null;
        };
        /**
         * Shows dialog box. If no <izenda-dialog-box-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         * @param {Array} buttons dialog buttons (optional).
         * @param {Array} checkboxes checkboxes collection (optional).
         */
        IzendaUtilUiService.prototype.showDialogBox = function (options) {
            this.dialogBox = {
                message: options.message,
                title: angular.isDefined(options.title) ? options.title : '',
                alertInfo: angular.isDefined(options.alertInfo) ? options.alertInfo : 'info',
                buttons: angular.isDefined(options.buttons) ? options.buttons : [{ text: 'Close' }],
                checkboxes: angular.isDefined(options.checkboxes) ? options.checkboxes : []
            };
        };
        /**
         * Close dialog box
         */
        IzendaUtilUiService.prototype.closeDialogBox = function () {
            this.dialogBox = null;
        };
        IzendaUtilUiService.prototype.getNotificationById = function (id) {
            var found = this.notifications.find(function (n) {
                return n.id === id;
            });
            return found ? found : null;
        };
        Object.defineProperty(IzendaUtilUiService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilUiService.register = function (module) {
            module.service('$izendaUtilUiService', IzendaUtilUiService.injectModules.concat(IzendaUtilUiService));
        };
        return IzendaUtilUiService;
    }());
    exports.default = IzendaUtilUiService;
});
izendaRequire.define("common/core/directives/bootstrap-modal", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Bootstrap modal directive. Usage:
     * <izenda-bootstrap-modal opened="...">...</izenda-bootstrap-modal>
     */
    var IzendaBootstrapModalDirective = /** @class */ (function () {
        function IzendaBootstrapModalDirective($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                keyboard: '=',
                backdrop: '=',
                modalSize: '@',
                isModernBootstrapVersion: '@',
                onModalOpened: '&',
                onModalClosed: '&'
            };
            this.template = "\n<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n\t<div class=\"modal-dialog\" ng-class=\"getModalSizeClass()\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div ng-transclude=\"\"></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapModalDirective.prototype.link = function ($directiveScope, $element) {
                $directiveScope.getModalSizeClass = function () { return $directiveScope.modalSize === 'large' ? 'modal-lg' : ''; };
                var $modal = $element.children('.modal');
                if (!$directiveScope.isModernBootstrapVersion) {
                    $modal.css({
                        'overflow-x': 'hidden',
                        'overflow-y': 'scroll'
                    });
                }
                // additional bootstrap parameters
                if ($directiveScope.keyboard != null)
                    $modal.attr('data-keyboard', $directiveScope.keyboard);
                if ($directiveScope.backdrop != null)
                    $modal.attr('data-backdrop', $directiveScope.backdrop);
                // modal show handler
                $modal.on('show.bs.modal', function () {
                    $modal.css('background-color', 'rgba(0,0,0,0.8)');
                    $modal.css('filter', 'alpha(opacity=80)');
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('margin-right', '0');
                        angular.element('body').css('overflow', 'hidden');
                    }
                });
                // modal shown handler
                $modal.on('shown.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'hidden');
                        angular.element('body').scrollTop();
                    }
                    if (angular.isFunction($directiveScope.onModalOpened)) {
                        $directiveScope.onModalOpened({});
                    }
                    $directiveScope.$applyAsync();
                });
                // modal hidden handler
                $modal.on('hidden.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'inherit');
                        angular.element('body').css('margin-right', '0');
                    }
                    $directiveScope.opened = false;
                    if (angular.isFunction($directiveScope.onModalClosed)) {
                        $directiveScope.onModalClosed({});
                    }
                    $directiveScope.$applyAsync();
                });
                $directiveScope.$watch('opened', function (newVal) {
                    // create/hide modal dialog
                    if (newVal)
                        $element.children('.modal')['modal']();
                    else
                        $element.children('.modal')['modal']('hide');
                });
            };
        }
        IzendaBootstrapModalDirective.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapModalDirective($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapModalDirective;
    }());
    module_definition_1.default.directive('izendaBootstrapModal', ['$timeout', IzendaBootstrapModalDirective.factory()]);
});
izendaRequire.define("common/core/directives/utility", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Angular filter which replaces string.
     * Usage:
     * {{ 'some string' | izendaReplaceString: [{ from: 's', to: '$' }, { from: 'o', to: '0' } ] }}
     * this sample will produce string '$0me $tring'
     */
    module_definition_2.default.filter('izendaReplaceString', function () {
        return function (text, rules) {
            if (!angular.isArray(rules))
                return text;
            var resultText = text;
            if (!resultText)
                return resultText;
            rules.forEach(function (rule) { return resultText = resultText.replaceAll(rule.from, rule.to); });
            return resultText;
        };
    });
    /**
     * Attribute directive "izenda-scroll-bottom-action=""" which fires handler on container scroll end (-100px).
     * Event: scroll-bottom-action
     */
    var IzendaScrollBottomAction = /** @class */ (function () {
        function IzendaScrollBottomAction() {
            this.restrict = 'A';
            IzendaScrollBottomAction.prototype.link =
                function ($scope, $element, attrs) {
                    var $parent = $element.parent();
                    $parent.on('scroll', function () {
                        var height = $element.height();
                        if (height === 0)
                            return;
                        if (height - $parent.height() - 100 < $parent.scrollTop()) {
                            $scope.$eval(attrs.izendaScrollBottomAction);
                        }
                    });
                };
        }
        IzendaScrollBottomAction.factory = function () {
            return function () { return new IzendaScrollBottomAction(); };
        };
        return IzendaScrollBottomAction;
    }());
    exports.IzendaScrollBottomAction = IzendaScrollBottomAction;
    module_definition_2.default.directive('izendaScrollBottomAction', [IzendaScrollBottomAction.factory()]);
    /**
     * Set focus on element directive.
     * Usage:
     * <some-tag izenda-focus="{{expression_which_returns_bool}}" ...>
     *   ...
     * </some-tag>
     */
    var IzendaFocus = /** @class */ (function () {
        function IzendaFocus($timeout) {
            var _this = this;
            this.$timeout = $timeout;
            this.scope = {
                trigger: '@izendaFocus'
            };
            IzendaFocus.prototype.link = function ($scope, $element) {
                $scope.$watch('trigger', function (value) {
                    if (value)
                        _this.$timeout(function () { return $element[0].focus(); });
                });
            };
        }
        IzendaFocus.factory = function () {
            var directive = function ($timeout) { return new IzendaFocus($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaFocus;
    }());
    module_definition_2.default.directive('izendaFocus', ['$timeout', IzendaFocus.factory()]);
    /**
     * izenda-fit-absolute-element directive.
     */
    var IzendaFitAbsoluteElement = /** @class */ (function () {
        function IzendaFitAbsoluteElement($window, $timeout, $interval) {
            var _this = this;
            this.$window = $window;
            this.$timeout = $timeout;
            this.$interval = $interval;
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link = function ($scope, $element, attrs) {
                var windowResizeEventName = "resize.izendaFitAbsoluteElement." + Math.random();
                var deltaTopString = String(attrs['deltaTop']);
                var deltaTop = parseInt(deltaTopString) || 0;
                var $parent = angular.element($element.parent());
                var topCache = -1;
                var setTop = function () {
                    var $childs = $parent.children('[data-izenda-fit-absolute-element-relative=top]');
                    if ($childs.length === 0)
                        return false;
                    var topHeight = 0;
                    var isSuccess = true;
                    for (var i = 0; i < $childs.length; i++) {
                        var $child = angular.element($childs[i]);
                        var topValue = String($child.attr('data-izenda-fit-absolute-element-relative'));
                        if (topValue === 'top') {
                            var childHeight = $child.height();
                            if (childHeight <= 0)
                                isSuccess = false;
                            topHeight += childHeight;
                        }
                    }
                    if (topHeight > 0 && topCache < 0 || topHeight + deltaTop !== topCache) {
                        topCache = topHeight + deltaTop;
                        $element.css('top', topHeight + deltaTop + 'px');
                    }
                    return isSuccess;
                };
                var setTopUntilSuccess = function () {
                    var attemptCount = 0;
                    if (setTop())
                        return;
                    var toolbarIntervalPromise = _this.$interval(function () {
                        if (setTop() || attemptCount > 50) {
                            _this.$interval.cancel(toolbarIntervalPromise);
                            toolbarIntervalPromise = null;
                            attemptCount = 0;
                        }
                        attemptCount++;
                    }, 100);
                };
                setTopUntilSuccess();
                angular.element(_this.$window).on(windowResizeEventName, function () {
                    setTopUntilSuccess();
                });
                angular.element(_this.$window).on('izendaCustomResize', function () {
                    setTopUntilSuccess();
                });
                // destruction method
                $element.on('$destroy', function () {
                    angular.element(_this.$window).off(windowResizeEventName);
                    angular.element(_this.$window).off('izendaCustomResize');
                });
            };
        }
        IzendaFitAbsoluteElement.factory = function () {
            var directive = function ($window, $timeout, $interval) { return new IzendaFitAbsoluteElement($window, $timeout, $interval); };
            directive.$inject = ['$window', '$timeout', '$interval'];
            return directive;
        };
        return IzendaFitAbsoluteElement;
    }());
    module_definition_2.default.directive('izendaFitAbsoluteElement', IzendaFitAbsoluteElement.factory());
    /**
     * Directive for input element which allows to input only positive integer values.
     */
    var IzendaIntegerInput = /** @class */ (function () {
        function IzendaIntegerInput() {
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link =
                function ($scope, $element) {
                    $element.on('keydown', function (evt) {
                        var ctrlOrMeta = evt.ctrlKey || evt.metaKey;
                        if ([46, 8, 9, 27, 13].indexOf(evt.keyCode) >= 0 /*Allow: backspace, delete, tab, escape, enter*/
                            || (evt.keyCode === 65 && ctrlOrMeta) /*Allow: Ctrl/cmd+A*/
                            || (evt.keyCode === 67 && ctrlOrMeta) /*Allow: Ctrl/cmd+C*/
                            || (evt.keyCode === 88 && ctrlOrMeta) /*Allow: Ctrl/cmd+X*/
                            || (evt.keyCode >= 35 && evt.keyCode <= 40)) { /*Allow: home, end, left, right*/
                            // let it happen, don't do anything
                            return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((evt.shiftKey || (evt.keyCode < 48 || evt.keyCode > 57)) && (evt.keyCode < 96 || evt.keyCode > 105)) {
                            evt.preventDefault();
                        }
                    });
                };
        }
        IzendaIntegerInput.factory = function () {
            var directive = function () { return new IzendaIntegerInput(); };
            return directive;
        };
        return IzendaIntegerInput;
    }());
    module_definition_2.default.directive('izendaIntegerInput', IzendaIntegerInput.factory());
});
izendaRequire.define("common/core/tools/izenda-component", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // ReSharper disable once InconsistentNaming
    function IzendaComponent(moduleOrName, selector, dependencies, options) {
        return function (controller) {
            var module = typeof (moduleOrName) === 'string' ? angular.module(moduleOrName) : moduleOrName;
            var extendedOptions = angular.copy(options);
            var $inject = controller.$inject = dependencies;
            controller.prototype.$inject = $inject;
            controller.$inject = $inject;
            extendedOptions.controller = dependencies.concat(controller);
            module.component(selector, extendedOptions);
        };
    }
    exports.default = IzendaComponent;
});
izendaRequire.define("common/core/components/dialog-box/dialog-box-component", ["require", "exports", "angular", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, angular, module_definition_3, izenda_component_1, util_ui_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Handle button click.
         */
        IzendaDialogBoxComponent.prototype.onButtonClick = function (button) {
            if (!button)
                return;
            if (angular.isFunction(button.callback)) {
                button.callback(this.$izendaUtilUiService.dialogBox.checkboxes);
            }
            this.closeModal();
        };
        /**
         * Close modal dialog.
         */
        IzendaDialogBoxComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeDialogBox();
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_1.default(module_definition_3.default, 'izendaDialogBoxComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.dialog-box.dialog-box-template.html',
                bindings: {
                    componentId: '@',
                    useGlobalEventListening: '<',
                    opened: '<',
                    title: '<',
                    message: '<',
                    alertInfo: '<',
                    buttons: '<',
                    checkboxes: '<'
                },
            }),
            __metadata("design:paramtypes", [util_ui_service_1.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/components/message/message-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_4, izenda_component_2, localization_service_1, util_ui_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaMessageComponent = /** @class */ (function () {
        function IzendaMessageComponent($izendaLocaleService, $izendaUtilUiService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Close modal dialog.
         */
        IzendaMessageComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeMessageDialog();
        };
        IzendaMessageComponent = __decorate([
            izenda_component_2.default(module_definition_4.default, 'izendaMessageComponent', ['$izendaLocaleService', '$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.message.message-template.html',
                bindings: {},
            }),
            __metadata("design:paramtypes", [localization_service_1.default,
                util_ui_service_2.default])
        ], IzendaMessageComponent);
        return IzendaMessageComponent;
    }());
    exports.default = IzendaMessageComponent;
});
izendaRequire.define("common/core/components/notification/notification-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_5, izenda_component_3, util_ui_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Notification component
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.notifications = $izendaUtilUiService.notifications;
        }
        /**
         * Close notification.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.closeNotification = function (notification) {
            this.$izendaUtilUiService.closeNotification(notification.id);
        };
        /**
         * Cancel notification autohide.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.cancelNotificationTimeout = function (notification) {
            this.$izendaUtilUiService.cancelNotificationTimeout(notification.id);
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_3.default(module_definition_5.default, 'izendaNotificationComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.notification.notification-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [util_ui_service_3.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/module", ["require", "exports", "common/core/module-definition", "common/core/services/compatibility-service", "common/core/services/event-service", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/directives/bootstrap-modal", "common/core/directives/utility", "common/core/components/dialog-box/dialog-box-component", "common/core/components/message/message-component", "common/core/components/notification/notification-component"], function (require, exports, module_definition_6, compatibility_service_1, event_service_1, localization_service_2, util_service_1, util_ui_service_4) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    compatibility_service_1.default.register(module_definition_6.default);
    event_service_1.default.register(module_definition_6.default);
    localization_service_2.default.register(module_definition_6.default);
    util_service_1.default.register(module_definition_6.default);
    util_ui_service_4.default.register(module_definition_6.default);
});
izendaRequire.define("common/query/module-definition", ["require", "exports", "angular", "common/core/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaQueryModule = angular.module('izenda.common.query', ['rx', 'izenda.common.core']);
    exports.default = izendaQueryModule;
});
izendaRequire.define("common/query/services/rs-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaRsQueryService = /** @class */ (function () {
        function IzendaRsQueryService($window, $http, $q, $injector, $izendaLocaleService, $izendaUtilUiService) {
            this.$window = $window;
            this.$http = $http;
            this.$q = $q;
            this.$injector = $injector;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.urlSettings = this.$window.urlSettings$;
            this.rsQueryBaseUrl = this.urlSettings.urlRsPage;
            this.requestList = new Array();
        }
        Object.defineProperty(IzendaRsQueryService, "injectModules", {
            get: function () {
                return ['$window', '$http', '$q', '$injector', '$izendaLocaleService', '$izendaUtilUiService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Custom query to the izenda response server
         * @param {any} queryParams Query parameters.
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.rsQuery = function (queryParams, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.customQuery(this.rsQueryBaseUrl, queryParams, options, errorOptions, invalidateInCacheParameter);
        };
        /**
         * Custom query to the izenda API.
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.query = function (wsCmd, wsArgs, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            // prepare params:
            var params = this.createQueryParametersObject(wsCmd, wsArgs);
            // set default error options if it is not defined:
            var currentErrorOptions = angular.isObject(errorOptions)
                ? errorOptions
                : {
                    handler: function (wsCmd2, wsArgs2) { return "Query: \"" + wsCmd2 + "\" [" + wsArgs2 + "] failed."; },
                    params: [wsCmd, wsArgs]
                };
            return this.rsQuery(params, options, currentErrorOptions, invalidateInCacheParameter);
        };
        /**
         * Query to the izenda API (POST request which returns JSON).
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.apiQuery = function (wsCmd, wsArgs, invalidateInCacheParameter) {
            var _this = this;
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.$q(function (resolve, reject) {
                // check params:
                if (!angular.isString(wsCmd) || wsCmd === '') {
                    reject('Parameter error: wsCmd parameter should be non-empty string.');
                    return;
                }
                if (!angular.isArray(wsArgs)) {
                    reject('Parameter error: wsArgs parameter should be array.');
                    return;
                }
                // create params array
                var params = _this.createQueryParametersObject(wsCmd, wsArgs);
                // run query
                _this.rsQuery(params, { dataType: 'json', method: 'POST' }, null, invalidateInCacheParameter)
                    .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
            });
        };
        /**
         * Cancel all running queries
         * @param {any} options (optional) options.cancelList may set custom queries to cancel.
         */
        IzendaRsQueryService.prototype.cancelAllQueries = function (options) {
            var opts = options || {};
            // queries which we can cancel
            var cancellableQueries = opts.hasOwnProperty('cancelList')
                ? opts['cancelList']
                : this.$injector.get('izenda.common.query.cancellableQueries');
            var count = this.requestList.length;
            var i = 0;
            while (i < this.requestList.length) {
                var request = this.requestList[0];
                var cancel = false;
                if (angular.isArray(cancellableQueries)) {
                    var requestUrl = request.url;
                    var requestParams = request.queryParamsFinal;
                    for (var j = 0; j < cancellableQueries.length; j++) {
                        var cancelRule = cancellableQueries[j];
                        if (angular.isString(cancelRule)) {
                            cancel = cancel || requestUrl.indexOf(cancelRule) >= 0;
                        }
                        else if (angular.isObject(cancelRule)) {
                            if ('wscmd' in cancelRule) {
                                cancel = cancel || requestUrl.indexOf("wscmd=" + cancelRule['wscmd']) >= 0;
                                cancel = cancel || requestParams.hasOwnProperty('wscmd') && requestParams['wscmd'] === cancelRule['wscmd'];
                            }
                        }
                        else {
                            throw "Unknown cancel rule: " + cancelRule;
                        }
                    }
                }
                if (cancel) {
                    request.canceller.resolve();
                    request.resolver.$izendaRsQueryCancelled = false;
                    this.requestList.splice(i, 1);
                }
                else {
                    i++;
                }
            }
            return count - i;
        };
        /**
         * Send post request and receive file attachment.
         * @param {string} method GET/POST
         * @param {string} url Url.
         * @param {any} parameters Url parameters dictionary.
         * @return {angular.IPromise<void>} Promise without parameters.
         */
        IzendaRsQueryService.prototype.downloadFileRequest = function (method, url, parameters) {
            return this.$q(function (resolve) {
                if (typeof (Blob) !== 'undefined') {
                    // post request for download the file
                    var xhr_1 = new XMLHttpRequest();
                    xhr_1.open(method, url, true);
                    xhr_1.responseType = 'arraybuffer';
                    var selfXhr_1 = xhr_1;
                    xhr_1.onload = function (evt) {
                        console.log('downloadFileRequest xhr.onload evt: ', evt);
                        if (selfXhr_1.status !== 200)
                            return;
                        var disposition = xhr_1.getResponseHeader('Content-Disposition');
                        var filename = '';
                        if (disposition && disposition.toLowerCase().indexOf('attachment') !== -1) {
                            var filenameRegex = /[Ff]ilename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;
                            var matches = filenameRegex.exec(disposition);
                            if (matches != null && matches[1])
                                filename = matches[1].replace(/['"]/g, '');
                        }
                        var type = xhr_1.getResponseHeader('Content-Type');
                        var blob = new Blob([selfXhr_1.response], { type: type });
                        if (typeof window.navigator.msSaveBlob !== 'undefined') {
                            // IE workaround for "HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. 
                            // These URLs will no longer resolve as the data backing the URL has been freed."
                            window.navigator.msSaveBlob(blob, filename);
                            resolve();
                        }
                        else {
                            var urlFunc_1 = window.URL || window['webkitURL'];
                            var downloadUrl = urlFunc_1.createObjectURL(blob);
                            if (filename) {
                                // use HTML5 a[download] attribute to specify filename
                                var linkElement = document.createElement('a');
                                // safari doesn't support this yet
                                if (typeof linkElement.download === 'undefined') {
                                    window.location.href = downloadUrl;
                                }
                                else {
                                    linkElement.href = downloadUrl;
                                    linkElement.target = '_blank';
                                    linkElement.download = filename;
                                    document.body.appendChild(linkElement);
                                    linkElement.click();
                                    document.body.removeChild(linkElement);
                                }
                            }
                            else {
                                window.location.href = downloadUrl;
                            }
                            setTimeout(function () {
                                urlFunc_1.revokeObjectURL(downloadUrl);
                                resolve();
                            }, 100); // cleanup
                        }
                    };
                    xhr_1.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                    if (method.toLowerCase() === 'post')
                        xhr_1.send(angular.element.param(parameters || {}));
                    else if (method.toLowerCase() === 'get')
                        xhr_1.send();
                    else
                        throw "Unsupported request method: " + method;
                }
                else {
                    if (method.toLowerCase() === 'post') {
                        // old browser post request
                        var form = document.createElement('form');
                        form.action = url;
                        form.method = method;
                        form.target = '_blank';
                        if (parameters)
                            for (var key in parameters)
                                if (parameters.hasOwnProperty(key)) {
                                    var input = document.createElement('textarea');
                                    input.name = key;
                                    input.value = typeof parameters[key] === 'object' ? JSON.stringify(parameters[key]) : parameters[key];
                                    form.appendChild(input);
                                }
                        form.style.display = 'none';
                        document.body.appendChild(form);
                        form.submit();
                        document.body.removeChild(form);
                    }
                    else {
                        // old browser get request
                        var linkElement2 = document.createElement('a');
                        linkElement2.href = url;
                        linkElement2.target = '_blank';
                        document.body.appendChild(linkElement2);
                        linkElement2.click();
                        document.body.removeChild(linkElement2);
                    }
                    resolve();
                }
            });
        };
        /**
         * Do query to custom url
         */
        IzendaRsQueryService.prototype.customQuery = function (baseUrl, queryParams, options, errorOptions, invalidateInCacheParameter) {
            var _this = this;
            var queryParamsFinal = angular.copy(queryParams);
            // apply izendaPageId$
            if (typeof (window['izendaPageId$']) !== 'undefined')
                queryParamsFinal['izpid'] = window['izendaPageId$'];
            if (typeof (window['angularPageId$']) !== 'undefined')
                queryParamsFinal['anpid'] = window['angularPageId$'];
            var isPost = options && options.method === 'POST';
            var postData = {};
            var url = baseUrl;
            if (!isPost) {
                // GET request url:
                var kvStrings = [];
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        kvStrings.push(paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]));
                if (invalidateInCacheParameter)
                    kvStrings.push('iic=1');
                url += "?" + kvStrings.join('&');
            }
            else {
                // POST request params string:
                var postParamsString = 'urlencoded=true';
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        postParamsString += "&" + paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]);
                postData = {
                    data: postParamsString
                };
                if (invalidateInCacheParameter)
                    url += '?iic=1';
            }
            // create promises
            var canceler = this.$q.defer();
            var resolver = this.$q.defer();
            resolver['$izendaRsQueryCancelled'] = true;
            resolver['errorOptions'] = angular.isObject(errorOptions) ? errorOptions : null;
            // prepare request optinos
            var dataType = angular.isDefined(options) && angular.isString(options.dataType)
                ? options.dataType
                : 'text';
            var contentType = 'text/html';
            if (dataType === 'json')
                contentType = 'text/json';
            url = getAppendedUrl(url, queryParamsFinal);
            var requestId = (+new Date).toString() + '_' + Math.floor(Math.random() * 1000000).toString(); // pseudo random UID.
            var reqHeaders = {};
            reqHeaders['Content-Type'] = contentType;
            var req = {};
            req.method = 'GET';
            req.url = url;
            req.headers = reqHeaders;
            req.timeout = canceler.promise;
            if (angular.isObject(options)) {
                angular.extend(req, options);
            }
            angular.extend(req, postData); // it is empty for http GET requests
            // custom
            req['requestId'] = requestId;
            req['queryParamsFinal'] = queryParamsFinal;
            // add request to requestList
            this.requestList.push(new RequestListItem(requestId, url, queryParamsFinal, canceler, resolver));
            // run query
            this.$http(req).then(function (response) {
                // handle success
                _this.removeRequest(response.config['requestId']);
                if (!angular.isObject(response)) {
                    // resolve non-object responses
                    resolver.resolve(response);
                    return;
                }
                // object response
                var data = response.data;
                if (angular.isObject(data) && angular.isString(data['izendaQueryStatus'])) {
                    // API query result
                    if (data['izendaQueryStatus'] === 'ok') {
                        resolver.resolve(data['result'] || 'OK');
                    }
                    else if (data['izendaQueryStatus'] === 'error') {
                        resolver.reject(data['error']);
                    }
                    else {
                        resolver.reject('Unknown izendaQueryStatus: ' + data['izendaQueryStatus']);
                    }
                }
                else {
                    // Non-API json query result
                    resolver.resolve(data);
                }
            }, function (response) {
                // handle request error
                _this.removeRequest(response.config.requestId);
                var needToReject = true;
                var errorText;
                if (resolver['errorOptions'] != null) {
                    needToReject = false;
                    errorText = resolver['errorOptions'].handler.apply(response, resolver['errorOptions'].params ? resolver['errorOptions'].params : []);
                }
                else if (response.message)
                    errorText = response.message;
                else if (response.config)
                    errorText = _this.$izendaLocaleService.localeText('js_QueryFailed', 'Query failed') + ': ' + JSON.stringify(response.config);
                else
                    errorText = _this.$izendaLocaleService.localeText('localeVariable', 'An unknown error occurred.');
                if (resolver['$izendaRsQueryCancelled']) {
                    if (needToReject)
                        resolver.reject(errorText);
                    else
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                }
            });
            return resolver.promise;
        };
        /**
         * Remove request from array
         */
        IzendaRsQueryService.prototype.removeRequest = function (requestId) {
            var foundIndex = -1;
            var i = 0;
            while (foundIndex < 0 && i < this.requestList.length) {
                if (this.requestList[i].requestId === requestId) {
                    foundIndex = i;
                }
                i++;
            }
            if (foundIndex >= 0) {
                this.requestList.splice(foundIndex, 1);
            }
        };
        IzendaRsQueryService.prototype.createQueryParametersObject = function (wsCmd, wsArgs) {
            var params = {
                'wscmd': wsCmd
            };
            // add wsargN=... parameters into params variable.
            if (wsArgs && wsArgs.length)
                params = wsArgs.reduce(function (currentParams, wsArg, wsArgIdx) {
                    currentParams["wsarg" + wsArgIdx] = typeof (wsArg) !== 'undefined' && wsArg != null ? wsArg : '';
                    return currentParams;
                }, params);
            return params;
        };
        Object.defineProperty(IzendaRsQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaRsQueryService.register = function (module) {
            module.constant('izenda.common.query.cancellableQueries', [{
                    wscmd: 'loadDashboardConfigNew' // load dashboard layout query
                }, {
                    wscmd: 'getDashboardCategoriesNew'
                }, {
                    wscmd: 'getDashboardTilePreviewNew' // load tile html query
                }, {
                    wscmd: 'getCrsSchedule'
                }, {
                    wscmd: 'getCrsShare'
                }])
                .service('$izendaRsQueryService', IzendaRsQueryService.injectModules.concat(IzendaRsQueryService));
        };
        return IzendaRsQueryService;
    }());
    exports.default = IzendaRsQueryService;
    var RequestListItem = /** @class */ (function () {
        function RequestListItem(requestId, url, queryParamsFinal, canceller, resolver) {
            this.requestId = requestId;
            this.url = url;
            this.queryParamsFinal = queryParamsFinal;
            this.canceller = canceller;
            this.resolver = resolver;
        }
        return RequestListItem;
    }());
    exports.RequestListItem = RequestListItem;
});
izendaRequire.define("common/common-module-definition", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    String.prototype.replaceAll = function (search, replacement) {
        var target = this;
        if (typeof search !== 'string' || search === '')
            return this;
        return target.split(search).join(replacement);
    };
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    var IzendaCommonLoader = /** @class */ (function () {
        function IzendaCommonLoader() {
        }
        IzendaCommonLoader.loadSettings = function () {
            var deferredObject = angular.element.Deferred();
            var urlSettings = window.urlSettings$;
            var rsPageUrl = urlSettings.urlRsPage;
            var settingsUrl = rsPageUrl + '?wscmd=getCommonSettings';
            // load common settings:
            angular.element.get(settingsUrl, function (configJson) {
                var configObject = configJson;
                angular
                    .module('izenda.common.core')
                    .constant('$izendaCommonSettings', configObject);
                deferredObject.resolve();
            });
            return deferredObject.promise();
        };
        return IzendaCommonLoader;
    }());
    exports.IzendaCommonLoader = IzendaCommonLoader;
});
izendaRequire.define("common/query/services/settings-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DateTimeFormat = /** @class */ (function () {
        function DateTimeFormat(longDate, longTime, shortDate, shortTime, timeFormatForInnerIzendaProcessing, // this time format used in method DateLocToUs for saving filters.
        showTimeInFilterPickers, defaultFilterDateFormat) {
            this.longDate = longDate;
            this.longTime = longTime;
            this.shortDate = shortDate;
            this.shortTime = shortTime;
            this.timeFormatForInnerIzendaProcessing = timeFormatForInnerIzendaProcessing;
            this.showTimeInFilterPickers = showTimeInFilterPickers;
            this.defaultFilterDateFormat = defaultFilterDateFormat;
        }
        return DateTimeFormat;
    }());
    exports.DateTimeFormat = DateTimeFormat;
    var IzendaQuerySettingsService = /** @class */ (function () {
        function IzendaQuerySettingsService($izendaUtilService, $izendaCommonSettings) {
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaCommonSettings = $izendaCommonSettings;
            // initialize formats
            this.defaultDateFormat = new DateTimeFormat('dddd, MMMM DD, YYYY', 'h:mm:ss A', 'MM/DD/YYYY', 'h:mm A', 'HH:mm:ss', false, 'MM/DD/YYYY' + ($izendaCommonSettings.showTimeInFilterPickers ? ' HH:mm:ss' : ''));
            var format = this.defaultDateFormat;
            this.dateFormat = new DateTimeFormat(format.longDate, format.longTime, format.shortDate, format.shortTime, format.timeFormatForInnerIzendaProcessing, format.showTimeInFilterPickers, '');
            this.dateFormat.longDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatLong);
            this.dateFormat.longTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatLong);
            this.dateFormat.shortDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatShort);
            this.dateFormat.shortTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatShort);
            this.dateFormat.showTimeInFilterPickers = $izendaCommonSettings.showTimeInFilterPickers;
            this.dateFormat.defaultFilterDateFormat = this.dateFormat.shortDate +
                ($izendaCommonSettings.showTimeInFilterPickers ? " " + this.dateFormat.longTime : '');
            // culture
            this.culture = $izendaCommonSettings.culture;
            if (this.culture.indexOf('-') > 0)
                this.culture = this.culture.substring(0, this.culture.indexOf('-'));
            // bulk csv
            this.bulkCsv = false;
            if (typeof $izendaCommonSettings.bulkCsv != 'undefined')
                this.bulkCsv = $izendaCommonSettings.bulkCsv;
            // category character
            this.categoryCharacter = '\\';
            if (typeof $izendaCommonSettings.categoryCharacter != 'undefined')
                this.categoryCharacter = $izendaCommonSettings.categoryCharacter;
        }
        Object.defineProperty(IzendaQuerySettingsService, "injectModules", {
            get: function () {
                return ['$izendaUtilService', '$izendaCommonSettings'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Default date formats
         * @returns {DateTimeFormat}
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormat = function () {
            return this.defaultDateFormat;
        };
        /**
         * Default format string (en-US). This format used for sending dates to the server.
         * @param {string} customDateFormatString. Alternative date format if required.
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormatString = function (customDateFormatString) {
            var showTime = this.$izendaCommonSettings.showTimeInFilterPickers;
            var timeFormatString = showTime ? ' ' + this.defaultDateFormat.timeFormatForInnerIzendaProcessing : '';
            var dateFormatString = this.defaultDateFormat.shortDate;
            if (angular.isString(customDateFormatString) && customDateFormatString.trim() !== '') {
                dateFormatString = customDateFormatString;
            }
            return dateFormatString + timeFormatString;
        };
        /**
         * Convert .net date time format string to momentjs format string.
         * @param {string} format .net format string
         * @returns {string} momentjs format string
         */
        IzendaQuerySettingsService.prototype.convertDotNetTimeFormatToMoment = function (format) {
            var converter = izenda.utils.date.formatConverter;
            return converter.convert(format, converter.dotNet, converter.momentJs);
        };
        /**
        * Get common settings
        */
        IzendaQuerySettingsService.prototype.getCommonSettings = function () {
            return this.$izendaCommonSettings;
        };
        /**
         * Get date format.
         */
        IzendaQuerySettingsService.prototype.getDateFormat = function () {
            return this.dateFormat;
        };
        /**
         * Get current page culture.
         */
        IzendaQuerySettingsService.prototype.getCulture = function () {
            return this.culture;
        };
        /**
         * Get "bulk csv" CSV export mode enabled.
         */
        IzendaQuerySettingsService.prototype.getBulkCsv = function () {
            return this.bulkCsv;
        };
        IzendaQuerySettingsService.prototype.getCategoryCharacter = function () {
            return this.categoryCharacter;
        };
        IzendaQuerySettingsService.prototype.getReportFullName = function (reportName, reportCategory) {
            var result = null;
            if (reportName) {
                result = '';
                if (!this.$izendaUtilService.isUncategorized(reportCategory))
                    result = reportCategory + this.getCategoryCharacter();
                result += reportName;
            }
            return result;
        };
        Object.defineProperty(IzendaQuerySettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaQuerySettingsService.register = function (module) {
            module.service('$izendaSettingsService', IzendaQuerySettingsService.injectModules.concat(IzendaQuerySettingsService));
        };
        return IzendaQuerySettingsService;
    }());
    exports.default = IzendaQuerySettingsService;
});
izendaRequire.define("common/query/services/common-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * This service provides API query methods.
     */
    var IzendaCommonQueryService = /** @class */ (function () {
        function IzendaCommonQueryService($izendaRsQueryService, $izendaLocaleService) {
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaCommonQueryService, "injectModules", {
            get: function () {
                return ['$izendaRsQueryService', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Used for refresh session timeout
         */
        IzendaCommonQueryService.prototype.ping = function () {
            return this.$izendaRsQueryService.query('ping', [], { dataType: 'text' });
        };
        /**
         * Create new dashboard report set and set it as CurrentReportSet
         */
        IzendaCommonQueryService.prototype.newDashboard = function () {
            var _this = this;
            return this.$izendaRsQueryService.query('newcrs', ['DashboardDesigner'], { dataType: 'json' }, {
                handler: function () { return _this.$izendaLocaleService.localeText('js_DashboardCreateError', 'Failed to create new dashboard'); },
                params: []
            });
        };
        /**
         * Check report set is exist. Returns promise with 'true' value if exists
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.checkReportSetExist = function (reportSetFullName) {
            if (!angular.isString(reportSetFullName) || reportSetFullName.trim() === '')
                throw new Error('reportSetFullName should be non empty string');
            var errorText = this.$izendaLocaleService.localeText('js_DashboardCheckExistError', 'Failed to check dashboard exist');
            return this.$izendaRsQueryService.query('checkreportsetexists', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Set AdHocContext current report set
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.setCrs = function (reportSetFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_SetCrsError', 'Failed to set current report set');
            return this.$izendaRsQueryService.query('setcurrentreportset', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Get report list by category
         * @param {string} category category name.
         */
        IzendaCommonQueryService.prototype.getReportSetCategory = function (category) {
            var categoryStr = angular.isDefined(category)
                ? (category.toLowerCase() === this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized').toLowerCase()
                    ? ''
                    : category)
                : '';
            var errorText = this.$izendaLocaleService.localeText('js_GetCategoryError', 'Failed to get reports for category');
            return this.$izendaRsQueryService.query('reportlistdatalite', [categoryStr], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [category]
            });
        };
        /**
         * Get report parts
         * @param {string} reportFullName Report full name (xxx@aaa\bbb).
         */
        IzendaCommonQueryService.prototype.getReportParts = function (reportFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_ReportPartsError', 'Failed to get report parts for report');
            return this.$izendaRsQueryService.query('reportdata', [reportFullName], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportFullName]
            });
        };
        /**
         * Get data which needed for schedule
         * @param {number} clientTimezoneOffset Default timezone.
         */
        IzendaCommonQueryService.prototype.getScheduleData = function (clientTimezoneOffset) {
            return this.$izendaRsQueryService.query('getCrsSchedule', [String(clientTimezoneOffset)], { dataType: 'json' }, {
                handler: function () { return 'Failed to get schedule data'; },
                params: []
            });
        };
        /**
         * Get data which needed for schedule
         * @param {boolean} defaultShareConfig If true - share config will get from new empty reportset, false - from current report set.
         */
        IzendaCommonQueryService.prototype.getShareData = function (defaultShareConfig) {
            return this.$izendaRsQueryService.query('getCrsShare', [defaultShareConfig ? 'true' : 'false'], { dataType: 'json' }, {
                handler: function () { return 'Failed to get share data'; },
                params: []
            });
        };
        Object.defineProperty(IzendaCommonQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCommonQueryService.register = function (module) {
            module.service('$izendaCommonQueryService', IzendaCommonQueryService.injectModules.concat(IzendaCommonQueryService));
        };
        return IzendaCommonQueryService;
    }());
    exports.default = IzendaCommonQueryService;
});
izendaRequire.define("common/query/services/ping-service", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaPingService = /** @class */ (function () {
        function IzendaPingService($timeout, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.minute = 60 * 1000;
            this.defaultTimeout = 15 * this.minute; // default timeout - 15 minutes.
            this.timeout = -1;
            this.pingTimer = null;
        }
        Object.defineProperty(IzendaPingService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Stop ping queries
         */
        IzendaPingService.prototype.stopPing = function () {
            if (this.pingTimer !== null) {
                this.$timeout.cancel(this.pingTimer);
                this.pingTimer = null;
            }
        };
        /**
         * Make ping iteration and create timeout for next iteration.
         */
        IzendaPingService.prototype.ping = function () {
            var _this = this;
            // cancel previous timer:
            this.stopPing();
            // hint: start immediately if timeout variable wasn't set.
            this.pingTimer = this.$timeout(function () {
                _this.$izendaCommonQueryService.ping().then(function (data) {
                    // set timeout
                    _this.timeout = (data > 0)
                        ? Math.round(data * 0.75 * _this.minute)
                        : _this.defaultTimeout;
                    _this.ping();
                });
            }, this.timeout >= 0 ? this.timeout : 0);
        };
        /**
         * Start ping queries
         */
        IzendaPingService.prototype.startPing = function () {
            this.ping();
        };
        Object.defineProperty(IzendaPingService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaPingService.register = function (module) {
            module.service('$izendaPingService', IzendaPingService.injectModules.concat(IzendaPingService));
        };
        return IzendaPingService;
    }());
    exports.default = IzendaPingService;
});
izendaRequire.define("common/query/services/url-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLocationModel = /** @class */ (function () {
        function IzendaLocationModel() {
            this.fullName = null;
            this.category = null;
            this.name = null;
            this.isNew = false;
        }
        IzendaLocationModel.fromJson = function (json) {
            var location = new IzendaLocationModel();
            location.fullName = json.fullName || null;
            location.category = json.category || null;
            location.name = json.name || null;
            location.isNew = !!json.isNew;
            return location;
        };
        return IzendaLocationModel;
    }());
    exports.IzendaLocationModel = IzendaLocationModel;
    var IzendaUrlService = /** @class */ (function () {
        function IzendaUrlService(rx, $window, $izendaSettingsService, $izendaPingService, $izendaUtilService) {
            var _this = this;
            this.rx = rx;
            this.$window = $window;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaPingService = $izendaPingService;
            this.$izendaUtilService = $izendaUtilService;
            this.settings = $window.urlSettings$;
            this.reportNameInfo = this.getLocation();
            this.location = new this.rx.BehaviorSubject(this.reportNameInfo);
            // subscribe on location change:
            window.onpopstate = function (event) {
                if (event.state && (event.state.rn || event.state.new)) {
                    _this.locationChangedHandler();
                }
            };
            // start ping
            this.$izendaPingService.startPing();
        }
        Object.defineProperty(IzendaUrlService, "injectModules", {
            get: function () {
                return ['rx',
                    '$window',
                    '$izendaSettingsService',
                    '$izendaPingService',
                    '$izendaUtilService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Set report name and category to location
         * @param {IzendaLocationModel} locationInfo location object
         */
        IzendaUrlService.prototype.setLocation = function (locationInfo) {
            if (!angular.isObject(locationInfo))
                throw new Error('"locationInfo" parameter should be object');
            // if is new
            if (locationInfo.isNew) {
                this.setUrl({ isNew: '1' }, { new: true });
                this.locationChangedHandler();
                return;
            }
            // navigate to existing report
            this.setUrl({ rn: locationInfo.fullName.replaceAll(' ', '+') }, { rn: locationInfo.fullName });
            this.locationChangedHandler();
        };
        /**
         * Change url if possible, otherwise reload the page with new url.
         * @param {any} params - url params object.
         * @param {any} additionalParams - additional params for pushState.
         */
        IzendaUrlService.prototype.setUrl = function (params, additionalParams) {
            var previousUrlParams = this.getUrlParams(window.location.href);
            var isRnOldExist = angular.isString(previousUrlParams.rn);
            var isRnNewExist = angular.isString(params.rn) && params.rn !== '';
            var rnOld = isRnOldExist ? 'rn=' + previousUrlParams.rn.replaceAll(' ', '+') : '';
            var rnNew = isRnNewExist ? 'rn=' + params.rn.replaceAll(' ', '+') : '';
            var isNewOldExist = angular.isString(previousUrlParams.isNew);
            var isNewNewExist = angular.isString(params.isNew);
            if (isRnOldExist && isRnNewExist && rnOld === rnNew)
                // same rn
                return;
            if (isNewOldExist && isNewNewExist)
                // same isNew
                return;
            if (isRnNewExist && isNewNewExist)
                throw 'Incorrect params: both "rn" and "isNew" defined.';
            var newPath = window.location.pathname;
            var newParams = window.location.search ? window.location.search : '?';
            if (isNewNewExist) {
                // go to new report
                // remove rn
                newParams = newParams.replaceAll(rnOld, '');
                newParams += (newParams.endsWith('?') ? '' : '&') + 'isNew=1';
            }
            else if (isRnNewExist) {
                // go to existing report
                // remove isNew
                newParams = newParams.replaceAll('isNew=1', '');
                if (isRnOldExist)
                    newParams = newParams.replaceAll(rnOld, rnNew);
                else
                    newParams += (newParams.endsWith('?') ? '' : '&') + rnNew;
            }
            newParams = newParams.replaceAll('?&', '?');
            newParams = newParams.replaceAll('&&', '&');
            // navigate new url
            var newUrl = newPath + newParams;
            if (this.$window.history && this.$window.history.pushState) {
                this.$window.history.pushState(additionalParams, document.title, newUrl);
            }
            else
                window.location.href = newUrl;
        };
        /**
         * Returns report full name (category delimiter: $izendaSettingsService.getCategoryCharacter())
         * @return {IzendaLocationModel} current location model.
         */
        IzendaUrlService.prototype.getLocation = function () {
            this.settings = new UrlSettings(); // retrieve current url settings
            var reportInfo = this.settings.reportInfo;
            // existing report
            if (reportInfo.fullName)
                return IzendaLocationModel.fromJson(reportInfo);
            // isNew
            var result = new IzendaLocationModel();
            result.isNew = reportInfo.isNew;
            return result;
        };
        ;
        /**
         * Set report name and category to location.
         * @param {string} fullName Report full name.
         */
        IzendaUrlService.prototype.setReportFullName = function (fullName) {
            this.setLocation({
                fullName: fullName,
                name: this.extractReportName(fullName),
                category: this.extractReportCategory(fullName),
                isNew: false
            });
        };
        ;
        /**
         * Go to "new"
         */
        IzendaUrlService.prototype.setIsNew = function () {
            this.setLocation({
                fullName: null,
                name: null,
                category: null,
                isNew: true
            });
        };
        ;
        /**
         * Handler, which reacts on page load and $location change.
         */
        IzendaUrlService.prototype.locationChangedHandler = function () {
            // update url settings object because url has changed
            this.settings = new UrlSettings();
            // cancel all current queries
            //const countCancelled = this.$izendaRsQueryService.cancelAllQueries();
            //if (countCancelled > 0)
            //	this.$log.debug(`>>> Cancelled ${countCancelled} queries`);
            // set current report set if location has changed
            var newLocationModel = this.getLocation();
            if (newLocationModel.fullName !== this.reportNameInfo.fullName || newLocationModel.isNew !== this.reportNameInfo.isNew) {
                this.reportNameInfo = newLocationModel;
                this.location.onNext(this.reportNameInfo);
            }
        };
        ;
        /**
         * Create filter parameters url part using current filterParameters from UrlSettings object.
         * @return {string} Url parameters string: '&p1=v1&p2=v2...&pN=vN'.
         */
        IzendaUrlService.prototype.getFilterParamsString = function () {
            var requestString = '';
            if (this.settings.filterParameters.length > 0) {
                for (var i = 0; i < this.settings.filterParameters.length; i++) {
                    var paramObject = this.settings.filterParameters[i];
                    requestString += "&" + paramObject[0] + "=" + encodeURIComponent(paramObject[1]);
                }
            }
            return requestString;
        };
        /**
         * Extract report name from category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report name without category.
         */
        IzendaUrlService.prototype.extractReportName = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var parts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            return parts[parts.length - 1];
        };
        /**
         * Extract report category from "category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report category.
         */
        IzendaUrlService.prototype.extractReportCategory = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report category from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var reportFullNameParts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            var category;
            if (reportFullNameParts.length >= 2)
                category = reportFullNameParts.slice(0, reportFullNameParts.length - 1).join(this.$izendaSettingsService.getCategoryCharacter());
            else
                category = this.$izendaUtilService.getUncategorized();
            return category;
        };
        ;
        /**
         * Extract report name, category, report set name for report part.
         * @param {string} fullName Report full name.
         * @return {any} report parts object.
         */
        IzendaUrlService.prototype.extractReportPartNames = function (fullName, isPartNameAtRight) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report part name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var result = {
                reportPartName: null,
                reportFullName: fullName,
                reportSetName: null,
                reportName: null,
                reportCategory: null,
                reportNameWithCategory: null
            };
            // extract report part name
            var reportSetName = fullName;
            if (fullName.indexOf('@') >= 0) {
                var parts = fullName.split('@');
                if (!angular.isUndefined(isPartNameAtRight) && isPartNameAtRight) {
                    reportSetName = parts[0], result.reportPartName = parts[1];
                }
                else {
                    result.reportPartName = parts[0], reportSetName = parts[1];
                }
            }
            // collect results into one object:
            result.reportSetName = reportSetName;
            result.reportName = this.extractReportName(reportSetName);
            result.reportCategory = this.extractReportCategory(reportSetName);
            result.reportNameWithCategory = result.reportName;
            if (this.$izendaUtilService.isUncategorized(result.reportCategory))
                result.reportNameWithCategory =
                    result.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + result.reportNameWithCategory;
            result.reportFullName = (result.reportPartName != null ? result.reportPartName + '@' : '') + result.reportSetName;
            return result;
        };
        /**
         * Get current report info object.
         */
        IzendaUrlService.prototype.getReportInfo = function () {
            return this.reportNameInfo;
        };
        IzendaUrlService.prototype.getUrlParams = function (url) {
            var urlObj = (typeof (angular.element['url']) === 'undefined') ? window.purl(url) : angular.element['url'](url);
            return urlObj.data.param.query;
        };
        Object.defineProperty(IzendaUrlService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUrlService.register = function (module) {
            module.service('$izendaUrlService', IzendaUrlService.injectModules.concat(IzendaUrlService));
        };
        return IzendaUrlService;
    }());
    exports.default = IzendaUrlService;
});
izendaRequire.define("common/query/module", ["require", "exports", "angular", "common/query/module-definition", "common/query/services/rs-query-service", "common/query/services/settings-service", "common/query/services/common-query-service", "common/query/services/ping-service", "common/query/services/url-service"], function (require, exports, angular, module_definition_7, rs_query_service_1, settings_service_1, common_query_service_1, ping_service_1, url_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register http provider
    module_definition_7.default.config(['$httpProvider', function ($httpProvider) {
            $httpProvider.defaults.transformResponse.push(function (responseData) {
                // convert $http response. We need to translate asp.net dates 
                // in string format '/Date(ticksNumber)/' to js Date objects (only for json response type):
                var regexDate = /^\/Date\(([-]{0,1}\d+)\)\/$/;
                var convertDateStringsToDates = function (input) {
                    if (!angular.isObject(input))
                        return;
                    for (var key in input) {
                        if (!input.hasOwnProperty(key))
                            continue;
                        var value = input[key];
                        if (angular.isString(value)) {
                            var match = value.match(regexDate);
                            if (angular.isArray(match) && match.length > 0) {
                                var milliseconds = parseInt(match[match.length - 1]);
                                if (!isNaN(milliseconds)) {
                                    input[key] = new Date(milliseconds);
                                }
                            }
                        }
                        else if (angular.isObject(value)) {
                            convertDateStringsToDates(value);
                        }
                    }
                };
                convertDateStringsToDates(responseData);
                return responseData;
            });
        }]);
    // register services
    rs_query_service_1.default.register(module_definition_7.default);
    settings_service_1.default.register(module_definition_7.default);
    common_query_service_1.default.register(module_definition_7.default);
    ping_service_1.default.register(module_definition_7.default);
    url_service_1.default.register(module_definition_7.default);
});
izendaRequire.define("common/ui/module-definition", ["require", "exports", "angular", "izenda-external-libs", "common/core/module", "common/query/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaUiModule = angular
        .module('izenda.common.ui', ['rx', 'izenda.common.core', 'izenda.common.query'])
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_Name', 'Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    exports.default = izendaUiModule;
});
izendaRequire.define("common/core/models/select-item-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * IzendaSelectItemModel class is used to provide uniform angular bindings style for <select>.
     */
    var IzendaSelectItemModel = /** @class */ (function () {
        function IzendaSelectItemModel(text, value, group, selected, enabled) {
            if (typeof (value) === 'undefined')
                throw new Error('value should be defined');
            this.text = text;
            this.value = value;
            this.group = group ? group : undefined;
            this.selected = selected ? selected : false;
            this.enabled = enabled ? enabled : true;
        }
        Object.defineProperty(IzendaSelectItemModel.prototype, "disabled", {
            get: function () {
                return !this.enabled;
            },
            enumerable: true,
            configurable: true
        });
        IzendaSelectItemModel.prototype.isEqual = function (testValue, isLowerCaseComparison) {
            if (testValue === null && this.value === null)
                return true;
            if (testValue === null || this.value === null)
                return false;
            return isLowerCaseComparison
                ? testValue.toLowerCase() === this.value.toLowerCase()
                : testValue === this.value;
        };
        IzendaSelectItemModel.prototype.isEqualWithItem = function (item, isLowerCaseComparison) {
            if (!item)
                return false;
            return this.isEqual(item.value, isLowerCaseComparison);
        };
        return IzendaSelectItemModel;
    }());
    exports.IzendaSelectItemModel = IzendaSelectItemModel;
});
izendaRequire.define("common/core/models/raw-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("common/core/models/share-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Model for the list of share rules.
     */
    var IzendaShareModel = /** @class */ (function () {
        function IzendaShareModel() {
            this.shareRules = new Array();
        }
        /**
         * Deserialize share rules. This method sets this.shareRules field.
         * @param {any[]} json Serialized share rules array.
         * @param {Core.IzendaSelectItemModel[]} availableRights Right model collection.
         * @param {Core.IzendaSelectItemModel[]} availableSubjects Subject model collection.
         */
        IzendaShareModel.prototype.fromJson = function (json, availableRights, availableSubjects) {
            if (!json) {
                this.shareRules = [];
                return;
            }
            this.shareRules = json.map(function (ruleJson) {
                var shareRule = new IzendaShareRuleModel();
                shareRule.fromJson(ruleJson, availableRights, availableSubjects);
                return shareRule;
            });
        };
        /**
         * Serialize current share rules to json object.
         * @return {any[]} array of serialized share rules.
         */
        IzendaShareModel.prototype.toJson = function () {
            var json = this.shareRules
                .filter(function (shareRule) { return shareRule.subject && shareRule.right; })
                .map(function (shareRule) { return shareRule.toJson(); });
            return json;
        };
        return IzendaShareModel;
    }());
    exports.IzendaShareModel = IzendaShareModel;
    /**
     * Model for subject-right pair.
     */
    var IzendaShareRuleModel = /** @class */ (function () {
        function IzendaShareRuleModel(subjects) {
            this.availableSubjects = new Array();
            this.right = null;
            this.subject = null;
            if (subjects)
                this.setAvailableSubjects(subjects, null);
        }
        IzendaShareRuleModel.prototype.setAvailableSubjects = function (subjects, subjectValue) {
            var subjValue = subjectValue
                ? subjectValue
                : this.subject
                    ? this.subject.value
                    : null;
            // update available subjects collection
            this.availableSubjects = subjects && subjects.length ? subjects.slice() : [];
            // update subject
            this.subject = null;
            if (subjValue !== null)
                this.subject = this.availableSubjects.find(function (s) { return s.value === subjValue; }) || null;
        };
        IzendaShareRuleModel.prototype.fromJson = function (json, rights, subjects) {
            // set right
            this.right = null;
            if (rights && rights.length)
                this.right = rights.find(function (r) { return json && r.value === json.right; }) || null;
            // set available subject
            this.setAvailableSubjects(subjects, json ? json.subject : null);
        };
        IzendaShareRuleModel.prototype.toJson = function () {
            if (!this.right && !this.subject)
                // you can face with this situation only if you call toJson directly for this class, 
                //because when you serialize collection, there is additional check for empty subject and right.
                return null;
            var json = {
                right: this.right.value,
                subject: this.subject.value
            };
            return json;
        };
        return IzendaShareRuleModel;
    }());
    exports.IzendaShareRuleModel = IzendaShareRuleModel;
});
izendaRequire.define("common/ui/services/share-service", ["require", "exports", "common/core/models/select-item-model", "common/core/models/share-model", "common/core/models/share-model", "izenda-external-libs"], function (require, exports, select_item_model_1, share_model_1, share_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Service used for store data in share control
     */
    var IzendaShareService = /** @class */ (function () {
        function IzendaShareService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaShareService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add new empty share rule.
         */
        IzendaShareService.prototype.addNewShareRule = function () {
            var shareRuleModel = new share_model_2.IzendaShareRuleModel(this.subjects);
            this.shareModel.shareRules.push(shareRuleModel);
        };
        /**
         * Remove share rule
         * @param {Core.IzendaShareRuleModel} shareRule Share rule for removal.
         */
        IzendaShareService.prototype.removeShareRule = function (shareRule) {
            if (!shareRule)
                return;
            var idx = this.shareModel.shareRules.indexOf(shareRule);
            this.shareModel.shareRules.splice(idx, 1);
        };
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaShareService.prototype.getShareConfigForSend = function () {
            return this.shareModel.toJson();
        };
        /**
         * Set current share config.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.setShareConfig = function (json) {
            var _this = this;
            var isDefaultConfig = !json;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillShareConfigFromJson(json, isDefaultConfig).then(function () { return resolve(); });
            });
        };
        /**
         * Set share service state from the config object.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.fillShareConfigFromJson = function (json, isDefaultConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                _this.loadShareData().then(function () {
                    if (isDefaultConfig) {
                        json = [{
                                subject: 'Everyone',
                                right: 'None'
                            }];
                    }
                    _this.shareModel = new share_model_1.IzendaShareModel();
                    _this.shareModel.fromJson(json, _this.rights, _this.subjects);
                    resolve();
                });
            });
        };
        /**
         * Load share data and available values from server.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.loadShareData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaCommonQueryService.getShareData().then(function (json) {
                    // fill available rights collection
                    _this.rights = json.Rights.map(function (rightJson) { return new select_item_model_1.IzendaSelectItemModel(rightJson.Text, rightJson.Value); });
                    // fill available subjects collection
                    _this.subjects = json.ShareWith.map(function (subjectJson) { return new select_item_model_1.IzendaSelectItemModel(subjectJson.Text, subjectJson.Value); });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaShareService.prototype.reset = function () {
            this.rights = new Array();
            this.subjects = new Array();
            this.shareModel = new share_model_1.IzendaShareModel();
        };
        Object.defineProperty(IzendaShareService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaShareService.register = function (module) {
            module.service('$izendaShareService', IzendaShareService.injectModules.concat(IzendaShareService));
        };
        return IzendaShareService;
    }());
    exports.default = IzendaShareService;
});
izendaRequire.define("common/core/models/schedule-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleModel = /** @class */ (function () {
        function IzendaScheduleModel() {
            this.date = new Date();
            this.email = null;
            this.recipients = '';
            this.repeat = null;
            this.timezone = null;
        }
        /**
         * Fill this object from server-side dto object.
         * @param {any} json dto object.
         * @param {Core.IzendaSelectItemModel[]} emailTypes Email type models collection.
         * @param {Core.IzendaSelectItemModel[]} repeatTypes Repeat type models collection.
         * @param {Core.IzendaSelectItemModel[]} timezones Timezone models collection.
         */
        IzendaScheduleModel.prototype.fromJson = function (json, emailTypes, repeatTypes, timezones) {
            // parse and set date
            if (json && json.dateString) {
                var dateString = json.dateString.trim();
                var momentDate = void 0;
                if (json.timeString) {
                    dateString += " " + json.timeString.trim();
                    momentDate = moment(dateString, 'YYYY-MM-DD HH:mm:ss');
                }
                else {
                    momentDate = moment(dateString, 'YYYY-MM-DD');
                }
                this.date = momentDate.isValid() ? momentDate._d : new Date();
            }
            else
                this.date = new Date();
            if (!this.date || this.date.getFullYear() <= 1900)
                this.date = new Date();
            // timezone
            this.timezone = timezones.length ? (timezones.find(function (tz) { return tz.selected; }) || timezones[0]) : null;
            if (json && json.timezoneId)
                this.timezone = timezones.find(function (tz) { return tz.value === json.timezoneId; }) || this.timezone;
            // email type
            this.email = emailTypes.length ? (emailTypes.find(function (e) { return e.selected; }) || emailTypes[0]) : null;
            // repeat type
            this.repeat = repeatTypes.length ? (repeatTypes.find(function (r) { return r.selected; }) || repeatTypes[0]) : null;
            // recipients
            this.recipients = json && json.recipients ? json.recipients : '';
        };
        /**
         * Create server-side dto object for this schedule model object.
         * @return {any} New json object.
         */
        IzendaScheduleModel.prototype.toJson = function () {
            var dateString = null;
            var timeString = null;
            if (this.date) {
                dateString = moment(this.date).format('YYYY-MM-DD');
                timeString = moment(this.date).format('HH:mm:ss');
            }
            var json = {
                dateString: dateString,
                timeString: timeString,
                recipients: this.recipients,
                email: this.email ? this.email.value : null,
                repeat: this.repeat ? this.repeat.value : null,
                timezoneId: this.timezone ? this.timezone.value : null
            };
            return json;
        };
        return IzendaScheduleModel;
    }());
    exports.IzendaScheduleModel = IzendaScheduleModel;
});
izendaRequire.define("common/ui/services/schedule-service", ["require", "exports", "common/core/models/schedule-model", "common/core/models/select-item-model", "izenda-external-libs"], function (require, exports, schedule_model_1, select_item_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleService = /** @class */ (function () {
        function IzendaScheduleService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaScheduleService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaScheduleService.prototype.getScheduleConfigForSend = function () {
            return this.scheduleConfig.toJson();
        };
        /**
         * Set current schedule config.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.setScheduleConfig = function (json) {
            var _this = this;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillScheduleConfigFromJson(json).then(function () { return resolve(); });
            });
        };
        /**
         * Set schedule service state from the config object.
         * Schedule timezones, repeat types and others are supposed to be loaded.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.fillScheduleConfigFromJson = function (json) {
            var _this = this;
            return this.$q(function (resolve) {
                // Load schedule collections.
                _this.loadScheduleData().then(function () {
                    // Fill schedule config from json after loading collections.
                    _this.scheduleConfig.fromJson(json, _this.sendEmailTypes, _this.repeatTypes, _this.timezones);
                    resolve();
                });
            });
        };
        /**
         * Load schedule data and available values from server
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.loadScheduleData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                // calculate current timezone std offset:
                var rightNow = new Date();
                var jan1 = new Date(rightNow.getFullYear(), 0, 1, 0, 0, 0, 0);
                var temp = jan1.toGMTString();
                var jan2 = new Date(temp.substring(0, temp.lastIndexOf(' ')));
                var stdTimeOffset = (jan1.getTime() - jan2.getTime()) / (1000 * 60);
                // load schedule dictionaries:
                _this.$izendaCommonQueryService.getScheduleData(stdTimeOffset).then(function (json) {
                    _this.timezones = json.TimeZones.map(function (tz) {
                        var tzText = tz.Text ? tz.Text.replaceAll('&nbsp;', ' ') : '';
                        return new select_item_model_2.IzendaSelectItemModel(tzText, tz.Value, undefined, tz.Selected, tz.Enabled);
                    });
                    _this.sendEmailTypes = json.SendEmailList.map(function (eml) {
                        return new select_item_model_2.IzendaSelectItemModel(eml.Text, eml.Value, undefined, eml.Selected, eml.Enabled);
                    });
                    _this.repeatTypes = json.RepeatTypes.map(function (rt) {
                        return new select_item_model_2.IzendaSelectItemModel(rt.Text, rt.Value, undefined, rt.Selected, rt.Enabled);
                    });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaScheduleService.prototype.reset = function () {
            this.scheduleConfig = new schedule_model_1.IzendaScheduleModel();
            this.timezones = [];
            this.sendEmailTypes = [];
            this.repeatTypes = [];
        };
        Object.defineProperty(IzendaScheduleService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaScheduleService.register = function (module) {
            module.service('$izendaScheduleService', IzendaScheduleService.injectModules.concat(IzendaScheduleService));
        };
        return IzendaScheduleService;
    }());
    exports.default = IzendaScheduleService;
});
izendaRequire.define("common/ui/directives/align-switcher", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_8) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Align switcher directive.
     */
    var IzendaAlignSwitcher = /** @class */ (function () {
        function IzendaAlignSwitcher() {
            this.restrict = 'AE';
            this.scope = {
                ngModel: '=',
                title: '@'
            };
            this.template = "<span class=\"izenda-common-align-switcher glyphicon\" ng-click=\"nextValue()\" ng-attr-title=\"title\" ng-class=\"alignShortcut\"></span>";
            IzendaAlignSwitcher.prototype.link = function ($scope, $element, attrs) {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var shortcuts = {
                    'L': 'glyphicon-align-left',
                    'M': 'glyphicon-align-center',
                    'J': 'glyphicon-align-center',
                    'R': 'glyphicon-align-right',
                    ' ': 'glyphicon-none'
                };
                var validateValue = function (model) {
                    if (angular.isUndefined(model))
                        return;
                    if (itemsArray.indexOf(model) < 0)
                        throw 'Unknown align value: ' + model;
                };
                var updateShortcut = function (model) { return $scope.alignShortcut = shortcuts[model]; };
                $scope.nextValue = function () {
                    var idx = itemsArray.indexOf($scope.ngModel);
                    if (idx < itemsArray.length - 1)
                        idx++;
                    else
                        idx = 0;
                    $scope.ngModel = itemsArray[idx];
                    updateShortcut($scope.ngModel);
                };
                //
                $scope.$parent.$watch(attrs.ngModel, function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    validateValue(newValue);
                    updateShortcut(newValue);
                });
                validateValue($scope.ngModel);
                updateShortcut($scope.ngModel);
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaAlignSwitcher.factory = function () {
            var directive = function () { return new IzendaAlignSwitcher(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAlignSwitcher;
    }());
    module_definition_8.default.directive('izendaAlignSwitcher', [IzendaAlignSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/autocomplete", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_9) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Autocomplete directive. Uses "tagit". Applyed for <input izenda-autocomplete> element.
     */
    var IzendaAutocomplete = /** @class */ (function () {
        function IzendaAutocomplete() {
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                ngModel: '=',
                autocompleteItems: '=',
                updateAutocompleteItems: '&'
            };
            IzendaAutocomplete.prototype.link = function ($scope, $element) {
                /**
                 * Create array with autocomplete item texts
                 * @param {Array<object>} items.
                 * @returns {Array<string>}.
                 */
                var prepareSource = function (items) {
                    if (!angular.isArray(items) || !items.length)
                        return [];
                    return items
                        .filter(function (item) { return angular.isObject(item); })
                        .map(function (item) { return item['text']; });
                };
                // initialize component
                $element.val($scope.ngModel);
                $element['tagit']({
                    tagSource: function (req, responseFunction) {
                        if (!angular.isFunction($scope.updateAutocompleteItems))
                            return;
                        var possibleText = req.term.split(/,\s*/).pop();
                        // update suggested items:
                        $scope.updateAutocompleteItems({ arg0: possibleText }).then(function (newExistentValuesList) {
                            var items = prepareSource(newExistentValuesList);
                            var result = items
                                .filter(function (item) { return !!item && item != '...'; })
                                .map(function (item) { return item.replaceAll('#||#', ','); });
                            responseFunction(result);
                        });
                    },
                    caseSensitive: true,
                    allowDuplicates: false,
                    singleFieldDelimiter: jsResources.literalComma,
                    processValuesForSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll(',', '#||#'); }); },
                    processValuesFromSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll('#||#', ','); }); }
                });
                // add watchers
                $scope.$watch('ngModel', function (newValue) {
                    if (!newValue)
                        $element['tagit']('removeAll');
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element['tagit']('removeAll');
                });
            };
        }
        IzendaAutocomplete.factory = function () {
            var directive = function () { return new IzendaAutocomplete(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAutocomplete;
    }());
    module_definition_9.default.directive('izendaAutocomplete', [IzendaAutocomplete.factory()]);
});
izendaRequire.define("common/ui/directives/bootstrap", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_10) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Collapsible container directive.
     */
    var IzendaBootstrapCollapse = /** @class */ (function () {
        function IzendaBootstrapCollapse($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                collapsed: '=',
                useDelay: '=',
                onComplete: '&'
            };
            IzendaBootstrapCollapse.prototype.link = function ($scope, $element, attrs) {
                /**
                 * Invoke complete handler.
                 */
                var collapseCompleted = function (result) {
                    if (angular.isFunction($scope.onComplete)) {
                        $scope.onComplete({
                            collapsed: result
                        });
                    }
                };
                $element.addClass('collapse');
                if ($scope.collapsed)
                    $element.addClass('in');
                $element['collapse'](); // call bootstrap jquery_element.collapse() method.
                // add event collapse handlers
                $element.on('hidden.bs.collapse', function () { return collapseCompleted(true); });
                $element.on('shown.bs.collapse', function () { return collapseCompleted(false); });
                // watch for collapsed state change
                $scope.$watch('collapsed', function () {
                    if ($scope.useDelay)
                        $timeout(function () { return $element['collapse']($scope.collapsed ? 'hide' : 'show'); }, 1000);
                    else
                        $element['collapse']($scope.collapsed ? 'hide' : 'show');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapCollapse.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapCollapse($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapCollapse;
    }());
    module_definition_10.default.directive('izendaBootstrapCollapse', ['$timeout', IzendaBootstrapCollapse.factory()]);
    /**
     * Tooltip directive
     */
    var IzendaBootstrapTooltip = /** @class */ (function () {
        function IzendaBootstrapTooltip() {
            this.restrict = 'A';
            this.scope = {
                tooltipItems: '='
            };
            IzendaBootstrapTooltip.prototype.link = function ($scope, $element) {
                $scope.$watch('tooltipItems', function (newVal) {
                    if (!angular.isArray(newVal)) {
                        $element.attr('title', '');
                        return;
                    }
                    var result = '';
                    for (var i = 0; i < newVal.length; i++) {
                        if (newVal.length > 1)
                            result += i + '. ';
                        result += newVal[i].message + '<br/>';
                    }
                    $element.attr('title', result);
                    $element['tooltip']('hide')
                        .attr('data-original-title', newVal)
                        .tooltip('update');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapTooltip.factory = function () {
            return function () { return new IzendaBootstrapTooltip(); };
        };
        return IzendaBootstrapTooltip;
    }());
    module_definition_10.default.directive('izendaBootstrapTooltip', [IzendaBootstrapTooltip.factory()]);
    /**
     * Bootstrap dropdown directive
     */
    var IzendaBootstrapDropdown = /** @class */ (function () {
        function IzendaBootstrapDropdown($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                attachToElement: '@',
                width: '@',
                height: '@',
                onOpen: '&',
                onClose: '&'
            };
            this.template = "<div class=\"dropdown\">\n\t<div class=\"dropdown-menu izenda-common-dropdown-strong-shadow dropdown-no-close-on-click\"\n\t\tng-click=\"$event.stopPropagation();\">\n\t\t<div class=\"izenda-common-dropdown-triangle\"></div>\n\t\t<div ng-style=\"{'width': width, 'height': height}\">\n\t\t\t<div ng-transclude></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapDropdown.prototype.link = function ($scope, $element, attrs) {
                var id = ('' + Math.random()).substring(2);
                var scrollEventId = 'scroll.izendaBootstrapDropdown' + id;
                var resizeEventId = 'resize.izendaBootstrapDropdown' + id;
                var keyEventId = 'keyup.izendaBootstrapDropdown' + id;
                var $dropdown = $element.find('.dropdown');
                var $menu = $element.find('.dropdown-menu');
                $dropdown.find('.izenda-common-dropdown-triangle').on('click', function () { return close(); });
                angular.element($window).on(scrollEventId, function () { return close(); });
                angular.element($window).on(resizeEventId, function () { return close(); });
                angular.element($window).on(keyEventId, function (event) {
                    // esc button handler
                    if (event.keyCode == 27 && $scope.opened) {
                        close();
                    }
                });
                $scope.$watch('opened', function (newVal) {
                    if (newVal && !$dropdown.hasClass('open'))
                        open();
                    if (!newVal && $dropdown.hasClass('open'))
                        close();
                });
                function open() {
                    var $attachToElement = angular.element($scope.attachToElement);
                    var $tile = $attachToElement.closest('.iz-dash-tile');
                    $dropdown.addClass('open');
                    $menu.css('position', 'absolute');
                    $menu.css('z-index', 9999);
                    var left = $tile.width() - $menu.width() - 16;
                    var delta = 0;
                    if (left < 0) {
                        delta = -left;
                        left = 0;
                    }
                    var top = 44;
                    $menu.children('.izenda-common-dropdown-triangle').css('left', $menu.width() - delta - 58);
                    $menu.css({
                        left: left + 'px',
                        top: top + 'px'
                    });
                    if (angular.isFunction($scope.onOpen))
                        $scope.onOpen({});
                }
                function close() {
                    $dropdown.removeClass('open');
                    $menu.data('open', false);
                    $scope.opened = false;
                    if (angular.isFunction($scope.onClose))
                        $scope.onClose({});
                    $scope.$applyAsync();
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off(scrollEventId);
                    angular.element($window).off(resizeEventId);
                    angular.element($window).off(keyEventId);
                });
            };
        }
        IzendaBootstrapDropdown.factory = function () {
            var directive = function ($window) { return new IzendaBootstrapDropdown($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaBootstrapDropdown;
    }());
    module_definition_10.default.directive('izendaBootstrapDropdown', ['$window', IzendaBootstrapDropdown.factory()]);
});
izendaRequire.define("common/ui/directives/color-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_11) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Color picker directive. Requires "jquery-minicolors" jQuery plugin. Usage:
     * <izenda-color-picker ng-model="..."></izenda-color-picker>
     */
    var IzendaColorPicker = /** @class */ (function () {
        function IzendaColorPicker() {
            this.restrict = 'A';
            this.scope = {
                ngModel: '=',
                inline: '@',
                additionalClass: '@'
            };
            this.template = '<input class="minicolors form-control" ng-class="additionalClass"></input>';
            IzendaColorPicker.prototype.link = function ($scope, $element) {
                var $input = $element.find('input.minicolors');
                // watch active item changed
                $scope.$watch('ngModel', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    $input.val(newVal);
                    $input['minicolors']('value', newVal);
                });
                initializeControl();
                // destruction method
                $element.on('$destroy', function () {
                    $input['minicolors']('destroy');
                    $input.remove();
                });
                function initializeControl() {
                    $input['minicolors']('destroy');
                    $input.val($scope.ngModel);
                    $input['minicolors']({
                        inline: $scope.inline === 'true',
                        lettercase: 'lowercase',
                        theme: 'bootstrap',
                        color: $scope.color,
                        position: 'bottom right',
                        change: function (hex) {
                            var val = String($input.val());
                            if (val.match(/^#{0,1}[0-9a-f]{6}$/gi)) {
                                $scope.ngModel = hex;
                                angular.element('.iz-dash-background').css('background-color', hex);
                                $scope.$applyAsync();
                            }
                        }
                    });
                    $element.find('.minicolors-grid, .minicolors-slider').click(function (e) {
                        e.stopPropagation();
                        return false;
                    });
                }
            };
        }
        IzendaColorPicker.factory = function () {
            return function () { return new IzendaColorPicker(); };
        };
        return IzendaColorPicker;
    }());
    module_definition_11.default.directive('izendaColorPicker', [IzendaColorPicker.factory()]);
});
izendaRequire.define("common/ui/directives/datetime-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_12) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaDateTimePicker = /** @class */ (function () {
        function IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
            this.$window = $window;
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                model: '=ngModel',
                ngDisabled: '=',
                dateFormat: '=',
                locale: '=',
                datepart: '=',
                showAdditionalButtons: '@',
                htmlContainerSelector: '@',
                onChange: '&'
            };
            this.template = "<input type=\"text\" class=\"form-control\" />\n<span class=\"input-group-addon\">\n\t<span class=\"glyphicon-calendar glyphicon\"></span>\n</span>";
            // change template if resolution is too low
            if (this.$izendaCompatibilityService.isSmallResolution())
                this.template = '<div class="izenda-common-date-picker-inline"/>';
            IzendaDateTimePicker.prototype.link = function ($scope, $element, attrs, ngModelCtrl) {
                var uid = Math.floor(Math.random() * 1000000);
                var $input = $element.children('input,.izenda-common-date-picker-inline');
                var $btn = $element.children('.input-group-addon');
                var isSmallResolution = $izendaCompatibilityService.isSmallResolution();
                var getPicker = function () { return $input.data('DateTimePicker'); };
                /**
                 * Create new date object based on baseDate with updated from the newDate date or time or both.
                 * @param {Date} baseDate current date
                 * @param {Date} newDate updated date
                 * @param {string} datepart what part will be updated: '"date"|"time"|"datetime"'
                 */
                var getUpdatedDateValue = function (baseDate, newDate, datepart) {
                    if (!baseDate)
                        return new Date(newDate);
                    var currDate = new Date(baseDate);
                    if (datepart === 'datetime') {
                        currDate = new Date(newDate);
                    }
                    else if (datepart === 'date') {
                        currDate = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate(), baseDate.getHours(), baseDate.getMinutes(), baseDate.getSeconds(), 0);
                    }
                    else if (datepart === 'time') {
                        currDate = new Date(baseDate.getFullYear(), baseDate.getMonth(), baseDate.getDate(), newDate.getHours(), newDate.getMinutes(), newDate.getSeconds(), 0);
                    }
                    return currDate;
                };
                /**
                 * Set date to the picker
                 */
                var setDate = function (newDate) {
                    if (!newDate)
                        getPicker().date(null);
                    else if (angular.isDate(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, newDate, $scope.datepart));
                    else if (angular.isString(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, new Date(newDate), $scope.datepart));
                    else
                        throw "Unknown date type: " + typeof (newDate);
                };
                /**
                 * Enable/Disable picker
                 */
                var setDisabled = function (isDisabled) {
                    if (isDisabled)
                        getPicker().disable();
                    else
                        getPicker().enable();
                };
                /**
                 * Apply date format in the picker
                 */
                var setFormat = function (format) {
                    if (!angular.isString(format))
                        getPicker().format(false);
                    else
                        getPicker().format(format);
                };
                /**
                 * Apply locale in the picker
                 */
                var setLocale = function (locale) {
                    if (!angular.isString(locale))
                        return;
                    getPicker().locale(locale);
                };
                // create date picker config json
                var config = {};
                if ($scope.showAdditionalButtons === 'true') {
                    config = {
                        showTodayButton: true,
                        showClear: true
                    };
                }
                angular.extend(config, {
                    locale: $scope.locale,
                    inline: isSmallResolution,
                    widgetParent: isSmallResolution ? null : angular.element($scope.htmlContainerSelector),
                    toolbarPlacement: 'bottom',
                    widgetPositioning: {
                        vertical: 'bottom'
                    },
                    tooltips: {
                        today: $izendaLocaleService.localeText('js_GoToToday', 'Go to today'),
                        clear: $izendaLocaleService.localeText('js_ClearSelection', 'Clear selection'),
                        close: $izendaLocaleService.localeText('js_ClosePicker', 'Close the picker'),
                        selectMonth: $izendaLocaleService.localeText('js_SelectMonth', 'Select Month'),
                        prevMonth: $izendaLocaleService.localeText('js_PreviousMonth', 'Previous Month'),
                        nextMonth: $izendaLocaleService.localeText('js_NextMonth', 'Next Month'),
                        selectYear: $izendaLocaleService.localeText('js_SelectYear', 'Select Year'),
                        prevYear: $izendaLocaleService.localeText('js_PreviousYear', 'Previous Year'),
                        nextYear: $izendaLocaleService.localeText('js_NextYear', 'Next Year'),
                        selectDecade: $izendaLocaleService.localeText('js_SelectDecade', 'Select Decade'),
                        prevDecade: $izendaLocaleService.localeText('js_PreviousDecade', 'Previous Decade'),
                        nextDecade: $izendaLocaleService.localeText('js_NextDecade', 'Next Decade'),
                        prevCentury: $izendaLocaleService.localeText('js_PreviousCentury', 'Previous Century'),
                        nextCentury: $izendaLocaleService.localeText('js_NextCentury', 'Next Century')
                    }
                });
                // create picker
                $scope.dateTimePicker = $input['datetimepicker'](config);
                // date picker 'on show' handler
                $input.on('dp.show', function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.show();
                    $widget.css({
                        top: $input.offset().top - $widget.parent().offset().top + $input.height() + 20,
                        left: $input.offset().left - $widget.parent().offset().left
                    });
                });
                // window resize handler
                angular.element($window).on('resize.dp' + uid, function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.hide();
                    $timeout(function () { return $input.blur(); }, 10);
                });
                $btn.on('click', function () {
                    if (!$scope.ngDisabled)
                        $input.focus();
                });
                // watch variables:
                $scope.$watch('ngDisabled', function (newVal) { return setDisabled(newVal); });
                $scope.$watch('dateFormat', function (newVal) { return setFormat(newVal); });
                $scope.$watch('locale', function (newVal) { return setLocale(newVal); });
                // initialize values
                setDisabled($scope.ngDisabled);
                setFormat($scope.dateFormat);
                setLocale($scope.locale);
                if (ngModelCtrl) {
                    $scope.$watch('model', function (newVal) { return setDate(newVal); });
                    $timeout(function () {
                        ngModelCtrl.$render = function () { return setDate(ngModelCtrl.$viewValue); };
                    });
                    $input.on('dp.change', function (e) {
                        var newDateValue = e['date'] ? getUpdatedDateValue($scope.model, e['date'].toDate(), $scope.datepart) : null;
                        ngModelCtrl.$setViewValue(newDateValue);
                    });
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('resize.dp' + uid);
                    var picker = getPicker();
                    if (picker)
                        getPicker().destroy();
                });
            };
        }
        IzendaDateTimePicker.factory = function () {
            var directive = function ($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
                return new IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService);
            };
            directive.$inject = ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService'];
            return directive;
        };
        return IzendaDateTimePicker;
    }());
    module_definition_12.default.directive('izendaDateTimePicker', ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService', IzendaDateTimePicker.factory()]);
});
izendaRequire.define("common/ui/directives/report-viewer", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_13) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaReportViewer = /** @class */ (function () {
        function IzendaReportViewer($rootScope, $timeout) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.restrict = 'AE';
            this.scope = {
                allowColReorder: '@',
                allowedColumnsForReorder: '=',
                reportSetOptions: '=',
                allowColRemove: '@',
                droppableAccept: '@',
                onReorder: '&',
                onHeaderClick: '&',
                onPagingClick: '&',
                onDragOver: '&',
                onRemove: '&',
                emptyText: '=',
                currentInsertColumnOrder: '=',
                htmlText: '='
            };
            this.template = "<div class=\"izenda-report-viewer\">\n\t<div class=\"html-container-placeholder hidden\"></div>\n\t<div class=\"html-container-loading\" style=\"display: none;\" ng-bind=\":: 'js_Loading' | izendaLocale: 'Loading...'\"></div>\n\t<div id=\"renderedReportDiv\" class=\"html-container\"></div>\n</div>";
            IzendaReportViewer.prototype.link = function ($scope, $element) {
                //////////////////////////////////////////////////////////////
                // apply tile html function
                var $htmlContainer = $element.find('.html-container');
                var $htmlContainerLoading = $element.find('.html-container-loading');
                var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
                /**
                 * Prepare report table
                 * @param {jquery object} $table
                 */
                var processReportTable = function () {
                    // prepare table
                    if (!IzendaReportViewer.isTableIsGood($scope.$table))
                        return;
                    IzendaReportViewer.addColReorderHandler($scope, $timeout, function ($from, $to, isVisualGroup) {
                        IzendaReportViewer.onReorder($scope, $from, $to, isVisualGroup);
                    });
                    // add other handlers
                    IzendaReportViewer.addDragHandlers($scope, $rootScope, $element);
                    IzendaReportViewer.addClickHandler($scope);
                    IzendaReportViewer.addColRemoveButtons($scope);
                    izenda.report.registerPostRenderHandlers();
                };
                /**
                 * Apply report content html
                 * @param {string} html
                 */
                var applyHtml = function (html) {
                    // show/hide loading indicator
                    if (html === null) {
                        $htmlContainer.hide();
                        $htmlContainerLoading.show();
                    }
                    else {
                        $htmlContainer.show();
                        $htmlContainerLoading.hide();
                    }
                    // empty result
                    if (typeof (html) !== 'string' || (html && typeof (html) === 'string' && html.trim() === '')) {
                        $htmlContainer.text($scope.emptyText);
                        return;
                    }
                    $htmlContainer.html(html);
                    // is paging enabled
                    IzendaReportViewer.preparePageLinks($scope, $htmlContainer);
                    IzendaReportViewer.preparePagingInput($scope, $htmlContainer);
                    IzendaReportViewer.prepareGoToRecordBtn($scope, $htmlContainer);
                    $scope.$table = $htmlContainer.find('table[name=reportTable],table.ReportTable');
                    if ($scope.$table.length > 0) {
                        // prepare report table
                        processReportTable();
                    }
                };
                // htmlText change handler
                $scope.$watch('htmlText', function (newVal) { return applyHtml(newVal); });
                // is dragging enabled handler
                $rootScope.$watch('isDraggingNow', function (newVal) {
                    if (!newVal) {
                        $htmlContainerPlaceholder.addClass('hidden');
                    }
                });
                // run
                applyHtml($scope.htmlText);
                //////////////////////////////////////////////////////////////
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        /**
         * Check is any kind of visual group applied.
         */
        IzendaReportViewer.isVgApplyed = function ($scope) {
            return angular.isObject($scope.reportSetOptions)
                ? $scope.reportSetOptions.isVgUsed
                : false;
        };
        /**
         * Check is applied AG or VGHierarchy.
         */
        IzendaReportViewer.isTableContainVgColumns = function ($scope) {
            return IzendaReportViewer.isVgApplyed($scope) &&
                ['AnalysisGrid', 'VGHierarchy'].indexOf($scope.reportSetOptions.vgStyle) >= 0;
        };
        /**
         * Calculate count of visual group column.
         */
        IzendaReportViewer.getCountOfVgColumns = function ($scope) {
            var countOfVgColumns = 0;
            if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                var fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
                countOfVgColumns = fieldsInTable.filter(function (field) { return field.isVgUsed; }).length;
            }
            return countOfVgColumns;
        };
        /**
         * Get fields which have own column in preview table
         * @returns {Array} array of field objects.
         */
        IzendaReportViewer.getColumnFields = function ($scope) {
            var fieldsInTable;
            if (IzendaReportViewer.isTableContainVgColumns($scope))
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
            else
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields.filter(function (field) { return !field.isVgUsed; });
            return fieldsInTable;
        };
        IzendaReportViewer.isTableIsGood = function ($table) {
            if (!$table)
                return false;
            // if no table headers - stop:
            var $tableHeader = $table.children('tbody').children('tr.ReportHeader');
            if ($tableHeader.length === 0)
                return false;
            // check if table contains visual groups:
            return true;
        };
        /**
         * Add col reorder handler.
         */
        IzendaReportViewer.addColReorderHandler = function ($scope, $timeout, onColumnReorderCompleted) {
            if ($scope.allowColReorder !== 'true')
                return;
            var bodyOnselectstartSave = String(angular.element(document.body).attr('onselectstart'));
            var bodyUnselectableSave = String(angular.element(document.body).attr('unselectable'));
            var disableTextSelection = function () {
                // jQuery doesn't support the element.text attribute in MSIE 8
                // http://stackoverflow.com/questions/2692770/style-style-textcss-appendtohead-does-not-work-in-ie
                var $style = angular.element('<style id="__disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');
                angular.element(document.head).append($style);
                angular.element(document.body).attr('onselectstart', 'return false;').attr('unselectable', 'on');
                if (window.getSelection) {
                    window.getSelection().removeAllRanges();
                }
                else {
                    document.selection.empty(); // MSIE http://msdn.microsoft.com/en-us/library/ms535869%28v=VS.85%29.aspx
                }
            };
            var restoreTextSelection = function () {
                angular.element('#__disable_text_selection__').remove();
                if (bodyOnselectstartSave)
                    angular.element(document.body).attr('onselectstart', bodyOnselectstartSave);
                else
                    angular.element(document.body).removeAttr('onselectstart');
                if (bodyUnselectableSave)
                    angular.element(document.body).attr('unselectable', bodyUnselectableSave);
                else
                    angular.element(document.body).removeAttr('unselectable');
            };
            var createHelper = function (innerOffset) {
                var $cell = $scope.reorderState.$from;
                var $clone = $cell.clone().wrap('<div class="izenda-common-col-reorder-helper"></div>').parent();
                $clone.width($cell.outerWidth());
                $clone.height($cell.outerHeight());
                $clone.css('top', $cell.position().top);
                $clone.css('left', $cell.position().left + innerOffset);
                $scope.reorderState.$helper = $clone;
                $scope.reorderState.helperOffset = innerOffset;
                $scope.$table.append($clone);
                return $clone;
            };
            var removeHelper = function () {
                $scope.reorderState.$helper.remove();
            };
            var beforeReorderStarted = function () {
                disableTextSelection();
                $scope.reorderState.$from.addClass('izenda-reorder-cell-selected');
                $scope.reorderState.previousPosition = $scope.$table.css('position');
                $scope.$table.css('position', 'relative');
            };
            var afterReorderCompleted = function () {
                $scope.reorderState.$from.removeClass('izenda-reorder-cell-selected');
                $scope.reorderState.itemsCache = null;
                $scope.$table.css('position', $scope.reorderState.previousPosition);
                $scope.$table.find('.izenda-common-col-reorder-active').removeClass('izenda-col-reorder-active');
                removeHelper();
                restoreTextSelection();
            };
            var getCurrentItemsForReorder = function () {
                if (!$scope.reorderState.itemsCache) {
                    $scope.reorderState.itemsCache = $scope.reorderState.$from.parent().children();
                }
                return $scope.reorderState.itemsCache;
            };
            var completeReorder = function () {
                if (!$scope.reorderState.started)
                    return;
                $scope.reorderState.started = false;
                afterReorderCompleted();
                if (angular.isFunction(onColumnReorderCompleted)) {
                    var isVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                    onColumnReorderCompleted($scope.reorderState.$from, $scope.reorderState.$to, isVg);
                }
            };
            $scope.reorderState = {
                started: false,
                $from: null
            };
            // add table handlers:
            angular.element(document).off('mousemove.izendaColReorder');
            angular.element(document).off('mouseup.izendaColReorder');
            angular.element(document).on('mousemove.izendaColReorder', function (e) {
                if (!$scope.reorderState.started)
                    return;
                var currentTableX = e.pageX - $scope.$table.offset().left;
                var isFromColumnVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                // highlight current column
                var $tds = getCurrentItemsForReorder();
                var $toTd = null;
                angular.element.each($tds, function (iTd, td) {
                    var $currTd = angular.element(td);
                    var tdLeft = $currTd.position().left, tdWidth = $currTd.outerWidth();
                    var isTdColumnVg = String($currTd.attr('data-is-vg-column')) === 'true';
                    if (!$currTd.hasClass('izenda-col-reorder-disabled') &&
                        isFromColumnVg === isTdColumnVg &&
                        currentTableX >= tdLeft &&
                        currentTableX < tdLeft + tdWidth) {
                        $toTd = $currTd;
                    }
                });
                // is $toTd changed?
                if ($toTd && (!$scope.reorderState.$to || $toTd.index() !== $scope.reorderState.$to.index())) {
                    $scope.reorderState.$to = $toTd;
                    $tds.removeClass('izenda-common-col-reorder-active');
                    if (!$scope.reorderState.$to.hasClass('izenda-common-col-reorder-active')) {
                        $scope.reorderState.$to.addClass('izenda-common-col-reorder-active');
                    }
                    // bubble inner content
                    var fromIndex = $scope.reorderState.$from.index();
                    var toIndex = $scope.reorderState.$to.index();
                    angular.element.each($tds, function (iTd, td) {
                        var $currTd2 = angular.element(td);
                        var $backups = $currTd2.children('.izenda-common-col-reorder-hidden');
                        if ($backups.length > 0) {
                            $currTd2.children().not('.izenda-common-col-reorder-hidden').remove();
                        }
                        $currTd2.children().removeClass('izenda-common-col-reorder-hidden');
                    });
                    var $currentTd = void 0;
                    var $nextTd = void 0;
                    var i = void 0;
                    if (fromIndex < toIndex) {
                        for (i = fromIndex; i < toIndex; i++) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i + 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                    else {
                        for (i = fromIndex; i > toIndex; i--) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i - 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                }
                // move helper
                $scope.reorderState.$helper.css('left', currentTableX - $scope.reorderState.helperOffset);
            });
            angular.element(document).on('mouseup.izendaColReorder', function () {
                if ($scope.reorderState.downTimer)
                    $timeout.cancel($scope.reorderState.downTimer);
                completeReorder();
            });
            // initialize:
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            // fieldsInTable should contain only fields which have column
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iHeaderRow, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell < fieldsInTable.length) {
                        if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                            var field = fieldsInTable[iCell];
                            $cell.attr('data-is-vg-column', field.isVgUsed ? 'true' : 'false');
                        }
                        else {
                            $cell.attr('data-is-vg-column', 'false');
                        }
                        // mouse down handler
                        $cell.on('mousedown.izendaColReorder', function (e) {
                            $scope.reorderState.started = false;
                            if (e.which !== 1)
                                return;
                            if ($scope.reorderState.downTimer)
                                $timeout.cancel($scope.reorderState.downTimer);
                            $scope.reorderState.downTimer = null;
                            $scope.reorderState.$from = angular.element(e.delegateTarget);
                            $scope.reorderState.downTimer = $timeout(function () {
                                beforeReorderStarted();
                                createHelper(e.offsetX);
                                $scope.reorderState.started = true;
                            }, 250);
                        });
                    }
                    else {
                        $cell.addClass('izenda-col-reorder-disabled');
                    }
                });
            });
        };
        /**
         * Reorder completed handler
         * @param {jquery dom element} $from. Element which we dragged
         * @param {jquery dom element} $to. $from element dropped to this element.
         */
        IzendaReportViewer.onReorder = function ($scope, $from, $to, isVg) {
            if (!angular.isFunction($scope.onReorder))
                return;
            if (!$to || !$from)
                return;
            var fromIndex = $from.index();
            var toIndex = $to.index();
            if (fromIndex === toIndex)
                return;
            if (!isVg) {
                var vgColumnsCount = IzendaReportViewer.getCountOfVgColumns($scope);
                fromIndex -= vgColumnsCount;
                toIndex -= vgColumnsCount;
            }
            $scope.onReorder({ arg0: fromIndex, arg1: toIndex, arg2: isVg });
        };
        ;
        /**
         * Add drag handlers to table
         */
        IzendaReportViewer.addDragHandlers = function ($scope, $rootScope, $element) {
            var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
            // mouse over
            if (!angular.isString($scope.droppableAccept))
                return;
            var $currenttable = $scope.$table;
            var currentTableLeft = $currenttable.offset().left;
            $htmlContainerPlaceholder.height($currenttable.height());
            var columnCoords = [];
            var $currenttableHeader = $scope.$table.find('tr.ReportHeader').last();
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            var $currenttableRows = $currenttableHeader.children('td').slice(0, fieldsInTable.length);
            var countOfVgColumns = IzendaReportViewer.getCountOfVgColumns($scope);
            // calculate 
            angular.element.each($currenttableRows, function (iTh, th) {
                var $th = angular.element(th);
                if (iTh >= countOfVgColumns) {
                    columnCoords.push({
                        left: $th.position().left,
                        width: $th.outerWidth()
                    });
                }
            });
            // mouse enter handler
            $scope.$table.on('mouseenter', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                currentTableLeft = $currenttable.offset().left;
                $htmlContainerPlaceholder.css('top', $currenttable.position().top + 'px');
                $htmlContainerPlaceholder.height($currenttable.height());
                if (columnCoords.length > 0)
                    $htmlContainerPlaceholder.css('left', columnCoords[0].left + 'px');
                $htmlContainerPlaceholder.removeClass('hidden');
            });
            // mouse leave handler
            $scope.$table.on('mouseleave', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                if (event['toElement'] && angular.element(event['toElement']).hasClass('html-container-placeholder'))
                    return;
                $htmlContainerPlaceholder.addClass('hidden');
            });
            // mouse move handler
            $scope.$table.on('mousemove', function (event) {
                if (!$rootScope.isDraggingNow)
                    return;
                var left = event.pageX - currentTableLeft;
                for (var k = 0; k < columnCoords.length; k++) {
                    var column = columnCoords[k];
                    if (k < columnCoords.length - 1) {
                        var nextColumn = columnCoords[k + 1];
                        if (column.left <= left && left < nextColumn.left) {
                            if (left <= column.left + (nextColumn.left - column.left) / 2) {
                                $htmlContainerPlaceholder.css('left', column.left + 'px');
                                $scope.currentInsertColumnOrder = k;
                                $scope.$applyAsync();
                            }
                            else {
                                $htmlContainerPlaceholder.css('left', nextColumn.left + 'px');
                                $scope.currentInsertColumnOrder = k + 1;
                                $scope.$applyAsync();
                            }
                        }
                    }
                    else {
                        if (left >= column.left + column.width / 2) {
                            $htmlContainerPlaceholder.css('left', (column.left + column.width) + 'px');
                            $scope.currentInsertColumnOrder = k + 1;
                            $scope.$applyAsync();
                        }
                        else if (left >= column.left) {
                            $htmlContainerPlaceholder.css('left', (column.left) + 'px');
                            $scope.currentInsertColumnOrder = k;
                            $scope.$applyAsync();
                        }
                    }
                }
            });
        };
        ;
        /**
         * Add table header click handler
         */
        IzendaReportViewer.addClickHandler = function ($scope) {
            if (!angular.isFunction($scope.onHeaderClick))
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iTableHeader, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell >= fieldsInTable.length)
                        return;
                    $cell.on('mousedown', function (e) {
                        if (e.which !== 1)
                            return;
                        if (!angular.isFunction($scope.onHeaderClick))
                            return;
                        var $this = angular.element(e.delegateTarget);
                        var fieldIndex = $this.index();
                        $scope.onHeaderClick({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Add buttons which allow to remvoe table columns
         */
        IzendaReportViewer.addColRemoveButtons = function ($scope) {
            if ($scope.allowColRemove !== 'true')
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            // iterate headers
            angular.element.each($headerRows, function (iHeaderRow, headerRow) {
                var $tableHeader = angular.element(headerRow);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    $cell.css('position', 'relative');
                    if (iCell >= fieldsInTable.length)
                        return;
                    // add cell handlers
                    $cell.on('mouseover.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').show();
                    });
                    $cell.on('mouseout.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').hide();
                    });
                    // add button
                    var $reportColumnRemoveButton = angular.element('<div class="izenda-common-remove-column-btn"><span class="glyphicon glyphicon-remove"></span></div>');
                    $cell.append($reportColumnRemoveButton);
                    $reportColumnRemoveButton.on('mousedown.removebtn', function (e) {
                        if (e.which !== 1)
                            return;
                        e.stopImmediatePropagation();
                        if (!angular.isFunction($scope.onRemove))
                            return;
                        var fieldIndex = angular.element(e.delegateTarget).parent().index();
                        $scope.onRemove({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Remove 'onkeydown' event and add own keydown and blur events, which call onPagingClick handler.
         * @param {} $scope Current directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls
         */
        IzendaReportViewer.preparePagingInput = function ($scope, $htmlContainer) {
            var $pageInputs = $htmlContainer.find('.iz-pagelink-exact-page-input');
            if (!$pageInputs.length)
                return;
            angular.element.each($pageInputs, function (iPageInput, pageInput) {
                var $pageInput = angular.element(pageInput);
                $pageInput.attr('onkeydown', null);
                // input changed handler
                var onInputChanged = function ($input) {
                    var pagesCount = parseInt(String($input.attr('data-pages-count')));
                    var itemsPerPage = parseInt(String($input.attr('data-items-per-page')));
                    var val = Number($input.val());
                    if (val < 1)
                        val = 1;
                    if (val > pagesCount)
                        val = pagesCount;
                    var startRecord = ((val - 1) * itemsPerPage) + 1;
                    var finishRecord = startRecord + itemsPerPage - 1;
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink-exact-page-input',
                        arg1: startRecord + '-' + finishRecord
                    });
                };
                $pageInput.on('blur', function (event) {
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
                $pageInput.on('keydown', function (event) {
                    var kc = event.keyCode || event.which;
                    if (kc !== 13)
                        return;
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event, which call onPagingClick handler.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.preparePageLinks = function ($scope, $htmlContainer) {
            var $pageLinks = $htmlContainer.find('.iz-pagelink, .iz-pagelink-direction-btn');
            if (!$pageLinks.length || !angular.isFunction($scope.onPagingClick))
                return;
            angular.element.each($pageLinks, function (iPageLink, pageLink) {
                var $pageLink = angular.element(pageLink);
                var onClickScript = String($pageLink.attr('onclick'));
                var matchResult = /results=(\d+\-\d+)/g.exec(onClickScript);
                if (matchResult && matchResult.length === 2)
                    $pageLink.attr('data-active-page', matchResult[1]);
                $pageLink.attr('onclick', null);
                $pageLink.on('click', function (e) {
                    var $currentLink = angular.element(e.delegateTarget);
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink',
                        arg1: $currentLink.attr('data-active-page')
                    });
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.prepareGoToRecordBtn = function ($scope, $htmlContainer) {
            var $btn = $htmlContainer.find('.iz-pagelink-go-to-page-btn');
            $btn.attr('onclick', null);
            $btn.on('click', function (e) {
                var $this = angular.element(e.delegateTarget);
                var itemsCount = parseInt(String($this.attr('data-items-count')));
                var itemsPerPage = parseInt(String($this.attr('data-items-per-page')));
                var inputValue;
                try {
                    inputValue = parseInt(String(angular.element('#pageNumEd').val()));
                }
                catch (e) {
                    inputValue = 1;
                }
                if (itemsCount < inputValue)
                    inputValue = itemsCount;
                var startRecord = inputValue - (inputValue - 1) % itemsPerPage;
                var finishRecord = startRecord + itemsPerPage - 1;
                $scope.onPagingClick({
                    arg0: 'iz-pagelink-exact-page-input',
                    arg1: startRecord + '-' + finishRecord
                });
            });
        };
        IzendaReportViewer.factory = function () {
            var directive = function ($rootScope, $timeout) {
                return new IzendaReportViewer($rootScope, $timeout);
            };
            directive.$inject = ['$rootScope', '$timeout'];
            return directive;
        };
        return IzendaReportViewer;
    }());
    module_definition_13.default.directive('izendaReportViewer', ['$rootScope', '$timeout', IzendaReportViewer.factory()]);
});
izendaRequire.define("common/ui/directives/select-checkboxes", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_14) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select checkboxes directive.
     */
    var IzendaSelectCheckboxes = /** @class */ (function () {
        function IzendaSelectCheckboxes() {
            this.restrict = 'AE';
            this.scope = {
                existentValues: '=',
                ngModel: '='
            };
            this.template = "<div ng-repeat=\"existentValue in existentValues\">\n\t<label class=\"izenda-common-select-checkboxes-label\">\n\t\t<input type=\"checkbox\" ng-click=\"clickCheckbox(existentValue)\" ng-checked=\"isChecked(existentValue)\"/>\n\t\t<span ng-bind=\"existentValue.text\"></span>\n\t</label>\n</div>";
            IzendaSelectCheckboxes.prototype.link = function ($scope, $element, attrs) {
                $element.addClass('izenda-common-select-checkboxes');
                $scope.$watch('existentValues', function () { return $scope.$parent.$eval(attrs.ngChange); }, true);
                $scope.$watchCollection('ngModel', function () { return $scope.$parent.$eval(attrs.ngChange); });
                $scope.isChecked = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    return viewValue.indexOf(existentValue.value) >= 0;
                };
                $scope.clickCheckbox = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    if (viewValue.indexOf(existentValue.value) >= 0)
                        viewValue.splice(viewValue.indexOf(existentValue.value), 1);
                    else
                        viewValue.push(existentValue.value);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSelectCheckboxes.factory = function () {
            return function () { return new IzendaSelectCheckboxes(); };
        };
        return IzendaSelectCheckboxes;
    }());
    module_definition_14.default.directive('izendaSelectCheckboxes', [IzendaSelectCheckboxes.factory()]);
});
izendaRequire.define("common/ui/directives/splashscreen", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_15) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaSplashScreen = /** @class */ (function () {
        function IzendaSplashScreen($timeout, $izendaUrlService) {
            this.$timeout = $timeout;
            this.restrict = 'EA';
            this.scope = {
                ngShow: '=',
                text: '=',
                loadingIndicatorUrl: '@',
                parentSelector: '@'
            };
            IzendaSplashScreen.prototype.link = function ($scope) {
                var splashTimeout = null;
                var template = "<div class=\"izenda-common-splashscreen hidden\">\n\t<div class=\"izenda-common-splashscreen-inner text-center\">\n\t\t<img class=\"izenda-common-splashscreen-loading\"/>\n\t\t<span class=\"izenda-common-splashscreen-text\"></span>\n\t</div>\n</div>";
                var $element = angular.element(template);
                var added = false;
                // loading spinner
                var defaultLoadingIndicatorUrl = angular.isString($scope.loadingIndicatorUrl)
                    ? $scope.loadingIndicatorUrl
                    : $izendaUrlService.settings.urlRpPage + 'image=ModernImages.loading-grid.gif';
                var parentSelectorText = angular.isString($scope.parentSelector) ? $scope.parentSelector : 'body';
                var bodyOverflow;
                var bodyPadding;
                var $body;
                var initialize = function () {
                    $element.find('.izenda-common-splashscreen-loading').attr('src', defaultLoadingIndicatorUrl);
                    $body = angular.element(parentSelectorText);
                    if ($body.length > 0 && !added) {
                        bodyOverflow = $body.css('overflow');
                        bodyPadding = $body.css('padding-left');
                        $body.append($element);
                        added = true;
                    }
                };
                var setText = function () {
                    var $inner = $element.find('.izenda-common-splashscreen-text');
                    $inner.text($scope.text);
                };
                var bodyHasScrollbar = function () {
                    return $body.length > 0 && $body.get(0).scrollHeight > $body.height();
                };
                var showSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                    }
                    splashTimeout = $timeout(function () {
                        $element.removeClass('hidden');
                        bodyOverflow = $body.css('overflow');
                        $body.css('overflow', 'hidden');
                        if (bodyHasScrollbar()) {
                            bodyPadding = $body.css('padding-left');
                            $body.css('padding-right', '17px');
                        }
                    }, 1000);
                };
                var hideSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                        $element.addClass('hidden');
                        $body.css('overflow', bodyOverflow);
                        if (bodyHasScrollbar()) {
                            $body.css('padding-right', bodyPadding);
                        }
                    }
                };
                $scope.$watch('ngShow', function (newVal) {
                    if (newVal)
                        showSplash();
                    else
                        hideSplash();
                });
                $scope.$watch('text', function () { return setText(); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSplashScreen.factory = function () {
            var directive = function ($timeout, $izendaUrlService) { return new IzendaSplashScreen($timeout, $izendaUrlService); };
            directive.$inject = ['$timeout', '$izendaUrlService'];
            return directive;
        };
        return IzendaSplashScreen;
    }());
    module_definition_15.default.directive('izendaSplashScreen', ['$timeout', '$izendaUrlService', IzendaSplashScreen.factory()]);
});
izendaRequire.define("common/ui/directives/switcher", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_16) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Switcher directive
     */
    var IzendaSwitcher = /** @class */ (function () {
        function IzendaSwitcher() {
            this.restrict = 'A';
            this.scope = {
                tooltip: '=',
                label: '=',
                ngModel: '='
            };
            this.template = "<span ng-show=\"label != null && label != ''\" class=\"izenda-common-switcher-label\">{{label}}</span>\n<span class=\"izenda-common-switcher\" title=\"{{tooltip}}\">\n\t<span class=\"izenda-common-switcher-text-off\">O</span>\n\t<span class=\"izenda-common-switcher-item\"></span>\n\t<span class=\"izenda-common-switcher-text-on\">I</span>\n</span>";
            IzendaSwitcher.prototype.link = function ($scope, $element) {
                $element.click(function (e) {
                    e.stopPropagation();
                    $scope.ngModel = !$scope.ngModel;
                    $scope.$parent.$apply();
                });
                var $switcher = $element.find('.izenda-common-switcher');
                $scope.$watch('ngModel', function (newVal) {
                    if (newVal)
                        $switcher.addClass('on');
                    else
                        $switcher.removeClass('on');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSwitcher.factory = function () {
            return function () { return new IzendaSwitcher(); };
        };
        return IzendaSwitcher;
    }());
    module_definition_16.default.directive('izendaSwitcher', [IzendaSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/toggle-button", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_17) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Toggle button directive
     */
    var IzendaToggleButton = /** @class */ (function () {
        function IzendaToggleButton() {
            this.restrict = 'EA';
            this.transclude = true;
            this.require = ['ngModel'];
            this.scope = {
                trueValue: '=',
                falseValue: '='
            };
            this.template = "<span type=\"button\" class=\"btn izenda-toggle-button-btn active\" data-toggle=\"button\">\n\t<ng-transclude></ng-transclude>\n</span>";
            IzendaToggleButton.prototype.link = function ($scope, $element, attrs, requiredParams) {
                var ngModel = requiredParams[0];
                var btn = $element.children('.btn');
                $scope.$parent.$watch(attrs.ngModel, function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    if (newVal == $scope.trueValue) {
                        if (btn.hasClass('active')) {
                            btn.removeClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                    else if (newVal == $scope.falseValue) {
                        if (!btn.hasClass('active')) {
                            btn.addClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                });
                if (ngModel.$viewValue === $scope.trueValue) {
                    if (btn.hasClass('active')) {
                        btn.removeClass('active');
                    }
                }
                else if (ngModel.$viewValue === $scope.falseValue) {
                    if (!btn.hasClass('active')) {
                        btn.addClass('active');
                    }
                }
                $element.on('click', function () { return ngModel.$setViewValue(!ngModel.$viewValue); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToggleButton.factory = function () {
            return function () { return new IzendaToggleButton(); };
        };
        return IzendaToggleButton;
    }());
    module_definition_17.default.directive('izendaToggleButton', [IzendaToggleButton.factory()]);
});
izendaRequire.define("common/ui/components/schedule/schedule-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/settings-service", "common/ui/services/schedule-service", "izenda-external-libs"], function (require, exports, module_definition_18, izenda_component_4, localization_service_3, settings_service_2, schedule_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Schedule component definition
     */
    var IzendaScheduleComponent = /** @class */ (function () {
        function IzendaScheduleComponent($izendaLocaleService, $izendaSettingsService, $izendaScheduleService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaScheduleService = $izendaScheduleService;
        }
        /**
         * Component init
         */
        IzendaScheduleComponent.prototype.$onInit = function () {
            this.dateFormat = this.$izendaSettingsService.dateFormat;
            this.culture = this.$izendaSettingsService.culture;
        };
        IzendaScheduleComponent = __decorate([
            izenda_component_4.default(module_definition_18.default, 'izendaScheduleComponent', ['$izendaLocaleService', '$izendaSettingsService', '$izendaScheduleService'], {
                templateUrl: '###RS###extres=components.common.ui.components.schedule.schedule-template.html',
                bindings: {
                    scheduleConfig: '=',
                    repeatTypes: '<',
                    emailTypes: '<',
                    timezones: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_3.default,
                settings_service_2.default,
                schedule_service_1.default])
        ], IzendaScheduleComponent);
        return IzendaScheduleComponent;
    }());
    exports.default = IzendaScheduleComponent;
});
izendaRequire.define("common/ui/components/select-report/select-report-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_19, izenda_component_5, localization_service_4, url_service_2, settings_service_3, common_query_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report component definition
     */
    var IzendaSelectReportComponent = /** @class */ (function () {
        function IzendaSelectReportComponent($timeout, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.uncategorizedText = this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.reset();
        }
        IzendaSelectReportComponent.prototype.$onChanges = function (changesObj) {
            var _this = this;
            if (!changesObj.opened)
                return;
            var currentOpened = changesObj.opened.currentValue;
            if (currentOpened) {
                this.reset();
                this.openedInner = true;
                // timeout is needed for the smoother modal animation
                this.$timeout(function () {
                    _this.hideAll = false;
                    _this.$izendaCommonQueryService.getReportSetCategory(_this.uncategorizedText).then(function (data) {
                        var reportSets = data.ReportSets;
                        _this.addCategoriesToModal(reportSets);
                        _this.addReportsToModal(reportSets);
                        _this.isLoading = false;
                    });
                }, 1000);
            }
        };
        /**
         * Add report parts to modal
         */
        IzendaSelectReportComponent.prototype.addReportPartsToModal = function (reportParts) {
            this.groups = [];
            if (!reportParts || !reportParts.length)
                return;
            // add groups:
            var currentGroup = [];
            for (var i = 0; i < reportParts.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportPart = reportParts[i];
                reportPart.isReportPart = true;
                currentGroup.push(reportPart);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Add reportset categories to modal select control.
         */
        IzendaSelectReportComponent.prototype.addCategoriesToModal = function (reportSets) {
            var _this = this;
            if (!reportSets)
                return;
            this.categories = reportSets
                .filter(function (report) { return !report.Dashboard; })
                .map(function (report) {
                var category = report.Category ? report.Category : _this.uncategorizedText;
                return !report.Subcategory
                    ? category
                    : category + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
            });
            // make categories unique
            this.categories = Array.from(new Set(this.categories));
            if (!this.category)
                this.category = this.uncategorizedText;
        };
        /**
         * Add report to modal dialog body.
         */
        IzendaSelectReportComponent.prototype.addReportsToModal = function (reportSets) {
            this.groups = [];
            var reportSetsToShow = [];
            if (reportSets && reportSets.length)
                reportSetsToShow = reportSets.filter(function (rs) { return !rs.Dashboard && rs.Name; });
            if (!reportSetsToShow || !reportSetsToShow.length)
                return;
            // add groups:
            var currentGroup = [];
            this.groups.length = 0;
            for (var i = 0; i < reportSetsToShow.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportSet = reportSetsToShow[i];
                reportSet.isReportPart = false;
                currentGroup.push(reportSet);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Select category handler
         */
        IzendaSelectReportComponent.prototype.categoryChangedHandler = function () {
            var _this = this;
            if (this.isLoading)
                return;
            this.isLoading = true;
            this.groups = [];
            if (!this.category)
                this.category = this.uncategorizedText;
            this.$izendaCommonQueryService.getReportSetCategory(this.category).then(function (data) {
                _this.addReportsToModal(data.ReportSets);
                _this.isLoading = false;
            });
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * User clicked to report set item
         */
        IzendaSelectReportComponent.prototype.itemSelectedHandler = function (item) {
            var _this = this;
            var isReportPart = item.isReportPart;
            var reportFullName = item.Name;
            if (item.CategoryFull)
                reportFullName = item.CategoryFull + this.$izendaSettingsService.getCategoryCharacter() + reportFullName;
            if (!isReportPart) {
                // if report set selected
                this.isLoading = true;
                this.groups = [];
                this.$izendaCommonQueryService.getReportParts(reportFullName).then(function (data) {
                    var reports = data.Reports;
                    _this.addReportPartsToModal(reports);
                    _this.isLoading = false;
                });
            }
            else {
                this.openedInner = false;
                // if report part selected
                if (angular.isFunction(this.onSelected))
                    this.onSelected({ reportPartInfo: item });
            }
        };
        /**
         * Reset form
         */
        IzendaSelectReportComponent.prototype.reset = function () {
            this.openedInner = false;
            this.category = this.uncategorizedText;
            this.categories = [];
            this.groups = [];
            this.isLoading = true;
            this.hideAll = true;
        };
        IzendaSelectReportComponent = __decorate([
            izenda_component_5.default(module_definition_19.default, 'izendaSelectReportComponent', ['$timeout', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report.select-report-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_4.default,
                url_service_2.default,
                settings_service_3.default,
                common_query_service_2.default])
        ], IzendaSelectReportComponent);
        return IzendaSelectReportComponent;
    }());
    exports.default = IzendaSelectReportComponent;
});
izendaRequire.define("common/ui/components/select-report-name/select-report-name-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_20, izenda_component_6, localization_service_5, url_service_3, settings_service_4, common_query_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report name component definition
     */
    var IzendaSelectReportNameComponent = /** @class */ (function () {
        function IzendaSelectReportNameComponent($q, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService, reportNameInputPlaceholderText, reportNameEmptyError, reportNameInvalidError) {
            this.$q = $q;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reportNameEmptyError = reportNameEmptyError;
            this.reportNameInvalidError = reportNameInvalidError;
            // other
            this.nextId = 1;
            this.isCategoryAllowed = $izendaSettingsService.getCommonSettings().showCategoryTextboxInSaveDialog;
            this.reportNameInputPlaceholderText = this.$izendaLocaleService
                .localeText(reportNameInputPlaceholderText[0], reportNameInputPlaceholderText[1]);
            this.textCreateNew = $izendaLocaleService.localeText('js_CreateNew', 'Create New');
            this.textUncategorized = $izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.textErrorReportNameEmpty = $izendaLocaleService.localeText(reportNameEmptyError[0], reportNameEmptyError[1]);
            this.textErrorInvalidReportName = $izendaLocaleService.localeText(reportNameInvalidError[0], reportNameInvalidError[1]);
            this.textErrorInvalidCategoryName = $izendaLocaleService.localeText('js_InvalidCategoryName', 'Invalid Category Name');
            this.isOpenedInner = false;
            this.isNewReportDialog = false;
            this.reportName = '';
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.errorMessages = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        }
        IzendaSelectReportNameComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.opened) {
                var currentOpened = changesObj.opened.currentValue;
                if (currentOpened)
                    this.openModal();
            }
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportNameComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * Close modal dialog
         */
        IzendaSelectReportNameComponent.prototype.closeModal = function () {
            this.isOpenedInner = false;
        };
        /**
         * Open modal dialog
         */
        IzendaSelectReportNameComponent.prototype.openModal = function () {
            var _this = this;
            this.isSelectDisabled = true;
            this.isOpenedInner = true;
            this.resetForm();
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.nextId = 1;
            // show loading message inside select control
            this.categories = [];
            this.categories.push({
                id: -1,
                name: this.$izendaLocaleService.localeText('js_Loading', 'Loading...')
            });
            this.selectedCategory = this.categories[0];
            this.reportName = reportInfo.name;
            this.$izendaCommonQueryService.getReportSetCategory(this.textUncategorized).then(function (data) {
                _this.categories = [];
                _this.selectedCategory = null;
                _this.reportSets = data.ReportSets;
                // add categories
                // "Create new"
                if (_this.$izendaSettingsService.getCommonSettings().allowCreateNewCategory)
                    _this.categories.push({
                        id: _this.nextId++,
                        name: _this.textCreateNew
                    });
                // "Uncategorized"
                _this.categories.push({
                    id: _this.nextId++,
                    name: _this.textUncategorized
                });
                _this.selectedCategory = _this.getCategoryObjectByName(_this.textUncategorized);
                // Other categories
                if (angular.isArray(_this.reportSets)) {
                    _this.reportSets.forEach(function (report) {
                        var id = _this.nextId++;
                        var currentCategoryName = report.Category;
                        if (!currentCategoryName)
                            currentCategoryName = _this.textUncategorized;
                        currentCategoryName = !report.Subcategory
                            ? currentCategoryName
                            : currentCategoryName + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
                        if (_this.categories && _this.categories.length) {
                            if (!_this.categories.find(function (c) { return c.name === currentCategoryName; })) {
                                // if have't already added
                                var cat = {
                                    id: id,
                                    name: currentCategoryName
                                };
                                _this.categories.push(cat);
                                if (reportInfo.category === currentCategoryName) {
                                    _this.selectedCategory = cat;
                                }
                            }
                        }
                    });
                }
                _this.isSelectDisabled = false;
            });
        };
        /**
         * "Enter" button key press handler for report name <input>
         * @param {event object} $event.
         */
        IzendaSelectReportNameComponent.prototype.reportNameKeyPressed = function ($event) {
            if ($event.keyCode === 13 /* Enter */)
                this.completeHandler();
        };
        /**
         * OK button pressed
         */
        IzendaSelectReportNameComponent.prototype.completeHandler = function () {
            var _this = this;
            this.validateForm().then(function () {
                _this.closeModal();
                var categoryName = _this.isCreatingNewCategory ? _this.newCategoryName : _this.selectedCategory.name;
                if (angular.isFunction(_this.onSelected)) {
                    _this.onSelected({
                        reportName: _this.reportName,
                        categoryName: categoryName
                    });
                }
            }, function () { });
        };
        /**
         * Get report with given name from report list
         * @param {string} report name.
         * @param {Array} list with reports.
         */
        IzendaSelectReportNameComponent.prototype.isReportInReportList = function (reportName, reportList) {
            if (!reportList || !reportList.length)
                return false;
            return reportList.find(function (rs) { return rs.Name === reportName.trim(); });
        };
        /**
         * Set form to it's initial state
         */
        IzendaSelectReportNameComponent.prototype.resetForm = function () {
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.errorMessages = [];
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
            if (this.isNewReportDialog) {
                this.reportName = '';
            }
            else {
                var separatorIndex = (reportInfo && reportInfo.name)
                    ? reportInfo.name.lastIndexOf(this.$izendaSettingsService.getCategoryCharacter())
                    : -1;
                this.reportName = (separatorIndex < 0) ? reportInfo.name : reportInfo.name.substr(separatorIndex + 1);
            }
        };
        /**
         * Clear all focus
         */
        IzendaSelectReportNameComponent.prototype.clearFocus = function () {
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        };
        /**
         * Set focus on report name input
         */
        IzendaSelectReportNameComponent.prototype.setFocus = function () {
            this.isNameFocused = true;
        };
        /**
         * Categories were updated.
         */
        IzendaSelectReportNameComponent.prototype.updateCategoriesHandler = function (newCategories) {
            var _this = this;
            this.categories = newCategories.map(function (newCategoryName) {
                return {
                    id: _this.nextId++,
                    name: newCategoryName
                };
            });
            var selectedCategoryName = this.selectedCategory ? this.selectedCategory.name : null;
            this.selectedCategory = this.getCategoryObjectByName(selectedCategoryName);
        };
        /**
         * Report category selected handler
         */
        IzendaSelectReportNameComponent.prototype.categorySelectedHandler = function (category) {
            if (!this.isCategoryAllowed) {
                this.selectedCategory = this.getCategoryObjectByName(this.textUncategorized);
                return;
            }
            this.selectedCategory = this.getCategoryObjectByName(category);
            if (this.selectedCategory !== null) {
                if (this.selectedCategory.name === this.textCreateNew) {
                    this.isCreatingNewCategory = true;
                    this.clearFocus();
                    this.isCategoryFocused = true;
                }
                else {
                    this.isCreatingNewCategory = false;
                }
            }
            else {
                this.isCreatingNewCategory = false;
            }
        };
        /**
         * Validate form
         */
        IzendaSelectReportNameComponent.prototype.validateForm = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                // check report name not empty
                _this.errorMessages.length = 0;
                _this.reportName = angular.isString(_this.reportName) ? _this.reportName.trim() : '';
                if (!_this.reportName) {
                    _this.errorMessages.push(_this.textErrorReportNameEmpty);
                    reject();
                    return false;
                }
                // check report name is valid
                var settings = _this.$izendaSettingsService.getCommonSettings();
                var reportNameFixed = window.utility.fixReportNamePath(_this.reportName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                if (!reportNameFixed) {
                    _this.errorMessages.push(_this.textErrorInvalidReportName);
                    reject();
                    return false;
                }
                _this.reportName = reportNameFixed;
                // check category
                if (_this.isCreatingNewCategory) {
                    var fixedCategoryName = window.utility.fixReportNamePath(_this.newCategoryName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                    if (!fixedCategoryName) {
                        _this.errorMessages.push(_this.textErrorInvalidCategoryName);
                        reject();
                        return false;
                    }
                    _this.newCategoryName = fixedCategoryName;
                    for (var i = 0; i < _this.categories.length; i++) {
                        if (_this.newCategoryName === _this.categories[i]['name']) {
                            _this.errorMessages.push(_this.getErrorTextCategoryExist(_this.newCategoryName));
                            reject();
                            return false;
                        }
                    }
                    resolve();
                    return true;
                }
                // check report name
                var selectedCategoryName = _this.selectedCategory.name;
                // resolve if it is same report
                var reportInfo = _this.$izendaUrlService.getReportInfo();
                if (reportInfo.name === _this.reportName && reportInfo.category === selectedCategoryName) {
                    _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                        _this.$izendaSettingsService.getCategoryCharacter() +
                        _this.reportName));
                    reject();
                    return false;
                }
                // check report isn't in that category
                if (selectedCategoryName === _this.textUncategorized) {
                    if (_this.isReportInReportList(_this.reportName, _this.reportSets)) {
                        _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                            _this.$izendaSettingsService.getCategoryCharacter() +
                            _this.reportName));
                        reject();
                        return false;
                    }
                    resolve();
                    return true;
                }
                else {
                    _this.$izendaCommonQueryService.getReportSetCategory(selectedCategoryName).then(function (data) {
                        _this.reportSets = data.ReportSets;
                        if (_this.isReportInReportList(_this.reportName, data.ReportSets)) {
                            _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                                _this.$izendaSettingsService.getCategoryCharacter() +
                                _this.reportName));
                            reject();
                            return false;
                        }
                        resolve();
                        return true;
                    });
                }
                return true;
            });
        };
        /**
         * Get category object by it's id
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectById = function (id) {
            return this.categories.find(function (category) { return category.id === id; }) || null;
        };
        /**
         * Get category object by it's name
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectByName = function (name) {
            return this.categories.find(function (category) { return category.name === name; }) || null;
        };
        IzendaSelectReportNameComponent.prototype.getInvalidCharsRegex = function () {
            var additionalCharacter = '';
            if (jsResources.categoryCharacter !== '\\')
                additionalCharacter = jsResources.categoryCharacter.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
            return new RegExp('[^A-Za-z0-9_/' + additionalCharacter + "\\-'' \\\\]", 'g');
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextCategoryExist = function (categoryName) {
            return this.$izendaLocaleService.localeTextWithParams('js_CategoryExist', 'Category with name "{0}" already exist.', [categoryName]);
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextReportExist = function (fullReportName) {
            return this.$izendaLocaleService.localeTextWithParams('js_ReportAlreadyExist', 'Dashboard or report "{0}" already exist', [fullReportName]);
        };
        IzendaSelectReportNameComponent = __decorate([
            izenda_component_6.default(module_definition_20.default, 'izendaSelectReportNameComponent', ['$q', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService', 'izenda.common.ui.reportNameInputPlaceholderText',
                'izenda.common.ui.reportNameEmptyError', 'izenda.common.ui.reportNameInvalidError'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report-name.select-report-name-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_5.default,
                url_service_3.default,
                settings_service_4.default,
                common_query_service_3.default, Array, String, String])
        ], IzendaSelectReportNameComponent);
        return IzendaSelectReportNameComponent;
    }());
    exports.default = IzendaSelectReportNameComponent;
    /**
     * Directive docs.
     */
    var IzendaCategorySelect = /** @class */ (function () {
        function IzendaCategorySelect($izendaSettingsService) {
            this.$izendaSettingsService = $izendaSettingsService;
            this.restrict = 'A';
            this.scope = {
                categories: '=',
                category: '=',
                onSelect: '&',
                onCategoriesChanged: '&'
            };
            IzendaCategorySelect.prototype.link = function ($scope, $element) {
                var categoryCharacter = $izendaSettingsService.getCategoryCharacter();
                var commonSettings = $izendaSettingsService.getCommonSettings();
                var stripInvalidCharacters = commonSettings.stripInvalidCharacters;
                var allowInvalidCharacters = commonSettings.allowInvalidCharacters;
                var categoryControl = new AdHoc.Utility.IzendaCategorySelectorControl($element, categoryCharacter, stripInvalidCharacters, allowInvalidCharacters);
                categoryControl.addSelectedHandler(function (val) {
                    if (angular.isFunction($scope.onSelect)) {
                        $scope.onSelect({
                            val: val
                        });
                        $scope.$applyAsync();
                    }
                });
                // watch for collapsed state change
                $scope.$watchCollection('categories', function () {
                    updateCategories();
                    updateCategory();
                });
                $scope.$watch('category', function () {
                    updateCategory();
                });
                function updateCategories() {
                    var previousLength = $scope.categories.length;
                    categoryControl.setCategories($scope.categories);
                    var newCategories = collectCategories();
                    if (previousLength !== newCategories.length && angular.isFunction($scope.onCategoriesChanged)) {
                        $scope.onCategoriesChanged({
                            newCategories: newCategories
                        });
                        $scope.$applyAsync();
                    }
                }
                function updateCategory() {
                    if (angular.isObject($scope.category) && $scope.category.id !== 1) {
                        categoryControl.select($scope.category.name);
                    }
                }
                function collectCategories() {
                    var options = angular.element.map($element.children('option'), function ($option) {
                        return $option.value;
                    });
                    return options;
                }
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaCategorySelect.factory = function () {
            var directive = function ($izendaSettingsService) { return new IzendaCategorySelect($izendaSettingsService); };
            directive.$inject = ['$izendaSettingsService'];
            return directive;
        };
        return IzendaCategorySelect;
    }());
    module_definition_20.default.directive('izendaCategorySelect', ['$izendaSettingsService', IzendaCategorySelect.factory()]);
    var CategoryObject = /** @class */ (function () {
        function CategoryObject() {
        }
        return CategoryObject;
    }());
});
izendaRequire.define("common/ui/components/share/share-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/ui/services/share-service", "izenda-external-libs"], function (require, exports, module_definition_21, izenda_component_7, localization_service_6, share_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaShareComponent = /** @class */ (function () {
        function IzendaShareComponent($izendaLocaleService, $izendaShareService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaShareService = $izendaShareService;
        }
        /**
         * Check is share rule selected right is valid
         */
        IzendaShareComponent.prototype.getShareRuleValidationMessage = function (shareRule) {
            if (!shareRule.right && !shareRule.subject)
                return this.$izendaLocaleService.localeText('js_NessesarySelectRight', 'It is necessary to choose the right, otherwise it will be ignored.');
            return null;
        };
        /**
         * Remove share rule handler.
         * @param {Core.IzendaShareRuleModel} shareRule
         */
        IzendaShareComponent.prototype.removeShareRule = function (shareRule) {
            this.$izendaShareService.removeShareRule(shareRule);
        };
        /**
         * Add share rule
         */
        IzendaShareComponent.prototype.addShareRule = function () {
            this.$izendaShareService.addNewShareRule();
        };
        IzendaShareComponent = __decorate([
            izenda_component_7.default(module_definition_21.default, 'izendaShareComponent', ['$izendaLocaleService', '$izendaShareService'], {
                templateUrl: '###RS###extres=components.common.ui.components.share.share-template.html',
                bindings: {
                    subjects: '<',
                    rights: '<',
                    shareRules: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_6.default,
                share_service_1.default])
        ], IzendaShareComponent);
        return IzendaShareComponent;
    }());
    exports.default = IzendaShareComponent;
});
izendaRequire.define("common/ui/module", ["require", "exports", "common/ui/module-definition", "common/ui/services/share-service", "common/ui/services/schedule-service", "common/ui/directives/align-switcher", "common/ui/directives/autocomplete", "common/ui/directives/bootstrap", "common/ui/directives/color-picker", "common/ui/directives/datetime-picker", "common/ui/directives/report-viewer", "common/ui/directives/select-checkboxes", "common/ui/directives/splashscreen", "common/ui/directives/switcher", "common/ui/directives/toggle-button", "common/ui/components/schedule/schedule-component", "common/ui/components/select-report/select-report-component", "common/ui/components/select-report-name/select-report-name-component", "common/ui/components/share/share-component"], function (require, exports, module_definition_22, share_service_2, schedule_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    share_service_2.default.register(module_definition_22.default);
    schedule_service_2.default.register(module_definition_22.default);
});
izendaRequire.define("dashboard/module-definition", ["require", "exports", "angular", "common/common-module-definition", "common/ui/module-definition", "izenda-external-libs", "common/core/module", "common/query/module", "common/ui/module"], function (require, exports, angular, common_module_definition_1, module_definition_23) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    // Create dashboards angular module
    var izendaDashboardModule = angular.module('izendaDashboard', [
        'ngCookies',
        'rx',
        'izenda.common.core',
        'izenda.common.query',
        'izenda.common.ui',
        'izendaFilters'
    ]);
    exports.default = izendaDashboardModule;
    // configure common ui module:
    module_definition_23.default
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_DashboardName', 'Dashboard Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_DashboardNameCantBeEmpty', 'Dashboard name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidDashboardName', 'Invalid dashboard Name']);
    var IzendaDashboardsLoader = /** @class */ (function () {
        function IzendaDashboardsLoader() {
        }
        /**
         * Create and configure modules
         */
        IzendaDashboardsLoader.configureModules = function (configObject) {
            var dashboardSettings = configObject;
            var dashboardConfig = {
                showDashboardToolbar: true,
                defaultDashboardCategory: null,
                defaultDashboardName: null,
                dashboardToolBarItemsSort: function (item1, item2) { return item1.localeCompare(item2); }
            };
            // configure instant report module
            var module = angular
                .module('izendaDashboard')
                .constant('izendaDashboardConfig', dashboardConfig)
                .config(['$logProvider', function ($logProvider) { $logProvider.debugEnabled(false); }])
                .config([
                '$provide', function ($provide) {
                    $provide.decorator('$browser', [
                        '$delegate', function ($delegate) {
                            $delegate.onUrlChange = function () { };
                            $delegate.url = function () { return ''; };
                            return $delegate;
                        }
                    ]);
                }
            ])
                .constant('$izendaDashboardSettings', dashboardSettings);
            return module;
        };
        /**
         * Bootstrap angular app:
         * window.urlSettings$ objects should be defined before this moment.
         */
        IzendaDashboardsLoader.bootstrap = function () {
            angular.element(document).ready(function () {
                // common settings promise:
                var commonQuerySettingsPromise = common_module_definition_1.IzendaCommonLoader.loadSettings();
                // instant report settings promise:
                var urlSettings = window.urlSettings$;
                var rsPageUrl = urlSettings.urlRsPage;
                var settingsUrl = rsPageUrl + '?wscmd=getDashboardSettings';
                var dashboardsSettingsPromise = angular.element.get(settingsUrl);
                // wait while all settings are loaded:
                angular.element
                    .when(commonQuerySettingsPromise, dashboardsSettingsPromise)
                    .then(function (commonSettingsResult, dashboardsSettingsResult) {
                    // get instant report config object
                    var configObject = dashboardsSettingsResult[0];
                    // create and configure modules:
                    IzendaDashboardsLoader.configureModules(configObject);
                    // bootstrap application:
                    angular.bootstrap('#izendaDashboardMainContainer', ['izendaDashboard']);
                });
            });
        };
        ;
        return IzendaDashboardsLoader;
    }());
    exports.IzendaDashboardsLoader = IzendaDashboardsLoader;
});
izendaRequire.define("dashboard/services/background-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard storage service. Stores current dashboard state.
     */
    var DashboardBackgroundService = /** @class */ (function () {
        function DashboardBackgroundService($cookies) {
            this.$cookies = $cookies;
            this.hueRotate = false;
        }
        Object.defineProperty(DashboardBackgroundService, "injectModules", {
            get: function () {
                return ['$cookies', '$rootScope'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "finalBackgroundImageUrl", {
            get: function () {
                return this.backgroundImageType === 'file'
                    ? this.backgroundImageBase64
                    : this.backgroundImageUrl;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundHueRotate", {
            // hueRotate get/set
            get: function () {
                return this.hueRotate;
            },
            set: function (val) {
                this.hueRotate = val;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundColor", {
            // color get/set
            get: function () {
                var backColor = this.getCookie('izendaDashboardBackgroundColor');
                return backColor || '#1c8fd6';
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundColor', val);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageRepeat", {
            // image repeat get/set
            get: function () {
                return this.getCookie('izendaDashboardBackgroundImageRepeat') === 'true';
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundImageRepeat', val ? 'true' : 'false');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageType", {
            // backgroundImageType get/set
            get: function () {
                return this.getCookie('izendaDashboardBackgroundImageType');
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundImageType', val);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageBase64", {
            // backgroundImageBase64 get/set
            get: function () {
                var result = '';
                if (this.isStorageAvailable()) {
                    var dataImage = localStorage.getItem('izendaDashboardBackgroundImageBase64');
                    if (angular.isString(dataImage))
                        result = dataImage;
                }
                else {
                    this.getCookie('izendaDashboardBackgroundImageBase64');
                }
                return result;
            },
            set: function (val) {
                if (this.isStorageAvailable()) {
                    if (val != null)
                        localStorage.setItem('izendaDashboardBackgroundImageBase64', val);
                    else
                        localStorage.removeItem('izendaDashboardBackgroundImageBase64');
                }
                else {
                    this.setCookie('izendaDashboardBackgroundImageBase64', val);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageUrl", {
            // image url get/set
            get: function () {
                return this.getCookie('izendaDashboardBackgroundImageUrl');
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundImageUrl', val);
            },
            enumerable: true,
            configurable: true
        });
        // utility functions
        DashboardBackgroundService.prototype.getCookie = function (name) {
            return this.$cookies.get(name);
        };
        DashboardBackgroundService.prototype.setCookie = function (name, value) {
            this.$cookies.put(name, value);
        };
        DashboardBackgroundService.prototype.isStorageAvailable = function () {
            return typeof (Storage) !== 'undefined';
        };
        Object.defineProperty(DashboardBackgroundService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardBackgroundService.register = function (module) {
            module.service('$izendaBackgroundService', DashboardBackgroundService.injectModules.concat(DashboardBackgroundService));
        };
        return DashboardBackgroundService;
    }());
    exports.default = DashboardBackgroundService;
});
izendaRequire.define("dashboard/model/tile-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda dashboard tile model class
     */
    var IzendaDashboardTileModel = /** @class */ (function () {
        function IzendaDashboardTileModel(isNew, json) {
            this.isNew = false;
            this.isSourceReportDeleted = false;
            this.title = '';
            this.description = '';
            this.x = 0;
            this.y = 0;
            this.width = 6;
            this.height = 3;
            this.canBeLoaded = true;
            this.designerType = 'ReportDesigner';
            this.maxRights = 'Full Access';
            this.top = 100;
            this.topString = '100';
            this.reportName = null;
            this.reportCategory = null;
            this.reportFullName = null;
            this.reportPartName = null;
            this.reportNameWithCategory = null;
            this.reportSetName = null;
            this.reportType = null;
            this.previousReportFullName = null;
            this.backTilePopupOpened = false;
            this.flip = null;
            this.id = IzendaDashboardTileModel.$$TileIdCounter++;
            this.isNew = isNew;
            this.fromJson(json);
        }
        /**
         * Factory method
         * @param {boolean} isNew is this tile marked as new.
         * @param {Object} rawModel tile properties.
         * @returns {IzendaDashboardTileModel} model instance.
         */
        IzendaDashboardTileModel.createInstance = function (isNew, json) {
            if (json === void 0) { json = null; }
            return new IzendaDashboardTileModel(isNew, json);
        };
        /**
         * Fill this object from the raw representation
         * @param {any} json Raw model.
         */
        IzendaDashboardTileModel.prototype.fromJson = function (json) {
            if (!json)
                return;
            this.isSourceReportDeleted = json.isSourceReportDeleted || false;
            this.title = json.reportTitle || '';
            this.description = json.reportDescription || '';
            this.x = json.x || 0;
            this.y = json.y || 0;
            this.width = json.width || 6;
            this.height = json.height || 3;
            this.canBeLoaded = json.canBeLoaded || true;
            this.designerType = json.designerType || 'ReportDesigner';
            this.maxRights = json.maxRights || 'Full Access';
            this.top = json.recordsCount || 100;
            this.topString = this.top + '';
            this.reportName = json.reportName || null;
            this.reportCategory = json.reportCategory || null;
            this.reportFullName = json.reportFullName || null;
            this.reportPartName = json.reportPartName || null;
            this.reportNameWithCategory = this.reportSetName = json.reportSetName || null;
            this.reportType = json.reportType || null;
        };
        /**
         * Create JSON config for sending it to server
         */
        IzendaDashboardTileModel.prototype.toJson = function () {
            var json = {
                isSourceReportDeleted: this.isSourceReportDeleted,
                reportTitle: this.title,
                reportDescription: this.description,
                x: this.x,
                y: this.y,
                width: this.width,
                height: this.height,
                canBeLoaded: this.canBeLoaded,
                designerType: this.designerType,
                maxRights: this.maxRights,
                recordsCount: this.top,
                reportName: this.reportName || '',
                reportCategory: this.reportCategory || '',
                reportFullName: this.reportFullName || '',
                reportPartName: this.reportPartName || '',
                reportSetName: this.reportSetName || '',
                reportType: this.reportType
            };
            return json;
        };
        /**
         * Get tile geometric position
         * @param {Array<IzendaDashboardTileModel>} tiles Collection where this tile placed
         */
        IzendaDashboardTileModel.prototype.getTileOrder = function (tiles) {
            var tilesCopy = tiles.slice();
            tilesCopy.sort(function (tile1, tile2) {
                if (tile1.y !== tile2.y)
                    return tile1.y - tile2.y;
                return tile1.x - tile2.x;
            });
            return tilesCopy.indexOf(this);
        };
        IzendaDashboardTileModel.$$TileIdCounter = 1;
        return IzendaDashboardTileModel;
    }());
    exports.IzendaDashboardTileModel = IzendaDashboardTileModel;
});
izendaRequire.define("dashboard/model/dashboard-model", ["require", "exports", "dashboard/model/tile-model"], function (require, exports, tile_model_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda dashboard model class
     */
    var IzendaDashboardModel = /** @class */ (function () {
        function IzendaDashboardModel(isNew, json, share, schedule) {
            this.isNew = true;
            this.reportName = null;
            this.reportCategory = null;
            this.reportFullName = null;
            this.previousReportName = null;
            this.previousReportCategory = null;
            this.previousReportFullName = null;
            this.sourceReportFullName = null;
            this.effectiveRights = null;
            this.usesHiddenColumns = false;
            this.reportsWithHiddenColumns = [];
            this.tiles = [];
            if (!isNew && !json)
                throw new Error('Can\'t initialize dashboard model when isNew=false and rawModel is empty.');
            this.isNew = isNew;
            if (isNew) {
                this.reportName = null;
                this.reportCategory = null;
                this.reportFullName = null;
                this.sourceReportFullName = null;
                this.tiles = [
                    tile_model_1.IzendaDashboardTileModel.createInstance(true)
                ];
            }
            else {
                this.fromJson(json, share, schedule);
            }
        }
        /**
         * Factory method
         * @param {boolean} isNew new dashboard with defualt config or not.
         * @param {any} json dashboard server-side properties.
         * @returns {IzendaDashboardModel} model instance.
         */
        IzendaDashboardModel.createInstance = function (isNew, json) {
            return new IzendaDashboardModel(isNew, json);
        };
        /**
         * Json validation.
         */
        IzendaDashboardModel.isValidJson = function (json) {
            return json && typeof (json) === 'object' && json.hasOwnProperty('tiles');
        };
        Object.defineProperty(IzendaDashboardModel.prototype, "tilesSorted", {
            /**
             * Get sorted tiles by its positions.
             * @returns {IzendaDashboardTileModel[]} sorted tiles array (another instance of array!)
             */
            get: function () {
                return this.tiles.sort(function (tile1, tile2) {
                    if (tile1.y !== tile2.y)
                        return tile1.y - tile2.y;
                    return tile1.x - tile2.x;
                });
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardModel.prototype, "tilesWithHiddenColumns", {
            get: function () {
                var _this = this;
                return this.tiles.filter(function (t) {
                    return _this.reportsWithHiddenColumns.indexOf(t.reportFullName) >= 0;
                });
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Fill this object from the raw representation
         * @param {any} json Raw model.
         */
        IzendaDashboardModel.prototype.fromJson = function (json, share, schedule) {
            this.reportName = json.reportName;
            this.reportCategory = json.reportCategory;
            this.reportFullName = json.reportFullName;
            this.sourceReportFullName = json.sourceReportFullName;
            this.effectiveRights = json.effectiveRights;
            this.usesHiddenColumns = json.usesHiddenColumns;
            this.reportsWithHiddenColumns = json.reportsWithHiddenColumns;
            this.filters = json.filters;
            this.tiles = json.tiles.map(function (tileCfg) { return tile_model_1.IzendaDashboardTileModel.createInstance(false, tileCfg); });
        };
        /**
         * Create JSON config for sending it to server
         */
        IzendaDashboardModel.prototype.toJson = function () {
            // filter out invalid tiles and sort by it's geometrical position
            var tilesCopy = this.tiles
                .filter(function (tile) { return !!tile.reportFullName; })
                .slice();
            tilesCopy.sort(function (tile1, tile2) {
                if (tile1.y !== tile2.y)
                    return tile1.y - tile2.y;
                return tile1.x - tile2.x;
            });
            var result = {
                isDashboard: true,
                isNew: this.isNew,
                reportName: this.reportName,
                reportCategory: this.reportCategory,
                reportFullName: this.reportFullName,
                sourceReportFullName: this.sourceReportFullName,
                filters: this.filters,
                tiles: tilesCopy.map(function (tile) { return tile.toJson(); })
            };
            return result;
        };
        /**
         * Add new tile with left, top coordinates {x, y}.
         * Maximum size of the created tile is 6x3.
         * @param {number} x left coordinate.
         * @param {number} y top coordinate.
         */
        IzendaDashboardModel.prototype.addPixelTile = function (x, y) {
            var newTile = tile_model_1.IzendaDashboardTileModel.createInstance(true);
            newTile.x = x;
            newTile.y = y;
            newTile.width = 1;
            newTile.height = 1;
            while (!this.checkTileIntersectsBbox(newTile) && newTile.width < 6 && newTile.width + newTile.x < 12)
                newTile.width++;
            if (this.checkTileIntersectsBbox(newTile))
                newTile.width--;
            while (!this.checkTileIntersectsBbox(newTile) && newTile.height < 3)
                newTile.height++;
            if (this.checkTileIntersectsBbox(newTile))
                newTile.height--;
            if (newTile.width <= 0 || newTile.height <= 0)
                return;
            this.tiles.push(newTile);
        };
        /**
         * Remove tile from dashboard
         * @param {IzendaDashboardTileModel} tile tile for removal.
         */
        IzendaDashboardModel.prototype.removeTile = function (tile) {
            this.tiles.splice(this.tiles.indexOf(tile), 1);
        };
        /**
         * If tile intersects with at least one of it's neighbors - return true.
         * @param {IzendaDashboardTileModel} tile tile which we check
         */
        IzendaDashboardModel.prototype.checkTileIntersectsBbox = function (tile) {
            var hitTest = function (a, b) {
                var aLeft = a.x;
                var aRight = a.x + a.width - 1;
                var aTop = a.y;
                var aBottom = a.y + a.height - 1;
                var bLeft = b.x;
                var bRight = b.x + b.width - 1;
                var bTop = b.y;
                var bBottom = b.y + b.height - 1;
                return !(bLeft > aRight || bRight < aLeft || bTop > aBottom || bBottom < aTop);
            };
            var otherTiles = this.tiles.filter(function (t) { return t.id !== tile.id; });
            return otherTiles.some(function (t) { return hitTest(tile, t); });
        };
        /**
         * Get maximum tile height.
         * @param {boolean} isOneColumnView desktop/mobile version.
         * @returns {number} maximum height in coordinate points.
         */
        IzendaDashboardModel.prototype.getMaxHeight = function (isOneColumnView) {
            if (isOneColumnView)
                return this.tiles.length * 4;
            var maxHeight = 0;
            this.tiles.forEach(function (tile) {
                if (maxHeight < tile.y + tile.height)
                    maxHeight = tile.y + tile.height;
            });
            return maxHeight;
        };
        return IzendaDashboardModel;
    }());
    exports.IzendaDashboardModel = IzendaDashboardModel;
});
izendaRequire.define("dashboard/services/dashboard-query-service", ["require", "exports", "angular", "dashboard/model/dashboard-model", "izenda-external-libs"], function (require, exports, angular, dashboard_model_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
         * Dashboard query service. This service is not implied for direct use in components.
         */
    var DashboardQueryService = /** @class */ (function () {
        function DashboardQueryService($q, $izendaUtilUiService, $izendaRsQueryService, $izendaLocaleService, $izendaScheduleService, $izendaShareService) {
            this.$q = $q;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
        }
        Object.defineProperty(DashboardQueryService, "injectModules", {
            get: function () {
                return ['$q', '$izendaUtilUiService', '$izendaRsQueryService', '$izendaLocaleService', '$izendaScheduleService',
                    '$izendaShareService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * (new!) Load dashboard config json
         * @param {string} dashboardFullName dashboard report set full name
         * @param {boolean} updateFromSource whether need to update dashboard tiles from source report or not.
         */
        DashboardQueryService.prototype.loadDashboardNew = function (dashboardFullName, updateFromSource) {
            var _this = this;
            if (!dashboardFullName)
                throw 'dashboardFullName should be non-empty string.';
            return this.$q(function (resolve, reject) {
                _this.$izendaRsQueryService.apiQuery('loadDashboardConfigNew', [dashboardFullName, updateFromSource]).then(function (json) {
                    // validate query result
                    if (!dashboard_model_1.IzendaDashboardModel.isValidJson(json)) {
                        reject("Query \"loadDashboardConfigNew\" returned invalid result:" + JSON.stringify(json));
                        return;
                    }
                    // extract share & schedule configs from json and create its models in the share and schedule services.
                    _this.$izendaScheduleService.setScheduleConfig(json.schedule);
                    _this.$izendaShareService.setShareConfig(json.share);
                    var dashboardModel = dashboard_model_1.IzendaDashboardModel.createInstance(false, json);
                    resolve(dashboardModel);
                }, function (error) {
                    reject(error);
                });
            });
        };
        /**
         * (new!) Save dashboard.
         * @param {any} json dashboard model.
         */
        DashboardQueryService.prototype.saveDashboardNew = function (json) {
            if (!json)
                throw new Error('Dashboard json is empty');
            var dashboardConfigParam = JSON.stringify(json);
            return this.$izendaRsQueryService.apiQuery('saveReportSetNew', [dashboardConfigParam]);
        };
        /**
         * Deserealize dashboard into CurrentReportSet.
         * @param {any} json dashboard json
         * @param {IzendaDashboardTileModel} tile
         */
        DashboardQueryService.prototype.syncTilesNew = function (json, tile) {
            var dashboardConfigParam = JSON.stringify(json);
            return this.$izendaRsQueryService.apiQuery('syncDashboardNew', [dashboardConfigParam, tile && tile.reportFullName ? tile.reportFullName : '']);
        };
        /**
         * Deserealize dashboard and return it's filters
         * @param {json} dashboardConfig
         */
        DashboardQueryService.prototype.syncFiltersNew = function (dashboardConfig) {
            var dashboardConfigParam = JSON.stringify(dashboardConfig);
            return this.$izendaRsQueryService.apiQuery('syncDashboardFiltersNew', [dashboardConfigParam]);
        };
        /**
         * Load tile HTML
         * @param {any} dashboardConfig
         * @param {IzendaDashboardTileModel} tiles which preview is required
         */
        DashboardQueryService.prototype.loadTilesPreviewNew = function (dashboardConfig, tile, size) {
            if (!angular.isObject(tile))
                throw 'Argument exception: "tile" parameter should be object.';
            var dashboardConfigParam = JSON.stringify(dashboardConfig);
            return this.$izendaRsQueryService.apiQuery('getDashboardTilePreviewNew', [dashboardConfigParam, tile.reportFullName, size.width, size.height]);
        };
        /**
         * Send report via email
         */
        DashboardQueryService.prototype.sendReportViaEmailNew = function (dashboardConfig, type, to) {
            var dashboardConfigParam = JSON.stringify(dashboardConfig);
            return this.$izendaRsQueryService.apiQuery('sendDashboardEmailNew', [dashboardConfigParam, type, to]);
        };
        /**
         * Load refresh intevals configured in AdHocSettings.
         */
        DashboardQueryService.prototype.loadAutoRefreshIntervalsNew = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaRsQueryService.apiQuery('autorefreshintervals', []).then(function (result) {
                    resolve(result);
                }, function (error) {
                    var errorMessage = _this.$izendaLocaleService.localeText('js_DashboardAutoRefreshError', 'Failed to get auto refresh intervals');
                    _this.$izendaUtilUiService.showErrorDialog(errorMessage + ": " + error);
                });
            });
        };
        /**
         * Load dashboard navigation
         */
        DashboardQueryService.prototype.loadDashboardNavigationNew = function () {
            return this.$izendaRsQueryService.apiQuery('getDashboardCategoriesNew', []);
        };
        Object.defineProperty(DashboardQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardQueryService.register = function (module) {
            module.service('$izendaDashboardQueryService', DashboardQueryService.injectModules.concat(DashboardQueryService));
        };
        return DashboardQueryService;
    }());
    exports.default = DashboardQueryService;
});
izendaRequire.define("dashboard/model/gallery-state-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaDashboardGalleryStateModel = /** @class */ (function () {
        function IzendaDashboardGalleryStateModel() {
            this.isEnabledInner = false;
            this.isFullScreen = false;
            this.playDelay = 5000;
            this.isPlayStarted = false;
            this.isPlayRepeat = false;
            this.reset();
        }
        IzendaDashboardGalleryStateModel.prototype.reset = function () {
            this.isEnabledInner = false;
            this.isFullScreen = false;
            this.playDelay = 5000;
            this.isPlayStarted = false;
            this.isPlayRepeat = false;
        };
        Object.defineProperty(IzendaDashboardGalleryStateModel.prototype, "isEnabled", {
            get: function () {
                return this.isEnabledInner;
            },
            set: function (value) {
                this.isEnabledInner = value;
                this.isFullScreen = false; // turn off fullscreen
                this.isPlayStarted = false; // turn off play
            },
            enumerable: true,
            configurable: true
        });
        return IzendaDashboardGalleryStateModel;
    }());
    exports.IzendaDashboardGalleryStateModel = IzendaDashboardGalleryStateModel;
});
izendaRequire.define("dashboard/services/gallery-service", ["require", "exports", "dashboard/model/gallery-state-model", "izenda-external-libs"], function (require, exports, gallery_state_model_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DashboardGalleryService = /** @class */ (function () {
        function DashboardGalleryService($izendaUrlService) {
            this.$izendaUrlService = $izendaUrlService;
            this.galleryState = new gallery_state_model_1.IzendaDashboardGalleryStateModel();
            // subscibe on location change.
            this.location = this.$izendaUrlService.location;
            this.location.subscribeOnNext(this.$onLocationChanged, this);
        }
        Object.defineProperty(DashboardGalleryService, "injectModules", {
            get: function () {
                return ['$izendaUrlService'];
            },
            enumerable: true,
            configurable: true
        });
        DashboardGalleryService.prototype.$onLocationChanged = function (newLocation) {
            this.galleryState.reset();
        };
        Object.defineProperty(DashboardGalleryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardGalleryService.register = function (module) {
            module.service('$izendaGalleryService', DashboardGalleryService.injectModules.concat(DashboardGalleryService));
        };
        return DashboardGalleryService;
    }());
    exports.default = DashboardGalleryService;
});
izendaRequire.define("common/core/models/filters-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Server-side filters object raw model.
     */
    var IzendaFiltersModel = /** @class */ (function () {
        function IzendaFiltersModel() {
            this.filterLogic = '';
            this.filters = [];
            this.subreportsFilters = null;
        }
        IzendaFiltersModel.prototype.fromJson = function (json) {
            this.filterLogic = json.FilterLogic || '';
            this.filters = json.Filters || [];
            this.subreportsFilters = json.SubreportsFilters || null;
        };
        IzendaFiltersModel.prototype.toJson = function () {
            return {
                FilterLogic: this.filterLogic,
                Filters: this.filters,
                SubreportFilters: this.subreportsFilters
            };
        };
        return IzendaFiltersModel;
    }());
    exports.IzendaFiltersModel = IzendaFiltersModel;
});
izendaRequire.define("dashboard/services/dashboard-storage-service", ["require", "exports", "angular", "common/core/models/filters-model", "dashboard/model/dashboard-model", "izenda-external-libs"], function (require, exports, angular, filters_model_1, dashboard_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard storage service. Stores current dashboard state.
     */
    var DashboardStorageService = /** @class */ (function () {
        function DashboardStorageService($rx, $q, $window, $interval, $timeout, $izendaLocaleService, $izendaCompatibilityService, $izendaSettingsService, $izendaUtilService, $izendaUrlService, $izendaRsQueryService, $izendaUtilUiService, $izendaDashboardConfig, $izendaDashboardQueryService, $izendaScheduleService, $izendaShareService) {
            this.$rx = $rx;
            this.$q = $q;
            this.$window = $window;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaDashboardConfig = $izendaDashboardConfig;
            this.$izendaDashboardQueryService = $izendaDashboardQueryService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
            this.UNCATEGORIZED = this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            // rx subjects
            this.model = new this.$rx.BehaviorSubject(null);
            this.categories = new this.$rx.BehaviorSubject([]);
            this.currentCategory = new this.$rx.BehaviorSubject([]);
            this.currentDashboard = new this.$rx.BehaviorSubject(null);
            this.isLoaded = new this.$rx.BehaviorSubject(false);
            this.isFiltersActive = new this.$rx.BehaviorSubject(false);
            this.exportProgress = new this.$rx.BehaviorSubject(null);
            this.autoRefresh = new this.$rx.BehaviorSubject({
                intervals: []
            });
            this.refreshObservable = new this.$rx.Subject();
            this.windowSize = new this.$rx.BehaviorSubject({
                width: this.$window.innerWidth,
                height: this.$window.innerHeight
            });
            this.windowSizeActive = true;
            // set custom refresh cascading filters function
            this._setFiltersRefreshCascadingInterceptor();
            // subscribe on location change.
            this.location = $izendaUrlService.location;
            this.location.subscribeOnNext(this._$onLocationChanged, this);
            // subscribe on window resize
            this.turnOnResizeHandler();
            // load some static stuff.
            this.loadAutoRefreshIntervals();
        }
        Object.defineProperty(DashboardStorageService, "injectModules", {
            get: function () {
                return [
                    'rx', '$q', '$window', '$interval', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService',
                    '$izendaSettingsService', '$izendaUtilService', '$izendaUrlService', '$izendaRsQueryService',
                    '$izendaUtilUiService', 'izendaDashboardConfig', '$izendaDashboardQueryService',
                    '$izendaScheduleService', '$izendaShareService'
                ];
            },
            enumerable: true,
            configurable: true
        });
        DashboardStorageService.prototype.turnOnResizeHandler = function () {
            var _this = this;
            var resize = new this.$rx.Observable.fromEvent(this.$window, 'resize');
            var resizeDebounce = resize.debounce(500);
            var resizeCombined = this.$rx.Observable.merge(resize.map(function (e) { return ({ event: e, isDebounceApplied: false }); }), resizeDebounce.map(function (e) { return ({ event: e, isDebounceApplied: true }); }));
            // combined resize events emitter (simple resize event will come earlier than it's debounced version)
            resizeCombined.subscribe(function (obj) {
                // if resize is turned off - do nothing
                if (!_this.windowSizeActive)
                    return;
                var isDebounceApplied = obj.isDebounceApplied;
                if (!isDebounceApplied) {
                    //var overflowValue = angular.element('body').css('overflow');
                    //if (overflowValue !== 'hidden') {
                    //	angular.element('body').css('overflow', 'hidden');
                    //}
                }
                else {
                    // notify
                    _this.windowSize.onNext({
                        width: _this.$window.innerWidth,
                        height: _this.$window.innerHeight
                    });
                }
            });
        };
        /**
         * Change location to new dashboard
         */
        DashboardStorageService.prototype.navigateNewDashboard = function () {
            this.$izendaUrlService.setIsNew();
        };
        /**
         * Change location to existing dashboard
         * @param {string} dashboardFullName dashboard report set full name.
         */
        DashboardStorageService.prototype.navigateToDashboard = function (dashboardFullName) {
            this.$izendaUrlService.setReportFullName(dashboardFullName);
        };
        /**
         * Save dashboard. If assigned new report name and category - navigation to the new dashboard will occur.
         * @param {string} reportName New report name (optional). If not set - report will be saved using current report name.
         * @param {string} categoryName New category name (optional). If not set (or reportName not set) - report
         * will be saved using current category name.
         * @throws {reject function} promise will reject with a message as argument if something went wrong.
         */
        DashboardStorageService.prototype.saveDashboard = function (reportName, categoryName) {
            var _this = this;
            var restorePreviousReportName = function (model) {
                model.reportCategory = model.previousReportCategory;
                model.reportName = model.previousReportName;
                model.reportFullName = model.previousReportFullName;
            };
            return this.$q(function (resolve, reject) {
                var model = _this.model.getValue();
                try {
                    // prepare report name variables
                    var newReportName = reportName || null;
                    var newReportCategory = categoryName || null;
                    var newReportFullName_1;
                    if (_this.$izendaUtilService.isUncategorized(newReportCategory))
                        newReportCategory = null;
                    if (newReportName) {
                        // if name was set
                        newReportFullName_1 = _this.$izendaUtilService.createReportFullName(newReportName, _this.$izendaSettingsService.getCategoryCharacter(), newReportCategory);
                    }
                    else {
                        // if name wasn't set
                        var currentLocation = _this.location.getValue();
                        newReportName = currentLocation.name;
                        newReportCategory = currentLocation.category;
                        newReportFullName_1 = currentLocation.fullName;
                    }
                    // update report names in the model
                    model.previousReportCategory = model.reportCategory;
                    model.previousReportName = model.reportName;
                    model.previousReportFullName = model.reportFullName;
                    model.reportCategory = newReportCategory;
                    model.reportName = newReportName;
                    model.reportFullName = _this.$izendaSettingsService.getReportFullName(newReportName, newReportCategory);
                    if (model.tiles.filter(function (t) { return t && !!t.reportFullName; }).length === 0) {
                        // show "no tiles" error.
                        var message = _this.$izendaLocaleService.localeText('js_CantSaveEmptyDashboard', 'Can\'t save empty dashboard.');
                        restorePreviousReportName(model);
                        reject(message);
                        return;
                    }
                    // create json and send save request
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.saveDashboardNew(json).then(function () {
                        _this.$izendaUrlService.setReportFullName(newReportFullName_1);
                        resolve();
                    }, function (error) {
                        restorePreviousReportName(model);
                        reject(error);
                    });
                }
                catch (e) {
                    restorePreviousReportName(model);
                    reject(e);
                }
            });
        };
        /**
         * Load tiles HTML content.
         * @param {IzendaDashboardTileModel} tile Tile object.
         * @param {object} size {width, height} object.
         */
        DashboardStorageService.prototype.loadTilesPreview = function (tile, size) {
            var _this = this;
            return this.$q(function (resolve, reject) {
                try {
                    var sizeObject = size || { width: 0, height: 0 };
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.loadTilesPreviewNew(json, tile, sizeObject)
                        .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
                }
                catch (e) {
                    reject(e);
                }
            });
        };
        /**
         * Load and prepare report into container
         * @param {string} report html data.
         * @param {jquery dom element} container.
         */
        DashboardStorageService.prototype.loadReportIntoContainer = function (htmlData, $container) {
            var customCssStart = '/*CustomCssStart*/';
            var customCssEnd = '/*CustomCssEnd*/';
            /**
             * Extract custom css rules
             */
            var extractCustomCss = function (html) {
                if (!angular.isFunction(CSSParser))
                    throw 'Css parser (cssParser.js) not found';
                var startIndex = html.indexOf(customCssStart);
                var endIndex = html.indexOf(customCssEnd);
                if (startIndex < 0 || endIndex < 0 || startIndex > endIndex)
                    return null;
                try {
                    var customCss = html.substring(startIndex + customCssStart.length, endIndex);
                    var parser = new CSSParser();
                    var sheet = parser.parse(customCss, false, true);
                    return sheet;
                }
                catch (e) {
                    return null;
                }
            };
            /**
             * Inject custom css
             */
            var injectCustomCss = function (html, customCss) {
                var startIndex = html.indexOf(customCssStart);
                var endIndex = html.indexOf(customCssEnd);
                if (startIndex < 0 || endIndex < 0 || startIndex > endIndex)
                    return null;
                var result = [
                    html.substring(0, startIndex),
                    customCssStart,
                    customCss,
                    customCssEnd,
                    html.substring(endIndex + customCssStart.length)
                ].join('');
                return result;
            };
            /**
             * Change rules
             */
            var replaceCssRules = function (sourceStyleSheet, selectorTextChangeFunction) {
                var cssRules = sourceStyleSheet.cssRules;
                cssRules.forEach(function (rule) {
                    if (rule.type === 1) {
                        var selector = rule.mSelectorText;
                        rule.mSelectorText = selectorTextChangeFunction(selector);
                    }
                    else if (rule.type === 4) {
                        replaceCssRules(rule, selectorTextChangeFunction);
                    }
                });
            };
            try {
                var tileId = $container.closest('.izenda-report-with-id').attr('reportid');
                // clear previous content
                $container.empty();
                // turn off internal visualization window resize handler.
                izenda.visualization.isResizeHandlerEnabled = false;
                // load response to container
                if (angular.isObject(htmlData) && htmlData.hasOwnProperty('message')) {
                    console.error(htmlData);
                    izenda.report.loadReportResponse(htmlData['message'], $container);
                }
                else
                    izenda.report.loadReportResponse(htmlData, $container);
                // replace CSS
                var $customCss = $container.find('style[id=additionalStyle]');
                if ($customCss.length > 0) {
                    var csshtml = $customCss.html();
                    var styleSheet = extractCustomCss(csshtml);
                    if (styleSheet) {
                        // replace rule selectors:
                        replaceCssRules(styleSheet, function (selector) {
                            var parts = selector.split(',');
                            var result = '';
                            parts.forEach(function (part, index) {
                                if (index > 0)
                                    result += ', ';
                                result += ".izenda-report-with-id[reportid=\"" + tileId + "\"] " + part.trim();
                            });
                            return result;
                        });
                    }
                    var newCss = styleSheet.cssText();
                    var newHtml = injectCustomCss(csshtml, newCss);
                    $customCss.html(newHtml);
                }
                $container.find('[id$=_outerSpan]').css('display', 'block');
                // prepare content div
                var divs$ = $container.find('div.DashPartBody, div.DashPartBodyNoScroll');
                if (divs$.length > 0) {
                    divs$.css('height', 'auto');
                    divs$.find('span').each(function (iSpan, span) {
                        var $span = angular.element(span);
                        if ($span.attr('id') && String($span.attr('id')).indexOf('_outerSpan') >= 0) {
                            $span.css('display', 'inline');
                        }
                    });
                    var $zerochartResults = divs$.find('.iz-zero-chart-results');
                    if ($zerochartResults.length > 0) {
                        $zerochartResults.closest('table').css('height', '100%');
                        divs$.css('height', '100%');
                    }
                }
                // init gauge
                if (angular.isDefined(AdHoc) &&
                    angular.isObject(AdHoc.Utility) &&
                    angular.isFunction(AdHoc.Utility.InitGaugeAnimations)) {
                    AdHoc.Utility.InitGaugeAnimations(null, null);
                }
            }
            catch (e) {
                $container.empty();
                var failedMsg = this.$izendaLocaleService.localeText('js_FailedToLoadReport', 'Failed to load report') + ': ' + e;
                $container.append("<b>" + failedMsg + "</b>");
                console.error(failedMsg);
            }
        };
        /**
         * Print dashboard
         * @param {string} type
         */
        DashboardStorageService.prototype.printDashboard = function (type, reportForPrint) {
            var _this = this;
            this.exportProgress.onNext('print');
            return this.$q(function (resolve, reject) {
                var resolveWrapper = function () {
                    _this.exportProgress.onNext(null);
                    resolve();
                };
                var rejectWrapper = function (error) {
                    _this.exportProgress.onNext(null);
                    reject(error);
                };
                if (type !== 'html' && type !== 'pdf' && type !== 'excel') {
                    rejectWrapper("Unknown print type: " + type);
                    return;
                }
                var json = _this.createJsonConfigForSend();
                _this.$izendaDashboardQueryService.syncTilesNew(json, reportForPrint).then(function () {
                    if (type === 'html')
                        _this.printDashboardAsHtml(reportForPrint).then(function () { return resolveWrapper(); }, function (error) { return rejectWrapper(error); });
                    else if (type === 'excel')
                        _this.printDashboardAsExcel(reportForPrint).then(function () { return resolveWrapper(); }, function (error) { return rejectWrapper(error); });
                    else if (type === 'pdf')
                        _this.printDashboardAsPDF(reportForPrint).then(function () { return resolveWrapper(); }, function (error) { return rejectWrapper(error); });
                }, function (error) { return rejectWrapper(error); });
            });
        };
        /**
         * Open new window with the new dashboard for printing.
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsHtml = function (reportForPrint) {
            var _this = this;
            return this.$q(function (resolve, reject) {
                try {
                    var printUrl = _this.$izendaUrlService.settings.urlRsPage + "?p=htmlreport&print=1";
                    // print single tile if parameter is set:
                    if (angular.isString(reportForPrint) && reportForPrint !== '')
                        printUrl += "&reportPartName=" + encodeURIComponent(reportForPrint);
                    // izpid and anpid will be added inside the ExtendReportExport method 
                    _this.$timeout(function () {
                        var newWindow = ExtendReportExport(responseServer.OpenUrl, printUrl, 'aspnetForm', '', '', true);
                        if ('WebkitAppearance' in document.documentElement.style) {
                            var intervalId_1 = _this.$interval(function () {
                                if (!newWindow || newWindow.closed) {
                                    _this.$interval.cancel(intervalId_1);
                                    intervalId_1 = null;
                                    resolve();
                                }
                            }, 500);
                        }
                        else {
                            resolve();
                        }
                    }, 500);
                }
                catch (e) {
                    console.error(e);
                    reject(e);
                }
            });
        };
        /**
         * Export dashboard to file
         * @param {string} outputType output type query parameter
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsFile = function (outputType, reportForPrint) {
            var _this = this;
            if (!outputType)
                throw 'Parameter "outputType" should be defined';
            return this.$q(function (resolve, reject) {
                try {
                    var addParam = '';
                    if (typeof (window.izendaPageId$) !== 'undefined')
                        addParam += "&izpid=" + window.izendaPageId$;
                    if (typeof (window.angularPageId$) !== 'undefined')
                        addParam += "&anpid=" + window.angularPageId$;
                    var url = _this.$izendaUrlService.settings.urlRsPage + '?';
                    if (reportForPrint)
                        url += "rpn=" + reportForPrint + "&";
                    url += "output=" + outputType + addParam;
                    // download the file
                    _this.$izendaRsQueryService.downloadFileRequest('GET', url).then(function () { return resolve(); });
                }
                catch (e) {
                    console.error(e);
                    reject(e);
                }
            });
        };
        /**
         * Export dashboard tile as excel
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsExcel = function (reportForPrint) {
            return this.printDashboardAsFile('XLS(MIME)', reportForPrint);
        };
        /**
         * Print dashboard into PDF
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsPDF = function (reportForPrint) {
            return this.printDashboardAsFile('PDF', reportForPrint);
        };
        /**
         * Send email
         */
        DashboardStorageService.prototype.sendEmail = function (sendType, email) {
            var _this = this;
            return this.$q(function (resolve, reject) {
                try {
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.sendReportViaEmailNew(json, sendType, email)
                        .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
                }
                catch (e) {
                    reject(e);
                }
            });
        };
        /**
         * Turn on/off filters panel.
         * @param {any} opened
         */
        DashboardStorageService.prototype.toggleFiltersPanel = function (opened) {
            var currentOpened = this.isFiltersActive.getValue();
            if (angular.isDefined(opened)) {
                if (currentOpened != opened)
                    this.isFiltersActive.onNext(opened);
            }
            else {
                this.isFiltersActive.onNext(!currentOpened);
            }
        };
        /**
         * Update dashboard filters
         */
        DashboardStorageService.prototype.refreshFilters = function () {
            var _this = this;
            var json = this.createJsonConfigForSend();
            this.$izendaDashboardQueryService.syncFiltersNew(json).then(function (filtersData) {
                _this._setFiltersData(filtersData);
            }, function (error) {
                console.error('Failed to get filters data: ', error);
            });
        };
        /**
         * Refresh dashboard
         * @param {boolean} reloadLayout reload dashboard layout from the server.
         * @param {boolean} updateFromSource update tiles from it's sources.
         * @param {IzendaDashboardTileModel} tile update only one tile.
         */
        DashboardStorageService.prototype.refreshDashboard = function (reloadLayout, updateFromSource, tile) {
            if (reloadLayout) {
                this._$onLocationChanged(this.location.getValue(), !!updateFromSource);
            }
            else {
                this.refreshObservable.onNext({
                    tile: tile || null,
                    updateFromSource: !!updateFromSource
                });
            }
        };
        /**
         * Cancels refresh dashboard queries
         */
        DashboardStorageService.prototype.cancelRefreshDashboardQueries = function () {
            this.$izendaRsQueryService.cancelAllQueries({
                cancelList: [
                    {
                        wscmd: 'getDashboardTilePreviewNew'
                    }
                ]
            });
        };
        /**
         * Load auto refresh intervals config. After complete this.autoRefresh is notified
         */
        DashboardStorageService.prototype.loadAutoRefreshIntervals = function () {
            var _this = this;
            var newAutoRefresh = {
                intervals: []
            };
            this.$izendaDashboardQueryService.loadAutoRefreshIntervalsNew().then(function (data) {
                for (var name_1 in data)
                    if (data.hasOwnProperty(name_1))
                        newAutoRefresh.intervals.push({ name: name_1, value: data[name_1], selected: false });
                _this.autoRefresh.onNext(newAutoRefresh, _this);
            });
        };
        /**
         * Turn on window resize handler event emitter
         */
        DashboardStorageService.prototype.turnOnWindowResizeHandler = function () {
            this.windowSizeActive = true;
        };
        /**
         * Turn off window resize handler event emitter
         */
        DashboardStorageService.prototype.turnOffWindowResizeHandler = function () {
            this.windowSizeActive = false;
        };
        /**
         * Create json config
         */
        DashboardStorageService.prototype.createJsonConfigForSend = function () {
            // create json for sending to server
            var model = this.model.getValue();
            var scheduleJson = this.$izendaScheduleService.getScheduleConfigForSend();
            var shareJson = this.$izendaShareService.getShareConfigForSend();
            // legacy API call.
            var filtersJson = [];
            if (angular.isFunction(GetDataToCommit))
                filtersJson = GetDataToCommit();
            var filtersRaw = new filters_model_1.IzendaFiltersModel();
            filtersRaw.fromJson({
                FilterLogic: '',
                Filters: filtersJson,
                SubreportsFilters: []
            });
            var json = model.toJson();
            json.share = shareJson;
            json.schedule = scheduleJson;
            json.filters = filtersRaw.toJson();
            return json;
        };
        /**
         * Calculate category name
         */
        DashboardStorageService.prototype._getWantedCategoryName = function () {
            var _this = this;
            var urlFullName = this.location.getValue().fullName;
            var categories = this.categories.getValue();
            var isUrlFullNameExist = function (testFullName) { return categories.some(function (cat) { return cat.dashboards.some(function (dashName) { return dashName === testFullName; }); }); };
            // calc current dashboard category
            var currentCategoryName = '';
            var isCategorySet = false;
            if (isUrlFullNameExist(urlFullName)) {
                currentCategoryName = this.location.getValue().category;
                isCategorySet = true;
            }
            if (!isCategorySet && this.$izendaDashboardConfig.defaultDashboardCategory !== null) {
                currentCategoryName = this.$izendaDashboardConfig.defaultDashboardCategory;
                isCategorySet = true;
            }
            if (!isCategorySet) {
                var uncategorized = categories.first(function (cat) { return _this.$izendaUtilService.isUncategorized(cat.name); });
                if (uncategorized)
                    currentCategoryName = uncategorized.name; // if we have "uncategorized" dashboards - select it
                else
                    currentCategoryName = categories.length ? categories[0].name : '';
            }
            return currentCategoryName;
        };
        /**
         * Check report name obtained from the 'rn' parameter and load default dashboard if rn parameter doesn't
         * contain valid dashboard name.
         * @param {object} location Location object.
         * @returns {string} fixed dashboard full name (or empty string if can't find default dashboard).
         */
        DashboardStorageService.prototype._getWantedReportFullName = function (location) {
            var urlFullName = location.fullName;
            var categories = this.categories.getValue();
            var isUrlFullNameExist = function (testFullName) { return categories.some(function (cat) { return cat.dashboards.some(function (dashName) { return dashName === testFullName; }); }); };
            // calc current dashboard category
            var currentCategoryName = this._getWantedCategoryName();
            // calc current dashboard full name
            var currentDashboardFullName = '';
            var isCurrentDashbiardNameSet = false;
            if (isUrlFullNameExist(urlFullName)) {
                currentDashboardFullName = urlFullName;
                isCurrentDashbiardNameSet = true;
            }
            if (!isCurrentDashbiardNameSet && this.$izendaDashboardConfig.defaultDashboardName !== null) {
                currentDashboardFullName = this.$izendaDashboardConfig.defaultDashboardName;
                if (currentDashboardFullName && currentCategoryName && !this.$izendaUtilService.isUncategorized(currentCategoryName)) {
                    currentDashboardFullName =
                        currentCategoryName + this.$izendaSettingsService.getCategoryCharacter() + currentDashboardFullName;
                }
                isCurrentDashbiardNameSet = true;
            }
            // couldn't find dashboard - use first
            if (!isCurrentDashbiardNameSet) {
                var defaultCats = categories.filter(function (cat) { return cat.dashboards.length; });
                currentDashboardFullName = defaultCats.length ? defaultCats[0].dashboards[0] : '';
            }
            return currentDashboardFullName;
        };
        /**
         * Update dashboards in current category collection and current active dashboard
         */
        DashboardStorageService.prototype._updateCurrentCategory = function () {
            var _this = this;
            var categories = this.categories.getValue();
            var currentCategoryName = this._getWantedCategoryName();
            var currentDashboardName = this._getWantedReportFullName(this.location.getValue());
            var category = categories.first(function (cat) { return currentCategoryName === cat.name ||
                (_this.$izendaUtilService.isUncategorized(currentCategoryName) && _this.$izendaUtilService.isUncategorized(cat.name)); });
            var currentDashboardsCollection = [];
            var currentDashboard = null;
            if (category) {
                category.dashboards.forEach(function (dash, iDash) {
                    var dashObj = {
                        id: iDash,
                        fullName: dash,
                        text: _this.$izendaUrlService.extractReportName(dash)
                    };
                    currentDashboardsCollection.push(dashObj);
                    if (_this.location.getValue().isNew)
                        return;
                    if (dash === currentDashboardName)
                        currentDashboard = dashObj;
                });
            }
            this.currentCategory.onNext(currentDashboardsCollection);
            this.currentDashboard.onNext(currentDashboard);
        };
        /**
         * Location changed handler:
         * 1. Load categories.
         * 2. Create/Open dashboard.
         * 3. Navigate to default dashboard if something went wrong (dashboard not exists, or url parameters not set).
         * @param {object} newLocation location info object
         * @param {boolean} updateFromSource is reload tiles from its sources required?
         */
        DashboardStorageService.prototype._$onLocationChanged = function (newLocation, updateFromSource) {
            var _this = this;
            this.$izendaRsQueryService.cancelAllQueries();
            this.model.onNext(null);
            this._loadCategories().then(function () {
                if (newLocation.isNew) {
                    _this._newDashboard();
                    return;
                }
                // validate report full name:
                var wantedFullName = _this._getWantedReportFullName(newLocation);
                if (!wantedFullName) {
                    _this.navigateNewDashboard(); // change url to "?isNew=1"
                    return;
                }
                if (newLocation.fullName === wantedFullName) {
                    // wanted report and report from the location are the same - open dashboard.
                    _this.loadDashboardInternal(wantedFullName, !!updateFromSource);
                }
                else {
                    if (newLocation.fullName) {
                        // show notification to a user if we change the location from wrong report to default.
                        var message = _this.$izendaLocaleService.localeText('js_FailedToLoadDashboard', 'Failed to load dashboard "{0}". Opening default dashboard "{1}".');
                        message = message.replace('{0}', newLocation.fullName);
                        message = message.replace('{1}', wantedFullName);
                        _this.$izendaUtilUiService.showNotification(message);
                    }
                    _this.navigateToDashboard(wantedFullName); // change url to "?rn=default_dashboard"
                }
            });
        };
        /**
         * Load dashboard categories
         */
        DashboardStorageService.prototype._loadCategories = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                _this.$izendaDashboardQueryService.loadDashboardNavigationNew().then(function (data) {
                    if (!data) {
                        reject("Failed to load dashboard categories. Result: " + data);
                        return;
                    }
                    var idCounter = 0;
                    var newCategories = [];
                    for (var category in data) {
                        if (data.hasOwnProperty(category)) {
                            var dashboards = data[category];
                            if (dashboards.length > 0) {
                                dashboards = dashboards.filter(function (dash) { return dash && dash !== ''; });
                                var item = {
                                    id: idCounter++,
                                    name: category,
                                    dashboards: dashboards
                                };
                                // sort 
                                if (angular.isFunction(_this.$izendaDashboardConfig.dashboardToolBarItemsSort))
                                    item.dashboards.sort(function (item1, item2) { return _this.$izendaDashboardConfig.dashboardToolBarItemsSort(item1, item2); });
                                newCategories.push(item);
                            }
                        }
                    }
                    _this.categories.onNext(newCategories, _this);
                    resolve(_this.categories);
                }, function (error) {
                    var errorMessage = _this.$izendaLocaleService.localeText('js_DashboardLoadCatsError', 'Failed to get dashboard categories');
                    reject(errorMessage + ": " + error);
                });
            });
        };
        DashboardStorageService.prototype._setFiltersRefreshCascadingInterceptor = function () {
            var _this = this;
            window.cascadingFiltersChangedCustomContext = this;
            // turn off legacy filters queries: we'll do it by ourselves.
            window.cascadingFiltersChangedCustom = function () {
                if (angular.isFunction(CascadingFiltersChanged)) {
                    window.refreshFiltersLastGUID = GenerateGuid();
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.syncFiltersNew(json).then(function (filtersData) {
                        CascadingFiltersChanged(filtersData, "refreshcascadingfilters-" + window.refreshFiltersLastGUID);
                    });
                }
            };
        };
        DashboardStorageService.prototype._setFiltersData = function (filtersData) {
            // set legacy filters from response
            if (angular.isFunction(GotFiltersData)) {
                GotFiltersData(angular.isObject(filtersData)
                    ? filtersData
                    : {
                        Filters: [],
                        SubreportsFilters: [],
                        FilterLogic: ''
                    }, 'getfiltersdata');
            }
        };
        /**
         * Load dashboard config from the server and fill dashboard model.
         * @param {string} reportFullName dashboard report full name.
         * @param {boolean} updateFromSource is reload tiles from its sources required?
         */
        DashboardStorageService.prototype.loadDashboardInternal = function (reportFullName, updateFromSource) {
            var _this = this;
            this._updateCurrentCategory(); // update category objects
            // start loading
            this.isLoaded.onNext(false, this);
            this.$izendaDashboardQueryService.loadDashboardNew(reportFullName, !!updateFromSource).then(function (dashboardModel) {
                if (!angular.isObject(dashboardModel))
                    throw "Failed to load dashboard '" + reportFullName + "'";
                // set current rights
                _this.$izendaCompatibilityService.setRights(dashboardModel.effectiveRights);
                _this.$izendaCompatibilityService.setUsesHiddenColumns(dashboardModel.usesHiddenColumns);
                // update names
                dashboardModel.reportFullName = _this.$izendaSettingsService.getReportFullName(dashboardModel.reportName, dashboardModel.reportCategory);
                dashboardModel.tiles.forEach(function (tile) {
                    tile.reportName = _this.$izendaUrlService.extractReportName(tile.reportSetName);
                    tile.reportCategory = _this.$izendaUrlService.extractReportCategory(tile.reportSetName);
                });
                // set legacy filters from response
                _this._setFiltersData(dashboardModel.filters);
                // notify that model was changed and report was loaded
                _this.model.onNext(dashboardModel, _this);
                // show hidden columns warning
                if (_this.$izendaCompatibilityService.isUsesHiddenColumns()) {
                    _this.$izendaUtilUiService.showMessageDialog(_this.$izendaLocaleService.localeText('js_dashboardUsesHiddenColumns', 'Dashboard contains tile with report which contains unavailable fields. Please re-save original report or chose another one.'));
                }
                _this.isLoaded.onNext(true, _this);
            }, function (error) {
                var errorMessage = _this.$izendaLocaleService.localeText('js_LayoutLoadError', 'Failed to load dashboard layout');
                _this.$izendaUtilUiService.showErrorDialog(errorMessage + ": " + error);
            });
        };
        /**
         * Create new dashboard.
         */
        DashboardStorageService.prototype._newDashboard = function () {
            var _this = this;
            this._updateCurrentCategory(); // update category objects
            this.$izendaCompatibilityService.setRights('Full Access');
            var newModelInstance = dashboard_model_2.IzendaDashboardModel.createInstance(true);
            var schedulePromise = this.$izendaScheduleService.setScheduleConfig(null);
            var sharePromise = this.$izendaShareService.setShareConfig(null);
            this.$q.all([schedulePromise, sharePromise]).then(function () {
                _this.model.onNext(newModelInstance, _this);
                _this.isLoaded.onNext(true, _this);
            });
        };
        Object.defineProperty(DashboardStorageService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardStorageService.register = function (module) {
            module.service('$izendaDashboardStorageService', DashboardStorageService.injectModules.concat(DashboardStorageService));
        };
        return DashboardStorageService;
    }());
    exports.default = DashboardStorageService;
});
izendaRequire.define("dashboard/directives/dashboard-background", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_24) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard background directive. Used to set background color, image and hue rotate.
     */
    var IzendaDashboardBackground = /** @class */ (function () {
        function IzendaDashboardBackground($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.scope = {
                backgroundColor: '=',
                backgroundImage: '=',
                backgroundImageRepeat: '=',
                hueRotate: '='
            };
            IzendaDashboardBackground.prototype.link = function ($scope, $element, attrs) {
                var id = String(Math.random());
                var oldMouseX = 0;
                var oldMouseY = 0;
                var degree = 0;
                // ensure background was added
                var $background = angular.element('body > .iz-dash-background');
                var $dashboardsDiv = angular.element('#izendaDashboardMainContainer');
                if ($background.length === 0) {
                    $background = angular.element('<div class="iz-dash-background"></div>');
                    angular.element('body').prepend($background);
                }
                // Update background
                var updateBackground = function () {
                    $background = angular.element('body > .iz-dash-background');
                    if ($scope.backgroundImage)
                        $background.css('background', "url('" + $scope.backgroundImage + "')");
                    else
                        $background.css('background', '');
                    if ($scope.backgroundImageRepeat) {
                        $background.css('background-repeat', 'repeat');
                        $background.css('background-size', 'initial');
                    }
                    else {
                        $background.css('background-repeat', '');
                        $background.css('background-size', '');
                    }
                    if ($scope.backgroundColor)
                        $background.css('background-color', $scope.backgroundColor);
                    else
                        $background.css('background-color', '');
                };
                // set background position
                var setBackgroundPosition = function () {
                    var newBackgroundTop = $dashboardsDiv.offset().top + 50 - angular.element($window).scrollTop();
                    if (newBackgroundTop < 0)
                        newBackgroundTop = 0;
                    $background.css({
                        '-moz-background-position-y': newBackgroundTop + 'px',
                        '-o-background-position-y': newBackgroundTop + 'px',
                        'background-position-y': newBackgroundTop + 'px'
                    });
                };
                // Hue can use rotate
                var isToggleHueRotateEnabled = function () {
                    var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
                    var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
                    var isFirefox = /Firefox/.test(navigator.userAgent);
                    return isChrome || isSafari || isFirefox;
                };
                // Turn off background hue rotate
                var resetRotate = function () {
                    clearTimeout($window.hueRotateTimeOut);
                    $background.css({ '-webkit-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ '-moz-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ '-o-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ '-ms-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ 'filter': 'hue-rotate(' + '0' + 'deg)' });
                };
                // Run hue rotate
                var rotate = function () {
                    if (!isToggleHueRotateEnabled())
                        return;
                    $background.css({ '-webkit-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ '-moz-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ '-o-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ '-ms-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ 'filter': 'hue-rotate(' + degree + 'deg)' });
                    $window.hueRotateTimeOut = setTimeout(function () {
                        var addPath;
                        var dx = ($window.mouseX - oldMouseX);
                        var dy = ($window.mouseY - oldMouseY);
                        addPath = Math.sqrt(dx * dx + dy * dy);
                        var wndPath = Math.sqrt($window.innerHeight * $window.innerHeight + $window.innerWidth * $window.innerWidth);
                        addPath = addPath * 360 / wndPath;
                        oldMouseX = $window.mouseX;
                        oldMouseY = $window.mouseY;
                        if (isNaN(addPath))
                            addPath = 0;
                        degree += 6 + addPath;
                        while (degree > 360)
                            degree -= 360;
                        rotate();
                    }, 100);
                };
                // run background
                setBackgroundPosition();
                angular.element($window).on('scroll.' + id, function () { return setBackgroundPosition(); });
                updateBackground();
                // watch bindings changed
                $scope.$watch('backgroundColor', function () { return updateBackground(); });
                $scope.$watch('backgroundImage', function () { return updateBackground(); });
                $scope.$watch('backgroundImageRepeat', function () { return updateBackground(); });
                $scope.$watch('hueRotate', function (newVal) {
                    if (newVal)
                        rotate();
                    else
                        resetRotate();
                });
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('scroll.' + id);
                });
            };
        }
        IzendaDashboardBackground.factory = function () {
            var directive = function ($window) { return new IzendaDashboardBackground($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaDashboardBackground;
    }());
    module_definition_24.default.directive('izendaDashboardBackground', ['$window', IzendaDashboardBackground.factory()]);
});
izendaRequire.define("dashboard/directives/tile-top-slider", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_25) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Slider for selecting top value.
     */
    var IzendaTileTopSlider = /** @class */ (function () {
        function IzendaTileTopSlider() {
            this.restrict = 'A';
            this.require = ['ngModel'];
            this.scope = {
                disabled: '=',
                rendered: '=',
                ngModel: '=',
                showItemAll: '=',
                onChangeEnd: '&'
            };
            this.template = '<input></input>';
            IzendaTileTopSlider.prototype.link = function ($scope, $element, attrs) {
                var slider = null;
                // initialize values array
                var valuesArray = [];
                for (var i = 1; i <= 10; i++)
                    valuesArray.push(i);
                for (var j = 20; j <= 100; j = j + 10)
                    valuesArray.push(j);
                valuesArray.push(250);
                valuesArray.push(500);
                valuesArray.push(1000);
                valuesArray.push(5000);
                valuesArray.push(10000);
                valuesArray.push('ALL');
                // convert value from values array to the number
                var convertFromToValue = function (valuesArrayIndex) {
                    var val = valuesArray[valuesArrayIndex];
                    if (val === 'ALL')
                        val = -1;
                    return Number(val);
                };
                // add new value to the valuesArray
                var appendValueToFromArray = function (value) {
                    var index = value > 0 ? valuesArray.indexOf(value) : valuesArray.indexOf('ALL');
                    if (index >= 0)
                        return false;
                    var updatedArray = [];
                    valuesArray.forEach(function (currValue) {
                        if (currValue > value && updatedArray.indexOf(value) < 0)
                            updatedArray.push(value);
                        updatedArray.push(currValue);
                    });
                    valuesArray = updatedArray;
                    return true;
                };
                // convert number into values array value and return index of the found value.
                var convertAndGetValuesArrayIndex = function (value) {
                    var index = value > 0 ? valuesArray.indexOf(value) : valuesArray.indexOf('ALL');
                    if (index < 0)
                        index = valuesArray.indexOf('ALL');
                    return index;
                };
                // initialize slider
                var initializeSlider = function () {
                    var $input = $element.children('input');
                    appendValueToFromArray($scope.ngModel); // add current value to the valuesArray if no exist.
                    $input.val('');
                    $input['ionRangeSlider']({
                        disable: $scope.disabled,
                        grid: true,
                        hide_min_max: true,
                        from: convertAndGetValuesArrayIndex($scope.ngModel),
                        values: valuesArray,
                        onFinish: function (data) {
                            var value = convertFromToValue(data.from);
                            if (angular.isFunction($scope.onChangeEnd))
                                $scope.onChangeEnd({ newTop: value });
                        }
                    });
                    slider = $input.data("ionRangeSlider");
                };
                // Set value to slider
                var setSliderValue = function (value) {
                    if (!slider)
                        return;
                    // add value to the values array if not exist.
                    if (appendValueToFromArray(value))
                        slider.update({
                            values: valuesArray
                        });
                    var from = convertAndGetValuesArrayIndex(value);
                    slider.update({
                        from: from
                    });
                };
                // watches: 
                $scope.$watch('ngModel', function (newValue) { return setSliderValue(newValue); });
                $scope.$watch('showItemAll', function (value) {
                    var isAllElementExists = valuesArray.indexOf('ALL') >= 0;
                    if (isAllElementExists && !value)
                        valuesArray.pop();
                    else if (!isAllElementExists && value)
                        valuesArray.push('ALL');
                    if (slider)
                        slider.update({
                            values: valuesArray
                        });
                });
                $scope.$watch('rendered', function (value) {
                    if (value)
                        initializeSlider();
                    else if (slider) {
                        slider.destroy();
                        slider = null;
                    }
                });
                $scope.$watch('disabled', function (value) {
                    if (slider)
                        slider.update({
                            disable: value
                        });
                });
                // destruction method
                $element.on('$destroy', function () {
                    if (slider) {
                        slider.destroy();
                        slider = null;
                    }
                });
            };
        }
        IzendaTileTopSlider.factory = function () {
            return function () { return new IzendaTileTopSlider(); };
        };
        return IzendaTileTopSlider;
    }());
    module_definition_25.default.directive('izendaTileTopSlider', [IzendaTileTopSlider.factory()]);
});
izendaRequire.define("dashboard/directives/toolbar-folder-menu-accordion", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_26) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard toolbar with ability to scroll. Used for navigation between dashboards.
     */
    var IzendaToolbarFolderMenuAccordion = /** @class */ (function () {
        function IzendaToolbarFolderMenuAccordion($timeout, $izendaUrlService, $izendaUtilService) {
            this.$timeout = $timeout;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaUtilService = $izendaUtilService;
            this.restrict = 'A';
            this.scope = {
                categories: '='
            };
            this.templateUrl = '###RS###extres=components.dashboard.directives.toolbar-folder-menu-accordion.html';
            IzendaToolbarFolderMenuAccordion.prototype.link = function ($scope, $element, attrs) {
                // add category 'in' class for currentCategory
                $scope.getCategoryClass = function (index) {
                    return $izendaUtilService.isCategoriesEqual($scope.categories[index].name, $izendaUrlService.getReportInfo().category) ? 'in' : '';
                };
                // get category item activated or not class
                $scope.getCategoryItemClass = function (itemName) {
                    return itemName === $izendaUrlService.getReportInfo().fullName ? 'active' : '';
                };
                // remove category part from report name
                $scope.extractReportName = function (fullName) { return $izendaUrlService.extractReportName(fullName); };
                // navigate to dashboard
                $scope.goToDashboard = function (dashboard) { return $izendaUrlService.setReportFullName(dashboard); };
                // toggle accordion handler
                $scope.toggleAccordion = function (index) {
                    var $categoryContainer = angular.element($element.children()[index]);
                    var $category = $categoryContainer.find('.category');
                    if ($category.hasClass('in'))
                        $category.removeClass('in');
                    else
                        $category.addClass('in');
                    if ($category.hasClass('in'))
                        $categoryContainer.closest('.iz-dash-dashboards-dropdown-container').animate({
                            scrollTop: $categoryContainer.position().top - $categoryContainer.parent().position().top
                        }, 500);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToolbarFolderMenuAccordion.factory = function () {
            var directive = function ($timeout, $izendaUrlService, $izendaUtilService) {
                return new IzendaToolbarFolderMenuAccordion($timeout, $izendaUrlService, $izendaUtilService);
            };
            directive.$inject = ['$timeout', '$izendaUrlService', '$izendaUtilService'];
            return directive;
        };
        return IzendaToolbarFolderMenuAccordion;
    }());
    module_definition_26.default.directive('izendaToolbarFolderMenuAccordion', ['$timeout', '$izendaUrlService', '$izendaUtilService',
        IzendaToolbarFolderMenuAccordion.factory()]);
});
izendaRequire.define("dashboard/directives/toolbar-links-panel", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_27) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard toolbar with ability to scroll. Used for navigation between dashboards.
     */
    var IzendaToolbarLinksPanel = /** @class */ (function () {
        function IzendaToolbarLinksPanel($timeout, $window) {
            this.$timeout = $timeout;
            this.$window = $window;
            this.restrict = 'A';
            this.scope = {
                toolbarItems: '=',
                toolbarActiveItem: '=',
                toolbarActiveItemChangeCounter: '=',
                onClick: '&',
                equalsFunc: '&',
                getTitle: '&'
            };
            this.templateUrl = '###RS###extres=components.dashboard.directives.toolbar-links-panel.html';
            IzendaToolbarLinksPanel.prototype.link = function ($scope, $element, attrs) {
                var $slideScrollContainer = angular.element($element).find('.iz-dash-linkspanel-navbar-2');
                var $slideContainer = angular.element($element).find('.iz-dash-linkspanel-navbar-3');
                var getMinLeft = function () { return $slideScrollContainer.width() - $slideContainer.width() - 80; };
                var getMaxLeft = function () { return 0; };
                var setLeftValue = function (value) {
                    $slideContainer.css('transform', 'translate3d(' + Math.floor(value) + 'px, 0px, 0px)');
                    $slideContainer.attr('transform-left', Math.floor(value));
                };
                var respectEdges = function (position) {
                    var result = position;
                    result = Math.max(result, getMinLeft());
                    result = Math.min(result, getMaxLeft());
                    return result;
                };
                // move toolbar buttons left or right
                var moveMenuItems = function (leftDelta) {
                    var leftString = $slideContainer.attr('transform-left');
                    var leftNumber = 0;
                    if (angular.isString(leftString))
                        leftNumber = parseInt(leftString);
                    leftNumber += leftDelta;
                    leftNumber = respectEdges(leftNumber);
                    setLeftValue(leftNumber);
                };
                // move to item
                $scope.moveTo = function (item) {
                    if (!$scope.toolbarItems)
                        return;
                    var itemToMove = item;
                    if (!itemToMove && $scope.toolbarItems.length > 0)
                        itemToMove = $scope.toolbarItems[$scope.toolbarItems.length - 1];
                    if (itemToMove) {
                        var $item = angular.element($element).find('#izDashToolbarItem' + itemToMove.id);
                        var itemLeft = $item.position().left + $item.width() / 2;
                        var leftNumber = $slideScrollContainer.width() / 2 - itemLeft;
                        leftNumber = respectEdges(leftNumber);
                        setLeftValue(leftNumber);
                    }
                };
                // move right button
                $scope.moveRight = function () { return moveMenuItems(-500); };
                // move left button
                $scope.moveLeft = function () { return moveMenuItems(500); };
                // get active li class 
                $scope.getLiClass = function (item) { return $scope.equalsFunc({ arg0: item, arg1: $scope.toolbarActiveItem }) ? 'active' : ''; };
                // check left and right buttons is needed
                $scope.isButtonsVisible = function () {
                    if ($scope.refreshButtonsWidth) {
                        $scope.sumWidth = 0;
                        $slideContainer.find('.iz-dash-linkspanel-navbar-item').each(function (iNavbarItem, navbarItem) {
                            $scope.sumWidth += angular.element(navbarItem).width();
                        });
                        $scope.refreshButtonsWidth = false;
                    }
                    var width = $slideScrollContainer.width();
                    return width && $scope.sumWidth > width;
                };
                // watch toolbar item collection changed
                $scope.$watchCollection('toolbarItems', function () {
                    $scope.refreshButtonsWidth = true;
                    $slideContainer.find('.iz-dash-linkspanel-navbar-item').on('click', function (e) {
                        var idStr = String(angular.element(e.delegateTarget).attr('id'));
                        var id = parseInt(idStr.split('izDashToolbarItem')[1]);
                        var item = $scope.toolbarItems.find(function (toolbarItem) { return toolbarItem.id === id; }) || null;
                        $scope.moveTo(item);
                        $scope.onClick({ arg0: item });
                        $scope.$applyAsync();
                    });
                });
                // watch active item changed
                $scope.$watch('toolbarActiveItemChangeCounter', function () {
                    $timeout(function () {
                        $scope.moveTo($scope.toolbarActiveItem);
                        $scope.$parent.$eval(attrs.toolbarActiveItem);
                    }, 0);
                });
                // watch active item changed
                $scope.$watch('toolbarActiveItem', function () {
                    $timeout(function () {
                        $scope.moveTo($scope.toolbarActiveItem);
                        $scope.$parent.$eval(attrs.toolbarActiveItem);
                    }, 0);
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToolbarLinksPanel.factory = function () {
            var directive = function ($timeout, $window) { return new IzendaToolbarLinksPanel($timeout, $window); };
            directive.$inject = ['$timeout', '$window'];
            return directive;
        };
        return IzendaToolbarLinksPanel;
    }());
    module_definition_27.default.directive('izendaToolbarLinksPanel', ['$timeout', '$window', IzendaToolbarLinksPanel.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-draggable-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_28) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive provides move function for dashboard tile.
     */
    var IzendaTileDraggable = /** @class */ (function () {
        function IzendaTileDraggable($rootScope, $timeout, $izendaDashboardStorageService) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.restrict = 'E';
            this.scope = {
                enabled: '=',
                gridWidth: '=',
                gridHeight: '=',
                tile: '=',
                tiles: '=',
                onMove: '&',
                onMoveStart: '&',
                onMoveEnd: '&'
            };
            IzendaTileDraggable.prototype.link = function ($scope, $element) {
                var getTileByTile$ = function ($t) {
                    if (!$t || !angular.isArray($scope.tiles))
                        return null;
                    var tileid = Number($t.attr('tileid'));
                    return $scope.tiles.find(function (t) { return t.id === tileid; }) || null;
                };
                /**
                 * Find tile which contain point {x,y}
                 */
                var getUnderlyingTile$ = function (left, top, $tiles) {
                    if (!angular.isArray($scope.tiles))
                        return null;
                    var result = $tiles.find(function ($currentTile, currentTileIndex) {
                        var tileOffset = $currentTile.offset();
                        var currentTile = $scope.tiles[currentTileIndex];
                        if ($scope.tile.id === currentTile.id)
                            return false;
                        return tileOffset.left <= left
                            && left <= tileOffset.left + $currentTile.width()
                            && tileOffset.top <= top
                            && top <= tileOffset.top + $currentTile.height();
                    });
                    return result || null;
                };
                /**
                 * Check tile intersects to any other tile
                 */
                var checkTileIntersects = function ($helper) {
                    var hitTest = function (a, otherTile, accuracyX, accuracyY) {
                        var aPos = a.position();
                        var aTop = aPos.top > 0 ? aPos.top : 0;
                        var aBottom = aTop + a.height();
                        var aLeft = aPos.left > 0 ? aPos.left : 0;
                        var aRight = aLeft + a.width();
                        if (aRight / $scope.gridWidth > 12) {
                            var delta = aRight - $scope.gridWidth * 12;
                            aLeft -= delta;
                            aRight = $scope.gridWidth * 12;
                        }
                        var bLeft = otherTile.x * $scope.gridWidth + accuracyX;
                        var bTop = otherTile.y * $scope.gridHeight + accuracyY;
                        var bRight = (otherTile.x + otherTile.width) * $scope.gridWidth - accuracyX;
                        var bBottom = (otherTile.y + otherTile.height) * $scope.gridHeight - accuracyY;
                        return !(bLeft > aRight || bRight < aLeft || bTop > aBottom || bBottom < aTop);
                    };
                    var result = false;
                    $scope.tiles.forEach(function (oTile) {
                        if (oTile.id === $scope.tile.id)
                            return;
                        if (hitTest($helper, oTile, $scope.gridWidth / 2, $scope.gridHeight / 2))
                            result = true;
                    });
                    return result;
                };
                /**
                 * Get snapped to grid bbox.
                 */
                var getTargetBbox = function (helperLeft, helperTop, helperWidth, helperHeight) {
                    // calculate tile shadow position
                    var x = Math.round(helperLeft / $scope.gridWidth) * $scope.gridWidth;
                    var y = Math.round(helperTop / $scope.gridHeight) * $scope.gridHeight;
                    var helperBbox = {
                        left: x,
                        top: y,
                        width: helperWidth,
                        height: helperHeight
                    };
                    return helperBbox;
                };
                var $tile = $element.closest('.iz-dash-tile');
                var previousHelperBbox = { left: 0, top: 0, width: 0, height: 0 };
                var helperWidth = 0;
                var helperHeight = 0;
                var $tileFlippies;
                var $tilesArray = [];
                // init draggable
                $tile['draggable']({
                    stack: '.iz-dash-tile',
                    handle: '.title-container, .iz-dash-select-report-front-container',
                    distance: 10,
                    helper: function () {
                        var width = $scope.tile.width * $scope.gridWidth;
                        var height = $scope.tile.height * $scope.gridHeight;
                        var helperStr = "<div class=\"iz-dash-tile iz-dash-tile-helper\" style=\"z-index:1000;top:0;left:0;height:" + height + "px;width:" + width + "px;opacity:1;transform:matrix(1,0,0,1,0,0);\">\n\t<div class=\"animate-flip\">\n\t\t<div class=\"flippy flippy-front animated fast\">\n\t\t\t<div class=\"title-container\" style=\"height: 35px; overflow: hidden;\"><div class=\"title\"><span class=\"title-text\"></span></div></div>\n\t\t</div>\n\t</div>\n</div>";
                        return angular.element(helperStr);
                    },
                    start: function (event, ui) {
                        $tileFlippies = $tile.children('.animate-flip').children('.flippy');
                        $scope.tiles.forEach(function (tile) {
                            tile.backTilePopupOpened = false;
                        });
                        // turn off window resize handler
                        $izendaDashboardStorageService.turnOffWindowResizeHandler();
                        // update tiles array;
                        $tilesArray = $scope.tiles.map(function (currentTile) { return angular.element(".iz-dash-tile[tileid=" + currentTile.id + "]"); });
                        $tile = $element.closest('.iz-dash-tile');
                        // fire onMoveStart handler:
                        if (angular.isFunction($scope.onMoveStart))
                            $scope.onMoveStart({ tile: $scope.tile });
                        // prepare helper:
                        var $helper = ui.helper;
                        helperWidth = $helper.width();
                        helperHeight = $helper.height();
                        var $helperFlipFront = $helper.find('.flippy-front');
                        $helperFlipFront.removeClass('flipInY');
                        $helperFlipFront.removeClass('animated');
                        $helperFlipFront.removeClass('fast');
                        $helperFlipFront.css('background-color', 'rgba(50,205,50, 0.3)');
                        $helperFlipFront.find('.frame').remove();
                        $helper.css('z-index', 1000);
                        $helper.css('opacity', 1);
                    },
                    drag: function (event, ui) {
                        var $helper = ui.helper;
                        var $helperFlipFront = $helper.find('.flippy-front');
                        // calculate tile shadow position
                        var helperPos = $helper.position();
                        var helperBbox = getTargetBbox(helperPos.left, helperPos.top, helperWidth, helperHeight);
                        $helperFlipFront.css('background-color', 'rgba(50,205,50, 0.3)'); // semi-transparent green
                        // check underlying tile
                        if (angular.isArray($scope.tiles)) {
                            $scope.tiles.forEach(function (currentTile) {
                                currentTile.backgroundColor = '#fff';
                            });
                            var targetTile = getTileByTile$(getUnderlyingTile$(event.pageX, event.pageY, $tilesArray));
                            if (targetTile)
                                // highlight tile for swap
                                targetTile.backgroundColor = 'rgba(50,205,50, 1)';
                            else if (checkTileIntersects($helper))
                                $helperFlipFront.css('background-color', 'rgba(220,20,60,0.2)');
                        }
                        // prevent duplicate calls
                        if (previousHelperBbox.left === helperBbox.left &&
                            previousHelperBbox.top === helperBbox.top &&
                            previousHelperBbox.width === helperBbox.width &&
                            previousHelperBbox.height === helperBbox.height) {
                            $scope.$applyAsync();
                            return;
                        }
                        previousHelperBbox = helperBbox;
                        // fire onMove handler:
                        if (angular.isFunction($scope.onMove)) {
                            $scope.onMove({
                                tile: $scope.tile,
                                shadowPosition: helperBbox
                            });
                        }
                        $scope.$applyAsync();
                    },
                    stop: function (event, ui) {
                        var $helper = ui.helper;
                        // return default tile color
                        if (angular.isArray($scope.tiles)) {
                            $scope.tiles.forEach(function (currentTile) {
                                currentTile.backgroundColor = '';
                            });
                        }
                        $scope.tile.backgroundColor = '';
                        var $animatedTiles = [];
                        var eventResult = {
                            type: 'none',
                            isTileSizeChanged: false,
                            tile: $scope.tile,
                            targetTile: getTileByTile$(getUnderlyingTile$(event.pageX, event.pageY, $tilesArray))
                        };
                        if (eventResult.targetTile) {
                            // swap tiles
                            eventResult.type = 'swap';
                            eventResult.isTileSizeChanged = $scope.tile.width !== eventResult.targetTile.width ||
                                $scope.tile.height !== eventResult.targetTile.height;
                            // exchange sizes
                            var tileChangeObject = {
                                x: $scope.tile.x,
                                y: $scope.tile.y,
                                width: $scope.tile.width,
                                height: $scope.tile.height
                            };
                            // set new size for current tile:
                            $scope.tile.x = eventResult.targetTile.x;
                            $scope.tile.y = eventResult.targetTile.y;
                            $scope.tile.width = eventResult.targetTile.width;
                            $scope.tile.height = eventResult.targetTile.height;
                            // set new size for target tile
                            eventResult.targetTile.x = tileChangeObject.x;
                            eventResult.targetTile.y = tileChangeObject.y;
                            eventResult.targetTile.width = tileChangeObject.width;
                            eventResult.targetTile.height = tileChangeObject.height;
                            // run animation:
                            // clear tile content for smooth animation
                            [$scope.tile, eventResult.targetTile].forEach(function (affectedTile) {
                                var $affectedTile = angular.element('.iz-dash-tile[tileid=' + affectedTile.id + ']');
                                $affectedTile.addClass('transition');
                                $animatedTiles.push($affectedTile);
                            });
                        }
                        else if (!checkTileIntersects($helper)) {
                            eventResult.type = 'move';
                            var helperPos = $helper.position();
                            var helperBbox = getTargetBbox(helperPos.left, helperPos.top, helperWidth, helperHeight);
                            $scope.tile.x = Math.round(helperBbox.left / $scope.gridWidth);
                            $scope.tile.y = Math.round(helperBbox.top / $scope.gridHeight);
                            $scope.tile.width = Math.round(helperBbox.width / $scope.gridWidth);
                            $scope.tile.height = Math.round(helperBbox.height / $scope.gridHeight);
                            if ($scope.tile.x < 0)
                                $scope.tile.x = 0;
                            if ($scope.tile.y < 0)
                                $scope.tile.y = 0;
                            if ($scope.tile.x + $scope.tile.width > 12) {
                                $scope.tile.x = 12 - $scope.tile.width;
                                eventResult.isTileSizeChanged = true;
                            }
                            // run animation for current tile:
                            var $t = angular.element('.iz-dash-tile[tileid=' + $scope.tile.id + ']');
                            $t.addClass('transition');
                            $animatedTiles.push($t);
                        }
                        $animatedTiles.forEach(function ($t) {
                            $t.find('.report').hide();
                        });
                        $scope.$applyAsync();
                        setTimeout(function () {
                            $animatedTiles.forEach(function ($t) {
                                $t.removeClass('transition');
                            });
                            $tile.css('z-index', '1');
                            $tile.find('.frame').removeClass('hidden');
                            $tileFlippies.removeClass('flipInY');
                            $tileFlippies.removeClass('animated');
                            $tileFlippies.removeClass('fast');
                            setTimeout(function () {
                                $animatedTiles.forEach(function ($t) {
                                    $t.find('.report').show();
                                });
                                // turn on window resize handler
                                $izendaDashboardStorageService.turnOnWindowResizeHandler();
                                // fire onMoveEnd handler:
                                if (angular.isFunction($scope.onMoveEnd)) {
                                    $scope.onMoveEnd({ eventResult: eventResult });
                                }
                                $scope.$applyAsync();
                            }, 100);
                        }, 300);
                    }
                });
                // handlers
                $scope.$watch('enabled', function (enabled, prevEnabled) {
                    if (enabled === prevEnabled)
                        return;
                    $tile['draggable'](enabled ? 'enable' : 'disable');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaTileDraggable.factory = function () {
            var directive = function ($rootScope, $timeout, $izendaDashboardStorageService) {
                return new IzendaTileDraggable($rootScope, $timeout, $izendaDashboardStorageService);
            };
            directive.$inject = ['$rootScope', '$timeout', '$izendaDashboardStorageService'];
            return directive;
        };
        return IzendaTileDraggable;
    }());
    module_definition_28.default.directive('izendaTileDraggable', ['$rootScope', '$timeout', '$izendaDashboardStorageService', IzendaTileDraggable.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-flip-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_29) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Tile flip directive. Flips tile and calls handler.
     */
    var IzendaTileFlip = /** @class */ (function () {
        function IzendaTileFlip($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                flipObject: '=izendaTileFlipObject',
                flipHandler: '&izendaTileFlipHandler'
            };
            IzendaTileFlip.prototype.link = function ($scope, $element) {
                var getFlippyFront = function () { return $element.children('.animate-flip').children('.flippy-front'); };
                var getFlippyBack = function () { return $element.children('.animate-flip').children('.flippy-back'); };
                var flipTileFront = function (update, updateFromSourceReport) {
                    var showClass = 'animated fast flipInY';
                    var hideClass = 'animated fast flipOutY';
                    var $front = getFlippyFront();
                    var $back = getFlippyBack();
                    $element.children('.ui-resizable-handle').hide();
                    $back.addClass(hideClass);
                    $front.removeClass(showClass);
                    $front.css('display', 'block').addClass(showClass);
                    $back.css('display', 'none').removeClass(hideClass);
                    $timeout(function () {
                        $front.removeClass('flipInY');
                        $back.removeClass('flipInY');
                        $element.children('.ui-resizable-handle').fadeIn(200);
                    }, 200).then(function () {
                        // call handler
                        if (angular.isFunction($scope.flipHandler))
                            $scope.flipHandler({
                                isFront: true,
                                update: update,
                                updateFromSourceReport: updateFromSourceReport
                            });
                    });
                };
                var flipTileBack = function () {
                    var showClass = 'animated fast flipInY';
                    var hideClass = 'animated fast flipOutY';
                    var $front = getFlippyFront();
                    var $back = getFlippyBack();
                    $element.children('.ui-resizable-handle').hide();
                    $front.addClass(hideClass);
                    $back.removeClass(showClass);
                    $back.css('display', 'block').addClass(showClass);
                    $front.css('display', 'none').removeClass(hideClass);
                    $timeout(function () {
                        $front.removeClass('flipInY');
                        $back.removeClass('flipInY');
                        $element.children('.ui-resizable-handle').fadeIn(200);
                    }, 200).then(function () {
                        // call handler
                        if (angular.isFunction($scope.flipHandler)) {
                            $scope.flipHandler({
                                isFront: false
                            });
                        }
                    });
                };
                $scope.$watch('flipObject', function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    if (newValue.isFront)
                        flipTileFront(newValue.update, newValue.updateFromSourceReport);
                    else
                        flipTileBack();
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaTileFlip.factory = function () {
            var directive = function ($timeout) { return new IzendaTileFlip($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaTileFlip;
    }());
    module_definition_29.default.directive('izendaTileFlip', ['$timeout', IzendaTileFlip.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-hover-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_30) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Tile hover directive. Adds onHover event handler to tile.
     */
    var IzendaTileHover = /** @class */ (function () {
        function IzendaTileHover($window) {
            this.$window = $window;
            this.restrict = 'A';
            IzendaTileHover.prototype.link = function ($scope, $element, attrs) {
                var uid = Math.floor(Math.random() * 1000000);
                var windowMouseMoveEventName = "mousemove.tilehover" + uid;
                var isHoveringOverTile = false;
                var isHoverLocked = false;
                // set hover classes func
                var applyTileHover = function ($tile, isHoveringNow) {
                    var reportComplexityCoefficent = $scope.$eval(attrs.izendaTileHoverReportComplexity);
                    if (isHoverLocked && reportComplexityCoefficent < 0.5)
                        return;
                    if (isHoveringNow) {
                        $tile.addClass('hover');
                        $tile.removeClass('no-hover-overflow');
                    }
                    else {
                        $tile.addClass('no-hover-overflow');
                        $tile.removeClass('hover');
                    }
                };
                // hover event handlers
                $element.hover(function () {
                    applyTileHover($element, true);
                }, function () {
                    applyTileHover($element, false);
                });
                // window mouse move event handlers
                angular.element($window).on(windowMouseMoveEventName, function (e) {
                    var $tileElement = angular.element(e.target).closest('div.iz-dash-tile');
                    var overTile = $tileElement.length > 0 && $tileElement.attr('tileid') == $element.attr('tileid');
                    if (overTile !== isHoveringOverTile) {
                        applyTileHover($element, overTile);
                    }
                    isHoveringOverTile = overTile;
                });
                $scope.$watch('$ctrl.tile.backTilePopupOpened', function (newVal, oldVal) {
                    if (!newVal && oldVal) {
                        // backTilePopupOpened turned off
                        isHoverLocked = false;
                        applyTileHover($element, isHoveringOverTile);
                    }
                    else if (newVal && !oldVal) {
                        // backTilePopupOpened turned on
                        applyTileHover($element, true);
                        isHoverLocked = true;
                    }
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element.off('hover');
                    angular.element($window).off(windowMouseMoveEventName);
                });
            };
        }
        IzendaTileHover.factory = function () {
            var directive = function ($window) { return new IzendaTileHover($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaTileHover;
    }());
    module_definition_30.default.directive('izendaTileHover', ['$window', IzendaTileHover.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-resizable-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_31) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive provides resize function for dashboard tile.
     */
    var IzendaTileResizable = /** @class */ (function () {
        function IzendaTileResizable($izendaDashboardStorageService) {
            var _this = this;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.restrict = 'E';
            this.scope = {
                gridWidth: '=',
                gridHeight: '=',
                tile: '=',
                tiles: '=',
                onResize: '&',
                onResizeStart: '&',
                onResizeEnd: '&'
            };
            IzendaTileResizable.prototype.link = function ($scope, $element) {
                // initialize resizable
                var $tile = $element.closest('.iz-dash-tile');
                var $tileFlippies;
                var previousHelperBbox = { left: 0, top: 0, width: 0, height: 0 };
                /**
                 * Check tile intersects to any other tile
                 */
                var checkTileIntersects = function ($helper) {
                    var hitTest = function (a, otherTile, accuracyX, accuracyY) {
                        var aPos = a.position();
                        var aTop = aPos.top > 0 ? aPos.top : 0;
                        var aBottom = aTop + a.height();
                        var aLeft = aPos.left > 0 ? aPos.left : 0;
                        var aRight = aLeft + a.width();
                        if (aRight / $scope.gridWidth > 12) {
                            var delta = aRight - $scope.gridWidth * 12;
                            aLeft -= delta;
                            aRight = $scope.gridWidth * 12;
                        }
                        var bLeft = otherTile.x * $scope.gridWidth + accuracyX;
                        var bTop = otherTile.y * $scope.gridHeight + accuracyY;
                        var bRight = (otherTile.x + otherTile.width) * $scope.gridWidth - accuracyX;
                        var bBottom = (otherTile.y + otherTile.height) * $scope.gridHeight - accuracyY;
                        return !(bLeft > aRight || bRight < aLeft || bTop > aBottom || bBottom < aTop);
                    };
                    var result = false;
                    $scope.tiles.forEach(function (oTile) {
                        if (oTile.id === $scope.tile.id)
                            return;
                        if (hitTest($helper, oTile, $scope.gridWidth / 2, $scope.gridHeight / 2))
                            result = true;
                    });
                    return result;
                };
                /**
                 * Update resizable according to current gridWidth and gridHeight
                 */
                var updateContraints = function () {
                    $tile['resizable']('option', 'grid', [$scope.gridWidth, $scope.gridHeight]);
                    $tile['resizable']('option', 'minHeight', $scope.gridWidth);
                    $tile['resizable']('option', 'minWidth', $scope.gridHeight);
                };
                /**
                 * Update tile x,y,width,height according to the new dom element size
                 */
                var updateTileSize = function (tile, $t) {
                    var tilePosition = $t.position();
                    var x = Math.round(tilePosition.left / $scope.gridWidth);
                    var y = Math.round(tilePosition.top / $scope.gridHeight);
                    var width = Math.round($t.width() / $scope.gridWidth);
                    var height = Math.round($t.height() / $scope.gridHeight);
                    var isTileSizeNeedToCorrect = x < 0 || y < 0 || x + width > 12;
                    if (x < 0) {
                        width = width + x;
                        tile.x = 0;
                    }
                    else
                        tile.x = x;
                    if (y < 0) {
                        height = height + y;
                        tile.y = 0;
                    }
                    else
                        tile.y = y;
                    tile.width = width;
                    tile.height = height;
                    if (tile.x + tile.width > 12) {
                        tile.width = 12 - tile.x;
                    }
                    if (isTileSizeNeedToCorrect) {
                        var l = tile.x * $scope.gridWidth;
                        var t = tile.y * $scope.gridHeight;
                        $t.css('transform', "translate3d(" + l + "px," + t + "px,0)");
                        $t.width(tile.width * $scope.gridWidth);
                        $t.height(tile.height * $scope.gridHeight);
                    }
                };
                // initialize resizable for tile
                $tile['resizable']({
                    minWidth: $scope.gridWidth,
                    minHeight: $scope.gridHeight,
                    grid: [$scope.gridWidth, $scope.gridHeight],
                    handles: 'n, e, s, w, se',
                    // start resize handler
                    start: function (event) {
                        $scope.tiles.forEach(function (t) {
                            t.backTilePopupOpened = false;
                        });
                        // turn off window resize handler
                        _this.$izendaDashboardStorageService.turnOffWindowResizeHandler();
                        // context variables
                        $tile = angular.element(event.target);
                        $tileFlippies = $tile.children('.animate-flip').children('.flippy');
                        $tileFlippies.children('.frame').addClass('hidden');
                        $tileFlippies.removeClass('flipInY');
                        $tileFlippies.css('background-color', 'rgba(50,205,50, 0.3)');
                        $tile.css('z-index', 1000);
                        $tile.css('opacity', 1);
                        // fire onResizeStart handler:
                        if (angular.isFunction($scope.onResizeStart)) {
                            var eventResult = {
                                tile: $scope.tile
                            };
                            $scope.onResizeStart({ eventResult: eventResult });
                        }
                    },
                    // resize handler
                    resize: function () {
                        var helperPosition = $tile.position();
                        var x = Math.round(helperPosition.left / $scope.gridWidth) * $scope.gridWidth;
                        var y = Math.round(helperPosition.top / $scope.gridHeight) * $scope.gridHeight;
                        var helperBbox = {
                            left: x,
                            top: y,
                            width: Math.round($tile.width() / $scope.gridWidth) * $scope.gridWidth,
                            height: Math.round($tile.height() / $scope.gridHeight) * $scope.gridWidth
                        };
                        // prevent duplicate calls
                        if (previousHelperBbox.left === helperBbox.left &&
                            previousHelperBbox.top === helperBbox.top &&
                            previousHelperBbox.width === helperBbox.width &&
                            previousHelperBbox.height === helperBbox.height)
                            return;
                        previousHelperBbox = helperBbox;
                        // fire onMove handler:
                        if (angular.isFunction($scope.onResize)) {
                            var eventResult = {
                                tile: $scope.tile,
                                shadowPosition: helperBbox
                            };
                            $scope.onResize({ eventResult: eventResult });
                        }
                        $tileFlippies.css('background-color', 'rgba(50,205,50, 0.5)');
                        if (checkTileIntersects($tile)) {
                            $tileFlippies.css('background-color', 'rgba(220,20,60,0.5)');
                        }
                    },
                    // end resize handler
                    stop: function (event, ui) {
                        $tile.css('z-index', '1');
                        $tile.find('.frame').removeClass('hidden');
                        $tileFlippies.removeClass('flipInY');
                        $tileFlippies.removeClass('animated');
                        $tileFlippies.removeClass('fast');
                        $tileFlippies.css('background-color', '');
                        var eventResult;
                        if (checkTileIntersects($tile)) {
                            $tile.animate({
                                left: ui.originalPosition.left,
                                top: ui.originalPosition.top,
                                width: ui.originalSize.width,
                                height: ui.originalSize.height
                            }, 200);
                            eventResult = {
                                action: 'resize cancel',
                                isTileSizeChanged: false
                            };
                        }
                        else {
                            var isTileSizeChanged = $tile.width() !== ui.originalSize.width || $tile.height() !== ui.originalSize.height;
                            if (isTileSizeChanged)
                                updateTileSize($scope.tile, $tile);
                            eventResult = {
                                action: 'resize end',
                                isTileSizeChanged: isTileSizeChanged
                            };
                        }
                        $tileFlippies.children('.frame').removeClass('hidden');
                        $tile.css('opacity', 1);
                        // turn on window resize handler
                        _this.$izendaDashboardStorageService.turnOnWindowResizeHandler();
                        // fire onResizeEnd handler:
                        if (angular.isFunction($scope.onResizeEnd)) {
                            $scope.onResizeEnd({
                                eventResult: eventResult
                            });
                        }
                    }
                });
                // handlers
                $scope.$watch('enabled', function (enabled, prevEnabled) {
                    if (enabled === prevEnabled)
                        return;
                    $tile['resizable'](enabled ? 'enable' : 'disable');
                });
                $scope.$watch('gridWidth', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    updateContraints();
                });
                $scope.$watch('gridHeight', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    updateContraints();
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaTileResizable.factory = function () {
            var directive = function ($izendaDashboardStorageService) { return new IzendaTileResizable($izendaDashboardStorageService); };
            directive.$inject = ['$izendaDashboardStorageService'];
            return directive;
        };
        return IzendaTileResizable;
    }());
    module_definition_31.default.directive('izendaTileResizable', ['$izendaDashboardStorageService', IzendaTileResizable.factory()]);
});
izendaRequire.define("dashboard/components/tile-back/tile-back-component", ["require", "exports", "common/core/tools/izenda-component", "dashboard/module-definition", "common/query/services/settings-service", "common/core/services/compatibility-service", "izenda-external-libs"], function (require, exports, izenda_component_8, module_definition_32, settings_service_5, compatibility_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Back tile component definition
     */
    var IzendaDashboardTileBackComponent = /** @class */ (function () {
        function IzendaDashboardTileBackComponent($izendaSettingsService, $izendaDashboardSettings, $izendaCompatibilityService) {
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.showAllInResults = true;
            this.isDesignLinksAllowed = true;
            this.printMode = 'Html2PdfAndHtml';
        }
        IzendaDashboardTileBackComponent.prototype.$onInit = function () {
            this.initializeAdHocSettings();
        };
        ;
        IzendaDashboardTileBackComponent.prototype.topSelected = function (newTop) {
            if (this.onSetTileTop)
                this.onSetTileTop({ top: newTop });
        };
        IzendaDashboardTileBackComponent.prototype.printTile = function () {
            this.fireHandler(this.onPrint);
        };
        IzendaDashboardTileBackComponent.prototype.fireExportToExcel = function () {
            this.fireHandler(this.onExportExcel);
        };
        IzendaDashboardTileBackComponent.prototype.fireReportEditorLink = function () {
            this.fireHandler(this.onGoToEditor);
        };
        IzendaDashboardTileBackComponent.prototype.fireReportViewerLink = function () {
            this.fireHandler(this.onGoToViewer);
        };
        IzendaDashboardTileBackComponent.prototype.reloadTile = function () {
            this.fireHandler(this.onReload);
        };
        IzendaDashboardTileBackComponent.prototype.selectReportPart = function () {
            this.fireHandler(this.onSelectReport);
        };
        //////////////////////////////////////////////////////////////////////
        // rights
        //////////////////////////////////////////////////////////////////////
        IzendaDashboardTileBackComponent.prototype.hasRightLevel = function (requiredLevel) {
            var rights = ['None', 'Locked', 'View Only', 'Read Only', 'Full Access'];
            var currentRightLevel = rights.indexOf(this.tile.maxRights);
            if (currentRightLevel < 0)
                throw 'Unknown right string: ' + this.tile.maxRights;
            return currentRightLevel >= requiredLevel;
        };
        IzendaDashboardTileBackComponent.prototype.hasLockedRightsOrMore = function () {
            return this.hasRightLevel(1);
        };
        IzendaDashboardTileBackComponent.prototype.hasViewOnlyRightsOrMore = function () {
            return this.hasRightLevel(2);
        };
        IzendaDashboardTileBackComponent.prototype.hasReadOnlyRightsOrMore = function () {
            return this.hasRightLevel(3);
        };
        IzendaDashboardTileBackComponent.prototype.hasFullRights = function () {
            return this.hasRightLevel(4);
        };
        /**
         * Is html model enabled in AdHocSettings
         */
        IzendaDashboardTileBackComponent.prototype.isPrintTileVisible = function () {
            return this.printMode === 'Html' || this.printMode === 'Html2PdfAndHtml';
        };
        /**
         * Check if one column view required
         */
        IzendaDashboardTileBackComponent.prototype.isOneColumnView = function () {
            return this.$izendaCompatibilityService.isOneColumnView();
        };
        IzendaDashboardTileBackComponent.prototype.initializeAdHocSettings = function () {
            var settings = this.$izendaSettingsService.getCommonSettings();
            this.isDesignLinksAllowed = settings.showDesignLinks; // show/hide "go to designer" button
            this.showAllInResults = settings.showAllInResults; // show "ALL" in tile top slider
            this.printMode = this.$izendaDashboardSettings.allowedPrintEngine; // allowed print modes
        };
        IzendaDashboardTileBackComponent.prototype.fireHandler = function (handlerFunction) {
            if (handlerFunction)
                handlerFunction({});
        };
        IzendaDashboardTileBackComponent = __decorate([
            izenda_component_8.default(module_definition_32.default, 'izendaDashboardTileBack', ['$izendaSettingsService', '$izendaDashboardSettings', '$izendaCompatibilityService'], {
                templateUrl: '###RS###extres=components.dashboard.components.tile-back.tile-back-template.html',
                bindings: {
                    tile: '<',
                    focused: '<',
                    onSetTileTop: '&',
                    onPrint: '&',
                    onExportExcel: '&',
                    onGoToEditor: '&',
                    onGoToViewer: '&',
                    onReload: '&',
                    onSelectReport: '&'
                }
            }),
            __metadata("design:paramtypes", [settings_service_5.default, Object, compatibility_service_2.default])
        ], IzendaDashboardTileBackComponent);
        return IzendaDashboardTileBackComponent;
    }());
    exports.IzendaDashboardTileBackComponent = IzendaDashboardTileBackComponent;
});
izendaRequire.define("dashboard/components/tile/tile-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/core/services/compatibility-service", "common/core/services/util-service", "common/query/services/url-service", "common/core/services/util-ui-service", "common/core/services/localization-service", "common/query/services/settings-service", "dashboard/services/dashboard-storage-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_9, module_definition_33, compatibility_service_3, util_service_2, url_service_4, util_ui_service_5, localization_service_7, settings_service_6, dashboard_storage_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Tile default state object
     */
    module_definition_33.default.constant('tileDefaults', {
        id: null,
        canBeLoaded: false,
        maxRights: 'None',
        title: null,
        description: null,
        reportFullName: null,
        reportPartName: null,
        reportSetName: null,
        reportName: null,
        reportCategory: null,
        reportNameWithCategory: null,
        previousReportFullName: null,
        isSourceReportDeleted: false,
        designerType: 'ReportDesigner',
        x: 0,
        y: 0,
        width: 1,
        height: 1,
        top: 100,
        topString: '100',
        flip: false,
        applyFilterParams: false,
        backgroundColor: '#fff',
        backTilePopupOpened: false
    });
    var IzendaDashboardTileComponent = /** @class */ (function () {
        function IzendaDashboardTileComponent(rx, $element, $interval, $timeout, $window, $izendaCompatibilityService, $izendaUtilService, $izendaUrlService, $izendaUtilUiService, $izendaLocaleService, $izendaSettingsService, $izendaDashboardSettings, $izendaDashboardStorageService) {
            this.rx = rx;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$window = $window;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.deleteConfirmClass = 'title-button hidden-confirm-btn';
            this.tileSizeChanged = false;
            this.isSelectReportPartModalVisible = false;
            this.isDashboardChangingNow = false;
        }
        IzendaDashboardTileComponent.prototype.$onInit = function () {
            var _this = this;
            this.subscriptions = [];
            this.isIe = this.$izendaCompatibilityService.isIe();
            this.isButtonsVisible = true;
            this.deleteConfirmClass = 'title-button hidden-confirm-btn';
            this.tileSizeChanged = false;
            this.state = {
                empty: true,
                resizableHandlerStarted: false,
                relativeReportComplexity: 0
            };
            this.isSelectReportPartModalVisible = false;
            this.exportProgress = null;
            this.previousWidth = this.$window.innerWidth;
            this.subscriptions = [
                this.$izendaDashboardStorageService.refreshObservable.subscribe(function (refreshInfo) { return _this.$onRefresh(refreshInfo); }),
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    if (_this.previousWidth === newWindowSize.width)
                        return;
                    _this.previousWidth = newWindowSize.width;
                    _this.refreshTile(false);
                })
            ];
        };
        /**
         * Bindings listener
         */
        IzendaDashboardTileComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.tile && angular.isObject(changesObj.tile)) {
                this.refreshTile();
            }
            ;
        };
        IzendaDashboardTileComponent.prototype.$onDestroy = function () {
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        IzendaDashboardTileComponent.prototype.$onRefresh = function (refreshInfo) {
            var updateFromSource = refreshInfo.updateFromSource;
            var tile = refreshInfo.tile;
            if (!tile || tile === this.tile)
                this.refreshTile(updateFromSource);
        };
        /**
         * Check if tile is empty
         */
        IzendaDashboardTileComponent.prototype.isTileEmpty = function () {
            return this.state.empty;
        };
        /**
         * Check if one column view required
         */
        IzendaDashboardTileComponent.prototype.isOneColumnView = function () {
            return this.$izendaCompatibilityService.isOneColumnView();
        };
        /**
         * Check tile is read only
         */
        IzendaDashboardTileComponent.prototype.isEditAllowed = function () {
            return this.$izendaCompatibilityService.isEditAllowed();
        };
        /**
         * Check if tile title set
         */
        IzendaDashboardTileComponent.prototype.isTitleSet = function () {
            return angular.isString(this.tile.title) && this.tile.title !== '';
        };
        /**
         * Is tile small enough and we need to show buttons without labels.
         */
        IzendaDashboardTileComponent.prototype.isTileButtonsTight = function () {
            return this.tile.width * this.gridWidth < 400;
        };
        /**
         * change report category from cat1\cat2\cat3 to cat1/cat2/cat3
         */
        IzendaDashboardTileComponent.prototype.getConvertedReportCategory = function () {
            return angular.isString(this.tile.reportCategory) ? this.tile.reportCategory : null;
        };
        /**
         * Generate title text
         */
        IzendaDashboardTileComponent.prototype.getTitleText = function () {
            if (this.isTitleSet())
                return this.tile.title;
            var result = '';
            if (this.getConvertedReportCategory())
                result += this.getConvertedReportCategory() + ' / ';
            if (this.tile.reportName && this.tile.reportPartName)
                result += this.tile.reportName + ' / ' + this.tile.reportPartName;
            return result;
        };
        /**
         * Is html model enabled in AdHocSettings
         */
        IzendaDashboardTileComponent.prototype.isReportDivHidden = function () {
            return !this.tile.reportFullName || this.isDashboardChangingNow;
        };
        /**
         * Is tile content should be hidden now.
         */
        IzendaDashboardTileComponent.prototype.isTileSmallEnough = function () {
            return this.tile.width * this.gridWidth < 400 || this.tile.height * this.gridHeight < 400;
        };
        /**
         * Class for confirm delete button (depends on tile size)
         */
        IzendaDashboardTileComponent.prototype.getConfirmDeleteClass = function () {
            var tightClass = this.isTileButtonsTight() ? ' short' : '';
            return "title-button-confirm-remove" + tightClass;
        };
        /**
         * Class for cancel delete button (depends on tile size)
         */
        IzendaDashboardTileComponent.prototype.getCancelDeleteClass = function () {
            var tightClass = this.isTileButtonsTight() ? ' short' : '';
            return "title-button-cancel-remove" + tightClass;
        };
        //////////////////////////////////////////////////////////////////////
        // export modal
        //////////////////////////////////////////////////////////////////////
        IzendaDashboardTileComponent.prototype.getWaitMessageHeaderText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_ExportingInProgress', 'Exporting in progress.');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_PrintingInProgress', 'Printing in progress.');
            return '';
        };
        IzendaDashboardTileComponent.prototype.getWaitMessageText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_FinishExporting', 'Please wait till export is completed...');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_FinishPrinting', 'Please finish printing before continue.');
            return '';
        };
        //////////////////////////////////////////////////////////////////////
        // tile actions
        //////////////////////////////////////////////////////////////////////
        /**
         * Show confirm delete dialog in title
         */
        IzendaDashboardTileComponent.prototype.showConfirmDelete = function () {
            if (!this.tile.reportFullName) {
                this.deleteTile();
                return;
            }
            this.deleteConfirmClass = 'title-button';
        };
        /**
         * Hide confirm delete dialog in title
         */
        IzendaDashboardTileComponent.prototype.hideConfirmDelete = function () {
            this.deleteConfirmClass = 'title-button hidden-confirm-btn';
        };
        /**
         * Delete this tile
         */
        IzendaDashboardTileComponent.prototype.deleteTile = function () {
            if (angular.isFunction(this.onTileDelete)) {
                this.onTileDelete(this.tile);
            }
        };
        /**
         * Close back tile popup
         */
        IzendaDashboardTileComponent.prototype.closeBackTilePopup = function () {
            this.tile.backTilePopupOpened = false;
        };
        /**
         * Back tile popup closed handler
         */
        IzendaDashboardTileComponent.prototype.onBackTilePopupClosed = function () {
        };
        /**
         * Print tile
         */
        IzendaDashboardTileComponent.prototype.printTile = function () {
            var _this = this;
            this.closeBackTilePopup();
            // print single tile if parameter is set:
            if (!this.tile.reportFullName)
                return;
            this.$izendaDashboardStorageService.printDashboard('html', this.tile.reportFullName).then(function () {
                // HTML print print successfully completed handler
                _this.flipFront(true, false);
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
                _this.flipFront(true, false);
            });
        };
        /**
         * Export to excel
         */
        IzendaDashboardTileComponent.prototype.exportExcel = function () {
            var _this = this;
            this.closeBackTilePopup();
            // download the file
            // TODO very easy to add PDF print for tile: 'excel' => 'pdf'
            this.$izendaDashboardStorageService.printDashboard('excel', this.tile.reportFullName).then(function () {
                _this.flipFront(true, false);
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedExportReportTitle', 'Report export error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedExportReport', 'Failed to export report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
                _this.flipFront(true, false);
            });
        };
        /**
         * Back tile side click handler
         */
        IzendaDashboardTileComponent.prototype.onBackTileClick = function () {
            var _this = this;
            this.tiles.forEach(function (tile) {
                if (tile.id !== _this.tile.id)
                    tile.backTilePopupOpened = false;
            });
            if (this.isTileSmallEnough()) {
                this.tile.backTilePopupOpened = !this.tile.backTilePopupOpened;
            }
            else {
                this.flipBack();
            }
        };
        /**
         * Flip tile back
         */
        IzendaDashboardTileComponent.prototype.flipBack = function () {
            this.tile.flip = {
                isFront: false
            };
        };
        /**
         * Flip tile front
         */
        IzendaDashboardTileComponent.prototype.flipFront = function (update, updateFromSourceReport) {
            this.closeBackTilePopup();
            this.tile.flip = {
                isFront: true,
                update: update,
                updateFromSourceReport: updateFromSourceReport
            };
        };
        /**
         * Go to report viewer
         */
        IzendaDashboardTileComponent.prototype.fireReportViewerLink = function () {
            this.closeBackTilePopup();
            if (!this.tile.isSourceReportDeleted) {
                this.$window.open(this.getReportViewerLink(), '_blank');
            }
            else {
                var errorText = this.$izendaLocaleService.localeText('js_SourceReportNotExist', 'Source report "{0}" doesn\'t exist.');
                errorText = errorText.replace(new RegExp(/\{0\}/g), this.getSourceReportName());
                this.$izendaUtilUiService.showErrorDialog(errorText);
            }
        };
        /**
         * Go to report editor
         */
        IzendaDashboardTileComponent.prototype.fireReportEditorLink = function () {
            this.closeBackTilePopup();
            if (!this.tile.isSourceReportDeleted) {
                this.$window.open(this.getReportEditorLink(), '_blank');
            }
            else {
                var errorText = this.$izendaLocaleService.localeText('js_SourceReportNotExist', 'Source report "{0}" not exist.');
                errorText = errorText.replace(new RegExp(/\{0\}/g), this.getSourceReportName());
                this.$izendaUtilUiService.showErrorDialog(errorText);
            }
        };
        /**
         * Refresh tile content
         * @param {boolean} updateFromSourceReport. Is tile content need to be refreshed from the source report.
         * TODO: remove DOM manipulations to separate directive.
         */
        IzendaDashboardTileComponent.prototype.refreshTile = function (updateFromSourceReport) {
            // TODO: do we need this variable?
            //const updateFromSource = this.tile.updateFromSource || updateFromSourceReport;
            var _this = this;
            this.tileSizeChanged = false; // reset tile size information
            this.tile.updateFromSource = false; // reset update from source flag
            if (!this.tile.reportFullName)
                return;
            this.tile.previousReportFullName = null;
            // set loading html
            var loadingHtml = "<div class=\"izenda-common-vcentered-container\">\n\t<div class=\"izenda-common-vcentered-item\">\n\t\t<img class=\"izenda-common-img-loading\" src=\"" + this.$izendaUrlService.settings.urlRpPage + "image=ModernImages.loading-grid.gif\" alt=\"Loading...\" />\n\t</div>\n</div>";
            var $body = this.$element.find('.animate-flip> .flippy-front> .frame> .report');
            $body.html(loadingHtml);
            // calculate tile width and height in pixels
            var tileWidth = this.getWidth() * this.gridWidth - 20;
            var tileHeight = this.getHeight() * this.gridHeight - 55;
            if (this.tile.description)
                tileHeight -= 32;
            var size = {
                height: tileHeight,
                width: tileWidth
            };
            // load preview
            this.$izendaDashboardStorageService.loadTilesPreview(this.tile, size).then(function (tilesHtml) {
                _this.applyTileHtml(tilesHtml);
            }, function (error) {
                _this.applyTileHtml(error);
            });
        };
        /**
         * Set tile top values.
         */
        IzendaDashboardTileComponent.prototype.setTileTop = function (newTop) {
            this.tile.top = newTop;
            this.tile.topString = '' + newTop;
        };
        //////////////////////////////////////////////////////////////////////
        // tile handlers
        //////////////////////////////////////////////////////////////////////
        /**
         * Resize start handler
         */
        IzendaDashboardTileComponent.prototype.onTileResizeStartInner = function (eventResult) {
            this.isButtonsVisible = false;
            if (angular.isFunction(this.onTileResizeStart))
                this.onTileResizeStart(eventResult);
        };
        /**
         * Resize handler
         */
        IzendaDashboardTileComponent.prototype.onTileResizeInner = function (eventResult) {
            if (angular.isFunction(this.onTileResize))
                this.onTileResize(eventResult);
        };
        /**
         * Resize end handler
         */
        IzendaDashboardTileComponent.prototype.onTileResizeEndInner = function (eventResult) {
            if (eventResult.isTileSizeChanged) {
                this.flipFront();
                this.refreshTile(false);
            }
            if (angular.isFunction(this.onTileResizeEnd)) {
                this.onTileResizeEnd(eventResult);
            }
            this.isButtonsVisible = true;
        };
        /**
         * Drag end handler
         */
        IzendaDashboardTileComponent.prototype.onTileDragEndInner = function (eventResult) {
            var resultType = eventResult.type; // 'swap', 'move' or 'none'
            if (resultType === 'swap' && eventResult.targetTile && eventResult.isTileSizeChanged) {
                // we have to notify another tile about swap
                this.$izendaDashboardStorageService.refreshDashboard(false, false, eventResult.targetTile);
            }
            if (eventResult.isTileSizeChanged)
                this.refreshTile(false);
            if (angular.isFunction(this.onTileDragEnd))
                this.onTileDragEnd(eventResult);
        };
        /**
         * Select report part for tile
         */
        IzendaDashboardTileComponent.prototype.selectReportPart = function () {
            this.isSelectReportPartModalVisible = true;
        };
        /**
         * Select report part cancelled
         */
        IzendaDashboardTileComponent.prototype.onSelectReportModalClosed = function () {
            // we need to reset "opened" binding.
            this.isSelectReportPartModalVisible = false;
        };
        /**
         * Report part selected handler
         */
        IzendaDashboardTileComponent.prototype.onSelectReportPart = function (reportPartInfo) {
            var _this = this;
            // hide select report part dialog
            this.closeBackTilePopup();
            var rpInfo = reportPartInfo;
            if (rpInfo.UsesHiddenColumns) {
                this.$izendaUtilUiService.showMessageDialog(this.$izendaLocaleService.localeText('js_cannotAddReportWithHiddenColumnsToTile', 'You cannot add this report into the dashboard because it contains hidden columns. Please re-save the original report as a report with a different name or chose another one.'));
                return;
            }
            var fName = rpInfo.Name;
            if (!this.$izendaUtilService.isUncategorized(rpInfo.Category))
                fName = rpInfo.Category + this.$izendaSettingsService.getCategoryCharacter() + fName;
            var nameparts = rpInfo.Name.split('@');
            var name = nameparts[0];
            var part = nameparts[1];
            // check if tile already exist
            var isTileInDashboard = this.tiles.filter(function (tile) {
                return tile.reportPartName === part &&
                    tile.reportName === name &&
                    ((tile.reportCategory === rpInfo.Category) ||
                        (_this.$izendaUtilService.isUncategorized(tile.reportCategory) && _this.$izendaUtilService.isUncategorized(rpInfo.Category)));
            }).length > 0;
            if (isTileInDashboard) {
                var errorText = this.$izendaLocaleService.localeText('js_CantSelectReportPart', 'Can\'t select report part because dashboard already contains tile with that report.');
                this.$izendaUtilUiService.showNotification(errorText);
                return;
            }
            // update report parameters
            this.tile.previousReportFullName = this.tile.reportFullName;
            angular.extend(this.tile, this.$izendaUrlService.extractReportPartNames(fName, true));
            this.tile.title = rpInfo.Title;
            // update report name with category variable
            this.tile.reportNameWithCategory = this.tile.reportName;
            if (!this.$izendaUtilService.isUncategorized(this.tile.reportCategory))
                this.tile.reportNameWithCategory = this.tile.reportCategory +
                    this.$izendaSettingsService.getCategoryCharacter() +
                    this.tile.reportNameWithCategory;
            if (rpInfo.IsLocked)
                this.tile.maxRights = 'Locked';
            else if (rpInfo.ViewOnly)
                this.tile.maxRights = 'View Only';
            else if (rpInfo.ReadOnly)
                this.tile.maxRights = 'Read Only';
            else
                this.tile.maxRights = 'Full Access';
            // set top variables for tile:
            var newTop = rpInfo.NativeTop && rpInfo.NativeTop > 0 ? rpInfo.NativeTop : 100;
            this.setTileTop(newTop);
            this.tile.designerType = rpInfo.DesignerType;
            this.flipFront(true, true);
            if (angular.isFunction(this.onTileReportSelected)) {
                this.onTileReportSelected(this.tile);
            }
        };
        /**
         * Tile flip handler
         */
        IzendaDashboardTileComponent.prototype.onTileFlip = function (isFront, update, updateFromSourceReport) {
            if (isFront && update) {
                this.refreshTile(updateFromSourceReport);
            }
        };
        /**
         * Tile top changed:
         */
        IzendaDashboardTileComponent.prototype.onSetTileTop = function (top) {
            if (this.tile.top === top)
                return;
            this.tile.top = top;
            this.tile.topString = '' + top;
            this.flipFront(true, false);
            this.closeBackTilePopup();
        };
        //////////////////////////////////////////////////////////////////////
        // tile position
        //////////////////////////////////////////////////////////////////////
        /**
         * Return style object for '.iz-dash-tile'
         */
        IzendaDashboardTileComponent.prototype.getTileStyle = function () {
            var top = this.gridHeight * this.getY();
            var left = this.gridWidth * this.getX();
            var result = {
                'left': '0',
                'top': '0',
                'width': (this.gridWidth * this.getWidth()) + 'px',
                'height': (this.gridHeight * this.getHeight()) + 'px',
                'z-index': (this.tile.backTilePopupOpened ? '3' : '1')
            };
            if (this.$izendaCompatibilityService.isLteIe10()) {
                result['x'] = left + "px";
                result['y'] = top + "px";
            }
            else {
                result['transform'] = "translate3d(" + left + "px," + top + "px,0)";
            }
            return result;
        };
        /**
         * Get tile width
         */
        IzendaDashboardTileComponent.prototype.getWidth = function () {
            return this.isOneColumnView() ? 12 : this.tile.width;
        };
        /**
         * Get tile height
         */
        IzendaDashboardTileComponent.prototype.getHeight = function () {
            return this.isOneColumnView() ? 4 : this.tile.height;
        };
        /**
         * Get X coordinate for tile. This coordinate used for drawing tile UI
         */
        IzendaDashboardTileComponent.prototype.getX = function () {
            return this.isOneColumnView() ? 0 : this.tile.x;
        };
        /**
         * Get Y coordinate for tile. This coordinate used for drawing tile UI
         */
        IzendaDashboardTileComponent.prototype.getY = function () {
            return this.isOneColumnView() ? 4 * this.tile.getTileOrder(this.tiles) : this.tile.y;
        };
        /**
         * Get report viewer link for tile report
         */
        IzendaDashboardTileComponent.prototype.getReportViewerLink = function () {
            return getAppendedUrl(this.$izendaUrlService.settings.urlReportViewer + "?rn=" + this.getSourceReportName());
        };
        /**
         * Get report editor link for tile report
         */
        IzendaDashboardTileComponent.prototype.getReportEditorLink = function () {
            var designerUrl = this.tile.designerType === 'InstantReport'
                ? this.$izendaUrlService.settings.urlInstantReport
                : this.$izendaUrlService.settings.urlReportDesigner;
            return getAppendedUrl(designerUrl + "?rn=" + this.getSourceReportName());
        };
        /**
         * Get source report name
         */
        IzendaDashboardTileComponent.prototype.getSourceReportName = function () {
            var result = this.tile.reportName;
            if (!this.$izendaUtilService.isUncategorized(this.tile.reportCategory))
                result = this.tile.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + result;
            return result;
        };
        /**
         * Set tile inner html
         */
        IzendaDashboardTileComponent.prototype.applyTileHtml = function (htmlData) {
            // load tile content
            var $report = angular.element(this.$element).find('.report');
            this.$izendaDashboardStorageService.loadReportIntoContainer(htmlData, $report);
            var numberOfCellInComplexReport = 3000;
            var numberOfCells = angular.element(this.$element).find('.ReportTable td').length;
            this.state.relativeReportComplexity = numberOfCells / numberOfCellInComplexReport;
            if (this.state.relativeReportComplexity > 1)
                this.state.relativeReportComplexity = 1;
            if (this.isIe && this.state.relativeReportComplexity >= 0.5)
                this.$element.addClass('hover-ie');
            this.state.empty = false;
        };
        IzendaDashboardTileComponent = __decorate([
            izenda_component_9.default(module_definition_33.default, 'izendaDashboardTile', ['rx', '$element', '$interval', '$timeout', '$window', '$izendaCompatibilityService', '$izendaUtilService', '$izendaUrlService',
                '$izendaUtilUiService', '$izendaLocaleService', '$izendaSettingsService', '$izendaDashboardSettings', '$izendaDashboardStorageService'], {
                templateUrl: '###RS###extres=components.dashboard.components.tile.tile-template.html',
                bindings: {
                    tile: '<',
                    tiles: '<',
                    gridWidth: '<',
                    gridHeight: '<',
                    isDashboardChangingNow: '<',
                    onTileDrag: '&',
                    onTileDragStart: '&',
                    onTileDragEnd: '&',
                    onTileResize: '&',
                    onTileResizeStart: '&',
                    onTileResizeEnd: '&',
                    onTileDelete: '&',
                    onTileReportSelected: '&'
                }
            }),
            __metadata("design:paramtypes", [Object, Object, Function, Function, Object, compatibility_service_3.default,
                util_service_2.default,
                url_service_4.default,
                util_ui_service_5.default,
                localization_service_7.default,
                settings_service_6.default, Object, dashboard_storage_service_1.default])
        ], IzendaDashboardTileComponent);
        return IzendaDashboardTileComponent;
    }());
});
izendaRequire.define("dashboard/components/filter/filter-component", ["require", "exports", "common/core/tools/izenda-component", "dashboard/module-definition", "common/query/services/url-service", "dashboard/services/dashboard-storage-service", "izenda-external-libs"], function (require, exports, izenda_component_10, module_definition_34, url_service_5, dashboard_storage_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * <izenda-dashboard-filters> component
     */
    var IzendaDashboardFiltersComponent = /** @class */ (function () {
        function IzendaDashboardFiltersComponent($rx, $window, $timeout, $element, $izendaUrlService, $izendaDashboardStorageService) {
            this.$rx = $rx;
            this.$window = $window;
            this.$timeout = $timeout;
            this.$element = $element;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$window.useGetRenderedReportSetForFilters = false;
            this.isFiltersActive = this.$izendaDashboardStorageService.isFiltersActive.getValue();
            // subscribe
            this.subscriptions = [
                this.$izendaDashboardStorageService.isFiltersActive.subscribeOnNext(this.$onFiltersActiveChange, this)
            ];
        }
        IzendaDashboardFiltersComponent.prototype.$onInit = function () {
            IzLocal.LocalizePage();
            this.setRefreshButtonHandler();
        };
        IzendaDashboardFiltersComponent.prototype.$onDestroy = function () {
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        /**
         * Filters panel on/off handler
         * @param {boolean} isFiltersActive new panel state.
         */
        IzendaDashboardFiltersComponent.prototype.$onFiltersActiveChange = function (isFiltersActive) {
            this.isFiltersActive = isFiltersActive;
        };
        /**
         * Add "update" button handler
         */
        IzendaDashboardFiltersComponent.prototype.setRefreshButtonHandler = function () {
            var _this = this;
            var $btn = this.$element.find('.filters-legacy-update-btn');
            if (!$btn.length)
                return;
            var clicks = this.$rx.Observable.fromEvent($btn.get(0), 'click');
            var clicksThrottle = clicks.debounce(500);
            // do merge to ensure that the handlers order will be correct
            this.$rx.Observable.merge(clicks.map(function (e) { return ({ event: e, isThrottleApplied: false }); }), clicksThrottle.map(function (e) { return ({ event: e, isThrottleApplied: true }); }))
                .subscribe(function (obj) {
                obj.event.preventDefault();
                var isThrottleApplied = obj.isThrottleApplied;
                if (!isThrottleApplied) {
                    // fast clicks handler (always runs before the handler with the enabled throttle condition)
                    $btn.children('a').removeClass('blue');
                    $btn.children('a').addClass('gray');
                    _this.$izendaDashboardStorageService.cancelRefreshDashboardQueries();
                }
                else {
                    // run refresh when throttling is done.
                    $btn.children('a').removeClass('gray');
                    $btn.children('a').addClass('blue');
                    _this.$timeout(function () {
                        _this.$izendaDashboardStorageService.refreshDashboard(false, false);
                    }, 100);
                }
            });
        };
        IzendaDashboardFiltersComponent = __decorate([
            izenda_component_10.default(module_definition_34.default, 'izendaDashboardFilters', ['rx', '$window', '$timeout', '$element', '$izendaUrlService', '$izendaDashboardStorageService'], {
                templateUrl: '###RS###extres=components.dashboard.components.filter.filter-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [Object, Object, Function, Object, url_service_5.default,
                dashboard_storage_service_2.default])
        ], IzendaDashboardFiltersComponent);
        return IzendaDashboardFiltersComponent;
    }());
    exports.IzendaDashboardFiltersComponent = IzendaDashboardFiltersComponent;
});
izendaRequire.define("dashboard/components/gallery/gallery-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/query/services/url-service", "dashboard/services/dashboard-storage-service", "dashboard/services/background-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_11, module_definition_35, url_service_6, dashboard_storage_service_3, background_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * <izenda-gallery> component
     */
    var IzendaGalleryComponent = /** @class */ (function () {
        function IzendaGalleryComponent($rx, $scope, $window, $element, $interval, $timeout, $izendaUrlService, $izendaDashboardStorageService, $izendaBackgroundService) {
            this.$rx = $rx;
            this.$scope = $scope;
            this.$window = $window;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$izendaBackgroundService = $izendaBackgroundService;
            this.subscriptions = [];
            this.subscriptions = [];
            this.$parentElement = this.$element.parent();
            if (!this.$element.hasClass('izenda-gallery-container'))
                this.$element.addClass('izenda-gallery-container');
            this.$smallButtonsPanel = this.$parentElement.find('.izenda-gallery-controls-round-panel');
            this.$titlePanel = this.$parentElement.find('.izenda-gallery-title-controls');
            this.currentTile = null;
            this.state = {
                isUiHidden: false,
                width: 0,
                height: 0,
                elementHeight: this.$parentElement.height(),
                smallButtonsPanelHeight: this.$smallButtonsPanel.height(),
                titlePanelPosition: this.$titlePanel.position(),
                titlePanelHeight: this.$titlePanel.height()
            };
            this.setFullscreenHandlers();
        }
        IzendaGalleryComponent.prototype.$onInit = function () {
            var _this = this;
            this.previousWidth = this.$window.innerWidth;
            this.subscriptions = [
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    if (_this.previousWidth === newWindowSize.width || !_this.enabled)
                        return;
                    _this.previousWidth = newWindowSize.width;
                    _this.$onWindowResize();
                }, this)
            ];
        };
        IzendaGalleryComponent.prototype.$onChanges = function (changesObject) {
            if (changesObject.enabled) {
                var isEnabled = changesObject.enabled.currentValue;
                if (isEnabled)
                    this.activateGallery();
                else
                    this.deactivateGallery();
            }
            else if (changesObject.playStarted) {
                var isStarted = changesObject.playStarted.currentValue;
                if (isStarted)
                    this.play();
                else
                    this.stop();
            }
            else if (changesObject.isFullScreen) {
                var isFullscreen = changesObject.isFullScreen.currentValue;
                this.toggleFullscreen(isFullscreen);
            }
        };
        IzendaGalleryComponent.prototype.$onDestroy = function () {
            this.removeFullscreenHandlers();
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        /**
         * On fullscreen change handler
         */
        IzendaGalleryComponent.prototype.$onfullscreenchange = function () {
            if (!this.enabled)
                return;
            var isFullscreen = !!(document['fullscreenElement'] || document['webkitFullscreenElement'] || document['mozFullScreenElement'] || document['msFullscreenElement']);
            if (this.isFullScreen !== isFullscreen && angular.isFunction(this.onFullscreenChange)) {
                this.onFullscreenChange({ isFullscreen: isFullscreen });
            }
        };
        /**
         * Gallery
         */
        IzendaGalleryComponent.prototype.$onWindowResize = function () {
            var _this = this;
            if (!this.enabled)
                return;
            this.toggleTileAnimations(false);
            this.initSizes();
            this.$timeout(function () {
                _this.loadTilesToGallery();
                _this.toggleTileAnimations(true);
            }, 1, true);
        };
        IzendaGalleryComponent.prototype.enableKeyHandlers = function () {
            var _this = this;
            // hotkeys handler
            angular.element('body').on('keydown.izendaGallery', function (e) {
                if (!_this.enabled)
                    return;
                var keyCode = e.keyCode;
                _this.$scope.$apply(function () {
                    if (!_this.enabled)
                        return;
                    if (e.keyCode === 37 /* ArrowLeft */) {
                        _this.goPrevious();
                    }
                    else if (keyCode === 39 /* ArrowRight */ || keyCode === 32 /* Space */) {
                        _this.goNext();
                    }
                });
            });
        };
        IzendaGalleryComponent.prototype.disableKeyHandlers = function () {
            angular.element('body').off('keydown.izendaGallery');
        };
        IzendaGalleryComponent.prototype.setFullscreenHandlers = function () {
            var fullscreenRootElement = this.$parentElement.get(0);
            this.fullscreenHandler = this.$onfullscreenchange.bind(this);
            fullscreenRootElement.addEventListener('webkitfullscreenchange', this.fullscreenHandler);
            fullscreenRootElement.addEventListener('fullscreenchange', this.fullscreenHandler);
            document.addEventListener('fullscreenchange', this.fullscreenHandler);
            document.addEventListener('mozfullscreenchange', this.fullscreenHandler);
            document.addEventListener('MSFullscreenChange', this.fullscreenHandler);
        };
        IzendaGalleryComponent.prototype.removeFullscreenHandlers = function () {
            var fullscreenRootElement = this.$parentElement.get(0);
            fullscreenRootElement.removeEventListener('webkitfullscreenchange', this.fullscreenHandler);
            fullscreenRootElement.removeEventListener('fullscreenchange', this.fullscreenHandler);
            document.removeEventListener('fullscreenchange', this.fullscreenHandler);
            document.removeEventListener('mozfullscreenchange', this.fullscreenHandler);
            document.removeEventListener('MSFullscreenChange', this.fullscreenHandler);
        };
        IzendaGalleryComponent.prototype.updateGalleryBackground = function (isFullScreen) {
            var $galleryContainer = this.$parentElement;
            // when we're going to fullscreen mode - we need to add background for element, which will be the root in fullscreen view.
            if (isFullScreen) {
                var backgroundImg = this.$izendaBackgroundService.finalBackgroundImageUrl;
                $galleryContainer.css('background-image', backgroundImg ? "url(\"" + backgroundImg + "\")" : '');
                var backgroundColor = this.$izendaBackgroundService.backgroundColor;
                $galleryContainer.css('background-color', backgroundColor);
            }
            else {
                $galleryContainer.css('background-image', '');
                $galleryContainer.css('background-color', '');
            }
        };
        IzendaGalleryComponent.prototype.toggleFullscreen = function (isFullscreen) {
            var launchFullScreen = function (element) {
                if (element.requestFullscreen)
                    element.requestFullscreen();
                else if (element.mozRequestFullScreen)
                    element.mozRequestFullScreen();
                else if (element.webkitRequestFullScreen)
                    element.webkitRequestFullScreen();
                else if (element.msRequestFullscreen)
                    element.msRequestFullscreen();
            };
            var cancelFullscreen = function () {
                if (document['exitFullscreen'])
                    document['exitFullscreen']();
                else if (document['mozCancelFullScreen'])
                    document['mozCancelFullScreen']();
                else if (document['webkitCancelFullScreen'])
                    document['webkitCancelFullScreen']();
                else if (document['msExitFullscreen'])
                    document['msExitFullscreen']();
            };
            this.updateGalleryBackground(isFullscreen);
            if (isFullscreen) {
                var fullscreenRootElement = this.$parentElement.get(0);
                launchFullScreen(fullscreenRootElement);
            }
            else
                cancelFullscreen();
        };
        /**
         * Gallery enabled handler
         */
        IzendaGalleryComponent.prototype.activateGallery = function () {
            var _this = this;
            this.state.isUiHidden = false;
            this.currentTile = null;
            if (this.model && this.galleryTiles.length)
                this.currentTile = this.galleryTiles[0];
            this.initSizes();
            this.enableKeyHandlers();
            this.$element.find('.izenda-gallery-item').css('opacity', 1);
            this.$timeout(function () {
                _this.toggleTileAnimations(true);
                _this.loadTilesToGallery();
            }, 250, true);
        };
        /**
         * Gallery disabled handler
         */
        IzendaGalleryComponent.prototype.deactivateGallery = function () {
            this.clearTiles();
            this.state.isUiHidden = false;
            this.currentTile = null;
            this.disableKeyHandlers();
            this.toggleTileAnimations(false);
            this.$element.find('.izenda-gallery-item').css('opacity', 0);
        };
        /**
         * Start rotating gallery tiles.
         */
        IzendaGalleryComponent.prototype.play = function () {
            var _this = this;
            this.stop();
            if (this.galleryTiles.length <= 1)
                return;
            if (this.playStopOnComplete && this.galleryTiles.indexOf(this.currentTile) === this.galleryTiles.length - 1)
                this.goTo(this.galleryTiles[0]);
            this.state.updatePlayIntervalId = this.$interval(function () {
                if (_this.playStopOnComplete && _this.galleryTiles.indexOf(_this.currentTile) === _this.galleryTiles.length - 1) {
                    _this.playStarted = false;
                    _this.stop();
                    _this.runStopHandler();
                }
                else {
                    _this.goNext();
                }
            }, this.playTimeout);
            this.state.updatePlayTimeoutId = this.$timeout(function () {
                _this.state.isUiHidden = true;
            }, 1);
        };
        /**
         * Stop rotating gallery tiles.
         */
        IzendaGalleryComponent.prototype.stop = function () {
            if (this.state.updatePlayIntervalId) {
                this.$interval.cancel(this.state.updatePlayIntervalId);
                this.state.updatePlayIntervalId = null;
            }
            if (this.state.updatePlayTimeoutId != null) {
                this.$timeout.cancel(this.state.updatePlayTimeoutId);
                this.state.updatePlayTimeoutId = null;
                this.state.isUiHidden = false;
            }
        };
        IzendaGalleryComponent.prototype.runStopHandler = function () {
            if (angular.isFunction(this.onPlayStartedChange)) {
                this.onPlayStartedChange({ isPlayStarted: this.playStarted });
            }
        };
        /**
         * Show selected tile
         * @param {IzendaDashboardTileModel} tile tile model.
         */
        IzendaGalleryComponent.prototype.goTo = function (tile) {
            this.currentTile = tile;
        };
        /**
         * Show previous tile
         */
        IzendaGalleryComponent.prototype.goPrevious = function () {
            if (this.galleryTiles.length < 2)
                return;
            var index = this.currentTile ? this.galleryTiles.indexOf(this.currentTile) : 0;
            index--;
            if (index < 0)
                index = this.galleryTiles.length - 1;
            this.goTo(this.galleryTiles[index]);
        };
        /**
         * Show next tile.
         */
        IzendaGalleryComponent.prototype.goNext = function () {
            if (this.galleryTiles.length < 2)
                return;
            var index = this.currentTile ? this.galleryTiles.indexOf(this.currentTile) : 0;
            index++;
            if (index > this.galleryTiles.length - 1)
                index = 0;
            this.goTo(this.galleryTiles[index]);
        };
        /**
         * Initialize basic sizes
         */
        IzendaGalleryComponent.prototype.initSizes = function () {
            var tileContainerTop = angular.element('.iz-dash-root').offset().top;
            var fullHeight = angular.element(this.$window).height() - tileContainerTop - 30;
            this.$parentElement.height(fullHeight);
            this.state.width = this.$parentElement.width();
            this.state.height = this.$parentElement.height();
            this.state.elementHeight = this.$parentElement.height();
            this.state.smallButtonsPanelHeight = this.$smallButtonsPanel.height(); // cache sizes
            this.state.titlePanelPosition = this.$titlePanel.position();
            this.state.titlePanelHeight = this.$titlePanel.height();
            var tileSize = this.currentTile
                ? this.getTileSize(this.currentTile)
                : {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0,
                    delta: 0
                };
            this.$smallButtonsPanel.css('top', tileSize.y + tileSize.height + 'px');
        };
        Object.defineProperty(IzendaGalleryComponent.prototype, "galleryTiles", {
            /**
             * Gallery tiles getter - tiles available for showing in gallery.
             */
            get: function () {
                if (!this.model || !this.model.tiles.length)
                    return [];
                return this.model.tilesSorted.filter(function (t) { return !!t.reportName; });
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaGalleryComponent.prototype, "tileTitle", {
            /**
             * Create title for the tile
             */
            get: function () {
                if (!this.currentTile)
                    return '';
                if (this.currentTile.title)
                    return this.currentTile.title;
                var result = '';
                if (this.currentTile.reportCategory)
                    result = this.currentTile.reportCategory + ' / ';
                result = result + this.currentTile.reportName + ' / ' + this.currentTile.reportPartName;
                return result;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get tile CSS style.
         * @param {IzendaDashboardTileModel} tile tile model instance.
         */
        IzendaGalleryComponent.prototype.getTileStyle = function (tile) {
            var size = this.getTileSize(tile);
            var style = {
                'transform': "translate(" + size.x + "px, " + size.y + "px)",
                'width': size.width + "px",
                'height': size.height + "px",
                'opacity': size.delta ? '0.5' : '1'
            };
            return style;
        };
        /**
         * Calculate tile size.
         * @param {IzendaDashboardTileModel} tile tile model instance.
         */
        IzendaGalleryComponent.prototype.getTileSize = function (tile) {
            var tileIndex = this.galleryTiles.indexOf(tile);
            var currentTileIndex = this.galleryTiles.indexOf(this.currentTile);
            var parsedWidth = this.parseSize(this.width);
            var parsedHeight = this.parseSize(this.height);
            var galleryItemWidth = Math.round(parsedWidth.isPercent ? this.state.width * parsedWidth.value : parsedWidth.value);
            var galleryItemHeight = Math.round(parsedHeight.isPercent ? this.state.height * parsedHeight.value : parsedHeight.value);
            var spaceWidth = 100;
            var delta = tileIndex - currentTileIndex;
            var transformX = Math.round((this.state.width - galleryItemWidth) / 2 + delta * (galleryItemWidth + spaceWidth));
            var transformY = Math.round((this.state.height - galleryItemHeight) / 2);
            var constraintBottom = this.state.smallButtonsPanelHeight;
            var constraintTop = this.state.titlePanelPosition.top + this.state.titlePanelHeight + 10;
            if (transformY < constraintTop)
                transformY = constraintTop;
            if (transformY + galleryItemHeight > this.state.elementHeight - constraintBottom) {
                galleryItemHeight = this.state.elementHeight - transformY - constraintBottom;
            }
            return {
                x: transformX,
                y: transformY,
                width: galleryItemWidth,
                height: galleryItemHeight,
                delta: delta
            };
        };
        /**
         * Parse size string
         * @param {string} sizeString
         */
        IzendaGalleryComponent.prototype.parseSize = function (sizeString) {
            var result = {
                isPercent: false,
                value: 0
            };
            if (sizeString.endsWith('%')) {
                result.isPercent = true;
                result.value = parseInt(sizeString.substring(0, sizeString.length - 1)) / 100;
            }
            else if (sizeString.endsWith('px'))
                result.value = parseInt(sizeString.substring(0, sizeString.length - 2));
            else
                result.value = parseInt(sizeString);
            return result;
        };
        /**
         * Turn on/off CSS tile animations
         * @param {bool} enabled
         */
        IzendaGalleryComponent.prototype.toggleTileAnimations = function (enabled) {
            if (enabled) {
                this.$element.find('.izenda-gallery-item').addClass('izenda-gallery-transition');
            }
            else {
                this.$element.find('.izenda-gallery-item').removeClass('izenda-gallery-transition');
            }
        };
        /**
         * Clear tiles.
         */
        IzendaGalleryComponent.prototype.clearTiles = function () {
            var _this = this;
            this.galleryTiles.forEach(function (tile) {
                var $tile = _this.$element.find(".izenda-gallery-item[tile-id=" + tile.id + "] > .izenda-gallery-item-inner");
                $tile.empty();
            });
        };
        /**
        * Load gallery tile
        */
        IzendaGalleryComponent.prototype.loadTilesToGallery = function () {
            var _this = this;
            this.galleryTiles.forEach(function (tile) {
                var $tile = _this.$element.find(".izenda-gallery-item[tile-id=" + tile.id + "] > .izenda-gallery-item-inner");
                var loadingHtml = '<div class="izenda-common-vcentered-container">' +
                    '<div class="izenda-common-vcentered-item">' +
                    '<img class="izenda-common-img-loading" src="' +
                    _this.$izendaUrlService.settings.urlRpPage +
                    'image=ModernImages.loading-grid.gif" alt="Loading..." />' +
                    '</div>' +
                    '</div>';
                $tile.html(loadingHtml);
                var size = {
                    height: $tile.height(),
                    width: $tile.width()
                };
                _this.$izendaDashboardStorageService.loadTilesPreview(tile, size).then(function (tilesHtml) {
                    var $reportDiv = angular.element('<div class="report"></div>');
                    $tile.empty();
                    $tile.append($reportDiv);
                    // load html into this div
                    _this.$izendaDashboardStorageService.loadReportIntoContainer(tilesHtml, $reportDiv);
                }, function (error) {
                    $tile.empty();
                    $tile.text(error);
                });
            });
        };
        IzendaGalleryComponent = __decorate([
            izenda_component_11.default(module_definition_35.default, 'izendaGallery', ['rx', '$scope', '$window', '$element', '$interval', '$timeout', '$izendaUrlService', '$izendaDashboardStorageService', '$izendaBackgroundService'], {
                templateUrl: '###RS###extres=components.dashboard.components.gallery.gallery-template.html',
                bindings: {
                    model: '<',
                    width: '@',
                    height: '@',
                    playTimeout: '<',
                    playStarted: '<',
                    playStopOnComplete: '<',
                    isFullScreen: '<',
                    enabled: '<',
                    onPlayStartedChange: '&',
                    onFullscreenChange: '&'
                }
            }),
            __metadata("design:paramtypes", [Object, Object, Object, Object, Function, Function, url_service_6.default,
                dashboard_storage_service_3.default,
                background_service_1.default])
        ], IzendaGalleryComponent);
        return IzendaGalleryComponent;
    }());
    exports.IzendaGalleryComponent = IzendaGalleryComponent;
});
izendaRequire.define("dashboard/components/dashboard/dashboard-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/core/services/localization-service", "common/core/services/compatibility-service", "dashboard/services/dashboard-storage-service", "dashboard/services/background-service", "dashboard/services/gallery-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_12, module_definition_36, localization_service_8, compatibility_service_4, dashboard_storage_service_4, background_service_2, gallery_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda dashboard component.
     */
    var IzendaDashboardComponent = /** @class */ (function () {
        function IzendaDashboardComponent($rx, $window, $element, $interval, $timeout, $rootScope, $izendaLocaleService, $izendaCompatibilityService, $izendaDashboardSettings, $izendaDashboardStorageService, $izendaBackgroundService, $izendaGalleryService) {
            this.$rx = $rx;
            this.$window = $window;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$rootScope = $rootScope;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$izendaBackgroundService = $izendaBackgroundService;
            this.$izendaGalleryService = $izendaGalleryService;
        }
        IzendaDashboardComponent.prototype.$onInit = function () {
            var _this = this;
            this.isLicenseFailed = !this.$izendaDashboardSettings.dashboardsAllowed;
            if (this.isLicenseFailed)
                return;
            this.exportProgress = null;
            this.tileWidth = 100;
            this.tileHeight = 100;
            this.tileContainerStyle = {
                backgroundColor: 'transparent'
            };
            this.isMouseEventsEnabledManual = true;
            this.initGrid();
            this.galleryContainerStyle = {
                'height': 0
            };
            this.rootWidth = this.$element.find('.iz-dash-root').width();
            // subscribe
            this.previousWidth = this.$window.innerWidth;
            this.subscriptions = [
                this.$izendaDashboardStorageService.model.subscribeOnNext(this.$onDashboardModelUpdate, this),
                this.$izendaDashboardStorageService.isLoaded.subscribeOnNext(this.$onDashboardIsLoadedUpdate, this),
                this.$izendaDashboardStorageService.exportProgress.subscribeOnNext(function (newValue) {
                    _this.$timeout(function () { return _this.exportProgress = newValue; }, 1);
                }, this),
                //this.$izendaBackgroundService.background.subscribeOnNext(this.$onDashboardBackgroundChanged, this),
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    if (_this.previousWidth === newWindowSize.width)
                        return;
                    _this.previousWidth = newWindowSize.width;
                    _this.rootWidth = _this.$element.find('.iz-dash-root').width();
                    _this.updateDashboardSize();
                    _this.$rootScope.$applyAsync();
                })
            ];
        };
        Object.defineProperty(IzendaDashboardComponent.prototype, "isMouseEventsEnabled", {
            get: function () {
                return this.isMouseEventsEnabledManual && this.$izendaCompatibilityService.isEditAllowed();
            },
            enumerable: true,
            configurable: true
        });
        IzendaDashboardComponent.prototype.initGrid = function () {
            this.isGridVisible = false;
            this.gridStyle = null;
            this.isGridShadowVisible = false;
            this.isGridShadowPlusButtonVisible = false;
            this.gridShadowStyle = {
                'left': 0,
                'top': 0,
                'width': 0,
                'height': 0
            };
            this.updateGridStyle(); // init grid style
        };
        IzendaDashboardComponent.prototype.$onDestroy = function () {
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        /**
         * Dashboard model changed handler. Occurs when user navigates to existing or new dashboard.
         * @param {IzendaDashboardModel} newModel new dashboard model object.
         */
        IzendaDashboardComponent.prototype.$onDashboardModelUpdate = function (newModel) {
            this.hideGrid();
            this.isMouseEventsEnabledManual = true;
            this.model = newModel;
            if (!this.model)
                return;
            this.updateDashboardSize();
        };
        /**
         * Dashboard isLoaded changed handler.
         * @param {boolean} newIsLoaded new isLoaded value.
         */
        IzendaDashboardComponent.prototype.$onDashboardIsLoadedUpdate = function (newIsLoaded) {
            this.hideGrid();
            this.isLoaded = newIsLoaded;
        };
        /**
         * Event fires on tile drag start
         */
        IzendaDashboardComponent.prototype.$onTileDragStart = function (tile) {
            this.turnOffMouseHandlers();
            this.showGrid();
            this.showTileGridShadow({
                left: tile.x * this.tileWidth,
                top: tile.y * this.tileHeight,
                width: tile.width * this.tileWidth,
                height: tile.height * this.tileHeight
            }, false);
        };
        /**
         * Event fires on tile drag change position
         */
        IzendaDashboardComponent.prototype.$onTileDrag = function (tile, shadowPosition) {
            this.showTileGridShadow({
                left: shadowPosition.left,
                top: shadowPosition.top,
                width: shadowPosition.width,
                height: shadowPosition.height
            }, false);
            this.updateDashboardSize(shadowPosition);
        };
        /**
         * Event fires on tile drag end
         */
        IzendaDashboardComponent.prototype.$onTileDragEnd = function (eventResult) {
            this.hideGrid();
            this.turnOnMouseHandlers();
        };
        /**
         * Start tile resize event handler
         */
        IzendaDashboardComponent.prototype.$onTileResizeStart = function (tile) {
            this.turnOffMouseHandlers();
            this.showGrid();
            this.showTileGridShadow({
                left: tile.x * this.tileWidth,
                top: tile.y * this.tileHeight,
                width: tile.width * this.tileWidth,
                height: tile.height * this.tileHeight
            }, false);
        };
        /**
         * Tile resize handler
         */
        IzendaDashboardComponent.prototype.$onTileResize = function (tile, shadowPosition) {
            this.showTileGridShadow({
                left: shadowPosition.left,
                top: shadowPosition.top,
                width: shadowPosition.width,
                height: shadowPosition.height
            }, false);
            this.updateDashboardSize(shadowPosition);
        };
        /**
         * Tile resize completed handler
         */
        IzendaDashboardComponent.prototype.$onTileResizeEnd = function (eventResult) {
            this.hideGrid();
            this.turnOnMouseHandlers();
        };
        /**
         * Tile delete handler
         */
        IzendaDashboardComponent.prototype.$onTileDelete = function (tile) {
            if (tile == null)
                throw 'Tile not found';
            this.model.removeTile(tile);
            this.updateDashboardSize();
            this.$izendaDashboardStorageService.refreshFilters();
        };
        /**
         * Tile report selected handler.
         * @param {IzendaDashboardTileModel} tile tile model object.
         */
        IzendaDashboardComponent.prototype.$onTileReportSelected = function (tile) {
            this.$izendaDashboardStorageService.refreshFilters();
        };
        /**
         * Dashboard mouse hover
         */
        IzendaDashboardComponent.prototype.globalMousemoveHandler = function ($event) {
            if (!this.isMouseEventsEnabled) {
                return;
            }
            var $target = angular.element($event.target);
            if ($target.closest('.iz-dash-tile').length) {
                this.hideGrid();
                return;
            }
            // get {x, y} click coordinates
            var x = Math.floor($event.offsetX / this.tileWidth);
            var y = Math.floor($event.offsetY / this.tileHeight);
            this.showGrid();
            if ($target.hasClass('dashboard-grid') && $target.width() > 0) {
                this.showTileGridShadow({
                    left: x * this.tileWidth,
                    top: y * this.tileHeight,
                    width: this.tileWidth,
                    height: this.tileHeight
                }, true);
            }
        };
        /**
         * Dashboard mouse out
         */
        IzendaDashboardComponent.prototype.globalMouseoutHandler = function ($event) {
            if (!this.isMouseEventsEnabled
                || ($event.relatedTarget && angular.element($event.relatedTarget).closest('.iz-dash-body-container').length > 0))
                return;
            this.hideGrid();
        };
        /**
         * Click to any part of the dashboard
         */
        IzendaDashboardComponent.prototype.globalClickHandler = function ($event) {
            if (!this.isMouseEventsEnabled)
                return true;
            if (typeof ($event['which']) !== 'undefined' && $event['which'] !== 1)
                return true;
            // get {x, y} click coordinates
            var x = Math.floor($event.offsetX / this.tileWidth);
            var y = Math.floor($event.offsetY / this.tileHeight);
            this.model.addPixelTile(x, y);
            this.updateDashboardSize();
            return false;
        };
        /**
         * Disable mouse move/out/click handlers for dashboard
         */
        IzendaDashboardComponent.prototype.turnOffMouseHandlers = function () {
            this.isMouseEventsEnabledManual = false;
            this.hideGrid();
        };
        /**
         * Enable mouse move/out/click handlers for dashboard
         */
        IzendaDashboardComponent.prototype.turnOnMouseHandlers = function () {
            if (this.$izendaCompatibilityService.isEditAllowed())
                this.isMouseEventsEnabledManual = true;
        };
        /**
         * Update tile container sizes
         * @param {object} additionalBox. If we want to extend dashboard container size we can
         * use this parameter and add additional area.
         */
        IzendaDashboardComponent.prototype.updateDashboardSize = function (additionalBox) {
            if (!this.model)
                return;
            this.updateTileSize();
            this.updateGallerySize();
            var isOneColumn = this.$izendaCompatibilityService.isOneColumnView();
            var maxHeight = this.model.getMaxHeight(isOneColumn);
            var maxHeightPixels = maxHeight * this.tileHeight;
            // update height of union of tiles and additional box it is set
            if (angular.isDefined(additionalBox))
                if (additionalBox.top + additionalBox.height > maxHeightPixels)
                    maxHeightPixels = additionalBox.top + additionalBox.height;
            // set height:
            angular.element('.iz-dash-body-container').height((maxHeightPixels + this.tileHeight + 1) + 'px');
        };
        /**
         * Update tile grid sizes
         */
        IzendaDashboardComponent.prototype.updateTileSize = function () {
            var width = Math.floor(this.rootWidth / 12) * 12 - 24;
            this.$element.find('.iz-dash-body-container').width(width);
            this.tileWidth = width / 12;
            this.tileHeight = this.tileWidth > 100 ? this.tileWidth : 100;
            this.updateGridStyle();
        };
        /**
         * Update tile grid style variable.
         */
        IzendaDashboardComponent.prototype.updateGridStyle = function () {
            this.gridStyle = {
                'background-size': this.tileWidth +
                    'px ' +
                    this.tileHeight +
                    'px, ' +
                    this.tileWidth +
                    'px ' +
                    this.tileHeight +
                    'px'
            };
        };
        /**
         * Update gallery container size
         */
        IzendaDashboardComponent.prototype.updateGallerySize = function () {
            var tileContainerTop = angular.element('.iz-dash-root').offset().top;
            this.galleryContainerStyle.height = angular.element(this.$window).height() - tileContainerTop - 30;
        };
        /**
         * Event handler which runs when user turns on fullscreen.
         * @param {boolean} isFullscreen
         */
        IzendaDashboardComponent.prototype.galleryToggleFullscreen = function (isFullscreen) {
            this.$izendaGalleryService.galleryState.isFullScreen = isFullscreen;
        };
        /**
         * Event handler which runs when gallery stop playing.
         * @param {boolean} isPlayStarted isPlayStarted
         */
        IzendaDashboardComponent.prototype.galleryTogglePlayStarted = function (isPlayStarted) {
            this.$izendaGalleryService.galleryState.isPlayStarted = isPlayStarted;
        };
        IzendaDashboardComponent.prototype.showGrid = function () {
            var isOneColumn = this.$izendaCompatibilityService.isOneColumnView();
            if (isOneColumn)
                return;
            this.isGridVisible = true;
        };
        IzendaDashboardComponent.prototype.hideGrid = function () {
            if (!this.isGridVisible)
                return;
            this.isGridVisible = false;
            this.hideTileGridShadow();
        };
        /**
         * Show tile grid shadow
         */
        IzendaDashboardComponent.prototype.showTileGridShadow = function (shadowBbox, showPlusButton) {
            var isOneColumn = this.$izendaCompatibilityService.isOneColumnView();
            if (isOneColumn)
                return;
            this.isGridShadowVisible = true;
            this.isGridShadowPlusButtonVisible = showPlusButton;
            var left = shadowBbox.left;
            var top = shadowBbox.top;
            var width = shadowBbox.width;
            var height = shadowBbox.height;
            if (left < 0)
                left = 0;
            if (left + width >= this.tileWidth * 12)
                left = this.tileWidth * 12 - width;
            if (top < 0)
                top = 0;
            this.gridShadowStyle = {
                'left': left + 1,
                'top': top + 1,
                'width': width - 1,
                'height': height - 1
            };
        };
        /**
         * Hide tile grid shadow
         */
        IzendaDashboardComponent.prototype.hideTileGridShadow = function () {
            this.isGridShadowVisible = false;
        };
        IzendaDashboardComponent.prototype.getExportWaitMessageHeaderText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_ExportingInProgress', 'Exporting in progress.');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_PrintingInProgress', 'Printing in progress.');
            return '';
        };
        IzendaDashboardComponent.prototype.getExportWaitMessageText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_FinishExporting', 'Please wait till export is completed...');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_FinishPrinting', 'Please finish printing before continue.');
            return '';
        };
        IzendaDashboardComponent = __decorate([
            izenda_component_12.default(module_definition_36.default, 'izendaDashboard', ['rx', '$window', '$element', '$interval', '$timeout', '$rootScope', '$izendaLocaleService', '$izendaCompatibilityService',
                '$izendaDashboardSettings', '$izendaDashboardStorageService', '$izendaBackgroundService', '$izendaGalleryService'], {
                templateUrl: '###RS###extres=components.dashboard.components.dashboard.dashboard-template.html'
            }),
            __metadata("design:paramtypes", [Object, Object, Object, Function, Function, Object, localization_service_8.default,
                compatibility_service_4.default, Object, dashboard_storage_service_4.default,
                background_service_2.default,
                gallery_service_1.default])
        ], IzendaDashboardComponent);
        return IzendaDashboardComponent;
    }());
    exports.IzendaDashboardComponent = IzendaDashboardComponent;
});
izendaRequire.define("dashboard/components/toolbar/toolbar-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/services/compatibility-service", "common/query/services/url-service", "common/ui/services/schedule-service", "common/ui/services/share-service", "dashboard/services/dashboard-storage-service", "dashboard/services/background-service", "dashboard/services/gallery-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_13, module_definition_37, localization_service_9, util_service_3, util_ui_service_6, compatibility_service_5, url_service_7, schedule_service_3, share_service_3, dashboard_storage_service_5, background_service_3, gallery_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaDashboardToolbarComponent = /** @class */ (function () {
        function IzendaDashboardToolbarComponent($rx, $window, $element, $interval, $timeout, $rootScope, dashboardConfig, $izendaSettingsService, $izendaLocaleService, $izendaUtilService, $izendaUtilUiService, $izendaCompatibilityService, $izendaUrlService, $izendaScheduleService, $izendaShareService, $izendaDashboardSettings, $izendaDashboardStorageService, $izendaBackgroundService, $izendaGalleryService) {
            this.$rx = $rx;
            this.$window = $window;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$rootScope = $rootScope;
            this.dashboardConfig = dashboardConfig;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$izendaBackgroundService = $izendaBackgroundService;
            this.$izendaGalleryService = $izendaGalleryService;
            var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
            var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
            var isFirefox = /Firefox/.test(navigator.userAgent);
            this.isHueRotate = isChrome || isSafari || isFirefox;
            this.isHueRotateEnabled = false;
            this.isSaveReportModalOpened = false;
            this.isHtml5FullScreenSupported = this.$izendaCompatibilityService.isHtml5FullScreenSupported();
        }
        IzendaDashboardToolbarComponent.prototype.$onInit = function () {
            var _this = this;
            this.subscriptions = [];
            this.isLicenseFailed = !this.$izendaDashboardSettings.dashboardsAllowed;
            if (this.isLicenseFailed)
                return;
            this.scheduleModalOpened = false;
            this.shareModalOpened = false;
            // settings
            this.commonSettings = this.$izendaSettingsService.getCommonSettings();
            this.isDesignLinksAllowed = this.commonSettings.showDesignLinks;
            this.printMode = this.$izendaDashboardSettings.allowedPrintEngine;
            // background
            this.isStorageAvailable = this.$izendaBackgroundService.isStorageAvailable();
            this.selectBackgroundImageModalOpened = false;
            this.backgroundModalRadio = 'url';
            // button bar
            this.isButtonBarVisible = false;
            this.buttonbarClass = 'nav navbar-nav iz-dash-toolbtn-panel left-transition';
            this.buttonbarCollapsedClass = 'nav navbar-nav iz-dash-collapsed-toolbtn-panel left-transition opened';
            // refresh
            this.refreshInterval = null;
            this.autoRefresh = null;
            //email
            this.sendEmailModalOpened = false;
            this.sendEmailState = {
                errors: [],
                isLoading: false,
                errorOccured: false,
                sendType: 'Link',
                email: '',
                opened: false,
                focused: false
            };
            // subscribe
            this.subscriptions = [
                this.$izendaDashboardStorageService.model.subscribeOnNext(this.$onDashboardModelUpdate, this),
                this.$izendaDashboardStorageService.autoRefresh.subscribeOnNext(this.$onAutorefreshUpdate, this),
                this.$izendaDashboardStorageService.categories.subscribeOnNext(this.$onCategoriesUpdate, this),
                this.$izendaDashboardStorageService.currentCategory.subscribeOnNext(function (next) { return _this.currentCategory = next; }),
                this.$izendaDashboardStorageService.currentDashboard.subscribeOnNext(function (next) { return _this.currentDashboard = next; }),
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    // resize handler
                }, this)
            ];
        };
        IzendaDashboardToolbarComponent.prototype.$onDestroy = function () {
            this.cancelRefreshInterval();
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        IzendaDashboardToolbarComponent.prototype.$onDashboardModelUpdate = function (newModel) {
            this.cancelRefreshInterval();
            this.model = newModel;
        };
        IzendaDashboardToolbarComponent.prototype.$onAutorefreshUpdate = function (newAutorefresh) {
            this.autoRefresh = newAutorefresh;
        };
        IzendaDashboardToolbarComponent.prototype.$onCategoriesUpdate = function (newCategories) {
            this.categories = newCategories;
        };
        /**
         * Create new dashboard button handler.
         */
        IzendaDashboardToolbarComponent.prototype.createNewDashboard = function () {
            this.$izendaDashboardStorageService.navigateNewDashboard();
        };
        /**
         * Save dashboard
         * @param {boolean} showNameDialog dashboard report set name.
         */
        IzendaDashboardToolbarComponent.prototype.saveDashboard = function (showNameDialog) {
            var _this = this;
            if (showNameDialog || !this.model.reportFullName) {
                this.isSaveReportModalOpened = true;
            }
            else {
                this.hideButtonBar();
                this.$izendaDashboardStorageService
                    .saveDashboard()
                    .then(function () {
                    _this.$izendaUtilUiService.showNotification(_this.$izendaLocaleService.localeText('js_DashboardSaved', 'Dashboard sucessfully saved'));
                }, function (error) {
                    var msgCantSave = _this.$izendaLocaleService.localeText('js_CantSaveDashboard', 'Can\'t save dashboard');
                    var msgError = _this.$izendaLocaleService.localeText('js_Error', 'Error');
                    var errorText = msgCantSave + " \"" + _this.model.reportFullName + "\". " + msgError + ": \"" + error + "\"";
                    _this.$izendaUtilUiService.showErrorDialog(errorText);
                });
            }
        };
        /**
          * Save dialog closed handler.
          */
        IzendaDashboardToolbarComponent.prototype.onSaveClosed = function () {
            this.hideButtonBar();
            this.isSaveReportModalOpened = false;
        };
        /**
         * Report name/category selected. Save report handler. In this scenario we have to turn button bar off
         */
        IzendaDashboardToolbarComponent.prototype.onSave = function (reportName, categoryName) {
            var _this = this;
            this.hideButtonBar(function () {
                _this.isSaveReportModalOpened = false;
                _this.$izendaDashboardStorageService
                    .saveDashboard(reportName, categoryName)
                    .then(function () {
                    _this.$izendaUtilUiService.showNotification(_this.$izendaLocaleService.localeText('js_DashboardSaved', 'Dashboard sucessfully saved'));
                }, function (error) {
                    var msgCantSave = _this.$izendaLocaleService.localeText('js_CantSaveDashboard', 'Can\'t save dashboard');
                    var msgError = _this.$izendaLocaleService.localeText('js_Error', 'Error');
                    var errorText = msgCantSave + " \"" + _this.model.reportFullName + "\". " + msgError + ": \"" + error + "\"";
                    _this.$izendaUtilUiService.showErrorDialog(errorText);
                });
            });
        };
        /**
         * Refresh all dashboard tiles (without reloading)
         * @param {number} intervalIndex auto refresh interval index. Automatic refresh will turn on if this argument is set.
         */
        IzendaDashboardToolbarComponent.prototype.refreshDashboard = function (intervalIndex) {
            var _this = this;
            this.$izendaDashboardStorageService.refreshDashboard(false, false);
            if (!this.autoRefresh)
                return;
            if (angular.isNumber(intervalIndex)) {
                this.cancelRefreshInterval();
                var selectedInterval = this.autoRefresh.intervals[intervalIndex];
                selectedInterval.selected = true;
                var intervalValue = selectedInterval.value;
                if (intervalValue >= 1) {
                    intervalValue *= 1000;
                    this.refreshInterval = setInterval(function () { return _this.$izendaDashboardStorageService.refreshDashboard(false, false); }, intervalValue);
                }
            }
        };
        IzendaDashboardToolbarComponent.prototype.closeScheduleDialog = function () {
            this.scheduleModalOpened = false;
        };
        IzendaDashboardToolbarComponent.prototype.closeShareDialog = function () {
            this.shareModalOpened = false;
        };
        IzendaDashboardToolbarComponent.prototype.openToolbarDashboard = function (dashboardObj) {
            this.$izendaDashboardStorageService.navigateToDashboard(dashboardObj.fullName);
        };
        IzendaDashboardToolbarComponent.prototype.showButtonBar = function () {
            this.isButtonBarVisible = true;
            this.buttonbarClass = 'nav navbar-nav iz-dash-toolbtn-panel transform-transition opened';
            this.buttonbarCollapsedClass = 'nav navbar-nav iz-dash-collapsed-toolbtn-panel transform-transition';
        };
        IzendaDashboardToolbarComponent.prototype.hideButtonBar = function (completedHandler) {
            var _this = this;
            this.isButtonBarVisible = false;
            this.buttonbarClass = 'nav navbar-nav iz-dash-toolbtn-panel';
            this.buttonbarCollapsedClass = 'nav navbar-nav iz-dash-collapsed-toolbtn-panel opened';
            this.$timeout(function () {
                if (angular.isFunction(completedHandler))
                    completedHandler.call(_this);
            }, 200);
        };
        /**
         * Activate/deactivate dashboard mode
         */
        IzendaDashboardToolbarComponent.prototype.toggleGalleryMode = function (enableGalleryMode) {
            if (enableGalleryMode)
                this.$izendaDashboardStorageService.toggleFiltersPanel(false);
            this.$izendaGalleryService.galleryState.isEnabled = enableGalleryMode;
        };
        /**
         * Open gallery in fullscreen mode
         */
        IzendaDashboardToolbarComponent.prototype.toggleGalleryModeFullScreen = function () {
            this.$izendaDashboardStorageService.toggleFiltersPanel(false);
            this.$izendaGalleryService.galleryState.isFullScreen = !this.$izendaGalleryService.galleryState.isFullScreen;
        };
        /**
         * Turn off/on gallery play
         */
        IzendaDashboardToolbarComponent.prototype.toggleGalleryPlay = function () {
            this.$izendaDashboardStorageService.toggleFiltersPanel(false);
            this.$izendaGalleryService.galleryState.isPlayStarted = !this.$izendaGalleryService.galleryState.isPlayStarted;
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "selectedInterval", {
            /**
             * Get current selected interval
             */
            get: function () {
                if (!this.autoRefresh)
                    return null;
                var selected = this.autoRefresh.intervals.filter(function (interval) { return interval.selected; });
                if (selected.length > 1)
                    throw 'Found more than 2 selected refresh intervals';
                return selected.length ? selected[0] : null;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Stop current interval loop and unselect current interval in UI.
         */
        IzendaDashboardToolbarComponent.prototype.cancelRefreshInterval = function () {
            if (this.refreshInterval) {
                clearInterval(this.refreshInterval);
                this.refreshInterval = null;
            }
            if (!this.autoRefresh)
                return;
            if (angular.isArray(this.autoRefresh.intervals)) {
                this.autoRefresh.intervals.forEach(function (interval) {
                    interval.selected = false;
                });
            }
        };
        /**
         * Toggle dashboard filters panel
         */
        IzendaDashboardToolbarComponent.prototype.toggleDashboardFilters = function () {
            if (this.isFiltersEditAllowed) {
                this.$izendaDashboardStorageService.toggleFiltersPanel();
            }
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "hueRotateBtnImageUrl", {
            /**
             * Hue rotate toolbar btn icon
             */
            get: function () {
                return this.$izendaUrlService.settings.urlRpPage + 'extres=images.color' + (!this.isHueRotateEnabled ? '-bw' : '') + '.png';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isOneColumnView", {
            /**
             * Check if one column view required
             */
            get: function () {
                return this.$izendaCompatibilityService.isOneColumnView();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isFullAccess", {
            /**
             * Check is filters allowed
            */
            get: function () {
                return this.$izendaCompatibilityService.isFullAccess();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isFiltersEditAllowed", {
            /**
             * Check is filters allowed
             */
            get: function () {
                return this.$izendaCompatibilityService.isFiltersEditAllowed();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isSaveAllowed", {
            /**
             * Check is save allowed
             */
            get: function () {
                return this.model && this.$izendaCompatibilityService.isSaveAllowedWithHidden() && !this.model.tilesWithHiddenColumns.length;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isSaveAsAllowed", {
            /**
             * Check is save as allowed
             */
            get: function () {
                return this.model && this.$izendaCompatibilityService.isSaveAsAllowed() && !this.model.tilesWithHiddenColumns.length;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isShowSaveControls", {
            /**
             * Show or not save controls
             */
            get: function () {
                return this.commonSettings.showSaveControls;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isShowSaveAsToolbarButton", {
            /**
             * Is "save as" button allowed
             */
            get: function () {
                return this.commonSettings.showSaveAsToolbarButton;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isShowDesignDashboardLink", {
            get: function () {
                return this.commonSettings.showDesignDashboardLink;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isReadOnly", {
            /**
             * Check is edit allowed
             */
            get: function () {
                return this.$izendaCompatibilityService.isEditAllowed();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isToggleHueRotateEnabled", {
            /**
             * Check toggleHueRotateEnabled
             */
            get: function () {
                return this.isHueRotate;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Background modal "OK" click handler
         */
        IzendaDashboardToolbarComponent.prototype.$onBackgroundDialogHandlerOk = function () {
            this.selectBackgroundImageModalOpened = false;
            if (this.backgroundModalRadio === 'file')
                this.setBackgroundImageFromLocalhost();
        };
        /**
         * Background file/url changed handler
         */
        IzendaDashboardToolbarComponent.prototype.$onBackgroundModalRadioChange = function () {
            this.$izendaBackgroundService.backgroundImageType = this.backgroundModalRadio;
        };
        /**
         * Set file selected in file input as background
         */
        IzendaDashboardToolbarComponent.prototype.setBackgroundImageFromLocalhost = function () {
            var _this = this;
            var $fileBtn = angular.element('#izendaDashboardBackground');
            if (window.File && window.FileReader && window.FileList && window.Blob) {
                if ($fileBtn[0]['files'].length === 0)
                    return;
                var file = $fileBtn[0]['files'][0];
                // test file information
                if (!file.type.match('image.*')) {
                    alert(this.$izendaLocaleService.localeText('js_ShouldBeImage', 'File should be image'));
                    return;
                }
                // read the file:
                // TODO READER + TYPESCRIPT!
                var reader = new FileReader();
                reader.onload = function (event) {
                    var bytes = event.target.result;
                    _this.$izendaBackgroundService.backgroundImageBase64 = bytes;
                };
                //reader.onload = (() => {
                //	return event => {
                //		var bytes = event.target.result;
                //		this.$izendaBackgroundService.backgroundImageBase64 = bytes;
                //	};
                //})(file);
                // Read in the image file as a data URL.
                reader.readAsDataURL(file);
            }
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isBackgroundImageSet", {
            get: function () {
                return this.$izendaBackgroundService.backgroundImageBase64 || this.$izendaBackgroundService.backgroundImageUrl;
            },
            enumerable: true,
            configurable: true
        });
        IzendaDashboardToolbarComponent.prototype.removeBackgroundImageHandler = function () {
            this.$izendaBackgroundService.backgroundImageBase64 = '';
            this.$izendaBackgroundService.backgroundImageUrl = '';
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isPrintDashboardVisible", {
            // PRINT
            /**
             * Is html model enabled in AdHocSettings
             */
            get: function () {
                return this.printMode === 'Html' || this.printMode === 'Html2PdfAndHtml';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isPrintDashboardPdfVisible", {
            /**
             * Is html2pdf mode enabled in AdHocSettings
             */
            get: function () {
                return this.printMode === 'Html2Pdf' || this.printMode === 'Html2PdfAndHtml';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isPrintDropdownVisible", {
            /**
             * Is print button visible
             */
            get: function () {
                return this.isPrintDashboardPdfVisible || this.isPrintDashboardVisible;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Print whole dashboard
         */
        IzendaDashboardToolbarComponent.prototype.printDashboard = function () {
            var _this = this;
            this.$izendaDashboardStorageService.printDashboard('html').then(function () {
                // HTML print print successfully completed handler
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
            });
        };
        /**
         * Print dashboard as pdf
         */
        IzendaDashboardToolbarComponent.prototype.printDashboardPdf = function () {
            var _this = this;
            this.$izendaDashboardStorageService.printDashboard('pdf').then(function () {
                // PDF print print successfully completed handler
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
            });
        };
        // EMAIL
        /**
         * Open send email dialog
         */
        IzendaDashboardToolbarComponent.prototype.showEmailModal = function (type) {
            this.sendEmailState.isLoading = false;
            this.sendEmailState.opened = true;
            this.sendEmailState.sendType = type;
            this.sendEmailState.email = '';
            this.sendEmailState.errors = [];
            this.sendEmailState.errorOccured = false;
        };
        /**
         * Send email dialog shown event.
         */
        IzendaDashboardToolbarComponent.prototype.setFocus = function () {
            var _this = this;
            this.$timeout(function () {
                _this.sendEmailState.focused = true;
            }, 1);
        };
        /**
         * Close send email dialog
         */
        IzendaDashboardToolbarComponent.prototype.hideEmailModal = function (success) {
            var _this = this;
            this.sendEmailState.focused = false;
            this.sendEmailState.errorOccured = true;
            this.sendEmailState.errors = [];
            if (success) {
                // OK pressed
                var isEmailValid = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(this.sendEmailState
                    .email);
                if (!isEmailValid) {
                    this.sendEmailState.errorOccured = true;
                    this.sendEmailState.errors.push(this.$izendaLocaleService.localeText('js_IncorrectEmail', 'Incorrect Email'));
                }
                else {
                    this.sendEmailState.isLoading = true;
                    this.$izendaDashboardStorageService.sendEmail(this.sendEmailState.sendType, this.sendEmailState.email).then(function (result) {
                        _this.sendEmailState.opened = false;
                        if (result === 'OK') {
                            _this.$izendaUtilUiService.showNotification(_this.$izendaLocaleService.localeText('js_EmailWasSent', 'Email  was sent'));
                        }
                        else {
                            var errorText = _this.$izendaLocaleService.localeText('js_FailedToSendEmail', 'Failed to send email');
                            _this.$izendaUtilUiService.showErrorDialog(errorText);
                        }
                    }, function (error) {
                        console.error(error);
                        var errorText = _this.$izendaLocaleService.localeText('js_FailedToSendEmail', 'Failed to send email');
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                    });
                }
            }
            else {
                // cancel pressed
                this.sendEmailState.opened = false;
            }
        };
        /**
         * Send dashboard via email
         */
        IzendaDashboardToolbarComponent.prototype.sendEmail = function (type) {
            if (type === 'Link') {
                if (!this.model.reportFullName) {
                    var errorText = this.$izendaLocaleService.localeText('js_CantSendUnsavedLink', 'Cannot email link to unsaved dashboard');
                    this.$izendaUtilUiService.showNotification(errorText);
                    return;
                }
                var redirectUrl = "?subject=" + encodeURIComponent(this.model.reportFullName) + "&body=" + encodeURIComponent(location.href);
                redirectUrl = "mailto:" + redirectUrl.replace(/ /g, '%20');
                window.top.location.href = redirectUrl;
            }
            else
                this.showEmailModal(type);
        };
        IzendaDashboardToolbarComponent = __decorate([
            izenda_component_13.default(module_definition_37.default, 'izendaDashboardToolbar', ['rx', '$window', '$element', '$interval', '$timeout', '$rootScope',
                'izendaDashboardConfig', '$izendaSettingsService', '$izendaLocaleService', '$izendaUtilService', '$izendaUtilUiService',
                '$izendaCompatibilityService', '$izendaUrlService',
                '$izendaScheduleService', '$izendaShareService', '$izendaDashboardSettings', '$izendaDashboardStorageService',
                '$izendaBackgroundService', '$izendaGalleryService'], {
                templateUrl: '###RS###extres=components.dashboard.components.toolbar.toolbar-template.html'
            }),
            __metadata("design:paramtypes", [Object, Object, Object, Object, Object, Object, Object, Object, localization_service_9.default,
                util_service_3.default,
                util_ui_service_6.default,
                compatibility_service_5.default,
                url_service_7.default,
                schedule_service_3.default,
                share_service_3.default, Object, dashboard_storage_service_5.default,
                background_service_3.default,
                gallery_service_2.default])
        ], IzendaDashboardToolbarComponent);
        return IzendaDashboardToolbarComponent;
    }());
});
izendaRequire.define("dashboard/module", ["require", "exports", "dashboard/module-definition", "dashboard/services/background-service", "dashboard/services/dashboard-query-service", "dashboard/services/gallery-service", "dashboard/services/dashboard-storage-service", "izenda-external-libs", "dashboard/directives/dashboard-background", "dashboard/directives/tile-top-slider", "dashboard/directives/toolbar-folder-menu-accordion", "dashboard/directives/toolbar-links-panel", "dashboard/components/tile/tile-draggable-directive", "dashboard/components/tile/tile-flip-directive", "dashboard/components/tile/tile-hover-directive", "dashboard/components/tile/tile-resizable-directive", "dashboard/components/tile-back/tile-back-component", "dashboard/components/tile/tile-component", "dashboard/components/filter/filter-component", "dashboard/components/gallery/gallery-component", "dashboard/components/dashboard/dashboard-component", "dashboard/components/toolbar/toolbar-component"], function (require, exports, module_definition_38, background_service_4, dashboard_query_service_1, gallery_service_3, dashboard_storage_service_6) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    background_service_4.default.register(module_definition_38.default);
    dashboard_query_service_1.default.register(module_definition_38.default);
    gallery_service_3.default.register(module_definition_38.default);
    dashboard_storage_service_6.default.register(module_definition_38.default);
});
izendaRequire.define("common/core/tools/izenda-linq", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLinq;
    (function (IzendaLinq) {
        Array.prototype.firstOrDefault = function (predicate) {
            return this.reduce(function (accumulator, currentValue) {
                if (!accumulator && predicate(currentValue))
                    accumulator = currentValue;
                return accumulator;
            }, null);
        };
        Array.prototype.pushAll = function (collection) {
            var _this = this;
            if (collection === null)
                return this;
            collection.forEach(function (t) { return _this.push(t); });
            return this;
        };
        Array.prototype.firstOrDefaultInInner = function (innerObjectKey, innerObjectPredicate) {
            for (var i = 0; i < this.length; i++) {
                var parentObject = this[i];
                if (!parentObject.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + parentObject;
                var innerObject = parentObject[innerObjectKey];
                if (innerObject && innerObject instanceof Array) {
                    var foundInner = innerObject.firstOrDefault(innerObjectPredicate);
                    if (foundInner)
                        return foundInner;
                }
            }
            return null;
        };
        Array.prototype.filterInInner = function (innerObjectKey, innerObjectPredicate) {
            return this.reduce(function (result, currentTopLevel) {
                if (!currentTopLevel.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + currentTopLevel;
                var inner = currentTopLevel[innerObjectKey];
                if (inner && inner instanceof Array)
                    return result.concat(inner.filter(innerObjectPredicate));
                return result;
            }, []);
        };
    })(IzendaLinq = exports.IzendaLinq || (exports.IzendaLinq = {}));
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvbXNpZS1kZXRlY3QudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC1tb2RhbC50cyIsImNvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eS50cyIsImNvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL2RpYWxvZy1ib3gvZGlhbG9nLWJveC1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50LnRzIiwiY29tbW9uL2NvcmUvbW9kdWxlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS50cyIsImNvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbC50cyIsImNvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsLnRzIiwiY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZS50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3JlcG9ydC12aWV3ZXIudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcy50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbi50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3N3aXRjaGVyLnRzIiwiY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbi50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NlbGVjdC1yZXBvcnQvc2VsZWN0LXJlcG9ydC1jb21wb25lbnQudHMiLCJjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9tb2R1bGUudHMiLCJkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24udHMiLCJkYXNoYm9hcmQvc2VydmljZXMvYmFja2dyb3VuZC1zZXJ2aWNlLnRzIiwiZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwudHMiLCJkYXNoYm9hcmQvbW9kZWwvZGFzaGJvYXJkLW1vZGVsLnRzIiwiZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1xdWVyeS1zZXJ2aWNlLnRzIiwiZGFzaGJvYXJkL21vZGVsL2dhbGxlcnktc3RhdGUtbW9kZWwudHMiLCJkYXNoYm9hcmQvc2VydmljZXMvZ2FsbGVyeS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL2ZpbHRlcnMtbW9kZWwudHMiLCJkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZS50cyIsImRhc2hib2FyZC9kaXJlY3RpdmVzL2Rhc2hib2FyZC1iYWNrZ3JvdW5kLnRzIiwiZGFzaGJvYXJkL2RpcmVjdGl2ZXMvdGlsZS10b3Atc2xpZGVyLnRzIiwiZGFzaGJvYXJkL2RpcmVjdGl2ZXMvdG9vbGJhci1mb2xkZXItbWVudS1hY2NvcmRpb24udHMiLCJkYXNoYm9hcmQvZGlyZWN0aXZlcy90b29sYmFyLWxpbmtzLXBhbmVsLnRzIiwiZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS90aWxlLWRyYWdnYWJsZS1kaXJlY3RpdmUudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtZmxpcC1kaXJlY3RpdmUudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtaG92ZXItZGlyZWN0aXZlLnRzIiwiZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS90aWxlLXJlc2l6YWJsZS1kaXJlY3RpdmUudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlLWJhY2svdGlsZS1iYWNrLWNvbXBvbmVudC50cyIsImRhc2hib2FyZC9jb21wb25lbnRzL3RpbGUvdGlsZS1jb21wb25lbnQudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy9maWx0ZXIvZmlsdGVyLWNvbXBvbmVudC50cyIsImRhc2hib2FyZC9jb21wb25lbnRzL2dhbGxlcnkvZ2FsbGVyeS1jb21wb25lbnQudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLWNvbXBvbmVudC50cyIsImRhc2hib2FyZC9jb21wb25lbnRzL3Rvb2xiYXIvdG9vbGJhci1jb21wb25lbnQudHMiLCJkYXNoYm9hcmQvbW9kdWxlLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWxpbnEudHMiLCJjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztJQUVBLDJDQUEyQztJQUMzQyxJQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLGtCQUFlLGdCQUFnQixDQUFDOzs7OztJQ0poQztRQUFBO1FBMEJBLENBQUM7UUF6Qk8sOEJBQW1CLEdBQTFCLFVBQTJCLE9BQWUsRUFBRSxVQUFrQjtZQUM3RCxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQztZQUM3QixJQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3RDLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7WUFDekMsSUFBSSxPQUFPLEVBQUU7Z0JBQ1osaUJBQWlCLElBQUksTUFBSSxPQUFTLENBQUM7Z0JBQ25DLElBQUksVUFBVSxFQUFFO29CQUNmLGlCQUFpQixHQUFNLFVBQVUsU0FBSSxpQkFBbUIsQ0FBQztpQkFDekQ7YUFDRDtZQUNELENBQUMsQ0FBQyxTQUFTLEdBQUcsYUFBVyxpQkFBaUIsMENBQXFDLENBQUM7WUFDaEYsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFNLFVBQVUsR0FBRyxDQUFDLENBQUMs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R0FBRyxVQUErQixjQUFpQixFQUMvRSxvQkFBcUM7WUFFckMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBbUIsRUFBRSxlQUFrQjtnQkFDMUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDO29CQUNsRCxNQUFNLFNBQU8sY0FBYyw2QkFBd0IsZUFBaUIsQ0FBQztnQkFDdEUsSUFBTSxLQUFLLEdBQUcsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUM5QyxJQUFJLEtBQUssSUFBSSxLQUFLLFlBQVksS0FBSztvQkFDbEMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO2dCQUMxRCxPQUFPLE1BQU0sQ0FBQztZQUNmLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNSLENBQUMsQ0FBQztJQUNILENBQUMsRUEvQ2EsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUErQ3ZCIiwiZmlsZSI6Im1vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcblxyXG4vLyBjcmVhdGUgaXplbmRhLmNvbW1vbi5jb3JlIGFuZ3VsYXIgbW9kdWxlXHJcbmNvbnN0IGl6ZW5kYUNvcmVNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaXplbmRhLmNvbW1vbi5jb3JlJywgWydyeCddKTtcclxuZXhwb3J0IGRlZmF1bHQgaXplbmRhQ29yZU1vZHVsZTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXNpZURldGVjdCB7XHJcblx0c3RhdGljIGlzU3BlY2lmaWNJZVZlcnNpb24odmVyc2lvbjogbnVtYmVyLCBjb21wYXJpc29uOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdGxldCBpZUNvbXBhcmVPcGVyYXRvciA9ICdJRSc7XHJcblx0XHRjb25zdCBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnQicpO1xyXG5cdFx0Y29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRcdGlmICh2ZXJzaW9uKSB7XHJcblx0XHRcdGllQ29tcGFyZU9wZXJhdG9yICs9IGAgJHt2ZXJzaW9ufWA7XHJcblx0XHRcdGlmIChjb21wYXJpc29uKSB7XHJcblx0XHRcdFx0aWVDb21wYXJlT3BlcmF0b3IgPSBgJHtjb21wYXJpc29ufSAke2llQ29tcGFyZU9wZXJhdG9yfWA7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGIuaW5uZXJIVE1MID0gYDwhLS1baWYgJHtpZUNvbXBhcmVPcGVyYXRvcn1dPjxiIGlkPVwiaWVjY3Rlc3RcIj48L2I+PCFbZW5kaWZdLS0+YDtcclxuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoYik7XHJcblx0XHRjb25zdCBpc0llUmVzdWx0ID0gISFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWVjY3Rlc3QnKTtcclxuXHRcdGRvY0VsZW0ucmVtb3ZlQ2hpbGQoYik7XHJcblx0XHRjb25zdCBkb2NNb2RlID0gZG9jdW1lbnRbJ2RvY3VtZW50TW9kZSddO1xyXG5cdFx0Y29uc3QgaXNDb21wYXRpYmlsaXR5TW9kZSA9XHJcblx0XHRcdCh0eXBlb2YgZG9jTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuXHRcdFx0XHQoXHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2x0ZScgJiYgTnVtYmVyKGRvY01vZGUpIDw9IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2d0ZScgJiYgTnVtYmVyKGRvY01vZGUpID49IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2x0JyAmJiBOdW1iZXIoZG9jTW9kZSkgPCB2ZXJzaW9uKSB8fFxyXG5cdFx0XHRcdFx0KGNvbXBhcmlzb24gPT09ICdndCcgJiYgTnVtYmVyKGRvY01vZGUpID4gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnZXEnICYmIE51bWJlcihkb2NNb2RlKSA9PT0gdmVyc2lvbikpKTtcclxuXHRcdHJldHVybiBpc0llUmVzdWx0IHx8IGlzQ29tcGF0aWJpbGl0eU1vZGU7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgTXNpZURldGVjdCBmcm9tICdjb21tb24vY29yZS90b29scy9tc2llLWRldGVjdCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSB7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodE5vbmUgPSAnTm9uZSc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodFJlYWRPbmx5ID0gJ1JlYWQgT25seSc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodFZpZXdPbmx5ID0gJ1ZpZXcgT25seSc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodExvY2tlZCA9ICdMb2NrZWQnO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgcmlnaHRGdWxsQWNjZXNzID0gJ0Z1bGwgQWNjZXNzJztcclxuXHRwcml2YXRlIGN1cnJlbnRSaWdodHM6IHN0cmluZyA9IHRoaXMucmlnaHROb25lO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgaWU4OiBib29sZWFuO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgbHRlSWUxMDogYm9vbGVhbjtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGd0ZUllOTogYm9vbGVhbjtcclxuXHRwcml2YXRlIHVzZXNIaWRkZW5Db2x1bW5zOiBib29sZWFuO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHdpbmRvdyddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0dGhpcy5pZTggPSBNc2llRGV0ZWN0LmlzU3BlY2lmaWNJZVZlcnNpb24oOCwgJ2x0ZScpO1xyXG5cdFx0dGhpcy5sdGVJZTEwID0gTXNpZURldGVjdC5pc1NwZWNpZmljSWVWZXJzaW9uKDEwLCAnbHRlJyk7XHJcblx0XHR0aGlzLmd0ZUllOSA9IE1zaWVEZXRlY3QuaXNTcGVjaWZpY0llVmVyc2lvbig5LCAnZ3RlJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzSWU4KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaWU4O1xyXG5cdH1cclxuXHJcblx0aXNJZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmd0ZUllOTtcclxuXHR9XHJcblxyXG5cdGlzTHRlSWUxMCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmx0ZUllMTA7XHJcblx0fVxyXG5cclxuXHRpc0h0bWw1RnVsbFNjcmVlblN1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAhdGhpcy5sdGVJZTEwXHJcblx0XHRcdCYmIChkb2N1bWVudFsnZnVsbHNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnd2Via2l0RnVsbHNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnbW96RnVsbFNjcmVlbkVuYWJsZWQnXSB8fCBkb2N1bWVudFsnbXNGdWxsc2NyZWVuRW5hYmxlZCddKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHBhZ2Ugc2hvdWxkIGhhdmUgbW9iaWxlIHZpZXcuXHJcblx0ICovXHJcblx0aXNNb2JpbGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgcGFnZSB3aW5kb3cgaXMgdG9vIHNtYWxsIHRvIGZpdCBzZXZlcmFsIGNvbHVtbnMgb2YgdGlsZXMuXHJcblx0ICovXHJcblx0aXNTbWFsbFJlc29sdXRpb24oKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kd2luZG93LmlubmVyV2lkdGggPD0gOTkxO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgb25lIGNvbHVtbiB2aWV3IHJlcXVpcmVkXHJcblx0ICovXHJcblx0aXNPbmVDb2x1bW5WaWV3KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNNb2JpbGUoKSB8fCB0aGlzLmlzU21hbGxSZXNvbHV0aW9uKCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCByZXBvcnQgd2l0aCBoaWRkZW4gY29sdW1ucyBpcyBjdXJyZW5seSBsb2FkZWQuXHJcblx0ICovXHJcblx0c2V0VXNlc0hpZGRlbkNvbHVtbnModmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMudXNlc0hpZGRlbkNvbHVtbnMgPSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBmbGF0IHRoYXQgaW5kaWNhdGVzIHRoYXQgcmVwb3J0IHdpdGggaGlkZGVuIGNvbHVtbnMgaXMgY3VycmVubHkgbG9hZGVkLlxyXG5cdCAqL1xyXG5cdGlzVXNlc0hpZGRlbkNvbHVtbnMoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VzSGlkZGVuQ29sdW1ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCByaWdodHMgZm9yIGN1cnJlbnQgZGFzaGJvYXJkXHJcblx0ICovXHJcblx0c2V0UmlnaHRzKHJpZ2h0czogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmN1cnJlbnRSaWdodHMgPSByaWdodHMgPyByaWdodHMgOiB0aGlzLnJpZ2h0Tm9uZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IHJpZ2h0c1xyXG5cdCAqL1xyXG5cdGdldFJpZ2h0cygpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFJpZ2h0cyA/IHRoaXMuY3VycmVudFJpZ2h0cyA6IHRoaXMucmlnaHROb25lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZ1bGwgYWNjZXNzIHJpZ2h0IGFzIGN1cnJlbnQgcmlnaHQuXHJcblx0ICovXHJcblx0c2V0RnVsbEFjY2VzcygpIHtcclxuXHRcdHRoaXMuc2V0UmlnaHRzKHRoaXMucmlnaHRGdWxsQWNjZXNzKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHRpbGUgZWRpdGluZyBhbGxvd2VkLlxyXG5cdCAqL1xyXG5cdGlzRnVsbEFjY2VzcygpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzXS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc0llOCgpO1xyXG5cdFx0cmV0dXJuIGFsbG93ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyB0aWxlIGVkaXRpbmcgYWxsb3dlZC5cclxuXHQgKi9cclxuXHRpc0VkaXRBbGxvd2VkKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3MsIHRoaXMucmlnaHRSZWFkT25seV0uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNPbmVDb2x1bW5WaWV3KCk7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc0llOCgpO1xyXG5cdFx0cmV0dXJuIGFsbG93ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzYXZlIGFzIGFsbG93ZWRcclxuXHQgKi9cclxuXHRpc1NhdmVBc0FsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2VzcywgdGhpcy5yaWdodFJlYWRPbmx5XS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc0llOCgpO1xyXG5cdFx0cmV0dXJuIGFsbG93ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzYXZlIGFsbG93ZWQgd2l0aCBoaWRkZW4gY29sdW1uc1xyXG5cdCAqL1xyXG5cdGlzU2F2ZUFsbG93ZWRXaXRoSGlkZGVuKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3NdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzU2F2ZUFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc1NhdmVBbGxvd2VkV2l0aEhpZGRlbigpICYmICF0aGlzLnVzZXNIaWRkZW5Db2x1bW5zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgZmlsdGVycyBlZGl0aW5nIGFsbG93ZWRcclxuXHQgKi9cclxuXHRpc0ZpbHRlcnNFZGl0QWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzLCB0aGlzLnJpZ2h0UmVhZE9ubHksIHRoaXMucmlnaHRMb2NrZWRdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJywgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFFdmVudFNlcnZpY2Uge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZXZlbnRzOiBhbnkgPSB7fTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRyb290U2NvcGUnLCAnJGxvZyddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkbG9nOiBuZy5JTG9nU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBldmVudCB0byBxdWV1ZS4gXHJcblx0ICovXHJcblx0cXVldWVFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRBcmd1bWVudHM6IGFueVtdLCBjbGVhclF1ZXVlOiBib29sZWFuKSB7XHJcblx0XHRpZiAoIShldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHx8IGNsZWFyUXVldWUpIHtcclxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZXZlbnRSZWNvcmQgPSB7XHJcblx0XHRcdGFyZ3M6IGV2ZW50QXJndW1lbnRzXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGV2ZW50UmVjb3JkKTtcclxuXHRcdHRoaXMuJGxvZy5kZWJ1ZyhgZXZlbnQgXCIke2V2ZW50TmFtZX1cIiBxdWV1ZWRgKTtcclxuXHRcdHRoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KGV2ZW50TmFtZSwgZXZlbnRBcmd1bWVudHMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0cmlldmUgZXZlbnQgcmVjb3JkIGZyb20gcXVldWUgYW5kIHJldHVybiBpdCdzIHJlY29yZC5cclxuXHQgKi9cclxuXHRoYW5kbGVRdWV1ZWRFdmVudChldmVudE5hbWU6IHN0cmluZywgc2NvcGU6IGFueSwgZXZlbnRDb250ZXh0OiBhbnksIGV2ZW50SGFuZGxlcjogYW55KSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihldmVudEhhbmRsZXIpKVxyXG5cdFx0XHR0aHJvdyAnZXZlbnRIYW5kbGVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uJztcclxuXHRcdGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykgfHwgIWFuZ3VsYXIuaXNBcnJheSh0aGlzLmV2ZW50c1tldmVudE5hbWVdKSlcclxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cclxuXHRcdHdoaWxlICh0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y29uc3QgZXZlbnRSZWNvcmQgPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnNoaWZ0KCk7XHJcblx0XHRcdHRoaXMuJGxvZy5kZWJ1ZyhgZXZlbnQgXCIke2V2ZW50TmFtZX1cIiBydW4gZnJvbSBxdWV1ZWApO1xyXG5cdFx0XHRldmVudEhhbmRsZXIuYXBwbHkoZXZlbnRDb250ZXh0LCBldmVudFJlY29yZC5hcmdzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBzdGFydCBoYW5kbGluZyBldmVudCB1c2luZyBhbmd1bGFyIGV2ZW50cy5cclxuXHRcdGlmIChzY29wZS4kJGxpc3RlbmVycykge1xyXG5cdFx0XHRjb25zdCBldmVudEFyciA9IHNjb3BlLiQkbGlzdGVuZXJzW2V2ZW50TmFtZV07XHJcblx0XHRcdGlmIChldmVudEFycikge1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRBcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChldmVudEFycltpXSA9PT0gZXZlbnRIYW5kbGVyKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50QXJyLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRzY29wZS4kb24oZXZlbnROYW1lLCAoZXZlbnQsIGFyZ3MpID0+IHtcclxuXHRcdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHJ1biBmcm9tICRvbmApO1xyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblx0XHRcdGV2ZW50SGFuZGxlci5hcHBseShldmVudENvbnRleHQsIGFyZ3MpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciBhbGwgcXVldWVkIGV2ZW50cyAoZm9yIG1hbnVhbCAkYnJvYWRjYXN0IGhhbmRsaW5nKVxyXG5cdCAqL1xyXG5cdGNsZWFyRXZlbnRRdWV1ZShldmVudE5hbWUpIHtcclxuXHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUV2ZW50U2VydmljZScsIEl6ZW5kYUV2ZW50U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFFdmVudFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG4vKipcclxuICogTG9jYWxpemF0aW9uIHNlcnZpY2UuIEdldHMgbG9jYWxpemVkIHN0cmluZ3MgZnJvbSB0aGUgXCJJekxvY2FsXCIgb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gW107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6TG9jYWwuTG9jYWxpemVQYWdlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgbG9jYWxpemVkIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleS4gTG9jYWxlIHN0cmluZyBrZXkgKGRlZmluZWQgaW4gcmVzb3VyY2VzLmFzcHgpXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRWYWx1ZS4gRGVmYXVsdCB2YWx1ZSwgd2hlbiBsb2NhbGUgdGV4dCBjb3VsZG4ndCBiZSBnb3RcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBsb2NhbGl6ZWQgdGV4dC5cclxuXHQgKi9cclxuXHRsb2NhbGVUZXh0KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBkZWZhdWx0VGV4dCA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6ICcnO1xyXG5cdFx0cmV0dXJuIEl6TG9jYWwuUmVzKGtleSwgZGVmYXVsdFRleHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQXBwbHkgbG9jYWxlIHN0cmluZyBpbiBmb3JtYXQgXCIuLi57MH0uLi57MX0uLi5cIiBhbmQgYXBwbHkgaW5zdGVhZCBvZiAne259JyBwYXJhbXNbbl1cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIHRleHQga2V5LiBUaGlzIGtleSBjb250YWlucyBpbiByZXNvdXJjZXMuXHJcblx0ICogQHBhcmFtIHtzdHJvbmd9IGRlZmF1bHRWYWx1ZS4gRGVmYXVsdCB2YWx1ZSBpZiBsb2NhbGUgcmVzb3VyY2Ugd2Fzbid0IGZvdW5kLlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcy4gQWRkaXRpb25hbCBwYXJhbXMuXHJcblx0ICogQHJldHVybnMge3N0cmluZ30uIExvY2FsaXplZCB0ZXh0LiBcclxuXHQgKi9cclxuXHRsb2NhbGVUZXh0V2l0aFBhcmFtcyhrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcsIHBhcmFtczogc3RyaW5nW10pOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlc3VsdCA9IHRoaXMubG9jYWxlVGV4dChrZXksIGRlZmF1bHRWYWx1ZSk7XHJcblx0XHRpZiAoYW5ndWxhci5pc0FycmF5KHBhcmFtcykpXHJcblx0XHRcdHBhcmFtcy5mb3JFYWNoKChwYXJhbSwgaVBhcmFtKSA9PlxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlQWxsKGB7JHtpUGFyYW19fWAsIHBhcmFtKSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhTG9jYWxlU2VydmljZScsIEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkpO1xyXG5cdFx0LyoqXHJcblx0XHQgKiBGaWx0ZXIgd2hpY2ggaXMgdXNlZCBmb3IgdGhlIGFwcGx5aW5nIGxvY2FsaXphdGlvbi5cclxuXHRcdCAqIFNhbXBsZSB1c2FnZTogPGRpdiBuZy1iaW5kPVwiOjogJ2pzX2Nsb3NlJyB8IGl6ZW5kYUxvY2FsZTogJ0Nsb3NlJ1wiIC8+IHdoZXJlICdDbG9zZScgLSBcImRlZmF1bHRWYWx1ZVwiIHBhcmFtZXRlciB2YWx1ZS5cclxuXHRcdCAqL1xyXG5cdFx0bW9kdWxlLmZpbHRlcignaXplbmRhTG9jYWxlJywgW1xyXG5cdFx0XHQnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLFxyXG5cdFx0XHQoJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gKHRleHQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpID0+ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQodGV4dCwgZGVmYXVsdFZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0XSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcblxyXG4vKipcclxuICogVXRpbGl0eSBzZXJ2aWNlLiBQcm92aWRlcyB0aGUgdXRpbGl0eSBmdW5jdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFVdGlsU2VydmljZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhTG9jYWxlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBodW1hbiByZWFkYWJsZSB2YXJpYWJsZSBuYW1lIHZlcnNpb25cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0XHJcblx0ICovXHJcblx0aHVtYW5pemVWYXJpYWJsZU5hbWUodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyh0ZXh0KSlcclxuXHRcdFx0cmV0dXJuIHRleHQ7XHJcblx0XHRjb25zdCByZXN1bHQgPSB0ZXh0XHJcblx0XHRcdC8vIGluc2VydCBhIHNwYWNlIGJldHdlZW4gbG93ZXIgJiB1cHBlclxyXG5cdFx0XHQucmVwbGFjZSgvKFthLXpdKShbQS1aXFxkXSkvZywgJyQxICQyJylcclxuXHRcdFx0Ly8gc3BhY2UgYmVmb3JlIGxhc3QgdXBwZXIgaW4gYSBzZXF1ZW5jZSBmb2xsb3dlZCBieSBsb3dlclxyXG5cdFx0XHQucmVwbGFjZSgvXFxiKFtBLVpcXGRdKykoW0EtWlxcZF0pKFthLXpdKS8sICckMSAkMiQzJylcclxuXHRcdFx0Ly8gdXBwZXJjYXNlIHRoZSBmaXJzdCBjaGFyYWN0ZXJcclxuXHRcdFx0LnJlcGxhY2UoL14uLywgdHh0ID0+IHR4dC50b1VwcGVyQ2FzZSgpKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcIlVuY2F0ZWdvcml6ZWRcIiBjYXRlZ29yeSBsb2NhbGl6ZWQgbmFtZSBnZXR0ZXIuXHJcblx0ICovXHJcblx0Z2V0IHVuY2F0ZWdvcml6ZWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFwiVW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IGxvY2FsaXplZCBuYW1lLlxyXG5cdCAqL1xyXG5cdGdldFVuY2F0ZWdvcml6ZWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnVuY2F0ZWdvcml6ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayB3aGV0aGVyIFwidW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IG9yIG5vdC5cclxuXHQgKi9cclxuXHRpc1VuY2F0ZWdvcml6ZWQoY2F0ZWdvcnk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFjYXRlZ29yeSB8fCAhYW5ndWxhci5pc1N0cmluZyhjYXRlZ29yeSkpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0cmV0dXJuIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IHRoaXMudW5jYXRlZ29yaXplZC50b0xvd2VyQ2FzZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgd2hldGhlciBjYXRlZ29yaWVzIGVxdWFsIG9yIG5vdC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY2F0MSBDYXRlZ29yeSBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXQyIENhdGVnb3J5IG5hbWUuXHJcblx0ICovXHJcblx0aXNDYXRlZ29yaWVzRXF1YWwoY2F0MTogc3RyaW5nLCBjYXQyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAodGhpcy5pc1VuY2F0ZWdvcml6ZWQoY2F0MSkgJiYgdGhpcy5pc1VuY2F0ZWdvcml6ZWQoY2F0MikpIHx8IGNhdDEgPT09IGNhdDI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSByZXBvcnQgZnVsbCBuYW1lXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydE5hbWUgcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvciBkaXJlY3RvcmllcyBzZXBhcmF0b3Igc3ltYm9sLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSByZXBvcnQgY2F0ZWdvcnkgKG9wdGlvbmFsKS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IGdlbmVyYXRlZCByZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqL1xyXG5cdGNyZWF0ZVJlcG9ydEZ1bGxOYW1lKHJlcG9ydE5hbWU6IHN0cmluZywgc2VwYXJhdG9yOiBzdHJpbmcsIGNhdGVnb3J5Pzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghcmVwb3J0TmFtZSB8fCByZXBvcnROYW1lLnRyaW0oKSA9PT0gJycpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignRW1wdHkgXCJyZXBvcnROYW1lXCIgcGFyYW1ldGVyIGlzblxcJ3QgYWxsb3dlZC4nKTtcclxuXHRcdHJldHVybiB0aGlzLmlzVW5jYXRlZ29yaXplZChjYXRlZ29yeSlcclxuXHRcdFx0PyByZXBvcnROYW1lXHJcblx0XHRcdDogY2F0ZWdvcnkgKyBzZXBhcmF0b3IgKyByZXBvcnROYW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCBvcHRpb25zIHdoaWNoIGhhdmUgZ290IGZyb20gc2VydmVyIHVzaW5nIFwiR2V0T3B0aW9uc0J5UGF0aFwiIHF1ZXJ5IGludG8gXHJcblx0ICogb25lIGRpbWVudGlvbmFsIGFycmF5LCB3aGljaCBhbGxvdyB0byB1c2UgaXQgYXMgPG9wdGlvbj5cclxuXHQgKi9cclxuXHRjb252ZXJ0T3B0aW9uc0J5UGF0aChvcHRpb25Hcm91cHM6IGFueVtdKTogYW55W10ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkob3B0aW9uR3JvdXBzKSlcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cclxuXHRcdGNvbnN0IGdyb3VwcyA9IFtdO1xyXG5cdFx0b3B0aW9uR3JvdXBzLmZvckVhY2goZ3JvdXAgPT4ge1xyXG5cdFx0XHRncm91cC5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcclxuXHRcdFx0XHRvcHRpb24uZ3JvdXAgPSBhbmd1bGFyLmlzU3RyaW5nKGdyb3VwLm5hbWUpICYmIGdyb3VwLm5hbWUgIT09ICcnXHJcblx0XHRcdFx0XHQ/IGdyb3VwLm5hbWVcclxuXHRcdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0XHRcdGdyb3Vwcy5wdXNoKG9wdGlvbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZ3JvdXBzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IG9wdGlvbiBieSB2YWx1ZSBmcm9tIGFycmF5IG9mIG9iamVjdHMgd2l0aCBcInZhbHVlXCIgcHJvcGVydHkgKGNhc2UgaW5zZW5zaXRpdmUpOiBcclxuXHQgKiBbe3ZhbHVlOid0ZXh0MScsLi4ufSwge3ZhbHVlOid0ZXh0MicsIC4uLn0sIC4uLl1cclxuXHQgKi9cclxuXHRnZXRPcHRpb25CeVZhbHVlKG9wdGlvbnM6IGFueVtdLCB2YWx1ZTogc3RyaW5nLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24/OiBib29sZWFuKSB7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25zKSB8fCAhb3B0aW9ucy5sZW5ndGgpXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0d2hpbGUgKGkgPCBvcHRpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCBvcHRpb246IGFueSA9IG9wdGlvbnNbaV07XHJcblx0XHRcdGlmICghaXNMb3dlckNhc2VDb21wYXJpc29uICYmIG9wdGlvbi52YWx1ZSA9PT0gdmFsdWUpXHJcblx0XHRcdFx0cmV0dXJuIG9wdGlvbjtcclxuXHRcdFx0aWYgKGlzTG93ZXJDYXNlQ29tcGFyaXNvbiAmJiBvcHRpb24udmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9uO1xyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgSXplbmRhVXRpbFNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXRpbFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVV0aWxVaVNlcnZpY2Uge1xyXG5cdHByaXZhdGUgbm90aWZpY2F0aW9uSGlkZURlbGF5ID0gNTAwMDtcclxuXHRwcml2YXRlIG5vdGlmaWNhdGlvbnNJZENvdW50ZXIgPSAxO1xyXG5cdG5vdGlmaWNhdGlvbnM6IGFueVtdID0gW107XHJcblxyXG5cdG1lc3NhZ2U6IGFueSA9IG51bGw7XHJcblx0ZGlhbG9nQm94OiBhbnkgPSBudWxsO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW1tZWRpYXRlbHkgY2xvc2Ugbm90aWZpY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBub3RpZmljYXRpb25JZCBub3RpZmljYXRpb24gaWRcclxuXHQgKi9cclxuXHRjbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZDogbnVtYmVyKSB7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZSAoaSA8IHRoaXMubm90aWZpY2F0aW9ucy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKHRoaXMubm90aWZpY2F0aW9uc1tpXS5pZCA9PT0gbm90aWZpY2F0aW9uSWQpIHtcclxuXHRcdFx0XHR0aGlzLmNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uSWQpO1xyXG5cdFx0XHRcdHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbmNlbCBub3RpZmljYXRpb24gYXV0b2hpZGUuXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vdGlmaWNhdGlvbklkIG5vdGlmaWNhdGlvbiBpZFxyXG5cdCAqL1xyXG5cdGNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uSWQ6IG51bWJlcikge1xyXG5cdFx0Y29uc3QgaXRtID0gdGhpcy5nZXROb3RpZmljYXRpb25CeUlkKG5vdGlmaWNhdGlvbklkKTtcclxuXHRcdGlmIChpdG0udGltZW91dElkKSB7XHJcblx0XHRcdHRoaXMuJHRpbWVvdXQuY2FuY2VsKGl0bS50aW1lb3V0SWQpO1xyXG5cdFx0XHRpdG0udGltZW91dElkID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqICBTaG93cyBwb3AgdXAgbm90aWZpY2F0aW9uIHBhbmVsLiBJZiBubyA8aXplbmRhLW5vdGlmaWNhdGlvbi1jb21wb25lbnQ+IGRlZmluZWQgb3Igbm8gY29tcG9uZW50cyB3aXRoIGNvbXBvbmVudElkIHdpbGwgYmUgZm91bmRcclxuXHQgKiB0aGVuIG5vdGhpbmcgd2lsbCBoYXBwZW4uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWVzc2FnZSB0ZXh0LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBUaXRsZSB0ZXh0IChvcHRpb25hbCkuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGljb24gSWNvbiAob3B0aW9uYWwpLiBQb3NzaWJsZSB2YWx1ZXMgJ2Vycm9yJyBvciBubyB2YWx1ZS5cclxuXHQgKi9cclxuXHRzaG93Tm90aWZpY2F0aW9uKHRleHQ6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIGljb24/OiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IG5leHRJZCA9IHRoaXMubm90aWZpY2F0aW9uc0lkQ291bnRlcisrO1xyXG5cdFx0Y29uc3QgaWNvbkNsYXNzID0gYW5ndWxhci5pc1N0cmluZyhpY29uKSAmJiBpY29uID09PSAnZXJyb3InID8gJ2dseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbicgOiAnJztcclxuXHRcdHZhciBvYmpUb1Nob3cgPSB7XHJcblx0XHRcdGlkOiBuZXh0SWQsXHJcblx0XHRcdHRpdGxlOiB0aXRsZSA/IHRpdGxlIDogJycsXHJcblx0XHRcdHRleHQ6IHRleHQsXHJcblx0XHRcdGljb25DbGFzczogaWNvbkNsYXNzLFxyXG5cdFx0XHR0aW1lb3V0SWQ6IG51bGxcclxuXHRcdH07XHJcblx0XHRvYmpUb1Nob3cudGltZW91dElkID0gdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2xvc2VOb3RpZmljYXRpb24ob2JqVG9TaG93LmlkKTtcclxuXHRcdH0sIHRoaXMubm90aWZpY2F0aW9uSGlkZURlbGF5KTtcclxuXHRcdHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG9ialRvU2hvdyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93cyBtZXNzYWdlIGRpYWxvZy4gSWYgbm8gPGl6ZW5kYS1tZXNzYWdlLWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYWxlcnRJbmZvIFR5cGUgb2YgZGlhbG9nIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlczogJ3N1Y2Nlc3MnLCAnaW5mbycsICd3YXJuaW5nJywgJ2RhbmdlcidcclxuXHQgKi9cclxuXHRzaG93TWVzc2FnZURpYWxvZyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nLCBhbGVydEluZm8/OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWVzc2FnZSA9IHtcclxuXHRcdFx0bWVzc2FnZTogbWVzc2FnZSxcclxuXHRcdFx0dGl0bGU6IGFuZ3VsYXIuaXNEZWZpbmVkKHRpdGxlKSA/IHRpdGxlIDogJycsXHJcblx0XHRcdGFsZXJ0SW5mbzogYW5ndWxhci5pc0RlZmluZWQoYWxlcnRJbmZvKSA/IGFsZXJ0SW5mbyA6ICdpbmZvJ1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIGVycm9yIGRpYWxvZy5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50SWQgSUQgb2YgY29tcG9uZW50LiBVc2VkIGZvciBkaXN0aW5ndWlzaCBkaWZmZXJlbnQgc2ltaWxhciBjb21wb25lbnRzLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIEVycm9yIHRleHRcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgRXJyb3IgdGl0bGUgKG9wdGlvbmFsKVxyXG5cdCAqL1xyXG5cdHNob3dFcnJvckRpYWxvZyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSB7XHJcblx0XHRjb25zdCB0aXRsZVRleHQgPSBhbmd1bGFyLmlzRGVmaW5lZCh0aXRsZSkgPyB0aXRsZSA6IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRXJyb3InLCAnRXJyb3InKTtcclxuXHRcdHRoaXMuc2hvd01lc3NhZ2VEaWFsb2cobWVzc2FnZSwgdGl0bGVUZXh0LCAnZGFuZ2VyJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtZXNzYWdlIGRpYWxvZy5cclxuXHQgKi9cclxuXHRjbG9zZU1lc3NhZ2VEaWFsb2coKSB7XHJcblx0XHR0aGlzLm1lc3NhZ2UgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvd3MgZGlhbG9nIGJveC4gSWYgbm8gPGl6ZW5kYS1kaWFsb2ctYm94LWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYWxlcnRJbmZvIFR5cGUgb2YgZGlhbG9nIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlczogJ3N1Y2Nlc3MnLCAnaW5mbycsICd3YXJuaW5nJywgJ2RhbmdlcidcclxuXHQgKiBAcGFyYW0ge0FycmF5fSBidXR0b25zIGRpYWxvZyBidXR0b25zIChvcHRpb25hbCkuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gY2hlY2tib3hlcyBjaGVja2JveGVzIGNvbGxlY3Rpb24gKG9wdGlvbmFsKS5cclxuXHQgKi9cclxuXHRzaG93RGlhbG9nQm94KG9wdGlvbnM6IGFueSkge1xyXG5cdFx0dGhpcy5kaWFsb2dCb3ggPSB7XHJcblx0XHRcdG1lc3NhZ2U6IG9wdGlvbnMubWVzc2FnZSxcclxuXHRcdFx0dGl0bGU6IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMudGl0bGUpID8gb3B0aW9ucy50aXRsZSA6ICcnLFxyXG5cdFx0XHRhbGVydEluZm86IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYWxlcnRJbmZvKSA/IG9wdGlvbnMuYWxlcnRJbmZvIDogJ2luZm8nLFxyXG5cdFx0XHRidXR0b25zOiBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmJ1dHRvbnMpID8gb3B0aW9ucy5idXR0b25zIDogW3sgdGV4dDogJ0Nsb3NlJyB9XSxcclxuXHRcdFx0Y2hlY2tib3hlczogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5jaGVja2JveGVzKSA/IG9wdGlvbnMuY2hlY2tib3hlcyA6IFtdXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgZGlhbG9nIGJveFxyXG5cdCAqL1xyXG5cdGNsb3NlRGlhbG9nQm94KCkge1xyXG5cdFx0dGhpcy5kaWFsb2dCb3ggPSBudWxsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXROb3RpZmljYXRpb25CeUlkKGlkKSB7XHJcblx0XHRjb25zdCBmb3VuZCA9IHRoaXMubm90aWZpY2F0aW9ucy5maW5kKG4gPT4ge1xyXG5cdFx0XHRyZXR1cm4gbi5pZCA9PT0gaWQ7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBmb3VuZCA/IGZvdW5kIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLFxyXG5cdFx0XHRJemVuZGFVdGlsVWlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVV0aWxVaVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBCb290c3RyYXAgbW9kYWwgZGlyZWN0aXZlLiBVc2FnZTpcclxuICogPGl6ZW5kYS1ib290c3RyYXAtbW9kYWwgb3BlbmVkPVwiLi4uXCI+Li4uPC9pemVuZGEtYm9vdHN0cmFwLW1vZGFsPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcblx0cmVzdHJpY3QgPSAnRSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRvcGVuZWQ6ICc9JyxcclxuXHRcdGtleWJvYXJkOiAnPScsXHJcblx0XHRiYWNrZHJvcDogJz0nLFxyXG5cdFx0bW9kYWxTaXplOiAnQCcsXHJcblx0XHRpc01vZGVybkJvb3RzdHJhcFZlcnNpb246ICdAJyxcclxuXHRcdG9uTW9kYWxPcGVuZWQ6ICcmJyxcclxuXHRcdG9uTW9kYWxDbG9zZWQ6ICcmJ1xyXG5cdH07XHJcblxyXG5cdHRlbXBsYXRlID0gYFxyXG48ZGl2IGNsYXNzPVwibW9kYWwgZmFkZVwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XHJcblx0PGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIG5nLWNsYXNzPVwiZ2V0TW9kYWxTaXplQ2xhc3MoKVwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuXHRcdFx0PGRpdiBuZy10cmFuc2NsdWRlPVwiXCI+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQ8L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcblx0bGluazogKCRkaXJlY3RpdmVTY29wZTogSUl6ZW5kYUJvb3RzdHJhcE1vZGFsU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlLnByb3RvdHlwZS5saW5rID0gKCRkaXJlY3RpdmVTY29wZTogSUl6ZW5kYUJvb3RzdHJhcE1vZGFsU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdCRkaXJlY3RpdmVTY29wZS5nZXRNb2RhbFNpemVDbGFzcyA9ICgpID0+ICRkaXJlY3RpdmVTY29wZS5tb2RhbFNpemUgPT09ICdsYXJnZScgPyAnbW9kYWwtbGcnIDogJyc7XHJcblxyXG5cdFx0XHR2YXIgJG1vZGFsID0gJGVsZW1lbnQuY2hpbGRyZW4oJy5tb2RhbCcpO1xyXG5cclxuXHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0JG1vZGFsLmNzcyh7XHJcblx0XHRcdFx0XHQnb3ZlcmZsb3cteCc6ICdoaWRkZW4nLFxyXG5cdFx0XHRcdFx0J292ZXJmbG93LXknOiAnc2Nyb2xsJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhZGRpdGlvbmFsIGJvb3RzdHJhcCBwYXJhbWV0ZXJzXHJcblx0XHRcdGlmICgkZGlyZWN0aXZlU2NvcGUua2V5Ym9hcmQgIT0gbnVsbClcclxuXHRcdFx0XHQkbW9kYWwuYXR0cignZGF0YS1rZXlib2FyZCcsICRkaXJlY3RpdmVTY29wZS5rZXlib2FyZCk7XHJcblx0XHRcdGlmICgkZGlyZWN0aXZlU2NvcGUuYmFja2Ryb3AgIT0gbnVsbClcclxuXHRcdFx0XHQkbW9kYWwuYXR0cignZGF0YS1iYWNrZHJvcCcsICRkaXJlY3RpdmVTY29wZS5iYWNrZHJvcCk7XHJcblxyXG5cdFx0XHQvLyBtb2RhbCBzaG93IGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdzaG93LmJzLm1vZGFsJywgKCkgPT4ge1xyXG5cdFx0XHRcdCRtb2RhbC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSgwLDAsMCwwLjgpJyk7XHJcblx0XHRcdFx0JG1vZGFsLmNzcygnZmlsdGVyJywgJ2FscGhhKG9wYWNpdHk9ODApJyk7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ21hcmdpbi1yaWdodCcsICcwJyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBtb2RhbCBzaG93biBoYW5kbGVyXHJcblx0XHRcdCRtb2RhbC5vbignc2hvd24uYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCdib2R5Jykuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxPcGVuZWQpKSB7XHJcblx0XHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUub25Nb2RhbE9wZW5lZCh7fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIGhpZGRlbiBoYW5kbGVyXHJcblx0XHRcdCRtb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghJGRpcmVjdGl2ZVNjb3BlLmlzTW9kZXJuQm9vdHN0cmFwVmVyc2lvbikge1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdpbmhlcml0Jyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ21hcmdpbi1yaWdodCcsICcwJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS5vcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRkaXJlY3RpdmVTY29wZS5vbk1vZGFsQ2xvc2VkKSkge1xyXG5cdFx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxDbG9zZWQoe30pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkZGlyZWN0aXZlU2NvcGUuJHdhdGNoKCdvcGVuZWQnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdC8vIGNyZWF0ZS9oaWRlIG1vZGFsIGRpYWxvZ1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpXHJcblx0XHRcdFx0XHQkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJylbJ21vZGFsJ10oKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHQkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJylbJ21vZGFsJ10oJ2hpZGUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBJemVuZGFCb290c3RyYXBNb2RhbERpcmVjdGl2ZSgkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcE1vZGFsU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRrZXlib2FyZDogc3RyaW5nO1xyXG5cdGJhY2tkcm9wOiBzdHJpbmc7XHJcblx0bW9kYWxTaXplOiBzdHJpbmc7XHJcblx0aXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uOiBib29sZWFuO1xyXG5cdG9uTW9kYWxPcGVuZWQ6IChhbnkpID0+IGFueTtcclxuXHRvbk1vZGFsQ2xvc2VkOiAoYW55KSA9PiBhbnk7XHJcblx0Z2V0TW9kYWxTaXplQ2xhc3M6ICgpID0+IHN0cmluZztcclxufVxyXG5cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcE1vZGFsJywgWyckdGltZW91dCcsIEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEFuZ3VsYXIgZmlsdGVyIHdoaWNoIHJlcGxhY2VzIHN0cmluZy5cclxuICogVXNhZ2U6XHJcbiAqIHt7ICdzb21lIHN0cmluZycgfCBpemVuZGFSZXBsYWNlU3RyaW5nOiBbeyBmcm9tOiAncycsIHRvOiAnJCcgfSwgeyBmcm9tOiAnbycsIHRvOiAnMCcgfSBdIH19XHJcbiAqIHRoaXMgc2FtcGxlIHdpbGwgcHJvZHVjZSBzdHJpbmcgJyQwbWUgJHRyaW5nJ1xyXG4gKi9cclxuaXplbmRhQ29yZU1vZHVsZS5maWx0ZXIoJ2l6ZW5kYVJlcGxhY2VTdHJpbmcnLCAoKSA9PlxyXG5cdCh0ZXh0OiBzdHJpbmcsIHJ1bGVzOiBBcnJheTx7IGZyb206IHN0cmluZywgdG86IHN0cmluZyB9PikgPT4ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkocnVsZXMpKVxyXG5cdFx0XHRyZXR1cm4gdGV4dDtcclxuXHRcdHZhciByZXN1bHRUZXh0ID0gdGV4dDtcclxuXHRcdGlmICghcmVzdWx0VGV4dClcclxuXHRcdFx0cmV0dXJuIHJlc3VsdFRleHQ7XHJcblxyXG5cdFx0cnVsZXMuZm9yRWFjaChydWxlID0+IHJlc3VsdFRleHQgPSByZXN1bHRUZXh0LnJlcGxhY2VBbGwocnVsZS5mcm9tLCBydWxlLnRvKSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0VGV4dDtcclxuXHR9KTtcclxuXHJcblxyXG4vKipcclxuICogQXR0cmlidXRlIGRpcmVjdGl2ZSBcIml6ZW5kYS1zY3JvbGwtYm90dG9tLWFjdGlvbj1cIlwiXCIgd2hpY2ggZmlyZXMgaGFuZGxlciBvbiBjb250YWluZXIgc2Nyb2xsIGVuZCAoLTEwMHB4KS5cclxuICogRXZlbnQ6IHNjcm9sbC1ib3R0b20tYWN0aW9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0bGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbi5wcm90b3R5cGUubGluayA9XHJcblx0XHRcdCgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCAkcGFyZW50ID0gJGVsZW1lbnQucGFyZW50KCk7XHJcblx0XHRcdFx0JHBhcmVudC5vbignc2Nyb2xsJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaGVpZ2h0ID0gJGVsZW1lbnQuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRpZiAoaGVpZ2h0ID09PSAwKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRpZiAoaGVpZ2h0IC0gJHBhcmVudC5oZWlnaHQoKSAtIDEwMCA8ICRwYXJlbnQuc2Nyb2xsVG9wKCkpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRldmFsKGF0dHJzLml6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbigpO1xyXG5cdH1cclxufVxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uJywgW0l6ZW5kYVNjcm9sbEJvdHRvbUFjdGlvbi5mYWN0b3J5KCldKTtcclxuXHJcbi8qKlxyXG4gKiBTZXQgZm9jdXMgb24gZWxlbWVudCBkaXJlY3RpdmUuXHJcbiAqIFVzYWdlOiBcclxuICogPHNvbWUtdGFnIGl6ZW5kYS1mb2N1cz1cInt7ZXhwcmVzc2lvbl93aGljaF9yZXR1cm5zX2Jvb2x9fVwiIC4uLj5cclxuICogICAuLi5cclxuICogPC9zb21lLXRhZz5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUZvY3VzIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0cmlnZ2VyOiAnQGl6ZW5kYUZvY3VzJ1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUZvY3VzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUZvY3VzLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUZvY3VzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3RyaWdnZXInLCB2YWx1ZSA9PiB7XHJcblx0XHRcdFx0aWYgKHZhbHVlKVxyXG5cdFx0XHRcdFx0dGhpcy4kdGltZW91dCgoKSA9PiAkZWxlbWVudFswXS5mb2N1cygpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBhbnkpID0+IG5ldyBJemVuZGFGb2N1cygkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbmludGVyZmFjZSBJSXplbmRhRm9jdXNTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dHJpZ2dlcjogYW55O1xyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFGb2N1cycsIFsnJHRpbWVvdXQnLCBJemVuZGFGb2N1cy5mYWN0b3J5KCldKTtcclxuXHJcbi8qKlxyXG4gKiBpemVuZGEtZml0LWFic29sdXRlLWVsZW1lbnQgZGlyZWN0aXZlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRml0QWJzb2x1dGVFbGVtZW50IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0bGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSkge1xyXG5cclxuXHRcdEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cdFx0XHRjb25zdCB3aW5kb3dSZXNpemVFdmVudE5hbWUgPSBgcmVzaXplLml6ZW5kYUZpdEFic29sdXRlRWxlbWVudC4ke01hdGgucmFuZG9tKCl9YDtcclxuXHRcdFx0Y29uc3QgZGVsdGFUb3BTdHJpbmcgPSBTdHJpbmcoYXR0cnNbJ2RlbHRhVG9wJ10pO1xyXG5cdFx0XHRjb25zdCBkZWx0YVRvcCA9IHBhcnNlSW50KGRlbHRhVG9wU3RyaW5nKSB8fCAwO1xyXG5cdFx0XHRjb25zdCAkcGFyZW50ID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50LnBhcmVudCgpKTtcclxuXHRcdFx0bGV0IHRvcENhY2hlID0gLTE7XHJcblxyXG5cdFx0XHRjb25zdCBzZXRUb3AgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGNoaWxkcyA9ICRwYXJlbnQuY2hpbGRyZW4oJ1tkYXRhLWl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudC1yZWxhdGl2ZT10b3BdJyk7XHJcblx0XHRcdFx0aWYgKCRjaGlsZHMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRsZXQgdG9wSGVpZ2h0ID0gMDtcclxuXHRcdFx0XHRsZXQgaXNTdWNjZXNzID0gdHJ1ZTtcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8ICRjaGlsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0ICRjaGlsZCA9IGFuZ3VsYXIuZWxlbWVudCgkY2hpbGRzW2ldKTtcclxuXHRcdFx0XHRcdGNvbnN0IHRvcFZhbHVlID0gU3RyaW5nKCRjaGlsZC5hdHRyKCdkYXRhLWl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudC1yZWxhdGl2ZScpKTtcclxuXHRcdFx0XHRcdGlmICh0b3BWYWx1ZSA9PT0gJ3RvcCcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2hpbGRIZWlnaHQgPSAkY2hpbGQuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRcdGlmIChjaGlsZEhlaWdodCA8PSAwKVxyXG5cdFx0XHRcdFx0XHRcdGlzU3VjY2VzcyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR0b3BIZWlnaHQgKz0gY2hpbGRIZWlnaHQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0b3BIZWlnaHQgPiAwICYmIHRvcENhY2hlIDwgMCB8fCB0b3BIZWlnaHQgKyBkZWx0YVRvcCAhPT0gdG9wQ2FjaGUpIHtcclxuXHRcdFx0XHRcdHRvcENhY2hlID0gdG9wSGVpZ2h0ICsgZGVsdGFUb3A7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5jc3MoJ3RvcCcsIHRvcEhlaWdodCArIGRlbHRhVG9wICsgJ3B4Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBpc1N1Y2Nlc3M7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBzZXRUb3BVbnRpbFN1Y2Nlc3MgPSAoKSA9PiB7XHJcblx0XHRcdFx0bGV0IGF0dGVtcHRDb3VudCA9IDA7XHJcblx0XHRcdFx0aWYgKHNldFRvcCgpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGxldCB0b29sYmFySW50ZXJ2YWxQcm9taXNlID0gdGhpcy4kaW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHNldFRvcCgpIHx8IGF0dGVtcHRDb3VudCA+IDUwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuJGludGVydmFsLmNhbmNlbCh0b29sYmFySW50ZXJ2YWxQcm9taXNlKTtcclxuXHRcdFx0XHRcdFx0dG9vbGJhckludGVydmFsUHJvbWlzZSA9IG51bGw7XHJcblx0XHRcdFx0XHRcdGF0dGVtcHRDb3VudCA9IDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRhdHRlbXB0Q291bnQrKztcclxuXHRcdFx0XHR9LCAxMDApO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0c2V0VG9wVW50aWxTdWNjZXNzKCk7XHJcblxyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vbih3aW5kb3dSZXNpemVFdmVudE5hbWUsICgpID0+IHtcclxuXHRcdFx0XHRzZXRUb3BVbnRpbFN1Y2Nlc3MoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vbignaXplbmRhQ3VzdG9tUmVzaXplJywgKCkgPT4ge1xyXG5cdFx0XHRcdHNldFRvcFVudGlsU3VjY2VzcygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykub2ZmKHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykub2ZmKCdpemVuZGFDdXN0b21SZXNpemUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID1cclxuXHRcdFx0KCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UpID0+IG5ldyBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQoJHdpbmRvdywgJHRpbWVvdXQsICRpbnRlcnZhbCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdycsICckdGltZW91dCcsICckaW50ZXJ2YWwnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQnLCBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQuZmFjdG9yeSgpKTtcclxuXHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGZvciBpbnB1dCBlbGVtZW50IHdoaWNoIGFsbG93cyB0byBpbnB1dCBvbmx5IHBvc2l0aXZlIGludGVnZXIgdmFsdWVzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhSW50ZWdlcklucHV0IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0bGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQucHJvdG90eXBlLmxpbmsgPVxyXG5cdFx0XHQoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdFx0JGVsZW1lbnQub24oJ2tleWRvd24nLCBldnQgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgY3RybE9yTWV0YSA9IGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5O1xyXG5cdFx0XHRcdFx0aWYgKFs0NiwgOCwgOSwgMjcsIDEzXS5pbmRleE9mKGV2dC5rZXlDb2RlKSA+PSAwIC8qQWxsb3c6IGJhY2tzcGFjZSwgZGVsZXRlLCB0YWIsIGVzY2FwZSwgZW50ZXIqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPT09IDY1ICYmIGN0cmxPck1ldGEpIC8qQWxsb3c6IEN0cmwvY21kK0EqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPT09IDY3ICYmIGN0cmxPck1ldGEpIC8qQWxsb3c6IEN0cmwvY21kK0MqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPT09IDg4ICYmIGN0cmxPck1ldGEpIC8qQWxsb3c6IEN0cmwvY21kK1gqL1xyXG5cdFx0XHRcdFx0XHR8fCAoZXZ0LmtleUNvZGUgPj0gMzUgJiYgZXZ0LmtleUNvZGUgPD0gNDApKSB7IC8qQWxsb3c6IGhvbWUsIGVuZCwgbGVmdCwgcmlnaHQqL1xyXG5cdFx0XHRcdFx0XHQvLyBsZXQgaXQgaGFwcGVuLCBkb24ndCBkbyBhbnl0aGluZ1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBFbnN1cmUgdGhhdCBpdCBpcyBhIG51bWJlciBhbmQgc3RvcCB0aGUga2V5cHJlc3NcclxuXHRcdFx0XHRcdGlmICgoZXZ0LnNoaWZ0S2V5IHx8IChldnQua2V5Q29kZSA8IDQ4IHx8IGV2dC5rZXlDb2RlID4gNTcpKSAmJiAoZXZ0LmtleUNvZGUgPCA5NiB8fCBldnQua2V5Q29kZSA+IDEwNSkpIHtcclxuXHRcdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoKSA9PiBuZXcgSXplbmRhSW50ZWdlcklucHV0KCk7XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhSW50ZWdlcklucHV0JywgSXplbmRhSW50ZWdlcklucHV0LmZhY3RvcnkoKSk7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuXHJcbi8vIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgSW5jb25zaXN0ZW50TmFtaW5nXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEl6ZW5kYUNvbXBvbmVudChtb2R1bGVPck5hbWU6IHN0cmluZyB8IG5nLklNb2R1bGUsXHJcblx0c2VsZWN0b3I6IHN0cmluZyxcclxuXHRkZXBlbmRlbmNpZXM6IGFueVtdLFxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHRlbXBsYXRlPzogc3RyaW5nLFxyXG5cdFx0dGVtcGxhdGVVcmw/OiBzdHJpbmcsXHJcblx0XHRiaW5kaW5ncz86IGFueSxcclxuXHRcdGNvbnRyb2xsZXI/OiBhbnksXHJcblx0fSkge1xyXG5cdHJldHVybiAoY29udHJvbGxlcjogRnVuY3Rpb24pID0+IHtcclxuXHRcdGNvbnN0IG1vZHVsZSA9IHR5cGVvZiAobW9kdWxlT3JOYW1lKSA9PT0gJ3N0cmluZycgPyBhbmd1bGFyLm1vZHVsZShtb2R1bGVPck5hbWUpIDogbW9kdWxlT3JOYW1lO1xyXG5cdFx0Y29uc3QgZXh0ZW5kZWRPcHRpb25zOiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IGFuZ3VsYXIuY29weShvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgJGluamVjdCA9IGNvbnRyb2xsZXIuJGluamVjdCA9IGRlcGVuZGVuY2llcztcclxuXHRcdGNvbnRyb2xsZXIucHJvdG90eXBlLiRpbmplY3QgPSAkaW5qZWN0O1xyXG5cdFx0Y29udHJvbGxlci4kaW5qZWN0ID0gJGluamVjdDtcclxuXHJcblx0XHRleHRlbmRlZE9wdGlvbnMuY29udHJvbGxlciA9IGRlcGVuZGVuY2llcy5jb25jYXQoY29udHJvbGxlcik7XHJcblx0XHRtb2R1bGUuY29tcG9uZW50KHNlbGVjdG9yLCBleHRlbmRlZE9wdGlvbnMpO1xyXG5cdH1cclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogTWVzc2FnZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChpemVuZGFDb3JlTW9kdWxlLCAnaXplbmRhRGlhbG9nQm94Q29tcG9uZW50JywgWyckaXplbmRhVXRpbFVpU2VydmljZSddLCB7XHJcblx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi5jb3JlLmNvbXBvbmVudHMuZGlhbG9nLWJveC5kaWFsb2ctYm94LXRlbXBsYXRlLmh0bWwnLFxyXG5cdGJpbmRpbmdzOiB7XHJcblx0XHRjb21wb25lbnRJZDogJ0AnLFxyXG5cdFx0dXNlR2xvYmFsRXZlbnRMaXN0ZW5pbmc6ICc8JyxcclxuXHRcdG9wZW5lZDogJzwnLFxyXG5cdFx0dGl0bGU6ICc8JyxcclxuXHRcdG1lc3NhZ2U6ICc8JyxcclxuXHRcdGFsZXJ0SW5mbzogJzwnLFxyXG5cdFx0YnV0dG9uczogJzwnLFxyXG5cdFx0Y2hlY2tib3hlczogJzwnXHJcblx0fSxcclxufSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhRGlhbG9nQm94Q29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhhbmRsZSBidXR0b24gY2xpY2suXHJcblx0ICovXHJcblx0b25CdXR0b25DbGljayhidXR0b24pIHtcclxuXHRcdGlmICghYnV0dG9uKSByZXR1cm47XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGJ1dHRvbi5jYWxsYmFjaykpIHtcclxuXHRcdFx0YnV0dG9uLmNhbGxiYWNrKHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuZGlhbG9nQm94LmNoZWNrYm94ZXMpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5jbG9zZU1vZGFsKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2cuXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VEaWFsb2dCb3goKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIE1lc3NhZ2UgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoaXplbmRhQ29yZU1vZHVsZSwgJ2l6ZW5kYU1lc3NhZ2VDb21wb25lbnQnLCBbJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5tZXNzYWdlLm1lc3NhZ2UtdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHt9LFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFNZXNzYWdlQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgbW9kYWwgZGlhbG9nLlxyXG5cdCAqL1xyXG5cdGNsb3NlTW9kYWwoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLmNsb3NlTWVzc2FnZURpYWxvZygpO1xyXG5cdH1cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBOb3RpZmljYXRpb24gY29tcG9uZW50XHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KGl6ZW5kYUNvcmVNb2R1bGUsICdpemVuZGFOb3RpZmljYXRpb25Db21wb25lbnQnLCBbJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5ub3RpZmljYXRpb24ubm90aWZpY2F0aW9uLXRlbXBsYXRlLmh0bWwnLFxyXG5cdGJpbmRpbmdzOiB7fVxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFEaWFsb2dCb3hDb21wb25lbnQge1xyXG5cdG5vdGlmaWNhdGlvbnM6IGFueVtdO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLm5vdGlmaWNhdGlvbnMgPSAkaXplbmRhVXRpbFVpU2VydmljZS5ub3RpZmljYXRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2Ugbm90aWZpY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBub3RpZmljYXRpb24gTm90aWZpY2F0aW9uIG9iamVjdC5cclxuXHQgKi9cclxuXHRjbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLmlkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbmNlbCBub3RpZmljYXRpb24gYXV0b2hpZGUuXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG5vdGlmaWNhdGlvbiBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uKSB7XHJcblx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLmNhbmNlbE5vdGlmaWNhdGlvblRpbWVvdXQobm90aWZpY2F0aW9uLmlkKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUV2ZW50U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8vIHJlZ2lzdGVyIHNlcnZpY2VzXHJcbkl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUNvcmVNb2R1bGUpO1xyXG5JemVuZGFFdmVudFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYVV0aWxTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUNvcmVNb2R1bGUpO1xyXG5JemVuZGFVdGlsVWlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYUNvcmVNb2R1bGUpO1xyXG5cclxuLy8gcmVnaXN0ZXIgY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlc1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvYm9vdHN0cmFwLW1vZGFsJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9kaXJlY3RpdmVzL3V0aWxpdHknO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2NvbXBvbmVudHMvZGlhbG9nLWJveC9kaWFsb2ctYm94LWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50JztcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9tb2R1bGUnO1xyXG5cclxuY29uc3QgaXplbmRhUXVlcnlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaXplbmRhLmNvbW1vbi5xdWVyeScsIFsncngnLCAnaXplbmRhLmNvbW1vbi5jb3JlJ10pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFRdWVyeU1vZHVsZTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVJzUXVlcnlTZXJ2aWNlIHtcclxuXHJcblx0dXJsU2V0dGluZ3M6IGFueTtcclxuXHRyc1F1ZXJ5QmFzZVVybDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgcmVxdWVzdExpc3Q6IEFycmF5PFJlcXVlc3RMaXN0SXRlbT47XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckd2luZG93JywgJyRodHRwJywgJyRxJywgJyRpbmplY3RvcicsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXRpbFVpU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaW5qZWN0b3I6IG5nLmF1dG8uSUluamVjdG9yU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0dGhpcy51cmxTZXR0aW5ncyA9IHRoaXMuJHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHR0aGlzLnJzUXVlcnlCYXNlVXJsID0gdGhpcy51cmxTZXR0aW5ncy51cmxSc1BhZ2U7XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0ID0gbmV3IEFycmF5PFJlcXVlc3RMaXN0SXRlbT4oKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEN1c3RvbSBxdWVyeSB0byB0aGUgaXplbmRhIHJlc3BvbnNlIHNlcnZlclxyXG5cdCAqIEBwYXJhbSB7YW55fSBxdWVyeVBhcmFtcyBRdWVyeSBwYXJhbWV0ZXJzLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFF1ZXJ5IG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHthbnl9IGVycm9yT3B0aW9ucyBFcnJvciBvcHRpb25zLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIgRG8gd2UgbmVlZCB0byBpbnZhbGlkYXRlIGNhY2hlcy5cclxuXHQgKi9cclxuXHRyc1F1ZXJ5KHF1ZXJ5UGFyYW1zOiBhbnksIG9wdGlvbnM6IGFueSwgZXJyb3JPcHRpb25zOiBhbnksIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuID0gZmFsc2UpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3VzdG9tUXVlcnkodGhpcy5yc1F1ZXJ5QmFzZVVybCwgcXVlcnlQYXJhbXMsIG9wdGlvbnMsIGVycm9yT3B0aW9ucywgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3VzdG9tIHF1ZXJ5IHRvIHRoZSBpemVuZGEgQVBJLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3c0NtZCBJemVuZGEgQVBJIGNvbW1hbmQuXHJcblx0ICogQHBhcmFtIHthbnlbXX0gd3NBcmdzIEl6ZW5kYSBBUEkgY29tbWFuZCBwYXJhbWV0ZXJzICh3c2FyZzAsIHdzYXJnMSwuLi4pLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFF1ZXJ5IG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHthbnl9IGVycm9yT3B0aW9ucyBFcnJvciBvcHRpb25zLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIgRG8gd2UgbmVlZCB0byBpbnZhbGlkYXRlIGNhY2hlcy5cclxuXHQgKi9cclxuXHRxdWVyeSh3c0NtZDogc3RyaW5nLCB3c0FyZ3M6IGFueVtdLCBvcHRpb25zOiBhbnksIGVycm9yT3B0aW9ucz86IGFueSwgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSlcclxuXHRcdDogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHJcblx0XHQvLyBwcmVwYXJlIHBhcmFtczpcclxuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuY3JlYXRlUXVlcnlQYXJhbWV0ZXJzT2JqZWN0KHdzQ21kLCB3c0FyZ3MpO1xyXG5cclxuXHRcdC8vIHNldCBkZWZhdWx0IGVycm9yIG9wdGlvbnMgaWYgaXQgaXMgbm90IGRlZmluZWQ6XHJcblx0XHRjb25zdCBjdXJyZW50RXJyb3JPcHRpb25zID0gYW5ndWxhci5pc09iamVjdChlcnJvck9wdGlvbnMpXHJcblx0XHRcdD8gZXJyb3JPcHRpb25zXHJcblx0XHRcdDoge1xyXG5cdFx0XHRcdGhhbmRsZXI6ICh3c0NtZDIsIHdzQXJnczIpID0+IGBRdWVyeTogXCIke3dzQ21kMn1cIiBbJHt3c0FyZ3MyfV0gZmFpbGVkLmAsXHJcblx0XHRcdFx0cGFyYW1zOiBbd3NDbWQsIHdzQXJnc11cclxuXHRcdFx0fTtcclxuXHRcdHJldHVybiB0aGlzLnJzUXVlcnkocGFyYW1zLCBvcHRpb25zLCBjdXJyZW50RXJyb3JPcHRpb25zLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBRdWVyeSB0byB0aGUgaXplbmRhIEFQSSAoUE9TVCByZXF1ZXN0IHdoaWNoIHJldHVybnMgSlNPTikuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdzQ21kIEl6ZW5kYSBBUEkgY29tbWFuZC5cclxuXHQgKiBAcGFyYW0ge2FueVtdfSB3c0FyZ3MgSXplbmRhIEFQSSBjb21tYW5kIHBhcmFtZXRlcnMgKHdzYXJnMCwgd3NhcmcxLC4uLikuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlciBEbyB3ZSBuZWVkIHRvIGludmFsaWRhdGUgY2FjaGVzLlxyXG5cdCAqL1xyXG5cdGFwaVF1ZXJ5KHdzQ21kOiBzdHJpbmcsIHdzQXJnczogYW55W10sIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuID0gZmFsc2UpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHQvLyBjaGVjayBwYXJhbXM6XHJcblx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyh3c0NtZCkgfHwgd3NDbWQgPT09ICcnKSB7XHJcblx0XHRcdFx0cmVqZWN0KCdQYXJhbWV0ZXIgZXJyb3I6IHdzQ21kIHBhcmFtZXRlciBzaG91bGQgYmUgbm9uLWVtcHR5IHN0cmluZy4nKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkod3NBcmdzKSkge1xyXG5cdFx0XHRcdHJlamVjdCgnUGFyYW1ldGVyIGVycm9yOiB3c0FyZ3MgcGFyYW1ldGVyIHNob3VsZCBiZSBhcnJheS4nKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBwYXJhbXMgYXJyYXlcclxuXHRcdFx0Y29uc3QgcGFyYW1zID0gdGhpcy5jcmVhdGVRdWVyeVBhcmFtZXRlcnNPYmplY3Qod3NDbWQsIHdzQXJncyk7XHJcblxyXG5cdFx0XHQvLyBydW4gcXVlcnlcclxuXHRcdFx0dGhpcy5yc1F1ZXJ5KHBhcmFtcywgeyBkYXRhVHlwZTogJ2pzb24nLCBtZXRob2Q6ICdQT1NUJyB9LCBudWxsLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHQudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpLCBlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIGFsbCBydW5uaW5nIHF1ZXJpZXNcclxuXHQgKiBAcGFyYW0ge2FueX0gb3B0aW9ucyAob3B0aW9uYWwpIG9wdGlvbnMuY2FuY2VsTGlzdCBtYXkgc2V0IGN1c3RvbSBxdWVyaWVzIHRvIGNhbmNlbC5cclxuXHQgKi9cclxuXHRjYW5jZWxBbGxRdWVyaWVzKG9wdGlvbnM/OiBhbnkpIHtcclxuXHRcdGNvbnN0IG9wdHMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gcXVlcmllcyB3aGljaCB3ZSBjYW4gY2FuY2VsXHJcblx0XHRjb25zdCBjYW5jZWxsYWJsZVF1ZXJpZXMgPSBvcHRzLmhhc093blByb3BlcnR5KCdjYW5jZWxMaXN0JylcclxuXHRcdFx0PyBvcHRzWydjYW5jZWxMaXN0J11cclxuXHRcdFx0OiB0aGlzLiRpbmplY3Rvci5nZXQoJ2l6ZW5kYS5jb21tb24ucXVlcnkuY2FuY2VsbGFibGVRdWVyaWVzJyk7XHJcblxyXG5cdFx0Y29uc3QgY291bnQgPSB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aDtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlIChpIDwgdGhpcy5yZXF1ZXN0TGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0Y29uc3QgcmVxdWVzdCA9IHRoaXMucmVxdWVzdExpc3RbMF07XHJcblx0XHRcdGxldCBjYW5jZWwgPSBmYWxzZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheShjYW5jZWxsYWJsZVF1ZXJpZXMpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVxdWVzdFVybCA9IHJlcXVlc3QudXJsO1xyXG5cdFx0XHRcdGNvbnN0IHJlcXVlc3RQYXJhbXMgPSByZXF1ZXN0LnF1ZXJ5UGFyYW1zRmluYWw7XHJcblx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjYW5jZWxsYWJsZVF1ZXJpZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IGNhbmNlbFJ1bGUgPSBjYW5jZWxsYWJsZVF1ZXJpZXNbal07XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhjYW5jZWxSdWxlKSkge1xyXG5cdFx0XHRcdFx0XHRjYW5jZWwgPSBjYW5jZWwgfHwgcmVxdWVzdFVybC5pbmRleE9mKGNhbmNlbFJ1bGUpID49IDA7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QoY2FuY2VsUnVsZSkpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCd3c2NtZCcgaW4gY2FuY2VsUnVsZSkge1xyXG5cdFx0XHRcdFx0XHRcdGNhbmNlbCA9IGNhbmNlbCB8fCByZXF1ZXN0VXJsLmluZGV4T2YoYHdzY21kPSR7Y2FuY2VsUnVsZVsnd3NjbWQnXX1gKSA+PSAwO1xyXG5cdFx0XHRcdFx0XHRcdGNhbmNlbCA9IGNhbmNlbCB8fCByZXF1ZXN0UGFyYW1zLmhhc093blByb3BlcnR5KCd3c2NtZCcpICYmIHJlcXVlc3RQYXJhbXNbJ3dzY21kJ10gPT09IGNhbmNlbFJ1bGVbJ3dzY21kJ107XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRocm93IGBVbmtub3duIGNhbmNlbCBydWxlOiAke2NhbmNlbFJ1bGV9YDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjYW5jZWwpIHtcclxuXHRcdFx0XHRyZXF1ZXN0LmNhbmNlbGxlci5yZXNvbHZlKCk7XHJcblx0XHRcdFx0cmVxdWVzdC5yZXNvbHZlci4kaXplbmRhUnNRdWVyeUNhbmNlbGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMucmVxdWVzdExpc3Quc3BsaWNlKGksIDEpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGkrKztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjb3VudCAtIGk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZW5kIHBvc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSBmaWxlIGF0dGFjaG1lbnQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBHRVQvUE9TVFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVXJsLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBwYXJhbWV0ZXJzIFVybCBwYXJhbWV0ZXJzIGRpY3Rpb25hcnkuXHJcblx0ICogQHJldHVybiB7YW5ndWxhci5JUHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlcnMuXHJcblx0ICovXHJcblx0ZG93bmxvYWRGaWxlUmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtZXRlcnM/OiBhbnkpOiBhbmd1bGFyLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlOiAoKSA9PiB2b2lkKSA9PiB7XHJcblx0XHRcdGlmICh0eXBlb2YgKEJsb2IpICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8vIHBvc3QgcmVxdWVzdCBmb3IgZG93bmxvYWQgdGhlIGZpbGVcclxuXHRcdFx0XHRjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcblx0XHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNlbGZYaHIgPSB4aHI7XHJcblx0XHRcdFx0eGhyLm9ubG9hZCA9IChldnQpID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdkb3dubG9hZEZpbGVSZXF1ZXN0IHhoci5vbmxvYWQgZXZ0OiAnLCBldnQpO1xyXG5cdFx0XHRcdFx0aWYgKHNlbGZYaHIuc3RhdHVzICE9PSAyMDApXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdGNvbnN0IGRpc3Bvc2l0aW9uID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJyk7XHJcblx0XHRcdFx0XHRsZXQgZmlsZW5hbWUgPSAnJztcclxuXHRcdFx0XHRcdGlmIChkaXNwb3NpdGlvbiAmJiBkaXNwb3NpdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2F0dGFjaG1lbnQnKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZmlsZW5hbWVSZWdleCA9IC9bRmZdaWxlbmFtZVteOz1cXG5dKj0oKFsnXCJdKS4qP1xcMnxbXjtcXG5dKikvO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtYXRjaGVzID0gZmlsZW5hbWVSZWdleC5leGVjKGRpc3Bvc2l0aW9uKTtcclxuXHRcdFx0XHRcdFx0aWYgKG1hdGNoZXMgIT0gbnVsbCAmJiBtYXRjaGVzWzFdKVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVuYW1lID0gbWF0Y2hlc1sxXS5yZXBsYWNlKC9bJ1wiXS9nLCAnJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCB0eXBlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW3NlbGZYaHIucmVzcG9uc2VdLCB7IHR5cGU6IHR5cGUgfSk7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0Ly8gSUUgd29ya2Fyb3VuZCBmb3IgXCJIVE1MNzAwNzogT25lIG9yIG1vcmUgYmxvYiBVUkxzIHdlcmUgcmV2b2tlZCBieSBjbG9zaW5nIHRoZSBibG9iIGZvciB3aGljaCB0aGV5IHdlcmUgY3JlYXRlZC4gXHJcblx0XHRcdFx0XHRcdC8vIFRoZXNlIFVSTHMgd2lsbCBubyBsb25nZXIgcmVzb2x2ZSBhcyB0aGUgZGF0YSBiYWNraW5nIHRoZSBVUkwgaGFzIGJlZW4gZnJlZWQuXCJcclxuXHRcdFx0XHRcdFx0d2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdXJsRnVuYyA9IHdpbmRvdy5VUkwgfHwgd2luZG93Wyd3ZWJraXRVUkwnXTtcclxuXHRcdFx0XHRcdFx0dmFyIGRvd25sb2FkVXJsID0gdXJsRnVuYy5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHRcdFx0XHRcdGlmIChmaWxlbmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHVzZSBIVE1MNSBhW2Rvd25sb2FkXSBhdHRyaWJ1dGUgdG8gc3BlY2lmeSBmaWxlbmFtZVxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIHNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXRcclxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGxpbmtFbGVtZW50LmRvd25sb2FkID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBkb3dubG9hZFVybDtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGlua0VsZW1lbnQuaHJlZiA9IGRvd25sb2FkVXJsO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGlua0VsZW1lbnQudGFyZ2V0ID0gJ19ibGFuayc7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5kb3dubG9hZCA9IGZpbGVuYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5jbGljaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZG93bmxvYWRVcmw7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dXJsRnVuYy5yZXZva2VPYmplY3RVUkwoZG93bmxvYWRVcmwpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwKTsgLy8gY2xlYW51cFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcblx0XHRcdFx0aWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncG9zdCcpXHJcblx0XHRcdFx0XHR4aHIuc2VuZChhbmd1bGFyLmVsZW1lbnQucGFyYW0ocGFyYW1ldGVycyB8fCB7fSkpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0JylcclxuXHRcdFx0XHRcdHhoci5zZW5kKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgYFVuc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kOiAke21ldGhvZH1gO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnKSB7XHJcblx0XHRcdFx0XHQvLyBvbGQgYnJvd3NlciBwb3N0IHJlcXVlc3RcclxuXHRcdFx0XHRcdGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcblx0XHRcdFx0XHRmb3JtLmFjdGlvbiA9IHVybDtcclxuXHRcdFx0XHRcdGZvcm0ubWV0aG9kID0gbWV0aG9kO1xyXG5cdFx0XHRcdFx0Zm9ybS50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdGlmIChwYXJhbWV0ZXJzKVxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBrZXkgaW4gcGFyYW1ldGVycylcclxuXHRcdFx0XHRcdFx0XHRpZiAocGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dC5uYW1lID0ga2V5O1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQudmFsdWUgPSB0eXBlb2YgcGFyYW1ldGVyc1trZXldID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KHBhcmFtZXRlcnNba2V5XSkgOiBwYXJhbWV0ZXJzW2tleV07XHJcblx0XHRcdFx0XHRcdFx0XHRmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xyXG5cdFx0XHRcdFx0Zm9ybS5zdWJtaXQoKTtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIG9sZCBicm93c2VyIGdldCByZXF1ZXN0XHJcblx0XHRcdFx0XHRjb25zdCBsaW5rRWxlbWVudDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRcdFx0XHRsaW5rRWxlbWVudDIuaHJlZiA9IHVybDtcclxuXHRcdFx0XHRcdGxpbmtFbGVtZW50Mi50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGlua0VsZW1lbnQyKTtcclxuXHRcdFx0XHRcdGxpbmtFbGVtZW50Mi5jbGljaygpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rRWxlbWVudDIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRG8gcXVlcnkgdG8gY3VzdG9tIHVybFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3VzdG9tUXVlcnkoXHJcblx0XHRiYXNlVXJsOiBzdHJpbmcsXHJcblx0XHRxdWVyeVBhcmFtczogb2JqZWN0LFxyXG5cdFx0b3B0aW9uczogeyBtZXRob2Q6IHN0cmluZywgZGF0YVR5cGU6IHN0cmluZyB9LFxyXG5cdFx0ZXJyb3JPcHRpb25zOiBhbnksXHJcblx0XHRpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcjogYm9vbGVhbik6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblxyXG5cdFx0Y29uc3QgcXVlcnlQYXJhbXNGaW5hbCA9IGFuZ3VsYXIuY29weTxvYmplY3Q+KHF1ZXJ5UGFyYW1zKTtcclxuXHJcblx0XHQvLyBhcHBseSBpemVuZGFQYWdlSWQkXHJcblx0XHRpZiAodHlwZW9mICh3aW5kb3dbJ2l6ZW5kYVBhZ2VJZCQnXSkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRxdWVyeVBhcmFtc0ZpbmFsWydpenBpZCddID0gd2luZG93WydpemVuZGFQYWdlSWQkJ107XHJcblx0XHRpZiAodHlwZW9mICh3aW5kb3dbJ2FuZ3VsYXJQYWdlSWQkJ10pICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0cXVlcnlQYXJhbXNGaW5hbFsnYW5waWQnXSA9IHdpbmRvd1snYW5ndWxhclBhZ2VJZCQnXTtcclxuXHJcblx0XHRjb25zdCBpc1Bvc3QgPSBvcHRpb25zICYmIG9wdGlvbnMubWV0aG9kID09PSAnUE9TVCc7XHJcblxyXG5cdFx0bGV0IHBvc3REYXRhID0ge307XHJcblx0XHRsZXQgdXJsID0gYmFzZVVybDtcclxuXHRcdGlmICghaXNQb3N0KSB7XHJcblx0XHRcdC8vIEdFVCByZXF1ZXN0IHVybDpcclxuXHRcdFx0Y29uc3Qga3ZTdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHRmb3IgKGxldCBwYXJhbU5hbWUgaW4gcXVlcnlQYXJhbXNGaW5hbClcclxuXHRcdFx0XHRpZiAocXVlcnlQYXJhbXNGaW5hbC5oYXNPd25Qcm9wZXJ0eShwYXJhbU5hbWUpKVxyXG5cdFx0XHRcdFx0a3ZTdHJpbmdzLnB1c2goYCR7cGFyYW1OYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeVBhcmFtc0ZpbmFsW3BhcmFtTmFtZV0pfWApO1xyXG5cdFx0XHRpZiAoaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpXHJcblx0XHRcdFx0a3ZTdHJpbmdzLnB1c2goJ2lpYz0xJyk7XHJcblx0XHRcdHVybCArPSBgPyR7a3ZTdHJpbmdzLmpvaW4oJyYnKX1gO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gUE9TVCByZXF1ZXN0IHBhcmFtcyBzdHJpbmc6XHJcblx0XHRcdGxldCBwb3N0UGFyYW1zU3RyaW5nID0gJ3VybGVuY29kZWQ9dHJ1ZSc7XHJcblx0XHRcdGZvciAobGV0IHBhcmFtTmFtZSBpbiBxdWVyeVBhcmFtc0ZpbmFsKVxyXG5cdFx0XHRcdGlmIChxdWVyeVBhcmFtc0ZpbmFsLmhhc093blByb3BlcnR5KHBhcmFtTmFtZSkpXHJcblx0XHRcdFx0XHRwb3N0UGFyYW1zU3RyaW5nICs9IGAmJHtwYXJhbU5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1zRmluYWxbcGFyYW1OYW1lXSl9YDtcclxuXHRcdFx0cG9zdERhdGEgPSB7XHJcblx0XHRcdFx0ZGF0YTogcG9zdFBhcmFtc1N0cmluZ1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAoaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXIpXHJcblx0XHRcdFx0dXJsICs9ICc/aWljPTEnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNyZWF0ZSBwcm9taXNlc1xyXG5cdFx0Y29uc3QgY2FuY2VsZXIgPSB0aGlzLiRxLmRlZmVyPGFueT4oKTtcclxuXHRcdGNvbnN0IHJlc29sdmVyID0gdGhpcy4kcS5kZWZlcjxhbnk+KCk7XHJcblx0XHRyZXNvbHZlclsnJGl6ZW5kYVJzUXVlcnlDYW5jZWxsZWQnXSA9IHRydWU7XHJcblx0XHRyZXNvbHZlclsnZXJyb3JPcHRpb25zJ10gPSBhbmd1bGFyLmlzT2JqZWN0KGVycm9yT3B0aW9ucykgPyBlcnJvck9wdGlvbnMgOiBudWxsO1xyXG5cclxuXHRcdC8vIHByZXBhcmUgcmVxdWVzdCBvcHRpbm9zXHJcblx0XHRjb25zdCBkYXRhVHlwZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMpICYmIGFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5kYXRhVHlwZSlcclxuXHRcdFx0PyBvcHRpb25zLmRhdGFUeXBlXHJcblx0XHRcdDogJ3RleHQnO1xyXG5cdFx0bGV0IGNvbnRlbnRUeXBlID0gJ3RleHQvaHRtbCc7XHJcblx0XHRpZiAoZGF0YVR5cGUgPT09ICdqc29uJylcclxuXHRcdFx0Y29udGVudFR5cGUgPSAndGV4dC9qc29uJztcclxuXHRcdHVybCA9IGdldEFwcGVuZGVkVXJsKHVybCwgcXVlcnlQYXJhbXNGaW5hbCk7XHJcblx0XHRjb25zdCByZXF1ZXN0SWQgPSAoK25ldyBEYXRlKS50b1N0cmluZygpICsgJ18nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkudG9TdHJpbmcoKTsgLy8gcHNldWRvIHJhbmRvbSBVSUQuXHJcblx0XHRjb25zdCByZXFIZWFkZXJzID0ge30gYXMgbmcuSUh0dHBSZXF1ZXN0Q29uZmlnSGVhZGVycztcclxuXHRcdHJlcUhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gY29udGVudFR5cGU7XHJcblx0XHRjb25zdCByZXEgPSB7fSBhcyBuZy5JUmVxdWVzdENvbmZpZztcclxuXHRcdHJlcS5tZXRob2QgPSAnR0VUJztcclxuXHRcdHJlcS51cmwgPSB1cmw7XHJcblx0XHRyZXEuaGVhZGVycyA9IHJlcUhlYWRlcnM7XHJcblx0XHRyZXEudGltZW91dCA9IGNhbmNlbGVyLnByb21pc2U7XHJcblx0XHRpZiAoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSkge1xyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChyZXEsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0YW5ndWxhci5leHRlbmQocmVxLCBwb3N0RGF0YSk7IC8vIGl0IGlzIGVtcHR5IGZvciBodHRwIEdFVCByZXF1ZXN0c1xyXG5cdFx0Ly8gY3VzdG9tXHJcblx0XHRyZXFbJ3JlcXVlc3RJZCddID0gcmVxdWVzdElkO1xyXG5cdFx0cmVxWydxdWVyeVBhcmFtc0ZpbmFsJ10gPSBxdWVyeVBhcmFtc0ZpbmFsO1xyXG5cclxuXHRcdC8vIGFkZCByZXF1ZXN0IHRvIHJlcXVlc3RMaXN0XHJcblx0XHR0aGlzLnJlcXVlc3RMaXN0LnB1c2gobmV3IFJlcXVlc3RMaXN0SXRlbShyZXF1ZXN0SWQsIHVybCwgcXVlcnlQYXJhbXNGaW5hbCwgY2FuY2VsZXIsIHJlc29sdmVyKSk7XHJcblxyXG5cdFx0Ly8gcnVuIHF1ZXJ5XHJcblx0XHR0aGlzLiRodHRwKHJlcSkudGhlbihyZXNwb25zZSA9PiB7XHJcblx0XHRcdC8vIGhhbmRsZSBzdWNjZXNzXHJcblx0XHRcdHRoaXMucmVtb3ZlUmVxdWVzdChyZXNwb25zZS5jb25maWdbJ3JlcXVlc3RJZCddKTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdC8vIHJlc29sdmUgbm9uLW9iamVjdCByZXNwb25zZXNcclxuXHRcdFx0XHRyZXNvbHZlci5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gb2JqZWN0IHJlc3BvbnNlXHJcblx0XHRcdHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoZGF0YSkgJiYgYW5ndWxhci5pc1N0cmluZyhkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddKSkge1xyXG5cdFx0XHRcdC8vIEFQSSBxdWVyeSByZXN1bHRcclxuXHRcdFx0XHRpZiAoZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSA9PT0gJ29rJykge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShkYXRhWydyZXN1bHQnXSB8fCAnT0snKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFbJ2l6ZW5kYVF1ZXJ5U3RhdHVzJ10gPT09ICdlcnJvcicpIHtcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlamVjdChkYXRhWydlcnJvciddKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KCdVbmtub3duIGl6ZW5kYVF1ZXJ5U3RhdHVzOiAnICsgZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIE5vbi1BUEkganNvbiBxdWVyeSByZXN1bHRcclxuXHRcdFx0XHRyZXNvbHZlci5yZXNvbHZlKGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCByZXNwb25zZSA9PiB7XHJcblx0XHRcdC8vIGhhbmRsZSByZXF1ZXN0IGVycm9yXHJcblx0XHRcdHRoaXMucmVtb3ZlUmVxdWVzdChyZXNwb25zZS5jb25maWcucmVxdWVzdElkKTtcclxuXHJcblx0XHRcdGxldCBuZWVkVG9SZWplY3QgPSB0cnVlO1xyXG5cdFx0XHRsZXQgZXJyb3JUZXh0OiBzdHJpbmc7XHJcblx0XHRcdGlmIChyZXNvbHZlclsnZXJyb3JPcHRpb25zJ10gIT0gbnVsbCkge1xyXG5cdFx0XHRcdG5lZWRUb1JlamVjdCA9IGZhbHNlO1xyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHJlc29sdmVyWydlcnJvck9wdGlvbnMnXS5oYW5kbGVyLmFwcGx5KHJlc3BvbnNlLFxyXG5cdFx0XHRcdFx0cmVzb2x2ZXJbJ2Vycm9yT3B0aW9ucyddLnBhcmFtcyA/IHJlc29sdmVyWydlcnJvck9wdGlvbnMnXS5wYXJhbXMgOiBbXSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmVzcG9uc2UubWVzc2FnZSlcclxuXHRcdFx0XHRlcnJvclRleHQgPSByZXNwb25zZS5tZXNzYWdlO1xyXG5cdFx0XHRlbHNlIGlmIChyZXNwb25zZS5jb25maWcpXHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19RdWVyeUZhaWxlZCcsICdRdWVyeSBmYWlsZWQnKSArICc6ICcgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5jb25maWcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdsb2NhbGVWYXJpYWJsZScsICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLicpO1xyXG5cdFx0XHRpZiAocmVzb2x2ZXJbJyRpemVuZGFSc1F1ZXJ5Q2FuY2VsbGVkJ10pIHtcclxuXHRcdFx0XHRpZiAobmVlZFRvUmVqZWN0KVxyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVqZWN0KGVycm9yVGV4dCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzb2x2ZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSByZXF1ZXN0IGZyb20gYXJyYXlcclxuXHQgKi9cclxuXHRwcml2YXRlIHJlbW92ZVJlcXVlc3QocmVxdWVzdElkOiBzdHJpbmcpIHtcclxuXHRcdGxldCBmb3VuZEluZGV4ID0gLTE7XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZSAoZm91bmRJbmRleCA8IDAgJiYgaSA8IHRoaXMucmVxdWVzdExpc3QubGVuZ3RoKSB7XHJcblx0XHRcdGlmICh0aGlzLnJlcXVlc3RMaXN0W2ldLnJlcXVlc3RJZCA9PT0gcmVxdWVzdElkKSB7XHJcblx0XHRcdFx0Zm91bmRJbmRleCA9IGk7XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGZvdW5kSW5kZXggPj0gMCkge1xyXG5cdFx0XHR0aGlzLnJlcXVlc3RMaXN0LnNwbGljZShmb3VuZEluZGV4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlUXVlcnlQYXJhbWV0ZXJzT2JqZWN0KHdzQ21kOiBzdHJpbmcsIHdzQXJnczogYW55W10pOiBvYmplY3Qge1xyXG5cdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0J3dzY21kJzogd3NDbWRcclxuXHRcdH07XHJcblx0XHQvLyBhZGQgd3NhcmdOPS4uLiBwYXJhbWV0ZXJzIGludG8gcGFyYW1zIHZhcmlhYmxlLlxyXG5cdFx0aWYgKHdzQXJncyAmJiB3c0FyZ3MubGVuZ3RoKVxyXG5cdFx0XHRwYXJhbXMgPSB3c0FyZ3MucmVkdWNlKChjdXJyZW50UGFyYW1zOiBhbnksIHdzQXJnOiBhbnksIHdzQXJnSWR4OiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHRjdXJyZW50UGFyYW1zW2B3c2FyZyR7d3NBcmdJZHh9YF0gPSB0eXBlb2YgKHdzQXJnKSAhPT0gJ3VuZGVmaW5lZCcgJiYgd3NBcmcgIT0gbnVsbCA/IHdzQXJnIDogJyc7XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRQYXJhbXM7XHJcblx0XHRcdH0sIHBhcmFtcyk7XHJcblx0XHRyZXR1cm4gcGFyYW1zO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5jb25zdGFudCgnaXplbmRhLmNvbW1vbi5xdWVyeS5jYW5jZWxsYWJsZVF1ZXJpZXMnLCBbe1xyXG5cdFx0XHR3c2NtZDogJ2xvYWREYXNoYm9hcmRDb25maWdOZXcnIC8vIGxvYWQgZGFzaGJvYXJkIGxheW91dCBxdWVyeVxyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldERhc2hib2FyZENhdGVnb3JpZXNOZXcnXHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0RGFzaGJvYXJkVGlsZVByZXZpZXdOZXcnIC8vIGxvYWQgdGlsZSBodG1sIHF1ZXJ5XHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0Q3JzU2NoZWR1bGUnXHJcblx0XHR9LCB7XHJcblx0XHRcdHdzY21kOiAnZ2V0Q3JzU2hhcmUnXHJcblx0XHR9XSlcclxuXHRcdFx0LnNlcnZpY2UoJyRpemVuZGFSc1F1ZXJ5U2VydmljZScsIEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVJzUXVlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVxdWVzdExpc3RJdGVtIHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHB1YmxpYyByZXF1ZXN0SWQ6IHN0cmluZyxcclxuXHRcdHB1YmxpYyB1cmw6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBxdWVyeVBhcmFtc0ZpbmFsOiBhbnksXHJcblx0XHRwdWJsaWMgY2FuY2VsbGVyOiBhbnksXHJcblx0XHRwdWJsaWMgcmVzb2x2ZXI6IGFueSkgeyB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAoc2VhcmNoLCByZXBsYWNlbWVudCkge1xyXG5cdGNvbnN0IHRhcmdldCA9IHRoaXM7XHJcblx0aWYgKHR5cGVvZiBzZWFyY2ggIT09ICdzdHJpbmcnIHx8IHNlYXJjaCA9PT0gJycpXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHRyZXR1cm4gdGFyZ2V0LnNwbGl0KHNlYXJjaCkuam9pbihyZXBsYWNlbWVudCk7XHJcbn07XHJcblxyXG4vKipcclxuICogcmVxdWlyZWpzIG1vZHVsZSwgd2hpY2ggY3JlYXRlcyBhbmd1bGFyIG1vZHVsZXMuXHJcbiAqIHJldHVybnMgJ2xvYWRTZXR0aW5ncycgZnVuY3Rpb24sIHdoaWNoIGNvdWxkIGxvYWQgc2V0dGluZ3MgZm9yIHRoaXMgbW9kdWxlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUNvbW1vbkxvYWRlciB7XHJcblx0c3RhdGljIGxvYWRTZXR0aW5ncygpIHtcdFxyXG5cdFx0Y29uc3QgZGVmZXJyZWRPYmplY3QgPSBhbmd1bGFyLmVsZW1lbnQuRGVmZXJyZWQoKTtcclxuXHRcdGNvbnN0IHVybFNldHRpbmdzID0gd2luZG93LnVybFNldHRpbmdzJDtcclxuXHRcdGNvbnN0IHJzUGFnZVVybCA9IHVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdGNvbnN0IHNldHRpbmdzVXJsID0gcnNQYWdlVXJsICsgJz93c2NtZD1nZXRDb21tb25TZXR0aW5ncyc7XHJcblx0XHQvLyBsb2FkIGNvbW1vbiBzZXR0aW5nczpcclxuXHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZ2V0KHNldHRpbmdzVXJsLCAoY29uZmlnSnNvbikgPT4ge1xyXG5cdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gY29uZmlnSnNvbiBhcyBJSXplbmRhQ29tbW9uU2V0dGluZ3M7XHJcblx0XHRcdGFuZ3VsYXJcclxuXHRcdFx0XHQubW9kdWxlKCdpemVuZGEuY29tbW9uLmNvcmUnKVxyXG5cdFx0XHRcdC5jb25zdGFudCgnJGl6ZW5kYUNvbW1vblNldHRpbmdzJywgY29uZmlnT2JqZWN0KTtcclxuXHRcdFx0ZGVmZXJyZWRPYmplY3QucmVzb2x2ZSgpO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXJyZWRPYmplY3QucHJvbWlzZSgpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhQ29tbW9uU2V0dGluZ3Mge1xyXG5cdGFsbG93Q3JlYXRlTmV3Q2F0ZWdvcnk6IGJvb2xlYW47XHJcblx0YWxsb3dJbnZhbGlkQ2hhcmFjdGVyczogYm9vbGVhbjtcclxuXHRidWxrQ3N2OiBib29sZWFuO1xyXG5cdGNhdGVnb3J5Q2hhcmFjdGVyOiBzdHJpbmc7XHJcblx0Y3VsdHVyZTogc3RyaW5nO1xyXG5cdGRhdGVGb3JtYXRMb25nOiBzdHJpbmc7XHJcblx0ZGF0ZUZvcm1hdFNob3J0OiBzdHJpbmc7XHJcblx0c2hvd0FsbEluUmVzdWx0czogYm9vbGVhbjtcclxuXHRzaG93Q2F0ZWdvcnlUZXh0Ym94SW5TYXZlRGlhbG9nOiBib29sZWFuO1xyXG5cdHNob3dEZXNpZ25MaW5rczogYm9vbGVhbjtcclxuXHRzaG93RGVzaWduRGFzaGJvYXJkTGluazogYm9vbGVhbjtcclxuXHRzaG93U2F2ZUFzVG9vbGJhckJ1dHRvbjogYm9vbGVhbjtcclxuXHRzaG93U2F2ZUNvbnRyb2xzOiBib29sZWFuO1xyXG5cdHNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzOiBib29sZWFuO1xyXG5cdHN0cmlwSW52YWxpZENoYXJhY3RlcnM6IGJvb2xlYW47XHJcblx0dGltZUZvcm1hdExvbmc6IHN0cmluZztcclxuXHR0aW1lRm9ybWF0U2hvcnQ6IHN0cmluZztcclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IHsgSUl6ZW5kYUNvbW1vblNldHRpbmdzIH0gZnJvbSAnY29tbW9uL2NvbW1vbi1tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0ZVRpbWVGb3JtYXQge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHVibGljIGxvbmdEYXRlOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgbG9uZ1RpbWU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBzaG9ydERhdGU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyBzaG9ydFRpbWU6IHN0cmluZyxcclxuXHRcdHB1YmxpYyB0aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nOiBzdHJpbmcsIC8vIHRoaXMgdGltZSBmb3JtYXQgdXNlZCBpbiBtZXRob2QgRGF0ZUxvY1RvVXMgZm9yIHNhdmluZyBmaWx0ZXJzLlxyXG5cdFx0cHVibGljIHNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzOiBib29sZWFuLFxyXG5cdFx0cHVibGljIGRlZmF1bHRGaWx0ZXJEYXRlRm9ybWF0OiBzdHJpbmcpIHtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIHtcclxuXHJcblx0cmVhZG9ubHkgZGVmYXVsdERhdGVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0O1xyXG5cdHJlYWRvbmx5IGRhdGVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0O1xyXG5cdHJlYWRvbmx5IGN1bHR1cmU6IHN0cmluZztcclxuXHRyZWFkb25seSBidWxrQ3N2OiBib29sZWFuO1xyXG5cdHJlYWRvbmx5IGNhdGVnb3J5Q2hhcmFjdGVyOiBzdHJpbmc7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhVXRpbFNlcnZpY2UnLCAnJGl6ZW5kYUNvbW1vblNldHRpbmdzJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxTZXJ2aWNlOiBJemVuZGFVdGlsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbW1vblNldHRpbmdzOiBJSXplbmRhQ29tbW9uU2V0dGluZ3MpIHtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplIGZvcm1hdHNcclxuXHRcdHRoaXMuZGVmYXVsdERhdGVGb3JtYXQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQoXHJcblx0XHRcdCdkZGRkLCBNTU1NIERELCBZWVlZJyxcclxuXHRcdFx0J2g6bW06c3MgQScsXHJcblx0XHRcdCdNTS9ERC9ZWVlZJyxcclxuXHRcdFx0J2g6bW0gQScsXHJcblx0XHRcdCdISDptbTpzcycsXHJcblx0XHRcdGZhbHNlLFxyXG5cdFx0XHQnTU0vREQvWVlZWScgKyAoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzID8gJyBISDptbTpzcycgOiAnJykpO1xyXG5cdFx0Y29uc3QgZm9ybWF0ID0gdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdDtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdCA9IG5ldyBEYXRlVGltZUZvcm1hdChmb3JtYXQubG9uZ0RhdGUsIGZvcm1hdC5sb25nVGltZSwgZm9ybWF0LnNob3J0RGF0ZSxcclxuXHRcdFx0Zm9ybWF0LnNob3J0VGltZSwgZm9ybWF0LnRpbWVGb3JtYXRGb3JJbm5lckl6ZW5kYVByb2Nlc3NpbmcsIGZvcm1hdC5zaG93VGltZUluRmlsdGVyUGlja2VycywgJycpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LmxvbmdEYXRlID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy5kYXRlRm9ybWF0TG9uZyk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQubG9uZ1RpbWUgPSB0aGlzLmNvbnZlcnREb3ROZXRUaW1lRm9ybWF0VG9Nb21lbnQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnRpbWVGb3JtYXRMb25nKTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5zaG9ydERhdGUgPSB0aGlzLmNvbnZlcnREb3ROZXRUaW1lRm9ybWF0VG9Nb21lbnQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLmRhdGVGb3JtYXRTaG9ydCk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQuc2hvcnRUaW1lID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy50aW1lRm9ybWF0U2hvcnQpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LmRlZmF1bHRGaWx0ZXJEYXRlRm9ybWF0ID0gdGhpcy5kYXRlRm9ybWF0LnNob3J0RGF0ZSArXHJcblx0XHRcdCgkaXplbmRhQ29tbW9uU2V0dGluZ3Muc2hvd1RpbWVJbkZpbHRlclBpY2tlcnMgPyBgICR7dGhpcy5kYXRlRm9ybWF0LmxvbmdUaW1lfWAgOiAnJyk7XHJcblxyXG5cdFx0Ly8gY3VsdHVyZVxyXG5cdFx0dGhpcy5jdWx0dXJlID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLmN1bHR1cmU7XHJcblx0XHRpZiAodGhpcy5jdWx0dXJlLmluZGV4T2YoJy0nKSA+IDApXHJcblx0XHRcdHRoaXMuY3VsdHVyZSA9IHRoaXMuY3VsdHVyZS5zdWJzdHJpbmcoMCwgdGhpcy5jdWx0dXJlLmluZGV4T2YoJy0nKSk7XHJcblxyXG5cdFx0Ly8gYnVsayBjc3ZcclxuXHRcdHRoaXMuYnVsa0NzdiA9IGZhbHNlO1xyXG5cdFx0aWYgKHR5cGVvZiAkaXplbmRhQ29tbW9uU2V0dGluZ3MuYnVsa0NzdiAhPSAndW5kZWZpbmVkJylcclxuXHRcdFx0dGhpcy5idWxrQ3N2ID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLmJ1bGtDc3Y7XHJcblxyXG5cdFx0Ly8gY2F0ZWdvcnkgY2hhcmFjdGVyXHJcblx0XHR0aGlzLmNhdGVnb3J5Q2hhcmFjdGVyID0gJ1xcXFwnO1xyXG5cdFx0aWYgKHR5cGVvZiAkaXplbmRhQ29tbW9uU2V0dGluZ3MuY2F0ZWdvcnlDaGFyYWN0ZXIgIT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHRoaXMuY2F0ZWdvcnlDaGFyYWN0ZXIgPSAkaXplbmRhQ29tbW9uU2V0dGluZ3MuY2F0ZWdvcnlDaGFyYWN0ZXI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZWZhdWx0IGRhdGUgZm9ybWF0c1xyXG5cdCAqIEByZXR1cm5zIHtEYXRlVGltZUZvcm1hdH0gXHJcblx0ICovXHJcblx0Z2V0RGVmYXVsdERhdGVGb3JtYXQoKTogRGF0ZVRpbWVGb3JtYXQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGVmYXVsdERhdGVGb3JtYXQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZWZhdWx0IGZvcm1hdCBzdHJpbmcgKGVuLVVTKS4gVGhpcyBmb3JtYXQgdXNlZCBmb3Igc2VuZGluZyBkYXRlcyB0byB0aGUgc2VydmVyLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21EYXRlRm9ybWF0U3RyaW5nLiBBbHRlcm5hdGl2ZSBkYXRlIGZvcm1hdCBpZiByZXF1aXJlZC5cclxuXHQgKi9cclxuXHRnZXREZWZhdWx0RGF0ZUZvcm1hdFN0cmluZyhjdXN0b21EYXRlRm9ybWF0U3RyaW5nPzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHNob3dUaW1lID0gdGhpcy4kaXplbmRhQ29tbW9uU2V0dGluZ3Muc2hvd1RpbWVJbkZpbHRlclBpY2tlcnM7XHJcblx0XHRjb25zdCB0aW1lRm9ybWF0U3RyaW5nID0gc2hvd1RpbWUgPyAnICcgKyB0aGlzLmRlZmF1bHREYXRlRm9ybWF0LnRpbWVGb3JtYXRGb3JJbm5lckl6ZW5kYVByb2Nlc3NpbmcgOiAnJztcclxuXHRcdGxldCBkYXRlRm9ybWF0U3RyaW5nID0gdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdC5zaG9ydERhdGU7XHJcblx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhjdXN0b21EYXRlRm9ybWF0U3RyaW5nKSAmJiBjdXN0b21EYXRlRm9ybWF0U3RyaW5nLnRyaW0oKSAhPT0gJycpIHtcclxuXHRcdFx0ZGF0ZUZvcm1hdFN0cmluZyA9IGN1c3RvbURhdGVGb3JtYXRTdHJpbmc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGF0ZUZvcm1hdFN0cmluZyArIHRpbWVGb3JtYXRTdHJpbmc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IC5uZXQgZGF0ZSB0aW1lIGZvcm1hdCBzdHJpbmcgdG8gbW9tZW50anMgZm9ybWF0IHN0cmluZy5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0IC5uZXQgZm9ybWF0IHN0cmluZ1xyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IG1vbWVudGpzIGZvcm1hdCBzdHJpbmdcclxuXHQgKi9cclxuXHRjb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGNvbnZlcnRlciA9IGl6ZW5kYS51dGlscy5kYXRlLmZvcm1hdENvbnZlcnRlcjtcclxuXHRcdHJldHVybiBjb252ZXJ0ZXIuY29udmVydChmb3JtYXQsIGNvbnZlcnRlci5kb3ROZXQsIGNvbnZlcnRlci5tb21lbnRKcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIEdldCBjb21tb24gc2V0dGluZ3NcclxuXHQqL1xyXG5cdGdldENvbW1vblNldHRpbmdzKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQ29tbW9uU2V0dGluZ3M7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZGF0ZSBmb3JtYXQuXHJcblx0ICovXHJcblx0Z2V0RGF0ZUZvcm1hdCgpOiBEYXRlVGltZUZvcm1hdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRlRm9ybWF0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgcGFnZSBjdWx0dXJlLlxyXG5cdCAqL1xyXG5cdGdldEN1bHR1cmUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmN1bHR1cmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgXCJidWxrIGNzdlwiIENTViBleHBvcnQgbW9kZSBlbmFibGVkLlxyXG5cdCAqL1xyXG5cdGdldEJ1bGtDc3YoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5idWxrQ3N2O1xyXG5cdH1cclxuXHJcblx0Z2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmNhdGVnb3J5Q2hhcmFjdGVyO1xyXG5cdH1cclxuXHJcblx0Z2V0UmVwb3J0RnVsbE5hbWUocmVwb3J0TmFtZTogc3RyaW5nLCByZXBvcnRDYXRlZ29yeT86IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gbnVsbDtcclxuXHRcdGlmIChyZXBvcnROYW1lKSB7XHJcblx0XHRcdHJlc3VsdCA9ICcnO1xyXG5cdFx0XHRpZiAoIXRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChyZXBvcnRDYXRlZ29yeSkpXHJcblx0XHRcdFx0cmVzdWx0ID0gcmVwb3J0Q2F0ZWdvcnkgKyB0aGlzLmdldENhdGVnb3J5Q2hhcmFjdGVyKCk7XHJcblx0XHRcdHJlc3VsdCArPSByZXBvcnROYW1lO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogVGhpcyBzZXJ2aWNlIHByb3ZpZGVzIEFQSSBxdWVyeSBtZXRob2RzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRpemVuZGFSc1F1ZXJ5U2VydmljZScsICckaXplbmRhTG9jYWxlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFSc1F1ZXJ5U2VydmljZTogSXplbmRhUnNRdWVyeVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogVXNlZCBmb3IgcmVmcmVzaCBzZXNzaW9uIHRpbWVvdXRcclxuXHQgKi9cclxuXHRwaW5nKCk6IGFuZ3VsYXIuSVByb21pc2U8bnVtYmVyPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ3BpbmcnLCBbXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIG5ldyBkYXNoYm9hcmQgcmVwb3J0IHNldCBhbmQgc2V0IGl0IGFzIEN1cnJlbnRSZXBvcnRTZXRcclxuXHQgKi9cclxuXHRuZXdEYXNoYm9hcmQoKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnbmV3Y3JzJywgWydEYXNoYm9hcmREZXNpZ25lciddLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiAoKSA9PiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZENyZWF0ZUVycm9yJywgJ0ZhaWxlZCB0byBjcmVhdGUgbmV3IGRhc2hib2FyZCcpLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIHJlcG9ydCBzZXQgaXMgZXhpc3QuIFJldHVybnMgcHJvbWlzZSB3aXRoICd0cnVlJyB2YWx1ZSBpZiBleGlzdHNcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0U2V0RnVsbE5hbWUgUmVwb3J0IHNldCBmdWxsIG5hbWUgZm9yIGNoZWNrLlxyXG5cdCAqL1xyXG5cdGNoZWNrUmVwb3J0U2V0RXhpc3QocmVwb3J0U2V0RnVsbE5hbWU6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcocmVwb3J0U2V0RnVsbE5hbWUpIHx8IHJlcG9ydFNldEZ1bGxOYW1lLnRyaW0oKSA9PT0gJycpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigncmVwb3J0U2V0RnVsbE5hbWUgc2hvdWxkIGJlIG5vbiBlbXB0eSBzdHJpbmcnKTtcclxuXHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZENoZWNrRXhpc3RFcnJvcicsICdGYWlsZWQgdG8gY2hlY2sgZGFzaGJvYXJkIGV4aXN0Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2NoZWNrcmVwb3J0c2V0ZXhpc3RzJywgW3JlcG9ydFNldEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0U2V0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBBZEhvY0NvbnRleHQgY3VycmVudCByZXBvcnQgc2V0XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydFNldEZ1bGxOYW1lIFJlcG9ydCBzZXQgZnVsbCBuYW1lIGZvciBjaGVjay5cclxuXHQgKi9cclxuXHRzZXRDcnMocmVwb3J0U2V0RnVsbE5hbWU6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NldENyc0Vycm9yJywgJ0ZhaWxlZCB0byBzZXQgY3VycmVudCByZXBvcnQgc2V0Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ3NldGN1cnJlbnRyZXBvcnRzZXQnLCBbcmVwb3J0U2V0RnVsbE5hbWVdLCB7IGRhdGFUeXBlOiAndGV4dCcgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiBuYW1lID0+IGAke2Vycm9yVGV4dH06ICR7bmFtZX1gLFxyXG5cdFx0XHRwYXJhbXM6IFtyZXBvcnRTZXRGdWxsTmFtZV1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCBsaXN0IGJ5IGNhdGVnb3J5XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5IGNhdGVnb3J5IG5hbWUuXHJcblx0ICovXHJcblx0Z2V0UmVwb3J0U2V0Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZyk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHR2YXIgY2F0ZWdvcnlTdHIgPSBhbmd1bGFyLmlzRGVmaW5lZChjYXRlZ29yeSlcclxuXHRcdFx0PyAoY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKS50b0xvd2VyQ2FzZSgpXHJcblx0XHRcdFx0PyAnJ1xyXG5cdFx0XHRcdDogY2F0ZWdvcnkpXHJcblx0XHRcdDogJyc7XHJcblx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0dldENhdGVnb3J5RXJyb3InLCAnRmFpbGVkIHRvIGdldCByZXBvcnRzIGZvciBjYXRlZ29yeScpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdyZXBvcnRsaXN0ZGF0YWxpdGUnLCBbY2F0ZWdvcnlTdHJdLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiBuYW1lID0+IGAke2Vycm9yVGV4dH06ICR7bmFtZX1gLFxyXG5cdFx0XHRwYXJhbXM6IFtjYXRlZ29yeV1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCBwYXJ0c1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lICh4eHhAYWFhXFxiYmIpLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFBhcnRzKHJlcG9ydEZ1bGxOYW1lOiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19SZXBvcnRQYXJ0c0Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgcmVwb3J0IHBhcnRzIGZvciByZXBvcnQnKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgncmVwb3J0ZGF0YScsIFtyZXBvcnRGdWxsTmFtZV0sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6IG5hbWUgPT4gYCR7ZXJyb3JUZXh0fTogJHtuYW1lfWAsXHJcblx0XHRcdHBhcmFtczogW3JlcG9ydEZ1bGxOYW1lXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZGF0YSB3aGljaCBuZWVkZWQgZm9yIHNjaGVkdWxlXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFRpbWV6b25lT2Zmc2V0IERlZmF1bHQgdGltZXpvbmUuXHJcblx0ICovXHJcblx0Z2V0U2NoZWR1bGVEYXRhKGNsaWVudFRpbWV6b25lT2Zmc2V0OiBudW1iZXIpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdnZXRDcnNTY2hlZHVsZScsIFtTdHJpbmcoY2xpZW50VGltZXpvbmVPZmZzZXQpXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogKCkgPT4gJ0ZhaWxlZCB0byBnZXQgc2NoZWR1bGUgZGF0YScsXHJcblx0XHRcdHBhcmFtczogW11cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGEgd2hpY2ggbmVlZGVkIGZvciBzY2hlZHVsZVxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVmYXVsdFNoYXJlQ29uZmlnIElmIHRydWUgLSBzaGFyZSBjb25maWcgd2lsbCBnZXQgZnJvbSBuZXcgZW1wdHkgcmVwb3J0c2V0LCBmYWxzZSAtIGZyb20gY3VycmVudCByZXBvcnQgc2V0LlxyXG5cdCAqL1xyXG5cdGdldFNoYXJlRGF0YShkZWZhdWx0U2hhcmVDb25maWc/OiBib29sZWFuKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0Q3JzU2hhcmUnLCBbZGVmYXVsdFNoYXJlQ29uZmlnID8gJ3RydWUnIDogJ2ZhbHNlJ10sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHNoYXJlIGRhdGEnLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZScsIEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVBpbmdTZXJ2aWNlIHtcclxuXHJcblx0cHJpdmF0ZSByZWFkb25seSBtaW51dGU6IG51bWJlcjtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRUaW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSB0aW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBwaW5nVGltZXI6IGFueTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyR0aW1lb3V0JywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHRcdHRoaXMubWludXRlID0gNjAgKiAxMDAwO1xyXG5cdFx0dGhpcy5kZWZhdWx0VGltZW91dCA9IDE1ICogdGhpcy5taW51dGU7IC8vIGRlZmF1bHQgdGltZW91dCAtIDE1IG1pbnV0ZXMuXHJcblx0XHR0aGlzLnRpbWVvdXQgPSAtMTtcclxuXHRcdHRoaXMucGluZ1RpbWVyID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3AgcGluZyBxdWVyaWVzXHJcblx0ICovXHJcblx0c3RvcFBpbmcoKSB7XHJcblx0XHRpZiAodGhpcy5waW5nVGltZXIgIT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy4kdGltZW91dC5jYW5jZWwodGhpcy5waW5nVGltZXIpO1xyXG5cdFx0XHR0aGlzLnBpbmdUaW1lciA9IG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNYWtlIHBpbmcgaXRlcmF0aW9uIGFuZCBjcmVhdGUgdGltZW91dCBmb3IgbmV4dCBpdGVyYXRpb24uXHJcblx0ICovXHJcblx0cGluZygpIHtcclxuXHRcdC8vIGNhbmNlbCBwcmV2aW91cyB0aW1lcjpcclxuXHRcdHRoaXMuc3RvcFBpbmcoKTtcclxuXHJcblx0XHQvLyBoaW50OiBzdGFydCBpbW1lZGlhdGVseSBpZiB0aW1lb3V0IHZhcmlhYmxlIHdhc24ndCBzZXQuXHJcblx0XHR0aGlzLnBpbmdUaW1lciA9IHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UucGluZygpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0Ly8gc2V0IHRpbWVvdXRcclxuXHRcdFx0XHR0aGlzLnRpbWVvdXQgPSAoZGF0YSA+IDApXHJcblx0XHRcdFx0XHQ/IE1hdGgucm91bmQoZGF0YSAqIDAuNzUgKiB0aGlzLm1pbnV0ZSlcclxuXHRcdFx0XHRcdDogdGhpcy5kZWZhdWx0VGltZW91dDtcclxuXHRcdFx0XHR0aGlzLnBpbmcoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFx0XHR0aGlzLnRpbWVvdXQgPj0gMCA/IHRoaXMudGltZW91dCA6IDApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgcGluZyBxdWVyaWVzXHJcblx0ICovXHJcblx0c3RhcnRQaW5nKCkge1xyXG5cdFx0dGhpcy5waW5nKCk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFQaW5nU2VydmljZScsIEl6ZW5kYVBpbmdTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVBpbmdTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVBpbmdTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9waW5nLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdGZ1bGxOYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdGNhdGVnb3J5OiBzdHJpbmcgPSBudWxsO1xyXG5cdG5hbWU6IHN0cmluZyA9IG51bGw7XHJcblx0aXNOZXc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0c3RhdGljIGZyb21Kc29uKGpzb246IGFueSk6IEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdFx0Y29uc3QgbG9jYXRpb24gPSBuZXcgSXplbmRhTG9jYXRpb25Nb2RlbCgpO1xyXG5cdFx0bG9jYXRpb24uZnVsbE5hbWUgPSBqc29uLmZ1bGxOYW1lIHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5jYXRlZ29yeSA9IGpzb24uY2F0ZWdvcnkgfHwgbnVsbDtcclxuXHRcdGxvY2F0aW9uLm5hbWUgPSBqc29uLm5hbWUgfHwgbnVsbDtcclxuXHRcdGxvY2F0aW9uLmlzTmV3ID0gISFqc29uLmlzTmV3O1xyXG5cdFx0cmV0dXJuIGxvY2F0aW9uO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhVXJsU2VydmljZSB7XHJcblxyXG5cdHNldHRpbmdzOiBhbnk7IC8vIHVybCBzZXR0aW5ncy5cclxuXHRyZXBvcnROYW1lSW5mbzogSXplbmRhTG9jYXRpb25Nb2RlbDtcclxuXHRsb2NhdGlvbjogYW55OyAvLyBjdXJyZW50IGxvY2F0aW9uIChyeC5CZWhhdmlvclN1YmplY3Qgb2JqZWN0KVxyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsncngnLFxyXG5cdFx0XHQnJHdpbmRvdycsXHJcblx0XHRcdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFQaW5nU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhVXRpbFNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByeDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFQaW5nU2VydmljZTogSXplbmRhUGluZ1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnNldHRpbmdzID0gJHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWVJbmZvID0gdGhpcy5nZXRMb2NhdGlvbigpO1xyXG5cdFx0dGhpcy5sb2NhdGlvbiA9IG5ldyB0aGlzLnJ4LkJlaGF2aW9yU3ViamVjdCh0aGlzLnJlcG9ydE5hbWVJbmZvKTtcclxuXHRcdC8vIHN1YnNjcmliZSBvbiBsb2NhdGlvbiBjaGFuZ2U6XHJcblx0XHR3aW5kb3cub25wb3BzdGF0ZSA9IGV2ZW50ID0+IHtcclxuXHRcdFx0aWYgKGV2ZW50LnN0YXRlICYmIChldmVudC5zdGF0ZS5ybiB8fCBldmVudC5zdGF0ZS5uZXcpKSB7XHJcblx0XHRcdFx0dGhpcy5sb2NhdGlvbkNoYW5nZWRIYW5kbGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIHN0YXJ0IHBpbmdcclxuXHRcdHRoaXMuJGl6ZW5kYVBpbmdTZXJ2aWNlLnN0YXJ0UGluZygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJlcG9ydCBuYW1lIGFuZCBjYXRlZ29yeSB0byBsb2NhdGlvblxyXG5cdCAqIEBwYXJhbSB7SXplbmRhTG9jYXRpb25Nb2RlbH0gbG9jYXRpb25JbmZvIGxvY2F0aW9uIG9iamVjdFxyXG5cdCAqL1xyXG5cdHNldExvY2F0aW9uKGxvY2F0aW9uSW5mbzogSXplbmRhTG9jYXRpb25Nb2RlbCkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGxvY2F0aW9uSW5mbykpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignXCJsb2NhdGlvbkluZm9cIiBwYXJhbWV0ZXIgc2hvdWxkIGJlIG9iamVjdCcpO1xyXG5cclxuXHRcdC8vIGlmIGlzIG5ld1xyXG5cdFx0aWYgKGxvY2F0aW9uSW5mby5pc05ldykge1xyXG5cdFx0XHR0aGlzLnNldFVybCh7IGlzTmV3OiAnMScgfSwgeyBuZXc6IHRydWUgfSk7XHJcblx0XHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbmF2aWdhdGUgdG8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHR0aGlzLnNldFVybCh7IHJuOiBsb2NhdGlvbkluZm8uZnVsbE5hbWUucmVwbGFjZUFsbCgnICcsICcrJykgfSwgeyBybjogbG9jYXRpb25JbmZvLmZ1bGxOYW1lIH0pO1xyXG5cdFx0dGhpcy5sb2NhdGlvbkNoYW5nZWRIYW5kbGVyKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2UgdXJsIGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgcmVsb2FkIHRoZSBwYWdlIHdpdGggbmV3IHVybC5cclxuXHQgKiBAcGFyYW0ge2FueX0gcGFyYW1zIC0gdXJsIHBhcmFtcyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGFkZGl0aW9uYWxQYXJhbXMgLSBhZGRpdGlvbmFsIHBhcmFtcyBmb3IgcHVzaFN0YXRlLlxyXG5cdCAqL1xyXG5cdHNldFVybChwYXJhbXM6IGFueSwgYWRkaXRpb25hbFBhcmFtczogYW55KSB7XHJcblx0XHRjb25zdCBwcmV2aW91c1VybFBhcmFtcyA9IHRoaXMuZ2V0VXJsUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHJcblx0XHRjb25zdCBpc1JuT2xkRXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHByZXZpb3VzVXJsUGFyYW1zLnJuKTtcclxuXHRcdGNvbnN0IGlzUm5OZXdFeGlzdCA9IGFuZ3VsYXIuaXNTdHJpbmcocGFyYW1zLnJuKSAmJiBwYXJhbXMucm4gIT09ICcnO1xyXG5cclxuXHRcdGNvbnN0IHJuT2xkID0gaXNSbk9sZEV4aXN0ID8gJ3JuPScgKyBwcmV2aW91c1VybFBhcmFtcy5ybi5yZXBsYWNlQWxsKCcgJywgJysnKSA6ICcnO1xyXG5cdFx0Y29uc3Qgcm5OZXcgPSBpc1JuTmV3RXhpc3QgPyAncm49JyArIHBhcmFtcy5ybi5yZXBsYWNlQWxsKCcgJywgJysnKSA6ICcnO1xyXG5cclxuXHRcdGNvbnN0IGlzTmV3T2xkRXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHByZXZpb3VzVXJsUGFyYW1zLmlzTmV3KTtcclxuXHRcdGNvbnN0IGlzTmV3TmV3RXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHBhcmFtcy5pc05ldyk7XHJcblxyXG5cdFx0aWYgKGlzUm5PbGRFeGlzdCAmJiBpc1JuTmV3RXhpc3QgJiYgcm5PbGQgPT09IHJuTmV3KVxyXG5cdFx0XHQvLyBzYW1lIHJuXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChpc05ld09sZEV4aXN0ICYmIGlzTmV3TmV3RXhpc3QpXHJcblx0XHRcdC8vIHNhbWUgaXNOZXdcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKGlzUm5OZXdFeGlzdCAmJiBpc05ld05ld0V4aXN0KVxyXG5cdFx0XHR0aHJvdyAnSW5jb3JyZWN0IHBhcmFtczogYm90aCBcInJuXCIgYW5kIFwiaXNOZXdcIiBkZWZpbmVkLic7XHJcblxyXG5cdFx0Y29uc3QgbmV3UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuXHRcdGxldCBuZXdQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoID8gd2luZG93LmxvY2F0aW9uLnNlYXJjaCA6ICc/JztcclxuXHJcblx0XHRpZiAoaXNOZXdOZXdFeGlzdCkge1xyXG5cdFx0XHQvLyBnbyB0byBuZXcgcmVwb3J0XHJcblx0XHRcdC8vIHJlbW92ZSByblxyXG5cdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbChybk9sZCwgJycpO1xyXG5cdFx0XHRuZXdQYXJhbXMgKz0gKG5ld1BhcmFtcy5lbmRzV2l0aCgnPycpID8gJycgOiAnJicpICsgJ2lzTmV3PTEnO1xyXG5cdFx0fSBlbHNlIGlmIChpc1JuTmV3RXhpc3QpIHtcclxuXHRcdFx0Ly8gZ28gdG8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHRcdC8vIHJlbW92ZSBpc05ld1xyXG5cdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbCgnaXNOZXc9MScsICcnKTtcclxuXHRcdFx0aWYgKGlzUm5PbGRFeGlzdClcclxuXHRcdFx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbChybk9sZCwgcm5OZXcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3UGFyYW1zICs9IChuZXdQYXJhbXMuZW5kc1dpdGgoJz8nKSA/ICcnIDogJyYnKSArIHJuTmV3O1xyXG5cdFx0fVxyXG5cdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwoJz8mJywgJz8nKTtcclxuXHRcdG5ld1BhcmFtcyA9IG5ld1BhcmFtcy5yZXBsYWNlQWxsKCcmJicsICcmJyk7XHJcblxyXG5cdFx0Ly8gbmF2aWdhdGUgbmV3IHVybFxyXG5cdFx0Y29uc3QgbmV3VXJsID0gbmV3UGF0aCArIG5ld1BhcmFtcztcclxuXHRcdGlmICh0aGlzLiR3aW5kb3cuaGlzdG9yeSAmJiB0aGlzLiR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpIHtcclxuXHRcdFx0dGhpcy4kd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGFkZGl0aW9uYWxQYXJhbXMsIGRvY3VtZW50LnRpdGxlLCBuZXdVcmwpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbmV3VXJsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyByZXBvcnQgZnVsbCBuYW1lIChjYXRlZ29yeSBkZWxpbWl0ZXI6ICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSlcclxuXHQgKiBAcmV0dXJuIHtJemVuZGFMb2NhdGlvbk1vZGVsfSBjdXJyZW50IGxvY2F0aW9uIG1vZGVsLlxyXG5cdCAqL1xyXG5cdGdldExvY2F0aW9uKCk6IEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IG5ldyBVcmxTZXR0aW5ncygpOyAvLyByZXRyaWV2ZSBjdXJyZW50IHVybCBzZXR0aW5nc1xyXG5cdFx0Y29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuc2V0dGluZ3MucmVwb3J0SW5mbztcclxuXHJcblx0XHQvLyBleGlzdGluZyByZXBvcnRcclxuXHRcdGlmIChyZXBvcnRJbmZvLmZ1bGxOYW1lKVxyXG5cdFx0XHRyZXR1cm4gSXplbmRhTG9jYXRpb25Nb2RlbC5mcm9tSnNvbihyZXBvcnRJbmZvKTtcclxuXHJcblx0XHQvLyBpc05ld1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IEl6ZW5kYUxvY2F0aW9uTW9kZWwoKTtcclxuXHRcdHJlc3VsdC5pc05ldyA9IHJlcG9ydEluZm8uaXNOZXc7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCByZXBvcnQgbmFtZSBhbmQgY2F0ZWdvcnkgdG8gbG9jYXRpb24uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZ1bGxOYW1lIFJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICovXHJcblx0c2V0UmVwb3J0RnVsbE5hbWUoZnVsbE5hbWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5zZXRMb2NhdGlvbih7XHJcblx0XHRcdGZ1bGxOYW1lOiBmdWxsTmFtZSxcclxuXHRcdFx0bmFtZTogdGhpcy5leHRyYWN0UmVwb3J0TmFtZShmdWxsTmFtZSksXHJcblx0XHRcdGNhdGVnb3J5OiB0aGlzLmV4dHJhY3RSZXBvcnRDYXRlZ29yeShmdWxsTmFtZSksXHJcblx0XHRcdGlzTmV3OiBmYWxzZVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogR28gdG8gXCJuZXdcIlxyXG5cdCAqL1xyXG5cdHNldElzTmV3KCkge1xyXG5cdFx0dGhpcy5zZXRMb2NhdGlvbih7XHJcblx0XHRcdGZ1bGxOYW1lOiBudWxsLFxyXG5cdFx0XHRuYW1lOiBudWxsLFxyXG5cdFx0XHRjYXRlZ29yeTogbnVsbCxcclxuXHRcdFx0aXNOZXc6IHRydWVcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhhbmRsZXIsIHdoaWNoIHJlYWN0cyBvbiBwYWdlIGxvYWQgYW5kICRsb2NhdGlvbiBjaGFuZ2UuXHJcblx0ICovXHJcblx0bG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpIHtcclxuXHRcdC8vIHVwZGF0ZSB1cmwgc2V0dGluZ3Mgb2JqZWN0IGJlY2F1c2UgdXJsIGhhcyBjaGFuZ2VkXHJcblx0XHR0aGlzLnNldHRpbmdzID0gbmV3IFVybFNldHRpbmdzKCk7XHJcblxyXG5cdFx0Ly8gY2FuY2VsIGFsbCBjdXJyZW50IHF1ZXJpZXNcclxuXHRcdC8vY29uc3QgY291bnRDYW5jZWxsZWQgPSB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5jYW5jZWxBbGxRdWVyaWVzKCk7XHJcblx0XHQvL2lmIChjb3VudENhbmNlbGxlZCA+IDApXHJcblx0XHQvL1x0dGhpcy4kbG9nLmRlYnVnKGA+Pj4gQ2FuY2VsbGVkICR7Y291bnRDYW5jZWxsZWR9IHF1ZXJpZXNgKTtcclxuXHJcblx0XHQvLyBzZXQgY3VycmVudCByZXBvcnQgc2V0IGlmIGxvY2F0aW9uIGhhcyBjaGFuZ2VkXHJcblx0XHRjb25zdCBuZXdMb2NhdGlvbk1vZGVsID0gdGhpcy5nZXRMb2NhdGlvbigpO1xyXG5cdFx0aWYgKG5ld0xvY2F0aW9uTW9kZWwuZnVsbE5hbWUgIT09IHRoaXMucmVwb3J0TmFtZUluZm8uZnVsbE5hbWUgfHwgbmV3TG9jYXRpb25Nb2RlbC5pc05ldyAhPT0gdGhpcy5yZXBvcnROYW1lSW5mby5pc05ldykge1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWVJbmZvID0gbmV3TG9jYXRpb25Nb2RlbDtcclxuXHRcdFx0dGhpcy5sb2NhdGlvbi5vbk5leHQodGhpcy5yZXBvcnROYW1lSW5mbyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGZpbHRlciBwYXJhbWV0ZXJzIHVybCBwYXJ0IHVzaW5nIGN1cnJlbnQgZmlsdGVyUGFyYW1ldGVycyBmcm9tIFVybFNldHRpbmdzIG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IFVybCBwYXJhbWV0ZXJzIHN0cmluZzogJyZwMT12MSZwMj12Mi4uLiZwTj12TicuXHJcblx0ICovXHJcblx0Z2V0RmlsdGVyUGFyYW1zU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVxdWVzdFN0cmluZyA9ICcnO1xyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuZmlsdGVyUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXR0aW5ncy5maWx0ZXJQYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3QgcGFyYW1PYmplY3QgPSB0aGlzLnNldHRpbmdzLmZpbHRlclBhcmFtZXRlcnNbaV07XHJcblx0XHRcdFx0cmVxdWVzdFN0cmluZyArPSBgJiR7cGFyYW1PYmplY3RbMF19PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtT2JqZWN0WzFdKX1gO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVxdWVzdFN0cmluZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IG5hbWUgZnJvbSBjYXRlZ29yeVxccmVwb3J0IGZ1bGwgbmFtZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gcmVwb3J0IG5hbWUgd2l0aG91dCBjYXRlZ29yeS5cclxuXHQgKi9cclxuXHRleHRyYWN0UmVwb3J0TmFtZShmdWxsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgbmFtZSBmcm9tIG9iamVjdCBcIiR7SlNPTi5zdHJpbmdpZnkoZnVsbE5hbWUpfVwiIHdpdGggdHlwZSAke3R5cGVvZiAoZnVsbE5hbWUpfWA7XHJcblx0XHRjb25zdCBwYXJ0cyA9IGZ1bGxOYW1lLnNwbGl0KHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKTtcclxuXHRcdHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IGNhdGVnb3J5IGZyb20gXCJjYXRlZ29yeVxccmVwb3J0IGZ1bGwgbmFtZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gcmVwb3J0IGNhdGVnb3J5LlxyXG5cdCAqL1xyXG5cdGV4dHJhY3RSZXBvcnRDYXRlZ29yeShmdWxsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgY2F0ZWdvcnkgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cclxuXHRcdGNvbnN0IHJlcG9ydEZ1bGxOYW1lUGFydHMgPSBmdWxsTmFtZS5zcGxpdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRsZXQgY2F0ZWdvcnk6IHN0cmluZztcclxuXHRcdGlmIChyZXBvcnRGdWxsTmFtZVBhcnRzLmxlbmd0aCA+PSAyKVxyXG5cdFx0XHRjYXRlZ29yeSA9IHJlcG9ydEZ1bGxOYW1lUGFydHMuc2xpY2UoMCwgcmVwb3J0RnVsbE5hbWVQYXJ0cy5sZW5ndGggLSAxKS5qb2luKHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0Y2F0ZWdvcnkgPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5nZXRVbmNhdGVnb3JpemVkKCk7XHJcblx0XHRyZXR1cm4gY2F0ZWdvcnk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCByZXBvcnQgbmFtZSwgY2F0ZWdvcnksIHJlcG9ydCBzZXQgbmFtZSBmb3IgcmVwb3J0IHBhcnQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZ1bGxOYW1lIFJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICogQHJldHVybiB7YW55fSByZXBvcnQgcGFydHMgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGV4dHJhY3RSZXBvcnRQYXJ0TmFtZXMoZnVsbE5hbWU6IHN0cmluZywgaXNQYXJ0TmFtZUF0UmlnaHQ6IGJvb2xlYW4pOiBhbnkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZ1bGxOYW1lKSB8fCBmdWxsTmFtZSA9PT0gJycpXHJcblx0XHRcdHRocm93IGBDYW4ndCBleHRyYWN0IHJlcG9ydCBwYXJ0IG5hbWUgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cclxuXHRcdGNvbnN0IHJlc3VsdCA9IHtcclxuXHRcdFx0cmVwb3J0UGFydE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lOiBmdWxsTmFtZSxcclxuXHRcdFx0cmVwb3J0U2V0TmFtZTogbnVsbCxcclxuXHRcdFx0cmVwb3J0TmFtZTogbnVsbCxcclxuXHRcdFx0cmVwb3J0Q2F0ZWdvcnk6IG51bGwsXHJcblx0XHRcdHJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk6IG51bGxcclxuXHRcdH07XHJcblx0XHQvLyBleHRyYWN0IHJlcG9ydCBwYXJ0IG5hbWVcclxuXHRcdGxldCByZXBvcnRTZXROYW1lID0gZnVsbE5hbWU7XHJcblx0XHRpZiAoZnVsbE5hbWUuaW5kZXhPZignQCcpID49IDApIHtcclxuXHRcdFx0Y29uc3QgcGFydHMgPSBmdWxsTmFtZS5zcGxpdCgnQCcpO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNVbmRlZmluZWQoaXNQYXJ0TmFtZUF0UmlnaHQpICYmIGlzUGFydE5hbWVBdFJpZ2h0KSB7XHJcblx0XHRcdFx0W3JlcG9ydFNldE5hbWUsIHJlc3VsdC5yZXBvcnRQYXJ0TmFtZV0gPSBwYXJ0cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRbcmVzdWx0LnJlcG9ydFBhcnROYW1lLCByZXBvcnRTZXROYW1lXSA9IHBhcnRzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBjb2xsZWN0IHJlc3VsdHMgaW50byBvbmUgb2JqZWN0OlxyXG5cdFx0cmVzdWx0LnJlcG9ydFNldE5hbWUgPSByZXBvcnRTZXROYW1lO1xyXG5cdFx0cmVzdWx0LnJlcG9ydE5hbWUgPSB0aGlzLmV4dHJhY3RSZXBvcnROYW1lKHJlcG9ydFNldE5hbWUpO1xyXG5cdFx0cmVzdWx0LnJlcG9ydENhdGVnb3J5ID0gdGhpcy5leHRyYWN0UmVwb3J0Q2F0ZWdvcnkocmVwb3J0U2V0TmFtZSk7XHJcblx0XHRyZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9IHJlc3VsdC5yZXBvcnROYW1lO1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChyZXN1bHQucmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRyZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9XHJcblx0XHRcdFx0cmVzdWx0LnJlcG9ydENhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXN1bHQucmVwb3J0TmFtZVdpdGhDYXRlZ29yeTtcclxuXHRcdHJlc3VsdC5yZXBvcnRGdWxsTmFtZSA9IChyZXN1bHQucmVwb3J0UGFydE5hbWUgIT0gbnVsbCA/IHJlc3VsdC5yZXBvcnRQYXJ0TmFtZSArICdAJyA6ICcnKSArIHJlc3VsdC5yZXBvcnRTZXROYW1lO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IHJlcG9ydCBpbmZvIG9iamVjdC5cclxuXHQgKi9cclxuXHRnZXRSZXBvcnRJbmZvKCk6IEl6ZW5kYUxvY2F0aW9uTW9kZWwge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVwb3J0TmFtZUluZm87XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFVybFBhcmFtcyh1cmwpIHtcclxuXHRcdGNvbnN0IHVybE9iaiA9ICh0eXBlb2YgKGFuZ3VsYXIuZWxlbWVudFsndXJsJ10pID09PSAndW5kZWZpbmVkJykgPyB3aW5kb3cucHVybCh1cmwpIDogYW5ndWxhci5lbGVtZW50Wyd1cmwnXSh1cmwpO1xyXG5cdFx0cmV0dXJuIHVybE9iai5kYXRhLnBhcmFtLnF1ZXJ5O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXJsU2VydmljZScsIEl6ZW5kYVVybFNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXJsU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgaXplbmRhUXVlcnlNb2R1bGUgZnJvbSAnY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9ycy1xdWVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUGluZ1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3Bpbmctc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcblxyXG4vLyByZWdpc3RlciBodHRwIHByb3ZpZGVyXHJcbml6ZW5kYVF1ZXJ5TW9kdWxlLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCAkaHR0cFByb3ZpZGVyID0+IHtcclxuXHQkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLnB1c2gocmVzcG9uc2VEYXRhID0+IHtcclxuXHRcdC8vIGNvbnZlcnQgJGh0dHAgcmVzcG9uc2UuIFdlIG5lZWQgdG8gdHJhbnNsYXRlIGFzcC5uZXQgZGF0ZXMgXHJcblx0XHQvLyBpbiBzdHJpbmcgZm9ybWF0ICcvRGF0ZSh0aWNrc051bWJlcikvJyB0byBqcyBEYXRlIG9iamVjdHMgKG9ubHkgZm9yIGpzb24gcmVzcG9uc2UgdHlwZSk6XHJcblx0XHR2YXIgcmVnZXhEYXRlID0gL15cXC9EYXRlXFwoKFstXXswLDF9XFxkKylcXClcXC8kLztcclxuXHRcdHZhciBjb252ZXJ0RGF0ZVN0cmluZ3NUb0RhdGVzID0gaW5wdXQgPT4ge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW5wdXQpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Zm9yIChsZXQga2V5IGluIGlucHV0KSB7XHJcblx0XHRcdFx0aWYgKCFpbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcclxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IGlucHV0W2tleV07XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IHZhbHVlLm1hdGNoKHJlZ2V4RGF0ZSk7XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0FycmF5KG1hdGNoKSAmJiBtYXRjaC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1pbGxpc2Vjb25kcyA9IHBhcnNlSW50KG1hdGNoW21hdGNoLmxlbmd0aCAtIDFdKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc05hTihtaWxsaXNlY29uZHMpKSB7XHJcblx0XHRcdFx0XHRcdFx0aW5wdXRba2V5XSA9IG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRjb252ZXJ0RGF0ZVN0cmluZ3NUb0RhdGVzKHZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRjb252ZXJ0RGF0ZVN0cmluZ3NUb0RhdGVzKHJlc3BvbnNlRGF0YSk7XHJcblx0XHRyZXR1cm4gcmVzcG9uc2VEYXRhO1xyXG5cdH0pO1xyXG59XSk7XHJcblxyXG4vLyByZWdpc3RlciBzZXJ2aWNlc1xyXG5JemVuZGFSc1F1ZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhUGluZ1NlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG5JemVuZGFVcmxTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvbW9kdWxlJztcclxuaW1wb3J0ICdjb21tb24vcXVlcnkvbW9kdWxlJztcclxuXHJcbmNvbnN0IGl6ZW5kYVVpTW9kdWxlID0gYW5ndWxhclxyXG5cdC5tb2R1bGUoJ2l6ZW5kYS5jb21tb24udWknLCBbJ3J4JywgJ2l6ZW5kYS5jb21tb24uY29yZScsICdpemVuZGEuY29tbW9uLnF1ZXJ5J10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCcsIFsnanNfTmFtZScsICdOYW1lJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVFbXB0eUVycm9yJywgWydqc19OYW1lQ2FudEJlRW1wdHknLCAnUmVwb3J0IG5hbWUgY2FuXFwndCBiZSBlbXB0eS4nXSlcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUludmFsaWRFcnJvcicsIFsnanNfSW52YWxpZFJlcG9ydE5hbWUnLCAnSW52YWxpZCByZXBvcnQgbmFtZSddKTtcclxuZXhwb3J0IGRlZmF1bHQgaXplbmRhVWlNb2R1bGU7XHJcblxyXG4iLCIvKipcclxuICogSXplbmRhU2VsZWN0SXRlbU1vZGVsIGNsYXNzIGlzIHVzZWQgdG8gcHJvdmlkZSB1bmlmb3JtIGFuZ3VsYXIgYmluZGluZ3Mgc3R5bGUgZm9yIDxzZWxlY3Q+LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB7XHJcblx0dGV4dDogc3RyaW5nO1xyXG5cdHZhbHVlOiBzdHJpbmc7XHJcblx0Z3JvdXA6IHN0cmluZztcclxuXHRzZWxlY3RlZDogYm9vbGVhbjtcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGdyb3VwPzogc3RyaW5nLCBzZWxlY3RlZD86IGJvb2xlYW4sIGVuYWJsZWQ/OiBib29sZWFuKSB7XHJcblx0XHRpZiAodHlwZW9mICh2YWx1ZSkgPT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIHNob3VsZCBiZSBkZWZpbmVkJyk7XHJcblx0XHR0aGlzLnRleHQgPSB0ZXh0O1xyXG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cdFx0dGhpcy5ncm91cCA9IGdyb3VwID8gZ3JvdXAgOiB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQgPyBzZWxlY3RlZCA6IGZhbHNlO1xyXG5cdFx0dGhpcy5lbmFibGVkID0gZW5hYmxlZCA/IGVuYWJsZWQgOiB0cnVlO1xyXG5cdH1cclxuXHJcblx0Z2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLmVuYWJsZWQ7XHJcblx0fVxyXG5cclxuXHRpc0VxdWFsKHRlc3RWYWx1ZTogc3RyaW5nLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcblx0XHRpZiAodGVzdFZhbHVlID09PSBudWxsICYmIHRoaXMudmFsdWUgPT09IG51bGwpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0aWYgKHRlc3RWYWx1ZSA9PT0gbnVsbCB8fCB0aGlzLnZhbHVlID09PSBudWxsKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRyZXR1cm4gaXNMb3dlckNhc2VDb21wYXJpc29uXHJcblx0XHRcdD8gdGVzdFZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKVxyXG5cdFx0XHQ6IHRlc3RWYWx1ZSA9PT0gdGhpcy52YWx1ZTtcclxuXHR9XHJcblxyXG5cdGlzRXF1YWxXaXRoSXRlbShpdGVtOiBJemVuZGFTZWxlY3RJdGVtTW9kZWwsIGlzTG93ZXJDYXNlQ29tcGFyaXNvbj86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICghaXRlbSlcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNFcXVhbChpdGVtLnZhbHVlLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIGFzIElSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5cclxuLyoqXHJcbiAqIE1vZGVsIGZvciB0aGUgbGlzdCBvZiBzaGFyZSBydWxlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTaGFyZU1vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHJcblx0LyoqXHJcblx0ICogU2hhcmUgcnVsZXMgbW9kZWwgY29sbGVjdGlvblxyXG5cdCAqL1xyXG5cdHNoYXJlUnVsZXM6IEl6ZW5kYVNoYXJlUnVsZU1vZGVsW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5zaGFyZVJ1bGVzID0gbmV3IEFycmF5PEl6ZW5kYVNoYXJlUnVsZU1vZGVsPigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVzZXJpYWxpemUgc2hhcmUgcnVsZXMuIFRoaXMgbWV0aG9kIHNldHMgdGhpcy5zaGFyZVJ1bGVzIGZpZWxkLlxyXG5cdCAqIEBwYXJhbSB7YW55W119IGpzb24gU2VyaWFsaXplZCBzaGFyZSBydWxlcyBhcnJheS5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IGF2YWlsYWJsZVJpZ2h0cyBSaWdodCBtb2RlbCBjb2xsZWN0aW9uLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gYXZhaWxhYmxlU3ViamVjdHMgU3ViamVjdCBtb2RlbCBjb2xsZWN0aW9uLlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSxcclxuXHRcdGF2YWlsYWJsZVJpZ2h0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sXHJcblx0XHRhdmFpbGFibGVTdWJqZWN0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10pIHtcclxuXHRcdGlmICghanNvbikge1xyXG5cdFx0XHR0aGlzLnNoYXJlUnVsZXMgPSBbXTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5zaGFyZVJ1bGVzID0ganNvbi5tYXAocnVsZUpzb24gPT4ge1xyXG5cdFx0XHRjb25zdCBzaGFyZVJ1bGUgPSBuZXcgSXplbmRhU2hhcmVSdWxlTW9kZWwoKTtcclxuXHRcdFx0c2hhcmVSdWxlLmZyb21Kc29uKHJ1bGVKc29uLCBhdmFpbGFibGVSaWdodHMsIGF2YWlsYWJsZVN1YmplY3RzKTtcclxuXHRcdFx0cmV0dXJuIHNoYXJlUnVsZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VyaWFsaXplIGN1cnJlbnQgc2hhcmUgcnVsZXMgdG8ganNvbiBvYmplY3QuXHJcblx0ICogQHJldHVybiB7YW55W119IGFycmF5IG9mIHNlcmlhbGl6ZWQgc2hhcmUgcnVsZXMuXHJcblx0ICovXHJcblx0dG9Kc29uKCk6IGFueVtdIHtcclxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLnNoYXJlUnVsZXNcclxuXHRcdFx0LmZpbHRlcihzaGFyZVJ1bGUgPT4gc2hhcmVSdWxlLnN1YmplY3QgJiYgc2hhcmVSdWxlLnJpZ2h0KVxyXG5cdFx0XHQubWFwKHNoYXJlUnVsZSA9PiBzaGFyZVJ1bGUudG9Kc29uKCkpO1xyXG5cdFx0cmV0dXJuIGpzb247XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogTW9kZWwgZm9yIHN1YmplY3QtcmlnaHQgcGFpci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTaGFyZVJ1bGVNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblxyXG5cdGF2YWlsYWJsZVN1YmplY3RzID0gbmV3IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD4oKTtcclxuXHRyaWdodDogSXplbmRhU2VsZWN0SXRlbU1vZGVsID0gbnVsbDtcclxuXHRzdWJqZWN0OiBJemVuZGFTZWxlY3RJdGVtTW9kZWwgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzdWJqZWN0cz86IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblx0XHRpZiAoc3ViamVjdHMpXHJcblx0XHRcdHRoaXMuc2V0QXZhaWxhYmxlU3ViamVjdHMoc3ViamVjdHMsIG51bGwpO1xyXG5cdH1cclxuXHJcblx0c2V0QXZhaWxhYmxlU3ViamVjdHMoc3ViamVjdHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLCBzdWJqZWN0VmFsdWU/OiBzdHJpbmcpIHtcclxuXHJcblx0XHRjb25zdCBzdWJqVmFsdWUgPSBzdWJqZWN0VmFsdWVcclxuXHRcdFx0PyBzdWJqZWN0VmFsdWVcclxuXHRcdFx0OiB0aGlzLnN1YmplY3RcclxuXHRcdFx0XHQ/IHRoaXMuc3ViamVjdC52YWx1ZVxyXG5cdFx0XHRcdDogbnVsbDtcclxuXHJcblx0XHQvLyB1cGRhdGUgYXZhaWxhYmxlIHN1YmplY3RzIGNvbGxlY3Rpb25cclxuXHRcdHRoaXMuYXZhaWxhYmxlU3ViamVjdHMgPSBzdWJqZWN0cyAmJiBzdWJqZWN0cy5sZW5ndGggPyBbLi4uc3ViamVjdHNdIDogW107XHJcblxyXG5cdFx0Ly8gdXBkYXRlIHN1YmplY3RcclxuXHRcdHRoaXMuc3ViamVjdCA9IG51bGw7XHJcblx0XHRpZiAoc3VialZhbHVlICE9PSBudWxsKVxyXG5cdFx0XHR0aGlzLnN1YmplY3QgPSB0aGlzLmF2YWlsYWJsZVN1YmplY3RzLmZpbmQocyA9PiBzLnZhbHVlID09PSBzdWJqVmFsdWUpIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHRmcm9tSnNvbihqc29uOiBhbnksIHJpZ2h0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sIHN1YmplY3RzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cclxuXHRcdC8vIHNldCByaWdodFxyXG5cdFx0dGhpcy5yaWdodCA9IG51bGw7XHJcblx0XHRpZiAocmlnaHRzICYmIHJpZ2h0cy5sZW5ndGgpXHJcblx0XHRcdHRoaXMucmlnaHQgPSByaWdodHMuZmluZChyID0+IGpzb24gJiYgci52YWx1ZSA9PT0ganNvbi5yaWdodCkgfHwgbnVsbDtcclxuXHJcblx0XHQvLyBzZXQgYXZhaWxhYmxlIHN1YmplY3RcclxuXHRcdHRoaXMuc2V0QXZhaWxhYmxlU3ViamVjdHMoc3ViamVjdHMsIGpzb24gPyBqc29uLnN1YmplY3QgOiBudWxsKTtcclxuXHR9XHJcblxyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cclxuXHRcdGlmICghdGhpcy5yaWdodCAmJiAhdGhpcy5zdWJqZWN0KVxyXG5cdFx0XHQvLyB5b3UgY2FuIGZhY2Ugd2l0aCB0aGlzIHNpdHVhdGlvbiBvbmx5IGlmIHlvdSBjYWxsIHRvSnNvbiBkaXJlY3RseSBmb3IgdGhpcyBjbGFzcywgXHJcblx0XHRcdC8vYmVjYXVzZSB3aGVuIHlvdSBzZXJpYWxpemUgY29sbGVjdGlvbiwgdGhlcmUgaXMgYWRkaXRpb25hbCBjaGVjayBmb3IgZW1wdHkgc3ViamVjdCBhbmQgcmlnaHQuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IGpzb24gPSB7XHJcblx0XHRcdHJpZ2h0OiB0aGlzLnJpZ2h0LnZhbHVlLFxyXG5cdFx0XHRzdWJqZWN0OiB0aGlzLnN1YmplY3QudmFsdWVcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGpzb247XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTaGFyZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2hhcmVSdWxlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2hhcmUtbW9kZWwnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogU2VydmljZSB1c2VkIGZvciBzdG9yZSBkYXRhIGluIHNoYXJlIGNvbnRyb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNoYXJlU2VydmljZSB7XHJcblxyXG5cdHJpZ2h0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzdWJqZWN0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzaGFyZU1vZGVsOiBJemVuZGFTaGFyZU1vZGVsO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHEnLCAnJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIG5ldyBlbXB0eSBzaGFyZSBydWxlLlxyXG5cdCAqL1xyXG5cdGFkZE5ld1NoYXJlUnVsZSgpIHtcclxuXHRcdGNvbnN0IHNoYXJlUnVsZU1vZGVsID0gbmV3IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKHRoaXMuc3ViamVjdHMpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMucHVzaChzaGFyZVJ1bGVNb2RlbCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgc2hhcmUgcnVsZVxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTaGFyZVJ1bGVNb2RlbH0gc2hhcmVSdWxlIFNoYXJlIHJ1bGUgZm9yIHJlbW92YWwuXHJcblx0ICovXHJcblx0cmVtb3ZlU2hhcmVSdWxlKHNoYXJlUnVsZTogSXplbmRhU2hhcmVSdWxlTW9kZWwpIHtcclxuXHRcdGlmICghc2hhcmVSdWxlKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBpZHggPSB0aGlzLnNoYXJlTW9kZWwuc2hhcmVSdWxlcy5pbmRleE9mKHNoYXJlUnVsZSk7XHJcblx0XHR0aGlzLnNoYXJlTW9kZWwuc2hhcmVSdWxlcy5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBjdXJyZW50IHNjaGV1bGUgY29uZmlnIGpzb24gZm9yIHNlbmQgdG8gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gUmF3IG1vZGVsIGZvciBzZW5kaW5nIHRvIHNlcnZlci5cclxuXHQgKi9cclxuXHRnZXRTaGFyZUNvbmZpZ0ZvclNlbmQoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLnNoYXJlTW9kZWwudG9Kc29uKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBzaGFyZSBjb25maWcuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU2hhcmUgbW9kZWwgcmF3IG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0c2V0U2hhcmVDb25maWcoanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0dmFyIGlzRGVmYXVsdENvbmZpZyA9ICFqc29uO1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuZmlsbFNoYXJlQ29uZmlnRnJvbUpzb24oanNvbiwgaXNEZWZhdWx0Q29uZmlnKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBzaGFyZSBzZXJ2aWNlIHN0YXRlIGZyb20gdGhlIGNvbmZpZyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU2hhcmUgbW9kZWwgcmF3IG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaWxsU2hhcmVDb25maWdGcm9tSnNvbihqc29uOiBhbnksIGlzRGVmYXVsdENvbmZpZzogYm9vbGVhbik6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLmxvYWRTaGFyZURhdGEoKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRpZiAoaXNEZWZhdWx0Q29uZmlnKSB7XHJcblx0XHRcdFx0XHRqc29uID0gW3tcclxuXHRcdFx0XHRcdFx0c3ViamVjdDogJ0V2ZXJ5b25lJyxcclxuXHRcdFx0XHRcdFx0cmlnaHQ6ICdOb25lJ1xyXG5cdFx0XHRcdFx0fV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuc2hhcmVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZU1vZGVsKCk7XHJcblx0XHRcdFx0dGhpcy5zaGFyZU1vZGVsLmZyb21Kc29uKGpzb24sIHRoaXMucmlnaHRzLCB0aGlzLnN1YmplY3RzKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBzaGFyZSBkYXRhIGFuZCBhdmFpbGFibGUgdmFsdWVzIGZyb20gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRwcml2YXRlIGxvYWRTaGFyZURhdGEoKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblxyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0U2hhcmVEYXRhKCkudGhlbihqc29uID0+IHtcclxuXHRcdFx0XHQvLyBmaWxsIGF2YWlsYWJsZSByaWdodHMgY29sbGVjdGlvblxyXG5cdFx0XHRcdHRoaXMucmlnaHRzID0ganNvbi5SaWdodHMubWFwKHJpZ2h0SnNvbiA9PiBuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKHJpZ2h0SnNvbi5UZXh0LCByaWdodEpzb24uVmFsdWUpKTtcclxuXHJcblx0XHRcdFx0Ly8gZmlsbCBhdmFpbGFibGUgc3ViamVjdHMgY29sbGVjdGlvblxyXG5cdFx0XHRcdHRoaXMuc3ViamVjdHMgPSBqc29uLlNoYXJlV2l0aC5tYXAoc3ViamVjdEpzb24gPT4gbmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChzdWJqZWN0SnNvbi5UZXh0LCBzdWJqZWN0SnNvbi5WYWx1ZSkpO1xyXG5cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZGVmYXVsdCB2YWx1ZXMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcclxuXHRcdHRoaXMucmlnaHRzID0gbmV3IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD4oKTtcclxuXHRcdHRoaXMuc3ViamVjdHMgPSBuZXcgQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPigpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsID0gbmV3IEl6ZW5kYVNoYXJlTW9kZWwoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFuZ3VsYXIgZGVwZW5kZW5jaWVzXHJcblx0ICovXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhU2hhcmVTZXJ2aWNlJywgSXplbmRhU2hhcmVTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVNoYXJlU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIGFzIElSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2VsZWN0LWl0ZW0tbW9kZWwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTY2hlZHVsZU1vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHRkYXRlOiBEYXRlO1xyXG5cdHJlY2lwaWVudHM6IHN0cmluZztcclxuXHJcblx0ZW1haWw6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbDtcclxuXHRyZXBlYXQ6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbDtcclxuXHR0aW1lem9uZTogSXplbmRhU2VsZWN0SXRlbU1vZGVsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblx0XHR0aGlzLmVtYWlsID0gbnVsbDtcclxuXHRcdHRoaXMucmVjaXBpZW50cyA9ICcnO1xyXG5cdFx0dGhpcy5yZXBlYXQgPSBudWxsO1xyXG5cdFx0dGhpcy50aW1lem9uZSA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaWxsIHRoaXMgb2JqZWN0IGZyb20gc2VydmVyLXNpZGUgZHRvIG9iamVjdC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBkdG8gb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gZW1haWxUeXBlcyBFbWFpbCB0eXBlIG1vZGVscyBjb2xsZWN0aW9uLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gcmVwZWF0VHlwZXMgUmVwZWF0IHR5cGUgbW9kZWxzIGNvbGxlY3Rpb24uXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSB0aW1lem9uZXMgVGltZXpvbmUgbW9kZWxzIGNvbGxlY3Rpb24uXHJcblx0ICovXHJcblx0ZnJvbUpzb24oanNvbjogYW55LFxyXG5cdFx0ZW1haWxUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sXHJcblx0XHRyZXBlYXRUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10sXHJcblx0XHR0aW1lem9uZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblxyXG5cdFx0Ly8gcGFyc2UgYW5kIHNldCBkYXRlXHJcblx0XHRpZiAoanNvbiAmJiBqc29uLmRhdGVTdHJpbmcpIHtcclxuXHRcdFx0bGV0IGRhdGVTdHJpbmcgPSBqc29uLmRhdGVTdHJpbmcudHJpbSgpO1xyXG5cdFx0XHRsZXQgbW9tZW50RGF0ZTogYW55O1xyXG5cdFx0XHRpZiAoanNvbi50aW1lU3RyaW5nKSB7XHJcblx0XHRcdFx0ZGF0ZVN0cmluZyArPSBgICR7anNvbi50aW1lU3RyaW5nLnRyaW0oKX1gO1xyXG5cdFx0XHRcdG1vbWVudERhdGUgPSBtb21lbnQoZGF0ZVN0cmluZywgJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRtb21lbnREYXRlID0gbW9tZW50KGRhdGVTdHJpbmcsICdZWVlZLU1NLUREJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5kYXRlID0gbW9tZW50RGF0ZS5pc1ZhbGlkKCkgPyBtb21lbnREYXRlLl9kIDogbmV3IERhdGUoKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0aWYgKCF0aGlzLmRhdGUgfHwgdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgPD0gMTkwMClcclxuXHRcdFx0dGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcblx0XHQvLyB0aW1lem9uZVxyXG5cdFx0dGhpcy50aW1lem9uZSA9IHRpbWV6b25lcy5sZW5ndGggPyAodGltZXpvbmVzLmZpbmQodHogPT4gdHouc2VsZWN0ZWQpIHx8IHRpbWV6b25lc1swXSkgOiBudWxsO1xyXG5cdFx0aWYgKGpzb24gJiYganNvbi50aW1lem9uZUlkKVxyXG5cdFx0XHR0aGlzLnRpbWV6b25lID0gdGltZXpvbmVzLmZpbmQodHogPT4gdHoudmFsdWUgPT09IGpzb24udGltZXpvbmVJZCkgfHwgdGhpcy50aW1lem9uZTtcclxuXHJcblx0XHQvLyBlbWFpbCB0eXBlXHJcblx0XHR0aGlzLmVtYWlsID0gZW1haWxUeXBlcy5sZW5ndGggPyAoZW1haWxUeXBlcy5maW5kKGUgPT4gZS5zZWxlY3RlZCkgfHwgZW1haWxUeXBlc1swXSkgOiBudWxsO1xyXG5cclxuXHRcdC8vIHJlcGVhdCB0eXBlXHJcblx0XHR0aGlzLnJlcGVhdCA9IHJlcGVhdFR5cGVzLmxlbmd0aCA/IChyZXBlYXRUeXBlcy5maW5kKHIgPT4gci5zZWxlY3RlZCkgfHwgcmVwZWF0VHlwZXNbMF0pIDogbnVsbDtcclxuXHJcblx0XHQvLyByZWNpcGllbnRzXHJcblx0XHR0aGlzLnJlY2lwaWVudHMgPSBqc29uICYmIGpzb24ucmVjaXBpZW50cyA/IGpzb24ucmVjaXBpZW50cyA6ICcnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIHNlcnZlci1zaWRlIGR0byBvYmplY3QgZm9yIHRoaXMgc2NoZWR1bGUgbW9kZWwgb2JqZWN0LlxyXG5cdCAqIEByZXR1cm4ge2FueX0gTmV3IGpzb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cdFx0bGV0IGRhdGVTdHJpbmc6IHN0cmluZyA9IG51bGw7XHJcblx0XHRsZXQgdGltZVN0cmluZzogc3RyaW5nID0gbnVsbDtcclxuXHRcdGlmICh0aGlzLmRhdGUpIHtcclxuXHRcdFx0ZGF0ZVN0cmluZyA9IG1vbWVudCh0aGlzLmRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG5cdFx0XHR0aW1lU3RyaW5nID0gbW9tZW50KHRoaXMuZGF0ZSkuZm9ybWF0KCdISDptbTpzcycpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QganNvbiA9IHtcclxuXHRcdFx0ZGF0ZVN0cmluZzogZGF0ZVN0cmluZyxcclxuXHRcdFx0dGltZVN0cmluZzogdGltZVN0cmluZyxcclxuXHRcdFx0cmVjaXBpZW50czogdGhpcy5yZWNpcGllbnRzLFxyXG5cdFx0XHRlbWFpbDogdGhpcy5lbWFpbCA/IHRoaXMuZW1haWwudmFsdWUgOiBudWxsLFxyXG5cdFx0XHRyZXBlYXQ6IHRoaXMucmVwZWF0ID8gdGhpcy5yZXBlYXQudmFsdWUgOiBudWxsLFxyXG5cdFx0XHR0aW1lem9uZUlkOiB0aGlzLnRpbWV6b25lID8gdGhpcy50aW1lem9uZS52YWx1ZSA6IG51bGxcclxuXHRcdH07XHJcblx0XHRyZXR1cm4ganNvbjtcclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgeyBJemVuZGFTY2hlZHVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIHtcclxuXHJcblx0c2NoZWR1bGVDb25maWc6IEl6ZW5kYVNjaGVkdWxlTW9kZWw7XHJcblx0dGltZXpvbmVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXTtcclxuXHRzZW5kRW1haWxUeXBlczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW107XHJcblx0cmVwZWF0VHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHEnLCAnJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGN1cnJlbnQgc2NoZXVsZSBjb25maWcganNvbiBmb3Igc2VuZCB0byBzZXJ2ZXIuXHJcblx0ICogQHJldHVybiB7YW55fSBSYXcgbW9kZWwgZm9yIHNlbmRpbmcgdG8gc2VydmVyLlxyXG5cdCAqL1xyXG5cdGdldFNjaGVkdWxlQ29uZmlnRm9yU2VuZCgpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2NoZWR1bGVDb25maWcudG9Kc29uKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudCBzY2hlZHVsZSBjb25maWcuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gc2NoZWR1bGUgcmF3IG1vZGVsLlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRzZXRTY2hlZHVsZUNvbmZpZyhqc29uOiBhbnkpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy5maWxsU2NoZWR1bGVDb25maWdGcm9tSnNvbihqc29uKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBzY2hlZHVsZSBzZXJ2aWNlIHN0YXRlIGZyb20gdGhlIGNvbmZpZyBvYmplY3QuXHJcblx0ICogU2NoZWR1bGUgdGltZXpvbmVzLCByZXBlYXQgdHlwZXMgYW5kIG90aGVycyBhcmUgc3VwcG9zZWQgdG8gYmUgbG9hZGVkLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIHNjaGVkdWxlIHJhdyBtb2RlbC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaWxsU2NoZWR1bGVDb25maWdGcm9tSnNvbihqc29uOiBhbnkpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0Ly8gTG9hZCBzY2hlZHVsZSBjb2xsZWN0aW9ucy5cclxuXHRcdFx0dGhpcy5sb2FkU2NoZWR1bGVEYXRhKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0Ly8gRmlsbCBzY2hlZHVsZSBjb25maWcgZnJvbSBqc29uIGFmdGVyIGxvYWRpbmcgY29sbGVjdGlvbnMuXHJcblx0XHRcdFx0dGhpcy5zY2hlZHVsZUNvbmZpZy5mcm9tSnNvbihqc29uLCB0aGlzLnNlbmRFbWFpbFR5cGVzLCB0aGlzLnJlcGVhdFR5cGVzLCB0aGlzLnRpbWV6b25lcyk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBzY2hlZHVsZSBkYXRhIGFuZCBhdmFpbGFibGUgdmFsdWVzIGZyb20gc2VydmVyXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZFNjaGVkdWxlRGF0YSgpOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHJcblx0XHRcdC8vIGNhbGN1bGF0ZSBjdXJyZW50IHRpbWV6b25lIHN0ZCBvZmZzZXQ6XHJcblx0XHRcdGNvbnN0IHJpZ2h0Tm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Y29uc3QgamFuMSA9IG5ldyBEYXRlKHJpZ2h0Tm93LmdldEZ1bGxZZWFyKCksIDAsIDEsIDAsIDAsIDAsIDApO1xyXG5cdFx0XHRjb25zdCB0ZW1wID0gamFuMS50b0dNVFN0cmluZygpO1xyXG5cdFx0XHRjb25zdCBqYW4yID0gbmV3IERhdGUodGVtcC5zdWJzdHJpbmcoMCwgdGVtcC5sYXN0SW5kZXhPZignICcpKSk7XHJcblx0XHRcdGNvbnN0IHN0ZFRpbWVPZmZzZXQgPSAoamFuMS5nZXRUaW1lKCkgLSBqYW4yLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKTtcclxuXHJcblx0XHRcdC8vIGxvYWQgc2NoZWR1bGUgZGljdGlvbmFyaWVzOlxyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0U2NoZWR1bGVEYXRhKHN0ZFRpbWVPZmZzZXQpLnRoZW4oanNvbiA9PiB7XHJcblxyXG5cdFx0XHRcdHRoaXMudGltZXpvbmVzID0ganNvbi5UaW1lWm9uZXMubWFwKHR6ID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHR6VGV4dCA9IHR6LlRleHQgPyB0ei5UZXh0LnJlcGxhY2VBbGwoJyZuYnNwOycsICcgJykgOiAnJztcclxuXHRcdFx0XHRcdHJldHVybiBuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKHR6VGV4dCwgdHouVmFsdWUsIHVuZGVmaW5lZCwgdHouU2VsZWN0ZWQsIHR6LkVuYWJsZWQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR0aGlzLnNlbmRFbWFpbFR5cGVzID0ganNvbi5TZW5kRW1haWxMaXN0Lm1hcChlbWwgPT5cclxuXHRcdFx0XHRcdG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwoZW1sLlRleHQsIGVtbC5WYWx1ZSwgdW5kZWZpbmVkLCBlbWwuU2VsZWN0ZWQsIGVtbC5FbmFibGVkKSk7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVwZWF0VHlwZXMgPSBqc29uLlJlcGVhdFR5cGVzLm1hcChydCA9PlxyXG5cdFx0XHRcdFx0bmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChydC5UZXh0LCBydC5WYWx1ZSwgdW5kZWZpbmVkLCBydC5TZWxlY3RlZCwgcnQuRW5hYmxlZCkpO1xyXG5cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZGVmYXVsdCB2YWx1ZXMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc2NoZWR1bGVDb25maWcgPSBuZXcgSXplbmRhU2NoZWR1bGVNb2RlbCgpO1xyXG5cdFx0dGhpcy50aW1lem9uZXMgPSBbXTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsVHlwZXMgPSBbXTtcclxuXHRcdHRoaXMucmVwZWF0VHlwZXMgPSBbXTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsIEl6ZW5kYVNjaGVkdWxlU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFTY2hlZHVsZVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFBbGlnblN3aXRjaGVyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG5nTW9kZWw6IGFueTtcclxuXHR0aXRsZTogc3RyaW5nO1xyXG5cdGFsaWduU2hvcnRjdXQ6IHN0cmluZztcclxuXHRuZXh0VmFsdWU6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFsaWduIHN3aXRjaGVyIGRpcmVjdGl2ZS5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUFsaWduU3dpdGNoZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBRSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ01vZGVsOiAnPScsXHJcblx0XHR0aXRsZTogJ0AnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9IGA8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tYWxpZ24tc3dpdGNoZXIgZ2x5cGhpY29uXCIgbmctY2xpY2s9XCJuZXh0VmFsdWUoKVwiIG5nLWF0dHItdGl0bGU9XCJ0aXRsZVwiIG5nLWNsYXNzPVwiYWxpZ25TaG9ydGN1dFwiPjwvc3Bhbj5gO1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQWxpZ25Td2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUFsaWduU3dpdGNoZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQWxpZ25Td2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtc0FycmF5ID0gWydMJywgJ00nLCAnUicsICdKJywgJyAnXTtcclxuXHRcdFx0Y29uc3Qgc2hvcnRjdXRzID0ge1xyXG5cdFx0XHRcdCdMJzogJ2dseXBoaWNvbi1hbGlnbi1sZWZ0JyxcclxuXHRcdFx0XHQnTSc6ICdnbHlwaGljb24tYWxpZ24tY2VudGVyJyxcclxuXHRcdFx0XHQnSic6ICdnbHlwaGljb24tYWxpZ24tY2VudGVyJyxcclxuXHRcdFx0XHQnUic6ICdnbHlwaGljb24tYWxpZ24tcmlnaHQnLFxyXG5cdFx0XHRcdCcgJzogJ2dseXBoaWNvbi1ub25lJ1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgdmFsaWRhdGVWYWx1ZSA9IChtb2RlbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKG1vZGVsKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAoaXRlbXNBcnJheS5pbmRleE9mKG1vZGVsKSA8IDApXHJcblx0XHRcdFx0XHR0aHJvdyAnVW5rbm93biBhbGlnbiB2YWx1ZTogJyArIG1vZGVsO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIHVwZGF0ZVNob3J0Y3V0ID0gKG1vZGVsKSA9PiAkc2NvcGUuYWxpZ25TaG9ydGN1dCA9IHNob3J0Y3V0c1ttb2RlbF07XHJcblxyXG5cdFx0XHQkc2NvcGUubmV4dFZhbHVlID0gKCkgPT4ge1xyXG5cdFx0XHRcdHZhciBpZHggPSBpdGVtc0FycmF5LmluZGV4T2YoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHRcdGlmIChpZHggPCBpdGVtc0FycmF5Lmxlbmd0aCAtIDEpXHJcblx0XHRcdFx0XHRpZHgrKztcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRpZHggPSAwO1xyXG5cdFx0XHRcdCRzY29wZS5uZ01vZGVsID0gaXRlbXNBcnJheVtpZHhdO1xyXG5cdFx0XHRcdHVwZGF0ZVNob3J0Y3V0KCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vXHJcblx0XHRcdCRzY29wZS4kcGFyZW50LiR3YXRjaChhdHRycy5uZ01vZGVsLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XHJcblx0XHRcdFx0aWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YWxpZGF0ZVZhbHVlKG5ld1ZhbHVlKTtcclxuXHRcdFx0XHR1cGRhdGVTaG9ydGN1dChuZXdWYWx1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YWxpZGF0ZVZhbHVlKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0dXBkYXRlU2hvcnRjdXQoJHNjb3BlLm5nTW9kZWwpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCkgPT4gbmV3IEl6ZW5kYUFsaWduU3dpdGNoZXIoKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gW107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUFsaWduU3dpdGNoZXInLCBbSXplbmRhQWxpZ25Td2l0Y2hlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFBdXRvY29tcGxldGVTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdNb2RlbDogc3RyaW5nO1xyXG5cdGF1dG9jb21wbGV0ZUl0ZW1zOiBhbnk7XHJcblx0dXBkYXRlQXV0b2NvbXBsZXRlSXRlbXM6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEF1dG9jb21wbGV0ZSBkaXJlY3RpdmUuIFVzZXMgXCJ0YWdpdFwiLiBBcHBseWVkIGZvciA8aW5wdXQgaXplbmRhLWF1dG9jb21wbGV0ZT4gZWxlbWVudC5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUF1dG9jb21wbGV0ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHJlcXVpcmUgPSAnbmdNb2RlbCc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ01vZGVsOiAnPScsXHJcblx0XHRhdXRvY29tcGxldGVJdGVtczogJz0nLFxyXG5cdFx0dXBkYXRlQXV0b2NvbXBsZXRlSXRlbXM6ICcmJ1xyXG5cdH07XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFBdXRvY29tcGxldGVTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFBdXRvY29tcGxldGUucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQXV0b2NvbXBsZXRlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ3JlYXRlIGFycmF5IHdpdGggYXV0b2NvbXBsZXRlIGl0ZW0gdGV4dHNcclxuXHRcdFx0ICogQHBhcmFtIHtBcnJheTxvYmplY3Q+fSBpdGVtcy5cclxuXHRcdFx0ICogQHJldHVybnMge0FycmF5PHN0cmluZz59LlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0bGV0IHByZXBhcmVTb3VyY2UgPSAoaXRlbXM6IGFueVtdKTogc3RyaW5nW10gPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc0FycmF5KGl0ZW1zKSB8fCAhaXRlbXMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0XHRcdHJldHVybiBpdGVtc1xyXG5cdFx0XHRcdFx0LmZpbHRlcihpdGVtID0+IGFuZ3VsYXIuaXNPYmplY3QoaXRlbSkpXHJcblx0XHRcdFx0XHQubWFwKGl0ZW0gPT4gaXRlbVsndGV4dCddKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGluaXRpYWxpemUgY29tcG9uZW50XHJcblx0XHRcdCRlbGVtZW50LnZhbCgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdCRlbGVtZW50Wyd0YWdpdCddKHtcclxuXHRcdFx0XHR0YWdTb3VyY2U6IChyZXEsIHJlc3BvbnNlRnVuY3Rpb24pID0+IHtcclxuXHRcdFx0XHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS51cGRhdGVBdXRvY29tcGxldGVJdGVtcykpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdHZhciBwb3NzaWJsZVRleHQgPSByZXEudGVybS5zcGxpdCgvLFxccyovKS5wb3AoKTtcclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBzdWdnZXN0ZWQgaXRlbXM6XHJcblx0XHRcdFx0XHQkc2NvcGUudXBkYXRlQXV0b2NvbXBsZXRlSXRlbXMoeyBhcmcwOiBwb3NzaWJsZVRleHQgfSkudGhlbihuZXdFeGlzdGVudFZhbHVlc0xpc3QgPT4ge1xyXG5cdFx0XHRcdFx0XHR2YXIgaXRlbXMgPSBwcmVwYXJlU291cmNlKG5ld0V4aXN0ZW50VmFsdWVzTGlzdCBhcyBhbnlbXSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGl0ZW1zXHJcblx0XHRcdFx0XHRcdFx0LmZpbHRlcihpdGVtID0+ICEhaXRlbSAmJiBpdGVtICE9ICcuLi4nKVxyXG5cdFx0XHRcdFx0XHRcdC5tYXAoaXRlbSA9PiBpdGVtLnJlcGxhY2VBbGwoJyN8fCMnLCAnLCcpKTtcclxuXHRcdFx0XHRcdFx0cmVzcG9uc2VGdW5jdGlvbihyZXN1bHQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjYXNlU2Vuc2l0aXZlOiB0cnVlLFxyXG5cdFx0XHRcdGFsbG93RHVwbGljYXRlczogZmFsc2UsXHJcblx0XHRcdFx0c2luZ2xlRmllbGREZWxpbWl0ZXI6IGpzUmVzb3VyY2VzLmxpdGVyYWxDb21tYSxcclxuXHRcdFx0XHRwcm9jZXNzVmFsdWVzRm9yU2luZ2xlRmllbGQ6IHRhZ3MgPT4gdGFncy5tYXAodGFnID0+IHRhZy5yZXBsYWNlQWxsKCcsJywgJyN8fCMnKSksXHJcblx0XHRcdFx0cHJvY2Vzc1ZhbHVlc0Zyb21TaW5nbGVGaWVsZDogdGFncyA9PiB0YWdzLm1hcCh0YWcgPT4gdGFnLnJlcGxhY2VBbGwoJyN8fCMnLCAnLCcpKVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGFkZCB3YXRjaGVyc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgKG5ld1ZhbHVlKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdWYWx1ZSlcclxuXHRcdFx0XHRcdCRlbGVtZW50Wyd0YWdpdCddKCdyZW1vdmVBbGwnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdCRlbGVtZW50Wyd0YWdpdCddKCdyZW1vdmVBbGwnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCkgPT4gbmV3IEl6ZW5kYUF1dG9jb21wbGV0ZSgpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUF1dG9jb21wbGV0ZScsIFtJemVuZGFBdXRvY29tcGxldGUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwQ29sbGFwc2VTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0Y29sbGFwc2VkOiBib29sZWFuO1xyXG5cdHVzZURlbGF5OiBib29sZWFuO1xyXG5cdG9uQ29tcGxldGU6IChhbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2xsYXBzaWJsZSBjb250YWluZXIgZGlyZWN0aXZlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwQ29sbGFwc2UgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGNvbGxhcHNlZDogJz0nLFxyXG5cdFx0dXNlRGVsYXk6ICc9JyxcclxuXHRcdG9uQ29tcGxldGU6ICcmJ1xyXG5cdH07XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBDb2xsYXBzZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBJbnZva2UgY29tcGxldGUgaGFuZGxlci5cclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IGNvbGxhcHNlQ29tcGxldGVkID0gcmVzdWx0ID0+IHtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNvbXBsZXRlKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ29tcGxldGUoe1xyXG5cdFx0XHRcdFx0XHRjb2xsYXBzZWQ6IHJlc3VsdFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XHJcblx0XHRcdGlmICgkc2NvcGUuY29sbGFwc2VkKVxyXG5cdFx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdpbicpO1xyXG5cdFx0XHQkZWxlbWVudFsnY29sbGFwc2UnXSgpOyAvLyBjYWxsIGJvb3RzdHJhcCBqcXVlcnlfZWxlbWVudC5jb2xsYXBzZSgpIG1ldGhvZC5cclxuXHJcblx0XHRcdC8vIGFkZCBldmVudCBjb2xsYXBzZSBoYW5kbGVyc1xyXG5cdFx0XHQkZWxlbWVudC5vbignaGlkZGVuLmJzLmNvbGxhcHNlJywgKCkgPT4gY29sbGFwc2VDb21wbGV0ZWQodHJ1ZSkpO1xyXG5cdFx0XHQkZWxlbWVudC5vbignc2hvd24uYnMuY29sbGFwc2UnLCAoKSA9PiBjb2xsYXBzZUNvbXBsZXRlZChmYWxzZSkpO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggZm9yIGNvbGxhcHNlZCBzdGF0ZSBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnY29sbGFwc2VkJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICgkc2NvcGUudXNlRGVsYXkpXHJcblx0XHRcdFx0XHQkdGltZW91dCgoKSA9PiAkZWxlbWVudFsnY29sbGFwc2UnXSgkc2NvcGUuY29sbGFwc2VkID8gJ2hpZGUnIDogJ3Nob3cnKSwgMTAwMCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0JGVsZW1lbnRbJ2NvbGxhcHNlJ10oJHNjb3BlLmNvbGxhcHNlZCA/ICdoaWRlJyA6ICdzaG93Jyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBJemVuZGFCb290c3RyYXBDb2xsYXBzZSgkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwQ29sbGFwc2UnLCBbJyR0aW1lb3V0JywgSXplbmRhQm9vdHN0cmFwQ29sbGFwc2UuZmFjdG9yeSgpXSk7XHJcblxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFCb290c3RyYXBUb29sdGlwU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdHRvb2x0aXBJdGVtczogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogVG9vbHRpcCBkaXJlY3RpdmVcclxuICovXHJcbmNsYXNzIEl6ZW5kYUJvb3RzdHJhcFRvb2x0aXAgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdHRvb2x0aXBJdGVtczogJz0nXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwVG9vbHRpcFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFCb290c3RyYXBUb29sdGlwLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcFRvb2x0aXBTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndG9vbHRpcEl0ZW1zJywgKG5ld1ZhbDogYW55W10pID0+IHtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShuZXdWYWwpKSB7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5hdHRyKCd0aXRsZScsICcnKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9ICcnO1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VmFsLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAobmV3VmFsLmxlbmd0aCA+IDEpXHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBpICsgJy4gJztcclxuXHRcdFx0XHRcdHJlc3VsdCArPSBuZXdWYWxbaV0ubWVzc2FnZSArICc8YnIvPic7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRlbGVtZW50LmF0dHIoJ3RpdGxlJywgcmVzdWx0KTtcclxuXHRcdFx0XHQkZWxlbWVudFsndG9vbHRpcCddKCdoaWRlJylcclxuXHRcdFx0XHRcdC5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgbmV3VmFsKVxyXG5cdFx0XHRcdFx0LnRvb2x0aXAoJ3VwZGF0ZScpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhQm9vdHN0cmFwVG9vbHRpcCgpO1xyXG5cdH1cclxufVxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcFRvb2x0aXAnLCBbSXplbmRhQm9vdHN0cmFwVG9vbHRpcC5mYWN0b3J5KCldKTtcclxuXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRhdHRhY2hUb0VsZW1lbnQ6IHN0cmluZztcclxuXHR3aWR0aDogbnVtYmVyO1xyXG5cdGhlaWdodDogbnVtYmVyO1xyXG5cdG9uT3BlbjogKC4uLmFueSkgPT4gdm9pZDtcclxuXHRvbkNsb3NlOiAoLi4uYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQm9vdHN0cmFwIGRyb3Bkb3duIGRpcmVjdGl2ZVxyXG4gKi9cclxuY2xhc3MgSXplbmRhQm9vdHN0cmFwRHJvcGRvd24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRzY29wZSA9IHtcclxuXHRcdG9wZW5lZDogJz0nLFxyXG5cdFx0YXR0YWNoVG9FbGVtZW50OiAnQCcsXHJcblx0XHR3aWR0aDogJ0AnLFxyXG5cdFx0aGVpZ2h0OiAnQCcsXHJcblx0XHRvbk9wZW46ICcmJyxcclxuXHRcdG9uQ2xvc2U6ICcmJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxkaXYgY2xhc3M9XCJkcm9wZG93blwiPlxyXG5cdDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGl6ZW5kYS1jb21tb24tZHJvcGRvd24tc3Ryb25nLXNoYWRvdyBkcm9wZG93bi1uby1jbG9zZS1vbi1jbGlja1wiXHJcblx0XHRuZy1jbGljaz1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLWRyb3Bkb3duLXRyaWFuZ2xlXCI+PC9kaXY+XHJcblx0XHQ8ZGl2IG5nLXN0eWxlPVwie1xcJ3dpZHRoXFwnOiB3aWR0aCwgXFwnaGVpZ2h0XFwnOiBoZWlnaHR9XCI+XHJcblx0XHRcdDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBEcm9wZG93blNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFCb290c3RyYXBEcm9wZG93bi5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBEcm9wZG93blNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblx0XHRcdGNvbnN0IGlkID0gKCcnICsgTWF0aC5yYW5kb20oKSkuc3Vic3RyaW5nKDIpO1xyXG5cdFx0XHRjb25zdCBzY3JvbGxFdmVudElkID0gJ3Njcm9sbC5pemVuZGFCb290c3RyYXBEcm9wZG93bicgKyBpZDtcclxuXHRcdFx0Y29uc3QgcmVzaXplRXZlbnRJZCA9ICdyZXNpemUuaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nICsgaWQ7XHJcblx0XHRcdGNvbnN0IGtleUV2ZW50SWQgPSAna2V5dXAuaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nICsgaWQ7XHJcblxyXG5cdFx0XHRjb25zdCAkZHJvcGRvd24gPSAkZWxlbWVudC5maW5kKCcuZHJvcGRvd24nKTtcclxuXHRcdFx0Y29uc3QgJG1lbnUgPSAkZWxlbWVudC5maW5kKCcuZHJvcGRvd24tbWVudScpO1xyXG5cclxuXHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5pemVuZGEtY29tbW9uLWRyb3Bkb3duLXRyaWFuZ2xlJykub24oJ2NsaWNrJywgKCkgPT4gY2xvc2UoKSk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbihzY3JvbGxFdmVudElkLCAoKSA9PiBjbG9zZSgpKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKHJlc2l6ZUV2ZW50SWQsICgpID0+IGNsb3NlKCkpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oa2V5RXZlbnRJZCwgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdC8vIGVzYyBidXR0b24gaGFuZGxlclxyXG5cdFx0XHRcdGlmIChldmVudC5rZXlDb2RlID09IDI3ICYmICRzY29wZS5vcGVuZWQpIHtcclxuXHRcdFx0XHRcdGNsb3NlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ29wZW5lZCcsIChuZXdWYWw6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsICYmICEkZHJvcGRvd24uaGFzQ2xhc3MoJ29wZW4nKSlcclxuXHRcdFx0XHRcdG9wZW4oKTtcclxuXHRcdFx0XHRpZiAoIW5ld1ZhbCAmJiAkZHJvcGRvd24uaGFzQ2xhc3MoJ29wZW4nKSlcclxuXHRcdFx0XHRcdGNsb3NlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gb3BlbigpIHtcclxuXHRcdFx0XHRjb25zdCAkYXR0YWNoVG9FbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5hdHRhY2hUb0VsZW1lbnQpO1xyXG5cdFx0XHRcdGNvbnN0ICR0aWxlID0gJGF0dGFjaFRvRWxlbWVudC5jbG9zZXN0KCcuaXotZGFzaC10aWxlJyk7XHJcblx0XHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JG1lbnUuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xyXG5cdFx0XHRcdCRtZW51LmNzcygnei1pbmRleCcsIDk5OTkpO1xyXG5cdFx0XHRcdGxldCBsZWZ0ID0gJHRpbGUud2lkdGgoKSAtICRtZW51LndpZHRoKCkgLSAxNjtcclxuXHRcdFx0XHRsZXQgZGVsdGEgPSAwO1xyXG5cdFx0XHRcdGlmIChsZWZ0IDwgMCkge1xyXG5cdFx0XHRcdFx0ZGVsdGEgPSAtbGVmdDtcclxuXHRcdFx0XHRcdGxlZnQgPSAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCB0b3AgPSA0NDtcclxuXHRcdFx0XHQkbWVudS5jaGlsZHJlbignLml6ZW5kYS1jb21tb24tZHJvcGRvd24tdHJpYW5nbGUnKS5jc3MoJ2xlZnQnLCAkbWVudS53aWR0aCgpIC0gZGVsdGEgLSA1OCk7XHJcblx0XHRcdFx0JG1lbnUuY3NzKHtcclxuXHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAncHgnLFxyXG5cdFx0XHRcdFx0dG9wOiB0b3AgKyAncHgnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25PcGVuKSlcclxuXHRcdFx0XHRcdCRzY29wZS5vbk9wZW4oe30pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbG9zZSgpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24ucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0XHQkbWVudS5kYXRhKCdvcGVuJywgZmFsc2UpO1xyXG5cdFx0XHRcdCRzY29wZS5vcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNsb3NlKSlcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNsb3NlKHt9KTtcclxuXHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKHNjcm9sbEV2ZW50SWQpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYocmVzaXplRXZlbnRJZCk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZihrZXlFdmVudElkKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSA9PiBuZXcgSXplbmRhQm9vdHN0cmFwRHJvcGRvd24oJHdpbmRvdyk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdyddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nLCBbJyR3aW5kb3cnLCBJemVuZGFCb290c3RyYXBEcm9wZG93bi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFDb2xvclBpY2tlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0aW5saW5lOiBhbnk7XHJcblx0YWRkaXRpb25hbENsYXNzOiBhbnk7XHJcblx0Y29sb3I6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbG9yIHBpY2tlciBkaXJlY3RpdmUuIFJlcXVpcmVzIFwianF1ZXJ5LW1pbmljb2xvcnNcIiBqUXVlcnkgcGx1Z2luLiBVc2FnZTpcclxuICogPGl6ZW5kYS1jb2xvci1waWNrZXIgbmctbW9kZWw9XCIuLi5cIj48L2l6ZW5kYS1jb2xvci1waWNrZXI+XHJcbiAqL1xyXG5jbGFzcyBJemVuZGFDb2xvclBpY2tlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0aW5saW5lOiAnQCcsXHJcblx0XHRhZGRpdGlvbmFsQ2xhc3M6ICdAJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPSAnPGlucHV0IGNsYXNzPVwibWluaWNvbG9ycyBmb3JtLWNvbnRyb2xcIiBuZy1jbGFzcz1cImFkZGl0aW9uYWxDbGFzc1wiPjwvaW5wdXQ+JztcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQ29sb3JQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQ29sb3JQaWNrZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQ29sb3JQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0Y29uc3QgJGlucHV0ID0gJGVsZW1lbnQuZmluZCgnaW5wdXQubWluaWNvbG9ycycpO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggYWN0aXZlIGl0ZW0gY2hhbmdlZFxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgKG5ld1ZhbDogc3RyaW5nLCBvbGRWYWw6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQkaW5wdXQudmFsKG5ld1ZhbCk7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oJ3ZhbHVlJywgbmV3VmFsKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpbml0aWFsaXplQ29udHJvbCgpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSgnZGVzdHJveScpO1xyXG5cdFx0XHRcdCRpbnB1dC5yZW1vdmUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBpbml0aWFsaXplQ29udHJvbCgpIHtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSgnZGVzdHJveScpO1xyXG5cdFx0XHRcdCRpbnB1dC52YWwoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHRcdCRpbnB1dFsnbWluaWNvbG9ycyddKHtcclxuXHRcdFx0XHRcdGlubGluZTogJHNjb3BlLmlubGluZSA9PT0gJ3RydWUnLFxyXG5cdFx0XHRcdFx0bGV0dGVyY2FzZTogJ2xvd2VyY2FzZScsXHJcblx0XHRcdFx0XHR0aGVtZTogJ2Jvb3RzdHJhcCcsXHJcblx0XHRcdFx0XHRjb2xvcjogJHNjb3BlLmNvbG9yLFxyXG5cdFx0XHRcdFx0cG9zaXRpb246ICdib3R0b20gcmlnaHQnLFxyXG5cdFx0XHRcdFx0Y2hhbmdlOiBoZXggPT4ge1xyXG5cdFx0XHRcdFx0XHR2YXIgdmFsID0gU3RyaW5nKCRpbnB1dC52YWwoKSk7XHJcblx0XHRcdFx0XHRcdGlmICh2YWwubWF0Y2goL14jezAsMX1bMC05YS1mXXs2fSQvZ2kpKSB7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLm5nTW9kZWwgPSBoZXg7XHJcblx0XHRcdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCcuaXotZGFzaC1iYWNrZ3JvdW5kJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaGV4KTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQkZWxlbWVudC5maW5kKCcubWluaWNvbG9ycy1ncmlkLCAubWluaWNvbG9ycy1zbGlkZXInKS5jbGljayhlID0+IHtcclxuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYUNvbG9yUGlja2VyKCk7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUNvbG9yUGlja2VyJywgW0l6ZW5kYUNvbG9yUGlja2VyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcblxyXG50eXBlIEl6ZW5kYURhdGVUaW1lUGlja2VyRGF0ZVBhcnQgPSAnZGF0ZScgfCAndGltZScgfCAnZGF0ZXRpbWUnO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFEYXRlVGltZVBpY2tlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRtb2RlbDogYW55O1xyXG5cdG5nRGlzYWJsZWQ6IGFueTtcclxuXHRkYXRlRm9ybWF0OiBhbnk7XHJcblx0bG9jYWxlOiBhbnk7XHJcblx0ZGF0ZXBhcnQ6IEl6ZW5kYURhdGVUaW1lUGlja2VyRGF0ZVBhcnQ7XHJcblx0c2hvd0FkZGl0aW9uYWxCdXR0b25zOiBhbnk7XHJcblx0aHRtbENvbnRhaW5lclNlbGVjdG9yOiBhbnk7XHJcblx0b25DaGFuZ2U6IGFueTtcclxuXHRkYXRlVGltZVBpY2tlcjogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFEYXRlVGltZVBpY2tlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHJlcXVpcmUgPSAnbmdNb2RlbCc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRtb2RlbDogJz1uZ01vZGVsJyxcclxuXHRcdG5nRGlzYWJsZWQ6ICc9JyxcclxuXHRcdGRhdGVGb3JtYXQ6ICc9JyxcclxuXHRcdGxvY2FsZTogJz0nLFxyXG5cdFx0ZGF0ZXBhcnQ6ICc9JyxcclxuXHRcdHNob3dBZGRpdGlvbmFsQnV0dG9uczogJ0AnLFxyXG5cdFx0aHRtbENvbnRhaW5lclNlbGVjdG9yOiAnQCcsXHJcblx0XHRvbkNoYW5nZTogJyYnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAvPlxyXG48c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWFkZG9uXCI+XHJcblx0PHNwYW4gY2xhc3M9XCJnbHlwaGljb24tY2FsZW5kYXIgZ2x5cGhpY29uXCI+PC9zcGFuPlxyXG48L3NwYW4+YDtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRhdHRyczogbmcuSUF0dHJpYnV0ZXMsIG5nTW9kZWxDdHJsOiBuZy5JQ29udHJvbGxlcikgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpIHtcclxuXHJcblx0XHQvLyBjaGFuZ2UgdGVtcGxhdGUgaWYgcmVzb2x1dGlvbiBpcyB0b28gbG93XHJcblx0XHRpZiAodGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKSlcclxuXHRcdFx0dGhpcy50ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1kYXRlLXBpY2tlci1pbmxpbmVcIi8+JztcclxuXHJcblxyXG5cdFx0SXplbmRhRGF0ZVRpbWVQaWNrZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRcdGF0dHJzOiBuZy5JQXR0cmlidXRlcywgbmdNb2RlbEN0cmw6IG5nLklDb250cm9sbGVyKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB1aWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTtcclxuXHRcdFx0Y29uc3QgJGlucHV0ID0gJGVsZW1lbnQuY2hpbGRyZW4oJ2lucHV0LC5pemVuZGEtY29tbW9uLWRhdGUtcGlja2VyLWlubGluZScpO1xyXG5cdFx0XHRjb25zdCAkYnRuID0gJGVsZW1lbnQuY2hpbGRyZW4oJy5pbnB1dC1ncm91cC1hZGRvbicpO1xyXG5cdFx0XHRjb25zdCBpc1NtYWxsUmVzb2x1dGlvbiA9ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NtYWxsUmVzb2x1dGlvbigpO1xyXG5cdFx0XHRjb25zdCBnZXRQaWNrZXI6ICgpID0+IGFueSA9ICgpID0+ICRpbnB1dC5kYXRhKCdEYXRlVGltZVBpY2tlcicpO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENyZWF0ZSBuZXcgZGF0ZSBvYmplY3QgYmFzZWQgb24gYmFzZURhdGUgd2l0aCB1cGRhdGVkIGZyb20gdGhlIG5ld0RhdGUgZGF0ZSBvciB0aW1lIG9yIGJvdGguXHJcblx0XHRcdCAqIEBwYXJhbSB7RGF0ZX0gYmFzZURhdGUgY3VycmVudCBkYXRlXHJcblx0XHRcdCAqIEBwYXJhbSB7RGF0ZX0gbmV3RGF0ZSB1cGRhdGVkIGRhdGVcclxuXHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGRhdGVwYXJ0IHdoYXQgcGFydCB3aWxsIGJlIHVwZGF0ZWQ6ICdcImRhdGVcInxcInRpbWVcInxcImRhdGV0aW1lXCInXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBnZXRVcGRhdGVkRGF0ZVZhbHVlID0gKGJhc2VEYXRlLCBuZXdEYXRlLCBkYXRlcGFydCkgPT4ge1xyXG5cdFx0XHRcdGlmICghYmFzZURhdGUpXHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IERhdGUobmV3RGF0ZSk7XHJcblxyXG5cdFx0XHRcdHZhciBjdXJyRGF0ZSA9IG5ldyBEYXRlKGJhc2VEYXRlKTtcclxuXHRcdFx0XHRpZiAoZGF0ZXBhcnQgPT09ICdkYXRldGltZScpIHtcclxuXHRcdFx0XHRcdGN1cnJEYXRlID0gbmV3IERhdGUobmV3RGF0ZSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChkYXRlcGFydCA9PT0gJ2RhdGUnKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZSA9IG5ldyBEYXRlKFxyXG5cdFx0XHRcdFx0XHRuZXdEYXRlLmdldEZ1bGxZZWFyKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0TW9udGgoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXREYXRlKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldEhvdXJzKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldE1pbnV0ZXMoKSxcclxuXHRcdFx0XHRcdFx0YmFzZURhdGUuZ2V0U2Vjb25kcygpLFxyXG5cdFx0XHRcdFx0XHQwKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGVwYXJ0ID09PSAndGltZScpIHtcclxuXHRcdFx0XHRcdGN1cnJEYXRlID0gbmV3IERhdGUoXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldEZ1bGxZZWFyKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldE1vbnRoKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldERhdGUoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRIb3VycygpLFxyXG5cdFx0XHRcdFx0XHRuZXdEYXRlLmdldE1pbnV0ZXMoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRTZWNvbmRzKCksXHJcblx0XHRcdFx0XHRcdDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY3VyckRhdGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTZXQgZGF0ZSB0byB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXREYXRlID0gbmV3RGF0ZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdEYXRlKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGF0ZShudWxsKTtcclxuXHRcdFx0XHRlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZShuZXdEYXRlKSlcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRhdGUoZ2V0VXBkYXRlZERhdGVWYWx1ZSgkc2NvcGUubW9kZWwsIG5ld0RhdGUsICRzY29wZS5kYXRlcGFydCkpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobmV3RGF0ZSkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kYXRlKGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBuZXcgRGF0ZShuZXdEYXRlKSwgJHNjb3BlLmRhdGVwYXJ0KSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgYFVua25vd24gZGF0ZSB0eXBlOiAke3R5cGVvZiAobmV3RGF0ZSl9YDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEVuYWJsZS9EaXNhYmxlIHBpY2tlclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3Qgc2V0RGlzYWJsZWQgPSBpc0Rpc2FibGVkID0+IHtcclxuXHRcdFx0XHRpZiAoaXNEaXNhYmxlZClcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRpc2FibGUoKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5lbmFibGUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IGRhdGUgZm9ybWF0IGluIHRoZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldEZvcm1hdCA9IGZvcm1hdCA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGZvcm1hdCkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5mb3JtYXQoZmFsc2UpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmZvcm1hdChmb3JtYXQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQXBwbHkgbG9jYWxlIGluIHRoZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldExvY2FsZSA9IGxvY2FsZSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKGxvY2FsZSkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Z2V0UGlja2VyKCkubG9jYWxlKGxvY2FsZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBkYXRlIHBpY2tlciBjb25maWcganNvblxyXG5cdFx0XHR2YXIgY29uZmlnID0ge307XHJcblx0XHRcdGlmICgkc2NvcGUuc2hvd0FkZGl0aW9uYWxCdXR0b25zID09PSAndHJ1ZScpIHtcclxuXHRcdFx0XHRjb25maWcgPSB7XHJcblx0XHRcdFx0XHRzaG93VG9kYXlCdXR0b246IHRydWUsXHJcblx0XHRcdFx0XHRzaG93Q2xlYXI6IHRydWVcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNvbmZpZyxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRsb2NhbGU6ICRzY29wZS5sb2NhbGUsXHJcblx0XHRcdFx0XHRpbmxpbmU6IGlzU21hbGxSZXNvbHV0aW9uLFxyXG5cdFx0XHRcdFx0d2lkZ2V0UGFyZW50OiBpc1NtYWxsUmVzb2x1dGlvbiA/IG51bGwgOiBhbmd1bGFyLmVsZW1lbnQoJHNjb3BlLmh0bWxDb250YWluZXJTZWxlY3RvciksXHJcblx0XHRcdFx0XHR0b29sYmFyUGxhY2VtZW50OiAnYm90dG9tJyxcclxuXHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOiB7XHJcblx0XHRcdFx0XHRcdHZlcnRpY2FsOiAnYm90dG9tJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHRvb2x0aXBzOiB7XHJcblx0XHRcdFx0XHRcdHRvZGF5OiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Hb1RvVG9kYXknLCAnR28gdG8gdG9kYXknKSxcclxuXHRcdFx0XHRcdFx0Y2xlYXI6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NsZWFyU2VsZWN0aW9uJywgJ0NsZWFyIHNlbGVjdGlvbicpLFxyXG5cdFx0XHRcdFx0XHRjbG9zZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ2xvc2VQaWNrZXInLCAnQ2xvc2UgdGhlIHBpY2tlcicpLFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RNb250aDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2VsZWN0TW9udGgnLCAnU2VsZWN0IE1vbnRoJyksXHJcblx0XHRcdFx0XHRcdHByZXZNb250aDogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJldmlvdXNNb250aCcsICdQcmV2aW91cyBNb250aCcpLFxyXG5cdFx0XHRcdFx0XHRuZXh0TW9udGg6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05leHRNb250aCcsICdOZXh0IE1vbnRoJyksXHJcblx0XHRcdFx0XHRcdHNlbGVjdFllYXI6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdFllYXInLCAnU2VsZWN0IFllYXInKSxcclxuXHRcdFx0XHRcdFx0cHJldlllYXI6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzWWVhcicsICdQcmV2aW91cyBZZWFyJyksXHJcblx0XHRcdFx0XHRcdG5leHRZZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXh0WWVhcicsICdOZXh0IFllYXInKSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0RGVjYWRlOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TZWxlY3REZWNhZGUnLCAnU2VsZWN0IERlY2FkZScpLFxyXG5cdFx0XHRcdFx0XHRwcmV2RGVjYWRlOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19QcmV2aW91c0RlY2FkZScsICdQcmV2aW91cyBEZWNhZGUnKSxcclxuXHRcdFx0XHRcdFx0bmV4dERlY2FkZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTmV4dERlY2FkZScsICdOZXh0IERlY2FkZScpLFxyXG5cdFx0XHRcdFx0XHRwcmV2Q2VudHVyeTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJldmlvdXNDZW50dXJ5JywgJ1ByZXZpb3VzIENlbnR1cnknKSxcclxuXHRcdFx0XHRcdFx0bmV4dENlbnR1cnk6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05leHRDZW50dXJ5JywgJ05leHQgQ2VudHVyeScpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdC8vIGNyZWF0ZSBwaWNrZXJcclxuXHRcdFx0JHNjb3BlLmRhdGVUaW1lUGlja2VyID0gJGlucHV0WydkYXRldGltZXBpY2tlciddKGNvbmZpZyk7XHJcblxyXG5cdFx0XHQvLyBkYXRlIHBpY2tlciAnb24gc2hvdycgaGFuZGxlclxyXG5cdFx0XHQkaW5wdXQub24oJ2RwLnNob3cnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGlzU21hbGxSZXNvbHV0aW9uKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHZhciAkd2lkZ2V0ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5odG1sQ29udGFpbmVyU2VsZWN0b3IgKyAnID4gLmJvb3RzdHJhcC1kYXRldGltZXBpY2tlci13aWRnZXQnKTtcclxuXHRcdFx0XHQkd2lkZ2V0LnNob3coKTtcclxuXHRcdFx0XHQkd2lkZ2V0LmNzcyh7XHJcblx0XHRcdFx0XHR0b3A6ICRpbnB1dC5vZmZzZXQoKS50b3AgLSAkd2lkZ2V0LnBhcmVudCgpLm9mZnNldCgpLnRvcCArICRpbnB1dC5oZWlnaHQoKSArIDIwLFxyXG5cdFx0XHRcdFx0bGVmdDogJGlucHV0Lm9mZnNldCgpLmxlZnQgLSAkd2lkZ2V0LnBhcmVudCgpLm9mZnNldCgpLmxlZnRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3aW5kb3cgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUuZHAnICsgdWlkLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGlzU21hbGxSZXNvbHV0aW9uKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHZhciAkd2lkZ2V0ID0gYW5ndWxhci5lbGVtZW50KCRzY29wZS5odG1sQ29udGFpbmVyU2VsZWN0b3IgKyAnID4gLmJvb3RzdHJhcC1kYXRldGltZXBpY2tlci13aWRnZXQnKTtcclxuXHRcdFx0XHQkd2lkZ2V0LmhpZGUoKTtcclxuXHRcdFx0XHQkdGltZW91dCgoKSA9PiAkaW5wdXQuYmx1cigpLCAxMCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGJ0bi5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkc2NvcGUubmdEaXNhYmxlZClcclxuXHRcdFx0XHRcdCRpbnB1dC5mb2N1cygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIHZhcmlhYmxlczpcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdEaXNhYmxlZCcsIG5ld1ZhbCA9PiBzZXREaXNhYmxlZChuZXdWYWwpKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnZGF0ZUZvcm1hdCcsIG5ld1ZhbCA9PiBzZXRGb3JtYXQobmV3VmFsKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2xvY2FsZScsIG5ld1ZhbCA9PiBzZXRMb2NhbGUobmV3VmFsKSk7XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIHZhbHVlc1xyXG5cdFx0XHRzZXREaXNhYmxlZCgkc2NvcGUubmdEaXNhYmxlZCk7XHJcblx0XHRcdHNldEZvcm1hdCgkc2NvcGUuZGF0ZUZvcm1hdCk7XHJcblx0XHRcdHNldExvY2FsZSgkc2NvcGUubG9jYWxlKTtcclxuXHJcblx0XHRcdGlmIChuZ01vZGVsQ3RybCkge1xyXG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goJ21vZGVsJywgbmV3VmFsID0+IHNldERhdGUobmV3VmFsKSk7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHJlbmRlciA9ICgpID0+IHNldERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdCRpbnB1dC5vbignZHAuY2hhbmdlJywgZSA9PiB7XHJcblx0XHRcdFx0XHR2YXIgbmV3RGF0ZVZhbHVlID0gZVsnZGF0ZSddID8gZ2V0VXBkYXRlZERhdGVWYWx1ZSgkc2NvcGUubW9kZWwsIGVbJ2RhdGUnXS50b0RhdGUoKSwgJHNjb3BlLmRhdGVwYXJ0KSA6IG51bGw7XHJcblx0XHRcdFx0XHRuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ld0RhdGVWYWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplLmRwJyArIHVpZCk7XHJcblx0XHRcdFx0dmFyIHBpY2tlciA9IGdldFBpY2tlcigpO1xyXG5cdFx0XHRcdGlmIChwaWNrZXIpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kZXN0cm95KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdFx0JHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdFx0XHQkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdFx0XHQkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSA9PlxyXG5cdFx0XHRuZXcgSXplbmRhRGF0ZVRpbWVQaWNrZXIoJHdpbmRvdywgJHRpbWVvdXQsICRpemVuZGFMb2NhbGVTZXJ2aWNlLCAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFEYXRlVGltZVBpY2tlcicsXHJcblx0Wyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsIEl6ZW5kYURhdGVUaW1lUGlja2VyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVJlcG9ydFZpZXdlclJvb3RTY29wZSBleHRlbmRzIG5nLklSb290U2NvcGVTZXJ2aWNlIHtcclxuXHRpc0RyYWdnaW5nTm93OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRhbGxvd0NvbFJlb3JkZXI6IGFueTtcclxuXHRhbGxvd2VkQ29sdW1uc0ZvclJlb3JkZXI6IGFueTtcclxuXHRyZXBvcnRTZXRPcHRpb25zOiB7IGlzVmdVc2VkOiBib29sZWFuOyB2Z1N0eWxlOiBzdHJpbmcsIHNvcnRlZEFjdGl2ZUZpZWxkczogYW55W10gfTtcclxuXHRhbGxvd0NvbFJlbW92ZTogYW55O1xyXG5cdGRyb3BwYWJsZUFjY2VwdDogYW55O1xyXG5cdG9uUmVvcmRlcjogYW55O1xyXG5cdG9uSGVhZGVyQ2xpY2s6IGFueTtcclxuXHRvblBhZ2luZ0NsaWNrOiBhbnk7XHJcblx0b25EcmFnT3ZlcjogYW55O1xyXG5cdG9uUmVtb3ZlOiBhbnk7XHJcblx0ZW1wdHlUZXh0OiBhbnk7XHJcblx0Y3VycmVudEluc2VydENvbHVtbk9yZGVyOiBhbnk7XHJcblx0aHRtbFRleHQ6IGFueTtcclxuXHJcblx0cmVvcmRlclN0YXRlOiBhbnk7XHJcblx0JHRhYmxlOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFSZXBvcnRWaWV3ZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBRSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRhbGxvd0NvbFJlb3JkZXI6ICdAJyxcclxuXHRcdGFsbG93ZWRDb2x1bW5zRm9yUmVvcmRlcjogJz0nLFxyXG5cdFx0cmVwb3J0U2V0T3B0aW9uczogJz0nLFxyXG5cdFx0YWxsb3dDb2xSZW1vdmU6ICdAJyxcclxuXHRcdGRyb3BwYWJsZUFjY2VwdDogJ0AnLFxyXG5cdFx0b25SZW9yZGVyOiAnJicsXHJcblx0XHRvbkhlYWRlckNsaWNrOiAnJicsXHJcblx0XHRvblBhZ2luZ0NsaWNrOiAnJicsXHJcblx0XHRvbkRyYWdPdmVyOiAnJicsXHJcblx0XHRvblJlbW92ZTogJyYnLFxyXG5cdFx0ZW1wdHlUZXh0OiAnPScsXHJcblx0XHRjdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXI6ICc9JyxcclxuXHRcdGh0bWxUZXh0OiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGRpdiBjbGFzcz1cIml6ZW5kYS1yZXBvcnQtdmlld2VyXCI+XHJcblx0PGRpdiBjbGFzcz1cImh0bWwtY29udGFpbmVyLXBsYWNlaG9sZGVyIGhpZGRlblwiPjwvZGl2PlxyXG5cdDxkaXYgY2xhc3M9XCJodG1sLWNvbnRhaW5lci1sb2FkaW5nXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIG5nLWJpbmQ9XCI6OiAnanNfTG9hZGluZycgfCBpemVuZGFMb2NhbGU6ICdMb2FkaW5nLi4uJ1wiPjwvZGl2PlxyXG5cdDxkaXYgaWQ9XCJyZW5kZXJlZFJlcG9ydERpdlwiIGNsYXNzPVwiaHRtbC1jb250YWluZXJcIj48L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdFx0XHQvLyBhcHBseSB0aWxlIGh0bWwgZnVuY3Rpb25cclxuXHRcdFx0Y29uc3QgJGh0bWxDb250YWluZXIgPSAkZWxlbWVudC5maW5kKCcuaHRtbC1jb250YWluZXInKTtcclxuXHRcdFx0Y29uc3QgJGh0bWxDb250YWluZXJMb2FkaW5nID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyLWxvYWRpbmcnKTtcclxuXHRcdFx0Y29uc3QgJGh0bWxDb250YWluZXJQbGFjZWhvbGRlciA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFByZXBhcmUgcmVwb3J0IHRhYmxlXHJcblx0XHRcdCAqIEBwYXJhbSB7anF1ZXJ5IG9iamVjdH0gJHRhYmxlIFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgcHJvY2Vzc1JlcG9ydFRhYmxlID0gKCkgPT4ge1xyXG5cdFx0XHRcdC8vIHByZXBhcmUgdGFibGVcclxuXHRcdFx0XHRpZiAoIUl6ZW5kYVJlcG9ydFZpZXdlci5pc1RhYmxlSXNHb29kKCRzY29wZS4kdGFibGUpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDb2xSZW9yZGVySGFuZGxlcigkc2NvcGUsICR0aW1lb3V0LCAoJGZyb20sICR0bywgaXNWaXN1YWxHcm91cCkgPT4ge1xyXG5cdFx0XHRcdFx0SXplbmRhUmVwb3J0Vmlld2VyLm9uUmVvcmRlcigkc2NvcGUsICRmcm9tLCAkdG8sIGlzVmlzdWFsR3JvdXApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIGFkZCBvdGhlciBoYW5kbGVyc1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGREcmFnSGFuZGxlcnMoJHNjb3BlLCAkcm9vdFNjb3BlLCAkZWxlbWVudCk7XHJcblx0XHRcdFx0SXplbmRhUmVwb3J0Vmlld2VyLmFkZENsaWNrSGFuZGxlcigkc2NvcGUpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDb2xSZW1vdmVCdXR0b25zKCRzY29wZSk7XHJcblx0XHRcdFx0aXplbmRhLnJlcG9ydC5yZWdpc3RlclBvc3RSZW5kZXJIYW5kbGVycygpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IHJlcG9ydCBjb250ZW50IGh0bWxcclxuXHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBhcHBseUh0bWwgPSAoaHRtbDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0Ly8gc2hvdy9oaWRlIGxvYWRpbmcgaW5kaWNhdG9yXHJcblx0XHRcdFx0aWYgKGh0bWwgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyLmhpZGUoKTtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyLnNob3coKTtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGVtcHR5IHJlc3VsdFxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGh0bWwpICE9PSAnc3RyaW5nJyB8fCAoaHRtbCAmJiB0eXBlb2YgKGh0bWwpID09PSAnc3RyaW5nJyAmJiBodG1sLnRyaW0oKSA9PT0gJycpKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci50ZXh0KCRzY29wZS5lbXB0eVRleHQpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkaHRtbENvbnRhaW5lci5odG1sKGh0bWwpO1xyXG5cclxuXHRcdFx0XHQvLyBpcyBwYWdpbmcgZW5hYmxlZFxyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlUGFnZUxpbmtzKCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlUGFnaW5nSW5wdXQoJHNjb3BlLCAkaHRtbENvbnRhaW5lcik7XHJcblx0XHRcdFx0SXplbmRhUmVwb3J0Vmlld2VyLnByZXBhcmVHb1RvUmVjb3JkQnRuKCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cclxuXHRcdFx0XHQkc2NvcGUuJHRhYmxlID0gJGh0bWxDb250YWluZXIuZmluZCgndGFibGVbbmFtZT1yZXBvcnRUYWJsZV0sdGFibGUuUmVwb3J0VGFibGUnKTtcclxuXHRcdFx0XHRpZiAoJHNjb3BlLiR0YWJsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQvLyBwcmVwYXJlIHJlcG9ydCB0YWJsZVxyXG5cdFx0XHRcdFx0cHJvY2Vzc1JlcG9ydFRhYmxlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gaHRtbFRleHQgY2hhbmdlIGhhbmRsZXJcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnaHRtbFRleHQnLCAobmV3VmFsOiBzdHJpbmcpID0+IGFwcGx5SHRtbChuZXdWYWwpKTtcclxuXHJcblx0XHRcdC8vIGlzIGRyYWdnaW5nIGVuYWJsZWQgaGFuZGxlclxyXG5cdFx0XHQkcm9vdFNjb3BlLiR3YXRjaCgnaXNEcmFnZ2luZ05vdycsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKCFuZXdWYWwpIHtcclxuXHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBydW5cclxuXHRcdFx0YXBwbHlIdG1sKCRzY29wZS5odG1sVGV4dCk7XHJcblxyXG5cdFx0XHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgYW55IGtpbmQgb2YgdmlzdWFsIGdyb3VwIGFwcGxpZWQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgaXNWZ0FwcGx5ZWQoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBhbmd1bGFyLmlzT2JqZWN0KCRzY29wZS5yZXBvcnRTZXRPcHRpb25zKVxyXG5cdFx0XHQ/ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLmlzVmdVc2VkXHJcblx0XHRcdDogZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBhcHBsaWVkIEFHIG9yIFZHSGllcmFyY2h5LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gSXplbmRhUmVwb3J0Vmlld2VyLmlzVmdBcHBseWVkKCRzY29wZSkgJiZcclxuXHRcdFx0WydBbmFseXNpc0dyaWQnLCAnVkdIaWVyYXJjaHknXS5pbmRleE9mKCRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnZnU3R5bGUpID49IDA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYWxjdWxhdGUgY291bnQgb2YgdmlzdWFsIGdyb3VwIGNvbHVtbi5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogbnVtYmVyIHtcclxuXHRcdGxldCBjb3VudE9mVmdDb2x1bW5zID0gMDtcclxuXHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSkge1xyXG5cdFx0XHR2YXIgZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcztcclxuXHRcdFx0Y291bnRPZlZnQ29sdW1ucyA9IGZpZWxkc0luVGFibGUuZmlsdGVyKGZpZWxkID0+IGZpZWxkLmlzVmdVc2VkKS5sZW5ndGg7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY291bnRPZlZnQ29sdW1ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBmaWVsZHMgd2hpY2ggaGF2ZSBvd24gY29sdW1uIGluIHByZXZpZXcgdGFibGVcclxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5IG9mIGZpZWxkIG9iamVjdHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2V0Q29sdW1uRmllbGRzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYW55W10ge1xyXG5cdFx0bGV0IGZpZWxkc0luVGFibGU6IGFueVtdO1xyXG5cdFx0aWYgKEl6ZW5kYVJlcG9ydFZpZXdlci5pc1RhYmxlQ29udGFpblZnQ29sdW1ucygkc2NvcGUpKVxyXG5cdFx0XHRmaWVsZHNJblRhYmxlID0gJHNjb3BlLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmaWVsZHNJblRhYmxlID0gJHNjb3BlLnJlcG9ydFNldE9wdGlvbnMuc29ydGVkQWN0aXZlRmllbGRzLmZpbHRlcihmaWVsZCA9PiAhZmllbGQuaXNWZ1VzZWQpO1xyXG5cdFx0cmV0dXJuIGZpZWxkc0luVGFibGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBpc1RhYmxlSXNHb29kKCR0YWJsZTogSlF1ZXJ5PEhUTUxFbGVtZW50Pik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCEkdGFibGUpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdC8vIGlmIG5vIHRhYmxlIGhlYWRlcnMgLSBzdG9wOlxyXG5cdFx0dmFyICR0YWJsZUhlYWRlciA9ICR0YWJsZS5jaGlsZHJlbigndGJvZHknKS5jaGlsZHJlbigndHIuUmVwb3J0SGVhZGVyJyk7XHJcblx0XHRpZiAoJHRhYmxlSGVhZGVyLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0Ly8gY2hlY2sgaWYgdGFibGUgY29udGFpbnMgdmlzdWFsIGdyb3VwczpcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGNvbCByZW9yZGVyIGhhbmRsZXIuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkQ29sUmVvcmRlckhhbmRsZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsIG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZDogKC4uLmFueSkgPT4gdm9pZCkge1xyXG5cdFx0aWYgKCRzY29wZS5hbGxvd0NvbFJlb3JkZXIgIT09ICd0cnVlJylcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IGJvZHlPbnNlbGVjdHN0YXJ0U2F2ZSA9IFN0cmluZyhhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cignb25zZWxlY3RzdGFydCcpKTtcclxuXHRcdGNvbnN0IGJvZHlVbnNlbGVjdGFibGVTYXZlID0gU3RyaW5nKGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnKSk7XHJcblx0XHRjb25zdCBkaXNhYmxlVGV4dFNlbGVjdGlvbiA9ICgpID0+IHtcclxuXHRcdFx0Ly8galF1ZXJ5IGRvZXNuJ3Qgc3VwcG9ydCB0aGUgZWxlbWVudC50ZXh0IGF0dHJpYnV0ZSBpbiBNU0lFIDhcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjkyNzcwL3N0eWxlLXN0eWxlLXRleHRjc3MtYXBwZW5kdG9oZWFkLWRvZXMtbm90LXdvcmstaW4taWVcclxuXHRcdFx0dmFyICRzdHlsZSA9XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KFxyXG5cdFx0XHRcdFx0JzxzdHlsZSBpZD1cIl9fZGlzYWJsZV90ZXh0X3NlbGVjdGlvbl9fXCIgdHlwZT1cInRleHQvY3NzXCI+Ym9keSB7IC1tcy11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6LW1vei1ub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lOyB9PC9zdHlsZT4nKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLmFwcGVuZCgkc3R5bGUpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cignb25zZWxlY3RzdGFydCcsICdyZXR1cm4gZmFsc2U7JykuYXR0cigndW5zZWxlY3RhYmxlJywgJ29uJyk7XHJcblx0XHRcdGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcblx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpOyAvLyBNU0lFIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNTg2OSUyOHY9VlMuODUlMjkuYXNweFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgcmVzdG9yZVRleHRTZWxlY3Rpb24gPSAoKSA9PiB7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnI19fZGlzYWJsZV90ZXh0X3NlbGVjdGlvbl9fJykucmVtb3ZlKCk7XHJcblx0XHRcdGlmIChib2R5T25zZWxlY3RzdGFydFNhdmUpXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnLCBib2R5T25zZWxlY3RzdGFydFNhdmUpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ29uc2VsZWN0c3RhcnQnKTtcclxuXHRcdFx0aWYgKGJvZHlVbnNlbGVjdGFibGVTYXZlKVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnLCBib2R5VW5zZWxlY3RhYmxlU2F2ZSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkucmVtb3ZlQXR0cigndW5zZWxlY3RhYmxlJyk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgY3JlYXRlSGVscGVyID0gaW5uZXJPZmZzZXQgPT4ge1xyXG5cdFx0XHR2YXIgJGNlbGwgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tO1xyXG5cdFx0XHR2YXIgJGNsb25lID0gJGNlbGwuY2xvbmUoKS53cmFwKCc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oZWxwZXJcIj48L2Rpdj4nKS5wYXJlbnQoKTtcclxuXHRcdFx0JGNsb25lLndpZHRoKCRjZWxsLm91dGVyV2lkdGgoKSk7XHJcblx0XHRcdCRjbG9uZS5oZWlnaHQoJGNlbGwub3V0ZXJIZWlnaHQoKSk7XHJcblx0XHRcdCRjbG9uZS5jc3MoJ3RvcCcsICRjZWxsLnBvc2l0aW9uKCkudG9wKTtcclxuXHRcdFx0JGNsb25lLmNzcygnbGVmdCcsICRjZWxsLnBvc2l0aW9uKCkubGVmdCArIGlubmVyT2Zmc2V0KTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyID0gJGNsb25lO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmhlbHBlck9mZnNldCA9IGlubmVyT2Zmc2V0O1xyXG5cdFx0XHQkc2NvcGUuJHRhYmxlLmFwcGVuZCgkY2xvbmUpO1xyXG5cdFx0XHRyZXR1cm4gJGNsb25lO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IHJlbW92ZUhlbHBlciA9ICgpID0+IHtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyLnJlbW92ZSgpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGJlZm9yZVJlb3JkZXJTdGFydGVkID0gKCkgPT4ge1xyXG5cdFx0XHRkaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLmFkZENsYXNzKCdpemVuZGEtcmVvcmRlci1jZWxsLXNlbGVjdGVkJyk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUucHJldmlvdXNQb3NpdGlvbiA9ICRzY29wZS4kdGFibGUuY3NzKCdwb3NpdGlvbicpO1xyXG5cdFx0XHQkc2NvcGUuJHRhYmxlLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBhZnRlclJlb3JkZXJDb21wbGV0ZWQgPSAoKSA9PiB7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20ucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1yZW9yZGVyLWNlbGwtc2VsZWN0ZWQnKTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5pdGVtc0NhY2hlID0gbnVsbDtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5jc3MoJ3Bvc2l0aW9uJywgJHNjb3BlLnJlb3JkZXJTdGF0ZS5wcmV2aW91c1Bvc2l0aW9uKTtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5maW5kKCcuaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWFjdGl2ZScpO1xyXG5cdFx0XHRyZW1vdmVIZWxwZXIoKTtcclxuXHRcdFx0cmVzdG9yZVRleHRTZWxlY3Rpb24oKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBnZXRDdXJyZW50SXRlbXNGb3JSZW9yZGVyID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAoISRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSkge1xyXG5cdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20ucGFyZW50KCkuY2hpbGRyZW4oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJHNjb3BlLnJlb3JkZXJTdGF0ZS5pdGVtc0NhY2hlO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGNvbXBsZXRlUmVvcmRlciA9ICgpID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YWZ0ZXJSZW9yZGVyQ29tcGxldGVkKCk7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ob25Db2x1bW5SZW9yZGVyQ29tcGxldGVkKSkge1xyXG5cdFx0XHRcdHZhciBpc1ZnID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5hdHRyKCdkYXRhLWlzLXZnLWNvbHVtbicpID09PSAndHJ1ZSc7XHJcblx0XHRcdFx0b25Db2x1bW5SZW9yZGVyQ29tcGxldGVkKCRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20sICRzY29wZS5yZW9yZGVyU3RhdGUuJHRvLCBpc1ZnKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUucmVvcmRlclN0YXRlID0ge1xyXG5cdFx0XHRzdGFydGVkOiBmYWxzZSxcclxuXHRcdFx0JGZyb206IG51bGxcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gYWRkIHRhYmxlIGhhbmRsZXJzOlxyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vZmYoJ21vdXNlbW92ZS5pemVuZGFDb2xSZW9yZGVyJyk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLm9mZignbW91c2V1cC5pemVuZGFDb2xSZW9yZGVyJyk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUuaXplbmRhQ29sUmVvcmRlcicsIGUgPT4ge1xyXG5cdFx0XHRpZiAoISRzY29wZS5yZW9yZGVyU3RhdGUuc3RhcnRlZClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRUYWJsZVggPSBlLnBhZ2VYIC0gJHNjb3BlLiR0YWJsZS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHRjb25zdCBpc0Zyb21Db2x1bW5WZyA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nKSA9PT0gJ3RydWUnO1xyXG5cclxuXHJcblx0XHRcdC8vIGhpZ2hsaWdodCBjdXJyZW50IGNvbHVtblxyXG5cdFx0XHR2YXIgJHRkcyA9IGdldEN1cnJlbnRJdGVtc0ZvclJlb3JkZXIoKTtcclxuXHRcdFx0dmFyICR0b1RkID0gbnVsbDtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRkcywgKGlUZCwgdGQpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY3VyclRkID0gYW5ndWxhci5lbGVtZW50KHRkKTtcclxuXHRcdFx0XHRjb25zdCB0ZExlZnQgPSAkY3VyclRkLnBvc2l0aW9uKCkubGVmdCwgdGRXaWR0aCA9ICRjdXJyVGQub3V0ZXJXaWR0aCgpO1xyXG5cdFx0XHRcdGNvbnN0IGlzVGRDb2x1bW5WZyA9IFN0cmluZygkY3VyclRkLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJykpID09PSAndHJ1ZSc7XHJcblx0XHRcdFx0aWYgKCEkY3VyclRkLmhhc0NsYXNzKCdpemVuZGEtY29sLXJlb3JkZXItZGlzYWJsZWQnKSAmJlxyXG5cdFx0XHRcdFx0aXNGcm9tQ29sdW1uVmcgPT09IGlzVGRDb2x1bW5WZyAmJlxyXG5cdFx0XHRcdFx0Y3VycmVudFRhYmxlWCA+PSB0ZExlZnQgJiZcclxuXHRcdFx0XHRcdGN1cnJlbnRUYWJsZVggPCB0ZExlZnQgKyB0ZFdpZHRoKSB7XHJcblx0XHRcdFx0XHQkdG9UZCA9ICRjdXJyVGQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGlzICR0b1RkIGNoYW5nZWQ/XHJcblx0XHRcdGlmICgkdG9UZCAmJiAoISRzY29wZS5yZW9yZGVyU3RhdGUuJHRvIHx8ICR0b1RkLmluZGV4KCkgIT09ICRzY29wZS5yZW9yZGVyU3RhdGUuJHRvLmluZGV4KCkpKSB7XHJcblx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8gPSAkdG9UZDtcclxuXHJcblx0XHRcdFx0JHRkcy5yZW1vdmVDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0XHRpZiAoISRzY29wZS5yZW9yZGVyU3RhdGUuJHRvLmhhc0NsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWFjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiR0by5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGJ1YmJsZSBpbm5lciBjb250ZW50XHJcblx0XHRcdFx0Y29uc3QgZnJvbUluZGV4ID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5pbmRleCgpO1xyXG5cdFx0XHRcdGNvbnN0IHRvSW5kZXggPSAkc2NvcGUucmVvcmRlclN0YXRlLiR0by5pbmRleCgpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0ZHMsIChpVGQsIHRkKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkY3VyclRkMiA9IGFuZ3VsYXIuZWxlbWVudCh0ZCk7XHJcblx0XHRcdFx0XHRjb25zdCAkYmFja3VwcyA9ICRjdXJyVGQyLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdGlmICgkYmFja3Vwcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdCRjdXJyVGQyLmNoaWxkcmVuKCkubm90KCcuaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRjdXJyVGQyLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJyk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdGxldCAkY3VycmVudFRkOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cdFx0XHRcdGxldCAkbmV4dFRkOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cdFx0XHRcdGxldCBpOiBudW1iZXI7XHJcblx0XHRcdFx0aWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcclxuXHRcdFx0XHRcdGZvciAoaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaV0pO1xyXG5cdFx0XHRcdFx0XHQkbmV4dFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaSArIDFdKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5jaGlsZHJlbigpLmFkZENsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkLmFwcGVuZCgkbmV4dFRkLmNoaWxkcmVuKCkuY2xvbmUoKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAoaSA9IGZyb21JbmRleDsgaSA+IHRvSW5kZXg7IGktLSkge1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaV0pO1xyXG5cdFx0XHRcdFx0XHQkbmV4dFRkID0gYW5ndWxhci5lbGVtZW50KCR0ZHNbaSAtIDFdKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5jaGlsZHJlbigpLmFkZENsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdFx0XHQkY3VycmVudFRkLmFwcGVuZCgkbmV4dFRkLmNoaWxkcmVuKCkuY2xvbmUoKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBtb3ZlIGhlbHBlclxyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRoZWxwZXIuY3NzKCdsZWZ0JywgY3VycmVudFRhYmxlWCAtICRzY29wZS5yZW9yZGVyU3RhdGUuaGVscGVyT2Zmc2V0KTtcclxuXHRcdH0pO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vbignbW91c2V1cC5pemVuZGFDb2xSZW9yZGVyJywgKCkgPT4ge1xyXG5cdFx0XHRpZiAoJHNjb3BlLnJlb3JkZXJTdGF0ZS5kb3duVGltZXIpXHJcblx0XHRcdFx0JHRpbWVvdXQuY2FuY2VsKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKTtcclxuXHRcdFx0Y29tcGxldGVSZW9yZGVyKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplOlxyXG5cdFx0dmFyICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHJcblx0XHQvLyBmaWVsZHNJblRhYmxlIHNob3VsZCBjb250YWluIG9ubHkgZmllbGRzIHdoaWNoIGhhdmUgY29sdW1uXHJcblx0XHR2YXIgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaUhlYWRlclJvdywgdGFibGVIZWFkZXIpID0+IHtcclxuXHRcdFx0dmFyICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUhlYWRlcik7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHR2YXIgJGNlbGwgPSBhbmd1bGFyLmVsZW1lbnQoY2VsbCk7XHJcblx0XHRcdFx0aWYgKGlDZWxsIDwgZmllbGRzSW5UYWJsZS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZmllbGQgPSBmaWVsZHNJblRhYmxlW2lDZWxsXTtcclxuXHRcdFx0XHRcdFx0JGNlbGwuYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nLCBmaWVsZC5pc1ZnVXNlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JGNlbGwuYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nLCAnZmFsc2UnKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBtb3VzZSBkb3duIGhhbmRsZXJcclxuXHRcdFx0XHRcdCRjZWxsLm9uKCdtb3VzZWRvd24uaXplbmRhQ29sUmVvcmRlcicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdFx0aWYgKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKVxyXG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0LmNhbmNlbCgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcik7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyID0gbnVsbDtcclxuXHJcblx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20gPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyID0gJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGJlZm9yZVJlb3JkZXJTdGFydGVkKCk7XHJcblx0XHRcdFx0XHRcdFx0Y3JlYXRlSGVscGVyKGUub2Zmc2V0WCk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fSwgMjUwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkY2VsbC5hZGRDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWRpc2FibGVkJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVvcmRlciBjb21wbGV0ZWQgaGFuZGxlclxyXG5cdCAqIEBwYXJhbSB7anF1ZXJ5IGRvbSBlbGVtZW50fSAkZnJvbS4gRWxlbWVudCB3aGljaCB3ZSBkcmFnZ2VkXHJcblx0ICogQHBhcmFtIHtqcXVlcnkgZG9tIGVsZW1lbnR9ICR0by4gJGZyb20gZWxlbWVudCBkcm9wcGVkIHRvIHRoaXMgZWxlbWVudC5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBvblJlb3JkZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRmcm9tLCAkdG8sIGlzVmcpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblJlb3JkZXIpKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoISR0byB8fCAhJGZyb20pXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGxldCBmcm9tSW5kZXggPSAkZnJvbS5pbmRleCgpO1xyXG5cdFx0bGV0IHRvSW5kZXggPSAkdG8uaW5kZXgoKTtcclxuXHRcdGlmIChmcm9tSW5kZXggPT09IHRvSW5kZXgpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmICghaXNWZykge1xyXG5cdFx0XHRjb25zdCB2Z0NvbHVtbnNDb3VudCA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZSk7XHJcblx0XHRcdGZyb21JbmRleCAtPSB2Z0NvbHVtbnNDb3VudDtcclxuXHRcdFx0dG9JbmRleCAtPSB2Z0NvbHVtbnNDb3VudDtcclxuXHRcdH1cclxuXHRcdCRzY29wZS5vblJlb3JkZXIoeyBhcmcwOiBmcm9tSW5kZXgsIGFyZzE6IHRvSW5kZXgsIGFyZzI6IGlzVmcgfSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGRyYWcgaGFuZGxlcnMgdG8gdGFibGVcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZGREcmFnSGFuZGxlcnMoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRyb290U2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSB7XHJcblx0XHRjb25zdCAkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyLXBsYWNlaG9sZGVyJyk7XHJcblxyXG5cdFx0Ly8gbW91c2Ugb3ZlclxyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5kcm9wcGFibGVBY2NlcHQpKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCAkY3VycmVudHRhYmxlID0gJHNjb3BlLiR0YWJsZTtcclxuXHRcdGxldCBjdXJyZW50VGFibGVMZWZ0ID0gJGN1cnJlbnR0YWJsZS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5oZWlnaHQoJGN1cnJlbnR0YWJsZS5oZWlnaHQoKSk7XHJcblxyXG5cdFx0Y29uc3QgY29sdW1uQ29vcmRzOiBBcnJheTx7IGxlZnQ6IG51bWJlcjsgd2lkdGg6IG51bWJlciB9PiA9IFtdO1xyXG5cdFx0Y29uc3QgJGN1cnJlbnR0YWJsZUhlYWRlciA9ICRzY29wZS4kdGFibGUuZmluZCgndHIuUmVwb3J0SGVhZGVyJykubGFzdCgpO1xyXG5cdFx0Y29uc3QgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdGNvbnN0ICRjdXJyZW50dGFibGVSb3dzID0gJGN1cnJlbnR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKS5zbGljZSgwLCBmaWVsZHNJblRhYmxlLmxlbmd0aCk7XHJcblx0XHRjb25zdCBjb3VudE9mVmdDb2x1bW5zID0gSXplbmRhUmVwb3J0Vmlld2VyLmdldENvdW50T2ZWZ0NvbHVtbnMoJHNjb3BlKTtcclxuXHJcblx0XHQvLyBjYWxjdWxhdGUgXHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkY3VycmVudHRhYmxlUm93cywgKGlUaDogbnVtYmVyLCB0aDogYW55KSA9PiB7XHJcblx0XHRcdHZhciAkdGggPSBhbmd1bGFyLmVsZW1lbnQodGgpO1xyXG5cdFx0XHRpZiAoaVRoID49IGNvdW50T2ZWZ0NvbHVtbnMpIHtcclxuXHRcdFx0XHRjb2x1bW5Db29yZHMucHVzaCh7XHJcblx0XHRcdFx0XHRsZWZ0OiAkdGgucG9zaXRpb24oKS5sZWZ0LFxyXG5cdFx0XHRcdFx0d2lkdGg6ICR0aC5vdXRlcldpZHRoKClcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gbW91c2UgZW50ZXIgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2VlbnRlcicsICgpID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjdXJyZW50VGFibGVMZWZ0ID0gJGN1cnJlbnR0YWJsZS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygndG9wJywgJGN1cnJlbnR0YWJsZS5wb3NpdGlvbigpLnRvcCArICdweCcpO1xyXG5cdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmhlaWdodCgkY3VycmVudHRhYmxlLmhlaWdodCgpKTtcclxuXHRcdFx0aWYgKGNvbHVtbkNvb3Jkcy5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgY29sdW1uQ29vcmRzWzBdLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBtb3VzZSBsZWF2ZSBoYW5kbGVyXHJcblx0XHQkc2NvcGUuJHRhYmxlLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG5cdFx0XHRpZiAoISRyb290U2NvcGUuaXNEcmFnZ2luZ05vdylcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGlmIChldmVudFsndG9FbGVtZW50J10gJiYgYW5ndWxhci5lbGVtZW50KGV2ZW50Wyd0b0VsZW1lbnQnXSkuaGFzQ2xhc3MoJ2h0bWwtY29udGFpbmVyLXBsYWNlaG9sZGVyJykpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIG1vdXNlIG1vdmUgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2Vtb3ZlJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRpZiAoISRyb290U2NvcGUuaXNEcmFnZ2luZ05vdylcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHZhciBsZWZ0ID0gZXZlbnQucGFnZVggLSBjdXJyZW50VGFibGVMZWZ0O1xyXG5cdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IGNvbHVtbkNvb3Jkcy5sZW5ndGg7IGsrKykge1xyXG5cdFx0XHRcdGNvbnN0IGNvbHVtbiA9IGNvbHVtbkNvb3Jkc1trXTtcclxuXHRcdFx0XHRpZiAoayA8IGNvbHVtbkNvb3Jkcy5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRjb25zdCBuZXh0Q29sdW1uID0gY29sdW1uQ29vcmRzW2sgKyAxXTtcclxuXHRcdFx0XHRcdGlmIChjb2x1bW4ubGVmdCA8PSBsZWZ0ICYmIGxlZnQgPCBuZXh0Q29sdW1uLmxlZnQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGxlZnQgPD0gY29sdW1uLmxlZnQgKyAobmV4dENvbHVtbi5sZWZ0IC0gY29sdW1uLmxlZnQpIC8gMikge1xyXG5cdFx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgY29sdW1uLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gaztcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIG5leHRDb2x1bW4ubGVmdCArICdweCcpO1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSBrICsgMTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAobGVmdCA+PSBjb2x1bW4ubGVmdCArIGNvbHVtbi53aWR0aCAvIDIpIHtcclxuXHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCAoY29sdW1uLmxlZnQgKyBjb2x1bW4ud2lkdGgpICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSBrICsgMTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGxlZnQgPj0gY29sdW1uLmxlZnQpIHtcclxuXHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCAoY29sdW1uLmxlZnQpICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW5zZXJ0Q29sdW1uT3JkZXIgPSBrO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCB0YWJsZSBoZWFkZXIgY2xpY2sgaGFuZGxlclxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENsaWNrSGFuZGxlcigkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uSGVhZGVyQ2xpY2spKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Y29uc3QgJGhlYWRlclJvd3MgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0Y29uc3QgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaVRhYmxlSGVhZGVyLCB0YWJsZUhlYWRlcikgPT4ge1xyXG5cdFx0XHR2YXIgJHRhYmxlSGVhZGVyID0gYW5ndWxhci5lbGVtZW50KHRhYmxlSGVhZGVyKTtcclxuXHRcdFx0aWYgKCR0YWJsZUhlYWRlci5jaGlsZHJlbignLkVtcHR5Q2VsbCcpLmxlbmd0aCA+IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHQvLyBpdGVyYXRlIGhlYWRlciBjZWxsc1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJ3RkJyksIChpQ2VsbCwgY2VsbCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0ICRjZWxsID0gYW5ndWxhci5lbGVtZW50KGNlbGwpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA+PSBmaWVsZHNJblRhYmxlLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQkY2VsbC5vbignbW91c2Vkb3duJywgZSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZS53aGljaCAhPT0gMSkgcmV0dXJuO1xyXG5cdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uSGVhZGVyQ2xpY2spKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdGNvbnN0IGZpZWxkSW5kZXggPSAkdGhpcy5pbmRleCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uSGVhZGVyQ2xpY2soeyBhcmcwOiBmaWVsZHNJblRhYmxlW2ZpZWxkSW5kZXhdIH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBidXR0b25zIHdoaWNoIGFsbG93IHRvIHJlbXZvZSB0YWJsZSBjb2x1bW5zXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkQ29sUmVtb3ZlQnV0dG9ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSkge1xyXG5cdFx0aWYgKCRzY29wZS5hbGxvd0NvbFJlbW92ZSAhPT0gJ3RydWUnKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Y29uc3QgJGhlYWRlclJvd3MgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0Y29uc3QgZmllbGRzSW5UYWJsZSA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb2x1bW5GaWVsZHMoJHNjb3BlKTtcclxuXHRcdC8vIGl0ZXJhdGUgaGVhZGVyc1xyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJGhlYWRlclJvd3MsIChpSGVhZGVyUm93LCBoZWFkZXJSb3cpID0+IHtcclxuXHRcdFx0Y29uc3QgJHRhYmxlSGVhZGVyID0gYW5ndWxhci5lbGVtZW50KGhlYWRlclJvdyk7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Ly8gaXRlcmF0ZSBoZWFkZXIgY2VsbHNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2VsbCA9IGFuZ3VsYXIuZWxlbWVudChjZWxsKTtcclxuXHRcdFx0XHQkY2VsbC5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcblx0XHRcdFx0aWYgKGlDZWxsID49IGZpZWxkc0luVGFibGUubGVuZ3RoKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdC8vIGFkZCBjZWxsIGhhbmRsZXJzXHJcblx0XHRcdFx0JGNlbGwub24oJ21vdXNlb3Zlci5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0ICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0JHRoaXMuY2hpbGRyZW4oJy5pemVuZGEtY29tbW9uLXJlbW92ZS1jb2x1bW4tYnRuJykuc2hvdygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRjZWxsLm9uKCdtb3VzZW91dC5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0ICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0JHRoaXMuY2hpbGRyZW4oJy5pemVuZGEtY29tbW9uLXJlbW92ZS1jb2x1bW4tYnRuJykuaGlkZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgYnV0dG9uXHJcblx0XHRcdFx0Y29uc3QgJHJlcG9ydENvbHVtblJlbW92ZUJ1dHRvbiA9XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXJlbW92ZS1jb2x1bW4tYnRuXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiPjwvc3Bhbj48L2Rpdj4nKTtcclxuXHRcdFx0XHQkY2VsbC5hcHBlbmQoJHJlcG9ydENvbHVtblJlbW92ZUJ1dHRvbik7XHJcblx0XHRcdFx0JHJlcG9ydENvbHVtblJlbW92ZUJ1dHRvbi5vbignbW91c2Vkb3duLnJlbW92ZWJ0bicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZW1vdmUpKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZEluZGV4ID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpLnBhcmVudCgpLmluZGV4KCk7XHJcblx0XHRcdFx0XHQkc2NvcGUub25SZW1vdmUoeyBhcmcwOiBmaWVsZHNJblRhYmxlW2ZpZWxkSW5kZXhdIH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25rZXlkb3duJyBldmVudCBhbmQgYWRkIG93biBrZXlkb3duIGFuZCBibHVyIGV2ZW50cywgd2hpY2ggY2FsbCBvblBhZ2luZ0NsaWNrIGhhbmRsZXIuXHJcblx0ICogQHBhcmFtIHt9ICRzY29wZSBDdXJyZW50IGRpcmVjdGl2ZSBzY29wZS5cclxuXHQgKiBAcGFyYW0ge30gJGh0bWxDb250YWluZXIgUmVwb3J0IGNvbnRhaW5lciwgd2hpY2ggY29udGFpbnMgcGFnaW5nIGNvbnRyb2xzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZVBhZ2luZ0lucHV0KCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0Y29uc3QgJHBhZ2VJbnB1dHMgPSAkaHRtbENvbnRhaW5lci5maW5kKCcuaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcpO1xyXG5cdFx0aWYgKCEkcGFnZUlucHV0cy5sZW5ndGgpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRwYWdlSW5wdXRzLCAoaVBhZ2VJbnB1dCwgcGFnZUlucHV0KSA9PiB7XHJcblx0XHRcdHZhciAkcGFnZUlucHV0ID0gYW5ndWxhci5lbGVtZW50KHBhZ2VJbnB1dCk7XHJcblx0XHRcdCRwYWdlSW5wdXQuYXR0cignb25rZXlkb3duJywgbnVsbCk7XHJcblxyXG5cdFx0XHQvLyBpbnB1dCBjaGFuZ2VkIGhhbmRsZXJcclxuXHRcdFx0dmFyIG9uSW5wdXRDaGFuZ2VkID0gKCRpbnB1dDogSlF1ZXJ5PEhUTUxFbGVtZW50PikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHBhZ2VzQ291bnQgPSBwYXJzZUludChTdHJpbmcoJGlucHV0LmF0dHIoJ2RhdGEtcGFnZXMtY291bnQnKSkpO1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KFN0cmluZygkaW5wdXQuYXR0cignZGF0YS1pdGVtcy1wZXItcGFnZScpKSk7XHJcblx0XHRcdFx0bGV0IHZhbCA9IE51bWJlcigkaW5wdXQudmFsKCkpO1xyXG5cdFx0XHRcdGlmICh2YWwgPCAxKSB2YWwgPSAxO1xyXG5cdFx0XHRcdGlmICh2YWwgPiBwYWdlc0NvdW50KSB2YWwgPSBwYWdlc0NvdW50O1xyXG5cdFx0XHRcdGNvbnN0IHN0YXJ0UmVjb3JkID0gKCh2YWwgLSAxKSAqIGl0ZW1zUGVyUGFnZSkgKyAxO1xyXG5cdFx0XHRcdGNvbnN0IGZpbmlzaFJlY29yZCA9IHN0YXJ0UmVjb3JkICsgaXRlbXNQZXJQYWdlIC0gMTtcclxuXHRcdFx0XHQkc2NvcGUub25QYWdpbmdDbGljayh7XHJcblx0XHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcsXHJcblx0XHRcdFx0XHRhcmcxOiBzdGFydFJlY29yZCArICctJyArIGZpbmlzaFJlY29yZFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRwYWdlSW5wdXQub24oJ2JsdXInLCBldmVudCA9PiB7XHJcblx0XHRcdFx0dmFyICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRvbklucHV0Q2hhbmdlZCgkdGhpcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkcGFnZUlucHV0Lm9uKCdrZXlkb3duJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdHZhciBrYyA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2g7XHJcblx0XHRcdFx0aWYgKGtjICE9PSAxMylcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHRoaXMgPSBhbmd1bGFyLmVsZW1lbnQoZXZlbnQuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdG9uSW5wdXRDaGFuZ2VkKCR0aGlzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25jbGljaycgZXZlbnQgYW5kIGFkZCBvd24gY2xpY2sgZXZlbnQsIHdoaWNoIGNhbGwgb25QYWdpbmdDbGljayBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7fSAkc2NvcGUgY3VycmVudCBEaXJlY3RpdmUgc2NvcGUuXHJcblx0ICogQHBhcmFtIHt9ICRodG1sQ29udGFpbmVyIFJlcG9ydCBjb250YWluZXIsIHdoaWNoIGNvbnRhaW5zIHBhZ2luZyBjb250cm9scy5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBwcmVwYXJlUGFnZUxpbmtzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0dmFyICRwYWdlTGlua3MgPSAkaHRtbENvbnRhaW5lci5maW5kKCcuaXotcGFnZWxpbmssIC5pei1wYWdlbGluay1kaXJlY3Rpb24tYnRuJyk7XHJcblx0XHRpZiAoISRwYWdlTGlua3MubGVuZ3RoIHx8ICFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uUGFnaW5nQ2xpY2spKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkcGFnZUxpbmtzLCAoaVBhZ2VMaW5rLCBwYWdlTGluaykgPT4ge1xyXG5cdFx0XHRjb25zdCAkcGFnZUxpbmsgPSBhbmd1bGFyLmVsZW1lbnQocGFnZUxpbmspO1xyXG5cdFx0XHRjb25zdCBvbkNsaWNrU2NyaXB0ID0gU3RyaW5nKCRwYWdlTGluay5hdHRyKCdvbmNsaWNrJykpO1xyXG5cdFx0XHRjb25zdCBtYXRjaFJlc3VsdCA9IC9yZXN1bHRzPShcXGQrXFwtXFxkKykvZy5leGVjKG9uQ2xpY2tTY3JpcHQpO1xyXG5cdFx0XHRpZiAobWF0Y2hSZXN1bHQgJiYgbWF0Y2hSZXN1bHQubGVuZ3RoID09PSAyKVxyXG5cdFx0XHRcdCRwYWdlTGluay5hdHRyKCdkYXRhLWFjdGl2ZS1wYWdlJywgbWF0Y2hSZXN1bHRbMV0pO1xyXG5cdFx0XHQkcGFnZUxpbmsuYXR0cignb25jbGljaycsIG51bGwpO1xyXG5cdFx0XHQkcGFnZUxpbmsub24oJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdFx0dmFyICRjdXJyZW50TGluayA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHQkc2NvcGUub25QYWdpbmdDbGljayh7XHJcblx0XHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmsnLFxyXG5cdFx0XHRcdFx0YXJnMTogJGN1cnJlbnRMaW5rLmF0dHIoJ2RhdGEtYWN0aXZlLXBhZ2UnKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlICdvbmNsaWNrJyBldmVudCBhbmQgYWRkIG93biBjbGljayBldmVudC5cclxuXHQgKiBAcGFyYW0ge30gJHNjb3BlIGN1cnJlbnQgRGlyZWN0aXZlIHNjb3BlLlxyXG5cdCAqIEBwYXJhbSB7fSAkaHRtbENvbnRhaW5lciBSZXBvcnQgY29udGFpbmVyLCB3aGljaCBjb250YWlucyBwYWdpbmcgY29udHJvbHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZUdvVG9SZWNvcmRCdG4oJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUsICRodG1sQ29udGFpbmVyOiBKUXVlcnk8SFRNTEVsZW1lbnQ+KSB7XHJcblx0XHRjb25zdCAkYnRuID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLWdvLXRvLXBhZ2UtYnRuJyk7XHJcblx0XHQkYnRuLmF0dHIoJ29uY2xpY2snLCBudWxsKTtcclxuXHRcdCRidG4ub24oJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdGNvbnN0ICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRjb25zdCBpdGVtc0NvdW50ID0gcGFyc2VJbnQoU3RyaW5nKCR0aGlzLmF0dHIoJ2RhdGEtaXRlbXMtY291bnQnKSkpO1xyXG5cdFx0XHRjb25zdCBpdGVtc1BlclBhZ2UgPSBwYXJzZUludChTdHJpbmcoJHRoaXMuYXR0cignZGF0YS1pdGVtcy1wZXItcGFnZScpKSk7XHJcblx0XHRcdGxldCBpbnB1dFZhbHVlO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlucHV0VmFsdWUgPSBwYXJzZUludChTdHJpbmcoYW5ndWxhci5lbGVtZW50KCcjcGFnZU51bUVkJykudmFsKCkpKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGlucHV0VmFsdWUgPSAxO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpdGVtc0NvdW50IDwgaW5wdXRWYWx1ZSkgaW5wdXRWYWx1ZSA9IGl0ZW1zQ291bnQ7XHJcblx0XHRcdGNvbnN0IHN0YXJ0UmVjb3JkID0gaW5wdXRWYWx1ZSAtIChpbnB1dFZhbHVlIC0gMSkgJSBpdGVtc1BlclBhZ2U7XHJcblx0XHRcdGNvbnN0IGZpbmlzaFJlY29yZCA9IHN0YXJ0UmVjb3JkICsgaXRlbXNQZXJQYWdlIC0gMTtcclxuXHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdGFyZzA6ICdpei1wYWdlbGluay1leGFjdC1wYWdlLWlucHV0JyxcclxuXHRcdFx0XHRhcmcxOiBzdGFydFJlY29yZCArICctJyArIGZpbmlzaFJlY29yZFxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCRyb290U2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+XHJcblx0XHRcdG5ldyBJemVuZGFSZXBvcnRWaWV3ZXIoJHJvb3RTY29wZSwgJHRpbWVvdXQpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVJlcG9ydFZpZXdlcicsXHJcblx0Wyckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgSXplbmRhUmVwb3J0Vmlld2VyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVNlbGVjdENoZWNrYm94ZXNTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZXhpc3RlbnRWYWx1ZXM6IGFueTtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0aXNDaGVja2VkOiBhbnk7XHJcblx0Y2xpY2tDaGVja2JveDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogU2VsZWN0IGNoZWNrYm94ZXMgZGlyZWN0aXZlLiBcclxuICovXHJcbmNsYXNzIEl6ZW5kYVNlbGVjdENoZWNrYm94ZXMgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBRSc7XHJcblxyXG5cdHNjb3BlID0ge1xyXG5cdFx0ZXhpc3RlbnRWYWx1ZXM6ICc9JyxcclxuXHRcdG5nTW9kZWw6ICc9J1xyXG5cdH07XHJcblxyXG5cdHRlbXBsYXRlID1cclxuXHRcdGA8ZGl2IG5nLXJlcGVhdD1cImV4aXN0ZW50VmFsdWUgaW4gZXhpc3RlbnRWYWx1ZXNcIj5cclxuXHQ8bGFiZWwgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNlbGVjdC1jaGVja2JveGVzLWxhYmVsXCI+XHJcblx0XHQ8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctY2xpY2s9XCJjbGlja0NoZWNrYm94KGV4aXN0ZW50VmFsdWUpXCIgbmctY2hlY2tlZD1cImlzQ2hlY2tlZChleGlzdGVudFZhbHVlKVwiLz5cclxuXHRcdDxzcGFuIG5nLWJpbmQ9XCJleGlzdGVudFZhbHVlLnRleHRcIj48L3NwYW4+XHJcblx0PC9sYWJlbD5cclxuPC9kaXY+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVNlbGVjdENoZWNrYm94ZXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFTZWxlY3RDaGVja2JveGVzLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVNlbGVjdENoZWNrYm94ZXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2l6ZW5kYS1jb21tb24tc2VsZWN0LWNoZWNrYm94ZXMnKTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2V4aXN0ZW50VmFsdWVzJywgKCkgPT4gJHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpLCB0cnVlKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25nTW9kZWwnLCAoKSA9PiAkc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5uZ0NoYW5nZSkpO1xyXG5cclxuXHRcdFx0JHNjb3BlLmlzQ2hlY2tlZCA9IGV4aXN0ZW50VmFsdWUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHZpZXdWYWx1ZSA9ICRzY29wZS5uZ01vZGVsO1xyXG5cdFx0XHRcdHJldHVybiB2aWV3VmFsdWUuaW5kZXhPZihleGlzdGVudFZhbHVlLnZhbHVlKSA+PSAwO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHQkc2NvcGUuY2xpY2tDaGVja2JveCA9IGV4aXN0ZW50VmFsdWUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHZpZXdWYWx1ZSA9ICRzY29wZS5uZ01vZGVsO1xyXG5cdFx0XHRcdGlmICh2aWV3VmFsdWUuaW5kZXhPZihleGlzdGVudFZhbHVlLnZhbHVlKSA+PSAwKVxyXG5cdFx0XHRcdFx0dmlld1ZhbHVlLnNwbGljZSh2aWV3VmFsdWUuaW5kZXhPZihleGlzdGVudFZhbHVlLnZhbHVlKSwgMSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dmlld1ZhbHVlLnB1c2goZXhpc3RlbnRWYWx1ZS52YWx1ZSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVNlbGVjdENoZWNrYm94ZXMoKTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU2VsZWN0Q2hlY2tib3hlcycsIFtJemVuZGFTZWxlY3RDaGVja2JveGVzLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVNwbGFzaFNjcmVlblNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ1Nob3c6IGFueTtcclxuXHR0ZXh0OiBhbnk7XHJcblx0bG9hZGluZ0luZGljYXRvclVybDogYW55O1xyXG5cdHBhcmVudFNlbGVjdG9yOiBhbnk7XHJcbn1cclxuXHJcbmNsYXNzIEl6ZW5kYVNwbGFzaFNjcmVlbiBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0VBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdG5nU2hvdzogJz0nLFxyXG5cdFx0dGV4dDogJz0nLFxyXG5cdFx0bG9hZGluZ0luZGljYXRvclVybDogJ0AnLFxyXG5cdFx0cGFyZW50U2VsZWN0b3I6ICdAJ1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVNwbGFzaFNjcmVlblNjb3BlKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFTcGxhc2hTY3JlZW4ucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhU3BsYXNoU2NyZWVuU2NvcGUpID0+IHtcclxuXHJcblx0XHRcdHZhciBzcGxhc2hUaW1lb3V0OiBuZy5JUHJvbWlzZTxhbnk+ID0gbnVsbDtcclxuXHRcdFx0dmFyIHRlbXBsYXRlID1cclxuXHRcdFx0XHRgPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuIGhpZGRlblwiPlxyXG5cdDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi1pbm5lciB0ZXh0LWNlbnRlclwiPlxyXG5cdFx0PGltZyBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLWxvYWRpbmdcIi8+XHJcblx0XHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLXRleHRcIj48L3NwYW4+XHJcblx0PC9kaXY+XHJcbjwvZGl2PmA7XHJcblx0XHRcdGNvbnN0ICRlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlKTtcclxuXHRcdFx0bGV0IGFkZGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBsb2FkaW5nIHNwaW5uZXJcclxuXHRcdFx0Y29uc3QgZGVmYXVsdExvYWRpbmdJbmRpY2F0b3JVcmwgPSBhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5sb2FkaW5nSW5kaWNhdG9yVXJsKVxyXG5cdFx0XHRcdD8gJHNjb3BlLmxvYWRpbmdJbmRpY2F0b3JVcmxcclxuXHRcdFx0XHQ6ICRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybFJwUGFnZSArICdpbWFnZT1Nb2Rlcm5JbWFnZXMubG9hZGluZy1ncmlkLmdpZic7XHJcblx0XHRcdGNvbnN0IHBhcmVudFNlbGVjdG9yVGV4dCA9IGFuZ3VsYXIuaXNTdHJpbmcoJHNjb3BlLnBhcmVudFNlbGVjdG9yKSA/ICRzY29wZS5wYXJlbnRTZWxlY3RvciA6ICdib2R5JztcclxuXHRcdFx0bGV0IGJvZHlPdmVyZmxvdzogc3RyaW5nO1xyXG5cdFx0XHRsZXQgYm9keVBhZGRpbmc6IHN0cmluZztcclxuXHRcdFx0bGV0ICRib2R5OiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cclxuXHRcdFx0Y29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcclxuXHRcdFx0XHQkZWxlbWVudC5maW5kKCcuaXplbmRhLWNvbW1vbi1zcGxhc2hzY3JlZW4tbG9hZGluZycpLmF0dHIoJ3NyYycsIGRlZmF1bHRMb2FkaW5nSW5kaWNhdG9yVXJsKTtcclxuXHRcdFx0XHQkYm9keSA9IGFuZ3VsYXIuZWxlbWVudChwYXJlbnRTZWxlY3RvclRleHQpO1xyXG5cdFx0XHRcdGlmICgkYm9keS5sZW5ndGggPiAwICYmICFhZGRlZCkge1xyXG5cdFx0XHRcdFx0Ym9keU92ZXJmbG93ID0gJGJvZHkuY3NzKCdvdmVyZmxvdycpO1xyXG5cdFx0XHRcdFx0Ym9keVBhZGRpbmcgPSAkYm9keS5jc3MoJ3BhZGRpbmctbGVmdCcpO1xyXG5cdFx0XHRcdFx0JGJvZHkuYXBwZW5kKCRlbGVtZW50KTtcclxuXHRcdFx0XHRcdGFkZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBzZXRUZXh0ID0gKCkgPT4ge1xyXG5cdFx0XHRcdHZhciAkaW5uZXIgPSAkZWxlbWVudC5maW5kKCcuaXplbmRhLWNvbW1vbi1zcGxhc2hzY3JlZW4tdGV4dCcpO1xyXG5cdFx0XHRcdCRpbm5lci50ZXh0KCRzY29wZS50ZXh0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgYm9keUhhc1Njcm9sbGJhciA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gJGJvZHkubGVuZ3RoID4gMCAmJiAkYm9keS5nZXQoMCkuc2Nyb2xsSGVpZ2h0ID4gJGJvZHkuaGVpZ2h0KCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBzaG93U3BsYXNoID0gKCkgPT4ge1xyXG5cdFx0XHRcdGluaXRpYWxpemUoKTtcclxuXHRcdFx0XHRpZiAoc3BsYXNoVGltZW91dCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQuY2FuY2VsKHNwbGFzaFRpbWVvdXQpO1xyXG5cdFx0XHRcdFx0c3BsYXNoVGltZW91dCA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNwbGFzaFRpbWVvdXQgPSAkdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRib2R5T3ZlcmZsb3cgPSAkYm9keS5jc3MoJ292ZXJmbG93Jyk7XHJcblx0XHRcdFx0XHQkYm9keS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0aWYgKGJvZHlIYXNTY3JvbGxiYXIoKSkge1xyXG5cdFx0XHRcdFx0XHRib2R5UGFkZGluZyA9ICRib2R5LmNzcygncGFkZGluZy1sZWZ0Jyk7XHJcblx0XHRcdFx0XHRcdCRib2R5LmNzcygncGFkZGluZy1yaWdodCcsICcxN3B4Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBoaWRlU3BsYXNoID0gKCkgPT4ge1xyXG5cdFx0XHRcdGluaXRpYWxpemUoKTtcclxuXHRcdFx0XHRpZiAoc3BsYXNoVGltZW91dCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQuY2FuY2VsKHNwbGFzaFRpbWVvdXQpO1xyXG5cdFx0XHRcdFx0c3BsYXNoVGltZW91dCA9IG51bGw7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHQkYm9keS5jc3MoJ292ZXJmbG93JywgYm9keU92ZXJmbG93KTtcclxuXHRcdFx0XHRcdGlmIChib2R5SGFzU2Nyb2xsYmFyKCkpIHtcclxuXHRcdFx0XHRcdFx0JGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZGRpbmcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nU2hvdycsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbClcclxuXHRcdFx0XHRcdHNob3dTcGxhc2goKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRoaWRlU3BsYXNoKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndGV4dCcsICgpID0+IHNldFRleHQoKSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UpID0+IG5ldyBJemVuZGFTcGxhc2hTY3JlZW4oJHRpbWVvdXQsICRpemVuZGFVcmxTZXJ2aWNlKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCcsICckaXplbmRhVXJsU2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU3BsYXNoU2NyZWVuJywgWyckdGltZW91dCcsICckaXplbmRhVXJsU2VydmljZScsIEl6ZW5kYVNwbGFzaFNjcmVlbi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTd2l0Y2hlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0b29sdGlwOiBzdHJpbmc7XHJcblx0bGFiZWw6IHN0cmluZztcclxuXHRuZ01vZGVsOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogU3dpdGNoZXIgZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFTd2l0Y2hlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cclxuXHRzY29wZSA9IHtcclxuXHRcdHRvb2x0aXA6ICc9JyxcclxuXHRcdGxhYmVsOiAnPScsXHJcblx0XHRuZ01vZGVsOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPHNwYW4gbmctc2hvdz1cImxhYmVsICE9IG51bGwgJiYgbGFiZWwgIT0gJydcIiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItbGFiZWxcIj57e2xhYmVsfX08L3NwYW4+XHJcbjxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zd2l0Y2hlclwiIHRpdGxlPVwie3t0b29sdGlwfX1cIj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItdGV4dC1vZmZcIj5PPC9zcGFuPlxyXG5cdDxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zd2l0Y2hlci1pdGVtXCI+PC9zcGFuPlxyXG5cdDxzcGFuIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zd2l0Y2hlci10ZXh0LW9uXCI+STwvc3Bhbj5cclxuPC9zcGFuPmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTd2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFTd2l0Y2hlci5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFTd2l0Y2hlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0JGVsZW1lbnQuY2xpY2soZSA9PiB7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHQkc2NvcGUubmdNb2RlbCA9ICEkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHQkc2NvcGUuJHBhcmVudC4kYXBwbHkoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciAkc3dpdGNoZXIgPSAkZWxlbWVudC5maW5kKCcuaXplbmRhLWNvbW1vbi1zd2l0Y2hlcicpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgKG5ld1ZhbDogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpXHJcblx0XHRcdFx0XHQkc3dpdGNoZXIuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0JHN3aXRjaGVyLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhU3dpdGNoZXIoKTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFTd2l0Y2hlcicsIFtJemVuZGFTd2l0Y2hlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFUb2dnbGVCdXR0b25TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dHJ1ZVZhbHVlOiBhbnk7XHJcblx0ZmFsc2VWYWx1ZTogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogVG9nZ2xlIGJ1dHRvbiBkaXJlY3RpdmVcclxuICovXHJcbmNsYXNzIEl6ZW5kYVRvZ2dsZUJ1dHRvbiBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0VBJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRyZXF1aXJlID0gWyduZ01vZGVsJ107XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0cnVlVmFsdWU6ICc9JyxcclxuXHRcdGZhbHNlVmFsdWU6ICc9J1xyXG5cdH07XHJcblxyXG5cdHRlbXBsYXRlID1cclxuXHRcdGA8c3BhbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gaXplbmRhLXRvZ2dsZS1idXR0b24tYnRuIGFjdGl2ZVwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uXCI+XHJcblx0PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPlxyXG48L3NwYW4+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRvZ2dsZUJ1dHRvblNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzLCByZXF1aXJlZFBhcmFtczogbmcuSUNvbnRyb2xsZXIpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRvZ2dsZUJ1dHRvblNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzLFxyXG5cdFx0XHRyZXF1aXJlZFBhcmFtczogbmcuSUNvbnRyb2xsZXIpID0+IHtcclxuXHRcdFx0Y29uc3QgbmdNb2RlbDogYW55ID0gcmVxdWlyZWRQYXJhbXNbMF07XHJcblx0XHRcdGNvbnN0IGJ0biA9ICRlbGVtZW50LmNoaWxkcmVuKCcuYnRuJyk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0cnMubmdNb2RlbCwgKG5ld1ZhbCwgb2xkVmFsKSA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbCA9PT0gb2xkVmFsKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT0gJHNjb3BlLnRydWVWYWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKGJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdFx0YnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAobmV3VmFsID09ICRzY29wZS5mYWxzZVZhbHVlKSB7XHJcblx0XHRcdFx0XHRpZiAoIWJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdFx0YnRuLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmIChuZ01vZGVsLiR2aWV3VmFsdWUgPT09ICRzY29wZS50cnVlVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAoYnRuLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0YnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAobmdNb2RlbC4kdmlld1ZhbHVlID09PSAkc2NvcGUuZmFsc2VWYWx1ZSkge1xyXG5cdFx0XHRcdGlmICghYnRuLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0YnRuLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRlbGVtZW50Lm9uKCdjbGljaycsICgpID0+IG5nTW9kZWwuJHNldFZpZXdWYWx1ZSghbmdNb2RlbC4kdmlld1ZhbHVlKSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVRvZ2dsZUJ1dHRvbigpO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUb2dnbGVCdXR0b24nLCBbSXplbmRhVG9nZ2xlQnV0dG9uLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IERhdGVUaW1lRm9ybWF0IH0gZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTY2hlZHVsZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNjaGVkdWxlIGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTY2hlZHVsZUNvbXBvbmVudCcsXHJcblx0WyckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2NoZWR1bGUuc2NoZWR1bGUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRzY2hlZHVsZUNvbmZpZzogJz0nLFxyXG5cdFx0XHRyZXBlYXRUeXBlczogJzwnLFxyXG5cdFx0XHRlbWFpbFR5cGVzOiAnPCcsXHJcblx0XHRcdHRpbWV6b25lczogJzwnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2NoZWR1bGVDb21wb25lbnQge1xyXG5cdGRhdGVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0O1xyXG5cdGN1bHR1cmU6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNjaGVkdWxlU2VydmljZTogSXplbmRhU2NoZWR1bGVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb21wb25lbnQgaW5pdFxyXG5cdCAqL1xyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZGF0ZUZvcm1hdDtcclxuXHRcdHRoaXMuY3VsdHVyZSA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5jdWx0dXJlO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCByZXBvcnQgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhVWlNb2R1bGUsXHJcblx0J2l6ZW5kYVNlbGVjdFJlcG9ydENvbXBvbmVudCcsXHJcblx0WyckdGltZW91dCcsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2VsZWN0LXJlcG9ydC5zZWxlY3QtcmVwb3J0LXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0b3BlbmVkOiAnPCcsXHJcblx0XHRcdG9uU2VsZWN0ZWQ6ICcmJyxcclxuXHRcdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2VsZWN0UmVwb3J0Q29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdW5jYXRlZ29yaXplZFRleHQ6IHN0cmluZztcclxuXHQvLyBiaW5kaW5nc1xyXG5cdG9wZW5lZDogYm9vbGVhbjtcclxuXHRvblNlbGVjdGVkOiAocGFyYW06IGFueSkgPT4gdm9pZDtcclxuXHRvbk1vZGFsQ2xvc2VkOiAocGFyYW06IGFueSkgPT4gdm9pZDtcclxuXHQvLyBvdGhlclxyXG5cdG9wZW5lZElubmVyOiBib29sZWFuO1xyXG5cdGNhdGVnb3J5OiBzdHJpbmc7XHJcblx0Y2F0ZWdvcmllczogc3RyaW5nW107XHJcblx0Z3JvdXBzOiBhbnlbXTtcclxuXHRpc0xvYWRpbmc6IGJvb2xlYW47XHJcblx0aGlkZUFsbDogYm9vbGVhbjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSkge1xyXG5cclxuXHRcdHRoaXMudW5jYXRlZ29yaXplZFRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0JG9uQ2hhbmdlcyhjaGFuZ2VzT2JqKSB7XHJcblx0XHRpZiAoIWNoYW5nZXNPYmoub3BlbmVkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBjdXJyZW50T3BlbmVkID0gY2hhbmdlc09iai5vcGVuZWQuY3VycmVudFZhbHVlO1xyXG5cdFx0aWYgKGN1cnJlbnRPcGVuZWQpIHtcclxuXHRcdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0XHR0aGlzLm9wZW5lZElubmVyID0gdHJ1ZTtcclxuXHRcdFx0Ly8gdGltZW91dCBpcyBuZWVkZWQgZm9yIHRoZSBzbW9vdGhlciBtb2RhbCBhbmltYXRpb25cclxuXHRcdFx0dGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5oaWRlQWxsID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMudW5jYXRlZ29yaXplZFRleHQpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRDYXRlZ29yaWVzVG9Nb2RhbChyZXBvcnRTZXRzKTtcclxuXHRcdFx0XHRcdHRoaXMuYWRkUmVwb3J0c1RvTW9kYWwocmVwb3J0U2V0cyk7XHJcblx0XHRcdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnQgcGFydHMgdG8gbW9kYWxcclxuXHQgKi9cclxuXHRhZGRSZXBvcnRQYXJ0c1RvTW9kYWwocmVwb3J0UGFydHM6IGFueVtdKSB7XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0aWYgKCFyZXBvcnRQYXJ0cyB8fCAhcmVwb3J0UGFydHMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Ly8gYWRkIGdyb3VwczpcclxuXHRcdGxldCBjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVwb3J0UGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5ncm91cHMucHVzaChjdXJyZW50R3JvdXApO1xyXG5cdFx0XHRcdGN1cnJlbnRHcm91cCA9IFtdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlcG9ydFBhcnQgPSByZXBvcnRQYXJ0c1tpXTtcclxuXHRcdFx0cmVwb3J0UGFydC5pc1JlcG9ydFBhcnQgPSB0cnVlO1xyXG5cdFx0XHRjdXJyZW50R3JvdXAucHVzaChyZXBvcnRQYXJ0KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByZXBvcnRzZXQgY2F0ZWdvcmllcyB0byBtb2RhbCBzZWxlY3QgY29udHJvbC5cclxuXHQgKi9cclxuXHRhZGRDYXRlZ29yaWVzVG9Nb2RhbChyZXBvcnRTZXRzOiBhbnlbXSkge1xyXG5cdFx0aWYgKCFyZXBvcnRTZXRzKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSByZXBvcnRTZXRzXHJcblx0XHRcdC5maWx0ZXIocmVwb3J0ID0+ICFyZXBvcnQuRGFzaGJvYXJkKVxyXG5cdFx0XHQubWFwPHN0cmluZz4ocmVwb3J0ID0+IHtcclxuXHRcdFx0XHRjb25zdCBjYXRlZ29yeSA9IHJlcG9ydC5DYXRlZ29yeSA/IHJlcG9ydC5DYXRlZ29yeSA6IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHRcdFx0cmV0dXJuICFyZXBvcnQuU3ViY2F0ZWdvcnlcclxuXHRcdFx0XHRcdD8gY2F0ZWdvcnlcclxuXHRcdFx0XHRcdDogY2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydC5TdWJjYXRlZ29yeTtcclxuXHRcdFx0fSk7XHJcblx0XHQvLyBtYWtlIGNhdGVnb3JpZXMgdW5pcXVlXHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQ8c3RyaW5nPih0aGlzLmNhdGVnb3JpZXMpKTtcclxuXHRcdGlmICghdGhpcy5jYXRlZ29yeSlcclxuXHRcdFx0dGhpcy5jYXRlZ29yeSA9IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVwb3J0IHRvIG1vZGFsIGRpYWxvZyBib2R5LlxyXG5cdCAqL1xyXG5cdGFkZFJlcG9ydHNUb01vZGFsKHJlcG9ydFNldHM6IGFueVtdKSB7XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0bGV0IHJlcG9ydFNldHNUb1Nob3cgPSBbXTtcclxuXHJcblx0XHRpZiAocmVwb3J0U2V0cyAmJiByZXBvcnRTZXRzLmxlbmd0aClcclxuXHRcdFx0cmVwb3J0U2V0c1RvU2hvdyA9IHJlcG9ydFNldHMuZmlsdGVyKHJzID0+ICFycy5EYXNoYm9hcmQgJiYgcnMuTmFtZSk7XHJcblx0XHRpZiAoIXJlcG9ydFNldHNUb1Nob3cgfHwgIXJlcG9ydFNldHNUb1Nob3cubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0Ly8gYWRkIGdyb3VwczpcclxuXHRcdGxldCBjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdHRoaXMuZ3JvdXBzLmxlbmd0aCA9IDA7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlcG9ydFNldHNUb1Nob3cubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5ncm91cHMucHVzaChjdXJyZW50R3JvdXApO1xyXG5cdFx0XHRcdGN1cnJlbnRHcm91cCA9IFtdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlcG9ydFNldCA9IHJlcG9ydFNldHNUb1Nob3dbaV07XHJcblx0XHRcdHJlcG9ydFNldC5pc1JlcG9ydFBhcnQgPSBmYWxzZTtcclxuXHRcdFx0Y3VycmVudEdyb3VwLnB1c2gocmVwb3J0U2V0KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbGVjdCBjYXRlZ29yeSBoYW5kbGVyXHJcblx0ICovXHJcblx0Y2F0ZWdvcnlDaGFuZ2VkSGFuZGxlcigpIHtcclxuXHRcdGlmICh0aGlzLmlzTG9hZGluZylcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdGlmICghdGhpcy5jYXRlZ29yeSlcclxuXHRcdFx0dGhpcy5jYXRlZ29yeSA9IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0UmVwb3J0U2V0Q2F0ZWdvcnkodGhpcy5jYXRlZ29yeSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0dGhpcy5hZGRSZXBvcnRzVG9Nb2RhbChkYXRhLlJlcG9ydFNldHMpO1xyXG5cdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNb2RhbCBjbG9zZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG1vZGFsQ2xvc2VkSGFuZGxlcigpIHtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vbk1vZGFsQ2xvc2VkKSlcclxuXHRcdFx0dGhpcy5vbk1vZGFsQ2xvc2VkKHt9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVzZXIgY2xpY2tlZCB0byByZXBvcnQgc2V0IGl0ZW1cclxuXHQgKi9cclxuXHRpdGVtU2VsZWN0ZWRIYW5kbGVyKGl0ZW0pIHtcclxuXHRcdGNvbnN0IGlzUmVwb3J0UGFydCA9IGl0ZW0uaXNSZXBvcnRQYXJ0O1xyXG5cdFx0bGV0IHJlcG9ydEZ1bGxOYW1lID0gaXRlbS5OYW1lO1xyXG5cclxuXHRcdGlmIChpdGVtLkNhdGVnb3J5RnVsbClcclxuXHRcdFx0cmVwb3J0RnVsbE5hbWUgPSBpdGVtLkNhdGVnb3J5RnVsbCArIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVwb3J0RnVsbE5hbWU7XHJcblxyXG5cdFx0aWYgKCFpc1JlcG9ydFBhcnQpIHtcclxuXHRcdFx0Ly8gaWYgcmVwb3J0IHNldCBzZWxlY3RlZFxyXG5cdFx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5nZXRSZXBvcnRQYXJ0cyhyZXBvcnRGdWxsTmFtZSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHR2YXIgcmVwb3J0cyA9IGRhdGEuUmVwb3J0cztcclxuXHRcdFx0XHR0aGlzLmFkZFJlcG9ydFBhcnRzVG9Nb2RhbChyZXBvcnRzKTtcclxuXHRcdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMub3BlbmVkSW5uZXIgPSBmYWxzZTtcclxuXHRcdFx0Ly8gaWYgcmVwb3J0IHBhcnQgc2VsZWN0ZWRcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uU2VsZWN0ZWQpKVxyXG5cdFx0XHRcdHRoaXMub25TZWxlY3RlZCh7IHJlcG9ydFBhcnRJbmZvOiBpdGVtIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVzZXQgZm9ybVxyXG5cdCAqL1xyXG5cdHJlc2V0KCkge1xyXG5cdFx0dGhpcy5vcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdFx0dGhpcy5jYXRlZ29yeSA9IHRoaXMudW5jYXRlZ29yaXplZFRleHQ7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHR0aGlzLmhpZGVBbGwgPSB0cnVlO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCByZXBvcnQgbmFtZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2VsZWN0UmVwb3J0TmFtZUNvbXBvbmVudCcsXHJcblx0WyckcScsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnLCAnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQnLFxyXG5cdFx0J2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUVtcHR5RXJyb3InLCAnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW52YWxpZEVycm9yJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi51aS5jb21wb25lbnRzLnNlbGVjdC1yZXBvcnQtbmFtZS5zZWxlY3QtcmVwb3J0LW5hbWUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRvcGVuZWQ6ICc8JyxcclxuXHRcdFx0b25TZWxlY3RlZDogJyYnLFxyXG5cdFx0XHRvbk1vZGFsQ2xvc2VkOiAnJidcclxuXHRcdH1cclxuXHR9KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTZWxlY3RSZXBvcnROYW1lQ29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdC8vIGJpbmRpbmdzXHJcblx0b25TZWxlY3RlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0b25Nb2RhbENsb3NlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0Ly8gb3RoZXJcclxuXHRwcml2YXRlIG5leHRJZDogbnVtYmVyID0gMTtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHRleHRDcmVhdGVOZXc6IHN0cmluZztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHRleHRVbmNhdGVnb3JpemVkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JSZXBvcnROYW1lRW1wdHk6IHN0cmluZztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHRleHRFcnJvckludmFsaWRSZXBvcnROYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JJbnZhbGlkQ2F0ZWdvcnlOYW1lOiBzdHJpbmc7XHJcblxyXG5cdGlzQ2F0ZWdvcnlBbGxvd2VkOiBib29sZWFuO1xyXG5cdGlzT3BlbmVkSW5uZXI6IGJvb2xlYW47XHJcblx0aXNOZXdSZXBvcnREaWFsb2c6IGJvb2xlYW47XHJcblx0aXNDcmVhdGluZ05ld0NhdGVnb3J5OiBib29sZWFuO1xyXG5cdGlzU2VsZWN0RGlzYWJsZWQ6IGJvb2xlYW47XHJcblx0aXNOYW1lRm9jdXNlZDogYm9vbGVhbjtcclxuXHRpc0NhdGVnb3J5Rm9jdXNlZDogYm9vbGVhbjtcclxuXHJcblx0cmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0OiBzdHJpbmc7XHJcblx0cmVwb3J0TmFtZTogc3RyaW5nO1xyXG5cdG5ld0NhdGVnb3J5TmFtZTogc3RyaW5nO1xyXG5cdGNhdGVnb3JpZXM6IEFycmF5PENhdGVnb3J5T2JqZWN0PjtcclxuXHRzZWxlY3RlZENhdGVnb3J5OiBDYXRlZ29yeU9iamVjdDtcclxuXHRyZXBvcnRTZXRzOiBhbnlbXTtcclxuXHRlcnJvck1lc3NhZ2VzOiBzdHJpbmdbXTtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25RdWVyeVNlcnZpY2U6IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSxcclxuXHRcdHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dDogc3RyaW5nW10sXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJlcG9ydE5hbWVFbXB0eUVycm9yOiBzdHJpbmcsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJlcG9ydE5hbWVJbnZhbGlkRXJyb3I6IHN0cmluZykge1xyXG5cclxuXHRcdHRoaXMuaXNDYXRlZ29yeUFsbG93ZWQgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCkuc2hvd0NhdGVnb3J5VGV4dGJveEluU2F2ZURpYWxvZztcclxuXHRcdHRoaXMucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZVxyXG5cdFx0XHQubG9jYWxlVGV4dChyZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHRbMF0sIHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dFsxXSk7XHJcblx0XHR0aGlzLnRleHRDcmVhdGVOZXcgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19DcmVhdGVOZXcnLCAnQ3JlYXRlIE5ldycpO1xyXG5cdFx0dGhpcy50ZXh0VW5jYXRlZ29yaXplZCA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cdFx0dGhpcy50ZXh0RXJyb3JSZXBvcnROYW1lRW1wdHkgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KHJlcG9ydE5hbWVFbXB0eUVycm9yWzBdLCByZXBvcnROYW1lRW1wdHlFcnJvclsxXSk7XHJcblx0XHR0aGlzLnRleHRFcnJvckludmFsaWRSZXBvcnROYW1lID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChyZXBvcnROYW1lSW52YWxpZEVycm9yWzBdLCByZXBvcnROYW1lSW52YWxpZEVycm9yWzFdKTtcclxuXHRcdHRoaXMudGV4dEVycm9ySW52YWxpZENhdGVnb3J5TmFtZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ludmFsaWRDYXRlZ29yeU5hbWUnLCAnSW52YWxpZCBDYXRlZ29yeSBOYW1lJyk7XHJcblxyXG5cdFx0dGhpcy5pc09wZW5lZElubmVyID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzTmV3UmVwb3J0RGlhbG9nID0gZmFsc2U7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWUgPSAnJztcclxuXHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9ICcnO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0dGhpcy5pc1NlbGVjdERpc2FibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVwb3J0U2V0cyA9IFtdO1xyXG5cdFx0dGhpcy5lcnJvck1lc3NhZ2VzID0gW107XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iaikge1xyXG5cdFx0aWYgKGNoYW5nZXNPYmoub3BlbmVkKSB7XHJcblx0XHRcdHZhciBjdXJyZW50T3BlbmVkID0gY2hhbmdlc09iai5vcGVuZWQuY3VycmVudFZhbHVlO1xyXG5cdFx0XHRpZiAoY3VycmVudE9wZW5lZClcclxuXHRcdFx0XHR0aGlzLm9wZW5Nb2RhbCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW9kYWwgY2xvc2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRtb2RhbENsb3NlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25Nb2RhbENsb3NlZCkpXHJcblx0XHRcdHRoaXMub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2dcclxuXHQgKi9cclxuXHRjbG9zZU1vZGFsKCkge1xyXG5cdFx0dGhpcy5pc09wZW5lZElubmVyID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIG1vZGFsIGRpYWxvZ1xyXG5cdCAqL1xyXG5cdG9wZW5Nb2RhbCgpIHtcclxuXHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLmlzT3BlbmVkSW5uZXIgPSB0cnVlO1xyXG5cdFx0dGhpcy5yZXNldEZvcm0oKTtcclxuXHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCk7XHJcblx0XHR0aGlzLm5leHRJZCA9IDE7XHJcblxyXG5cdFx0Ly8gc2hvdyBsb2FkaW5nIG1lc3NhZ2UgaW5zaWRlIHNlbGVjdCBjb250cm9sXHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbXTtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcy5wdXNoKHtcclxuXHRcdFx0aWQ6IC0xLFxyXG5cdFx0XHRuYW1lOiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0xvYWRpbmcnLCAnTG9hZGluZy4uLicpXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcmllc1swXTtcclxuXHRcdHRoaXMucmVwb3J0TmFtZSA9IHJlcG9ydEluZm8ubmFtZTtcclxuXHJcblx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0UmVwb3J0U2V0Q2F0ZWdvcnkodGhpcy50ZXh0VW5jYXRlZ29yaXplZCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IG51bGw7XHJcblx0XHRcdHRoaXMucmVwb3J0U2V0cyA9IGRhdGEuUmVwb3J0U2V0cztcclxuXHJcblx0XHRcdC8vIGFkZCBjYXRlZ29yaWVzXHJcblx0XHRcdC8vIFwiQ3JlYXRlIG5ld1wiXHJcblx0XHRcdGlmICh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q29tbW9uU2V0dGluZ3MoKS5hbGxvd0NyZWF0ZU5ld0NhdGVnb3J5KVxyXG5cdFx0XHRcdHRoaXMuY2F0ZWdvcmllcy5wdXNoKHtcclxuXHRcdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdFx0bmFtZTogdGhpcy50ZXh0Q3JlYXRlTmV3XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBcIlVuY2F0ZWdvcml6ZWRcIlxyXG5cdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdFx0aWQ6IHRoaXMubmV4dElkKyssXHJcblx0XHRcdFx0bmFtZTogdGhpcy50ZXh0VW5jYXRlZ29yaXplZFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZSh0aGlzLnRleHRVbmNhdGVnb3JpemVkKTtcclxuXHJcblx0XHRcdC8vIE90aGVyIGNhdGVnb3JpZXNcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheSh0aGlzLnJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0dGhpcy5yZXBvcnRTZXRzLmZvckVhY2gocmVwb3J0ID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGlkID0gdGhpcy5uZXh0SWQrKztcclxuXHRcdFx0XHRcdGxldCBjdXJyZW50Q2F0ZWdvcnlOYW1lID0gcmVwb3J0LkNhdGVnb3J5O1xyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50Q2F0ZWdvcnlOYW1lKVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gdGhpcy50ZXh0VW5jYXRlZ29yaXplZDtcclxuXHRcdFx0XHRcdGN1cnJlbnRDYXRlZ29yeU5hbWUgPSAhcmVwb3J0LlN1YmNhdGVnb3J5XHJcblx0XHRcdFx0XHRcdD8gY3VycmVudENhdGVnb3J5TmFtZVxyXG5cdFx0XHRcdFx0XHQ6IGN1cnJlbnRDYXRlZ29yeU5hbWUgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydC5TdWJjYXRlZ29yeTtcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5jYXRlZ29yaWVzICYmIHRoaXMuY2F0ZWdvcmllcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLmNhdGVnb3JpZXMuZmluZChjID0+IGMubmFtZSA9PT0gY3VycmVudENhdGVnb3J5TmFtZSkpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBoYXZlJ3QgYWxyZWFkeSBhZGRlZFxyXG5cdFx0XHRcdFx0XHRcdHZhciBjYXQgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZDogaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBjdXJyZW50Q2F0ZWdvcnlOYW1lXHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaChjYXQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChyZXBvcnRJbmZvLmNhdGVnb3J5ID09PSBjdXJyZW50Q2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBjYXQ7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcIkVudGVyXCIgYnV0dG9uIGtleSBwcmVzcyBoYW5kbGVyIGZvciByZXBvcnQgbmFtZSA8aW5wdXQ+XHJcblx0ICogQHBhcmFtIHtldmVudCBvYmplY3R9ICRldmVudC5cclxuXHQgKi9cclxuXHRyZXBvcnROYW1lS2V5UHJlc3NlZCgkZXZlbnQ6IEpRdWVyeS5FdmVudCkge1xyXG5cdFx0aWYgKCRldmVudC5rZXlDb2RlID09PSBKUXVlcnkuS2V5LkVudGVyKVxyXG5cdFx0XHR0aGlzLmNvbXBsZXRlSGFuZGxlcigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT0sgYnV0dG9uIHByZXNzZWRcclxuXHQgKi9cclxuXHRjb21wbGV0ZUhhbmRsZXIoKSB7XHJcblx0XHR0aGlzLnZhbGlkYXRlRm9ybSgpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNsb3NlTW9kYWwoKTtcclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlOYW1lID0gdGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPyB0aGlzLm5ld0NhdGVnb3J5TmFtZSA6IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25TZWxlY3RlZCkpIHtcclxuXHRcdFx0XHR0aGlzLm9uU2VsZWN0ZWQoe1xyXG5cdFx0XHRcdFx0cmVwb3J0TmFtZTogdGhpcy5yZXBvcnROYW1lLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnlOYW1lOiBjYXRlZ29yeU5hbWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgKCkgPT4geyB9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgd2l0aCBnaXZlbiBuYW1lIGZyb20gcmVwb3J0IGxpc3RcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gbGlzdCB3aXRoIHJlcG9ydHMuXHJcblx0ICovXHJcblx0aXNSZXBvcnRJblJlcG9ydExpc3QocmVwb3J0TmFtZTogc3RyaW5nLCByZXBvcnRMaXN0OiBhbnlbXSk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFyZXBvcnRMaXN0IHx8ICFyZXBvcnRMaXN0Lmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIHJlcG9ydExpc3QuZmluZChycyA9PiBycy5OYW1lID09PSByZXBvcnROYW1lLnRyaW0oKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZm9ybSB0byBpdCdzIGluaXRpYWwgc3RhdGVcclxuXHQgKi9cclxuXHRyZXNldEZvcm0oKSB7XHJcblx0XHRjb25zdCByZXBvcnRJbmZvID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCk7XHJcblx0XHR0aGlzLmVycm9yTWVzc2FnZXMgPSBbXTtcclxuXHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9ICcnO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0dGhpcy5pc1NlbGVjdERpc2FibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVwb3J0U2V0cyA9IFtdO1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gZmFsc2U7XHJcblx0XHRpZiAodGhpcy5pc05ld1JlcG9ydERpYWxvZykge1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IHNlcGFyYXRvckluZGV4ID0gKHJlcG9ydEluZm8gJiYgcmVwb3J0SW5mby5uYW1lKVxyXG5cdFx0XHRcdD8gcmVwb3J0SW5mby5uYW1lLmxhc3RJbmRleE9mKHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpKVxyXG5cdFx0XHRcdDogLTE7XHJcblx0XHRcdHRoaXMucmVwb3J0TmFtZSA9IChzZXBhcmF0b3JJbmRleCA8IDApID8gcmVwb3J0SW5mby5uYW1lIDogcmVwb3J0SW5mby5uYW1lLnN1YnN0cihzZXBhcmF0b3JJbmRleCArIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xlYXIgYWxsIGZvY3VzXHJcblx0ICovXHJcblx0Y2xlYXJGb2N1cygpIHtcclxuXHRcdHRoaXMuaXNOYW1lRm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0NhdGVnb3J5Rm9jdXNlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZvY3VzIG9uIHJlcG9ydCBuYW1lIGlucHV0XHJcblx0ICovXHJcblx0c2V0Rm9jdXMoKSB7XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2F0ZWdvcmllcyB3ZXJlIHVwZGF0ZWQuXHJcblx0ICovXHJcblx0dXBkYXRlQ2F0ZWdvcmllc0hhbmRsZXIobmV3Q2F0ZWdvcmllczogc3RyaW5nW10pIHtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IG5ld0NhdGVnb3JpZXMubWFwKG5ld0NhdGVnb3J5TmFtZSA9PiB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0aWQ6IHRoaXMubmV4dElkKyssXHJcblx0XHRcdFx0bmFtZTogbmV3Q2F0ZWdvcnlOYW1lXHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnlOYW1lID0gdGhpcy5zZWxlY3RlZENhdGVnb3J5ID8gdGhpcy5zZWxlY3RlZENhdGVnb3J5Lm5hbWUgOiBudWxsO1xyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZShzZWxlY3RlZENhdGVnb3J5TmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXBvcnQgY2F0ZWdvcnkgc2VsZWN0ZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdGNhdGVnb3J5U2VsZWN0ZWRIYW5kbGVyKGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuXHRcdGlmICghdGhpcy5pc0NhdGVnb3J5QWxsb3dlZCkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSB0aGlzLmdldENhdGVnb3J5T2JqZWN0QnlOYW1lKHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZShjYXRlZ29yeSk7XHJcblx0XHRpZiAodGhpcy5zZWxlY3RlZENhdGVnb3J5ICE9PSBudWxsKSB7XHJcblx0XHRcdGlmICh0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZSA9PT0gdGhpcy50ZXh0Q3JlYXRlTmV3KSB7XHJcblx0XHRcdFx0dGhpcy5pc0NyZWF0aW5nTmV3Q2F0ZWdvcnkgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMuY2xlYXJGb2N1cygpO1xyXG5cdFx0XHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSBmb3JtXHJcblx0ICovXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZUZvcm0oKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgcmVwb3J0IG5hbWUgbm90IGVtcHR5XHJcblx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5sZW5ndGggPSAwO1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSBhbmd1bGFyLmlzU3RyaW5nKHRoaXMucmVwb3J0TmFtZSkgPyB0aGlzLnJlcG9ydE5hbWUudHJpbSgpIDogJyc7XHJcblx0XHRcdGlmICghdGhpcy5yZXBvcnROYW1lKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JSZXBvcnROYW1lRW1wdHkpO1xyXG5cdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2hlY2sgcmVwb3J0IG5hbWUgaXMgdmFsaWRcclxuXHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCk7XHJcblx0XHRcdHZhciByZXBvcnROYW1lRml4ZWQgPSB3aW5kb3cudXRpbGl0eS5maXhSZXBvcnROYW1lUGF0aCh0aGlzLnJlcG9ydE5hbWUsXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCksXHJcblx0XHRcdFx0c2V0dGluZ3Muc3RyaXBJbnZhbGlkQ2hhcmFjdGVycyxcclxuXHRcdFx0XHRzZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzKTtcclxuXHRcdFx0aWYgKCFyZXBvcnROYW1lRml4ZWQpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLnRleHRFcnJvckludmFsaWRSZXBvcnROYW1lKTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gcmVwb3J0TmFtZUZpeGVkO1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgY2F0ZWdvcnlcclxuXHRcdFx0aWYgKHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5KSB7XHJcblx0XHRcdFx0dmFyIGZpeGVkQ2F0ZWdvcnlOYW1lID0gd2luZG93LnV0aWxpdHkuZml4UmVwb3J0TmFtZVBhdGgodGhpcy5uZXdDYXRlZ29yeU5hbWUsXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSxcclxuXHRcdFx0XHRcdHNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnMsXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzKTtcclxuXHRcdFx0XHRpZiAoIWZpeGVkQ2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLnRleHRFcnJvckludmFsaWRDYXRlZ29yeU5hbWUpO1xyXG5cdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMubmV3Q2F0ZWdvcnlOYW1lID0gZml4ZWRDYXRlZ29yeU5hbWU7XHJcblxyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXRlZ29yaWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5uZXdDYXRlZ29yeU5hbWUgPT09IHRoaXMuY2F0ZWdvcmllc1tpXVsnbmFtZSddKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMuZ2V0RXJyb3JUZXh0Q2F0ZWdvcnlFeGlzdCh0aGlzLm5ld0NhdGVnb3J5TmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lXHJcblx0XHRcdHZhciBzZWxlY3RlZENhdGVnb3J5TmFtZSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lO1xyXG5cclxuXHRcdFx0Ly8gcmVzb2x2ZSBpZiBpdCBpcyBzYW1lIHJlcG9ydFxyXG5cdFx0XHR2YXIgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0XHRpZiAocmVwb3J0SW5mby5uYW1lID09PSB0aGlzLnJlcG9ydE5hbWUgJiYgcmVwb3J0SW5mby5jYXRlZ29yeSA9PT0gc2VsZWN0ZWRDYXRlZ29yeU5hbWUpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdHRoaXMucmVwb3J0TmFtZSkpO1xyXG5cdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2hlY2sgcmVwb3J0IGlzbid0IGluIHRoYXQgY2F0ZWdvcnlcclxuXHRcdFx0aWYgKHNlbGVjdGVkQ2F0ZWdvcnlOYW1lID09PSB0aGlzLnRleHRVbmNhdGVnb3JpemVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuaXNSZXBvcnRJblJlcG9ydExpc3QodGhpcy5yZXBvcnROYW1lLCB0aGlzLnJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgK1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlcG9ydE5hbWUpKTtcclxuXHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5yZXBvcnRTZXRzID0gZGF0YS5SZXBvcnRTZXRzO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNSZXBvcnRJblJlcG9ydExpc3QodGhpcy5yZXBvcnROYW1lLCBkYXRhLlJlcG9ydFNldHMpKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMuZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3Qoc2VsZWN0ZWRDYXRlZ29yeU5hbWUgK1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlcG9ydE5hbWUpKTtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY2F0ZWdvcnkgb2JqZWN0IGJ5IGl0J3MgaWRcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldENhdGVnb3J5T2JqZWN0QnlJZChpZDogbnVtYmVyKTogQ2F0ZWdvcnlPYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2F0ZWdvcmllcy5maW5kKGNhdGVnb3J5ID0+IGNhdGVnb3J5LmlkID09PSBpZCkgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjYXRlZ29yeSBvYmplY3QgYnkgaXQncyBuYW1lXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRDYXRlZ29yeU9iamVjdEJ5TmFtZShuYW1lOiBzdHJpbmcpOiBDYXRlZ29yeU9iamVjdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYXRlZ29yaWVzLmZpbmQoY2F0ZWdvcnkgPT4gY2F0ZWdvcnkubmFtZSA9PT0gbmFtZSkgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SW52YWxpZENoYXJzUmVnZXgoKTogUmVnRXhwIHtcclxuXHRcdGxldCBhZGRpdGlvbmFsQ2hhcmFjdGVyID0gJyc7XHJcblx0XHRpZiAoanNSZXNvdXJjZXMuY2F0ZWdvcnlDaGFyYWN0ZXIgIT09ICdcXFxcJylcclxuXHRcdFx0YWRkaXRpb25hbENoYXJhY3RlciA9IGpzUmVzb3VyY2VzLmNhdGVnb3J5Q2hhcmFjdGVyLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xyXG5cdFx0cmV0dXJuIG5ldyBSZWdFeHAoJ1teQS1aYS16MC05Xy8nICsgYWRkaXRpb25hbENoYXJhY3RlciArIFwiXFxcXC0nJyBcXFxcXFxcXF1cIiwgJ2cnKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RXJyb3JUZXh0Q2F0ZWdvcnlFeGlzdChjYXRlZ29yeU5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKCdqc19DYXRlZ29yeUV4aXN0JyxcclxuXHRcdFx0J0NhdGVnb3J5IHdpdGggbmFtZSBcInswfVwiIGFscmVhZHkgZXhpc3QuJyxcclxuXHRcdFx0W2NhdGVnb3J5TmFtZV0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRFcnJvclRleHRSZXBvcnRFeGlzdChmdWxsUmVwb3J0TmFtZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dFdpdGhQYXJhbXMoJ2pzX1JlcG9ydEFscmVhZHlFeGlzdCcsXHJcblx0XHRcdCdEYXNoYm9hcmQgb3IgcmVwb3J0IFwiezB9XCIgYWxyZWFkeSBleGlzdCcsXHJcblx0XHRcdFtmdWxsUmVwb3J0TmFtZV0pO1xyXG5cdH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUNhdGVnb3J5U2VsZWN0U2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGNhdGVnb3JpZXM6IENhdGVnb3J5T2JqZWN0W107XHJcblx0Y2F0ZWdvcnk6IENhdGVnb3J5T2JqZWN0O1xyXG5cdG9uU2VsZWN0OiBhbnk7XHJcblx0b25DYXRlZ29yaWVzQ2hhbmdlZDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIGRvY3MuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFDYXRlZ29yeVNlbGVjdCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0Y2F0ZWdvcmllczogJz0nLFxyXG5cdFx0Y2F0ZWdvcnk6ICc9JyxcclxuXHRcdG9uU2VsZWN0OiAnJicsXHJcblx0XHRvbkNhdGVnb3JpZXNDaGFuZ2VkOiAnJidcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFDYXRlZ29yeVNlbGVjdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkge1xyXG5cdFx0SXplbmRhQ2F0ZWdvcnlTZWxlY3QucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQ2F0ZWdvcnlTZWxlY3RTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5Q2hhcmFjdGVyID0gJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0XHRjb25zdCBjb21tb25TZXR0aW5ncyA9ICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q29tbW9uU2V0dGluZ3MoKTtcclxuXHRcdFx0Y29uc3Qgc3RyaXBJbnZhbGlkQ2hhcmFjdGVycyA9IGNvbW1vblNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnM7XHJcblx0XHRcdGNvbnN0IGFsbG93SW52YWxpZENoYXJhY3RlcnMgPSBjb21tb25TZXR0aW5ncy5hbGxvd0ludmFsaWRDaGFyYWN0ZXJzO1xyXG5cdFx0XHRjb25zdCBjYXRlZ29yeUNvbnRyb2wgPSBuZXcgQWRIb2MuVXRpbGl0eS5JemVuZGFDYXRlZ29yeVNlbGVjdG9yQ29udHJvbChcclxuXHRcdFx0XHQkZWxlbWVudCxcclxuXHRcdFx0XHRjYXRlZ29yeUNoYXJhY3RlcixcclxuXHRcdFx0XHRzdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdGFsbG93SW52YWxpZENoYXJhY3RlcnMpO1xyXG5cdFx0XHRjYXRlZ29yeUNvbnRyb2wuYWRkU2VsZWN0ZWRIYW5kbGVyKHZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25TZWxlY3QpKSB7XHJcblx0XHRcdFx0XHQkc2NvcGUub25TZWxlY3Qoe1xyXG5cdFx0XHRcdFx0XHR2YWw6IHZhbFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggZm9yIGNvbGxhcHNlZCBzdGF0ZSBjaGFuZ2VcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2NhdGVnb3JpZXMnLCAoKSA9PiB7XHJcblx0XHRcdFx0dXBkYXRlQ2F0ZWdvcmllcygpO1xyXG5cdFx0XHRcdHVwZGF0ZUNhdGVnb3J5KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdjYXRlZ29yeScsICgpID0+IHtcclxuXHRcdFx0XHR1cGRhdGVDYXRlZ29yeSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3JpZXMoKSB7XHJcblx0XHRcdFx0Y29uc3QgcHJldmlvdXNMZW5ndGggPSAkc2NvcGUuY2F0ZWdvcmllcy5sZW5ndGg7XHJcblx0XHRcdFx0Y2F0ZWdvcnlDb250cm9sLnNldENhdGVnb3JpZXMoJHNjb3BlLmNhdGVnb3JpZXMpO1xyXG5cdFx0XHRcdGNvbnN0IG5ld0NhdGVnb3JpZXMgPSBjb2xsZWN0Q2F0ZWdvcmllcygpO1xyXG5cdFx0XHRcdGlmIChwcmV2aW91c0xlbmd0aCAhPT0gbmV3Q2F0ZWdvcmllcy5sZW5ndGggJiYgYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNhdGVnb3JpZXNDaGFuZ2VkKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ2F0ZWdvcmllc0NoYW5nZWQoe1xyXG5cdFx0XHRcdFx0XHRuZXdDYXRlZ29yaWVzOiBuZXdDYXRlZ29yaWVzXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdXBkYXRlQ2F0ZWdvcnkoKSB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoJHNjb3BlLmNhdGVnb3J5KSAmJiAkc2NvcGUuY2F0ZWdvcnkuaWQgIT09IDEpIHtcclxuXHRcdFx0XHRcdGNhdGVnb3J5Q29udHJvbC5zZWxlY3QoJHNjb3BlLmNhdGVnb3J5Lm5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY29sbGVjdENhdGVnb3JpZXMoKSB7XHJcblx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IGFuZ3VsYXIuZWxlbWVudC5tYXAoJGVsZW1lbnQuY2hpbGRyZW4oJ29wdGlvbicpLCAoJG9wdGlvbjogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJG9wdGlvbi52YWx1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlKSA9PiBuZXcgSXplbmRhQ2F0ZWdvcnlTZWxlY3QoJGl6ZW5kYVNldHRpbmdzU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJGl6ZW5kYVNldHRpbmdzU2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQ2F0ZWdvcnlTZWxlY3QnLCBbJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLCBJemVuZGFDYXRlZ29yeVNlbGVjdC5mYWN0b3J5KCldKTtcclxuXHJcbmNsYXNzIENhdGVnb3J5T2JqZWN0IHtcclxuXHRpZDogbnVtYmVyO1xyXG5cdG5hbWU6IHN0cmluZztcclxufSIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2hhcmVSdWxlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2hhcmUtbW9kZWwnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2hhcmVDb21wb25lbnQnLFxyXG5cdFsnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVNoYXJlU2VydmljZSddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24udWkuY29tcG9uZW50cy5zaGFyZS5zaGFyZS10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdHN1YmplY3RzOiAnPCcsXHJcblx0XHRcdHJpZ2h0czogJzwnLFxyXG5cdFx0XHRzaGFyZVJ1bGVzOiAnPCdcclxuXHRcdH1cclxuXHR9KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTaGFyZUNvbXBvbmVudCB7XHJcblx0Ly8gdmFyaWFibGVzIGZvciBiaW5kaW5nIGRlZmluaXRpb246XHJcblx0c3ViamVjdHM6IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD47XHJcblx0cmlnaHRzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHNoYXJlUnVsZXM6IEFycmF5PEl6ZW5kYVNoYXJlUnVsZU1vZGVsPjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2hhcmVTZXJ2aWNlOiBJemVuZGFTaGFyZVNlcnZpY2UpIHtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNoYXJlIHJ1bGUgc2VsZWN0ZWQgcmlnaHQgaXMgdmFsaWRcclxuXHQgKi9cclxuXHRnZXRTaGFyZVJ1bGVWYWxpZGF0aW9uTWVzc2FnZShzaGFyZVJ1bGU6IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKSB7XHJcblx0XHRpZiAoIXNoYXJlUnVsZS5yaWdodCAmJiAhc2hhcmVSdWxlLnN1YmplY3QpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05lc3Nlc2FyeVNlbGVjdFJpZ2h0JyxcclxuXHRcdFx0XHQnSXQgaXMgbmVjZXNzYXJ5IHRvIGNob29zZSB0aGUgcmlnaHQsIG90aGVyd2lzZSBpdCB3aWxsIGJlIGlnbm9yZWQuJyk7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBzaGFyZSBydWxlIGhhbmRsZXIuXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNoYXJlUnVsZU1vZGVsfSBzaGFyZVJ1bGVcclxuXHQgKi9cclxuXHRyZW1vdmVTaGFyZVJ1bGUoc2hhcmVSdWxlOiBJemVuZGFTaGFyZVJ1bGVNb2RlbCkge1xyXG5cdFx0dGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLnJlbW92ZVNoYXJlUnVsZShzaGFyZVJ1bGUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHNoYXJlIHJ1bGVcclxuXHQgKi9cclxuXHRhZGRTaGFyZVJ1bGUoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2UuYWRkTmV3U2hhcmVSdWxlKCk7XHJcblx0fVxyXG59IiwiaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuSXplbmRhU2hhcmVTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVVpTW9kdWxlKTtcclxuSXplbmRhU2NoZWR1bGVTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVVpTW9kdWxlKTtcclxuXHJcbi8vIHJlZ2lzdGVyIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXNcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYXV0b2NvbXBsZXRlJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9ib290c3RyYXAnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvZGF0ZXRpbWUtcGlja2VyJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9yZXBvcnQtdmlld2VyJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcyc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc3BsYXNoc2NyZWVuJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9zd2l0Y2hlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2NoZWR1bGUvc2NoZWR1bGUtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0L3NlbGVjdC1yZXBvcnQtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2hhcmUvc2hhcmUtY29tcG9uZW50JzsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0ICdjb21tb24vY29yZS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi9xdWVyeS9tb2R1bGUnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9tb2R1bGUnO1xyXG5cclxuLy8gY29tbW9uXHJcbmltcG9ydCB7IEl6ZW5kYUNvbW1vbkxvYWRlciB9IGZyb20gJ2NvbW1vbi9jb21tb24tbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbi8qKlxyXG4gKiByZXF1aXJlanMgbW9kdWxlLCB3aGljaCBjcmVhdGVzIGFuZ3VsYXIgbW9kdWxlcy5cclxuICogcmV0dXJucyAnbG9hZFNldHRpbmdzJyBmdW5jdGlvbiwgd2hpY2ggY291bGQgbG9hZCBzZXR0aW5ncyBmb3IgdGhpcyBtb2R1bGUuXHJcbiAqL1xyXG4vLyBDcmVhdGUgZGFzaGJvYXJkcyBhbmd1bGFyIG1vZHVsZVxyXG5jb25zdCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaXplbmRhRGFzaGJvYXJkJywgW1xyXG5cdCduZ0Nvb2tpZXMnLFxyXG5cdCdyeCcsXHJcblx0J2l6ZW5kYS5jb21tb24uY29yZScsXHJcblx0J2l6ZW5kYS5jb21tb24ucXVlcnknLFxyXG5cdCdpemVuZGEuY29tbW9uLnVpJyxcclxuXHQnaXplbmRhRmlsdGVycydcclxuXSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFEYXNoYm9hcmRNb2R1bGU7XHJcblxyXG4vLyBjb25maWd1cmUgY29tbW9uIHVpIG1vZHVsZTpcclxuaXplbmRhVWlNb2R1bGVcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0JywgWydqc19EYXNoYm9hcmROYW1lJywgJ0Rhc2hib2FyZCBOYW1lJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVFbXB0eUVycm9yJywgWydqc19EYXNoYm9hcmROYW1lQ2FudEJlRW1wdHknLCAnRGFzaGJvYXJkIG5hbWUgY2FuXFwndCBiZSBlbXB0eS4nXSlcclxuXHQudmFsdWUoJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUludmFsaWRFcnJvcicsIFsnanNfSW52YWxpZERhc2hib2FyZE5hbWUnLCAnSW52YWxpZCBkYXNoYm9hcmQgTmFtZSddKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFEYXNoYm9hcmRzTG9hZGVyIHtcclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGFuZCBjb25maWd1cmUgbW9kdWxlc1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBjb25maWd1cmVNb2R1bGVzKGNvbmZpZ09iamVjdCkge1xyXG5cdFx0Y29uc3QgZGFzaGJvYXJkU2V0dGluZ3MgPSBjb25maWdPYmplY3QgYXMgSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzO1xyXG5cdFx0Y29uc3QgZGFzaGJvYXJkQ29uZmlnID0ge1xyXG5cdFx0XHRzaG93RGFzaGJvYXJkVG9vbGJhcjogdHJ1ZSxcclxuXHRcdFx0ZGVmYXVsdERhc2hib2FyZENhdGVnb3J5OiBudWxsLCAvLydxd2VcXFxccXdld3FlJyxcclxuXHRcdFx0ZGVmYXVsdERhc2hib2FyZE5hbWU6IG51bGwsIC8vJ3FxcXEnLFxyXG5cdFx0XHRkYXNoYm9hcmRUb29sQmFySXRlbXNTb3J0OiAoaXRlbTEsIGl0ZW0yKSA9PiBpdGVtMS5sb2NhbGVDb21wYXJlKGl0ZW0yKVxyXG5cdFx0fSBhcyBJSXplbmRhRGFzaGJvYXJkQ29uZmlnO1xyXG5cdFx0Ly8gY29uZmlndXJlIGluc3RhbnQgcmVwb3J0IG1vZHVsZVxyXG5cdFx0Y29uc3QgbW9kdWxlID0gYW5ndWxhclxyXG5cdFx0XHQubW9kdWxlKCdpemVuZGFEYXNoYm9hcmQnKVxyXG5cdFx0XHQuY29uc3RhbnQoJ2l6ZW5kYURhc2hib2FyZENvbmZpZycsIGRhc2hib2FyZENvbmZpZylcclxuXHRcdFx0LmNvbmZpZyhbJyRsb2dQcm92aWRlcicsICRsb2dQcm92aWRlciA9PiB7ICRsb2dQcm92aWRlci5kZWJ1Z0VuYWJsZWQoZmFsc2UpOyB9XSlcclxuXHRcdFx0LmNvbmZpZyhbXHJcblx0XHRcdFx0JyRwcm92aWRlJywgJHByb3ZpZGUgPT4ge1xyXG5cdFx0XHRcdFx0JHByb3ZpZGUuZGVjb3JhdG9yKCckYnJvd3NlcicsIFtcclxuXHRcdFx0XHRcdFx0JyRkZWxlZ2F0ZScsICRkZWxlZ2F0ZSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0JGRlbGVnYXRlLm9uVXJsQ2hhbmdlID0gKCkgPT4geyB9O1xyXG5cdFx0XHRcdFx0XHRcdCRkZWxlZ2F0ZS51cmwgPSAoKSA9PiAnJztcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gJGRlbGVnYXRlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdF0pXHJcblx0XHRcdC5jb25zdGFudCgnJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzJywgZGFzaGJvYXJkU2V0dGluZ3MpO1xyXG5cclxuXHRcdHJldHVybiBtb2R1bGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCb290c3RyYXAgYW5ndWxhciBhcHA6XHJcblx0ICogd2luZG93LnVybFNldHRpbmdzJCBvYmplY3RzIHNob3VsZCBiZSBkZWZpbmVkIGJlZm9yZSB0aGlzIG1vbWVudC5cclxuXHQgKi9cclxuXHRzdGF0aWMgYm9vdHN0cmFwKCkge1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcblx0XHRcdC8vIGNvbW1vbiBzZXR0aW5ncyBwcm9taXNlOlxyXG5cdFx0XHR2YXIgY29tbW9uUXVlcnlTZXR0aW5nc1Byb21pc2UgPSBJemVuZGFDb21tb25Mb2FkZXIubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHQvLyBpbnN0YW50IHJlcG9ydCBzZXR0aW5ncyBwcm9taXNlOlxyXG5cdFx0XHR2YXIgdXJsU2V0dGluZ3MgPSB3aW5kb3cudXJsU2V0dGluZ3MkO1xyXG5cdFx0XHR2YXIgcnNQYWdlVXJsID0gdXJsU2V0dGluZ3MudXJsUnNQYWdlO1xyXG5cdFx0XHR2YXIgc2V0dGluZ3NVcmwgPSByc1BhZ2VVcmwgKyAnP3dzY21kPWdldERhc2hib2FyZFNldHRpbmdzJztcclxuXHRcdFx0dmFyIGRhc2hib2FyZHNTZXR0aW5nc1Byb21pc2UgPSBhbmd1bGFyLmVsZW1lbnQuZ2V0KHNldHRpbmdzVXJsKTtcclxuXHJcblx0XHRcdC8vIHdhaXQgd2hpbGUgYWxsIHNldHRpbmdzIGFyZSBsb2FkZWQ6XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudFxyXG5cdFx0XHRcdC53aGVuKGNvbW1vblF1ZXJ5U2V0dGluZ3NQcm9taXNlLCBkYXNoYm9hcmRzU2V0dGluZ3NQcm9taXNlKVxyXG5cdFx0XHRcdC50aGVuKChjb21tb25TZXR0aW5nc1Jlc3VsdCwgZGFzaGJvYXJkc1NldHRpbmdzUmVzdWx0KSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZ2V0IGluc3RhbnQgcmVwb3J0IGNvbmZpZyBvYmplY3RcclxuXHRcdFx0XHRcdHZhciBjb25maWdPYmplY3QgPSBkYXNoYm9hcmRzU2V0dGluZ3NSZXN1bHRbMF07XHJcblxyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGFuZCBjb25maWd1cmUgbW9kdWxlczpcclxuXHRcdFx0XHRcdEl6ZW5kYURhc2hib2FyZHNMb2FkZXIuY29uZmlndXJlTW9kdWxlcyhjb25maWdPYmplY3QpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGJvb3RzdHJhcCBhcHBsaWNhdGlvbjpcclxuXHRcdFx0XHRcdGFuZ3VsYXIuYm9vdHN0cmFwKCcjaXplbmRhRGFzaGJvYXJkTWFpbkNvbnRhaW5lcicsIFsnaXplbmRhRGFzaGJvYXJkJ10pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhRGFzaGJvYXJkU2V0dGluZ3Mge1xyXG5cdGFsbG93ZWRQcmludEVuZ2luZTogc3RyaW5nO1xyXG5cdGRhc2hib2FyZHNBbGxvd2VkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElJemVuZGFEYXNoYm9hcmRDb25maWcge1xyXG5cdHNob3dEYXNoYm9hcmRUb29sYmFyOiBib29sZWFuO1xyXG5cdGRlZmF1bHREYXNoYm9hcmRDYXRlZ29yeTogc3RyaW5nO1xyXG5cdGRlZmF1bHREYXNoYm9hcmROYW1lOiBzdHJpbmc7XHJcblx0ZGFzaGJvYXJkVG9vbEJhckl0ZW1zU29ydDogYW55O1xyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5cclxuLyoqXHJcbiAqIERhc2hib2FyZCBzdG9yYWdlIHNlcnZpY2UuIFN0b3JlcyBjdXJyZW50IGRhc2hib2FyZCBzdGF0ZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlIHtcclxuXHRodWVSb3RhdGU6IGJvb2xlYW47XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckY29va2llcycsICckcm9vdFNjb3BlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGNvb2tpZXM6IGFueSkge1xyXG5cdFx0dGhpcy5odWVSb3RhdGUgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGdldCBmaW5hbEJhY2tncm91bmRJbWFnZVVybCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuYmFja2dyb3VuZEltYWdlVHlwZSA9PT0gJ2ZpbGUnXHJcblx0XHRcdD8gdGhpcy5iYWNrZ3JvdW5kSW1hZ2VCYXNlNjRcclxuXHRcdFx0OiB0aGlzLmJhY2tncm91bmRJbWFnZVVybDtcclxuXHR9XHJcblxyXG5cdC8vIGh1ZVJvdGF0ZSBnZXQvc2V0XHJcblxyXG5cdGdldCBiYWNrZ3JvdW5kSHVlUm90YXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaHVlUm90YXRlO1xyXG5cdH1cclxuXHJcblx0c2V0IGJhY2tncm91bmRIdWVSb3RhdGUodmFsOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmh1ZVJvdGF0ZSA9IHZhbDtcclxuXHR9XHJcblxyXG5cdC8vIGNvbG9yIGdldC9zZXRcclxuXHJcblx0Z2V0IGJhY2tncm91bmRDb2xvcigpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgYmFja0NvbG9yID0gdGhpcy5nZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRDb2xvcicpO1xyXG5cdFx0cmV0dXJuIGJhY2tDb2xvciB8fCAnIzFjOGZkNic7XHJcblx0fVxyXG5cclxuXHRzZXQgYmFja2dyb3VuZENvbG9yKHZhbDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNldENvb2tpZSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZENvbG9yJywgdmFsKTtcclxuXHR9XHJcblxyXG5cdC8vIGltYWdlIHJlcGVhdCBnZXQvc2V0XHJcblxyXG5cdGdldCBiYWNrZ3JvdW5kSW1hZ2VSZXBlYXQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZVJlcGVhdCcpID09PSAndHJ1ZSc7XHJcblx0fVxyXG5cclxuXHRzZXQgYmFja2dyb3VuZEltYWdlUmVwZWF0KHZhbDogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5zZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZVJlcGVhdCcsIHZhbCA/ICd0cnVlJyA6ICdmYWxzZScpO1xyXG5cdH1cclxuXHJcblx0Ly8gYmFja2dyb3VuZEltYWdlVHlwZSBnZXQvc2V0XHJcblxyXG5cdGdldCBiYWNrZ3JvdW5kSW1hZ2VUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZVR5cGUnKTtcclxuXHR9XHJcblxyXG5cdHNldCBiYWNrZ3JvdW5kSW1hZ2VUeXBlKHZhbDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNldENvb2tpZSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlVHlwZScsIHZhbCk7XHJcblx0fVxyXG5cclxuXHQvLyBiYWNrZ3JvdW5kSW1hZ2VCYXNlNjQgZ2V0L3NldFxyXG5cclxuXHRnZXQgYmFja2dyb3VuZEltYWdlQmFzZTY0KCk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gJyc7XHJcblx0XHRpZiAodGhpcy5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRjb25zdCBkYXRhSW1hZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlQmFzZTY0Jyk7XHJcblx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGRhdGFJbWFnZSkpXHJcblx0XHRcdFx0cmVzdWx0ID0gZGF0YUltYWdlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5nZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZUJhc2U2NCcpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHNldCBiYWNrZ3JvdW5kSW1hZ2VCYXNlNjQodmFsOiBzdHJpbmcpIHtcclxuXHRcdGlmICh0aGlzLmlzU3RvcmFnZUF2YWlsYWJsZSgpKSB7XHJcblx0XHRcdGlmICh2YWwgIT0gbnVsbClcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlQmFzZTY0JywgdmFsKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VCYXNlNjQnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuc2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VCYXNlNjQnLCB2YWwpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gaW1hZ2UgdXJsIGdldC9zZXRcclxuXHJcblx0Z2V0IGJhY2tncm91bmRJbWFnZVVybCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VVcmwnKTtcclxuXHR9XHJcblxyXG5cdHNldCBiYWNrZ3JvdW5kSW1hZ2VVcmwodmFsOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuc2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VVcmwnLCB2YWwpO1xyXG5cdH1cclxuXHJcblx0Ly8gdXRpbGl0eSBmdW5jdGlvbnNcclxuXHJcblx0Z2V0Q29va2llKG5hbWUpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGNvb2tpZXMuZ2V0KG5hbWUpO1xyXG5cdH1cclxuXHJcblx0c2V0Q29va2llKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy4kY29va2llcy5wdXQobmFtZSwgdmFsdWUpO1xyXG5cdH1cclxuXHJcblx0aXNTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHR5cGVvZiAoU3RvcmFnZSkgIT09ICd1bmRlZmluZWQnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQW5ndWxhciBkZXBlbmRlbmNpZXNcclxuXHQgKi9cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFCYWNrZ3JvdW5kU2VydmljZScsIERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IElJemVuZGFSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQm94IHtcclxuXHR4OiBudW1iZXI7XHJcblx0eTogbnVtYmVyO1xyXG5cdHdpZHRoOiBudW1iZXI7XHJcblx0aGVpZ2h0OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJemVuZGEgZGFzaGJvYXJkIHRpbGUgbW9kZWwgY2xhc3NcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwgaW1wbGVtZW50cyBJQm94LCBJSXplbmRhUmF3TW9kZWwge1xyXG5cdHN0YXRpYyAkJFRpbGVJZENvdW50ZXI6IG51bWJlciA9IDE7XHJcblxyXG5cdGlkOiBudW1iZXI7XHJcblx0aXNOZXc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRpc1NvdXJjZVJlcG9ydERlbGV0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHR0aXRsZTogc3RyaW5nID0gJyc7XHJcblx0ZGVzY3JpcHRpb246IHN0cmluZyA9ICcnO1xyXG5cdHg6IG51bWJlciA9IDA7XHJcblx0eTogbnVtYmVyID0gMDtcclxuXHR3aWR0aDogbnVtYmVyID0gNjtcclxuXHRoZWlnaHQ6IG51bWJlciA9IDM7XHJcblx0Y2FuQmVMb2FkZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cdGRlc2lnbmVyVHlwZTogc3RyaW5nID0gJ1JlcG9ydERlc2lnbmVyJztcclxuXHRtYXhSaWdodHM6IHN0cmluZyA9ICdGdWxsIEFjY2Vzcyc7XHJcblx0dG9wOiBudW1iZXIgPSAxMDA7XHJcblx0dG9wU3RyaW5nOiBzdHJpbmcgPSAnMTAwJztcclxuXHRyZXBvcnROYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdHJlcG9ydENhdGVnb3J5OiBzdHJpbmcgPSBudWxsO1xyXG5cdHJlcG9ydEZ1bGxOYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdHJlcG9ydFBhcnROYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdHJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk6IHN0cmluZyA9IG51bGw7XHJcblx0cmVwb3J0U2V0TmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnRUeXBlOiBzdHJpbmcgPSBudWxsO1xyXG5cdHByZXZpb3VzUmVwb3J0RnVsbE5hbWU6IHN0cmluZyA9IG51bGw7XHJcblxyXG5cdGJhY2tUaWxlUG9wdXBPcGVuZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRmbGlwOiBhbnkgPSBudWxsO1xyXG5cdHVwZGF0ZUZyb21Tb3VyY2U6IGJvb2xlYW47XHJcblx0YmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZhY3RvcnkgbWV0aG9kXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpc05ldyBpcyB0aGlzIHRpbGUgbWFya2VkIGFzIG5ldy5cclxuXHQgKiBAcGFyYW0ge09iamVjdH0gcmF3TW9kZWwgdGlsZSBwcm9wZXJ0aWVzLlxyXG5cdCAqIEByZXR1cm5zIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IG1vZGVsIGluc3RhbmNlLlxyXG5cdCAqL1xyXG5cdHN0YXRpYyBjcmVhdGVJbnN0YW5jZShpc05ldzogYm9vbGVhbiwganNvbjogYW55ID0gbnVsbCk6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCB7XHJcblx0XHRyZXR1cm4gbmV3IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbChpc05ldywganNvbik7XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihpc05ldzogYm9vbGVhbiwganNvbjogYW55KSB7XHJcblx0XHR0aGlzLmlkID0gSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsLiQkVGlsZUlkQ291bnRlcisrO1xyXG5cdFx0dGhpcy5pc05ldyA9IGlzTmV3O1xyXG5cdFx0dGhpcy5mcm9tSnNvbihqc29uKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbGwgdGhpcyBvYmplY3QgZnJvbSB0aGUgcmF3IHJlcHJlc2VudGF0aW9uXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gUmF3IG1vZGVsLlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSkge1xyXG5cdFx0aWYgKCFqc29uKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmlzU291cmNlUmVwb3J0RGVsZXRlZCA9IGpzb24uaXNTb3VyY2VSZXBvcnREZWxldGVkIHx8IGZhbHNlO1xyXG5cdFx0dGhpcy50aXRsZSA9IGpzb24ucmVwb3J0VGl0bGUgfHwgJyc7XHJcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0ganNvbi5yZXBvcnREZXNjcmlwdGlvbiB8fCAnJztcclxuXHRcdHRoaXMueCA9IGpzb24ueCB8fCAwO1xyXG5cdFx0dGhpcy55ID0ganNvbi55IHx8IDA7XHJcblx0XHR0aGlzLndpZHRoID0ganNvbi53aWR0aCB8fCA2O1xyXG5cdFx0dGhpcy5oZWlnaHQgPSBqc29uLmhlaWdodCB8fCAzO1xyXG5cdFx0dGhpcy5jYW5CZUxvYWRlZCA9IGpzb24uY2FuQmVMb2FkZWQgfHwgdHJ1ZTtcclxuXHRcdHRoaXMuZGVzaWduZXJUeXBlID0ganNvbi5kZXNpZ25lclR5cGUgfHwgJ1JlcG9ydERlc2lnbmVyJztcclxuXHRcdHRoaXMubWF4UmlnaHRzID0ganNvbi5tYXhSaWdodHMgfHwgJ0Z1bGwgQWNjZXNzJztcclxuXHRcdHRoaXMudG9wID0ganNvbi5yZWNvcmRzQ291bnQgfHwgMTAwO1xyXG5cdFx0dGhpcy50b3BTdHJpbmcgPSB0aGlzLnRvcCArICcnO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lID0ganNvbi5yZXBvcnROYW1lIHx8IG51bGw7XHJcblx0XHR0aGlzLnJlcG9ydENhdGVnb3J5ID0ganNvbi5yZXBvcnRDYXRlZ29yeSB8fCBudWxsO1xyXG5cdFx0dGhpcy5yZXBvcnRGdWxsTmFtZSA9IGpzb24ucmVwb3J0RnVsbE5hbWUgfHwgbnVsbDtcclxuXHRcdHRoaXMucmVwb3J0UGFydE5hbWUgPSBqc29uLnJlcG9ydFBhcnROYW1lIHx8IG51bGw7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnkgPSB0aGlzLnJlcG9ydFNldE5hbWUgPSBqc29uLnJlcG9ydFNldE5hbWUgfHwgbnVsbDtcclxuXHRcdHRoaXMucmVwb3J0VHlwZSA9IGpzb24ucmVwb3J0VHlwZSB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIEpTT04gY29uZmlnIGZvciBzZW5kaW5nIGl0IHRvIHNlcnZlclxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cdFx0Y29uc3QganNvbiA9IHtcclxuXHRcdFx0aXNTb3VyY2VSZXBvcnREZWxldGVkOiB0aGlzLmlzU291cmNlUmVwb3J0RGVsZXRlZCxcclxuXHRcdFx0cmVwb3J0VGl0bGU6IHRoaXMudGl0bGUsIC8vIG90aGVyIG5hbWVcclxuXHRcdFx0cmVwb3J0RGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sIC8vIG90aGVyIG5hbWVcclxuXHRcdFx0eDogdGhpcy54LFxyXG5cdFx0XHR5OiB0aGlzLnksXHJcblx0XHRcdHdpZHRoOiB0aGlzLndpZHRoLFxyXG5cdFx0XHRoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG5cdFx0XHRjYW5CZUxvYWRlZDogdGhpcy5jYW5CZUxvYWRlZCxcclxuXHRcdFx0ZGVzaWduZXJUeXBlOiB0aGlzLmRlc2lnbmVyVHlwZSxcclxuXHRcdFx0bWF4UmlnaHRzOiB0aGlzLm1heFJpZ2h0cyxcclxuXHRcdFx0cmVjb3Jkc0NvdW50OiB0aGlzLnRvcCwgLy8gb3RoZXIgbmFtZSBcclxuXHRcdFx0cmVwb3J0TmFtZTogdGhpcy5yZXBvcnROYW1lIHx8ICcnLFxyXG5cdFx0XHRyZXBvcnRDYXRlZ29yeTogdGhpcy5yZXBvcnRDYXRlZ29yeSB8fCAnJyxcclxuXHRcdFx0cmVwb3J0RnVsbE5hbWU6IHRoaXMucmVwb3J0RnVsbE5hbWUgfHwgJycsXHJcblx0XHRcdHJlcG9ydFBhcnROYW1lOiB0aGlzLnJlcG9ydFBhcnROYW1lIHx8ICcnLFxyXG5cdFx0XHRyZXBvcnRTZXROYW1lOiB0aGlzLnJlcG9ydFNldE5hbWUgfHwgJycsXHJcblx0XHRcdHJlcG9ydFR5cGU6IHRoaXMucmVwb3J0VHlwZVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRpbGUgZ2VvbWV0cmljIHBvc2l0aW9uXHJcblx0ICogQHBhcmFtIHtBcnJheTxJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWw+fSB0aWxlcyBDb2xsZWN0aW9uIHdoZXJlIHRoaXMgdGlsZSBwbGFjZWRcclxuXHQgKi9cclxuXHRnZXRUaWxlT3JkZXIodGlsZXM6IElCb3hbXSk6IG51bWJlciB7XHJcblx0XHRjb25zdCB0aWxlc0NvcHkgPSB0aWxlcy5zbGljZSgpO1xyXG5cdFx0dGlsZXNDb3B5LnNvcnQoKHRpbGUxLCB0aWxlMikgPT4ge1xyXG5cdFx0XHRpZiAodGlsZTEueSAhPT0gdGlsZTIueSlcclxuXHRcdFx0XHRyZXR1cm4gdGlsZTEueSAtIHRpbGUyLnk7XHJcblx0XHRcdHJldHVybiB0aWxlMS54IC0gdGlsZTIueDtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHRpbGVzQ29weS5pbmRleE9mKHRoaXMpO1xyXG5cdH1cclxufSIsImltcG9ydCB7IEl6ZW5kYVNoYXJlTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvc2hhcmUtbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFTY2hlZHVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsJztcclxuaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3Jhdy1tb2RlbCc7XHJcblxyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvdGlsZS1tb2RlbCc7XHJcbmltcG9ydCB7IElCb3ggfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvdGlsZS1tb2RlbCc7XHJcblxyXG4vKipcclxuICogSXplbmRhIGRhc2hib2FyZCBtb2RlbCBjbGFzc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl6ZW5kYURhc2hib2FyZE1vZGVsIGltcGxlbWVudHMgSUl6ZW5kYVJhd01vZGVsIHtcclxuXHRpc05ldzogYm9vbGVhbiA9IHRydWU7XHJcblx0cmVwb3J0TmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnRDYXRlZ29yeTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnRGdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRwcmV2aW91c1JlcG9ydE5hbWU6IHN0cmluZyA9IG51bGw7XHJcblx0cHJldmlvdXNSZXBvcnRDYXRlZ29yeTogc3RyaW5nID0gbnVsbDtcclxuXHRwcmV2aW91c1JlcG9ydEZ1bGxOYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdHNvdXJjZVJlcG9ydEZ1bGxOYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdGVmZmVjdGl2ZVJpZ2h0czogc3RyaW5nID0gbnVsbDtcclxuXHR1c2VzSGlkZGVuQ29sdW1uczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHJlcG9ydHNXaXRoSGlkZGVuQ29sdW1uczogc3RyaW5nW10gPSBbXTtcclxuXHRmaWx0ZXJzOiBhbnk7XHJcblx0dGlsZXM6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbFtdID0gW107XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZhY3RvcnkgbWV0aG9kXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpc05ldyBuZXcgZGFzaGJvYXJkIHdpdGggZGVmdWFsdCBjb25maWcgb3Igbm90LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIGRhc2hib2FyZCBzZXJ2ZXItc2lkZSBwcm9wZXJ0aWVzLlxyXG5cdCAqIEByZXR1cm5zIHtJemVuZGFEYXNoYm9hcmRNb2RlbH0gbW9kZWwgaW5zdGFuY2UuXHJcblx0ICovXHJcblx0c3RhdGljIGNyZWF0ZUluc3RhbmNlKFxyXG5cdFx0aXNOZXc6IGJvb2xlYW4sXHJcblx0XHRqc29uPzogYW55KTogSXplbmRhRGFzaGJvYXJkTW9kZWwge1xyXG5cdFx0cmV0dXJuIG5ldyBJemVuZGFEYXNoYm9hcmRNb2RlbChpc05ldywganNvbik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBKc29uIHZhbGlkYXRpb24uXHJcblx0ICovXHJcblx0c3RhdGljIGlzVmFsaWRKc29uKGpzb246IGFueSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGpzb24gJiYgdHlwZW9mIChqc29uKSA9PT0gJ29iamVjdCcgJiYganNvbi5oYXNPd25Qcm9wZXJ0eSgndGlsZXMnKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlzTmV3OiBib29sZWFuLCBqc29uOiBhbnksIHNoYXJlPzogSXplbmRhU2hhcmVNb2RlbCwgc2NoZWR1bGU/OiBJemVuZGFTY2hlZHVsZU1vZGVsKSB7XHJcblx0XHRpZiAoIWlzTmV3ICYmICFqc29uKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgaW5pdGlhbGl6ZSBkYXNoYm9hcmQgbW9kZWwgd2hlbiBpc05ldz1mYWxzZSBhbmQgcmF3TW9kZWwgaXMgZW1wdHkuJyk7XHJcblx0XHR0aGlzLmlzTmV3ID0gaXNOZXc7XHJcblx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gbnVsbDtcclxuXHRcdFx0dGhpcy5yZXBvcnRDYXRlZ29yeSA9IG51bGw7XHJcblx0XHRcdHRoaXMucmVwb3J0RnVsbE5hbWUgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnNvdXJjZVJlcG9ydEZ1bGxOYW1lID0gbnVsbDtcclxuXHRcdFx0dGhpcy50aWxlcyA9IFtcclxuXHRcdFx0XHRJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwuY3JlYXRlSW5zdGFuY2UodHJ1ZSlcclxuXHRcdFx0XTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZnJvbUpzb24oanNvbiwgc2hhcmUsIHNjaGVkdWxlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBzb3J0ZWQgdGlsZXMgYnkgaXRzIHBvc2l0aW9ucy5cclxuXHQgKiBAcmV0dXJucyB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsW119IHNvcnRlZCB0aWxlcyBhcnJheSAoYW5vdGhlciBpbnN0YW5jZSBvZiBhcnJheSEpXHJcblx0ICovXHJcblx0Z2V0IHRpbGVzU29ydGVkKCk6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbFtdIHtcclxuXHRcdHJldHVybiB0aGlzLnRpbGVzLnNvcnQoKHRpbGUxLCB0aWxlMikgPT4ge1xyXG5cdFx0XHRpZiAodGlsZTEueSAhPT0gdGlsZTIueSlcclxuXHRcdFx0XHRyZXR1cm4gdGlsZTEueSAtIHRpbGUyLnk7XHJcblx0XHRcdHJldHVybiB0aWxlMS54IC0gdGlsZTIueDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0IHRpbGVzV2l0aEhpZGRlbkNvbHVtbnMoKTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMudGlsZXMuZmlsdGVyKHQgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZXBvcnRzV2l0aEhpZGRlbkNvbHVtbnMuaW5kZXhPZih0LnJlcG9ydEZ1bGxOYW1lKSA+PSAwO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaWxsIHRoaXMgb2JqZWN0IGZyb20gdGhlIHJhdyByZXByZXNlbnRhdGlvblxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFJhdyBtb2RlbC5cclxuXHQgKi9cclxuXHRmcm9tSnNvbihqc29uOiBhbnksIHNoYXJlPzogSXplbmRhU2hhcmVNb2RlbCwgc2NoZWR1bGU/OiBJemVuZGFTY2hlZHVsZU1vZGVsKSB7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWUgPSBqc29uLnJlcG9ydE5hbWU7XHJcblx0XHR0aGlzLnJlcG9ydENhdGVnb3J5ID0ganNvbi5yZXBvcnRDYXRlZ29yeTtcclxuXHRcdHRoaXMucmVwb3J0RnVsbE5hbWUgPSBqc29uLnJlcG9ydEZ1bGxOYW1lO1xyXG5cdFx0dGhpcy5zb3VyY2VSZXBvcnRGdWxsTmFtZSA9IGpzb24uc291cmNlUmVwb3J0RnVsbE5hbWU7XHJcblx0XHR0aGlzLmVmZmVjdGl2ZVJpZ2h0cyA9IGpzb24uZWZmZWN0aXZlUmlnaHRzO1xyXG5cdFx0dGhpcy51c2VzSGlkZGVuQ29sdW1ucyA9IGpzb24udXNlc0hpZGRlbkNvbHVtbnM7XHJcblx0XHR0aGlzLnJlcG9ydHNXaXRoSGlkZGVuQ29sdW1ucyA9IGpzb24ucmVwb3J0c1dpdGhIaWRkZW5Db2x1bW5zO1xyXG5cclxuXHRcdHRoaXMuZmlsdGVycyA9IGpzb24uZmlsdGVycztcclxuXHRcdHRoaXMudGlsZXMgPSBqc29uLnRpbGVzLm1hcCh0aWxlQ2ZnID0+IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbC5jcmVhdGVJbnN0YW5jZShmYWxzZSwgdGlsZUNmZykpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIEpTT04gY29uZmlnIGZvciBzZW5kaW5nIGl0IHRvIHNlcnZlclxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnkge1xyXG5cclxuXHRcdC8vIGZpbHRlciBvdXQgaW52YWxpZCB0aWxlcyBhbmQgc29ydCBieSBpdCdzIGdlb21ldHJpY2FsIHBvc2l0aW9uXHJcblx0XHRjb25zdCB0aWxlc0NvcHkgPSB0aGlzLnRpbGVzXHJcblx0XHRcdC5maWx0ZXIodGlsZSA9PiAhIXRpbGUucmVwb3J0RnVsbE5hbWUpXHJcblx0XHRcdC5zbGljZSgpO1xyXG5cdFx0dGlsZXNDb3B5LnNvcnQoKHRpbGUxLCB0aWxlMikgPT4ge1xyXG5cdFx0XHRpZiAodGlsZTEueSAhPT0gdGlsZTIueSlcclxuXHRcdFx0XHRyZXR1cm4gdGlsZTEueSAtIHRpbGUyLnk7XHJcblx0XHRcdHJldHVybiB0aWxlMS54IC0gdGlsZTIueDtcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0ge1xyXG5cdFx0XHRpc0Rhc2hib2FyZDogdHJ1ZSxcclxuXHRcdFx0aXNOZXc6IHRoaXMuaXNOZXcsXHJcblx0XHRcdHJlcG9ydE5hbWU6IHRoaXMucmVwb3J0TmFtZSxcclxuXHRcdFx0cmVwb3J0Q2F0ZWdvcnk6IHRoaXMucmVwb3J0Q2F0ZWdvcnksXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lOiB0aGlzLnJlcG9ydEZ1bGxOYW1lLFxyXG5cdFx0XHRzb3VyY2VSZXBvcnRGdWxsTmFtZTogdGhpcy5zb3VyY2VSZXBvcnRGdWxsTmFtZSxcclxuXHRcdFx0ZmlsdGVyczogdGhpcy5maWx0ZXJzLFxyXG5cdFx0XHR0aWxlczogdGlsZXNDb3B5Lm1hcCh0aWxlID0+IHRpbGUudG9Kc29uKCkpXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBuZXcgdGlsZSB3aXRoIGxlZnQsIHRvcCBjb29yZGluYXRlcyB7eCwgeX0uXHJcblx0ICogTWF4aW11bSBzaXplIG9mIHRoZSBjcmVhdGVkIHRpbGUgaXMgNngzLlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4IGxlZnQgY29vcmRpbmF0ZS5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0geSB0b3AgY29vcmRpbmF0ZS5cclxuXHQgKi9cclxuXHRhZGRQaXhlbFRpbGUoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuXHRcdGNvbnN0IG5ld1RpbGUgPSBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwuY3JlYXRlSW5zdGFuY2UodHJ1ZSk7XHJcblx0XHRuZXdUaWxlLnggPSB4O1xyXG5cdFx0bmV3VGlsZS55ID0geTtcclxuXHRcdG5ld1RpbGUud2lkdGggPSAxO1xyXG5cdFx0bmV3VGlsZS5oZWlnaHQgPSAxO1xyXG5cdFx0d2hpbGUgKCF0aGlzLmNoZWNrVGlsZUludGVyc2VjdHNCYm94KG5ld1RpbGUpICYmIG5ld1RpbGUud2lkdGggPCA2ICYmIG5ld1RpbGUud2lkdGggKyBuZXdUaWxlLnggPCAxMilcclxuXHRcdFx0bmV3VGlsZS53aWR0aCsrO1xyXG5cdFx0aWYgKHRoaXMuY2hlY2tUaWxlSW50ZXJzZWN0c0Jib3gobmV3VGlsZSkpXHJcblx0XHRcdG5ld1RpbGUud2lkdGgtLTtcclxuXHRcdHdoaWxlICghdGhpcy5jaGVja1RpbGVJbnRlcnNlY3RzQmJveChuZXdUaWxlKSAmJiBuZXdUaWxlLmhlaWdodCA8IDMpXHJcblx0XHRcdG5ld1RpbGUuaGVpZ2h0Kys7XHJcblx0XHRpZiAodGhpcy5jaGVja1RpbGVJbnRlcnNlY3RzQmJveChuZXdUaWxlKSlcclxuXHRcdFx0bmV3VGlsZS5oZWlnaHQtLTtcclxuXHRcdGlmIChuZXdUaWxlLndpZHRoIDw9IDAgfHwgbmV3VGlsZS5oZWlnaHQgPD0gMClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy50aWxlcy5wdXNoKG5ld1RpbGUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlIHRpbGUgZnJvbSBkYXNoYm9hcmRcclxuXHQgKiBAcGFyYW0ge0l6ZW5kYURhc2hib2FyZFRpbGVNb2RlbH0gdGlsZSB0aWxlIGZvciByZW1vdmFsLlxyXG5cdCAqL1xyXG5cdHJlbW92ZVRpbGUodGlsZTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsKSB7XHJcblx0XHR0aGlzLnRpbGVzLnNwbGljZSh0aGlzLnRpbGVzLmluZGV4T2YodGlsZSksIDEpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSWYgdGlsZSBpbnRlcnNlY3RzIHdpdGggYXQgbGVhc3Qgb25lIG9mIGl0J3MgbmVpZ2hib3JzIC0gcmV0dXJuIHRydWUuXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGUgdGlsZSB3aGljaCB3ZSBjaGVja1xyXG5cdCAqL1xyXG5cdGNoZWNrVGlsZUludGVyc2VjdHNCYm94KHRpbGU6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCk6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3QgaGl0VGVzdCA9IChhOiBJQm94LCBiOiBJQm94KTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdGNvbnN0IGFMZWZ0ID0gYS54O1xyXG5cdFx0XHRjb25zdCBhUmlnaHQgPSBhLnggKyBhLndpZHRoIC0gMTtcclxuXHRcdFx0Y29uc3QgYVRvcCA9IGEueTtcclxuXHRcdFx0Y29uc3QgYUJvdHRvbSA9IGEueSArIGEuaGVpZ2h0IC0gMTtcclxuXHRcdFx0Y29uc3QgYkxlZnQgPSBiLng7XHJcblx0XHRcdGNvbnN0IGJSaWdodCA9IGIueCArIGIud2lkdGggLSAxO1xyXG5cdFx0XHRjb25zdCBiVG9wID0gYi55O1xyXG5cdFx0XHRjb25zdCBiQm90dG9tID0gYi55ICsgYi5oZWlnaHQgLSAxO1xyXG5cdFx0XHRyZXR1cm4gIShiTGVmdCA+IGFSaWdodCB8fCBiUmlnaHQgPCBhTGVmdCB8fCBiVG9wID4gYUJvdHRvbSB8fCBiQm90dG9tIDwgYVRvcCk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3Qgb3RoZXJUaWxlcyA9IHRoaXMudGlsZXMuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGlsZS5pZCk7XHJcblx0XHRyZXR1cm4gb3RoZXJUaWxlcy5zb21lKHQgPT4gaGl0VGVzdCh0aWxlLCB0KSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgbWF4aW11bSB0aWxlIGhlaWdodC5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGlzT25lQ29sdW1uVmlldyBkZXNrdG9wL21vYmlsZSB2ZXJzaW9uLlxyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IG1heGltdW0gaGVpZ2h0IGluIGNvb3JkaW5hdGUgcG9pbnRzLlxyXG5cdCAqL1xyXG5cdGdldE1heEhlaWdodChpc09uZUNvbHVtblZpZXc6IGJvb2xlYW4pOiBudW1iZXIge1xyXG5cdFx0aWYgKGlzT25lQ29sdW1uVmlldylcclxuXHRcdFx0cmV0dXJuIHRoaXMudGlsZXMubGVuZ3RoICogNDtcclxuXHRcdHZhciBtYXhIZWlnaHQgPSAwO1xyXG5cdFx0dGhpcy50aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xyXG5cdFx0XHRpZiAobWF4SGVpZ2h0IDwgdGlsZS55ICsgdGlsZS5oZWlnaHQpXHJcblx0XHRcdFx0bWF4SGVpZ2h0ID0gdGlsZS55ICsgdGlsZS5oZWlnaHQ7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBtYXhIZWlnaHQ7XHJcblx0fVxyXG5cclxuXHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNjaGVkdWxlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2NoZWR1bGUtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5cclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvZGFzaGJvYXJkLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5cclxuLyoqXHJcblx0ICogRGFzaGJvYXJkIHF1ZXJ5IHNlcnZpY2UuIFRoaXMgc2VydmljZSBpcyBub3QgaW1wbGllZCBmb3IgZGlyZWN0IHVzZSBpbiBjb21wb25lbnRzLlxyXG5cdCAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmRRdWVyeVNlcnZpY2Uge1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHEnLCAnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLCAnJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlJywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVNoYXJlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeVNlcnZpY2U6IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNjaGVkdWxlU2VydmljZTogSXplbmRhU2NoZWR1bGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2hhcmVTZXJ2aWNlOiBJemVuZGFTaGFyZVNlcnZpY2UpIHtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIChuZXchKSBMb2FkIGRhc2hib2FyZCBjb25maWcganNvblxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBkYXNoYm9hcmRGdWxsTmFtZSBkYXNoYm9hcmQgcmVwb3J0IHNldCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IHVwZGF0ZUZyb21Tb3VyY2Ugd2hldGhlciBuZWVkIHRvIHVwZGF0ZSBkYXNoYm9hcmQgdGlsZXMgZnJvbSBzb3VyY2UgcmVwb3J0IG9yIG5vdC5cclxuXHQgKi9cclxuXHRsb2FkRGFzaGJvYXJkTmV3KGRhc2hib2FyZEZ1bGxOYW1lOiBzdHJpbmcsIHVwZGF0ZUZyb21Tb3VyY2U6IGJvb2xlYW4pOiBhbmd1bGFyLklQcm9taXNlPEl6ZW5kYURhc2hib2FyZE1vZGVsPiB7XHJcblx0XHRpZiAoIWRhc2hib2FyZEZ1bGxOYW1lKVxyXG5cdFx0XHR0aHJvdyAnZGFzaGJvYXJkRnVsbE5hbWUgc2hvdWxkIGJlIG5vbi1lbXB0eSBzdHJpbmcuJztcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmFwaVF1ZXJ5KCdsb2FkRGFzaGJvYXJkQ29uZmlnTmV3JywgW2Rhc2hib2FyZEZ1bGxOYW1lLCB1cGRhdGVGcm9tU291cmNlXSkudGhlbihqc29uID0+IHtcclxuXHRcdFx0XHQvLyB2YWxpZGF0ZSBxdWVyeSByZXN1bHRcclxuXHRcdFx0XHRpZiAoIUl6ZW5kYURhc2hib2FyZE1vZGVsLmlzVmFsaWRKc29uKGpzb24pKSB7XHJcblx0XHRcdFx0XHRyZWplY3QoYFF1ZXJ5IFwibG9hZERhc2hib2FyZENvbmZpZ05ld1wiIHJldHVybmVkIGludmFsaWQgcmVzdWx0OiR7SlNPTi5zdHJpbmdpZnkoanNvbil9YCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBleHRyYWN0IHNoYXJlICYgc2NoZWR1bGUgY29uZmlncyBmcm9tIGpzb24gYW5kIGNyZWF0ZSBpdHMgbW9kZWxzIGluIHRoZSBzaGFyZSBhbmQgc2NoZWR1bGUgc2VydmljZXMuXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhU2NoZWR1bGVTZXJ2aWNlLnNldFNjaGVkdWxlQ29uZmlnKGpzb24uc2NoZWR1bGUpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVNoYXJlU2VydmljZS5zZXRTaGFyZUNvbmZpZyhqc29uLnNoYXJlKTtcclxuXHRcdFx0XHRjb25zdCBkYXNoYm9hcmRNb2RlbCA9IEl6ZW5kYURhc2hib2FyZE1vZGVsLmNyZWF0ZUluc3RhbmNlKGZhbHNlLCBqc29uKTtcclxuXHRcdFx0XHRyZXNvbHZlKGRhc2hib2FyZE1vZGVsKTtcclxuXHRcdFx0fSwgZXJyb3IgPT4ge1xyXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiAobmV3ISkgU2F2ZSBkYXNoYm9hcmQuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gZGFzaGJvYXJkIG1vZGVsLlxyXG5cdCAqL1xyXG5cdHNhdmVEYXNoYm9hcmROZXcoanNvbjogYW55KTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdGlmICghanNvbilcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdEYXNoYm9hcmQganNvbiBpcyBlbXB0eScpO1xyXG5cdFx0Y29uc3QgZGFzaGJvYXJkQ29uZmlnUGFyYW0gPSBKU09OLnN0cmluZ2lmeShqc29uKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5hcGlRdWVyeSgnc2F2ZVJlcG9ydFNldE5ldycsIFtkYXNoYm9hcmRDb25maWdQYXJhbV0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVzZXJlYWxpemUgZGFzaGJvYXJkIGludG8gQ3VycmVudFJlcG9ydFNldC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBkYXNoYm9hcmQganNvblxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlXHJcblx0ICovXHJcblx0c3luY1RpbGVzTmV3KGpzb246IGFueSwgdGlsZT86IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCkge1xyXG5cdFx0Y29uc3QgZGFzaGJvYXJkQ29uZmlnUGFyYW0gPSBKU09OLnN0cmluZ2lmeShqc29uKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ3N5bmNEYXNoYm9hcmROZXcnLFxyXG5cdFx0XHRbZGFzaGJvYXJkQ29uZmlnUGFyYW0sIHRpbGUgJiYgdGlsZS5yZXBvcnRGdWxsTmFtZSA/IHRpbGUucmVwb3J0RnVsbE5hbWUgOiAnJ10pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVzZXJlYWxpemUgZGFzaGJvYXJkIGFuZCByZXR1cm4gaXQncyBmaWx0ZXJzXHJcblx0ICogQHBhcmFtIHtqc29ufSBkYXNoYm9hcmRDb25maWdcclxuXHQgKi9cclxuXHRzeW5jRmlsdGVyc05ldyhkYXNoYm9hcmRDb25maWcpIHtcclxuXHRcdGNvbnN0IGRhc2hib2FyZENvbmZpZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoZGFzaGJvYXJkQ29uZmlnKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ3N5bmNEYXNoYm9hcmRGaWx0ZXJzTmV3JywgW2Rhc2hib2FyZENvbmZpZ1BhcmFtXSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIHRpbGUgSFRNTFxyXG5cdCAqIEBwYXJhbSB7YW55fSBkYXNoYm9hcmRDb25maWdcclxuXHQgKiBAcGFyYW0ge0l6ZW5kYURhc2hib2FyZFRpbGVNb2RlbH0gdGlsZXMgd2hpY2ggcHJldmlldyBpcyByZXF1aXJlZFxyXG5cdCAqL1xyXG5cdGxvYWRUaWxlc1ByZXZpZXdOZXcoZGFzaGJvYXJkQ29uZmlnLCB0aWxlLCBzaXplKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QodGlsZSkpXHJcblx0XHRcdHRocm93ICdBcmd1bWVudCBleGNlcHRpb246IFwidGlsZVwiIHBhcmFtZXRlciBzaG91bGQgYmUgb2JqZWN0Lic7XHJcblxyXG5cdFx0Y29uc3QgZGFzaGJvYXJkQ29uZmlnUGFyYW0gPSBKU09OLnN0cmluZ2lmeShkYXNoYm9hcmRDb25maWcpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5hcGlRdWVyeSgnZ2V0RGFzaGJvYXJkVGlsZVByZXZpZXdOZXcnLFxyXG5cdFx0XHRbZGFzaGJvYXJkQ29uZmlnUGFyYW0sIHRpbGUucmVwb3J0RnVsbE5hbWUsIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0XSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZW5kIHJlcG9ydCB2aWEgZW1haWxcclxuXHQgKi9cclxuXHRzZW5kUmVwb3J0VmlhRW1haWxOZXcoZGFzaGJvYXJkQ29uZmlnLCB0eXBlLCB0bykge1xyXG5cdFx0Y29uc3QgZGFzaGJvYXJkQ29uZmlnUGFyYW0gPSBKU09OLnN0cmluZ2lmeShkYXNoYm9hcmRDb25maWcpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5hcGlRdWVyeSgnc2VuZERhc2hib2FyZEVtYWlsTmV3JywgW2Rhc2hib2FyZENvbmZpZ1BhcmFtLCB0eXBlLCB0b10pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCByZWZyZXNoIGludGV2YWxzIGNvbmZpZ3VyZWQgaW4gQWRIb2NTZXR0aW5ncy5cclxuXHQgKi9cclxuXHRsb2FkQXV0b1JlZnJlc2hJbnRlcnZhbHNOZXcoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ2F1dG9yZWZyZXNoaW50ZXJ2YWxzJywgW10pLnRoZW4oXHJcblx0XHRcdFx0cmVzdWx0ID0+IHtcclxuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGVycm9yID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9XHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRGFzaGJvYXJkQXV0b1JlZnJlc2hFcnJvcicsICdGYWlsZWQgdG8gZ2V0IGF1dG8gcmVmcmVzaCBpbnRlcnZhbHMnKTtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGAke2Vycm9yTWVzc2FnZX06ICR7ZXJyb3J9YCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZGFzaGJvYXJkIG5hdmlnYXRpb25cclxuXHQgKi9cclxuXHRsb2FkRGFzaGJvYXJkTmF2aWdhdGlvbk5ldygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5hcGlRdWVyeSgnZ2V0RGFzaGJvYXJkQ2F0ZWdvcmllc05ldycsIFtdKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZScsIERhc2hib2FyZFF1ZXJ5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChEYXNoYm9hcmRRdWVyeVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEl6ZW5kYURhc2hib2FyZEdhbGxlcnlTdGF0ZU1vZGVsIHtcclxuXHRwcml2YXRlIGlzRW5hYmxlZElubmVyOiBib29sZWFuID0gZmFsc2U7XHJcblx0aXNGdWxsU2NyZWVuOiBib29sZWFuID0gZmFsc2U7XHJcblx0cGxheURlbGF5OiBudW1iZXIgPSA1MDAwO1xyXG5cdGlzUGxheVN0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRpc1BsYXlSZXBlYXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnJlc2V0KCk7XHJcblx0fVxyXG5cclxuXHRyZXNldCgpIHtcclxuXHRcdHRoaXMuaXNFbmFibGVkSW5uZXIgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNGdWxsU2NyZWVuID0gZmFsc2U7XHJcblx0XHR0aGlzLnBsYXlEZWxheSA9IDUwMDA7XHJcblx0XHR0aGlzLmlzUGxheVN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNQbGF5UmVwZWF0ID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRnZXQgaXNFbmFibGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNFbmFibGVkSW5uZXI7XHJcblx0fVxyXG5cclxuXHRzZXQgaXNFbmFibGVkKHZhbHVlKSB7XHJcblx0XHR0aGlzLmlzRW5hYmxlZElubmVyID0gdmFsdWU7XHJcblx0XHR0aGlzLmlzRnVsbFNjcmVlbiA9IGZhbHNlOyAvLyB0dXJuIG9mZiBmdWxsc2NyZWVuXHJcblx0XHR0aGlzLmlzUGxheVN0YXJ0ZWQgPSBmYWxzZTsgLy8gdHVybiBvZmYgcGxheVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkR2FsbGVyeVN0YXRlTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvZ2FsbGVyeS1zdGF0ZS1tb2RlbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmRHYWxsZXJ5U2VydmljZSB7XHJcblx0JGdhbGxlcnlTdGF0ZTogYW55O1xyXG5cdGxvY2F0aW9uOiBhbnk7XHJcblx0Z2FsbGVyeVN0YXRlOiBJemVuZGFEYXNoYm9hcmRHYWxsZXJ5U3RhdGVNb2RlbDtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRpemVuZGFVcmxTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UpIHtcclxuXHRcdHRoaXMuZ2FsbGVyeVN0YXRlID0gbmV3IEl6ZW5kYURhc2hib2FyZEdhbGxlcnlTdGF0ZU1vZGVsKCk7XHJcblx0XHQvLyBzdWJzY2liZSBvbiBsb2NhdGlvbiBjaGFuZ2UuXHJcblx0XHR0aGlzLmxvY2F0aW9uID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5sb2NhdGlvbjtcclxuXHRcdHRoaXMubG9jYXRpb24uc3Vic2NyaWJlT25OZXh0KHRoaXMuJG9uTG9jYXRpb25DaGFuZ2VkLCB0aGlzKTtcclxuXHR9XHJcblxyXG5cdCRvbkxvY2F0aW9uQ2hhbmdlZChuZXdMb2NhdGlvbikge1xyXG5cdFx0dGhpcy5nYWxsZXJ5U3RhdGUucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlJywgRGFzaGJvYXJkR2FsbGVyeVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoRGFzaGJvYXJkR2FsbGVyeVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgSUl6ZW5kYVJhd01vZGVsIGFzIElSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5cclxuLyoqXHJcbiAqIFNlcnZlci1zaWRlIGZpbHRlcnMgb2JqZWN0IHJhdyBtb2RlbC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFGaWx0ZXJzTW9kZWwgaW1wbGVtZW50cyBJUmF3TW9kZWwge1xyXG5cclxuXHRmaWx0ZXJMb2dpYzogc3RyaW5nID0gJyc7XHJcblx0ZmlsdGVyczogYW55W10gPSBbXTtcclxuXHRzdWJyZXBvcnRzRmlsdGVyczogYW55ID0gbnVsbDtcclxuXHJcblx0ZnJvbUpzb24oanNvbjogYW55KSB7XHJcblx0XHR0aGlzLmZpbHRlckxvZ2ljID0ganNvbi5GaWx0ZXJMb2dpYyB8fCAnJztcclxuXHRcdHRoaXMuZmlsdGVycyA9IGpzb24uRmlsdGVycyB8fCBbXTtcclxuXHRcdHRoaXMuc3VicmVwb3J0c0ZpbHRlcnMgPSBqc29uLlN1YnJlcG9ydHNGaWx0ZXJzIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdEZpbHRlckxvZ2ljOiB0aGlzLmZpbHRlckxvZ2ljLFxyXG5cdFx0XHRGaWx0ZXJzOiB0aGlzLmZpbHRlcnMsXHJcblx0XHRcdFN1YnJlcG9ydEZpbHRlcnM6IHRoaXMuc3VicmVwb3J0c0ZpbHRlcnNcclxuXHRcdH07XHJcblx0fVxyXG59IiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNoYXJlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2hhcmUtc2VydmljZSc7XHJcblxyXG5pbXBvcnQgeyBJemVuZGFGaWx0ZXJzTW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvZmlsdGVycy1tb2RlbCc7XHJcbmltcG9ydCB7IElJemVuZGFEYXNoYm9hcmRDb25maWcgfSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC9kYXNoYm9hcmQtbW9kZWwnO1xyXG5pbXBvcnQgRGFzaGJvYXJkUXVlcnlTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtcXVlcnktc2VydmljZSc7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBEYXNoYm9hcmQgc3RvcmFnZSBzZXJ2aWNlLiBTdG9yZXMgY3VycmVudCBkYXNoYm9hcmQgc3RhdGUuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSB7XHJcblxyXG5cdFVOQ0FURUdPUklaRUQ6IHN0cmluZztcclxuXHJcblx0Ly8gcnggc3ViamVjdHNcclxuXHRtb2RlbDogYW55O1xyXG5cdGNhdGVnb3JpZXM6IGFueTtcclxuXHRjdXJyZW50Q2F0ZWdvcnk6IGFueTtcclxuXHRjdXJyZW50RGFzaGJvYXJkOiBhbnk7XHJcblx0aXNMb2FkZWQ6IGFueTtcclxuXHRpc0ZpbHRlcnNBY3RpdmU6IGFueTtcclxuXHRleHBvcnRQcm9ncmVzczogYW55O1xyXG5cdGF1dG9SZWZyZXNoOiBhbnk7XHJcblx0cmVmcmVzaE9ic2VydmFibGU6IGFueTtcclxuXHR3aW5kb3dTaXplOiBhbnk7XHJcblx0d2luZG93U2l6ZUFjdGl2ZTogYW55O1xyXG5cdGxvY2F0aW9uOiBhbnk7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHQncngnLCAnJHEnLCAnJHdpbmRvdycsICckaW50ZXJ2YWwnLCAnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLCAnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgJyRpemVuZGFVcmxTZXJ2aWNlJywgJyRpemVuZGFSc1F1ZXJ5U2VydmljZScsXHJcblx0XHRcdCckaXplbmRhVXRpbFVpU2VydmljZScsICdpemVuZGFEYXNoYm9hcmRDb25maWcnLCAnJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZScsXHJcblx0XHRcdCckaXplbmRhU2NoZWR1bGVTZXJ2aWNlJywgJyRpemVuZGFTaGFyZVNlcnZpY2UnXHJcblx0XHRdO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyeDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeVNlcnZpY2U6IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZENvbmZpZzogSUl6ZW5kYURhc2hib2FyZENvbmZpZyxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZTogRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2NoZWR1bGVTZXJ2aWNlOiBJemVuZGFTY2hlZHVsZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTaGFyZVNlcnZpY2U6IEl6ZW5kYVNoYXJlU2VydmljZSkge1xyXG5cclxuXHRcdHRoaXMuVU5DQVRFR09SSVpFRCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJyk7XHJcblxyXG5cdFx0Ly8gcnggc3ViamVjdHNcclxuXHRcdHRoaXMubW9kZWwgPSBuZXcgdGhpcy4kcnguQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdChbXSk7XHJcblx0XHR0aGlzLmN1cnJlbnRDYXRlZ29yeSA9IG5ldyB0aGlzLiRyeC5CZWhhdmlvclN1YmplY3QoW10pO1xyXG5cdFx0dGhpcy5jdXJyZW50RGFzaGJvYXJkID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdChudWxsKTtcclxuXHRcdHRoaXMuaXNMb2FkZWQgPSBuZXcgdGhpcy4kcnguQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcclxuXHRcdHRoaXMuaXNGaWx0ZXJzQWN0aXZlID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdChmYWxzZSk7XHJcblx0XHR0aGlzLmV4cG9ydFByb2dyZXNzID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdChudWxsKTtcclxuXHRcdHRoaXMuYXV0b1JlZnJlc2ggPSBuZXcgdGhpcy4kcnguQmVoYXZpb3JTdWJqZWN0KHtcclxuXHRcdFx0aW50ZXJ2YWxzOiBbXVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnJlZnJlc2hPYnNlcnZhYmxlID0gbmV3IHRoaXMuJHJ4LlN1YmplY3QoKTtcclxuXHRcdHRoaXMud2luZG93U2l6ZSA9IG5ldyB0aGlzLiRyeC5CZWhhdmlvclN1YmplY3Qoe1xyXG5cdFx0XHR3aWR0aDogdGhpcy4kd2luZG93LmlubmVyV2lkdGgsXHJcblx0XHRcdGhlaWdodDogdGhpcy4kd2luZG93LmlubmVySGVpZ2h0XHJcblx0XHR9KTtcclxuXHRcdHRoaXMud2luZG93U2l6ZUFjdGl2ZSA9IHRydWU7XHJcblxyXG5cdFx0Ly8gc2V0IGN1c3RvbSByZWZyZXNoIGNhc2NhZGluZyBmaWx0ZXJzIGZ1bmN0aW9uXHJcblx0XHR0aGlzLl9zZXRGaWx0ZXJzUmVmcmVzaENhc2NhZGluZ0ludGVyY2VwdG9yKCk7XHJcblxyXG5cdFx0Ly8gc3Vic2NyaWJlIG9uIGxvY2F0aW9uIGNoYW5nZS5cclxuXHRcdHRoaXMubG9jYXRpb24gPSAkaXplbmRhVXJsU2VydmljZS5sb2NhdGlvbjtcclxuXHRcdHRoaXMubG9jYXRpb24uc3Vic2NyaWJlT25OZXh0KHRoaXMuXyRvbkxvY2F0aW9uQ2hhbmdlZCwgdGhpcyk7XHJcblxyXG5cdFx0Ly8gc3Vic2NyaWJlIG9uIHdpbmRvdyByZXNpemVcclxuXHRcdHRoaXMudHVybk9uUmVzaXplSGFuZGxlcigpO1xyXG5cclxuXHRcdC8vIGxvYWQgc29tZSBzdGF0aWMgc3R1ZmYuXHJcblx0XHR0aGlzLmxvYWRBdXRvUmVmcmVzaEludGVydmFscygpO1xyXG5cdH1cclxuXHJcblx0dHVybk9uUmVzaXplSGFuZGxlcigpIHtcclxuXHRcdGNvbnN0IHJlc2l6ZSA9IG5ldyB0aGlzLiRyeC5PYnNlcnZhYmxlLmZyb21FdmVudCh0aGlzLiR3aW5kb3csICdyZXNpemUnKTtcclxuXHRcdGNvbnN0IHJlc2l6ZURlYm91bmNlID0gcmVzaXplLmRlYm91bmNlKDUwMCk7XHJcblx0XHRjb25zdCByZXNpemVDb21iaW5lZCA9IHRoaXMuJHJ4Lk9ic2VydmFibGUubWVyZ2UoXHJcblx0XHRcdHJlc2l6ZS5tYXAoZSA9PiAoeyBldmVudDogZSwgaXNEZWJvdW5jZUFwcGxpZWQ6IGZhbHNlIH0pKSxcclxuXHRcdFx0cmVzaXplRGVib3VuY2UubWFwKGUgPT4gKHsgZXZlbnQ6IGUsIGlzRGVib3VuY2VBcHBsaWVkOiB0cnVlIH0pKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBjb21iaW5lZCByZXNpemUgZXZlbnRzIGVtaXR0ZXIgKHNpbXBsZSByZXNpemUgZXZlbnQgd2lsbCBjb21lIGVhcmxpZXIgdGhhbiBpdCdzIGRlYm91bmNlZCB2ZXJzaW9uKVxyXG5cdFx0cmVzaXplQ29tYmluZWQuc3Vic2NyaWJlKG9iaiA9PiB7XHJcblx0XHRcdC8vIGlmIHJlc2l6ZSBpcyB0dXJuZWQgb2ZmIC0gZG8gbm90aGluZ1xyXG5cdFx0XHRpZiAoIXRoaXMud2luZG93U2l6ZUFjdGl2ZSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGNvbnN0IGlzRGVib3VuY2VBcHBsaWVkID0gb2JqLmlzRGVib3VuY2VBcHBsaWVkO1xyXG5cdFx0XHRpZiAoIWlzRGVib3VuY2VBcHBsaWVkKSB7XHJcblx0XHRcdFx0Ly92YXIgb3ZlcmZsb3dWYWx1ZSA9IGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnKTtcclxuXHRcdFx0XHQvL2lmIChvdmVyZmxvd1ZhbHVlICE9PSAnaGlkZGVuJykge1xyXG5cdFx0XHRcdC8vXHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdC8vfVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIG5vdGlmeVxyXG5cdFx0XHRcdHRoaXMud2luZG93U2l6ZS5vbk5leHQoe1xyXG5cdFx0XHRcdFx0d2lkdGg6IHRoaXMuJHdpbmRvdy5pbm5lcldpZHRoLFxyXG5cdFx0XHRcdFx0aGVpZ2h0OiB0aGlzLiR3aW5kb3cuaW5uZXJIZWlnaHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2UgbG9jYXRpb24gdG8gbmV3IGRhc2hib2FyZFxyXG5cdCAqL1xyXG5cdG5hdmlnYXRlTmV3RGFzaGJvYXJkKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXRJc05ldygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hhbmdlIGxvY2F0aW9uIHRvIGV4aXN0aW5nIGRhc2hib2FyZFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBkYXNoYm9hcmRGdWxsTmFtZSBkYXNoYm9hcmQgcmVwb3J0IHNldCBmdWxsIG5hbWUuXHJcblx0ICovXHJcblx0bmF2aWdhdGVUb0Rhc2hib2FyZChkYXNoYm9hcmRGdWxsTmFtZSkge1xyXG5cdFx0dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXRSZXBvcnRGdWxsTmFtZShkYXNoYm9hcmRGdWxsTmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTYXZlIGRhc2hib2FyZC4gSWYgYXNzaWduZWQgbmV3IHJlcG9ydCBuYW1lIGFuZCBjYXRlZ29yeSAtIG5hdmlnYXRpb24gdG8gdGhlIG5ldyBkYXNoYm9hcmQgd2lsbCBvY2N1ci5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0TmFtZSBOZXcgcmVwb3J0IG5hbWUgKG9wdGlvbmFsKS4gSWYgbm90IHNldCAtIHJlcG9ydCB3aWxsIGJlIHNhdmVkIHVzaW5nIGN1cnJlbnQgcmVwb3J0IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5TmFtZSBOZXcgY2F0ZWdvcnkgbmFtZSAob3B0aW9uYWwpLiBJZiBub3Qgc2V0IChvciByZXBvcnROYW1lIG5vdCBzZXQpIC0gcmVwb3J0XHJcblx0ICogd2lsbCBiZSBzYXZlZCB1c2luZyBjdXJyZW50IGNhdGVnb3J5IG5hbWUuXHJcblx0ICogQHRocm93cyB7cmVqZWN0IGZ1bmN0aW9ufSBwcm9taXNlIHdpbGwgcmVqZWN0IHdpdGggYSBtZXNzYWdlIGFzIGFyZ3VtZW50IGlmIHNvbWV0aGluZyB3ZW50IHdyb25nLlxyXG5cdCAqL1xyXG5cdHNhdmVEYXNoYm9hcmQocmVwb3J0TmFtZT86IHN0cmluZywgY2F0ZWdvcnlOYW1lPzogc3RyaW5nKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgcmVzdG9yZVByZXZpb3VzUmVwb3J0TmFtZSA9IChtb2RlbDogSXplbmRhRGFzaGJvYXJkTW9kZWwpID0+IHtcclxuXHRcdFx0bW9kZWwucmVwb3J0Q2F0ZWdvcnkgPSBtb2RlbC5wcmV2aW91c1JlcG9ydENhdGVnb3J5O1xyXG5cdFx0XHRtb2RlbC5yZXBvcnROYW1lID0gbW9kZWwucHJldmlvdXNSZXBvcnROYW1lO1xyXG5cdFx0XHRtb2RlbC5yZXBvcnRGdWxsTmFtZSA9IG1vZGVsLnByZXZpb3VzUmVwb3J0RnVsbE5hbWU7XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0Y29uc3QgbW9kZWw6IEl6ZW5kYURhc2hib2FyZE1vZGVsID0gdGhpcy5tb2RlbC5nZXRWYWx1ZSgpO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdC8vIHByZXBhcmUgcmVwb3J0IG5hbWUgdmFyaWFibGVzXHJcblx0XHRcdFx0bGV0IG5ld1JlcG9ydE5hbWUgPSByZXBvcnROYW1lIHx8IG51bGw7XHJcblx0XHRcdFx0bGV0IG5ld1JlcG9ydENhdGVnb3J5ID0gY2F0ZWdvcnlOYW1lIHx8IG51bGw7XHJcblx0XHRcdFx0bGV0IG5ld1JlcG9ydEZ1bGxOYW1lOiBzdHJpbmc7XHJcblx0XHRcdFx0aWYgKHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChuZXdSZXBvcnRDYXRlZ29yeSkpXHJcblx0XHRcdFx0XHRuZXdSZXBvcnRDYXRlZ29yeSA9IG51bGw7XHJcblx0XHRcdFx0aWYgKG5ld1JlcG9ydE5hbWUpIHtcclxuXHRcdFx0XHRcdC8vIGlmIG5hbWUgd2FzIHNldFxyXG5cdFx0XHRcdFx0bmV3UmVwb3J0RnVsbE5hbWUgPSB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5jcmVhdGVSZXBvcnRGdWxsTmFtZShuZXdSZXBvcnROYW1lLFxyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSxcclxuXHRcdFx0XHRcdFx0bmV3UmVwb3J0Q2F0ZWdvcnkpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBpZiBuYW1lIHdhc24ndCBzZXRcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHRoaXMubG9jYXRpb24uZ2V0VmFsdWUoKTtcclxuXHRcdFx0XHRcdG5ld1JlcG9ydE5hbWUgPSBjdXJyZW50TG9jYXRpb24ubmFtZTtcclxuXHRcdFx0XHRcdG5ld1JlcG9ydENhdGVnb3J5ID0gY3VycmVudExvY2F0aW9uLmNhdGVnb3J5O1xyXG5cdFx0XHRcdFx0bmV3UmVwb3J0RnVsbE5hbWUgPSBjdXJyZW50TG9jYXRpb24uZnVsbE5hbWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyB1cGRhdGUgcmVwb3J0IG5hbWVzIGluIHRoZSBtb2RlbFxyXG5cdFx0XHRcdG1vZGVsLnByZXZpb3VzUmVwb3J0Q2F0ZWdvcnkgPSBtb2RlbC5yZXBvcnRDYXRlZ29yeTtcclxuXHRcdFx0XHRtb2RlbC5wcmV2aW91c1JlcG9ydE5hbWUgPSBtb2RlbC5yZXBvcnROYW1lO1xyXG5cdFx0XHRcdG1vZGVsLnByZXZpb3VzUmVwb3J0RnVsbE5hbWUgPSBtb2RlbC5yZXBvcnRGdWxsTmFtZTtcclxuXHRcdFx0XHRtb2RlbC5yZXBvcnRDYXRlZ29yeSA9IG5ld1JlcG9ydENhdGVnb3J5O1xyXG5cdFx0XHRcdG1vZGVsLnJlcG9ydE5hbWUgPSBuZXdSZXBvcnROYW1lO1xyXG5cdFx0XHRcdG1vZGVsLnJlcG9ydEZ1bGxOYW1lID0gdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldFJlcG9ydEZ1bGxOYW1lKG5ld1JlcG9ydE5hbWUsIG5ld1JlcG9ydENhdGVnb3J5KTtcclxuXHJcblx0XHRcdFx0aWYgKG1vZGVsLnRpbGVzLmZpbHRlcih0ID0+IHQgJiYgISF0LnJlcG9ydEZ1bGxOYW1lKS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdC8vIHNob3cgXCJubyB0aWxlc1wiIGVycm9yLlxyXG5cdFx0XHRcdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ2FudFNhdmVFbXB0eURhc2hib2FyZCcsICdDYW5cXCd0IHNhdmUgZW1wdHkgZGFzaGJvYXJkLicpO1xyXG5cdFx0XHRcdFx0cmVzdG9yZVByZXZpb3VzUmVwb3J0TmFtZShtb2RlbCk7XHJcblx0XHRcdFx0XHRyZWplY3QobWVzc2FnZSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBjcmVhdGUganNvbiBhbmQgc2VuZCBzYXZlIHJlcXVlc3RcclxuXHRcdFx0XHRjb25zdCBqc29uID0gdGhpcy5jcmVhdGVKc29uQ29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5zYXZlRGFzaGJvYXJkTmV3KGpzb24pLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXRSZXBvcnRGdWxsTmFtZShuZXdSZXBvcnRGdWxsTmFtZSk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fSwgKGVycm9yKSA9PiB7XHJcblx0XHRcdFx0XHRyZXN0b3JlUHJldmlvdXNSZXBvcnROYW1lKG1vZGVsKTtcclxuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRyZXN0b3JlUHJldmlvdXNSZXBvcnROYW1lKG1vZGVsKTtcclxuXHRcdFx0XHRyZWplY3QoZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCB0aWxlcyBIVE1MIGNvbnRlbnQuXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGUgVGlsZSBvYmplY3QuXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHNpemUge3dpZHRoLCBoZWlnaHR9IG9iamVjdC5cclxuXHQgKi9cclxuXHRsb2FkVGlsZXNQcmV2aWV3KHRpbGUsIHNpemUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBzaXplT2JqZWN0ID0gc2l6ZSB8fCB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcclxuXHRcdFx0XHRjb25zdCBqc29uID0gdGhpcy5jcmVhdGVKc29uQ29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5sb2FkVGlsZXNQcmV2aWV3TmV3KGpzb24sIHRpbGUsIHNpemVPYmplY3QpXHJcblx0XHRcdFx0XHQudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpLCBlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdHJlamVjdChlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGFuZCBwcmVwYXJlIHJlcG9ydCBpbnRvIGNvbnRhaW5lclxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnQgaHRtbCBkYXRhLlxyXG5cdCAqIEBwYXJhbSB7anF1ZXJ5IGRvbSBlbGVtZW50fSBjb250YWluZXIuXHJcblx0ICovXHJcblx0bG9hZFJlcG9ydEludG9Db250YWluZXIoaHRtbERhdGEsICRjb250YWluZXIpIHtcclxuXHRcdGNvbnN0IGN1c3RvbUNzc1N0YXJ0ID0gJy8qQ3VzdG9tQ3NzU3RhcnQqLyc7XHJcblx0XHRjb25zdCBjdXN0b21Dc3NFbmQgPSAnLypDdXN0b21Dc3NFbmQqLyc7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFeHRyYWN0IGN1c3RvbSBjc3MgcnVsZXNcclxuXHRcdCAqL1xyXG5cdFx0Y29uc3QgZXh0cmFjdEN1c3RvbUNzcyA9IGh0bWwgPT4ge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihDU1NQYXJzZXIpKVxyXG5cdFx0XHRcdHRocm93ICdDc3MgcGFyc2VyIChjc3NQYXJzZXIuanMpIG5vdCBmb3VuZCc7XHJcblx0XHRcdGNvbnN0IHN0YXJ0SW5kZXggPSBodG1sLmluZGV4T2YoY3VzdG9tQ3NzU3RhcnQpO1xyXG5cdFx0XHRjb25zdCBlbmRJbmRleCA9IGh0bWwuaW5kZXhPZihjdXN0b21Dc3NFbmQpO1xyXG5cdFx0XHRpZiAoc3RhcnRJbmRleCA8IDAgfHwgZW5kSW5kZXggPCAwIHx8IHN0YXJ0SW5kZXggPiBlbmRJbmRleClcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBjdXN0b21Dc3MgPSBodG1sLnN1YnN0cmluZyhzdGFydEluZGV4ICsgY3VzdG9tQ3NzU3RhcnQubGVuZ3RoLCBlbmRJbmRleCk7XHJcblx0XHRcdFx0Y29uc3QgcGFyc2VyID0gbmV3IENTU1BhcnNlcigpO1xyXG5cdFx0XHRcdGNvbnN0IHNoZWV0ID0gcGFyc2VyLnBhcnNlKGN1c3RvbUNzcywgZmFsc2UsIHRydWUpO1xyXG5cdFx0XHRcdHJldHVybiBzaGVldDtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5qZWN0IGN1c3RvbSBjc3NcclxuXHRcdCAqL1xyXG5cdFx0Y29uc3QgaW5qZWN0Q3VzdG9tQ3NzID0gKGh0bWwsIGN1c3RvbUNzcykgPT4ge1xyXG5cdFx0XHRjb25zdCBzdGFydEluZGV4ID0gaHRtbC5pbmRleE9mKGN1c3RvbUNzc1N0YXJ0KTtcclxuXHRcdFx0Y29uc3QgZW5kSW5kZXggPSBodG1sLmluZGV4T2YoY3VzdG9tQ3NzRW5kKTtcclxuXHRcdFx0aWYgKHN0YXJ0SW5kZXggPCAwIHx8IGVuZEluZGV4IDwgMCB8fCBzdGFydEluZGV4ID4gZW5kSW5kZXgpXHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFtcclxuXHRcdFx0XHRodG1sLnN1YnN0cmluZygwLCBzdGFydEluZGV4KSxcclxuXHRcdFx0XHRjdXN0b21Dc3NTdGFydCxcclxuXHRcdFx0XHRjdXN0b21Dc3MsXHJcblx0XHRcdFx0Y3VzdG9tQ3NzRW5kLFxyXG5cdFx0XHRcdGh0bWwuc3Vic3RyaW5nKGVuZEluZGV4ICsgY3VzdG9tQ3NzU3RhcnQubGVuZ3RoKVxyXG5cdFx0XHRdLmpvaW4oJycpO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZSBydWxlc1xyXG5cdFx0ICovXHJcblx0XHRjb25zdCByZXBsYWNlQ3NzUnVsZXMgPSAoc291cmNlU3R5bGVTaGVldCwgc2VsZWN0b3JUZXh0Q2hhbmdlRnVuY3Rpb24pID0+IHtcclxuXHRcdFx0Y29uc3QgY3NzUnVsZXMgPSBzb3VyY2VTdHlsZVNoZWV0LmNzc1J1bGVzO1xyXG5cdFx0XHRjc3NSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xyXG5cdFx0XHRcdGlmIChydWxlLnR5cGUgPT09IDEpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdG9yID0gcnVsZS5tU2VsZWN0b3JUZXh0O1xyXG5cdFx0XHRcdFx0cnVsZS5tU2VsZWN0b3JUZXh0ID0gc2VsZWN0b3JUZXh0Q2hhbmdlRnVuY3Rpb24oc2VsZWN0b3IpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAocnVsZS50eXBlID09PSA0KSB7XHJcblx0XHRcdFx0XHRyZXBsYWNlQ3NzUnVsZXMocnVsZSwgc2VsZWN0b3JUZXh0Q2hhbmdlRnVuY3Rpb24pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHZhciB0aWxlSWQgPSAkY29udGFpbmVyLmNsb3Nlc3QoJy5pemVuZGEtcmVwb3J0LXdpdGgtaWQnKS5hdHRyKCdyZXBvcnRpZCcpO1xyXG5cdFx0XHQvLyBjbGVhciBwcmV2aW91cyBjb250ZW50XHJcblx0XHRcdCRjb250YWluZXIuZW1wdHkoKTtcclxuXHJcblx0XHRcdC8vIHR1cm4gb2ZmIGludGVybmFsIHZpc3VhbGl6YXRpb24gd2luZG93IHJlc2l6ZSBoYW5kbGVyLlxyXG5cdFx0XHRpemVuZGEudmlzdWFsaXphdGlvbi5pc1Jlc2l6ZUhhbmRsZXJFbmFibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBsb2FkIHJlc3BvbnNlIHRvIGNvbnRhaW5lclxyXG5cdFx0XHRpZiAoYW5ndWxhci5pc09iamVjdChodG1sRGF0YSkgJiYgaHRtbERhdGEuaGFzT3duUHJvcGVydHkoJ21lc3NhZ2UnKSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoaHRtbERhdGEpO1xyXG5cdFx0XHRcdGl6ZW5kYS5yZXBvcnQubG9hZFJlcG9ydFJlc3BvbnNlKGh0bWxEYXRhWydtZXNzYWdlJ10sICRjb250YWluZXIpO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRpemVuZGEucmVwb3J0LmxvYWRSZXBvcnRSZXNwb25zZShodG1sRGF0YSwgJGNvbnRhaW5lcik7XHJcblxyXG5cdFx0XHQvLyByZXBsYWNlIENTU1xyXG5cdFx0XHRjb25zdCAkY3VzdG9tQ3NzID0gJGNvbnRhaW5lci5maW5kKCdzdHlsZVtpZD1hZGRpdGlvbmFsU3R5bGVdJyk7XHJcblx0XHRcdGlmICgkY3VzdG9tQ3NzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBjc3NodG1sID0gJGN1c3RvbUNzcy5odG1sKCk7XHJcblx0XHRcdFx0Y29uc3Qgc3R5bGVTaGVldCA9IGV4dHJhY3RDdXN0b21Dc3MoY3NzaHRtbCk7XHJcblx0XHRcdFx0aWYgKHN0eWxlU2hlZXQpIHtcclxuXHRcdFx0XHRcdC8vIHJlcGxhY2UgcnVsZSBzZWxlY3RvcnM6XHJcblx0XHRcdFx0XHRyZXBsYWNlQ3NzUnVsZXMoc3R5bGVTaGVldCxcclxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnRzID0gc2VsZWN0b3Iuc3BsaXQoJywnKTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgcmVzdWx0ID0gJyc7XHJcblx0XHRcdFx0XHRcdFx0cGFydHMuZm9yRWFjaChmdW5jdGlvbiAocGFydCwgaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCA+IDApXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdCArPSAnLCAnO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IGAuaXplbmRhLXJlcG9ydC13aXRoLWlkW3JlcG9ydGlkPVwiJHt0aWxlSWR9XCJdICR7cGFydC50cmltKCl9YDtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29uc3QgbmV3Q3NzID0gc3R5bGVTaGVldC5jc3NUZXh0KCk7XHJcblx0XHRcdFx0Y29uc3QgbmV3SHRtbCA9IGluamVjdEN1c3RvbUNzcyhjc3NodG1sLCBuZXdDc3MpO1xyXG5cdFx0XHRcdCRjdXN0b21Dc3MuaHRtbChuZXdIdG1sKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGNvbnRhaW5lci5maW5kKCdbaWQkPV9vdXRlclNwYW5dJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcblx0XHRcdC8vIHByZXBhcmUgY29udGVudCBkaXZcclxuXHRcdFx0Y29uc3QgZGl2cyQgPSAkY29udGFpbmVyLmZpbmQoJ2Rpdi5EYXNoUGFydEJvZHksIGRpdi5EYXNoUGFydEJvZHlOb1Njcm9sbCcpO1xyXG5cdFx0XHRpZiAoZGl2cyQubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGRpdnMkLmNzcygnaGVpZ2h0JywgJ2F1dG8nKTtcclxuXHRcdFx0XHRkaXZzJC5maW5kKCdzcGFuJykuZWFjaChmdW5jdGlvbiAoaVNwYW4sIHNwYW4pIHtcclxuXHRcdFx0XHRcdGNvbnN0ICRzcGFuID0gYW5ndWxhci5lbGVtZW50KHNwYW4pO1xyXG5cdFx0XHRcdFx0aWYgKCRzcGFuLmF0dHIoJ2lkJykgJiYgU3RyaW5nKCRzcGFuLmF0dHIoJ2lkJykpLmluZGV4T2YoJ19vdXRlclNwYW4nKSA+PSAwKSB7XHJcblx0XHRcdFx0XHRcdCRzcGFuLmNzcygnZGlzcGxheScsICdpbmxpbmUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjb25zdCAkemVyb2NoYXJ0UmVzdWx0cyA9IGRpdnMkLmZpbmQoJy5pei16ZXJvLWNoYXJ0LXJlc3VsdHMnKTtcclxuXHRcdFx0XHRpZiAoJHplcm9jaGFydFJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0JHplcm9jaGFydFJlc3VsdHMuY2xvc2VzdCgndGFibGUnKS5jc3MoJ2hlaWdodCcsICcxMDAlJyk7XHJcblx0XHRcdFx0XHRkaXZzJC5jc3MoJ2hlaWdodCcsICcxMDAlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGluaXQgZ2F1Z2VcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKEFkSG9jKSAmJlxyXG5cdFx0XHRcdGFuZ3VsYXIuaXNPYmplY3QoQWRIb2MuVXRpbGl0eSkgJiZcclxuXHRcdFx0XHRhbmd1bGFyLmlzRnVuY3Rpb24oQWRIb2MuVXRpbGl0eS5Jbml0R2F1Z2VBbmltYXRpb25zKSkge1xyXG5cdFx0XHRcdEFkSG9jLlV0aWxpdHkuSW5pdEdhdWdlQW5pbWF0aW9ucyhudWxsLCBudWxsKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQkY29udGFpbmVyLmVtcHR5KCk7XHJcblx0XHRcdGNvbnN0IGZhaWxlZE1zZyA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkVG9Mb2FkUmVwb3J0JywgJ0ZhaWxlZCB0byBsb2FkIHJlcG9ydCcpICsgJzogJyArIGU7XHJcblx0XHRcdCRjb250YWluZXIuYXBwZW5kKGA8Yj4ke2ZhaWxlZE1zZ308L2I+YCk7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoZmFpbGVkTXNnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFByaW50IGRhc2hib2FyZFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcblx0ICovXHJcblx0cHJpbnREYXNoYm9hcmQodHlwZSwgcmVwb3J0Rm9yUHJpbnQ/KSB7XHJcblx0XHR0aGlzLmV4cG9ydFByb2dyZXNzLm9uTmV4dCgncHJpbnQnKTtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzb2x2ZVdyYXBwZXIgPSAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5leHBvcnRQcm9ncmVzcy5vbk5leHQobnVsbCk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRjb25zdCByZWplY3RXcmFwcGVyID0gKGVycm9yKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5leHBvcnRQcm9ncmVzcy5vbk5leHQobnVsbCk7XHJcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmICh0eXBlICE9PSAnaHRtbCcgJiYgdHlwZSAhPT0gJ3BkZicgJiYgdHlwZSAhPT0gJ2V4Y2VsJykge1xyXG5cdFx0XHRcdHJlamVjdFdyYXBwZXIoYFVua25vd24gcHJpbnQgdHlwZTogJHt0eXBlfWApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QganNvbiA9IHRoaXMuY3JlYXRlSnNvbkNvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLnN5bmNUaWxlc05ldyhqc29uLCByZXBvcnRGb3JQcmludCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdodG1sJylcclxuXHRcdFx0XHRcdHRoaXMucHJpbnREYXNoYm9hcmRBc0h0bWwocmVwb3J0Rm9yUHJpbnQpLnRoZW4oKCkgPT4gcmVzb2x2ZVdyYXBwZXIoKSwgZXJyb3IgPT4gcmVqZWN0V3JhcHBlcihlcnJvcikpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKHR5cGUgPT09ICdleGNlbCcpXHJcblx0XHRcdFx0XHR0aGlzLnByaW50RGFzaGJvYXJkQXNFeGNlbChyZXBvcnRGb3JQcmludCkudGhlbigoKSA9PiByZXNvbHZlV3JhcHBlcigpLCBlcnJvciA9PiByZWplY3RXcmFwcGVyKGVycm9yKSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAodHlwZSA9PT0gJ3BkZicpXHJcblx0XHRcdFx0XHR0aGlzLnByaW50RGFzaGJvYXJkQXNQREYocmVwb3J0Rm9yUHJpbnQpLnRoZW4oKCkgPT4gcmVzb2x2ZVdyYXBwZXIoKSwgZXJyb3IgPT4gcmVqZWN0V3JhcHBlcihlcnJvcikpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRcdGVycm9yID0+IHJlamVjdFdyYXBwZXIoZXJyb3IpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT3BlbiBuZXcgd2luZG93IHdpdGggdGhlIG5ldyBkYXNoYm9hcmQgZm9yIHByaW50aW5nLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGb3JQcmludCByZXBvcnQgcGFydC4gT25seSBvbmUgcmVwb3J0IHdpbGwgYmUgcHJpbnRlZCBpZiBkZWZpbmVkLlxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkQXNIdG1sKHJlcG9ydEZvclByaW50KSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0dmFyIHByaW50VXJsID0gYCR7dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSc1BhZ2V9P3A9aHRtbHJlcG9ydCZwcmludD0xYDtcclxuXHRcdFx0XHQvLyBwcmludCBzaW5nbGUgdGlsZSBpZiBwYXJhbWV0ZXIgaXMgc2V0OlxyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHJlcG9ydEZvclByaW50KSAmJiByZXBvcnRGb3JQcmludCAhPT0gJycpXHJcblx0XHRcdFx0XHRwcmludFVybCArPSBgJnJlcG9ydFBhcnROYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlcG9ydEZvclByaW50KX1gO1xyXG5cclxuXHRcdFx0XHQvLyBpenBpZCBhbmQgYW5waWQgd2lsbCBiZSBhZGRlZCBpbnNpZGUgdGhlIEV4dGVuZFJlcG9ydEV4cG9ydCBtZXRob2QgXHJcblx0XHRcdFx0dGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgbmV3V2luZG93ID0gRXh0ZW5kUmVwb3J0RXhwb3J0KHJlc3BvbnNlU2VydmVyLk9wZW5VcmwsIHByaW50VXJsLCAnYXNwbmV0Rm9ybScsICcnLCAnJywgdHJ1ZSk7XHJcblx0XHRcdFx0XHRpZiAoJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSkge1xyXG5cdFx0XHRcdFx0XHRsZXQgaW50ZXJ2YWxJZCA9IHRoaXMuJGludGVydmFsKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIW5ld1dpbmRvdyB8fCBuZXdXaW5kb3cuY2xvc2VkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWxJZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRpbnRlcnZhbElkID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0sIDUwMCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgNTAwKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XHJcblx0XHRcdFx0cmVqZWN0KGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4cG9ydCBkYXNoYm9hcmQgdG8gZmlsZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvdXRwdXRUeXBlIG91dHB1dCB0eXBlIHF1ZXJ5IHBhcmFtZXRlclxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGb3JQcmludCByZXBvcnQgcGFydC4gT25seSBvbmUgcmVwb3J0IHdpbGwgYmUgcHJpbnRlZCBpZiBkZWZpbmVkLlxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkQXNGaWxlKG91dHB1dFR5cGUsIHJlcG9ydEZvclByaW50KSB7XHJcblx0XHRpZiAoIW91dHB1dFR5cGUpXHJcblx0XHRcdHRocm93ICdQYXJhbWV0ZXIgXCJvdXRwdXRUeXBlXCIgc2hvdWxkIGJlIGRlZmluZWQnO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGxldCBhZGRQYXJhbSA9ICcnO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgKHdpbmRvdy5pemVuZGFQYWdlSWQkKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdFx0XHRhZGRQYXJhbSArPSBgJml6cGlkPSR7d2luZG93Lml6ZW5kYVBhZ2VJZCR9YDtcclxuXHRcdFx0XHRpZiAodHlwZW9mICh3aW5kb3cuYW5ndWxhclBhZ2VJZCQpICE9PSAndW5kZWZpbmVkJylcclxuXHRcdFx0XHRcdGFkZFBhcmFtICs9IGAmYW5waWQ9JHt3aW5kb3cuYW5ndWxhclBhZ2VJZCR9YDtcclxuXHJcblx0XHRcdFx0bGV0IHVybCA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnNQYWdlICsgJz8nO1xyXG5cdFx0XHRcdGlmIChyZXBvcnRGb3JQcmludClcclxuXHRcdFx0XHRcdHVybCArPSBgcnBuPSR7cmVwb3J0Rm9yUHJpbnR9JmA7XHJcblx0XHRcdFx0dXJsICs9IGBvdXRwdXQ9JHtvdXRwdXRUeXBlfSR7YWRkUGFyYW19YDtcclxuXHJcblx0XHRcdFx0Ly8gZG93bmxvYWQgdGhlIGZpbGVcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5kb3dubG9hZEZpbGVSZXF1ZXN0KCdHRVQnLCB1cmwpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XHJcblx0XHRcdFx0cmVqZWN0KGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4cG9ydCBkYXNoYm9hcmQgdGlsZSBhcyBleGNlbFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGb3JQcmludCByZXBvcnQgcGFydC4gT25seSBvbmUgcmVwb3J0IHdpbGwgYmUgcHJpbnRlZCBpZiBkZWZpbmVkLlxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkQXNFeGNlbChyZXBvcnRGb3JQcmludCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJpbnREYXNoYm9hcmRBc0ZpbGUoJ1hMUyhNSU1FKScsIHJlcG9ydEZvclByaW50KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFByaW50IGRhc2hib2FyZCBpbnRvIFBERlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGb3JQcmludCByZXBvcnQgcGFydC4gT25seSBvbmUgcmVwb3J0IHdpbGwgYmUgcHJpbnRlZCBpZiBkZWZpbmVkLlxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkQXNQREYocmVwb3J0Rm9yUHJpbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW50RGFzaGJvYXJkQXNGaWxlKCdQREYnLCByZXBvcnRGb3JQcmludCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZW5kIGVtYWlsXHJcblx0ICovXHJcblx0c2VuZEVtYWlsKHNlbmRUeXBlLCBlbWFpbCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGpzb24gPSB0aGlzLmNyZWF0ZUpzb25Db25maWdGb3JTZW5kKCk7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLnNlbmRSZXBvcnRWaWFFbWFpbE5ldyhqc29uLCBzZW5kVHlwZSwgZW1haWwpXHJcblx0XHRcdFx0XHQudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpLCBlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdHJlamVjdChlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUdXJuIG9uL29mZiBmaWx0ZXJzIHBhbmVsLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBvcGVuZWRcclxuXHQgKi9cclxuXHR0b2dnbGVGaWx0ZXJzUGFuZWwob3BlbmVkPykge1xyXG5cdFx0Y29uc3QgY3VycmVudE9wZW5lZCA9IHRoaXMuaXNGaWx0ZXJzQWN0aXZlLmdldFZhbHVlKCk7XHJcblx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQob3BlbmVkKSkge1xyXG5cdFx0XHRpZiAoY3VycmVudE9wZW5lZCAhPSBvcGVuZWQpXHJcblx0XHRcdFx0dGhpcy5pc0ZpbHRlcnNBY3RpdmUub25OZXh0KG9wZW5lZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmlzRmlsdGVyc0FjdGl2ZS5vbk5leHQoIWN1cnJlbnRPcGVuZWQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGRhc2hib2FyZCBmaWx0ZXJzXHJcblx0ICovXHJcblx0cmVmcmVzaEZpbHRlcnMoKSB7XHJcblx0XHRjb25zdCBqc29uID0gdGhpcy5jcmVhdGVKc29uQ29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLnN5bmNGaWx0ZXJzTmV3KGpzb24pLnRoZW4oZmlsdGVyc0RhdGEgPT4ge1xyXG5cdFx0XHR0aGlzLl9zZXRGaWx0ZXJzRGF0YShmaWx0ZXJzRGF0YSk7XHJcblx0XHR9LFxyXG5cdFx0XHRlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBmaWx0ZXJzIGRhdGE6ICcsIGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWZyZXNoIGRhc2hib2FyZFxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVsb2FkTGF5b3V0IHJlbG9hZCBkYXNoYm9hcmQgbGF5b3V0IGZyb20gdGhlIHNlcnZlci5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IHVwZGF0ZUZyb21Tb3VyY2UgdXBkYXRlIHRpbGVzIGZyb20gaXQncyBzb3VyY2VzLlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIHVwZGF0ZSBvbmx5IG9uZSB0aWxlLlxyXG5cdCAqL1xyXG5cdHJlZnJlc2hEYXNoYm9hcmQocmVsb2FkTGF5b3V0LCB1cGRhdGVGcm9tU291cmNlLCB0aWxlPykge1xyXG5cdFx0aWYgKHJlbG9hZExheW91dCkge1xyXG5cdFx0XHR0aGlzLl8kb25Mb2NhdGlvbkNoYW5nZWQodGhpcy5sb2NhdGlvbi5nZXRWYWx1ZSgpLCAhIXVwZGF0ZUZyb21Tb3VyY2UpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5yZWZyZXNoT2JzZXJ2YWJsZS5vbk5leHQoe1xyXG5cdFx0XHRcdHRpbGU6IHRpbGUgfHwgbnVsbCxcclxuXHRcdFx0XHR1cGRhdGVGcm9tU291cmNlOiAhIXVwZGF0ZUZyb21Tb3VyY2VcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYW5jZWxzIHJlZnJlc2ggZGFzaGJvYXJkIHF1ZXJpZXNcclxuXHQgKi9cclxuXHRjYW5jZWxSZWZyZXNoRGFzaGJvYXJkUXVlcmllcygpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmNhbmNlbEFsbFF1ZXJpZXMoe1xyXG5cdFx0XHRjYW5jZWxMaXN0OiBbXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0d3NjbWQ6ICdnZXREYXNoYm9hcmRUaWxlUHJldmlld05ldydcclxuXHRcdFx0XHR9XHJcblx0XHRcdF1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBhdXRvIHJlZnJlc2ggaW50ZXJ2YWxzIGNvbmZpZy4gQWZ0ZXIgY29tcGxldGUgdGhpcy5hdXRvUmVmcmVzaCBpcyBub3RpZmllZFxyXG5cdCAqL1xyXG5cdGxvYWRBdXRvUmVmcmVzaEludGVydmFscygpIHtcclxuXHRcdHZhciBuZXdBdXRvUmVmcmVzaCA9IHtcclxuXHRcdFx0aW50ZXJ2YWxzOiBbXVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5sb2FkQXV0b1JlZnJlc2hJbnRlcnZhbHNOZXcoKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRmb3IgKGxldCBuYW1lIGluIGRhdGEpXHJcblx0XHRcdFx0aWYgKGRhdGEuaGFzT3duUHJvcGVydHkobmFtZSkpXHJcblx0XHRcdFx0XHRuZXdBdXRvUmVmcmVzaC5pbnRlcnZhbHMucHVzaCh7IG5hbWU6IG5hbWUsIHZhbHVlOiBkYXRhW25hbWVdLCBzZWxlY3RlZDogZmFsc2UgfSk7XHJcblx0XHRcdHRoaXMuYXV0b1JlZnJlc2gub25OZXh0KG5ld0F1dG9SZWZyZXNoLCB0aGlzKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVHVybiBvbiB3aW5kb3cgcmVzaXplIGhhbmRsZXIgZXZlbnQgZW1pdHRlclxyXG5cdCAqL1xyXG5cdHR1cm5PbldpbmRvd1Jlc2l6ZUhhbmRsZXIoKSB7XHJcblx0XHR0aGlzLndpbmRvd1NpemVBY3RpdmUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVHVybiBvZmYgd2luZG93IHJlc2l6ZSBoYW5kbGVyIGV2ZW50IGVtaXR0ZXJcclxuXHQgKi9cclxuXHR0dXJuT2ZmV2luZG93UmVzaXplSGFuZGxlcigpIHtcclxuXHRcdHRoaXMud2luZG93U2l6ZUFjdGl2ZSA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGpzb24gY29uZmlnXHJcblx0ICovXHJcblx0cHJpdmF0ZSBjcmVhdGVKc29uQ29uZmlnRm9yU2VuZCgpOiBhbnkge1xyXG5cdFx0Ly8gY3JlYXRlIGpzb24gZm9yIHNlbmRpbmcgdG8gc2VydmVyXHJcblx0XHRjb25zdCBtb2RlbDogSXplbmRhRGFzaGJvYXJkTW9kZWwgPSB0aGlzLm1vZGVsLmdldFZhbHVlKCk7XHJcblx0XHRjb25zdCBzY2hlZHVsZUpzb24gPSB0aGlzLiRpemVuZGFTY2hlZHVsZVNlcnZpY2UuZ2V0U2NoZWR1bGVDb25maWdGb3JTZW5kKCk7XHJcblx0XHRjb25zdCBzaGFyZUpzb24gPSB0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2UuZ2V0U2hhcmVDb25maWdGb3JTZW5kKCk7XHJcblxyXG5cdFx0Ly8gbGVnYWN5IEFQSSBjYWxsLlxyXG5cdFx0bGV0IGZpbHRlcnNKc29uID0gW107XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKEdldERhdGFUb0NvbW1pdCkpXHJcblx0XHRcdGZpbHRlcnNKc29uID0gR2V0RGF0YVRvQ29tbWl0KCk7XHJcblx0XHRsZXQgZmlsdGVyc1JhdyA9IG5ldyBJemVuZGFGaWx0ZXJzTW9kZWwoKTtcclxuXHRcdGZpbHRlcnNSYXcuZnJvbUpzb24oe1xyXG5cdFx0XHRGaWx0ZXJMb2dpYzogJycsXHJcblx0XHRcdEZpbHRlcnM6IGZpbHRlcnNKc29uLFxyXG5cdFx0XHRTdWJyZXBvcnRzRmlsdGVyczogW11cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGpzb24gPSBtb2RlbC50b0pzb24oKTtcclxuXHRcdGpzb24uc2hhcmUgPSBzaGFyZUpzb247XHJcblx0XHRqc29uLnNjaGVkdWxlID0gc2NoZWR1bGVKc29uO1xyXG5cdFx0anNvbi5maWx0ZXJzID0gZmlsdGVyc1Jhdy50b0pzb24oKTtcclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FsY3VsYXRlIGNhdGVnb3J5IG5hbWVcclxuXHQgKi9cclxuXHRfZ2V0V2FudGVkQ2F0ZWdvcnlOYW1lKCkge1xyXG5cdFx0Y29uc3QgdXJsRnVsbE5hbWUgPSB0aGlzLmxvY2F0aW9uLmdldFZhbHVlKCkuZnVsbE5hbWU7XHJcblx0XHRjb25zdCBjYXRlZ29yaWVzID0gdGhpcy5jYXRlZ29yaWVzLmdldFZhbHVlKCk7XHJcblx0XHRjb25zdCBpc1VybEZ1bGxOYW1lRXhpc3QgPVxyXG5cdFx0XHR0ZXN0RnVsbE5hbWUgPT4gY2F0ZWdvcmllcy5zb21lKGNhdCA9PiBjYXQuZGFzaGJvYXJkcy5zb21lKGRhc2hOYW1lID0+IGRhc2hOYW1lID09PSB0ZXN0RnVsbE5hbWUpKTtcclxuXHRcdC8vIGNhbGMgY3VycmVudCBkYXNoYm9hcmQgY2F0ZWdvcnlcclxuXHRcdGxldCBjdXJyZW50Q2F0ZWdvcnlOYW1lID0gJyc7XHJcblx0XHRsZXQgaXNDYXRlZ29yeVNldCA9IGZhbHNlO1xyXG5cdFx0aWYgKGlzVXJsRnVsbE5hbWVFeGlzdCh1cmxGdWxsTmFtZSkpIHtcclxuXHRcdFx0Y3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMubG9jYXRpb24uZ2V0VmFsdWUoKS5jYXRlZ29yeTtcclxuXHRcdFx0aXNDYXRlZ29yeVNldCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRpZiAoIWlzQ2F0ZWdvcnlTZXQgJiYgdGhpcy4kaXplbmRhRGFzaGJvYXJkQ29uZmlnLmRlZmF1bHREYXNoYm9hcmRDYXRlZ29yeSAhPT0gbnVsbCkge1xyXG5cdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gdGhpcy4kaXplbmRhRGFzaGJvYXJkQ29uZmlnLmRlZmF1bHREYXNoYm9hcmRDYXRlZ29yeTtcclxuXHRcdFx0aXNDYXRlZ29yeVNldCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRpZiAoIWlzQ2F0ZWdvcnlTZXQpIHtcclxuXHRcdFx0Y29uc3QgdW5jYXRlZ29yaXplZCA9IGNhdGVnb3JpZXMuZmlyc3QoY2F0ID0+IHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChjYXQubmFtZSkpO1xyXG5cdFx0XHRpZiAodW5jYXRlZ29yaXplZClcclxuXHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gdW5jYXRlZ29yaXplZC5uYW1lOyAvLyBpZiB3ZSBoYXZlIFwidW5jYXRlZ29yaXplZFwiIGRhc2hib2FyZHMgLSBzZWxlY3QgaXRcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGN1cnJlbnRDYXRlZ29yeU5hbWUgPSBjYXRlZ29yaWVzLmxlbmd0aCA/IGNhdGVnb3JpZXNbMF0ubmFtZSA6ICcnO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGN1cnJlbnRDYXRlZ29yeU5hbWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayByZXBvcnQgbmFtZSBvYnRhaW5lZCBmcm9tIHRoZSAncm4nIHBhcmFtZXRlciBhbmQgbG9hZCBkZWZhdWx0IGRhc2hib2FyZCBpZiBybiBwYXJhbWV0ZXIgZG9lc24ndFxyXG5cdCAqIGNvbnRhaW4gdmFsaWQgZGFzaGJvYXJkIG5hbWUuXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IGxvY2F0aW9uIExvY2F0aW9uIG9iamVjdC5cclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBmaXhlZCBkYXNoYm9hcmQgZnVsbCBuYW1lIChvciBlbXB0eSBzdHJpbmcgaWYgY2FuJ3QgZmluZCBkZWZhdWx0IGRhc2hib2FyZCkuXHJcblx0ICovXHJcblx0X2dldFdhbnRlZFJlcG9ydEZ1bGxOYW1lKGxvY2F0aW9uKSB7XHJcblx0XHRjb25zdCB1cmxGdWxsTmFtZSA9IGxvY2F0aW9uLmZ1bGxOYW1lO1xyXG5cdFx0Y29uc3QgY2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5nZXRWYWx1ZSgpO1xyXG5cdFx0Y29uc3QgaXNVcmxGdWxsTmFtZUV4aXN0ID1cclxuXHRcdFx0dGVzdEZ1bGxOYW1lID0+IGNhdGVnb3JpZXMuc29tZShjYXQgPT4gY2F0LmRhc2hib2FyZHMuc29tZShkYXNoTmFtZSA9PiBkYXNoTmFtZSA9PT0gdGVzdEZ1bGxOYW1lKSk7XHJcblxyXG5cdFx0Ly8gY2FsYyBjdXJyZW50IGRhc2hib2FyZCBjYXRlZ29yeVxyXG5cdFx0Y29uc3QgY3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMuX2dldFdhbnRlZENhdGVnb3J5TmFtZSgpO1xyXG5cclxuXHRcdC8vIGNhbGMgY3VycmVudCBkYXNoYm9hcmQgZnVsbCBuYW1lXHJcblx0XHRsZXQgY3VycmVudERhc2hib2FyZEZ1bGxOYW1lID0gJyc7XHJcblx0XHRsZXQgaXNDdXJyZW50RGFzaGJpYXJkTmFtZVNldCA9IGZhbHNlO1xyXG5cdFx0aWYgKGlzVXJsRnVsbE5hbWVFeGlzdCh1cmxGdWxsTmFtZSkpIHtcclxuXHRcdFx0Y3VycmVudERhc2hib2FyZEZ1bGxOYW1lID0gdXJsRnVsbE5hbWU7XHJcblx0XHRcdGlzQ3VycmVudERhc2hiaWFyZE5hbWVTZXQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFpc0N1cnJlbnREYXNoYmlhcmROYW1lU2V0ICYmIHRoaXMuJGl6ZW5kYURhc2hib2FyZENvbmZpZy5kZWZhdWx0RGFzaGJvYXJkTmFtZSAhPT0gbnVsbCkge1xyXG5cdFx0XHRjdXJyZW50RGFzaGJvYXJkRnVsbE5hbWUgPSB0aGlzLiRpemVuZGFEYXNoYm9hcmRDb25maWcuZGVmYXVsdERhc2hib2FyZE5hbWU7XHJcblx0XHRcdGlmIChjdXJyZW50RGFzaGJvYXJkRnVsbE5hbWUgJiYgY3VycmVudENhdGVnb3J5TmFtZSAmJiAhdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKGN1cnJlbnRDYXRlZ29yeU5hbWUpKSB7XHJcblx0XHRcdFx0Y3VycmVudERhc2hib2FyZEZ1bGxOYW1lID1cclxuXHRcdFx0XHRcdGN1cnJlbnRDYXRlZ29yeU5hbWUgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIGN1cnJlbnREYXNoYm9hcmRGdWxsTmFtZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpc0N1cnJlbnREYXNoYmlhcmROYW1lU2V0ID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjb3VsZG4ndCBmaW5kIGRhc2hib2FyZCAtIHVzZSBmaXJzdFxyXG5cdFx0aWYgKCFpc0N1cnJlbnREYXNoYmlhcmROYW1lU2V0KSB7XHJcblx0XHRcdGNvbnN0IGRlZmF1bHRDYXRzID0gY2F0ZWdvcmllcy5maWx0ZXIoY2F0ID0+IGNhdC5kYXNoYm9hcmRzLmxlbmd0aCk7XHJcblx0XHRcdGN1cnJlbnREYXNoYm9hcmRGdWxsTmFtZSA9IGRlZmF1bHRDYXRzLmxlbmd0aCA/IGRlZmF1bHRDYXRzWzBdLmRhc2hib2FyZHNbMF0gOiAnJztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY3VycmVudERhc2hib2FyZEZ1bGxOYW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGRhc2hib2FyZHMgaW4gY3VycmVudCBjYXRlZ29yeSBjb2xsZWN0aW9uIGFuZCBjdXJyZW50IGFjdGl2ZSBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRfdXBkYXRlQ3VycmVudENhdGVnb3J5KCkge1xyXG5cdFx0Y29uc3QgY2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5nZXRWYWx1ZSgpO1xyXG5cdFx0Y29uc3QgY3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMuX2dldFdhbnRlZENhdGVnb3J5TmFtZSgpO1xyXG5cdFx0Y29uc3QgY3VycmVudERhc2hib2FyZE5hbWUgPSB0aGlzLl9nZXRXYW50ZWRSZXBvcnRGdWxsTmFtZSh0aGlzLmxvY2F0aW9uLmdldFZhbHVlKCkpO1xyXG5cdFx0Y29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yaWVzLmZpcnN0KGNhdCA9PiBjdXJyZW50Q2F0ZWdvcnlOYW1lID09PSBjYXQubmFtZSB8fFxyXG5cdFx0XHQodGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKGN1cnJlbnRDYXRlZ29yeU5hbWUpICYmIHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChjYXQubmFtZSkpKTtcclxuXHRcdHZhciBjdXJyZW50RGFzaGJvYXJkc0NvbGxlY3Rpb24gPSBbXTtcclxuXHRcdHZhciBjdXJyZW50RGFzaGJvYXJkID0gbnVsbDtcclxuXHRcdGlmIChjYXRlZ29yeSkge1xyXG5cdFx0XHRjYXRlZ29yeS5kYXNoYm9hcmRzLmZvckVhY2goKGRhc2gsIGlEYXNoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZGFzaE9iaiA9IHtcclxuXHRcdFx0XHRcdGlkOiBpRGFzaCxcclxuXHRcdFx0XHRcdGZ1bGxOYW1lOiBkYXNoLFxyXG5cdFx0XHRcdFx0dGV4dDogdGhpcy4kaXplbmRhVXJsU2VydmljZS5leHRyYWN0UmVwb3J0TmFtZShkYXNoKVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0Y3VycmVudERhc2hib2FyZHNDb2xsZWN0aW9uLnB1c2goZGFzaE9iaik7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLmxvY2F0aW9uLmdldFZhbHVlKCkuaXNOZXcpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0aWYgKGRhc2ggPT09IGN1cnJlbnREYXNoYm9hcmROYW1lKVxyXG5cdFx0XHRcdFx0Y3VycmVudERhc2hib2FyZCA9IGRhc2hPYmo7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5jdXJyZW50Q2F0ZWdvcnkub25OZXh0KGN1cnJlbnREYXNoYm9hcmRzQ29sbGVjdGlvbik7XHJcblx0XHR0aGlzLmN1cnJlbnREYXNoYm9hcmQub25OZXh0KGN1cnJlbnREYXNoYm9hcmQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9jYXRpb24gY2hhbmdlZCBoYW5kbGVyOlxyXG5cdCAqIDEuIExvYWQgY2F0ZWdvcmllcy5cclxuXHQgKiAyLiBDcmVhdGUvT3BlbiBkYXNoYm9hcmQuXHJcblx0ICogMy4gTmF2aWdhdGUgdG8gZGVmYXVsdCBkYXNoYm9hcmQgaWYgc29tZXRoaW5nIHdlbnQgd3JvbmcgKGRhc2hib2FyZCBub3QgZXhpc3RzLCBvciB1cmwgcGFyYW1ldGVycyBub3Qgc2V0KS5cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gbmV3TG9jYXRpb24gbG9jYXRpb24gaW5mbyBvYmplY3RcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IHVwZGF0ZUZyb21Tb3VyY2UgaXMgcmVsb2FkIHRpbGVzIGZyb20gaXRzIHNvdXJjZXMgcmVxdWlyZWQ/XHJcblx0ICovXHJcblx0XyRvbkxvY2F0aW9uQ2hhbmdlZChuZXdMb2NhdGlvbiwgdXBkYXRlRnJvbVNvdXJjZSkge1xyXG5cdFx0dGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuY2FuY2VsQWxsUXVlcmllcygpO1xyXG5cdFx0dGhpcy5tb2RlbC5vbk5leHQobnVsbCk7XHJcblx0XHR0aGlzLl9sb2FkQ2F0ZWdvcmllcygpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRpZiAobmV3TG9jYXRpb24uaXNOZXcpIHtcclxuXHRcdFx0XHR0aGlzLl9uZXdEYXNoYm9hcmQoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gdmFsaWRhdGUgcmVwb3J0IGZ1bGwgbmFtZTpcclxuXHRcdFx0Y29uc3Qgd2FudGVkRnVsbE5hbWUgPSB0aGlzLl9nZXRXYW50ZWRSZXBvcnRGdWxsTmFtZShuZXdMb2NhdGlvbik7XHJcblx0XHRcdGlmICghd2FudGVkRnVsbE5hbWUpIHtcclxuXHRcdFx0XHR0aGlzLm5hdmlnYXRlTmV3RGFzaGJvYXJkKCk7IC8vIGNoYW5nZSB1cmwgdG8gXCI/aXNOZXc9MVwiXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChuZXdMb2NhdGlvbi5mdWxsTmFtZSA9PT0gd2FudGVkRnVsbE5hbWUpIHtcclxuXHRcdFx0XHQvLyB3YW50ZWQgcmVwb3J0IGFuZCByZXBvcnQgZnJvbSB0aGUgbG9jYXRpb24gYXJlIHRoZSBzYW1lIC0gb3BlbiBkYXNoYm9hcmQuXHJcblx0XHRcdFx0dGhpcy5sb2FkRGFzaGJvYXJkSW50ZXJuYWwod2FudGVkRnVsbE5hbWUsICEhdXBkYXRlRnJvbVNvdXJjZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKG5ld0xvY2F0aW9uLmZ1bGxOYW1lKSB7XHJcblx0XHRcdFx0XHQvLyBzaG93IG5vdGlmaWNhdGlvbiB0byBhIHVzZXIgaWYgd2UgY2hhbmdlIHRoZSBsb2NhdGlvbiBmcm9tIHdyb25nIHJlcG9ydCB0byBkZWZhdWx0LlxyXG5cdFx0XHRcdFx0bGV0IG1lc3NhZ2UgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFRvTG9hZERhc2hib2FyZCcsXHJcblx0XHRcdFx0XHRcdCdGYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgXCJ7MH1cIi4gT3BlbmluZyBkZWZhdWx0IGRhc2hib2FyZCBcInsxfVwiLicpO1xyXG5cdFx0XHRcdFx0bWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZSgnezB9JywgbmV3TG9jYXRpb24uZnVsbE5hbWUpO1xyXG5cdFx0XHRcdFx0bWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZSgnezF9Jywgd2FudGVkRnVsbE5hbWUpO1xyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLm5hdmlnYXRlVG9EYXNoYm9hcmQod2FudGVkRnVsbE5hbWUpOyAvLyBjaGFuZ2UgdXJsIHRvIFwiP3JuPWRlZmF1bHRfZGFzaGJvYXJkXCJcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGRhc2hib2FyZCBjYXRlZ29yaWVzXHJcblx0ICovXHJcblx0X2xvYWRDYXRlZ29yaWVzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2UubG9hZERhc2hib2FyZE5hdmlnYXRpb25OZXcoKS50aGVuKFxyXG5cdFx0XHRcdChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KGBGYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgY2F0ZWdvcmllcy4gUmVzdWx0OiAke2RhdGF9YCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxldCBpZENvdW50ZXIgPSAwO1xyXG5cdFx0XHRcdFx0Y29uc3QgbmV3Q2F0ZWdvcmllczogYW55ID0gW107XHJcblx0XHRcdFx0XHRmb3IgKGxldCBjYXRlZ29yeSBpbiBkYXRhKSB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhLmhhc093blByb3BlcnR5KGNhdGVnb3J5KSkge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBkYXNoYm9hcmRzID0gZGF0YVtjYXRlZ29yeV07XHJcblx0XHRcdFx0XHRcdFx0aWYgKGRhc2hib2FyZHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGFzaGJvYXJkcyA9IGRhc2hib2FyZHMuZmlsdGVyKGRhc2ggPT4gZGFzaCAmJiBkYXNoICE9PSAnJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBpdGVtID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZDogaWRDb3VudGVyKyssXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IGNhdGVnb3J5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXNoYm9hcmRzOiBkYXNoYm9hcmRzXHJcblx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc29ydCBcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy4kaXplbmRhRGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZFRvb2xCYXJJdGVtc1NvcnQpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpdGVtLmRhc2hib2FyZHMuc29ydCgoaXRlbTEsIGl0ZW0yKSA9PiB0aGlzLiRpemVuZGFEYXNoYm9hcmRDb25maWcuZGFzaGJvYXJkVG9vbEJhckl0ZW1zU29ydChpdGVtMSwgaXRlbTIpKTtcclxuXHRcdFx0XHRcdFx0XHRcdG5ld0NhdGVnb3JpZXMucHVzaChpdGVtKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuY2F0ZWdvcmllcy5vbk5leHQobmV3Q2F0ZWdvcmllcywgdGhpcyk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHRoaXMuY2F0ZWdvcmllcyk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRlcnJvciA9PiB7XHJcblx0XHRcdFx0XHR2YXIgZXJyb3JNZXNzYWdlID1cclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRMb2FkQ2F0c0Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgZGFzaGJvYXJkIGNhdGVnb3JpZXMnKTtcclxuXHRcdFx0XHRcdHJlamVjdChgJHtlcnJvck1lc3NhZ2V9OiAke2Vycm9yfWApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRfc2V0RmlsdGVyc1JlZnJlc2hDYXNjYWRpbmdJbnRlcmNlcHRvcigpIHtcclxuXHRcdHdpbmRvdy5jYXNjYWRpbmdGaWx0ZXJzQ2hhbmdlZEN1c3RvbUNvbnRleHQgPSB0aGlzO1xyXG5cdFx0Ly8gdHVybiBvZmYgbGVnYWN5IGZpbHRlcnMgcXVlcmllczogd2UnbGwgZG8gaXQgYnkgb3Vyc2VsdmVzLlxyXG5cdFx0d2luZG93LmNhc2NhZGluZ0ZpbHRlcnNDaGFuZ2VkQ3VzdG9tID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKENhc2NhZGluZ0ZpbHRlcnNDaGFuZ2VkKSkge1xyXG5cdFx0XHRcdHdpbmRvdy5yZWZyZXNoRmlsdGVyc0xhc3RHVUlEID0gR2VuZXJhdGVHdWlkKCk7XHJcblx0XHRcdFx0Y29uc3QganNvbiA9IHRoaXMuY3JlYXRlSnNvbkNvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2Uuc3luY0ZpbHRlcnNOZXcoanNvbikudGhlbihmaWx0ZXJzRGF0YSA9PiB7XHJcblx0XHRcdFx0XHRDYXNjYWRpbmdGaWx0ZXJzQ2hhbmdlZChmaWx0ZXJzRGF0YSwgYHJlZnJlc2hjYXNjYWRpbmdmaWx0ZXJzLSR7d2luZG93LnJlZnJlc2hGaWx0ZXJzTGFzdEdVSUR9YCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRfc2V0RmlsdGVyc0RhdGEoZmlsdGVyc0RhdGEpIHtcclxuXHRcdC8vIHNldCBsZWdhY3kgZmlsdGVycyBmcm9tIHJlc3BvbnNlXHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKEdvdEZpbHRlcnNEYXRhKSkge1xyXG5cdFx0XHRHb3RGaWx0ZXJzRGF0YShcclxuXHRcdFx0XHRhbmd1bGFyLmlzT2JqZWN0KGZpbHRlcnNEYXRhKVxyXG5cdFx0XHRcdFx0PyBmaWx0ZXJzRGF0YVxyXG5cdFx0XHRcdFx0OiB7XHJcblx0XHRcdFx0XHRcdEZpbHRlcnM6IFtdLFxyXG5cdFx0XHRcdFx0XHRTdWJyZXBvcnRzRmlsdGVyczogW10sXHJcblx0XHRcdFx0XHRcdEZpbHRlckxvZ2ljOiAnJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHQnZ2V0ZmlsdGVyc2RhdGEnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZGFzaGJvYXJkIGNvbmZpZyBmcm9tIHRoZSBzZXJ2ZXIgYW5kIGZpbGwgZGFzaGJvYXJkIG1vZGVsLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRGdWxsTmFtZSBkYXNoYm9hcmQgcmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IHVwZGF0ZUZyb21Tb3VyY2UgaXMgcmVsb2FkIHRpbGVzIGZyb20gaXRzIHNvdXJjZXMgcmVxdWlyZWQ/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkRGFzaGJvYXJkSW50ZXJuYWwocmVwb3J0RnVsbE5hbWUsIHVwZGF0ZUZyb21Tb3VyY2UpIHtcclxuXHRcdHRoaXMuX3VwZGF0ZUN1cnJlbnRDYXRlZ29yeSgpOyAvLyB1cGRhdGUgY2F0ZWdvcnkgb2JqZWN0c1xyXG5cclxuXHRcdC8vIHN0YXJ0IGxvYWRpbmdcclxuXHRcdHRoaXMuaXNMb2FkZWQub25OZXh0KGZhbHNlLCB0aGlzKTtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5sb2FkRGFzaGJvYXJkTmV3KHJlcG9ydEZ1bGxOYW1lLCAhIXVwZGF0ZUZyb21Tb3VyY2UpLnRoZW4oZGFzaGJvYXJkTW9kZWwgPT4ge1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QoZGFzaGJvYXJkTW9kZWwpKVxyXG5cdFx0XHRcdHRocm93IGBGYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgJyR7cmVwb3J0RnVsbE5hbWV9J2A7XHJcblxyXG5cdFx0XHQvLyBzZXQgY3VycmVudCByaWdodHNcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2Uuc2V0UmlnaHRzKGRhc2hib2FyZE1vZGVsLmVmZmVjdGl2ZVJpZ2h0cyk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLnNldFVzZXNIaWRkZW5Db2x1bW5zKGRhc2hib2FyZE1vZGVsLnVzZXNIaWRkZW5Db2x1bW5zKTtcclxuXHJcblx0XHRcdC8vIHVwZGF0ZSBuYW1lc1xyXG5cdFx0XHRkYXNoYm9hcmRNb2RlbC5yZXBvcnRGdWxsTmFtZSA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRSZXBvcnRGdWxsTmFtZShkYXNoYm9hcmRNb2RlbC5yZXBvcnROYW1lLCBkYXNoYm9hcmRNb2RlbC5yZXBvcnRDYXRlZ29yeSk7XHJcblx0XHRcdGRhc2hib2FyZE1vZGVsLnRpbGVzLmZvckVhY2godGlsZSA9PiB7XHJcblx0XHRcdFx0dGlsZS5yZXBvcnROYW1lID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5leHRyYWN0UmVwb3J0TmFtZSh0aWxlLnJlcG9ydFNldE5hbWUpO1xyXG5cdFx0XHRcdHRpbGUucmVwb3J0Q2F0ZWdvcnkgPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLmV4dHJhY3RSZXBvcnRDYXRlZ29yeSh0aWxlLnJlcG9ydFNldE5hbWUpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHNldCBsZWdhY3kgZmlsdGVycyBmcm9tIHJlc3BvbnNlXHJcblx0XHRcdHRoaXMuX3NldEZpbHRlcnNEYXRhKGRhc2hib2FyZE1vZGVsLmZpbHRlcnMpO1xyXG5cclxuXHRcdFx0Ly8gbm90aWZ5IHRoYXQgbW9kZWwgd2FzIGNoYW5nZWQgYW5kIHJlcG9ydCB3YXMgbG9hZGVkXHJcblx0XHRcdHRoaXMubW9kZWwub25OZXh0KGRhc2hib2FyZE1vZGVsLCB0aGlzKTtcclxuXHJcblx0XHRcdC8vIHNob3cgaGlkZGVuIGNvbHVtbnMgd2FybmluZ1xyXG5cdFx0XHRpZiAodGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNVc2VzSGlkZGVuQ29sdW1ucygpKSB7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93TWVzc2FnZURpYWxvZyhcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChcclxuXHRcdFx0XHRcdFx0J2pzX2Rhc2hib2FyZFVzZXNIaWRkZW5Db2x1bW5zJyxcclxuXHRcdFx0XHRcdFx0J0Rhc2hib2FyZCBjb250YWlucyB0aWxlIHdpdGggcmVwb3J0IHdoaWNoIGNvbnRhaW5zIHVuYXZhaWxhYmxlIGZpZWxkcy4gUGxlYXNlIHJlLXNhdmUgb3JpZ2luYWwgcmVwb3J0IG9yIGNob3NlIGFub3RoZXIgb25lLicpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5pc0xvYWRlZC5vbk5leHQodHJ1ZSwgdGhpcyk7XHJcblxyXG5cdFx0fSwgZXJyb3IgPT4ge1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0xheW91dExvYWRFcnJvcicsICdGYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgbGF5b3V0Jyk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGAke2Vycm9yTWVzc2FnZX06ICR7ZXJyb3J9YCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBuZXcgZGFzaGJvYXJkLlxyXG5cdCAqL1xyXG5cdF9uZXdEYXNoYm9hcmQoKSB7XHJcblx0XHR0aGlzLl91cGRhdGVDdXJyZW50Q2F0ZWdvcnkoKTsgLy8gdXBkYXRlIGNhdGVnb3J5IG9iamVjdHNcclxuXHJcblx0XHR0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5zZXRSaWdodHMoJ0Z1bGwgQWNjZXNzJyk7XHJcblx0XHRjb25zdCBuZXdNb2RlbEluc3RhbmNlID0gSXplbmRhRGFzaGJvYXJkTW9kZWwuY3JlYXRlSW5zdGFuY2UodHJ1ZSk7XHJcblx0XHRjb25zdCBzY2hlZHVsZVByb21pc2UgPSB0aGlzLiRpemVuZGFTY2hlZHVsZVNlcnZpY2Uuc2V0U2NoZWR1bGVDb25maWcobnVsbCk7XHJcblx0XHRjb25zdCBzaGFyZVByb21pc2UgPSB0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2Uuc2V0U2hhcmVDb25maWcobnVsbCk7XHJcblx0XHR0aGlzLiRxLmFsbChbc2NoZWR1bGVQcm9taXNlLCBzaGFyZVByb21pc2VdKS50aGVuKCgpID0+IHtcclxuXHRcdFx0dGhpcy5tb2RlbC5vbk5leHQobmV3TW9kZWxJbnN0YW5jZSwgdGhpcyk7XHJcblx0XHRcdHRoaXMuaXNMb2FkZWQub25OZXh0KHRydWUsIHRoaXMpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZScsIERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZFNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcclxuXHRiYWNrZ3JvdW5kSW1hZ2U6IHN0cmluZztcclxuXHRiYWNrZ3JvdW5kSW1hZ2VSZXBlYXQ6IGJvb2xlYW47XHJcblx0aHVlUm90YXRlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogRGFzaGJvYXJkIGJhY2tncm91bmQgZGlyZWN0aXZlLiBVc2VkIHRvIHNldCBiYWNrZ3JvdW5kIGNvbG9yLCBpbWFnZSBhbmQgaHVlIHJvdGF0ZS5cclxuICovXHJcbmNsYXNzIEl6ZW5kYURhc2hib2FyZEJhY2tncm91bmQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGJhY2tncm91bmRDb2xvcjogJz0nLFxyXG5cdFx0YmFja2dyb3VuZEltYWdlOiAnPScsXHJcblx0XHRiYWNrZ3JvdW5kSW1hZ2VSZXBlYXQ6ICc9JyxcclxuXHRcdGh1ZVJvdGF0ZTogJz0nXHJcblx0fTtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYURhc2hib2FyZEJhY2tncm91bmRTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0SXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGlkID0gU3RyaW5nKE1hdGgucmFuZG9tKCkpO1xyXG5cclxuXHRcdFx0bGV0IG9sZE1vdXNlWCA9IDA7XHJcblx0XHRcdGxldCBvbGRNb3VzZVkgPSAwO1xyXG5cdFx0XHRsZXQgZGVncmVlID0gMDtcclxuXHJcblx0XHRcdC8vIGVuc3VyZSBiYWNrZ3JvdW5kIHdhcyBhZGRlZFxyXG5cdFx0XHRsZXQgJGJhY2tncm91bmQgPSBhbmd1bGFyLmVsZW1lbnQoJ2JvZHkgPiAuaXotZGFzaC1iYWNrZ3JvdW5kJyk7XHJcblx0XHRcdGxldCAkZGFzaGJvYXJkc0RpdiA9IGFuZ3VsYXIuZWxlbWVudCgnI2l6ZW5kYURhc2hib2FyZE1haW5Db250YWluZXInKTtcclxuXHRcdFx0aWYgKCRiYWNrZ3JvdW5kLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwiaXotZGFzaC1iYWNrZ3JvdW5kXCI+PC9kaXY+Jyk7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCdib2R5JykucHJlcGVuZCgkYmFja2dyb3VuZCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFVwZGF0ZSBiYWNrZ3JvdW5kXHJcblx0XHRcdGNvbnN0IHVwZGF0ZUJhY2tncm91bmQgPSAoKSA9PiB7XHJcblx0XHRcdFx0JGJhY2tncm91bmQgPSBhbmd1bGFyLmVsZW1lbnQoJ2JvZHkgPiAuaXotZGFzaC1iYWNrZ3JvdW5kJyk7XHJcblx0XHRcdFx0aWYgKCRzY29wZS5iYWNrZ3JvdW5kSW1hZ2UpXHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQnLCBgdXJsKCckeyRzY29wZS5iYWNrZ3JvdW5kSW1hZ2V9JylgKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQnLCAnJyk7XHJcblx0XHRcdFx0aWYgKCRzY29wZS5iYWNrZ3JvdW5kSW1hZ2VSZXBlYXQpIHtcclxuXHRcdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcygnYmFja2dyb3VuZC1yZXBlYXQnLCAncmVwZWF0Jyk7XHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQtc2l6ZScsICdpbml0aWFsJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcygnYmFja2dyb3VuZC1yZXBlYXQnLCAnJyk7XHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQtc2l6ZScsICcnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCRzY29wZS5iYWNrZ3JvdW5kQ29sb3IpXHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAkc2NvcGUuYmFja2dyb3VuZENvbG9yKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBzZXQgYmFja2dyb3VuZCBwb3NpdGlvblxyXG5cdFx0XHRjb25zdCBzZXRCYWNrZ3JvdW5kUG9zaXRpb24gPSAoKSA9PiB7XHJcblx0XHRcdFx0bGV0IG5ld0JhY2tncm91bmRUb3AgPSAkZGFzaGJvYXJkc0Rpdi5vZmZzZXQoKS50b3AgKyA1MCAtIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHRcdFx0XHRpZiAobmV3QmFja2dyb3VuZFRvcCA8IDApIG5ld0JhY2tncm91bmRUb3AgPSAwO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7XHJcblx0XHRcdFx0XHQnLW1vei1iYWNrZ3JvdW5kLXBvc2l0aW9uLXknOiBuZXdCYWNrZ3JvdW5kVG9wICsgJ3B4JyxcclxuXHRcdFx0XHRcdCctby1iYWNrZ3JvdW5kLXBvc2l0aW9uLXknOiBuZXdCYWNrZ3JvdW5kVG9wICsgJ3B4JyxcclxuXHRcdFx0XHRcdCdiYWNrZ3JvdW5kLXBvc2l0aW9uLXknOiBuZXdCYWNrZ3JvdW5kVG9wICsgJ3B4J1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gSHVlIGNhbiB1c2Ugcm90YXRlXHJcblx0XHRcdGNvbnN0IGlzVG9nZ2xlSHVlUm90YXRlRW5hYmxlZCA9ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpc0Nocm9tZSA9IC9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgL0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XHJcblx0XHRcdFx0Y29uc3QgaXNTYWZhcmkgPSAvU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKTtcclxuXHRcdFx0XHRjb25zdCBpc0ZpcmVmb3ggPSAvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHRcdFx0XHRyZXR1cm4gaXNDaHJvbWUgfHwgaXNTYWZhcmkgfHwgaXNGaXJlZm94O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUdXJuIG9mZiBiYWNrZ3JvdW5kIGh1ZSByb3RhdGVcclxuXHRcdFx0Y29uc3QgcmVzZXRSb3RhdGUgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCR3aW5kb3cuaHVlUm90YXRlVGltZU91dCk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJy13ZWJraXQtZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArICcwJyArICdkZWcpJyB9KTtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnLW1vei1maWx0ZXInOiAnaHVlLXJvdGF0ZSgnICsgJzAnICsgJ2RlZyknIH0pO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7ICctby1maWx0ZXInOiAnaHVlLXJvdGF0ZSgnICsgJzAnICsgJ2RlZyknIH0pO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7ICctbXMtZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArICcwJyArICdkZWcpJyB9KTtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArICcwJyArICdkZWcpJyB9KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIFJ1biBodWUgcm90YXRlXHJcblx0XHRcdGNvbnN0IHJvdGF0ZSA9ICgpID0+IHtcclxuXHRcdFx0XHRpZiAoIWlzVG9nZ2xlSHVlUm90YXRlRW5hYmxlZCgpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7ICctd2Via2l0LWZpbHRlcic6ICdodWUtcm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJy1tb3otZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArIGRlZ3JlZSArICdkZWcpJyB9KTtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnLW8tZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArIGRlZ3JlZSArICdkZWcpJyB9KTtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnLW1zLWZpbHRlcic6ICdodWUtcm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJ2ZpbHRlcic6ICdodWUtcm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JHdpbmRvdy5odWVSb3RhdGVUaW1lT3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgYWRkUGF0aDogbnVtYmVyO1xyXG5cdFx0XHRcdFx0Y29uc3QgZHggPSAoJHdpbmRvdy5tb3VzZVggLSBvbGRNb3VzZVgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZHkgPSAoJHdpbmRvdy5tb3VzZVkgLSBvbGRNb3VzZVkpO1xyXG5cdFx0XHRcdFx0YWRkUGF0aCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcblx0XHRcdFx0XHRjb25zdCB3bmRQYXRoID0gTWF0aC5zcXJ0KCR3aW5kb3cuaW5uZXJIZWlnaHQgKiAkd2luZG93LmlubmVySGVpZ2h0ICsgJHdpbmRvdy5pbm5lcldpZHRoICogJHdpbmRvdy5pbm5lcldpZHRoKTtcclxuXHRcdFx0XHRcdGFkZFBhdGggPSBhZGRQYXRoICogMzYwIC8gd25kUGF0aDtcclxuXHRcdFx0XHRcdG9sZE1vdXNlWCA9ICR3aW5kb3cubW91c2VYO1xyXG5cdFx0XHRcdFx0b2xkTW91c2VZID0gJHdpbmRvdy5tb3VzZVk7XHJcblx0XHRcdFx0XHRpZiAoaXNOYU4oYWRkUGF0aCkpXHJcblx0XHRcdFx0XHRcdGFkZFBhdGggPSAwO1xyXG5cdFx0XHRcdFx0ZGVncmVlICs9IDYgKyBhZGRQYXRoO1xyXG5cdFx0XHRcdFx0d2hpbGUgKGRlZ3JlZSA+IDM2MClcclxuXHRcdFx0XHRcdFx0ZGVncmVlIC09IDM2MDtcclxuXHRcdFx0XHRcdHJvdGF0ZSgpO1xyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJ1biBiYWNrZ3JvdW5kXHJcblx0XHRcdHNldEJhY2tncm91bmRQb3NpdGlvbigpO1xyXG5cclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdzY3JvbGwuJyArIGlkLCAoKSA9PiBzZXRCYWNrZ3JvdW5kUG9zaXRpb24oKSk7XHJcblxyXG5cdFx0XHR1cGRhdGVCYWNrZ3JvdW5kKCk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCBiaW5kaW5ncyBjaGFuZ2VkXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2JhY2tncm91bmRDb2xvcicsICgpID0+IHVwZGF0ZUJhY2tncm91bmQoKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2JhY2tncm91bmRJbWFnZScsICgpID0+IHVwZGF0ZUJhY2tncm91bmQoKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2JhY2tncm91bmRJbWFnZVJlcGVhdCcsICgpID0+IHVwZGF0ZUJhY2tncm91bmQoKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2h1ZVJvdGF0ZScsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbCkgcm90YXRlKCk7XHJcblx0XHRcdFx0ZWxzZSByZXNldFJvdGF0ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZignc2Nyb2xsLicgKyBpZCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkgPT4gbmV3IEl6ZW5kYURhc2hib2FyZEJhY2tncm91bmQoJHdpbmRvdyk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdyddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYURhc2hib2FyZE1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmQnLCBbJyR3aW5kb3cnLCBJemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVRpbGVUb3BTbGlkZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZGlzYWJsZWQ6IGFueTtcclxuXHRyZW5kZXJlZDogYW55O1xyXG5cdG5nTW9kZWw6IGFueTtcclxuXHRzaG93SXRlbUFsbDogYW55O1xyXG5cdG9uQ2hhbmdlRW5kOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTbGlkZXIgZm9yIHNlbGVjdGluZyB0b3AgdmFsdWUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUaWxlVG9wU2xpZGVyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0cmVxdWlyZSA9IFsnbmdNb2RlbCddO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0ZGlzYWJsZWQ6ICc9JyxcclxuXHRcdHJlbmRlcmVkOiAnPScsXHJcblx0XHRuZ01vZGVsOiAnPScsXHJcblx0XHRzaG93SXRlbUFsbDogJz0nLFxyXG5cdFx0b25DaGFuZ2VFbmQ6ICcmJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPSAnPGlucHV0PjwvaW5wdXQ+JztcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRpbGVUb3BTbGlkZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFUaWxlVG9wU2xpZGVyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRpbGVUb3BTbGlkZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0bGV0IHNsaWRlciA9IG51bGw7XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIHZhbHVlcyBhcnJheVxyXG5cdFx0XHRsZXQgdmFsdWVzQXJyYXk6IEFycmF5PHN0cmluZyB8IG51bWJlcj4gPSBbXTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gMTA7IGkrKylcclxuXHRcdFx0XHR2YWx1ZXNBcnJheS5wdXNoKGkpO1xyXG5cdFx0XHRmb3IgKGxldCBqID0gMjA7IGogPD0gMTAwOyBqID0gaiArIDEwKVxyXG5cdFx0XHRcdHZhbHVlc0FycmF5LnB1c2goaik7XHJcblx0XHRcdHZhbHVlc0FycmF5LnB1c2goMjUwKTtcclxuXHRcdFx0dmFsdWVzQXJyYXkucHVzaCg1MDApO1xyXG5cdFx0XHR2YWx1ZXNBcnJheS5wdXNoKDEwMDApO1xyXG5cdFx0XHR2YWx1ZXNBcnJheS5wdXNoKDUwMDApO1xyXG5cdFx0XHR2YWx1ZXNBcnJheS5wdXNoKDEwMDAwKTtcclxuXHRcdFx0dmFsdWVzQXJyYXkucHVzaCgnQUxMJyk7XHJcblxyXG5cdFx0XHQvLyBjb252ZXJ0IHZhbHVlIGZyb20gdmFsdWVzIGFycmF5IHRvIHRoZSBudW1iZXJcclxuXHRcdFx0Y29uc3QgY29udmVydEZyb21Ub1ZhbHVlID0gKHZhbHVlc0FycmF5SW5kZXg6IG51bWJlcik6IG51bWJlciA9PiB7XHJcblx0XHRcdFx0bGV0IHZhbDogc3RyaW5nIHwgbnVtYmVyID0gdmFsdWVzQXJyYXlbdmFsdWVzQXJyYXlJbmRleF07XHJcblx0XHRcdFx0aWYgKHZhbCA9PT0gJ0FMTCcpIHZhbCA9IC0xO1xyXG5cdFx0XHRcdHJldHVybiBOdW1iZXIodmFsKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGFkZCBuZXcgdmFsdWUgdG8gdGhlIHZhbHVlc0FycmF5XHJcblx0XHRcdGNvbnN0IGFwcGVuZFZhbHVlVG9Gcm9tQXJyYXkgPSAodmFsdWU6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gdmFsdWUgPiAwID8gdmFsdWVzQXJyYXkuaW5kZXhPZih2YWx1ZSkgOiB2YWx1ZXNBcnJheS5pbmRleE9mKCdBTEwnKTtcclxuXHRcdFx0XHRpZiAoaW5kZXggPj0gMClcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdXBkYXRlZEFycmF5OiBBcnJheTxzdHJpbmcgfCBudW1iZXI+ID0gW107XHJcblx0XHRcdFx0dmFsdWVzQXJyYXkuZm9yRWFjaChjdXJyVmFsdWUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGN1cnJWYWx1ZSA+IHZhbHVlICYmIHVwZGF0ZWRBcnJheS5pbmRleE9mKHZhbHVlKSA8IDApXHJcblx0XHRcdFx0XHRcdHVwZGF0ZWRBcnJheS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdHVwZGF0ZWRBcnJheS5wdXNoKGN1cnJWYWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dmFsdWVzQXJyYXkgPSB1cGRhdGVkQXJyYXk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBjb252ZXJ0IG51bWJlciBpbnRvIHZhbHVlcyBhcnJheSB2YWx1ZSBhbmQgcmV0dXJuIGluZGV4IG9mIHRoZSBmb3VuZCB2YWx1ZS5cclxuXHRcdFx0Y29uc3QgY29udmVydEFuZEdldFZhbHVlc0FycmF5SW5kZXggPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcblx0XHRcdFx0bGV0IGluZGV4ID0gdmFsdWUgPiAwID8gdmFsdWVzQXJyYXkuaW5kZXhPZih2YWx1ZSkgOiB2YWx1ZXNBcnJheS5pbmRleE9mKCdBTEwnKTtcclxuXHRcdFx0XHRpZiAoaW5kZXggPCAwKVxyXG5cdFx0XHRcdFx0aW5kZXggPSB2YWx1ZXNBcnJheS5pbmRleE9mKCdBTEwnKTtcclxuXHRcdFx0XHRyZXR1cm4gaW5kZXg7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIHNsaWRlclxyXG5cdFx0XHRjb25zdCBpbml0aWFsaXplU2xpZGVyID0gKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0ICRpbnB1dCA9ICRlbGVtZW50LmNoaWxkcmVuKCdpbnB1dCcpO1xyXG5cdFx0XHRcdGFwcGVuZFZhbHVlVG9Gcm9tQXJyYXkoJHNjb3BlLm5nTW9kZWwpOyAvLyBhZGQgY3VycmVudCB2YWx1ZSB0byB0aGUgdmFsdWVzQXJyYXkgaWYgbm8gZXhpc3QuXHJcblx0XHRcdFx0JGlucHV0LnZhbCgnJyk7XHJcblx0XHRcdFx0JGlucHV0Wydpb25SYW5nZVNsaWRlciddKHtcclxuXHRcdFx0XHRcdGRpc2FibGU6ICRzY29wZS5kaXNhYmxlZCxcclxuXHRcdFx0XHRcdGdyaWQ6IHRydWUsXHJcblx0XHRcdFx0XHRoaWRlX21pbl9tYXg6IHRydWUsXHJcblx0XHRcdFx0XHRmcm9tOiBjb252ZXJ0QW5kR2V0VmFsdWVzQXJyYXlJbmRleCgkc2NvcGUubmdNb2RlbCksXHJcblx0XHRcdFx0XHR2YWx1ZXM6IHZhbHVlc0FycmF5LFxyXG5cdFx0XHRcdFx0b25GaW5pc2g6IGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IGNvbnZlcnRGcm9tVG9WYWx1ZShkYXRhLmZyb20pO1xyXG5cdFx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkNoYW5nZUVuZCkpXHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLm9uQ2hhbmdlRW5kKHsgbmV3VG9wOiB2YWx1ZSB9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzbGlkZXIgPSAkaW5wdXQuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTZXQgdmFsdWUgdG8gc2xpZGVyXHJcblx0XHRcdGNvbnN0IHNldFNsaWRlclZhbHVlID0gKHZhbHVlOiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHRpZiAoIXNsaWRlcilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQvLyBhZGQgdmFsdWUgdG8gdGhlIHZhbHVlcyBhcnJheSBpZiBub3QgZXhpc3QuXHJcblx0XHRcdFx0aWYgKGFwcGVuZFZhbHVlVG9Gcm9tQXJyYXkodmFsdWUpKVxyXG5cdFx0XHRcdFx0c2xpZGVyLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdHZhbHVlczogdmFsdWVzQXJyYXlcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGNvbnN0IGZyb20gPSBjb252ZXJ0QW5kR2V0VmFsdWVzQXJyYXlJbmRleCh2YWx1ZSk7XHJcblx0XHRcdFx0c2xpZGVyLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRmcm9tOiBmcm9tXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyB3YXRjaGVzOiBcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWx1ZTogbnVtYmVyKSA9PiBzZXRTbGlkZXJWYWx1ZShuZXdWYWx1ZSkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdzaG93SXRlbUFsbCcsIHZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCBpc0FsbEVsZW1lbnRFeGlzdHMgPSB2YWx1ZXNBcnJheS5pbmRleE9mKCdBTEwnKSA+PSAwO1xyXG5cdFx0XHRcdGlmIChpc0FsbEVsZW1lbnRFeGlzdHMgJiYgIXZhbHVlKVxyXG5cdFx0XHRcdFx0dmFsdWVzQXJyYXkucG9wKCk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoIWlzQWxsRWxlbWVudEV4aXN0cyAmJiB2YWx1ZSlcclxuXHRcdFx0XHRcdHZhbHVlc0FycmF5LnB1c2goJ0FMTCcpO1xyXG5cdFx0XHRcdGlmIChzbGlkZXIpXHJcblx0XHRcdFx0XHRzbGlkZXIudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0dmFsdWVzOiB2YWx1ZXNBcnJheVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgncmVuZGVyZWQnLCAodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAodmFsdWUpXHJcblx0XHRcdFx0XHRpbml0aWFsaXplU2xpZGVyKCk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoc2xpZGVyKSB7XHJcblx0XHRcdFx0XHRzbGlkZXIuZGVzdHJveSgpO1xyXG5cdFx0XHRcdFx0c2xpZGVyID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnZGlzYWJsZWQnLCAodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAoc2xpZGVyKVxyXG5cdFx0XHRcdFx0c2xpZGVyLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdGRpc2FibGU6IHZhbHVlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChzbGlkZXIpIHtcclxuXHRcdFx0XHRcdHNsaWRlci5kZXN0cm95KCk7XHJcblx0XHRcdFx0XHRzbGlkZXIgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFUaWxlVG9wU2xpZGVyKCk7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUaWxlVG9wU2xpZGVyJywgW0l6ZW5kYVRpbGVUb3BTbGlkZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5cclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvblNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRjYXRlZ29yaWVzOiBhbnk7XHJcblx0Z2V0Q2F0ZWdvcnlDbGFzczogYW55O1xyXG5cdGdldENhdGVnb3J5SXRlbUNsYXNzOiBhbnk7XHJcblx0ZXh0cmFjdFJlcG9ydE5hbWU6IGFueTtcclxuXHRnb1RvRGFzaGJvYXJkOiBhbnk7XHJcblx0dG9nZ2xlQWNjb3JkaW9uOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYXNoYm9hcmQgdG9vbGJhciB3aXRoIGFiaWxpdHkgdG8gc2Nyb2xsLiBVc2VkIGZvciBuYXZpZ2F0aW9uIGJldHdlZW4gZGFzaGJvYXJkcy5cclxuICovXHJcbmNsYXNzIEl6ZW5kYVRvb2xiYXJGb2xkZXJNZW51QWNjb3JkaW9uIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRjYXRlZ29yaWVzOiAnPSdcclxuXHR9O1xyXG5cdHRlbXBsYXRlVXJsID0gJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmRpcmVjdGl2ZXMudG9vbGJhci1mb2xkZXItbWVudS1hY2NvcmRpb24uaHRtbCc7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvblNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvbi5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvblNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHQvLyBhZGQgY2F0ZWdvcnkgJ2luJyBjbGFzcyBmb3IgY3VycmVudENhdGVnb3J5XHJcblx0XHRcdCRzY29wZS5nZXRDYXRlZ29yeUNsYXNzID0gKGluZGV4OiBudW1iZXIpOiBzdHJpbmcgPT5cclxuXHRcdFx0XHQkaXplbmRhVXRpbFNlcnZpY2UuaXNDYXRlZ29yaWVzRXF1YWwoJHNjb3BlLmNhdGVnb3JpZXNbaW5kZXhdLm5hbWUsICRpemVuZGFVcmxTZXJ2aWNlLmdldFJlcG9ydEluZm8oKS5jYXRlZ29yeSkgPyAnaW4nIDogJyc7XHJcblxyXG5cdFx0XHQvLyBnZXQgY2F0ZWdvcnkgaXRlbSBhY3RpdmF0ZWQgb3Igbm90IGNsYXNzXHJcblx0XHRcdCRzY29wZS5nZXRDYXRlZ29yeUl0ZW1DbGFzcyA9IChpdGVtTmFtZTogc3RyaW5nKTogc3RyaW5nID0+XHJcblx0XHRcdFx0aXRlbU5hbWUgPT09ICRpemVuZGFVcmxTZXJ2aWNlLmdldFJlcG9ydEluZm8oKS5mdWxsTmFtZSA/ICdhY3RpdmUnIDogJyc7XHJcblxyXG5cdFx0XHQvLyByZW1vdmUgY2F0ZWdvcnkgcGFydCBmcm9tIHJlcG9ydCBuYW1lXHJcblx0XHRcdCRzY29wZS5leHRyYWN0UmVwb3J0TmFtZSA9IChmdWxsTmFtZTogc3RyaW5nKTogc3RyaW5nID0+ICRpemVuZGFVcmxTZXJ2aWNlLmV4dHJhY3RSZXBvcnROYW1lKGZ1bGxOYW1lKTtcclxuXHJcblx0XHRcdC8vIG5hdmlnYXRlIHRvIGRhc2hib2FyZFxyXG5cdFx0XHQkc2NvcGUuZ29Ub0Rhc2hib2FyZCA9IChkYXNoYm9hcmQ6IHN0cmluZyk6IHZvaWQgPT4gJGl6ZW5kYVVybFNlcnZpY2Uuc2V0UmVwb3J0RnVsbE5hbWUoZGFzaGJvYXJkKTtcclxuXHJcblx0XHRcdC8vIHRvZ2dsZSBhY2NvcmRpb24gaGFuZGxlclxyXG5cdFx0XHQkc2NvcGUudG9nZ2xlQWNjb3JkaW9uID0gKGluZGV4OiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2F0ZWdvcnlDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQuY2hpbGRyZW4oKVtpbmRleF0pO1xyXG5cdFx0XHRcdGNvbnN0ICRjYXRlZ29yeSA9ICRjYXRlZ29yeUNvbnRhaW5lci5maW5kKCcuY2F0ZWdvcnknKTtcclxuXHRcdFx0XHRpZiAoJGNhdGVnb3J5Lmhhc0NsYXNzKCdpbicpKVxyXG5cdFx0XHRcdFx0JGNhdGVnb3J5LnJlbW92ZUNsYXNzKCdpbicpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRjYXRlZ29yeS5hZGRDbGFzcygnaW4nKTtcclxuXHRcdFx0XHRpZiAoJGNhdGVnb3J5Lmhhc0NsYXNzKCdpbicpKVxyXG5cdFx0XHRcdFx0JGNhdGVnb3J5Q29udGFpbmVyLmNsb3Nlc3QoJy5pei1kYXNoLWRhc2hib2FyZHMtZHJvcGRvd24tY29udGFpbmVyJykuYW5pbWF0ZSh7XHJcblx0XHRcdFx0XHRcdHNjcm9sbFRvcDogJGNhdGVnb3J5Q29udGFpbmVyLnBvc2l0aW9uKCkudG9wIC0gJGNhdGVnb3J5Q29udGFpbmVyLnBhcmVudCgpLnBvc2l0aW9uKCkudG9wXHJcblx0XHRcdFx0XHR9LCA1MDApO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKFxyXG5cdFx0XHQkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0XHQkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdFx0JGl6ZW5kYVV0aWxTZXJ2aWNlOiBJemVuZGFVdGlsU2VydmljZSkgPT5cclxuXHRcdFx0bmV3IEl6ZW5kYVRvb2xiYXJGb2xkZXJNZW51QWNjb3JkaW9uKCR0aW1lb3V0LCAkaXplbmRhVXJsU2VydmljZSwgJGl6ZW5kYVV0aWxTZXJ2aWNlKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCcsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhVXRpbFNlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvbicsIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxTZXJ2aWNlJyxcclxuXHRJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvbi5mYWN0b3J5KCldKTtcclxuXHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVG9vbGJhckxpbmtzUGFuZWxTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dG9vbGJhckl0ZW1zOiBhbnlbXTtcclxuXHR0b29sYmFyQWN0aXZlSXRlbTogYW55O1xyXG5cdHRvb2xiYXJBY3RpdmVJdGVtQ2hhbmdlQ291bnRlcjogYW55O1xyXG5cdG9uQ2xpY2s6IGFueTtcclxuXHRlcXVhbHNGdW5jOiBhbnk7XHJcblx0Z2V0VGl0bGU6IGFueTtcclxuXHJcblx0bW92ZVRvOiAoYW55KSA9PiB2b2lkO1xyXG5cdG1vdmVSaWdodDogKCkgPT4gdm9pZDtcclxuXHRtb3ZlTGVmdDogKCkgPT4gdm9pZDtcclxuXHRnZXRMaUNsYXNzOiAoYW55KSA9PiBzdHJpbmc7XHJcblx0aXNCdXR0b25zVmlzaWJsZTogKCkgPT4gYm9vbGVhbjtcclxuXHRyZWZyZXNoQnV0dG9uc1dpZHRoOiBib29sZWFuO1xyXG5cdHN1bVdpZHRoOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYXNoYm9hcmQgdG9vbGJhciB3aXRoIGFiaWxpdHkgdG8gc2Nyb2xsLiBVc2VkIGZvciBuYXZpZ2F0aW9uIGJldHdlZW4gZGFzaGJvYXJkcy5cclxuICovXHJcbmNsYXNzIEl6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0b29sYmFySXRlbXM6ICc9JyxcclxuXHRcdHRvb2xiYXJBY3RpdmVJdGVtOiAnPScsXHJcblx0XHR0b29sYmFyQWN0aXZlSXRlbUNoYW5nZUNvdW50ZXI6ICc9JyxcclxuXHRcdG9uQ2xpY2s6ICcmJyxcclxuXHRcdGVxdWFsc0Z1bmM6ICcmJyxcclxuXHRcdGdldFRpdGxlOiAnJidcclxuXHR9O1xyXG5cdHRlbXBsYXRlVXJsID0gJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmRpcmVjdGl2ZXMudG9vbGJhci1saW5rcy1wYW5lbC5odG1sJztcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgcHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0SXplbmRhVG9vbGJhckxpbmtzUGFuZWwucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhVG9vbGJhckxpbmtzUGFuZWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgJHNsaWRlU2Nyb2xsQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KS5maW5kKCcuaXotZGFzaC1saW5rc3BhbmVsLW5hdmJhci0yJyk7XHJcblxyXG5cdFx0XHRjb25zdCAkc2xpZGVDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQpLmZpbmQoJy5pei1kYXNoLWxpbmtzcGFuZWwtbmF2YmFyLTMnKTtcclxuXHJcblx0XHRcdGNvbnN0IGdldE1pbkxlZnQgPSAoKSA9PiAkc2xpZGVTY3JvbGxDb250YWluZXIud2lkdGgoKSAtICRzbGlkZUNvbnRhaW5lci53aWR0aCgpIC0gODA7XHJcblxyXG5cdFx0XHRjb25zdCBnZXRNYXhMZWZ0ID0gKCkgPT4gMDtcclxuXHJcblx0XHRcdGNvbnN0IHNldExlZnRWYWx1ZSA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0JHNsaWRlQ29udGFpbmVyLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyBNYXRoLmZsb29yKHZhbHVlKSArICdweCwgMHB4LCAwcHgpJyk7XHJcblx0XHRcdFx0JHNsaWRlQ29udGFpbmVyLmF0dHIoJ3RyYW5zZm9ybS1sZWZ0JywgTWF0aC5mbG9vcih2YWx1ZSkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCByZXNwZWN0RWRnZXMgPSAocG9zaXRpb246IG51bWJlcik6IG51bWJlciA9PiB7XHJcblx0XHRcdFx0bGV0IHJlc3VsdCA9IHBvc2l0aW9uO1xyXG5cdFx0XHRcdHJlc3VsdCA9IE1hdGgubWF4KHJlc3VsdCwgZ2V0TWluTGVmdCgpKTtcclxuXHRcdFx0XHRyZXN1bHQgPSBNYXRoLm1pbihyZXN1bHQsIGdldE1heExlZnQoKSk7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbW92ZSB0b29sYmFyIGJ1dHRvbnMgbGVmdCBvciByaWdodFxyXG5cdFx0XHRjb25zdCBtb3ZlTWVudUl0ZW1zID0gKGxlZnREZWx0YTogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbGVmdFN0cmluZyA9ICRzbGlkZUNvbnRhaW5lci5hdHRyKCd0cmFuc2Zvcm0tbGVmdCcpO1xyXG5cdFx0XHRcdGxldCBsZWZ0TnVtYmVyID0gMDtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhsZWZ0U3RyaW5nKSlcclxuXHRcdFx0XHRcdGxlZnROdW1iZXIgPSBwYXJzZUludChsZWZ0U3RyaW5nKTtcclxuXHRcdFx0XHRsZWZ0TnVtYmVyICs9IGxlZnREZWx0YTtcclxuXHRcdFx0XHRsZWZ0TnVtYmVyID0gcmVzcGVjdEVkZ2VzKGxlZnROdW1iZXIpO1xyXG5cdFx0XHRcdHNldExlZnRWYWx1ZShsZWZ0TnVtYmVyKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbW92ZSB0byBpdGVtXHJcblx0XHRcdCRzY29wZS5tb3ZlVG8gPSAoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdGlmICghJHNjb3BlLnRvb2xiYXJJdGVtcylcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgaXRlbVRvTW92ZSA9IGl0ZW07XHJcblx0XHRcdFx0aWYgKCFpdGVtVG9Nb3ZlICYmICRzY29wZS50b29sYmFySXRlbXMubGVuZ3RoID4gMClcclxuXHRcdFx0XHRcdGl0ZW1Ub01vdmUgPSAkc2NvcGUudG9vbGJhckl0ZW1zWyRzY29wZS50b29sYmFySXRlbXMubGVuZ3RoIC0gMV07XHJcblxyXG5cdFx0XHRcdGlmIChpdGVtVG9Nb3ZlKSB7XHJcblx0XHRcdFx0XHRjb25zdCAkaXRlbSA9IGFuZ3VsYXIuZWxlbWVudCgkZWxlbWVudCkuZmluZCgnI2l6RGFzaFRvb2xiYXJJdGVtJyArIGl0ZW1Ub01vdmUuaWQpO1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbUxlZnQgPSAkaXRlbS5wb3NpdGlvbigpLmxlZnQgKyAkaXRlbS53aWR0aCgpIC8gMjtcclxuXHRcdFx0XHRcdGxldCBsZWZ0TnVtYmVyID0gJHNsaWRlU2Nyb2xsQ29udGFpbmVyLndpZHRoKCkgLyAyIC0gaXRlbUxlZnQ7XHJcblx0XHRcdFx0XHRsZWZ0TnVtYmVyID0gcmVzcGVjdEVkZ2VzKGxlZnROdW1iZXIpO1xyXG5cdFx0XHRcdFx0c2V0TGVmdFZhbHVlKGxlZnROdW1iZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIG1vdmUgcmlnaHQgYnV0dG9uXHJcblx0XHRcdCRzY29wZS5tb3ZlUmlnaHQgPSAoKSA9PiBtb3ZlTWVudUl0ZW1zKC01MDApO1xyXG5cclxuXHRcdFx0Ly8gbW92ZSBsZWZ0IGJ1dHRvblxyXG5cdFx0XHQkc2NvcGUubW92ZUxlZnQgPSAoKSA9PiBtb3ZlTWVudUl0ZW1zKDUwMCk7XHJcblxyXG5cdFx0XHQvLyBnZXQgYWN0aXZlIGxpIGNsYXNzIFxyXG5cdFx0XHQkc2NvcGUuZ2V0TGlDbGFzcyA9IChpdGVtKTogc3RyaW5nID0+ICRzY29wZS5lcXVhbHNGdW5jKHsgYXJnMDogaXRlbSwgYXJnMTogJHNjb3BlLnRvb2xiYXJBY3RpdmVJdGVtIH0pID8gJ2FjdGl2ZScgOiAnJztcclxuXHJcblx0XHRcdC8vIGNoZWNrIGxlZnQgYW5kIHJpZ2h0IGJ1dHRvbnMgaXMgbmVlZGVkXHJcblx0XHRcdCRzY29wZS5pc0J1dHRvbnNWaXNpYmxlID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0XHRcdGlmICgkc2NvcGUucmVmcmVzaEJ1dHRvbnNXaWR0aCkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLnN1bVdpZHRoID0gMDtcclxuXHRcdFx0XHRcdCRzbGlkZUNvbnRhaW5lci5maW5kKCcuaXotZGFzaC1saW5rc3BhbmVsLW5hdmJhci1pdGVtJykuZWFjaCgoaU5hdmJhckl0ZW0sIG5hdmJhckl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnN1bVdpZHRoICs9IGFuZ3VsYXIuZWxlbWVudChuYXZiYXJJdGVtKS53aWR0aCgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUucmVmcmVzaEJ1dHRvbnNXaWR0aCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCB3aWR0aCA9ICRzbGlkZVNjcm9sbENvbnRhaW5lci53aWR0aCgpO1xyXG5cdFx0XHRcdHJldHVybiB3aWR0aCAmJiAkc2NvcGUuc3VtV2lkdGggPiB3aWR0aDtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIHRvb2xiYXIgaXRlbSBjb2xsZWN0aW9uIGNoYW5nZWRcclxuXHRcdFx0JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ3Rvb2xiYXJJdGVtcycsICgpID0+IHtcclxuXHRcdFx0XHQkc2NvcGUucmVmcmVzaEJ1dHRvbnNXaWR0aCA9IHRydWU7XHJcblx0XHRcdFx0JHNsaWRlQ29udGFpbmVyLmZpbmQoJy5pei1kYXNoLWxpbmtzcGFuZWwtbmF2YmFyLWl0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGlkU3RyID0gU3RyaW5nKGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KS5hdHRyKCdpZCcpKTtcclxuXHRcdFx0XHRcdGNvbnN0IGlkID0gcGFyc2VJbnQoaWRTdHIuc3BsaXQoJ2l6RGFzaFRvb2xiYXJJdGVtJylbMV0pO1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9ICRzY29wZS50b29sYmFySXRlbXMuZmluZCh0b29sYmFySXRlbSA9PiB0b29sYmFySXRlbS5pZCA9PT0gaWQpIHx8IG51bGw7XHJcblx0XHRcdFx0XHQkc2NvcGUubW92ZVRvKGl0ZW0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uQ2xpY2soeyBhcmcwOiBpdGVtIH0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggYWN0aXZlIGl0ZW0gY2hhbmdlZFxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCd0b29sYmFyQWN0aXZlSXRlbUNoYW5nZUNvdW50ZXInLCAoKSA9PiB7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm1vdmVUbygkc2NvcGUudG9vbGJhckFjdGl2ZUl0ZW0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudG9vbGJhckFjdGl2ZUl0ZW0pO1xyXG5cdFx0XHRcdH0sIDApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGFjdGl2ZSBpdGVtIGNoYW5nZWRcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndG9vbGJhckFjdGl2ZUl0ZW0nLCAoKSA9PiB7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm1vdmVUbygkc2NvcGUudG9vbGJhckFjdGl2ZUl0ZW0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudG9vbGJhckFjdGl2ZUl0ZW0pO1xyXG5cdFx0XHRcdH0sIDApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkgPT4gbmV3IEl6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsKCR0aW1lb3V0LCAkd2luZG93KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCcsICckd2luZG93J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVG9vbGJhckxpbmtzUGFuZWwnLCBbJyR0aW1lb3V0JywgJyR3aW5kb3cnLCBJemVuZGFUb29sYmFyTGlua3NQYW5lbC5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5pbXBvcnQgRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1zdG9yYWdlLXNlcnZpY2UnO1xyXG5cclxuXHJcbmludGVyZmFjZSBJSXplbmRhVGlsZURyYWdnYWJsZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cdGdyaWRXaWR0aDogbnVtYmVyO1xyXG5cdGdyaWRIZWlnaHQ6IG51bWJlcjtcclxuXHR0aWxlOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWw7XHJcblx0dGlsZXM6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbFtdO1xyXG5cdG9uTW92ZTogYW55O1xyXG5cdG9uTW92ZVN0YXJ0OiBhbnk7XHJcblx0b25Nb3ZlRW5kOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaXJlY3RpdmUgcHJvdmlkZXMgbW92ZSBmdW5jdGlvbiBmb3IgZGFzaGJvYXJkIHRpbGUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUaWxlRHJhZ2dhYmxlIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnRSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRlbmFibGVkOiAnPScsXHJcblx0XHRncmlkV2lkdGg6ICc9JyxcclxuXHRcdGdyaWRIZWlnaHQ6ICc9JyxcclxuXHRcdHRpbGU6ICc9JyxcclxuXHRcdHRpbGVzOiAnPScsXHJcblx0XHRvbk1vdmU6ICcmJyxcclxuXHRcdG9uTW92ZVN0YXJ0OiAnJicsXHJcblx0XHRvbk1vdmVFbmQ6ICcmJ1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRpbGVEcmFnZ2FibGVTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSkge1xyXG5cdFx0SXplbmRhVGlsZURyYWdnYWJsZS5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUaWxlRHJhZ2dhYmxlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBnZXRUaWxlQnlUaWxlJCA9ICgkdDogbmcuSUF1Z21lbnRlZEpRdWVyeSk6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCA9PiB7XHJcblx0XHRcdFx0aWYgKCEkdCB8fCAhYW5ndWxhci5pc0FycmF5KCRzY29wZS50aWxlcykpIHJldHVybiBudWxsO1xyXG5cdFx0XHRcdHZhciB0aWxlaWQgPSBOdW1iZXIoJHQuYXR0cigndGlsZWlkJykpO1xyXG5cdFx0XHRcdHJldHVybiAkc2NvcGUudGlsZXMuZmluZCh0ID0+IHQuaWQgPT09IHRpbGVpZCkgfHwgbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEZpbmQgdGlsZSB3aGljaCBjb250YWluIHBvaW50IHt4LHl9XHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBnZXRVbmRlcmx5aW5nVGlsZSQgPSAobGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgJHRpbGVzOiBuZy5JQXVnbWVudGVkSlF1ZXJ5W10pOiBuZy5JQXVnbWVudGVkSlF1ZXJ5ID0+IHtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheSgkc2NvcGUudGlsZXMpKVxyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gJHRpbGVzLmZpbmQoKCRjdXJyZW50VGlsZSwgY3VycmVudFRpbGVJbmRleCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgdGlsZU9mZnNldCA9ICRjdXJyZW50VGlsZS5vZmZzZXQoKTtcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRUaWxlID0gJHNjb3BlLnRpbGVzW2N1cnJlbnRUaWxlSW5kZXhdO1xyXG5cdFx0XHRcdFx0aWYgKCRzY29wZS50aWxlLmlkID09PSBjdXJyZW50VGlsZS5pZClcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRpbGVPZmZzZXQubGVmdCA8PSBsZWZ0XHJcblx0XHRcdFx0XHRcdCYmIGxlZnQgPD0gdGlsZU9mZnNldC5sZWZ0ICsgJGN1cnJlbnRUaWxlLndpZHRoKClcclxuXHRcdFx0XHRcdFx0JiYgdGlsZU9mZnNldC50b3AgPD0gdG9wXHJcblx0XHRcdFx0XHRcdCYmIHRvcCA8PSB0aWxlT2Zmc2V0LnRvcCArICRjdXJyZW50VGlsZS5oZWlnaHQoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0IHx8IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDaGVjayB0aWxlIGludGVyc2VjdHMgdG8gYW55IG90aGVyIHRpbGVcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IGNoZWNrVGlsZUludGVyc2VjdHMgPSAoJGhlbHBlcjogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGhpdFRlc3QgPSAoXHJcblx0XHRcdFx0XHRhOiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0XHRcdFx0b3RoZXJUaWxlOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwsXHJcblx0XHRcdFx0XHRhY2N1cmFjeVg6IG51bWJlcixcclxuXHRcdFx0XHRcdGFjY3VyYWN5WTogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBhUG9zID0gYS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0Y29uc3QgYVRvcCA9IGFQb3MudG9wID4gMCA/IGFQb3MudG9wIDogMDtcclxuXHRcdFx0XHRcdGNvbnN0IGFCb3R0b20gPSBhVG9wICsgYS5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdGxldCBhTGVmdCA9IGFQb3MubGVmdCA+IDAgPyBhUG9zLmxlZnQgOiAwO1xyXG5cdFx0XHRcdFx0bGV0IGFSaWdodCA9IGFMZWZ0ICsgYS53aWR0aCgpO1xyXG5cdFx0XHRcdFx0aWYgKGFSaWdodCAvICRzY29wZS5ncmlkV2lkdGggPiAxMikge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBkZWx0YSA9IGFSaWdodCAtICRzY29wZS5ncmlkV2lkdGggKiAxMjtcclxuXHRcdFx0XHRcdFx0YUxlZnQgLT0gZGVsdGE7XHJcblx0XHRcdFx0XHRcdGFSaWdodCA9ICRzY29wZS5ncmlkV2lkdGggKiAxMjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IGJMZWZ0ID0gb3RoZXJUaWxlLnggKiAkc2NvcGUuZ3JpZFdpZHRoICsgYWNjdXJhY3lYO1xyXG5cdFx0XHRcdFx0Y29uc3QgYlRvcCA9IG90aGVyVGlsZS55ICogJHNjb3BlLmdyaWRIZWlnaHQgKyBhY2N1cmFjeVk7XHJcblx0XHRcdFx0XHRjb25zdCBiUmlnaHQgPSAob3RoZXJUaWxlLnggKyBvdGhlclRpbGUud2lkdGgpICogJHNjb3BlLmdyaWRXaWR0aCAtIGFjY3VyYWN5WDtcclxuXHRcdFx0XHRcdGNvbnN0IGJCb3R0b20gPSAob3RoZXJUaWxlLnkgKyBvdGhlclRpbGUuaGVpZ2h0KSAqICRzY29wZS5ncmlkSGVpZ2h0IC0gYWNjdXJhY3lZO1xyXG5cdFx0XHRcdFx0cmV0dXJuICEoYkxlZnQgPiBhUmlnaHQgfHwgYlJpZ2h0IDwgYUxlZnQgfHwgYlRvcCA+IGFCb3R0b20gfHwgYkJvdHRvbSA8IGFUb3ApO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGxldCByZXN1bHQgPSBmYWxzZTtcclxuXHRcdFx0XHQkc2NvcGUudGlsZXMuZm9yRWFjaChvVGlsZSA9PiB7XHJcblx0XHRcdFx0XHRpZiAob1RpbGUuaWQgPT09ICRzY29wZS50aWxlLmlkKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRpZiAoaGl0VGVzdCgkaGVscGVyLCBvVGlsZSwgJHNjb3BlLmdyaWRXaWR0aCAvIDIsICRzY29wZS5ncmlkSGVpZ2h0IC8gMikpXHJcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHRydWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEdldCBzbmFwcGVkIHRvIGdyaWQgYmJveC5cclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IGdldFRhcmdldEJib3ggPSAoaGVscGVyTGVmdDogbnVtYmVyLCBoZWxwZXJUb3A6IG51bWJlciwgaGVscGVyV2lkdGg6IG51bWJlciwgaGVscGVySGVpZ2h0OiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgdGlsZSBzaGFkb3cgcG9zaXRpb25cclxuXHRcdFx0XHRjb25zdCB4ID0gTWF0aC5yb3VuZChoZWxwZXJMZWZ0IC8gJHNjb3BlLmdyaWRXaWR0aCkgKiAkc2NvcGUuZ3JpZFdpZHRoO1xyXG5cdFx0XHRcdGNvbnN0IHkgPSBNYXRoLnJvdW5kKGhlbHBlclRvcCAvICRzY29wZS5ncmlkSGVpZ2h0KSAqICRzY29wZS5ncmlkSGVpZ2h0O1xyXG5cdFx0XHRcdGNvbnN0IGhlbHBlckJib3ggPSB7XHJcblx0XHRcdFx0XHRsZWZ0OiB4LFxyXG5cdFx0XHRcdFx0dG9wOiB5LFxyXG5cdFx0XHRcdFx0d2lkdGg6IGhlbHBlcldpZHRoLFxyXG5cdFx0XHRcdFx0aGVpZ2h0OiBoZWxwZXJIZWlnaHRcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHJldHVybiBoZWxwZXJCYm94O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgJHRpbGUgPSAkZWxlbWVudC5jbG9zZXN0KCcuaXotZGFzaC10aWxlJyk7XHJcblx0XHRcdGxldCBwcmV2aW91c0hlbHBlckJib3ggPSB7IGxlZnQ6IDAsIHRvcDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xyXG5cdFx0XHRsZXQgaGVscGVyV2lkdGggPSAwO1xyXG5cdFx0XHRsZXQgaGVscGVySGVpZ2h0ID0gMDtcclxuXHRcdFx0bGV0ICR0aWxlRmxpcHBpZXM6IEpRdWVyeTxIVE1MRWxlbWVudD47XHJcblx0XHRcdGxldCAkdGlsZXNBcnJheTogSlF1ZXJ5PEhUTUxFbGVtZW50PltdID0gW107XHJcblxyXG5cdFx0XHQvLyBpbml0IGRyYWdnYWJsZVxyXG5cdFx0XHQkdGlsZVsnZHJhZ2dhYmxlJ10oe1xyXG5cdFx0XHRcdHN0YWNrOiAnLml6LWRhc2gtdGlsZScsXHJcblx0XHRcdFx0aGFuZGxlOiAnLnRpdGxlLWNvbnRhaW5lciwgLml6LWRhc2gtc2VsZWN0LXJlcG9ydC1mcm9udC1jb250YWluZXInLFxyXG5cdFx0XHRcdGRpc3RhbmNlOiAxMCxcclxuXHJcblx0XHRcdFx0aGVscGVyOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCB3aWR0aCA9ICRzY29wZS50aWxlLndpZHRoICogJHNjb3BlLmdyaWRXaWR0aDtcclxuXHRcdFx0XHRcdGNvbnN0IGhlaWdodCA9ICRzY29wZS50aWxlLmhlaWdodCAqICRzY29wZS5ncmlkSGVpZ2h0O1xyXG5cdFx0XHRcdFx0Y29uc3QgaGVscGVyU3RyID1cclxuXHRcdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJpei1kYXNoLXRpbGUgaXotZGFzaC10aWxlLWhlbHBlclwiIHN0eWxlPVwiei1pbmRleDoxMDAwO3RvcDowO2xlZnQ6MDtoZWlnaHQ6JHtoZWlnaHR9cHg7d2lkdGg6JHt3aWR0aH1weDtvcGFjaXR5OjE7dHJhbnNmb3JtOm1hdHJpeCgxLDAsMCwxLDAsMCk7XCI+XHJcblx0PGRpdiBjbGFzcz1cImFuaW1hdGUtZmxpcFwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cImZsaXBweSBmbGlwcHktZnJvbnQgYW5pbWF0ZWQgZmFzdFwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidGl0bGUtY29udGFpbmVyXCIgc3R5bGU9XCJoZWlnaHQ6IDM1cHg7IG92ZXJmbG93OiBoaWRkZW47XCI+PGRpdiBjbGFzcz1cInRpdGxlXCI+PHNwYW4gY2xhc3M9XCJ0aXRsZS10ZXh0XCI+PC9zcGFuPjwvZGl2PjwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0PC9kaXY+XHJcbjwvZGl2PmA7XHJcblx0XHRcdFx0XHRyZXR1cm4gYW5ndWxhci5lbGVtZW50KGhlbHBlclN0cik7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRzdGFydDogKGV2ZW50LCB1aSkgPT4ge1xyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcyA9ICR0aWxlLmNoaWxkcmVuKCcuYW5pbWF0ZS1mbGlwJykuY2hpbGRyZW4oJy5mbGlwcHknKTtcclxuXHJcblx0XHRcdFx0XHQkc2NvcGUudGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcclxuXHRcdFx0XHRcdFx0dGlsZS5iYWNrVGlsZVBvcHVwT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyB0dXJuIG9mZiB3aW5kb3cgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRcdCRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS50dXJuT2ZmV2luZG93UmVzaXplSGFuZGxlcigpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSB0aWxlcyBhcnJheTtcclxuXHRcdFx0XHRcdCR0aWxlc0FycmF5ID0gJHNjb3BlLnRpbGVzLm1hcChjdXJyZW50VGlsZSA9PiBhbmd1bGFyLmVsZW1lbnQoYC5pei1kYXNoLXRpbGVbdGlsZWlkPSR7Y3VycmVudFRpbGUuaWR9XWApKTtcclxuXHJcblx0XHRcdFx0XHQkdGlsZSA9ICRlbGVtZW50LmNsb3Nlc3QoJy5pei1kYXNoLXRpbGUnKTtcclxuXHJcblx0XHRcdFx0XHQvLyBmaXJlIG9uTW92ZVN0YXJ0IGhhbmRsZXI6XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbk1vdmVTdGFydCkpXHJcblx0XHRcdFx0XHRcdCRzY29wZS5vbk1vdmVTdGFydCh7IHRpbGU6ICRzY29wZS50aWxlIH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIHByZXBhcmUgaGVscGVyOlxyXG5cdFx0XHRcdFx0Y29uc3QgJGhlbHBlciA9IHVpLmhlbHBlcjtcclxuXHRcdFx0XHRcdGhlbHBlcldpZHRoID0gJGhlbHBlci53aWR0aCgpO1xyXG5cdFx0XHRcdFx0aGVscGVySGVpZ2h0ID0gJGhlbHBlci5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdGNvbnN0ICRoZWxwZXJGbGlwRnJvbnQgPSAkaGVscGVyLmZpbmQoJy5mbGlwcHktZnJvbnQnKTtcclxuXHRcdFx0XHRcdCRoZWxwZXJGbGlwRnJvbnQucmVtb3ZlQ2xhc3MoJ2ZsaXBJblknKTtcclxuXHRcdFx0XHRcdCRoZWxwZXJGbGlwRnJvbnQucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7XHJcblx0XHRcdFx0XHQkaGVscGVyRmxpcEZyb250LnJlbW92ZUNsYXNzKCdmYXN0Jyk7XHJcblx0XHRcdFx0XHQkaGVscGVyRmxpcEZyb250LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdyZ2JhKDUwLDIwNSw1MCwgMC4zKScpO1xyXG5cdFx0XHRcdFx0JGhlbHBlckZsaXBGcm9udC5maW5kKCcuZnJhbWUnKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdCRoZWxwZXIuY3NzKCd6LWluZGV4JywgMTAwMCk7XHJcblx0XHRcdFx0XHQkaGVscGVyLmNzcygnb3BhY2l0eScsIDEpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZHJhZzogKGV2ZW50LCB1aSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGhlbHBlciA9IHVpLmhlbHBlcjtcclxuXHRcdFx0XHRcdGNvbnN0ICRoZWxwZXJGbGlwRnJvbnQgPSAkaGVscGVyLmZpbmQoJy5mbGlwcHktZnJvbnQnKTtcclxuXHJcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGlsZSBzaGFkb3cgcG9zaXRpb25cclxuXHRcdFx0XHRcdHZhciBoZWxwZXJQb3MgPSAkaGVscGVyLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR2YXIgaGVscGVyQmJveCA9IGdldFRhcmdldEJib3goaGVscGVyUG9zLmxlZnQsIGhlbHBlclBvcy50b3AsIGhlbHBlcldpZHRoLCBoZWxwZXJIZWlnaHQpO1xyXG5cdFx0XHRcdFx0JGhlbHBlckZsaXBGcm9udC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSg1MCwyMDUsNTAsIDAuMyknKTsgLy8gc2VtaS10cmFuc3BhcmVudCBncmVlblxyXG5cclxuXHRcdFx0XHRcdC8vIGNoZWNrIHVuZGVybHlpbmcgdGlsZVxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheSgkc2NvcGUudGlsZXMpKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlcy5mb3JFYWNoKGN1cnJlbnRUaWxlID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50VGlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZic7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR2YXIgdGFyZ2V0VGlsZSA9IGdldFRpbGVCeVRpbGUkKGdldFVuZGVybHlpbmdUaWxlJChldmVudC5wYWdlWCwgZXZlbnQucGFnZVksICR0aWxlc0FycmF5KSk7XHJcblx0XHRcdFx0XHRcdGlmICh0YXJnZXRUaWxlKVxyXG5cdFx0XHRcdFx0XHRcdC8vIGhpZ2hsaWdodCB0aWxlIGZvciBzd2FwXHJcblx0XHRcdFx0XHRcdFx0dGFyZ2V0VGlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSg1MCwyMDUsNTAsIDEpJztcclxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoY2hlY2tUaWxlSW50ZXJzZWN0cygkaGVscGVyKSlcclxuXHRcdFx0XHRcdFx0XHQkaGVscGVyRmxpcEZyb250LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdyZ2JhKDIyMCwyMCw2MCwwLjIpJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gcHJldmVudCBkdXBsaWNhdGUgY2FsbHNcclxuXHRcdFx0XHRcdGlmIChwcmV2aW91c0hlbHBlckJib3gubGVmdCA9PT0gaGVscGVyQmJveC5sZWZ0ICYmXHJcblx0XHRcdFx0XHRcdHByZXZpb3VzSGVscGVyQmJveC50b3AgPT09IGhlbHBlckJib3gudG9wICYmXHJcblx0XHRcdFx0XHRcdHByZXZpb3VzSGVscGVyQmJveC53aWR0aCA9PT0gaGVscGVyQmJveC53aWR0aCAmJlxyXG5cdFx0XHRcdFx0XHRwcmV2aW91c0hlbHBlckJib3guaGVpZ2h0ID09PSBoZWxwZXJCYm94LmhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cHJldmlvdXNIZWxwZXJCYm94ID0gaGVscGVyQmJveDtcclxuXHJcblx0XHRcdFx0XHQvLyBmaXJlIG9uTW92ZSBoYW5kbGVyOlxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25Nb3ZlKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUub25Nb3ZlKHtcclxuXHRcdFx0XHRcdFx0XHR0aWxlOiAkc2NvcGUudGlsZSxcclxuXHRcdFx0XHRcdFx0XHRzaGFkb3dQb3NpdGlvbjogaGVscGVyQmJveFxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0c3RvcDogKGV2ZW50LCB1aSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGhlbHBlciA9IHVpLmhlbHBlcjtcclxuXHJcblx0XHRcdFx0XHQvLyByZXR1cm4gZGVmYXVsdCB0aWxlIGNvbG9yXHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0FycmF5KCRzY29wZS50aWxlcykpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGVzLmZvckVhY2goY3VycmVudFRpbGUgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRUaWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRzY29wZS50aWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xyXG5cdFx0XHRcdFx0Y29uc3QgJGFuaW1hdGVkVGlsZXM6IEpRdWVyeTxIVE1MRWxlbWVudD5bXSA9IFtdO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGV2ZW50UmVzdWx0ID0ge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiAnbm9uZScsXHJcblx0XHRcdFx0XHRcdGlzVGlsZVNpemVDaGFuZ2VkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0dGlsZTogJHNjb3BlLnRpbGUsXHJcblx0XHRcdFx0XHRcdHRhcmdldFRpbGU6IGdldFRpbGVCeVRpbGUkKGdldFVuZGVybHlpbmdUaWxlJChldmVudC5wYWdlWCwgZXZlbnQucGFnZVksICR0aWxlc0FycmF5KSlcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRpZiAoZXZlbnRSZXN1bHQudGFyZ2V0VGlsZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBzd2FwIHRpbGVzXHJcblx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0LnR5cGUgPSAnc3dhcCc7XHJcblx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0LmlzVGlsZVNpemVDaGFuZ2VkID0gJHNjb3BlLnRpbGUud2lkdGggIT09IGV2ZW50UmVzdWx0LnRhcmdldFRpbGUud2lkdGggfHxcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUudGlsZS5oZWlnaHQgIT09IGV2ZW50UmVzdWx0LnRhcmdldFRpbGUuaGVpZ2h0O1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gZXhjaGFuZ2Ugc2l6ZXNcclxuXHRcdFx0XHRcdFx0dmFyIHRpbGVDaGFuZ2VPYmplY3QgPSB7XHJcblx0XHRcdFx0XHRcdFx0eDogJHNjb3BlLnRpbGUueCxcclxuXHRcdFx0XHRcdFx0XHR5OiAkc2NvcGUudGlsZS55LFxyXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiAkc2NvcGUudGlsZS53aWR0aCxcclxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6ICRzY29wZS50aWxlLmhlaWdodFxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHQvLyBzZXQgbmV3IHNpemUgZm9yIGN1cnJlbnQgdGlsZTpcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUueCA9IGV2ZW50UmVzdWx0LnRhcmdldFRpbGUueDtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUueSA9IGV2ZW50UmVzdWx0LnRhcmdldFRpbGUueTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUud2lkdGggPSBldmVudFJlc3VsdC50YXJnZXRUaWxlLndpZHRoO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUudGlsZS5oZWlnaHQgPSBldmVudFJlc3VsdC50YXJnZXRUaWxlLmhlaWdodDtcclxuXHRcdFx0XHRcdFx0Ly8gc2V0IG5ldyBzaXplIGZvciB0YXJnZXQgdGlsZVxyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdC50YXJnZXRUaWxlLnggPSB0aWxlQ2hhbmdlT2JqZWN0Lng7XHJcblx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0LnRhcmdldFRpbGUueSA9IHRpbGVDaGFuZ2VPYmplY3QueTtcclxuXHRcdFx0XHRcdFx0ZXZlbnRSZXN1bHQudGFyZ2V0VGlsZS53aWR0aCA9IHRpbGVDaGFuZ2VPYmplY3Qud2lkdGg7XHJcblx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0LnRhcmdldFRpbGUuaGVpZ2h0ID0gdGlsZUNoYW5nZU9iamVjdC5oZWlnaHQ7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBydW4gYW5pbWF0aW9uOlxyXG5cdFx0XHRcdFx0XHQvLyBjbGVhciB0aWxlIGNvbnRlbnQgZm9yIHNtb290aCBhbmltYXRpb25cclxuXHRcdFx0XHRcdFx0WyRzY29wZS50aWxlLCBldmVudFJlc3VsdC50YXJnZXRUaWxlXS5mb3JFYWNoKGFmZmVjdGVkVGlsZSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgJGFmZmVjdGVkVGlsZSA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWRhc2gtdGlsZVt0aWxlaWQ9JyArIGFmZmVjdGVkVGlsZS5pZCArICddJyk7XHJcblx0XHRcdFx0XHRcdFx0JGFmZmVjdGVkVGlsZS5hZGRDbGFzcygndHJhbnNpdGlvbicpO1xyXG5cdFx0XHRcdFx0XHRcdCRhbmltYXRlZFRpbGVzLnB1c2goJGFmZmVjdGVkVGlsZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICghY2hlY2tUaWxlSW50ZXJzZWN0cygkaGVscGVyKSkge1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdC50eXBlID0gJ21vdmUnO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBoZWxwZXJQb3MgPSAkaGVscGVyLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGhlbHBlckJib3ggPSBnZXRUYXJnZXRCYm94KGhlbHBlclBvcy5sZWZ0LCBoZWxwZXJQb3MudG9wLCBoZWxwZXJXaWR0aCwgaGVscGVySGVpZ2h0KTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUueCA9IE1hdGgucm91bmQoaGVscGVyQmJveC5sZWZ0IC8gJHNjb3BlLmdyaWRXaWR0aCk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlLnkgPSBNYXRoLnJvdW5kKGhlbHBlckJib3gudG9wIC8gJHNjb3BlLmdyaWRIZWlnaHQpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUudGlsZS53aWR0aCA9IE1hdGgucm91bmQoaGVscGVyQmJveC53aWR0aCAvICRzY29wZS5ncmlkV2lkdGgpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUudGlsZS5oZWlnaHQgPSBNYXRoLnJvdW5kKGhlbHBlckJib3guaGVpZ2h0IC8gJHNjb3BlLmdyaWRIZWlnaHQpO1xyXG5cdFx0XHRcdFx0XHRpZiAoJHNjb3BlLnRpbGUueCA8IDApXHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUueCA9IDA7XHJcblx0XHRcdFx0XHRcdGlmICgkc2NvcGUudGlsZS55IDwgMClcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUudGlsZS55ID0gMDtcclxuXHRcdFx0XHRcdFx0aWYgKCRzY29wZS50aWxlLnggKyAkc2NvcGUudGlsZS53aWR0aCA+IDEyKSB7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUueCA9IDEyIC0gJHNjb3BlLnRpbGUud2lkdGg7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnRSZXN1bHQuaXNUaWxlU2l6ZUNoYW5nZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBydW4gYW5pbWF0aW9uIGZvciBjdXJyZW50IHRpbGU6XHJcblx0XHRcdFx0XHRcdGNvbnN0ICR0ID0gYW5ndWxhci5lbGVtZW50KCcuaXotZGFzaC10aWxlW3RpbGVpZD0nICsgJHNjb3BlLnRpbGUuaWQgKyAnXScpO1xyXG5cdFx0XHRcdFx0XHQkdC5hZGRDbGFzcygndHJhbnNpdGlvbicpO1xyXG5cdFx0XHRcdFx0XHQkYW5pbWF0ZWRUaWxlcy5wdXNoKCR0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRhbmltYXRlZFRpbGVzLmZvckVhY2goJHQgPT4ge1xyXG5cdFx0XHRcdFx0XHQkdC5maW5kKCcucmVwb3J0JykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0JGFuaW1hdGVkVGlsZXMuZm9yRWFjaCgkdCA9PiB7XHJcblx0XHRcdFx0XHRcdFx0JHQucmVtb3ZlQ2xhc3MoJ3RyYW5zaXRpb24nKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdCR0aWxlLmNzcygnei1pbmRleCcsICcxJyk7XHJcblx0XHRcdFx0XHRcdCR0aWxlLmZpbmQoJy5mcmFtZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5yZW1vdmVDbGFzcygnZmxpcEluWScpO1xyXG5cdFx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzLnJlbW92ZUNsYXNzKCdhbmltYXRlZCcpO1xyXG5cdFx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzLnJlbW92ZUNsYXNzKCdmYXN0Jyk7XHJcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdCRhbmltYXRlZFRpbGVzLmZvckVhY2goJHQgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0JHQuZmluZCgnLnJlcG9ydCcpLnNob3coKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHQvLyB0dXJuIG9uIHdpbmRvdyByZXNpemUgaGFuZGxlclxyXG5cdFx0XHRcdFx0XHRcdCRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS50dXJuT25XaW5kb3dSZXNpemVIYW5kbGVyKCk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gZmlyZSBvbk1vdmVFbmQgaGFuZGxlcjpcclxuXHRcdFx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbk1vdmVFbmQpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQkc2NvcGUub25Nb3ZlRW5kKHsgZXZlbnRSZXN1bHQ6IGV2ZW50UmVzdWx0IH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0XHRcdH0sIDMwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGhhbmRsZXJzXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2VuYWJsZWQnLCAoZW5hYmxlZCwgcHJldkVuYWJsZWQpID0+IHtcclxuXHRcdFx0XHRpZiAoZW5hYmxlZCA9PT0gcHJldkVuYWJsZWQpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0JHRpbGVbJ2RyYWdnYWJsZSddKGVuYWJsZWQgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKFxyXG5cdFx0XHQkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcclxuXHRcdFx0JHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdFx0JGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSkgPT5cclxuXHRcdFx0bmV3IEl6ZW5kYVRpbGVEcmFnZ2FibGUoJHJvb3RTY29wZSwgJHRpbWVvdXQsICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckdGltZW91dCcsICckaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUaWxlRHJhZ2dhYmxlJyxcclxuXHRbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJywgSXplbmRhVGlsZURyYWdnYWJsZS5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVGlsZUZsaXBTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZmxpcE9iamVjdDogYW55O1xyXG5cdGZsaXBIYW5kbGVyOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaWxlIGZsaXAgZGlyZWN0aXZlLiBGbGlwcyB0aWxlIGFuZCBjYWxscyBoYW5kbGVyLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhVGlsZUZsaXAgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGZsaXBPYmplY3Q6ICc9aXplbmRhVGlsZUZsaXBPYmplY3QnLFxyXG5cdFx0ZmxpcEhhbmRsZXI6ICcmaXplbmRhVGlsZUZsaXBIYW5kbGVyJ1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRpbGVGbGlwU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYVRpbGVGbGlwLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRpbGVGbGlwU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBnZXRGbGlwcHlGcm9udCA9ICgpID0+ICRlbGVtZW50LmNoaWxkcmVuKCcuYW5pbWF0ZS1mbGlwJykuY2hpbGRyZW4oJy5mbGlwcHktZnJvbnQnKTtcclxuXHRcdFx0Y29uc3QgZ2V0RmxpcHB5QmFjayA9ICgpID0+ICRlbGVtZW50LmNoaWxkcmVuKCcuYW5pbWF0ZS1mbGlwJykuY2hpbGRyZW4oJy5mbGlwcHktYmFjaycpO1xyXG5cclxuXHRcdFx0Y29uc3QgZmxpcFRpbGVGcm9udCA9ICh1cGRhdGU6IGJvb2xlYW4sIHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQ6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRjb25zdCBzaG93Q2xhc3MgPSAnYW5pbWF0ZWQgZmFzdCBmbGlwSW5ZJztcclxuXHRcdFx0XHRjb25zdCBoaWRlQ2xhc3MgPSAnYW5pbWF0ZWQgZmFzdCBmbGlwT3V0WSc7XHJcblx0XHRcdFx0Y29uc3QgJGZyb250ID0gZ2V0RmxpcHB5RnJvbnQoKTtcclxuXHRcdFx0XHRjb25zdCAkYmFjayA9IGdldEZsaXBweUJhY2soKTtcclxuXHJcblx0XHRcdFx0JGVsZW1lbnQuY2hpbGRyZW4oJy51aS1yZXNpemFibGUtaGFuZGxlJykuaGlkZSgpO1xyXG5cdFx0XHRcdCRiYWNrLmFkZENsYXNzKGhpZGVDbGFzcyk7XHJcblx0XHRcdFx0JGZyb250LnJlbW92ZUNsYXNzKHNob3dDbGFzcyk7XHJcblx0XHRcdFx0JGZyb250LmNzcygnZGlzcGxheScsICdibG9jaycpLmFkZENsYXNzKHNob3dDbGFzcyk7XHJcblx0XHRcdFx0JGJhY2suY3NzKCdkaXNwbGF5JywgJ25vbmUnKS5yZW1vdmVDbGFzcyhoaWRlQ2xhc3MpO1xyXG5cclxuXHRcdFx0XHQkdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHQkZnJvbnQucmVtb3ZlQ2xhc3MoJ2ZsaXBJblknKTtcclxuXHRcdFx0XHRcdCRiYWNrLnJlbW92ZUNsYXNzKCdmbGlwSW5ZJyk7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5jaGlsZHJlbignLnVpLXJlc2l6YWJsZS1oYW5kbGUnKS5mYWRlSW4oMjAwKTtcclxuXHRcdFx0XHR9LCAyMDApLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gY2FsbCBoYW5kbGVyXHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5mbGlwSGFuZGxlcikpXHJcblx0XHRcdFx0XHRcdCRzY29wZS5mbGlwSGFuZGxlcih7XHJcblx0XHRcdFx0XHRcdFx0aXNGcm9udDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHR1cGRhdGU6IHVwZGF0ZSxcclxuXHRcdFx0XHRcdFx0XHR1cGRhdGVGcm9tU291cmNlUmVwb3J0OiB1cGRhdGVGcm9tU291cmNlUmVwb3J0XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBmbGlwVGlsZUJhY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2hvd0NsYXNzID0gJ2FuaW1hdGVkIGZhc3QgZmxpcEluWSc7XHJcblx0XHRcdFx0Y29uc3QgaGlkZUNsYXNzID0gJ2FuaW1hdGVkIGZhc3QgZmxpcE91dFknO1xyXG5cdFx0XHRcdGNvbnN0ICRmcm9udCA9IGdldEZsaXBweUZyb250KCk7XHJcblx0XHRcdFx0Y29uc3QgJGJhY2sgPSBnZXRGbGlwcHlCYWNrKCk7XHJcblxyXG5cdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcudWktcmVzaXphYmxlLWhhbmRsZScpLmhpZGUoKTtcclxuXHRcdFx0XHQkZnJvbnQuYWRkQ2xhc3MoaGlkZUNsYXNzKTtcclxuXHRcdFx0XHQkYmFjay5yZW1vdmVDbGFzcyhzaG93Q2xhc3MpO1xyXG5cdFx0XHRcdCRiYWNrLmNzcygnZGlzcGxheScsICdibG9jaycpLmFkZENsYXNzKHNob3dDbGFzcyk7XHJcblx0XHRcdFx0JGZyb250LmNzcygnZGlzcGxheScsICdub25lJykucmVtb3ZlQ2xhc3MoaGlkZUNsYXNzKTtcclxuXHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0JGZyb250LnJlbW92ZUNsYXNzKCdmbGlwSW5ZJyk7XHJcblx0XHRcdFx0XHQkYmFjay5yZW1vdmVDbGFzcygnZmxpcEluWScpO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY2hpbGRyZW4oJy51aS1yZXNpemFibGUtaGFuZGxlJykuZmFkZUluKDIwMCk7XHJcblx0XHRcdFx0fSwgMjAwKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdC8vIGNhbGwgaGFuZGxlclxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUuZmxpcEhhbmRsZXIpKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5mbGlwSGFuZGxlcih7XHJcblx0XHRcdFx0XHRcdFx0aXNGcm9udDogZmFsc2VcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2ZsaXBPYmplY3QnLCAobmV3VmFsdWU6IGFueSwgb2xkVmFsdWU6IGFueSkgPT4ge1xyXG5cdFx0XHRcdGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0aWYgKG5ld1ZhbHVlLmlzRnJvbnQpXHJcblx0XHRcdFx0XHRmbGlwVGlsZUZyb250KG5ld1ZhbHVlLnVwZGF0ZSwgbmV3VmFsdWUudXBkYXRlRnJvbVNvdXJjZVJlcG9ydCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0ZmxpcFRpbGVCYWNrKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBJemVuZGFUaWxlRmxpcCgkdGltZW91dCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUaWxlRmxpcCcsIFsnJHRpbWVvdXQnLCBJemVuZGFUaWxlRmxpcC5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVGlsZUhvdmVyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG59XHJcblxyXG4vKipcclxuICogVGlsZSBob3ZlciBkaXJlY3RpdmUuIEFkZHMgb25Ib3ZlciBldmVudCBoYW5kbGVyIHRvIHRpbGUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUaWxlSG92ZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYVRpbGVIb3ZlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFUaWxlSG92ZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhVGlsZUhvdmVyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IHVpZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApO1xyXG5cdFx0XHRjb25zdCB3aW5kb3dNb3VzZU1vdmVFdmVudE5hbWUgPSBgbW91c2Vtb3ZlLnRpbGVob3ZlciR7dWlkfWA7XHJcblx0XHRcdGxldCBpc0hvdmVyaW5nT3ZlclRpbGUgPSBmYWxzZTtcclxuXHRcdFx0bGV0IGlzSG92ZXJMb2NrZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIHNldCBob3ZlciBjbGFzc2VzIGZ1bmNcclxuXHRcdFx0Y29uc3QgYXBwbHlUaWxlSG92ZXIgPSAoJHRpbGU6IG5nLklBdWdtZW50ZWRKUXVlcnksIGlzSG92ZXJpbmdOb3c6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRjb25zdCByZXBvcnRDb21wbGV4aXR5Q29lZmZpY2VudCA9ICRzY29wZS4kZXZhbChhdHRycy5pemVuZGFUaWxlSG92ZXJSZXBvcnRDb21wbGV4aXR5KTtcclxuXHRcdFx0XHRpZiAoaXNIb3ZlckxvY2tlZCAmJiByZXBvcnRDb21wbGV4aXR5Q29lZmZpY2VudCA8IDAuNSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAoaXNIb3ZlcmluZ05vdykge1xyXG5cdFx0XHRcdFx0JHRpbGUuYWRkQ2xhc3MoJ2hvdmVyJyk7XHJcblx0XHRcdFx0XHQkdGlsZS5yZW1vdmVDbGFzcygnbm8taG92ZXItb3ZlcmZsb3cnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JHRpbGUuYWRkQ2xhc3MoJ25vLWhvdmVyLW92ZXJmbG93Jyk7XHJcblx0XHRcdFx0XHQkdGlsZS5yZW1vdmVDbGFzcygnaG92ZXInKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBob3ZlciBldmVudCBoYW5kbGVyc1xyXG5cdFx0XHQkZWxlbWVudC5ob3ZlcigoKSA9PiB7XHJcblx0XHRcdFx0YXBwbHlUaWxlSG92ZXIoJGVsZW1lbnQsIHRydWUpO1xyXG5cdFx0XHR9LCAoKSA9PiB7XHJcblx0XHRcdFx0YXBwbHlUaWxlSG92ZXIoJGVsZW1lbnQsIGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3aW5kb3cgbW91c2UgbW92ZSBldmVudCBoYW5kbGVyc1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24od2luZG93TW91c2VNb3ZlRXZlbnROYW1lLCAoZSkgPT4ge1xyXG5cdFx0XHRcdHZhciAkdGlsZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZS50YXJnZXQpLmNsb3Nlc3QoJ2Rpdi5pei1kYXNoLXRpbGUnKTtcclxuXHRcdFx0XHR2YXIgb3ZlclRpbGUgPSAkdGlsZUVsZW1lbnQubGVuZ3RoID4gMCAmJiAkdGlsZUVsZW1lbnQuYXR0cigndGlsZWlkJykgPT0gJGVsZW1lbnQuYXR0cigndGlsZWlkJyk7XHJcblx0XHRcdFx0aWYgKG92ZXJUaWxlICE9PSBpc0hvdmVyaW5nT3ZlclRpbGUpIHtcclxuXHRcdFx0XHRcdGFwcGx5VGlsZUhvdmVyKCRlbGVtZW50LCBvdmVyVGlsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlzSG92ZXJpbmdPdmVyVGlsZSA9IG92ZXJUaWxlO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJyRjdHJsLnRpbGUuYmFja1RpbGVQb3B1cE9wZW5lZCcsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3VmFsICYmIG9sZFZhbCkge1xyXG5cdFx0XHRcdFx0Ly8gYmFja1RpbGVQb3B1cE9wZW5lZCB0dXJuZWQgb2ZmXHJcblx0XHRcdFx0XHRpc0hvdmVyTG9ja2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRhcHBseVRpbGVIb3ZlcigkZWxlbWVudCwgaXNIb3ZlcmluZ092ZXJUaWxlKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKG5ld1ZhbCAmJiAhb2xkVmFsKSB7XHJcblx0XHRcdFx0XHQvLyBiYWNrVGlsZVBvcHVwT3BlbmVkIHR1cm5lZCBvblxyXG5cdFx0XHRcdFx0YXBwbHlUaWxlSG92ZXIoJGVsZW1lbnQsIHRydWUpO1xyXG5cdFx0XHRcdFx0aXNIb3ZlckxvY2tlZCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0JGVsZW1lbnQub2ZmKCdob3ZlcicpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYod2luZG93TW91c2VNb3ZlRXZlbnROYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSA9PiBuZXcgSXplbmRhVGlsZUhvdmVyKCR3aW5kb3cpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFUaWxlSG92ZXInLCBbJyR3aW5kb3cnLCBJemVuZGFUaWxlSG92ZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCB7IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC90aWxlLW1vZGVsJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVGlsZVJlc2l6YWJsZVNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRncmlkV2lkdGg6IGFueTtcclxuXHRncmlkSGVpZ2h0OiBhbnk7XHJcblx0dGlsZTogYW55O1xyXG5cdHRpbGVzOiBhbnk7XHJcblx0b25SZXNpemU6IGFueTtcclxuXHRvblJlc2l6ZVN0YXJ0OiBhbnk7XHJcblx0b25SZXNpemVFbmQ6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBwcm92aWRlcyByZXNpemUgZnVuY3Rpb24gZm9yIGRhc2hib2FyZCB0aWxlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhVGlsZVJlc2l6YWJsZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0UnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0Z3JpZFdpZHRoOiAnPScsXHJcblx0XHRncmlkSGVpZ2h0OiAnPScsXHJcblx0XHR0aWxlOiAnPScsXHJcblx0XHR0aWxlczogJz0nLFxyXG5cdFx0b25SZXNpemU6ICcmJyxcclxuXHRcdG9uUmVzaXplU3RhcnQ6ICcmJyxcclxuXHRcdG9uUmVzaXplRW5kOiAnJidcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUaWxlUmVzaXphYmxlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBhbnkpIHtcclxuXHRcdEl6ZW5kYVRpbGVSZXNpemFibGUucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhVGlsZVJlc2l6YWJsZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSByZXNpemFibGVcclxuXHRcdFx0bGV0ICR0aWxlID0gJGVsZW1lbnQuY2xvc2VzdCgnLml6LWRhc2gtdGlsZScpO1xyXG5cdFx0XHRsZXQgJHRpbGVGbGlwcGllczogbmcuSUF1Z21lbnRlZEpRdWVyeTtcclxuXHRcdFx0bGV0IHByZXZpb3VzSGVscGVyQmJveCA9IHsgbGVmdDogMCwgdG9wOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ2hlY2sgdGlsZSBpbnRlcnNlY3RzIHRvIGFueSBvdGhlciB0aWxlXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBjaGVja1RpbGVJbnRlcnNlY3RzID0gKCRoZWxwZXI6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0XHRjb25zdCBoaXRUZXN0ID0gKFxyXG5cdFx0XHRcdFx0YTogbmcuSUF1Z21lbnRlZEpRdWVyeSxcclxuXHRcdFx0XHRcdG90aGVyVGlsZTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsLFxyXG5cdFx0XHRcdFx0YWNjdXJhY3lYOiBudW1iZXIsXHJcblx0XHRcdFx0XHRhY2N1cmFjeVk6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgYVBvcyA9IGEucG9zaXRpb24oKTtcclxuXHRcdFx0XHRcdGNvbnN0IGFUb3AgPSBhUG9zLnRvcCA+IDAgPyBhUG9zLnRvcCA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCBhQm90dG9tID0gYVRvcCArIGEuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRsZXQgYUxlZnQgPSBhUG9zLmxlZnQgPiAwID8gYVBvcy5sZWZ0IDogMDtcclxuXHRcdFx0XHRcdGxldCBhUmlnaHQgPSBhTGVmdCArIGEud2lkdGgoKTtcclxuXHRcdFx0XHRcdGlmIChhUmlnaHQgLyAkc2NvcGUuZ3JpZFdpZHRoID4gMTIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZGVsdGEgPSBhUmlnaHQgLSAkc2NvcGUuZ3JpZFdpZHRoICogMTI7XHJcblx0XHRcdFx0XHRcdGFMZWZ0IC09IGRlbHRhO1xyXG5cdFx0XHRcdFx0XHRhUmlnaHQgPSAkc2NvcGUuZ3JpZFdpZHRoICogMTI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCBiTGVmdCA9IG90aGVyVGlsZS54ICogJHNjb3BlLmdyaWRXaWR0aCArIGFjY3VyYWN5WDtcclxuXHRcdFx0XHRcdGNvbnN0IGJUb3AgPSBvdGhlclRpbGUueSAqICRzY29wZS5ncmlkSGVpZ2h0ICsgYWNjdXJhY3lZO1xyXG5cdFx0XHRcdFx0Y29uc3QgYlJpZ2h0ID0gKG90aGVyVGlsZS54ICsgb3RoZXJUaWxlLndpZHRoKSAqICRzY29wZS5ncmlkV2lkdGggLSBhY2N1cmFjeVg7XHJcblx0XHRcdFx0XHRjb25zdCBiQm90dG9tID0gKG90aGVyVGlsZS55ICsgb3RoZXJUaWxlLmhlaWdodCkgKiAkc2NvcGUuZ3JpZEhlaWdodCAtIGFjY3VyYWN5WTtcclxuXHRcdFx0XHRcdHJldHVybiAhKGJMZWZ0ID4gYVJpZ2h0IHx8IGJSaWdodCA8IGFMZWZ0IHx8IGJUb3AgPiBhQm90dG9tIHx8IGJCb3R0b20gPCBhVG9wKTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRsZXQgcmVzdWx0ID0gZmFsc2U7XHJcblx0XHRcdFx0JHNjb3BlLnRpbGVzLmZvckVhY2gob1RpbGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKG9UaWxlLmlkID09PSAkc2NvcGUudGlsZS5pZClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0aWYgKGhpdFRlc3QoJGhlbHBlciwgb1RpbGUsICRzY29wZS5ncmlkV2lkdGggLyAyLCAkc2NvcGUuZ3JpZEhlaWdodCAvIDIpKVxyXG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBVcGRhdGUgcmVzaXphYmxlIGFjY29yZGluZyB0byBjdXJyZW50IGdyaWRXaWR0aCBhbmQgZ3JpZEhlaWdodFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgdXBkYXRlQ29udHJhaW50cyA9ICgpID0+IHtcclxuXHRcdFx0XHQkdGlsZVsncmVzaXphYmxlJ10oJ29wdGlvbicsICdncmlkJywgWyRzY29wZS5ncmlkV2lkdGgsICRzY29wZS5ncmlkSGVpZ2h0XSk7XHJcblx0XHRcdFx0JHRpbGVbJ3Jlc2l6YWJsZSddKCdvcHRpb24nLCAnbWluSGVpZ2h0JywgJHNjb3BlLmdyaWRXaWR0aCk7XHJcblx0XHRcdFx0JHRpbGVbJ3Jlc2l6YWJsZSddKCdvcHRpb24nLCAnbWluV2lkdGgnLCAkc2NvcGUuZ3JpZEhlaWdodCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBVcGRhdGUgdGlsZSB4LHksd2lkdGgsaGVpZ2h0IGFjY29yZGluZyB0byB0aGUgbmV3IGRvbSBlbGVtZW50IHNpemVcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHVwZGF0ZVRpbGVTaXplID0gKHRpbGU6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCwgJHQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0XHRjb25zdCB0aWxlUG9zaXRpb24gPSAkdC5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdGNvbnN0IHggPSBNYXRoLnJvdW5kKHRpbGVQb3NpdGlvbi5sZWZ0IC8gJHNjb3BlLmdyaWRXaWR0aCk7XHJcblx0XHRcdFx0Y29uc3QgeSA9IE1hdGgucm91bmQodGlsZVBvc2l0aW9uLnRvcCAvICRzY29wZS5ncmlkSGVpZ2h0KTtcclxuXHRcdFx0XHRsZXQgd2lkdGggPSBNYXRoLnJvdW5kKCR0LndpZHRoKCkgLyAkc2NvcGUuZ3JpZFdpZHRoKTtcclxuXHRcdFx0XHRsZXQgaGVpZ2h0ID0gTWF0aC5yb3VuZCgkdC5oZWlnaHQoKSAvICRzY29wZS5ncmlkSGVpZ2h0KTtcclxuXHRcdFx0XHRjb25zdCBpc1RpbGVTaXplTmVlZFRvQ29ycmVjdCA9IHggPCAwIHx8IHkgPCAwIHx8IHggKyB3aWR0aCA+IDEyO1xyXG5cdFx0XHRcdGlmICh4IDwgMCkge1xyXG5cdFx0XHRcdFx0d2lkdGggPSB3aWR0aCArIHg7XHJcblx0XHRcdFx0XHR0aWxlLnggPSAwO1xyXG5cdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0dGlsZS54ID0geDtcclxuXHRcdFx0XHRpZiAoeSA8IDApIHtcclxuXHRcdFx0XHRcdGhlaWdodCA9IGhlaWdodCArIHk7XHJcblx0XHRcdFx0XHR0aWxlLnkgPSAwO1xyXG5cdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0dGlsZS55ID0geTtcclxuXHRcdFx0XHR0aWxlLndpZHRoID0gd2lkdGg7XHJcblx0XHRcdFx0dGlsZS5oZWlnaHQgPSBoZWlnaHQ7XHJcblx0XHRcdFx0aWYgKHRpbGUueCArIHRpbGUud2lkdGggPiAxMikge1xyXG5cdFx0XHRcdFx0dGlsZS53aWR0aCA9IDEyIC0gdGlsZS54O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoaXNUaWxlU2l6ZU5lZWRUb0NvcnJlY3QpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGwgPSB0aWxlLnggKiAkc2NvcGUuZ3JpZFdpZHRoO1xyXG5cdFx0XHRcdFx0Y29uc3QgdCA9IHRpbGUueSAqICRzY29wZS5ncmlkSGVpZ2h0O1xyXG5cdFx0XHRcdFx0JHQuY3NzKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoJHtsfXB4LCR7dH1weCwwKWApO1xyXG5cdFx0XHRcdFx0JHQud2lkdGgodGlsZS53aWR0aCAqICRzY29wZS5ncmlkV2lkdGgpO1xyXG5cdFx0XHRcdFx0JHQuaGVpZ2h0KHRpbGUuaGVpZ2h0ICogJHNjb3BlLmdyaWRIZWlnaHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSByZXNpemFibGUgZm9yIHRpbGVcclxuXHRcdFx0JHRpbGVbJ3Jlc2l6YWJsZSddKHtcclxuXHRcdFx0XHRtaW5XaWR0aDogJHNjb3BlLmdyaWRXaWR0aCxcclxuXHRcdFx0XHRtaW5IZWlnaHQ6ICRzY29wZS5ncmlkSGVpZ2h0LFxyXG5cdFx0XHRcdGdyaWQ6IFskc2NvcGUuZ3JpZFdpZHRoLCAkc2NvcGUuZ3JpZEhlaWdodF0sXHJcblx0XHRcdFx0aGFuZGxlczogJ24sIGUsIHMsIHcsIHNlJyxcclxuXHRcdFx0XHQvLyBzdGFydCByZXNpemUgaGFuZGxlclxyXG5cdFx0XHRcdHN0YXJ0OiBldmVudCA9PiB7XHJcblx0XHRcdFx0XHQkc2NvcGUudGlsZXMuZm9yRWFjaCh0ID0+IHtcclxuXHRcdFx0XHRcdFx0dC5iYWNrVGlsZVBvcHVwT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdC8vIHR1cm4gb2ZmIHdpbmRvdyByZXNpemUgaGFuZGxlclxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudHVybk9mZldpbmRvd1Jlc2l6ZUhhbmRsZXIoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBjb250ZXh0IHZhcmlhYmxlc1xyXG5cdFx0XHRcdFx0JHRpbGUgPSAoYW5ndWxhci5lbGVtZW50KGV2ZW50LnRhcmdldCkgYXMgYW5ndWxhci5JQXVnbWVudGVkSlF1ZXJ5KTtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMgPSAkdGlsZS5jaGlsZHJlbignLmFuaW1hdGUtZmxpcCcpLmNoaWxkcmVuKCcuZmxpcHB5Jyk7XHJcblxyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5jaGlsZHJlbignLmZyYW1lJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5yZW1vdmVDbGFzcygnZmxpcEluWScpO1xyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSg1MCwyMDUsNTAsIDAuMyknKTtcclxuXHRcdFx0XHRcdCR0aWxlLmNzcygnei1pbmRleCcsIDEwMDApO1xyXG5cdFx0XHRcdFx0JHRpbGUuY3NzKCdvcGFjaXR5JywgMSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmlyZSBvblJlc2l6ZVN0YXJ0IGhhbmRsZXI6XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblJlc2l6ZVN0YXJ0KSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBldmVudFJlc3VsdCA9IHtcclxuXHRcdFx0XHRcdFx0XHR0aWxlOiAkc2NvcGUudGlsZVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUub25SZXNpemVTdGFydCh7IGV2ZW50UmVzdWx0OiBldmVudFJlc3VsdCB9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdC8vIHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdFx0cmVzaXplOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBoZWxwZXJQb3NpdGlvbiA9ICR0aWxlLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHRjb25zdCB4ID0gTWF0aC5yb3VuZChoZWxwZXJQb3NpdGlvbi5sZWZ0IC8gJHNjb3BlLmdyaWRXaWR0aCkgKiAkc2NvcGUuZ3JpZFdpZHRoO1xyXG5cdFx0XHRcdFx0Y29uc3QgeSA9IE1hdGgucm91bmQoaGVscGVyUG9zaXRpb24udG9wIC8gJHNjb3BlLmdyaWRIZWlnaHQpICogJHNjb3BlLmdyaWRIZWlnaHQ7XHJcblx0XHRcdFx0XHRjb25zdCBoZWxwZXJCYm94ID0ge1xyXG5cdFx0XHRcdFx0XHRsZWZ0OiB4LFxyXG5cdFx0XHRcdFx0XHR0b3A6IHksXHJcblx0XHRcdFx0XHRcdHdpZHRoOiBNYXRoLnJvdW5kKCR0aWxlLndpZHRoKCkgLyAkc2NvcGUuZ3JpZFdpZHRoKSAqICRzY29wZS5ncmlkV2lkdGgsXHJcblx0XHRcdFx0XHRcdGhlaWdodDogTWF0aC5yb3VuZCgkdGlsZS5oZWlnaHQoKSAvICRzY29wZS5ncmlkSGVpZ2h0KSAqICRzY29wZS5ncmlkV2lkdGhcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHQvLyBwcmV2ZW50IGR1cGxpY2F0ZSBjYWxsc1xyXG5cdFx0XHRcdFx0aWYgKHByZXZpb3VzSGVscGVyQmJveC5sZWZ0ID09PSBoZWxwZXJCYm94LmxlZnQgJiZcclxuXHRcdFx0XHRcdFx0cHJldmlvdXNIZWxwZXJCYm94LnRvcCA9PT0gaGVscGVyQmJveC50b3AgJiZcclxuXHRcdFx0XHRcdFx0cHJldmlvdXNIZWxwZXJCYm94LndpZHRoID09PSBoZWxwZXJCYm94LndpZHRoICYmXHJcblx0XHRcdFx0XHRcdHByZXZpb3VzSGVscGVyQmJveC5oZWlnaHQgPT09IGhlbHBlckJib3guaGVpZ2h0KVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRwcmV2aW91c0hlbHBlckJib3ggPSBoZWxwZXJCYm94O1xyXG5cclxuXHRcdFx0XHRcdC8vIGZpcmUgb25Nb3ZlIGhhbmRsZXI6XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblJlc2l6ZSkpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZXZlbnRSZXN1bHQgPSB7XHJcblx0XHRcdFx0XHRcdFx0dGlsZTogJHNjb3BlLnRpbGUsXHJcblx0XHRcdFx0XHRcdFx0c2hhZG93UG9zaXRpb246IGhlbHBlckJib3hcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm9uUmVzaXplKHsgZXZlbnRSZXN1bHQ6IGV2ZW50UmVzdWx0IH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSg1MCwyMDUsNTAsIDAuNSknKTtcclxuXHRcdFx0XHRcdGlmIChjaGVja1RpbGVJbnRlcnNlY3RzKCR0aWxlKSkge1xyXG5cdFx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdyZ2JhKDIyMCwyMCw2MCwwLjUpJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQvLyBlbmQgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRzdG9wOiAoZXZlbnQsIHVpKSA9PiB7XHJcblx0XHRcdFx0XHQkdGlsZS5jc3MoJ3otaW5kZXgnLCAnMScpO1xyXG5cdFx0XHRcdFx0JHRpbGUuZmluZCgnLmZyYW1lJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5yZW1vdmVDbGFzcygnZmxpcEluWScpO1xyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5yZW1vdmVDbGFzcygnYW5pbWF0ZWQnKTtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMucmVtb3ZlQ2xhc3MoJ2Zhc3QnKTtcclxuXHJcblx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcclxuXHRcdFx0XHRcdGxldCBldmVudFJlc3VsdDogYW55O1xyXG5cdFx0XHRcdFx0aWYgKGNoZWNrVGlsZUludGVyc2VjdHMoJHRpbGUpKSB7XHJcblx0XHRcdFx0XHRcdCR0aWxlLmFuaW1hdGUoe1xyXG5cdFx0XHRcdFx0XHRcdGxlZnQ6IHVpLm9yaWdpbmFsUG9zaXRpb24ubGVmdCxcclxuXHRcdFx0XHRcdFx0XHR0b3A6IHVpLm9yaWdpbmFsUG9zaXRpb24udG9wLFxyXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiB1aS5vcmlnaW5hbFNpemUud2lkdGgsXHJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiB1aS5vcmlnaW5hbFNpemUuaGVpZ2h0XHJcblx0XHRcdFx0XHRcdH0sIDIwMCk7XHJcblx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdGFjdGlvbjogJ3Jlc2l6ZSBjYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRcdGlzVGlsZVNpemVDaGFuZ2VkOiBmYWxzZVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaXNUaWxlU2l6ZUNoYW5nZWQgPSAkdGlsZS53aWR0aCgpICE9PSB1aS5vcmlnaW5hbFNpemUud2lkdGggfHwgJHRpbGUuaGVpZ2h0KCkgIT09IHVpLm9yaWdpbmFsU2l6ZS5oZWlnaHQ7XHJcblx0XHRcdFx0XHRcdGlmIChpc1RpbGVTaXplQ2hhbmdlZClcclxuXHRcdFx0XHRcdFx0XHR1cGRhdGVUaWxlU2l6ZSgkc2NvcGUudGlsZSwgJHRpbGUpO1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdCA9IHtcclxuXHRcdFx0XHRcdFx0XHRhY3Rpb246ICdyZXNpemUgZW5kJyxcclxuXHRcdFx0XHRcdFx0XHRpc1RpbGVTaXplQ2hhbmdlZDogaXNUaWxlU2l6ZUNoYW5nZWRcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMuY2hpbGRyZW4oJy5mcmFtZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdCR0aWxlLmNzcygnb3BhY2l0eScsIDEpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHR1cm4gb24gd2luZG93IHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS50dXJuT25XaW5kb3dSZXNpemVIYW5kbGVyKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmlyZSBvblJlc2l6ZUVuZCBoYW5kbGVyOlxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZXNpemVFbmQpKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5vblJlc2l6ZUVuZCh7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnRSZXN1bHQ6IGV2ZW50UmVzdWx0XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBoYW5kbGVyc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdlbmFibGVkJywgKGVuYWJsZWQsIHByZXZFbmFibGVkKSA9PiB7XHJcblx0XHRcdFx0aWYgKGVuYWJsZWQgPT09IHByZXZFbmFibGVkKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdCR0aWxlWydyZXNpemFibGUnXShlbmFibGVkID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2dyaWRXaWR0aCcsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR1cGRhdGVDb250cmFpbnRzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnZ3JpZEhlaWdodCcsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR1cGRhdGVDb250cmFpbnRzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpID0+IG5ldyBJemVuZGFUaWxlUmVzaXphYmxlKCRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVGlsZVJlc2l6YWJsZScsIFsnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJywgSXplbmRhVGlsZVJlc2l6YWJsZS5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcblxyXG5pbXBvcnQgeyBJSXplbmRhRGFzaGJvYXJkU2V0dGluZ3MgfSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvdGlsZS1tb2RlbCc7XHJcblxyXG5cclxuLyoqXHJcbiAqIEJhY2sgdGlsZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFEYXNoYm9hcmRNb2R1bGUsXHJcblx0J2l6ZW5kYURhc2hib2FyZFRpbGVCYWNrJyxcclxuXHRbJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLCAnJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5kYXNoYm9hcmQuY29tcG9uZW50cy50aWxlLWJhY2sudGlsZS1iYWNrLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0dGlsZTogJzwnLFxyXG5cdFx0XHRmb2N1c2VkOiAnPCcsXHJcblx0XHRcdG9uU2V0VGlsZVRvcDogJyYnLFxyXG5cdFx0XHRvblByaW50OiAnJicsXHJcblx0XHRcdG9uRXhwb3J0RXhjZWw6ICcmJyxcclxuXHRcdFx0b25Hb1RvRWRpdG9yOiAnJicsXHJcblx0XHRcdG9uR29Ub1ZpZXdlcjogJyYnLFxyXG5cdFx0XHRvblJlbG9hZDogJyYnLFxyXG5cdFx0XHRvblNlbGVjdFJlcG9ydDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGNsYXNzIEl6ZW5kYURhc2hib2FyZFRpbGVCYWNrQ29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cclxuXHQvLyBiaW5kaW5nc1xyXG5cdHRpbGU6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbDtcclxuXHRmb2N1c2VkOiBib29sZWFuO1xyXG5cdG9uU2V0VGlsZVRvcDogKHsgdG9wOiBudW1iZXIgfSkgPT4gdm9pZDtcclxuXHRvblByaW50OiAoYW55KSA9PiB2b2lkO1xyXG5cdG9uRXhwb3J0RXhjZWw6IChhbnkpID0+IHZvaWQ7XHJcblx0b25Hb1RvRWRpdG9yOiAoYW55KSA9PiB2b2lkO1xyXG5cdG9uR29Ub1ZpZXdlcjogKGFueSkgPT4gdm9pZDtcclxuXHRvblJlbG9hZDogKGFueSkgPT4gdm9pZDtcclxuXHRvblNlbGVjdFJlcG9ydDogKGFueSkgPT4gdm9pZDtcclxuXHQvLyBvdGhlclxyXG5cdHNob3dBbGxJblJlc3VsdHM6IGJvb2xlYW47XHJcblx0aXNEZXNpZ25MaW5rc0FsbG93ZWQ6IGJvb2xlYW47XHJcblx0cHJpbnRNb2RlOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzOiBJSXplbmRhRGFzaGJvYXJkU2V0dGluZ3MsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnNob3dBbGxJblJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0dGhpcy5pc0Rlc2lnbkxpbmtzQWxsb3dlZCA9IHRydWU7XHJcblx0XHR0aGlzLnByaW50TW9kZSA9ICdIdG1sMlBkZkFuZEh0bWwnO1xyXG5cdH1cclxuXHJcblx0JG9uSW5pdCgpIHtcclxuXHRcdHRoaXMuaW5pdGlhbGl6ZUFkSG9jU2V0dGluZ3MoKTtcclxuXHR9O1xyXG5cclxuXHR0b3BTZWxlY3RlZChuZXdUb3A6IG51bWJlcikge1xyXG5cdFx0aWYgKHRoaXMub25TZXRUaWxlVG9wKVxyXG5cdFx0XHR0aGlzLm9uU2V0VGlsZVRvcCh7IHRvcDogbmV3VG9wIH0pO1xyXG5cdH1cclxuXHJcblx0cHJpbnRUaWxlKCkge1xyXG5cdFx0dGhpcy5maXJlSGFuZGxlcih0aGlzLm9uUHJpbnQpO1xyXG5cdH1cclxuXHJcblx0ZmlyZUV4cG9ydFRvRXhjZWwoKSB7XHJcblx0XHR0aGlzLmZpcmVIYW5kbGVyKHRoaXMub25FeHBvcnRFeGNlbCk7XHJcblx0fVxyXG5cclxuXHRmaXJlUmVwb3J0RWRpdG9yTGluaygpIHtcclxuXHRcdHRoaXMuZmlyZUhhbmRsZXIodGhpcy5vbkdvVG9FZGl0b3IpO1xyXG5cdH1cclxuXHJcblx0ZmlyZVJlcG9ydFZpZXdlckxpbmsoKSB7XHJcblx0XHR0aGlzLmZpcmVIYW5kbGVyKHRoaXMub25Hb1RvVmlld2VyKTtcclxuXHR9XHJcblxyXG5cdHJlbG9hZFRpbGUoKSB7XHJcblx0XHR0aGlzLmZpcmVIYW5kbGVyKHRoaXMub25SZWxvYWQpO1xyXG5cdH1cclxuXHJcblx0c2VsZWN0UmVwb3J0UGFydCgpIHtcclxuXHRcdHRoaXMuZmlyZUhhbmRsZXIodGhpcy5vblNlbGVjdFJlcG9ydCk7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gcmlnaHRzXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdGhhc1JpZ2h0TGV2ZWwocmVxdWlyZWRMZXZlbCk6IGJvb2xlYW4ge1xyXG5cdFx0dmFyIHJpZ2h0cyA9IFsnTm9uZScsICdMb2NrZWQnLCAnVmlldyBPbmx5JywgJ1JlYWQgT25seScsICdGdWxsIEFjY2VzcyddO1xyXG5cdFx0dmFyIGN1cnJlbnRSaWdodExldmVsID0gcmlnaHRzLmluZGV4T2YodGhpcy50aWxlLm1heFJpZ2h0cyk7XHJcblx0XHRpZiAoY3VycmVudFJpZ2h0TGV2ZWwgPCAwKVxyXG5cdFx0XHR0aHJvdyAnVW5rbm93biByaWdodCBzdHJpbmc6ICcgKyB0aGlzLnRpbGUubWF4UmlnaHRzO1xyXG5cdFx0cmV0dXJuIGN1cnJlbnRSaWdodExldmVsID49IHJlcXVpcmVkTGV2ZWw7XHJcblx0fVxyXG5cclxuXHRoYXNMb2NrZWRSaWdodHNPck1vcmUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5oYXNSaWdodExldmVsKDEpO1xyXG5cdH1cclxuXHJcblx0aGFzVmlld09ubHlSaWdodHNPck1vcmUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5oYXNSaWdodExldmVsKDIpO1xyXG5cdH1cclxuXHJcblx0aGFzUmVhZE9ubHlSaWdodHNPck1vcmUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5oYXNSaWdodExldmVsKDMpO1xyXG5cdH1cclxuXHJcblx0aGFzRnVsbFJpZ2h0cygpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmhhc1JpZ2h0TGV2ZWwoNCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJcyBodG1sIG1vZGVsIGVuYWJsZWQgaW4gQWRIb2NTZXR0aW5nc1xyXG5cdCAqL1xyXG5cdGlzUHJpbnRUaWxlVmlzaWJsZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW50TW9kZSA9PT0gJ0h0bWwnIHx8IHRoaXMucHJpbnRNb2RlID09PSAnSHRtbDJQZGZBbmRIdG1sJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlmIG9uZSBjb2x1bW4gdmlldyByZXF1aXJlZFxyXG5cdCAqL1xyXG5cdGlzT25lQ29sdW1uVmlldygpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc09uZUNvbHVtblZpZXcoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaW5pdGlhbGl6ZUFkSG9jU2V0dGluZ3MoKSB7XHJcblx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q29tbW9uU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuaXNEZXNpZ25MaW5rc0FsbG93ZWQgPSBzZXR0aW5ncy5zaG93RGVzaWduTGlua3M7IC8vIHNob3cvaGlkZSBcImdvIHRvIGRlc2lnbmVyXCIgYnV0dG9uXHJcblx0XHR0aGlzLnNob3dBbGxJblJlc3VsdHMgPSBzZXR0aW5ncy5zaG93QWxsSW5SZXN1bHRzOyAvLyBzaG93IFwiQUxMXCIgaW4gdGlsZSB0b3Agc2xpZGVyXHJcblx0XHR0aGlzLnByaW50TW9kZSA9IHRoaXMuJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzLmFsbG93ZWRQcmludEVuZ2luZTsgLy8gYWxsb3dlZCBwcmludCBtb2Rlc1xyXG5cdH1cclxuXHJcblx0ZmlyZUhhbmRsZXIoaGFuZGxlckZ1bmN0aW9uOiAoYW55KSA9PiB2b2lkKSB7XHJcblx0XHRpZiAoaGFuZGxlckZ1bmN0aW9uKVxyXG5cdFx0XHRoYW5kbGVyRnVuY3Rpb24oe30pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSwgeyBJSXplbmRhRGFzaGJvYXJkU2V0dGluZ3MgfSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC9kYXNoYm9hcmQtbW9kZWwnO1xyXG5cclxuLyoqXHJcbiAqIFRpbGUgZGVmYXVsdCBzdGF0ZSBvYmplY3RcclxuICovXHJcbml6ZW5kYURhc2hib2FyZE1vZHVsZS5jb25zdGFudCgndGlsZURlZmF1bHRzJywge1xyXG5cdGlkOiBudWxsLFxyXG5cdGNhbkJlTG9hZGVkOiBmYWxzZSxcclxuXHRtYXhSaWdodHM6ICdOb25lJyxcclxuXHR0aXRsZTogbnVsbCxcclxuXHRkZXNjcmlwdGlvbjogbnVsbCxcclxuXHRyZXBvcnRGdWxsTmFtZTogbnVsbCxcclxuXHRyZXBvcnRQYXJ0TmFtZTogbnVsbCxcclxuXHRyZXBvcnRTZXROYW1lOiBudWxsLFxyXG5cdHJlcG9ydE5hbWU6IG51bGwsXHJcblx0cmVwb3J0Q2F0ZWdvcnk6IG51bGwsXHJcblx0cmVwb3J0TmFtZVdpdGhDYXRlZ29yeTogbnVsbCxcclxuXHRwcmV2aW91c1JlcG9ydEZ1bGxOYW1lOiBudWxsLFxyXG5cdGlzU291cmNlUmVwb3J0RGVsZXRlZDogZmFsc2UsXHJcblx0ZGVzaWduZXJUeXBlOiAnUmVwb3J0RGVzaWduZXInLFxyXG5cdHg6IDAsXHJcblx0eTogMCxcclxuXHR3aWR0aDogMSxcclxuXHRoZWlnaHQ6IDEsXHJcblx0dG9wOiAxMDAsXHJcblx0dG9wU3RyaW5nOiAnMTAwJyxcclxuXHRmbGlwOiBmYWxzZSxcclxuXHRhcHBseUZpbHRlclBhcmFtczogZmFsc2UsXHJcblx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXHJcblx0YmFja1RpbGVQb3B1cE9wZW5lZDogZmFsc2VcclxufSk7XHJcblxyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYURhc2hib2FyZE1vZHVsZSxcclxuXHQnaXplbmRhRGFzaGJvYXJkVGlsZScsXHJcblx0WydyeCcsICckZWxlbWVudCcsICckaW50ZXJ2YWwnLCAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgJyRpemVuZGFVcmxTZXJ2aWNlJyxcclxuXHRcdCckaXplbmRhVXRpbFVpU2VydmljZScsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncycsICckaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmNvbXBvbmVudHMudGlsZS50aWxlLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0dGlsZTogJzwnLCAvLyBtYWluIHRpbGUgb2JqZWN0XHJcblx0XHRcdHRpbGVzOiAnPCcsIC8vIGFsbCB0aWxlIG9iamVjdHMgaW4gZGFzaGJvYXJkXHJcblx0XHRcdGdyaWRXaWR0aDogJzwnLFxyXG5cdFx0XHRncmlkSGVpZ2h0OiAnPCcsXHJcblx0XHRcdGlzRGFzaGJvYXJkQ2hhbmdpbmdOb3c6ICc8JyxcclxuXHRcdFx0b25UaWxlRHJhZzogJyYnLFxyXG5cdFx0XHRvblRpbGVEcmFnU3RhcnQ6ICcmJyxcclxuXHRcdFx0b25UaWxlRHJhZ0VuZDogJyYnLFxyXG5cdFx0XHRvblRpbGVSZXNpemU6ICcmJyxcclxuXHRcdFx0b25UaWxlUmVzaXplU3RhcnQ6ICcmJyxcclxuXHRcdFx0b25UaWxlUmVzaXplRW5kOiAnJicsXHJcblx0XHRcdG9uVGlsZURlbGV0ZTogJyYnLFxyXG5cdFx0XHRvblRpbGVSZXBvcnRTZWxlY3RlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuY2xhc3MgSXplbmRhRGFzaGJvYXJkVGlsZUNvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHJcblx0c3Vic2NyaXB0aW9uczogYW55W107XHJcblxyXG5cdGlzSWU6IGJvb2xlYW47XHJcblx0aXNCdXR0b25zVmlzaWJsZTogYm9vbGVhbjtcclxuXHJcblx0dGlsZTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsO1xyXG5cdHRpbGVzOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWxbXTtcclxuXHRtb2RlbDogSXplbmRhRGFzaGJvYXJkTW9kZWw7XHJcblxyXG5cdGRlbGV0ZUNvbmZpcm1DbGFzczogc3RyaW5nID0gJ3RpdGxlLWJ1dHRvbiBoaWRkZW4tY29uZmlybS1idG4nO1xyXG5cdHRpbGVTaXplQ2hhbmdlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHN0YXRlOiBhbnk7XHJcblx0aXNTZWxlY3RSZXBvcnRQYXJ0TW9kYWxWaXNpYmxlOiBib29sZWFuID0gZmFsc2U7XHJcblx0ZXhwb3J0UHJvZ3Jlc3M6IHN0cmluZztcclxuXHRwcmV2aW91c1dpZHRoOiBudW1iZXI7XHJcblx0aXNEYXNoYm9hcmRDaGFuZ2luZ05vdzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdGdyaWRXaWR0aDogbnVtYmVyO1xyXG5cdGdyaWRIZWlnaHQ6IG51bWJlcjtcclxuXHJcblx0b25UaWxlRGVsZXRlOiBhbnk7XHJcblx0b25UaWxlUmVzaXplU3RhcnQ6IGFueTtcclxuXHRvblRpbGVSZXNpemU6IGFueTtcclxuXHRvblRpbGVSZXNpemVFbmQ6IGFueTtcclxuXHRvblRpbGVEcmFnRW5kOiBhbnk7XHJcblx0b25UaWxlUmVwb3J0U2VsZWN0ZWQ6IGFueTtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJ4OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzOiBJSXplbmRhRGFzaGJvYXJkU2V0dGluZ3MsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpIHtcclxuXHJcblx0fVxyXG5cclxuXHQkb25Jbml0KCkge1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW107XHJcblxyXG5cdFx0dGhpcy5pc0llID0gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNJZSgpO1xyXG5cdFx0dGhpcy5pc0J1dHRvbnNWaXNpYmxlID0gdHJ1ZTtcclxuXHRcdHRoaXMuZGVsZXRlQ29uZmlybUNsYXNzID0gJ3RpdGxlLWJ1dHRvbiBoaWRkZW4tY29uZmlybS1idG4nO1xyXG5cdFx0dGhpcy50aWxlU2l6ZUNoYW5nZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3RhdGUgPSB7XHJcblx0XHRcdGVtcHR5OiB0cnVlLFxyXG5cdFx0XHRyZXNpemFibGVIYW5kbGVyU3RhcnRlZDogZmFsc2UsXHJcblx0XHRcdHJlbGF0aXZlUmVwb3J0Q29tcGxleGl0eTogMFxyXG5cdFx0fTtcclxuXHRcdHRoaXMuaXNTZWxlY3RSZXBvcnRQYXJ0TW9kYWxWaXNpYmxlID0gZmFsc2U7XHJcblx0XHR0aGlzLmV4cG9ydFByb2dyZXNzID0gbnVsbDtcclxuXHJcblx0XHR0aGlzLnByZXZpb3VzV2lkdGggPSB0aGlzLiR3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hPYnNlcnZhYmxlLnN1YnNjcmliZShyZWZyZXNoSW5mbyA9PiB0aGlzLiRvblJlZnJlc2gocmVmcmVzaEluZm8pKSxcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2Uud2luZG93U2l6ZS5zdWJzY3JpYmVPbk5leHQobmV3V2luZG93U2l6ZSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMucHJldmlvdXNXaWR0aCA9PT0gbmV3V2luZG93U2l6ZS53aWR0aClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR0aGlzLnByZXZpb3VzV2lkdGggPSBuZXdXaW5kb3dTaXplLndpZHRoO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFRpbGUoZmFsc2UpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJpbmRpbmdzIGxpc3RlbmVyXHJcblx0ICovXHJcblx0JG9uQ2hhbmdlcyhjaGFuZ2VzT2JqKSB7XHJcblx0XHRpZiAoY2hhbmdlc09iai50aWxlICYmIGFuZ3VsYXIuaXNPYmplY3QoY2hhbmdlc09iai50aWxlKSkge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hUaWxlKCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0JG9uRGVzdHJveSgpIHtcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YiA9PiBzdWIuZGlzcG9zZSgpKTtcclxuXHR9XHJcblxyXG5cdCRvblJlZnJlc2gocmVmcmVzaEluZm8pIHtcclxuXHRcdGNvbnN0IHVwZGF0ZUZyb21Tb3VyY2UgPSByZWZyZXNoSW5mby51cGRhdGVGcm9tU291cmNlO1xyXG5cdFx0Y29uc3QgdGlsZSA9IHJlZnJlc2hJbmZvLnRpbGU7XHJcblx0XHRpZiAoIXRpbGUgfHwgdGlsZSA9PT0gdGhpcy50aWxlKVxyXG5cdFx0XHR0aGlzLnJlZnJlc2hUaWxlKHVwZGF0ZUZyb21Tb3VyY2UpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgdGlsZSBpcyBlbXB0eVxyXG5cdCAqL1xyXG5cdGlzVGlsZUVtcHR5KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUuZW1wdHk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBvbmUgY29sdW1uIHZpZXcgcmVxdWlyZWRcclxuXHQgKi9cclxuXHRpc09uZUNvbHVtblZpZXcoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNPbmVDb2x1bW5WaWV3KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayB0aWxlIGlzIHJlYWQgb25seVxyXG5cdCAqL1xyXG5cdGlzRWRpdEFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNFZGl0QWxsb3dlZCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgdGlsZSB0aXRsZSBzZXRcclxuXHQgKi9cclxuXHRpc1RpdGxlU2V0KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGFuZ3VsYXIuaXNTdHJpbmcodGhpcy50aWxlLnRpdGxlKSAmJiB0aGlzLnRpbGUudGl0bGUgIT09ICcnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSXMgdGlsZSBzbWFsbCBlbm91Z2ggYW5kIHdlIG5lZWQgdG8gc2hvdyBidXR0b25zIHdpdGhvdXQgbGFiZWxzLlxyXG5cdCAqL1xyXG5cdGlzVGlsZUJ1dHRvbnNUaWdodCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnRpbGUud2lkdGggKiB0aGlzLmdyaWRXaWR0aCA8IDQwMDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIGNoYW5nZSByZXBvcnQgY2F0ZWdvcnkgZnJvbSBjYXQxXFxjYXQyXFxjYXQzIHRvIGNhdDEvY2F0Mi9jYXQzXHJcblx0ICovXHJcblx0Z2V0Q29udmVydGVkUmVwb3J0Q2F0ZWdvcnkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBhbmd1bGFyLmlzU3RyaW5nKHRoaXMudGlsZS5yZXBvcnRDYXRlZ29yeSkgPyB0aGlzLnRpbGUucmVwb3J0Q2F0ZWdvcnkgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGUgdGl0bGUgdGV4dFxyXG5cdCAqL1xyXG5cdGdldFRpdGxlVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0aWYgKHRoaXMuaXNUaXRsZVNldCgpKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy50aWxlLnRpdGxlO1xyXG5cdFx0bGV0IHJlc3VsdCA9ICcnO1xyXG5cdFx0aWYgKHRoaXMuZ2V0Q29udmVydGVkUmVwb3J0Q2F0ZWdvcnkoKSlcclxuXHRcdFx0cmVzdWx0ICs9IHRoaXMuZ2V0Q29udmVydGVkUmVwb3J0Q2F0ZWdvcnkoKSArICcgLyAnO1xyXG5cdFx0aWYgKHRoaXMudGlsZS5yZXBvcnROYW1lICYmIHRoaXMudGlsZS5yZXBvcnRQYXJ0TmFtZSlcclxuXHRcdFx0cmVzdWx0ICs9IHRoaXMudGlsZS5yZXBvcnROYW1lICsgJyAvICcgKyB0aGlzLnRpbGUucmVwb3J0UGFydE5hbWU7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSXMgaHRtbCBtb2RlbCBlbmFibGVkIGluIEFkSG9jU2V0dGluZ3NcclxuXHQgKi9cclxuXHRpc1JlcG9ydERpdkhpZGRlbigpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAhdGhpcy50aWxlLnJlcG9ydEZ1bGxOYW1lIHx8IHRoaXMuaXNEYXNoYm9hcmRDaGFuZ2luZ05vdztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElzIHRpbGUgY29udGVudCBzaG91bGQgYmUgaGlkZGVuIG5vdy5cclxuXHQgKi9cclxuXHRwcml2YXRlIGlzVGlsZVNtYWxsRW5vdWdoKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMudGlsZS53aWR0aCAqIHRoaXMuZ3JpZFdpZHRoIDwgNDAwIHx8IHRoaXMudGlsZS5oZWlnaHQgKiB0aGlzLmdyaWRIZWlnaHQgPCA0MDA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGFzcyBmb3IgY29uZmlybSBkZWxldGUgYnV0dG9uIChkZXBlbmRzIG9uIHRpbGUgc2l6ZSlcclxuXHQgKi9cclxuXHRnZXRDb25maXJtRGVsZXRlQ2xhc3MoKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHRpZ2h0Q2xhc3MgPSB0aGlzLmlzVGlsZUJ1dHRvbnNUaWdodCgpID8gJyBzaG9ydCcgOiAnJztcclxuXHRcdHJldHVybiBgdGl0bGUtYnV0dG9uLWNvbmZpcm0tcmVtb3ZlJHt0aWdodENsYXNzfWA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGFzcyBmb3IgY2FuY2VsIGRlbGV0ZSBidXR0b24gKGRlcGVuZHMgb24gdGlsZSBzaXplKVxyXG5cdCAqL1xyXG5cdGdldENhbmNlbERlbGV0ZUNsYXNzKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCB0aWdodENsYXNzID0gdGhpcy5pc1RpbGVCdXR0b25zVGlnaHQoKSA/ICcgc2hvcnQnIDogJyc7XHJcblx0XHRyZXR1cm4gYHRpdGxlLWJ1dHRvbi1jYW5jZWwtcmVtb3ZlJHt0aWdodENsYXNzfWA7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gZXhwb3J0IG1vZGFsXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRnZXRXYWl0TWVzc2FnZUhlYWRlclRleHQoKSB7XHJcblx0XHRpZiAodGhpcy5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0V4cG9ydGluZ0luUHJvZ3Jlc3MnLCAnRXhwb3J0aW5nIGluIHByb2dyZXNzLicpO1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPT09ICdwcmludCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByaW50aW5nSW5Qcm9ncmVzcycsICdQcmludGluZyBpbiBwcm9ncmVzcy4nKTtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcblxyXG5cdGdldFdhaXRNZXNzYWdlVGV4dCgpIHtcclxuXHRcdGlmICh0aGlzLmV4cG9ydFByb2dyZXNzID09PSAnZXhwb3J0JylcclxuXHRcdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmluaXNoRXhwb3J0aW5nJywgJ1BsZWFzZSB3YWl0IHRpbGwgZXhwb3J0IGlzIGNvbXBsZXRlZC4uLicpO1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPT09ICdwcmludCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZpbmlzaFByaW50aW5nJywgJ1BsZWFzZSBmaW5pc2ggcHJpbnRpbmcgYmVmb3JlIGNvbnRpbnVlLicpO1xyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIHRpbGUgYWN0aW9uc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogU2hvdyBjb25maXJtIGRlbGV0ZSBkaWFsb2cgaW4gdGl0bGVcclxuXHQgKi9cclxuXHRzaG93Q29uZmlybURlbGV0ZSgpIHtcclxuXHRcdGlmICghdGhpcy50aWxlLnJlcG9ydEZ1bGxOYW1lKSB7XHJcblx0XHRcdHRoaXMuZGVsZXRlVGlsZSgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLmRlbGV0ZUNvbmZpcm1DbGFzcyA9ICd0aXRsZS1idXR0b24nO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSGlkZSBjb25maXJtIGRlbGV0ZSBkaWFsb2cgaW4gdGl0bGVcclxuXHQgKi9cclxuXHRoaWRlQ29uZmlybURlbGV0ZSgpIHtcclxuXHRcdHRoaXMuZGVsZXRlQ29uZmlybUNsYXNzID0gJ3RpdGxlLWJ1dHRvbiBoaWRkZW4tY29uZmlybS1idG4nO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVsZXRlIHRoaXMgdGlsZVxyXG5cdCAqL1xyXG5cdGRlbGV0ZVRpbGUoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25UaWxlRGVsZXRlKSkge1xyXG5cdFx0XHR0aGlzLm9uVGlsZURlbGV0ZSh0aGlzLnRpbGUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgYmFjayB0aWxlIHBvcHVwXHJcblx0ICovXHJcblx0Y2xvc2VCYWNrVGlsZVBvcHVwKCkge1xyXG5cdFx0dGhpcy50aWxlLmJhY2tUaWxlUG9wdXBPcGVuZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJhY2sgdGlsZSBwb3B1cCBjbG9zZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uQmFja1RpbGVQb3B1cENsb3NlZCgpIHtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQcmludCB0aWxlXHJcblx0ICovXHJcblx0cHJpbnRUaWxlKCkge1xyXG5cdFx0dGhpcy5jbG9zZUJhY2tUaWxlUG9wdXAoKTtcclxuXHJcblx0XHQvLyBwcmludCBzaW5nbGUgdGlsZSBpZiBwYXJhbWV0ZXIgaXMgc2V0OlxyXG5cdFx0aWYgKCF0aGlzLnRpbGUucmVwb3J0RnVsbE5hbWUpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5wcmludERhc2hib2FyZCgnaHRtbCcsIHRoaXMudGlsZS5yZXBvcnRGdWxsTmFtZSkudGhlbigoKSA9PiB7XHJcblx0XHRcdC8vIEhUTUwgcHJpbnQgcHJpbnQgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZCBoYW5kbGVyXHJcblx0XHRcdHRoaXMuZmxpcEZyb250KHRydWUsIGZhbHNlKTtcclxuXHRcdH0sIGVycm9yID0+IHtcclxuXHRcdFx0Y29uc3QgZXJyb3JUaXRsZSA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkUHJpbnRSZXBvcnRUaXRsZScsICdSZXBvcnQgcHJpbnQgZXJyb3InKTtcclxuXHRcdFx0bGV0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkUHJpbnRSZXBvcnQnLFxyXG5cdFx0XHRcdCdGYWlsZWQgdG8gcHJpbnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyk7XHJcblx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MH0nLCB0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lID8gdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSA6ICcnKTtcclxuXHRcdFx0ZXJyb3JUZXh0ID0gZXJyb3JUZXh0LnJlcGxhY2VBbGwoJ3sxfScsIGVycm9yKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0LCBlcnJvclRpdGxlKTtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XHJcblx0XHRcdHRoaXMuZmxpcEZyb250KHRydWUsIGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhwb3J0IHRvIGV4Y2VsXHJcblx0ICovXHJcblx0ZXhwb3J0RXhjZWwoKSB7XHJcblx0XHR0aGlzLmNsb3NlQmFja1RpbGVQb3B1cCgpO1xyXG5cdFx0Ly8gZG93bmxvYWQgdGhlIGZpbGVcclxuXHRcdC8vIFRPRE8gdmVyeSBlYXN5IHRvIGFkZCBQREYgcHJpbnQgZm9yIHRpbGU6ICdleGNlbCcgPT4gJ3BkZidcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnByaW50RGFzaGJvYXJkKCdleGNlbCcsIHRoaXMudGlsZS5yZXBvcnRGdWxsTmFtZSkudGhlbigoKSA9PiB7XHJcblx0XHRcdHRoaXMuZmxpcEZyb250KHRydWUsIGZhbHNlKTtcclxuXHRcdH0sIChlcnJvcikgPT4ge1xyXG5cdFx0XHRjb25zdCBlcnJvclRpdGxlID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRFeHBvcnRSZXBvcnRUaXRsZScsICdSZXBvcnQgZXhwb3J0IGVycm9yJyk7XHJcblx0XHRcdGxldCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZEV4cG9ydFJlcG9ydCcsXHJcblx0XHRcdFx0J0ZhaWxlZCB0byBleHBvcnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyk7XHJcblx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MH0nLCB0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lID8gdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSA6ICcnKTtcclxuXHRcdFx0ZXJyb3JUZXh0ID0gZXJyb3JUZXh0LnJlcGxhY2VBbGwoJ3sxfScsIGVycm9yKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0LCBlcnJvclRpdGxlKTtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XHJcblx0XHRcdHRoaXMuZmxpcEZyb250KHRydWUsIGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQmFjayB0aWxlIHNpZGUgY2xpY2sgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uQmFja1RpbGVDbGljaygpIHtcclxuXHRcdHRoaXMudGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcclxuXHRcdFx0aWYgKHRpbGUuaWQgIT09IHRoaXMudGlsZS5pZClcclxuXHRcdFx0XHR0aWxlLmJhY2tUaWxlUG9wdXBPcGVuZWQgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdFx0aWYgKHRoaXMuaXNUaWxlU21hbGxFbm91Z2goKSkge1xyXG5cdFx0XHR0aGlzLnRpbGUuYmFja1RpbGVQb3B1cE9wZW5lZCA9ICF0aGlzLnRpbGUuYmFja1RpbGVQb3B1cE9wZW5lZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZmxpcEJhY2soKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZsaXAgdGlsZSBiYWNrXHJcblx0ICovXHJcblx0ZmxpcEJhY2soKSB7XHJcblx0XHR0aGlzLnRpbGUuZmxpcCA9IHtcclxuXHRcdFx0aXNGcm9udDogZmFsc2VcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGbGlwIHRpbGUgZnJvbnRcclxuXHQgKi9cclxuXHRmbGlwRnJvbnQodXBkYXRlPzogYm9vbGVhbiwgdXBkYXRlRnJvbVNvdXJjZVJlcG9ydD86IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMuY2xvc2VCYWNrVGlsZVBvcHVwKCk7XHJcblx0XHR0aGlzLnRpbGUuZmxpcCA9IHtcclxuXHRcdFx0aXNGcm9udDogdHJ1ZSxcclxuXHRcdFx0dXBkYXRlOiB1cGRhdGUsXHJcblx0XHRcdHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQ6IHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnRcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHbyB0byByZXBvcnQgdmlld2VyXHJcblx0ICovXHJcblx0ZmlyZVJlcG9ydFZpZXdlckxpbmsoKSB7XHJcblx0XHR0aGlzLmNsb3NlQmFja1RpbGVQb3B1cCgpO1xyXG5cclxuXHRcdGlmICghdGhpcy50aWxlLmlzU291cmNlUmVwb3J0RGVsZXRlZCkge1xyXG5cdFx0XHR0aGlzLiR3aW5kb3cub3Blbih0aGlzLmdldFJlcG9ydFZpZXdlckxpbmsoKSwgJ19ibGFuaycpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bGV0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU291cmNlUmVwb3J0Tm90RXhpc3QnLCAnU291cmNlIHJlcG9ydCBcInswfVwiIGRvZXNuXFwndCBleGlzdC4nKTtcclxuXHRcdFx0ZXJyb3JUZXh0ID0gZXJyb3JUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCgvXFx7MFxcfS9nKSwgdGhpcy5nZXRTb3VyY2VSZXBvcnROYW1lKCkpO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhlcnJvclRleHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR28gdG8gcmVwb3J0IGVkaXRvclxyXG5cdCAqL1xyXG5cdGZpcmVSZXBvcnRFZGl0b3JMaW5rKCkge1xyXG5cdFx0dGhpcy5jbG9zZUJhY2tUaWxlUG9wdXAoKTtcclxuXHJcblx0XHRpZiAoIXRoaXMudGlsZS5pc1NvdXJjZVJlcG9ydERlbGV0ZWQpIHtcclxuXHRcdFx0dGhpcy4kd2luZG93Lm9wZW4odGhpcy5nZXRSZXBvcnRFZGl0b3JMaW5rKCksICdfYmxhbmsnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxldCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NvdXJjZVJlcG9ydE5vdEV4aXN0JywgJ1NvdXJjZSByZXBvcnQgXCJ7MH1cIiBub3QgZXhpc3QuJyk7XHJcblx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoL1xcezBcXH0vZyksIHRoaXMuZ2V0U291cmNlUmVwb3J0TmFtZSgpKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlZnJlc2ggdGlsZSBjb250ZW50XHJcblx0ICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVGcm9tU291cmNlUmVwb3J0LiBJcyB0aWxlIGNvbnRlbnQgbmVlZCB0byBiZSByZWZyZXNoZWQgZnJvbSB0aGUgc291cmNlIHJlcG9ydC5cclxuXHQgKiBUT0RPOiByZW1vdmUgRE9NIG1hbmlwdWxhdGlvbnMgdG8gc2VwYXJhdGUgZGlyZWN0aXZlLlxyXG5cdCAqL1xyXG5cdHJlZnJlc2hUaWxlKHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQ/OiBib29sZWFuKSB7XHJcblx0XHQvLyBUT0RPOiBkbyB3ZSBuZWVkIHRoaXMgdmFyaWFibGU/XHJcblx0XHQvL2NvbnN0IHVwZGF0ZUZyb21Tb3VyY2UgPSB0aGlzLnRpbGUudXBkYXRlRnJvbVNvdXJjZSB8fCB1cGRhdGVGcm9tU291cmNlUmVwb3J0O1xyXG5cclxuXHRcdHRoaXMudGlsZVNpemVDaGFuZ2VkID0gZmFsc2U7IC8vIHJlc2V0IHRpbGUgc2l6ZSBpbmZvcm1hdGlvblxyXG5cdFx0dGhpcy50aWxlLnVwZGF0ZUZyb21Tb3VyY2UgPSBmYWxzZTsgLy8gcmVzZXQgdXBkYXRlIGZyb20gc291cmNlIGZsYWdcclxuXHJcblx0XHRpZiAoIXRoaXMudGlsZS5yZXBvcnRGdWxsTmFtZSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy50aWxlLnByZXZpb3VzUmVwb3J0RnVsbE5hbWUgPSBudWxsO1xyXG5cclxuXHRcdC8vIHNldCBsb2FkaW5nIGh0bWxcclxuXHRcdGNvbnN0IGxvYWRpbmdIdG1sID1cclxuXHRcdFx0YDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXZjZW50ZXJlZC1jb250YWluZXJcIj5cclxuXHQ8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi12Y2VudGVyZWQtaXRlbVwiPlxyXG5cdFx0PGltZyBjbGFzcz1cIml6ZW5kYS1jb21tb24taW1nLWxvYWRpbmdcIiBzcmM9XCIke3RoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnBQYWdlfWltYWdlPU1vZGVybkltYWdlcy5sb2FkaW5nLWdyaWQuZ2lmXCIgYWx0PVwiTG9hZGluZy4uLlwiIC8+XHJcblx0PC9kaXY+XHJcbjwvZGl2PmA7XHJcblx0XHRjb25zdCAkYm9keSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmFuaW1hdGUtZmxpcD4gLmZsaXBweS1mcm9udD4gLmZyYW1lPiAucmVwb3J0Jyk7XHJcblx0XHQkYm9keS5odG1sKGxvYWRpbmdIdG1sKTtcclxuXHJcblx0XHQvLyBjYWxjdWxhdGUgdGlsZSB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVsc1xyXG5cdFx0Y29uc3QgdGlsZVdpZHRoID0gdGhpcy5nZXRXaWR0aCgpICogdGhpcy5ncmlkV2lkdGggLSAyMDtcclxuXHRcdGxldCB0aWxlSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHQoKSAqIHRoaXMuZ3JpZEhlaWdodCAtIDU1O1xyXG5cdFx0aWYgKHRoaXMudGlsZS5kZXNjcmlwdGlvbilcclxuXHRcdFx0dGlsZUhlaWdodCAtPSAzMjtcclxuXHRcdGNvbnN0IHNpemUgPSB7XHJcblx0XHRcdGhlaWdodDogdGlsZUhlaWdodCxcclxuXHRcdFx0d2lkdGg6IHRpbGVXaWR0aFxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBsb2FkIHByZXZpZXdcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmxvYWRUaWxlc1ByZXZpZXcodGhpcy50aWxlLCBzaXplKS50aGVuKHRpbGVzSHRtbCA9PiB7XHJcblx0XHRcdHRoaXMuYXBwbHlUaWxlSHRtbCh0aWxlc0h0bWwpO1xyXG5cdFx0fSwgZXJyb3IgPT4ge1xyXG5cdFx0XHR0aGlzLmFwcGx5VGlsZUh0bWwoZXJyb3IpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdGlsZSB0b3AgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHNldFRpbGVUb3AobmV3VG9wOiBudW1iZXIpIHtcclxuXHRcdHRoaXMudGlsZS50b3AgPSBuZXdUb3A7XHJcblx0XHR0aGlzLnRpbGUudG9wU3RyaW5nID0gJycgKyBuZXdUb3A7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gdGlsZSBoYW5kbGVyc1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogUmVzaXplIHN0YXJ0IGhhbmRsZXJcclxuXHQgKi9cclxuXHRvblRpbGVSZXNpemVTdGFydElubmVyKGV2ZW50UmVzdWx0KSB7XHJcblx0XHR0aGlzLmlzQnV0dG9uc1Zpc2libGUgPSBmYWxzZTtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vblRpbGVSZXNpemVTdGFydCkpXHJcblx0XHRcdHRoaXMub25UaWxlUmVzaXplU3RhcnQoZXZlbnRSZXN1bHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVzaXplIGhhbmRsZXJcclxuXHQgKi9cclxuXHRvblRpbGVSZXNpemVJbm5lcihldmVudFJlc3VsdCkge1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uVGlsZVJlc2l6ZSkpXHJcblx0XHRcdHRoaXMub25UaWxlUmVzaXplKGV2ZW50UmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc2l6ZSBlbmQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uVGlsZVJlc2l6ZUVuZElubmVyKGV2ZW50UmVzdWx0KSB7XHJcblx0XHRpZiAoZXZlbnRSZXN1bHQuaXNUaWxlU2l6ZUNoYW5nZWQpIHtcclxuXHRcdFx0dGhpcy5mbGlwRnJvbnQoKTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoVGlsZShmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25UaWxlUmVzaXplRW5kKSkge1xyXG5cdFx0XHR0aGlzLm9uVGlsZVJlc2l6ZUVuZChldmVudFJlc3VsdCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmlzQnV0dG9uc1Zpc2libGUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRHJhZyBlbmQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uVGlsZURyYWdFbmRJbm5lcihldmVudFJlc3VsdCkge1xyXG5cdFx0Y29uc3QgcmVzdWx0VHlwZSA9IGV2ZW50UmVzdWx0LnR5cGU7IC8vICdzd2FwJywgJ21vdmUnIG9yICdub25lJ1xyXG5cdFx0aWYgKHJlc3VsdFR5cGUgPT09ICdzd2FwJyAmJiBldmVudFJlc3VsdC50YXJnZXRUaWxlICYmIGV2ZW50UmVzdWx0LmlzVGlsZVNpemVDaGFuZ2VkKSB7XHJcblx0XHRcdC8vIHdlIGhhdmUgdG8gbm90aWZ5IGFub3RoZXIgdGlsZSBhYm91dCBzd2FwXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hEYXNoYm9hcmQoZmFsc2UsIGZhbHNlLCBldmVudFJlc3VsdC50YXJnZXRUaWxlKTtcclxuXHRcdH1cclxuXHRcdGlmIChldmVudFJlc3VsdC5pc1RpbGVTaXplQ2hhbmdlZClcclxuXHRcdFx0dGhpcy5yZWZyZXNoVGlsZShmYWxzZSk7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25UaWxlRHJhZ0VuZCkpXHJcblx0XHRcdHRoaXMub25UaWxlRHJhZ0VuZChldmVudFJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QgcmVwb3J0IHBhcnQgZm9yIHRpbGVcclxuXHQgKi9cclxuXHRzZWxlY3RSZXBvcnRQYXJ0KCkge1xyXG5cdFx0dGhpcy5pc1NlbGVjdFJlcG9ydFBhcnRNb2RhbFZpc2libGUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VsZWN0IHJlcG9ydCBwYXJ0IGNhbmNlbGxlZFxyXG5cdCAqL1xyXG5cdG9uU2VsZWN0UmVwb3J0TW9kYWxDbG9zZWQoKSB7XHJcblx0XHQvLyB3ZSBuZWVkIHRvIHJlc2V0IFwib3BlbmVkXCIgYmluZGluZy5cclxuXHRcdHRoaXMuaXNTZWxlY3RSZXBvcnRQYXJ0TW9kYWxWaXNpYmxlID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXBvcnQgcGFydCBzZWxlY3RlZCBoYW5kbGVyXHJcblx0ICovXHJcblx0b25TZWxlY3RSZXBvcnRQYXJ0KHJlcG9ydFBhcnRJbmZvKSB7XHJcblx0XHQvLyBoaWRlIHNlbGVjdCByZXBvcnQgcGFydCBkaWFsb2dcclxuXHRcdHRoaXMuY2xvc2VCYWNrVGlsZVBvcHVwKCk7XHJcblx0XHRjb25zdCBycEluZm8gPSByZXBvcnRQYXJ0SW5mbztcclxuXHRcdGlmIChycEluZm8uVXNlc0hpZGRlbkNvbHVtbnMpIHtcclxuXHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93TWVzc2FnZURpYWxvZyhcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoXHJcblx0XHRcdFx0XHQnanNfY2Fubm90QWRkUmVwb3J0V2l0aEhpZGRlbkNvbHVtbnNUb1RpbGUnLFxyXG5cdFx0XHRcdFx0J1lvdSBjYW5ub3QgYWRkIHRoaXMgcmVwb3J0IGludG8gdGhlIGRhc2hib2FyZCBiZWNhdXNlIGl0IGNvbnRhaW5zIGhpZGRlbiBjb2x1bW5zLiBQbGVhc2UgcmUtc2F2ZSB0aGUgb3JpZ2luYWwgcmVwb3J0IGFzIGEgcmVwb3J0IHdpdGggYSBkaWZmZXJlbnQgbmFtZSBvciBjaG9zZSBhbm90aGVyIG9uZS4nKSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZk5hbWUgPSBycEluZm8uTmFtZTtcclxuXHRcdGlmICghdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKHJwSW5mby5DYXRlZ29yeSkpXHJcblx0XHRcdGZOYW1lID0gcnBJbmZvLkNhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyBmTmFtZTtcclxuXHJcblx0XHRjb25zdCBuYW1lcGFydHMgPSBycEluZm8uTmFtZS5zcGxpdCgnQCcpO1xyXG5cdFx0Y29uc3QgbmFtZSA9IG5hbWVwYXJ0c1swXTtcclxuXHRcdGNvbnN0IHBhcnQgPSBuYW1lcGFydHNbMV07XHJcblxyXG5cdFx0Ly8gY2hlY2sgaWYgdGlsZSBhbHJlYWR5IGV4aXN0XHJcblx0XHRjb25zdCBpc1RpbGVJbkRhc2hib2FyZCA9IHRoaXMudGlsZXMuZmlsdGVyKCh0aWxlKSA9PiB7XHJcblx0XHRcdHJldHVybiB0aWxlLnJlcG9ydFBhcnROYW1lID09PSBwYXJ0ICYmXHJcblx0XHRcdFx0dGlsZS5yZXBvcnROYW1lID09PSBuYW1lICYmXHJcblx0XHRcdFx0KCh0aWxlLnJlcG9ydENhdGVnb3J5ID09PSBycEluZm8uQ2F0ZWdvcnkpIHx8XHJcblx0XHRcdFx0XHQodGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuaXNVbmNhdGVnb3JpemVkKHRpbGUucmVwb3J0Q2F0ZWdvcnkpICYmIHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChycEluZm8uQ2F0ZWdvcnkpKSk7XHJcblx0XHR9KS5sZW5ndGggPiAwO1xyXG5cclxuXHRcdGlmIChpc1RpbGVJbkRhc2hib2FyZCkge1xyXG5cdFx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NhbnRTZWxlY3RSZXBvcnRQYXJ0JyxcclxuXHRcdFx0XHQnQ2FuXFwndCBzZWxlY3QgcmVwb3J0IHBhcnQgYmVjYXVzZSBkYXNoYm9hcmQgYWxyZWFkeSBjb250YWlucyB0aWxlIHdpdGggdGhhdCByZXBvcnQuJyk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihlcnJvclRleHQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gdXBkYXRlIHJlcG9ydCBwYXJhbWV0ZXJzXHJcblx0XHR0aGlzLnRpbGUucHJldmlvdXNSZXBvcnRGdWxsTmFtZSA9IHRoaXMudGlsZS5yZXBvcnRGdWxsTmFtZTtcclxuXHRcdGFuZ3VsYXIuZXh0ZW5kKHRoaXMudGlsZSwgdGhpcy4kaXplbmRhVXJsU2VydmljZS5leHRyYWN0UmVwb3J0UGFydE5hbWVzKGZOYW1lLCB0cnVlKSk7XHJcblx0XHR0aGlzLnRpbGUudGl0bGUgPSBycEluZm8uVGl0bGU7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIHJlcG9ydCBuYW1lIHdpdGggY2F0ZWdvcnkgdmFyaWFibGVcclxuXHRcdHRoaXMudGlsZS5yZXBvcnROYW1lV2l0aENhdGVnb3J5ID0gdGhpcy50aWxlLnJlcG9ydE5hbWU7XHJcblx0XHRpZiAoIXRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZCh0aGlzLnRpbGUucmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHR0aGlzLnRpbGUucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9IHRoaXMudGlsZS5yZXBvcnRDYXRlZ29yeSArXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgK1xyXG5cdFx0XHRcdHRoaXMudGlsZS5yZXBvcnROYW1lV2l0aENhdGVnb3J5O1xyXG5cclxuXHRcdGlmIChycEluZm8uSXNMb2NrZWQpXHJcblx0XHRcdHRoaXMudGlsZS5tYXhSaWdodHMgPSAnTG9ja2VkJztcclxuXHRcdGVsc2UgaWYgKHJwSW5mby5WaWV3T25seSlcclxuXHRcdFx0dGhpcy50aWxlLm1heFJpZ2h0cyA9ICdWaWV3IE9ubHknO1xyXG5cdFx0ZWxzZSBpZiAocnBJbmZvLlJlYWRPbmx5KVxyXG5cdFx0XHR0aGlzLnRpbGUubWF4UmlnaHRzID0gJ1JlYWQgT25seSc7XHJcblx0XHRlbHNlXHJcblx0XHRcdHRoaXMudGlsZS5tYXhSaWdodHMgPSAnRnVsbCBBY2Nlc3MnO1xyXG5cclxuXHRcdC8vIHNldCB0b3AgdmFyaWFibGVzIGZvciB0aWxlOlxyXG5cdFx0Y29uc3QgbmV3VG9wID0gcnBJbmZvLk5hdGl2ZVRvcCAmJiBycEluZm8uTmF0aXZlVG9wID4gMCA/IHJwSW5mby5OYXRpdmVUb3AgOiAxMDA7XHJcblx0XHR0aGlzLnNldFRpbGVUb3AobmV3VG9wKTtcclxuXHRcdHRoaXMudGlsZS5kZXNpZ25lclR5cGUgPSBycEluZm8uRGVzaWduZXJUeXBlO1xyXG5cdFx0dGhpcy5mbGlwRnJvbnQodHJ1ZSwgdHJ1ZSk7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25UaWxlUmVwb3J0U2VsZWN0ZWQpKSB7XHJcblx0XHRcdHRoaXMub25UaWxlUmVwb3J0U2VsZWN0ZWQodGhpcy50aWxlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRpbGUgZmxpcCBoYW5kbGVyXHJcblx0ICovXHJcblx0b25UaWxlRmxpcChpc0Zyb250LCB1cGRhdGUsIHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQpIHtcclxuXHRcdGlmIChpc0Zyb250ICYmIHVwZGF0ZSkge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hUaWxlKHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGlsZSB0b3AgY2hhbmdlZDpcclxuXHQgKi9cclxuXHRvblNldFRpbGVUb3AodG9wKSB7XHJcblx0XHRpZiAodGhpcy50aWxlLnRvcCA9PT0gdG9wKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLnRpbGUudG9wID0gdG9wO1xyXG5cdFx0dGhpcy50aWxlLnRvcFN0cmluZyA9ICcnICsgdG9wO1xyXG5cdFx0dGhpcy5mbGlwRnJvbnQodHJ1ZSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5jbG9zZUJhY2tUaWxlUG9wdXAoKTtcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyB0aWxlIHBvc2l0aW9uXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gc3R5bGUgb2JqZWN0IGZvciAnLml6LWRhc2gtdGlsZSdcclxuXHQgKi9cclxuXHRnZXRUaWxlU3R5bGUoKSB7XHJcblx0XHRjb25zdCB0b3AgPSB0aGlzLmdyaWRIZWlnaHQgKiB0aGlzLmdldFkoKTtcclxuXHRcdGNvbnN0IGxlZnQgPSB0aGlzLmdyaWRXaWR0aCAqIHRoaXMuZ2V0WCgpO1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0ge1xyXG5cdFx0XHQnbGVmdCc6ICcwJyxcclxuXHRcdFx0J3RvcCc6ICcwJyxcclxuXHRcdFx0J3dpZHRoJzogKHRoaXMuZ3JpZFdpZHRoICogdGhpcy5nZXRXaWR0aCgpKSArICdweCcsXHJcblx0XHRcdCdoZWlnaHQnOiAodGhpcy5ncmlkSGVpZ2h0ICogdGhpcy5nZXRIZWlnaHQoKSkgKyAncHgnLFxyXG5cdFx0XHQnei1pbmRleCc6ICh0aGlzLnRpbGUuYmFja1RpbGVQb3B1cE9wZW5lZCA/ICczJyA6ICcxJylcclxuXHRcdH07XHJcblx0XHRpZiAodGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNMdGVJZTEwKCkpIHtcclxuXHRcdFx0cmVzdWx0Wyd4J10gPSBgJHtsZWZ0fXB4YDtcclxuXHRcdFx0cmVzdWx0Wyd5J10gPSBgJHt0b3B9cHhgO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVzdWx0Wyd0cmFuc2Zvcm0nXSA9IGB0cmFuc2xhdGUzZCgke2xlZnR9cHgsJHt0b3B9cHgsMClgO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0aWxlIHdpZHRoXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRXaWR0aCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzT25lQ29sdW1uVmlldygpID8gMTIgOiB0aGlzLnRpbGUud2lkdGg7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdGlsZSBoZWlnaHRcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldEhlaWdodCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzT25lQ29sdW1uVmlldygpID8gNCA6IHRoaXMudGlsZS5oZWlnaHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgWCBjb29yZGluYXRlIGZvciB0aWxlLiBUaGlzIGNvb3JkaW5hdGUgdXNlZCBmb3IgZHJhd2luZyB0aWxlIFVJXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRYKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNPbmVDb2x1bW5WaWV3KCkgPyAwIDogdGhpcy50aWxlLng7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgWSBjb29yZGluYXRlIGZvciB0aWxlLiBUaGlzIGNvb3JkaW5hdGUgdXNlZCBmb3IgZHJhd2luZyB0aWxlIFVJXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRZKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNPbmVDb2x1bW5WaWV3KCkgPyA0ICogdGhpcy50aWxlLmdldFRpbGVPcmRlcih0aGlzLnRpbGVzKSA6IHRoaXMudGlsZS55O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCB2aWV3ZXIgbGluayBmb3IgdGlsZSByZXBvcnRcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldFJlcG9ydFZpZXdlckxpbmsoKSB7XHJcblx0XHRyZXR1cm4gZ2V0QXBwZW5kZWRVcmwoYCR7dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSZXBvcnRWaWV3ZXJ9P3JuPSR7dGhpcy5nZXRTb3VyY2VSZXBvcnROYW1lKCl9YCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcmVwb3J0IGVkaXRvciBsaW5rIGZvciB0aWxlIHJlcG9ydFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0UmVwb3J0RWRpdG9yTGluaygpIHtcclxuXHRcdGNvbnN0IGRlc2lnbmVyVXJsID0gdGhpcy50aWxlLmRlc2lnbmVyVHlwZSA9PT0gJ0luc3RhbnRSZXBvcnQnXHJcblx0XHRcdD8gdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxJbnN0YW50UmVwb3J0XHJcblx0XHRcdDogdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxSZXBvcnREZXNpZ25lcjtcclxuXHRcdHJldHVybiBnZXRBcHBlbmRlZFVybChgJHtkZXNpZ25lclVybH0/cm49JHt0aGlzLmdldFNvdXJjZVJlcG9ydE5hbWUoKX1gKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBzb3VyY2UgcmVwb3J0IG5hbWVcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldFNvdXJjZVJlcG9ydE5hbWUoKSB7XHJcblx0XHRsZXQgcmVzdWx0ID0gdGhpcy50aWxlLnJlcG9ydE5hbWU7XHJcblx0XHRpZiAoIXRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZCh0aGlzLnRpbGUucmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRyZXN1bHQgPSB0aGlzLnRpbGUucmVwb3J0Q2F0ZWdvcnkgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlc3VsdDtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdGlsZSBpbm5lciBodG1sXHJcblx0ICovXHJcblx0cHJpdmF0ZSBhcHBseVRpbGVIdG1sKGh0bWxEYXRhKSB7XHJcblx0XHQvLyBsb2FkIHRpbGUgY29udGVudFxyXG5cdFx0Y29uc3QgJHJlcG9ydCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLiRlbGVtZW50KS5maW5kKCcucmVwb3J0Jyk7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5sb2FkUmVwb3J0SW50b0NvbnRhaW5lcihodG1sRGF0YSwgJHJlcG9ydCk7XHJcblxyXG5cdFx0Y29uc3QgbnVtYmVyT2ZDZWxsSW5Db21wbGV4UmVwb3J0ID0gMzAwMDtcclxuXHRcdGNvbnN0IG51bWJlck9mQ2VsbHMgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZWxlbWVudCkuZmluZCgnLlJlcG9ydFRhYmxlIHRkJykubGVuZ3RoO1xyXG5cdFx0dGhpcy5zdGF0ZS5yZWxhdGl2ZVJlcG9ydENvbXBsZXhpdHkgPSBudW1iZXJPZkNlbGxzIC8gbnVtYmVyT2ZDZWxsSW5Db21wbGV4UmVwb3J0O1xyXG5cdFx0aWYgKHRoaXMuc3RhdGUucmVsYXRpdmVSZXBvcnRDb21wbGV4aXR5ID4gMSlcclxuXHRcdFx0dGhpcy5zdGF0ZS5yZWxhdGl2ZVJlcG9ydENvbXBsZXhpdHkgPSAxO1xyXG5cclxuXHRcdGlmICh0aGlzLmlzSWUgJiYgdGhpcy5zdGF0ZS5yZWxhdGl2ZVJlcG9ydENvbXBsZXhpdHkgPj0gMC41KVxyXG5cdFx0XHR0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdob3Zlci1pZScpO1xyXG5cclxuXHRcdHRoaXMuc3RhdGUuZW1wdHkgPSBmYWxzZTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1zdG9yYWdlLXNlcnZpY2UnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiA8aXplbmRhLWRhc2hib2FyZC1maWx0ZXJzPiBjb21wb25lbnRcclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhRGFzaGJvYXJkTW9kdWxlLFxyXG5cdCdpemVuZGFEYXNoYm9hcmRGaWx0ZXJzJyxcclxuXHRbJ3J4JywgJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCAnJGVsZW1lbnQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5jb21wb25lbnRzLmZpbHRlci5maWx0ZXItdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge31cclxuXHR9KVxyXG5leHBvcnQgY2xhc3MgSXplbmRhRGFzaGJvYXJkRmlsdGVyc0NvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHRpc0ZpbHRlcnNBY3RpdmU6IGFueTtcclxuXHRzdWJzY3JpcHRpb25zOiBhbnk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcng6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSkge1xyXG5cclxuXHRcdHRoaXMuJHdpbmRvdy51c2VHZXRSZW5kZXJlZFJlcG9ydFNldEZvckZpbHRlcnMgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNGaWx0ZXJzQWN0aXZlID0gdGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UuaXNGaWx0ZXJzQWN0aXZlLmdldFZhbHVlKCk7XHJcblx0XHQvLyBzdWJzY3JpYmVcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UuaXNGaWx0ZXJzQWN0aXZlLnN1YnNjcmliZU9uTmV4dCh0aGlzLiRvbkZpbHRlcnNBY3RpdmVDaGFuZ2UsIHRoaXMpXHJcblx0XHRdO1xyXG5cdH1cclxuXHJcblx0JG9uSW5pdCgpIHtcclxuXHRcdEl6TG9jYWwuTG9jYWxpemVQYWdlKCk7XHJcblx0XHR0aGlzLnNldFJlZnJlc2hCdXR0b25IYW5kbGVyKCk7XHJcblx0fVxyXG5cclxuXHQkb25EZXN0cm95KCkge1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi5kaXNwb3NlKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmlsdGVycyBwYW5lbCBvbi9vZmYgaGFuZGxlclxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNGaWx0ZXJzQWN0aXZlIG5ldyBwYW5lbCBzdGF0ZS5cclxuXHQgKi9cclxuXHQkb25GaWx0ZXJzQWN0aXZlQ2hhbmdlKGlzRmlsdGVyc0FjdGl2ZSkge1xyXG5cdFx0dGhpcy5pc0ZpbHRlcnNBY3RpdmUgPSBpc0ZpbHRlcnNBY3RpdmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgXCJ1cGRhdGVcIiBidXR0b24gaGFuZGxlclxyXG5cdCAqL1xyXG5cdHNldFJlZnJlc2hCdXR0b25IYW5kbGVyKCkge1xyXG5cdFx0dmFyICRidG4gPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5maWx0ZXJzLWxlZ2FjeS11cGRhdGUtYnRuJyk7XHJcblx0XHRpZiAoISRidG4ubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRjb25zdCBjbGlja3MgPSB0aGlzLiRyeC5PYnNlcnZhYmxlLmZyb21FdmVudCgkYnRuLmdldCgwKSwgJ2NsaWNrJyk7XHJcblx0XHRjb25zdCBjbGlja3NUaHJvdHRsZSA9IGNsaWNrcy5kZWJvdW5jZSg1MDApO1xyXG5cdFx0Ly8gZG8gbWVyZ2UgdG8gZW5zdXJlIHRoYXQgdGhlIGhhbmRsZXJzIG9yZGVyIHdpbGwgYmUgY29ycmVjdFxyXG5cdFx0dGhpcy4kcnguT2JzZXJ2YWJsZS5tZXJnZShcclxuXHRcdFx0Y2xpY2tzLm1hcChlID0+ICh7IGV2ZW50OiBlLCBpc1Rocm90dGxlQXBwbGllZDogZmFsc2UgfSkpLFxyXG5cdFx0XHRjbGlja3NUaHJvdHRsZS5tYXAoZSA9PiAoeyBldmVudDogZSwgaXNUaHJvdHRsZUFwcGxpZWQ6IHRydWUgfSkpKVxyXG5cdFx0XHQuc3Vic2NyaWJlKG9iaiA9PiB7XHJcblx0XHRcdFx0b2JqLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Y29uc3QgaXNUaHJvdHRsZUFwcGxpZWQgPSBvYmouaXNUaHJvdHRsZUFwcGxpZWQ7XHJcblx0XHRcdFx0aWYgKCFpc1Rocm90dGxlQXBwbGllZCkge1xyXG5cdFx0XHRcdFx0Ly8gZmFzdCBjbGlja3MgaGFuZGxlciAoYWx3YXlzIHJ1bnMgYmVmb3JlIHRoZSBoYW5kbGVyIHdpdGggdGhlIGVuYWJsZWQgdGhyb3R0bGUgY29uZGl0aW9uKVxyXG5cdFx0XHRcdFx0JGJ0bi5jaGlsZHJlbignYScpLnJlbW92ZUNsYXNzKCdibHVlJyk7XHJcblx0XHRcdFx0XHQkYnRuLmNoaWxkcmVuKCdhJykuYWRkQ2xhc3MoJ2dyYXknKTtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmNhbmNlbFJlZnJlc2hEYXNoYm9hcmRRdWVyaWVzKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIHJ1biByZWZyZXNoIHdoZW4gdGhyb3R0bGluZyBpcyBkb25lLlxyXG5cdFx0XHRcdFx0JGJ0bi5jaGlsZHJlbignYScpLnJlbW92ZUNsYXNzKCdncmF5Jyk7XHJcblx0XHRcdFx0XHQkYnRuLmNoaWxkcmVuKCdhJykuYWRkQ2xhc3MoJ2JsdWUnKTtcclxuXHRcdFx0XHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5yZWZyZXNoRGFzaGJvYXJkKGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0XHR9LCAxMDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC9kYXNoYm9hcmQtbW9kZWwnO1xyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvdGlsZS1tb2RlbCc7XHJcbmltcG9ydCBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvYmFja2dyb3VuZC1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiA8aXplbmRhLWdhbGxlcnk+IGNvbXBvbmVudFxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFEYXNoYm9hcmRNb2R1bGUsXHJcblx0J2l6ZW5kYUdhbGxlcnknLFxyXG5cdFsncngnLCAnJHNjb3BlJywgJyR3aW5kb3cnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyR0aW1lb3V0JywgJyRpemVuZGFVcmxTZXJ2aWNlJywgJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZScsICckaXplbmRhQmFja2dyb3VuZFNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmNvbXBvbmVudHMuZ2FsbGVyeS5nYWxsZXJ5LXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0bW9kZWw6ICc8JywgLy8gSXplbmRhRGFzaGJvYXJkTW9kZWwgaW5zdGFuY2VcclxuXHRcdFx0d2lkdGg6ICdAJyxcclxuXHRcdFx0aGVpZ2h0OiAnQCcsXHJcblx0XHRcdHBsYXlUaW1lb3V0OiAnPCcsXHJcblx0XHRcdHBsYXlTdGFydGVkOiAnPCcsXHJcblx0XHRcdHBsYXlTdG9wT25Db21wbGV0ZTogJzwnLFxyXG5cdFx0XHRpc0Z1bGxTY3JlZW46ICc8JyxcclxuXHRcdFx0ZW5hYmxlZDogJzwnLFxyXG5cdFx0XHRvblBsYXlTdGFydGVkQ2hhbmdlOiAnJicsXHJcblx0XHRcdG9uRnVsbHNjcmVlbkNoYW5nZTogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGNsYXNzIEl6ZW5kYUdhbGxlcnlDb21wb25lbnQgaW1wbGVtZW50cyBuZy5JQ29tcG9uZW50Q29udHJvbGxlciB7XHJcblx0c3Vic2NyaXB0aW9ucyA9IFtdO1xyXG5cdG1vZGVsOiBJemVuZGFEYXNoYm9hcmRNb2RlbDtcclxuXHJcblx0JHNtYWxsQnV0dG9uc1BhbmVsOiBuZy5JQXVnbWVudGVkSlF1ZXJ5O1xyXG5cdCRwYXJlbnRFbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5O1xyXG5cdCR0aXRsZVBhbmVsOiBuZy5JQXVnbWVudGVkSlF1ZXJ5O1xyXG5cdHByZXZpb3VzV2lkdGg6IG51bWJlcjtcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cdGN1cnJlbnRUaWxlOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWw7XHJcblx0c3RhdGU6IGFueTtcclxuXHRpc0Z1bGxTY3JlZW46IGJvb2xlYW47XHJcblx0b25GdWxsc2NyZWVuQ2hhbmdlOiBhbnk7XHJcblx0b25QbGF5U3RhcnRlZENoYW5nZTogYW55O1xyXG5cdGZ1bGxzY3JlZW5IYW5kbGVyOiBhbnk7XHJcblxyXG5cdHBsYXlTdG9wT25Db21wbGV0ZTogYm9vbGVhbjtcclxuXHRwbGF5U3RhcnRlZDogYm9vbGVhbjtcclxuXHRwbGF5VGltZW91dDogbnVtYmVyO1xyXG5cdHdpZHRoOiBudW1iZXI7XHJcblx0aGVpZ2h0OiBudW1iZXI7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcng6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHNjb3BlOiBuZy5JU2NvcGUsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlOiBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSkge1xyXG5cclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xyXG5cclxuXHRcdHRoaXMuJHBhcmVudEVsZW1lbnQgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgpO1xyXG5cdFx0aWYgKCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpemVuZGEtZ2FsbGVyeS1jb250YWluZXInKSlcclxuXHRcdFx0dGhpcy4kZWxlbWVudC5hZGRDbGFzcygnaXplbmRhLWdhbGxlcnktY29udGFpbmVyJyk7XHJcblxyXG5cdFx0dGhpcy4kc21hbGxCdXR0b25zUGFuZWwgPSB0aGlzLiRwYXJlbnRFbGVtZW50LmZpbmQoJy5pemVuZGEtZ2FsbGVyeS1jb250cm9scy1yb3VuZC1wYW5lbCcpO1xyXG5cdFx0dGhpcy4kdGl0bGVQYW5lbCA9IHRoaXMuJHBhcmVudEVsZW1lbnQuZmluZCgnLml6ZW5kYS1nYWxsZXJ5LXRpdGxlLWNvbnRyb2xzJyk7XHJcblxyXG5cdFx0dGhpcy5jdXJyZW50VGlsZSA9IG51bGw7XHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRpc1VpSGlkZGVuOiBmYWxzZSxcclxuXHRcdFx0d2lkdGg6IDAsXHJcblx0XHRcdGhlaWdodDogMCxcclxuXHRcdFx0ZWxlbWVudEhlaWdodDogdGhpcy4kcGFyZW50RWxlbWVudC5oZWlnaHQoKSxcclxuXHRcdFx0c21hbGxCdXR0b25zUGFuZWxIZWlnaHQ6IHRoaXMuJHNtYWxsQnV0dG9uc1BhbmVsLmhlaWdodCgpLFxyXG5cdFx0XHR0aXRsZVBhbmVsUG9zaXRpb246IHRoaXMuJHRpdGxlUGFuZWwucG9zaXRpb24oKSxcclxuXHRcdFx0dGl0bGVQYW5lbEhlaWdodDogdGhpcy4kdGl0bGVQYW5lbC5oZWlnaHQoKVxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLnNldEZ1bGxzY3JlZW5IYW5kbGVycygpO1xyXG5cdH1cclxuXHJcblx0JG9uSW5pdCgpIHtcclxuXHRcdHRoaXMucHJldmlvdXNXaWR0aCA9IHRoaXMuJHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW1xyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS53aW5kb3dTaXplLnN1YnNjcmliZU9uTmV4dChuZXdXaW5kb3dTaXplID0+IHtcclxuXHRcdFx0XHRpZiAodGhpcy5wcmV2aW91c1dpZHRoID09PSBuZXdXaW5kb3dTaXplLndpZHRoIHx8ICF0aGlzLmVuYWJsZWQpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dGhpcy5wcmV2aW91c1dpZHRoID0gbmV3V2luZG93U2l6ZS53aWR0aDtcclxuXHRcdFx0XHR0aGlzLiRvbldpbmRvd1Jlc2l6ZSgpO1xyXG5cdFx0XHR9LCB0aGlzKVxyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iamVjdCkge1xyXG5cdFx0aWYgKGNoYW5nZXNPYmplY3QuZW5hYmxlZCkge1xyXG5cdFx0XHRjb25zdCBpc0VuYWJsZWQgPSBjaGFuZ2VzT2JqZWN0LmVuYWJsZWQuY3VycmVudFZhbHVlO1xyXG5cdFx0XHRpZiAoaXNFbmFibGVkKVxyXG5cdFx0XHRcdHRoaXMuYWN0aXZhdGVHYWxsZXJ5KCk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aGlzLmRlYWN0aXZhdGVHYWxsZXJ5KCk7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5nZXNPYmplY3QucGxheVN0YXJ0ZWQpIHtcclxuXHRcdFx0Y29uc3QgaXNTdGFydGVkID0gY2hhbmdlc09iamVjdC5wbGF5U3RhcnRlZC5jdXJyZW50VmFsdWU7XHJcblx0XHRcdGlmIChpc1N0YXJ0ZWQpXHJcblx0XHRcdFx0dGhpcy5wbGF5KCk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aGlzLnN0b3AoKTtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmdlc09iamVjdC5pc0Z1bGxTY3JlZW4pIHtcclxuXHRcdFx0Y29uc3QgaXNGdWxsc2NyZWVuID0gY2hhbmdlc09iamVjdC5pc0Z1bGxTY3JlZW4uY3VycmVudFZhbHVlO1xyXG5cdFx0XHR0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oaXNGdWxsc2NyZWVuKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdCRvbkRlc3Ryb3koKSB7XHJcblx0XHR0aGlzLnJlbW92ZUZ1bGxzY3JlZW5IYW5kbGVycygpO1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi5kaXNwb3NlKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT24gZnVsbHNjcmVlbiBjaGFuZ2UgaGFuZGxlclxyXG5cdCAqL1xyXG5cdCRvbmZ1bGxzY3JlZW5jaGFuZ2UoKSB7XHJcblx0XHRpZiAoIXRoaXMuZW5hYmxlZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgaXNGdWxsc2NyZWVuID0gISEoZG9jdW1lbnRbJ2Z1bGxzY3JlZW5FbGVtZW50J10gfHwgZG9jdW1lbnRbJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50J10gfHwgZG9jdW1lbnRbJ21vekZ1bGxTY3JlZW5FbGVtZW50J10gfHwgZG9jdW1lbnRbJ21zRnVsbHNjcmVlbkVsZW1lbnQnXSk7XHJcblx0XHRpZiAodGhpcy5pc0Z1bGxTY3JlZW4gIT09IGlzRnVsbHNjcmVlbiAmJiBhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vbkZ1bGxzY3JlZW5DaGFuZ2UpKSB7XHJcblx0XHRcdHRoaXMub25GdWxsc2NyZWVuQ2hhbmdlKHsgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4gfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHYWxsZXJ5XHJcblx0ICovXHJcblx0JG9uV2luZG93UmVzaXplKCkge1xyXG5cdFx0aWYgKCF0aGlzLmVuYWJsZWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMudG9nZ2xlVGlsZUFuaW1hdGlvbnMoZmFsc2UpO1xyXG5cdFx0dGhpcy5pbml0U2l6ZXMoKTtcclxuXHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmxvYWRUaWxlc1RvR2FsbGVyeSgpO1xyXG5cdFx0XHR0aGlzLnRvZ2dsZVRpbGVBbmltYXRpb25zKHRydWUpO1xyXG5cdFx0fSxcclxuXHRcdFx0MSxcclxuXHRcdFx0dHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRlbmFibGVLZXlIYW5kbGVycygpIHtcclxuXHRcdC8vIGhvdGtleXMgaGFuZGxlclxyXG5cdFx0YW5ndWxhci5lbGVtZW50KCdib2R5Jykub24oJ2tleWRvd24uaXplbmRhR2FsbGVyeScsIChlOiBKUXVlcnkuRXZlbnQpID0+IHtcclxuXHRcdFx0aWYgKCF0aGlzLmVuYWJsZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjb25zdCBrZXlDb2RlID0gZS5rZXlDb2RlO1xyXG5cdFx0XHR0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghdGhpcy5lbmFibGVkKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEpRdWVyeS5LZXkuQXJyb3dMZWZ0KSB7XHJcblx0XHRcdFx0XHR0aGlzLmdvUHJldmlvdXMoKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGtleUNvZGUgPT09IEpRdWVyeS5LZXkuQXJyb3dSaWdodCB8fCBrZXlDb2RlID09PSBKUXVlcnkuS2V5LlNwYWNlKSB7XHJcblx0XHRcdFx0XHR0aGlzLmdvTmV4dCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGRpc2FibGVLZXlIYW5kbGVycygpIHtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLm9mZigna2V5ZG93bi5pemVuZGFHYWxsZXJ5Jyk7XHJcblx0fVxyXG5cclxuXHRzZXRGdWxsc2NyZWVuSGFuZGxlcnMoKSB7XHJcblx0XHRjb25zdCBmdWxsc2NyZWVuUm9vdEVsZW1lbnQgPSB0aGlzLiRwYXJlbnRFbGVtZW50LmdldCgwKTtcclxuXHRcdHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIgPSB0aGlzLiRvbmZ1bGxzY3JlZW5jaGFuZ2UuYmluZCh0aGlzKTtcclxuXHRcdGZ1bGxzY3JlZW5Sb290RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsc2NyZWVuSGFuZGxlcik7XHJcblx0XHRmdWxsc2NyZWVuUm9vdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignTVNGdWxsc2NyZWVuQ2hhbmdlJywgdGhpcy5mdWxsc2NyZWVuSGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHRyZW1vdmVGdWxsc2NyZWVuSGFuZGxlcnMoKSB7XHJcblx0XHRjb25zdCBmdWxsc2NyZWVuUm9vdEVsZW1lbnQgPSB0aGlzLiRwYXJlbnRFbGVtZW50LmdldCgwKTtcclxuXHRcdGZ1bGxzY3JlZW5Sb290RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsc2NyZWVuSGFuZGxlcik7XHJcblx0XHRmdWxsc2NyZWVuUm9vdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignTVNGdWxsc2NyZWVuQ2hhbmdlJywgdGhpcy5mdWxsc2NyZWVuSGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVHYWxsZXJ5QmFja2dyb3VuZChpc0Z1bGxTY3JlZW46IGJvb2xlYW4pIHtcclxuXHRcdGNvbnN0ICRnYWxsZXJ5Q29udGFpbmVyID0gdGhpcy4kcGFyZW50RWxlbWVudDtcclxuXHRcdC8vIHdoZW4gd2UncmUgZ29pbmcgdG8gZnVsbHNjcmVlbiBtb2RlIC0gd2UgbmVlZCB0byBhZGQgYmFja2dyb3VuZCBmb3IgZWxlbWVudCwgd2hpY2ggd2lsbCBiZSB0aGUgcm9vdCBpbiBmdWxsc2NyZWVuIHZpZXcuXHJcblx0XHRpZiAoaXNGdWxsU2NyZWVuKSB7XHJcblx0XHRcdGNvbnN0IGJhY2tncm91bmRJbWcgPSB0aGlzLiRpemVuZGFCYWNrZ3JvdW5kU2VydmljZS5maW5hbEJhY2tncm91bmRJbWFnZVVybDtcclxuXHRcdFx0JGdhbGxlcnlDb250YWluZXIuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYmFja2dyb3VuZEltZyA/IGB1cmwoXCIke2JhY2tncm91bmRJbWd9XCIpYCA6ICcnKTtcclxuXHRcdFx0Y29uc3QgYmFja2dyb3VuZENvbG9yID0gdGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0XHQkZ2FsbGVyeUNvbnRhaW5lci5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBiYWNrZ3JvdW5kQ29sb3IpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JGdhbGxlcnlDb250YWluZXIuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJycpO1xyXG5cdFx0XHQkZ2FsbGVyeUNvbnRhaW5lci5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR0b2dnbGVGdWxsc2NyZWVuKGlzRnVsbHNjcmVlbikge1xyXG5cdFx0Y29uc3QgbGF1bmNoRnVsbFNjcmVlbiA9IGVsZW1lbnQgPT4ge1xyXG5cdFx0XHRpZiAoZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbilcclxuXHRcdFx0XHRlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XHJcblx0XHRcdGVsc2UgaWYgKGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4pXHJcblx0XHRcdFx0ZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xyXG5cdFx0XHRlbHNlIGlmIChlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKVxyXG5cdFx0XHRcdGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oKTtcclxuXHRcdFx0ZWxzZSBpZiAoZWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuKVxyXG5cdFx0XHRcdGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgY2FuY2VsRnVsbHNjcmVlbiA9ICgpID0+IHtcclxuXHRcdFx0aWYgKGRvY3VtZW50WydleGl0RnVsbHNjcmVlbiddKVxyXG5cdFx0XHRcdGRvY3VtZW50WydleGl0RnVsbHNjcmVlbiddKCk7XHJcblx0XHRcdGVsc2UgaWYgKGRvY3VtZW50Wydtb3pDYW5jZWxGdWxsU2NyZWVuJ10pXHJcblx0XHRcdFx0ZG9jdW1lbnRbJ21vekNhbmNlbEZ1bGxTY3JlZW4nXSgpO1xyXG5cdFx0XHRlbHNlIGlmIChkb2N1bWVudFsnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbiddKVxyXG5cdFx0XHRcdGRvY3VtZW50Wyd3ZWJraXRDYW5jZWxGdWxsU2NyZWVuJ10oKTtcclxuXHRcdFx0ZWxzZSBpZiAoZG9jdW1lbnRbJ21zRXhpdEZ1bGxzY3JlZW4nXSlcclxuXHRcdFx0XHRkb2N1bWVudFsnbXNFeGl0RnVsbHNjcmVlbiddKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy51cGRhdGVHYWxsZXJ5QmFja2dyb3VuZChpc0Z1bGxzY3JlZW4pO1xyXG5cdFx0aWYgKGlzRnVsbHNjcmVlbikge1xyXG5cdFx0XHRjb25zdCBmdWxsc2NyZWVuUm9vdEVsZW1lbnQgPSB0aGlzLiRwYXJlbnRFbGVtZW50LmdldCgwKTtcclxuXHRcdFx0bGF1bmNoRnVsbFNjcmVlbihmdWxsc2NyZWVuUm9vdEVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdGNhbmNlbEZ1bGxzY3JlZW4oKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdhbGxlcnkgZW5hYmxlZCBoYW5kbGVyXHJcblx0ICovXHJcblx0YWN0aXZhdGVHYWxsZXJ5KCkge1xyXG5cdFx0dGhpcy5zdGF0ZS5pc1VpSGlkZGVuID0gZmFsc2U7XHJcblx0XHR0aGlzLmN1cnJlbnRUaWxlID0gbnVsbDtcclxuXHRcdGlmICh0aGlzLm1vZGVsICYmIHRoaXMuZ2FsbGVyeVRpbGVzLmxlbmd0aClcclxuXHRcdFx0dGhpcy5jdXJyZW50VGlsZSA9IHRoaXMuZ2FsbGVyeVRpbGVzWzBdO1xyXG5cdFx0dGhpcy5pbml0U2l6ZXMoKTtcclxuXHRcdHRoaXMuZW5hYmxlS2V5SGFuZGxlcnMoKTtcclxuXHJcblx0XHR0aGlzLiRlbGVtZW50LmZpbmQoJy5pemVuZGEtZ2FsbGVyeS1pdGVtJykuY3NzKCdvcGFjaXR5JywgMSk7XHJcblx0XHR0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy50b2dnbGVUaWxlQW5pbWF0aW9ucyh0cnVlKTtcclxuXHRcdFx0dGhpcy5sb2FkVGlsZXNUb0dhbGxlcnkoKTtcclxuXHRcdH0sXHJcblx0XHRcdDI1MCxcclxuXHRcdFx0dHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHYWxsZXJ5IGRpc2FibGVkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRkZWFjdGl2YXRlR2FsbGVyeSgpIHtcclxuXHRcdHRoaXMuY2xlYXJUaWxlcygpO1xyXG5cdFx0dGhpcy5zdGF0ZS5pc1VpSGlkZGVuID0gZmFsc2U7XHJcblx0XHR0aGlzLmN1cnJlbnRUaWxlID0gbnVsbDtcclxuXHJcblx0XHR0aGlzLmRpc2FibGVLZXlIYW5kbGVycygpO1xyXG5cdFx0dGhpcy50b2dnbGVUaWxlQW5pbWF0aW9ucyhmYWxzZSk7XHJcblx0XHR0aGlzLiRlbGVtZW50LmZpbmQoJy5pemVuZGEtZ2FsbGVyeS1pdGVtJykuY3NzKCdvcGFjaXR5JywgMCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdGFydCByb3RhdGluZyBnYWxsZXJ5IHRpbGVzLlxyXG5cdCAqL1xyXG5cdHBsYXkoKSB7XHJcblx0XHR0aGlzLnN0b3AoKTtcclxuXHRcdGlmICh0aGlzLmdhbGxlcnlUaWxlcy5sZW5ndGggPD0gMSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGlmICh0aGlzLnBsYXlTdG9wT25Db21wbGV0ZSAmJiB0aGlzLmdhbGxlcnlUaWxlcy5pbmRleE9mKHRoaXMuY3VycmVudFRpbGUpID09PSB0aGlzLmdhbGxlcnlUaWxlcy5sZW5ndGggLSAxKVxyXG5cdFx0XHR0aGlzLmdvVG8odGhpcy5nYWxsZXJ5VGlsZXNbMF0pO1xyXG5cclxuXHRcdHRoaXMuc3RhdGUudXBkYXRlUGxheUludGVydmFsSWQgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdGlmICh0aGlzLnBsYXlTdG9wT25Db21wbGV0ZSAmJiB0aGlzLmdhbGxlcnlUaWxlcy5pbmRleE9mKHRoaXMuY3VycmVudFRpbGUpID09PSB0aGlzLmdhbGxlcnlUaWxlcy5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0dGhpcy5wbGF5U3RhcnRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuc3RvcCgpO1xyXG5cdFx0XHRcdHRoaXMucnVuU3RvcEhhbmRsZXIoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmdvTmV4dCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0aGlzLnBsYXlUaW1lb3V0KTtcclxuXHJcblx0XHR0aGlzLnN0YXRlLnVwZGF0ZVBsYXlUaW1lb3V0SWQgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5zdGF0ZS5pc1VpSGlkZGVuID0gdHJ1ZTtcclxuXHRcdH0sIDEpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RvcCByb3RhdGluZyBnYWxsZXJ5IHRpbGVzLlxyXG5cdCAqL1xyXG5cdHN0b3AoKSB7XHJcblx0XHRpZiAodGhpcy5zdGF0ZS51cGRhdGVQbGF5SW50ZXJ2YWxJZCkge1xyXG5cdFx0XHR0aGlzLiRpbnRlcnZhbC5jYW5jZWwodGhpcy5zdGF0ZS51cGRhdGVQbGF5SW50ZXJ2YWxJZCk7XHJcblx0XHRcdHRoaXMuc3RhdGUudXBkYXRlUGxheUludGVydmFsSWQgPSBudWxsO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuc3RhdGUudXBkYXRlUGxheVRpbWVvdXRJZCAhPSBudWxsKSB7XHJcblx0XHRcdHRoaXMuJHRpbWVvdXQuY2FuY2VsKHRoaXMuc3RhdGUudXBkYXRlUGxheVRpbWVvdXRJZCk7XHJcblx0XHRcdHRoaXMuc3RhdGUudXBkYXRlUGxheVRpbWVvdXRJZCA9IG51bGw7XHJcblx0XHRcdHRoaXMuc3RhdGUuaXNVaUhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cnVuU3RvcEhhbmRsZXIoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25QbGF5U3RhcnRlZENoYW5nZSkpIHtcclxuXHRcdFx0dGhpcy5vblBsYXlTdGFydGVkQ2hhbmdlKHsgaXNQbGF5U3RhcnRlZDogdGhpcy5wbGF5U3RhcnRlZCB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3cgc2VsZWN0ZWQgdGlsZVxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIHRpbGUgbW9kZWwuXHJcblx0ICovXHJcblx0Z29Ubyh0aWxlKSB7XHJcblx0XHR0aGlzLmN1cnJlbnRUaWxlID0gdGlsZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3cgcHJldmlvdXMgdGlsZVxyXG5cdCAqL1xyXG5cdGdvUHJldmlvdXMoKSB7XHJcblx0XHRpZiAodGhpcy5nYWxsZXJ5VGlsZXMubGVuZ3RoIDwgMilcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0bGV0IGluZGV4ID0gdGhpcy5jdXJyZW50VGlsZSA/IHRoaXMuZ2FsbGVyeVRpbGVzLmluZGV4T2YodGhpcy5jdXJyZW50VGlsZSkgOiAwO1xyXG5cdFx0aW5kZXgtLTtcclxuXHRcdGlmIChpbmRleCA8IDApXHJcblx0XHRcdGluZGV4ID0gdGhpcy5nYWxsZXJ5VGlsZXMubGVuZ3RoIC0gMTtcclxuXHRcdHRoaXMuZ29Ubyh0aGlzLmdhbGxlcnlUaWxlc1tpbmRleF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvdyBuZXh0IHRpbGUuXHJcblx0ICovXHJcblx0Z29OZXh0KCkge1xyXG5cdFx0aWYgKHRoaXMuZ2FsbGVyeVRpbGVzLmxlbmd0aCA8IDIpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGxldCBpbmRleCA9IHRoaXMuY3VycmVudFRpbGUgPyB0aGlzLmdhbGxlcnlUaWxlcy5pbmRleE9mKHRoaXMuY3VycmVudFRpbGUpIDogMDtcclxuXHRcdGluZGV4Kys7XHJcblx0XHRpZiAoaW5kZXggPiB0aGlzLmdhbGxlcnlUaWxlcy5sZW5ndGggLSAxKVxyXG5cdFx0XHRpbmRleCA9IDA7XHJcblx0XHR0aGlzLmdvVG8odGhpcy5nYWxsZXJ5VGlsZXNbaW5kZXhdKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYWxpemUgYmFzaWMgc2l6ZXNcclxuXHQgKi9cclxuXHRpbml0U2l6ZXMoKSB7XHJcblx0XHRjb25zdCB0aWxlQ29udGFpbmVyVG9wID0gYW5ndWxhci5lbGVtZW50KCcuaXotZGFzaC1yb290Jykub2Zmc2V0KCkudG9wO1xyXG5cdFx0Y29uc3QgZnVsbEhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLmhlaWdodCgpIC0gdGlsZUNvbnRhaW5lclRvcCAtIDMwO1xyXG5cdFx0dGhpcy4kcGFyZW50RWxlbWVudC5oZWlnaHQoZnVsbEhlaWdodCk7XHJcblx0XHR0aGlzLnN0YXRlLndpZHRoID0gdGhpcy4kcGFyZW50RWxlbWVudC53aWR0aCgpO1xyXG5cdFx0dGhpcy5zdGF0ZS5oZWlnaHQgPSB0aGlzLiRwYXJlbnRFbGVtZW50LmhlaWdodCgpO1xyXG5cdFx0dGhpcy5zdGF0ZS5lbGVtZW50SGVpZ2h0ID0gdGhpcy4kcGFyZW50RWxlbWVudC5oZWlnaHQoKTtcclxuXHRcdHRoaXMuc3RhdGUuc21hbGxCdXR0b25zUGFuZWxIZWlnaHQgPSB0aGlzLiRzbWFsbEJ1dHRvbnNQYW5lbC5oZWlnaHQoKTsgLy8gY2FjaGUgc2l6ZXNcclxuXHRcdHRoaXMuc3RhdGUudGl0bGVQYW5lbFBvc2l0aW9uID0gdGhpcy4kdGl0bGVQYW5lbC5wb3NpdGlvbigpO1xyXG5cdFx0dGhpcy5zdGF0ZS50aXRsZVBhbmVsSGVpZ2h0ID0gdGhpcy4kdGl0bGVQYW5lbC5oZWlnaHQoKTtcclxuXHRcdGNvbnN0IHRpbGVTaXplID0gdGhpcy5jdXJyZW50VGlsZVxyXG5cdFx0XHQ/IHRoaXMuZ2V0VGlsZVNpemUodGhpcy5jdXJyZW50VGlsZSlcclxuXHRcdFx0OiB7XHJcblx0XHRcdFx0eDogMCxcclxuXHRcdFx0XHR5OiAwLFxyXG5cdFx0XHRcdHdpZHRoOiAwLFxyXG5cdFx0XHRcdGhlaWdodDogMCxcclxuXHRcdFx0XHRkZWx0YTogMFxyXG5cdFx0XHR9O1xyXG5cdFx0dGhpcy4kc21hbGxCdXR0b25zUGFuZWwuY3NzKCd0b3AnLCB0aWxlU2l6ZS55ICsgdGlsZVNpemUuaGVpZ2h0ICsgJ3B4Jyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHYWxsZXJ5IHRpbGVzIGdldHRlciAtIHRpbGVzIGF2YWlsYWJsZSBmb3Igc2hvd2luZyBpbiBnYWxsZXJ5LlxyXG5cdCAqL1xyXG5cdGdldCBnYWxsZXJ5VGlsZXMoKSB7XHJcblx0XHRpZiAoIXRoaXMubW9kZWwgfHwgIXRoaXMubW9kZWwudGlsZXMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHRyZXR1cm4gdGhpcy5tb2RlbC50aWxlc1NvcnRlZC5maWx0ZXIodCA9PiAhIXQucmVwb3J0TmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgdGl0bGUgZm9yIHRoZSB0aWxlXHJcblx0ICovXHJcblx0Z2V0IHRpbGVUaXRsZSgpIHtcclxuXHRcdGlmICghdGhpcy5jdXJyZW50VGlsZSlcclxuXHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0aWYgKHRoaXMuY3VycmVudFRpbGUudGl0bGUpXHJcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnRUaWxlLnRpdGxlO1xyXG5cdFx0bGV0IHJlc3VsdCA9ICcnO1xyXG5cdFx0aWYgKHRoaXMuY3VycmVudFRpbGUucmVwb3J0Q2F0ZWdvcnkpXHJcblx0XHRcdHJlc3VsdCA9IHRoaXMuY3VycmVudFRpbGUucmVwb3J0Q2F0ZWdvcnkgKyAnIC8gJztcclxuXHRcdHJlc3VsdCA9IHJlc3VsdCArIHRoaXMuY3VycmVudFRpbGUucmVwb3J0TmFtZSArICcgLyAnICsgdGhpcy5jdXJyZW50VGlsZS5yZXBvcnRQYXJ0TmFtZTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdGlsZSBDU1Mgc3R5bGUuXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGUgdGlsZSBtb2RlbCBpbnN0YW5jZS5cclxuXHQgKi9cclxuXHRnZXRUaWxlU3R5bGUodGlsZSkge1xyXG5cdFx0Y29uc3Qgc2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUodGlsZSk7XHJcblx0XHRjb25zdCBzdHlsZSA9IHtcclxuXHRcdFx0J3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHtzaXplLnh9cHgsICR7c2l6ZS55fXB4KWAsXHJcblx0XHRcdCd3aWR0aCc6IGAke3NpemUud2lkdGh9cHhgLFxyXG5cdFx0XHQnaGVpZ2h0JzogYCR7c2l6ZS5oZWlnaHR9cHhgLFxyXG5cdFx0XHQnb3BhY2l0eSc6IHNpemUuZGVsdGEgPyAnMC41JyA6ICcxJ1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiBzdHlsZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbGN1bGF0ZSB0aWxlIHNpemUuXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGUgdGlsZSBtb2RlbCBpbnN0YW5jZS5cclxuXHQgKi9cclxuXHRnZXRUaWxlU2l6ZSh0aWxlKSB7XHJcblx0XHRjb25zdCB0aWxlSW5kZXggPSB0aGlzLmdhbGxlcnlUaWxlcy5pbmRleE9mKHRpbGUpO1xyXG5cdFx0Y29uc3QgY3VycmVudFRpbGVJbmRleCA9IHRoaXMuZ2FsbGVyeVRpbGVzLmluZGV4T2YodGhpcy5jdXJyZW50VGlsZSk7XHJcblxyXG5cdFx0Y29uc3QgcGFyc2VkV2lkdGggPSB0aGlzLnBhcnNlU2l6ZSh0aGlzLndpZHRoKTtcclxuXHRcdGNvbnN0IHBhcnNlZEhlaWdodCA9IHRoaXMucGFyc2VTaXplKHRoaXMuaGVpZ2h0KTtcclxuXHJcblx0XHRjb25zdCBnYWxsZXJ5SXRlbVdpZHRoID1cclxuXHRcdFx0TWF0aC5yb3VuZChwYXJzZWRXaWR0aC5pc1BlcmNlbnQgPyB0aGlzLnN0YXRlLndpZHRoICogcGFyc2VkV2lkdGgudmFsdWUgOiBwYXJzZWRXaWR0aC52YWx1ZSk7XHJcblx0XHRsZXQgZ2FsbGVyeUl0ZW1IZWlnaHQgPVxyXG5cdFx0XHRNYXRoLnJvdW5kKHBhcnNlZEhlaWdodC5pc1BlcmNlbnQgPyB0aGlzLnN0YXRlLmhlaWdodCAqIHBhcnNlZEhlaWdodC52YWx1ZSA6IHBhcnNlZEhlaWdodC52YWx1ZSk7XHJcblxyXG5cdFx0Y29uc3Qgc3BhY2VXaWR0aCA9IDEwMDtcclxuXHRcdGNvbnN0IGRlbHRhID0gdGlsZUluZGV4IC0gY3VycmVudFRpbGVJbmRleDtcclxuXHRcdGNvbnN0IHRyYW5zZm9ybVggPSBNYXRoLnJvdW5kKCh0aGlzLnN0YXRlLndpZHRoIC0gZ2FsbGVyeUl0ZW1XaWR0aCkgLyAyICsgZGVsdGEgKiAoZ2FsbGVyeUl0ZW1XaWR0aCArIHNwYWNlV2lkdGgpKTtcclxuXHRcdGxldCB0cmFuc2Zvcm1ZID0gTWF0aC5yb3VuZCgodGhpcy5zdGF0ZS5oZWlnaHQgLSBnYWxsZXJ5SXRlbUhlaWdodCkgLyAyKTtcclxuXHJcblx0XHRjb25zdCBjb25zdHJhaW50Qm90dG9tID0gdGhpcy5zdGF0ZS5zbWFsbEJ1dHRvbnNQYW5lbEhlaWdodDtcclxuXHRcdGNvbnN0IGNvbnN0cmFpbnRUb3AgPSB0aGlzLnN0YXRlLnRpdGxlUGFuZWxQb3NpdGlvbi50b3AgKyB0aGlzLnN0YXRlLnRpdGxlUGFuZWxIZWlnaHQgKyAxMDtcclxuXHRcdGlmICh0cmFuc2Zvcm1ZIDwgY29uc3RyYWludFRvcClcclxuXHRcdFx0dHJhbnNmb3JtWSA9IGNvbnN0cmFpbnRUb3A7XHJcblx0XHRpZiAodHJhbnNmb3JtWSArIGdhbGxlcnlJdGVtSGVpZ2h0ID4gdGhpcy5zdGF0ZS5lbGVtZW50SGVpZ2h0IC0gY29uc3RyYWludEJvdHRvbSkge1xyXG5cdFx0XHRnYWxsZXJ5SXRlbUhlaWdodCA9IHRoaXMuc3RhdGUuZWxlbWVudEhlaWdodCAtIHRyYW5zZm9ybVkgLSBjb25zdHJhaW50Qm90dG9tO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0eDogdHJhbnNmb3JtWCxcclxuXHRcdFx0eTogdHJhbnNmb3JtWSxcclxuXHRcdFx0d2lkdGg6IGdhbGxlcnlJdGVtV2lkdGgsXHJcblx0XHRcdGhlaWdodDogZ2FsbGVyeUl0ZW1IZWlnaHQsXHJcblx0XHRcdGRlbHRhOiBkZWx0YVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcnNlIHNpemUgc3RyaW5nXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHNpemVTdHJpbmdcclxuXHQgKi9cclxuXHRwYXJzZVNpemUoc2l6ZVN0cmluZykge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0ge1xyXG5cdFx0XHRpc1BlcmNlbnQ6IGZhbHNlLFxyXG5cdFx0XHR2YWx1ZTogMFxyXG5cdFx0fTtcclxuXHRcdGlmIChzaXplU3RyaW5nLmVuZHNXaXRoKCclJykpIHtcclxuXHRcdFx0cmVzdWx0LmlzUGVyY2VudCA9IHRydWU7XHJcblx0XHRcdHJlc3VsdC52YWx1ZSA9IHBhcnNlSW50KHNpemVTdHJpbmcuc3Vic3RyaW5nKDAsIHNpemVTdHJpbmcubGVuZ3RoIC0gMSkpIC8gMTAwO1xyXG5cdFx0fSBlbHNlIGlmIChzaXplU3RyaW5nLmVuZHNXaXRoKCdweCcpKVxyXG5cdFx0XHRyZXN1bHQudmFsdWUgPSBwYXJzZUludChzaXplU3RyaW5nLnN1YnN0cmluZygwLCBzaXplU3RyaW5nLmxlbmd0aCAtIDIpKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmVzdWx0LnZhbHVlID0gcGFyc2VJbnQoc2l6ZVN0cmluZyk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVHVybiBvbi9vZmYgQ1NTIHRpbGUgYW5pbWF0aW9uc1xyXG5cdCAqIEBwYXJhbSB7Ym9vbH0gZW5hYmxlZFxyXG5cdCAqL1xyXG5cdHRvZ2dsZVRpbGVBbmltYXRpb25zKGVuYWJsZWQpIHtcclxuXHRcdGlmIChlbmFibGVkKSB7XHJcblx0XHRcdHRoaXMuJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1nYWxsZXJ5LWl0ZW0nKS5hZGRDbGFzcygnaXplbmRhLWdhbGxlcnktdHJhbnNpdGlvbicpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy4kZWxlbWVudC5maW5kKCcuaXplbmRhLWdhbGxlcnktaXRlbScpLnJlbW92ZUNsYXNzKCdpemVuZGEtZ2FsbGVyeS10cmFuc2l0aW9uJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciB0aWxlcy5cclxuXHQgKi9cclxuXHRjbGVhclRpbGVzKCkge1xyXG5cdFx0dGhpcy5nYWxsZXJ5VGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcclxuXHRcdFx0dmFyICR0aWxlID0gdGhpcy4kZWxlbWVudC5maW5kKGAuaXplbmRhLWdhbGxlcnktaXRlbVt0aWxlLWlkPSR7dGlsZS5pZH1dID4gLml6ZW5kYS1nYWxsZXJ5LWl0ZW0taW5uZXJgKTtcclxuXHRcdFx0JHRpbGUuZW1wdHkoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBMb2FkIGdhbGxlcnkgdGlsZVxyXG5cdCovXHJcblx0bG9hZFRpbGVzVG9HYWxsZXJ5KCkge1xyXG5cdFx0dGhpcy5nYWxsZXJ5VGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcclxuXHRcdFx0dmFyICR0aWxlID0gdGhpcy4kZWxlbWVudC5maW5kKGAuaXplbmRhLWdhbGxlcnktaXRlbVt0aWxlLWlkPSR7dGlsZS5pZH1dID4gLml6ZW5kYS1nYWxsZXJ5LWl0ZW0taW5uZXJgKTtcclxuXHRcdFx0dmFyIGxvYWRpbmdIdG1sID0gJzxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXZjZW50ZXJlZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tdmNlbnRlcmVkLWl0ZW1cIj4nICtcclxuXHRcdFx0XHQnPGltZyBjbGFzcz1cIml6ZW5kYS1jb21tb24taW1nLWxvYWRpbmdcIiBzcmM9XCInICtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybFJwUGFnZSArXHJcblx0XHRcdFx0J2ltYWdlPU1vZGVybkltYWdlcy5sb2FkaW5nLWdyaWQuZ2lmXCIgYWx0PVwiTG9hZGluZy4uLlwiIC8+JyArXHJcblx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHQkdGlsZS5odG1sKGxvYWRpbmdIdG1sKTtcclxuXHJcblx0XHRcdHZhciBzaXplID0ge1xyXG5cdFx0XHRcdGhlaWdodDogJHRpbGUuaGVpZ2h0KCksXHJcblx0XHRcdFx0d2lkdGg6ICR0aWxlLndpZHRoKClcclxuXHRcdFx0fTtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UubG9hZFRpbGVzUHJldmlldyh0aWxlLCBzaXplKS50aGVuKHRpbGVzSHRtbCA9PiB7XHJcblx0XHRcdFx0dmFyICRyZXBvcnREaXYgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJyZXBvcnRcIj48L2Rpdj4nKTtcclxuXHRcdFx0XHQkdGlsZS5lbXB0eSgpO1xyXG5cdFx0XHRcdCR0aWxlLmFwcGVuZCgkcmVwb3J0RGl2KTtcclxuXHJcblx0XHRcdFx0Ly8gbG9hZCBodG1sIGludG8gdGhpcyBkaXZcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5sb2FkUmVwb3J0SW50b0NvbnRhaW5lcih0aWxlc0h0bWwsICRyZXBvcnREaXYpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRcdGVycm9yID0+IHtcclxuXHRcdFx0XHRcdCR0aWxlLmVtcHR5KCk7XHJcblx0XHRcdFx0XHQkdGlsZS50ZXh0KGVycm9yKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvY29tcGF0aWJpbGl0eS1zZXJ2aWNlJztcclxuaW1wb3J0IHsgSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzIH0gZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9iYWNrZ3JvdW5kLXNlcnZpY2UnO1xyXG5pbXBvcnQgRGFzaGJvYXJkR2FsbGVyeVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2dhbGxlcnktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogSXplbmRhIGRhc2hib2FyZCBjb21wb25lbnQuXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYURhc2hib2FyZE1vZHVsZSxcclxuXHQnaXplbmRhRGFzaGJvYXJkJyxcclxuXHRbJ3J4JywgJyR3aW5kb3cnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJyxcclxuXHRcdCckaXplbmRhRGFzaGJvYXJkU2V0dGluZ3MnLCAnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJywgJyRpemVuZGFCYWNrZ3JvdW5kU2VydmljZScsICckaXplbmRhR2FsbGVyeVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmNvbXBvbmVudHMuZGFzaGJvYXJkLmRhc2hib2FyZC10ZW1wbGF0ZS5odG1sJ1xyXG5cdH0pXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFEYXNoYm9hcmRDb21wb25lbnQgaW1wbGVtZW50cyBuZy5JQ29tcG9uZW50Q29udHJvbGxlciB7XHJcblx0aXNMaWNlbnNlRmFpbGVkOiBib29sZWFuO1xyXG5cdGV4cG9ydFByb2dyZXNzOiBzdHJpbmc7XHJcblx0dGlsZVdpZHRoOiBudW1iZXI7XHJcblx0dGlsZUhlaWdodDogbnVtYmVyO1xyXG5cdHRpbGVDb250YWluZXJTdHlsZTogYW55O1xyXG5cdGlzTW91c2VFdmVudHNFbmFibGVkTWFudWFsOiBib29sZWFuO1xyXG5cdGdhbGxlcnlDb250YWluZXJTdHlsZTogYW55O1xyXG5cdHJvb3RXaWR0aDogbnVtYmVyO1xyXG5cdHByZXZpb3VzV2lkdGg6IG51bWJlcjtcclxuXHRzdWJzY3JpcHRpb25zOiBhbnlbXTtcclxuXHRtb2RlbDogYW55O1xyXG5cdGlzR3JpZFZpc2libGU6IGJvb2xlYW47XHJcblx0Z3JpZFN0eWxlOiBhbnk7XHJcblx0aXNHcmlkU2hhZG93VmlzaWJsZTogYm9vbGVhbjtcclxuXHRpc0dyaWRTaGFkb3dQbHVzQnV0dG9uVmlzaWJsZTogYm9vbGVhbjtcclxuXHRncmlkU2hhZG93U3R5bGU6IGFueTtcclxuXHRpc0xvYWRlZDogYm9vbGVhbjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyeDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhRGFzaGJvYXJkU2V0dGluZ3M6IElJemVuZGFEYXNoYm9hcmRTZXR0aW5ncyxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlOiBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlOiBEYXNoYm9hcmRHYWxsZXJ5U2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0JG9uSW5pdCgpIHtcclxuXHRcdHRoaXMuaXNMaWNlbnNlRmFpbGVkID0gIXRoaXMuJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzLmRhc2hib2FyZHNBbGxvd2VkO1xyXG5cdFx0aWYgKHRoaXMuaXNMaWNlbnNlRmFpbGVkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmV4cG9ydFByb2dyZXNzID0gbnVsbDtcclxuXHRcdHRoaXMudGlsZVdpZHRoID0gMTAwO1xyXG5cdFx0dGhpcy50aWxlSGVpZ2h0ID0gMTAwO1xyXG5cdFx0dGhpcy50aWxlQ29udGFpbmVyU3R5bGUgPSB7XHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xyXG5cdFx0fTtcclxuXHRcdHRoaXMuaXNNb3VzZUV2ZW50c0VuYWJsZWRNYW51YWwgPSB0cnVlO1xyXG5cclxuXHRcdHRoaXMuaW5pdEdyaWQoKTtcclxuXHJcblx0XHR0aGlzLmdhbGxlcnlDb250YWluZXJTdHlsZSA9IHtcclxuXHRcdFx0J2hlaWdodCc6IDBcclxuXHRcdH07XHJcblx0XHR0aGlzLnJvb3RXaWR0aCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml6LWRhc2gtcm9vdCcpLndpZHRoKCk7XHJcblxyXG5cdFx0Ly8gc3Vic2NyaWJlXHJcblxyXG5cdFx0dGhpcy5wcmV2aW91c1dpZHRoID0gdGhpcy4kd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW1xyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5tb2RlbC5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25EYXNoYm9hcmRNb2RlbFVwZGF0ZSwgdGhpcyksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmlzTG9hZGVkLnN1YnNjcmliZU9uTmV4dCh0aGlzLiRvbkRhc2hib2FyZElzTG9hZGVkVXBkYXRlLCB0aGlzKSxcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UuZXhwb3J0UHJvZ3Jlc3Muc3Vic2NyaWJlT25OZXh0KChuZXdWYWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4gdGhpcy5leHBvcnRQcm9ncmVzcyA9IG5ld1ZhbHVlLCAxKTtcclxuXHRcdFx0fSwgdGhpcyksXHJcblx0XHRcdC8vdGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZC5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25EYXNoYm9hcmRCYWNrZ3JvdW5kQ2hhbmdlZCwgdGhpcyksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLndpbmRvd1NpemUuc3Vic2NyaWJlT25OZXh0KG5ld1dpbmRvd1NpemUgPT4ge1xyXG5cdFx0XHRcdGlmICh0aGlzLnByZXZpb3VzV2lkdGggPT09IG5ld1dpbmRvd1NpemUud2lkdGgpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dGhpcy5wcmV2aW91c1dpZHRoID0gbmV3V2luZG93U2l6ZS53aWR0aDtcclxuXHRcdFx0XHR0aGlzLnJvb3RXaWR0aCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml6LWRhc2gtcm9vdCcpLndpZHRoKCk7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVEYXNoYm9hcmRTaXplKCk7XHJcblx0XHRcdFx0dGhpcy4kcm9vdFNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pXHJcblx0XHRdO1xyXG5cdH1cclxuXHJcblx0Z2V0IGlzTW91c2VFdmVudHNFbmFibGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNNb3VzZUV2ZW50c0VuYWJsZWRNYW51YWwgJiYgdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNFZGl0QWxsb3dlZCgpO1xyXG5cdH1cclxuXHJcblx0aW5pdEdyaWQoKSB7XHJcblx0XHR0aGlzLmlzR3JpZFZpc2libGUgPSBmYWxzZTtcclxuXHRcdHRoaXMuZ3JpZFN0eWxlID0gbnVsbDtcclxuXHRcdHRoaXMuaXNHcmlkU2hhZG93VmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0dyaWRTaGFkb3dQbHVzQnV0dG9uVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5ncmlkU2hhZG93U3R5bGUgPSB7XHJcblx0XHRcdCdsZWZ0JzogMCxcclxuXHRcdFx0J3RvcCc6IDAsXHJcblx0XHRcdCd3aWR0aCc6IDAsXHJcblx0XHRcdCdoZWlnaHQnOiAwXHJcblx0XHR9XHJcblx0XHR0aGlzLnVwZGF0ZUdyaWRTdHlsZSgpOyAvLyBpbml0IGdyaWQgc3R5bGVcclxuXHR9XHJcblxyXG5cdCRvbkRlc3Ryb3koKSB7XHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWIgPT4gc3ViLmRpc3Bvc2UoKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEYXNoYm9hcmQgbW9kZWwgY2hhbmdlZCBoYW5kbGVyLiBPY2N1cnMgd2hlbiB1c2VyIG5hdmlnYXRlcyB0byBleGlzdGluZyBvciBuZXcgZGFzaGJvYXJkLlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkTW9kZWx9IG5ld01vZGVsIG5ldyBkYXNoYm9hcmQgbW9kZWwgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdCRvbkRhc2hib2FyZE1vZGVsVXBkYXRlKG5ld01vZGVsKSB7XHJcblx0XHR0aGlzLmhpZGVHcmlkKCk7XHJcblx0XHR0aGlzLmlzTW91c2VFdmVudHNFbmFibGVkTWFudWFsID0gdHJ1ZTtcclxuXHRcdHRoaXMubW9kZWwgPSBuZXdNb2RlbDtcclxuXHRcdGlmICghdGhpcy5tb2RlbClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy51cGRhdGVEYXNoYm9hcmRTaXplKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEYXNoYm9hcmQgaXNMb2FkZWQgY2hhbmdlZCBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gbmV3SXNMb2FkZWQgbmV3IGlzTG9hZGVkIHZhbHVlLlxyXG5cdCAqL1xyXG5cdCRvbkRhc2hib2FyZElzTG9hZGVkVXBkYXRlKG5ld0lzTG9hZGVkKSB7XHJcblx0XHR0aGlzLmhpZGVHcmlkKCk7XHJcblx0XHR0aGlzLmlzTG9hZGVkID0gbmV3SXNMb2FkZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFdmVudCBmaXJlcyBvbiB0aWxlIGRyYWcgc3RhcnRcclxuXHQgKi9cclxuXHQkb25UaWxlRHJhZ1N0YXJ0KHRpbGUpIHtcclxuXHRcdHRoaXMudHVybk9mZk1vdXNlSGFuZGxlcnMoKTtcclxuXHRcdHRoaXMuc2hvd0dyaWQoKTtcclxuXHRcdHRoaXMuc2hvd1RpbGVHcmlkU2hhZG93KHtcclxuXHRcdFx0bGVmdDogdGlsZS54ICogdGhpcy50aWxlV2lkdGgsXHJcblx0XHRcdHRvcDogdGlsZS55ICogdGhpcy50aWxlSGVpZ2h0LFxyXG5cdFx0XHR3aWR0aDogdGlsZS53aWR0aCAqIHRoaXMudGlsZVdpZHRoLFxyXG5cdFx0XHRoZWlnaHQ6IHRpbGUuaGVpZ2h0ICogdGhpcy50aWxlSGVpZ2h0XHJcblx0XHR9LFxyXG5cdFx0XHRmYWxzZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFdmVudCBmaXJlcyBvbiB0aWxlIGRyYWcgY2hhbmdlIHBvc2l0aW9uXHJcblx0ICovXHJcblx0JG9uVGlsZURyYWcodGlsZSwgc2hhZG93UG9zaXRpb24pIHtcclxuXHRcdHRoaXMuc2hvd1RpbGVHcmlkU2hhZG93KHtcclxuXHRcdFx0bGVmdDogc2hhZG93UG9zaXRpb24ubGVmdCxcclxuXHRcdFx0dG9wOiBzaGFkb3dQb3NpdGlvbi50b3AsXHJcblx0XHRcdHdpZHRoOiBzaGFkb3dQb3NpdGlvbi53aWR0aCxcclxuXHRcdFx0aGVpZ2h0OiBzaGFkb3dQb3NpdGlvbi5oZWlnaHRcclxuXHRcdH0sXHJcblx0XHRcdGZhbHNlKTtcclxuXHRcdHRoaXMudXBkYXRlRGFzaGJvYXJkU2l6ZShzaGFkb3dQb3NpdGlvbik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFdmVudCBmaXJlcyBvbiB0aWxlIGRyYWcgZW5kXHJcblx0ICovXHJcblx0JG9uVGlsZURyYWdFbmQoZXZlbnRSZXN1bHQpIHtcclxuXHRcdHRoaXMuaGlkZUdyaWQoKTtcclxuXHRcdHRoaXMudHVybk9uTW91c2VIYW5kbGVycygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgdGlsZSByZXNpemUgZXZlbnQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdCRvblRpbGVSZXNpemVTdGFydCh0aWxlKSB7XHJcblx0XHR0aGlzLnR1cm5PZmZNb3VzZUhhbmRsZXJzKCk7XHJcblx0XHR0aGlzLnNob3dHcmlkKCk7XHJcblx0XHR0aGlzLnNob3dUaWxlR3JpZFNoYWRvdyh7XHJcblx0XHRcdGxlZnQ6IHRpbGUueCAqIHRoaXMudGlsZVdpZHRoLFxyXG5cdFx0XHR0b3A6IHRpbGUueSAqIHRoaXMudGlsZUhlaWdodCxcclxuXHRcdFx0d2lkdGg6IHRpbGUud2lkdGggKiB0aGlzLnRpbGVXaWR0aCxcclxuXHRcdFx0aGVpZ2h0OiB0aWxlLmhlaWdodCAqIHRoaXMudGlsZUhlaWdodFxyXG5cdFx0fSxcclxuXHRcdFx0ZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGlsZSByZXNpemUgaGFuZGxlclxyXG5cdCAqL1xyXG5cdCRvblRpbGVSZXNpemUodGlsZSwgc2hhZG93UG9zaXRpb24pIHtcclxuXHRcdHRoaXMuc2hvd1RpbGVHcmlkU2hhZG93KHtcclxuXHRcdFx0bGVmdDogc2hhZG93UG9zaXRpb24ubGVmdCxcclxuXHRcdFx0dG9wOiBzaGFkb3dQb3NpdGlvbi50b3AsXHJcblx0XHRcdHdpZHRoOiBzaGFkb3dQb3NpdGlvbi53aWR0aCxcclxuXHRcdFx0aGVpZ2h0OiBzaGFkb3dQb3NpdGlvbi5oZWlnaHRcclxuXHRcdH0sXHJcblx0XHRcdGZhbHNlKTtcclxuXHRcdHRoaXMudXBkYXRlRGFzaGJvYXJkU2l6ZShzaGFkb3dQb3NpdGlvbik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaWxlIHJlc2l6ZSBjb21wbGV0ZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdCRvblRpbGVSZXNpemVFbmQoZXZlbnRSZXN1bHQpIHtcclxuXHRcdHRoaXMuaGlkZUdyaWQoKTtcclxuXHRcdHRoaXMudHVybk9uTW91c2VIYW5kbGVycygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGlsZSBkZWxldGUgaGFuZGxlclxyXG5cdCAqL1xyXG5cdCRvblRpbGVEZWxldGUodGlsZSkge1xyXG5cdFx0aWYgKHRpbGUgPT0gbnVsbClcclxuXHRcdFx0dGhyb3cgJ1RpbGUgbm90IGZvdW5kJztcclxuXHRcdHRoaXMubW9kZWwucmVtb3ZlVGlsZSh0aWxlKTtcclxuXHRcdHRoaXMudXBkYXRlRGFzaGJvYXJkU2l6ZSgpO1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UucmVmcmVzaEZpbHRlcnMoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRpbGUgcmVwb3J0IHNlbGVjdGVkIGhhbmRsZXIuXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGUgdGlsZSBtb2RlbCBvYmplY3QuXHJcblx0ICovXHJcblx0JG9uVGlsZVJlcG9ydFNlbGVjdGVkKHRpbGUpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hGaWx0ZXJzKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEYXNoYm9hcmQgbW91c2UgaG92ZXJcclxuXHQgKi9cclxuXHRnbG9iYWxNb3VzZW1vdmVIYW5kbGVyKCRldmVudCkge1xyXG5cdFx0aWYgKCF0aGlzLmlzTW91c2VFdmVudHNFbmFibGVkKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KCRldmVudC50YXJnZXQpO1xyXG5cdFx0aWYgKCR0YXJnZXQuY2xvc2VzdCgnLml6LWRhc2gtdGlsZScpLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmhpZGVHcmlkKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBnZXQge3gsIHl9IGNsaWNrIGNvb3JkaW5hdGVzXHJcblx0XHRjb25zdCB4ID0gTWF0aC5mbG9vcigkZXZlbnQub2Zmc2V0WCAvIHRoaXMudGlsZVdpZHRoKTtcclxuXHRcdGNvbnN0IHkgPSBNYXRoLmZsb29yKCRldmVudC5vZmZzZXRZIC8gdGhpcy50aWxlSGVpZ2h0KTtcclxuXHJcblx0XHR0aGlzLnNob3dHcmlkKCk7XHJcblx0XHRpZiAoJHRhcmdldC5oYXNDbGFzcygnZGFzaGJvYXJkLWdyaWQnKSAmJiAkdGFyZ2V0LndpZHRoKCkgPiAwKSB7XHJcblx0XHRcdHRoaXMuc2hvd1RpbGVHcmlkU2hhZG93KHtcclxuXHRcdFx0XHRsZWZ0OiB4ICogdGhpcy50aWxlV2lkdGgsXHJcblx0XHRcdFx0dG9wOiB5ICogdGhpcy50aWxlSGVpZ2h0LFxyXG5cdFx0XHRcdHdpZHRoOiB0aGlzLnRpbGVXaWR0aCxcclxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMudGlsZUhlaWdodFxyXG5cdFx0XHR9LCB0cnVlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERhc2hib2FyZCBtb3VzZSBvdXRcclxuXHQgKi9cclxuXHRnbG9iYWxNb3VzZW91dEhhbmRsZXIoJGV2ZW50KSB7XHJcblx0XHRpZiAoIXRoaXMuaXNNb3VzZUV2ZW50c0VuYWJsZWRcclxuXHRcdFx0fHwgKCRldmVudC5yZWxhdGVkVGFyZ2V0ICYmIGFuZ3VsYXIuZWxlbWVudCgkZXZlbnQucmVsYXRlZFRhcmdldCkuY2xvc2VzdCgnLml6LWRhc2gtYm9keS1jb250YWluZXInKS5sZW5ndGggPiAwKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5oaWRlR3JpZCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xpY2sgdG8gYW55IHBhcnQgb2YgdGhlIGRhc2hib2FyZFxyXG5cdCAqL1xyXG5cdGdsb2JhbENsaWNrSGFuZGxlcigkZXZlbnQpIHtcclxuXHRcdGlmICghdGhpcy5pc01vdXNlRXZlbnRzRW5hYmxlZClcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRpZiAodHlwZW9mICgkZXZlbnRbJ3doaWNoJ10pICE9PSAndW5kZWZpbmVkJyAmJiAkZXZlbnRbJ3doaWNoJ10gIT09IDEpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0Ly8gZ2V0IHt4LCB5fSBjbGljayBjb29yZGluYXRlc1xyXG5cdFx0Y29uc3QgeCA9IE1hdGguZmxvb3IoJGV2ZW50Lm9mZnNldFggLyB0aGlzLnRpbGVXaWR0aCk7XHJcblx0XHRjb25zdCB5ID0gTWF0aC5mbG9vcigkZXZlbnQub2Zmc2V0WSAvIHRoaXMudGlsZUhlaWdodCk7XHJcblx0XHR0aGlzLm1vZGVsLmFkZFBpeGVsVGlsZSh4LCB5KTtcclxuXHRcdHRoaXMudXBkYXRlRGFzaGJvYXJkU2l6ZSgpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGlzYWJsZSBtb3VzZSBtb3ZlL291dC9jbGljayBoYW5kbGVycyBmb3IgZGFzaGJvYXJkIFxyXG5cdCAqL1xyXG5cdHR1cm5PZmZNb3VzZUhhbmRsZXJzKCkge1xyXG5cdFx0dGhpcy5pc01vdXNlRXZlbnRzRW5hYmxlZE1hbnVhbCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5oaWRlR3JpZCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRW5hYmxlIG1vdXNlIG1vdmUvb3V0L2NsaWNrIGhhbmRsZXJzIGZvciBkYXNoYm9hcmQgXHJcblx0ICovXHJcblx0dHVybk9uTW91c2VIYW5kbGVycygpIHtcclxuXHRcdGlmICh0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc0VkaXRBbGxvd2VkKCkpXHJcblx0XHRcdHRoaXMuaXNNb3VzZUV2ZW50c0VuYWJsZWRNYW51YWwgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIHRpbGUgY29udGFpbmVyIHNpemVzXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IGFkZGl0aW9uYWxCb3guIElmIHdlIHdhbnQgdG8gZXh0ZW5kIGRhc2hib2FyZCBjb250YWluZXIgc2l6ZSB3ZSBjYW5cclxuXHQgKiB1c2UgdGhpcyBwYXJhbWV0ZXIgYW5kIGFkZCBhZGRpdGlvbmFsIGFyZWEuXHJcblx0ICovXHJcblx0dXBkYXRlRGFzaGJvYXJkU2l6ZShhZGRpdGlvbmFsQm94Pykge1xyXG5cdFx0aWYgKCF0aGlzLm1vZGVsKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLnVwZGF0ZVRpbGVTaXplKCk7XHJcblx0XHR0aGlzLnVwZGF0ZUdhbGxlcnlTaXplKCk7XHJcblx0XHRjb25zdCBpc09uZUNvbHVtbiA9IHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzT25lQ29sdW1uVmlldygpO1xyXG5cdFx0Y29uc3QgbWF4SGVpZ2h0ID0gdGhpcy5tb2RlbC5nZXRNYXhIZWlnaHQoaXNPbmVDb2x1bW4pO1xyXG5cclxuXHRcdGxldCBtYXhIZWlnaHRQaXhlbHMgPSBtYXhIZWlnaHQgKiB0aGlzLnRpbGVIZWlnaHQ7XHJcblx0XHQvLyB1cGRhdGUgaGVpZ2h0IG9mIHVuaW9uIG9mIHRpbGVzIGFuZCBhZGRpdGlvbmFsIGJveCBpdCBpcyBzZXRcclxuXHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChhZGRpdGlvbmFsQm94KSlcclxuXHRcdFx0aWYgKGFkZGl0aW9uYWxCb3gudG9wICsgYWRkaXRpb25hbEJveC5oZWlnaHQgPiBtYXhIZWlnaHRQaXhlbHMpXHJcblx0XHRcdFx0bWF4SGVpZ2h0UGl4ZWxzID0gYWRkaXRpb25hbEJveC50b3AgKyBhZGRpdGlvbmFsQm94LmhlaWdodDtcclxuXHRcdC8vIHNldCBoZWlnaHQ6XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoJy5pei1kYXNoLWJvZHktY29udGFpbmVyJykuaGVpZ2h0KChtYXhIZWlnaHRQaXhlbHMgKyB0aGlzLnRpbGVIZWlnaHQgKyAxKSArICdweCcpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIHRpbGUgZ3JpZCBzaXplc1xyXG5cdCAqL1xyXG5cdHVwZGF0ZVRpbGVTaXplKCkge1xyXG5cdFx0Y29uc3Qgd2lkdGggPSBNYXRoLmZsb29yKHRoaXMucm9vdFdpZHRoIC8gMTIpICogMTIgLSAyNDtcclxuXHRcdHRoaXMuJGVsZW1lbnQuZmluZCgnLml6LWRhc2gtYm9keS1jb250YWluZXInKS53aWR0aCh3aWR0aCk7XHJcblx0XHR0aGlzLnRpbGVXaWR0aCA9IHdpZHRoIC8gMTI7XHJcblx0XHR0aGlzLnRpbGVIZWlnaHQgPSB0aGlzLnRpbGVXaWR0aCA+IDEwMCA/IHRoaXMudGlsZVdpZHRoIDogMTAwO1xyXG5cdFx0dGhpcy51cGRhdGVHcmlkU3R5bGUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSB0aWxlIGdyaWQgc3R5bGUgdmFyaWFibGUuXHJcblx0ICovXHJcblx0dXBkYXRlR3JpZFN0eWxlKCkge1xyXG5cdFx0dGhpcy5ncmlkU3R5bGUgPSB7XHJcblx0XHRcdCdiYWNrZ3JvdW5kLXNpemUnOiB0aGlzLnRpbGVXaWR0aCArXHJcblx0XHRcdFx0J3B4ICcgK1xyXG5cdFx0XHRcdHRoaXMudGlsZUhlaWdodCArXHJcblx0XHRcdFx0J3B4LCAnICtcclxuXHRcdFx0XHR0aGlzLnRpbGVXaWR0aCArXHJcblx0XHRcdFx0J3B4ICcgK1xyXG5cdFx0XHRcdHRoaXMudGlsZUhlaWdodCArXHJcblx0XHRcdFx0J3B4J1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBnYWxsZXJ5IGNvbnRhaW5lciBzaXplXHJcblx0ICovXHJcblx0dXBkYXRlR2FsbGVyeVNpemUoKSB7XHJcblx0XHRjb25zdCB0aWxlQ29udGFpbmVyVG9wID0gYW5ndWxhci5lbGVtZW50KCcuaXotZGFzaC1yb290Jykub2Zmc2V0KCkudG9wO1xyXG5cdFx0dGhpcy5nYWxsZXJ5Q29udGFpbmVyU3R5bGUuaGVpZ2h0ID0gYW5ndWxhci5lbGVtZW50KHRoaXMuJHdpbmRvdykuaGVpZ2h0KCkgLSB0aWxlQ29udGFpbmVyVG9wIC0gMzA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFdmVudCBoYW5kbGVyIHdoaWNoIHJ1bnMgd2hlbiB1c2VyIHR1cm5zIG9uIGZ1bGxzY3JlZW4uXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpc0Z1bGxzY3JlZW5cclxuXHQgKi9cclxuXHRnYWxsZXJ5VG9nZ2xlRnVsbHNjcmVlbihpc0Z1bGxzY3JlZW4pIHtcclxuXHRcdHRoaXMuJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlLmdhbGxlcnlTdGF0ZS5pc0Z1bGxTY3JlZW4gPSBpc0Z1bGxzY3JlZW47XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFdmVudCBoYW5kbGVyIHdoaWNoIHJ1bnMgd2hlbiBnYWxsZXJ5IHN0b3AgcGxheWluZy5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUGxheVN0YXJ0ZWQgaXNQbGF5U3RhcnRlZFxyXG5cdCAqL1xyXG5cdGdhbGxlcnlUb2dnbGVQbGF5U3RhcnRlZChpc1BsYXlTdGFydGVkKSB7XHJcblx0XHR0aGlzLiRpemVuZGFHYWxsZXJ5U2VydmljZS5nYWxsZXJ5U3RhdGUuaXNQbGF5U3RhcnRlZCA9IGlzUGxheVN0YXJ0ZWQ7XHJcblx0fVxyXG5cclxuXHRzaG93R3JpZCgpIHtcclxuXHRcdGNvbnN0IGlzT25lQ29sdW1uID0gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNPbmVDb2x1bW5WaWV3KCk7XHJcblx0XHRpZiAoaXNPbmVDb2x1bW4pXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMuaXNHcmlkVmlzaWJsZSA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRoaWRlR3JpZCgpIHtcclxuXHRcdGlmICghdGhpcy5pc0dyaWRWaXNpYmxlKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmlzR3JpZFZpc2libGUgPSBmYWxzZTtcclxuXHRcdHRoaXMuaGlkZVRpbGVHcmlkU2hhZG93KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93IHRpbGUgZ3JpZCBzaGFkb3dcclxuXHQgKi9cclxuXHRzaG93VGlsZUdyaWRTaGFkb3coc2hhZG93QmJveCwgc2hvd1BsdXNCdXR0b24pIHtcclxuXHRcdGNvbnN0IGlzT25lQ29sdW1uID0gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNPbmVDb2x1bW5WaWV3KCk7XHJcblx0XHRpZiAoaXNPbmVDb2x1bW4pXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMuaXNHcmlkU2hhZG93VmlzaWJsZSA9IHRydWU7XHJcblx0XHR0aGlzLmlzR3JpZFNoYWRvd1BsdXNCdXR0b25WaXNpYmxlID0gc2hvd1BsdXNCdXR0b247XHJcblx0XHRsZXQgbGVmdCA9IHNoYWRvd0Jib3gubGVmdDtcclxuXHRcdGxldCB0b3AgPSBzaGFkb3dCYm94LnRvcDtcclxuXHRcdGNvbnN0IHdpZHRoID0gc2hhZG93QmJveC53aWR0aDtcclxuXHRcdGNvbnN0IGhlaWdodCA9IHNoYWRvd0Jib3guaGVpZ2h0O1xyXG5cdFx0aWYgKGxlZnQgPCAwKSBsZWZ0ID0gMDtcclxuXHRcdGlmIChsZWZ0ICsgd2lkdGggPj0gdGhpcy50aWxlV2lkdGggKiAxMikgbGVmdCA9IHRoaXMudGlsZVdpZHRoICogMTIgLSB3aWR0aDtcclxuXHRcdGlmICh0b3AgPCAwKSB0b3AgPSAwO1xyXG5cdFx0dGhpcy5ncmlkU2hhZG93U3R5bGUgPSB7XHJcblx0XHRcdCdsZWZ0JzogbGVmdCArIDEsXHJcblx0XHRcdCd0b3AnOiB0b3AgKyAxLFxyXG5cdFx0XHQnd2lkdGgnOiB3aWR0aCAtIDEsXHJcblx0XHRcdCdoZWlnaHQnOiBoZWlnaHQgLSAxXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSGlkZSB0aWxlIGdyaWQgc2hhZG93XHJcblx0ICovXHJcblx0aGlkZVRpbGVHcmlkU2hhZG93KCkge1xyXG5cdFx0dGhpcy5pc0dyaWRTaGFkb3dWaXNpYmxlID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRnZXRFeHBvcnRXYWl0TWVzc2FnZUhlYWRlclRleHQoKSB7XHJcblx0XHRpZiAodGhpcy5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0V4cG9ydGluZ0luUHJvZ3Jlc3MnLCAnRXhwb3J0aW5nIGluIHByb2dyZXNzLicpO1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPT09ICdwcmludCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByaW50aW5nSW5Qcm9ncmVzcycsICdQcmludGluZyBpbiBwcm9ncmVzcy4nKTtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcblxyXG5cdGdldEV4cG9ydFdhaXRNZXNzYWdlVGV4dCgpIHtcclxuXHRcdGlmICh0aGlzLmV4cG9ydFByb2dyZXNzID09PSAnZXhwb3J0JylcclxuXHRcdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmluaXNoRXhwb3J0aW5nJywgJ1BsZWFzZSB3YWl0IHRpbGwgZXhwb3J0IGlzIGNvbXBsZXRlZC4uLicpO1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPT09ICdwcmludCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZpbmlzaFByaW50aW5nJywgJ1BsZWFzZSBmaW5pc2ggcHJpbnRpbmcgYmVmb3JlIGNvbnRpbnVlLicpO1xyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH1cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUsIHsgSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzIH0gZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTY2hlZHVsZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9iYWNrZ3JvdW5kLXNlcnZpY2UnO1xyXG5pbXBvcnQgRGFzaGJvYXJkR2FsbGVyeVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2dhbGxlcnktc2VydmljZSc7XHJcblxyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYURhc2hib2FyZE1vZHVsZSxcclxuXHQnaXplbmRhRGFzaGJvYXJkVG9vbGJhcicsXHJcblx0WydyeCcsICckd2luZG93JywgJyRlbGVtZW50JywgJyRpbnRlcnZhbCcsICckdGltZW91dCcsICckcm9vdFNjb3BlJyxcclxuXHRcdCdpemVuZGFEYXNoYm9hcmRDb25maWcnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhVXRpbFNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLFxyXG5cdFx0JyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsXHJcblx0XHQnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsICckaXplbmRhU2hhcmVTZXJ2aWNlJywgJyRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncycsICckaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UnLFxyXG5cdFx0JyRpemVuZGFCYWNrZ3JvdW5kU2VydmljZScsICckaXplbmRhR2FsbGVyeVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmNvbXBvbmVudHMudG9vbGJhci50b29sYmFyLXRlbXBsYXRlLmh0bWwnXHJcblx0fSlcclxuY2xhc3MgSXplbmRhRGFzaGJvYXJkVG9vbGJhckNvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHRpc0xpY2Vuc2VGYWlsZWQ6IGJvb2xlYW47XHJcblx0aXNIdWVSb3RhdGU6IGJvb2xlYW47XHJcblx0aXNIdWVSb3RhdGVFbmFibGVkOiBib29sZWFuO1xyXG5cdGlzSHRtbDVGdWxsU2NyZWVuU3VwcG9ydGVkOiBib29sZWFuO1xyXG5cdGlzRGVzaWduTGlua3NBbGxvd2VkOiBib29sZWFuO1xyXG5cdGlzU3RvcmFnZUF2YWlsYWJsZTogYm9vbGVhbjtcclxuXHJcblx0aXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQ6IGJvb2xlYW47XHJcblx0c2NoZWR1bGVNb2RhbE9wZW5lZDogYm9vbGVhbjtcclxuXHRzaGFyZU1vZGFsT3BlbmVkOiBib29sZWFuO1xyXG5cdHNlbGVjdEJhY2tncm91bmRJbWFnZU1vZGFsT3BlbmVkOiBib29sZWFuO1xyXG5cclxuXHRzdWJzY3JpcHRpb25zOiBhbnlbXTtcclxuXHRjb21tb25TZXR0aW5nczogYW55O1xyXG5cclxuXHRwcmludE1vZGU6IHN0cmluZztcclxuXHRiYWNrZ3JvdW5kTW9kYWxSYWRpbzogc3RyaW5nO1xyXG5cclxuXHRpc0J1dHRvbkJhclZpc2libGU6IGJvb2xlYW47XHJcblx0YnV0dG9uYmFyQ2xhc3M6IHN0cmluZztcclxuXHRidXR0b25iYXJDb2xsYXBzZWRDbGFzczogc3RyaW5nO1xyXG5cclxuXHRyZWZyZXNoSW50ZXJ2YWw6IG51bWJlcjtcclxuXHRhdXRvUmVmcmVzaDogYW55O1xyXG5cclxuXHRzZW5kRW1haWxNb2RhbE9wZW5lZDogYm9vbGVhbjtcclxuXHRzZW5kRW1haWxTdGF0ZTogYW55O1xyXG5cclxuXHRjdXJyZW50Q2F0ZWdvcnk6IHN0cmluZztcclxuXHRjdXJyZW50RGFzaGJvYXJkOiBzdHJpbmc7XHJcblxyXG5cdG1vZGVsOiBhbnk7XHJcblx0Y2F0ZWdvcmllczogYW55O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJ4OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGVsZW1lbnQ6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGludGVydmFsOiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyb290U2NvcGU6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgZGFzaGJvYXJkQ29uZmlnOiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNjaGVkdWxlU2VydmljZTogSXplbmRhU2NoZWR1bGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2hhcmVTZXJ2aWNlOiBJemVuZGFTaGFyZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTZXR0aW5nczogSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2U6IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQmFja2dyb3VuZFNlcnZpY2U6IERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhR2FsbGVyeVNlcnZpY2U6IERhc2hib2FyZEdhbGxlcnlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0Y29uc3QgaXNDaHJvbWUgPSAvQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9Hb29nbGUgSW5jLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xyXG5cdFx0Y29uc3QgaXNTYWZhcmkgPSAvU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKTtcclxuXHRcdGNvbnN0IGlzRmlyZWZveCA9IC9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cdFx0dGhpcy5pc0h1ZVJvdGF0ZSA9IGlzQ2hyb21lIHx8IGlzU2FmYXJpIHx8IGlzRmlyZWZveDtcclxuXHRcdHRoaXMuaXNIdWVSb3RhdGVFbmFibGVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzSHRtbDVGdWxsU2NyZWVuU3VwcG9ydGVkID0gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNIdG1sNUZ1bGxTY3JlZW5TdXBwb3J0ZWQoKTtcclxuXHR9XHJcblxyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcclxuXHRcdHRoaXMuaXNMaWNlbnNlRmFpbGVkID0gIXRoaXMuJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzLmRhc2hib2FyZHNBbGxvd2VkO1xyXG5cdFx0aWYgKHRoaXMuaXNMaWNlbnNlRmFpbGVkKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dGhpcy5zY2hlZHVsZU1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR0aGlzLnNoYXJlTW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHJcblx0XHQvLyBzZXR0aW5nc1xyXG5cdFx0dGhpcy5jb21tb25TZXR0aW5ncyA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDb21tb25TZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5pc0Rlc2lnbkxpbmtzQWxsb3dlZCA9IHRoaXMuY29tbW9uU2V0dGluZ3Muc2hvd0Rlc2lnbkxpbmtzO1xyXG5cdFx0dGhpcy5wcmludE1vZGUgPSB0aGlzLiRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncy5hbGxvd2VkUHJpbnRFbmdpbmU7XHJcblxyXG5cdFx0Ly8gYmFja2dyb3VuZFxyXG5cdFx0dGhpcy5pc1N0b3JhZ2VBdmFpbGFibGUgPSB0aGlzLiRpemVuZGFCYWNrZ3JvdW5kU2VydmljZS5pc1N0b3JhZ2VBdmFpbGFibGUoKTtcclxuXHRcdHRoaXMuc2VsZWN0QmFja2dyb3VuZEltYWdlTW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuYmFja2dyb3VuZE1vZGFsUmFkaW8gPSAndXJsJztcclxuXHRcdC8vIGJ1dHRvbiBiYXJcclxuXHRcdHRoaXMuaXNCdXR0b25CYXJWaXNpYmxlID0gZmFsc2U7XHJcblx0XHR0aGlzLmJ1dHRvbmJhckNsYXNzID0gJ25hdiBuYXZiYXItbmF2IGl6LWRhc2gtdG9vbGJ0bi1wYW5lbCBsZWZ0LXRyYW5zaXRpb24nO1xyXG5cdFx0dGhpcy5idXR0b25iYXJDb2xsYXBzZWRDbGFzcyA9ICduYXYgbmF2YmFyLW5hdiBpei1kYXNoLWNvbGxhcHNlZC10b29sYnRuLXBhbmVsIGxlZnQtdHJhbnNpdGlvbiBvcGVuZWQnO1xyXG5cdFx0Ly8gcmVmcmVzaFxyXG5cdFx0dGhpcy5yZWZyZXNoSW50ZXJ2YWwgPSBudWxsO1xyXG5cdFx0dGhpcy5hdXRvUmVmcmVzaCA9IG51bGw7XHJcblx0XHQvL2VtYWlsXHJcblx0XHR0aGlzLnNlbmRFbWFpbE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlID0ge1xyXG5cdFx0XHRlcnJvcnM6IFtdLFxyXG5cdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxyXG5cdFx0XHRlcnJvck9jY3VyZWQ6IGZhbHNlLFxyXG5cdFx0XHRzZW5kVHlwZTogJ0xpbmsnLFxyXG5cdFx0XHRlbWFpbDogJycsXHJcblx0XHRcdG9wZW5lZDogZmFsc2UsXHJcblx0XHRcdGZvY3VzZWQ6IGZhbHNlXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIHN1YnNjcmliZVxyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW1xyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5tb2RlbC5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25EYXNoYm9hcmRNb2RlbFVwZGF0ZSwgdGhpcyksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmF1dG9SZWZyZXNoLnN1YnNjcmliZU9uTmV4dCh0aGlzLiRvbkF1dG9yZWZyZXNoVXBkYXRlLCB0aGlzKSxcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UuY2F0ZWdvcmllcy5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25DYXRlZ29yaWVzVXBkYXRlLCB0aGlzKSxcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UuY3VycmVudENhdGVnb3J5LnN1YnNjcmliZU9uTmV4dChuZXh0ID0+IHRoaXMuY3VycmVudENhdGVnb3J5ID0gbmV4dCksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmN1cnJlbnREYXNoYm9hcmQuc3Vic2NyaWJlT25OZXh0KG5leHQgPT4gdGhpcy5jdXJyZW50RGFzaGJvYXJkID0gbmV4dCksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLndpbmRvd1NpemUuc3Vic2NyaWJlT25OZXh0KG5ld1dpbmRvd1NpemUgPT4ge1xyXG5cdFx0XHRcdC8vIHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdH0sIHRoaXMpXHJcblx0XHRdO1xyXG5cdH1cclxuXHJcblx0JG9uRGVzdHJveSgpIHtcclxuXHRcdHRoaXMuY2FuY2VsUmVmcmVzaEludGVydmFsKCk7XHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWIgPT4gc3ViLmRpc3Bvc2UoKSk7XHJcblx0fVxyXG5cclxuXHQkb25EYXNoYm9hcmRNb2RlbFVwZGF0ZShuZXdNb2RlbCkge1xyXG5cdFx0dGhpcy5jYW5jZWxSZWZyZXNoSW50ZXJ2YWwoKTtcclxuXHRcdHRoaXMubW9kZWwgPSBuZXdNb2RlbDtcclxuXHR9XHJcblxyXG5cdCRvbkF1dG9yZWZyZXNoVXBkYXRlKG5ld0F1dG9yZWZyZXNoKSB7XHJcblx0XHR0aGlzLmF1dG9SZWZyZXNoID0gbmV3QXV0b3JlZnJlc2g7XHJcblx0fVxyXG5cclxuXHQkb25DYXRlZ29yaWVzVXBkYXRlKG5ld0NhdGVnb3JpZXMpIHtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IG5ld0NhdGVnb3JpZXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgbmV3IGRhc2hib2FyZCBidXR0b24gaGFuZGxlci5cclxuXHQgKi9cclxuXHRjcmVhdGVOZXdEYXNoYm9hcmQoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5uYXZpZ2F0ZU5ld0Rhc2hib2FyZCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZSBkYXNoYm9hcmRcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dOYW1lRGlhbG9nIGRhc2hib2FyZCByZXBvcnQgc2V0IG5hbWUuXHJcblx0ICovXHJcblx0c2F2ZURhc2hib2FyZChzaG93TmFtZURpYWxvZykge1xyXG5cdFx0aWYgKHNob3dOYW1lRGlhbG9nIHx8ICF0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lKSB7XHJcblx0XHRcdHRoaXMuaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5oaWRlQnV0dG9uQmFyKCk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlXHJcblx0XHRcdFx0LnNhdmVEYXNoYm9hcmQoKVxyXG5cdFx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbih0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZFNhdmVkJyxcclxuXHRcdFx0XHRcdFx0J0Rhc2hib2FyZCBzdWNlc3NmdWxseSBzYXZlZCcpKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdChlcnJvcikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgbXNnQ2FudFNhdmUgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NhbnRTYXZlRGFzaGJvYXJkJywgJ0NhblxcJ3Qgc2F2ZSBkYXNoYm9hcmQnKTtcclxuXHRcdFx0XHRcdGNvbnN0IG1zZ0Vycm9yID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FcnJvcicsICdFcnJvcicpO1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yVGV4dCA9IGAke21zZ0NhbnRTYXZlfSBcIiR7dGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZX1cIi4gJHttc2dFcnJvcn06IFwiJHtlcnJvcn1cImA7XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhlcnJvclRleHQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICAqIFNhdmUgZGlhbG9nIGNsb3NlZCBoYW5kbGVyLlxyXG5cdCAgKi9cclxuXHRvblNhdmVDbG9zZWQoKSB7XHJcblx0XHR0aGlzLmhpZGVCdXR0b25CYXIoKTtcclxuXHRcdHRoaXMuaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlcG9ydCBuYW1lL2NhdGVnb3J5IHNlbGVjdGVkLiBTYXZlIHJlcG9ydCBoYW5kbGVyLiBJbiB0aGlzIHNjZW5hcmlvIHdlIGhhdmUgdG8gdHVybiBidXR0b24gYmFyIG9mZlxyXG5cdCAqL1xyXG5cdG9uU2F2ZShyZXBvcnROYW1lLCBjYXRlZ29yeU5hbWUpIHtcclxuXHRcdHRoaXMuaGlkZUJ1dHRvbkJhcigoKSA9PiB7XHJcblx0XHRcdHRoaXMuaXNTYXZlUmVwb3J0TW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2VcclxuXHRcdFx0XHQuc2F2ZURhc2hib2FyZChyZXBvcnROYW1lLCBjYXRlZ29yeU5hbWUpXHJcblx0XHRcdFx0LnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93Tm90aWZpY2F0aW9uKHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRGFzaGJvYXJkU2F2ZWQnLFxyXG5cdFx0XHRcdFx0XHQnRGFzaGJvYXJkIHN1Y2Vzc2Z1bGx5IHNhdmVkJykpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0KGVycm9yKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtc2dDYW50U2F2ZSA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ2FudFNhdmVEYXNoYm9hcmQnLCAnQ2FuXFwndCBzYXZlIGRhc2hib2FyZCcpO1xyXG5cdFx0XHRcdFx0Y29uc3QgbXNnRXJyb3IgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Vycm9yJywgJ0Vycm9yJyk7XHJcblx0XHRcdFx0XHR2YXIgZXJyb3JUZXh0ID0gYCR7bXNnQ2FudFNhdmV9IFwiJHt0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lfVwiLiAke21zZ0Vycm9yfTogXCIke2Vycm9yfVwiYDtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWZyZXNoIGFsbCBkYXNoYm9hcmQgdGlsZXMgKHdpdGhvdXQgcmVsb2FkaW5nKVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbEluZGV4IGF1dG8gcmVmcmVzaCBpbnRlcnZhbCBpbmRleC4gQXV0b21hdGljIHJlZnJlc2ggd2lsbCB0dXJuIG9uIGlmIHRoaXMgYXJndW1lbnQgaXMgc2V0LlxyXG5cdCAqL1xyXG5cdHJlZnJlc2hEYXNoYm9hcmQoaW50ZXJ2YWxJbmRleCkge1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UucmVmcmVzaERhc2hib2FyZChmYWxzZSwgZmFsc2UpO1xyXG5cdFx0aWYgKCF0aGlzLmF1dG9SZWZyZXNoKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoYW5ndWxhci5pc051bWJlcihpbnRlcnZhbEluZGV4KSkge1xyXG5cdFx0XHR0aGlzLmNhbmNlbFJlZnJlc2hJbnRlcnZhbCgpO1xyXG5cdFx0XHRjb25zdCBzZWxlY3RlZEludGVydmFsID0gdGhpcy5hdXRvUmVmcmVzaC5pbnRlcnZhbHNbaW50ZXJ2YWxJbmRleF07XHJcblx0XHRcdHNlbGVjdGVkSW50ZXJ2YWwuc2VsZWN0ZWQgPSB0cnVlO1xyXG5cdFx0XHRsZXQgaW50ZXJ2YWxWYWx1ZSA9IHNlbGVjdGVkSW50ZXJ2YWwudmFsdWU7XHJcblx0XHRcdGlmIChpbnRlcnZhbFZhbHVlID49IDEpIHtcclxuXHRcdFx0XHRpbnRlcnZhbFZhbHVlICo9IDEwMDA7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcclxuXHRcdFx0XHRcdCgpID0+IHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hEYXNoYm9hcmQoZmFsc2UsIGZhbHNlKSxcclxuXHRcdFx0XHRcdGludGVydmFsVmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjbG9zZVNjaGVkdWxlRGlhbG9nKCkge1xyXG5cdFx0dGhpcy5zY2hlZHVsZU1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRjbG9zZVNoYXJlRGlhbG9nKCkge1xyXG5cdFx0dGhpcy5zaGFyZU1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRvcGVuVG9vbGJhckRhc2hib2FyZChkYXNoYm9hcmRPYmopIHtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLm5hdmlnYXRlVG9EYXNoYm9hcmQoZGFzaGJvYXJkT2JqLmZ1bGxOYW1lKTtcclxuXHR9XHJcblxyXG5cdHNob3dCdXR0b25CYXIoKSB7XHJcblx0XHR0aGlzLmlzQnV0dG9uQmFyVmlzaWJsZSA9IHRydWU7XHJcblx0XHR0aGlzLmJ1dHRvbmJhckNsYXNzID0gJ25hdiBuYXZiYXItbmF2IGl6LWRhc2gtdG9vbGJ0bi1wYW5lbCB0cmFuc2Zvcm0tdHJhbnNpdGlvbiBvcGVuZWQnO1xyXG5cdFx0dGhpcy5idXR0b25iYXJDb2xsYXBzZWRDbGFzcyA9ICduYXYgbmF2YmFyLW5hdiBpei1kYXNoLWNvbGxhcHNlZC10b29sYnRuLXBhbmVsIHRyYW5zZm9ybS10cmFuc2l0aW9uJztcclxuXHR9XHJcblxyXG5cdGhpZGVCdXR0b25CYXIoY29tcGxldGVkSGFuZGxlcj8pIHtcclxuXHRcdHRoaXMuaXNCdXR0b25CYXJWaXNpYmxlID0gZmFsc2U7XHJcblx0XHR0aGlzLmJ1dHRvbmJhckNsYXNzID0gJ25hdiBuYXZiYXItbmF2IGl6LWRhc2gtdG9vbGJ0bi1wYW5lbCc7XHJcblx0XHR0aGlzLmJ1dHRvbmJhckNvbGxhcHNlZENsYXNzID0gJ25hdiBuYXZiYXItbmF2IGl6LWRhc2gtY29sbGFwc2VkLXRvb2xidG4tcGFuZWwgb3BlbmVkJztcclxuXHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGNvbXBsZXRlZEhhbmRsZXIpKVxyXG5cdFx0XHRcdGNvbXBsZXRlZEhhbmRsZXIuY2FsbCh0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcdDIwMCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBY3RpdmF0ZS9kZWFjdGl2YXRlIGRhc2hib2FyZCBtb2RlXHJcblx0ICovXHJcblx0dG9nZ2xlR2FsbGVyeU1vZGUoZW5hYmxlR2FsbGVyeU1vZGUpIHtcclxuXHRcdGlmIChlbmFibGVHYWxsZXJ5TW9kZSlcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudG9nZ2xlRmlsdGVyc1BhbmVsKGZhbHNlKTtcclxuXHRcdHRoaXMuJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlLmdhbGxlcnlTdGF0ZS5pc0VuYWJsZWQgPSBlbmFibGVHYWxsZXJ5TW9kZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9wZW4gZ2FsbGVyeSBpbiBmdWxsc2NyZWVuIG1vZGVcclxuXHQgKi9cclxuXHR0b2dnbGVHYWxsZXJ5TW9kZUZ1bGxTY3JlZW4oKSB7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS50b2dnbGVGaWx0ZXJzUGFuZWwoZmFsc2UpO1xyXG5cdFx0dGhpcy4kaXplbmRhR2FsbGVyeVNlcnZpY2UuZ2FsbGVyeVN0YXRlLmlzRnVsbFNjcmVlbiA9ICF0aGlzLiRpemVuZGFHYWxsZXJ5U2VydmljZS5nYWxsZXJ5U3RhdGUuaXNGdWxsU2NyZWVuO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVHVybiBvZmYvb24gZ2FsbGVyeSBwbGF5XHJcblx0ICovXHJcblx0dG9nZ2xlR2FsbGVyeVBsYXkoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS50b2dnbGVGaWx0ZXJzUGFuZWwoZmFsc2UpO1xyXG5cdFx0dGhpcy4kaXplbmRhR2FsbGVyeVNlcnZpY2UuZ2FsbGVyeVN0YXRlLmlzUGxheVN0YXJ0ZWQgPSAhdGhpcy4kaXplbmRhR2FsbGVyeVNlcnZpY2UuZ2FsbGVyeVN0YXRlLmlzUGxheVN0YXJ0ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY3VycmVudCBzZWxlY3RlZCBpbnRlcnZhbFxyXG5cdCAqL1xyXG5cdGdldCBzZWxlY3RlZEludGVydmFsKCkge1xyXG5cdFx0aWYgKCF0aGlzLmF1dG9SZWZyZXNoKVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdGNvbnN0IHNlbGVjdGVkID0gdGhpcy5hdXRvUmVmcmVzaC5pbnRlcnZhbHMuZmlsdGVyKGludGVydmFsID0+IGludGVydmFsLnNlbGVjdGVkKTtcclxuXHRcdGlmIChzZWxlY3RlZC5sZW5ndGggPiAxKVxyXG5cdFx0XHR0aHJvdyAnRm91bmQgbW9yZSB0aGFuIDIgc2VsZWN0ZWQgcmVmcmVzaCBpbnRlcnZhbHMnO1xyXG5cdFx0cmV0dXJuIHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkWzBdIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3AgY3VycmVudCBpbnRlcnZhbCBsb29wIGFuZCB1bnNlbGVjdCBjdXJyZW50IGludGVydmFsIGluIFVJLlxyXG5cdCAqL1xyXG5cdGNhbmNlbFJlZnJlc2hJbnRlcnZhbCgpIHtcclxuXHRcdGlmICh0aGlzLnJlZnJlc2hJbnRlcnZhbCkge1xyXG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMucmVmcmVzaEludGVydmFsKTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoSW50ZXJ2YWwgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5hdXRvUmVmcmVzaClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNBcnJheSh0aGlzLmF1dG9SZWZyZXNoLmludGVydmFscykpIHtcclxuXHRcdFx0dGhpcy5hdXRvUmVmcmVzaC5pbnRlcnZhbHMuZm9yRWFjaChpbnRlcnZhbCA9PiB7XHJcblx0XHRcdFx0aW50ZXJ2YWwuc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUb2dnbGUgZGFzaGJvYXJkIGZpbHRlcnMgcGFuZWxcclxuXHQgKi9cclxuXHR0b2dnbGVEYXNoYm9hcmRGaWx0ZXJzKCkge1xyXG5cdFx0aWYgKHRoaXMuaXNGaWx0ZXJzRWRpdEFsbG93ZWQpIHtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudG9nZ2xlRmlsdGVyc1BhbmVsKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBIdWUgcm90YXRlIHRvb2xiYXIgYnRuIGljb25cclxuXHQgKi9cclxuXHRnZXQgaHVlUm90YXRlQnRuSW1hZ2VVcmwoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxScFBhZ2UgKyAnZXh0cmVzPWltYWdlcy5jb2xvcicgKyAoIXRoaXMuaXNIdWVSb3RhdGVFbmFibGVkID8gJy1idycgOiAnJykgKyAnLnBuZyc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBvbmUgY29sdW1uIHZpZXcgcmVxdWlyZWRcclxuXHQgKi9cclxuXHRnZXQgaXNPbmVDb2x1bW5WaWV3KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzT25lQ29sdW1uVmlldygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgZmlsdGVycyBhbGxvd2VkXHJcblx0Ki9cclxuXHRnZXQgaXNGdWxsQWNjZXNzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRnVsbEFjY2VzcygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgZmlsdGVycyBhbGxvd2VkXHJcblx0ICovXHJcblx0Z2V0IGlzRmlsdGVyc0VkaXRBbGxvd2VkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRmlsdGVyc0VkaXRBbGxvd2VkKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzYXZlIGFsbG93ZWRcclxuXHQgKi9cclxuXHRnZXQgaXNTYXZlQWxsb3dlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLm1vZGVsICYmIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU2F2ZUFsbG93ZWRXaXRoSGlkZGVuKCkgJiYgIXRoaXMubW9kZWwudGlsZXNXaXRoSGlkZGVuQ29sdW1ucy5sZW5ndGg7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzYXZlIGFzIGFsbG93ZWRcclxuXHQgKi9cclxuXHRnZXQgaXNTYXZlQXNBbGxvd2VkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMubW9kZWwgJiYgdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTYXZlQXNBbGxvd2VkKCkgJiYgIXRoaXMubW9kZWwudGlsZXNXaXRoSGlkZGVuQ29sdW1ucy5sZW5ndGg7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93IG9yIG5vdCBzYXZlIGNvbnRyb2xzXHJcblx0ICovXHJcblx0Z2V0IGlzU2hvd1NhdmVDb250cm9scygpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbW1vblNldHRpbmdzLnNob3dTYXZlQ29udHJvbHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJcyBcInNhdmUgYXNcIiBidXR0b24gYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGdldCBpc1Nob3dTYXZlQXNUb29sYmFyQnV0dG9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tbW9uU2V0dGluZ3Muc2hvd1NhdmVBc1Rvb2xiYXJCdXR0b247XHJcblx0fVxyXG5cclxuXHRnZXQgaXNTaG93RGVzaWduRGFzaGJvYXJkTGluaygpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbW1vblNldHRpbmdzLnNob3dEZXNpZ25EYXNoYm9hcmRMaW5rO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgZWRpdCBhbGxvd2VkXHJcblx0ICovXHJcblx0Z2V0IGlzUmVhZE9ubHkoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNFZGl0QWxsb3dlZCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgdG9nZ2xlSHVlUm90YXRlRW5hYmxlZFxyXG5cdCAqL1xyXG5cdGdldCBpc1RvZ2dsZUh1ZVJvdGF0ZUVuYWJsZWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0h1ZVJvdGF0ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJhY2tncm91bmQgbW9kYWwgXCJPS1wiIGNsaWNrIGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25CYWNrZ3JvdW5kRGlhbG9nSGFuZGxlck9rKCkge1xyXG5cdFx0dGhpcy5zZWxlY3RCYWNrZ3JvdW5kSW1hZ2VNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0aWYgKHRoaXMuYmFja2dyb3VuZE1vZGFsUmFkaW8gPT09ICdmaWxlJylcclxuXHRcdFx0dGhpcy5zZXRCYWNrZ3JvdW5kSW1hZ2VGcm9tTG9jYWxob3N0KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCYWNrZ3JvdW5kIGZpbGUvdXJsIGNoYW5nZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdCRvbkJhY2tncm91bmRNb2RhbFJhZGlvQ2hhbmdlKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZEltYWdlVHlwZSA9IHRoaXMuYmFja2dyb3VuZE1vZGFsUmFkaW87XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmlsZSBzZWxlY3RlZCBpbiBmaWxlIGlucHV0IGFzIGJhY2tncm91bmRcclxuXHQgKi9cclxuXHRzZXRCYWNrZ3JvdW5kSW1hZ2VGcm9tTG9jYWxob3N0KCkge1xyXG5cdFx0Y29uc3QgJGZpbGVCdG4gPSBhbmd1bGFyLmVsZW1lbnQoJyNpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kJyk7XHJcblx0XHRpZiAod2luZG93LkZpbGUgJiYgd2luZG93LkZpbGVSZWFkZXIgJiYgd2luZG93LkZpbGVMaXN0ICYmIHdpbmRvdy5CbG9iKSB7XHJcblx0XHRcdGlmICgkZmlsZUJ0blswXVsnZmlsZXMnXS5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjb25zdCBmaWxlID0gJGZpbGVCdG5bMF1bJ2ZpbGVzJ11bMF07XHJcblx0XHRcdC8vIHRlc3QgZmlsZSBpbmZvcm1hdGlvblxyXG5cdFx0XHRpZiAoIWZpbGUudHlwZS5tYXRjaCgnaW1hZ2UuKicpKSB7XHJcblx0XHRcdFx0YWxlcnQodGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TaG91bGRCZUltYWdlJywgJ0ZpbGUgc2hvdWxkIGJlIGltYWdlJykpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyByZWFkIHRoZSBmaWxlOlxyXG5cdFx0XHQvLyBUT0RPIFJFQURFUiArIFRZUEVTQ1JJUFQhXHJcblx0XHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblx0XHRcdHJlYWRlci5vbmxvYWQgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG5cdFx0XHRcdHZhciBieXRlcyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZEltYWdlQmFzZTY0ID0gYnl0ZXM7XHJcblx0XHRcdH07XHJcblx0XHRcdC8vcmVhZGVyLm9ubG9hZCA9ICgoKSA9PiB7XHJcblx0XHRcdC8vXHRyZXR1cm4gZXZlbnQgPT4ge1xyXG5cdFx0XHQvL1x0XHR2YXIgYnl0ZXMgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG5cdFx0XHQvL1x0XHR0aGlzLiRpemVuZGFCYWNrZ3JvdW5kU2VydmljZS5iYWNrZ3JvdW5kSW1hZ2VCYXNlNjQgPSBieXRlcztcclxuXHRcdFx0Ly9cdH07XHJcblx0XHRcdC8vfSkoZmlsZSk7XHJcblx0XHRcdC8vIFJlYWQgaW4gdGhlIGltYWdlIGZpbGUgYXMgYSBkYXRhIFVSTC5cclxuXHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXQgaXNCYWNrZ3JvdW5kSW1hZ2VTZXQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZEltYWdlQmFzZTY0IHx8IHRoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmRJbWFnZVVybDtcclxuXHR9XHJcblxyXG5cdHJlbW92ZUJhY2tncm91bmRJbWFnZUhhbmRsZXIoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFCYWNrZ3JvdW5kU2VydmljZS5iYWNrZ3JvdW5kSW1hZ2VCYXNlNjQgPSAnJztcclxuXHRcdHRoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmRJbWFnZVVybCA9ICcnO1xyXG5cdH1cclxuXHJcblx0Ly8gUFJJTlRcclxuXHJcblx0LyoqXHJcblx0ICogSXMgaHRtbCBtb2RlbCBlbmFibGVkIGluIEFkSG9jU2V0dGluZ3NcclxuXHQgKi9cclxuXHRnZXQgaXNQcmludERhc2hib2FyZFZpc2libGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmludE1vZGUgPT09ICdIdG1sJyB8fCB0aGlzLnByaW50TW9kZSA9PT0gJ0h0bWwyUGRmQW5kSHRtbCc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJcyBodG1sMnBkZiBtb2RlIGVuYWJsZWQgaW4gQWRIb2NTZXR0aW5nc1xyXG5cdCAqL1xyXG5cdGdldCBpc1ByaW50RGFzaGJvYXJkUGRmVmlzaWJsZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW50TW9kZSA9PT0gJ0h0bWwyUGRmJyB8fCB0aGlzLnByaW50TW9kZSA9PT0gJ0h0bWwyUGRmQW5kSHRtbCc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJcyBwcmludCBidXR0b24gdmlzaWJsZVxyXG5cdCAqL1xyXG5cdGdldCBpc1ByaW50RHJvcGRvd25WaXNpYmxlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNQcmludERhc2hib2FyZFBkZlZpc2libGUgfHwgdGhpcy5pc1ByaW50RGFzaGJvYXJkVmlzaWJsZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFByaW50IHdob2xlIGRhc2hib2FyZFxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UucHJpbnREYXNoYm9hcmQoJ2h0bWwnKS50aGVuKCgpID0+IHtcclxuXHRcdFx0Ly8gSFRNTCBwcmludCBwcmludCBzdWNjZXNzZnVsbHkgY29tcGxldGVkIGhhbmRsZXJcclxuXHRcdH0sXHJcblx0XHRcdGVycm9yID0+IHtcclxuXHRcdFx0XHRjb25zdCBlcnJvclRpdGxlID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRQcmludFJlcG9ydFRpdGxlJywgJ1JlcG9ydCBwcmludCBlcnJvcicpO1xyXG5cdFx0XHRcdGxldCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFByaW50UmVwb3J0JyxcclxuXHRcdFx0XHRcdCdGYWlsZWQgdG8gcHJpbnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyk7XHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gZXJyb3JUZXh0LnJlcGxhY2VBbGwoJ3swfScsIHRoaXMubW9kZWwucmVwb3J0RnVsbE5hbWUgPyB0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lIDogJycpO1xyXG5cdFx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MX0nLCBlcnJvcik7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0LCBlcnJvclRpdGxlKTtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQcmludCBkYXNoYm9hcmQgYXMgcGRmXHJcblx0ICovXHJcblx0cHJpbnREYXNoYm9hcmRQZGYoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5wcmludERhc2hib2FyZCgncGRmJykudGhlbigoKSA9PiB7XHJcblx0XHRcdC8vIFBERiBwcmludCBwcmludCBzdWNjZXNzZnVsbHkgY29tcGxldGVkIGhhbmRsZXJcclxuXHRcdH0sXHJcblx0XHRcdGVycm9yID0+IHtcclxuXHRcdFx0XHRjb25zdCBlcnJvclRpdGxlID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRQcmludFJlcG9ydFRpdGxlJywgJ1JlcG9ydCBwcmludCBlcnJvcicpO1xyXG5cdFx0XHRcdGxldCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFByaW50UmVwb3J0JyxcclxuXHRcdFx0XHRcdCdGYWlsZWQgdG8gcHJpbnQgcmVwb3J0IFwiezB9XCIuIEVycm9yIGRlc2NyaXB0aW9uOiB7MX0uJyk7XHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gZXJyb3JUZXh0LnJlcGxhY2VBbGwoJ3swfScsIHRoaXMubW9kZWwucmVwb3J0RnVsbE5hbWUgPyB0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lIDogJycpO1xyXG5cdFx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MX0nLCBlcnJvcik7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0LCBlcnJvclRpdGxlKTtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBFTUFJTFxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIHNlbmQgZW1haWwgZGlhbG9nXHJcblx0ICovXHJcblx0c2hvd0VtYWlsTW9kYWwodHlwZSkge1xyXG5cdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUub3BlbmVkID0gdHJ1ZTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuc2VuZFR5cGUgPSB0eXBlO1xyXG5cdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5lbWFpbCA9ICcnO1xyXG5cdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5lcnJvcnMgPSBbXTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZXJyb3JPY2N1cmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZW5kIGVtYWlsIGRpYWxvZyBzaG93biBldmVudC5cclxuXHQgKi9cclxuXHRzZXRGb2N1cygpIHtcclxuXHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLmZvY3VzZWQgPSB0cnVlO1xyXG5cdFx0fSwgMSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBzZW5kIGVtYWlsIGRpYWxvZ1xyXG5cdCAqL1xyXG5cdGhpZGVFbWFpbE1vZGFsKHN1Y2Nlc3MpIHtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5lcnJvck9jY3VyZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5lcnJvcnMgPSBbXTtcclxuXHRcdGlmIChzdWNjZXNzKSB7XHJcblx0XHRcdC8vIE9LIHByZXNzZWRcclxuXHRcdFx0Y29uc3QgaXNFbWFpbFZhbGlkID1cclxuXHRcdFx0XHQvXihbXFx3LV0rKD86XFwuW1xcdy1dKykqKUAoKD86W1xcdy1dK1xcLikqXFx3W1xcdy1dezAsNjZ9KVxcLihbYS16XXsyLDZ9KD86XFwuW2Etel17Mn0pPykkL2kudGVzdCh0aGlzLnNlbmRFbWFpbFN0YXRlXHJcblx0XHRcdFx0XHQuZW1haWwpO1xyXG5cdFx0XHRpZiAoIWlzRW1haWxWYWxpZCkge1xyXG5cdFx0XHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZXJyb3JPY2N1cmVkID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLmVycm9ycy5wdXNoKHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfSW5jb3JyZWN0RW1haWwnLCAnSW5jb3JyZWN0IEVtYWlsJykpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5zZW5kRW1haWwodGhpcy5zZW5kRW1haWxTdGF0ZS5zZW5kVHlwZSwgdGhpcy5zZW5kRW1haWxTdGF0ZS5lbWFpbCkudGhlbihyZXN1bHQgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5vcGVuZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGlmIChyZXN1bHQgPT09ICdPSycpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93Tm90aWZpY2F0aW9uKFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRW1haWxXYXNTZW50JywgJ0VtYWlsICB3YXMgc2VudCcpKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkVG9TZW5kRW1haWwnLCAnRmFpbGVkIHRvIHNlbmQgZW1haWwnKTtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZXJyb3IgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRUb1NlbmRFbWFpbCcsICdGYWlsZWQgdG8gc2VuZCBlbWFpbCcpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhlcnJvclRleHQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGNhbmNlbCBwcmVzc2VkXHJcblx0XHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUub3BlbmVkID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCBkYXNoYm9hcmQgdmlhIGVtYWlsXHJcblx0ICovXHJcblx0c2VuZEVtYWlsKHR5cGUpIHtcclxuXHRcdGlmICh0eXBlID09PSAnTGluaycpIHtcclxuXHRcdFx0aWYgKCF0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lKSB7XHJcblx0XHRcdFx0Y29uc3QgZXJyb3JUZXh0ID1cclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ2FudFNlbmRVbnNhdmVkTGluaycsICdDYW5ub3QgZW1haWwgbGluayB0byB1bnNhdmVkIGRhc2hib2FyZCcpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihlcnJvclRleHQpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgcmVkaXJlY3RVcmwgPVxyXG5cdFx0XHRcdGA/c3ViamVjdD0ke2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lKX0mYm9keT0ke2VuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKX1gO1xyXG5cdFx0XHRyZWRpcmVjdFVybCA9IGBtYWlsdG86JHtyZWRpcmVjdFVybC5yZXBsYWNlKC8gL2csICclMjAnKX1gO1xyXG5cdFx0XHR3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdFVybDtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR0aGlzLnNob3dFbWFpbE1vZGFsKHR5cGUpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgRGFzaGJvYXJkQmFja2dyb3VuZFNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2JhY2tncm91bmQtc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRRdWVyeVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1xdWVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZEdhbGxlcnlTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9nYWxsZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1zdG9yYWdlLXNlcnZpY2UnO1xyXG5cclxuLy8gcmVnaXN0ZXIgc2VydmljZXNcclxuRGFzaGJvYXJkQmFja2dyb3VuZFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhRGFzaGJvYXJkTW9kdWxlKTtcclxuRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYURhc2hib2FyZE1vZHVsZSk7XHJcbkRhc2hib2FyZEdhbGxlcnlTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYURhc2hib2FyZE1vZHVsZSk7XHJcbkRhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYURhc2hib2FyZE1vZHVsZSk7XHJcblxyXG4vLyByZWdpc3RlciBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzXHJcbmltcG9ydCAnZGFzaGJvYXJkL2RpcmVjdGl2ZXMvZGFzaGJvYXJkLWJhY2tncm91bmQnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9kaXJlY3RpdmVzL3RpbGUtdG9wLXNsaWRlcic7XHJcbmltcG9ydCAnZGFzaGJvYXJkL2RpcmVjdGl2ZXMvdG9vbGJhci1mb2xkZXItbWVudS1hY2NvcmRpb24nO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9kaXJlY3RpdmVzL3Rvb2xiYXItbGlua3MtcGFuZWwnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL3RpbGUvdGlsZS1kcmFnZ2FibGUtZGlyZWN0aXZlJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtZmxpcC1kaXJlY3RpdmUnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL3RpbGUvdGlsZS1ob3Zlci1kaXJlY3RpdmUnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL3RpbGUvdGlsZS1yZXNpemFibGUtZGlyZWN0aXZlJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlLWJhY2svdGlsZS1iYWNrLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS90aWxlLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnZGFzaGJvYXJkL2NvbXBvbmVudHMvZmlsdGVyL2ZpbHRlci1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL2dhbGxlcnkvZ2FsbGVyeS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL2Rhc2hib2FyZC9kYXNoYm9hcmQtY29tcG9uZW50JztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy90b29sYmFyL3Rvb2xiYXItY29tcG9uZW50JztcclxuXHJcbiIsImRlY2xhcmUgZ2xvYmFsIHtcclxuXHJcblx0dHlwZSBQcmVkaWNhdGU8VD4gPSAoYXJnOiBUKSA9PiBib29sZWFuO1xyXG5cclxuXHRpbnRlcmZhY2UgQXJyYXk8VD4ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBMSU5RIEZpcnN0T3JEZWZhdWx0IG1ldGhvZCBhbmFsb2cuXHJcblx0XHQgKiBAcGFyYW0gcHJlZGljYXRlIFNlYXJjaCBwcmVkaWNhdGUuXHJcblx0XHQgKiBAcmV0dXJucyB7VCB8IG51bGx9IFJldHVybnMgZmlyc3QgZm91bmQgdmFsdWUgb3IgbnVsbC5cclxuXHRcdCAqL1xyXG5cdFx0Zmlyc3RPckRlZmF1bHQocHJlZGljYXRlOiBQcmVkaWNhdGU8VD4pOiBUO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kIGNvbGxlY3Rpb25cclxuXHRcdCAqIEBwYXJhbSBjb2xsZWN0aW9uXHJcblx0XHQgKi9cclxuXHRcdHB1c2hBbGwoY29sbGVjdGlvbjogQXJyYXk8VD4pOiBBcnJheTxUPjtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpbmQgZmlyc3Qgb2NjdXJlbmNlIGluIGFycmF5J3MgbmVzdGVkIG9iamVjdHMuXHJcblx0XHQgKiBJLmUuIGZvciBhcnJheTpcclxuXHRcdCAqIGNvbnN0IGEgPSBbIHthOjEsIGI6WydhJywnYiddfSwge2E6MTAwLCBiOlsnYWFhJywgJ2QnXX0sIHthOjEwMDAsIGI6WydlJywnYWFhYSddfSBdO1xyXG5cdFx0ICogYS5maXJzdE9yRGVmYXVsdEluSW5uZXIoJ2InLCBiSXRlbSA9PiBiSXRlbS5pbmRleE9mKCdhJykgPj0gMCk7XHJcblx0XHQgKiB3aWxsIHJldHVybiBmaXJzdCB2YWx1ZSBmcm9tIC5iIGFycmF5cyB3aXRoIHN1YnN0cmluZyAnYScuXHJcblx0XHQgKiBAcGFyYW0gaW5uZXJPYmplY3RLZXkgSW5uZXIgY29sbGVjdGlvbiBwcm9wZXJ0eSBuYW1lLlxyXG5cdFx0ICogQHBhcmFtIGlubmVyT2JqZWN0UHJlZGljYXRlIFByZWRpY2F0ZSBmb3Igc2VhcmNoIGFjcm9zcyBpbm5lciBjb2xsZWN0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0Zmlyc3RPckRlZmF1bHRJbklubmVyPEsgZXh0ZW5kcyBrZXlvZiBUPihpbm5lck9iamVjdEtleTogSywgaW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IFRbS107XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGFsbCBvY2N1cmVuY2VzIGluIGFycmF5J3MgbmVzdGVkIG9iamVjdHMuXHJcblx0XHQgKiBJLmUuIGZvciBhcnJheTpcclxuXHRcdCAqIGNvbnN0IGEgPSBbIHthOjEsIGI6WydhJywnYiddfSwge2E6MTAwLCBiOlsnYWFhJywgJ2QnXX0sIHthOjEwMDAsIGI6WydlJywnYWFhYSddfSBdO1xyXG5cdFx0ICogYS5maWx0ZXJJbklubmVyKCdiJywgYkl0ZW0gPT4gYkl0ZW0uaW5kZXhPZignYScpID49IDApO1xyXG5cdFx0ICogd2lsbCByZXR1cm4gYWxsIHZhbHVlcyBmcm9tIC5iIGFycmF5cyB3aXRoIHN1YnN0cmluZyAnYSc6IFsnYScsICdhYWEnLCAnYWFhYSddLlxyXG5cdFx0ICogQHBhcmFtIGlubmVyT2JqZWN0S2V5IElubmVyIGNvbGxlY3Rpb24gcHJvcGVydHkgbmFtZS5cclxuXHRcdCAqIEBwYXJhbSBpbm5lck9iamVjdFByZWRpY2F0ZSBQcmVkaWNhdGUgZm9yIHNlYXJjaCBhY3Jvc3MgaW5uZXIgY29sbGVjdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdGZpbHRlckluSW5uZXI8SyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLCBpbm5lck9iamVjdFByZWRpY2F0ZTogUHJlZGljYXRlPFRbS10+KTogQXJyYXk8VFtLXT47XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgbW9kdWxlIEl6ZW5kYUxpbnEge1xyXG5cclxuXHRBcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHQgPSBmdW5jdGlvbiA8VD4ocHJlZGljYXRlOiBQcmVkaWNhdGU8VD4pOiBUIHtcclxuXHRcdHJldHVybiB0aGlzLnJlZHVjZSgoYWNjdW11bGF0b3I6IFQsIGN1cnJlbnRWYWx1ZTogVCkgPT4ge1xyXG5cdFx0XHRpZighYWNjdW11bGF0b3IgJiYgcHJlZGljYXRlKGN1cnJlbnRWYWx1ZSkpIFxyXG5cdFx0XHRcdGFjY3VtdWxhdG9yID0gY3VycmVudFZhbHVlO1xyXG5cdFx0XHRyZXR1cm4gYWNjdW11bGF0b3I7XHJcblx0XHR9LCBudWxsKTtcclxuXHR9XHJcblxyXG5cdEFycmF5LnByb3RvdHlwZS5wdXNoQWxsID0gZnVuY3Rpb248VD4oY29sbGVjdGlvbjogQXJyYXk8VD4pOiBBcnJheTxUPiB7XHJcblx0XHRpZiAoY29sbGVjdGlvbiA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRjb2xsZWN0aW9uLmZvckVhY2godCA9PiB0aGlzLnB1c2godCkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRBcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHRJbklubmVyID0gZnVuY3Rpb248VCwgSyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLFxyXG5cdFx0aW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IFRbS10gfCBudWxsIHtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgcGFyZW50T2JqZWN0ID0gdGhpc1tpXSBhcyBUO1xyXG5cdFx0XHRpZiAoIXBhcmVudE9iamVjdC5oYXNPd25Qcm9wZXJ0eShpbm5lck9iamVjdEtleSkpXHJcblx0XHRcdFx0dGhyb3cgYEtleSAke2lubmVyT2JqZWN0S2V5fSBub3QgZm91bmQgaW4gb2JqZWN0ICR7cGFyZW50T2JqZWN0fWA7XHJcblxyXG5cdFx0XHRjb25zdCBpbm5lck9iamVjdCA9IHBhcmVudE9iamVjdFtpbm5lck9iamVjdEtleV07XHJcblx0XHRcdGlmIChpbm5lck9iamVjdCAmJiBpbm5lck9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcblx0XHRcdFx0Y29uc3QgZm91bmRJbm5lciA9IGlubmVyT2JqZWN0LmZpcnN0T3JEZWZhdWx0KGlubmVyT2JqZWN0UHJlZGljYXRlKTtcclxuXHRcdFx0XHRpZiAoZm91bmRJbm5lcilcclxuXHRcdFx0XHRcdHJldHVybiBmb3VuZElubmVyO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdEFycmF5LnByb3RvdHlwZS5maWx0ZXJJbklubmVyID0gZnVuY3Rpb248VCwgSyBleHRlbmRzIGtleW9mIFQ+KGlubmVyT2JqZWN0S2V5OiBLLFxyXG5cdFx0aW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IEFycmF5PFRbS10+IHtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5yZWR1Y2UoKHJlc3VsdDogQXJyYXk8VFtLXT4sIGN1cnJlbnRUb3BMZXZlbDogVCkgPT4ge1xyXG5cdFx0XHRpZiAoIWN1cnJlbnRUb3BMZXZlbC5oYXNPd25Qcm9wZXJ0eShpbm5lck9iamVjdEtleSkpXHJcblx0XHRcdFx0dGhyb3cgYEtleSAke2lubmVyT2JqZWN0S2V5fSBub3QgZm91bmQgaW4gb2JqZWN0ICR7Y3VycmVudFRvcExldmVsfWA7XHJcblx0XHRcdGNvbnN0IGlubmVyID0gY3VycmVudFRvcExldmVsW2lubmVyT2JqZWN0S2V5XTtcclxuXHRcdFx0aWYgKGlubmVyICYmIGlubmVyIGluc3RhbmNlb2YgQXJyYXkpXHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdC5jb25jYXQoaW5uZXIuZmlsdGVyKGlubmVyT2JqZWN0UHJlZGljYXRlKSk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9LCBbXSk7XHJcblx0fTtcclxufVxyXG4iLCIvKipcclxuICogVGhpcyBpbnRlcmZhY2UgdXNlZCBmb3IgdGhlIGNvbnZlcnRhdGlvbiBmcm9tL3RvIHNlcnZlci1zaWRlIGpzb24gb2JqZWN0cy5cclxuICogT2JqZWN0IHdpdGggdGhpcyBpbnRlcmZhY2UgYXJlIHVzZWQgYXMgdGhlIHByb21pc2UgcGFyYW1ldGVycyBmb3IgcXVlcnkgbWV0aG9kcy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl6ZW5kYVJhd01vZGVsIHtcclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCByYXcganNvbiAob3IgYW55IG90aGVyIHR5cGUpIGludG8gdGhlIHJhdyBtb2RlbCBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gU291cmNlIHJhdyBvYmplY3QuXHJcblx0ICovXHJcblx0ZnJvbUpzb24oanNvbjogYW55LCAuLi5vcHRpb25hbCk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgdGhpcyBvYmplY3QgaW50byB0aGUgcmF3IGZvcm1hdC5cclxuXHQgKiBAcmV0dXJucyB7YW55fSBSYXcgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnk7XHJcbn0iXX0=
