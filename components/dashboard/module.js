var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
izendaRequire.define("common/core/module-definition", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // create izenda.common.core angular module
    var izendaCoreModule = angular.module('izenda.common.core', ['rx']);
    exports.default = izendaCoreModule;
});
izendaRequire.define("common/core/tools/msie-detect", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MsieDetect = /** @class */ (function () {
        function MsieDetect() {
        }
        MsieDetect.isSpecificIeVersion = function (version, comparison) {
            var ieCompareOperator = 'IE';
            var b = document.createElement('B');
            var docElem = document.documentElement;
            if (version) {
                ieCompareOperator += " " + version;
                if (comparison) {
                    ieCompareOperator = comparison + " " + ieCompareOperator;
                }
            }
            b.innerHTML = "<!--[if " + ieCompareOperator + "]><b id=\"iecctest\"></b><![endif]-->";
            docElem.appendChild(b);
            var isIeResult = !!document.getElementById('iecctest');
            docElem.removeChild(b);
            var docMode = document['documentMode'];
            var isCompatibilityMode = (typeof docMode !== 'undefined' &&
                ((comparison === 'lte' && Number(docMode) <= version) ||
                    (comparison === 'gte' && Number(docMode) >= version) ||
                    (comparison === 'lt' && Number(docMode) < version) ||
                    (comparison === 'gt' && Number(docMode) > version) ||
                    (comparison === 'eq' && Number(docMode) === version)));
            return isIeResult || isCompatibilityMode;
        };
        return MsieDetect;
    }());
    exports.default = MsieDetect;
});
izendaRequire.define("common/core/services/compatibility-service", ["require", "exports", "common/core/tools/msie-detect", "izenda-external-libs"], function (require, exports, msie_detect_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaCompatibilityService = /** @class */ (function () {
        function IzendaCompatibilityService($window) {
            this.$window = $window;
            this.rightNone = 'None';
            this.rightReadOnly = 'Read Only';
            this.rightViewOnly = 'View Only';
            this.rightLocked = 'Locked';
            this.rightFullAccess = 'Full Access';
            this.currentRights = this.rightNone;
            this.ie8 = msie_detect_1.default.isSpecificIeVersion(8, 'lte');
            this.lteIe10 = msie_detect_1.default.isSpecificIeVersion(10, 'lte');
            this.gteIe9 = msie_detect_1.default.isSpecificIeVersion(9, 'gte');
        }
        Object.defineProperty(IzendaCompatibilityService, "injectModules", {
            get: function () {
                return ['$window'];
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.prototype.isIe8 = function () {
            return this.ie8;
        };
        IzendaCompatibilityService.prototype.isIe = function () {
            return this.gteIe9;
        };
        IzendaCompatibilityService.prototype.isLteIe10 = function () {
            return this.lteIe10;
        };
        IzendaCompatibilityService.prototype.isHtml5FullScreenSupported = function () {
            return !this.lteIe10
                && (document['fullscreenEnabled'] || document['webkitFullscreenEnabled'] || document['mozFullScreenEnabled'] || document['msFullscreenEnabled']);
        };
        /**
         * Check is page should have mobile view.
         */
        IzendaCompatibilityService.prototype.isMobile = function () {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        };
        /**
         * Check is page window is too small to fit several columns of tiles.
         */
        IzendaCompatibilityService.prototype.isSmallResolution = function () {
            return this.$window.innerWidth <= 991;
        };
        /**
         * Check if one column view required
         */
        IzendaCompatibilityService.prototype.isOneColumnView = function () {
            return this.isMobile() || this.isSmallResolution();
        };
        ;
        /**
         * Set flag that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.setUsesHiddenColumns = function (value) {
            this.usesHiddenColumns = value;
        };
        /**
         * Get flat that indicates that report with hidden columns is currenly loaded.
         */
        IzendaCompatibilityService.prototype.isUsesHiddenColumns = function () {
            return this.usesHiddenColumns;
        };
        /**
         * Set rights for current dashboard
         */
        IzendaCompatibilityService.prototype.setRights = function (rights) {
            this.currentRights = rights ? rights : this.rightNone;
        };
        /**
         * Get current rights
         */
        IzendaCompatibilityService.prototype.getRights = function () {
            return this.currentRights ? this.currentRights : this.rightNone;
        };
        /**
         * Set full access right as current right.
         */
        IzendaCompatibilityService.prototype.setFullAccess = function () {
            this.setRights(this.rightFullAccess);
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isFullAccess = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is tile editing allowed.
         */
        IzendaCompatibilityService.prototype.isEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isOneColumnView();
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save as allowed
         */
        IzendaCompatibilityService.prototype.isSaveAsAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed with hidden columns
         */
        IzendaCompatibilityService.prototype.isSaveAllowedWithHidden = function () {
            var allowed = [this.rightFullAccess].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        /**
         * Check is save allowed
         */
        IzendaCompatibilityService.prototype.isSaveAllowed = function () {
            return this.isSaveAllowedWithHidden() && !this.usesHiddenColumns;
        };
        /**
         * Check is filters editing allowed
         */
        IzendaCompatibilityService.prototype.isFiltersEditAllowed = function () {
            var allowed = [this.rightFullAccess, this.rightReadOnly, this.rightLocked].indexOf(this.getRights()) >= 0;
            allowed = allowed && !this.isIe8();
            return allowed;
        };
        Object.defineProperty(IzendaCompatibilityService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCompatibilityService.register = function (module) {
            module.service('$izendaCompatibilityService', IzendaCompatibilityService.injectModules.concat(IzendaCompatibilityService));
        };
        return IzendaCompatibilityService;
    }());
    exports.default = IzendaCompatibilityService;
});
izendaRequire.define("common/core/services/event-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaEventService = /** @class */ (function () {
        function IzendaEventService($rootScope, $log) {
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.events = {};
        }
        Object.defineProperty(IzendaEventService, "injectModules", {
            get: function () {
                return ['$rootScope', '$log'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add event to queue.
         */
        IzendaEventService.prototype.queueEvent = function (eventName, eventArguments, clearQueue) {
            if (!(eventName in this.events) || clearQueue) {
                this.events[eventName] = [];
            }
            var eventRecord = {
                args: eventArguments
            };
            this.events[eventName].push(eventRecord);
            this.$log.debug("event \"" + eventName + "\" queued");
            this.$rootScope.$broadcast(eventName, eventArguments);
        };
        /**
         * Retrieve event record from queue and return it's record.
         */
        IzendaEventService.prototype.handleQueuedEvent = function (eventName, scope, eventContext, eventHandler) {
            var _this = this;
            if (!angular.isFunction(eventHandler))
                throw 'eventHandler should be a function';
            if (!(eventName in this.events) || !angular.isArray(this.events[eventName]))
                this.events[eventName] = [];
            while (this.events[eventName].length > 0) {
                var eventRecord = this.events[eventName].shift();
                this.$log.debug("event \"" + eventName + "\" run from queue");
                eventHandler.apply(eventContext, eventRecord.args);
            }
            // start handling event using angular events.
            if (scope.$$listeners) {
                var eventArr = scope.$$listeners[eventName];
                if (eventArr) {
                    for (var i = 0; i < eventArr.length; i++) {
                        if (eventArr[i] === eventHandler) {
                            eventArr.splice(i, 1);
                        }
                    }
                }
            }
            ;
            scope.$on(eventName, function (event, args) {
                _this.$log.debug("event \"" + eventName + "\" run from $on");
                _this.events[eventName] = [];
                eventHandler.apply(eventContext, args);
            });
        };
        /**
         * Clear all queued events (for manual $broadcast handling)
         */
        IzendaEventService.prototype.clearEventQueue = function (eventName) {
            this.events[eventName] = [];
        };
        Object.defineProperty(IzendaEventService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaEventService.register = function (module) {
            module.service('$izendaEventService', IzendaEventService.injectModules.concat(IzendaEventService));
        };
        return IzendaEventService;
    }());
    exports.default = IzendaEventService;
});
izendaRequire.define("common/core/services/localization-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Localization service. Gets localized strings from the "IzLocal" object.
     */
    var IzendaLocalizationService = /** @class */ (function () {
        function IzendaLocalizationService() {
            IzLocal.LocalizePage();
        }
        Object.defineProperty(IzendaLocalizationService, "injectModules", {
            get: function () {
                return [];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get localized text.
         * @param {string} key. Locale string key (defined in resources.aspx)
         * @param {string} defaultValue. Default value, when locale text couldn't be got
         * @returns {string} localized text.
         */
        IzendaLocalizationService.prototype.localeText = function (key, defaultValue) {
            var defaultText = angular.isString(defaultValue) ? defaultValue : '';
            return IzLocal.Res(key, defaultText);
        };
        /**
         * Apply locale string in format "...{0}...{1}..." and apply instead of '{n}' params[n]
         * @param {string} locale text key. This key contains in resources.
         * @param {strong} defaultValue. Default value if locale resource wasn't found.
         * @param {Array} params. Additional params.
         * @returns {string}. Localized text.
         */
        IzendaLocalizationService.prototype.localeTextWithParams = function (key, defaultValue, params) {
            var result = this.localeText(key, defaultValue);
            if (angular.isArray(params))
                params.forEach(function (param, iParam) {
                    return result = result.replaceAll("{" + iParam + "}", param);
                });
            return result;
        };
        Object.defineProperty(IzendaLocalizationService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaLocalizationService.register = function (module) {
            module.service('$izendaLocaleService', IzendaLocalizationService.injectModules.concat(IzendaLocalizationService));
            /**
             * Filter which is used for the applying localization.
             * Sample usage: <div ng-bind=":: 'js_close' | izendaLocale: 'Close'" /> where 'Close' - "defaultValue" parameter value.
             */
            module.filter('izendaLocale', [
                '$izendaLocaleService',
                function ($izendaLocaleService) {
                    return function (text, defaultValue) { return $izendaLocaleService.localeText(text, defaultValue); };
                }
            ]);
        };
        return IzendaLocalizationService;
    }());
    exports.default = IzendaLocalizationService;
});
izendaRequire.define("common/core/services/util-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Utility service. Provides the utility functions.
     */
    var IzendaUtilService = /** @class */ (function () {
        function IzendaUtilService($izendaLocaleService) {
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaUtilService, "injectModules", {
            get: function () {
                return ['$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create human readable variable name version
         * @param {string} text Text
         */
        IzendaUtilService.prototype.humanizeVariableName = function (text) {
            if (!angular.isString(text))
                return text;
            var result = text
                // insert a space between lower & upper
                .replace(/([a-z])([A-Z\d])/g, '$1 $2')
                // space before last upper in a sequence followed by lower
                .replace(/\b([A-Z\d]+)([A-Z\d])([a-z])/, '$1 $2$3')
                // uppercase the first character
                .replace(/^./, function (txt) { return txt.toUpperCase(); });
            return result;
        };
        Object.defineProperty(IzendaUtilService.prototype, "uncategorized", {
            /**
             * "Uncategorized" category localized name getter.
             */
            get: function () {
                return this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get "Uncategorized" category localized name.
         */
        IzendaUtilService.prototype.getUncategorized = function () {
            return this.uncategorized;
        };
        /**
         * Check whether "uncategorized" category or not.
         */
        IzendaUtilService.prototype.isUncategorized = function (category) {
            if (!category || !angular.isString(category))
                return true;
            return category.toLowerCase() === this.uncategorized.toLowerCase();
        };
        /**
         * Check whether categories equal or not.
         * @param {string} cat1 Category name.
         * @param {string} cat2 Category name.
         */
        IzendaUtilService.prototype.isCategoriesEqual = function (cat1, cat2) {
            return (this.isUncategorized(cat1) && this.isUncategorized(cat2)) || cat1 === cat2;
        };
        /**
         * Generate report full name
         * @param {string} reportName report name.
         * @param {string} separator directories separator symbol.
         * @param {string} category report category (optional).
         * @return {string} generated report full name.
         */
        IzendaUtilService.prototype.createReportFullName = function (reportName, separator, category) {
            if (!reportName || reportName.trim() === '')
                throw new Error('Empty "reportName" parameter isn\'t allowed.');
            return this.isUncategorized(category)
                ? reportName
                : category + separator + reportName;
        };
        /**
         * Convert options which have got from server using "GetOptionsByPath" query into
         * one dimentional array, which allow to use it as <option>
         */
        IzendaUtilService.prototype.convertOptionsByPath = function (optionGroups) {
            if (!angular.isArray(optionGroups))
                return [];
            var groups = [];
            optionGroups.forEach(function (group) {
                group.options.forEach(function (option) {
                    option.group = angular.isString(group.name) && group.name !== ''
                        ? group.name
                        : undefined;
                    groups.push(option);
                });
            });
            return groups;
        };
        /**
         * Get option by value from array of objects with "value" property (case insensitive):
         * [{value:'text1',...}, {value:'text2', ...}, ...]
         */
        IzendaUtilService.prototype.getOptionByValue = function (options, value, isLowerCaseComparison) {
            var i = 0;
            if (!angular.isArray(options) || !options.length)
                return null;
            while (i < options.length) {
                var option = options[i];
                if (!isLowerCaseComparison && option.value === value)
                    return option;
                if (isLowerCaseComparison && option.value.toLowerCase() === value.toLowerCase())
                    return option;
                i++;
            }
            return null;
        };
        Object.defineProperty(IzendaUtilService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilService.register = function (module) {
            module.service('$izendaUtilService', IzendaUtilService.injectModules.concat(IzendaUtilService));
        };
        return IzendaUtilService;
    }());
    exports.default = IzendaUtilService;
});
izendaRequire.define("common/core/services/util-ui-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaUtilUiService = /** @class */ (function () {
        function IzendaUtilUiService($timeout, $izendaLocaleService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.notificationHideDelay = 5000;
            this.notificationsIdCounter = 1;
            this.notifications = [];
            this.message = null;
            this.dialogBox = null;
        }
        Object.defineProperty(IzendaUtilUiService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Immediately close notification.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.closeNotification = function (notificationId) {
            var i = 0;
            while (i < this.notifications.length) {
                if (this.notifications[i].id === notificationId) {
                    this.cancelNotificationTimeout(notificationId);
                    this.notifications.splice(i, 1);
                    return;
                }
                i++;
            }
        };
        /**
         * Cancel notification autohide.
         * @param {number} notificationId notification id
         */
        IzendaUtilUiService.prototype.cancelNotificationTimeout = function (notificationId) {
            var itm = this.getNotificationById(notificationId);
            if (itm.timeoutId) {
                this.$timeout.cancel(itm.timeoutId);
                itm.timeoutId = null;
            }
        };
        /**
         *  Shows pop up notification panel. If no <izenda-notification-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} text Message text.
         * @param {string} title Title text (optional).
         * @param {string} icon Icon (optional). Possible values 'error' or no value.
         */
        IzendaUtilUiService.prototype.showNotification = function (text, title, icon) {
            var _this = this;
            var nextId = this.notificationsIdCounter++;
            var iconClass = angular.isString(icon) && icon === 'error' ? 'glyphicon glyphicon-exclamation-sign' : '';
            var objToShow = {
                id: nextId,
                title: title ? title : '',
                text: text,
                iconClass: iconClass,
                timeoutId: null
            };
            objToShow.timeoutId = this.$timeout(function () {
                _this.closeNotification(objToShow.id);
            }, this.notificationHideDelay);
            this.notifications.push(objToShow);
        };
        /**
         * Shows message dialog. If no <izenda-message-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         */
        IzendaUtilUiService.prototype.showMessageDialog = function (message, title, alertInfo) {
            this.message = {
                message: message,
                title: angular.isDefined(title) ? title : '',
                alertInfo: angular.isDefined(alertInfo) ? alertInfo : 'info'
            };
        };
        /**
         * Shows error dialog.
         * @param {string} componentId ID of component. Used for distinguish different similar components.
         * @param {string} message Error text
         * @param {string} title Error title (optional)
         */
        IzendaUtilUiService.prototype.showErrorDialog = function (message, title) {
            var titleText = angular.isDefined(title) ? title : this.$izendaLocaleService.localeText('js_Error', 'Error');
            this.showMessageDialog(message, titleText, 'danger');
        };
        /**
         * Close message dialog.
         */
        IzendaUtilUiService.prototype.closeMessageDialog = function () {
            this.message = null;
        };
        /**
         * Shows dialog box. If no <izenda-dialog-box-component> defined or no components with componentId will be found
         * then nothing will happen.
         * @param {string} message Message text.
         * @param {string} title Title text (optional).
         * @param {string} alertInfo Type of dialog (optional). Possible values: 'success', 'info', 'warning', 'danger'
         * @param {Array} buttons dialog buttons (optional).
         * @param {Array} checkboxes checkboxes collection (optional).
         */
        IzendaUtilUiService.prototype.showDialogBox = function (options) {
            this.dialogBox = {
                message: options.message,
                title: angular.isDefined(options.title) ? options.title : '',
                alertInfo: angular.isDefined(options.alertInfo) ? options.alertInfo : 'info',
                buttons: angular.isDefined(options.buttons) ? options.buttons : [{ text: 'Close' }],
                checkboxes: angular.isDefined(options.checkboxes) ? options.checkboxes : []
            };
        };
        /**
         * Close dialog box
         */
        IzendaUtilUiService.prototype.closeDialogBox = function () {
            this.dialogBox = null;
        };
        IzendaUtilUiService.prototype.getNotificationById = function (id) {
            var found = this.notifications.find(function (n) {
                return n.id === id;
            });
            return found ? found : null;
        };
        Object.defineProperty(IzendaUtilUiService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUtilUiService.register = function (module) {
            module.service('$izendaUtilUiService', IzendaUtilUiService.injectModules.concat(IzendaUtilUiService));
        };
        return IzendaUtilUiService;
    }());
    exports.default = IzendaUtilUiService;
});
izendaRequire.define("common/core/directives/bootstrap-modal", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Bootstrap modal directive. Usage:
     * <izenda-bootstrap-modal opened="...">...</izenda-bootstrap-modal>
     */
    var IzendaBootstrapModalDirective = /** @class */ (function () {
        function IzendaBootstrapModalDirective($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                keyboard: '=',
                backdrop: '=',
                modalSize: '@',
                isModernBootstrapVersion: '@',
                onModalOpened: '&',
                onModalClosed: '&'
            };
            this.template = "\n<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n\t<div class=\"modal-dialog\" ng-class=\"getModalSizeClass()\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div ng-transclude=\"\"></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapModalDirective.prototype.link = function ($directiveScope, $element) {
                $directiveScope.getModalSizeClass = function () { return $directiveScope.modalSize === 'large' ? 'modal-lg' : ''; };
                var $modal = $element.children('.modal');
                if (!$directiveScope.isModernBootstrapVersion) {
                    $modal.css({
                        'overflow-x': 'hidden',
                        'overflow-y': 'scroll'
                    });
                }
                // additional bootstrap parameters
                if ($directiveScope.keyboard != null)
                    $modal.attr('data-keyboard', $directiveScope.keyboard);
                if ($directiveScope.backdrop != null)
                    $modal.attr('data-backdrop', $directiveScope.backdrop);
                // modal show handler
                $modal.on('show.bs.modal', function () {
                    $modal.css('background-color', 'rgba(0,0,0,0.8)');
                    $modal.css('filter', 'alpha(opacity=80)');
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('margin-right', '0');
                        angular.element('body').css('overflow', 'hidden');
                    }
                });
                // modal shown handler
                $modal.on('shown.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'hidden');
                        angular.element('body').scrollTop();
                    }
                    if (angular.isFunction($directiveScope.onModalOpened)) {
                        $directiveScope.onModalOpened({});
                    }
                    $directiveScope.$applyAsync();
                });
                // modal hidden handler
                $modal.on('hidden.bs.modal', function () {
                    if (!$directiveScope.isModernBootstrapVersion) {
                        angular.element('body').css('overflow', 'inherit');
                        angular.element('body').css('margin-right', '0');
                    }
                    $directiveScope.opened = false;
                    if (angular.isFunction($directiveScope.onModalClosed)) {
                        $directiveScope.onModalClosed({});
                    }
                    $directiveScope.$applyAsync();
                });
                $directiveScope.$watch('opened', function (newVal) {
                    // create/hide modal dialog
                    if (newVal)
                        $element.children('.modal')['modal']();
                    else
                        $element.children('.modal')['modal']('hide');
                });
            };
        }
        IzendaBootstrapModalDirective.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapModalDirective($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapModalDirective;
    }());
    module_definition_1.default.directive('izendaBootstrapModal', ['$timeout', IzendaBootstrapModalDirective.factory()]);
});
izendaRequire.define("common/core/directives/utility", ["require", "exports", "angular", "common/core/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Angular filter which replaces string.
     * Usage:
     * {{ 'some string' | izendaReplaceString: [{ from: 's', to: '$' }, { from: 'o', to: '0' } ] }}
     * this sample will produce string '$0me $tring'
     */
    module_definition_2.default.filter('izendaReplaceString', function () {
        return function (text, rules) {
            if (!angular.isArray(rules))
                return text;
            var resultText = text;
            if (!resultText)
                return resultText;
            rules.forEach(function (rule) { return resultText = resultText.replaceAll(rule.from, rule.to); });
            return resultText;
        };
    });
    /**
     * Attribute directive "izenda-scroll-bottom-action=""" which fires handler on container scroll end (-100px).
     * Event: scroll-bottom-action
     */
    var IzendaScrollBottomAction = /** @class */ (function () {
        function IzendaScrollBottomAction() {
            this.restrict = 'A';
            IzendaScrollBottomAction.prototype.link =
                function ($scope, $element, attrs) {
                    var $parent = $element.parent();
                    $parent.on('scroll', function () {
                        var height = $element.height();
                        if (height === 0)
                            return;
                        if (height - $parent.height() - 100 < $parent.scrollTop()) {
                            $scope.$eval(attrs.izendaScrollBottomAction);
                        }
                    });
                };
        }
        IzendaScrollBottomAction.factory = function () {
            return function () { return new IzendaScrollBottomAction(); };
        };
        return IzendaScrollBottomAction;
    }());
    exports.IzendaScrollBottomAction = IzendaScrollBottomAction;
    module_definition_2.default.directive('izendaScrollBottomAction', [IzendaScrollBottomAction.factory()]);
    /**
     * Set focus on element directive.
     * Usage:
     * <some-tag izenda-focus="{{expression_which_returns_bool}}" ...>
     *   ...
     * </some-tag>
     */
    var IzendaFocus = /** @class */ (function () {
        function IzendaFocus($timeout) {
            var _this = this;
            this.$timeout = $timeout;
            this.scope = {
                trigger: '@izendaFocus'
            };
            IzendaFocus.prototype.link = function ($scope, $element) {
                $scope.$watch('trigger', function (value) {
                    if (value)
                        _this.$timeout(function () { return $element[0].focus(); });
                });
            };
        }
        IzendaFocus.factory = function () {
            var directive = function ($timeout) { return new IzendaFocus($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaFocus;
    }());
    module_definition_2.default.directive('izendaFocus', ['$timeout', IzendaFocus.factory()]);
    /**
     * izenda-fit-absolute-element directive.
     */
    var IzendaFitAbsoluteElement = /** @class */ (function () {
        function IzendaFitAbsoluteElement($window, $timeout, $interval) {
            var _this = this;
            this.$window = $window;
            this.$timeout = $timeout;
            this.$interval = $interval;
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link = function ($scope, $element, attrs) {
                var windowResizeEventName = "resize.izendaFitAbsoluteElement." + Math.random();
                var deltaTopString = String(attrs['deltaTop']);
                var deltaTop = parseInt(deltaTopString) || 0;
                var $parent = angular.element($element.parent());
                var topCache = -1;
                var setTop = function () {
                    var $childs = $parent.children('[data-izenda-fit-absolute-element-relative=top]');
                    if ($childs.length === 0)
                        return false;
                    var topHeight = 0;
                    var isSuccess = true;
                    for (var i = 0; i < $childs.length; i++) {
                        var $child = angular.element($childs[i]);
                        var topValue = String($child.attr('data-izenda-fit-absolute-element-relative'));
                        if (topValue === 'top') {
                            var childHeight = $child.height();
                            if (childHeight <= 0)
                                isSuccess = false;
                            topHeight += childHeight;
                        }
                    }
                    if (topHeight > 0 && topCache < 0 || topHeight + deltaTop !== topCache) {
                        topCache = topHeight + deltaTop;
                        $element.css('top', topHeight + deltaTop + 'px');
                    }
                    return isSuccess;
                };
                var setTopUntilSuccess = function () {
                    var attemptCount = 0;
                    if (setTop())
                        return;
                    var toolbarIntervalPromise = _this.$interval(function () {
                        if (setTop() || attemptCount > 50) {
                            _this.$interval.cancel(toolbarIntervalPromise);
                            toolbarIntervalPromise = null;
                            attemptCount = 0;
                        }
                        attemptCount++;
                    }, 100);
                };
                setTopUntilSuccess();
                angular.element(_this.$window).on(windowResizeEventName, function () {
                    setTopUntilSuccess();
                });
                angular.element(_this.$window).on('izendaCustomResize', function () {
                    setTopUntilSuccess();
                });
                // destruction method
                $element.on('$destroy', function () {
                    angular.element(_this.$window).off(windowResizeEventName);
                    angular.element(_this.$window).off('izendaCustomResize');
                });
            };
        }
        IzendaFitAbsoluteElement.factory = function () {
            var directive = function ($window, $timeout, $interval) { return new IzendaFitAbsoluteElement($window, $timeout, $interval); };
            directive.$inject = ['$window', '$timeout', '$interval'];
            return directive;
        };
        return IzendaFitAbsoluteElement;
    }());
    module_definition_2.default.directive('izendaFitAbsoluteElement', IzendaFitAbsoluteElement.factory());
    /**
     * Directive for input element which allows to input only positive integer values.
     */
    var IzendaIntegerInput = /** @class */ (function () {
        function IzendaIntegerInput() {
            this.restrict = 'A';
            IzendaFitAbsoluteElement.prototype.link =
                function ($scope, $element) {
                    $element.on('keydown', function (evt) {
                        var ctrlOrMeta = evt.ctrlKey || evt.metaKey;
                        if ([46, 8, 9, 27, 13].indexOf(evt.keyCode) >= 0 /*Allow: backspace, delete, tab, escape, enter*/
                            || (evt.keyCode === 65 && ctrlOrMeta) /*Allow: Ctrl/cmd+A*/
                            || (evt.keyCode === 67 && ctrlOrMeta) /*Allow: Ctrl/cmd+C*/
                            || (evt.keyCode === 88 && ctrlOrMeta) /*Allow: Ctrl/cmd+X*/
                            || (evt.keyCode >= 35 && evt.keyCode <= 40)) { /*Allow: home, end, left, right*/
                            // let it happen, don't do anything
                            return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((evt.shiftKey || (evt.keyCode < 48 || evt.keyCode > 57)) && (evt.keyCode < 96 || evt.keyCode > 105)) {
                            evt.preventDefault();
                        }
                    });
                };
        }
        IzendaIntegerInput.factory = function () {
            var directive = function () { return new IzendaIntegerInput(); };
            return directive;
        };
        return IzendaIntegerInput;
    }());
    module_definition_2.default.directive('izendaIntegerInput', IzendaIntegerInput.factory());
});
izendaRequire.define("common/core/tools/izenda-component", ["require", "exports", "angular"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // ReSharper disable once InconsistentNaming
    function IzendaComponent(moduleOrName, selector, dependencies, options) {
        return function (controller) {
            var module = typeof (moduleOrName) === 'string' ? angular.module(moduleOrName) : moduleOrName;
            var extendedOptions = angular.copy(options);
            var $inject = controller.$inject = dependencies;
            controller.prototype.$inject = $inject;
            controller.$inject = $inject;
            extendedOptions.controller = dependencies.concat(controller);
            module.component(selector, extendedOptions);
        };
    }
    exports.default = IzendaComponent;
});
izendaRequire.define("common/core/components/dialog-box/dialog-box-component", ["require", "exports", "angular", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, angular, module_definition_3, izenda_component_1, util_ui_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Handle button click.
         */
        IzendaDialogBoxComponent.prototype.onButtonClick = function (button) {
            if (!button)
                return;
            if (angular.isFunction(button.callback)) {
                button.callback(this.$izendaUtilUiService.dialogBox.checkboxes);
            }
            this.closeModal();
        };
        /**
         * Close modal dialog.
         */
        IzendaDialogBoxComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeDialogBox();
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_1.default(module_definition_3.default, 'izendaDialogBoxComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.dialog-box.dialog-box-template.html',
                bindings: {
                    componentId: '@',
                    useGlobalEventListening: '<',
                    opened: '<',
                    title: '<',
                    message: '<',
                    alertInfo: '<',
                    buttons: '<',
                    checkboxes: '<'
                },
            }),
            __metadata("design:paramtypes", [util_ui_service_1.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/components/message/message-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_4, izenda_component_2, localization_service_1, util_ui_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Message component definition
     */
    var IzendaMessageComponent = /** @class */ (function () {
        function IzendaMessageComponent($izendaLocaleService, $izendaUtilUiService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
        }
        /**
         * Close modal dialog.
         */
        IzendaMessageComponent.prototype.closeModal = function () {
            this.$izendaUtilUiService.closeMessageDialog();
        };
        IzendaMessageComponent = __decorate([
            izenda_component_2.default(module_definition_4.default, 'izendaMessageComponent', ['$izendaLocaleService', '$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.message.message-template.html',
                bindings: {},
            }),
            __metadata("design:paramtypes", [localization_service_1.default,
                util_ui_service_2.default])
        ], IzendaMessageComponent);
        return IzendaMessageComponent;
    }());
    exports.default = IzendaMessageComponent;
});
izendaRequire.define("common/core/components/notification/notification-component", ["require", "exports", "common/core/module-definition", "common/core/tools/izenda-component", "common/core/services/util-ui-service", "izenda-external-libs"], function (require, exports, module_definition_5, izenda_component_3, util_ui_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Notification component
     */
    var IzendaDialogBoxComponent = /** @class */ (function () {
        function IzendaDialogBoxComponent($izendaUtilUiService) {
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.notifications = $izendaUtilUiService.notifications;
        }
        /**
         * Close notification.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.closeNotification = function (notification) {
            this.$izendaUtilUiService.closeNotification(notification.id);
        };
        /**
         * Cancel notification autohide.
         * @param {object} notification Notification object.
         */
        IzendaDialogBoxComponent.prototype.cancelNotificationTimeout = function (notification) {
            this.$izendaUtilUiService.cancelNotificationTimeout(notification.id);
        };
        IzendaDialogBoxComponent = __decorate([
            izenda_component_3.default(module_definition_5.default, 'izendaNotificationComponent', ['$izendaUtilUiService'], {
                templateUrl: '###RS###extres=components.common.core.components.notification.notification-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [util_ui_service_3.default])
        ], IzendaDialogBoxComponent);
        return IzendaDialogBoxComponent;
    }());
    exports.default = IzendaDialogBoxComponent;
});
izendaRequire.define("common/core/module", ["require", "exports", "common/core/module-definition", "common/core/services/compatibility-service", "common/core/services/event-service", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/directives/bootstrap-modal", "common/core/directives/utility", "common/core/components/dialog-box/dialog-box-component", "common/core/components/message/message-component", "common/core/components/notification/notification-component"], function (require, exports, module_definition_6, compatibility_service_1, event_service_1, localization_service_2, util_service_1, util_ui_service_4) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    compatibility_service_1.default.register(module_definition_6.default);
    event_service_1.default.register(module_definition_6.default);
    localization_service_2.default.register(module_definition_6.default);
    util_service_1.default.register(module_definition_6.default);
    util_ui_service_4.default.register(module_definition_6.default);
});
izendaRequire.define("common/query/module-definition", ["require", "exports", "angular", "common/core/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaQueryModule = angular.module('izenda.common.query', ['rx', 'izenda.common.core']);
    exports.default = izendaQueryModule;
});
izendaRequire.define("common/query/services/rs-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaRsQueryService = /** @class */ (function () {
        function IzendaRsQueryService($window, $http, $q, $injector, $izendaLocaleService, $izendaUtilUiService) {
            this.$window = $window;
            this.$http = $http;
            this.$q = $q;
            this.$injector = $injector;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.urlSettings = this.$window.urlSettings$;
            this.rsQueryBaseUrl = this.urlSettings.urlRsPage;
            this.requestList = new Array();
        }
        Object.defineProperty(IzendaRsQueryService, "injectModules", {
            get: function () {
                return ['$window', '$http', '$q', '$injector', '$izendaLocaleService', '$izendaUtilUiService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Custom query to the izenda response server
         * @param {any} queryParams Query parameters.
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.rsQuery = function (queryParams, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.customQuery(this.rsQueryBaseUrl, queryParams, options, errorOptions, invalidateInCacheParameter);
        };
        /**
         * Custom query to the izenda API.
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {any} options Query options.
         * @param {any} errorOptions Error options.
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.query = function (wsCmd, wsArgs, options, errorOptions, invalidateInCacheParameter) {
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            // prepare params:
            var params = this.createQueryParametersObject(wsCmd, wsArgs);
            // set default error options if it is not defined:
            var currentErrorOptions = angular.isObject(errorOptions)
                ? errorOptions
                : {
                    handler: function (wsCmd2, wsArgs2) { return "Query: \"" + wsCmd2 + "\" [" + wsArgs2 + "] failed."; },
                    params: [wsCmd, wsArgs]
                };
            return this.rsQuery(params, options, currentErrorOptions, invalidateInCacheParameter);
        };
        /**
         * Query to the izenda API (POST request which returns JSON).
         * @param {string} wsCmd Izenda API command.
         * @param {any[]} wsArgs Izenda API command parameters (wsarg0, wsarg1,...).
         * @param {boolean} invalidateInCacheParameter Do we need to invalidate caches.
         */
        IzendaRsQueryService.prototype.apiQuery = function (wsCmd, wsArgs, invalidateInCacheParameter) {
            var _this = this;
            if (invalidateInCacheParameter === void 0) { invalidateInCacheParameter = false; }
            return this.$q(function (resolve, reject) {
                // check params:
                if (!angular.isString(wsCmd) || wsCmd === '') {
                    reject('Parameter error: wsCmd parameter should be non-empty string.');
                    return;
                }
                if (!angular.isArray(wsArgs)) {
                    reject('Parameter error: wsArgs parameter should be array.');
                    return;
                }
                // create params array
                var params = _this.createQueryParametersObject(wsCmd, wsArgs);
                // run query
                _this.rsQuery(params, { dataType: 'json', method: 'POST' }, null, invalidateInCacheParameter)
                    .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
            });
        };
        /**
         * Cancel all running queries
         * @param {any} options (optional) options.cancelList may set custom queries to cancel.
         */
        IzendaRsQueryService.prototype.cancelAllQueries = function (options) {
            var opts = options || {};
            // queries which we can cancel
            var cancellableQueries = opts.hasOwnProperty('cancelList')
                ? opts['cancelList']
                : this.$injector.get('izenda.common.query.cancellableQueries');
            var count = this.requestList.length;
            var i = 0;
            while (i < this.requestList.length) {
                var request = this.requestList[0];
                var cancel = false;
                if (angular.isArray(cancellableQueries)) {
                    var requestUrl = request.url;
                    var requestParams = request.queryParamsFinal;
                    for (var j = 0; j < cancellableQueries.length; j++) {
                        var cancelRule = cancellableQueries[j];
                        if (angular.isString(cancelRule)) {
                            cancel = cancel || requestUrl.indexOf(cancelRule) >= 0;
                        }
                        else if (angular.isObject(cancelRule)) {
                            if ('wscmd' in cancelRule) {
                                cancel = cancel || requestUrl.indexOf("wscmd=" + cancelRule['wscmd']) >= 0;
                                cancel = cancel || requestParams.hasOwnProperty('wscmd') && requestParams['wscmd'] === cancelRule['wscmd'];
                            }
                        }
                        else {
                            throw "Unknown cancel rule: " + cancelRule;
                        }
                    }
                }
                if (cancel) {
                    request.canceller.resolve();
                    request.resolver.$izendaRsQueryCancelled = false;
                    this.requestList.splice(i, 1);
                }
                else {
                    i++;
                }
            }
            return count - i;
        };
        /**
         * Send post request and receive file attachment.
         * @param {string} method GET/POST
         * @param {string} url Url.
         * @param {any} parameters Url parameters dictionary.
         * @return {angular.IPromise<void>} Promise without parameters.
         */
        IzendaRsQueryService.prototype.downloadFileRequest = function (method, url, parameters) {
            return this.$q(function (resolve) {
                if (typeof (Blob) !== 'undefined') {
                    // post request for download the file
                    var xhr_1 = new XMLHttpRequest();
                    xhr_1.open(method, url, true);
                    xhr_1.responseType = 'arraybuffer';
                    var selfXhr_1 = xhr_1;
                    xhr_1.onload = function (evt) {
                        console.log('downloadFileRequest xhr.onload evt: ', evt);
                        if (selfXhr_1.status !== 200)
                            return;
                        var disposition = xhr_1.getResponseHeader('Content-Disposition');
                        var filename = '';
                        if (disposition && disposition.toLowerCase().indexOf('attachment') !== -1) {
                            var filenameRegex = /[Ff]ilename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;
                            var matches = filenameRegex.exec(disposition);
                            if (matches != null && matches[1])
                                filename = matches[1].replace(/['"]/g, '');
                        }
                        var type = xhr_1.getResponseHeader('Content-Type');
                        var blob = new Blob([selfXhr_1.response], { type: type });
                        if (typeof window.navigator.msSaveBlob !== 'undefined') {
                            // IE workaround for "HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. 
                            // These URLs will no longer resolve as the data backing the URL has been freed."
                            window.navigator.msSaveBlob(blob, filename);
                            resolve();
                        }
                        else {
                            var urlFunc_1 = window.URL || window['webkitURL'];
                            var downloadUrl = urlFunc_1.createObjectURL(blob);
                            if (filename) {
                                // use HTML5 a[download] attribute to specify filename
                                var linkElement = document.createElement('a');
                                // safari doesn't support this yet
                                if (typeof linkElement.download === 'undefined') {
                                    window.location.href = downloadUrl;
                                }
                                else {
                                    linkElement.href = downloadUrl;
                                    linkElement.target = '_blank';
                                    linkElement.download = filename;
                                    document.body.appendChild(linkElement);
                                    linkElement.click();
                                    document.body.removeChild(linkElement);
                                }
                            }
                            else {
                                window.location.href = downloadUrl;
                            }
                            setTimeout(function () {
                                urlFunc_1.revokeObjectURL(downloadUrl);
                                resolve();
                            }, 100); // cleanup
                        }
                    };
                    xhr_1.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                    if (method.toLowerCase() === 'post')
                        xhr_1.send(angular.element.param(parameters || {}));
                    else if (method.toLowerCase() === 'get')
                        xhr_1.send();
                    else
                        throw "Unsupported request method: " + method;
                }
                else {
                    if (method.toLowerCase() === 'post') {
                        // old browser post request
                        var form = document.createElement('form');
                        form.action = url;
                        form.method = method;
                        form.target = '_blank';
                        if (parameters)
                            for (var key in parameters)
                                if (parameters.hasOwnProperty(key)) {
                                    var input = document.createElement('textarea');
                                    input.name = key;
                                    input.value = typeof parameters[key] === 'object' ? JSON.stringify(parameters[key]) : parameters[key];
                                    form.appendChild(input);
                                }
                        form.style.display = 'none';
                        document.body.appendChild(form);
                        form.submit();
                        document.body.removeChild(form);
                    }
                    else {
                        // old browser get request
                        var linkElement2 = document.createElement('a');
                        linkElement2.href = url;
                        linkElement2.target = '_blank';
                        document.body.appendChild(linkElement2);
                        linkElement2.click();
                        document.body.removeChild(linkElement2);
                    }
                    resolve();
                }
            });
        };
        /**
         * Do query to custom url
         */
        IzendaRsQueryService.prototype.customQuery = function (baseUrl, queryParams, options, errorOptions, invalidateInCacheParameter) {
            var _this = this;
            var queryParamsFinal = angular.copy(queryParams);
            // apply izendaPageId$
            if (typeof (window['izendaPageId$']) !== 'undefined')
                queryParamsFinal['izpid'] = window['izendaPageId$'];
            if (typeof (window['angularPageId$']) !== 'undefined')
                queryParamsFinal['anpid'] = window['angularPageId$'];
            var isPost = options && options.method === 'POST';
            var postData = {};
            var url = baseUrl;
            if (!isPost) {
                // GET request url:
                var kvStrings = [];
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        kvStrings.push(paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]));
                if (invalidateInCacheParameter)
                    kvStrings.push('iic=1');
                url += "?" + kvStrings.join('&');
            }
            else {
                // POST request params string:
                var postParamsString = 'urlencoded=true';
                for (var paramName in queryParamsFinal)
                    if (queryParamsFinal.hasOwnProperty(paramName))
                        postParamsString += "&" + paramName + "=" + encodeURIComponent(queryParamsFinal[paramName]);
                postData = {
                    data: postParamsString
                };
                if (invalidateInCacheParameter)
                    url += '?iic=1';
            }
            // create promises
            var canceler = this.$q.defer();
            var resolver = this.$q.defer();
            resolver['$izendaRsQueryCancelled'] = true;
            resolver['errorOptions'] = angular.isObject(errorOptions) ? errorOptions : null;
            // prepare request optinos
            var dataType = angular.isDefined(options) && angular.isString(options.dataType)
                ? options.dataType
                : 'text';
            var contentType = 'text/html';
            if (dataType === 'json')
                contentType = 'text/json';
            url = getAppendedUrl(url, queryParamsFinal);
            var requestId = (+new Date).toString() + '_' + Math.floor(Math.random() * 1000000).toString(); // pseudo random UID.
            var reqHeaders = {};
            reqHeaders['Content-Type'] = contentType;
            var req = {};
            req.method = 'GET';
            req.url = url;
            req.headers = reqHeaders;
            req.timeout = canceler.promise;
            if (angular.isObject(options)) {
                angular.extend(req, options);
            }
            angular.extend(req, postData); // it is empty for http GET requests
            // custom
            req['requestId'] = requestId;
            req['queryParamsFinal'] = queryParamsFinal;
            // add request to requestList
            this.requestList.push(new RequestListItem(requestId, url, queryParamsFinal, canceler, resolver));
            // run query
            this.$http(req).then(function (response) {
                // handle success
                _this.removeRequest(response.config['requestId']);
                if (!angular.isObject(response)) {
                    // resolve non-object responses
                    resolver.resolve(response);
                    return;
                }
                // object response
                var data = response.data;
                if (angular.isObject(data) && angular.isString(data['izendaQueryStatus'])) {
                    // API query result
                    if (data['izendaQueryStatus'] === 'ok')
                        resolver.resolve(data['result']);
                    else if (data['izendaQueryStatus'] === 'error')
                        resolver.reject(data['error']);
                    else
                        resolver.reject('Unknown izendaQueryStatus: ' + data['izendaQueryStatus']);
                }
                else {
                    // Non-API json query result
                    resolver.resolve(data);
                }
            }, function (response) {
                // handle request error
                _this.removeRequest(response.config.requestId);
                var needToReject = true;
                var errorText;
                if (resolver['errorOptions'] != null) {
                    needToReject = false;
                    errorText = resolver['errorOptions'].handler.apply(response, resolver['errorOptions'].params ? resolver['errorOptions'].params : []);
                }
                else if (response.message)
                    errorText = response.message;
                else if (response.config)
                    errorText = _this.$izendaLocaleService.localeText('js_QueryFailed', 'Query failed') + ': ' + JSON.stringify(response.config);
                else
                    errorText = _this.$izendaLocaleService.localeText('localeVariable', 'An unknown error occurred.');
                if (resolver['$izendaRsQueryCancelled']) {
                    if (needToReject)
                        resolver.reject(errorText);
                    else
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                }
            });
            return resolver.promise;
        };
        /**
         * Remove request from array
         */
        IzendaRsQueryService.prototype.removeRequest = function (requestId) {
            var foundIndex = -1;
            var i = 0;
            while (foundIndex < 0 && i < this.requestList.length) {
                if (this.requestList[i].requestId === requestId) {
                    foundIndex = i;
                }
                i++;
            }
            if (foundIndex >= 0) {
                this.requestList.splice(foundIndex, 1);
            }
        };
        IzendaRsQueryService.prototype.createQueryParametersObject = function (wsCmd, wsArgs) {
            var params = {
                'wscmd': wsCmd
            };
            // add wsargN=... parameters into params variable.
            if (wsArgs && wsArgs.length)
                params = wsArgs.reduce(function (currentParams, wsArg, wsArgIdx) {
                    currentParams["wsarg" + wsArgIdx] = typeof (wsArg) !== 'undefined' && wsArg != null ? wsArg : '';
                    return currentParams;
                }, params);
            return params;
        };
        Object.defineProperty(IzendaRsQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaRsQueryService.register = function (module) {
            module.constant('izenda.common.query.cancellableQueries', [{
                    wscmd: 'loadDashboardConfigNew' // load dashboard layout query
                }, {
                    wscmd: 'getDashboardCategoriesNew'
                }, {
                    wscmd: 'getDashboardTilePreviewNew' // load tile html query
                }, {
                    wscmd: 'getCrsSchedule'
                }, {
                    wscmd: 'getCrsShare'
                }])
                .service('$izendaRsQueryService', IzendaRsQueryService.injectModules.concat(IzendaRsQueryService));
        };
        return IzendaRsQueryService;
    }());
    exports.default = IzendaRsQueryService;
    var RequestListItem = /** @class */ (function () {
        function RequestListItem(requestId, url, queryParamsFinal, canceller, resolver) {
            this.requestId = requestId;
            this.url = url;
            this.queryParamsFinal = queryParamsFinal;
            this.canceller = canceller;
            this.resolver = resolver;
        }
        return RequestListItem;
    }());
    exports.RequestListItem = RequestListItem;
});
izendaRequire.define("common/common-module-definition", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    String.prototype.replaceAll = function (search, replacement) {
        var target = this;
        if (typeof search !== 'string' || search === '')
            return this;
        return target.split(search).join(replacement);
    };
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    var IzendaCommonLoader = /** @class */ (function () {
        function IzendaCommonLoader() {
        }
        IzendaCommonLoader.loadSettings = function () {
            var deferredObject = angular.element.Deferred();
            var urlSettings = window.urlSettings$;
            var rsPageUrl = urlSettings.urlRsPage;
            var settingsUrl = rsPageUrl + '?wscmd=getCommonSettings';
            // load common settings:
            angular.element.get(settingsUrl, function (configJson) {
                var configObject = configJson;
                angular
                    .module('izenda.common.core')
                    .constant('$izendaCommonSettings', configObject);
                deferredObject.resolve();
            });
            return deferredObject.promise();
        };
        return IzendaCommonLoader;
    }());
    exports.IzendaCommonLoader = IzendaCommonLoader;
});
izendaRequire.define("common/query/services/settings-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DateTimeFormat = /** @class */ (function () {
        function DateTimeFormat(longDate, longTime, shortDate, shortTime, timeFormatForInnerIzendaProcessing, // this time format used in method DateLocToUs for saving filters.
        showTimeInFilterPickers, defaultFilterDateFormat) {
            this.longDate = longDate;
            this.longTime = longTime;
            this.shortDate = shortDate;
            this.shortTime = shortTime;
            this.timeFormatForInnerIzendaProcessing = timeFormatForInnerIzendaProcessing;
            this.showTimeInFilterPickers = showTimeInFilterPickers;
            this.defaultFilterDateFormat = defaultFilterDateFormat;
        }
        return DateTimeFormat;
    }());
    exports.DateTimeFormat = DateTimeFormat;
    var IzendaQuerySettingsService = /** @class */ (function () {
        function IzendaQuerySettingsService($izendaUtilService, $izendaCommonSettings) {
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaCommonSettings = $izendaCommonSettings;
            // initialize formats
            this.defaultDateFormat = new DateTimeFormat('dddd, MMMM DD, YYYY', 'h:mm:ss A', 'MM/DD/YYYY', 'h:mm A', 'HH:mm:ss', false, 'MM/DD/YYYY' + ($izendaCommonSettings.showTimeInFilterPickers ? ' HH:mm:ss' : ''));
            var format = this.defaultDateFormat;
            this.dateFormat = new DateTimeFormat(format.longDate, format.longTime, format.shortDate, format.shortTime, format.timeFormatForInnerIzendaProcessing, format.showTimeInFilterPickers, '');
            this.dateFormat.longDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatLong);
            this.dateFormat.longTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatLong);
            this.dateFormat.shortDate = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.dateFormatShort);
            this.dateFormat.shortTime = this.convertDotNetTimeFormatToMoment($izendaCommonSettings.timeFormatShort);
            this.dateFormat.showTimeInFilterPickers = $izendaCommonSettings.showTimeInFilterPickers;
            this.dateFormat.defaultFilterDateFormat = this.dateFormat.shortDate +
                ($izendaCommonSettings.showTimeInFilterPickers ? " " + this.dateFormat.longTime : '');
            // culture
            this.culture = $izendaCommonSettings.culture;
            if (this.culture.indexOf('-') > 0)
                this.culture = this.culture.substring(0, this.culture.indexOf('-'));
            // bulk csv
            this.bulkCsv = false;
            if (typeof $izendaCommonSettings.bulkCsv != 'undefined')
                this.bulkCsv = $izendaCommonSettings.bulkCsv;
            // category character
            this.categoryCharacter = '\\';
            if (typeof $izendaCommonSettings.categoryCharacter != 'undefined')
                this.categoryCharacter = $izendaCommonSettings.categoryCharacter;
        }
        Object.defineProperty(IzendaQuerySettingsService, "injectModules", {
            get: function () {
                return ['$izendaUtilService', '$izendaCommonSettings'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Default date formats
         * @returns {DateTimeFormat}
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormat = function () {
            return this.defaultDateFormat;
        };
        /**
         * Default format string (en-US). This format used for sending dates to the server.
         * @param {string} customDateFormatString. Alternative date format if required.
         */
        IzendaQuerySettingsService.prototype.getDefaultDateFormatString = function (customDateFormatString) {
            var showTime = this.$izendaCommonSettings.showTimeInFilterPickers;
            var timeFormatString = showTime ? ' ' + this.defaultDateFormat.timeFormatForInnerIzendaProcessing : '';
            var dateFormatString = this.defaultDateFormat.shortDate;
            if (angular.isString(customDateFormatString) && customDateFormatString.trim() !== '') {
                dateFormatString = customDateFormatString;
            }
            return dateFormatString + timeFormatString;
        };
        /**
         * Convert .net date time format string to momentjs format string.
         * @param {string} format .net format string
         * @returns {string} momentjs format string
         */
        IzendaQuerySettingsService.prototype.convertDotNetTimeFormatToMoment = function (format) {
            var converter = izenda.utils.date.formatConverter;
            return converter.convert(format, converter.dotNet, converter.momentJs);
        };
        /**
        * Get common settings
        */
        IzendaQuerySettingsService.prototype.getCommonSettings = function () {
            return this.$izendaCommonSettings;
        };
        /**
         * Get date format.
         */
        IzendaQuerySettingsService.prototype.getDateFormat = function () {
            return this.dateFormat;
        };
        /**
         * Get current page culture.
         */
        IzendaQuerySettingsService.prototype.getCulture = function () {
            return this.culture;
        };
        /**
         * Get "bulk csv" CSV export mode enabled.
         */
        IzendaQuerySettingsService.prototype.getBulkCsv = function () {
            return this.bulkCsv;
        };
        IzendaQuerySettingsService.prototype.getCategoryCharacter = function () {
            return this.categoryCharacter;
        };
        IzendaQuerySettingsService.prototype.getReportFullName = function (reportName, reportCategory) {
            var result = null;
            if (reportName) {
                result = '';
                if (!this.$izendaUtilService.isUncategorized(reportCategory))
                    result = reportCategory + this.getCategoryCharacter();
                result += reportName;
            }
            return result;
        };
        Object.defineProperty(IzendaQuerySettingsService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaQuerySettingsService.register = function (module) {
            module.service('$izendaSettingsService', IzendaQuerySettingsService.injectModules.concat(IzendaQuerySettingsService));
        };
        return IzendaQuerySettingsService;
    }());
    exports.default = IzendaQuerySettingsService;
});
izendaRequire.define("common/query/services/common-query-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * This service provides API query methods.
     */
    var IzendaCommonQueryService = /** @class */ (function () {
        function IzendaCommonQueryService($izendaRsQueryService, $izendaLocaleService) {
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaLocaleService = $izendaLocaleService;
        }
        Object.defineProperty(IzendaCommonQueryService, "injectModules", {
            get: function () {
                return ['$izendaRsQueryService', '$izendaLocaleService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Used for refresh session timeout
         */
        IzendaCommonQueryService.prototype.ping = function () {
            return this.$izendaRsQueryService.query('ping', [], { dataType: 'text' });
        };
        /**
         * Create new dashboard report set and set it as CurrentReportSet
         */
        IzendaCommonQueryService.prototype.newDashboard = function () {
            var _this = this;
            return this.$izendaRsQueryService.query('newcrs', ['DashboardDesigner'], { dataType: 'json' }, {
                handler: function () { return _this.$izendaLocaleService.localeText('js_DashboardCreateError', 'Failed to create new dashboard'); },
                params: []
            });
        };
        /**
         * Check report set is exist. Returns promise with 'true' value if exists
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.checkReportSetExist = function (reportSetFullName) {
            if (!angular.isString(reportSetFullName) || reportSetFullName.trim() === '')
                throw new Error('reportSetFullName should be non empty string');
            var errorText = this.$izendaLocaleService.localeText('js_DashboardCheckExistError', 'Failed to check dashboard exist');
            return this.$izendaRsQueryService.query('checkreportsetexists', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Set AdHocContext current report set
         * @param {string} reportSetFullName Report set full name for check.
         */
        IzendaCommonQueryService.prototype.setCrs = function (reportSetFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_SetCrsError', 'Failed to set current report set');
            return this.$izendaRsQueryService.query('setcurrentreportset', [reportSetFullName], { dataType: 'text' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportSetFullName]
            });
        };
        /**
         * Get report list by category
         * @param {string} category category name.
         */
        IzendaCommonQueryService.prototype.getReportSetCategory = function (category) {
            var categoryStr = angular.isDefined(category)
                ? (category.toLowerCase() === this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized').toLowerCase()
                    ? ''
                    : category)
                : '';
            var errorText = this.$izendaLocaleService.localeText('js_GetCategoryError', 'Failed to get reports for category');
            return this.$izendaRsQueryService.query('reportlistdatalite', [categoryStr], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [category]
            });
        };
        /**
         * Get report parts
         * @param {string} reportFullName Report full name (xxx@aaa\bbb).
         */
        IzendaCommonQueryService.prototype.getReportParts = function (reportFullName) {
            var errorText = this.$izendaLocaleService.localeText('js_ReportPartsError', 'Failed to get report parts for report');
            return this.$izendaRsQueryService.query('reportdata', [reportFullName], { dataType: 'json' }, {
                handler: function (name) { return errorText + ": " + name; },
                params: [reportFullName]
            });
        };
        /**
         * Get data which needed for schedule
         * @param {number} clientTimezoneOffset Default timezone.
         */
        IzendaCommonQueryService.prototype.getScheduleData = function (clientTimezoneOffset) {
            return this.$izendaRsQueryService.query('getCrsSchedule', [String(clientTimezoneOffset)], { dataType: 'json' }, {
                handler: function () { return 'Failed to get schedule data'; },
                params: []
            });
        };
        /**
         * Get data which needed for schedule
         * @param {boolean} defaultShareConfig If true - share config will get from new empty reportset, false - from current report set.
         */
        IzendaCommonQueryService.prototype.getShareData = function (defaultShareConfig) {
            return this.$izendaRsQueryService.query('getCrsShare', [defaultShareConfig ? 'true' : 'false'], { dataType: 'json' }, {
                handler: function () { return 'Failed to get share data'; },
                params: []
            });
        };
        Object.defineProperty(IzendaCommonQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaCommonQueryService.register = function (module) {
            module.service('$izendaCommonQueryService', IzendaCommonQueryService.injectModules.concat(IzendaCommonQueryService));
        };
        return IzendaCommonQueryService;
    }());
    exports.default = IzendaCommonQueryService;
});
izendaRequire.define("common/query/services/ping-service", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaPingService = /** @class */ (function () {
        function IzendaPingService($timeout, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.minute = 60 * 1000;
            this.defaultTimeout = 15 * this.minute; // default timeout - 15 minutes.
            this.timeout = -1;
            this.pingTimer = null;
        }
        Object.defineProperty(IzendaPingService, "injectModules", {
            get: function () {
                return ['$timeout', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Stop ping queries
         */
        IzendaPingService.prototype.stopPing = function () {
            if (this.pingTimer !== null) {
                this.$timeout.cancel(this.pingTimer);
                this.pingTimer = null;
            }
        };
        /**
         * Make ping iteration and create timeout for next iteration.
         */
        IzendaPingService.prototype.ping = function () {
            var _this = this;
            // cancel previous timer:
            this.stopPing();
            // hint: start immediately if timeout variable wasn't set.
            this.pingTimer = this.$timeout(function () {
                _this.$izendaCommonQueryService.ping().then(function (data) {
                    // set timeout
                    _this.timeout = (data > 0)
                        ? Math.round(data * 0.75 * _this.minute)
                        : _this.defaultTimeout;
                    _this.ping();
                });
            }, this.timeout >= 0 ? this.timeout : 0);
        };
        /**
         * Start ping queries
         */
        IzendaPingService.prototype.startPing = function () {
            this.ping();
        };
        Object.defineProperty(IzendaPingService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaPingService.register = function (module) {
            module.service('$izendaPingService', IzendaPingService.injectModules.concat(IzendaPingService));
        };
        return IzendaPingService;
    }());
    exports.default = IzendaPingService;
});
izendaRequire.define("common/query/services/url-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLocationModel = /** @class */ (function () {
        function IzendaLocationModel() {
            this.fullName = null;
            this.category = null;
            this.name = null;
            this.isNew = false;
        }
        IzendaLocationModel.fromJson = function (json) {
            var location = new IzendaLocationModel();
            location.fullName = json.fullName || null;
            location.category = json.category || null;
            location.name = json.name || null;
            location.isNew = !!json.isNew;
            return location;
        };
        return IzendaLocationModel;
    }());
    exports.IzendaLocationModel = IzendaLocationModel;
    var IzendaUrlService = /** @class */ (function () {
        function IzendaUrlService(rx, $window, $izendaSettingsService, $izendaPingService, $izendaUtilService) {
            var _this = this;
            this.rx = rx;
            this.$window = $window;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaPingService = $izendaPingService;
            this.$izendaUtilService = $izendaUtilService;
            this.settings = $window.urlSettings$;
            this.reportNameInfo = this.getLocation();
            this.location = new this.rx.BehaviorSubject(this.reportNameInfo);
            // subscribe on location change:
            window.onpopstate = function (event) {
                if (event.state && (event.state.rn || event.state.new)) {
                    _this.locationChangedHandler();
                }
            };
            // start ping
            this.$izendaPingService.startPing();
        }
        Object.defineProperty(IzendaUrlService, "injectModules", {
            get: function () {
                return ['rx',
                    '$window',
                    '$izendaSettingsService',
                    '$izendaPingService',
                    '$izendaUtilService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Set report name and category to location
         * @param {IzendaLocationModel} locationInfo location object
         */
        IzendaUrlService.prototype.setLocation = function (locationInfo) {
            if (!angular.isObject(locationInfo))
                throw new Error('"locationInfo" parameter should be object');
            // if is new
            if (locationInfo.isNew) {
                this.setUrl({ isNew: '1' }, { new: true });
                this.locationChangedHandler();
                return;
            }
            // navigate to existing report
            this.setUrl({ rn: locationInfo.fullName.replaceAll(' ', '+') }, { rn: locationInfo.fullName });
            this.locationChangedHandler();
        };
        /**
         * Change url if possible, otherwise reload the page with new url.
         * @param {any} params - url params object.
         * @param {any} additionalParams - additional params for pushState.
         */
        IzendaUrlService.prototype.setUrl = function (params, additionalParams) {
            var previousUrlParams = this.getUrlParams(window.location.href);
            var isRnOldExist = angular.isString(previousUrlParams.rn);
            var isRnNewExist = angular.isString(params.rn) && params.rn !== '';
            var rnOld = isRnOldExist ? 'rn=' + previousUrlParams.rn.replaceAll(' ', '+') : '';
            var rnNew = isRnNewExist ? 'rn=' + params.rn.replaceAll(' ', '+') : '';
            var isNewOldExist = angular.isString(previousUrlParams.isNew);
            var isNewNewExist = angular.isString(params.isNew);
            if (isRnOldExist && isRnNewExist && rnOld === rnNew)
                // same rn
                return;
            if (isNewOldExist && isNewNewExist)
                // same isNew
                return;
            if (isRnNewExist && isNewNewExist)
                throw 'Incorrect params: both "rn" and "isNew" defined.';
            var newPath = window.location.pathname;
            var newParams = window.location.search ? window.location.search : '?';
            if (isNewNewExist) {
                // go to new report
                // remove rn
                newParams = newParams.replaceAll(rnOld, '');
                newParams += (newParams.endsWith('?') ? '' : '&') + 'isNew=1';
            }
            else if (isRnNewExist) {
                // go to existing report
                // remove isNew
                newParams = newParams.replaceAll('isNew=1', '');
                if (isRnOldExist)
                    newParams = newParams.replaceAll(rnOld, rnNew);
                else
                    newParams += (newParams.endsWith('?') ? '' : '&') + rnNew;
            }
            newParams = newParams.replaceAll('?&', '?');
            newParams = newParams.replaceAll('&&', '&');
            // navigate new url
            var newUrl = newPath + newParams;
            if (this.$window.history && this.$window.history.pushState) {
                this.$window.history.pushState(additionalParams, document.title, newUrl);
            }
            else
                window.location.href = newUrl;
        };
        /**
         * Returns report full name (category delimiter: $izendaSettingsService.getCategoryCharacter())
         * @return {IzendaLocationModel} current location model.
         */
        IzendaUrlService.prototype.getLocation = function () {
            this.settings = new UrlSettings(); // retrieve current url settings
            var reportInfo = this.settings.reportInfo;
            // existing report
            if (reportInfo.fullName)
                return IzendaLocationModel.fromJson(reportInfo);
            // isNew
            var result = new IzendaLocationModel();
            result.isNew = reportInfo.isNew;
            return result;
        };
        ;
        /**
         * Set report name and category to location.
         * @param {string} fullName Report full name.
         */
        IzendaUrlService.prototype.setReportFullName = function (fullName) {
            this.setLocation({
                fullName: fullName,
                name: this.extractReportName(fullName),
                category: this.extractReportCategory(fullName),
                isNew: false
            });
        };
        ;
        /**
         * Go to "new"
         */
        IzendaUrlService.prototype.setIsNew = function () {
            this.setLocation({
                fullName: null,
                name: null,
                category: null,
                isNew: true
            });
        };
        ;
        /**
         * Handler, which reacts on page load and $location change.
         */
        IzendaUrlService.prototype.locationChangedHandler = function () {
            // update url settings object because url has changed
            this.settings = new UrlSettings();
            // cancel all current queries
            //const countCancelled = this.$izendaRsQueryService.cancelAllQueries();
            //if (countCancelled > 0)
            //	this.$log.debug(`>>> Cancelled ${countCancelled} queries`);
            // set current report set if location has changed
            var newLocationModel = this.getLocation();
            if (newLocationModel.fullName !== this.reportNameInfo.fullName || newLocationModel.isNew !== this.reportNameInfo.isNew) {
                this.reportNameInfo = newLocationModel;
                this.location.onNext(this.reportNameInfo);
            }
        };
        ;
        /**
         * Create filter parameters url part using current filterParameters from UrlSettings object.
         * @return {string} Url parameters string: '&p1=v1&p2=v2...&pN=vN'.
         */
        IzendaUrlService.prototype.getFilterParamsString = function () {
            var requestString = '';
            if (this.settings.filterParameters.length > 0) {
                for (var i = 0; i < this.settings.filterParameters.length; i++) {
                    var paramObject = this.settings.filterParameters[i];
                    requestString += "&" + paramObject[0] + "=" + encodeURIComponent(paramObject[1]);
                }
            }
            return requestString;
        };
        /**
         * Extract report name from category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report name without category.
         */
        IzendaUrlService.prototype.extractReportName = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var parts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            return parts[parts.length - 1];
        };
        /**
         * Extract report category from "category\report full name
         * @param {string} fullName Report full name.
         * @return {string} report category.
         */
        IzendaUrlService.prototype.extractReportCategory = function (fullName) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report category from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var reportFullNameParts = fullName.split(this.$izendaSettingsService.getCategoryCharacter());
            var category;
            if (reportFullNameParts.length >= 2)
                category = reportFullNameParts.slice(0, reportFullNameParts.length - 1).join(this.$izendaSettingsService.getCategoryCharacter());
            else
                category = this.$izendaUtilService.getUncategorized();
            return category;
        };
        ;
        /**
         * Extract report name, category, report set name for report part.
         * @param {string} fullName Report full name.
         * @return {any} report parts object.
         */
        IzendaUrlService.prototype.extractReportPartNames = function (fullName, isPartNameAtRight) {
            if (!angular.isString(fullName) || fullName === '')
                throw "Can't extract report part name from object \"" + JSON.stringify(fullName) + "\" with type " + typeof (fullName);
            var result = {
                reportPartName: null,
                reportFullName: fullName,
                reportSetName: null,
                reportName: null,
                reportCategory: null,
                reportNameWithCategory: null
            };
            // extract report part name
            var reportSetName = fullName;
            if (fullName.indexOf('@') >= 0) {
                var parts = fullName.split('@');
                if (!angular.isUndefined(isPartNameAtRight) && isPartNameAtRight) {
                    reportSetName = parts[0], result.reportPartName = parts[1];
                }
                else {
                    result.reportPartName = parts[0], reportSetName = parts[1];
                }
            }
            // collect results into one object:
            result.reportSetName = reportSetName;
            result.reportName = this.extractReportName(reportSetName);
            result.reportCategory = this.extractReportCategory(reportSetName);
            result.reportNameWithCategory = result.reportName;
            if (this.$izendaUtilService.isUncategorized(result.reportCategory))
                result.reportNameWithCategory =
                    result.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + result.reportNameWithCategory;
            result.reportFullName = (result.reportPartName != null ? result.reportPartName + '@' : '') + result.reportSetName;
            return result;
        };
        /**
         * Get current report info object.
         */
        IzendaUrlService.prototype.getReportInfo = function () {
            return this.reportNameInfo;
        };
        IzendaUrlService.prototype.getUrlParams = function (url) {
            var urlObj = (typeof (angular.element['url']) === 'undefined') ? window.purl(url) : angular.element['url'](url);
            return urlObj.data.param.query;
        };
        Object.defineProperty(IzendaUrlService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaUrlService.register = function (module) {
            module.service('$izendaUrlService', IzendaUrlService.injectModules.concat(IzendaUrlService));
        };
        return IzendaUrlService;
    }());
    exports.default = IzendaUrlService;
});
izendaRequire.define("common/query/module", ["require", "exports", "angular", "common/query/module-definition", "common/query/services/rs-query-service", "common/query/services/settings-service", "common/query/services/common-query-service", "common/query/services/ping-service", "common/query/services/url-service"], function (require, exports, angular, module_definition_7, rs_query_service_1, settings_service_1, common_query_service_1, ping_service_1, url_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register http provider
    module_definition_7.default.config(['$httpProvider', function ($httpProvider) {
            $httpProvider.defaults.transformResponse.push(function (responseData) {
                // convert $http response. We need to translate asp.net dates 
                // in string format '/Date(ticksNumber)/' to js Date objects (only for json response type):
                var regexDate = /^\/Date\(([-]{0,1}\d+)\)\/$/;
                var convertDateStringsToDates = function (input) {
                    if (!angular.isObject(input))
                        return;
                    for (var key in input) {
                        if (!input.hasOwnProperty(key))
                            continue;
                        var value = input[key];
                        if (angular.isString(value)) {
                            var match = value.match(regexDate);
                            if (angular.isArray(match) && match.length > 0) {
                                var milliseconds = parseInt(match[match.length - 1]);
                                if (!isNaN(milliseconds)) {
                                    input[key] = new Date(milliseconds);
                                }
                            }
                        }
                        else if (angular.isObject(value)) {
                            convertDateStringsToDates(value);
                        }
                    }
                };
                convertDateStringsToDates(responseData);
                return responseData;
            });
        }]);
    // register services
    rs_query_service_1.default.register(module_definition_7.default);
    settings_service_1.default.register(module_definition_7.default);
    common_query_service_1.default.register(module_definition_7.default);
    ping_service_1.default.register(module_definition_7.default);
    url_service_1.default.register(module_definition_7.default);
});
izendaRequire.define("common/ui/module-definition", ["require", "exports", "angular", "izenda-external-libs", "common/core/module", "common/query/module"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var izendaUiModule = angular
        .module('izenda.common.ui', ['rx', 'izenda.common.core', 'izenda.common.query'])
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_Name', 'Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_NameCantBeEmpty', 'Report name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidReportName', 'Invalid report name']);
    exports.default = izendaUiModule;
});
izendaRequire.define("common/core/models/select-item-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * IzendaSelectItemModel class is used to provide uniform angular bindings style for <select>.
     */
    var IzendaSelectItemModel = /** @class */ (function () {
        function IzendaSelectItemModel(text, value, group, selected, enabled) {
            if (typeof (value) === 'undefined')
                throw new Error('value should be defined');
            this.text = text;
            this.value = value;
            this.group = group ? group : undefined;
            this.selected = selected ? selected : false;
            this.enabled = enabled ? enabled : true;
        }
        Object.defineProperty(IzendaSelectItemModel.prototype, "disabled", {
            get: function () {
                return !this.enabled;
            },
            enumerable: true,
            configurable: true
        });
        IzendaSelectItemModel.prototype.isEqual = function (testValue, isLowerCaseComparison) {
            if (testValue === null && this.value === null)
                return true;
            if (testValue === null || this.value === null)
                return false;
            return isLowerCaseComparison
                ? testValue.toLowerCase() === this.value.toLowerCase()
                : testValue === this.value;
        };
        IzendaSelectItemModel.prototype.isEqualWithItem = function (item, isLowerCaseComparison) {
            if (!item)
                return false;
            return this.isEqual(item.value, isLowerCaseComparison);
        };
        return IzendaSelectItemModel;
    }());
    exports.IzendaSelectItemModel = IzendaSelectItemModel;
});
izendaRequire.define("common/core/models/raw-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
});
izendaRequire.define("common/core/models/share-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Model for the list of share rules.
     */
    var IzendaShareModel = /** @class */ (function () {
        function IzendaShareModel() {
            this.shareRules = new Array();
        }
        /**
         * Deserialize share rules. This method sets this.shareRules field.
         * @param {any[]} json Serialized share rules array.
         * @param {Core.IzendaSelectItemModel[]} availableRights Right model collection.
         * @param {Core.IzendaSelectItemModel[]} availableSubjects Subject model collection.
         */
        IzendaShareModel.prototype.fromJson = function (json, availableRights, availableSubjects) {
            if (!json) {
                this.shareRules = [];
                return;
            }
            this.shareRules = json.map(function (ruleJson) {
                var shareRule = new IzendaShareRuleModel();
                shareRule.fromJson(ruleJson, availableRights, availableSubjects);
                return shareRule;
            });
        };
        /**
         * Serialize current share rules to json object.
         * @return {any[]} array of serialized share rules.
         */
        IzendaShareModel.prototype.toJson = function () {
            var json = this.shareRules
                .filter(function (shareRule) { return shareRule.subject && shareRule.right; })
                .map(function (shareRule) { return shareRule.toJson(); });
            return json;
        };
        return IzendaShareModel;
    }());
    exports.IzendaShareModel = IzendaShareModel;
    /**
     * Model for subject-right pair.
     */
    var IzendaShareRuleModel = /** @class */ (function () {
        function IzendaShareRuleModel(subjects) {
            this.availableSubjects = new Array();
            this.right = null;
            this.subject = null;
            if (subjects)
                this.setAvailableSubjects(subjects, null);
        }
        IzendaShareRuleModel.prototype.setAvailableSubjects = function (subjects, subjectValue) {
            var subjValue = subjectValue
                ? subjectValue
                : this.subject
                    ? this.subject.value
                    : null;
            // update available subjects collection
            this.availableSubjects = subjects && subjects.length ? subjects.slice() : [];
            // update subject
            this.subject = null;
            if (subjValue !== null)
                this.subject = this.availableSubjects.find(function (s) { return s.value === subjValue; }) || null;
        };
        IzendaShareRuleModel.prototype.fromJson = function (json, rights, subjects) {
            // set right
            this.right = null;
            if (rights && rights.length)
                this.right = rights.find(function (r) { return json && r.value === json.right; }) || null;
            // set available subject
            this.setAvailableSubjects(subjects, json ? json.subject : null);
        };
        IzendaShareRuleModel.prototype.toJson = function () {
            if (!this.right && !this.subject)
                // you can face with this situation only if you call toJson directly for this class, 
                //because when you serialize collection, there is additional check for empty subject and right.
                return null;
            var json = {
                right: this.right.value,
                subject: this.subject.value
            };
            return json;
        };
        return IzendaShareRuleModel;
    }());
    exports.IzendaShareRuleModel = IzendaShareRuleModel;
});
izendaRequire.define("common/ui/services/share-service", ["require", "exports", "common/core/models/select-item-model", "common/core/models/share-model", "common/core/models/share-model", "izenda-external-libs"], function (require, exports, select_item_model_1, share_model_1, share_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Service used for store data in share control
     */
    var IzendaShareService = /** @class */ (function () {
        function IzendaShareService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaShareService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Add new empty share rule.
         */
        IzendaShareService.prototype.addNewShareRule = function () {
            var shareRuleModel = new share_model_2.IzendaShareRuleModel(this.subjects);
            this.shareModel.shareRules.push(shareRuleModel);
        };
        /**
         * Remove share rule
         * @param {Core.IzendaShareRuleModel} shareRule Share rule for removal.
         */
        IzendaShareService.prototype.removeShareRule = function (shareRule) {
            if (!shareRule)
                return;
            var idx = this.shareModel.shareRules.indexOf(shareRule);
            this.shareModel.shareRules.splice(idx, 1);
        };
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaShareService.prototype.getShareConfigForSend = function () {
            return this.shareModel.toJson();
        };
        /**
         * Set current share config.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.setShareConfig = function (json) {
            var _this = this;
            var isDefaultConfig = !json;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillShareConfigFromJson(json, isDefaultConfig).then(function () { return resolve(); });
            });
        };
        /**
         * Set share service state from the config object.
         * @param {any} json Share model raw object.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.fillShareConfigFromJson = function (json, isDefaultConfig) {
            var _this = this;
            return this.$q(function (resolve) {
                _this.loadShareData().then(function () {
                    if (isDefaultConfig) {
                        json = [{
                                subject: 'Everyone',
                                right: 'None'
                            }];
                    }
                    _this.shareModel = new share_model_1.IzendaShareModel();
                    _this.shareModel.fromJson(json, _this.rights, _this.subjects);
                    resolve();
                });
            });
        };
        /**
         * Load share data and available values from server.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaShareService.prototype.loadShareData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaCommonQueryService.getShareData().then(function (json) {
                    // fill available rights collection
                    _this.rights = json.Rights.map(function (rightJson) { return new select_item_model_1.IzendaSelectItemModel(rightJson.Text, rightJson.Value); });
                    // fill available subjects collection
                    _this.subjects = json.ShareWith.map(function (subjectJson) { return new select_item_model_1.IzendaSelectItemModel(subjectJson.Text, subjectJson.Value); });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaShareService.prototype.reset = function () {
            this.rights = new Array();
            this.subjects = new Array();
            this.shareModel = new share_model_1.IzendaShareModel();
        };
        Object.defineProperty(IzendaShareService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaShareService.register = function (module) {
            module.service('$izendaShareService', IzendaShareService.injectModules.concat(IzendaShareService));
        };
        return IzendaShareService;
    }());
    exports.default = IzendaShareService;
});
izendaRequire.define("common/core/models/schedule-model", ["require", "exports", "izenda-external-libs"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleModel = /** @class */ (function () {
        function IzendaScheduleModel() {
            this.date = new Date();
            this.email = null;
            this.recipients = '';
            this.repeat = null;
            this.timezone = null;
        }
        /**
         * Fill this object from server-side dto object.
         * @param {any} json dto object.
         * @param {Core.IzendaSelectItemModel[]} emailTypes Email type models collection.
         * @param {Core.IzendaSelectItemModel[]} repeatTypes Repeat type models collection.
         * @param {Core.IzendaSelectItemModel[]} timezones Timezone models collection.
         */
        IzendaScheduleModel.prototype.fromJson = function (json, emailTypes, repeatTypes, timezones) {
            // parse and set date
            if (json && json.dateString) {
                var dateString = json.dateString.trim();
                var momentDate = void 0;
                if (json.timeString) {
                    dateString += " " + json.timeString.trim();
                    momentDate = moment(dateString, 'YYYY-MM-DD HH:mm:ss');
                }
                else {
                    momentDate = moment(dateString, 'YYYY-MM-DD');
                }
                this.date = momentDate.isValid() ? momentDate._d : new Date();
            }
            else
                this.date = new Date();
            if (!this.date || this.date.getFullYear() <= 1900)
                this.date = new Date();
            // timezone
            this.timezone = timezones.length ? (timezones.find(function (tz) { return tz.selected; }) || timezones[0]) : null;
            if (json && json.timezoneId)
                this.timezone = timezones.find(function (tz) { return tz.value === json.timezoneId; }) || this.timezone;
            // email type
            this.email = emailTypes.length ? (emailTypes.find(function (e) { return e.selected; }) || emailTypes[0]) : null;
            // repeat type
            this.repeat = repeatTypes.length ? (repeatTypes.find(function (r) { return r.selected; }) || repeatTypes[0]) : null;
            // recipients
            this.recipients = json && json.recipients ? json.recipients : '';
        };
        /**
         * Create server-side dto object for this schedule model object.
         * @return {any} New json object.
         */
        IzendaScheduleModel.prototype.toJson = function () {
            var dateString = null;
            var timeString = null;
            if (this.date) {
                dateString = moment(this.date).format('YYYY-MM-DD');
                timeString = moment(this.date).format('HH:mm:ss');
            }
            var json = {
                dateString: dateString,
                timeString: timeString,
                recipients: this.recipients,
                email: this.email ? this.email.value : null,
                repeat: this.repeat ? this.repeat.value : null,
                timezoneId: this.timezone ? this.timezone.value : null
            };
            return json;
        };
        return IzendaScheduleModel;
    }());
    exports.IzendaScheduleModel = IzendaScheduleModel;
});
izendaRequire.define("common/ui/services/schedule-service", ["require", "exports", "common/core/models/schedule-model", "common/core/models/select-item-model", "izenda-external-libs"], function (require, exports, schedule_model_1, select_item_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaScheduleService = /** @class */ (function () {
        function IzendaScheduleService($q, $izendaCommonQueryService) {
            this.$q = $q;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reset();
        }
        Object.defineProperty(IzendaScheduleService, "injectModules", {
            get: function () {
                return ['$q', '$izendaCommonQueryService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create current scheule config json for send to server.
         * @return {any} Raw model for sending to server.
         */
        IzendaScheduleService.prototype.getScheduleConfigForSend = function () {
            return this.scheduleConfig.toJson();
        };
        /**
         * Set current schedule config.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.setScheduleConfig = function (json) {
            var _this = this;
            this.reset();
            return this.$q(function (resolve) {
                _this.fillScheduleConfigFromJson(json).then(function () { return resolve(); });
            });
        };
        /**
         * Set schedule service state from the config object.
         * Schedule timezones, repeat types and others are supposed to be loaded.
         * @param {any} json schedule raw model.
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.fillScheduleConfigFromJson = function (json) {
            var _this = this;
            return this.$q(function (resolve) {
                // Load schedule collections.
                _this.loadScheduleData().then(function () {
                    // Fill schedule config from json after loading collections.
                    _this.scheduleConfig.fromJson(json, _this.sendEmailTypes, _this.repeatTypes, _this.timezones);
                    resolve();
                });
            });
        };
        /**
         * Load schedule data and available values from server
         * @return {Promise<any>} Promise without parameter and error fallback. // todo: think about error handling ?
         */
        IzendaScheduleService.prototype.loadScheduleData = function () {
            var _this = this;
            return this.$q(function (resolve) {
                // calculate current timezone std offset:
                var rightNow = new Date();
                var jan1 = new Date(rightNow.getFullYear(), 0, 1, 0, 0, 0, 0);
                var temp = jan1.toGMTString();
                var jan2 = new Date(temp.substring(0, temp.lastIndexOf(' ')));
                var stdTimeOffset = (jan1.getTime() - jan2.getTime()) / (1000 * 60);
                // load schedule dictionaries:
                _this.$izendaCommonQueryService.getScheduleData(stdTimeOffset).then(function (json) {
                    _this.timezones = json.TimeZones.map(function (tz) {
                        var tzText = tz.Text ? tz.Text.replaceAll('&nbsp;', ' ') : '';
                        return new select_item_model_2.IzendaSelectItemModel(tzText, tz.Value, undefined, tz.Selected, tz.Enabled);
                    });
                    _this.sendEmailTypes = json.SendEmailList.map(function (eml) {
                        return new select_item_model_2.IzendaSelectItemModel(eml.Text, eml.Value, undefined, eml.Selected, eml.Enabled);
                    });
                    _this.repeatTypes = json.RepeatTypes.map(function (rt) {
                        return new select_item_model_2.IzendaSelectItemModel(rt.Text, rt.Value, undefined, rt.Selected, rt.Enabled);
                    });
                    resolve();
                });
            });
        };
        /**
         * Set default values.
         */
        IzendaScheduleService.prototype.reset = function () {
            this.scheduleConfig = new schedule_model_1.IzendaScheduleModel();
            this.timezones = [];
            this.sendEmailTypes = [];
            this.repeatTypes = [];
        };
        Object.defineProperty(IzendaScheduleService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        IzendaScheduleService.register = function (module) {
            module.service('$izendaScheduleService', IzendaScheduleService.injectModules.concat(IzendaScheduleService));
        };
        return IzendaScheduleService;
    }());
    exports.default = IzendaScheduleService;
});
izendaRequire.define("common/ui/directives/align-switcher", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_8) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Align switcher directive.
     */
    var IzendaAlignSwitcher = /** @class */ (function () {
        function IzendaAlignSwitcher() {
            this.restrict = 'AE';
            this.scope = {
                ngModel: '=',
                title: '@'
            };
            this.template = "<span class=\"izenda-common-align-switcher glyphicon\" ng-click=\"nextValue()\" ng-attr-title=\"title\" ng-class=\"alignShortcut\"></span>";
            IzendaAlignSwitcher.prototype.link = function ($scope, $element, attrs) {
                var itemsArray = ['L', 'M', 'R', 'J', ' '];
                var shortcuts = {
                    'L': 'glyphicon-align-left',
                    'M': 'glyphicon-align-center',
                    'J': 'glyphicon-align-center',
                    'R': 'glyphicon-align-right',
                    ' ': 'glyphicon-none'
                };
                var validateValue = function (model) {
                    if (angular.isUndefined(model))
                        return;
                    if (itemsArray.indexOf(model) < 0)
                        throw 'Unknown align value: ' + model;
                };
                var updateShortcut = function (model) { return $scope.alignShortcut = shortcuts[model]; };
                $scope.nextValue = function () {
                    var idx = itemsArray.indexOf($scope.ngModel);
                    if (idx < itemsArray.length - 1)
                        idx++;
                    else
                        idx = 0;
                    $scope.ngModel = itemsArray[idx];
                    updateShortcut($scope.ngModel);
                };
                //
                $scope.$parent.$watch(attrs.ngModel, function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    validateValue(newValue);
                    updateShortcut(newValue);
                });
                validateValue($scope.ngModel);
                updateShortcut($scope.ngModel);
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaAlignSwitcher.factory = function () {
            var directive = function () { return new IzendaAlignSwitcher(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAlignSwitcher;
    }());
    module_definition_8.default.directive('izendaAlignSwitcher', [IzendaAlignSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/autocomplete", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_9) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Autocomplete directive. Uses "tagit". Applyed for <input izenda-autocomplete> element.
     */
    var IzendaAutocomplete = /** @class */ (function () {
        function IzendaAutocomplete() {
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                ngModel: '=',
                autocompleteItems: '=',
                updateAutocompleteItems: '&'
            };
            IzendaAutocomplete.prototype.link = function ($scope, $element) {
                /**
                 * Create array with autocomplete item texts
                 * @param {Array<object>} items.
                 * @returns {Array<string>}.
                 */
                var prepareSource = function (items) {
                    if (!angular.isArray(items) || !items.length)
                        return [];
                    return items
                        .filter(function (item) { return angular.isObject(item); })
                        .map(function (item) { return item['text']; });
                };
                // initialize component
                $element.val($scope.ngModel);
                $element['tagit']({
                    tagSource: function (req, responseFunction) {
                        if (!angular.isFunction($scope.updateAutocompleteItems))
                            return;
                        var possibleText = req.term.split(/,\s*/).pop();
                        // update suggested items:
                        $scope.updateAutocompleteItems({ arg0: possibleText }).then(function (newExistentValuesList) {
                            var items = prepareSource(newExistentValuesList);
                            var result = items
                                .filter(function (item) { return !!item && item != '...'; })
                                .map(function (item) { return item.replaceAll('#||#', ','); });
                            responseFunction(result);
                        });
                    },
                    caseSensitive: true,
                    allowDuplicates: false,
                    singleFieldDelimiter: jsResources.literalComma,
                    processValuesForSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll(',', '#||#'); }); },
                    processValuesFromSingleField: function (tags) { return tags.map(function (tag) { return tag.replaceAll('#||#', ','); }); }
                });
                // add watchers
                $scope.$watch('ngModel', function (newValue) {
                    if (!newValue)
                        $element['tagit']('removeAll');
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element['tagit']('removeAll');
                });
            };
        }
        IzendaAutocomplete.factory = function () {
            var directive = function () { return new IzendaAutocomplete(); };
            directive.$inject = [];
            return directive;
        };
        return IzendaAutocomplete;
    }());
    module_definition_9.default.directive('izendaAutocomplete', [IzendaAutocomplete.factory()]);
});
izendaRequire.define("common/ui/directives/bootstrap", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_10) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Collapsible container directive.
     */
    var IzendaBootstrapCollapse = /** @class */ (function () {
        function IzendaBootstrapCollapse($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                collapsed: '=',
                useDelay: '=',
                onComplete: '&'
            };
            IzendaBootstrapCollapse.prototype.link = function ($scope, $element, attrs) {
                /**
                 * Invoke complete handler.
                 */
                var collapseCompleted = function (result) {
                    if (angular.isFunction($scope.onComplete)) {
                        $scope.onComplete({
                            collapsed: result
                        });
                    }
                };
                $element.addClass('collapse');
                if ($scope.collapsed)
                    $element.addClass('in');
                $element['collapse'](); // call bootstrap jquery_element.collapse() method.
                // add event collapse handlers
                $element.on('hidden.bs.collapse', function () { return collapseCompleted(true); });
                $element.on('shown.bs.collapse', function () { return collapseCompleted(false); });
                // watch for collapsed state change
                $scope.$watch('collapsed', function () {
                    if ($scope.useDelay)
                        $timeout(function () { return $element['collapse']($scope.collapsed ? 'hide' : 'show'); }, 1000);
                    else
                        $element['collapse']($scope.collapsed ? 'hide' : 'show');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapCollapse.factory = function () {
            var directive = function ($timeout) { return new IzendaBootstrapCollapse($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaBootstrapCollapse;
    }());
    module_definition_10.default.directive('izendaBootstrapCollapse', ['$timeout', IzendaBootstrapCollapse.factory()]);
    /**
     * Tooltip directive
     */
    var IzendaBootstrapTooltip = /** @class */ (function () {
        function IzendaBootstrapTooltip() {
            this.restrict = 'A';
            this.scope = {
                tooltipItems: '='
            };
            IzendaBootstrapTooltip.prototype.link = function ($scope, $element) {
                $scope.$watch('tooltipItems', function (newVal) {
                    if (!angular.isArray(newVal)) {
                        $element.attr('title', '');
                        return;
                    }
                    var result = '';
                    for (var i = 0; i < newVal.length; i++) {
                        if (newVal.length > 1)
                            result += i + '. ';
                        result += newVal[i].message + '<br/>';
                    }
                    $element.attr('title', result);
                    $element['tooltip']('hide')
                        .attr('data-original-title', newVal)
                        .tooltip('update');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaBootstrapTooltip.factory = function () {
            return function () { return new IzendaBootstrapTooltip(); };
        };
        return IzendaBootstrapTooltip;
    }());
    module_definition_10.default.directive('izendaBootstrapTooltip', [IzendaBootstrapTooltip.factory()]);
    /**
     * Bootstrap dropdown directive
     */
    var IzendaBootstrapDropdown = /** @class */ (function () {
        function IzendaBootstrapDropdown($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.transclude = true;
            this.scope = {
                opened: '=',
                attachToElement: '@',
                width: '@',
                height: '@',
                onOpen: '&',
                onClose: '&'
            };
            this.template = "<div class=\"dropdown\">\n\t<div class=\"dropdown-menu izenda-common-dropdown-strong-shadow dropdown-no-close-on-click\"\n\t\tng-click=\"$event.stopPropagation();\">\n\t\t<div class=\"izenda-common-dropdown-triangle\"></div>\n\t\t<div ng-style=\"{'width': width, 'height': height}\">\n\t\t\t<div ng-transclude></div>\n\t\t</div>\n\t</div>\n</div>";
            IzendaBootstrapDropdown.prototype.link = function ($scope, $element, attrs) {
                var id = ('' + Math.random()).substring(2);
                var scrollEventId = 'scroll.izendaBootstrapDropdown' + id;
                var resizeEventId = 'resize.izendaBootstrapDropdown' + id;
                var keyEventId = 'keyup.izendaBootstrapDropdown' + id;
                var $dropdown = $element.find('.dropdown');
                var $menu = $element.find('.dropdown-menu');
                $dropdown.find('.izenda-common-dropdown-triangle').on('click', function () { return close(); });
                angular.element($window).on(scrollEventId, function () { return close(); });
                angular.element($window).on(resizeEventId, function () { return close(); });
                angular.element($window).on(keyEventId, function (event) {
                    // esc button handler
                    if (event.keyCode == 27 && $scope.opened) {
                        close();
                    }
                });
                $scope.$watch('opened', function (newVal) {
                    if (newVal && !$dropdown.hasClass('open'))
                        open();
                    if (!newVal && $dropdown.hasClass('open'))
                        close();
                });
                function open() {
                    var $attachToElement = angular.element($scope.attachToElement);
                    var $tile = $attachToElement.closest('.iz-dash-tile');
                    $dropdown.addClass('open');
                    $menu.css('position', 'absolute');
                    $menu.css('z-index', 9999);
                    var left = $tile.width() - $menu.width() - 16;
                    var delta = 0;
                    if (left < 0) {
                        delta = -left;
                        left = 0;
                    }
                    var top = 44;
                    $menu.children('.izenda-common-dropdown-triangle').css('left', $menu.width() - delta - 58);
                    $menu.css({
                        left: left + 'px',
                        top: top + 'px'
                    });
                    if (angular.isFunction($scope.onOpen))
                        $scope.onOpen({});
                }
                function close() {
                    $dropdown.removeClass('open');
                    $menu.data('open', false);
                    $scope.opened = false;
                    if (angular.isFunction($scope.onClose))
                        $scope.onClose({});
                    $scope.$applyAsync();
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off(scrollEventId);
                    angular.element($window).off(resizeEventId);
                    angular.element($window).off(keyEventId);
                });
            };
        }
        IzendaBootstrapDropdown.factory = function () {
            var directive = function ($window) { return new IzendaBootstrapDropdown($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaBootstrapDropdown;
    }());
    module_definition_10.default.directive('izendaBootstrapDropdown', ['$window', IzendaBootstrapDropdown.factory()]);
});
izendaRequire.define("common/ui/directives/color-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_11) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Color picker directive. Requires "jquery-minicolors" jQuery plugin. Usage:
     * <izenda-color-picker ng-model="..."></izenda-color-picker>
     */
    var IzendaColorPicker = /** @class */ (function () {
        function IzendaColorPicker() {
            this.restrict = 'A';
            this.scope = {
                ngModel: '=',
                inline: '@',
                additionalClass: '@'
            };
            this.template = '<input class="minicolors form-control" ng-class="additionalClass"></input>';
            IzendaColorPicker.prototype.link = function ($scope, $element) {
                var $input = $element.find('input.minicolors');
                // watch active item changed
                $scope.$watch('ngModel', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    $input.val(newVal);
                    $input['minicolors']('value', newVal);
                });
                initializeControl();
                // destruction method
                $element.on('$destroy', function () {
                    $input['minicolors']('destroy');
                    $input.remove();
                });
                function initializeControl() {
                    $input['minicolors']('destroy');
                    $input.val($scope.ngModel);
                    $input['minicolors']({
                        inline: $scope.inline === 'true',
                        lettercase: 'lowercase',
                        theme: 'bootstrap',
                        color: $scope.color,
                        position: 'bottom right',
                        change: function (hex) {
                            var val = String($input.val());
                            if (val.match(/^#{0,1}[0-9a-f]{6}$/gi)) {
                                $scope.ngModel = hex;
                                angular.element('.iz-dash-background').css('background-color', hex);
                                $scope.$applyAsync();
                            }
                        }
                    });
                    $element.find('.minicolors-grid, .minicolors-slider').click(function (e) {
                        e.stopPropagation();
                        return false;
                    });
                }
            };
        }
        IzendaColorPicker.factory = function () {
            return function () { return new IzendaColorPicker(); };
        };
        return IzendaColorPicker;
    }());
    module_definition_11.default.directive('izendaColorPicker', [IzendaColorPicker.factory()]);
});
izendaRequire.define("common/ui/directives/datetime-picker", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_12) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaDateTimePicker = /** @class */ (function () {
        function IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
            this.$window = $window;
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.restrict = 'A';
            this.require = 'ngModel';
            this.scope = {
                model: '=ngModel',
                ngDisabled: '=',
                dateFormat: '=',
                locale: '=',
                datepart: '=',
                showAdditionalButtons: '@',
                htmlContainerSelector: '@',
                onChange: '&'
            };
            this.template = "<input type=\"text\" class=\"form-control\" />\n<span class=\"input-group-addon\">\n\t<span class=\"glyphicon-calendar glyphicon\"></span>\n</span>";
            // change template if resolution is too low
            if (this.$izendaCompatibilityService.isSmallResolution())
                this.template = '<div class="izenda-common-date-picker-inline"/>';
            IzendaDateTimePicker.prototype.link = function ($scope, $element, attrs, ngModelCtrl) {
                var uid = Math.floor(Math.random() * 1000000);
                var $input = $element.children('input,.izenda-common-date-picker-inline');
                var $btn = $element.children('.input-group-addon');
                var isSmallResolution = $izendaCompatibilityService.isSmallResolution();
                var getPicker = function () { return $input.data('DateTimePicker'); };
                /**
                 * Create new date object based on baseDate with updated from the newDate date or time or both.
                 * @param {Date} baseDate current date
                 * @param {Date} newDate updated date
                 * @param {string} datepart what part will be updated: '"date"|"time"|"datetime"'
                 */
                var getUpdatedDateValue = function (baseDate, newDate, datepart) {
                    if (!baseDate)
                        return new Date(newDate);
                    var currDate = new Date(baseDate);
                    if (datepart === 'datetime') {
                        currDate = new Date(newDate);
                    }
                    else if (datepart === 'date') {
                        currDate = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate(), baseDate.getHours(), baseDate.getMinutes(), baseDate.getSeconds(), 0);
                    }
                    else if (datepart === 'time') {
                        currDate = new Date(baseDate.getFullYear(), baseDate.getMonth(), baseDate.getDate(), newDate.getHours(), newDate.getMinutes(), newDate.getSeconds(), 0);
                    }
                    return currDate;
                };
                /**
                 * Set date to the picker
                 */
                var setDate = function (newDate) {
                    if (!newDate)
                        getPicker().date(null);
                    else if (angular.isDate(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, newDate, $scope.datepart));
                    else if (angular.isString(newDate))
                        getPicker().date(getUpdatedDateValue($scope.model, new Date(newDate), $scope.datepart));
                    else
                        throw "Unknown date type: " + typeof (newDate);
                };
                /**
                 * Enable/Disable picker
                 */
                var setDisabled = function (isDisabled) {
                    if (isDisabled)
                        getPicker().disable();
                    else
                        getPicker().enable();
                };
                /**
                 * Apply date format in the picker
                 */
                var setFormat = function (format) {
                    if (!angular.isString(format))
                        getPicker().format(false);
                    else
                        getPicker().format(format);
                };
                /**
                 * Apply locale in the picker
                 */
                var setLocale = function (locale) {
                    if (!angular.isString(locale))
                        return;
                    getPicker().locale(locale);
                };
                // create date picker config json
                var config = {};
                if ($scope.showAdditionalButtons === 'true') {
                    config = {
                        showTodayButton: true,
                        showClear: true
                    };
                }
                angular.extend(config, {
                    locale: $scope.locale,
                    inline: isSmallResolution,
                    widgetParent: isSmallResolution ? null : angular.element($scope.htmlContainerSelector),
                    toolbarPlacement: 'bottom',
                    widgetPositioning: {
                        vertical: 'bottom'
                    },
                    tooltips: {
                        today: $izendaLocaleService.localeText('js_GoToToday', 'Go to today'),
                        clear: $izendaLocaleService.localeText('js_ClearSelection', 'Clear selection'),
                        close: $izendaLocaleService.localeText('js_ClosePicker', 'Close the picker'),
                        selectMonth: $izendaLocaleService.localeText('js_SelectMonth', 'Select Month'),
                        prevMonth: $izendaLocaleService.localeText('js_PreviousMonth', 'Previous Month'),
                        nextMonth: $izendaLocaleService.localeText('js_NextMonth', 'Next Month'),
                        selectYear: $izendaLocaleService.localeText('js_SelectYear', 'Select Year'),
                        prevYear: $izendaLocaleService.localeText('js_PreviousYear', 'Previous Year'),
                        nextYear: $izendaLocaleService.localeText('js_NextYear', 'Next Year'),
                        selectDecade: $izendaLocaleService.localeText('js_SelectDecade', 'Select Decade'),
                        prevDecade: $izendaLocaleService.localeText('js_PreviousDecade', 'Previous Decade'),
                        nextDecade: $izendaLocaleService.localeText('js_NextDecade', 'Next Decade'),
                        prevCentury: $izendaLocaleService.localeText('js_PreviousCentury', 'Previous Century'),
                        nextCentury: $izendaLocaleService.localeText('js_NextCentury', 'Next Century')
                    }
                });
                // create picker
                $scope.dateTimePicker = $input['datetimepicker'](config);
                // date picker 'on show' handler
                $input.on('dp.show', function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.show();
                    $widget.css({
                        top: $input.offset().top - $widget.parent().offset().top + $input.height() + 20,
                        left: $input.offset().left - $widget.parent().offset().left
                    });
                });
                // window resize handler
                angular.element($window).on('resize.dp' + uid, function () {
                    if (isSmallResolution)
                        return;
                    var $widget = angular.element($scope.htmlContainerSelector + ' > .bootstrap-datetimepicker-widget');
                    $widget.hide();
                    $timeout(function () { return $input.blur(); }, 10);
                });
                $btn.on('click', function () {
                    if (!$scope.ngDisabled)
                        $input.focus();
                });
                // watch variables:
                $scope.$watch('ngDisabled', function (newVal) { return setDisabled(newVal); });
                $scope.$watch('dateFormat', function (newVal) { return setFormat(newVal); });
                $scope.$watch('locale', function (newVal) { return setLocale(newVal); });
                // initialize values
                setDisabled($scope.ngDisabled);
                setFormat($scope.dateFormat);
                setLocale($scope.locale);
                if (ngModelCtrl) {
                    $scope.$watch('model', function (newVal) { return setDate(newVal); });
                    $timeout(function () {
                        ngModelCtrl.$render = function () { return setDate(ngModelCtrl.$viewValue); };
                    });
                    $input.on('dp.change', function (e) {
                        var newDateValue = e['date'] ? getUpdatedDateValue($scope.model, e['date'].toDate(), $scope.datepart) : null;
                        ngModelCtrl.$setViewValue(newDateValue);
                    });
                }
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('resize.dp' + uid);
                    var picker = getPicker();
                    if (picker)
                        getPicker().destroy();
                });
            };
        }
        IzendaDateTimePicker.factory = function () {
            var directive = function ($window, $timeout, $izendaLocaleService, $izendaCompatibilityService) {
                return new IzendaDateTimePicker($window, $timeout, $izendaLocaleService, $izendaCompatibilityService);
            };
            directive.$inject = ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService'];
            return directive;
        };
        return IzendaDateTimePicker;
    }());
    module_definition_12.default.directive('izendaDateTimePicker', ['$window', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService', IzendaDateTimePicker.factory()]);
});
izendaRequire.define("common/ui/directives/report-viewer", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_13) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive docs.
     */
    var IzendaReportViewer = /** @class */ (function () {
        function IzendaReportViewer($rootScope, $timeout) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.restrict = 'AE';
            this.scope = {
                allowColReorder: '@',
                allowedColumnsForReorder: '=',
                reportSetOptions: '=',
                allowColRemove: '@',
                droppableAccept: '@',
                onReorder: '&',
                onHeaderClick: '&',
                onPagingClick: '&',
                onDragOver: '&',
                onRemove: '&',
                emptyText: '=',
                currentInsertColumnOrder: '=',
                htmlText: '='
            };
            this.template = "<div class=\"izenda-report-viewer\">\n\t<div class=\"html-container-placeholder hidden\"></div>\n\t<div class=\"html-container-loading\" style=\"display: none;\" ng-bind=\":: 'js_Loading' | izendaLocale: 'Loading...'\"></div>\n\t<div id=\"renderedReportDiv\" class=\"html-container\"></div>\n</div>";
            IzendaReportViewer.prototype.link = function ($scope, $element) {
                //////////////////////////////////////////////////////////////
                // apply tile html function
                var $htmlContainer = $element.find('.html-container');
                var $htmlContainerLoading = $element.find('.html-container-loading');
                var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
                /**
                 * Prepare report table
                 * @param {jquery object} $table
                 */
                var processReportTable = function () {
                    // prepare table
                    if (!IzendaReportViewer.isTableIsGood($scope.$table))
                        return;
                    IzendaReportViewer.addColReorderHandler($scope, $timeout, function ($from, $to, isVisualGroup) {
                        IzendaReportViewer.onReorder($scope, $from, $to, isVisualGroup);
                    });
                    // add other handlers
                    IzendaReportViewer.addDragHandlers($scope, $rootScope, $element);
                    IzendaReportViewer.addClickHandler($scope);
                    IzendaReportViewer.addColRemoveButtons($scope);
                    izenda.report.registerPostRenderHandlers();
                };
                /**
                 * Apply report content html
                 * @param {string} html
                 */
                var applyHtml = function (html) {
                    // show/hide loading indicator
                    if (html === null) {
                        $htmlContainer.hide();
                        $htmlContainerLoading.show();
                    }
                    else {
                        $htmlContainer.show();
                        $htmlContainerLoading.hide();
                    }
                    // empty result
                    if (typeof (html) !== 'string' || (html && typeof (html) === 'string' && html.trim() === '')) {
                        $htmlContainer.text($scope.emptyText);
                        return;
                    }
                    $htmlContainer.html(html);
                    // is paging enabled
                    IzendaReportViewer.preparePageLinks($scope, $htmlContainer);
                    IzendaReportViewer.preparePagingInput($scope, $htmlContainer);
                    IzendaReportViewer.prepareGoToRecordBtn($scope, $htmlContainer);
                    $scope.$table = $htmlContainer.find('table[name=reportTable],table.ReportTable');
                    if ($scope.$table.length > 0) {
                        // prepare report table
                        processReportTable();
                    }
                };
                // htmlText change handler
                $scope.$watch('htmlText', function (newVal) { return applyHtml(newVal); });
                // is dragging enabled handler
                $rootScope.$watch('isDraggingNow', function (newVal) {
                    if (!newVal) {
                        $htmlContainerPlaceholder.addClass('hidden');
                    }
                });
                // run
                applyHtml($scope.htmlText);
                //////////////////////////////////////////////////////////////
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        /**
         * Check is any kind of visual group applied.
         */
        IzendaReportViewer.isVgApplyed = function ($scope) {
            return angular.isObject($scope.reportSetOptions)
                ? $scope.reportSetOptions.isVgUsed
                : false;
        };
        /**
         * Check is applied AG or VGHierarchy.
         */
        IzendaReportViewer.isTableContainVgColumns = function ($scope) {
            return IzendaReportViewer.isVgApplyed($scope) &&
                ['AnalysisGrid', 'VGHierarchy'].indexOf($scope.reportSetOptions.vgStyle) >= 0;
        };
        /**
         * Calculate count of visual group column.
         */
        IzendaReportViewer.getCountOfVgColumns = function ($scope) {
            var countOfVgColumns = 0;
            if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                var fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
                countOfVgColumns = fieldsInTable.filter(function (field) { return field.isVgUsed; }).length;
            }
            return countOfVgColumns;
        };
        /**
         * Get fields which have own column in preview table
         * @returns {Array} array of field objects.
         */
        IzendaReportViewer.getColumnFields = function ($scope) {
            var fieldsInTable;
            if (IzendaReportViewer.isTableContainVgColumns($scope))
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields;
            else
                fieldsInTable = $scope.reportSetOptions.sortedActiveFields.filter(function (field) { return !field.isVgUsed; });
            return fieldsInTable;
        };
        IzendaReportViewer.isTableIsGood = function ($table) {
            if (!$table)
                return false;
            // if no table headers - stop:
            var $tableHeader = $table.children('tbody').children('tr.ReportHeader');
            if ($tableHeader.length === 0)
                return false;
            // check if table contains visual groups:
            return true;
        };
        /**
         * Add col reorder handler.
         */
        IzendaReportViewer.addColReorderHandler = function ($scope, $timeout, onColumnReorderCompleted) {
            if ($scope.allowColReorder !== 'true')
                return;
            var bodyOnselectstartSave = String(angular.element(document.body).attr('onselectstart'));
            var bodyUnselectableSave = String(angular.element(document.body).attr('unselectable'));
            var disableTextSelection = function () {
                // jQuery doesn't support the element.text attribute in MSIE 8
                // http://stackoverflow.com/questions/2692770/style-style-textcss-appendtohead-does-not-work-in-ie
                var $style = angular.element('<style id="__disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');
                angular.element(document.head).append($style);
                angular.element(document.body).attr('onselectstart', 'return false;').attr('unselectable', 'on');
                if (window.getSelection) {
                    window.getSelection().removeAllRanges();
                }
                else {
                    document.selection.empty(); // MSIE http://msdn.microsoft.com/en-us/library/ms535869%28v=VS.85%29.aspx
                }
            };
            var restoreTextSelection = function () {
                angular.element('#__disable_text_selection__').remove();
                if (bodyOnselectstartSave)
                    angular.element(document.body).attr('onselectstart', bodyOnselectstartSave);
                else
                    angular.element(document.body).removeAttr('onselectstart');
                if (bodyUnselectableSave)
                    angular.element(document.body).attr('unselectable', bodyUnselectableSave);
                else
                    angular.element(document.body).removeAttr('unselectable');
            };
            var createHelper = function (innerOffset) {
                var $cell = $scope.reorderState.$from;
                var $clone = $cell.clone().wrap('<div class="izenda-common-col-reorder-helper"></div>').parent();
                $clone.width($cell.outerWidth());
                $clone.height($cell.outerHeight());
                $clone.css('top', $cell.position().top);
                $clone.css('left', $cell.position().left + innerOffset);
                $scope.reorderState.$helper = $clone;
                $scope.reorderState.helperOffset = innerOffset;
                $scope.$table.append($clone);
                return $clone;
            };
            var removeHelper = function () {
                $scope.reorderState.$helper.remove();
            };
            var beforeReorderStarted = function () {
                disableTextSelection();
                $scope.reorderState.$from.addClass('izenda-reorder-cell-selected');
                $scope.reorderState.previousPosition = $scope.$table.css('position');
                $scope.$table.css('position', 'relative');
            };
            var afterReorderCompleted = function () {
                $scope.reorderState.$from.removeClass('izenda-reorder-cell-selected');
                $scope.reorderState.itemsCache = null;
                $scope.$table.css('position', $scope.reorderState.previousPosition);
                $scope.$table.find('.izenda-common-col-reorder-active').removeClass('izenda-col-reorder-active');
                removeHelper();
                restoreTextSelection();
            };
            var getCurrentItemsForReorder = function () {
                if (!$scope.reorderState.itemsCache) {
                    $scope.reorderState.itemsCache = $scope.reorderState.$from.parent().children();
                }
                return $scope.reorderState.itemsCache;
            };
            var completeReorder = function () {
                if (!$scope.reorderState.started)
                    return;
                $scope.reorderState.started = false;
                afterReorderCompleted();
                if (angular.isFunction(onColumnReorderCompleted)) {
                    var isVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                    onColumnReorderCompleted($scope.reorderState.$from, $scope.reorderState.$to, isVg);
                }
            };
            $scope.reorderState = {
                started: false,
                $from: null
            };
            // add table handlers:
            angular.element(document).off('mousemove.izendaColReorder');
            angular.element(document).off('mouseup.izendaColReorder');
            angular.element(document).on('mousemove.izendaColReorder', function (e) {
                if (!$scope.reorderState.started)
                    return;
                var currentTableX = e.pageX - $scope.$table.offset().left;
                var isFromColumnVg = $scope.reorderState.$from.attr('data-is-vg-column') === 'true';
                // highlight current column
                var $tds = getCurrentItemsForReorder();
                var $toTd = null;
                angular.element.each($tds, function (iTd, td) {
                    var $currTd = angular.element(td);
                    var tdLeft = $currTd.position().left, tdWidth = $currTd.outerWidth();
                    var isTdColumnVg = String($currTd.attr('data-is-vg-column')) === 'true';
                    if (!$currTd.hasClass('izenda-col-reorder-disabled') &&
                        isFromColumnVg === isTdColumnVg &&
                        currentTableX >= tdLeft &&
                        currentTableX < tdLeft + tdWidth) {
                        $toTd = $currTd;
                    }
                });
                // is $toTd changed?
                if ($toTd && (!$scope.reorderState.$to || $toTd.index() !== $scope.reorderState.$to.index())) {
                    $scope.reorderState.$to = $toTd;
                    $tds.removeClass('izenda-common-col-reorder-active');
                    if (!$scope.reorderState.$to.hasClass('izenda-common-col-reorder-active')) {
                        $scope.reorderState.$to.addClass('izenda-common-col-reorder-active');
                    }
                    // bubble inner content
                    var fromIndex = $scope.reorderState.$from.index();
                    var toIndex = $scope.reorderState.$to.index();
                    angular.element.each($tds, function (iTd, td) {
                        var $currTd2 = angular.element(td);
                        var $backups = $currTd2.children('.izenda-common-col-reorder-hidden');
                        if ($backups.length > 0) {
                            $currTd2.children().not('.izenda-common-col-reorder-hidden').remove();
                        }
                        $currTd2.children().removeClass('izenda-common-col-reorder-hidden');
                    });
                    var $currentTd = void 0;
                    var $nextTd = void 0;
                    var i = void 0;
                    if (fromIndex < toIndex) {
                        for (i = fromIndex; i < toIndex; i++) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i + 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                    else {
                        for (i = fromIndex; i > toIndex; i--) {
                            $currentTd = angular.element($tds[i]);
                            $nextTd = angular.element($tds[i - 1]);
                            $currentTd.children().addClass('izenda-common-col-reorder-hidden');
                            $currentTd.append($nextTd.children().clone());
                        }
                    }
                }
                // move helper
                $scope.reorderState.$helper.css('left', currentTableX - $scope.reorderState.helperOffset);
            });
            angular.element(document).on('mouseup.izendaColReorder', function () {
                if ($scope.reorderState.downTimer)
                    $timeout.cancel($scope.reorderState.downTimer);
                completeReorder();
            });
            // initialize:
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            // fieldsInTable should contain only fields which have column
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iHeaderRow, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell < fieldsInTable.length) {
                        if (IzendaReportViewer.isTableContainVgColumns($scope)) {
                            var field = fieldsInTable[iCell];
                            $cell.attr('data-is-vg-column', field.isVgUsed ? 'true' : 'false');
                        }
                        else {
                            $cell.attr('data-is-vg-column', 'false');
                        }
                        // mouse down handler
                        $cell.on('mousedown.izendaColReorder', function (e) {
                            $scope.reorderState.started = false;
                            if (e.which !== 1)
                                return;
                            if ($scope.reorderState.downTimer)
                                $timeout.cancel($scope.reorderState.downTimer);
                            $scope.reorderState.downTimer = null;
                            $scope.reorderState.$from = angular.element(e.delegateTarget);
                            $scope.reorderState.downTimer = $timeout(function () {
                                beforeReorderStarted();
                                createHelper(e.offsetX);
                                $scope.reorderState.started = true;
                            }, 250);
                        });
                    }
                    else {
                        $cell.addClass('izenda-col-reorder-disabled');
                    }
                });
            });
        };
        /**
         * Reorder completed handler
         * @param {jquery dom element} $from. Element which we dragged
         * @param {jquery dom element} $to. $from element dropped to this element.
         */
        IzendaReportViewer.onReorder = function ($scope, $from, $to, isVg) {
            if (!angular.isFunction($scope.onReorder))
                return;
            if (!$to || !$from)
                return;
            var fromIndex = $from.index();
            var toIndex = $to.index();
            if (fromIndex === toIndex)
                return;
            if (!isVg) {
                var vgColumnsCount = IzendaReportViewer.getCountOfVgColumns($scope);
                fromIndex -= vgColumnsCount;
                toIndex -= vgColumnsCount;
            }
            $scope.onReorder({ arg0: fromIndex, arg1: toIndex, arg2: isVg });
        };
        ;
        /**
         * Add drag handlers to table
         */
        IzendaReportViewer.addDragHandlers = function ($scope, $rootScope, $element) {
            var $htmlContainerPlaceholder = $element.find('.html-container-placeholder');
            // mouse over
            if (!angular.isString($scope.droppableAccept))
                return;
            var $currenttable = $scope.$table;
            var currentTableLeft = $currenttable.offset().left;
            $htmlContainerPlaceholder.height($currenttable.height());
            var columnCoords = [];
            var $currenttableHeader = $scope.$table.find('tr.ReportHeader').last();
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            var $currenttableRows = $currenttableHeader.children('td').slice(0, fieldsInTable.length);
            var countOfVgColumns = IzendaReportViewer.getCountOfVgColumns($scope);
            // calculate 
            angular.element.each($currenttableRows, function (iTh, th) {
                var $th = angular.element(th);
                if (iTh >= countOfVgColumns) {
                    columnCoords.push({
                        left: $th.position().left,
                        width: $th.outerWidth()
                    });
                }
            });
            // mouse enter handler
            $scope.$table.on('mouseenter', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                currentTableLeft = $currenttable.offset().left;
                $htmlContainerPlaceholder.css('top', $currenttable.position().top + 'px');
                $htmlContainerPlaceholder.height($currenttable.height());
                if (columnCoords.length > 0)
                    $htmlContainerPlaceholder.css('left', columnCoords[0].left + 'px');
                $htmlContainerPlaceholder.removeClass('hidden');
            });
            // mouse leave handler
            $scope.$table.on('mouseleave', function () {
                if (!$rootScope.isDraggingNow)
                    return;
                if (event['toElement'] && angular.element(event['toElement']).hasClass('html-container-placeholder'))
                    return;
                $htmlContainerPlaceholder.addClass('hidden');
            });
            // mouse move handler
            $scope.$table.on('mousemove', function (event) {
                if (!$rootScope.isDraggingNow)
                    return;
                var left = event.pageX - currentTableLeft;
                for (var k = 0; k < columnCoords.length; k++) {
                    var column = columnCoords[k];
                    if (k < columnCoords.length - 1) {
                        var nextColumn = columnCoords[k + 1];
                        if (column.left <= left && left < nextColumn.left) {
                            if (left <= column.left + (nextColumn.left - column.left) / 2) {
                                $htmlContainerPlaceholder.css('left', column.left + 'px');
                                $scope.currentInsertColumnOrder = k;
                                $scope.$applyAsync();
                            }
                            else {
                                $htmlContainerPlaceholder.css('left', nextColumn.left + 'px');
                                $scope.currentInsertColumnOrder = k + 1;
                                $scope.$applyAsync();
                            }
                        }
                    }
                    else {
                        if (left >= column.left + column.width / 2) {
                            $htmlContainerPlaceholder.css('left', (column.left + column.width) + 'px');
                            $scope.currentInsertColumnOrder = k + 1;
                            $scope.$applyAsync();
                        }
                        else if (left >= column.left) {
                            $htmlContainerPlaceholder.css('left', (column.left) + 'px');
                            $scope.currentInsertColumnOrder = k;
                            $scope.$applyAsync();
                        }
                    }
                }
            });
        };
        ;
        /**
         * Add table header click handler
         */
        IzendaReportViewer.addClickHandler = function ($scope) {
            if (!angular.isFunction($scope.onHeaderClick))
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            angular.element.each($headerRows, function (iTableHeader, tableHeader) {
                var $tableHeader = angular.element(tableHeader);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    if (iCell >= fieldsInTable.length)
                        return;
                    $cell.on('mousedown', function (e) {
                        if (e.which !== 1)
                            return;
                        if (!angular.isFunction($scope.onHeaderClick))
                            return;
                        var $this = angular.element(e.delegateTarget);
                        var fieldIndex = $this.index();
                        $scope.onHeaderClick({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Add buttons which allow to remvoe table columns
         */
        IzendaReportViewer.addColRemoveButtons = function ($scope) {
            if ($scope.allowColRemove !== 'true')
                return;
            var $headerRows = $scope.$table.find('tr.ReportHeader');
            var fieldsInTable = IzendaReportViewer.getColumnFields($scope);
            // iterate headers
            angular.element.each($headerRows, function (iHeaderRow, headerRow) {
                var $tableHeader = angular.element(headerRow);
                if ($tableHeader.children('.EmptyCell').length > 0)
                    return;
                // iterate header cells
                angular.element.each($tableHeader.children('td'), function (iCell, cell) {
                    var $cell = angular.element(cell);
                    $cell.css('position', 'relative');
                    if (iCell >= fieldsInTable.length)
                        return;
                    // add cell handlers
                    $cell.on('mouseover.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').show();
                    });
                    $cell.on('mouseout.removebtn', function (e) {
                        var $this = angular.element(e.delegateTarget);
                        $this.children('.izenda-common-remove-column-btn').hide();
                    });
                    // add button
                    var $reportColumnRemoveButton = angular.element('<div class="izenda-common-remove-column-btn"><span class="glyphicon glyphicon-remove"></span></div>');
                    $cell.append($reportColumnRemoveButton);
                    $reportColumnRemoveButton.on('mousedown.removebtn', function (e) {
                        if (e.which !== 1)
                            return;
                        e.stopImmediatePropagation();
                        if (!angular.isFunction($scope.onRemove))
                            return;
                        var fieldIndex = angular.element(e.delegateTarget).parent().index();
                        $scope.onRemove({ arg0: fieldsInTable[fieldIndex] });
                    });
                });
            });
        };
        ;
        /**
         * Remove 'onkeydown' event and add own keydown and blur events, which call onPagingClick handler.
         * @param {} $scope Current directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls
         */
        IzendaReportViewer.preparePagingInput = function ($scope, $htmlContainer) {
            var $pageInputs = $htmlContainer.find('.iz-pagelink-exact-page-input');
            if (!$pageInputs.length)
                return;
            angular.element.each($pageInputs, function (iPageInput, pageInput) {
                var $pageInput = angular.element(pageInput);
                $pageInput.attr('onkeydown', null);
                // input changed handler
                var onInputChanged = function ($input) {
                    var pagesCount = parseInt(String($input.attr('data-pages-count')));
                    var itemsPerPage = parseInt(String($input.attr('data-items-per-page')));
                    var val = Number($input.val());
                    if (val < 1)
                        val = 1;
                    if (val > pagesCount)
                        val = pagesCount;
                    var startRecord = ((val - 1) * itemsPerPage) + 1;
                    var finishRecord = startRecord + itemsPerPage - 1;
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink-exact-page-input',
                        arg1: startRecord + '-' + finishRecord
                    });
                };
                $pageInput.on('blur', function (event) {
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
                $pageInput.on('keydown', function (event) {
                    var kc = event.keyCode || event.which;
                    if (kc !== 13)
                        return;
                    var $this = angular.element(event.delegateTarget);
                    onInputChanged($this);
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event, which call onPagingClick handler.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.preparePageLinks = function ($scope, $htmlContainer) {
            var $pageLinks = $htmlContainer.find('.iz-pagelink, .iz-pagelink-direction-btn');
            if (!$pageLinks.length || !angular.isFunction($scope.onPagingClick))
                return;
            angular.element.each($pageLinks, function (iPageLink, pageLink) {
                var $pageLink = angular.element(pageLink);
                var onClickScript = String($pageLink.attr('onclick'));
                var matchResult = /results=(\d+\-\d+)/g.exec(onClickScript);
                if (matchResult && matchResult.length === 2)
                    $pageLink.attr('data-active-page', matchResult[1]);
                $pageLink.attr('onclick', null);
                $pageLink.on('click', function (e) {
                    var $currentLink = angular.element(e.delegateTarget);
                    $scope.onPagingClick({
                        arg0: 'iz-pagelink',
                        arg1: $currentLink.attr('data-active-page')
                    });
                });
            });
        };
        /**
         * Remove 'onclick' event and add own click event.
         * @param {} $scope current Directive scope.
         * @param {} $htmlContainer Report container, which contains paging controls.
         */
        IzendaReportViewer.prepareGoToRecordBtn = function ($scope, $htmlContainer) {
            var $btn = $htmlContainer.find('.iz-pagelink-go-to-page-btn');
            $btn.attr('onclick', null);
            $btn.on('click', function (e) {
                var $this = angular.element(e.delegateTarget);
                var itemsCount = parseInt(String($this.attr('data-items-count')));
                var itemsPerPage = parseInt(String($this.attr('data-items-per-page')));
                var inputValue;
                try {
                    inputValue = parseInt(String(angular.element('#pageNumEd').val()));
                }
                catch (e) {
                    inputValue = 1;
                }
                if (itemsCount < inputValue)
                    inputValue = itemsCount;
                var startRecord = inputValue - (inputValue - 1) % itemsPerPage;
                var finishRecord = startRecord + itemsPerPage - 1;
                $scope.onPagingClick({
                    arg0: 'iz-pagelink-exact-page-input',
                    arg1: startRecord + '-' + finishRecord
                });
            });
        };
        IzendaReportViewer.factory = function () {
            var directive = function ($rootScope, $timeout) {
                return new IzendaReportViewer($rootScope, $timeout);
            };
            directive.$inject = ['$rootScope', '$timeout'];
            return directive;
        };
        return IzendaReportViewer;
    }());
    module_definition_13.default.directive('izendaReportViewer', ['$rootScope', '$timeout', IzendaReportViewer.factory()]);
});
izendaRequire.define("common/ui/directives/select-checkboxes", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_14) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select checkboxes directive.
     */
    var IzendaSelectCheckboxes = /** @class */ (function () {
        function IzendaSelectCheckboxes() {
            this.restrict = 'AE';
            this.scope = {
                existentValues: '=',
                ngModel: '='
            };
            this.template = "<div ng-repeat=\"existentValue in existentValues\">\n\t<label class=\"izenda-common-select-checkboxes-label\">\n\t\t<input type=\"checkbox\" ng-click=\"clickCheckbox(existentValue)\" ng-checked=\"isChecked(existentValue)\"/>\n\t\t<span ng-bind=\"existentValue.text\"></span>\n\t</label>\n</div>";
            IzendaSelectCheckboxes.prototype.link = function ($scope, $element, attrs) {
                $element.addClass('izenda-common-select-checkboxes');
                $scope.$watch('existentValues', function () { return $scope.$parent.$eval(attrs.ngChange); }, true);
                $scope.$watchCollection('ngModel', function () { return $scope.$parent.$eval(attrs.ngChange); });
                $scope.isChecked = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    return viewValue.indexOf(existentValue.value) >= 0;
                };
                $scope.clickCheckbox = function (existentValue) {
                    var viewValue = $scope.ngModel;
                    if (viewValue.indexOf(existentValue.value) >= 0)
                        viewValue.splice(viewValue.indexOf(existentValue.value), 1);
                    else
                        viewValue.push(existentValue.value);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSelectCheckboxes.factory = function () {
            return function () { return new IzendaSelectCheckboxes(); };
        };
        return IzendaSelectCheckboxes;
    }());
    module_definition_14.default.directive('izendaSelectCheckboxes', [IzendaSelectCheckboxes.factory()]);
});
izendaRequire.define("common/ui/directives/splashscreen", ["require", "exports", "angular", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_15) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaSplashScreen = /** @class */ (function () {
        function IzendaSplashScreen($timeout, $izendaUrlService) {
            this.$timeout = $timeout;
            this.restrict = 'EA';
            this.scope = {
                ngShow: '=',
                text: '=',
                loadingIndicatorUrl: '@',
                parentSelector: '@'
            };
            IzendaSplashScreen.prototype.link = function ($scope) {
                var splashTimeout = null;
                var template = "<div class=\"izenda-common-splashscreen hidden\">\n\t<div class=\"izenda-common-splashscreen-inner text-center\">\n\t\t<img class=\"izenda-common-splashscreen-loading\"/>\n\t\t<span class=\"izenda-common-splashscreen-text\"></span>\n\t</div>\n</div>";
                var $element = angular.element(template);
                var added = false;
                // loading spinner
                var defaultLoadingIndicatorUrl = angular.isString($scope.loadingIndicatorUrl)
                    ? $scope.loadingIndicatorUrl
                    : $izendaUrlService.settings.urlRpPage + 'image=ModernImages.loading-grid.gif';
                var parentSelectorText = angular.isString($scope.parentSelector) ? $scope.parentSelector : 'body';
                var bodyOverflow;
                var bodyPadding;
                var $body;
                var initialize = function () {
                    $element.find('.izenda-common-splashscreen-loading').attr('src', defaultLoadingIndicatorUrl);
                    $body = angular.element(parentSelectorText);
                    if ($body.length > 0 && !added) {
                        bodyOverflow = $body.css('overflow');
                        bodyPadding = $body.css('padding-left');
                        $body.append($element);
                        added = true;
                    }
                };
                var setText = function () {
                    var $inner = $element.find('.izenda-common-splashscreen-text');
                    $inner.text($scope.text);
                };
                var bodyHasScrollbar = function () {
                    return $body.length > 0 && $body.get(0).scrollHeight > $body.height();
                };
                var showSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                    }
                    splashTimeout = $timeout(function () {
                        $element.removeClass('hidden');
                        bodyOverflow = $body.css('overflow');
                        $body.css('overflow', 'hidden');
                        if (bodyHasScrollbar()) {
                            bodyPadding = $body.css('padding-left');
                            $body.css('padding-right', '17px');
                        }
                    }, 1000);
                };
                var hideSplash = function () {
                    initialize();
                    if (splashTimeout !== null) {
                        $timeout.cancel(splashTimeout);
                        splashTimeout = null;
                        $element.addClass('hidden');
                        $body.css('overflow', bodyOverflow);
                        if (bodyHasScrollbar()) {
                            $body.css('padding-right', bodyPadding);
                        }
                    }
                };
                $scope.$watch('ngShow', function (newVal) {
                    if (newVal)
                        showSplash();
                    else
                        hideSplash();
                });
                $scope.$watch('text', function () { return setText(); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSplashScreen.factory = function () {
            var directive = function ($timeout, $izendaUrlService) { return new IzendaSplashScreen($timeout, $izendaUrlService); };
            directive.$inject = ['$timeout', '$izendaUrlService'];
            return directive;
        };
        return IzendaSplashScreen;
    }());
    module_definition_15.default.directive('izendaSplashScreen', ['$timeout', '$izendaUrlService', IzendaSplashScreen.factory()]);
});
izendaRequire.define("common/ui/directives/switcher", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_16) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Switcher directive
     */
    var IzendaSwitcher = /** @class */ (function () {
        function IzendaSwitcher() {
            this.restrict = 'A';
            this.scope = {
                tooltip: '=',
                label: '=',
                ngModel: '='
            };
            this.template = "<span ng-show=\"label != null && label != ''\" class=\"izenda-common-switcher-label\">{{label}}</span>\n<span class=\"izenda-common-switcher\" title=\"{{tooltip}}\">\n\t<span class=\"izenda-common-switcher-text-off\">O</span>\n\t<span class=\"izenda-common-switcher-item\"></span>\n\t<span class=\"izenda-common-switcher-text-on\">I</span>\n</span>";
            IzendaSwitcher.prototype.link = function ($scope, $element) {
                $element.click(function (e) {
                    e.stopPropagation();
                    $scope.ngModel = !$scope.ngModel;
                    $scope.$parent.$apply();
                });
                var $switcher = $element.find('.izenda-common-switcher');
                $scope.$watch('ngModel', function (newVal) {
                    if (newVal)
                        $switcher.addClass('on');
                    else
                        $switcher.removeClass('on');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaSwitcher.factory = function () {
            return function () { return new IzendaSwitcher(); };
        };
        return IzendaSwitcher;
    }());
    module_definition_16.default.directive('izendaSwitcher', [IzendaSwitcher.factory()]);
});
izendaRequire.define("common/ui/directives/toggle-button", ["require", "exports", "common/ui/module-definition", "izenda-external-libs"], function (require, exports, module_definition_17) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Toggle button directive
     */
    var IzendaToggleButton = /** @class */ (function () {
        function IzendaToggleButton() {
            this.restrict = 'EA';
            this.transclude = true;
            this.require = ['ngModel'];
            this.scope = {
                trueValue: '=',
                falseValue: '='
            };
            this.template = "<span type=\"button\" class=\"btn izenda-toggle-button-btn active\" data-toggle=\"button\">\n\t<ng-transclude></ng-transclude>\n</span>";
            IzendaToggleButton.prototype.link = function ($scope, $element, attrs, requiredParams) {
                var ngModel = requiredParams[0];
                var btn = $element.children('.btn');
                $scope.$parent.$watch(attrs.ngModel, function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    if (newVal == $scope.trueValue) {
                        if (btn.hasClass('active')) {
                            btn.removeClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                    else if (newVal == $scope.falseValue) {
                        if (!btn.hasClass('active')) {
                            btn.addClass('active');
                            $scope.$parent.$eval(attrs.ngChange);
                        }
                    }
                });
                if (ngModel.$viewValue === $scope.trueValue) {
                    if (btn.hasClass('active')) {
                        btn.removeClass('active');
                    }
                }
                else if (ngModel.$viewValue === $scope.falseValue) {
                    if (!btn.hasClass('active')) {
                        btn.addClass('active');
                    }
                }
                $element.on('click', function () { return ngModel.$setViewValue(!ngModel.$viewValue); });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToggleButton.factory = function () {
            return function () { return new IzendaToggleButton(); };
        };
        return IzendaToggleButton;
    }());
    module_definition_17.default.directive('izendaToggleButton', [IzendaToggleButton.factory()]);
});
izendaRequire.define("common/ui/components/schedule/schedule-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/settings-service", "common/ui/services/schedule-service", "izenda-external-libs"], function (require, exports, module_definition_18, izenda_component_4, localization_service_3, settings_service_2, schedule_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Schedule component definition
     */
    var IzendaScheduleComponent = /** @class */ (function () {
        function IzendaScheduleComponent($izendaLocaleService, $izendaSettingsService, $izendaScheduleService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaScheduleService = $izendaScheduleService;
        }
        /**
         * Component init
         */
        IzendaScheduleComponent.prototype.$onInit = function () {
            this.dateFormat = this.$izendaSettingsService.dateFormat;
            this.culture = this.$izendaSettingsService.culture;
        };
        IzendaScheduleComponent = __decorate([
            izenda_component_4.default(module_definition_18.default, 'izendaScheduleComponent', ['$izendaLocaleService', '$izendaSettingsService', '$izendaScheduleService'], {
                templateUrl: '###RS###extres=components.common.ui.components.schedule.schedule-template.html',
                bindings: {
                    scheduleConfig: '=',
                    repeatTypes: '<',
                    emailTypes: '<',
                    timezones: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_3.default,
                settings_service_2.default,
                schedule_service_1.default])
        ], IzendaScheduleComponent);
        return IzendaScheduleComponent;
    }());
    exports.default = IzendaScheduleComponent;
});
izendaRequire.define("common/ui/components/select-report/select-report-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_19, izenda_component_5, localization_service_4, url_service_2, settings_service_3, common_query_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report component definition
     */
    var IzendaSelectReportComponent = /** @class */ (function () {
        function IzendaSelectReportComponent($timeout, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService) {
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.uncategorizedText = this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.reset();
        }
        IzendaSelectReportComponent.prototype.$onChanges = function (changesObj) {
            var _this = this;
            if (!changesObj.opened)
                return;
            var currentOpened = changesObj.opened.currentValue;
            if (currentOpened) {
                this.reset();
                this.openedInner = true;
                // timeout is needed for the smoother modal animation
                this.$timeout(function () {
                    _this.hideAll = false;
                    _this.$izendaCommonQueryService.getReportSetCategory(_this.uncategorizedText).then(function (data) {
                        var reportSets = data.ReportSets;
                        _this.addCategoriesToModal(reportSets);
                        _this.addReportsToModal(reportSets);
                        _this.isLoading = false;
                    });
                }, 1000);
            }
        };
        /**
         * Add report parts to modal
         */
        IzendaSelectReportComponent.prototype.addReportPartsToModal = function (reportParts) {
            this.groups = [];
            if (!reportParts || !reportParts.length)
                return;
            // add groups:
            var currentGroup = [];
            for (var i = 0; i < reportParts.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportPart = reportParts[i];
                reportPart.isReportPart = true;
                currentGroup.push(reportPart);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Add reportset categories to modal select control.
         */
        IzendaSelectReportComponent.prototype.addCategoriesToModal = function (reportSets) {
            var _this = this;
            if (!reportSets)
                return;
            this.categories = reportSets
                .filter(function (report) { return !report.Dashboard; })
                .map(function (report) {
                var category = report.Category ? report.Category : _this.uncategorizedText;
                return !report.Subcategory
                    ? category
                    : category + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
            });
            // make categories unique
            this.categories = Array.from(new Set(this.categories));
            if (!this.category)
                this.category = this.uncategorizedText;
        };
        /**
         * Add report to modal dialog body.
         */
        IzendaSelectReportComponent.prototype.addReportsToModal = function (reportSets) {
            this.groups = [];
            var reportSetsToShow = [];
            if (reportSets && reportSets.length)
                reportSetsToShow = reportSets.filter(function (rs) { return !rs.Dashboard && rs.Name; });
            if (!reportSetsToShow || !reportSetsToShow.length)
                return;
            // add groups:
            var currentGroup = [];
            this.groups.length = 0;
            for (var i = 0; i < reportSetsToShow.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    this.groups.push(currentGroup);
                    currentGroup = [];
                }
                var reportSet = reportSetsToShow[i];
                reportSet.isReportPart = false;
                currentGroup.push(reportSet);
            }
            this.groups.push(currentGroup);
        };
        /**
         * Select category handler
         */
        IzendaSelectReportComponent.prototype.categoryChangedHandler = function () {
            var _this = this;
            if (this.isLoading)
                return;
            this.isLoading = true;
            this.groups = [];
            if (!this.category)
                this.category = this.uncategorizedText;
            this.$izendaCommonQueryService.getReportSetCategory(this.category).then(function (data) {
                _this.addReportsToModal(data.ReportSets);
                _this.isLoading = false;
            });
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * User clicked to report set item
         */
        IzendaSelectReportComponent.prototype.itemSelectedHandler = function (item) {
            var _this = this;
            var isReportPart = item.isReportPart;
            var reportFullName = item.Name;
            if (item.CategoryFull)
                reportFullName = item.CategoryFull + this.$izendaSettingsService.getCategoryCharacter() + reportFullName;
            if (!isReportPart) {
                // if report set selected
                this.isLoading = true;
                this.groups = [];
                this.$izendaCommonQueryService.getReportParts(reportFullName).then(function (data) {
                    var reports = data.Reports;
                    _this.addReportPartsToModal(reports);
                    _this.isLoading = false;
                });
            }
            else {
                this.openedInner = false;
                // if report part selected
                if (angular.isFunction(this.onSelected))
                    this.onSelected({ reportPartInfo: item });
            }
        };
        /**
         * Reset form
         */
        IzendaSelectReportComponent.prototype.reset = function () {
            this.openedInner = false;
            this.category = this.uncategorizedText;
            this.categories = [];
            this.groups = [];
            this.isLoading = true;
            this.hideAll = true;
        };
        IzendaSelectReportComponent = __decorate([
            izenda_component_5.default(module_definition_19.default, 'izendaSelectReportComponent', ['$timeout', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report.select-report-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_4.default,
                url_service_2.default,
                settings_service_3.default,
                common_query_service_2.default])
        ], IzendaSelectReportComponent);
        return IzendaSelectReportComponent;
    }());
    exports.default = IzendaSelectReportComponent;
});
izendaRequire.define("common/ui/components/select-report-name/select-report-name-component", ["require", "exports", "angular", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/query/services/url-service", "common/query/services/settings-service", "common/query/services/common-query-service", "izenda-external-libs"], function (require, exports, angular, module_definition_20, izenda_component_6, localization_service_5, url_service_3, settings_service_4, common_query_service_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Select report name component definition
     */
    var IzendaSelectReportNameComponent = /** @class */ (function () {
        function IzendaSelectReportNameComponent($q, $izendaLocaleService, $izendaUrlService, $izendaSettingsService, $izendaCommonQueryService, reportNameInputPlaceholderText, reportNameEmptyError, reportNameInvalidError) {
            this.$q = $q;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaCommonQueryService = $izendaCommonQueryService;
            this.reportNameEmptyError = reportNameEmptyError;
            this.reportNameInvalidError = reportNameInvalidError;
            // other
            this.nextId = 1;
            this.isCategoryAllowed = $izendaSettingsService.getCommonSettings().showCategoryTextboxInSaveDialog;
            this.reportNameInputPlaceholderText = this.$izendaLocaleService
                .localeText(reportNameInputPlaceholderText[0], reportNameInputPlaceholderText[1]);
            this.textCreateNew = $izendaLocaleService.localeText('js_CreateNew', 'Create New');
            this.textUncategorized = $izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            this.textErrorReportNameEmpty = $izendaLocaleService.localeText(reportNameEmptyError[0], reportNameEmptyError[1]);
            this.textErrorInvalidReportName = $izendaLocaleService.localeText(reportNameInvalidError[0], reportNameInvalidError[1]);
            this.textErrorInvalidCategoryName = $izendaLocaleService.localeText('js_InvalidCategoryName', 'Invalid Category Name');
            this.isOpenedInner = false;
            this.isNewReportDialog = false;
            this.reportName = '';
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.errorMessages = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        }
        IzendaSelectReportNameComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.opened) {
                var currentOpened = changesObj.opened.currentValue;
                if (currentOpened)
                    this.openModal();
            }
        };
        /**
         * Modal closed handler
         */
        IzendaSelectReportNameComponent.prototype.modalClosedHandler = function () {
            if (angular.isFunction(this.onModalClosed))
                this.onModalClosed({});
        };
        /**
         * Close modal dialog
         */
        IzendaSelectReportNameComponent.prototype.closeModal = function () {
            this.isOpenedInner = false;
        };
        /**
         * Open modal dialog
         */
        IzendaSelectReportNameComponent.prototype.openModal = function () {
            var _this = this;
            this.isSelectDisabled = true;
            this.isOpenedInner = true;
            this.resetForm();
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.nextId = 1;
            // show loading message inside select control
            this.categories = [];
            this.categories.push({
                id: -1,
                name: this.$izendaLocaleService.localeText('js_Loading', 'Loading...')
            });
            this.selectedCategory = this.categories[0];
            this.reportName = reportInfo.name;
            this.$izendaCommonQueryService.getReportSetCategory(this.textUncategorized).then(function (data) {
                _this.categories = [];
                _this.selectedCategory = null;
                _this.reportSets = data.ReportSets;
                // add categories
                // "Create new"
                if (_this.$izendaSettingsService.getCommonSettings().allowCreateNewCategory)
                    _this.categories.push({
                        id: _this.nextId++,
                        name: _this.textCreateNew
                    });
                // "Uncategorized"
                _this.categories.push({
                    id: _this.nextId++,
                    name: _this.textUncategorized
                });
                _this.selectedCategory = _this.getCategoryObjectByName(_this.textUncategorized);
                // Other categories
                if (angular.isArray(_this.reportSets)) {
                    _this.reportSets.forEach(function (report) {
                        var id = _this.nextId++;
                        var currentCategoryName = report.Category;
                        if (!currentCategoryName)
                            currentCategoryName = _this.textUncategorized;
                        currentCategoryName = !report.Subcategory
                            ? currentCategoryName
                            : currentCategoryName + _this.$izendaSettingsService.getCategoryCharacter() + report.Subcategory;
                        if (_this.categories && _this.categories.length) {
                            if (!_this.categories.find(function (c) { return c.name === currentCategoryName; })) {
                                // if have't already added
                                var cat = {
                                    id: id,
                                    name: currentCategoryName
                                };
                                _this.categories.push(cat);
                                if (reportInfo.category === currentCategoryName) {
                                    _this.selectedCategory = cat;
                                }
                            }
                        }
                    });
                }
                _this.isSelectDisabled = false;
            });
        };
        /**
         * "Enter" button key press handler for report name <input>
         * @param {event object} $event.
         */
        IzendaSelectReportNameComponent.prototype.reportNameKeyPressed = function ($event) {
            if ($event.keyCode === 13 /* Enter */)
                this.completeHandler();
        };
        /**
         * OK button pressed
         */
        IzendaSelectReportNameComponent.prototype.completeHandler = function () {
            var _this = this;
            this.validateForm().then(function () {
                _this.closeModal();
                var categoryName = _this.isCreatingNewCategory ? _this.newCategoryName : _this.selectedCategory.name;
                if (angular.isFunction(_this.onSelected)) {
                    _this.onSelected({
                        reportName: _this.reportName,
                        categoryName: categoryName
                    });
                }
            }, function () { });
        };
        /**
         * Get report with given name from report list
         * @param {string} report name.
         * @param {Array} list with reports.
         */
        IzendaSelectReportNameComponent.prototype.isReportInReportList = function (reportName, reportList) {
            if (!reportList || !reportList.length)
                return false;
            return reportList.find(function (rs) { return rs.Name === reportName.trim(); });
        };
        /**
         * Set form to it's initial state
         */
        IzendaSelectReportNameComponent.prototype.resetForm = function () {
            var reportInfo = this.$izendaUrlService.getReportInfo();
            this.errorMessages = [];
            this.isCreatingNewCategory = false;
            this.newCategoryName = '';
            this.categories = [];
            this.selectedCategory = null;
            this.isSelectDisabled = true;
            this.reportSets = [];
            this.isNameFocused = false;
            this.isCategoryFocused = false;
            if (this.isNewReportDialog) {
                this.reportName = '';
            }
            else {
                var separatorIndex = (reportInfo && reportInfo.name)
                    ? reportInfo.name.lastIndexOf(this.$izendaSettingsService.getCategoryCharacter())
                    : -1;
                this.reportName = (separatorIndex < 0) ? reportInfo.name : reportInfo.name.substr(separatorIndex + 1);
            }
        };
        /**
         * Clear all focus
         */
        IzendaSelectReportNameComponent.prototype.clearFocus = function () {
            this.isNameFocused = false;
            this.isCategoryFocused = false;
        };
        /**
         * Set focus on report name input
         */
        IzendaSelectReportNameComponent.prototype.setFocus = function () {
            this.isNameFocused = true;
        };
        /**
         * Categories were updated.
         */
        IzendaSelectReportNameComponent.prototype.updateCategoriesHandler = function (newCategories) {
            var _this = this;
            this.categories = newCategories.map(function (newCategoryName) {
                return {
                    id: _this.nextId++,
                    name: newCategoryName
                };
            });
            var selectedCategoryName = this.selectedCategory ? this.selectedCategory.name : null;
            this.selectedCategory = this.getCategoryObjectByName(selectedCategoryName);
        };
        /**
         * Report category selected handler
         */
        IzendaSelectReportNameComponent.prototype.categorySelectedHandler = function (category) {
            if (!this.isCategoryAllowed) {
                this.selectedCategory = this.getCategoryObjectByName(this.textUncategorized);
                return;
            }
            this.selectedCategory = this.getCategoryObjectByName(category);
            if (this.selectedCategory !== null) {
                if (this.selectedCategory.name === this.textCreateNew) {
                    this.isCreatingNewCategory = true;
                    this.clearFocus();
                    this.isCategoryFocused = true;
                }
                else {
                    this.isCreatingNewCategory = false;
                }
            }
            else {
                this.isCreatingNewCategory = false;
            }
        };
        /**
         * Validate form
         */
        IzendaSelectReportNameComponent.prototype.validateForm = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                // check report name not empty
                _this.errorMessages.length = 0;
                _this.reportName = angular.isString(_this.reportName) ? _this.reportName.trim() : '';
                if (!_this.reportName) {
                    _this.errorMessages.push(_this.textErrorReportNameEmpty);
                    reject();
                    return false;
                }
                // check report name is valid
                var settings = _this.$izendaSettingsService.getCommonSettings();
                var reportNameFixed = window.utility.fixReportNamePath(_this.reportName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                if (!reportNameFixed) {
                    _this.errorMessages.push(_this.textErrorInvalidReportName);
                    reject();
                    return false;
                }
                _this.reportName = reportNameFixed;
                // check category
                if (_this.isCreatingNewCategory) {
                    var fixedCategoryName = window.utility.fixReportNamePath(_this.newCategoryName, _this.$izendaSettingsService.getCategoryCharacter(), settings.stripInvalidCharacters, settings.allowInvalidCharacters);
                    if (!fixedCategoryName) {
                        _this.errorMessages.push(_this.textErrorInvalidCategoryName);
                        reject();
                        return false;
                    }
                    _this.newCategoryName = fixedCategoryName;
                    for (var i = 0; i < _this.categories.length; i++) {
                        if (_this.newCategoryName === _this.categories[i]['name']) {
                            _this.errorMessages.push(_this.getErrorTextCategoryExist(_this.newCategoryName));
                            reject();
                            return false;
                        }
                    }
                    resolve();
                    return true;
                }
                // check report name
                var selectedCategoryName = _this.selectedCategory.name;
                // resolve if it is same report
                var reportInfo = _this.$izendaUrlService.getReportInfo();
                if (reportInfo.name === _this.reportName && reportInfo.category === selectedCategoryName) {
                    _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                        _this.$izendaSettingsService.getCategoryCharacter() +
                        _this.reportName));
                    reject();
                    return false;
                }
                // check report isn't in that category
                if (selectedCategoryName === _this.textUncategorized) {
                    if (_this.isReportInReportList(_this.reportName, _this.reportSets)) {
                        _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                            _this.$izendaSettingsService.getCategoryCharacter() +
                            _this.reportName));
                        reject();
                        return false;
                    }
                    resolve();
                    return true;
                }
                else {
                    _this.$izendaCommonQueryService.getReportSetCategory(selectedCategoryName).then(function (data) {
                        _this.reportSets = data.ReportSets;
                        if (_this.isReportInReportList(_this.reportName, data.ReportSets)) {
                            _this.errorMessages.push(_this.getErrorTextReportExist(selectedCategoryName +
                                _this.$izendaSettingsService.getCategoryCharacter() +
                                _this.reportName));
                            reject();
                            return false;
                        }
                        resolve();
                        return true;
                    });
                }
                return true;
            });
        };
        /**
         * Get category object by it's id
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectById = function (id) {
            return this.categories.find(function (category) { return category.id === id; }) || null;
        };
        /**
         * Get category object by it's name
         */
        IzendaSelectReportNameComponent.prototype.getCategoryObjectByName = function (name) {
            return this.categories.find(function (category) { return category.name === name; }) || null;
        };
        IzendaSelectReportNameComponent.prototype.getInvalidCharsRegex = function () {
            var additionalCharacter = '';
            if (jsResources.categoryCharacter !== '\\')
                additionalCharacter = jsResources.categoryCharacter.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
            return new RegExp('[^A-Za-z0-9_/' + additionalCharacter + "\\-'' \\\\]", 'g');
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextCategoryExist = function (categoryName) {
            return this.$izendaLocaleService.localeTextWithParams('js_CategoryExist', 'Category with name "{0}" already exist.', [categoryName]);
        };
        IzendaSelectReportNameComponent.prototype.getErrorTextReportExist = function (fullReportName) {
            return this.$izendaLocaleService.localeTextWithParams('js_ReportAlreadyExist', 'Dashboard or report "{0}" already exist', [fullReportName]);
        };
        IzendaSelectReportNameComponent = __decorate([
            izenda_component_6.default(module_definition_20.default, 'izendaSelectReportNameComponent', ['$q', '$izendaLocaleService', '$izendaUrlService', '$izendaSettingsService', '$izendaCommonQueryService', 'izenda.common.ui.reportNameInputPlaceholderText',
                'izenda.common.ui.reportNameEmptyError', 'izenda.common.ui.reportNameInvalidError'], {
                templateUrl: '###RS###extres=components.common.ui.components.select-report-name.select-report-name-template.html',
                bindings: {
                    opened: '<',
                    onSelected: '&',
                    onModalClosed: '&'
                }
            }),
            __metadata("design:paramtypes", [Function, localization_service_5.default,
                url_service_3.default,
                settings_service_4.default,
                common_query_service_3.default, Array, String, String])
        ], IzendaSelectReportNameComponent);
        return IzendaSelectReportNameComponent;
    }());
    exports.default = IzendaSelectReportNameComponent;
    /**
     * Directive docs.
     */
    var IzendaCategorySelect = /** @class */ (function () {
        function IzendaCategorySelect($izendaSettingsService) {
            this.$izendaSettingsService = $izendaSettingsService;
            this.restrict = 'A';
            this.scope = {
                categories: '=',
                category: '=',
                onSelect: '&',
                onCategoriesChanged: '&'
            };
            IzendaCategorySelect.prototype.link = function ($scope, $element) {
                var categoryCharacter = $izendaSettingsService.getCategoryCharacter();
                var commonSettings = $izendaSettingsService.getCommonSettings();
                var stripInvalidCharacters = commonSettings.stripInvalidCharacters;
                var allowInvalidCharacters = commonSettings.allowInvalidCharacters;
                var categoryControl = new AdHoc.Utility.IzendaCategorySelectorControl($element, categoryCharacter, stripInvalidCharacters, allowInvalidCharacters);
                categoryControl.addSelectedHandler(function (val) {
                    if (angular.isFunction($scope.onSelect)) {
                        $scope.onSelect({
                            val: val
                        });
                        $scope.$applyAsync();
                    }
                });
                // watch for collapsed state change
                $scope.$watchCollection('categories', function () {
                    updateCategories();
                    updateCategory();
                });
                $scope.$watch('category', function () {
                    updateCategory();
                });
                function updateCategories() {
                    var previousLength = $scope.categories.length;
                    categoryControl.setCategories($scope.categories);
                    var newCategories = collectCategories();
                    if (previousLength !== newCategories.length && angular.isFunction($scope.onCategoriesChanged)) {
                        $scope.onCategoriesChanged({
                            newCategories: newCategories
                        });
                        $scope.$applyAsync();
                    }
                }
                function updateCategory() {
                    if (angular.isObject($scope.category) && $scope.category.id !== 1) {
                        categoryControl.select($scope.category.name);
                    }
                }
                function collectCategories() {
                    var options = angular.element.map($element.children('option'), function ($option) {
                        return $option.value;
                    });
                    return options;
                }
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaCategorySelect.factory = function () {
            var directive = function ($izendaSettingsService) { return new IzendaCategorySelect($izendaSettingsService); };
            directive.$inject = ['$izendaSettingsService'];
            return directive;
        };
        return IzendaCategorySelect;
    }());
    module_definition_20.default.directive('izendaCategorySelect', ['$izendaSettingsService', IzendaCategorySelect.factory()]);
    var CategoryObject = /** @class */ (function () {
        function CategoryObject() {
        }
        return CategoryObject;
    }());
});
izendaRequire.define("common/ui/components/share/share-component", ["require", "exports", "common/ui/module-definition", "common/core/tools/izenda-component", "common/core/services/localization-service", "common/ui/services/share-service", "izenda-external-libs"], function (require, exports, module_definition_21, izenda_component_7, localization_service_6, share_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaShareComponent = /** @class */ (function () {
        function IzendaShareComponent($izendaLocaleService, $izendaShareService) {
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaShareService = $izendaShareService;
        }
        /**
         * Check is share rule selected right is valid
         */
        IzendaShareComponent.prototype.getShareRuleValidationMessage = function (shareRule) {
            if (!shareRule.right && !shareRule.subject)
                return this.$izendaLocaleService.localeText('js_NessesarySelectRight', 'It is necessary to choose the right, otherwise it will be ignored.');
            return null;
        };
        /**
         * Remove share rule handler.
         * @param {Core.IzendaShareRuleModel} shareRule
         */
        IzendaShareComponent.prototype.removeShareRule = function (shareRule) {
            this.$izendaShareService.removeShareRule(shareRule);
        };
        /**
         * Add share rule
         */
        IzendaShareComponent.prototype.addShareRule = function () {
            this.$izendaShareService.addNewShareRule();
        };
        IzendaShareComponent = __decorate([
            izenda_component_7.default(module_definition_21.default, 'izendaShareComponent', ['$izendaLocaleService', '$izendaShareService'], {
                templateUrl: '###RS###extres=components.common.ui.components.share.share-template.html',
                bindings: {
                    subjects: '<',
                    rights: '<',
                    shareRules: '<'
                }
            }),
            __metadata("design:paramtypes", [localization_service_6.default,
                share_service_1.default])
        ], IzendaShareComponent);
        return IzendaShareComponent;
    }());
    exports.default = IzendaShareComponent;
});
izendaRequire.define("common/ui/module", ["require", "exports", "common/ui/module-definition", "common/ui/services/share-service", "common/ui/services/schedule-service", "common/ui/directives/align-switcher", "common/ui/directives/autocomplete", "common/ui/directives/bootstrap", "common/ui/directives/color-picker", "common/ui/directives/datetime-picker", "common/ui/directives/report-viewer", "common/ui/directives/select-checkboxes", "common/ui/directives/splashscreen", "common/ui/directives/switcher", "common/ui/directives/toggle-button", "common/ui/components/schedule/schedule-component", "common/ui/components/select-report/select-report-component", "common/ui/components/select-report-name/select-report-name-component", "common/ui/components/share/share-component"], function (require, exports, module_definition_22, share_service_2, schedule_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    share_service_2.default.register(module_definition_22.default);
    schedule_service_2.default.register(module_definition_22.default);
});
izendaRequire.define("dashboard/module-definition", ["require", "exports", "angular", "common/common-module-definition", "common/ui/module-definition", "izenda-external-libs", "common/core/module", "common/query/module", "common/ui/module"], function (require, exports, angular, common_module_definition_1, module_definition_23) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * requirejs module, which creates angular modules.
     * returns 'loadSettings' function, which could load settings for this module.
     */
    // Create dashboards angular module
    var izendaDashboardModule = angular.module('izendaDashboard', [
        'ngCookies',
        'rx',
        'izenda.common.core',
        'izenda.common.query',
        'izenda.common.ui',
        'izendaFilters'
    ]);
    exports.default = izendaDashboardModule;
    // configure common ui module:
    module_definition_23.default
        .value('izenda.common.ui.reportNameInputPlaceholderText', ['js_DashboardName', 'Dashboard Name'])
        .value('izenda.common.ui.reportNameEmptyError', ['js_DashboardNameCantBeEmpty', 'Dashboard name can\'t be empty.'])
        .value('izenda.common.ui.reportNameInvalidError', ['js_InvalidDashboardName', 'Invalid dashboard Name']);
    var IzendaDashboardsLoader = /** @class */ (function () {
        function IzendaDashboardsLoader() {
        }
        /**
         * Create and configure modules
         */
        IzendaDashboardsLoader.configureModules = function (configObject) {
            var dashboardSettings = configObject;
            var dashboardConfig = {
                showDashboardToolbar: true,
                defaultDashboardCategory: null,
                defaultDashboardName: null,
                dashboardToolBarItemsSort: function (item1, item2) { return item1.localeCompare(item2); }
            };
            // configure instant report module
            var module = angular
                .module('izendaDashboard')
                .constant('izendaDashboardConfig', dashboardConfig)
                .config(['$logProvider', function ($logProvider) { $logProvider.debugEnabled(false); }])
                .config([
                '$provide', function ($provide) {
                    $provide.decorator('$browser', [
                        '$delegate', function ($delegate) {
                            $delegate.onUrlChange = function () { };
                            $delegate.url = function () { return ''; };
                            return $delegate;
                        }
                    ]);
                }
            ])
                .constant('$izendaDashboardSettings', dashboardSettings);
            return module;
        };
        /**
         * Bootstrap angular app:
         * window.urlSettings$ objects should be defined before this moment.
         */
        IzendaDashboardsLoader.bootstrap = function () {
            angular.element(document).ready(function () {
                // common settings promise:
                var commonQuerySettingsPromise = common_module_definition_1.IzendaCommonLoader.loadSettings();
                // instant report settings promise:
                var urlSettings = window.urlSettings$;
                var rsPageUrl = urlSettings.urlRsPage;
                var settingsUrl = rsPageUrl + '?wscmd=getDashboardSettings';
                var dashboardsSettingsPromise = angular.element.get(settingsUrl);
                // wait while all settings are loaded:
                angular.element
                    .when(commonQuerySettingsPromise, dashboardsSettingsPromise)
                    .then(function (commonSettingsResult, dashboardsSettingsResult) {
                    // get instant report config object
                    var configObject = dashboardsSettingsResult[0];
                    // create and configure modules:
                    IzendaDashboardsLoader.configureModules(configObject);
                    // bootstrap application:
                    angular.bootstrap('#izendaDashboardMainContainer', ['izendaDashboard']);
                });
            });
        };
        ;
        return IzendaDashboardsLoader;
    }());
    exports.IzendaDashboardsLoader = IzendaDashboardsLoader;
});
izendaRequire.define("dashboard/services/background-service", ["require", "exports", "angular", "izenda-external-libs"], function (require, exports, angular) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard storage service. Stores current dashboard state.
     */
    var DashboardBackgroundService = /** @class */ (function () {
        function DashboardBackgroundService($cookies) {
            this.$cookies = $cookies;
            this.hueRotate = false;
        }
        Object.defineProperty(DashboardBackgroundService, "injectModules", {
            get: function () {
                return ['$cookies', '$rootScope'];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "finalBackgroundImageUrl", {
            get: function () {
                return this.backgroundImageType === 'file'
                    ? this.backgroundImageBase64
                    : this.backgroundImageUrl;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundHueRotate", {
            // hueRotate get/set
            get: function () {
                return this.hueRotate;
            },
            set: function (val) {
                this.hueRotate = val;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundColor", {
            // color get/set
            get: function () {
                var backColor = this.getCookie('izendaDashboardBackgroundColor');
                return backColor || '#1c8fd6';
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundColor', val);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageRepeat", {
            // image repeat get/set
            get: function () {
                return this.getCookie('izendaDashboardBackgroundImageRepeat') === 'true';
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundImageRepeat', val ? 'true' : 'false');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageType", {
            // backgroundImageType get/set
            get: function () {
                return this.getCookie('izendaDashboardBackgroundImageType');
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundImageType', val);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageBase64", {
            // backgroundImageBase64 get/set
            get: function () {
                var result = '';
                if (this.isStorageAvailable()) {
                    var dataImage = localStorage.getItem('izendaDashboardBackgroundImageBase64');
                    if (angular.isString(dataImage))
                        result = dataImage;
                }
                else {
                    this.getCookie('izendaDashboardBackgroundImageBase64');
                }
                return result;
            },
            set: function (val) {
                if (this.isStorageAvailable()) {
                    if (val != null)
                        localStorage.setItem('izendaDashboardBackgroundImageBase64', val);
                    else
                        localStorage.removeItem('izendaDashboardBackgroundImageBase64');
                }
                else {
                    this.setCookie('izendaDashboardBackgroundImageBase64', val);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DashboardBackgroundService.prototype, "backgroundImageUrl", {
            // image url get/set
            get: function () {
                return this.getCookie('izendaDashboardBackgroundImageUrl');
            },
            set: function (val) {
                this.setCookie('izendaDashboardBackgroundImageUrl', val);
            },
            enumerable: true,
            configurable: true
        });
        // utility functions
        DashboardBackgroundService.prototype.getCookie = function (name) {
            return this.$cookies.get(name);
        };
        DashboardBackgroundService.prototype.setCookie = function (name, value) {
            this.$cookies.put(name, value);
        };
        DashboardBackgroundService.prototype.isStorageAvailable = function () {
            return typeof (Storage) !== 'undefined';
        };
        Object.defineProperty(DashboardBackgroundService, "$inject", {
            /**
             * Angular dependencies
             */
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardBackgroundService.register = function (module) {
            module.service('$izendaBackgroundService', DashboardBackgroundService.injectModules.concat(DashboardBackgroundService));
        };
        return DashboardBackgroundService;
    }());
    exports.default = DashboardBackgroundService;
});
izendaRequire.define("dashboard/model/tile-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda dashboard tile model class
     */
    var IzendaDashboardTileModel = /** @class */ (function () {
        function IzendaDashboardTileModel(isNew, json) {
            this.isNew = false;
            this.isSourceReportDeleted = false;
            this.title = '';
            this.description = '';
            this.x = 0;
            this.y = 0;
            this.width = 6;
            this.height = 3;
            this.canBeLoaded = true;
            this.designerType = 'ReportDesigner';
            this.maxRights = 'Full Access';
            this.top = 100;
            this.topString = '100';
            this.reportName = null;
            this.reportCategory = null;
            this.reportFullName = null;
            this.reportPartName = null;
            this.reportNameWithCategory = null;
            this.reportSetName = null;
            this.reportType = null;
            this.previousReportFullName = null;
            this.backTilePopupOpened = false;
            this.flip = null;
            this.id = IzendaDashboardTileModel.$$TileIdCounter++;
            this.isNew = isNew;
            this.fromJson(json);
        }
        /**
         * Factory method
         * @param {boolean} isNew is this tile marked as new.
         * @param {Object} rawModel tile properties.
         * @returns {IzendaDashboardTileModel} model instance.
         */
        IzendaDashboardTileModel.createInstance = function (isNew, json) {
            if (json === void 0) { json = null; }
            return new IzendaDashboardTileModel(isNew, json);
        };
        /**
         * Fill this object from the raw representation
         * @param {any} json Raw model.
         */
        IzendaDashboardTileModel.prototype.fromJson = function (json) {
            if (!json)
                return;
            this.isSourceReportDeleted = json.isSourceReportDeleted || false;
            this.title = json.reportTitle || '';
            this.description = json.reportDescription || '';
            this.x = json.x || 0;
            this.y = json.y || 0;
            this.width = json.width || 6;
            this.height = json.height || 3;
            this.canBeLoaded = json.canBeLoaded || true;
            this.designerType = json.designerType || 'ReportDesigner';
            this.maxRights = json.maxRights || 'Full Access';
            this.top = json.recordsCount || 100;
            this.topString = this.top + '';
            this.reportName = json.reportName || null;
            this.reportCategory = json.reportCategory || null;
            this.reportFullName = json.reportFullName || null;
            this.reportPartName = json.reportPartName || null;
            this.reportNameWithCategory = this.reportSetName = json.reportSetName || null;
            this.reportType = json.reportType || null;
        };
        /**
         * Create JSON config for sending it to server
         */
        IzendaDashboardTileModel.prototype.toJson = function () {
            var json = {
                isSourceReportDeleted: this.isSourceReportDeleted,
                reportTitle: this.title,
                reportDescription: this.description,
                x: this.x,
                y: this.y,
                width: this.width,
                height: this.height,
                canBeLoaded: this.canBeLoaded,
                designerType: this.designerType,
                maxRights: this.maxRights,
                recordsCount: this.top,
                reportName: this.reportName || '',
                reportCategory: this.reportCategory || '',
                reportFullName: this.reportFullName || '',
                reportPartName: this.reportPartName || '',
                reportSetName: this.reportSetName || '',
                reportType: this.reportType
            };
            return json;
        };
        /**
         * Get tile geometric position
         * @param {Array<IzendaDashboardTileModel>} tiles Collection where this tile placed
         */
        IzendaDashboardTileModel.prototype.getTileOrder = function (tiles) {
            var tilesCopy = tiles.slice();
            tilesCopy.sort(function (tile1, tile2) {
                if (tile1.y !== tile2.y)
                    return tile1.y - tile2.y;
                return tile1.x - tile2.x;
            });
            return tilesCopy.indexOf(this);
        };
        IzendaDashboardTileModel.$$TileIdCounter = 1;
        return IzendaDashboardTileModel;
    }());
    exports.IzendaDashboardTileModel = IzendaDashboardTileModel;
});
izendaRequire.define("dashboard/model/dashboard-model", ["require", "exports", "dashboard/model/tile-model"], function (require, exports, tile_model_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda dashboard model class
     */
    var IzendaDashboardModel = /** @class */ (function () {
        function IzendaDashboardModel(isNew, json, share, schedule) {
            this.isNew = true;
            this.reportName = null;
            this.reportCategory = null;
            this.reportFullName = null;
            this.previousReportName = null;
            this.previousReportCategory = null;
            this.previousReportFullName = null;
            this.sourceReportFullName = null;
            this.effectiveRights = null;
            this.usesHiddenColumns = false;
            this.reportsWithHiddenColumns = [];
            this.tiles = [];
            if (!isNew && !json)
                throw new Error('Can\'t initialize dashboard model when isNew=false and rawModel is empty.');
            this.isNew = isNew;
            if (isNew) {
                this.reportName = null;
                this.reportCategory = null;
                this.reportFullName = null;
                this.sourceReportFullName = null;
                this.tiles = [
                    tile_model_1.IzendaDashboardTileModel.createInstance(true)
                ];
            }
            else {
                this.fromJson(json, share, schedule);
            }
        }
        /**
         * Factory method
         * @param {boolean} isNew new dashboard with defualt config or not.
         * @param {any} json dashboard server-side properties.
         * @returns {IzendaDashboardModel} model instance.
         */
        IzendaDashboardModel.createInstance = function (isNew, json) {
            return new IzendaDashboardModel(isNew, json);
        };
        /**
         * Json validation.
         */
        IzendaDashboardModel.isValidJson = function (json) {
            return json && typeof (json) === 'object' && json.hasOwnProperty('tiles');
        };
        Object.defineProperty(IzendaDashboardModel.prototype, "tilesSorted", {
            /**
             * Get sorted tiles by its positions.
             * @returns {IzendaDashboardTileModel[]} sorted tiles array (another instance of array!)
             */
            get: function () {
                return this.tiles.sort(function (tile1, tile2) {
                    if (tile1.y !== tile2.y)
                        return tile1.y - tile2.y;
                    return tile1.x - tile2.x;
                });
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardModel.prototype, "tilesWithHiddenColumns", {
            get: function () {
                var _this = this;
                return this.tiles.filter(function (t) {
                    return _this.reportsWithHiddenColumns.indexOf(t.reportFullName) >= 0;
                });
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Fill this object from the raw representation
         * @param {any} json Raw model.
         */
        IzendaDashboardModel.prototype.fromJson = function (json, share, schedule) {
            this.reportName = json.reportName;
            this.reportCategory = json.reportCategory;
            this.reportFullName = json.reportFullName;
            this.sourceReportFullName = json.sourceReportFullName;
            this.effectiveRights = json.effectiveRights;
            this.usesHiddenColumns = json.usesHiddenColumns;
            this.reportsWithHiddenColumns = json.reportsWithHiddenColumns;
            this.filters = json.filters;
            this.tiles = json.tiles.map(function (tileCfg) { return tile_model_1.IzendaDashboardTileModel.createInstance(false, tileCfg); });
        };
        /**
         * Create JSON config for sending it to server
         */
        IzendaDashboardModel.prototype.toJson = function () {
            // filter out invalid tiles and sort by it's geometrical position
            var tilesCopy = this.tiles
                .filter(function (tile) { return !!tile.reportFullName; })
                .slice();
            tilesCopy.sort(function (tile1, tile2) {
                if (tile1.y !== tile2.y)
                    return tile1.y - tile2.y;
                return tile1.x - tile2.x;
            });
            var result = {
                isDashboard: true,
                isNew: this.isNew,
                reportName: this.reportName,
                reportCategory: this.reportCategory,
                reportFullName: this.reportFullName,
                sourceReportFullName: this.sourceReportFullName,
                filters: this.filters,
                tiles: tilesCopy.map(function (tile) { return tile.toJson(); })
            };
            return result;
        };
        /**
         * Add new tile with left, top coordinates {x, y}.
         * Maximum size of the created tile is 6x3.
         * @param {number} x left coordinate.
         * @param {number} y top coordinate.
         */
        IzendaDashboardModel.prototype.addPixelTile = function (x, y) {
            var newTile = tile_model_1.IzendaDashboardTileModel.createInstance(true);
            newTile.x = x;
            newTile.y = y;
            newTile.width = 1;
            newTile.height = 1;
            while (!this.checkTileIntersectsBbox(newTile) && newTile.width < 6 && newTile.width + newTile.x < 12)
                newTile.width++;
            if (this.checkTileIntersectsBbox(newTile))
                newTile.width--;
            while (!this.checkTileIntersectsBbox(newTile) && newTile.height < 3)
                newTile.height++;
            if (this.checkTileIntersectsBbox(newTile))
                newTile.height--;
            if (newTile.width <= 0 || newTile.height <= 0)
                return;
            this.tiles.push(newTile);
        };
        /**
         * Remove tile from dashboard
         * @param {IzendaDashboardTileModel} tile tile for removal.
         */
        IzendaDashboardModel.prototype.removeTile = function (tile) {
            this.tiles.splice(this.tiles.indexOf(tile), 1);
        };
        /**
         * If tile intersects with at least one of it's neighbors - return true.
         * @param {IzendaDashboardTileModel} tile tile which we check
         */
        IzendaDashboardModel.prototype.checkTileIntersectsBbox = function (tile) {
            var hitTest = function (a, b) {
                var aLeft = a.x;
                var aRight = a.x + a.width - 1;
                var aTop = a.y;
                var aBottom = a.y + a.height - 1;
                var bLeft = b.x;
                var bRight = b.x + b.width - 1;
                var bTop = b.y;
                var bBottom = b.y + b.height - 1;
                return !(bLeft > aRight || bRight < aLeft || bTop > aBottom || bBottom < aTop);
            };
            var otherTiles = this.tiles.filter(function (t) { return t.id !== tile.id; });
            return otherTiles.some(function (t) { return hitTest(tile, t); });
        };
        /**
         * Get maximum tile height.
         * @param {boolean} isOneColumnView desktop/mobile version.
         * @returns {number} maximum height in coordinate points.
         */
        IzendaDashboardModel.prototype.getMaxHeight = function (isOneColumnView) {
            if (isOneColumnView)
                return this.tiles.length * 4;
            var maxHeight = 0;
            this.tiles.forEach(function (tile) {
                if (maxHeight < tile.y + tile.height)
                    maxHeight = tile.y + tile.height;
            });
            return maxHeight;
        };
        return IzendaDashboardModel;
    }());
    exports.IzendaDashboardModel = IzendaDashboardModel;
});
izendaRequire.define("dashboard/services/dashboard-query-service", ["require", "exports", "angular", "dashboard/model/dashboard-model", "izenda-external-libs"], function (require, exports, angular, dashboard_model_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
         * Dashboard query service. This service is not implied for direct use in components.
         */
    var DashboardQueryService = /** @class */ (function () {
        function DashboardQueryService($q, $izendaUtilUiService, $izendaRsQueryService, $izendaLocaleService, $izendaScheduleService, $izendaShareService) {
            this.$q = $q;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
        }
        Object.defineProperty(DashboardQueryService, "injectModules", {
            get: function () {
                return ['$q', '$izendaUtilUiService', '$izendaRsQueryService', '$izendaLocaleService', '$izendaScheduleService',
                    '$izendaShareService'];
            },
            enumerable: true,
            configurable: true
        });
        /**
         * (new!) Load dashboard config json
         * @param {string} dashboardFullName dashboard report set full name
         * @param {boolean} updateFromSource whether need to update dashboard tiles from source report or not.
         */
        DashboardQueryService.prototype.loadDashboardNew = function (dashboardFullName, updateFromSource) {
            var _this = this;
            if (!dashboardFullName)
                throw 'dashboardFullName should be non-empty string.';
            return this.$q(function (resolve, reject) {
                _this.$izendaRsQueryService.apiQuery('loadDashboardConfigNew', [dashboardFullName, updateFromSource]).then(function (json) {
                    // validate query result
                    if (!dashboard_model_1.IzendaDashboardModel.isValidJson(json)) {
                        reject("Query \"loadDashboardConfigNew\" returned invalid result:" + JSON.stringify(json));
                        return;
                    }
                    // extract share & schedule configs from json and create its models in the share and schedule services.
                    _this.$izendaScheduleService.setScheduleConfig(json.schedule);
                    _this.$izendaShareService.setShareConfig(json.share);
                    var dashboardModel = dashboard_model_1.IzendaDashboardModel.createInstance(false, json);
                    resolve(dashboardModel);
                }, function (error) {
                    reject(error);
                });
            });
        };
        /**
         * (new!) Save dashboard.
         * @param {any} json dashboard model.
         */
        DashboardQueryService.prototype.saveDashboardNew = function (json) {
            if (!json)
                throw new Error('Dashboard json is empty');
            var dashboardConfigParam = JSON.stringify(json);
            return this.$izendaRsQueryService.apiQuery('saveReportSetNew', [dashboardConfigParam]);
        };
        /**
         * Deserealize dashboard into CurrentReportSet.
         * @param {any} json dashboard json
         * @param {IzendaDashboardTileModel} tile
         */
        DashboardQueryService.prototype.syncTilesNew = function (json, tile) {
            var dashboardConfigParam = JSON.stringify(json);
            return this.$izendaRsQueryService.apiQuery('syncDashboardNew', [dashboardConfigParam, tile && tile.reportFullName ? tile.reportFullName : '']);
        };
        /**
         * Deserealize dashboard and return it's filters
         * @param {json} dashboardConfig
         */
        DashboardQueryService.prototype.syncFiltersNew = function (dashboardConfig) {
            var dashboardConfigParam = JSON.stringify(dashboardConfig);
            return this.$izendaRsQueryService.apiQuery('syncDashboardFiltersNew', [dashboardConfigParam]);
        };
        /**
         * Load tile HTML
         * @param {any} dashboardConfig
         * @param {IzendaDashboardTileModel} tiles which preview is required
         */
        DashboardQueryService.prototype.loadTilesPreviewNew = function (dashboardConfig, tile, size) {
            if (!angular.isObject(tile))
                throw 'Argument exception: "tile" parameter should be object.';
            var dashboardConfigParam = JSON.stringify(dashboardConfig);
            return this.$izendaRsQueryService.apiQuery('getDashboardTilePreviewNew', [dashboardConfigParam, tile.reportFullName, size.width, size.height]);
        };
        /**
         * Send report via email
         */
        DashboardQueryService.prototype.sendReportViaEmailNew = function (dashboardConfig, type, to) {
            var dashboardConfigParam = JSON.stringify(dashboardConfig);
            return this.$izendaRsQueryService.apiQuery('sendDashboardEmailNew', [dashboardConfigParam, type, to]);
        };
        /**
         * Load refresh intevals configured in AdHocSettings.
         */
        DashboardQueryService.prototype.loadAutoRefreshIntervalsNew = function () {
            var _this = this;
            return this.$q(function (resolve) {
                _this.$izendaRsQueryService.apiQuery('autorefreshintervals', []).then(function (result) {
                    resolve(result);
                }, function (error) {
                    var errorMessage = _this.$izendaLocaleService.localeText('js_DashboardAutoRefreshError', 'Failed to get auto refresh intervals');
                    _this.$izendaUtilUiService.showErrorDialog(errorMessage + ": " + error);
                });
            });
        };
        /**
         * Load dashboard navigation
         */
        DashboardQueryService.prototype.loadDashboardNavigationNew = function () {
            return this.$izendaRsQueryService.apiQuery('getDashboardCategoriesNew', []);
        };
        Object.defineProperty(DashboardQueryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardQueryService.register = function (module) {
            module.service('$izendaDashboardQueryService', DashboardQueryService.injectModules.concat(DashboardQueryService));
        };
        return DashboardQueryService;
    }());
    exports.default = DashboardQueryService;
});
izendaRequire.define("dashboard/model/gallery-state-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaDashboardGalleryStateModel = /** @class */ (function () {
        function IzendaDashboardGalleryStateModel() {
            this.isEnabledInner = false;
            this.isFullScreen = false;
            this.playDelay = 5000;
            this.isPlayStarted = false;
            this.isPlayRepeat = false;
            this.reset();
        }
        IzendaDashboardGalleryStateModel.prototype.reset = function () {
            this.isEnabledInner = false;
            this.isFullScreen = false;
            this.playDelay = 5000;
            this.isPlayStarted = false;
            this.isPlayRepeat = false;
        };
        Object.defineProperty(IzendaDashboardGalleryStateModel.prototype, "isEnabled", {
            get: function () {
                return this.isEnabledInner;
            },
            set: function (value) {
                this.isEnabledInner = value;
                this.isFullScreen = false; // turn off fullscreen
                this.isPlayStarted = false; // turn off play
            },
            enumerable: true,
            configurable: true
        });
        return IzendaDashboardGalleryStateModel;
    }());
    exports.IzendaDashboardGalleryStateModel = IzendaDashboardGalleryStateModel;
});
izendaRequire.define("dashboard/services/gallery-service", ["require", "exports", "dashboard/model/gallery-state-model", "izenda-external-libs"], function (require, exports, gallery_state_model_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var DashboardGalleryService = /** @class */ (function () {
        function DashboardGalleryService($izendaUrlService) {
            this.$izendaUrlService = $izendaUrlService;
            this.galleryState = new gallery_state_model_1.IzendaDashboardGalleryStateModel();
            // subscibe on location change.
            this.location = this.$izendaUrlService.location;
            this.location.subscribeOnNext(this.$onLocationChanged, this);
        }
        Object.defineProperty(DashboardGalleryService, "injectModules", {
            get: function () {
                return ['$izendaUrlService'];
            },
            enumerable: true,
            configurable: true
        });
        DashboardGalleryService.prototype.$onLocationChanged = function (newLocation) {
            this.galleryState.reset();
        };
        Object.defineProperty(DashboardGalleryService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardGalleryService.register = function (module) {
            module.service('$izendaGalleryService', DashboardGalleryService.injectModules.concat(DashboardGalleryService));
        };
        return DashboardGalleryService;
    }());
    exports.default = DashboardGalleryService;
});
izendaRequire.define("common/core/models/filters-model", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Server-side filters object raw model.
     */
    var IzendaFiltersModel = /** @class */ (function () {
        function IzendaFiltersModel() {
            this.filterLogic = '';
            this.filters = [];
            this.subreportsFilters = null;
        }
        IzendaFiltersModel.prototype.fromJson = function (json) {
            this.filterLogic = json.FilterLogic || '';
            this.filters = json.Filters || [];
            this.subreportsFilters = json.SubreportsFilters || null;
        };
        IzendaFiltersModel.prototype.toJson = function () {
            return {
                FilterLogic: this.filterLogic,
                Filters: this.filters,
                SubreportFilters: this.subreportsFilters
            };
        };
        return IzendaFiltersModel;
    }());
    exports.IzendaFiltersModel = IzendaFiltersModel;
});
izendaRequire.define("dashboard/services/dashboard-storage-service", ["require", "exports", "angular", "common/core/models/filters-model", "dashboard/model/dashboard-model", "izenda-external-libs"], function (require, exports, angular, filters_model_1, dashboard_model_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard storage service. Stores current dashboard state.
     */
    var DashboardStorageService = /** @class */ (function () {
        function DashboardStorageService($rx, $q, $window, $interval, $timeout, $izendaLocaleService, $izendaCompatibilityService, $izendaSettingsService, $izendaUtilService, $izendaUrlService, $izendaRsQueryService, $izendaUtilUiService, $izendaDashboardConfig, $izendaDashboardQueryService, $izendaScheduleService, $izendaShareService) {
            this.$rx = $rx;
            this.$q = $q;
            this.$window = $window;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaRsQueryService = $izendaRsQueryService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaDashboardConfig = $izendaDashboardConfig;
            this.$izendaDashboardQueryService = $izendaDashboardQueryService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
            this.UNCATEGORIZED = this.$izendaLocaleService.localeText('js_Uncategorized', 'Uncategorized');
            // rx subjects
            this.model = new this.$rx.BehaviorSubject(null);
            this.categories = new this.$rx.BehaviorSubject([]);
            this.currentCategory = new this.$rx.BehaviorSubject([]);
            this.currentDashboard = new this.$rx.BehaviorSubject(null);
            this.isLoaded = new this.$rx.BehaviorSubject(false);
            this.isFiltersActive = new this.$rx.BehaviorSubject(false);
            this.exportProgress = new this.$rx.BehaviorSubject(null);
            this.autoRefresh = new this.$rx.BehaviorSubject({
                intervals: []
            });
            this.refreshObservable = new this.$rx.Subject();
            this.windowSize = new this.$rx.BehaviorSubject({
                width: this.$window.innerWidth,
                height: this.$window.innerHeight
            });
            this.windowSizeActive = true;
            // set custom refresh cascading filters function
            this._setFiltersRefreshCascadingInterceptor();
            // subscribe on location change.
            this.location = $izendaUrlService.location;
            this.location.subscribeOnNext(this._$onLocationChanged, this);
            // subscribe on window resize
            this.turnOnResizeHandler();
            // load some static stuff.
            this.loadAutoRefreshIntervals();
        }
        Object.defineProperty(DashboardStorageService, "injectModules", {
            get: function () {
                return [
                    'rx', '$q', '$window', '$interval', '$timeout', '$izendaLocaleService', '$izendaCompatibilityService',
                    '$izendaSettingsService', '$izendaUtilService', '$izendaUrlService', '$izendaRsQueryService',
                    '$izendaUtilUiService', 'izendaDashboardConfig', '$izendaDashboardQueryService',
                    '$izendaScheduleService', '$izendaShareService'
                ];
            },
            enumerable: true,
            configurable: true
        });
        DashboardStorageService.prototype.turnOnResizeHandler = function () {
            var _this = this;
            var resize = new this.$rx.Observable.fromEvent(this.$window, 'resize');
            var resizeDebounce = resize.debounce(500);
            var resizeCombined = this.$rx.Observable.merge(resize.map(function (e) { return ({ event: e, isDebounceApplied: false }); }), resizeDebounce.map(function (e) { return ({ event: e, isDebounceApplied: true }); }));
            // combined resize events emitter (simple resize event will come earlier than it's debounced version)
            resizeCombined.subscribe(function (obj) {
                // if resize is turned off - do nothing
                if (!_this.windowSizeActive)
                    return;
                var isDebounceApplied = obj.isDebounceApplied;
                if (!isDebounceApplied) {
                    //var overflowValue = angular.element('body').css('overflow');
                    //if (overflowValue !== 'hidden') {
                    //	angular.element('body').css('overflow', 'hidden');
                    //}
                }
                else {
                    // notify
                    _this.windowSize.onNext({
                        width: _this.$window.innerWidth,
                        height: _this.$window.innerHeight
                    });
                }
            });
        };
        /**
         * Change location to new dashboard
         */
        DashboardStorageService.prototype.navigateNewDashboard = function () {
            this.$izendaUrlService.setIsNew();
        };
        /**
         * Change location to existing dashboard
         * @param {string} dashboardFullName dashboard report set full name.
         */
        DashboardStorageService.prototype.navigateToDashboard = function (dashboardFullName) {
            this.$izendaUrlService.setReportFullName(dashboardFullName);
        };
        /**
         * Save dashboard. If assigned new report name and category - navigation to the new dashboard will occur.
         * @param {string} reportName New report name (optional). If not set - report will be saved using current report name.
         * @param {string} categoryName New category name (optional). If not set (or reportName not set) - report
         * will be saved using current category name.
         * @throws {reject function} promise will reject with a message as argument if something went wrong.
         */
        DashboardStorageService.prototype.saveDashboard = function (reportName, categoryName) {
            var _this = this;
            var restorePreviousReportName = function (model) {
                model.reportCategory = model.previousReportCategory;
                model.reportName = model.previousReportName;
                model.reportFullName = model.previousReportFullName;
            };
            return this.$q(function (resolve, reject) {
                var model = _this.model.getValue();
                try {
                    // prepare report name variables
                    var newReportName = reportName || null;
                    var newReportCategory = categoryName || null;
                    var newReportFullName_1;
                    if (_this.$izendaUtilService.isUncategorized(newReportCategory))
                        newReportCategory = null;
                    if (newReportName) {
                        // if name was set
                        newReportFullName_1 = _this.$izendaUtilService.createReportFullName(newReportName, _this.$izendaSettingsService.getCategoryCharacter(), newReportCategory);
                    }
                    else {
                        // if name wasn't set
                        var currentLocation = _this.location.getValue();
                        newReportName = currentLocation.name;
                        newReportCategory = currentLocation.category;
                        newReportFullName_1 = currentLocation.fullName;
                    }
                    // update report names in the model
                    model.previousReportCategory = model.reportCategory;
                    model.previousReportName = model.reportName;
                    model.previousReportFullName = model.reportFullName;
                    model.reportCategory = newReportCategory;
                    model.reportName = newReportName;
                    model.reportFullName = _this.$izendaSettingsService.getReportFullName(newReportName, newReportCategory);
                    if (model.tiles.filter(function (t) { return t && !!t.reportFullName; }).length === 0) {
                        // show "no tiles" error.
                        var message = _this.$izendaLocaleService.localeText('js_CantSaveEmptyDashboard', 'Can\'t save empty dashboard.');
                        restorePreviousReportName(model);
                        reject(message);
                        return;
                    }
                    // create json and send save request
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.saveDashboardNew(json).then(function () {
                        _this.$izendaUrlService.setReportFullName(newReportFullName_1);
                        resolve();
                    }, function (error) {
                        restorePreviousReportName(model);
                        reject(error);
                    });
                }
                catch (e) {
                    restorePreviousReportName(model);
                    reject(e);
                }
            });
        };
        /**
         * Load tiles HTML content.
         * @param {IzendaDashboardTileModel} tile Tile object.
         * @param {object} size {width, height} object.
         */
        DashboardStorageService.prototype.loadTilesPreview = function (tile, size) {
            var _this = this;
            return this.$q(function (resolve, reject) {
                try {
                    var sizeObject = size || { width: 0, height: 0 };
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.loadTilesPreviewNew(json, tile, sizeObject)
                        .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
                }
                catch (e) {
                    reject(e);
                }
            });
        };
        /**
         * Load and prepare report into container
         * @param {string} report html data.
         * @param {jquery dom element} container.
         */
        DashboardStorageService.prototype.loadReportIntoContainer = function (htmlData, $container) {
            var customCssStart = '/*CustomCssStart*/';
            var customCssEnd = '/*CustomCssEnd*/';
            /**
             * Extract custom css rules
             */
            var extractCustomCss = function (html) {
                if (!angular.isFunction(CSSParser))
                    throw 'Css parser (cssParser.js) not found';
                var startIndex = html.indexOf(customCssStart);
                var endIndex = html.indexOf(customCssEnd);
                if (startIndex < 0 || endIndex < 0 || startIndex > endIndex)
                    return null;
                try {
                    var customCss = html.substring(startIndex + customCssStart.length, endIndex);
                    var parser = new CSSParser();
                    var sheet = parser.parse(customCss, false, true);
                    return sheet;
                }
                catch (e) {
                    return null;
                }
            };
            /**
             * Inject custom css
             */
            var injectCustomCss = function (html, customCss) {
                var startIndex = html.indexOf(customCssStart);
                var endIndex = html.indexOf(customCssEnd);
                if (startIndex < 0 || endIndex < 0 || startIndex > endIndex)
                    return null;
                var result = [
                    html.substring(0, startIndex),
                    customCssStart,
                    customCss,
                    customCssEnd,
                    html.substring(endIndex + customCssStart.length)
                ].join('');
                return result;
            };
            /**
             * Change rules
             */
            var replaceCssRules = function (sourceStyleSheet, selectorTextChangeFunction) {
                var cssRules = sourceStyleSheet.cssRules;
                cssRules.forEach(function (rule) {
                    if (rule.type === 1) {
                        var selector = rule.mSelectorText;
                        rule.mSelectorText = selectorTextChangeFunction(selector);
                    }
                    else if (rule.type === 4) {
                        replaceCssRules(rule, selectorTextChangeFunction);
                    }
                });
            };
            try {
                var tileId = $container.closest('.izenda-report-with-id').attr('reportid');
                // clear previous content
                $container.empty();
                // turn off internal visualization window resize handler.
                izenda.visualization.isResizeHandlerEnabled = false;
                // load response to container
                if (angular.isObject(htmlData) && htmlData.hasOwnProperty('message')) {
                    console.error(htmlData);
                    izenda.report.loadReportResponse(htmlData['message'], $container);
                }
                else
                    izenda.report.loadReportResponse(htmlData, $container);
                // replace CSS
                var $customCss = $container.find('style[id=additionalStyle]');
                if ($customCss.length > 0) {
                    var csshtml = $customCss.html();
                    var styleSheet = extractCustomCss(csshtml);
                    if (styleSheet) {
                        // replace rule selectors:
                        replaceCssRules(styleSheet, function (selector) {
                            var parts = selector.split(',');
                            var result = '';
                            parts.forEach(function (part, index) {
                                if (index > 0)
                                    result += ', ';
                                result += ".izenda-report-with-id[reportid=\"" + tileId + "\"] " + part.trim();
                            });
                            return result;
                        });
                    }
                    var newCss = styleSheet.cssText();
                    var newHtml = injectCustomCss(csshtml, newCss);
                    $customCss.html(newHtml);
                }
                $container.find('[id$=_outerSpan]').css('display', 'block');
                // prepare content div
                var divs$ = $container.find('div.DashPartBody, div.DashPartBodyNoScroll');
                if (divs$.length > 0) {
                    divs$.css('height', 'auto');
                    divs$.find('span').each(function (iSpan, span) {
                        var $span = angular.element(span);
                        if ($span.attr('id') && String($span.attr('id')).indexOf('_outerSpan') >= 0) {
                            $span.css('display', 'inline');
                        }
                    });
                    var $zerochartResults = divs$.find('.iz-zero-chart-results');
                    if ($zerochartResults.length > 0) {
                        $zerochartResults.closest('table').css('height', '100%');
                        divs$.css('height', '100%');
                    }
                }
                // init gauge
                if (angular.isDefined(AdHoc) &&
                    angular.isObject(AdHoc.Utility) &&
                    angular.isFunction(AdHoc.Utility.InitGaugeAnimations)) {
                    AdHoc.Utility.InitGaugeAnimations(null, null);
                }
            }
            catch (e) {
                $container.empty();
                var failedMsg = this.$izendaLocaleService.localeText('js_FailedToLoadReport', 'Failed to load report') + ': ' + e;
                $container.append("<b>" + failedMsg + "</b>");
                console.error(failedMsg);
            }
        };
        /**
         * Print dashboard
         * @param {string} type
         */
        DashboardStorageService.prototype.printDashboard = function (type, reportForPrint) {
            var _this = this;
            this.exportProgress.onNext('print');
            return this.$q(function (resolve, reject) {
                var resolveWrapper = function () {
                    _this.exportProgress.onNext(null);
                    resolve();
                };
                var rejectWrapper = function (error) {
                    _this.exportProgress.onNext(null);
                    reject(error);
                };
                if (type !== 'html' && type !== 'pdf' && type !== 'excel') {
                    rejectWrapper("Unknown print type: " + type);
                    return;
                }
                var json = _this.createJsonConfigForSend();
                _this.$izendaDashboardQueryService.syncTilesNew(json, reportForPrint).then(function () {
                    if (type === 'html')
                        _this.printDashboardAsHtml(reportForPrint).then(function () { return resolveWrapper(); }, function (error) { return rejectWrapper(error); });
                    else if (type === 'excel')
                        _this.printDashboardAsExcel(reportForPrint).then(function () { return resolveWrapper(); }, function (error) { return rejectWrapper(error); });
                    else if (type === 'pdf')
                        _this.printDashboardAsPDF(reportForPrint).then(function () { return resolveWrapper(); }, function (error) { return rejectWrapper(error); });
                }, function (error) { return rejectWrapper(error); });
            });
        };
        /**
         * Open new window with the new dashboard for printing.
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsHtml = function (reportForPrint) {
            var _this = this;
            return this.$q(function (resolve, reject) {
                try {
                    var printUrl = _this.$izendaUrlService.settings.urlRsPage + "?p=htmlreport&print=1";
                    // print single tile if parameter is set:
                    if (angular.isString(reportForPrint) && reportForPrint !== '')
                        printUrl += "&reportPartName=" + encodeURIComponent(reportForPrint);
                    // izpid and anpid will be added inside the ExtendReportExport method 
                    _this.$timeout(function () {
                        var newWindow = ExtendReportExport(responseServer.OpenUrl, printUrl, 'aspnetForm', '', '', true);
                        if ('WebkitAppearance' in document.documentElement.style) {
                            var intervalId_1 = _this.$interval(function () {
                                if (!newWindow || newWindow.closed) {
                                    _this.$interval.cancel(intervalId_1);
                                    intervalId_1 = null;
                                    resolve();
                                }
                            }, 500);
                        }
                        else {
                            resolve();
                        }
                    }, 500);
                }
                catch (e) {
                    console.error(e);
                    reject(e);
                }
            });
        };
        /**
         * Export dashboard to file
         * @param {string} outputType output type query parameter
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsFile = function (outputType, reportForPrint) {
            var _this = this;
            if (!outputType)
                throw 'Parameter "outputType" should be defined';
            return this.$q(function (resolve, reject) {
                try {
                    var addParam = '';
                    if (typeof (window.izendaPageId$) !== 'undefined')
                        addParam += "&izpid=" + window.izendaPageId$;
                    if (typeof (window.angularPageId$) !== 'undefined')
                        addParam += "&anpid=" + window.angularPageId$;
                    var url = _this.$izendaUrlService.settings.urlRsPage + '?';
                    if (reportForPrint)
                        url += "rpn=" + reportForPrint + "&";
                    url += "output=" + outputType + addParam;
                    // download the file
                    _this.$izendaRsQueryService.downloadFileRequest('GET', url).then(function () { return resolve(); });
                }
                catch (e) {
                    console.error(e);
                    reject(e);
                }
            });
        };
        /**
         * Export dashboard tile as excel
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsExcel = function (reportForPrint) {
            return this.printDashboardAsFile('XLS(MIME)', reportForPrint);
        };
        /**
         * Print dashboard into PDF
         * @param {string} reportForPrint report part. Only one report will be printed if defined.
         */
        DashboardStorageService.prototype.printDashboardAsPDF = function (reportForPrint) {
            return this.printDashboardAsFile('PDF', reportForPrint);
        };
        /**
         * Send email
         */
        DashboardStorageService.prototype.sendEmail = function (sendType, email) {
            var _this = this;
            return this.$q(function (resolve, reject) {
                try {
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.sendReportViaEmailNew(json, sendType, email)
                        .then(function (result) { return resolve(result); }, function (error) { return reject(error); });
                }
                catch (e) {
                    reject(e);
                }
            });
        };
        /**
         * Turn on/off filters panel.
         * @param {any} opened
         */
        DashboardStorageService.prototype.toggleFiltersPanel = function (opened) {
            var currentOpened = this.isFiltersActive.getValue();
            if (angular.isDefined(opened)) {
                if (currentOpened != opened)
                    this.isFiltersActive.onNext(opened);
            }
            else {
                this.isFiltersActive.onNext(!currentOpened);
            }
        };
        /**
         * Update dashboard filters
         */
        DashboardStorageService.prototype.refreshFilters = function () {
            var _this = this;
            var json = this.createJsonConfigForSend();
            this.$izendaDashboardQueryService.syncFiltersNew(json).then(function (filtersData) {
                _this._setFiltersData(filtersData);
            }, function (error) {
                console.error('Failed to get filters data: ', error);
            });
        };
        /**
         * Refresh dashboard
         * @param {boolean} reloadLayout reload dashboard layout from the server.
         * @param {boolean} updateFromSource update tiles from it's sources.
         * @param {IzendaDashboardTileModel} tile update only one tile.
         */
        DashboardStorageService.prototype.refreshDashboard = function (reloadLayout, updateFromSource, tile) {
            if (reloadLayout) {
                this._$onLocationChanged(this.location.getValue(), !!updateFromSource);
            }
            else {
                this.refreshObservable.onNext({
                    tile: tile || null,
                    updateFromSource: !!updateFromSource
                });
            }
        };
        /**
         * Cancels refresh dashboard queries
         */
        DashboardStorageService.prototype.cancelRefreshDashboardQueries = function () {
            this.$izendaRsQueryService.cancelAllQueries({
                cancelList: [
                    {
                        wscmd: 'getDashboardTilePreviewNew'
                    }
                ]
            });
        };
        /**
         * Load auto refresh intervals config. After complete this.autoRefresh is notified
         */
        DashboardStorageService.prototype.loadAutoRefreshIntervals = function () {
            var _this = this;
            var newAutoRefresh = {
                intervals: []
            };
            this.$izendaDashboardQueryService.loadAutoRefreshIntervalsNew().then(function (data) {
                for (var name_1 in data)
                    if (data.hasOwnProperty(name_1))
                        newAutoRefresh.intervals.push({ name: name_1, value: data[name_1], selected: false });
                _this.autoRefresh.onNext(newAutoRefresh, _this);
            });
        };
        /**
         * Turn on window resize handler event emitter
         */
        DashboardStorageService.prototype.turnOnWindowResizeHandler = function () {
            this.windowSizeActive = true;
        };
        /**
         * Turn off window resize handler event emitter
         */
        DashboardStorageService.prototype.turnOffWindowResizeHandler = function () {
            this.windowSizeActive = false;
        };
        /**
         * Create json config
         */
        DashboardStorageService.prototype.createJsonConfigForSend = function () {
            // create json for sending to server
            var model = this.model.getValue();
            var scheduleJson = this.$izendaScheduleService.getScheduleConfigForSend();
            var shareJson = this.$izendaShareService.getShareConfigForSend();
            // legacy API call.
            var filtersJson = [];
            if (angular.isFunction(GetDataToCommit))
                filtersJson = GetDataToCommit();
            var filtersRaw = new filters_model_1.IzendaFiltersModel();
            filtersRaw.fromJson({
                FilterLogic: '',
                Filters: filtersJson,
                SubreportsFilters: []
            });
            var json = model.toJson();
            json.share = shareJson;
            json.schedule = scheduleJson;
            json.filters = filtersRaw.toJson();
            return json;
        };
        /**
         * Calculate category name
         */
        DashboardStorageService.prototype._getWantedCategoryName = function () {
            var _this = this;
            var urlFullName = this.location.getValue().fullName;
            var categories = this.categories.getValue();
            var isUrlFullNameExist = function (testFullName) { return categories.some(function (cat) { return cat.dashboards.some(function (dashName) { return dashName === testFullName; }); }); };
            // calc current dashboard category
            var currentCategoryName = '';
            var isCategorySet = false;
            if (isUrlFullNameExist(urlFullName)) {
                currentCategoryName = this.location.getValue().category;
                isCategorySet = true;
            }
            if (!isCategorySet && this.$izendaDashboardConfig.defaultDashboardCategory !== null) {
                currentCategoryName = this.$izendaDashboardConfig.defaultDashboardCategory;
                isCategorySet = true;
            }
            if (!isCategorySet) {
                var uncategorized = categories.first(function (cat) { return _this.$izendaUtilService.isUncategorized(cat.name); });
                if (uncategorized)
                    currentCategoryName = uncategorized.name; // if we have "uncategorized" dashboards - select it
                else
                    currentCategoryName = categories.length ? categories[0].name : '';
            }
            return currentCategoryName;
        };
        /**
         * Check report name obtained from the 'rn' parameter and load default dashboard if rn parameter doesn't
         * contain valid dashboard name.
         * @param {object} location Location object.
         * @returns {string} fixed dashboard full name (or empty string if can't find default dashboard).
         */
        DashboardStorageService.prototype._getWantedReportFullName = function (location) {
            var urlFullName = location.fullName;
            var categories = this.categories.getValue();
            var isUrlFullNameExist = function (testFullName) { return categories.some(function (cat) { return cat.dashboards.some(function (dashName) { return dashName === testFullName; }); }); };
            // calc current dashboard category
            var currentCategoryName = this._getWantedCategoryName();
            // calc current dashboard full name
            var currentDashboardFullName = '';
            var isCurrentDashbiardNameSet = false;
            if (isUrlFullNameExist(urlFullName)) {
                currentDashboardFullName = urlFullName;
                isCurrentDashbiardNameSet = true;
            }
            if (!isCurrentDashbiardNameSet && this.$izendaDashboardConfig.defaultDashboardName !== null) {
                currentDashboardFullName = this.$izendaDashboardConfig.defaultDashboardName;
                if (currentDashboardFullName && currentCategoryName && !this.$izendaUtilService.isUncategorized(currentCategoryName)) {
                    currentDashboardFullName =
                        currentCategoryName + this.$izendaSettingsService.getCategoryCharacter() + currentDashboardFullName;
                }
                isCurrentDashbiardNameSet = true;
            }
            // couldn't find dashboard - use first
            if (!isCurrentDashbiardNameSet) {
                var defaultCats = categories.filter(function (cat) { return cat.dashboards.length; });
                currentDashboardFullName = defaultCats.length ? defaultCats[0].dashboards[0] : '';
            }
            return currentDashboardFullName;
        };
        /**
         * Update dashboards in current category collection and current active dashboard
         */
        DashboardStorageService.prototype._updateCurrentCategory = function () {
            var _this = this;
            var categories = this.categories.getValue();
            var currentCategoryName = this._getWantedCategoryName();
            var currentDashboardName = this._getWantedReportFullName(this.location.getValue());
            var category = categories.first(function (cat) { return currentCategoryName === cat.name ||
                (_this.$izendaUtilService.isUncategorized(currentCategoryName) && _this.$izendaUtilService.isUncategorized(cat.name)); });
            var currentDashboardsCollection = [];
            var currentDashboard = null;
            if (category) {
                category.dashboards.forEach(function (dash, iDash) {
                    var dashObj = {
                        id: iDash,
                        fullName: dash,
                        text: _this.$izendaUrlService.extractReportName(dash)
                    };
                    currentDashboardsCollection.push(dashObj);
                    if (_this.location.getValue().isNew)
                        return;
                    if (dash === currentDashboardName)
                        currentDashboard = dashObj;
                });
            }
            this.currentCategory.onNext(currentDashboardsCollection);
            this.currentDashboard.onNext(currentDashboard);
        };
        /**
         * Location changed handler:
         * 1. Load categories.
         * 2. Create/Open dashboard.
         * 3. Navigate to default dashboard if something went wrong (dashboard not exists, or url parameters not set).
         * @param {object} newLocation location info object
         * @param {boolean} updateFromSource is reload tiles from its sources required?
         */
        DashboardStorageService.prototype._$onLocationChanged = function (newLocation, updateFromSource) {
            var _this = this;
            this.$izendaRsQueryService.cancelAllQueries();
            this.model.onNext(null);
            this._loadCategories().then(function () {
                if (newLocation.isNew) {
                    _this._newDashboard();
                    return;
                }
                // validate report full name:
                var wantedFullName = _this._getWantedReportFullName(newLocation);
                if (!wantedFullName) {
                    _this.navigateNewDashboard(); // change url to "?isNew=1"
                    return;
                }
                if (newLocation.fullName === wantedFullName) {
                    // wanted report and report from the location are the same - open dashboard.
                    _this.loadDashboardInternal(wantedFullName, !!updateFromSource);
                }
                else {
                    if (newLocation.fullName) {
                        // show notification to a user if we change the location from wrong report to default.
                        var message = _this.$izendaLocaleService.localeText('js_FailedToLoadDashboard', 'Failed to load dashboard "{0}". Opening default dashboard "{1}".');
                        message = message.replace('{0}', newLocation.fullName);
                        message = message.replace('{1}', wantedFullName);
                        _this.$izendaUtilUiService.showNotification(message);
                    }
                    _this.navigateToDashboard(wantedFullName); // change url to "?rn=default_dashboard"
                }
            });
        };
        /**
         * Load dashboard categories
         */
        DashboardStorageService.prototype._loadCategories = function () {
            var _this = this;
            return this.$q(function (resolve, reject) {
                _this.$izendaDashboardQueryService.loadDashboardNavigationNew().then(function (data) {
                    if (!data) {
                        reject("Failed to load dashboard categories. Result: " + data);
                        return;
                    }
                    var idCounter = 0;
                    var newCategories = [];
                    for (var category in data) {
                        if (data.hasOwnProperty(category)) {
                            var dashboards = data[category];
                            if (dashboards.length > 0) {
                                dashboards = dashboards.filter(function (dash) { return dash && dash !== ''; });
                                var item = {
                                    id: idCounter++,
                                    name: category,
                                    dashboards: dashboards
                                };
                                // sort 
                                if (angular.isFunction(_this.$izendaDashboardConfig.dashboardToolBarItemsSort))
                                    item.dashboards.sort(function (item1, item2) { return _this.$izendaDashboardConfig.dashboardToolBarItemsSort(item1, item2); });
                                newCategories.push(item);
                            }
                        }
                    }
                    _this.categories.onNext(newCategories, _this);
                    resolve(_this.categories);
                }, function (error) {
                    var errorMessage = _this.$izendaLocaleService.localeText('js_DashboardLoadCatsError', 'Failed to get dashboard categories');
                    reject(errorMessage + ": " + error);
                });
            });
        };
        DashboardStorageService.prototype._setFiltersRefreshCascadingInterceptor = function () {
            var _this = this;
            window.cascadingFiltersChangedCustomContext = this;
            // turn off legacy filters queries: we'll do it by ourselves.
            window.cascadingFiltersChangedCustom = function () {
                if (angular.isFunction(CascadingFiltersChanged)) {
                    window.refreshFiltersLastGUID = GenerateGuid();
                    var json = _this.createJsonConfigForSend();
                    _this.$izendaDashboardQueryService.syncFiltersNew(json).then(function (filtersData) {
                        CascadingFiltersChanged(filtersData, "refreshcascadingfilters-" + window.refreshFiltersLastGUID);
                    });
                }
            };
        };
        DashboardStorageService.prototype._setFiltersData = function (filtersData) {
            // set legacy filters from response
            if (angular.isFunction(GotFiltersData)) {
                GotFiltersData(angular.isObject(filtersData)
                    ? filtersData
                    : {
                        Filters: [],
                        SubreportsFilters: [],
                        FilterLogic: ''
                    }, 'getfiltersdata');
            }
        };
        /**
         * Load dashboard config from the server and fill dashboard model.
         * @param {string} reportFullName dashboard report full name.
         * @param {boolean} updateFromSource is reload tiles from its sources required?
         */
        DashboardStorageService.prototype.loadDashboardInternal = function (reportFullName, updateFromSource) {
            var _this = this;
            this._updateCurrentCategory(); // update category objects
            // start loading
            this.isLoaded.onNext(false, this);
            this.$izendaDashboardQueryService.loadDashboardNew(reportFullName, !!updateFromSource).then(function (dashboardModel) {
                if (!angular.isObject(dashboardModel))
                    throw "Failed to load dashboard '" + reportFullName + "'";
                // set current rights
                _this.$izendaCompatibilityService.setRights(dashboardModel.effectiveRights);
                _this.$izendaCompatibilityService.setUsesHiddenColumns(dashboardModel.usesHiddenColumns);
                // update names
                dashboardModel.reportFullName = _this.$izendaSettingsService.getReportFullName(dashboardModel.reportName, dashboardModel.reportCategory);
                dashboardModel.tiles.forEach(function (tile) {
                    tile.reportName = _this.$izendaUrlService.extractReportName(tile.reportSetName);
                    tile.reportCategory = _this.$izendaUrlService.extractReportCategory(tile.reportSetName);
                });
                // set legacy filters from response
                _this._setFiltersData(dashboardModel.filters);
                // notify that model was changed and report was loaded
                _this.model.onNext(dashboardModel, _this);
                // show hidden columns warning
                if (_this.$izendaCompatibilityService.isUsesHiddenColumns()) {
                    _this.$izendaUtilUiService.showMessageDialog(_this.$izendaLocaleService.localeText('js_dashboardUsesHiddenColumns', 'Dashboard contains tile with report which contains unavailable fields. Please re-save original report or chose another one.'));
                }
                _this.isLoaded.onNext(true, _this);
            }, function (error) {
                var errorMessage = _this.$izendaLocaleService.localeText('js_LayoutLoadError', 'Failed to load dashboard layout');
                _this.$izendaUtilUiService.showErrorDialog(errorMessage + ": " + error);
            });
        };
        /**
         * Create new dashboard.
         */
        DashboardStorageService.prototype._newDashboard = function () {
            var _this = this;
            this._updateCurrentCategory(); // update category objects
            this.$izendaCompatibilityService.setRights('Full Access');
            var newModelInstance = dashboard_model_2.IzendaDashboardModel.createInstance(true);
            var schedulePromise = this.$izendaScheduleService.setScheduleConfig(null);
            var sharePromise = this.$izendaShareService.setShareConfig(null);
            this.$q.all([schedulePromise, sharePromise]).then(function () {
                _this.model.onNext(newModelInstance, _this);
                _this.isLoaded.onNext(true, _this);
            });
        };
        Object.defineProperty(DashboardStorageService, "$inject", {
            get: function () {
                return this.injectModules;
            },
            enumerable: true,
            configurable: true
        });
        DashboardStorageService.register = function (module) {
            module.service('$izendaDashboardStorageService', DashboardStorageService.injectModules.concat(DashboardStorageService));
        };
        return DashboardStorageService;
    }());
    exports.default = DashboardStorageService;
});
izendaRequire.define("dashboard/directives/dashboard-background", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_24) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard background directive. Used to set background color, image and hue rotate.
     */
    var IzendaDashboardBackground = /** @class */ (function () {
        function IzendaDashboardBackground($window) {
            this.$window = $window;
            this.restrict = 'E';
            this.scope = {
                backgroundColor: '=',
                backgroundImage: '=',
                backgroundImageRepeat: '=',
                hueRotate: '='
            };
            IzendaDashboardBackground.prototype.link = function ($scope, $element, attrs) {
                var id = String(Math.random());
                var oldMouseX = 0;
                var oldMouseY = 0;
                var degree = 0;
                // ensure background was added
                var $background = angular.element('body > .iz-dash-background');
                var $dashboardsDiv = angular.element('#izendaDashboardMainContainer');
                if ($background.length === 0) {
                    $background = angular.element('<div class="iz-dash-background"></div>');
                    angular.element('body').prepend($background);
                }
                // Update background
                var updateBackground = function () {
                    $background = angular.element('body > .iz-dash-background');
                    if ($scope.backgroundImage)
                        $background.css('background', "url('" + $scope.backgroundImage + "')");
                    else
                        $background.css('background', '');
                    if ($scope.backgroundImageRepeat) {
                        $background.css('background-repeat', 'repeat');
                        $background.css('background-size', 'initial');
                    }
                    else {
                        $background.css('background-repeat', '');
                        $background.css('background-size', '');
                    }
                    if ($scope.backgroundColor)
                        $background.css('background-color', $scope.backgroundColor);
                    else
                        $background.css('background-color', '');
                };
                // set background position
                var setBackgroundPosition = function () {
                    var newBackgroundTop = $dashboardsDiv.offset().top + 50 - angular.element($window).scrollTop();
                    if (newBackgroundTop < 0)
                        newBackgroundTop = 0;
                    $background.css({
                        '-moz-background-position-y': newBackgroundTop + 'px',
                        '-o-background-position-y': newBackgroundTop + 'px',
                        'background-position-y': newBackgroundTop + 'px'
                    });
                };
                // Hue can use rotate
                var isToggleHueRotateEnabled = function () {
                    var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
                    var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
                    var isFirefox = /Firefox/.test(navigator.userAgent);
                    return isChrome || isSafari || isFirefox;
                };
                // Turn off background hue rotate
                var resetRotate = function () {
                    clearTimeout($window.hueRotateTimeOut);
                    $background.css({ '-webkit-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ '-moz-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ '-o-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ '-ms-filter': 'hue-rotate(' + '0' + 'deg)' });
                    $background.css({ 'filter': 'hue-rotate(' + '0' + 'deg)' });
                };
                // Run hue rotate
                var rotate = function () {
                    if (!isToggleHueRotateEnabled())
                        return;
                    $background.css({ '-webkit-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ '-moz-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ '-o-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ '-ms-filter': 'hue-rotate(' + degree + 'deg)' });
                    $background.css({ 'filter': 'hue-rotate(' + degree + 'deg)' });
                    $window.hueRotateTimeOut = setTimeout(function () {
                        var addPath;
                        var dx = ($window.mouseX - oldMouseX);
                        var dy = ($window.mouseY - oldMouseY);
                        addPath = Math.sqrt(dx * dx + dy * dy);
                        var wndPath = Math.sqrt($window.innerHeight * $window.innerHeight + $window.innerWidth * $window.innerWidth);
                        addPath = addPath * 360 / wndPath;
                        oldMouseX = $window.mouseX;
                        oldMouseY = $window.mouseY;
                        if (isNaN(addPath))
                            addPath = 0;
                        degree += 6 + addPath;
                        while (degree > 360)
                            degree -= 360;
                        rotate();
                    }, 100);
                };
                // run background
                setBackgroundPosition();
                angular.element($window).on('scroll.' + id, function () { return setBackgroundPosition(); });
                updateBackground();
                // watch bindings changed
                $scope.$watch('backgroundColor', function () { return updateBackground(); });
                $scope.$watch('backgroundImage', function () { return updateBackground(); });
                $scope.$watch('backgroundImageRepeat', function () { return updateBackground(); });
                $scope.$watch('hueRotate', function (newVal) {
                    if (newVal)
                        rotate();
                    else
                        resetRotate();
                });
                // destruction method
                $element.on('$destroy', function () {
                    angular.element($window).off('scroll.' + id);
                });
            };
        }
        IzendaDashboardBackground.factory = function () {
            var directive = function ($window) { return new IzendaDashboardBackground($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaDashboardBackground;
    }());
    module_definition_24.default.directive('izendaDashboardBackground', ['$window', IzendaDashboardBackground.factory()]);
});
izendaRequire.define("dashboard/directives/tile-top-slider", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_25) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Slider for selecting top value.
     */
    var IzendaTileTopSlider = /** @class */ (function () {
        function IzendaTileTopSlider() {
            this.restrict = 'A';
            this.require = ['ngModel'];
            this.scope = {
                disabled: '=',
                rendered: '=',
                ngModel: '=',
                showItemAll: '=',
                onChangeEnd: '&'
            };
            this.template = '<input></input>';
            IzendaTileTopSlider.prototype.link = function ($scope, $element, attrs) {
                var slider = null;
                // initialize values array
                var valuesArray = [];
                for (var i = 1; i <= 10; i++)
                    valuesArray.push(i);
                for (var j = 20; j <= 100; j = j + 10)
                    valuesArray.push(j);
                valuesArray.push(250);
                valuesArray.push(500);
                valuesArray.push(1000);
                valuesArray.push(5000);
                valuesArray.push(10000);
                valuesArray.push('ALL');
                // convert value from values array to the number
                var convertFromToValue = function (valuesArrayIndex) {
                    var val = valuesArray[valuesArrayIndex];
                    if (val === 'ALL')
                        val = -1;
                    return Number(val);
                };
                // add new value to the valuesArray
                var appendValueToFromArray = function (value) {
                    var index = value > 0 ? valuesArray.indexOf(value) : valuesArray.indexOf('ALL');
                    if (index >= 0)
                        return false;
                    var updatedArray = [];
                    valuesArray.forEach(function (currValue) {
                        if (currValue > value && updatedArray.indexOf(value) < 0)
                            updatedArray.push(value);
                        updatedArray.push(currValue);
                    });
                    valuesArray = updatedArray;
                    return true;
                };
                // convert number into values array value and return index of the found value.
                var convertAndGetValuesArrayIndex = function (value) {
                    var index = value > 0 ? valuesArray.indexOf(value) : valuesArray.indexOf('ALL');
                    if (index < 0)
                        index = valuesArray.indexOf('ALL');
                    return index;
                };
                // initialize slider
                var initializeSlider = function () {
                    var $input = $element.children('input');
                    appendValueToFromArray($scope.ngModel); // add current value to the valuesArray if no exist.
                    $input.val('');
                    $input['ionRangeSlider']({
                        disable: $scope.disabled,
                        grid: true,
                        hide_min_max: true,
                        from: convertAndGetValuesArrayIndex($scope.ngModel),
                        values: valuesArray,
                        onFinish: function (data) {
                            var value = convertFromToValue(data.from);
                            if (angular.isFunction($scope.onChangeEnd))
                                $scope.onChangeEnd({ newTop: value });
                        }
                    });
                    slider = $input.data("ionRangeSlider");
                };
                // Set value to slider
                var setSliderValue = function (value) {
                    if (!slider)
                        return;
                    // add value to the values array if not exist.
                    if (appendValueToFromArray(value))
                        slider.update({
                            values: valuesArray
                        });
                    var from = convertAndGetValuesArrayIndex(value);
                    slider.update({
                        from: from
                    });
                };
                // watches: 
                $scope.$watch('ngModel', function (newValue) { return setSliderValue(newValue); });
                $scope.$watch('showItemAll', function (value) {
                    var isAllElementExists = valuesArray.indexOf('ALL') >= 0;
                    if (isAllElementExists && !value)
                        valuesArray.pop();
                    else if (!isAllElementExists && value)
                        valuesArray.push('ALL');
                    if (slider)
                        slider.update({
                            values: valuesArray
                        });
                });
                $scope.$watch('rendered', function (value) {
                    if (value)
                        initializeSlider();
                    else if (slider) {
                        slider.destroy();
                        slider = null;
                    }
                });
                $scope.$watch('disabled', function (value) {
                    if (slider)
                        slider.update({
                            disable: value
                        });
                });
                // destruction method
                $element.on('$destroy', function () {
                    if (slider) {
                        slider.destroy();
                        slider = null;
                    }
                });
            };
        }
        IzendaTileTopSlider.factory = function () {
            return function () { return new IzendaTileTopSlider(); };
        };
        return IzendaTileTopSlider;
    }());
    module_definition_25.default.directive('izendaTileTopSlider', [IzendaTileTopSlider.factory()]);
});
izendaRequire.define("dashboard/directives/toolbar-folder-menu-accordion", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_26) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard toolbar with ability to scroll. Used for navigation between dashboards.
     */
    var IzendaToolbarFolderMenuAccordion = /** @class */ (function () {
        function IzendaToolbarFolderMenuAccordion($timeout, $izendaUrlService, $izendaUtilService) {
            this.$timeout = $timeout;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaUtilService = $izendaUtilService;
            this.restrict = 'A';
            this.scope = {
                categories: '='
            };
            this.templateUrl = '###RS###extres=components.dashboard.directives.toolbar-folder-menu-accordion.html';
            IzendaToolbarFolderMenuAccordion.prototype.link = function ($scope, $element, attrs) {
                // add category 'in' class for currentCategory
                $scope.getCategoryClass = function (index) {
                    return $izendaUtilService.isCategoriesEqual($scope.categories[index].name, $izendaUrlService.getReportInfo().category) ? 'in' : '';
                };
                // get category item activated or not class
                $scope.getCategoryItemClass = function (itemName) {
                    return itemName === $izendaUrlService.getReportInfo().fullName ? 'active' : '';
                };
                // remove category part from report name
                $scope.extractReportName = function (fullName) { return $izendaUrlService.extractReportName(fullName); };
                // navigate to dashboard
                $scope.goToDashboard = function (dashboard) { return $izendaUrlService.setReportFullName(dashboard); };
                // toggle accordion handler
                $scope.toggleAccordion = function (index) {
                    var $categoryContainer = angular.element($element.children()[index]);
                    var $category = $categoryContainer.find('.category');
                    if ($category.hasClass('in'))
                        $category.removeClass('in');
                    else
                        $category.addClass('in');
                    if ($category.hasClass('in'))
                        $categoryContainer.closest('.iz-dash-dashboards-dropdown-container').animate({
                            scrollTop: $categoryContainer.position().top - $categoryContainer.parent().position().top
                        }, 500);
                };
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToolbarFolderMenuAccordion.factory = function () {
            var directive = function ($timeout, $izendaUrlService, $izendaUtilService) {
                return new IzendaToolbarFolderMenuAccordion($timeout, $izendaUrlService, $izendaUtilService);
            };
            directive.$inject = ['$timeout', '$izendaUrlService', '$izendaUtilService'];
            return directive;
        };
        return IzendaToolbarFolderMenuAccordion;
    }());
    module_definition_26.default.directive('izendaToolbarFolderMenuAccordion', ['$timeout', '$izendaUrlService', '$izendaUtilService',
        IzendaToolbarFolderMenuAccordion.factory()]);
});
izendaRequire.define("dashboard/directives/toolbar-links-panel", ["require", "exports", "angular", "dashboard/module-definition"], function (require, exports, angular, module_definition_27) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Dashboard toolbar with ability to scroll. Used for navigation between dashboards.
     */
    var IzendaToolbarLinksPanel = /** @class */ (function () {
        function IzendaToolbarLinksPanel($timeout, $window) {
            this.$timeout = $timeout;
            this.$window = $window;
            this.restrict = 'A';
            this.scope = {
                toolbarItems: '=',
                toolbarActiveItem: '=',
                toolbarActiveItemChangeCounter: '=',
                onClick: '&',
                equalsFunc: '&',
                getTitle: '&'
            };
            this.templateUrl = '###RS###extres=components.dashboard.directives.toolbar-links-panel.html';
            IzendaToolbarLinksPanel.prototype.link = function ($scope, $element, attrs) {
                var $slideScrollContainer = angular.element($element).find('.iz-dash-linkspanel-navbar-2');
                var $slideContainer = angular.element($element).find('.iz-dash-linkspanel-navbar-3');
                var getMinLeft = function () { return $slideScrollContainer.width() - $slideContainer.width() - 80; };
                var getMaxLeft = function () { return 0; };
                var setLeftValue = function (value) {
                    $slideContainer.css('transform', 'translate3d(' + Math.floor(value) + 'px, 0px, 0px)');
                    $slideContainer.attr('transform-left', Math.floor(value));
                };
                var respectEdges = function (position) {
                    var result = position;
                    result = Math.max(result, getMinLeft());
                    result = Math.min(result, getMaxLeft());
                    return result;
                };
                // move toolbar buttons left or right
                var moveMenuItems = function (leftDelta) {
                    var leftString = $slideContainer.attr('transform-left');
                    var leftNumber = 0;
                    if (angular.isString(leftString))
                        leftNumber = parseInt(leftString);
                    leftNumber += leftDelta;
                    leftNumber = respectEdges(leftNumber);
                    setLeftValue(leftNumber);
                };
                // move to item
                $scope.moveTo = function (item) {
                    if (!$scope.toolbarItems)
                        return;
                    var itemToMove = item;
                    if (!itemToMove && $scope.toolbarItems.length > 0)
                        itemToMove = $scope.toolbarItems[$scope.toolbarItems.length - 1];
                    if (itemToMove) {
                        var $item = angular.element($element).find('#izDashToolbarItem' + itemToMove.id);
                        var itemLeft = $item.position().left + $item.width() / 2;
                        var leftNumber = $slideScrollContainer.width() / 2 - itemLeft;
                        leftNumber = respectEdges(leftNumber);
                        setLeftValue(leftNumber);
                    }
                };
                // move right button
                $scope.moveRight = function () { return moveMenuItems(-500); };
                // move left button
                $scope.moveLeft = function () { return moveMenuItems(500); };
                // get active li class 
                $scope.getLiClass = function (item) { return $scope.equalsFunc({ arg0: item, arg1: $scope.toolbarActiveItem }) ? 'active' : ''; };
                // check left and right buttons is needed
                $scope.isButtonsVisible = function () {
                    if ($scope.refreshButtonsWidth) {
                        $scope.sumWidth = 0;
                        $slideContainer.find('.iz-dash-linkspanel-navbar-item').each(function (iNavbarItem, navbarItem) {
                            $scope.sumWidth += angular.element(navbarItem).width();
                        });
                        $scope.refreshButtonsWidth = false;
                    }
                    var width = $slideScrollContainer.width();
                    return width && $scope.sumWidth > width;
                };
                // watch toolbar item collection changed
                $scope.$watchCollection('toolbarItems', function () {
                    $scope.refreshButtonsWidth = true;
                    $slideContainer.find('.iz-dash-linkspanel-navbar-item').on('click', function (e) {
                        var idStr = String(angular.element(e.delegateTarget).attr('id'));
                        var id = parseInt(idStr.split('izDashToolbarItem')[1]);
                        var item = $scope.toolbarItems.find(function (toolbarItem) { return toolbarItem.id === id; }) || null;
                        $scope.moveTo(item);
                        $scope.onClick({ arg0: item });
                        $scope.$applyAsync();
                    });
                });
                // watch active item changed
                $scope.$watch('toolbarActiveItemChangeCounter', function () {
                    $timeout(function () {
                        $scope.moveTo($scope.toolbarActiveItem);
                        $scope.$parent.$eval(attrs.toolbarActiveItem);
                    }, 0);
                });
                // watch active item changed
                $scope.$watch('toolbarActiveItem', function () {
                    $timeout(function () {
                        $scope.moveTo($scope.toolbarActiveItem);
                        $scope.$parent.$eval(attrs.toolbarActiveItem);
                    }, 0);
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaToolbarLinksPanel.factory = function () {
            var directive = function ($timeout, $window) { return new IzendaToolbarLinksPanel($timeout, $window); };
            directive.$inject = ['$timeout', '$window'];
            return directive;
        };
        return IzendaToolbarLinksPanel;
    }());
    module_definition_27.default.directive('izendaToolbarLinksPanel', ['$timeout', '$window', IzendaToolbarLinksPanel.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-draggable-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_28) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive provides move function for dashboard tile.
     */
    var IzendaTileDraggable = /** @class */ (function () {
        function IzendaTileDraggable($rootScope, $timeout, $izendaDashboardStorageService) {
            this.$rootScope = $rootScope;
            this.$timeout = $timeout;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.restrict = 'E';
            this.scope = {
                enabled: '=',
                gridWidth: '=',
                gridHeight: '=',
                tile: '=',
                tiles: '=',
                onMove: '&',
                onMoveStart: '&',
                onMoveEnd: '&'
            };
            IzendaTileDraggable.prototype.link = function ($scope, $element) {
                var getTileByTile$ = function ($t) {
                    if (!$t || !angular.isArray($scope.tiles))
                        return null;
                    var tileid = Number($t.attr('tileid'));
                    return $scope.tiles.find(function (t) { return t.id === tileid; }) || null;
                };
                /**
                 * Find tile which contain point {x,y}
                 */
                var getUnderlyingTile$ = function (left, top, $tiles) {
                    if (!angular.isArray($scope.tiles))
                        return null;
                    var result = $tiles.find(function ($currentTile, currentTileIndex) {
                        var tileOffset = $currentTile.offset();
                        var currentTile = $scope.tiles[currentTileIndex];
                        if ($scope.tile.id === currentTile.id)
                            return false;
                        return tileOffset.left <= left
                            && left <= tileOffset.left + $currentTile.width()
                            && tileOffset.top <= top
                            && top <= tileOffset.top + $currentTile.height();
                    });
                    return result || null;
                };
                /**
                 * Check tile intersects to any other tile
                 */
                var checkTileIntersects = function ($helper) {
                    var hitTest = function (a, otherTile, accuracyX, accuracyY) {
                        var aPos = a.position();
                        var aTop = aPos.top > 0 ? aPos.top : 0;
                        var aBottom = aTop + a.height();
                        var aLeft = aPos.left > 0 ? aPos.left : 0;
                        var aRight = aLeft + a.width();
                        if (aRight / $scope.gridWidth > 12) {
                            var delta = aRight - $scope.gridWidth * 12;
                            aLeft -= delta;
                            aRight = $scope.gridWidth * 12;
                        }
                        var bLeft = otherTile.x * $scope.gridWidth + accuracyX;
                        var bTop = otherTile.y * $scope.gridHeight + accuracyY;
                        var bRight = (otherTile.x + otherTile.width) * $scope.gridWidth - accuracyX;
                        var bBottom = (otherTile.y + otherTile.height) * $scope.gridHeight - accuracyY;
                        return !(bLeft > aRight || bRight < aLeft || bTop > aBottom || bBottom < aTop);
                    };
                    var result = false;
                    $scope.tiles.forEach(function (oTile) {
                        if (oTile.id === $scope.tile.id)
                            return;
                        if (hitTest($helper, oTile, $scope.gridWidth / 2, $scope.gridHeight / 2))
                            result = true;
                    });
                    return result;
                };
                /**
                 * Get snapped to grid bbox.
                 */
                var getTargetBbox = function (helperLeft, helperTop, helperWidth, helperHeight) {
                    // calculate tile shadow position
                    var x = Math.round(helperLeft / $scope.gridWidth) * $scope.gridWidth;
                    var y = Math.round(helperTop / $scope.gridHeight) * $scope.gridHeight;
                    var helperBbox = {
                        left: x,
                        top: y,
                        width: helperWidth,
                        height: helperHeight
                    };
                    return helperBbox;
                };
                var $tile = $element.closest('.iz-dash-tile');
                var previousHelperBbox = { left: 0, top: 0, width: 0, height: 0 };
                var helperWidth = 0;
                var helperHeight = 0;
                var $tileFlippies;
                var $tilesArray = [];
                // init draggable
                $tile['draggable']({
                    stack: '.iz-dash-tile',
                    handle: '.title-container, .iz-dash-select-report-front-container',
                    distance: 10,
                    helper: function () {
                        var width = $scope.tile.width * $scope.gridWidth;
                        var height = $scope.tile.height * $scope.gridHeight;
                        var helperStr = "<div class=\"iz-dash-tile iz-dash-tile-helper\" style=\"z-index:1000;top:0;left:0;height:" + height + "px;width:" + width + "px;opacity:1;transform:matrix(1,0,0,1,0,0);\">\n\t<div class=\"animate-flip\">\n\t\t<div class=\"flippy flippy-front animated fast\">\n\t\t\t<div class=\"title-container\" style=\"height: 35px; overflow: hidden;\"><div class=\"title\"><span class=\"title-text\"></span></div></div>\n\t\t</div>\n\t</div>\n</div>";
                        return angular.element(helperStr);
                    },
                    start: function (event, ui) {
                        $tileFlippies = $tile.children('.animate-flip').children('.flippy');
                        $scope.tiles.forEach(function (tile) {
                            tile.backTilePopupOpened = false;
                        });
                        // turn off window resize handler
                        $izendaDashboardStorageService.turnOffWindowResizeHandler();
                        // update tiles array;
                        $tilesArray = $scope.tiles.map(function (currentTile) { return angular.element(".iz-dash-tile[tileid=" + currentTile.id + "]"); });
                        $tile = $element.closest('.iz-dash-tile');
                        // fire onMoveStart handler:
                        if (angular.isFunction($scope.onMoveStart))
                            $scope.onMoveStart({ tile: $scope.tile });
                        // prepare helper:
                        var $helper = ui.helper;
                        helperWidth = $helper.width();
                        helperHeight = $helper.height();
                        var $helperFlipFront = $helper.find('.flippy-front');
                        $helperFlipFront.removeClass('flipInY');
                        $helperFlipFront.removeClass('animated');
                        $helperFlipFront.removeClass('fast');
                        $helperFlipFront.css('background-color', 'rgba(50,205,50, 0.3)');
                        $helperFlipFront.find('.frame').remove();
                        $helper.css('z-index', 1000);
                        $helper.css('opacity', 1);
                    },
                    drag: function (event, ui) {
                        var $helper = ui.helper;
                        var $helperFlipFront = $helper.find('.flippy-front');
                        // calculate tile shadow position
                        var helperPos = $helper.position();
                        var helperBbox = getTargetBbox(helperPos.left, helperPos.top, helperWidth, helperHeight);
                        $helperFlipFront.css('background-color', 'rgba(50,205,50, 0.3)'); // semi-transparent green
                        // check underlying tile
                        if (angular.isArray($scope.tiles)) {
                            $scope.tiles.forEach(function (currentTile) {
                                currentTile.backgroundColor = '#fff';
                            });
                            var targetTile = getTileByTile$(getUnderlyingTile$(event.pageX, event.pageY, $tilesArray));
                            if (targetTile)
                                // highlight tile for swap
                                targetTile.backgroundColor = 'rgba(50,205,50, 1)';
                            else if (checkTileIntersects($helper))
                                $helperFlipFront.css('background-color', 'rgba(220,20,60,0.2)');
                        }
                        // prevent duplicate calls
                        if (previousHelperBbox.left === helperBbox.left &&
                            previousHelperBbox.top === helperBbox.top &&
                            previousHelperBbox.width === helperBbox.width &&
                            previousHelperBbox.height === helperBbox.height) {
                            $scope.$applyAsync();
                            return;
                        }
                        previousHelperBbox = helperBbox;
                        // fire onMove handler:
                        if (angular.isFunction($scope.onMove)) {
                            $scope.onMove({
                                tile: $scope.tile,
                                shadowPosition: helperBbox
                            });
                        }
                        $scope.$applyAsync();
                    },
                    stop: function (event, ui) {
                        var $helper = ui.helper;
                        // return default tile color
                        if (angular.isArray($scope.tiles)) {
                            $scope.tiles.forEach(function (currentTile) {
                                currentTile.backgroundColor = '';
                            });
                        }
                        $scope.tile.backgroundColor = '';
                        var $animatedTiles = [];
                        var eventResult = {
                            type: 'none',
                            isTileSizeChanged: false,
                            tile: $scope.tile,
                            targetTile: getTileByTile$(getUnderlyingTile$(event.pageX, event.pageY, $tilesArray))
                        };
                        if (eventResult.targetTile) {
                            // swap tiles
                            eventResult.type = 'swap';
                            eventResult.isTileSizeChanged = $scope.tile.width !== eventResult.targetTile.width ||
                                $scope.tile.height !== eventResult.targetTile.height;
                            // exchange sizes
                            var tileChangeObject = {
                                x: $scope.tile.x,
                                y: $scope.tile.y,
                                width: $scope.tile.width,
                                height: $scope.tile.height
                            };
                            // set new size for current tile:
                            $scope.tile.x = eventResult.targetTile.x;
                            $scope.tile.y = eventResult.targetTile.y;
                            $scope.tile.width = eventResult.targetTile.width;
                            $scope.tile.height = eventResult.targetTile.height;
                            // set new size for target tile
                            eventResult.targetTile.x = tileChangeObject.x;
                            eventResult.targetTile.y = tileChangeObject.y;
                            eventResult.targetTile.width = tileChangeObject.width;
                            eventResult.targetTile.height = tileChangeObject.height;
                            // run animation:
                            // clear tile content for smooth animation
                            [$scope.tile, eventResult.targetTile].forEach(function (affectedTile) {
                                var $affectedTile = angular.element('.iz-dash-tile[tileid=' + affectedTile.id + ']');
                                $affectedTile.addClass('transition');
                                $animatedTiles.push($affectedTile);
                            });
                        }
                        else if (!checkTileIntersects($helper)) {
                            eventResult.type = 'move';
                            var helperPos = $helper.position();
                            var helperBbox = getTargetBbox(helperPos.left, helperPos.top, helperWidth, helperHeight);
                            $scope.tile.x = Math.round(helperBbox.left / $scope.gridWidth);
                            $scope.tile.y = Math.round(helperBbox.top / $scope.gridHeight);
                            $scope.tile.width = Math.round(helperBbox.width / $scope.gridWidth);
                            $scope.tile.height = Math.round(helperBbox.height / $scope.gridHeight);
                            if ($scope.tile.x < 0)
                                $scope.tile.x = 0;
                            if ($scope.tile.y < 0)
                                $scope.tile.y = 0;
                            if ($scope.tile.x + $scope.tile.width > 12) {
                                $scope.tile.x = 12 - $scope.tile.width;
                                eventResult.isTileSizeChanged = true;
                            }
                            // run animation for current tile:
                            var $t = angular.element('.iz-dash-tile[tileid=' + $scope.tile.id + ']');
                            $t.addClass('transition');
                            $animatedTiles.push($t);
                        }
                        $animatedTiles.forEach(function ($t) {
                            $t.find('.report').hide();
                        });
                        $scope.$applyAsync();
                        setTimeout(function () {
                            $animatedTiles.forEach(function ($t) {
                                $t.removeClass('transition');
                            });
                            $tile.css('z-index', '1');
                            $tile.find('.frame').removeClass('hidden');
                            $tileFlippies.removeClass('flipInY');
                            $tileFlippies.removeClass('animated');
                            $tileFlippies.removeClass('fast');
                            setTimeout(function () {
                                $animatedTiles.forEach(function ($t) {
                                    $t.find('.report').show();
                                });
                                // turn on window resize handler
                                $izendaDashboardStorageService.turnOnWindowResizeHandler();
                                // fire onMoveEnd handler:
                                if (angular.isFunction($scope.onMoveEnd)) {
                                    $scope.onMoveEnd({ eventResult: eventResult });
                                }
                                $scope.$applyAsync();
                            }, 100);
                        }, 300);
                    }
                });
                // handlers
                $scope.$watch('enabled', function (enabled, prevEnabled) {
                    if (enabled === prevEnabled)
                        return;
                    $tile['draggable'](enabled ? 'enable' : 'disable');
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaTileDraggable.factory = function () {
            var directive = function ($rootScope, $timeout, $izendaDashboardStorageService) {
                return new IzendaTileDraggable($rootScope, $timeout, $izendaDashboardStorageService);
            };
            directive.$inject = ['$rootScope', '$timeout', '$izendaDashboardStorageService'];
            return directive;
        };
        return IzendaTileDraggable;
    }());
    module_definition_28.default.directive('izendaTileDraggable', ['$rootScope', '$timeout', '$izendaDashboardStorageService', IzendaTileDraggable.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-flip-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_29) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Tile flip directive. Flips tile and calls handler.
     */
    var IzendaTileFlip = /** @class */ (function () {
        function IzendaTileFlip($timeout) {
            this.$timeout = $timeout;
            this.restrict = 'A';
            this.scope = {
                flipObject: '=izendaTileFlipObject',
                flipHandler: '&izendaTileFlipHandler'
            };
            IzendaTileFlip.prototype.link = function ($scope, $element) {
                var getFlippyFront = function () { return $element.children('.animate-flip').children('.flippy-front'); };
                var getFlippyBack = function () { return $element.children('.animate-flip').children('.flippy-back'); };
                var flipTileFront = function (update, updateFromSourceReport) {
                    var showClass = 'animated fast flipInY';
                    var hideClass = 'animated fast flipOutY';
                    var $front = getFlippyFront();
                    var $back = getFlippyBack();
                    $element.children('.ui-resizable-handle').hide();
                    $back.addClass(hideClass);
                    $front.removeClass(showClass);
                    $front.css('display', 'block').addClass(showClass);
                    $back.css('display', 'none').removeClass(hideClass);
                    $timeout(function () {
                        $front.removeClass('flipInY');
                        $back.removeClass('flipInY');
                        $element.children('.ui-resizable-handle').fadeIn(200);
                    }, 200).then(function () {
                        // call handler
                        if (angular.isFunction($scope.flipHandler))
                            $scope.flipHandler({
                                isFront: true,
                                update: update,
                                updateFromSourceReport: updateFromSourceReport
                            });
                    });
                };
                var flipTileBack = function () {
                    var showClass = 'animated fast flipInY';
                    var hideClass = 'animated fast flipOutY';
                    var $front = getFlippyFront();
                    var $back = getFlippyBack();
                    $element.children('.ui-resizable-handle').hide();
                    $front.addClass(hideClass);
                    $back.removeClass(showClass);
                    $back.css('display', 'block').addClass(showClass);
                    $front.css('display', 'none').removeClass(hideClass);
                    $timeout(function () {
                        $front.removeClass('flipInY');
                        $back.removeClass('flipInY');
                        $element.children('.ui-resizable-handle').fadeIn(200);
                    }, 200).then(function () {
                        // call handler
                        if (angular.isFunction($scope.flipHandler)) {
                            $scope.flipHandler({
                                isFront: false
                            });
                        }
                    });
                };
                $scope.$watch('flipObject', function (newValue, oldValue) {
                    if (oldValue === newValue)
                        return;
                    if (newValue.isFront)
                        flipTileFront(newValue.update, newValue.updateFromSourceReport);
                    else
                        flipTileBack();
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaTileFlip.factory = function () {
            var directive = function ($timeout) { return new IzendaTileFlip($timeout); };
            directive.$inject = ['$timeout'];
            return directive;
        };
        return IzendaTileFlip;
    }());
    module_definition_29.default.directive('izendaTileFlip', ['$timeout', IzendaTileFlip.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-hover-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_30) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Tile hover directive. Adds onHover event handler to tile.
     */
    var IzendaTileHover = /** @class */ (function () {
        function IzendaTileHover($window) {
            this.$window = $window;
            this.restrict = 'A';
            IzendaTileHover.prototype.link = function ($scope, $element, attrs) {
                var uid = Math.floor(Math.random() * 1000000);
                var windowMouseMoveEventName = "mousemove.tilehover" + uid;
                var isHoveringOverTile = false;
                var isHoverLocked = false;
                // set hover classes func
                var applyTileHover = function ($tile, isHoveringNow) {
                    var reportComplexityCoefficent = $scope.$eval(attrs.izendaTileHoverReportComplexity);
                    if (isHoverLocked && reportComplexityCoefficent < 0.5)
                        return;
                    if (isHoveringNow) {
                        $tile.addClass('hover');
                        $tile.removeClass('no-hover-overflow');
                    }
                    else {
                        $tile.addClass('no-hover-overflow');
                        $tile.removeClass('hover');
                    }
                };
                // hover event handlers
                $element.hover(function () {
                    applyTileHover($element, true);
                }, function () {
                    applyTileHover($element, false);
                });
                // window mouse move event handlers
                angular.element($window).on(windowMouseMoveEventName, function (e) {
                    var $tileElement = angular.element(e.target).closest('div.iz-dash-tile');
                    var overTile = $tileElement.length > 0 && $tileElement.attr('tileid') == $element.attr('tileid');
                    if (overTile !== isHoveringOverTile) {
                        applyTileHover($element, overTile);
                    }
                    isHoveringOverTile = overTile;
                });
                $scope.$watch('$ctrl.tile.backTilePopupOpened', function (newVal, oldVal) {
                    if (!newVal && oldVal) {
                        // backTilePopupOpened turned off
                        isHoverLocked = false;
                        applyTileHover($element, isHoveringOverTile);
                    }
                    else if (newVal && !oldVal) {
                        // backTilePopupOpened turned on
                        applyTileHover($element, true);
                        isHoverLocked = true;
                    }
                });
                // destruction method
                $element.on('$destroy', function () {
                    $element.off('hover');
                    angular.element($window).off(windowMouseMoveEventName);
                });
            };
        }
        IzendaTileHover.factory = function () {
            var directive = function ($window) { return new IzendaTileHover($window); };
            directive.$inject = ['$window'];
            return directive;
        };
        return IzendaTileHover;
    }());
    module_definition_30.default.directive('izendaTileHover', ['$window', IzendaTileHover.factory()]);
});
izendaRequire.define("dashboard/components/tile/tile-resizable-directive", ["require", "exports", "angular", "dashboard/module-definition", "izenda-external-libs"], function (require, exports, angular, module_definition_31) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Directive provides resize function for dashboard tile.
     */
    var IzendaTileResizable = /** @class */ (function () {
        function IzendaTileResizable($izendaDashboardStorageService) {
            var _this = this;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.restrict = 'E';
            this.scope = {
                gridWidth: '=',
                gridHeight: '=',
                tile: '=',
                tiles: '=',
                onResize: '&',
                onResizeStart: '&',
                onResizeEnd: '&'
            };
            IzendaTileResizable.prototype.link = function ($scope, $element) {
                // initialize resizable
                var $tile = $element.closest('.iz-dash-tile');
                var $tileFlippies;
                var previousHelperBbox = { left: 0, top: 0, width: 0, height: 0 };
                /**
                 * Check tile intersects to any other tile
                 */
                var checkTileIntersects = function ($helper) {
                    var hitTest = function (a, otherTile, accuracyX, accuracyY) {
                        var aPos = a.position();
                        var aTop = aPos.top > 0 ? aPos.top : 0;
                        var aBottom = aTop + a.height();
                        var aLeft = aPos.left > 0 ? aPos.left : 0;
                        var aRight = aLeft + a.width();
                        if (aRight / $scope.gridWidth > 12) {
                            var delta = aRight - $scope.gridWidth * 12;
                            aLeft -= delta;
                            aRight = $scope.gridWidth * 12;
                        }
                        var bLeft = otherTile.x * $scope.gridWidth + accuracyX;
                        var bTop = otherTile.y * $scope.gridHeight + accuracyY;
                        var bRight = (otherTile.x + otherTile.width) * $scope.gridWidth - accuracyX;
                        var bBottom = (otherTile.y + otherTile.height) * $scope.gridHeight - accuracyY;
                        return !(bLeft > aRight || bRight < aLeft || bTop > aBottom || bBottom < aTop);
                    };
                    var result = false;
                    $scope.tiles.forEach(function (oTile) {
                        if (oTile.id === $scope.tile.id)
                            return;
                        if (hitTest($helper, oTile, $scope.gridWidth / 2, $scope.gridHeight / 2))
                            result = true;
                    });
                    return result;
                };
                /**
                 * Update resizable according to current gridWidth and gridHeight
                 */
                var updateContraints = function () {
                    $tile['resizable']('option', 'grid', [$scope.gridWidth, $scope.gridHeight]);
                    $tile['resizable']('option', 'minHeight', $scope.gridWidth);
                    $tile['resizable']('option', 'minWidth', $scope.gridHeight);
                };
                /**
                 * Update tile x,y,width,height according to the new dom element size
                 */
                var updateTileSize = function (tile, $t) {
                    var tilePosition = $t.position();
                    var x = Math.round(tilePosition.left / $scope.gridWidth);
                    var y = Math.round(tilePosition.top / $scope.gridHeight);
                    var width = Math.round($t.width() / $scope.gridWidth);
                    var height = Math.round($t.height() / $scope.gridHeight);
                    var isTileSizeNeedToCorrect = x < 0 || y < 0 || x + width > 12;
                    if (x < 0) {
                        width = width + x;
                        tile.x = 0;
                    }
                    else
                        tile.x = x;
                    if (y < 0) {
                        height = height + y;
                        tile.y = 0;
                    }
                    else
                        tile.y = y;
                    tile.width = width;
                    tile.height = height;
                    if (tile.x + tile.width > 12) {
                        tile.width = 12 - tile.x;
                    }
                    if (isTileSizeNeedToCorrect) {
                        var l = tile.x * $scope.gridWidth;
                        var t = tile.y * $scope.gridHeight;
                        $t.css('transform', "translate3d(" + l + "px," + t + "px,0)");
                        $t.width(tile.width * $scope.gridWidth);
                        $t.height(tile.height * $scope.gridHeight);
                    }
                };
                // initialize resizable for tile
                $tile['resizable']({
                    minWidth: $scope.gridWidth,
                    minHeight: $scope.gridHeight,
                    grid: [$scope.gridWidth, $scope.gridHeight],
                    handles: 'n, e, s, w, se',
                    // start resize handler
                    start: function (event) {
                        $scope.tiles.forEach(function (t) {
                            t.backTilePopupOpened = false;
                        });
                        // turn off window resize handler
                        _this.$izendaDashboardStorageService.turnOffWindowResizeHandler();
                        // context variables
                        $tile = angular.element(event.target);
                        $tileFlippies = $tile.children('.animate-flip').children('.flippy');
                        $tileFlippies.children('.frame').addClass('hidden');
                        $tileFlippies.removeClass('flipInY');
                        $tileFlippies.css('background-color', 'rgba(50,205,50, 0.3)');
                        $tile.css('z-index', 1000);
                        $tile.css('opacity', 1);
                        // fire onResizeStart handler:
                        if (angular.isFunction($scope.onResizeStart)) {
                            var eventResult = {
                                tile: $scope.tile
                            };
                            $scope.onResizeStart({ eventResult: eventResult });
                        }
                    },
                    // resize handler
                    resize: function () {
                        var helperPosition = $tile.position();
                        var x = Math.round(helperPosition.left / $scope.gridWidth) * $scope.gridWidth;
                        var y = Math.round(helperPosition.top / $scope.gridHeight) * $scope.gridHeight;
                        var helperBbox = {
                            left: x,
                            top: y,
                            width: Math.round($tile.width() / $scope.gridWidth) * $scope.gridWidth,
                            height: Math.round($tile.height() / $scope.gridHeight) * $scope.gridWidth
                        };
                        // prevent duplicate calls
                        if (previousHelperBbox.left === helperBbox.left &&
                            previousHelperBbox.top === helperBbox.top &&
                            previousHelperBbox.width === helperBbox.width &&
                            previousHelperBbox.height === helperBbox.height)
                            return;
                        previousHelperBbox = helperBbox;
                        // fire onMove handler:
                        if (angular.isFunction($scope.onResize)) {
                            var eventResult = {
                                tile: $scope.tile,
                                shadowPosition: helperBbox
                            };
                            $scope.onResize({ eventResult: eventResult });
                        }
                        $tileFlippies.css('background-color', 'rgba(50,205,50, 0.5)');
                        if (checkTileIntersects($tile)) {
                            $tileFlippies.css('background-color', 'rgba(220,20,60,0.5)');
                        }
                    },
                    // end resize handler
                    stop: function (event, ui) {
                        $tile.css('z-index', '1');
                        $tile.find('.frame').removeClass('hidden');
                        $tileFlippies.removeClass('flipInY');
                        $tileFlippies.removeClass('animated');
                        $tileFlippies.removeClass('fast');
                        $tileFlippies.css('background-color', '');
                        var eventResult;
                        if (checkTileIntersects($tile)) {
                            $tile.animate({
                                left: ui.originalPosition.left,
                                top: ui.originalPosition.top,
                                width: ui.originalSize.width,
                                height: ui.originalSize.height
                            }, 200);
                            eventResult = {
                                action: 'resize cancel',
                                isTileSizeChanged: false
                            };
                        }
                        else {
                            var isTileSizeChanged = $tile.width() !== ui.originalSize.width || $tile.height() !== ui.originalSize.height;
                            if (isTileSizeChanged)
                                updateTileSize($scope.tile, $tile);
                            eventResult = {
                                action: 'resize end',
                                isTileSizeChanged: isTileSizeChanged
                            };
                        }
                        $tileFlippies.children('.frame').removeClass('hidden');
                        $tile.css('opacity', 1);
                        // turn on window resize handler
                        _this.$izendaDashboardStorageService.turnOnWindowResizeHandler();
                        // fire onResizeEnd handler:
                        if (angular.isFunction($scope.onResizeEnd)) {
                            $scope.onResizeEnd({
                                eventResult: eventResult
                            });
                        }
                    }
                });
                // handlers
                $scope.$watch('enabled', function (enabled, prevEnabled) {
                    if (enabled === prevEnabled)
                        return;
                    $tile['resizable'](enabled ? 'enable' : 'disable');
                });
                $scope.$watch('gridWidth', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    updateContraints();
                });
                $scope.$watch('gridHeight', function (newVal, oldVal) {
                    if (newVal === oldVal)
                        return;
                    updateContraints();
                });
                // destruction method
                $element.on('$destroy', function () { });
            };
        }
        IzendaTileResizable.factory = function () {
            var directive = function ($izendaDashboardStorageService) { return new IzendaTileResizable($izendaDashboardStorageService); };
            directive.$inject = ['$izendaDashboardStorageService'];
            return directive;
        };
        return IzendaTileResizable;
    }());
    module_definition_31.default.directive('izendaTileResizable', ['$izendaDashboardStorageService', IzendaTileResizable.factory()]);
});
izendaRequire.define("dashboard/components/tile-back/tile-back-component", ["require", "exports", "common/core/tools/izenda-component", "dashboard/module-definition", "common/query/services/settings-service", "common/core/services/compatibility-service", "izenda-external-libs"], function (require, exports, izenda_component_8, module_definition_32, settings_service_5, compatibility_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Back tile component definition
     */
    var IzendaDashboardTileBackComponent = /** @class */ (function () {
        function IzendaDashboardTileBackComponent($izendaSettingsService, $izendaDashboardSettings, $izendaCompatibilityService) {
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.showAllInResults = true;
            this.isDesignLinksAllowed = true;
            this.printMode = 'Html2PdfAndHtml';
        }
        IzendaDashboardTileBackComponent.prototype.$onInit = function () {
            this.initializeAdHocSettings();
        };
        ;
        IzendaDashboardTileBackComponent.prototype.topSelected = function (newTop) {
            if (this.onSetTileTop)
                this.onSetTileTop({ top: newTop });
        };
        IzendaDashboardTileBackComponent.prototype.printTile = function () {
            this.fireHandler(this.onPrint);
        };
        IzendaDashboardTileBackComponent.prototype.fireExportToExcel = function () {
            this.fireHandler(this.onExportExcel);
        };
        IzendaDashboardTileBackComponent.prototype.fireReportEditorLink = function () {
            this.fireHandler(this.onGoToEditor);
        };
        IzendaDashboardTileBackComponent.prototype.fireReportViewerLink = function () {
            this.fireHandler(this.onGoToViewer);
        };
        IzendaDashboardTileBackComponent.prototype.reloadTile = function () {
            this.fireHandler(this.onReload);
        };
        IzendaDashboardTileBackComponent.prototype.selectReportPart = function () {
            this.fireHandler(this.onSelectReport);
        };
        //////////////////////////////////////////////////////////////////////
        // rights
        //////////////////////////////////////////////////////////////////////
        IzendaDashboardTileBackComponent.prototype.hasRightLevel = function (requiredLevel) {
            var rights = ['None', 'Locked', 'View Only', 'Read Only', 'Full Access'];
            var currentRightLevel = rights.indexOf(this.tile.maxRights);
            if (currentRightLevel < 0)
                throw 'Unknown right string: ' + this.tile.maxRights;
            return currentRightLevel >= requiredLevel;
        };
        IzendaDashboardTileBackComponent.prototype.hasLockedRightsOrMore = function () {
            return this.hasRightLevel(1);
        };
        IzendaDashboardTileBackComponent.prototype.hasViewOnlyRightsOrMore = function () {
            return this.hasRightLevel(2);
        };
        IzendaDashboardTileBackComponent.prototype.hasReadOnlyRightsOrMore = function () {
            return this.hasRightLevel(3);
        };
        IzendaDashboardTileBackComponent.prototype.hasFullRights = function () {
            return this.hasRightLevel(4);
        };
        /**
         * Is html model enabled in AdHocSettings
         */
        IzendaDashboardTileBackComponent.prototype.isPrintTileVisible = function () {
            return this.printMode === 'Html' || this.printMode === 'Html2PdfAndHtml';
        };
        /**
         * Check if one column view required
         */
        IzendaDashboardTileBackComponent.prototype.isOneColumnView = function () {
            return this.$izendaCompatibilityService.isOneColumnView();
        };
        IzendaDashboardTileBackComponent.prototype.initializeAdHocSettings = function () {
            var settings = this.$izendaSettingsService.getCommonSettings();
            this.isDesignLinksAllowed = settings.showDesignLinks; // show/hide "go to designer" button
            this.showAllInResults = settings.showAllInResults; // show "ALL" in tile top slider
            this.printMode = this.$izendaDashboardSettings.allowedPrintEngine; // allowed print modes
        };
        IzendaDashboardTileBackComponent.prototype.fireHandler = function (handlerFunction) {
            if (handlerFunction)
                handlerFunction({});
        };
        IzendaDashboardTileBackComponent = __decorate([
            izenda_component_8.default(module_definition_32.default, 'izendaDashboardTileBack', ['$izendaSettingsService', '$izendaDashboardSettings', '$izendaCompatibilityService'], {
                templateUrl: '###RS###extres=components.dashboard.components.tile-back.tile-back-template.html',
                bindings: {
                    tile: '<',
                    focused: '<',
                    onSetTileTop: '&',
                    onPrint: '&',
                    onExportExcel: '&',
                    onGoToEditor: '&',
                    onGoToViewer: '&',
                    onReload: '&',
                    onSelectReport: '&'
                }
            }),
            __metadata("design:paramtypes", [settings_service_5.default, Object, compatibility_service_2.default])
        ], IzendaDashboardTileBackComponent);
        return IzendaDashboardTileBackComponent;
    }());
    exports.IzendaDashboardTileBackComponent = IzendaDashboardTileBackComponent;
});
izendaRequire.define("dashboard/components/tile/tile-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/core/services/compatibility-service", "common/core/services/util-service", "common/query/services/url-service", "common/core/services/util-ui-service", "common/core/services/localization-service", "common/query/services/settings-service", "dashboard/services/dashboard-storage-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_9, module_definition_33, compatibility_service_3, util_service_2, url_service_4, util_ui_service_5, localization_service_7, settings_service_6, dashboard_storage_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Tile default state object
     */
    module_definition_33.default.constant('tileDefaults', {
        id: null,
        canBeLoaded: false,
        maxRights: 'None',
        title: null,
        description: null,
        reportFullName: null,
        reportPartName: null,
        reportSetName: null,
        reportName: null,
        reportCategory: null,
        reportNameWithCategory: null,
        previousReportFullName: null,
        isSourceReportDeleted: false,
        designerType: 'ReportDesigner',
        x: 0,
        y: 0,
        width: 1,
        height: 1,
        top: 100,
        topString: '100',
        flip: false,
        applyFilterParams: false,
        backgroundColor: '#fff',
        backTilePopupOpened: false
    });
    var IzendaDashboardTileComponent = /** @class */ (function () {
        function IzendaDashboardTileComponent(rx, $element, $interval, $timeout, $window, $izendaCompatibilityService, $izendaUtilService, $izendaUrlService, $izendaUtilUiService, $izendaLocaleService, $izendaSettingsService, $izendaDashboardSettings, $izendaDashboardStorageService) {
            this.rx = rx;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$window = $window;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.deleteConfirmClass = 'title-button hidden-confirm-btn';
            this.tileSizeChanged = false;
            this.isSelectReportPartModalVisible = false;
            this.isDashboardChangingNow = false;
        }
        IzendaDashboardTileComponent.prototype.$onInit = function () {
            var _this = this;
            this.subscriptions = [];
            this.isIe = this.$izendaCompatibilityService.isIe();
            this.isButtonsVisible = true;
            this.deleteConfirmClass = 'title-button hidden-confirm-btn';
            this.tileSizeChanged = false;
            this.state = {
                empty: true,
                resizableHandlerStarted: false,
                relativeReportComplexity: 0
            };
            this.isSelectReportPartModalVisible = false;
            this.exportProgress = null;
            this.previousWidth = this.$window.innerWidth;
            this.subscriptions = [
                this.$izendaDashboardStorageService.refreshObservable.subscribe(function (refreshInfo) { return _this.$onRefresh(refreshInfo); }),
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    if (_this.previousWidth === newWindowSize.width)
                        return;
                    _this.previousWidth = newWindowSize.width;
                    _this.refreshTile(false);
                })
            ];
        };
        /**
         * Bindings listener
         */
        IzendaDashboardTileComponent.prototype.$onChanges = function (changesObj) {
            if (changesObj.tile && angular.isObject(changesObj.tile)) {
                this.refreshTile();
            }
            ;
        };
        IzendaDashboardTileComponent.prototype.$onDestroy = function () {
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        IzendaDashboardTileComponent.prototype.$onRefresh = function (refreshInfo) {
            var updateFromSource = refreshInfo.updateFromSource;
            var tile = refreshInfo.tile;
            if (!tile || tile === this.tile)
                this.refreshTile(updateFromSource);
        };
        /**
         * Check if tile is empty
         */
        IzendaDashboardTileComponent.prototype.isTileEmpty = function () {
            return this.state.empty;
        };
        /**
         * Check if one column view required
         */
        IzendaDashboardTileComponent.prototype.isOneColumnView = function () {
            return this.$izendaCompatibilityService.isOneColumnView();
        };
        /**
         * Check tile is read only
         */
        IzendaDashboardTileComponent.prototype.isEditAllowed = function () {
            return this.$izendaCompatibilityService.isEditAllowed();
        };
        /**
         * Check if tile title set
         */
        IzendaDashboardTileComponent.prototype.isTitleSet = function () {
            return angular.isString(this.tile.title) && this.tile.title !== '';
        };
        /**
         * Is tile small enough and we need to show buttons without labels.
         */
        IzendaDashboardTileComponent.prototype.isTileButtonsTight = function () {
            return this.tile.width * this.gridWidth < 400;
        };
        /**
         * change report category from cat1\cat2\cat3 to cat1/cat2/cat3
         */
        IzendaDashboardTileComponent.prototype.getConvertedReportCategory = function () {
            return angular.isString(this.tile.reportCategory) ? this.tile.reportCategory : null;
        };
        /**
         * Generate title text
         */
        IzendaDashboardTileComponent.prototype.getTitleText = function () {
            if (this.isTitleSet())
                return this.tile.title;
            var result = '';
            if (this.getConvertedReportCategory())
                result += this.getConvertedReportCategory() + ' / ';
            if (this.tile.reportName && this.tile.reportPartName)
                result += this.tile.reportName + ' / ' + this.tile.reportPartName;
            return result;
        };
        /**
         * Is html model enabled in AdHocSettings
         */
        IzendaDashboardTileComponent.prototype.isReportDivHidden = function () {
            return !this.tile.reportFullName || this.isDashboardChangingNow;
        };
        /**
         * Is tile content should be hidden now.
         */
        IzendaDashboardTileComponent.prototype.isTileSmallEnough = function () {
            return this.tile.width * this.gridWidth < 400 || this.tile.height * this.gridHeight < 400;
        };
        /**
         * Class for confirm delete button (depends on tile size)
         */
        IzendaDashboardTileComponent.prototype.getConfirmDeleteClass = function () {
            var tightClass = this.isTileButtonsTight() ? ' short' : '';
            return "title-button-confirm-remove" + tightClass;
        };
        /**
         * Class for cancel delete button (depends on tile size)
         */
        IzendaDashboardTileComponent.prototype.getCancelDeleteClass = function () {
            var tightClass = this.isTileButtonsTight() ? ' short' : '';
            return "title-button-cancel-remove" + tightClass;
        };
        //////////////////////////////////////////////////////////////////////
        // export modal
        //////////////////////////////////////////////////////////////////////
        IzendaDashboardTileComponent.prototype.getWaitMessageHeaderText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_ExportingInProgress', 'Exporting in progress.');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_PrintingInProgress', 'Printing in progress.');
            return '';
        };
        IzendaDashboardTileComponent.prototype.getWaitMessageText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_FinishExporting', 'Please wait till export is completed...');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_FinishPrinting', 'Please finish printing before continue.');
            return '';
        };
        //////////////////////////////////////////////////////////////////////
        // tile actions
        //////////////////////////////////////////////////////////////////////
        /**
         * Show confirm delete dialog in title
         */
        IzendaDashboardTileComponent.prototype.showConfirmDelete = function () {
            if (!this.tile.reportFullName) {
                this.deleteTile();
                return;
            }
            this.deleteConfirmClass = 'title-button';
        };
        /**
         * Hide confirm delete dialog in title
         */
        IzendaDashboardTileComponent.prototype.hideConfirmDelete = function () {
            this.deleteConfirmClass = 'title-button hidden-confirm-btn';
        };
        /**
         * Delete this tile
         */
        IzendaDashboardTileComponent.prototype.deleteTile = function () {
            if (angular.isFunction(this.onTileDelete)) {
                this.onTileDelete(this.tile);
            }
        };
        /**
         * Close back tile popup
         */
        IzendaDashboardTileComponent.prototype.closeBackTilePopup = function () {
            this.tile.backTilePopupOpened = false;
        };
        /**
         * Back tile popup closed handler
         */
        IzendaDashboardTileComponent.prototype.onBackTilePopupClosed = function () {
        };
        /**
         * Print tile
         */
        IzendaDashboardTileComponent.prototype.printTile = function () {
            var _this = this;
            this.closeBackTilePopup();
            // print single tile if parameter is set:
            if (!this.tile.reportFullName)
                return;
            this.$izendaDashboardStorageService.printDashboard('html', this.tile.reportFullName).then(function () {
                // HTML print print successfully completed handler
                _this.flipFront(true, false);
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
                _this.flipFront(true, false);
            });
        };
        /**
         * Export to excel
         */
        IzendaDashboardTileComponent.prototype.exportExcel = function () {
            var _this = this;
            this.closeBackTilePopup();
            // download the file
            // TODO very easy to add PDF print for tile: 'excel' => 'pdf'
            this.$izendaDashboardStorageService.printDashboard('excel', this.tile.reportFullName).then(function () {
                _this.flipFront(true, false);
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedExportReportTitle', 'Report export error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedExportReport', 'Failed to export report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
                _this.flipFront(true, false);
            });
        };
        /**
         * Back tile side click handler
         */
        IzendaDashboardTileComponent.prototype.onBackTileClick = function () {
            var _this = this;
            this.tiles.forEach(function (tile) {
                if (tile.id !== _this.tile.id)
                    tile.backTilePopupOpened = false;
            });
            if (this.isTileSmallEnough()) {
                this.tile.backTilePopupOpened = !this.tile.backTilePopupOpened;
            }
            else {
                this.flipBack();
            }
        };
        /**
         * Flip tile back
         */
        IzendaDashboardTileComponent.prototype.flipBack = function () {
            this.tile.flip = {
                isFront: false
            };
        };
        /**
         * Flip tile front
         */
        IzendaDashboardTileComponent.prototype.flipFront = function (update, updateFromSourceReport) {
            this.closeBackTilePopup();
            this.tile.flip = {
                isFront: true,
                update: update,
                updateFromSourceReport: updateFromSourceReport
            };
        };
        /**
         * Go to report viewer
         */
        IzendaDashboardTileComponent.prototype.fireReportViewerLink = function () {
            this.closeBackTilePopup();
            if (!this.tile.isSourceReportDeleted) {
                this.$window.open(this.getReportViewerLink(), '_blank');
            }
            else {
                var errorText = this.$izendaLocaleService.localeText('js_SourceReportNotExist', 'Source report "{0}" doesn\'t exist.');
                errorText = errorText.replace(new RegExp(/\{0\}/g), this.getSourceReportName());
                this.$izendaUtilUiService.showErrorDialog(errorText);
            }
        };
        /**
         * Go to report editor
         */
        IzendaDashboardTileComponent.prototype.fireReportEditorLink = function () {
            this.closeBackTilePopup();
            if (!this.tile.isSourceReportDeleted) {
                this.$window.open(this.getReportEditorLink(), '_blank');
            }
            else {
                var errorText = this.$izendaLocaleService.localeText('js_SourceReportNotExist', 'Source report "{0}" not exist.');
                errorText = errorText.replace(new RegExp(/\{0\}/g), this.getSourceReportName());
                this.$izendaUtilUiService.showErrorDialog(errorText);
            }
        };
        /**
         * Refresh tile content
         * @param {boolean} updateFromSourceReport. Is tile content need to be refreshed from the source report.
         * TODO: remove DOM manipulations to separate directive.
         */
        IzendaDashboardTileComponent.prototype.refreshTile = function (updateFromSourceReport) {
            // TODO: do we need this variable?
            //const updateFromSource = this.tile.updateFromSource || updateFromSourceReport;
            var _this = this;
            this.tileSizeChanged = false; // reset tile size information
            this.tile.updateFromSource = false; // reset update from source flag
            if (!this.tile.reportFullName)
                return;
            this.tile.previousReportFullName = null;
            // set loading html
            var loadingHtml = "<div class=\"izenda-common-vcentered-container\">\n\t<div class=\"izenda-common-vcentered-item\">\n\t\t<img class=\"izenda-common-img-loading\" src=\"" + this.$izendaUrlService.settings.urlRpPage + "image=ModernImages.loading-grid.gif\" alt=\"Loading...\" />\n\t</div>\n</div>";
            var $body = this.$element.find('.animate-flip> .flippy-front> .frame> .report');
            $body.html(loadingHtml);
            // calculate tile width and height in pixels
            var tileWidth = this.getWidth() * this.gridWidth - 20;
            var tileHeight = this.getHeight() * this.gridHeight - 55;
            if (this.tile.description)
                tileHeight -= 32;
            var size = {
                height: tileHeight,
                width: tileWidth
            };
            // load preview
            this.$izendaDashboardStorageService.loadTilesPreview(this.tile, size).then(function (tilesHtml) {
                _this.applyTileHtml(tilesHtml);
            }, function (error) {
                _this.applyTileHtml(error);
            });
        };
        /**
         * Set tile top values.
         */
        IzendaDashboardTileComponent.prototype.setTileTop = function (newTop) {
            this.tile.top = newTop;
            this.tile.topString = '' + newTop;
        };
        //////////////////////////////////////////////////////////////////////
        // tile handlers
        //////////////////////////////////////////////////////////////////////
        /**
         * Resize start handler
         */
        IzendaDashboardTileComponent.prototype.onTileResizeStartInner = function (eventResult) {
            this.isButtonsVisible = false;
            if (angular.isFunction(this.onTileResizeStart))
                this.onTileResizeStart(eventResult);
        };
        /**
         * Resize handler
         */
        IzendaDashboardTileComponent.prototype.onTileResizeInner = function (eventResult) {
            if (angular.isFunction(this.onTileResize))
                this.onTileResize(eventResult);
        };
        /**
         * Resize end handler
         */
        IzendaDashboardTileComponent.prototype.onTileResizeEndInner = function (eventResult) {
            if (eventResult.isTileSizeChanged) {
                this.flipFront();
                this.refreshTile(false);
            }
            if (angular.isFunction(this.onTileResizeEnd)) {
                this.onTileResizeEnd(eventResult);
            }
            this.isButtonsVisible = true;
        };
        /**
         * Drag end handler
         */
        IzendaDashboardTileComponent.prototype.onTileDragEndInner = function (eventResult) {
            var resultType = eventResult.type; // 'swap', 'move' or 'none'
            if (resultType === 'swap' && eventResult.targetTile && eventResult.isTileSizeChanged) {
                // we have to notify another tile about swap
                this.$izendaDashboardStorageService.refreshDashboard(false, false, eventResult.targetTile);
            }
            if (eventResult.isTileSizeChanged)
                this.refreshTile(false);
            if (angular.isFunction(this.onTileDragEnd))
                this.onTileDragEnd(eventResult);
        };
        /**
         * Select report part for tile
         */
        IzendaDashboardTileComponent.prototype.selectReportPart = function () {
            this.isSelectReportPartModalVisible = true;
        };
        /**
         * Select report part cancelled
         */
        IzendaDashboardTileComponent.prototype.onSelectReportModalClosed = function () {
            // we need to reset "opened" binding.
            this.isSelectReportPartModalVisible = false;
        };
        /**
         * Report part selected handler
         */
        IzendaDashboardTileComponent.prototype.onSelectReportPart = function (reportPartInfo) {
            var _this = this;
            // hide select report part dialog
            this.closeBackTilePopup();
            var rpInfo = reportPartInfo;
            if (rpInfo.UsesHiddenColumns) {
                this.$izendaUtilUiService.showMessageDialog(this.$izendaLocaleService.localeText('js_cannotAddReportWithHiddenColumnsToTile', 'You cannot add this report into the dashboard because it contains hidden columns. Please re-save the original report as a report with a different name or chose another one.'));
                return;
            }
            var fName = rpInfo.Name;
            if (!this.$izendaUtilService.isUncategorized(rpInfo.Category))
                fName = rpInfo.Category + this.$izendaSettingsService.getCategoryCharacter() + fName;
            var nameparts = rpInfo.Name.split('@');
            var name = nameparts[0];
            var part = nameparts[1];
            // check if tile already exist
            var isTileInDashboard = this.tiles.filter(function (tile) {
                return tile.reportPartName === part &&
                    tile.reportName === name &&
                    ((tile.reportCategory === rpInfo.Category) ||
                        (_this.$izendaUtilService.isUncategorized(tile.reportCategory) && _this.$izendaUtilService.isUncategorized(rpInfo.Category)));
            }).length > 0;
            if (isTileInDashboard) {
                var errorText = this.$izendaLocaleService.localeText('js_CantSelectReportPart', 'Can\'t select report part because dashboard already contains tile with that report.');
                this.$izendaUtilUiService.showNotification(errorText);
                return;
            }
            // update report parameters
            this.tile.previousReportFullName = this.tile.reportFullName;
            angular.extend(this.tile, this.$izendaUrlService.extractReportPartNames(fName, true));
            this.tile.title = rpInfo.Title;
            // update report name with category variable
            this.tile.reportNameWithCategory = this.tile.reportName;
            if (!this.$izendaUtilService.isUncategorized(this.tile.reportCategory))
                this.tile.reportNameWithCategory = this.tile.reportCategory +
                    this.$izendaSettingsService.getCategoryCharacter() +
                    this.tile.reportNameWithCategory;
            if (rpInfo.IsLocked)
                this.tile.maxRights = 'Locked';
            else if (rpInfo.ViewOnly)
                this.tile.maxRights = 'View Only';
            else if (rpInfo.ReadOnly)
                this.tile.maxRights = 'Read Only';
            else
                this.tile.maxRights = 'Full Access';
            // set top variables for tile:
            var newTop = rpInfo.NativeTop && rpInfo.NativeTop > 0 ? rpInfo.NativeTop : 100;
            this.setTileTop(newTop);
            this.tile.designerType = rpInfo.DesignerType;
            this.flipFront(true, true);
            if (angular.isFunction(this.onTileReportSelected)) {
                this.onTileReportSelected(this.tile);
            }
        };
        /**
         * Tile flip handler
         */
        IzendaDashboardTileComponent.prototype.onTileFlip = function (isFront, update, updateFromSourceReport) {
            if (isFront && update) {
                this.refreshTile(updateFromSourceReport);
            }
        };
        /**
         * Tile top changed:
         */
        IzendaDashboardTileComponent.prototype.onSetTileTop = function (top) {
            if (this.tile.top === top)
                return;
            this.tile.top = top;
            this.tile.topString = '' + top;
            this.flipFront(true, false);
            this.closeBackTilePopup();
        };
        //////////////////////////////////////////////////////////////////////
        // tile position
        //////////////////////////////////////////////////////////////////////
        /**
         * Return style object for '.iz-dash-tile'
         */
        IzendaDashboardTileComponent.prototype.getTileStyle = function () {
            var top = this.gridHeight * this.getY();
            var left = this.gridWidth * this.getX();
            var result = {
                'left': '0',
                'top': '0',
                'width': (this.gridWidth * this.getWidth()) + 'px',
                'height': (this.gridHeight * this.getHeight()) + 'px',
                'z-index': (this.tile.backTilePopupOpened ? '3' : '1')
            };
            if (this.$izendaCompatibilityService.isLteIe10()) {
                result['x'] = left + "px";
                result['y'] = top + "px";
            }
            else {
                result['transform'] = "translate3d(" + left + "px," + top + "px,0)";
            }
            return result;
        };
        /**
         * Get tile width
         */
        IzendaDashboardTileComponent.prototype.getWidth = function () {
            return this.isOneColumnView() ? 12 : this.tile.width;
        };
        /**
         * Get tile height
         */
        IzendaDashboardTileComponent.prototype.getHeight = function () {
            return this.isOneColumnView() ? 4 : this.tile.height;
        };
        /**
         * Get X coordinate for tile. This coordinate used for drawing tile UI
         */
        IzendaDashboardTileComponent.prototype.getX = function () {
            return this.isOneColumnView() ? 0 : this.tile.x;
        };
        /**
         * Get Y coordinate for tile. This coordinate used for drawing tile UI
         */
        IzendaDashboardTileComponent.prototype.getY = function () {
            return this.isOneColumnView() ? 4 * this.tile.getTileOrder(this.tiles) : this.tile.y;
        };
        /**
         * Get report viewer link for tile report
         */
        IzendaDashboardTileComponent.prototype.getReportViewerLink = function () {
            return getAppendedUrl(this.$izendaUrlService.settings.urlReportViewer + "?rn=" + this.getSourceReportName());
        };
        /**
         * Get report editor link for tile report
         */
        IzendaDashboardTileComponent.prototype.getReportEditorLink = function () {
            var designerUrl = this.tile.designerType === 'InstantReport'
                ? this.$izendaUrlService.settings.urlInstantReport
                : this.$izendaUrlService.settings.urlReportDesigner;
            return getAppendedUrl(designerUrl + "?rn=" + this.getSourceReportName());
        };
        /**
         * Get source report name
         */
        IzendaDashboardTileComponent.prototype.getSourceReportName = function () {
            var result = this.tile.reportName;
            if (!this.$izendaUtilService.isUncategorized(this.tile.reportCategory))
                result = this.tile.reportCategory + this.$izendaSettingsService.getCategoryCharacter() + result;
            return result;
        };
        /**
         * Set tile inner html
         */
        IzendaDashboardTileComponent.prototype.applyTileHtml = function (htmlData) {
            // load tile content
            var $report = angular.element(this.$element).find('.report');
            this.$izendaDashboardStorageService.loadReportIntoContainer(htmlData, $report);
            var numberOfCellInComplexReport = 3000;
            var numberOfCells = angular.element(this.$element).find('.ReportTable td').length;
            this.state.relativeReportComplexity = numberOfCells / numberOfCellInComplexReport;
            if (this.state.relativeReportComplexity > 1)
                this.state.relativeReportComplexity = 1;
            if (this.isIe && this.state.relativeReportComplexity >= 0.5)
                this.$element.addClass('hover-ie');
            this.state.empty = false;
        };
        IzendaDashboardTileComponent = __decorate([
            izenda_component_9.default(module_definition_33.default, 'izendaDashboardTile', ['rx', '$element', '$interval', '$timeout', '$window', '$izendaCompatibilityService', '$izendaUtilService', '$izendaUrlService',
                '$izendaUtilUiService', '$izendaLocaleService', '$izendaSettingsService', '$izendaDashboardSettings', '$izendaDashboardStorageService'], {
                templateUrl: '###RS###extres=components.dashboard.components.tile.tile-template.html',
                bindings: {
                    tile: '<',
                    tiles: '<',
                    gridWidth: '<',
                    gridHeight: '<',
                    isDashboardChangingNow: '<',
                    onTileDrag: '&',
                    onTileDragStart: '&',
                    onTileDragEnd: '&',
                    onTileResize: '&',
                    onTileResizeStart: '&',
                    onTileResizeEnd: '&',
                    onTileDelete: '&',
                    onTileReportSelected: '&'
                }
            }),
            __metadata("design:paramtypes", [Object, Object, Function, Function, Object, compatibility_service_3.default,
                util_service_2.default,
                url_service_4.default,
                util_ui_service_5.default,
                localization_service_7.default,
                settings_service_6.default, Object, dashboard_storage_service_1.default])
        ], IzendaDashboardTileComponent);
        return IzendaDashboardTileComponent;
    }());
});
izendaRequire.define("dashboard/components/filter/filter-component", ["require", "exports", "common/core/tools/izenda-component", "dashboard/module-definition", "common/query/services/url-service", "dashboard/services/dashboard-storage-service", "izenda-external-libs"], function (require, exports, izenda_component_10, module_definition_34, url_service_5, dashboard_storage_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * <izenda-dashboard-filters> component
     */
    var IzendaDashboardFiltersComponent = /** @class */ (function () {
        function IzendaDashboardFiltersComponent($rx, $window, $timeout, $element, $izendaUrlService, $izendaDashboardStorageService) {
            this.$rx = $rx;
            this.$window = $window;
            this.$timeout = $timeout;
            this.$element = $element;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$window.useGetRenderedReportSetForFilters = false;
            this.isFiltersActive = this.$izendaDashboardStorageService.isFiltersActive.getValue();
            // subscribe
            this.subscriptions = [
                this.$izendaDashboardStorageService.isFiltersActive.subscribeOnNext(this.$onFiltersActiveChange, this)
            ];
        }
        IzendaDashboardFiltersComponent.prototype.$onInit = function () {
            IzLocal.LocalizePage();
            this.setRefreshButtonHandler();
        };
        IzendaDashboardFiltersComponent.prototype.$onDestroy = function () {
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        /**
         * Filters panel on/off handler
         * @param {boolean} isFiltersActive new panel state.
         */
        IzendaDashboardFiltersComponent.prototype.$onFiltersActiveChange = function (isFiltersActive) {
            this.isFiltersActive = isFiltersActive;
        };
        /**
         * Add "update" button handler
         */
        IzendaDashboardFiltersComponent.prototype.setRefreshButtonHandler = function () {
            var _this = this;
            var $btn = this.$element.find('.filters-legacy-update-btn');
            if (!$btn.length)
                return;
            var clicks = this.$rx.Observable.fromEvent($btn.get(0), 'click');
            var clicksThrottle = clicks.debounce(500);
            // do merge to ensure that the handlers order will be correct
            this.$rx.Observable.merge(clicks.map(function (e) { return ({ event: e, isThrottleApplied: false }); }), clicksThrottle.map(function (e) { return ({ event: e, isThrottleApplied: true }); }))
                .subscribe(function (obj) {
                obj.event.preventDefault();
                var isThrottleApplied = obj.isThrottleApplied;
                if (!isThrottleApplied) {
                    // fast clicks handler (always runs before the handler with the enabled throttle condition)
                    $btn.children('a').removeClass('blue');
                    $btn.children('a').addClass('gray');
                    _this.$izendaDashboardStorageService.cancelRefreshDashboardQueries();
                }
                else {
                    // run refresh when throttling is done.
                    $btn.children('a').removeClass('gray');
                    $btn.children('a').addClass('blue');
                    _this.$timeout(function () {
                        _this.$izendaDashboardStorageService.refreshDashboard(false, false);
                    }, 100);
                }
            });
        };
        IzendaDashboardFiltersComponent = __decorate([
            izenda_component_10.default(module_definition_34.default, 'izendaDashboardFilters', ['rx', '$window', '$timeout', '$element', '$izendaUrlService', '$izendaDashboardStorageService'], {
                templateUrl: '###RS###extres=components.dashboard.components.filter.filter-template.html',
                bindings: {}
            }),
            __metadata("design:paramtypes", [Object, Object, Function, Object, url_service_5.default,
                dashboard_storage_service_2.default])
        ], IzendaDashboardFiltersComponent);
        return IzendaDashboardFiltersComponent;
    }());
    exports.IzendaDashboardFiltersComponent = IzendaDashboardFiltersComponent;
});
izendaRequire.define("dashboard/components/gallery/gallery-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/query/services/url-service", "dashboard/services/dashboard-storage-service", "dashboard/services/background-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_11, module_definition_35, url_service_6, dashboard_storage_service_3, background_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * <izenda-gallery> component
     */
    var IzendaGalleryComponent = /** @class */ (function () {
        function IzendaGalleryComponent($rx, $scope, $window, $element, $interval, $timeout, $izendaUrlService, $izendaDashboardStorageService, $izendaBackgroundService) {
            this.$rx = $rx;
            this.$scope = $scope;
            this.$window = $window;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$izendaBackgroundService = $izendaBackgroundService;
            this.subscriptions = [];
            this.subscriptions = [];
            this.$parentElement = this.$element.parent();
            if (!this.$element.hasClass('izenda-gallery-container'))
                this.$element.addClass('izenda-gallery-container');
            this.$smallButtonsPanel = this.$parentElement.find('.izenda-gallery-controls-round-panel');
            this.$titlePanel = this.$parentElement.find('.izenda-gallery-title-controls');
            this.currentTile = null;
            this.state = {
                isUiHidden: false,
                width: 0,
                height: 0,
                elementHeight: this.$parentElement.height(),
                smallButtonsPanelHeight: this.$smallButtonsPanel.height(),
                titlePanelPosition: this.$titlePanel.position(),
                titlePanelHeight: this.$titlePanel.height()
            };
            this.setFullscreenHandlers();
        }
        IzendaGalleryComponent.prototype.$onInit = function () {
            var _this = this;
            this.previousWidth = this.$window.innerWidth;
            this.subscriptions = [
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    if (_this.previousWidth === newWindowSize.width || !_this.enabled)
                        return;
                    _this.previousWidth = newWindowSize.width;
                    _this.$onWindowResize();
                }, this)
            ];
        };
        IzendaGalleryComponent.prototype.$onChanges = function (changesObject) {
            if (changesObject.enabled) {
                var isEnabled = changesObject.enabled.currentValue;
                if (isEnabled)
                    this.activateGallery();
                else
                    this.deactivateGallery();
            }
            else if (changesObject.playStarted) {
                var isStarted = changesObject.playStarted.currentValue;
                if (isStarted)
                    this.play();
                else
                    this.stop();
            }
            else if (changesObject.isFullScreen) {
                var isFullscreen = changesObject.isFullScreen.currentValue;
                this.toggleFullscreen(isFullscreen);
            }
        };
        IzendaGalleryComponent.prototype.$onDestroy = function () {
            this.removeFullscreenHandlers();
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        /**
         * On fullscreen change handler
         */
        IzendaGalleryComponent.prototype.$onfullscreenchange = function () {
            if (!this.enabled)
                return;
            var isFullscreen = !!(document['fullscreenElement'] || document['webkitFullscreenElement'] || document['mozFullScreenElement'] || document['msFullscreenElement']);
            if (this.isFullScreen !== isFullscreen && angular.isFunction(this.onFullscreenChange)) {
                this.onFullscreenChange({ isFullscreen: isFullscreen });
            }
        };
        /**
         * Gallery
         */
        IzendaGalleryComponent.prototype.$onWindowResize = function () {
            var _this = this;
            if (!this.enabled)
                return;
            this.toggleTileAnimations(false);
            this.initSizes();
            this.$timeout(function () {
                _this.loadTilesToGallery();
                _this.toggleTileAnimations(true);
            }, 1, true);
        };
        IzendaGalleryComponent.prototype.enableKeyHandlers = function () {
            var _this = this;
            // hotkeys handler
            angular.element('body').on('keydown.izendaGallery', function (e) {
                if (!_this.enabled)
                    return;
                var keyCode = e.keyCode;
                _this.$scope.$apply(function () {
                    if (!_this.enabled)
                        return;
                    if (e.keyCode === 37 /* ArrowLeft */) {
                        _this.goPrevious();
                    }
                    else if (keyCode === 39 /* ArrowRight */ || keyCode === 32 /* Space */) {
                        _this.goNext();
                    }
                });
            });
        };
        IzendaGalleryComponent.prototype.disableKeyHandlers = function () {
            angular.element('body').off('keydown.izendaGallery');
        };
        IzendaGalleryComponent.prototype.setFullscreenHandlers = function () {
            var fullscreenRootElement = this.$parentElement.get(0);
            this.fullscreenHandler = this.$onfullscreenchange.bind(this);
            fullscreenRootElement.addEventListener('webkitfullscreenchange', this.fullscreenHandler);
            fullscreenRootElement.addEventListener('fullscreenchange', this.fullscreenHandler);
            document.addEventListener('fullscreenchange', this.fullscreenHandler);
            document.addEventListener('mozfullscreenchange', this.fullscreenHandler);
            document.addEventListener('MSFullscreenChange', this.fullscreenHandler);
        };
        IzendaGalleryComponent.prototype.removeFullscreenHandlers = function () {
            var fullscreenRootElement = this.$parentElement.get(0);
            fullscreenRootElement.removeEventListener('webkitfullscreenchange', this.fullscreenHandler);
            fullscreenRootElement.removeEventListener('fullscreenchange', this.fullscreenHandler);
            document.removeEventListener('fullscreenchange', this.fullscreenHandler);
            document.removeEventListener('mozfullscreenchange', this.fullscreenHandler);
            document.removeEventListener('MSFullscreenChange', this.fullscreenHandler);
        };
        IzendaGalleryComponent.prototype.updateGalleryBackground = function (isFullScreen) {
            var $galleryContainer = this.$parentElement;
            // when we're going to fullscreen mode - we need to add background for element, which will be the root in fullscreen view.
            if (isFullScreen) {
                var backgroundImg = this.$izendaBackgroundService.finalBackgroundImageUrl;
                $galleryContainer.css('background-image', backgroundImg ? "url(\"" + backgroundImg + "\")" : '');
                var backgroundColor = this.$izendaBackgroundService.backgroundColor;
                $galleryContainer.css('background-color', backgroundColor);
            }
            else {
                $galleryContainer.css('background-image', '');
                $galleryContainer.css('background-color', '');
            }
        };
        IzendaGalleryComponent.prototype.toggleFullscreen = function (isFullscreen) {
            var launchFullScreen = function (element) {
                if (element.requestFullscreen)
                    element.requestFullscreen();
                else if (element.mozRequestFullScreen)
                    element.mozRequestFullScreen();
                else if (element.webkitRequestFullScreen)
                    element.webkitRequestFullScreen();
                else if (element.msRequestFullscreen)
                    element.msRequestFullscreen();
            };
            var cancelFullscreen = function () {
                if (document['exitFullscreen'])
                    document['exitFullscreen']();
                else if (document['mozCancelFullScreen'])
                    document['mozCancelFullScreen']();
                else if (document['webkitCancelFullScreen'])
                    document['webkitCancelFullScreen']();
                else if (document['msExitFullscreen'])
                    document['msExitFullscreen']();
            };
            this.updateGalleryBackground(isFullscreen);
            if (isFullscreen) {
                var fullscreenRootElement = this.$parentElement.get(0);
                launchFullScreen(fullscreenRootElement);
            }
            else
                cancelFullscreen();
        };
        /**
         * Gallery enabled handler
         */
        IzendaGalleryComponent.prototype.activateGallery = function () {
            var _this = this;
            this.state.isUiHidden = false;
            this.currentTile = null;
            if (this.model && this.galleryTiles.length)
                this.currentTile = this.galleryTiles[0];
            this.initSizes();
            this.enableKeyHandlers();
            this.$element.find('.izenda-gallery-item').css('opacity', 1);
            this.$timeout(function () {
                _this.toggleTileAnimations(true);
                _this.loadTilesToGallery();
            }, 250, true);
        };
        /**
         * Gallery disabled handler
         */
        IzendaGalleryComponent.prototype.deactivateGallery = function () {
            this.clearTiles();
            this.state.isUiHidden = false;
            this.currentTile = null;
            this.disableKeyHandlers();
            this.toggleTileAnimations(false);
            this.$element.find('.izenda-gallery-item').css('opacity', 0);
        };
        /**
         * Start rotating gallery tiles.
         */
        IzendaGalleryComponent.prototype.play = function () {
            var _this = this;
            this.stop();
            if (this.galleryTiles.length <= 1)
                return;
            if (this.playStopOnComplete && this.galleryTiles.indexOf(this.currentTile) === this.galleryTiles.length - 1)
                this.goTo(this.galleryTiles[0]);
            this.state.updatePlayIntervalId = this.$interval(function () {
                if (_this.playStopOnComplete && _this.galleryTiles.indexOf(_this.currentTile) === _this.galleryTiles.length - 1) {
                    _this.playStarted = false;
                    _this.stop();
                    _this.runStopHandler();
                }
                else {
                    _this.goNext();
                }
            }, this.playTimeout);
            this.state.updatePlayTimeoutId = this.$timeout(function () {
                _this.state.isUiHidden = true;
            }, 1);
        };
        /**
         * Stop rotating gallery tiles.
         */
        IzendaGalleryComponent.prototype.stop = function () {
            if (this.state.updatePlayIntervalId) {
                this.$interval.cancel(this.state.updatePlayIntervalId);
                this.state.updatePlayIntervalId = null;
            }
            if (this.state.updatePlayTimeoutId != null) {
                this.$timeout.cancel(this.state.updatePlayTimeoutId);
                this.state.updatePlayTimeoutId = null;
                this.state.isUiHidden = false;
            }
        };
        IzendaGalleryComponent.prototype.runStopHandler = function () {
            if (angular.isFunction(this.onPlayStartedChange)) {
                this.onPlayStartedChange({ isPlayStarted: this.playStarted });
            }
        };
        /**
         * Show selected tile
         * @param {IzendaDashboardTileModel} tile tile model.
         */
        IzendaGalleryComponent.prototype.goTo = function (tile) {
            this.currentTile = tile;
        };
        /**
         * Show previous tile
         */
        IzendaGalleryComponent.prototype.goPrevious = function () {
            if (this.galleryTiles.length < 2)
                return;
            var index = this.currentTile ? this.galleryTiles.indexOf(this.currentTile) : 0;
            index--;
            if (index < 0)
                index = this.galleryTiles.length - 1;
            this.goTo(this.galleryTiles[index]);
        };
        /**
         * Show next tile.
         */
        IzendaGalleryComponent.prototype.goNext = function () {
            if (this.galleryTiles.length < 2)
                return;
            var index = this.currentTile ? this.galleryTiles.indexOf(this.currentTile) : 0;
            index++;
            if (index > this.galleryTiles.length - 1)
                index = 0;
            this.goTo(this.galleryTiles[index]);
        };
        /**
         * Initialize basic sizes
         */
        IzendaGalleryComponent.prototype.initSizes = function () {
            var tileContainerTop = angular.element('.iz-dash-root').offset().top;
            var fullHeight = angular.element(this.$window).height() - tileContainerTop - 30;
            this.$parentElement.height(fullHeight);
            this.state.width = this.$parentElement.width();
            this.state.height = this.$parentElement.height();
            this.state.elementHeight = this.$parentElement.height();
            this.state.smallButtonsPanelHeight = this.$smallButtonsPanel.height(); // cache sizes
            this.state.titlePanelPosition = this.$titlePanel.position();
            this.state.titlePanelHeight = this.$titlePanel.height();
            var tileSize = this.currentTile
                ? this.getTileSize(this.currentTile)
                : {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0,
                    delta: 0
                };
            this.$smallButtonsPanel.css('top', tileSize.y + tileSize.height + 'px');
        };
        Object.defineProperty(IzendaGalleryComponent.prototype, "galleryTiles", {
            /**
             * Gallery tiles getter - tiles available for showing in gallery.
             */
            get: function () {
                if (!this.model || !this.model.tiles.length)
                    return [];
                return this.model.tilesSorted.filter(function (t) { return !!t.reportName; });
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaGalleryComponent.prototype, "tileTitle", {
            /**
             * Create title for the tile
             */
            get: function () {
                if (!this.currentTile)
                    return '';
                if (this.currentTile.title)
                    return this.currentTile.title;
                var result = '';
                if (this.currentTile.reportCategory)
                    result = this.currentTile.reportCategory + ' / ';
                result = result + this.currentTile.reportName + ' / ' + this.currentTile.reportPartName;
                return result;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Get tile CSS style.
         * @param {IzendaDashboardTileModel} tile tile model instance.
         */
        IzendaGalleryComponent.prototype.getTileStyle = function (tile) {
            var size = this.getTileSize(tile);
            var style = {
                'transform': "translate(" + size.x + "px, " + size.y + "px)",
                'width': size.width + "px",
                'height': size.height + "px",
                'opacity': size.delta ? '0.5' : '1'
            };
            return style;
        };
        /**
         * Calculate tile size.
         * @param {IzendaDashboardTileModel} tile tile model instance.
         */
        IzendaGalleryComponent.prototype.getTileSize = function (tile) {
            var tileIndex = this.galleryTiles.indexOf(tile);
            var currentTileIndex = this.galleryTiles.indexOf(this.currentTile);
            var parsedWidth = this.parseSize(this.width);
            var parsedHeight = this.parseSize(this.height);
            var galleryItemWidth = Math.round(parsedWidth.isPercent ? this.state.width * parsedWidth.value : parsedWidth.value);
            var galleryItemHeight = Math.round(parsedHeight.isPercent ? this.state.height * parsedHeight.value : parsedHeight.value);
            var spaceWidth = 100;
            var delta = tileIndex - currentTileIndex;
            var transformX = Math.round((this.state.width - galleryItemWidth) / 2 + delta * (galleryItemWidth + spaceWidth));
            var transformY = Math.round((this.state.height - galleryItemHeight) / 2);
            var constraintBottom = this.state.smallButtonsPanelHeight;
            var constraintTop = this.state.titlePanelPosition.top + this.state.titlePanelHeight + 10;
            if (transformY < constraintTop)
                transformY = constraintTop;
            if (transformY + galleryItemHeight > this.state.elementHeight - constraintBottom) {
                galleryItemHeight = this.state.elementHeight - transformY - constraintBottom;
            }
            return {
                x: transformX,
                y: transformY,
                width: galleryItemWidth,
                height: galleryItemHeight,
                delta: delta
            };
        };
        /**
         * Parse size string
         * @param {string} sizeString
         */
        IzendaGalleryComponent.prototype.parseSize = function (sizeString) {
            var result = {
                isPercent: false,
                value: 0
            };
            if (sizeString.endsWith('%')) {
                result.isPercent = true;
                result.value = parseInt(sizeString.substring(0, sizeString.length - 1)) / 100;
            }
            else if (sizeString.endsWith('px'))
                result.value = parseInt(sizeString.substring(0, sizeString.length - 2));
            else
                result.value = parseInt(sizeString);
            return result;
        };
        /**
         * Turn on/off CSS tile animations
         * @param {bool} enabled
         */
        IzendaGalleryComponent.prototype.toggleTileAnimations = function (enabled) {
            if (enabled) {
                this.$element.find('.izenda-gallery-item').addClass('izenda-gallery-transition');
            }
            else {
                this.$element.find('.izenda-gallery-item').removeClass('izenda-gallery-transition');
            }
        };
        /**
         * Clear tiles.
         */
        IzendaGalleryComponent.prototype.clearTiles = function () {
            var _this = this;
            this.galleryTiles.forEach(function (tile) {
                var $tile = _this.$element.find(".izenda-gallery-item[tile-id=" + tile.id + "] > .izenda-gallery-item-inner");
                $tile.empty();
            });
        };
        /**
        * Load gallery tile
        */
        IzendaGalleryComponent.prototype.loadTilesToGallery = function () {
            var _this = this;
            this.galleryTiles.forEach(function (tile) {
                var $tile = _this.$element.find(".izenda-gallery-item[tile-id=" + tile.id + "] > .izenda-gallery-item-inner");
                var loadingHtml = '<div class="izenda-common-vcentered-container">' +
                    '<div class="izenda-common-vcentered-item">' +
                    '<img class="izenda-common-img-loading" src="' +
                    _this.$izendaUrlService.settings.urlRpPage +
                    'image=ModernImages.loading-grid.gif" alt="Loading..." />' +
                    '</div>' +
                    '</div>';
                $tile.html(loadingHtml);
                var size = {
                    height: $tile.height(),
                    width: $tile.width()
                };
                _this.$izendaDashboardStorageService.loadTilesPreview(tile, size).then(function (tilesHtml) {
                    var $reportDiv = angular.element('<div class="report"></div>');
                    $tile.empty();
                    $tile.append($reportDiv);
                    // load html into this div
                    _this.$izendaDashboardStorageService.loadReportIntoContainer(tilesHtml, $reportDiv);
                }, function (error) {
                    $tile.empty();
                    $tile.text(error);
                });
            });
        };
        IzendaGalleryComponent = __decorate([
            izenda_component_11.default(module_definition_35.default, 'izendaGallery', ['rx', '$scope', '$window', '$element', '$interval', '$timeout', '$izendaUrlService', '$izendaDashboardStorageService', '$izendaBackgroundService'], {
                templateUrl: '###RS###extres=components.dashboard.components.gallery.gallery-template.html',
                bindings: {
                    model: '<',
                    width: '@',
                    height: '@',
                    playTimeout: '<',
                    playStarted: '<',
                    playStopOnComplete: '<',
                    isFullScreen: '<',
                    enabled: '<',
                    onPlayStartedChange: '&',
                    onFullscreenChange: '&'
                }
            }),
            __metadata("design:paramtypes", [Object, Object, Object, Object, Function, Function, url_service_6.default,
                dashboard_storage_service_3.default,
                background_service_1.default])
        ], IzendaGalleryComponent);
        return IzendaGalleryComponent;
    }());
    exports.IzendaGalleryComponent = IzendaGalleryComponent;
});
izendaRequire.define("dashboard/components/dashboard/dashboard-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/core/services/localization-service", "common/core/services/compatibility-service", "dashboard/services/dashboard-storage-service", "dashboard/services/background-service", "dashboard/services/gallery-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_12, module_definition_36, localization_service_8, compatibility_service_4, dashboard_storage_service_4, background_service_2, gallery_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * Izenda dashboard component.
     */
    var IzendaDashboardComponent = /** @class */ (function () {
        function IzendaDashboardComponent($rx, $window, $element, $interval, $timeout, $rootScope, $izendaLocaleService, $izendaCompatibilityService, $izendaDashboardSettings, $izendaDashboardStorageService, $izendaBackgroundService, $izendaGalleryService) {
            this.$rx = $rx;
            this.$window = $window;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$rootScope = $rootScope;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$izendaBackgroundService = $izendaBackgroundService;
            this.$izendaGalleryService = $izendaGalleryService;
        }
        IzendaDashboardComponent.prototype.$onInit = function () {
            var _this = this;
            this.isLicenseFailed = !this.$izendaDashboardSettings.dashboardsAllowed;
            if (this.isLicenseFailed)
                return;
            this.exportProgress = null;
            this.tileWidth = 100;
            this.tileHeight = 100;
            this.tileContainerStyle = {
                backgroundColor: 'transparent'
            };
            this.isMouseEventsEnabledManual = true;
            this.initGrid();
            this.galleryContainerStyle = {
                'height': 0
            };
            this.rootWidth = this.$element.find('.iz-dash-root').width();
            // subscribe
            this.previousWidth = this.$window.innerWidth;
            this.subscriptions = [
                this.$izendaDashboardStorageService.model.subscribeOnNext(this.$onDashboardModelUpdate, this),
                this.$izendaDashboardStorageService.isLoaded.subscribeOnNext(this.$onDashboardIsLoadedUpdate, this),
                this.$izendaDashboardStorageService.exportProgress.subscribeOnNext(function (newValue) {
                    _this.$timeout(function () { return _this.exportProgress = newValue; }, 1);
                }, this),
                //this.$izendaBackgroundService.background.subscribeOnNext(this.$onDashboardBackgroundChanged, this),
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    if (_this.previousWidth === newWindowSize.width)
                        return;
                    _this.previousWidth = newWindowSize.width;
                    _this.rootWidth = _this.$element.find('.iz-dash-root').width();
                    _this.updateDashboardSize();
                    _this.$rootScope.$applyAsync();
                })
            ];
        };
        Object.defineProperty(IzendaDashboardComponent.prototype, "isMouseEventsEnabled", {
            get: function () {
                return this.isMouseEventsEnabledManual && this.$izendaCompatibilityService.isEditAllowed();
            },
            enumerable: true,
            configurable: true
        });
        IzendaDashboardComponent.prototype.initGrid = function () {
            this.isGridVisible = false;
            this.gridStyle = null;
            this.isGridShadowVisible = false;
            this.isGridShadowPlusButtonVisible = false;
            this.gridShadowStyle = {
                'left': 0,
                'top': 0,
                'width': 0,
                'height': 0
            };
            this.updateGridStyle(); // init grid style
        };
        IzendaDashboardComponent.prototype.$onDestroy = function () {
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        /**
         * Dashboard model changed handler. Occurs when user navigates to existing or new dashboard.
         * @param {IzendaDashboardModel} newModel new dashboard model object.
         */
        IzendaDashboardComponent.prototype.$onDashboardModelUpdate = function (newModel) {
            this.hideGrid();
            this.isMouseEventsEnabledManual = true;
            this.model = newModel;
            if (!this.model)
                return;
            this.updateDashboardSize();
        };
        /**
         * Dashboard isLoaded changed handler.
         * @param {boolean} newIsLoaded new isLoaded value.
         */
        IzendaDashboardComponent.prototype.$onDashboardIsLoadedUpdate = function (newIsLoaded) {
            this.hideGrid();
            this.isLoaded = newIsLoaded;
        };
        /**
         * Event fires on tile drag start
         */
        IzendaDashboardComponent.prototype.$onTileDragStart = function (tile) {
            this.turnOffMouseHandlers();
            this.showGrid();
            this.showTileGridShadow({
                left: tile.x * this.tileWidth,
                top: tile.y * this.tileHeight,
                width: tile.width * this.tileWidth,
                height: tile.height * this.tileHeight
            }, false);
        };
        /**
         * Event fires on tile drag change position
         */
        IzendaDashboardComponent.prototype.$onTileDrag = function (tile, shadowPosition) {
            this.showTileGridShadow({
                left: shadowPosition.left,
                top: shadowPosition.top,
                width: shadowPosition.width,
                height: shadowPosition.height
            }, false);
            this.updateDashboardSize(shadowPosition);
        };
        /**
         * Event fires on tile drag end
         */
        IzendaDashboardComponent.prototype.$onTileDragEnd = function (eventResult) {
            this.hideGrid();
            this.turnOnMouseHandlers();
        };
        /**
         * Start tile resize event handler
         */
        IzendaDashboardComponent.prototype.$onTileResizeStart = function (tile) {
            this.turnOffMouseHandlers();
            this.showGrid();
            this.showTileGridShadow({
                left: tile.x * this.tileWidth,
                top: tile.y * this.tileHeight,
                width: tile.width * this.tileWidth,
                height: tile.height * this.tileHeight
            }, false);
        };
        /**
         * Tile resize handler
         */
        IzendaDashboardComponent.prototype.$onTileResize = function (tile, shadowPosition) {
            this.showTileGridShadow({
                left: shadowPosition.left,
                top: shadowPosition.top,
                width: shadowPosition.width,
                height: shadowPosition.height
            }, false);
            this.updateDashboardSize(shadowPosition);
        };
        /**
         * Tile resize completed handler
         */
        IzendaDashboardComponent.prototype.$onTileResizeEnd = function (eventResult) {
            this.hideGrid();
            this.turnOnMouseHandlers();
        };
        /**
         * Tile delete handler
         */
        IzendaDashboardComponent.prototype.$onTileDelete = function (tile) {
            if (tile == null)
                throw 'Tile not found';
            this.model.removeTile(tile);
            this.updateDashboardSize();
            this.$izendaDashboardStorageService.refreshFilters();
        };
        /**
         * Tile report selected handler.
         * @param {IzendaDashboardTileModel} tile tile model object.
         */
        IzendaDashboardComponent.prototype.$onTileReportSelected = function (tile) {
            this.$izendaDashboardStorageService.refreshFilters();
        };
        /**
         * Dashboard mouse hover
         */
        IzendaDashboardComponent.prototype.globalMousemoveHandler = function ($event) {
            if (!this.isMouseEventsEnabled) {
                return;
            }
            var $target = angular.element($event.target);
            if ($target.closest('.iz-dash-tile').length) {
                this.hideGrid();
                return;
            }
            // get {x, y} click coordinates
            var x = Math.floor($event.offsetX / this.tileWidth);
            var y = Math.floor($event.offsetY / this.tileHeight);
            this.showGrid();
            if ($target.hasClass('dashboard-grid') && $target.width() > 0) {
                this.showTileGridShadow({
                    left: x * this.tileWidth,
                    top: y * this.tileHeight,
                    width: this.tileWidth,
                    height: this.tileHeight
                }, true);
            }
        };
        /**
         * Dashboard mouse out
         */
        IzendaDashboardComponent.prototype.globalMouseoutHandler = function ($event) {
            if (!this.isMouseEventsEnabled
                || ($event.relatedTarget && angular.element($event.relatedTarget).closest('.iz-dash-body-container').length > 0))
                return;
            this.hideGrid();
        };
        /**
         * Click to any part of the dashboard
         */
        IzendaDashboardComponent.prototype.globalClickHandler = function ($event) {
            if (!this.isMouseEventsEnabled)
                return true;
            if (typeof ($event['which']) !== 'undefined' && $event['which'] !== 1)
                return true;
            // get {x, y} click coordinates
            var x = Math.floor($event.offsetX / this.tileWidth);
            var y = Math.floor($event.offsetY / this.tileHeight);
            this.model.addPixelTile(x, y);
            this.updateDashboardSize();
            return false;
        };
        /**
         * Disable mouse move/out/click handlers for dashboard
         */
        IzendaDashboardComponent.prototype.turnOffMouseHandlers = function () {
            this.isMouseEventsEnabledManual = false;
            this.hideGrid();
        };
        /**
         * Enable mouse move/out/click handlers for dashboard
         */
        IzendaDashboardComponent.prototype.turnOnMouseHandlers = function () {
            if (this.$izendaCompatibilityService.isEditAllowed())
                this.isMouseEventsEnabledManual = true;
        };
        /**
         * Update tile container sizes
         * @param {object} additionalBox. If we want to extend dashboard container size we can
         * use this parameter and add additional area.
         */
        IzendaDashboardComponent.prototype.updateDashboardSize = function (additionalBox) {
            if (!this.model)
                return;
            this.updateTileSize();
            this.updateGallerySize();
            var isOneColumn = this.$izendaCompatibilityService.isOneColumnView();
            var maxHeight = this.model.getMaxHeight(isOneColumn);
            var maxHeightPixels = maxHeight * this.tileHeight;
            // update height of union of tiles and additional box it is set
            if (angular.isDefined(additionalBox))
                if (additionalBox.top + additionalBox.height > maxHeightPixels)
                    maxHeightPixels = additionalBox.top + additionalBox.height;
            // set height:
            angular.element('.iz-dash-body-container').height((maxHeightPixels + this.tileHeight + 1) + 'px');
        };
        /**
         * Update tile grid sizes
         */
        IzendaDashboardComponent.prototype.updateTileSize = function () {
            var width = Math.floor(this.rootWidth / 12) * 12 - 24;
            this.$element.find('.iz-dash-body-container').width(width);
            this.tileWidth = width / 12;
            this.tileHeight = this.tileWidth > 100 ? this.tileWidth : 100;
            this.updateGridStyle();
        };
        /**
         * Update tile grid style variable.
         */
        IzendaDashboardComponent.prototype.updateGridStyle = function () {
            this.gridStyle = {
                'background-size': this.tileWidth +
                    'px ' +
                    this.tileHeight +
                    'px, ' +
                    this.tileWidth +
                    'px ' +
                    this.tileHeight +
                    'px'
            };
        };
        /**
         * Update gallery container size
         */
        IzendaDashboardComponent.prototype.updateGallerySize = function () {
            var tileContainerTop = angular.element('.iz-dash-root').offset().top;
            this.galleryContainerStyle.height = angular.element(this.$window).height() - tileContainerTop - 30;
        };
        /**
         * Event handler which runs when user turns on fullscreen.
         * @param {boolean} isFullscreen
         */
        IzendaDashboardComponent.prototype.galleryToggleFullscreen = function (isFullscreen) {
            this.$izendaGalleryService.galleryState.isFullScreen = isFullscreen;
        };
        /**
         * Event handler which runs when gallery stop playing.
         * @param {boolean} isPlayStarted isPlayStarted
         */
        IzendaDashboardComponent.prototype.galleryTogglePlayStarted = function (isPlayStarted) {
            this.$izendaGalleryService.galleryState.isPlayStarted = isPlayStarted;
        };
        IzendaDashboardComponent.prototype.showGrid = function () {
            var isOneColumn = this.$izendaCompatibilityService.isOneColumnView();
            if (isOneColumn)
                return;
            this.isGridVisible = true;
        };
        IzendaDashboardComponent.prototype.hideGrid = function () {
            if (!this.isGridVisible)
                return;
            this.isGridVisible = false;
            this.hideTileGridShadow();
        };
        /**
         * Show tile grid shadow
         */
        IzendaDashboardComponent.prototype.showTileGridShadow = function (shadowBbox, showPlusButton) {
            var isOneColumn = this.$izendaCompatibilityService.isOneColumnView();
            if (isOneColumn)
                return;
            this.isGridShadowVisible = true;
            this.isGridShadowPlusButtonVisible = showPlusButton;
            var left = shadowBbox.left;
            var top = shadowBbox.top;
            var width = shadowBbox.width;
            var height = shadowBbox.height;
            if (left < 0)
                left = 0;
            if (left + width >= this.tileWidth * 12)
                left = this.tileWidth * 12 - width;
            if (top < 0)
                top = 0;
            this.gridShadowStyle = {
                'left': left + 1,
                'top': top + 1,
                'width': width - 1,
                'height': height - 1
            };
        };
        /**
         * Hide tile grid shadow
         */
        IzendaDashboardComponent.prototype.hideTileGridShadow = function () {
            this.isGridShadowVisible = false;
        };
        IzendaDashboardComponent.prototype.getExportWaitMessageHeaderText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_ExportingInProgress', 'Exporting in progress.');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_PrintingInProgress', 'Printing in progress.');
            return '';
        };
        IzendaDashboardComponent.prototype.getExportWaitMessageText = function () {
            if (this.exportProgress === 'export')
                return this.$izendaLocaleService.localeText('js_FinishExporting', 'Please wait till export is completed...');
            if (this.exportProgress === 'print')
                return this.$izendaLocaleService.localeText('js_FinishPrinting', 'Please finish printing before continue.');
            return '';
        };
        IzendaDashboardComponent = __decorate([
            izenda_component_12.default(module_definition_36.default, 'izendaDashboard', ['rx', '$window', '$element', '$interval', '$timeout', '$rootScope', '$izendaLocaleService', '$izendaCompatibilityService',
                '$izendaDashboardSettings', '$izendaDashboardStorageService', '$izendaBackgroundService', '$izendaGalleryService'], {
                templateUrl: '###RS###extres=components.dashboard.components.dashboard.dashboard-template.html'
            }),
            __metadata("design:paramtypes", [Object, Object, Object, Function, Function, Object, localization_service_8.default,
                compatibility_service_4.default, Object, dashboard_storage_service_4.default,
                background_service_2.default,
                gallery_service_1.default])
        ], IzendaDashboardComponent);
        return IzendaDashboardComponent;
    }());
    exports.IzendaDashboardComponent = IzendaDashboardComponent;
});
izendaRequire.define("dashboard/components/toolbar/toolbar-component", ["require", "exports", "angular", "common/core/tools/izenda-component", "dashboard/module-definition", "common/core/services/localization-service", "common/core/services/util-service", "common/core/services/util-ui-service", "common/core/services/compatibility-service", "common/query/services/url-service", "common/ui/services/schedule-service", "common/ui/services/share-service", "dashboard/services/dashboard-storage-service", "dashboard/services/background-service", "dashboard/services/gallery-service", "izenda-external-libs"], function (require, exports, angular, izenda_component_13, module_definition_37, localization_service_9, util_service_3, util_ui_service_6, compatibility_service_5, url_service_7, schedule_service_3, share_service_3, dashboard_storage_service_5, background_service_3, gallery_service_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaDashboardToolbarComponent = /** @class */ (function () {
        function IzendaDashboardToolbarComponent($rx, $window, $element, $interval, $timeout, $rootScope, dashboardConfig, $izendaSettingsService, $izendaLocaleService, $izendaUtilService, $izendaUtilUiService, $izendaCompatibilityService, $izendaUrlService, $izendaScheduleService, $izendaShareService, $izendaDashboardSettings, $izendaDashboardStorageService, $izendaBackgroundService, $izendaGalleryService) {
            this.$rx = $rx;
            this.$window = $window;
            this.$element = $element;
            this.$interval = $interval;
            this.$timeout = $timeout;
            this.$rootScope = $rootScope;
            this.dashboardConfig = dashboardConfig;
            this.$izendaSettingsService = $izendaSettingsService;
            this.$izendaLocaleService = $izendaLocaleService;
            this.$izendaUtilService = $izendaUtilService;
            this.$izendaUtilUiService = $izendaUtilUiService;
            this.$izendaCompatibilityService = $izendaCompatibilityService;
            this.$izendaUrlService = $izendaUrlService;
            this.$izendaScheduleService = $izendaScheduleService;
            this.$izendaShareService = $izendaShareService;
            this.$izendaDashboardSettings = $izendaDashboardSettings;
            this.$izendaDashboardStorageService = $izendaDashboardStorageService;
            this.$izendaBackgroundService = $izendaBackgroundService;
            this.$izendaGalleryService = $izendaGalleryService;
            var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
            var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
            var isFirefox = /Firefox/.test(navigator.userAgent);
            this.isHueRotate = isChrome || isSafari || isFirefox;
            this.isHueRotateEnabled = false;
            this.isSaveReportModalOpened = false;
            this.isHtml5FullScreenSupported = this.$izendaCompatibilityService.isHtml5FullScreenSupported();
        }
        IzendaDashboardToolbarComponent.prototype.$onInit = function () {
            var _this = this;
            this.subscriptions = [];
            this.isLicenseFailed = !this.$izendaDashboardSettings.dashboardsAllowed;
            if (this.isLicenseFailed)
                return;
            this.scheduleModalOpened = false;
            this.shareModalOpened = false;
            // settings
            this.commonSettings = this.$izendaSettingsService.getCommonSettings();
            this.isDesignLinksAllowed = this.commonSettings.showDesignLinks;
            this.printMode = this.$izendaDashboardSettings.allowedPrintEngine;
            // background
            this.isStorageAvailable = this.$izendaBackgroundService.isStorageAvailable();
            this.selectBackgroundImageModalOpened = false;
            this.backgroundModalRadio = 'url';
            // button bar
            this.isButtonBarVisible = false;
            this.buttonbarClass = 'nav navbar-nav iz-dash-toolbtn-panel left-transition';
            this.buttonbarCollapsedClass = 'nav navbar-nav iz-dash-collapsed-toolbtn-panel left-transition opened';
            // refresh
            this.refreshInterval = null;
            this.autoRefresh = null;
            //email
            this.sendEmailModalOpened = false;
            this.sendEmailState = {
                errors: [],
                isLoading: false,
                errorOccured: false,
                sendType: 'Link',
                email: '',
                opened: false,
                focused: false
            };
            // subscribe
            this.subscriptions = [
                this.$izendaDashboardStorageService.model.subscribeOnNext(this.$onDashboardModelUpdate, this),
                this.$izendaDashboardStorageService.autoRefresh.subscribeOnNext(this.$onAutorefreshUpdate, this),
                this.$izendaDashboardStorageService.categories.subscribeOnNext(this.$onCategoriesUpdate, this),
                this.$izendaDashboardStorageService.currentCategory.subscribeOnNext(function (next) { return _this.currentCategory = next; }),
                this.$izendaDashboardStorageService.currentDashboard.subscribeOnNext(function (next) { return _this.currentDashboard = next; }),
                this.$izendaDashboardStorageService.windowSize.subscribeOnNext(function (newWindowSize) {
                    // resize handler
                }, this)
            ];
        };
        IzendaDashboardToolbarComponent.prototype.$onDestroy = function () {
            this.cancelRefreshInterval();
            this.subscriptions.forEach(function (sub) { return sub.dispose(); });
        };
        IzendaDashboardToolbarComponent.prototype.$onDashboardModelUpdate = function (newModel) {
            this.cancelRefreshInterval();
            this.model = newModel;
        };
        IzendaDashboardToolbarComponent.prototype.$onAutorefreshUpdate = function (newAutorefresh) {
            this.autoRefresh = newAutorefresh;
        };
        IzendaDashboardToolbarComponent.prototype.$onCategoriesUpdate = function (newCategories) {
            this.categories = newCategories;
        };
        /**
         * Create new dashboard button handler.
         */
        IzendaDashboardToolbarComponent.prototype.createNewDashboard = function () {
            this.$izendaDashboardStorageService.navigateNewDashboard();
        };
        /**
         * Save dashboard
         * @param {boolean} showNameDialog dashboard report set name.
         */
        IzendaDashboardToolbarComponent.prototype.saveDashboard = function (showNameDialog) {
            var _this = this;
            if (showNameDialog || !this.model.reportFullName) {
                this.isSaveReportModalOpened = true;
            }
            else {
                this.hideButtonBar();
                this.$izendaDashboardStorageService
                    .saveDashboard()
                    .then(function () {
                    _this.$izendaUtilUiService.showNotification(_this.$izendaLocaleService.localeText('js_DashboardSaved', 'Dashboard sucessfully saved'));
                }, function (error) {
                    var msgCantSave = _this.$izendaLocaleService.localeText('js_CantSaveDashboard', 'Can\'t save dashboard');
                    var msgError = _this.$izendaLocaleService.localeText('js_Error', 'Error');
                    var errorText = msgCantSave + " \"" + _this.model.reportFullName + "\". " + msgError + ": \"" + error + "\"";
                    _this.$izendaUtilUiService.showErrorDialog(errorText);
                });
            }
        };
        /**
          * Save dialog closed handler.
          */
        IzendaDashboardToolbarComponent.prototype.onSaveClosed = function () {
            this.hideButtonBar();
            this.isSaveReportModalOpened = false;
        };
        /**
         * Report name/category selected. Save report handler. In this scenario we have to turn button bar off
         */
        IzendaDashboardToolbarComponent.prototype.onSave = function (reportName, categoryName) {
            var _this = this;
            this.hideButtonBar(function () {
                _this.isSaveReportModalOpened = false;
                _this.$izendaDashboardStorageService
                    .saveDashboard(reportName, categoryName)
                    .then(function () {
                    _this.$izendaUtilUiService.showNotification(_this.$izendaLocaleService.localeText('js_DashboardSaved', 'Dashboard sucessfully saved'));
                }, function (error) {
                    var msgCantSave = _this.$izendaLocaleService.localeText('js_CantSaveDashboard', 'Can\'t save dashboard');
                    var msgError = _this.$izendaLocaleService.localeText('js_Error', 'Error');
                    var errorText = msgCantSave + " \"" + _this.model.reportFullName + "\". " + msgError + ": \"" + error + "\"";
                    _this.$izendaUtilUiService.showErrorDialog(errorText);
                });
            });
        };
        /**
         * Refresh all dashboard tiles (without reloading)
         * @param {number} intervalIndex auto refresh interval index. Automatic refresh will turn on if this argument is set.
         */
        IzendaDashboardToolbarComponent.prototype.refreshDashboard = function (intervalIndex) {
            var _this = this;
            this.$izendaDashboardStorageService.refreshDashboard(false, false);
            if (!this.autoRefresh)
                return;
            if (angular.isNumber(intervalIndex)) {
                this.cancelRefreshInterval();
                var selectedInterval = this.autoRefresh.intervals[intervalIndex];
                selectedInterval.selected = true;
                var intervalValue = selectedInterval.value;
                if (intervalValue >= 1) {
                    intervalValue *= 1000;
                    this.refreshInterval = setInterval(function () { return _this.$izendaDashboardStorageService.refreshDashboard(false, false); }, intervalValue);
                }
            }
        };
        IzendaDashboardToolbarComponent.prototype.closeScheduleDialog = function () {
            this.scheduleModalOpened = false;
        };
        IzendaDashboardToolbarComponent.prototype.closeShareDialog = function () {
            this.shareModalOpened = false;
        };
        IzendaDashboardToolbarComponent.prototype.openToolbarDashboard = function (dashboardObj) {
            this.$izendaDashboardStorageService.navigateToDashboard(dashboardObj.fullName);
        };
        IzendaDashboardToolbarComponent.prototype.showButtonBar = function () {
            this.isButtonBarVisible = true;
            this.buttonbarClass = 'nav navbar-nav iz-dash-toolbtn-panel transform-transition opened';
            this.buttonbarCollapsedClass = 'nav navbar-nav iz-dash-collapsed-toolbtn-panel transform-transition';
        };
        IzendaDashboardToolbarComponent.prototype.hideButtonBar = function (completedHandler) {
            var _this = this;
            this.isButtonBarVisible = false;
            this.buttonbarClass = 'nav navbar-nav iz-dash-toolbtn-panel';
            this.buttonbarCollapsedClass = 'nav navbar-nav iz-dash-collapsed-toolbtn-panel opened';
            this.$timeout(function () {
                if (angular.isFunction(completedHandler))
                    completedHandler.call(_this);
            }, 200);
        };
        /**
         * Activate/deactivate dashboard mode
         */
        IzendaDashboardToolbarComponent.prototype.toggleGalleryMode = function (enableGalleryMode) {
            if (enableGalleryMode)
                this.$izendaDashboardStorageService.toggleFiltersPanel(false);
            this.$izendaGalleryService.galleryState.isEnabled = enableGalleryMode;
        };
        /**
         * Open gallery in fullscreen mode
         */
        IzendaDashboardToolbarComponent.prototype.toggleGalleryModeFullScreen = function () {
            this.$izendaDashboardStorageService.toggleFiltersPanel(false);
            this.$izendaGalleryService.galleryState.isFullScreen = !this.$izendaGalleryService.galleryState.isFullScreen;
        };
        /**
         * Turn off/on gallery play
         */
        IzendaDashboardToolbarComponent.prototype.toggleGalleryPlay = function () {
            this.$izendaDashboardStorageService.toggleFiltersPanel(false);
            this.$izendaGalleryService.galleryState.isPlayStarted = !this.$izendaGalleryService.galleryState.isPlayStarted;
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "selectedInterval", {
            /**
             * Get current selected interval
             */
            get: function () {
                if (!this.autoRefresh)
                    return null;
                var selected = this.autoRefresh.intervals.filter(function (interval) { return interval.selected; });
                if (selected.length > 1)
                    throw 'Found more than 2 selected refresh intervals';
                return selected.length ? selected[0] : null;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Stop current interval loop and unselect current interval in UI.
         */
        IzendaDashboardToolbarComponent.prototype.cancelRefreshInterval = function () {
            if (this.refreshInterval) {
                clearInterval(this.refreshInterval);
                this.refreshInterval = null;
            }
            if (!this.autoRefresh)
                return;
            if (angular.isArray(this.autoRefresh.intervals)) {
                this.autoRefresh.intervals.forEach(function (interval) {
                    interval.selected = false;
                });
            }
        };
        /**
         * Toggle dashboard filters panel
         */
        IzendaDashboardToolbarComponent.prototype.toggleDashboardFilters = function () {
            if (this.isFiltersEditAllowed) {
                this.$izendaDashboardStorageService.toggleFiltersPanel();
            }
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "hueRotateBtnImageUrl", {
            /**
             * Hue rotate toolbar btn icon
             */
            get: function () {
                return this.$izendaUrlService.settings.urlRpPage + 'extres=images.color' + (!this.isHueRotateEnabled ? '-bw' : '') + '.png';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isOneColumnView", {
            /**
             * Check if one column view required
             */
            get: function () {
                return this.$izendaCompatibilityService.isOneColumnView();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isFullAccess", {
            /**
             * Check is filters allowed
            */
            get: function () {
                return this.$izendaCompatibilityService.isFullAccess();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isFiltersEditAllowed", {
            /**
             * Check is filters allowed
             */
            get: function () {
                return this.$izendaCompatibilityService.isFiltersEditAllowed();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isSaveAllowed", {
            /**
             * Check is save allowed
             */
            get: function () {
                return this.model && this.$izendaCompatibilityService.isSaveAllowedWithHidden() && !this.model.tilesWithHiddenColumns.length;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isSaveAsAllowed", {
            /**
             * Check is save as allowed
             */
            get: function () {
                return this.model && this.$izendaCompatibilityService.isSaveAsAllowed() && !this.model.tilesWithHiddenColumns.length;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isShowSaveControls", {
            /**
             * Show or not save controls
             */
            get: function () {
                return this.commonSettings.showSaveControls;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isShowSaveAsToolbarButton", {
            /**
             * Is "save as" button allowed
             */
            get: function () {
                return this.commonSettings.showSaveAsToolbarButton;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isShowDesignDashboardLink", {
            get: function () {
                return this.commonSettings.showDesignDashboardLink;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isReadOnly", {
            /**
             * Check is edit allowed
             */
            get: function () {
                return this.$izendaCompatibilityService.isEditAllowed();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isToggleHueRotateEnabled", {
            /**
             * Check toggleHueRotateEnabled
             */
            get: function () {
                return this.isHueRotate;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Background modal "OK" click handler
         */
        IzendaDashboardToolbarComponent.prototype.$onBackgroundDialogHandlerOk = function () {
            this.selectBackgroundImageModalOpened = false;
            if (this.backgroundModalRadio === 'file')
                this.setBackgroundImageFromLocalhost();
        };
        /**
         * Background file/url changed handler
         */
        IzendaDashboardToolbarComponent.prototype.$onBackgroundModalRadioChange = function () {
            this.$izendaBackgroundService.backgroundImageType = this.backgroundModalRadio;
        };
        /**
         * Set file selected in file input as background
         */
        IzendaDashboardToolbarComponent.prototype.setBackgroundImageFromLocalhost = function () {
            var _this = this;
            var $fileBtn = angular.element('#izendaDashboardBackground');
            if (window.File && window.FileReader && window.FileList && window.Blob) {
                if ($fileBtn[0]['files'].length === 0)
                    return;
                var file = $fileBtn[0]['files'][0];
                // test file information
                if (!file.type.match('image.*')) {
                    alert(this.$izendaLocaleService.localeText('js_ShouldBeImage', 'File should be image'));
                    return;
                }
                // read the file:
                // TODO READER + TYPESCRIPT!
                var reader = new FileReader();
                reader.onload = function (event) {
                    var bytes = event.target.result;
                    _this.$izendaBackgroundService.backgroundImageBase64 = bytes;
                };
                //reader.onload = (() => {
                //	return event => {
                //		var bytes = event.target.result;
                //		this.$izendaBackgroundService.backgroundImageBase64 = bytes;
                //	};
                //})(file);
                // Read in the image file as a data URL.
                reader.readAsDataURL(file);
            }
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isBackgroundImageSet", {
            get: function () {
                return this.$izendaBackgroundService.backgroundImageBase64 || this.$izendaBackgroundService.backgroundImageUrl;
            },
            enumerable: true,
            configurable: true
        });
        IzendaDashboardToolbarComponent.prototype.removeBackgroundImageHandler = function () {
            this.$izendaBackgroundService.backgroundImageBase64 = '';
            this.$izendaBackgroundService.backgroundImageUrl = '';
        };
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isPrintDashboardVisible", {
            // PRINT
            /**
             * Is html model enabled in AdHocSettings
             */
            get: function () {
                return this.printMode === 'Html' || this.printMode === 'Html2PdfAndHtml';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isPrintDashboardPdfVisible", {
            /**
             * Is html2pdf mode enabled in AdHocSettings
             */
            get: function () {
                return this.printMode === 'Html2Pdf' || this.printMode === 'Html2PdfAndHtml';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(IzendaDashboardToolbarComponent.prototype, "isPrintDropdownVisible", {
            /**
             * Is print button visible
             */
            get: function () {
                return this.isPrintDashboardPdfVisible || this.isPrintDashboardVisible;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Print whole dashboard
         */
        IzendaDashboardToolbarComponent.prototype.printDashboard = function () {
            var _this = this;
            this.$izendaDashboardStorageService.printDashboard('html').then(function () {
                // HTML print print successfully completed handler
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
            });
        };
        /**
         * Print dashboard as pdf
         */
        IzendaDashboardToolbarComponent.prototype.printDashboardPdf = function () {
            var _this = this;
            this.$izendaDashboardStorageService.printDashboard('pdf').then(function () {
                // PDF print print successfully completed handler
            }, function (error) {
                var errorTitle = _this.$izendaLocaleService.localeText('js_FailedPrintReportTitle', 'Report print error');
                var errorText = _this.$izendaLocaleService.localeText('js_FailedPrintReport', 'Failed to print report "{0}". Error description: {1}.');
                errorText = errorText.replaceAll('{0}', _this.model.reportFullName ? _this.model.reportFullName : '');
                errorText = errorText.replaceAll('{1}', error);
                _this.$izendaUtilUiService.showErrorDialog(errorText, errorTitle);
                console.error(error);
            });
        };
        // EMAIL
        /**
         * Open send email dialog
         */
        IzendaDashboardToolbarComponent.prototype.showEmailModal = function (type) {
            this.sendEmailState.isLoading = false;
            this.sendEmailState.opened = true;
            this.sendEmailState.sendType = type;
            this.sendEmailState.email = '';
            this.sendEmailState.errors = [];
            this.sendEmailState.errorOccured = false;
        };
        /**
         * Send email dialog shown event.
         */
        IzendaDashboardToolbarComponent.prototype.setFocus = function () {
            var _this = this;
            this.$timeout(function () {
                _this.sendEmailState.focused = true;
            }, 1);
        };
        /**
         * Close send email dialog
         */
        IzendaDashboardToolbarComponent.prototype.hideEmailModal = function (success) {
            var _this = this;
            this.sendEmailState.focused = false;
            this.sendEmailState.errorOccured = true;
            this.sendEmailState.errors = [];
            if (success) {
                // OK pressed
                var isEmailValid = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(this.sendEmailState
                    .email);
                if (!isEmailValid) {
                    this.sendEmailState.errorOccured = true;
                    this.sendEmailState.errors.push(this.$izendaLocaleService.localeText('js_IncorrectEmail', 'Incorrect Email'));
                }
                else {
                    this.sendEmailState.isLoading = true;
                    this.$izendaDashboardStorageService.sendEmail(this.sendEmailState.sendType, this.sendEmailState.email).then(function (result) {
                        _this.sendEmailState.opened = false;
                        if (result === 'OK') {
                            _this.$izendaUtilUiService.showNotification(_this.$izendaLocaleService.localeText('js_EmailWasSent', 'Email  was sent'));
                        }
                        else {
                            var errorText = _this.$izendaLocaleService.localeText('js_FailedToSendEmail', 'Failed to send email');
                            _this.$izendaUtilUiService.showErrorDialog(errorText);
                        }
                    }, function (error) {
                        console.error(error);
                        var errorText = _this.$izendaLocaleService.localeText('js_FailedToSendEmail', 'Failed to send email');
                        _this.$izendaUtilUiService.showErrorDialog(errorText);
                    });
                }
            }
            else {
                // cancel pressed
                this.sendEmailState.opened = false;
            }
        };
        /**
         * Send dashboard via email
         */
        IzendaDashboardToolbarComponent.prototype.sendEmail = function (type) {
            if (type === 'Link') {
                if (!this.model.reportFullName) {
                    var errorText = this.$izendaLocaleService.localeText('js_CantSendUnsavedLink', 'Cannot email link to unsaved dashboard');
                    this.$izendaUtilUiService.showNotification(errorText);
                    return;
                }
                var redirectUrl = "?subject=" + encodeURIComponent(this.model.reportFullName) + "&body=" + encodeURIComponent(location.href);
                redirectUrl = "mailto:" + redirectUrl.replace(/ /g, '%20');
                window.top.location.href = redirectUrl;
            }
            else
                this.showEmailModal(type);
        };
        IzendaDashboardToolbarComponent = __decorate([
            izenda_component_13.default(module_definition_37.default, 'izendaDashboardToolbar', ['rx', '$window', '$element', '$interval', '$timeout', '$rootScope',
                'izendaDashboardConfig', '$izendaSettingsService', '$izendaLocaleService', '$izendaUtilService', '$izendaUtilUiService',
                '$izendaCompatibilityService', '$izendaUrlService',
                '$izendaScheduleService', '$izendaShareService', '$izendaDashboardSettings', '$izendaDashboardStorageService',
                '$izendaBackgroundService', '$izendaGalleryService'], {
                templateUrl: '###RS###extres=components.dashboard.components.toolbar.toolbar-template.html'
            }),
            __metadata("design:paramtypes", [Object, Object, Object, Object, Object, Object, Object, Object, localization_service_9.default,
                util_service_3.default,
                util_ui_service_6.default,
                compatibility_service_5.default,
                url_service_7.default,
                schedule_service_3.default,
                share_service_3.default, Object, dashboard_storage_service_5.default,
                background_service_3.default,
                gallery_service_2.default])
        ], IzendaDashboardToolbarComponent);
        return IzendaDashboardToolbarComponent;
    }());
});
izendaRequire.define("dashboard/module", ["require", "exports", "dashboard/module-definition", "dashboard/services/background-service", "dashboard/services/dashboard-query-service", "dashboard/services/gallery-service", "dashboard/services/dashboard-storage-service", "izenda-external-libs", "dashboard/directives/dashboard-background", "dashboard/directives/tile-top-slider", "dashboard/directives/toolbar-folder-menu-accordion", "dashboard/directives/toolbar-links-panel", "dashboard/components/tile/tile-draggable-directive", "dashboard/components/tile/tile-flip-directive", "dashboard/components/tile/tile-hover-directive", "dashboard/components/tile/tile-resizable-directive", "dashboard/components/tile-back/tile-back-component", "dashboard/components/tile/tile-component", "dashboard/components/filter/filter-component", "dashboard/components/gallery/gallery-component", "dashboard/components/dashboard/dashboard-component", "dashboard/components/toolbar/toolbar-component"], function (require, exports, module_definition_38, background_service_4, dashboard_query_service_1, gallery_service_3, dashboard_storage_service_6) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    // register services
    background_service_4.default.register(module_definition_38.default);
    dashboard_query_service_1.default.register(module_definition_38.default);
    gallery_service_3.default.register(module_definition_38.default);
    dashboard_storage_service_6.default.register(module_definition_38.default);
});
izendaRequire.define("common/core/tools/izenda-linq", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IzendaLinq;
    (function (IzendaLinq) {
        Array.prototype.firstOrDefault = function (predicate) {
            return this.reduce(function (accumulator, currentValue) {
                if (!accumulator && predicate(currentValue))
                    accumulator = currentValue;
                return accumulator;
            }, null);
        };
        Array.prototype.pushAll = function (collection) {
            var _this = this;
            if (collection === null)
                return this;
            collection.forEach(function (t) { return _this.push(t); });
            return this;
        };
        Array.prototype.firstOrDefaultInInner = function (innerObjectKey, innerObjectPredicate) {
            for (var i = 0; i < this.length; i++) {
                var parentObject = this[i];
                if (!parentObject.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + parentObject;
                var innerObject = parentObject[innerObjectKey];
                if (innerObject && innerObject instanceof Array) {
                    var foundInner = innerObject.firstOrDefault(innerObjectPredicate);
                    if (foundInner)
                        return foundInner;
                }
            }
            return null;
        };
        Array.prototype.filterInInner = function (innerObjectKey, innerObjectPredicate) {
            return this.reduce(function (result, currentTopLevel) {
                if (!currentTopLevel.hasOwnProperty(innerObjectKey))
                    throw "Key " + innerObjectKey + " not found in object " + currentTopLevel;
                var inner = currentTopLevel[innerObjectKey];
                if (inner && inner instanceof Array)
                    return result.concat(inner.filter(innerObjectPredicate));
                return result;
            }, []);
        };
    })(IzendaLinq = exports.IzendaLinq || (exports.IzendaLinq = {}));
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvbXNpZS1kZXRlY3QudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy9ldmVudC1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UudHMiLCJjb21tb24vY29yZS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC1tb2RhbC50cyIsImNvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eS50cyIsImNvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL2RpYWxvZy1ib3gvZGlhbG9nLWJveC1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQudHMiLCJjb21tb24vY29yZS9jb21wb25lbnRzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24tY29tcG9uZW50LnRzIiwiY29tbW9uL2NvcmUvbW9kdWxlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UudHMiLCJjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlLnRzIiwiY29tbW9uL3F1ZXJ5L21vZHVsZS50cyIsImNvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbi50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbC50cyIsImNvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbC50cyIsImNvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL3NjaGVkdWxlLW1vZGVsLnRzIiwiY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9hbGlnbi1zd2l0Y2hlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZS50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2Jvb3RzdHJhcC50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2NvbG9yLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlci50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3JlcG9ydC12aWV3ZXIudHMiLCJjb21tb24vdWkvZGlyZWN0aXZlcy9zZWxlY3QtY2hlY2tib3hlcy50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbi50cyIsImNvbW1vbi91aS9kaXJlY3RpdmVzL3N3aXRjaGVyLnRzIiwiY29tbW9uL3VpL2RpcmVjdGl2ZXMvdG9nZ2xlLWJ1dHRvbi50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NlbGVjdC1yZXBvcnQvc2VsZWN0LXJlcG9ydC1jb21wb25lbnQudHMiLCJjb21tb24vdWkvY29tcG9uZW50cy9zZWxlY3QtcmVwb3J0LW5hbWUvc2VsZWN0LXJlcG9ydC1uYW1lLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudC50cyIsImNvbW1vbi91aS9tb2R1bGUudHMiLCJkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24udHMiLCJkYXNoYm9hcmQvc2VydmljZXMvYmFja2dyb3VuZC1zZXJ2aWNlLnRzIiwiZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwudHMiLCJkYXNoYm9hcmQvbW9kZWwvZGFzaGJvYXJkLW1vZGVsLnRzIiwiZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1xdWVyeS1zZXJ2aWNlLnRzIiwiZGFzaGJvYXJkL21vZGVsL2dhbGxlcnktc3RhdGUtbW9kZWwudHMiLCJkYXNoYm9hcmQvc2VydmljZXMvZ2FsbGVyeS1zZXJ2aWNlLnRzIiwiY29tbW9uL2NvcmUvbW9kZWxzL2ZpbHRlcnMtbW9kZWwudHMiLCJkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZS50cyIsImRhc2hib2FyZC9kaXJlY3RpdmVzL2Rhc2hib2FyZC1iYWNrZ3JvdW5kLnRzIiwiZGFzaGJvYXJkL2RpcmVjdGl2ZXMvdGlsZS10b3Atc2xpZGVyLnRzIiwiZGFzaGJvYXJkL2RpcmVjdGl2ZXMvdG9vbGJhci1mb2xkZXItbWVudS1hY2NvcmRpb24udHMiLCJkYXNoYm9hcmQvZGlyZWN0aXZlcy90b29sYmFyLWxpbmtzLXBhbmVsLnRzIiwiZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS90aWxlLWRyYWdnYWJsZS1kaXJlY3RpdmUudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtZmxpcC1kaXJlY3RpdmUudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtaG92ZXItZGlyZWN0aXZlLnRzIiwiZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS90aWxlLXJlc2l6YWJsZS1kaXJlY3RpdmUudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlLWJhY2svdGlsZS1iYWNrLWNvbXBvbmVudC50cyIsImRhc2hib2FyZC9jb21wb25lbnRzL3RpbGUvdGlsZS1jb21wb25lbnQudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy9maWx0ZXIvZmlsdGVyLWNvbXBvbmVudC50cyIsImRhc2hib2FyZC9jb21wb25lbnRzL2dhbGxlcnkvZ2FsbGVyeS1jb21wb25lbnQudHMiLCJkYXNoYm9hcmQvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLWNvbXBvbmVudC50cyIsImRhc2hib2FyZC9jb21wb25lbnRzL3Rvb2xiYXIvdG9vbGJhci1jb21wb25lbnQudHMiLCJkYXNoYm9hcmQvbW9kdWxlLnRzIiwiY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWxpbnEudHMiLCJjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztJQUVBLDJDQUEyQztJQUMzQyxJQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLGtCQUFlLGdCQUFnQixDQUFDOzs7OztJQ0poQztRQUFBO1FBMEJBLENBQUM7UUF6Qk8sOEJBQW1CLEdBQTFCLFVBQTJCLE9BQWUsRUFBRSxVQUFrQjtZQUM3RCxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQztZQUM3QixJQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3RDLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7WUFDekMsSUFBSSxPQUFPLEVBQUU7Z0JBQ1osaUJBQWlCLElBQUksTUFBSSxPQUFTLENBQUM7Z0JBQ25DLElBQUksVUFBVSxFQUFFO29CQUNmLGlCQUFpQixHQUFNLFVBQVUsU0FBSSxpQkFBbUIsQ0FBQztpQkFDekQ7YUFDRDtZQUNELENBQUMsQ0FBQyxTQUFTLEdBQUcsYUFBVyxpQkFBaUIsMENBQXFDLENBQUM7WUFDaEYsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFNLFVBQVUsR0FBRyxDQUFDLENBQUMs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QUksQ0FBQyxNQUFNLENBQUMsVUFBQyxNQUFtQixFQUFFLGVBQWtCO2dCQUMxRCxJQUFJLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUM7b0JBQ2xELE1BQU0sU0FBTyxjQUFjLDZCQUF3QixlQUFpQixDQUFDO2dCQUN0RSxJQUFNLEtBQUssR0FBRyxlQUFlLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQzlDLElBQUksS0FBSyxJQUFJLEtBQUssWUFBWSxLQUFLO29CQUNsQyxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7Z0JBQzFELE9BQU8sTUFBTSxDQUFDO1lBQ2YsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ1IsQ0FBQyxDQUFDO0lBQ0gsQ0FBQyxFQS9DYSxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQStDdkIiLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuXHJcbi8vIGNyZWF0ZSBpemVuZGEuY29tbW9uLmNvcmUgYW5ndWxhciBtb2R1bGVcclxuY29uc3QgaXplbmRhQ29yZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGEuY29tbW9uLmNvcmUnLCBbJ3J4J10pO1xyXG5leHBvcnQgZGVmYXVsdCBpemVuZGFDb3JlTW9kdWxlO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNc2llRGV0ZWN0IHtcclxuXHRzdGF0aWMgaXNTcGVjaWZpY0llVmVyc2lvbih2ZXJzaW9uOiBudW1iZXIsIGNvbXBhcmlzb246IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGllQ29tcGFyZU9wZXJhdG9yID0gJ0lFJztcclxuXHRcdGNvbnN0IGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdCJyk7XHJcblx0XHRjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cdFx0aWYgKHZlcnNpb24pIHtcclxuXHRcdFx0aWVDb21wYXJlT3BlcmF0b3IgKz0gYCAke3ZlcnNpb259YDtcclxuXHRcdFx0aWYgKGNvbXBhcmlzb24pIHtcclxuXHRcdFx0XHRpZUNvbXBhcmVPcGVyYXRvciA9IGAke2NvbXBhcmlzb259ICR7aWVDb21wYXJlT3BlcmF0b3J9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Yi5pbm5lckhUTUwgPSBgPCEtLVtpZiAke2llQ29tcGFyZU9wZXJhdG9yfV0+PGIgaWQ9XCJpZWNjdGVzdFwiPjwvYj48IVtlbmRpZl0tLT5gO1xyXG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZChiKTtcclxuXHRcdGNvbnN0IGlzSWVSZXN1bHQgPSAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZWNjdGVzdCcpO1xyXG5cdFx0ZG9jRWxlbS5yZW1vdmVDaGlsZChiKTtcclxuXHRcdGNvbnN0IGRvY01vZGUgPSBkb2N1bWVudFsnZG9jdW1lbnRNb2RlJ107XHJcblx0XHRjb25zdCBpc0NvbXBhdGliaWxpdHlNb2RlID1cclxuXHRcdFx0KHR5cGVvZiBkb2NNb2RlICE9PSAndW5kZWZpbmVkJyAmJlxyXG5cdFx0XHRcdChcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnbHRlJyAmJiBOdW1iZXIoZG9jTW9kZSkgPD0gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnZ3RlJyAmJiBOdW1iZXIoZG9jTW9kZSkgPj0gdmVyc2lvbikgfHxcclxuXHRcdFx0XHRcdChjb21wYXJpc29uID09PSAnbHQnICYmIE51bWJlcihkb2NNb2RlKSA8IHZlcnNpb24pIHx8XHJcblx0XHRcdFx0XHQoY29tcGFyaXNvbiA9PT0gJ2d0JyAmJiBOdW1iZXIoZG9jTW9kZSkgPiB2ZXJzaW9uKSB8fFxyXG5cdFx0XHRcdFx0KGNvbXBhcmlzb24gPT09ICdlcScgJiYgTnVtYmVyKGRvY01vZGUpID09PSB2ZXJzaW9uKSkpO1xyXG5cdFx0cmV0dXJuIGlzSWVSZXN1bHQgfHwgaXNDb21wYXRpYmlsaXR5TW9kZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBNc2llRGV0ZWN0IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL21zaWUtZGV0ZWN0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0Tm9uZSA9ICdOb25lJztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0UmVhZE9ubHkgPSAnUmVhZCBPbmx5JztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0Vmlld09ubHkgPSAnVmlldyBPbmx5JztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJpZ2h0TG9ja2VkID0gJ0xvY2tlZCc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByaWdodEZ1bGxBY2Nlc3MgPSAnRnVsbCBBY2Nlc3MnO1xyXG5cdHByaXZhdGUgY3VycmVudFJpZ2h0czogc3RyaW5nID0gdGhpcy5yaWdodE5vbmU7XHJcblx0cHJpdmF0ZSByZWFkb25seSBpZTg6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSByZWFkb25seSBsdGVJZTEwOiBib29sZWFuO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZ3RlSWU5OiBib29sZWFuO1xyXG5cdHByaXZhdGUgdXNlc0hpZGRlbkNvbHVtbnM6IGJvb2xlYW47XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckd2luZG93J107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmllOCA9IE1zaWVEZXRlY3QuaXNTcGVjaWZpY0llVmVyc2lvbig4LCAnbHRlJyk7XHJcblx0XHR0aGlzLmx0ZUllMTAgPSBNc2llRGV0ZWN0LmlzU3BlY2lmaWNJZVZlcnNpb24oMTAsICdsdGUnKTtcclxuXHRcdHRoaXMuZ3RlSWU5ID0gTXNpZURldGVjdC5pc1NwZWNpZmljSWVWZXJzaW9uKDksICdndGUnKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNJZTgoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pZTg7XHJcblx0fVxyXG5cclxuXHRpc0llKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ3RlSWU5O1xyXG5cdH1cclxuXHJcblx0aXNMdGVJZTEwKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMubHRlSWUxMDtcclxuXHR9XHJcblxyXG5cdGlzSHRtbDVGdWxsU2NyZWVuU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLmx0ZUllMTBcclxuXHRcdFx0JiYgKGRvY3VtZW50WydmdWxsc2NyZWVuRW5hYmxlZCddIHx8IGRvY3VtZW50Wyd3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCddIHx8IGRvY3VtZW50Wydtb3pGdWxsU2NyZWVuRW5hYmxlZCddIHx8IGRvY3VtZW50Wydtc0Z1bGxzY3JlZW5FbmFibGVkJ10pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgcGFnZSBzaG91bGQgaGF2ZSBtb2JpbGUgdmlldy5cclxuXHQgKi9cclxuXHRpc01vYmlsZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBwYWdlIHdpbmRvdyBpcyB0b28gc21hbGwgdG8gZml0IHNldmVyYWwgY29sdW1ucyBvZiB0aWxlcy5cclxuXHQgKi9cclxuXHRpc1NtYWxsUmVzb2x1dGlvbigpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLiR3aW5kb3cuaW5uZXJXaWR0aCA8PSA5OTE7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBvbmUgY29sdW1uIHZpZXcgcmVxdWlyZWRcclxuXHQgKi9cclxuXHRpc09uZUNvbHVtblZpZXcoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc01vYmlsZSgpIHx8IHRoaXMuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IHJlcG9ydCB3aXRoIGhpZGRlbiBjb2x1bW5zIGlzIGN1cnJlbmx5IGxvYWRlZC5cclxuXHQgKi9cclxuXHRzZXRVc2VzSGlkZGVuQ29sdW1ucyh2YWx1ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy51c2VzSGlkZGVuQ29sdW1ucyA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGZsYXQgdGhhdCBpbmRpY2F0ZXMgdGhhdCByZXBvcnQgd2l0aCBoaWRkZW4gY29sdW1ucyBpcyBjdXJyZW5seSBsb2FkZWQuXHJcblx0ICovXHJcblx0aXNVc2VzSGlkZGVuQ29sdW1ucygpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnVzZXNIaWRkZW5Db2x1bW5zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHJpZ2h0cyBmb3IgY3VycmVudCBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRzZXRSaWdodHMocmlnaHRzOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuY3VycmVudFJpZ2h0cyA9IHJpZ2h0cyA/IHJpZ2h0cyA6IHRoaXMucmlnaHROb25lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgcmlnaHRzXHJcblx0ICovXHJcblx0Z2V0UmlnaHRzKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50UmlnaHRzID8gdGhpcy5jdXJyZW50UmlnaHRzIDogdGhpcy5yaWdodE5vbmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZnVsbCBhY2Nlc3MgcmlnaHQgYXMgY3VycmVudCByaWdodC5cclxuXHQgKi9cclxuXHRzZXRGdWxsQWNjZXNzKCkge1xyXG5cdFx0dGhpcy5zZXRSaWdodHModGhpcy5yaWdodEZ1bGxBY2Nlc3MpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgdGlsZSBlZGl0aW5nIGFsbG93ZWQuXHJcblx0ICovXHJcblx0aXNGdWxsQWNjZXNzKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3NdLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHRpbGUgZWRpdGluZyBhbGxvd2VkLlxyXG5cdCAqL1xyXG5cdGlzRWRpdEFsbG93ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2VzcywgdGhpcy5yaWdodFJlYWRPbmx5XS5pbmRleE9mKHRoaXMuZ2V0UmlnaHRzKCkpID49IDA7XHJcblx0XHRhbGxvd2VkID0gYWxsb3dlZCAmJiAhdGhpcy5pc09uZUNvbHVtblZpZXcoKTtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYXMgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzU2F2ZUFzQWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdGxldCBhbGxvd2VkID0gW3RoaXMucmlnaHRGdWxsQWNjZXNzLCB0aGlzLnJpZ2h0UmVhZE9ubHldLmluZGV4T2YodGhpcy5nZXRSaWdodHMoKSkgPj0gMDtcclxuXHRcdGFsbG93ZWQgPSBhbGxvd2VkICYmICF0aGlzLmlzSWU4KCk7XHJcblx0XHRyZXR1cm4gYWxsb3dlZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIHNhdmUgYWxsb3dlZCB3aXRoIGhpZGRlbiBjb2x1bW5zXHJcblx0ICovXHJcblx0aXNTYXZlQWxsb3dlZFdpdGhIaWRkZW4oKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgYWxsb3dlZCA9IFt0aGlzLnJpZ2h0RnVsbEFjY2Vzc10uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNJZTgoKTtcclxuXHRcdHJldHVybiBhbGxvd2VkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgc2F2ZSBhbGxvd2VkXHJcblx0ICovXHJcblx0aXNTYXZlQWxsb3dlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmlzU2F2ZUFsbG93ZWRXaXRoSGlkZGVuKCkgJiYgIXRoaXMudXNlc0hpZGRlbkNvbHVtbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBmaWx0ZXJzIGVkaXRpbmcgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGlzRmlsdGVyc0VkaXRBbGxvd2VkKCk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IGFsbG93ZWQgPSBbdGhpcy5yaWdodEZ1bGxBY2Nlc3MsIHRoaXMucmlnaHRSZWFkT25seSwgdGhpcy5yaWdodExvY2tlZF0uaW5kZXhPZih0aGlzLmdldFJpZ2h0cygpKSA+PSAwO1xyXG5cdFx0YWxsb3dlZCA9IGFsbG93ZWQgJiYgIXRoaXMuaXNJZTgoKTtcclxuXHRcdHJldHVybiBhbGxvd2VkO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUV2ZW50U2VydmljZSB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBldmVudHM6IGFueSA9IHt9O1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJHJvb3RTY29wZScsICckbG9nJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRsb2c6IG5nLklMb2dTZXJ2aWNlKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGV2ZW50IHRvIHF1ZXVlLiBcclxuXHQgKi9cclxuXHRxdWV1ZUV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEFyZ3VtZW50czogYW55W10sIGNsZWFyUXVldWU6IGJvb2xlYW4pIHtcclxuXHRcdGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykgfHwgY2xlYXJRdWV1ZSkge1xyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblx0XHR9XHJcblx0XHRjb25zdCBldmVudFJlY29yZCA9IHtcclxuXHRcdFx0YXJnczogZXZlbnRBcmd1bWVudHNcclxuXHRcdH07XHJcblx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZXZlbnRSZWNvcmQpO1xyXG5cdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHF1ZXVlZGApO1xyXG5cdFx0dGhpcy4kcm9vdFNjb3BlLiRicm9hZGNhc3QoZXZlbnROYW1lLCBldmVudEFyZ3VtZW50cyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXRyaWV2ZSBldmVudCByZWNvcmQgZnJvbSBxdWV1ZSBhbmQgcmV0dXJuIGl0J3MgcmVjb3JkLlxyXG5cdCAqL1xyXG5cdGhhbmRsZVF1ZXVlZEV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBzY29wZTogYW55LCBldmVudENvbnRleHQ6IGFueSwgZXZlbnRIYW5kbGVyOiBhbnkpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKGV2ZW50SGFuZGxlcikpXHJcblx0XHRcdHRocm93ICdldmVudEhhbmRsZXIgc2hvdWxkIGJlIGEgZnVuY3Rpb24nO1xyXG5cdFx0aWYgKCEoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRzKSB8fCAhYW5ndWxhci5pc0FycmF5KHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pKVxyXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XHJcblxyXG5cdFx0d2hpbGUgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCBldmVudFJlY29yZCA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uc2hpZnQoKTtcclxuXHRcdFx0dGhpcy4kbG9nLmRlYnVnKGBldmVudCBcIiR7ZXZlbnROYW1lfVwiIHJ1biBmcm9tIHF1ZXVlYCk7XHJcblx0XHRcdGV2ZW50SGFuZGxlci5hcHBseShldmVudENvbnRleHQsIGV2ZW50UmVjb3JkLmFyZ3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHN0YXJ0IGhhbmRsaW5nIGV2ZW50IHVzaW5nIGFuZ3VsYXIgZXZlbnRzLlxyXG5cdFx0aWYgKHNjb3BlLiQkbGlzdGVuZXJzKSB7XHJcblx0XHRcdGNvbnN0IGV2ZW50QXJyID0gc2NvcGUuJCRsaXN0ZW5lcnNbZXZlbnROYW1lXTtcclxuXHRcdFx0aWYgKGV2ZW50QXJyKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBldmVudEFyci5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGV2ZW50QXJyW2ldID09PSBldmVudEhhbmRsZXIpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnRBcnIuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHNjb3BlLiRvbihldmVudE5hbWUsIChldmVudCwgYXJncykgPT4ge1xyXG5cdFx0XHR0aGlzLiRsb2cuZGVidWcoYGV2ZW50IFwiJHtldmVudE5hbWV9XCIgcnVuIGZyb20gJG9uYCk7XHJcblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcclxuXHRcdFx0ZXZlbnRIYW5kbGVyLmFwcGx5KGV2ZW50Q29udGV4dCwgYXJncyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIGFsbCBxdWV1ZWQgZXZlbnRzIChmb3IgbWFudWFsICRicm9hZGNhc3QgaGFuZGxpbmcpXHJcblx0ICovXHJcblx0Y2xlYXJFdmVudFF1ZXVlKGV2ZW50TmFtZSkge1xyXG5cdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhRXZlbnRTZXJ2aWNlJywgSXplbmRhRXZlbnRTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYUV2ZW50U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuXHJcbi8qKlxyXG4gKiBMb2NhbGl6YXRpb24gc2VydmljZS4gR2V0cyBsb2NhbGl6ZWQgc3RyaW5ncyBmcm9tIHRoZSBcIkl6TG9jYWxcIiBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXpMb2NhbC5Mb2NhbGl6ZVBhZ2UoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBsb2NhbGl6ZWQgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5LiBMb2NhbGUgc3RyaW5nIGtleSAoZGVmaW5lZCBpbiByZXNvdXJjZXMuYXNweClcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdFZhbHVlLiBEZWZhdWx0IHZhbHVlLCB3aGVuIGxvY2FsZSB0ZXh0IGNvdWxkbid0IGJlIGdvdFxyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IGxvY2FsaXplZCB0ZXh0LlxyXG5cdCAqL1xyXG5cdGxvY2FsZVRleHQoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGRlZmF1bHRUZXh0ID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlIDogJyc7XHJcblx0XHRyZXR1cm4gSXpMb2NhbC5SZXMoa2V5LCBkZWZhdWx0VGV4dCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBcHBseSBsb2NhbGUgc3RyaW5nIGluIGZvcm1hdCBcIi4uLnswfS4uLnsxfS4uLlwiIGFuZCBhcHBseSBpbnN0ZWFkIG9mICd7bn0nIHBhcmFtc1tuXVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgdGV4dCBrZXkuIFRoaXMga2V5IGNvbnRhaW5zIGluIHJlc291cmNlcy5cclxuXHQgKiBAcGFyYW0ge3N0cm9uZ30gZGVmYXVsdFZhbHVlLiBEZWZhdWx0IHZhbHVlIGlmIGxvY2FsZSByZXNvdXJjZSB3YXNuJ3QgZm91bmQuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gcGFyYW1zLiBBZGRpdGlvbmFsIHBhcmFtcy5cclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfS4gTG9jYWxpemVkIHRleHQuIFxyXG5cdCAqL1xyXG5cdGxvY2FsZVRleHRXaXRoUGFyYW1zKGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZywgcGFyYW1zOiBzdHJpbmdbXSk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gdGhpcy5sb2NhbGVUZXh0KGtleSwgZGVmYXVsdFZhbHVlKTtcclxuXHRcdGlmIChhbmd1bGFyLmlzQXJyYXkocGFyYW1zKSlcclxuXHRcdFx0cGFyYW1zLmZvckVhY2goKHBhcmFtLCBpUGFyYW0pID0+XHJcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0LnJlcGxhY2VBbGwoYHske2lQYXJhbX19YCwgcGFyYW0pKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSk7XHJcblx0XHQvKipcclxuXHRcdCAqIEZpbHRlciB3aGljaCBpcyB1c2VkIGZvciB0aGUgYXBwbHlpbmcgbG9jYWxpemF0aW9uLlxyXG5cdFx0ICogU2FtcGxlIHVzYWdlOiA8ZGl2IG5nLWJpbmQ9XCI6OiAnanNfY2xvc2UnIHwgaXplbmRhTG9jYWxlOiAnQ2xvc2UnXCIgLz4gd2hlcmUgJ0Nsb3NlJyAtIFwiZGVmYXVsdFZhbHVlXCIgcGFyYW1ldGVyIHZhbHVlLlxyXG5cdFx0ICovXHJcblx0XHRtb2R1bGUuZmlsdGVyKCdpemVuZGFMb2NhbGUnLCBbXHJcblx0XHRcdCckaXplbmRhTG9jYWxlU2VydmljZScsXHJcblx0XHRcdCgkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiAodGV4dDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZykgPT4gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCh0ZXh0LCBkZWZhdWx0VmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHRdKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBVdGlsaXR5IHNlcnZpY2UuIFByb3ZpZGVzIHRoZSB1dGlsaXR5IGZ1bmN0aW9ucy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVV0aWxTZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRpemVuZGFMb2NhbGVTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGh1bWFuIHJlYWRhYmxlIHZhcmlhYmxlIG5hbWUgdmVyc2lvblxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHRcclxuXHQgKi9cclxuXHRodW1hbml6ZVZhcmlhYmxlTmFtZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHRleHQpKVxyXG5cdFx0XHRyZXR1cm4gdGV4dDtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHRleHRcclxuXHRcdFx0Ly8gaW5zZXJ0IGEgc3BhY2UgYmV0d2VlbiBsb3dlciAmIHVwcGVyXHJcblx0XHRcdC5yZXBsYWNlKC8oW2Etel0pKFtBLVpcXGRdKS9nLCAnJDEgJDInKVxyXG5cdFx0XHQvLyBzcGFjZSBiZWZvcmUgbGFzdCB1cHBlciBpbiBhIHNlcXVlbmNlIGZvbGxvd2VkIGJ5IGxvd2VyXHJcblx0XHRcdC5yZXBsYWNlKC9cXGIoW0EtWlxcZF0rKShbQS1aXFxkXSkoW2Etel0pLywgJyQxICQyJDMnKVxyXG5cdFx0XHQvLyB1cHBlcmNhc2UgdGhlIGZpcnN0IGNoYXJhY3RlclxyXG5cdFx0XHQucmVwbGFjZSgvXi4vLCB0eHQgPT4gdHh0LnRvVXBwZXJDYXNlKCkpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFwiVW5jYXRlZ29yaXplZFwiIGNhdGVnb3J5IGxvY2FsaXplZCBuYW1lIGdldHRlci5cclxuXHQgKi9cclxuXHRnZXQgdW5jYXRlZ29yaXplZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgXCJVbmNhdGVnb3JpemVkXCIgY2F0ZWdvcnkgbG9jYWxpemVkIG5hbWUuXHJcblx0ICovXHJcblx0Z2V0VW5jYXRlZ29yaXplZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudW5jYXRlZ29yaXplZDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIHdoZXRoZXIgXCJ1bmNhdGVnb3JpemVkXCIgY2F0ZWdvcnkgb3Igbm90LlxyXG5cdCAqL1xyXG5cdGlzVW5jYXRlZ29yaXplZChjYXRlZ29yeTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWNhdGVnb3J5IHx8ICFhbmd1bGFyLmlzU3RyaW5nKGNhdGVnb3J5KSlcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRyZXR1cm4gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy51bmNhdGVnb3JpemVkLnRvTG93ZXJDYXNlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayB3aGV0aGVyIGNhdGVnb3JpZXMgZXF1YWwgb3Igbm90LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXQxIENhdGVnb3J5IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdDIgQ2F0ZWdvcnkgbmFtZS5cclxuXHQgKi9cclxuXHRpc0NhdGVnb3JpZXNFcXVhbChjYXQxOiBzdHJpbmcsIGNhdDI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICh0aGlzLmlzVW5jYXRlZ29yaXplZChjYXQxKSAmJiB0aGlzLmlzVW5jYXRlZ29yaXplZChjYXQyKSkgfHwgY2F0MSA9PT0gY2F0MjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0TmFtZSByZXBvcnQgbmFtZS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yIGRpcmVjdG9yaWVzIHNlcGFyYXRvciBzeW1ib2wuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5IHJlcG9ydCBjYXRlZ29yeSAob3B0aW9uYWwpLlxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gZ2VuZXJhdGVkIHJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICovXHJcblx0Y3JlYXRlUmVwb3J0RnVsbE5hbWUocmVwb3J0TmFtZTogc3RyaW5nLCBzZXBhcmF0b3I6IHN0cmluZywgY2F0ZWdvcnk/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFyZXBvcnROYW1lIHx8IHJlcG9ydE5hbWUudHJpbSgpID09PSAnJylcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFbXB0eSBcInJlcG9ydE5hbWVcIiBwYXJhbWV0ZXIgaXNuXFwndCBhbGxvd2VkLicpO1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNVbmNhdGVnb3JpemVkKGNhdGVnb3J5KVxyXG5cdFx0XHQ/IHJlcG9ydE5hbWVcclxuXHRcdFx0OiBjYXRlZ29yeSArIHNlcGFyYXRvciArIHJlcG9ydE5hbWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IG9wdGlvbnMgd2hpY2ggaGF2ZSBnb3QgZnJvbSBzZXJ2ZXIgdXNpbmcgXCJHZXRPcHRpb25zQnlQYXRoXCIgcXVlcnkgaW50byBcclxuXHQgKiBvbmUgZGltZW50aW9uYWwgYXJyYXksIHdoaWNoIGFsbG93IHRvIHVzZSBpdCBhcyA8b3B0aW9uPlxyXG5cdCAqL1xyXG5cdGNvbnZlcnRPcHRpb25zQnlQYXRoKG9wdGlvbkdyb3VwczogYW55W10pOiBhbnlbXSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25Hcm91cHMpKVxyXG5cdFx0XHRyZXR1cm4gW107XHJcblxyXG5cdFx0Y29uc3QgZ3JvdXBzID0gW107XHJcblx0XHRvcHRpb25Hcm91cHMuZm9yRWFjaChncm91cCA9PiB7XHJcblx0XHRcdGdyb3VwLm9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xyXG5cdFx0XHRcdG9wdGlvbi5ncm91cCA9IGFuZ3VsYXIuaXNTdHJpbmcoZ3JvdXAubmFtZSkgJiYgZ3JvdXAubmFtZSAhPT0gJydcclxuXHRcdFx0XHRcdD8gZ3JvdXAubmFtZVxyXG5cdFx0XHRcdFx0OiB1bmRlZmluZWQ7XHJcblx0XHRcdFx0Z3JvdXBzLnB1c2gob3B0aW9uKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBncm91cHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgb3B0aW9uIGJ5IHZhbHVlIGZyb20gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIFwidmFsdWVcIiBwcm9wZXJ0eSAoY2FzZSBpbnNlbnNpdGl2ZSk6IFxyXG5cdCAqIFt7dmFsdWU6J3RleHQxJywuLi59LCB7dmFsdWU6J3RleHQyJywgLi4ufSwgLi4uXVxyXG5cdCAqL1xyXG5cdGdldE9wdGlvbkJ5VmFsdWUob3B0aW9uczogYW55W10sIHZhbHVlOiBzdHJpbmcsIGlzTG93ZXJDYXNlQ29tcGFyaXNvbj86IGJvb2xlYW4pIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KG9wdGlvbnMpIHx8ICFvcHRpb25zLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR3aGlsZSAoaSA8IG9wdGlvbnMubGVuZ3RoKSB7XHJcblx0XHRcdGNvbnN0IG9wdGlvbjogYW55ID0gb3B0aW9uc1tpXTtcclxuXHRcdFx0aWYgKCFpc0xvd2VyQ2FzZUNvbXBhcmlzb24gJiYgb3B0aW9uLnZhbHVlID09PSB2YWx1ZSlcclxuXHRcdFx0XHRyZXR1cm4gb3B0aW9uO1xyXG5cdFx0XHRpZiAoaXNMb3dlckNhc2VDb21wYXJpc29uICYmIG9wdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdHJldHVybiBvcHRpb247XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXRpbFNlcnZpY2UnLCBJemVuZGFVdGlsU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFVdGlsU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhVXRpbFVpU2VydmljZSB7XHJcblx0cHJpdmF0ZSBub3RpZmljYXRpb25IaWRlRGVsYXkgPSA1MDAwO1xyXG5cdHByaXZhdGUgbm90aWZpY2F0aW9uc0lkQ291bnRlciA9IDE7XHJcblx0bm90aWZpY2F0aW9uczogYW55W10gPSBbXTtcclxuXHJcblx0bWVzc2FnZTogYW55ID0gbnVsbDtcclxuXHRkaWFsb2dCb3g6IGFueSA9IG51bGw7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckdGltZW91dCcsICckaXplbmRhTG9jYWxlU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbW1lZGlhdGVseSBjbG9zZSBub3RpZmljYXRpb24uXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vdGlmaWNhdGlvbklkIG5vdGlmaWNhdGlvbiBpZFxyXG5cdCAqL1xyXG5cdGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBudW1iZXIpIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlIChpIDwgdGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5ub3RpZmljYXRpb25zW2ldLmlkID09PSBub3RpZmljYXRpb25JZCkge1xyXG5cdFx0XHRcdHRoaXMuY2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb25JZCk7XHJcblx0XHRcdFx0dGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIG5vdGlmaWNhdGlvbiBhdXRvaGlkZS5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbm90aWZpY2F0aW9uSWQgbm90aWZpY2F0aW9uIGlkXHJcblx0ICovXHJcblx0Y2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb25JZDogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBpdG0gPSB0aGlzLmdldE5vdGlmaWNhdGlvbkJ5SWQobm90aWZpY2F0aW9uSWQpO1xyXG5cdFx0aWYgKGl0bS50aW1lb3V0SWQpIHtcclxuXHRcdFx0dGhpcy4kdGltZW91dC5jYW5jZWwoaXRtLnRpbWVvdXRJZCk7XHJcblx0XHRcdGl0bS50aW1lb3V0SWQgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogIFNob3dzIHBvcCB1cCBub3RpZmljYXRpb24gcGFuZWwuIElmIG5vIDxpemVuZGEtbm90aWZpY2F0aW9uLWNvbXBvbmVudD4gZGVmaW5lZCBvciBubyBjb21wb25lbnRzIHdpdGggY29tcG9uZW50SWQgd2lsbCBiZSBmb3VuZFxyXG5cdCAqIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNZXNzYWdlIHRleHQuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRpdGxlIHRleHQgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaWNvbiBJY29uIChvcHRpb25hbCkuIFBvc3NpYmxlIHZhbHVlcyAnZXJyb3InIG9yIG5vIHZhbHVlLlxyXG5cdCAqL1xyXG5cdHNob3dOb3RpZmljYXRpb24odGV4dDogc3RyaW5nLCB0aXRsZT86IHN0cmluZywgaWNvbj86IHN0cmluZykge1xyXG5cdFx0Y29uc3QgbmV4dElkID0gdGhpcy5ub3RpZmljYXRpb25zSWRDb3VudGVyKys7XHJcblx0XHRjb25zdCBpY29uQ2xhc3MgPSBhbmd1bGFyLmlzU3RyaW5nKGljb24pICYmIGljb24gPT09ICdlcnJvcicgPyAnZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduJyA6ICcnO1xyXG5cdFx0dmFyIG9ialRvU2hvdyA9IHtcclxuXHRcdFx0aWQ6IG5leHRJZCxcclxuXHRcdFx0dGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJyxcclxuXHRcdFx0dGV4dDogdGV4dCxcclxuXHRcdFx0aWNvbkNsYXNzOiBpY29uQ2xhc3MsXHJcblx0XHRcdHRpbWVvdXRJZDogbnVsbFxyXG5cdFx0fTtcclxuXHRcdG9ialRvU2hvdy50aW1lb3V0SWQgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZU5vdGlmaWNhdGlvbihvYmpUb1Nob3cuaWQpO1xyXG5cdFx0fSwgdGhpcy5ub3RpZmljYXRpb25IaWRlRGVsYXkpO1xyXG5cdFx0dGhpcy5ub3RpZmljYXRpb25zLnB1c2gob2JqVG9TaG93KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIG1lc3NhZ2UgZGlhbG9nLiBJZiBubyA8aXplbmRhLW1lc3NhZ2UtY29tcG9uZW50PiBkZWZpbmVkIG9yIG5vIGNvbXBvbmVudHMgd2l0aCBjb21wb25lbnRJZCB3aWxsIGJlIGZvdW5kXHJcblx0ICogdGhlbiBub3RoaW5nIHdpbGwgaGFwcGVuLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGl0bGUgdGV4dCAob3B0aW9uYWwpLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydEluZm8gVHlwZSBvZiBkaWFsb2cgKG9wdGlvbmFsKS4gUG9zc2libGUgdmFsdWVzOiAnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZGFuZ2VyJ1xyXG5cdCAqL1xyXG5cdHNob3dNZXNzYWdlRGlhbG9nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIGFsZXJ0SW5mbz86IHN0cmluZykge1xyXG5cdFx0dGhpcy5tZXNzYWdlID0ge1xyXG5cdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxyXG5cdFx0XHR0aXRsZTogYW5ndWxhci5pc0RlZmluZWQodGl0bGUpID8gdGl0bGUgOiAnJyxcclxuXHRcdFx0YWxlcnRJbmZvOiBhbmd1bGFyLmlzRGVmaW5lZChhbGVydEluZm8pID8gYWxlcnRJbmZvIDogJ2luZm8nXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvd3MgZXJyb3IgZGlhbG9nLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRJZCBJRCBvZiBjb21wb25lbnQuIFVzZWQgZm9yIGRpc3Rpbmd1aXNoIGRpZmZlcmVudCBzaW1pbGFyIGNvbXBvbmVudHMuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgdGV4dFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBFcnJvciB0aXRsZSAob3B0aW9uYWwpXHJcblx0ICovXHJcblx0c2hvd0Vycm9yRGlhbG9nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IHRpdGxlVGV4dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHRpdGxlKSA/IHRpdGxlIDogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FcnJvcicsICdFcnJvcicpO1xyXG5cdFx0dGhpcy5zaG93TWVzc2FnZURpYWxvZyhtZXNzYWdlLCB0aXRsZVRleHQsICdkYW5nZXInKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIG1lc3NhZ2UgZGlhbG9nLlxyXG5cdCAqL1xyXG5cdGNsb3NlTWVzc2FnZURpYWxvZygpIHtcclxuXHRcdHRoaXMubWVzc2FnZSA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93cyBkaWFsb2cgYm94LiBJZiBubyA8aXplbmRhLWRpYWxvZy1ib3gtY29tcG9uZW50PiBkZWZpbmVkIG9yIG5vIGNvbXBvbmVudHMgd2l0aCBjb21wb25lbnRJZCB3aWxsIGJlIGZvdW5kXHJcblx0ICogdGhlbiBub3RoaW5nIHdpbGwgaGFwcGVuLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdGV4dC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGl0bGUgdGV4dCAob3B0aW9uYWwpLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydEluZm8gVHlwZSBvZiBkaWFsb2cgKG9wdGlvbmFsKS4gUG9zc2libGUgdmFsdWVzOiAnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZGFuZ2VyJ1xyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGJ1dHRvbnMgZGlhbG9nIGJ1dHRvbnMgKG9wdGlvbmFsKS5cclxuXHQgKiBAcGFyYW0ge0FycmF5fSBjaGVja2JveGVzIGNoZWNrYm94ZXMgY29sbGVjdGlvbiAob3B0aW9uYWwpLlxyXG5cdCAqL1xyXG5cdHNob3dEaWFsb2dCb3gob3B0aW9uczogYW55KSB7XHJcblx0XHR0aGlzLmRpYWxvZ0JveCA9IHtcclxuXHRcdFx0bWVzc2FnZTogb3B0aW9ucy5tZXNzYWdlLFxyXG5cdFx0XHR0aXRsZTogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy50aXRsZSkgPyBvcHRpb25zLnRpdGxlIDogJycsXHJcblx0XHRcdGFsZXJ0SW5mbzogYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hbGVydEluZm8pID8gb3B0aW9ucy5hbGVydEluZm8gOiAnaW5mbycsXHJcblx0XHRcdGJ1dHRvbnM6IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYnV0dG9ucykgPyBvcHRpb25zLmJ1dHRvbnMgOiBbeyB0ZXh0OiAnQ2xvc2UnIH1dLFxyXG5cdFx0XHRjaGVja2JveGVzOiBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmNoZWNrYm94ZXMpID8gb3B0aW9ucy5jaGVja2JveGVzIDogW11cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBkaWFsb2cgYm94XHJcblx0ICovXHJcblx0Y2xvc2VEaWFsb2dCb3goKSB7XHJcblx0XHR0aGlzLmRpYWxvZ0JveCA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldE5vdGlmaWNhdGlvbkJ5SWQoaWQpIHtcclxuXHRcdGNvbnN0IGZvdW5kID0gdGhpcy5ub3RpZmljYXRpb25zLmZpbmQobiA9PiB7XHJcblx0XHRcdHJldHVybiBuLmlkID09PSBpZDtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGZvdW5kID8gZm91bmQgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhVXRpbFVpU2VydmljZScsXHJcblx0XHRcdEl6ZW5kYVV0aWxVaVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhVXRpbFVpU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEJvb3RzdHJhcCBtb2RhbCBkaXJlY3RpdmUuIFVzYWdlOlxyXG4gKiA8aXplbmRhLWJvb3RzdHJhcC1tb2RhbCBvcGVuZWQ9XCIuLi5cIj4uLi48L2l6ZW5kYS1ib290c3RyYXAtbW9kYWw+XHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBNb2RhbERpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHR0cmFuc2NsdWRlID0gdHJ1ZTtcclxuXHRzY29wZSA9IHtcclxuXHRcdG9wZW5lZDogJz0nLFxyXG5cdFx0a2V5Ym9hcmQ6ICc9JyxcclxuXHRcdGJhY2tkcm9wOiAnPScsXHJcblx0XHRtb2RhbFNpemU6ICdAJyxcclxuXHRcdGlzTW9kZXJuQm9vdHN0cmFwVmVyc2lvbjogJ0AnLFxyXG5cdFx0b25Nb2RhbE9wZW5lZDogJyYnLFxyXG5cdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPSBgXHJcbjxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuXHQ8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgbmctY2xhc3M9XCJnZXRNb2RhbFNpemVDbGFzcygpXCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG5cdFx0XHQ8ZGl2IG5nLXRyYW5zY2x1ZGU9XCJcIj48L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cclxuXHRsaW5rOiAoJGRpcmVjdGl2ZVNjb3BlOiBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUucHJvdG90eXBlLmxpbmsgPSAoJGRpcmVjdGl2ZVNjb3BlOiBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JGRpcmVjdGl2ZVNjb3BlLmdldE1vZGFsU2l6ZUNsYXNzID0gKCkgPT4gJGRpcmVjdGl2ZVNjb3BlLm1vZGFsU2l6ZSA9PT0gJ2xhcmdlJyA/ICdtb2RhbC1sZycgOiAnJztcclxuXHJcblx0XHRcdHZhciAkbW9kYWwgPSAkZWxlbWVudC5jaGlsZHJlbignLm1vZGFsJyk7XHJcblxyXG5cdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHQkbW9kYWwuY3NzKHtcclxuXHRcdFx0XHRcdCdvdmVyZmxvdy14JzogJ2hpZGRlbicsXHJcblx0XHRcdFx0XHQnb3ZlcmZsb3cteSc6ICdzY3JvbGwnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZGl0aW9uYWwgYm9vdHN0cmFwIHBhcmFtZXRlcnNcclxuXHRcdFx0aWYgKCRkaXJlY3RpdmVTY29wZS5rZXlib2FyZCAhPSBudWxsKVxyXG5cdFx0XHRcdCRtb2RhbC5hdHRyKCdkYXRhLWtleWJvYXJkJywgJGRpcmVjdGl2ZVNjb3BlLmtleWJvYXJkKTtcclxuXHRcdFx0aWYgKCRkaXJlY3RpdmVTY29wZS5iYWNrZHJvcCAhPSBudWxsKVxyXG5cdFx0XHRcdCRtb2RhbC5hdHRyKCdkYXRhLWJhY2tkcm9wJywgJGRpcmVjdGl2ZVNjb3BlLmJhY2tkcm9wKTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIHNob3cgaGFuZGxlclxyXG5cdFx0XHQkbW9kYWwub24oJ3Nob3cuYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0JG1vZGFsLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdyZ2JhKDAsMCwwLDAuOCknKTtcclxuXHRcdFx0XHQkbW9kYWwuY3NzKCdmaWx0ZXInLCAnYWxwaGEob3BhY2l0eT04MCknKTtcclxuXHRcdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIG1vZGFsIHNob3duIGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdzaG93bi5icy5tb2RhbCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoISRkaXJlY3RpdmVTY29wZS5pc01vZGVybkJvb3RzdHJhcFZlcnNpb24pIHtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5zY3JvbGxUb3AoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkZGlyZWN0aXZlU2NvcGUub25Nb2RhbE9wZW5lZCkpIHtcclxuXHRcdFx0XHRcdCRkaXJlY3RpdmVTY29wZS5vbk1vZGFsT3BlbmVkKHt9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gbW9kYWwgaGlkZGVuIGhhbmRsZXJcclxuXHRcdFx0JG1vZGFsLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEkZGlyZWN0aXZlU2NvcGUuaXNNb2Rlcm5Cb290c3RyYXBWZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2luaGVyaXQnKTtcclxuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGRpcmVjdGl2ZVNjb3BlLm9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJGRpcmVjdGl2ZVNjb3BlLm9uTW9kYWxDbG9zZWQpKSB7XHJcblx0XHRcdFx0XHQkZGlyZWN0aXZlU2NvcGUub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRkaXJlY3RpdmVTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRkaXJlY3RpdmVTY29wZS4kd2F0Y2goJ29wZW5lZCcsIG5ld1ZhbCA9PiB7XHJcblx0XHRcdFx0Ly8gY3JlYXRlL2hpZGUgbW9kYWwgZGlhbG9nXHJcblx0XHRcdFx0aWYgKG5ld1ZhbClcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcubW9kYWwnKVsnbW9kYWwnXSgpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcubW9kYWwnKVsnbW9kYWwnXSgnaGlkZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcE1vZGFsRGlyZWN0aXZlKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwTW9kYWxTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0b3BlbmVkOiBib29sZWFuO1xyXG5cdGtleWJvYXJkOiBzdHJpbmc7XHJcblx0YmFja2Ryb3A6IHN0cmluZztcclxuXHRtb2RhbFNpemU6IHN0cmluZztcclxuXHRpc01vZGVybkJvb3RzdHJhcFZlcnNpb246IGJvb2xlYW47XHJcblx0b25Nb2RhbE9wZW5lZDogKGFueSkgPT4gYW55O1xyXG5cdG9uTW9kYWxDbG9zZWQ6IChhbnkpID0+IGFueTtcclxuXHRnZXRNb2RhbFNpemVDbGFzczogKCkgPT4gc3RyaW5nO1xyXG59XHJcblxyXG5pemVuZGFDb3JlTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhQm9vdHN0cmFwTW9kYWwnLCBbJyR0aW1lb3V0JywgSXplbmRhQm9vdHN0cmFwTW9kYWxEaXJlY3RpdmUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogQW5ndWxhciBmaWx0ZXIgd2hpY2ggcmVwbGFjZXMgc3RyaW5nLlxyXG4gKiBVc2FnZTpcclxuICoge3sgJ3NvbWUgc3RyaW5nJyB8IGl6ZW5kYVJlcGxhY2VTdHJpbmc6IFt7IGZyb206ICdzJywgdG86ICckJyB9LCB7IGZyb206ICdvJywgdG86ICcwJyB9IF0gfX1cclxuICogdGhpcyBzYW1wbGUgd2lsbCBwcm9kdWNlIHN0cmluZyAnJDBtZSAkdHJpbmcnXHJcbiAqL1xyXG5pemVuZGFDb3JlTW9kdWxlLmZpbHRlcignaXplbmRhUmVwbGFjZVN0cmluZycsICgpID0+XHJcblx0KHRleHQ6IHN0cmluZywgcnVsZXM6IEFycmF5PHsgZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nIH0+KSA9PiB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShydWxlcykpXHJcblx0XHRcdHJldHVybiB0ZXh0O1xyXG5cdFx0dmFyIHJlc3VsdFRleHQgPSB0ZXh0O1xyXG5cdFx0aWYgKCFyZXN1bHRUZXh0KVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0VGV4dDtcclxuXHJcblx0XHRydWxlcy5mb3JFYWNoKHJ1bGUgPT4gcmVzdWx0VGV4dCA9IHJlc3VsdFRleHQucmVwbGFjZUFsbChydWxlLmZyb20sIHJ1bGUudG8pKTtcclxuXHRcdHJldHVybiByZXN1bHRUZXh0O1xyXG5cdH0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBdHRyaWJ1dGUgZGlyZWN0aXZlIFwiaXplbmRhLXNjcm9sbC1ib3R0b20tYWN0aW9uPVwiXCJcIiB3aGljaCBmaXJlcyBoYW5kbGVyIG9uIGNvbnRhaW5lciBzY3JvbGwgZW5kICgtMTAwcHgpLlxyXG4gKiBFdmVudDogc2Nyb2xsLWJvdHRvbS1hY3Rpb25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTY3JvbGxCb3R0b21BY3Rpb24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uLnByb3RvdHlwZS5saW5rID1cclxuXHRcdFx0KCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnN0ICRwYXJlbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcclxuXHRcdFx0XHQkcGFyZW50Lm9uKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBoZWlnaHQgPSAkZWxlbWVudC5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdGlmIChoZWlnaHQgPT09IDApXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdGlmIChoZWlnaHQgLSAkcGFyZW50LmhlaWdodCgpIC0gMTAwIDwgJHBhcmVudC5zY3JvbGxUb3AoKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGV2YWwoYXR0cnMuaXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFTY3JvbGxCb3R0b21BY3Rpb24nLCBbSXplbmRhU2Nyb2xsQm90dG9tQWN0aW9uLmZhY3RvcnkoKV0pO1xyXG5cclxuLyoqXHJcbiAqIFNldCBmb2N1cyBvbiBlbGVtZW50IGRpcmVjdGl2ZS5cclxuICogVXNhZ2U6IFxyXG4gKiA8c29tZS10YWcgaXplbmRhLWZvY3VzPVwie3tleHByZXNzaW9uX3doaWNoX3JldHVybnNfYm9vbH19XCIgLi4uPlxyXG4gKiAgIC4uLlxyXG4gKiA8L3NvbWUtdGFnPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRm9jdXMgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRzY29wZSA9IHtcclxuXHRcdHRyaWdnZXI6ICdAaXplbmRhRm9jdXMnXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhRm9jdXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhRm9jdXMucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRm9jdXNTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndHJpZ2dlcicsIHZhbHVlID0+IHtcclxuXHRcdFx0XHRpZiAodmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLiR0aW1lb3V0KCgpID0+ICRlbGVtZW50WzBdLmZvY3VzKCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IGFueSkgPT4gbmV3IEl6ZW5kYUZvY3VzKCR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdGltZW91dCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaW50ZXJmYWNlIElJemVuZGFGb2N1c1Njb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0cmlnZ2VyOiBhbnk7XHJcbn1cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUZvY3VzJywgWyckdGltZW91dCcsIEl6ZW5kYUZvY3VzLmZhY3RvcnkoKV0pO1xyXG5cclxuLyoqXHJcbiAqIGl6ZW5kYS1maXQtYWJzb2x1dGUtZWxlbWVudCBkaXJlY3RpdmUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFGaXRBYnNvbHV0ZUVsZW1lbnQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlKSB7XHJcblxyXG5cdFx0SXplbmRhRml0QWJzb2x1dGVFbGVtZW50LnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblx0XHRcdGNvbnN0IHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSA9IGByZXNpemUuaXplbmRhRml0QWJzb2x1dGVFbGVtZW50LiR7TWF0aC5yYW5kb20oKX1gO1xyXG5cdFx0XHRjb25zdCBkZWx0YVRvcFN0cmluZyA9IFN0cmluZyhhdHRyc1snZGVsdGFUb3AnXSk7XHJcblx0XHRcdGNvbnN0IGRlbHRhVG9wID0gcGFyc2VJbnQoZGVsdGFUb3BTdHJpbmcpIHx8IDA7XHJcblx0XHRcdGNvbnN0ICRwYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQucGFyZW50KCkpO1xyXG5cdFx0XHRsZXQgdG9wQ2FjaGUgPSAtMTtcclxuXHJcblx0XHRcdGNvbnN0IHNldFRvcCA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2hpbGRzID0gJHBhcmVudC5jaGlsZHJlbignW2RhdGEtaXplbmRhLWZpdC1hYnNvbHV0ZS1lbGVtZW50LXJlbGF0aXZlPXRvcF0nKTtcclxuXHRcdFx0XHRpZiAoJGNoaWxkcy5sZW5ndGggPT09IDApXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRcdGxldCB0b3BIZWlnaHQgPSAwO1xyXG5cdFx0XHRcdGxldCBpc1N1Y2Nlc3MgPSB0cnVlO1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgJGNoaWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGNoaWxkID0gYW5ndWxhci5lbGVtZW50KCRjaGlsZHNbaV0pO1xyXG5cdFx0XHRcdFx0Y29uc3QgdG9wVmFsdWUgPSBTdHJpbmcoJGNoaWxkLmF0dHIoJ2RhdGEtaXplbmRhLWZpdC1hYnNvbHV0ZS1lbGVtZW50LXJlbGF0aXZlJykpO1xyXG5cdFx0XHRcdFx0aWYgKHRvcFZhbHVlID09PSAndG9wJykge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjaGlsZEhlaWdodCA9ICRjaGlsZC5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdFx0aWYgKGNoaWxkSGVpZ2h0IDw9IDApXHJcblx0XHRcdFx0XHRcdFx0aXNTdWNjZXNzID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHRvcEhlaWdodCArPSBjaGlsZEhlaWdodDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHRvcEhlaWdodCA+IDAgJiYgdG9wQ2FjaGUgPCAwIHx8IHRvcEhlaWdodCArIGRlbHRhVG9wICE9PSB0b3BDYWNoZSkge1xyXG5cdFx0XHRcdFx0dG9wQ2FjaGUgPSB0b3BIZWlnaHQgKyBkZWx0YVRvcDtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNzcygndG9wJywgdG9wSGVpZ2h0ICsgZGVsdGFUb3AgKyAncHgnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGlzU3VjY2VzcztcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHNldFRvcFVudGlsU3VjY2VzcyA9ICgpID0+IHtcclxuXHRcdFx0XHRsZXQgYXR0ZW1wdENvdW50ID0gMDtcclxuXHRcdFx0XHRpZiAoc2V0VG9wKCkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0bGV0IHRvb2xiYXJJbnRlcnZhbFByb21pc2UgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoc2V0VG9wKCkgfHwgYXR0ZW1wdENvdW50ID4gNTApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRvb2xiYXJJbnRlcnZhbFByb21pc2UpO1xyXG5cdFx0XHRcdFx0XHR0b29sYmFySW50ZXJ2YWxQcm9taXNlID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0YXR0ZW1wdENvdW50ID0gMDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGF0dGVtcHRDb3VudCsrO1xyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzZXRUb3BVbnRpbFN1Y2Nlc3MoKTtcclxuXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLm9uKHdpbmRvd1Jlc2l6ZUV2ZW50TmFtZSwgKCkgPT4ge1xyXG5cdFx0XHRcdHNldFRvcFVudGlsU3VjY2VzcygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLm9uKCdpemVuZGFDdXN0b21SZXNpemUnLCAoKSA9PiB7XHJcblx0XHRcdFx0c2V0VG9wVW50aWxTdWNjZXNzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vZmYod2luZG93UmVzaXplRXZlbnROYW1lKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5vZmYoJ2l6ZW5kYUN1c3RvbVJlc2l6ZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPVxyXG5cdFx0XHQoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSkgPT4gbmV3IEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudCgkd2luZG93LCAkdGltZW91dCwgJGludGVydmFsKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpbnRlcnZhbCddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaXplbmRhQ29yZU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUZpdEFic29sdXRlRWxlbWVudCcsIEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5mYWN0b3J5KCkpO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBEaXJlY3RpdmUgZm9yIGlucHV0IGVsZW1lbnQgd2hpY2ggYWxsb3dzIHRvIGlucHV0IG9ubHkgcG9zaXRpdmUgaW50ZWdlciB2YWx1ZXMuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFJbnRlZ2VySW5wdXQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUZpdEFic29sdXRlRWxlbWVudC5wcm90b3R5cGUubGluayA9XHJcblx0XHRcdCgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0XHQkZWxlbWVudC5vbigna2V5ZG93bicsIGV2dCA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBjdHJsT3JNZXRhID0gZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXk7XHJcblx0XHRcdFx0XHRpZiAoWzQ2LCA4LCA5LCAyNywgMTNdLmluZGV4T2YoZXZ0LmtleUNvZGUpID49IDAgLypBbGxvdzogYmFja3NwYWNlLCBkZWxldGUsIHRhYiwgZXNjYXBlLCBlbnRlciovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA9PT0gNjUgJiYgY3RybE9yTWV0YSkgLypBbGxvdzogQ3RybC9jbWQrQSovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA9PT0gNjcgJiYgY3RybE9yTWV0YSkgLypBbGxvdzogQ3RybC9jbWQrQyovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA9PT0gODggJiYgY3RybE9yTWV0YSkgLypBbGxvdzogQ3RybC9jbWQrWCovXHJcblx0XHRcdFx0XHRcdHx8IChldnQua2V5Q29kZSA+PSAzNSAmJiBldnQua2V5Q29kZSA8PSA0MCkpIHsgLypBbGxvdzogaG9tZSwgZW5kLCBsZWZ0LCByaWdodCovXHJcblx0XHRcdFx0XHRcdC8vIGxldCBpdCBoYXBwZW4sIGRvbid0IGRvIGFueXRoaW5nXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIEVuc3VyZSB0aGF0IGl0IGlzIGEgbnVtYmVyIGFuZCBzdG9wIHRoZSBrZXlwcmVzc1xyXG5cdFx0XHRcdFx0aWYgKChldnQuc2hpZnRLZXkgfHwgKGV2dC5rZXlDb2RlIDwgNDggfHwgZXZ0LmtleUNvZGUgPiA1NykpICYmIChldnQua2V5Q29kZSA8IDk2IHx8IGV2dC5rZXlDb2RlID4gMTA1KSkge1xyXG5cdFx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgpID0+IG5ldyBJemVuZGFJbnRlZ2VySW5wdXQoKTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcbml6ZW5kYUNvcmVNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFJbnRlZ2VySW5wdXQnLCBJemVuZGFJbnRlZ2VySW5wdXQuZmFjdG9yeSgpKTsiLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5cclxuLy8gUmVTaGFycGVyIGRpc2FibGUgb25jZSBJbmNvbnNpc3RlbnROYW1pbmdcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSXplbmRhQ29tcG9uZW50KG1vZHVsZU9yTmFtZTogc3RyaW5nIHwgbmcuSU1vZHVsZSxcclxuXHRzZWxlY3Rvcjogc3RyaW5nLFxyXG5cdGRlcGVuZGVuY2llczogYW55W10sXHJcblx0b3B0aW9uczoge1xyXG5cdFx0dGVtcGxhdGU/OiBzdHJpbmcsXHJcblx0XHR0ZW1wbGF0ZVVybD86IHN0cmluZyxcclxuXHRcdGJpbmRpbmdzPzogYW55LFxyXG5cdFx0Y29udHJvbGxlcj86IGFueSxcclxuXHR9KSB7XHJcblx0cmV0dXJuIChjb250cm9sbGVyOiBGdW5jdGlvbikgPT4ge1xyXG5cdFx0Y29uc3QgbW9kdWxlID0gdHlwZW9mIChtb2R1bGVPck5hbWUpID09PSAnc3RyaW5nJyA/IGFuZ3VsYXIubW9kdWxlKG1vZHVsZU9yTmFtZSkgOiBtb2R1bGVPck5hbWU7XHJcblx0XHRjb25zdCBleHRlbmRlZE9wdGlvbnM6IG5nLklDb21wb25lbnRPcHRpb25zID0gYW5ndWxhci5jb3B5KG9wdGlvbnMpO1xyXG5cclxuXHRcdHZhciAkaW5qZWN0ID0gY29udHJvbGxlci4kaW5qZWN0ID0gZGVwZW5kZW5jaWVzO1xyXG5cdFx0Y29udHJvbGxlci5wcm90b3R5cGUuJGluamVjdCA9ICRpbmplY3Q7XHJcblx0XHRjb250cm9sbGVyLiRpbmplY3QgPSAkaW5qZWN0O1xyXG5cclxuXHRcdGV4dGVuZGVkT3B0aW9ucy5jb250cm9sbGVyID0gZGVwZW5kZW5jaWVzLmNvbmNhdChjb250cm9sbGVyKTtcclxuXHRcdG1vZHVsZS5jb21wb25lbnQoc2VsZWN0b3IsIGV4dGVuZGVkT3B0aW9ucyk7XHJcblx0fVxyXG59IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFDb3JlTW9kdWxlIGZyb20gJ2NvbW1vbi9jb3JlL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBvbmVudCBmcm9tICdjb21tb24vY29yZS90b29scy9pemVuZGEtY29tcG9uZW50JztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBNZXNzYWdlIGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KGl6ZW5kYUNvcmVNb2R1bGUsICdpemVuZGFEaWFsb2dCb3hDb21wb25lbnQnLCBbJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ10sIHtcclxuXHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLmNvcmUuY29tcG9uZW50cy5kaWFsb2ctYm94LmRpYWxvZy1ib3gtdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHtcclxuXHRcdGNvbXBvbmVudElkOiAnQCcsXHJcblx0XHR1c2VHbG9iYWxFdmVudExpc3RlbmluZzogJzwnLFxyXG5cdFx0b3BlbmVkOiAnPCcsXHJcblx0XHR0aXRsZTogJzwnLFxyXG5cdFx0bWVzc2FnZTogJzwnLFxyXG5cdFx0YWxlcnRJbmZvOiAnPCcsXHJcblx0XHRidXR0b25zOiAnPCcsXHJcblx0XHRjaGVja2JveGVzOiAnPCdcclxuXHR9LFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFEaWFsb2dCb3hDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSGFuZGxlIGJ1dHRvbiBjbGljay5cclxuXHQgKi9cclxuXHRvbkJ1dHRvbkNsaWNrKGJ1dHRvbikge1xyXG5cdFx0aWYgKCFidXR0b24pIHJldHVybjtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oYnV0dG9uLmNhbGxiYWNrKSkge1xyXG5cdFx0XHRidXR0b24uY2FsbGJhY2sodGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5kaWFsb2dCb3guY2hlY2tib3hlcyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmNsb3NlTW9kYWwoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIG1vZGFsIGRpYWxvZy5cclxuXHQgKi9cclxuXHRjbG9zZU1vZGFsKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5jbG9zZURpYWxvZ0JveCgpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcblxyXG4vKipcclxuICogTWVzc2FnZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChpemVuZGFDb3JlTW9kdWxlLCAnaXplbmRhTWVzc2FnZUNvbXBvbmVudCcsIFsnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnXSwge1xyXG5cdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24uY29yZS5jb21wb25lbnRzLm1lc3NhZ2UubWVzc2FnZS10ZW1wbGF0ZS5odG1sJyxcclxuXHRiaW5kaW5nczoge30sXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYU1lc3NhZ2VDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBtb2RhbCBkaWFsb2cuXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2xvc2VNZXNzYWdlRGlhbG9nKCk7XHJcblx0fVxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYUNvcmVNb2R1bGUgZnJvbSAnY29tbW9uL2NvcmUvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIE5vdGlmaWNhdGlvbiBjb21wb25lbnRcclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoaXplbmRhQ29yZU1vZHVsZSwgJ2l6ZW5kYU5vdGlmaWNhdGlvbkNvbXBvbmVudCcsIFsnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnXSwge1xyXG5cdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24uY29yZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb24tdGVtcGxhdGUuaHRtbCcsXHJcblx0YmluZGluZ3M6IHt9XHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYURpYWxvZ0JveENvbXBvbmVudCB7XHJcblx0bm90aWZpY2F0aW9uczogYW55W107XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHRcdHRoaXMubm90aWZpY2F0aW9ucyA9ICRpemVuZGFVdGlsVWlTZXJ2aWNlLm5vdGlmaWNhdGlvbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBub3RpZmljYXRpb24uXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG5vdGlmaWNhdGlvbiBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xyXG5cdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5jbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24uaWQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VsIG5vdGlmaWNhdGlvbiBhdXRvaGlkZS5cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gbm90aWZpY2F0aW9uIE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcblx0ICovXHJcblx0Y2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb24pIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2UuY2FuY2VsTm90aWZpY2F0aW9uVGltZW91dChub3RpZmljYXRpb24uaWQpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgaXplbmRhQ29yZU1vZHVsZSBmcm9tICdjb21tb24vY29yZS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhRXZlbnRTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2V2ZW50LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuLy8gcmVnaXN0ZXIgc2VydmljZXNcclxuSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYUV2ZW50U2VydmljZS5yZWdpc3RlcihpemVuZGFDb3JlTW9kdWxlKTtcclxuSXplbmRhTG9jYWxpemF0aW9uU2VydmljZS5yZWdpc3RlcihpemVuZGFDb3JlTW9kdWxlKTtcclxuSXplbmRhVXRpbFNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcbkl6ZW5kYVV0aWxVaVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhQ29yZU1vZHVsZSk7XHJcblxyXG4vLyByZWdpc3RlciBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzXHJcbmltcG9ydCAnY29tbW9uL2NvcmUvZGlyZWN0aXZlcy9ib290c3RyYXAtbW9kYWwnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2RpcmVjdGl2ZXMvdXRpbGl0eSc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvY29tcG9uZW50cy9kaWFsb2ctYm94L2RpYWxvZy1ib3gtY29tcG9uZW50JztcclxuaW1wb3J0ICdjb21tb24vY29yZS9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL2NvbXBvbmVudHMvbm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi1jb21wb25lbnQnO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL21vZHVsZSc7XHJcblxyXG5jb25zdCBpemVuZGFRdWVyeU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpemVuZGEuY29tbW9uLnF1ZXJ5JywgWydyeCcsICdpemVuZGEuY29tbW9uLmNvcmUnXSk7XHJcbmV4cG9ydCBkZWZhdWx0IGl6ZW5kYVF1ZXJ5TW9kdWxlO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhUnNRdWVyeVNlcnZpY2Uge1xyXG5cclxuXHR1cmxTZXR0aW5nczogYW55O1xyXG5cdHJzUXVlcnlCYXNlVXJsOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSByZXF1ZXN0TGlzdDogQXJyYXk8UmVxdWVzdExpc3RJdGVtPjtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyR3aW5kb3cnLCAnJGh0dHAnLCAnJHEnLCAnJGluamVjdG9yJywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRodHRwOiBuZy5JSHR0cFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRxOiBuZy5JUVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnVybFNldHRpbmdzID0gdGhpcy4kd2luZG93LnVybFNldHRpbmdzJDtcclxuXHRcdHRoaXMucnNRdWVyeUJhc2VVcmwgPSB0aGlzLnVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdHRoaXMucmVxdWVzdExpc3QgPSBuZXcgQXJyYXk8UmVxdWVzdExpc3RJdGVtPigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3VzdG9tIHF1ZXJ5IHRvIHRoZSBpemVuZGEgcmVzcG9uc2Ugc2VydmVyXHJcblx0ICogQHBhcmFtIHthbnl9IHF1ZXJ5UGFyYW1zIFF1ZXJ5IHBhcmFtZXRlcnMuXHJcblx0ICogQHBhcmFtIHthbnl9IG9wdGlvbnMgUXVlcnkgb3B0aW9ucy5cclxuXHQgKiBAcGFyYW0ge2FueX0gZXJyb3JPcHRpb25zIEVycm9yIG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlciBEbyB3ZSBuZWVkIHRvIGludmFsaWRhdGUgY2FjaGVzLlxyXG5cdCAqL1xyXG5cdHJzUXVlcnkocXVlcnlQYXJhbXM6IGFueSwgb3B0aW9uczogYW55LCBlcnJvck9wdGlvbnM6IGFueSwgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXN0b21RdWVyeSh0aGlzLnJzUXVlcnlCYXNlVXJsLCBxdWVyeVBhcmFtcywgb3B0aW9ucywgZXJyb3JPcHRpb25zLCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDdXN0b20gcXVlcnkgdG8gdGhlIGl6ZW5kYSBBUEkuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdzQ21kIEl6ZW5kYSBBUEkgY29tbWFuZC5cclxuXHQgKiBAcGFyYW0ge2FueVtdfSB3c0FyZ3MgSXplbmRhIEFQSSBjb21tYW5kIHBhcmFtZXRlcnMgKHdzYXJnMCwgd3NhcmcxLC4uLikuXHJcblx0ICogQHBhcmFtIHthbnl9IG9wdGlvbnMgUXVlcnkgb3B0aW9ucy5cclxuXHQgKiBAcGFyYW0ge2FueX0gZXJyb3JPcHRpb25zIEVycm9yIG9wdGlvbnMuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlciBEbyB3ZSBuZWVkIHRvIGludmFsaWRhdGUgY2FjaGVzLlxyXG5cdCAqL1xyXG5cdHF1ZXJ5KHdzQ21kOiBzdHJpbmcsIHdzQXJnczogYW55W10sIG9wdGlvbnM6IGFueSwgZXJyb3JPcHRpb25zPzogYW55LCBpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcjogYm9vbGVhbiA9IGZhbHNlKVxyXG5cdFx0OiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cclxuXHRcdC8vIHByZXBhcmUgcGFyYW1zOlxyXG5cdFx0Y29uc3QgcGFyYW1zID0gdGhpcy5jcmVhdGVRdWVyeVBhcmFtZXRlcnNPYmplY3Qod3NDbWQsIHdzQXJncyk7XHJcblxyXG5cdFx0Ly8gc2V0IGRlZmF1bHQgZXJyb3Igb3B0aW9ucyBpZiBpdCBpcyBub3QgZGVmaW5lZDpcclxuXHRcdGNvbnN0IGN1cnJlbnRFcnJvck9wdGlvbnMgPSBhbmd1bGFyLmlzT2JqZWN0KGVycm9yT3B0aW9ucylcclxuXHRcdFx0PyBlcnJvck9wdGlvbnNcclxuXHRcdFx0OiB7XHJcblx0XHRcdFx0aGFuZGxlcjogKHdzQ21kMiwgd3NBcmdzMikgPT4gYFF1ZXJ5OiBcIiR7d3NDbWQyfVwiIFske3dzQXJnczJ9XSBmYWlsZWQuYCxcclxuXHRcdFx0XHRwYXJhbXM6IFt3c0NtZCwgd3NBcmdzXVxyXG5cdFx0XHR9O1xyXG5cdFx0cmV0dXJuIHRoaXMucnNRdWVyeShwYXJhbXMsIG9wdGlvbnMsIGN1cnJlbnRFcnJvck9wdGlvbnMsIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFF1ZXJ5IHRvIHRoZSBpemVuZGEgQVBJIChQT1NUIHJlcXVlc3Qgd2hpY2ggcmV0dXJucyBKU09OKS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd3NDbWQgSXplbmRhIEFQSSBjb21tYW5kLlxyXG5cdCAqIEBwYXJhbSB7YW55W119IHdzQXJncyBJemVuZGEgQVBJIGNvbW1hbmQgcGFyYW1ldGVycyAod3NhcmcwLCB3c2FyZzEsLi4uKS5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyIERvIHdlIG5lZWQgdG8gaW52YWxpZGF0ZSBjYWNoZXMuXHJcblx0ICovXHJcblx0YXBpUXVlcnkod3NDbWQ6IHN0cmluZywgd3NBcmdzOiBhbnlbXSwgaW52YWxpZGF0ZUluQ2FjaGVQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdC8vIGNoZWNrIHBhcmFtczpcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHdzQ21kKSB8fCB3c0NtZCA9PT0gJycpIHtcclxuXHRcdFx0XHRyZWplY3QoJ1BhcmFtZXRlciBlcnJvcjogd3NDbWQgcGFyYW1ldGVyIHNob3VsZCBiZSBub24tZW1wdHkgc3RyaW5nLicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheSh3c0FyZ3MpKSB7XHJcblx0XHRcdFx0cmVqZWN0KCdQYXJhbWV0ZXIgZXJyb3I6IHdzQXJncyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGFycmF5LicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIHBhcmFtcyBhcnJheVxyXG5cdFx0XHRjb25zdCBwYXJhbXMgPSB0aGlzLmNyZWF0ZVF1ZXJ5UGFyYW1ldGVyc09iamVjdCh3c0NtZCwgd3NBcmdzKTtcclxuXHJcblx0XHRcdC8vIHJ1biBxdWVyeVxyXG5cdFx0XHR0aGlzLnJzUXVlcnkocGFyYW1zLCB7IGRhdGFUeXBlOiAnanNvbicsIG1ldGhvZDogJ1BPU1QnIH0sIG51bGwsIGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyKVxyXG5cdFx0XHRcdC50aGVuKHJlc3VsdCA9PiByZXNvbHZlKHJlc3VsdCksIGVycm9yID0+IHJlamVjdChlcnJvcikpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYW5jZWwgYWxsIHJ1bm5pbmcgcXVlcmllc1xyXG5cdCAqIEBwYXJhbSB7YW55fSBvcHRpb25zIChvcHRpb25hbCkgb3B0aW9ucy5jYW5jZWxMaXN0IG1heSBzZXQgY3VzdG9tIHF1ZXJpZXMgdG8gY2FuY2VsLlxyXG5cdCAqL1xyXG5cdGNhbmNlbEFsbFF1ZXJpZXMob3B0aW9ucz86IGFueSkge1xyXG5cdFx0Y29uc3Qgb3B0cyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBxdWVyaWVzIHdoaWNoIHdlIGNhbiBjYW5jZWxcclxuXHRcdGNvbnN0IGNhbmNlbGxhYmxlUXVlcmllcyA9IG9wdHMuaGFzT3duUHJvcGVydHkoJ2NhbmNlbExpc3QnKVxyXG5cdFx0XHQ/IG9wdHNbJ2NhbmNlbExpc3QnXVxyXG5cdFx0XHQ6IHRoaXMuJGluamVjdG9yLmdldCgnaXplbmRhLmNvbW1vbi5xdWVyeS5jYW5jZWxsYWJsZVF1ZXJpZXMnKTtcclxuXHJcblx0XHRjb25zdCBjb3VudCA9IHRoaXMucmVxdWVzdExpc3QubGVuZ3RoO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUgKGkgPCB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCByZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0TGlzdFswXTtcclxuXHRcdFx0bGV0IGNhbmNlbCA9IGZhbHNlO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0FycmF5KGNhbmNlbGxhYmxlUXVlcmllcykpIHtcclxuXHRcdFx0XHRjb25zdCByZXF1ZXN0VXJsID0gcmVxdWVzdC51cmw7XHJcblx0XHRcdFx0Y29uc3QgcmVxdWVzdFBhcmFtcyA9IHJlcXVlc3QucXVlcnlQYXJhbXNGaW5hbDtcclxuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNhbmNlbGxhYmxlUXVlcmllcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0Y29uc3QgY2FuY2VsUnVsZSA9IGNhbmNlbGxhYmxlUXVlcmllc1tqXTtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGNhbmNlbFJ1bGUpKSB7XHJcblx0XHRcdFx0XHRcdGNhbmNlbCA9IGNhbmNlbCB8fCByZXF1ZXN0VXJsLmluZGV4T2YoY2FuY2VsUnVsZSkgPj0gMDtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYW5ndWxhci5pc09iamVjdChjYW5jZWxSdWxlKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoJ3dzY21kJyBpbiBjYW5jZWxSdWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2FuY2VsID0gY2FuY2VsIHx8IHJlcXVlc3RVcmwuaW5kZXhPZihgd3NjbWQ9JHtjYW5jZWxSdWxlWyd3c2NtZCddfWApID49IDA7XHJcblx0XHRcdFx0XHRcdFx0Y2FuY2VsID0gY2FuY2VsIHx8IHJlcXVlc3RQYXJhbXMuaGFzT3duUHJvcGVydHkoJ3dzY21kJykgJiYgcmVxdWVzdFBhcmFtc1snd3NjbWQnXSA9PT0gY2FuY2VsUnVsZVsnd3NjbWQnXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgYFVua25vd24gY2FuY2VsIHJ1bGU6ICR7Y2FuY2VsUnVsZX1gO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGNhbmNlbCkge1xyXG5cdFx0XHRcdHJlcXVlc3QuY2FuY2VsbGVyLnJlc29sdmUoKTtcclxuXHRcdFx0XHRyZXF1ZXN0LnJlc29sdmVyLiRpemVuZGFSc1F1ZXJ5Q2FuY2VsbGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5yZXF1ZXN0TGlzdC5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aSsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNvdW50IC0gaTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbmQgcG9zdCByZXF1ZXN0IGFuZCByZWNlaXZlIGZpbGUgYXR0YWNobWVudC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIEdFVC9QT1NUXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmwuXHJcblx0ICogQHBhcmFtIHthbnl9IHBhcmFtZXRlcnMgVXJsIHBhcmFtZXRlcnMgZGljdGlvbmFyeS5cclxuXHQgKiBAcmV0dXJuIHthbmd1bGFyLklQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVycy5cclxuXHQgKi9cclxuXHRkb3dubG9hZEZpbGVSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1ldGVycz86IGFueSk6IGFuZ3VsYXIuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmU6ICgpID0+IHZvaWQpID0+IHtcclxuXHRcdFx0aWYgKHR5cGVvZiAoQmxvYikgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly8gcG9zdCByZXF1ZXN0IGZvciBkb3dubG9hZCB0aGUgZmlsZVxyXG5cdFx0XHRcdGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cdFx0XHRcdHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcclxuXHRcdFx0XHR4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuXHJcblx0XHRcdFx0Y29uc3Qgc2VsZlhociA9IHhocjtcclxuXHRcdFx0XHR4aHIub25sb2FkID0gKGV2dCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Rvd25sb2FkRmlsZVJlcXVlc3QgeGhyLm9ubG9hZCBldnQ6ICcsIGV2dCk7XHJcblx0XHRcdFx0XHRpZiAoc2VsZlhoci5zdGF0dXMgIT09IDIwMClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlzcG9zaXRpb24gPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nKTtcclxuXHRcdFx0XHRcdGxldCBmaWxlbmFtZSA9ICcnO1xyXG5cdFx0XHRcdFx0aWYgKGRpc3Bvc2l0aW9uICYmIGRpc3Bvc2l0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignYXR0YWNobWVudCcpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmaWxlbmFtZVJlZ2V4ID0gL1tGZl1pbGVuYW1lW147PVxcbl0qPSgoWydcIl0pLio/XFwyfFteO1xcbl0qKS87XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1hdGNoZXMgPSBmaWxlbmFtZVJlZ2V4LmV4ZWMoZGlzcG9zaXRpb24pO1xyXG5cdFx0XHRcdFx0XHRpZiAobWF0Y2hlcyAhPSBudWxsICYmIG1hdGNoZXNbMV0pXHJcblx0XHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBtYXRjaGVzWzFdLnJlcGxhY2UoL1snXCJdL2csICcnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IHR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc2VsZlhoci5yZXNwb25zZV0sIHsgdHlwZTogdHlwZSB9KTtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2Ygd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHQvLyBJRSB3b3JrYXJvdW5kIGZvciBcIkhUTUw3MDA3OiBPbmUgb3IgbW9yZSBibG9iIFVSTHMgd2VyZSByZXZva2VkIGJ5IGNsb3NpbmcgdGhlIGJsb2IgZm9yIHdoaWNoIHRoZXkgd2VyZSBjcmVhdGVkLiBcclxuXHRcdFx0XHRcdFx0Ly8gVGhlc2UgVVJMcyB3aWxsIG5vIGxvbmdlciByZXNvbHZlIGFzIHRoZSBkYXRhIGJhY2tpbmcgdGhlIFVSTCBoYXMgYmVlbiBmcmVlZC5cIlxyXG5cdFx0XHRcdFx0XHR3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZW5hbWUpO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb25zdCB1cmxGdW5jID0gd2luZG93LlVSTCB8fCB3aW5kb3dbJ3dlYmtpdFVSTCddO1xyXG5cdFx0XHRcdFx0XHR2YXIgZG93bmxvYWRVcmwgPSB1cmxGdW5jLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdFx0XHRcdFx0aWYgKGZpbGVuYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gdXNlIEhUTUw1IGFbZG93bmxvYWRdIGF0dHJpYnV0ZSB0byBzcGVjaWZ5IGZpbGVuYW1lXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gc2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIHlldFxyXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbGlua0VsZW1lbnQuZG93bmxvYWQgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRvd25sb2FkVXJsO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC5ocmVmID0gZG93bmxvYWRVcmw7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rRWxlbWVudC50YXJnZXQgPSAnX2JsYW5rJztcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtFbGVtZW50LmRvd25sb2FkID0gZmlsZW5hbWU7XHJcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmtFbGVtZW50KTtcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtFbGVtZW50LmNsaWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmtFbGVtZW50KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBkb3dubG9hZFVybDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR1cmxGdW5jLnJldm9rZU9iamVjdFVSTChkb3dubG9hZFVybCk7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDApOyAvLyBjbGVhbnVwXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuXHRcdFx0XHRpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdwb3N0JylcclxuXHRcdFx0XHRcdHhoci5zZW5kKGFuZ3VsYXIuZWxlbWVudC5wYXJhbShwYXJhbWV0ZXJzIHx8IHt9KSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdnZXQnKVxyXG5cdFx0XHRcdFx0eGhyLnNlbmQoKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBgVW5zdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2Q6ICR7bWV0aG9kfWA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncG9zdCcpIHtcclxuXHRcdFx0XHRcdC8vIG9sZCBicm93c2VyIHBvc3QgcmVxdWVzdFxyXG5cdFx0XHRcdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuXHRcdFx0XHRcdGZvcm0uYWN0aW9uID0gdXJsO1xyXG5cdFx0XHRcdFx0Zm9ybS5tZXRob2QgPSBtZXRob2Q7XHJcblx0XHRcdFx0XHRmb3JtLnRhcmdldCA9ICdfYmxhbmsnO1xyXG5cdFx0XHRcdFx0aWYgKHBhcmFtZXRlcnMpXHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGtleSBpbiBwYXJhbWV0ZXJzKVxyXG5cdFx0XHRcdFx0XHRcdGlmIChwYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0Lm5hbWUgPSBrZXk7XHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dC52YWx1ZSA9IHR5cGVvZiBwYXJhbWV0ZXJzW2tleV0gPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkocGFyYW1ldGVyc1trZXldKSA6IHBhcmFtZXRlcnNba2V5XTtcclxuXHRcdFx0XHRcdFx0XHRcdGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblx0XHRcdFx0XHRmb3JtLnN1Ym1pdCgpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gb2xkIGJyb3dzZXIgZ2V0IHJlcXVlc3RcclxuXHRcdFx0XHRcdGNvbnN0IGxpbmtFbGVtZW50MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0XHRcdGxpbmtFbGVtZW50Mi5ocmVmID0gdXJsO1xyXG5cdFx0XHRcdFx0bGlua0VsZW1lbnQyLnRhcmdldCA9ICdfYmxhbmsnO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rRWxlbWVudDIpO1xyXG5cdFx0XHRcdFx0bGlua0VsZW1lbnQyLmNsaWNrKCk7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmtFbGVtZW50Mik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEbyBxdWVyeSB0byBjdXN0b20gdXJsXHJcblx0ICovXHJcblx0cHJpdmF0ZSBjdXN0b21RdWVyeShcclxuXHRcdGJhc2VVcmw6IHN0cmluZyxcclxuXHRcdHF1ZXJ5UGFyYW1zOiBvYmplY3QsXHJcblx0XHRvcHRpb25zOiB7IG1ldGhvZDogc3RyaW5nLCBkYXRhVHlwZTogc3RyaW5nIH0sXHJcblx0XHRlcnJvck9wdGlvbnM6IGFueSxcclxuXHRcdGludmFsaWRhdGVJbkNhY2hlUGFyYW1ldGVyOiBib29sZWFuKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHJcblx0XHRjb25zdCBxdWVyeVBhcmFtc0ZpbmFsID0gYW5ndWxhci5jb3B5PG9iamVjdD4ocXVlcnlQYXJhbXMpO1xyXG5cclxuXHRcdC8vIGFwcGx5IGl6ZW5kYVBhZ2VJZCRcclxuXHRcdGlmICh0eXBlb2YgKHdpbmRvd1snaXplbmRhUGFnZUlkJCddKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHF1ZXJ5UGFyYW1zRmluYWxbJ2l6cGlkJ10gPSB3aW5kb3dbJ2l6ZW5kYVBhZ2VJZCQnXTtcclxuXHRcdGlmICh0eXBlb2YgKHdpbmRvd1snYW5ndWxhclBhZ2VJZCQnXSkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRxdWVyeVBhcmFtc0ZpbmFsWydhbnBpZCddID0gd2luZG93Wydhbmd1bGFyUGFnZUlkJCddO1xyXG5cclxuXHRcdGNvbnN0IGlzUG9zdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJztcclxuXHJcblx0XHRsZXQgcG9zdERhdGEgPSB7fTtcclxuXHRcdGxldCB1cmwgPSBiYXNlVXJsO1xyXG5cdFx0aWYgKCFpc1Bvc3QpIHtcclxuXHRcdFx0Ly8gR0VUIHJlcXVlc3QgdXJsOlxyXG5cdFx0XHRjb25zdCBrdlN0cmluZ3M6IHN0cmluZ1tdID0gW107XHJcblx0XHRcdGZvciAobGV0IHBhcmFtTmFtZSBpbiBxdWVyeVBhcmFtc0ZpbmFsKVxyXG5cdFx0XHRcdGlmIChxdWVyeVBhcmFtc0ZpbmFsLmhhc093blByb3BlcnR5KHBhcmFtTmFtZSkpXHJcblx0XHRcdFx0XHRrdlN0cmluZ3MucHVzaChgJHtwYXJhbU5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1zRmluYWxbcGFyYW1OYW1lXSl9YCk7XHJcblx0XHRcdGlmIChpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHRrdlN0cmluZ3MucHVzaCgnaWljPTEnKTtcclxuXHRcdFx0dXJsICs9IGA/JHtrdlN0cmluZ3Muam9pbignJicpfWA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBQT1NUIHJlcXVlc3QgcGFyYW1zIHN0cmluZzpcclxuXHRcdFx0bGV0IHBvc3RQYXJhbXNTdHJpbmcgPSAndXJsZW5jb2RlZD10cnVlJztcclxuXHRcdFx0Zm9yIChsZXQgcGFyYW1OYW1lIGluIHF1ZXJ5UGFyYW1zRmluYWwpXHJcblx0XHRcdFx0aWYgKHF1ZXJ5UGFyYW1zRmluYWwuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lKSlcclxuXHRcdFx0XHRcdHBvc3RQYXJhbXNTdHJpbmcgKz0gYCYke3BhcmFtTmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnlQYXJhbXNGaW5hbFtwYXJhbU5hbWVdKX1gO1xyXG5cdFx0XHRwb3N0RGF0YSA9IHtcclxuXHRcdFx0XHRkYXRhOiBwb3N0UGFyYW1zU3RyaW5nXHJcblx0XHRcdH07XHJcblx0XHRcdGlmIChpbnZhbGlkYXRlSW5DYWNoZVBhcmFtZXRlcilcclxuXHRcdFx0XHR1cmwgKz0gJz9paWM9MSc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3JlYXRlIHByb21pc2VzXHJcblx0XHRjb25zdCBjYW5jZWxlciA9IHRoaXMuJHEuZGVmZXI8YW55PigpO1xyXG5cdFx0Y29uc3QgcmVzb2x2ZXIgPSB0aGlzLiRxLmRlZmVyPGFueT4oKTtcclxuXHRcdHJlc29sdmVyWyckaXplbmRhUnNRdWVyeUNhbmNlbGxlZCddID0gdHJ1ZTtcclxuXHRcdHJlc29sdmVyWydlcnJvck9wdGlvbnMnXSA9IGFuZ3VsYXIuaXNPYmplY3QoZXJyb3JPcHRpb25zKSA/IGVycm9yT3B0aW9ucyA6IG51bGw7XHJcblxyXG5cdFx0Ly8gcHJlcGFyZSByZXF1ZXN0IG9wdGlub3NcclxuXHRcdGNvbnN0IGRhdGFUeXBlID0gYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucykgJiYgYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLmRhdGFUeXBlKVxyXG5cdFx0XHQ/IG9wdGlvbnMuZGF0YVR5cGVcclxuXHRcdFx0OiAndGV4dCc7XHJcblx0XHRsZXQgY29udGVudFR5cGUgPSAndGV4dC9odG1sJztcclxuXHRcdGlmIChkYXRhVHlwZSA9PT0gJ2pzb24nKVxyXG5cdFx0XHRjb250ZW50VHlwZSA9ICd0ZXh0L2pzb24nO1xyXG5cdFx0dXJsID0gZ2V0QXBwZW5kZWRVcmwodXJsLCBxdWVyeVBhcmFtc0ZpbmFsKTtcclxuXHRcdGNvbnN0IHJlcXVlc3RJZCA9ICgrbmV3IERhdGUpLnRvU3RyaW5nKCkgKyAnXycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKS50b1N0cmluZygpOyAvLyBwc2V1ZG8gcmFuZG9tIFVJRC5cclxuXHRcdGNvbnN0IHJlcUhlYWRlcnMgPSB7fSBhcyBuZy5JSHR0cFJlcXVlc3RDb25maWdIZWFkZXJzO1xyXG5cdFx0cmVxSGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSBjb250ZW50VHlwZTtcclxuXHRcdGNvbnN0IHJlcSA9IHt9IGFzIG5nLklSZXF1ZXN0Q29uZmlnO1xyXG5cdFx0cmVxLm1ldGhvZCA9ICdHRVQnO1xyXG5cdFx0cmVxLnVybCA9IHVybDtcclxuXHRcdHJlcS5oZWFkZXJzID0gcmVxSGVhZGVycztcclxuXHRcdHJlcS50aW1lb3V0ID0gY2FuY2VsZXIucHJvbWlzZTtcclxuXHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KG9wdGlvbnMpKSB7XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKHJlcSwgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRhbmd1bGFyLmV4dGVuZChyZXEsIHBvc3REYXRhKTsgLy8gaXQgaXMgZW1wdHkgZm9yIGh0dHAgR0VUIHJlcXVlc3RzXHJcblx0XHQvLyBjdXN0b21cclxuXHRcdHJlcVsncmVxdWVzdElkJ10gPSByZXF1ZXN0SWQ7XHJcblx0XHRyZXFbJ3F1ZXJ5UGFyYW1zRmluYWwnXSA9IHF1ZXJ5UGFyYW1zRmluYWw7XHJcblxyXG5cdFx0Ly8gYWRkIHJlcXVlc3QgdG8gcmVxdWVzdExpc3RcclxuXHRcdHRoaXMucmVxdWVzdExpc3QucHVzaChuZXcgUmVxdWVzdExpc3RJdGVtKHJlcXVlc3RJZCwgdXJsLCBxdWVyeVBhcmFtc0ZpbmFsLCBjYW5jZWxlciwgcmVzb2x2ZXIpKTtcclxuXHJcblx0XHQvLyBydW4gcXVlcnlcclxuXHRcdHRoaXMuJGh0dHAocmVxKS50aGVuKHJlc3BvbnNlID0+IHtcclxuXHRcdFx0Ly8gaGFuZGxlIHN1Y2Nlc3NcclxuXHRcdFx0dGhpcy5yZW1vdmVSZXF1ZXN0KHJlc3BvbnNlLmNvbmZpZ1sncmVxdWVzdElkJ10pO1xyXG5cdFx0XHRpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVzcG9uc2UpKSB7XHJcblx0XHRcdFx0Ly8gcmVzb2x2ZSBub24tb2JqZWN0IHJlc3BvbnNlc1xyXG5cdFx0XHRcdHJlc29sdmVyLnJlc29sdmUocmVzcG9uc2UpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBvYmplY3QgcmVzcG9uc2VcclxuXHRcdFx0dmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc09iamVjdChkYXRhKSAmJiBhbmd1bGFyLmlzU3RyaW5nKGRhdGFbJ2l6ZW5kYVF1ZXJ5U3RhdHVzJ10pKSB7XHJcblx0XHRcdFx0Ly8gQVBJIHF1ZXJ5IHJlc3VsdFxyXG5cdFx0XHRcdGlmIChkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddID09PSAnb2snKVxyXG5cdFx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShkYXRhWydyZXN1bHQnXSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YVsnaXplbmRhUXVlcnlTdGF0dXMnXSA9PT0gJ2Vycm9yJylcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlamVjdChkYXRhWydlcnJvciddKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXNvbHZlci5yZWplY3QoJ1Vua25vd24gaXplbmRhUXVlcnlTdGF0dXM6ICcgKyBkYXRhWydpemVuZGFRdWVyeVN0YXR1cyddKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBOb24tQVBJIGpzb24gcXVlcnkgcmVzdWx0XHJcblx0XHRcdFx0cmVzb2x2ZXIucmVzb2x2ZShkYXRhKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgcmVzcG9uc2UgPT4ge1xyXG5cdFx0XHQvLyBoYW5kbGUgcmVxdWVzdCBlcnJvclxyXG5cdFx0XHR0aGlzLnJlbW92ZVJlcXVlc3QocmVzcG9uc2UuY29uZmlnLnJlcXVlc3RJZCk7XHJcblxyXG5cdFx0XHRsZXQgbmVlZFRvUmVqZWN0ID0gdHJ1ZTtcclxuXHRcdFx0bGV0IGVycm9yVGV4dDogc3RyaW5nO1xyXG5cdFx0XHRpZiAocmVzb2x2ZXJbJ2Vycm9yT3B0aW9ucyddICE9IG51bGwpIHtcclxuXHRcdFx0XHRuZWVkVG9SZWplY3QgPSBmYWxzZTtcclxuXHRcdFx0XHRlcnJvclRleHQgPSByZXNvbHZlclsnZXJyb3JPcHRpb25zJ10uaGFuZGxlci5hcHBseShyZXNwb25zZSxcclxuXHRcdFx0XHRcdHJlc29sdmVyWydlcnJvck9wdGlvbnMnXS5wYXJhbXMgPyByZXNvbHZlclsnZXJyb3JPcHRpb25zJ10ucGFyYW1zIDogW10pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpXHJcblx0XHRcdFx0ZXJyb3JUZXh0ID0gcmVzcG9uc2UubWVzc2FnZTtcclxuXHRcdFx0ZWxzZSBpZiAocmVzcG9uc2UuY29uZmlnKVxyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUXVlcnlGYWlsZWQnLCAnUXVlcnkgZmFpbGVkJykgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuY29uZmlnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnbG9jYWxlVmFyaWFibGUnLCAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4nKTtcclxuXHRcdFx0aWYgKHJlc29sdmVyWyckaXplbmRhUnNRdWVyeUNhbmNlbGxlZCddKSB7XHJcblx0XHRcdFx0aWYgKG5lZWRUb1JlamVjdClcclxuXHRcdFx0XHRcdHJlc29sdmVyLnJlamVjdChlcnJvclRleHQpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc29sdmVyLnByb21pc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgcmVxdWVzdCBmcm9tIGFycmF5XHJcblx0ICovXHJcblx0cHJpdmF0ZSByZW1vdmVSZXF1ZXN0KHJlcXVlc3RJZDogc3RyaW5nKSB7XHJcblx0XHRsZXQgZm91bmRJbmRleCA9IC0xO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUgKGZvdW5kSW5kZXggPCAwICYmIGkgPCB0aGlzLnJlcXVlc3RMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5yZXF1ZXN0TGlzdFtpXS5yZXF1ZXN0SWQgPT09IHJlcXVlc3RJZCkge1xyXG5cdFx0XHRcdGZvdW5kSW5kZXggPSBpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdGlmIChmb3VuZEluZGV4ID49IDApIHtcclxuXHRcdFx0dGhpcy5yZXF1ZXN0TGlzdC5zcGxpY2UoZm91bmRJbmRleCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZVF1ZXJ5UGFyYW1ldGVyc09iamVjdCh3c0NtZDogc3RyaW5nLCB3c0FyZ3M6IGFueVtdKTogb2JqZWN0IHtcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdCd3c2NtZCc6IHdzQ21kXHJcblx0XHR9O1xyXG5cdFx0Ly8gYWRkIHdzYXJnTj0uLi4gcGFyYW1ldGVycyBpbnRvIHBhcmFtcyB2YXJpYWJsZS5cclxuXHRcdGlmICh3c0FyZ3MgJiYgd3NBcmdzLmxlbmd0aClcclxuXHRcdFx0cGFyYW1zID0gd3NBcmdzLnJlZHVjZSgoY3VycmVudFBhcmFtczogYW55LCB3c0FyZzogYW55LCB3c0FyZ0lkeDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0Y3VycmVudFBhcmFtc1tgd3Nhcmcke3dzQXJnSWR4fWBdID0gdHlwZW9mICh3c0FyZykgIT09ICd1bmRlZmluZWQnICYmIHdzQXJnICE9IG51bGwgPyB3c0FyZyA6ICcnO1xyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50UGFyYW1zO1xyXG5cdFx0XHR9LCBwYXJhbXMpO1xyXG5cdFx0cmV0dXJuIHBhcmFtcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuY29uc3RhbnQoJ2l6ZW5kYS5jb21tb24ucXVlcnkuY2FuY2VsbGFibGVRdWVyaWVzJywgW3tcclxuXHRcdFx0d3NjbWQ6ICdsb2FkRGFzaGJvYXJkQ29uZmlnTmV3JyAvLyBsb2FkIGRhc2hib2FyZCBsYXlvdXQgcXVlcnlcclxuXHRcdH0sIHtcclxuXHRcdFx0d3NjbWQ6ICdnZXREYXNoYm9hcmRDYXRlZ29yaWVzTmV3J1xyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldERhc2hib2FyZFRpbGVQcmV2aWV3TmV3JyAvLyBsb2FkIHRpbGUgaHRtbCBxdWVyeVxyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldENyc1NjaGVkdWxlJ1xyXG5cdFx0fSwge1xyXG5cdFx0XHR3c2NtZDogJ2dldENyc1NoYXJlJ1xyXG5cdFx0fV0pXHJcblx0XHRcdC5zZXJ2aWNlKCckaXplbmRhUnNRdWVyeVNlcnZpY2UnLCBJemVuZGFSc1F1ZXJ5U2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFSc1F1ZXJ5U2VydmljZSkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlcXVlc3RMaXN0SXRlbSB7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwdWJsaWMgcmVxdWVzdElkOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgdXJsOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgcXVlcnlQYXJhbXNGaW5hbDogYW55LFxyXG5cdFx0cHVibGljIGNhbmNlbGxlcjogYW55LFxyXG5cdFx0cHVibGljIHJlc29sdmVyOiBhbnkpIHsgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHNlYXJjaCwgcmVwbGFjZW1lbnQpIHtcclxuXHRjb25zdCB0YXJnZXQgPSB0aGlzO1xyXG5cdGlmICh0eXBlb2Ygc2VhcmNoICE9PSAnc3RyaW5nJyB8fCBzZWFyY2ggPT09ICcnKVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0cmV0dXJuIHRhcmdldC5zcGxpdChzZWFyY2gpLmpvaW4ocmVwbGFjZW1lbnQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIHJlcXVpcmVqcyBtb2R1bGUsIHdoaWNoIGNyZWF0ZXMgYW5ndWxhciBtb2R1bGVzLlxyXG4gKiByZXR1cm5zICdsb2FkU2V0dGluZ3MnIGZ1bmN0aW9uLCB3aGljaCBjb3VsZCBsb2FkIHNldHRpbmdzIGZvciB0aGlzIG1vZHVsZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFDb21tb25Mb2FkZXIge1xyXG5cdHN0YXRpYyBsb2FkU2V0dGluZ3MoKSB7XHRcclxuXHRcdGNvbnN0IGRlZmVycmVkT2JqZWN0ID0gYW5ndWxhci5lbGVtZW50LkRlZmVycmVkKCk7XHJcblx0XHRjb25zdCB1cmxTZXR0aW5ncyA9IHdpbmRvdy51cmxTZXR0aW5ncyQ7XHJcblx0XHRjb25zdCByc1BhZ2VVcmwgPSB1cmxTZXR0aW5ncy51cmxSc1BhZ2U7XHJcblx0XHRjb25zdCBzZXR0aW5nc1VybCA9IHJzUGFnZVVybCArICc/d3NjbWQ9Z2V0Q29tbW9uU2V0dGluZ3MnO1xyXG5cdFx0Ly8gbG9hZCBjb21tb24gc2V0dGluZ3M6XHJcblxyXG5cdFx0YW5ndWxhci5lbGVtZW50LmdldChzZXR0aW5nc1VybCwgKGNvbmZpZ0pzb24pID0+IHtcclxuXHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IGNvbmZpZ0pzb24gYXMgSUl6ZW5kYUNvbW1vblNldHRpbmdzO1xyXG5cdFx0XHRhbmd1bGFyXHJcblx0XHRcdFx0Lm1vZHVsZSgnaXplbmRhLmNvbW1vbi5jb3JlJylcclxuXHRcdFx0XHQuY29uc3RhbnQoJyRpemVuZGFDb21tb25TZXR0aW5ncycsIGNvbmZpZ09iamVjdCk7XHJcblx0XHRcdGRlZmVycmVkT2JqZWN0LnJlc29sdmUoKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVycmVkT2JqZWN0LnByb21pc2UoKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl6ZW5kYUNvbW1vblNldHRpbmdzIHtcclxuXHRhbGxvd0NyZWF0ZU5ld0NhdGVnb3J5OiBib29sZWFuO1xyXG5cdGFsbG93SW52YWxpZENoYXJhY3RlcnM6IGJvb2xlYW47XHJcblx0YnVsa0NzdjogYm9vbGVhbjtcclxuXHRjYXRlZ29yeUNoYXJhY3Rlcjogc3RyaW5nO1xyXG5cdGN1bHR1cmU6IHN0cmluZztcclxuXHRkYXRlRm9ybWF0TG9uZzogc3RyaW5nO1xyXG5cdGRhdGVGb3JtYXRTaG9ydDogc3RyaW5nO1xyXG5cdHNob3dBbGxJblJlc3VsdHM6IGJvb2xlYW47XHJcblx0c2hvd0NhdGVnb3J5VGV4dGJveEluU2F2ZURpYWxvZzogYm9vbGVhbjtcclxuXHRzaG93RGVzaWduTGlua3M6IGJvb2xlYW47XHJcblx0c2hvd0Rlc2lnbkRhc2hib2FyZExpbms6IGJvb2xlYW47XHJcblx0c2hvd1NhdmVBc1Rvb2xiYXJCdXR0b246IGJvb2xlYW47XHJcblx0c2hvd1NhdmVDb250cm9sczogYm9vbGVhbjtcclxuXHRzaG93VGltZUluRmlsdGVyUGlja2VyczogYm9vbGVhbjtcclxuXHRzdHJpcEludmFsaWRDaGFyYWN0ZXJzOiBib29sZWFuO1xyXG5cdHRpbWVGb3JtYXRMb25nOiBzdHJpbmc7XHJcblx0dGltZUZvcm1hdFNob3J0OiBzdHJpbmc7XHJcbn0iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCB7IElJemVuZGFDb21tb25TZXR0aW5ncyB9IGZyb20gJ2NvbW1vbi9jb21tb24tbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGVUaW1lRm9ybWF0IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHB1YmxpYyBsb25nRGF0ZTogc3RyaW5nLFxyXG5cdFx0cHVibGljIGxvbmdUaW1lOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgc2hvcnREYXRlOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgc2hvcnRUaW1lOiBzdHJpbmcsXHJcblx0XHRwdWJsaWMgdGltZUZvcm1hdEZvcklubmVySXplbmRhUHJvY2Vzc2luZzogc3RyaW5nLCAvLyB0aGlzIHRpbWUgZm9ybWF0IHVzZWQgaW4gbWV0aG9kIERhdGVMb2NUb1VzIGZvciBzYXZpbmcgZmlsdGVycy5cclxuXHRcdHB1YmxpYyBzaG93VGltZUluRmlsdGVyUGlja2VyczogYm9vbGVhbixcclxuXHRcdHB1YmxpYyBkZWZhdWx0RmlsdGVyRGF0ZUZvcm1hdDogc3RyaW5nKSB7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSB7XHJcblxyXG5cdHJlYWRvbmx5IGRlZmF1bHREYXRlRm9ybWF0OiBEYXRlVGltZUZvcm1hdDtcclxuXHRyZWFkb25seSBkYXRlRm9ybWF0OiBEYXRlVGltZUZvcm1hdDtcclxuXHRyZWFkb25seSBjdWx0dXJlOiBzdHJpbmc7XHJcblx0cmVhZG9ubHkgYnVsa0NzdjogYm9vbGVhbjtcclxuXHRyZWFkb25seSBjYXRlZ29yeUNoYXJhY3Rlcjogc3RyaW5nO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgJyRpemVuZGFDb21tb25TZXR0aW5ncyddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21tb25TZXR0aW5nczogSUl6ZW5kYUNvbW1vblNldHRpbmdzKSB7XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZSBmb3JtYXRzXHJcblx0XHR0aGlzLmRlZmF1bHREYXRlRm9ybWF0ID0gbmV3IERhdGVUaW1lRm9ybWF0KFxyXG5cdFx0XHQnZGRkZCwgTU1NTSBERCwgWVlZWScsXHJcblx0XHRcdCdoOm1tOnNzIEEnLFxyXG5cdFx0XHQnTU0vREQvWVlZWScsXHJcblx0XHRcdCdoOm1tIEEnLFxyXG5cdFx0XHQnSEg6bW06c3MnLFxyXG5cdFx0XHRmYWxzZSxcclxuXHRcdFx0J01NL0REL1lZWVknICsgKCRpemVuZGFDb21tb25TZXR0aW5ncy5zaG93VGltZUluRmlsdGVyUGlja2VycyA/ICcgSEg6bW06c3MnIDogJycpKTtcclxuXHRcdGNvbnN0IGZvcm1hdCA9IHRoaXMuZGVmYXVsdERhdGVGb3JtYXQ7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQoZm9ybWF0LmxvbmdEYXRlLCBmb3JtYXQubG9uZ1RpbWUsIGZvcm1hdC5zaG9ydERhdGUsXHJcblx0XHRcdGZvcm1hdC5zaG9ydFRpbWUsIGZvcm1hdC50aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nLCBmb3JtYXQuc2hvd1RpbWVJbkZpbHRlclBpY2tlcnMsICcnKTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5sb25nRGF0ZSA9IHRoaXMuY29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudCgkaXplbmRhQ29tbW9uU2V0dGluZ3MuZGF0ZUZvcm1hdExvbmcpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LmxvbmdUaW1lID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy50aW1lRm9ybWF0TG9uZyk7XHJcblx0XHR0aGlzLmRhdGVGb3JtYXQuc2hvcnREYXRlID0gdGhpcy5jb252ZXJ0RG90TmV0VGltZUZvcm1hdFRvTW9tZW50KCRpemVuZGFDb21tb25TZXR0aW5ncy5kYXRlRm9ybWF0U2hvcnQpO1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0LnNob3J0VGltZSA9IHRoaXMuY29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudCgkaXplbmRhQ29tbW9uU2V0dGluZ3MudGltZUZvcm1hdFNob3J0KTtcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5zaG93VGltZUluRmlsdGVyUGlja2VycyA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5zaG93VGltZUluRmlsdGVyUGlja2VycztcclxuXHRcdHRoaXMuZGF0ZUZvcm1hdC5kZWZhdWx0RmlsdGVyRGF0ZUZvcm1hdCA9IHRoaXMuZGF0ZUZvcm1hdC5zaG9ydERhdGUgK1xyXG5cdFx0XHQoJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzID8gYCAke3RoaXMuZGF0ZUZvcm1hdC5sb25nVGltZX1gIDogJycpO1xyXG5cclxuXHRcdC8vIGN1bHR1cmVcclxuXHRcdHRoaXMuY3VsdHVyZSA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5jdWx0dXJlO1xyXG5cdFx0aWYgKHRoaXMuY3VsdHVyZS5pbmRleE9mKCctJykgPiAwKVxyXG5cdFx0XHR0aGlzLmN1bHR1cmUgPSB0aGlzLmN1bHR1cmUuc3Vic3RyaW5nKDAsIHRoaXMuY3VsdHVyZS5pbmRleE9mKCctJykpO1xyXG5cclxuXHRcdC8vIGJ1bGsgY3N2XHJcblx0XHR0aGlzLmJ1bGtDc3YgPSBmYWxzZTtcclxuXHRcdGlmICh0eXBlb2YgJGl6ZW5kYUNvbW1vblNldHRpbmdzLmJ1bGtDc3YgIT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHRoaXMuYnVsa0NzdiA9ICRpemVuZGFDb21tb25TZXR0aW5ncy5idWxrQ3N2O1xyXG5cclxuXHRcdC8vIGNhdGVnb3J5IGNoYXJhY3RlclxyXG5cdFx0dGhpcy5jYXRlZ29yeUNoYXJhY3RlciA9ICdcXFxcJztcclxuXHRcdGlmICh0eXBlb2YgJGl6ZW5kYUNvbW1vblNldHRpbmdzLmNhdGVnb3J5Q2hhcmFjdGVyICE9ICd1bmRlZmluZWQnKVxyXG5cdFx0XHR0aGlzLmNhdGVnb3J5Q2hhcmFjdGVyID0gJGl6ZW5kYUNvbW1vblNldHRpbmdzLmNhdGVnb3J5Q2hhcmFjdGVyO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVmYXVsdCBkYXRlIGZvcm1hdHNcclxuXHQgKiBAcmV0dXJucyB7RGF0ZVRpbWVGb3JtYXR9IFxyXG5cdCAqL1xyXG5cdGdldERlZmF1bHREYXRlRm9ybWF0KCk6IERhdGVUaW1lRm9ybWF0IHtcclxuXHRcdHJldHVybiB0aGlzLmRlZmF1bHREYXRlRm9ybWF0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVmYXVsdCBmb3JtYXQgc3RyaW5nIChlbi1VUykuIFRoaXMgZm9ybWF0IHVzZWQgZm9yIHNlbmRpbmcgZGF0ZXMgdG8gdGhlIHNlcnZlci5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY3VzdG9tRGF0ZUZvcm1hdFN0cmluZy4gQWx0ZXJuYXRpdmUgZGF0ZSBmb3JtYXQgaWYgcmVxdWlyZWQuXHJcblx0ICovXHJcblx0Z2V0RGVmYXVsdERhdGVGb3JtYXRTdHJpbmcoY3VzdG9tRGF0ZUZvcm1hdFN0cmluZz86IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBzaG93VGltZSA9IHRoaXMuJGl6ZW5kYUNvbW1vblNldHRpbmdzLnNob3dUaW1lSW5GaWx0ZXJQaWNrZXJzO1xyXG5cdFx0Y29uc3QgdGltZUZvcm1hdFN0cmluZyA9IHNob3dUaW1lID8gJyAnICsgdGhpcy5kZWZhdWx0RGF0ZUZvcm1hdC50aW1lRm9ybWF0Rm9ySW5uZXJJemVuZGFQcm9jZXNzaW5nIDogJyc7XHJcblx0XHRsZXQgZGF0ZUZvcm1hdFN0cmluZyA9IHRoaXMuZGVmYXVsdERhdGVGb3JtYXQuc2hvcnREYXRlO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoY3VzdG9tRGF0ZUZvcm1hdFN0cmluZykgJiYgY3VzdG9tRGF0ZUZvcm1hdFN0cmluZy50cmltKCkgIT09ICcnKSB7XHJcblx0XHRcdGRhdGVGb3JtYXRTdHJpbmcgPSBjdXN0b21EYXRlRm9ybWF0U3RyaW5nO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGRhdGVGb3JtYXRTdHJpbmcgKyB0aW1lRm9ybWF0U3RyaW5nO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCAubmV0IGRhdGUgdGltZSBmb3JtYXQgc3RyaW5nIHRvIG1vbWVudGpzIGZvcm1hdCBzdHJpbmcuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCAubmV0IGZvcm1hdCBzdHJpbmdcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBtb21lbnRqcyBmb3JtYXQgc3RyaW5nXHJcblx0ICovXHJcblx0Y29udmVydERvdE5ldFRpbWVGb3JtYXRUb01vbWVudChmb3JtYXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBjb252ZXJ0ZXIgPSBpemVuZGEudXRpbHMuZGF0ZS5mb3JtYXRDb252ZXJ0ZXI7XHJcblx0XHRyZXR1cm4gY29udmVydGVyLmNvbnZlcnQoZm9ybWF0LCBjb252ZXJ0ZXIuZG90TmV0LCBjb252ZXJ0ZXIubW9tZW50SnMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBHZXQgY29tbW9uIHNldHRpbmdzXHJcblx0Ki9cclxuXHRnZXRDb21tb25TZXR0aW5ncygpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbW1vblNldHRpbmdzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGUgZm9ybWF0LlxyXG5cdCAqL1xyXG5cdGdldERhdGVGb3JtYXQoKTogRGF0ZVRpbWVGb3JtYXQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0ZUZvcm1hdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IHBhZ2UgY3VsdHVyZS5cclxuXHQgKi9cclxuXHRnZXRDdWx0dXJlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdWx0dXJlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFwiYnVsayBjc3ZcIiBDU1YgZXhwb3J0IG1vZGUgZW5hYmxlZC5cclxuXHQgKi9cclxuXHRnZXRCdWxrQ3N2KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuYnVsa0NzdjtcclxuXHR9XHJcblxyXG5cdGdldENhdGVnb3J5Q2hhcmFjdGVyKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYXRlZ29yeUNoYXJhY3RlcjtcclxuXHR9XHJcblxyXG5cdGdldFJlcG9ydEZ1bGxOYW1lKHJlcG9ydE5hbWU6IHN0cmluZywgcmVwb3J0Q2F0ZWdvcnk/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlc3VsdCA9IG51bGw7XHJcblx0XHRpZiAocmVwb3J0TmFtZSkge1xyXG5cdFx0XHRyZXN1bHQgPSAnJztcclxuXHRcdFx0aWYgKCF0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQocmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlcG9ydENhdGVnb3J5ICsgdGhpcy5nZXRDYXRlZ29yeUNoYXJhY3RlcigpO1xyXG5cdFx0XHRyZXN1bHQgKz0gcmVwb3J0TmFtZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLFxyXG5cdFx0XHRJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgc2VydmljZSBwcm92aWRlcyBBUEkgcXVlcnkgbWV0aG9kcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhUnNRdWVyeVNlcnZpY2UnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUnNRdWVyeVNlcnZpY2U6IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVzZWQgZm9yIHJlZnJlc2ggc2Vzc2lvbiB0aW1lb3V0XHJcblx0ICovXHJcblx0cGluZygpOiBhbmd1bGFyLklQcm9taXNlPG51bWJlcj4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdwaW5nJywgW10sIHsgZGF0YVR5cGU6ICd0ZXh0JyB9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBuZXcgZGFzaGJvYXJkIHJlcG9ydCBzZXQgYW5kIHNldCBpdCBhcyBDdXJyZW50UmVwb3J0U2V0XHJcblx0ICovXHJcblx0bmV3RGFzaGJvYXJkKCk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ25ld2NycycsIFsnRGFzaGJvYXJkRGVzaWduZXInXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogKCkgPT4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRDcmVhdGVFcnJvcicsICdGYWlsZWQgdG8gY3JlYXRlIG5ldyBkYXNoYm9hcmQnKSxcclxuXHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayByZXBvcnQgc2V0IGlzIGV4aXN0LiBSZXR1cm5zIHByb21pc2Ugd2l0aCAndHJ1ZScgdmFsdWUgaWYgZXhpc3RzXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydFNldEZ1bGxOYW1lIFJlcG9ydCBzZXQgZnVsbCBuYW1lIGZvciBjaGVjay5cclxuXHQgKi9cclxuXHRjaGVja1JlcG9ydFNldEV4aXN0KHJlcG9ydFNldEZ1bGxOYW1lOiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzU3RyaW5nKHJlcG9ydFNldEZ1bGxOYW1lKSB8fCByZXBvcnRTZXRGdWxsTmFtZS50cmltKCkgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3JlcG9ydFNldEZ1bGxOYW1lIHNob3VsZCBiZSBub24gZW1wdHkgc3RyaW5nJyk7XHJcblxyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRDaGVja0V4aXN0RXJyb3InLCAnRmFpbGVkIHRvIGNoZWNrIGRhc2hib2FyZCBleGlzdCcpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdjaGVja3JlcG9ydHNldGV4aXN0cycsIFtyZXBvcnRTZXRGdWxsTmFtZV0sIHsgZGF0YVR5cGU6ICd0ZXh0JyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6IG5hbWUgPT4gYCR7ZXJyb3JUZXh0fTogJHtuYW1lfWAsXHJcblx0XHRcdHBhcmFtczogW3JlcG9ydFNldEZ1bGxOYW1lXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgQWRIb2NDb250ZXh0IGN1cnJlbnQgcmVwb3J0IHNldFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRTZXRGdWxsTmFtZSBSZXBvcnQgc2V0IGZ1bGwgbmFtZSBmb3IgY2hlY2suXHJcblx0ICovXHJcblx0c2V0Q3JzKHJlcG9ydFNldEZ1bGxOYW1lOiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TZXRDcnNFcnJvcicsICdGYWlsZWQgdG8gc2V0IGN1cnJlbnQgcmVwb3J0IHNldCcpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLnF1ZXJ5KCdzZXRjdXJyZW50cmVwb3J0c2V0JywgW3JlcG9ydFNldEZ1bGxOYW1lXSwgeyBkYXRhVHlwZTogJ3RleHQnIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbcmVwb3J0U2V0RnVsbE5hbWVdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgbGlzdCBieSBjYXRlZ29yeVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSBjYXRlZ29yeSBuYW1lLlxyXG5cdCAqL1xyXG5cdGdldFJlcG9ydFNldENhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpOiBhbmd1bGFyLklQcm9taXNlPGFueT4ge1xyXG5cdFx0dmFyIGNhdGVnb3J5U3RyID0gYW5ndWxhci5pc0RlZmluZWQoY2F0ZWdvcnkpXHJcblx0XHRcdD8gKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfVW5jYXRlZ29yaXplZCcsICdVbmNhdGVnb3JpemVkJykudG9Mb3dlckNhc2UoKVxyXG5cdFx0XHRcdD8gJydcclxuXHRcdFx0XHQ6IGNhdGVnb3J5KVxyXG5cdFx0XHQ6ICcnO1xyXG5cdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19HZXRDYXRlZ29yeUVycm9yJywgJ0ZhaWxlZCB0byBnZXQgcmVwb3J0cyBmb3IgY2F0ZWdvcnknKTtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgncmVwb3J0bGlzdGRhdGFsaXRlJywgW2NhdGVnb3J5U3RyXSwgeyBkYXRhVHlwZTogJ2pzb24nIH0sIHtcclxuXHRcdFx0aGFuZGxlcjogbmFtZSA9PiBgJHtlcnJvclRleHR9OiAke25hbWV9YCxcclxuXHRcdFx0cGFyYW1zOiBbY2F0ZWdvcnldXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgcGFydHNcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0RnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZSAoeHh4QGFhYVxcYmJiKS5cclxuXHQgKi9cclxuXHRnZXRSZXBvcnRQYXJ0cyhyZXBvcnRGdWxsTmFtZTogc3RyaW5nKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUmVwb3J0UGFydHNFcnJvcicsICdGYWlsZWQgdG8gZ2V0IHJlcG9ydCBwYXJ0cyBmb3IgcmVwb3J0Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ3JlcG9ydGRhdGEnLCBbcmVwb3J0RnVsbE5hbWVdLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiBuYW1lID0+IGAke2Vycm9yVGV4dH06ICR7bmFtZX1gLFxyXG5cdFx0XHRwYXJhbXM6IFtyZXBvcnRGdWxsTmFtZV1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGRhdGEgd2hpY2ggbmVlZGVkIGZvciBzY2hlZHVsZVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRUaW1lem9uZU9mZnNldCBEZWZhdWx0IHRpbWV6b25lLlxyXG5cdCAqL1xyXG5cdGdldFNjaGVkdWxlRGF0YShjbGllbnRUaW1lem9uZU9mZnNldDogbnVtYmVyKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5xdWVyeSgnZ2V0Q3JzU2NoZWR1bGUnLCBbU3RyaW5nKGNsaWVudFRpbWV6b25lT2Zmc2V0KV0sIHsgZGF0YVR5cGU6ICdqc29uJyB9LCB7XHJcblx0XHRcdGhhbmRsZXI6ICgpID0+ICdGYWlsZWQgdG8gZ2V0IHNjaGVkdWxlIGRhdGEnLFxyXG5cdFx0XHRwYXJhbXM6IFtdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBkYXRhIHdoaWNoIG5lZWRlZCBmb3Igc2NoZWR1bGVcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZmF1bHRTaGFyZUNvbmZpZyBJZiB0cnVlIC0gc2hhcmUgY29uZmlnIHdpbGwgZ2V0IGZyb20gbmV3IGVtcHR5IHJlcG9ydHNldCwgZmFsc2UgLSBmcm9tIGN1cnJlbnQgcmVwb3J0IHNldC5cclxuXHQgKi9cclxuXHRnZXRTaGFyZURhdGEoZGVmYXVsdFNoYXJlQ29uZmlnPzogYm9vbGVhbik6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UucXVlcnkoJ2dldENyc1NoYXJlJywgW2RlZmF1bHRTaGFyZUNvbmZpZyA/ICd0cnVlJyA6ICdmYWxzZSddLCB7IGRhdGFUeXBlOiAnanNvbicgfSwge1xyXG5cdFx0XHRoYW5kbGVyOiAoKSA9PiAnRmFpbGVkIHRvIGdldCBzaGFyZSBkYXRhJyxcclxuXHRcdFx0cGFyYW1zOiBbXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnLCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9jb21tb24tcXVlcnktc2VydmljZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFQaW5nU2VydmljZSB7XHJcblxyXG5cdHByaXZhdGUgcmVhZG9ubHkgbWludXRlOiBudW1iZXI7XHJcblx0cHJpdmF0ZSByZWFkb25seSBkZWZhdWx0VGltZW91dDogbnVtYmVyO1xyXG5cdHByaXZhdGUgdGltZW91dDogbnVtYmVyO1xyXG5cdHByaXZhdGUgcGluZ1RpbWVyOiBhbnk7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckdGltZW91dCcsICckaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZTogSXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLm1pbnV0ZSA9IDYwICogMTAwMDtcclxuXHRcdHRoaXMuZGVmYXVsdFRpbWVvdXQgPSAxNSAqIHRoaXMubWludXRlOyAvLyBkZWZhdWx0IHRpbWVvdXQgLSAxNSBtaW51dGVzLlxyXG5cdFx0dGhpcy50aW1lb3V0ID0gLTE7XHJcblx0XHR0aGlzLnBpbmdUaW1lciA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIHBpbmcgcXVlcmllc1xyXG5cdCAqL1xyXG5cdHN0b3BQaW5nKCkge1xyXG5cdFx0aWYgKHRoaXMucGluZ1RpbWVyICE9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMuJHRpbWVvdXQuY2FuY2VsKHRoaXMucGluZ1RpbWVyKTtcclxuXHRcdFx0dGhpcy5waW5nVGltZXIgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWFrZSBwaW5nIGl0ZXJhdGlvbiBhbmQgY3JlYXRlIHRpbWVvdXQgZm9yIG5leHQgaXRlcmF0aW9uLlxyXG5cdCAqL1xyXG5cdHBpbmcoKSB7XHJcblx0XHQvLyBjYW5jZWwgcHJldmlvdXMgdGltZXI6XHJcblx0XHR0aGlzLnN0b3BQaW5nKCk7XHJcblxyXG5cdFx0Ly8gaGludDogc3RhcnQgaW1tZWRpYXRlbHkgaWYgdGltZW91dCB2YXJpYWJsZSB3YXNuJ3Qgc2V0LlxyXG5cdFx0dGhpcy5waW5nVGltZXIgPSB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLnBpbmcoKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdC8vIHNldCB0aW1lb3V0XHJcblx0XHRcdFx0dGhpcy50aW1lb3V0ID0gKGRhdGEgPiAwKVxyXG5cdFx0XHRcdFx0PyBNYXRoLnJvdW5kKGRhdGEgKiAwLjc1ICogdGhpcy5taW51dGUpXHJcblx0XHRcdFx0XHQ6IHRoaXMuZGVmYXVsdFRpbWVvdXQ7XHJcblx0XHRcdFx0dGhpcy5waW5nKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdFx0dGhpcy50aW1lb3V0ID49IDAgPyB0aGlzLnRpbWVvdXQgOiAwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IHBpbmcgcXVlcmllc1xyXG5cdCAqL1xyXG5cdHN0YXJ0UGluZygpIHtcclxuXHRcdHRoaXMucGluZygpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhUGluZ1NlcnZpY2UnLCBJemVuZGFQaW5nU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFQaW5nU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFQaW5nU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcGluZy1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRmdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRjYXRlZ29yeTogc3RyaW5nID0gbnVsbDtcclxuXHRuYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdGlzTmV3OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdHN0YXRpYyBmcm9tSnNvbihqc29uOiBhbnkpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdGNvbnN0IGxvY2F0aW9uID0gbmV3IEl6ZW5kYUxvY2F0aW9uTW9kZWwoKTtcclxuXHRcdGxvY2F0aW9uLmZ1bGxOYW1lID0ganNvbi5mdWxsTmFtZSB8fCBudWxsO1xyXG5cdFx0bG9jYXRpb24uY2F0ZWdvcnkgPSBqc29uLmNhdGVnb3J5IHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5uYW1lID0ganNvbi5uYW1lIHx8IG51bGw7XHJcblx0XHRsb2NhdGlvbi5pc05ldyA9ICEhanNvbi5pc05ldztcclxuXHRcdHJldHVybiBsb2NhdGlvbjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVVybFNlcnZpY2Uge1xyXG5cclxuXHRzZXR0aW5nczogYW55OyAvLyB1cmwgc2V0dGluZ3MuXHJcblx0cmVwb3J0TmFtZUluZm86IEl6ZW5kYUxvY2F0aW9uTW9kZWw7XHJcblx0bG9jYXRpb246IGFueTsgLy8gY3VycmVudCBsb2NhdGlvbiAocnguQmVoYXZpb3JTdWJqZWN0IG9iamVjdClcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJ3J4JyxcclxuXHRcdFx0JyR3aW5kb3cnLFxyXG5cdFx0XHQnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsXHJcblx0XHRcdCckaXplbmRhUGluZ1NlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVV0aWxTZXJ2aWNlJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcng6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhUGluZ1NlcnZpY2U6IEl6ZW5kYVBpbmdTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlKSB7XHJcblxyXG5cdFx0dGhpcy5zZXR0aW5ncyA9ICR3aW5kb3cudXJsU2V0dGluZ3MkO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lSW5mbyA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuXHRcdHRoaXMubG9jYXRpb24gPSBuZXcgdGhpcy5yeC5CZWhhdmlvclN1YmplY3QodGhpcy5yZXBvcnROYW1lSW5mbyk7XHJcblx0XHQvLyBzdWJzY3JpYmUgb24gbG9jYXRpb24gY2hhbmdlOlxyXG5cdFx0d2luZG93Lm9ucG9wc3RhdGUgPSBldmVudCA9PiB7XHJcblx0XHRcdGlmIChldmVudC5zdGF0ZSAmJiAoZXZlbnQuc3RhdGUucm4gfHwgZXZlbnQuc3RhdGUubmV3KSkge1xyXG5cdFx0XHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBzdGFydCBwaW5nXHJcblx0XHR0aGlzLiRpemVuZGFQaW5nU2VydmljZS5zdGFydFBpbmcoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCByZXBvcnQgbmFtZSBhbmQgY2F0ZWdvcnkgdG8gbG9jYXRpb25cclxuXHQgKiBAcGFyYW0ge0l6ZW5kYUxvY2F0aW9uTW9kZWx9IGxvY2F0aW9uSW5mbyBsb2NhdGlvbiBvYmplY3RcclxuXHQgKi9cclxuXHRzZXRMb2NhdGlvbihsb2NhdGlvbkluZm86IEl6ZW5kYUxvY2F0aW9uTW9kZWwpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc09iamVjdChsb2NhdGlvbkluZm8pKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1wibG9jYXRpb25JbmZvXCIgcGFyYW1ldGVyIHNob3VsZCBiZSBvYmplY3QnKTtcclxuXHJcblx0XHQvLyBpZiBpcyBuZXdcclxuXHRcdGlmIChsb2NhdGlvbkluZm8uaXNOZXcpIHtcclxuXHRcdFx0dGhpcy5zZXRVcmwoeyBpc05ldzogJzEnIH0sIHsgbmV3OiB0cnVlIH0pO1xyXG5cdFx0XHR0aGlzLmxvY2F0aW9uQ2hhbmdlZEhhbmRsZXIoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG5hdmlnYXRlIHRvIGV4aXN0aW5nIHJlcG9ydFxyXG5cdFx0dGhpcy5zZXRVcmwoeyBybjogbG9jYXRpb25JbmZvLmZ1bGxOYW1lLnJlcGxhY2VBbGwoJyAnLCAnKycpIH0sIHsgcm46IGxvY2F0aW9uSW5mby5mdWxsTmFtZSB9KTtcclxuXHRcdHRoaXMubG9jYXRpb25DaGFuZ2VkSGFuZGxlcigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hhbmdlIHVybCBpZiBwb3NzaWJsZSwgb3RoZXJ3aXNlIHJlbG9hZCB0aGUgcGFnZSB3aXRoIG5ldyB1cmwuXHJcblx0ICogQHBhcmFtIHthbnl9IHBhcmFtcyAtIHVybCBwYXJhbXMgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBhZGRpdGlvbmFsUGFyYW1zIC0gYWRkaXRpb25hbCBwYXJhbXMgZm9yIHB1c2hTdGF0ZS5cclxuXHQgKi9cclxuXHRzZXRVcmwocGFyYW1zOiBhbnksIGFkZGl0aW9uYWxQYXJhbXM6IGFueSkge1xyXG5cdFx0Y29uc3QgcHJldmlvdXNVcmxQYXJhbXMgPSB0aGlzLmdldFVybFBhcmFtcyh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblxyXG5cdFx0Y29uc3QgaXNSbk9sZEV4aXN0ID0gYW5ndWxhci5pc1N0cmluZyhwcmV2aW91c1VybFBhcmFtcy5ybik7XHJcblx0XHRjb25zdCBpc1JuTmV3RXhpc3QgPSBhbmd1bGFyLmlzU3RyaW5nKHBhcmFtcy5ybikgJiYgcGFyYW1zLnJuICE9PSAnJztcclxuXHJcblx0XHRjb25zdCBybk9sZCA9IGlzUm5PbGRFeGlzdCA/ICdybj0nICsgcHJldmlvdXNVcmxQYXJhbXMucm4ucmVwbGFjZUFsbCgnICcsICcrJykgOiAnJztcclxuXHRcdGNvbnN0IHJuTmV3ID0gaXNSbk5ld0V4aXN0ID8gJ3JuPScgKyBwYXJhbXMucm4ucmVwbGFjZUFsbCgnICcsICcrJykgOiAnJztcclxuXHJcblx0XHRjb25zdCBpc05ld09sZEV4aXN0ID0gYW5ndWxhci5pc1N0cmluZyhwcmV2aW91c1VybFBhcmFtcy5pc05ldyk7XHJcblx0XHRjb25zdCBpc05ld05ld0V4aXN0ID0gYW5ndWxhci5pc1N0cmluZyhwYXJhbXMuaXNOZXcpO1xyXG5cclxuXHRcdGlmIChpc1JuT2xkRXhpc3QgJiYgaXNSbk5ld0V4aXN0ICYmIHJuT2xkID09PSBybk5ldylcclxuXHRcdFx0Ly8gc2FtZSByblxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoaXNOZXdPbGRFeGlzdCAmJiBpc05ld05ld0V4aXN0KVxyXG5cdFx0XHQvLyBzYW1lIGlzTmV3XHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChpc1JuTmV3RXhpc3QgJiYgaXNOZXdOZXdFeGlzdClcclxuXHRcdFx0dGhyb3cgJ0luY29ycmVjdCBwYXJhbXM6IGJvdGggXCJyblwiIGFuZCBcImlzTmV3XCIgZGVmaW5lZC4nO1xyXG5cclxuXHRcdGNvbnN0IG5ld1BhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcblx0XHRsZXQgbmV3UGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaCA/IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggOiAnPyc7XHJcblxyXG5cdFx0aWYgKGlzTmV3TmV3RXhpc3QpIHtcclxuXHRcdFx0Ly8gZ28gdG8gbmV3IHJlcG9ydFxyXG5cdFx0XHQvLyByZW1vdmUgcm5cclxuXHRcdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwocm5PbGQsICcnKTtcclxuXHRcdFx0bmV3UGFyYW1zICs9IChuZXdQYXJhbXMuZW5kc1dpdGgoJz8nKSA/ICcnIDogJyYnKSArICdpc05ldz0xJztcclxuXHRcdH0gZWxzZSBpZiAoaXNSbk5ld0V4aXN0KSB7XHJcblx0XHRcdC8vIGdvIHRvIGV4aXN0aW5nIHJlcG9ydFxyXG5cdFx0XHQvLyByZW1vdmUgaXNOZXdcclxuXHRcdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwoJ2lzTmV3PTEnLCAnJyk7XHJcblx0XHRcdGlmIChpc1JuT2xkRXhpc3QpXHJcblx0XHRcdFx0bmV3UGFyYW1zID0gbmV3UGFyYW1zLnJlcGxhY2VBbGwocm5PbGQsIHJuTmV3KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG5ld1BhcmFtcyArPSAobmV3UGFyYW1zLmVuZHNXaXRoKCc/JykgPyAnJyA6ICcmJykgKyBybk5ldztcclxuXHRcdH1cclxuXHRcdG5ld1BhcmFtcyA9IG5ld1BhcmFtcy5yZXBsYWNlQWxsKCc/JicsICc/Jyk7XHJcblx0XHRuZXdQYXJhbXMgPSBuZXdQYXJhbXMucmVwbGFjZUFsbCgnJiYnLCAnJicpO1xyXG5cclxuXHRcdC8vIG5hdmlnYXRlIG5ldyB1cmxcclxuXHRcdGNvbnN0IG5ld1VybCA9IG5ld1BhdGggKyBuZXdQYXJhbXM7XHJcblx0XHRpZiAodGhpcy4kd2luZG93Lmhpc3RvcnkgJiYgdGhpcy4kd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XHJcblx0XHRcdHRoaXMuJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShhZGRpdGlvbmFsUGFyYW1zLCBkb2N1bWVudC50aXRsZSwgbmV3VXJsKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5ld1VybDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgcmVwb3J0IGZ1bGwgbmFtZSAoY2F0ZWdvcnkgZGVsaW1pdGVyOiAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkpXHJcblx0ICogQHJldHVybiB7SXplbmRhTG9jYXRpb25Nb2RlbH0gY3VycmVudCBsb2NhdGlvbiBtb2RlbC5cclxuXHQgKi9cclxuXHRnZXRMb2NhdGlvbigpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBuZXcgVXJsU2V0dGluZ3MoKTsgLy8gcmV0cmlldmUgY3VycmVudCB1cmwgc2V0dGluZ3NcclxuXHRcdGNvbnN0IHJlcG9ydEluZm8gPSB0aGlzLnNldHRpbmdzLnJlcG9ydEluZm87XHJcblxyXG5cdFx0Ly8gZXhpc3RpbmcgcmVwb3J0XHJcblx0XHRpZiAocmVwb3J0SW5mby5mdWxsTmFtZSlcclxuXHRcdFx0cmV0dXJuIEl6ZW5kYUxvY2F0aW9uTW9kZWwuZnJvbUpzb24ocmVwb3J0SW5mbyk7XHJcblxyXG5cdFx0Ly8gaXNOZXdcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBJemVuZGFMb2NhdGlvbk1vZGVsKCk7XHJcblx0XHRyZXN1bHQuaXNOZXcgPSByZXBvcnRJbmZvLmlzTmV3O1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgcmVwb3J0IG5hbWUgYW5kIGNhdGVnb3J5IHRvIGxvY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqL1xyXG5cdHNldFJlcG9ydEZ1bGxOYW1lKGZ1bGxOYW1lOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuc2V0TG9jYXRpb24oe1xyXG5cdFx0XHRmdWxsTmFtZTogZnVsbE5hbWUsXHJcblx0XHRcdG5hbWU6IHRoaXMuZXh0cmFjdFJlcG9ydE5hbWUoZnVsbE5hbWUpLFxyXG5cdFx0XHRjYXRlZ29yeTogdGhpcy5leHRyYWN0UmVwb3J0Q2F0ZWdvcnkoZnVsbE5hbWUpLFxyXG5cdFx0XHRpc05ldzogZmFsc2VcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdvIHRvIFwibmV3XCJcclxuXHQgKi9cclxuXHRzZXRJc05ldygpIHtcclxuXHRcdHRoaXMuc2V0TG9jYXRpb24oe1xyXG5cdFx0XHRmdWxsTmFtZTogbnVsbCxcclxuXHRcdFx0bmFtZTogbnVsbCxcclxuXHRcdFx0Y2F0ZWdvcnk6IG51bGwsXHJcblx0XHRcdGlzTmV3OiB0cnVlXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBIYW5kbGVyLCB3aGljaCByZWFjdHMgb24gcGFnZSBsb2FkIGFuZCAkbG9jYXRpb24gY2hhbmdlLlxyXG5cdCAqL1xyXG5cdGxvY2F0aW9uQ2hhbmdlZEhhbmRsZXIoKSB7XHJcblx0XHQvLyB1cGRhdGUgdXJsIHNldHRpbmdzIG9iamVjdCBiZWNhdXNlIHVybCBoYXMgY2hhbmdlZFxyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IG5ldyBVcmxTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIGNhbmNlbCBhbGwgY3VycmVudCBxdWVyaWVzXHJcblx0XHQvL2NvbnN0IGNvdW50Q2FuY2VsbGVkID0gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuY2FuY2VsQWxsUXVlcmllcygpO1xyXG5cdFx0Ly9pZiAoY291bnRDYW5jZWxsZWQgPiAwKVxyXG5cdFx0Ly9cdHRoaXMuJGxvZy5kZWJ1ZyhgPj4+IENhbmNlbGxlZCAke2NvdW50Q2FuY2VsbGVkfSBxdWVyaWVzYCk7XHJcblxyXG5cdFx0Ly8gc2V0IGN1cnJlbnQgcmVwb3J0IHNldCBpZiBsb2NhdGlvbiBoYXMgY2hhbmdlZFxyXG5cdFx0Y29uc3QgbmV3TG9jYXRpb25Nb2RlbCA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuXHRcdGlmIChuZXdMb2NhdGlvbk1vZGVsLmZ1bGxOYW1lICE9PSB0aGlzLnJlcG9ydE5hbWVJbmZvLmZ1bGxOYW1lIHx8IG5ld0xvY2F0aW9uTW9kZWwuaXNOZXcgIT09IHRoaXMucmVwb3J0TmFtZUluZm8uaXNOZXcpIHtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lSW5mbyA9IG5ld0xvY2F0aW9uTW9kZWw7XHJcblx0XHRcdHRoaXMubG9jYXRpb24ub25OZXh0KHRoaXMucmVwb3J0TmFtZUluZm8pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBmaWx0ZXIgcGFyYW1ldGVycyB1cmwgcGFydCB1c2luZyBjdXJyZW50IGZpbHRlclBhcmFtZXRlcnMgZnJvbSBVcmxTZXR0aW5ncyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7c3RyaW5nfSBVcmwgcGFyYW1ldGVycyBzdHJpbmc6ICcmcDE9djEmcDI9djIuLi4mcE49dk4nLlxyXG5cdCAqL1xyXG5cdGdldEZpbHRlclBhcmFtc1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlcXVlc3RTdHJpbmcgPSAnJztcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmZpbHRlclBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2V0dGluZ3MuZmlsdGVyUGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IHBhcmFtT2JqZWN0ID0gdGhpcy5zZXR0aW5ncy5maWx0ZXJQYXJhbWV0ZXJzW2ldO1xyXG5cdFx0XHRcdHJlcXVlc3RTdHJpbmcgKz0gYCYke3BhcmFtT2JqZWN0WzBdfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbU9iamVjdFsxXSl9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcXVlc3RTdHJpbmc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHRyYWN0IHJlcG9ydCBuYW1lIGZyb20gY2F0ZWdvcnlcXHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IHJlcG9ydCBuYW1lIHdpdGhvdXQgY2F0ZWdvcnkuXHJcblx0ICovXHJcblx0ZXh0cmFjdFJlcG9ydE5hbWUoZnVsbE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZnVsbE5hbWUpIHx8IGZ1bGxOYW1lID09PSAnJylcclxuXHRcdFx0dGhyb3cgYENhbid0IGV4dHJhY3QgcmVwb3J0IG5hbWUgZnJvbSBvYmplY3QgXCIke0pTT04uc3RyaW5naWZ5KGZ1bGxOYW1lKX1cIiB3aXRoIHR5cGUgJHt0eXBlb2YgKGZ1bGxOYW1lKX1gO1xyXG5cdFx0Y29uc3QgcGFydHMgPSBmdWxsTmFtZS5zcGxpdCh0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRyZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHRyYWN0IHJlcG9ydCBjYXRlZ29yeSBmcm9tIFwiY2F0ZWdvcnlcXHJlcG9ydCBmdWxsIG5hbWVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnVsbE5hbWUgUmVwb3J0IGZ1bGwgbmFtZS5cclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IHJlcG9ydCBjYXRlZ29yeS5cclxuXHQgKi9cclxuXHRleHRyYWN0UmVwb3J0Q2F0ZWdvcnkoZnVsbE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoZnVsbE5hbWUpIHx8IGZ1bGxOYW1lID09PSAnJylcclxuXHRcdFx0dGhyb3cgYENhbid0IGV4dHJhY3QgcmVwb3J0IGNhdGVnb3J5IGZyb20gb2JqZWN0IFwiJHtKU09OLnN0cmluZ2lmeShmdWxsTmFtZSl9XCIgd2l0aCB0eXBlICR7dHlwZW9mIChmdWxsTmFtZSl9YDtcclxuXHJcblx0XHRjb25zdCByZXBvcnRGdWxsTmFtZVBhcnRzID0gZnVsbE5hbWUuc3BsaXQodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkpO1xyXG5cdFx0bGV0IGNhdGVnb3J5OiBzdHJpbmc7XHJcblx0XHRpZiAocmVwb3J0RnVsbE5hbWVQYXJ0cy5sZW5ndGggPj0gMilcclxuXHRcdFx0Y2F0ZWdvcnkgPSByZXBvcnRGdWxsTmFtZVBhcnRzLnNsaWNlKDAsIHJlcG9ydEZ1bGxOYW1lUGFydHMubGVuZ3RoIC0gMSkuam9pbih0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGNhdGVnb3J5ID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuZ2V0VW5jYXRlZ29yaXplZCgpO1xyXG5cdFx0cmV0dXJuIGNhdGVnb3J5O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcmVwb3J0IG5hbWUsIGNhdGVnb3J5LCByZXBvcnQgc2V0IG5hbWUgZm9yIHJlcG9ydCBwYXJ0LlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsTmFtZSBSZXBvcnQgZnVsbCBuYW1lLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gcmVwb3J0IHBhcnRzIG9iamVjdC5cclxuXHQgKi9cclxuXHRleHRyYWN0UmVwb3J0UGFydE5hbWVzKGZ1bGxOYW1lOiBzdHJpbmcsIGlzUGFydE5hbWVBdFJpZ2h0OiBib29sZWFuKTogYW55IHtcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmdWxsTmFtZSkgfHwgZnVsbE5hbWUgPT09ICcnKVxyXG5cdFx0XHR0aHJvdyBgQ2FuJ3QgZXh0cmFjdCByZXBvcnQgcGFydCBuYW1lIGZyb20gb2JqZWN0IFwiJHtKU09OLnN0cmluZ2lmeShmdWxsTmFtZSl9XCIgd2l0aCB0eXBlICR7dHlwZW9mIChmdWxsTmFtZSl9YDtcclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSB7XHJcblx0XHRcdHJlcG9ydFBhcnROYW1lOiBudWxsLFxyXG5cdFx0XHRyZXBvcnRGdWxsTmFtZTogZnVsbE5hbWUsXHJcblx0XHRcdHJlcG9ydFNldE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydE5hbWU6IG51bGwsXHJcblx0XHRcdHJlcG9ydENhdGVnb3J5OiBudWxsLFxyXG5cdFx0XHRyZXBvcnROYW1lV2l0aENhdGVnb3J5OiBudWxsXHJcblx0XHR9O1xyXG5cdFx0Ly8gZXh0cmFjdCByZXBvcnQgcGFydCBuYW1lXHJcblx0XHRsZXQgcmVwb3J0U2V0TmFtZSA9IGZ1bGxOYW1lO1xyXG5cdFx0aWYgKGZ1bGxOYW1lLmluZGV4T2YoJ0AnKSA+PSAwKSB7XHJcblx0XHRcdGNvbnN0IHBhcnRzID0gZnVsbE5hbWUuc3BsaXQoJ0AnKTtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzVW5kZWZpbmVkKGlzUGFydE5hbWVBdFJpZ2h0KSAmJiBpc1BhcnROYW1lQXRSaWdodCkge1xyXG5cdFx0XHRcdFtyZXBvcnRTZXROYW1lLCByZXN1bHQucmVwb3J0UGFydE5hbWVdID0gcGFydHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0W3Jlc3VsdC5yZXBvcnRQYXJ0TmFtZSwgcmVwb3J0U2V0TmFtZV0gPSBwYXJ0cztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly8gY29sbGVjdCByZXN1bHRzIGludG8gb25lIG9iamVjdDpcclxuXHRcdHJlc3VsdC5yZXBvcnRTZXROYW1lID0gcmVwb3J0U2V0TmFtZTtcclxuXHRcdHJlc3VsdC5yZXBvcnROYW1lID0gdGhpcy5leHRyYWN0UmVwb3J0TmFtZShyZXBvcnRTZXROYW1lKTtcclxuXHRcdHJlc3VsdC5yZXBvcnRDYXRlZ29yeSA9IHRoaXMuZXh0cmFjdFJlcG9ydENhdGVnb3J5KHJlcG9ydFNldE5hbWUpO1xyXG5cdFx0cmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnkgPSByZXN1bHQucmVwb3J0TmFtZTtcclxuXHRcdGlmICh0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQocmVzdWx0LnJlcG9ydENhdGVnb3J5KSlcclxuXHRcdFx0cmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnkgPVxyXG5cdFx0XHRcdHJlc3VsdC5yZXBvcnRDYXRlZ29yeSArIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgcmVzdWx0LnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk7XHJcblx0XHRyZXN1bHQucmVwb3J0RnVsbE5hbWUgPSAocmVzdWx0LnJlcG9ydFBhcnROYW1lICE9IG51bGwgPyByZXN1bHQucmVwb3J0UGFydE5hbWUgKyAnQCcgOiAnJykgKyByZXN1bHQucmVwb3J0U2V0TmFtZTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY3VycmVudCByZXBvcnQgaW5mbyBvYmplY3QuXHJcblx0ICovXHJcblx0Z2V0UmVwb3J0SW5mbygpOiBJemVuZGFMb2NhdGlvbk1vZGVsIHtcclxuXHRcdHJldHVybiB0aGlzLnJlcG9ydE5hbWVJbmZvO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRVcmxQYXJhbXModXJsKSB7XHJcblx0XHRjb25zdCB1cmxPYmogPSAodHlwZW9mIChhbmd1bGFyLmVsZW1lbnRbJ3VybCddKSA9PT0gJ3VuZGVmaW5lZCcpID8gd2luZG93LnB1cmwodXJsKSA6IGFuZ3VsYXIuZWxlbWVudFsndXJsJ10odXJsKTtcclxuXHRcdHJldHVybiB1cmxPYmouZGF0YS5wYXJhbS5xdWVyeTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVVybFNlcnZpY2UnLCBJemVuZGFVcmxTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KEl6ZW5kYVVybFNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0IGl6ZW5kYVF1ZXJ5TW9kdWxlIGZyb20gJ2NvbW1vbi9xdWVyeS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFSc1F1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvcnMtcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVBpbmdTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9waW5nLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5cclxuLy8gcmVnaXN0ZXIgaHR0cCBwcm92aWRlclxyXG5pemVuZGFRdWVyeU1vZHVsZS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgJGh0dHBQcm92aWRlciA9PiB7XHJcblx0JGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZS5wdXNoKHJlc3BvbnNlRGF0YSA9PiB7XHJcblx0XHQvLyBjb252ZXJ0ICRodHRwIHJlc3BvbnNlLiBXZSBuZWVkIHRvIHRyYW5zbGF0ZSBhc3AubmV0IGRhdGVzIFxyXG5cdFx0Ly8gaW4gc3RyaW5nIGZvcm1hdCAnL0RhdGUodGlja3NOdW1iZXIpLycgdG8ganMgRGF0ZSBvYmplY3RzIChvbmx5IGZvciBqc29uIHJlc3BvbnNlIHR5cGUpOlxyXG5cdFx0dmFyIHJlZ2V4RGF0ZSA9IC9eXFwvRGF0ZVxcKChbLV17MCwxfVxcZCspXFwpXFwvJC87XHJcblx0XHR2YXIgY29udmVydERhdGVTdHJpbmdzVG9EYXRlcyA9IGlucHV0ID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGlucHV0KSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBpbnB1dCkge1xyXG5cdFx0XHRcdGlmICghaW5wdXQuaGFzT3duUHJvcGVydHkoa2V5KSkgY29udGludWU7XHJcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBpbnB1dFtrZXldO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaChyZWdleERhdGUpO1xyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheShtYXRjaCkgJiYgbWF0Y2gubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtaWxsaXNlY29uZHMgPSBwYXJzZUludChtYXRjaFttYXRjaC5sZW5ndGggLSAxXSk7XHJcblx0XHRcdFx0XHRcdGlmICghaXNOYU4obWlsbGlzZWNvbmRzKSkge1xyXG5cdFx0XHRcdFx0XHRcdGlucHV0W2tleV0gPSBuZXcgRGF0ZShtaWxsaXNlY29uZHMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0Y29udmVydERhdGVTdHJpbmdzVG9EYXRlcyh2YWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y29udmVydERhdGVTdHJpbmdzVG9EYXRlcyhyZXNwb25zZURhdGEpO1xyXG5cdFx0cmV0dXJuIHJlc3BvbnNlRGF0YTtcclxuXHR9KTtcclxufV0pO1xyXG5cclxuLy8gcmVnaXN0ZXIgc2VydmljZXNcclxuSXplbmRhUnNRdWVyeVNlcnZpY2UucmVnaXN0ZXIoaXplbmRhUXVlcnlNb2R1bGUpO1xyXG5JemVuZGFRdWVyeVNldHRpbmdzU2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbkl6ZW5kYVBpbmdTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYVF1ZXJ5TW9kdWxlKTtcclxuSXplbmRhVXJsU2VydmljZS5yZWdpc3RlcihpemVuZGFRdWVyeU1vZHVsZSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgJ2NvbW1vbi9jb3JlL21vZHVsZSc7XHJcbmltcG9ydCAnY29tbW9uL3F1ZXJ5L21vZHVsZSc7XHJcblxyXG5jb25zdCBpemVuZGFVaU1vZHVsZSA9IGFuZ3VsYXJcclxuXHQubW9kdWxlKCdpemVuZGEuY29tbW9uLnVpJywgWydyeCcsICdpemVuZGEuY29tbW9uLmNvcmUnLCAnaXplbmRhLmNvbW1vbi5xdWVyeSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQnLCBbJ2pzX05hbWUnLCAnTmFtZSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lRW1wdHlFcnJvcicsIFsnanNfTmFtZUNhbnRCZUVtcHR5JywgJ1JlcG9ydCBuYW1lIGNhblxcJ3QgYmUgZW1wdHkuJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnZhbGlkRXJyb3InLCBbJ2pzX0ludmFsaWRSZXBvcnROYW1lJywgJ0ludmFsaWQgcmVwb3J0IG5hbWUnXSk7XHJcbmV4cG9ydCBkZWZhdWx0IGl6ZW5kYVVpTW9kdWxlO1xyXG5cclxuIiwiLyoqXHJcbiAqIEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCBjbGFzcyBpcyB1c2VkIHRvIHByb3ZpZGUgdW5pZm9ybSBhbmd1bGFyIGJpbmRpbmdzIHN0eWxlIGZvciA8c2VsZWN0Pi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFTZWxlY3RJdGVtTW9kZWwge1xyXG5cdHRleHQ6IHN0cmluZztcclxuXHR2YWx1ZTogc3RyaW5nO1xyXG5cdGdyb3VwOiBzdHJpbmc7XHJcblx0c2VsZWN0ZWQ6IGJvb2xlYW47XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHJcblx0Y29uc3RydWN0b3IodGV4dDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBncm91cD86IHN0cmluZywgc2VsZWN0ZWQ/OiBib29sZWFuLCBlbmFibGVkPzogYm9vbGVhbikge1xyXG5cdFx0aWYgKHR5cGVvZiAodmFsdWUpID09PSAndW5kZWZpbmVkJylcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBzaG91bGQgYmUgZGVmaW5lZCcpO1xyXG5cdFx0dGhpcy50ZXh0ID0gdGV4dDtcclxuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHRcdHRoaXMuZ3JvdXAgPSBncm91cCA/IGdyb3VwIDogdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkID8gc2VsZWN0ZWQgOiBmYWxzZTtcclxuXHRcdHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgPyBlbmFibGVkIDogdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGdldCBkaXNhYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAhdGhpcy5lbmFibGVkO1xyXG5cdH1cclxuXHJcblx0aXNFcXVhbCh0ZXN0VmFsdWU6IHN0cmluZywgaXNMb3dlckNhc2VDb21wYXJpc29uPzogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKHRlc3RWYWx1ZSA9PT0gbnVsbCAmJiB0aGlzLnZhbHVlID09PSBudWxsKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGlmICh0ZXN0VmFsdWUgPT09IG51bGwgfHwgdGhpcy52YWx1ZSA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0cmV0dXJuIGlzTG93ZXJDYXNlQ29tcGFyaXNvblxyXG5cdFx0XHQ/IHRlc3RWYWx1ZS50b0xvd2VyQ2FzZSgpID09PSB0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKClcclxuXHRcdFx0OiB0ZXN0VmFsdWUgPT09IHRoaXMudmFsdWU7XHJcblx0fVxyXG5cclxuXHRpc0VxdWFsV2l0aEl0ZW0oaXRlbTogSXplbmRhU2VsZWN0SXRlbU1vZGVsLCBpc0xvd2VyQ2FzZUNvbXBhcmlzb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWl0ZW0pXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiB0aGlzLmlzRXF1YWwoaXRlbS52YWx1ZSwgaXNMb3dlckNhc2VDb21wYXJpc29uKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCB7IElJemVuZGFSYXdNb2RlbCBhcyBJUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuXHJcbi8qKlxyXG4gKiBNb2RlbCBmb3IgdGhlIGxpc3Qgb2Ygc2hhcmUgcnVsZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2hhcmVNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNoYXJlIHJ1bGVzIG1vZGVsIGNvbGxlY3Rpb25cclxuXHQgKi9cclxuXHRzaGFyZVJ1bGVzOiBJemVuZGFTaGFyZVJ1bGVNb2RlbFtdO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuc2hhcmVSdWxlcyA9IG5ldyBBcnJheTxJemVuZGFTaGFyZVJ1bGVNb2RlbD4oKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2VyaWFsaXplIHNoYXJlIHJ1bGVzLiBUaGlzIG1ldGhvZCBzZXRzIHRoaXMuc2hhcmVSdWxlcyBmaWVsZC5cclxuXHQgKiBAcGFyYW0ge2FueVtdfSBqc29uIFNlcmlhbGl6ZWQgc2hhcmUgcnVsZXMgYXJyYXkuXHJcblx0ICogQHBhcmFtIHtDb3JlLkl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdfSBhdmFpbGFibGVSaWdodHMgUmlnaHQgbW9kZWwgY29sbGVjdGlvbi5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IGF2YWlsYWJsZVN1YmplY3RzIFN1YmplY3QgbW9kZWwgY29sbGVjdGlvbi5cclxuXHQgKi9cclxuXHRmcm9tSnNvbihqc29uOiBhbnksXHJcblx0XHRhdmFpbGFibGVSaWdodHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLFxyXG5cdFx0YXZhaWxhYmxlU3ViamVjdHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdKSB7XHJcblx0XHRpZiAoIWpzb24pIHtcclxuXHRcdFx0dGhpcy5zaGFyZVJ1bGVzID0gW107XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuc2hhcmVSdWxlcyA9IGpzb24ubWFwKHJ1bGVKc29uID0+IHtcclxuXHRcdFx0Y29uc3Qgc2hhcmVSdWxlID0gbmV3IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKCk7XHJcblx0XHRcdHNoYXJlUnVsZS5mcm9tSnNvbihydWxlSnNvbiwgYXZhaWxhYmxlUmlnaHRzLCBhdmFpbGFibGVTdWJqZWN0cyk7XHJcblx0XHRcdHJldHVybiBzaGFyZVJ1bGU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlcmlhbGl6ZSBjdXJyZW50IHNoYXJlIHJ1bGVzIHRvIGpzb24gb2JqZWN0LlxyXG5cdCAqIEByZXR1cm4ge2FueVtdfSBhcnJheSBvZiBzZXJpYWxpemVkIHNoYXJlIHJ1bGVzLlxyXG5cdCAqL1xyXG5cdHRvSnNvbigpOiBhbnlbXSB7XHJcblx0XHRjb25zdCBqc29uID0gdGhpcy5zaGFyZVJ1bGVzXHJcblx0XHRcdC5maWx0ZXIoc2hhcmVSdWxlID0+IHNoYXJlUnVsZS5zdWJqZWN0ICYmIHNoYXJlUnVsZS5yaWdodClcclxuXHRcdFx0Lm1hcChzaGFyZVJ1bGUgPT4gc2hhcmVSdWxlLnRvSnNvbigpKTtcclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE1vZGVsIGZvciBzdWJqZWN0LXJpZ2h0IHBhaXIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhU2hhcmVSdWxlTW9kZWwgaW1wbGVtZW50cyBJUmF3TW9kZWwge1xyXG5cclxuXHRhdmFpbGFibGVTdWJqZWN0cyA9IG5ldyBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+KCk7XHJcblx0cmlnaHQ6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCA9IG51bGw7XHJcblx0c3ViamVjdDogSXplbmRhU2VsZWN0SXRlbU1vZGVsID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3Ioc3ViamVjdHM/OiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cdFx0aWYgKHN1YmplY3RzKVxyXG5cdFx0XHR0aGlzLnNldEF2YWlsYWJsZVN1YmplY3RzKHN1YmplY3RzLCBudWxsKTtcclxuXHR9XHJcblxyXG5cdHNldEF2YWlsYWJsZVN1YmplY3RzKHN1YmplY3RzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSwgc3ViamVjdFZhbHVlPzogc3RyaW5nKSB7XHJcblxyXG5cdFx0Y29uc3Qgc3VialZhbHVlID0gc3ViamVjdFZhbHVlXHJcblx0XHRcdD8gc3ViamVjdFZhbHVlXHJcblx0XHRcdDogdGhpcy5zdWJqZWN0XHJcblx0XHRcdFx0PyB0aGlzLnN1YmplY3QudmFsdWVcclxuXHRcdFx0XHQ6IG51bGw7XHJcblxyXG5cdFx0Ly8gdXBkYXRlIGF2YWlsYWJsZSBzdWJqZWN0cyBjb2xsZWN0aW9uXHJcblx0XHR0aGlzLmF2YWlsYWJsZVN1YmplY3RzID0gc3ViamVjdHMgJiYgc3ViamVjdHMubGVuZ3RoID8gWy4uLnN1YmplY3RzXSA6IFtdO1xyXG5cclxuXHRcdC8vIHVwZGF0ZSBzdWJqZWN0XHJcblx0XHR0aGlzLnN1YmplY3QgPSBudWxsO1xyXG5cdFx0aWYgKHN1YmpWYWx1ZSAhPT0gbnVsbClcclxuXHRcdFx0dGhpcy5zdWJqZWN0ID0gdGhpcy5hdmFpbGFibGVTdWJqZWN0cy5maW5kKHMgPT4gcy52YWx1ZSA9PT0gc3VialZhbHVlKSB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0ZnJvbUpzb24oanNvbjogYW55LCByaWdodHM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLCBzdWJqZWN0czogSXplbmRhU2VsZWN0SXRlbU1vZGVsW10pIHtcclxuXHJcblx0XHQvLyBzZXQgcmlnaHRcclxuXHRcdHRoaXMucmlnaHQgPSBudWxsO1xyXG5cdFx0aWYgKHJpZ2h0cyAmJiByaWdodHMubGVuZ3RoKVxyXG5cdFx0XHR0aGlzLnJpZ2h0ID0gcmlnaHRzLmZpbmQociA9PiBqc29uICYmIHIudmFsdWUgPT09IGpzb24ucmlnaHQpIHx8IG51bGw7XHJcblxyXG5cdFx0Ly8gc2V0IGF2YWlsYWJsZSBzdWJqZWN0XHJcblx0XHR0aGlzLnNldEF2YWlsYWJsZVN1YmplY3RzKHN1YmplY3RzLCBqc29uID8ganNvbi5zdWJqZWN0IDogbnVsbCk7XHJcblx0fVxyXG5cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHJcblx0XHRpZiAoIXRoaXMucmlnaHQgJiYgIXRoaXMuc3ViamVjdClcclxuXHRcdFx0Ly8geW91IGNhbiBmYWNlIHdpdGggdGhpcyBzaXR1YXRpb24gb25seSBpZiB5b3UgY2FsbCB0b0pzb24gZGlyZWN0bHkgZm9yIHRoaXMgY2xhc3MsIFxyXG5cdFx0XHQvL2JlY2F1c2Ugd2hlbiB5b3Ugc2VyaWFsaXplIGNvbGxlY3Rpb24sIHRoZXJlIGlzIGFkZGl0aW9uYWwgY2hlY2sgZm9yIGVtcHR5IHN1YmplY3QgYW5kIHJpZ2h0LlxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0XHRjb25zdCBqc29uID0ge1xyXG5cdFx0XHRyaWdodDogdGhpcy5yaWdodC52YWx1ZSxcclxuXHRcdFx0c3ViamVjdDogdGhpcy5zdWJqZWN0LnZhbHVlXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBqc29uO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2hhcmVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zaGFyZS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNoYXJlUnVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IEl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvY29tbW9uLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIFNlcnZpY2UgdXNlZCBmb3Igc3RvcmUgZGF0YSBpbiBzaGFyZSBjb250cm9sXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJemVuZGFTaGFyZVNlcnZpY2Uge1xyXG5cclxuXHRyaWdodHM6IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD47XHJcblx0c3ViamVjdHM6IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD47XHJcblx0c2hhcmVNb2RlbDogSXplbmRhU2hhcmVNb2RlbDtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBuZXcgZW1wdHkgc2hhcmUgcnVsZS5cclxuXHQgKi9cclxuXHRhZGROZXdTaGFyZVJ1bGUoKSB7XHJcblx0XHRjb25zdCBzaGFyZVJ1bGVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZVJ1bGVNb2RlbCh0aGlzLnN1YmplY3RzKTtcclxuXHRcdHRoaXMuc2hhcmVNb2RlbC5zaGFyZVJ1bGVzLnB1c2goc2hhcmVSdWxlTW9kZWwpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlIHNoYXJlIHJ1bGVcclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2hhcmVSdWxlTW9kZWx9IHNoYXJlUnVsZSBTaGFyZSBydWxlIGZvciByZW1vdmFsLlxyXG5cdCAqL1xyXG5cdHJlbW92ZVNoYXJlUnVsZShzaGFyZVJ1bGU6IEl6ZW5kYVNoYXJlUnVsZU1vZGVsKSB7XHJcblx0XHRpZiAoIXNoYXJlUnVsZSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgaWR4ID0gdGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMuaW5kZXhPZihzaGFyZVJ1bGUpO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGVsLnNoYXJlUnVsZXMuc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgY3VycmVudCBzY2hldWxlIGNvbmZpZyBqc29uIGZvciBzZW5kIHRvIHNlcnZlci5cclxuXHQgKiBAcmV0dXJuIHthbnl9IFJhdyBtb2RlbCBmb3Igc2VuZGluZyB0byBzZXJ2ZXIuXHJcblx0ICovXHJcblx0Z2V0U2hhcmVDb25maWdGb3JTZW5kKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zaGFyZU1vZGVsLnRvSnNvbigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGN1cnJlbnQgc2hhcmUgY29uZmlnLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFNoYXJlIG1vZGVsIHJhdyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHNldFNoYXJlQ29uZmlnKGpzb246IGFueSk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHZhciBpc0RlZmF1bHRDb25maWcgPSAhanNvbjtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cdFx0XHR0aGlzLmZpbGxTaGFyZUNvbmZpZ0Zyb21Kc29uKGpzb24sIGlzRGVmYXVsdENvbmZpZykudGhlbigoKSA9PiByZXNvbHZlKCkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgc2hhcmUgc2VydmljZSBzdGF0ZSBmcm9tIHRoZSBjb25maWcgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFNoYXJlIG1vZGVsIHJhdyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgZmlsbFNoYXJlQ29uZmlnRnJvbUpzb24oanNvbjogYW55LCBpc0RlZmF1bHRDb25maWc6IGJvb2xlYW4pOiBuZy5JUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcShyZXNvbHZlID0+IHtcclxuXHRcdFx0dGhpcy5sb2FkU2hhcmVEYXRhKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGlzRGVmYXVsdENvbmZpZykge1xyXG5cdFx0XHRcdFx0anNvbiA9IFt7XHJcblx0XHRcdFx0XHRcdHN1YmplY3Q6ICdFdmVyeW9uZScsXHJcblx0XHRcdFx0XHRcdHJpZ2h0OiAnTm9uZSdcclxuXHRcdFx0XHRcdH1dO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnNoYXJlTW9kZWwgPSBuZXcgSXplbmRhU2hhcmVNb2RlbCgpO1xyXG5cdFx0XHRcdHRoaXMuc2hhcmVNb2RlbC5mcm9tSnNvbihqc29uLCB0aGlzLnJpZ2h0cywgdGhpcy5zdWJqZWN0cyk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgc2hhcmUgZGF0YSBhbmQgYXZhaWxhYmxlIHZhbHVlcyBmcm9tIHNlcnZlci5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkU2hhcmVEYXRhKCk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKHJlc29sdmUgPT4ge1xyXG5cclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFNoYXJlRGF0YSgpLnRoZW4oanNvbiA9PiB7XHJcblx0XHRcdFx0Ly8gZmlsbCBhdmFpbGFibGUgcmlnaHRzIGNvbGxlY3Rpb25cclxuXHRcdFx0XHR0aGlzLnJpZ2h0cyA9IGpzb24uUmlnaHRzLm1hcChyaWdodEpzb24gPT4gbmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbChyaWdodEpzb24uVGV4dCwgcmlnaHRKc29uLlZhbHVlKSk7XHJcblxyXG5cdFx0XHRcdC8vIGZpbGwgYXZhaWxhYmxlIHN1YmplY3RzIGNvbGxlY3Rpb25cclxuXHRcdFx0XHR0aGlzLnN1YmplY3RzID0ganNvbi5TaGFyZVdpdGgubWFwKHN1YmplY3RKc29uID0+IG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwoc3ViamVjdEpzb24uVGV4dCwgc3ViamVjdEpzb24uVmFsdWUpKTtcclxuXHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGRlZmF1bHQgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgcmVzZXQoKTogdm9pZCB7XHJcblx0XHR0aGlzLnJpZ2h0cyA9IG5ldyBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+KCk7XHJcblx0XHR0aGlzLnN1YmplY3RzID0gbmV3IEFycmF5PEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbD4oKTtcclxuXHRcdHRoaXMuc2hhcmVNb2RlbCA9IG5ldyBJemVuZGFTaGFyZU1vZGVsKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBbmd1bGFyIGRlcGVuZGVuY2llc1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmluamVjdE1vZHVsZXM7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVnaXN0ZXIobW9kdWxlOiBuZy5JTW9kdWxlKSB7XHJcblx0XHRtb2R1bGUuc2VydmljZSgnJGl6ZW5kYVNoYXJlU2VydmljZScsIEl6ZW5kYVNoYXJlU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChJemVuZGFTaGFyZVNlcnZpY2UpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCB7IElJemVuZGFSYXdNb2RlbCBhcyBJUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2VsZWN0SXRlbU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NlbGVjdC1pdGVtLW1vZGVsJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSXplbmRhU2NoZWR1bGVNb2RlbCBpbXBsZW1lbnRzIElSYXdNb2RlbCB7XHJcblx0ZGF0ZTogRGF0ZTtcclxuXHRyZWNpcGllbnRzOiBzdHJpbmc7XHJcblxyXG5cdGVtYWlsOiBJemVuZGFTZWxlY3RJdGVtTW9kZWw7XHJcblx0cmVwZWF0OiBJemVuZGFTZWxlY3RJdGVtTW9kZWw7XHJcblx0dGltZXpvbmU6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0dGhpcy5lbWFpbCA9IG51bGw7XHJcblx0XHR0aGlzLnJlY2lwaWVudHMgPSAnJztcclxuXHRcdHRoaXMucmVwZWF0ID0gbnVsbDtcclxuXHRcdHRoaXMudGltZXpvbmUgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmlsbCB0aGlzIG9iamVjdCBmcm9tIHNlcnZlci1zaWRlIGR0byBvYmplY3QuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gZHRvIG9iamVjdC5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IGVtYWlsVHlwZXMgRW1haWwgdHlwZSBtb2RlbHMgY29sbGVjdGlvbi5cclxuXHQgKiBAcGFyYW0ge0NvcmUuSXplbmRhU2VsZWN0SXRlbU1vZGVsW119IHJlcGVhdFR5cGVzIFJlcGVhdCB0eXBlIG1vZGVscyBjb2xsZWN0aW9uLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTZWxlY3RJdGVtTW9kZWxbXX0gdGltZXpvbmVzIFRpbWV6b25lIG1vZGVscyBjb2xsZWN0aW9uLlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSxcclxuXHRcdGVtYWlsVHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLFxyXG5cdFx0cmVwZWF0VHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdLFxyXG5cdFx0dGltZXpvbmVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXSkge1xyXG5cclxuXHRcdC8vIHBhcnNlIGFuZCBzZXQgZGF0ZVxyXG5cdFx0aWYgKGpzb24gJiYganNvbi5kYXRlU3RyaW5nKSB7XHJcblx0XHRcdGxldCBkYXRlU3RyaW5nID0ganNvbi5kYXRlU3RyaW5nLnRyaW0oKTtcclxuXHRcdFx0bGV0IG1vbWVudERhdGU6IGFueTtcclxuXHRcdFx0aWYgKGpzb24udGltZVN0cmluZykge1xyXG5cdFx0XHRcdGRhdGVTdHJpbmcgKz0gYCAke2pzb24udGltZVN0cmluZy50cmltKCl9YDtcclxuXHRcdFx0XHRtb21lbnREYXRlID0gbW9tZW50KGRhdGVTdHJpbmcsICdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bW9tZW50RGF0ZSA9IG1vbWVudChkYXRlU3RyaW5nLCAnWVlZWS1NTS1ERCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuZGF0ZSA9IG1vbWVudERhdGUuaXNWYWxpZCgpID8gbW9tZW50RGF0ZS5fZCA6IG5ldyBEYXRlKCk7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0dGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHRcdGlmICghdGhpcy5kYXRlIHx8IHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDE5MDApXHJcblx0XHRcdHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gdGltZXpvbmVcclxuXHRcdHRoaXMudGltZXpvbmUgPSB0aW1lem9uZXMubGVuZ3RoID8gKHRpbWV6b25lcy5maW5kKHR6ID0+IHR6LnNlbGVjdGVkKSB8fCB0aW1lem9uZXNbMF0pIDogbnVsbDtcclxuXHRcdGlmIChqc29uICYmIGpzb24udGltZXpvbmVJZClcclxuXHRcdFx0dGhpcy50aW1lem9uZSA9IHRpbWV6b25lcy5maW5kKHR6ID0+IHR6LnZhbHVlID09PSBqc29uLnRpbWV6b25lSWQpIHx8IHRoaXMudGltZXpvbmU7XHJcblxyXG5cdFx0Ly8gZW1haWwgdHlwZVxyXG5cdFx0dGhpcy5lbWFpbCA9IGVtYWlsVHlwZXMubGVuZ3RoID8gKGVtYWlsVHlwZXMuZmluZChlID0+IGUuc2VsZWN0ZWQpIHx8IGVtYWlsVHlwZXNbMF0pIDogbnVsbDtcclxuXHJcblx0XHQvLyByZXBlYXQgdHlwZVxyXG5cdFx0dGhpcy5yZXBlYXQgPSByZXBlYXRUeXBlcy5sZW5ndGggPyAocmVwZWF0VHlwZXMuZmluZChyID0+IHIuc2VsZWN0ZWQpIHx8IHJlcGVhdFR5cGVzWzBdKSA6IG51bGw7XHJcblxyXG5cdFx0Ly8gcmVjaXBpZW50c1xyXG5cdFx0dGhpcy5yZWNpcGllbnRzID0ganNvbiAmJiBqc29uLnJlY2lwaWVudHMgPyBqc29uLnJlY2lwaWVudHMgOiAnJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBzZXJ2ZXItc2lkZSBkdG8gb2JqZWN0IGZvciB0aGlzIHNjaGVkdWxlIG1vZGVsIG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHthbnl9IE5ldyBqc29uIG9iamVjdC5cclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHRcdGxldCBkYXRlU3RyaW5nOiBzdHJpbmcgPSBudWxsO1xyXG5cdFx0bGV0IHRpbWVTdHJpbmc6IHN0cmluZyA9IG51bGw7XHJcblx0XHRpZiAodGhpcy5kYXRlKSB7XHJcblx0XHRcdGRhdGVTdHJpbmcgPSBtb21lbnQodGhpcy5kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuXHRcdFx0dGltZVN0cmluZyA9IG1vbWVudCh0aGlzLmRhdGUpLmZvcm1hdCgnSEg6bW06c3MnKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGpzb24gPSB7XHJcblx0XHRcdGRhdGVTdHJpbmc6IGRhdGVTdHJpbmcsXHJcblx0XHRcdHRpbWVTdHJpbmc6IHRpbWVTdHJpbmcsXHJcblx0XHRcdHJlY2lwaWVudHM6IHRoaXMucmVjaXBpZW50cyxcclxuXHRcdFx0ZW1haWw6IHRoaXMuZW1haWwgPyB0aGlzLmVtYWlsLnZhbHVlIDogbnVsbCxcclxuXHRcdFx0cmVwZWF0OiB0aGlzLnJlcGVhdCA/IHRoaXMucmVwZWF0LnZhbHVlIDogbnVsbCxcclxuXHRcdFx0dGltZXpvbmVJZDogdGhpcy50aW1lem9uZSA/IHRoaXMudGltZXpvbmUudmFsdWUgOiBudWxsXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGpzb247XHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IHsgSXplbmRhU2NoZWR1bGVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zY2hlZHVsZS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNjaGVkdWxlU2VydmljZSB7XHJcblxyXG5cdHNjaGVkdWxlQ29uZmlnOiBJemVuZGFTY2hlZHVsZU1vZGVsO1xyXG5cdHRpbWV6b25lczogSXplbmRhU2VsZWN0SXRlbU1vZGVsW107XHJcblx0c2VuZEVtYWlsVHlwZXM6IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbFtdO1xyXG5cdHJlcGVhdFR5cGVzOiBJemVuZGFTZWxlY3RJdGVtTW9kZWxbXTtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBjdXJyZW50IHNjaGV1bGUgY29uZmlnIGpzb24gZm9yIHNlbmQgdG8gc2VydmVyLlxyXG5cdCAqIEByZXR1cm4ge2FueX0gUmF3IG1vZGVsIGZvciBzZW5kaW5nIHRvIHNlcnZlci5cclxuXHQgKi9cclxuXHRnZXRTY2hlZHVsZUNvbmZpZ0ZvclNlbmQoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLnNjaGVkdWxlQ29uZmlnLnRvSnNvbigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGN1cnJlbnQgc2NoZWR1bGUgY29uZmlnLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIHNjaGVkdWxlIHJhdyBtb2RlbC5cclxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFByb21pc2Ugd2l0aG91dCBwYXJhbWV0ZXIgYW5kIGVycm9yIGZhbGxiYWNrLiAvLyB0b2RvOiB0aGluayBhYm91dCBlcnJvciBoYW5kbGluZyA/XHJcblx0ICovXHJcblx0c2V0U2NoZWR1bGVDb25maWcoanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuZmlsbFNjaGVkdWxlQ29uZmlnRnJvbUpzb24oanNvbikudGhlbigoKSA9PiByZXNvbHZlKCkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgc2NoZWR1bGUgc2VydmljZSBzdGF0ZSBmcm9tIHRoZSBjb25maWcgb2JqZWN0LlxyXG5cdCAqIFNjaGVkdWxlIHRpbWV6b25lcywgcmVwZWF0IHR5cGVzIGFuZCBvdGhlcnMgYXJlIHN1cHBvc2VkIHRvIGJlIGxvYWRlZC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBzY2hlZHVsZSByYXcgbW9kZWwuXHJcblx0ICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBQcm9taXNlIHdpdGhvdXQgcGFyYW1ldGVyIGFuZCBlcnJvciBmYWxsYmFjay4gLy8gdG9kbzogdGhpbmsgYWJvdXQgZXJyb3IgaGFuZGxpbmcgP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgZmlsbFNjaGVkdWxlQ29uZmlnRnJvbUpzb24oanNvbjogYW55KTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdC8vIExvYWQgc2NoZWR1bGUgY29sbGVjdGlvbnMuXHJcblx0XHRcdHRoaXMubG9hZFNjaGVkdWxlRGF0YSgpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdC8vIEZpbGwgc2NoZWR1bGUgY29uZmlnIGZyb20ganNvbiBhZnRlciBsb2FkaW5nIGNvbGxlY3Rpb25zLlxyXG5cdFx0XHRcdHRoaXMuc2NoZWR1bGVDb25maWcuZnJvbUpzb24oanNvbiwgdGhpcy5zZW5kRW1haWxUeXBlcywgdGhpcy5yZXBlYXRUeXBlcywgdGhpcy50aW1lem9uZXMpO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgc2NoZWR1bGUgZGF0YSBhbmQgYXZhaWxhYmxlIHZhbHVlcyBmcm9tIHNlcnZlclxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSB3aXRob3V0IHBhcmFtZXRlciBhbmQgZXJyb3IgZmFsbGJhY2suIC8vIHRvZG86IHRoaW5rIGFib3V0IGVycm9yIGhhbmRsaW5nID9cclxuXHQgKi9cclxuXHRwcml2YXRlIGxvYWRTY2hlZHVsZURhdGEoKTogbmcuSVByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblxyXG5cdFx0XHQvLyBjYWxjdWxhdGUgY3VycmVudCB0aW1lem9uZSBzdGQgb2Zmc2V0OlxyXG5cdFx0XHRjb25zdCByaWdodE5vdyA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdGNvbnN0IGphbjEgPSBuZXcgRGF0ZShyaWdodE5vdy5nZXRGdWxsWWVhcigpLCAwLCAxLCAwLCAwLCAwLCAwKTtcclxuXHRcdFx0Y29uc3QgdGVtcCA9IGphbjEudG9HTVRTdHJpbmcoKTtcclxuXHRcdFx0Y29uc3QgamFuMiA9IG5ldyBEYXRlKHRlbXAuc3Vic3RyaW5nKDAsIHRlbXAubGFzdEluZGV4T2YoJyAnKSkpO1xyXG5cdFx0XHRjb25zdCBzdGRUaW1lT2Zmc2V0ID0gKGphbjEuZ2V0VGltZSgpIC0gamFuMi5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCk7XHJcblxyXG5cdFx0XHQvLyBsb2FkIHNjaGVkdWxlIGRpY3Rpb25hcmllczpcclxuXHRcdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFNjaGVkdWxlRGF0YShzdGRUaW1lT2Zmc2V0KS50aGVuKGpzb24gPT4ge1xyXG5cclxuXHRcdFx0XHR0aGlzLnRpbWV6b25lcyA9IGpzb24uVGltZVpvbmVzLm1hcCh0eiA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCB0elRleHQgPSB0ei5UZXh0ID8gdHouVGV4dC5yZXBsYWNlQWxsKCcmbmJzcDsnLCAnICcpIDogJyc7XHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCh0elRleHQsIHR6LlZhbHVlLCB1bmRlZmluZWQsIHR6LlNlbGVjdGVkLCB0ei5FbmFibGVkKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dGhpcy5zZW5kRW1haWxUeXBlcyA9IGpzb24uU2VuZEVtYWlsTGlzdC5tYXAoZW1sID0+XHJcblx0XHRcdFx0XHRuZXcgSXplbmRhU2VsZWN0SXRlbU1vZGVsKGVtbC5UZXh0LCBlbWwuVmFsdWUsIHVuZGVmaW5lZCwgZW1sLlNlbGVjdGVkLCBlbWwuRW5hYmxlZCkpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnJlcGVhdFR5cGVzID0ganNvbi5SZXBlYXRUeXBlcy5tYXAocnQgPT5cclxuXHRcdFx0XHRcdG5ldyBJemVuZGFTZWxlY3RJdGVtTW9kZWwocnQuVGV4dCwgcnQuVmFsdWUsIHVuZGVmaW5lZCwgcnQuU2VsZWN0ZWQsIHJ0LkVuYWJsZWQpKTtcclxuXHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGRlZmF1bHQgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgcmVzZXQoKTogdm9pZCB7XHJcblx0XHR0aGlzLnNjaGVkdWxlQ29uZmlnID0gbmV3IEl6ZW5kYVNjaGVkdWxlTW9kZWwoKTtcclxuXHRcdHRoaXMudGltZXpvbmVzID0gW107XHJcblx0XHR0aGlzLnNlbmRFbWFpbFR5cGVzID0gW107XHJcblx0XHR0aGlzLnJlcGVhdFR5cGVzID0gW107XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnLCBJemVuZGFTY2hlZHVsZVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoSXplbmRhU2NoZWR1bGVTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQWxpZ25Td2l0Y2hlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0dGl0bGU6IHN0cmluZztcclxuXHRhbGlnblNob3J0Y3V0OiBzdHJpbmc7XHJcblx0bmV4dFZhbHVlOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGlnbiBzd2l0Y2hlciBkaXJlY3RpdmUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFBbGlnblN3aXRjaGVyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0dGl0bGU6ICdAJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPSBgPHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLWFsaWduLXN3aXRjaGVyIGdseXBoaWNvblwiIG5nLWNsaWNrPVwibmV4dFZhbHVlKClcIiBuZy1hdHRyLXRpdGxlPVwidGl0bGVcIiBuZy1jbGFzcz1cImFsaWduU2hvcnRjdXRcIj48L3NwYW4+YDtcclxuXHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUFsaWduU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRJemVuZGFBbGlnblN3aXRjaGVyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUFsaWduU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgaXRlbXNBcnJheSA9IFsnTCcsICdNJywgJ1InLCAnSicsICcgJ107XHJcblx0XHRcdGNvbnN0IHNob3J0Y3V0cyA9IHtcclxuXHRcdFx0XHQnTCc6ICdnbHlwaGljb24tYWxpZ24tbGVmdCcsXHJcblx0XHRcdFx0J00nOiAnZ2x5cGhpY29uLWFsaWduLWNlbnRlcicsXHJcblx0XHRcdFx0J0onOiAnZ2x5cGhpY29uLWFsaWduLWNlbnRlcicsXHJcblx0XHRcdFx0J1InOiAnZ2x5cGhpY29uLWFsaWduLXJpZ2h0JyxcclxuXHRcdFx0XHQnICc6ICdnbHlwaGljb24tbm9uZSdcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHZhbGlkYXRlVmFsdWUgPSAobW9kZWwpID0+IHtcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChtb2RlbCkpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0aWYgKGl0ZW1zQXJyYXkuaW5kZXhPZihtb2RlbCkgPCAwKVxyXG5cdFx0XHRcdFx0dGhyb3cgJ1Vua25vd24gYWxpZ24gdmFsdWU6ICcgKyBtb2RlbDtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciB1cGRhdGVTaG9ydGN1dCA9IChtb2RlbCkgPT4gJHNjb3BlLmFsaWduU2hvcnRjdXQgPSBzaG9ydGN1dHNbbW9kZWxdO1xyXG5cclxuXHRcdFx0JHNjb3BlLm5leHRWYWx1ZSA9ICgpID0+IHtcclxuXHRcdFx0XHR2YXIgaWR4ID0gaXRlbXNBcnJheS5pbmRleE9mKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0XHRpZiAoaWR4IDwgaXRlbXNBcnJheS5sZW5ndGggLSAxKVxyXG5cdFx0XHRcdFx0aWR4Kys7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0aWR4ID0gMDtcclxuXHRcdFx0XHQkc2NvcGUubmdNb2RlbCA9IGl0ZW1zQXJyYXlbaWR4XTtcclxuXHRcdFx0XHR1cGRhdGVTaG9ydGN1dCgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvL1xyXG5cdFx0XHQkc2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0cnMubmdNb2RlbCwgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xyXG5cdFx0XHRcdGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dmFsaWRhdGVWYWx1ZShuZXdWYWx1ZSk7XHJcblx0XHRcdFx0dXBkYXRlU2hvcnRjdXQobmV3VmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFsaWRhdGVWYWx1ZSgkc2NvcGUubmdNb2RlbCk7XHJcblx0XHRcdHVwZGF0ZVNob3J0Y3V0KCRzY29wZS5uZ01vZGVsKTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgpID0+IG5ldyBJemVuZGFBbGlnblN3aXRjaGVyKCk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFtdO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFBbGlnblN3aXRjaGVyJywgW0l6ZW5kYUFsaWduU3dpdGNoZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQXV0b2NvbXBsZXRlU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdG5nTW9kZWw6IHN0cmluZztcclxuXHRhdXRvY29tcGxldGVJdGVtczogYW55O1xyXG5cdHVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdXRvY29tcGxldGUgZGlyZWN0aXZlLiBVc2VzIFwidGFnaXRcIi4gQXBwbHllZCBmb3IgPGlucHV0IGl6ZW5kYS1hdXRvY29tcGxldGU+IGVsZW1lbnQuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFBdXRvY29tcGxldGUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRyZXF1aXJlID0gJ25nTW9kZWwnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0YXV0b2NvbXBsZXRlSXRlbXM6ICc9JyxcclxuXHRcdHVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zOiAnJidcclxuXHR9O1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQXV0b2NvbXBsZXRlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQXV0b2NvbXBsZXRlLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUF1dG9jb21wbGV0ZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENyZWF0ZSBhcnJheSB3aXRoIGF1dG9jb21wbGV0ZSBpdGVtIHRleHRzXHJcblx0XHRcdCAqIEBwYXJhbSB7QXJyYXk8b2JqZWN0Pn0gaXRlbXMuXHJcblx0XHRcdCAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fS5cclxuXHRcdFx0ICovXHJcblx0XHRcdGxldCBwcmVwYXJlU291cmNlID0gKGl0ZW1zOiBhbnlbXSk6IHN0cmluZ1tdID0+IHtcclxuXHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNBcnJheShpdGVtcykgfHwgIWl0ZW1zLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybiBbXTtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbXNcclxuXHRcdFx0XHRcdC5maWx0ZXIoaXRlbSA9PiBhbmd1bGFyLmlzT2JqZWN0KGl0ZW0pKVxyXG5cdFx0XHRcdFx0Lm1hcChpdGVtID0+IGl0ZW1bJ3RleHQnXSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBpbml0aWFsaXplIGNvbXBvbmVudFxyXG5cdFx0XHQkZWxlbWVudC52YWwoJHNjb3BlLm5nTW9kZWwpO1xyXG5cdFx0XHQkZWxlbWVudFsndGFnaXQnXSh7XHJcblx0XHRcdFx0dGFnU291cmNlOiAocmVxLCByZXNwb25zZUZ1bmN0aW9uKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUudXBkYXRlQXV0b2NvbXBsZXRlSXRlbXMpKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR2YXIgcG9zc2libGVUZXh0ID0gcmVxLnRlcm0uc3BsaXQoLyxcXHMqLykucG9wKCk7XHJcblx0XHRcdFx0XHQvLyB1cGRhdGUgc3VnZ2VzdGVkIGl0ZW1zOlxyXG5cdFx0XHRcdFx0JHNjb3BlLnVwZGF0ZUF1dG9jb21wbGV0ZUl0ZW1zKHsgYXJnMDogcG9zc2libGVUZXh0IH0pLnRoZW4obmV3RXhpc3RlbnRWYWx1ZXNMaXN0ID0+IHtcclxuXHRcdFx0XHRcdFx0dmFyIGl0ZW1zID0gcHJlcGFyZVNvdXJjZShuZXdFeGlzdGVudFZhbHVlc0xpc3QgYXMgYW55W10pO1xyXG5cdFx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSBpdGVtc1xyXG5cdFx0XHRcdFx0XHRcdC5maWx0ZXIoaXRlbSA9PiAhIWl0ZW0gJiYgaXRlbSAhPSAnLi4uJylcclxuXHRcdFx0XHRcdFx0XHQubWFwKGl0ZW0gPT4gaXRlbS5yZXBsYWNlQWxsKCcjfHwjJywgJywnKSk7XHJcblx0XHRcdFx0XHRcdHJlc3BvbnNlRnVuY3Rpb24ocmVzdWx0KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y2FzZVNlbnNpdGl2ZTogdHJ1ZSxcclxuXHRcdFx0XHRhbGxvd0R1cGxpY2F0ZXM6IGZhbHNlLFxyXG5cdFx0XHRcdHNpbmdsZUZpZWxkRGVsaW1pdGVyOiBqc1Jlc291cmNlcy5saXRlcmFsQ29tbWEsXHJcblx0XHRcdFx0cHJvY2Vzc1ZhbHVlc0ZvclNpbmdsZUZpZWxkOiB0YWdzID0+IHRhZ3MubWFwKHRhZyA9PiB0YWcucmVwbGFjZUFsbCgnLCcsICcjfHwjJykpLFxyXG5cdFx0XHRcdHByb2Nlc3NWYWx1ZXNGcm9tU2luZ2xlRmllbGQ6IHRhZ3MgPT4gdGFncy5tYXAodGFnID0+IHRhZy5yZXBsYWNlQWxsKCcjfHwjJywgJywnKSlcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBhZGQgd2F0Y2hlcnNcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWx1ZSkgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3VmFsdWUpXHJcblx0XHRcdFx0XHQkZWxlbWVudFsndGFnaXQnXSgncmVtb3ZlQWxsJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHQkZWxlbWVudFsndGFnaXQnXSgncmVtb3ZlQWxsJyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgpID0+IG5ldyBJemVuZGFBdXRvY29tcGxldGUoKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gW107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFBdXRvY29tcGxldGUnLCBbSXplbmRhQXV0b2NvbXBsZXRlLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGNvbGxhcHNlZDogYm9vbGVhbjtcclxuXHR1c2VEZWxheTogYm9vbGVhbjtcclxuXHRvbkNvbXBsZXRlOiAoYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQ29sbGFwc2libGUgY29udGFpbmVyIGRpcmVjdGl2ZS5cclxuICovXHJcbmNsYXNzIEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRjb2xsYXBzZWQ6ICc9JyxcclxuXHRcdHVzZURlbGF5OiAnPScsXHJcblx0XHRvbkNvbXBsZXRlOiAnJidcclxuXHR9O1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwQ29sbGFwc2VTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFCb290c3RyYXBDb2xsYXBzZS5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBDb2xsYXBzZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogSW52b2tlIGNvbXBsZXRlIGhhbmRsZXIuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBjb2xsYXBzZUNvbXBsZXRlZCA9IHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25Db21wbGV0ZSkpIHtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNvbXBsZXRlKHtcclxuXHRcdFx0XHRcdFx0Y29sbGFwc2VkOiByZXN1bHRcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZScpO1xyXG5cdFx0XHRpZiAoJHNjb3BlLmNvbGxhcHNlZClcclxuXHRcdFx0XHQkZWxlbWVudC5hZGRDbGFzcygnaW4nKTtcclxuXHRcdFx0JGVsZW1lbnRbJ2NvbGxhcHNlJ10oKTsgLy8gY2FsbCBib290c3RyYXAganF1ZXJ5X2VsZW1lbnQuY29sbGFwc2UoKSBtZXRob2QuXHJcblxyXG5cdFx0XHQvLyBhZGQgZXZlbnQgY29sbGFwc2UgaGFuZGxlcnNcclxuXHRcdFx0JGVsZW1lbnQub24oJ2hpZGRlbi5icy5jb2xsYXBzZScsICgpID0+IGNvbGxhcHNlQ29tcGxldGVkKHRydWUpKTtcclxuXHRcdFx0JGVsZW1lbnQub24oJ3Nob3duLmJzLmNvbGxhcHNlJywgKCkgPT4gY29sbGFwc2VDb21wbGV0ZWQoZmFsc2UpKTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGZvciBjb2xsYXBzZWQgc3RhdGUgY2hhbmdlXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2NvbGxhcHNlZCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoJHNjb3BlLnVzZURlbGF5KVxyXG5cdFx0XHRcdFx0JHRpbWVvdXQoKCkgPT4gJGVsZW1lbnRbJ2NvbGxhcHNlJ10oJHNjb3BlLmNvbGxhcHNlZCA/ICdoaWRlJyA6ICdzaG93JyksIDEwMDApO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRlbGVtZW50Wydjb2xsYXBzZSddKCRzY29wZS5jb2xsYXBzZWQgPyAnaGlkZScgOiAnc2hvdycpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgSXplbmRhQm9vdHN0cmFwQ29sbGFwc2UoJHRpbWVvdXQpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcENvbGxhcHNlJywgWyckdGltZW91dCcsIEl6ZW5kYUJvb3RzdHJhcENvbGxhcHNlLmZhY3RvcnkoKV0pO1xyXG5cclxuXHJcbmludGVyZmFjZSBJSXplbmRhQm9vdHN0cmFwVG9vbHRpcFNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHR0b29sdGlwSXRlbXM6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvb2x0aXAgZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFCb290c3RyYXBUb29sdGlwIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHR0b29sdGlwSXRlbXM6ICc9J1xyXG5cdH07XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUJvb3RzdHJhcFRvb2x0aXBTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwVG9vbHRpcC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFCb290c3RyYXBUb29sdGlwU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3Rvb2x0aXBJdGVtcycsIChuZXdWYWw6IGFueVtdKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkobmV3VmFsKSkge1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuYXR0cigndGl0bGUnLCAnJyk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciByZXN1bHQgPSAnJztcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5ld1ZhbC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKG5ld1ZhbC5sZW5ndGggPiAxKVxyXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gaSArICcuICc7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gbmV3VmFsW2ldLm1lc3NhZ2UgKyAnPGJyLz4nO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkZWxlbWVudC5hdHRyKCd0aXRsZScsIHJlc3VsdCk7XHJcblx0XHRcdFx0JGVsZW1lbnRbJ3Rvb2x0aXAnXSgnaGlkZScpXHJcblx0XHRcdFx0XHQuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsIG5ld1ZhbClcclxuXHRcdFx0XHRcdC50b29sdGlwKCd1cGRhdGUnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcFRvb2x0aXAoKTtcclxuXHR9XHJcbn1cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFCb290c3RyYXBUb29sdGlwJywgW0l6ZW5kYUJvb3RzdHJhcFRvb2x0aXAuZmFjdG9yeSgpXSk7XHJcblxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFCb290c3RyYXBEcm9wZG93blNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRvcGVuZWQ6IGJvb2xlYW47XHJcblx0YXR0YWNoVG9FbGVtZW50OiBzdHJpbmc7XHJcblx0d2lkdGg6IG51bWJlcjtcclxuXHRoZWlnaHQ6IG51bWJlcjtcclxuXHRvbk9wZW46ICguLi5hbnkpID0+IHZvaWQ7XHJcblx0b25DbG9zZTogKC4uLmFueSkgPT4gdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJvb3RzdHJhcCBkcm9wZG93biBkaXJlY3RpdmVcclxuICovXHJcbmNsYXNzIEl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnRSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRvcGVuZWQ6ICc9JyxcclxuXHRcdGF0dGFjaFRvRWxlbWVudDogJ0AnLFxyXG5cdFx0d2lkdGg6ICdAJyxcclxuXHRcdGhlaWdodDogJ0AnLFxyXG5cdFx0b25PcGVuOiAnJicsXHJcblx0XHRvbkNsb3NlOiAnJidcclxuXHR9O1xyXG5cdHRlbXBsYXRlID1cclxuXHRcdGA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj5cclxuXHQ8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudSBpemVuZGEtY29tbW9uLWRyb3Bkb3duLXN0cm9uZy1zaGFkb3cgZHJvcGRvd24tbm8tY2xvc2Utb24tY2xpY2tcIlxyXG5cdFx0bmctY2xpY2s9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1kcm9wZG93bi10cmlhbmdsZVwiPjwvZGl2PlxyXG5cdFx0PGRpdiBuZy1zdHlsZT1cIntcXCd3aWR0aFxcJzogd2lkdGgsIFxcJ2hlaWdodFxcJzogaGVpZ2h0fVwiPlxyXG5cdFx0XHQ8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQ8L2Rpdj5cclxuPC9kaXY+YDtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwRHJvcGRvd25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0SXplbmRhQm9vdHN0cmFwRHJvcGRvd24ucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhQm9vdHN0cmFwRHJvcGRvd25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cdFx0XHRjb25zdCBpZCA9ICgnJyArIE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKTtcclxuXHRcdFx0Y29uc3Qgc2Nyb2xsRXZlbnRJZCA9ICdzY3JvbGwuaXplbmRhQm9vdHN0cmFwRHJvcGRvd24nICsgaWQ7XHJcblx0XHRcdGNvbnN0IHJlc2l6ZUV2ZW50SWQgPSAncmVzaXplLml6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJyArIGlkO1xyXG5cdFx0XHRjb25zdCBrZXlFdmVudElkID0gJ2tleXVwLml6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJyArIGlkO1xyXG5cclxuXHRcdFx0Y29uc3QgJGRyb3Bkb3duID0gJGVsZW1lbnQuZmluZCgnLmRyb3Bkb3duJyk7XHJcblx0XHRcdGNvbnN0ICRtZW51ID0gJGVsZW1lbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnKTtcclxuXHJcblx0XHRcdCRkcm9wZG93bi5maW5kKCcuaXplbmRhLWNvbW1vbi1kcm9wZG93bi10cmlhbmdsZScpLm9uKCdjbGljaycsICgpID0+IGNsb3NlKCkpO1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oc2Nyb2xsRXZlbnRJZCwgKCkgPT4gY2xvc2UoKSk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbihyZXNpemVFdmVudElkLCAoKSA9PiBjbG9zZSgpKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKGtleUV2ZW50SWQsIGV2ZW50ID0+IHtcclxuXHRcdFx0XHQvLyBlc2MgYnV0dG9uIGhhbmRsZXJcclxuXHRcdFx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PSAyNyAmJiAkc2NvcGUub3BlbmVkKSB7XHJcblx0XHRcdFx0XHRjbG9zZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdvcGVuZWQnLCAobmV3VmFsOiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0aWYgKG5ld1ZhbCAmJiAhJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpXHJcblx0XHRcdFx0XHRvcGVuKCk7XHJcblx0XHRcdFx0aWYgKCFuZXdWYWwgJiYgJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpXHJcblx0XHRcdFx0XHRjbG9zZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIG9wZW4oKSB7XHJcblx0XHRcdFx0Y29uc3QgJGF0dGFjaFRvRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuYXR0YWNoVG9FbGVtZW50KTtcclxuXHRcdFx0XHRjb25zdCAkdGlsZSA9ICRhdHRhY2hUb0VsZW1lbnQuY2xvc2VzdCgnLml6LWRhc2gtdGlsZScpO1xyXG5cdFx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdCRtZW51LmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcclxuXHRcdFx0XHQkbWVudS5jc3MoJ3otaW5kZXgnLCA5OTk5KTtcclxuXHRcdFx0XHRsZXQgbGVmdCA9ICR0aWxlLndpZHRoKCkgLSAkbWVudS53aWR0aCgpIC0gMTY7XHJcblx0XHRcdFx0bGV0IGRlbHRhID0gMDtcclxuXHRcdFx0XHRpZiAobGVmdCA8IDApIHtcclxuXHRcdFx0XHRcdGRlbHRhID0gLWxlZnQ7XHJcblx0XHRcdFx0XHRsZWZ0ID0gMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29uc3QgdG9wID0gNDQ7XHJcblx0XHRcdFx0JG1lbnUuY2hpbGRyZW4oJy5pemVuZGEtY29tbW9uLWRyb3Bkb3duLXRyaWFuZ2xlJykuY3NzKCdsZWZ0JywgJG1lbnUud2lkdGgoKSAtIGRlbHRhIC0gNTgpO1xyXG5cdFx0XHRcdCRtZW51LmNzcyh7XHJcblx0XHRcdFx0XHRsZWZ0OiBsZWZ0ICsgJ3B4JyxcclxuXHRcdFx0XHRcdHRvcDogdG9wICsgJ3B4J1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uT3BlbikpXHJcblx0XHRcdFx0XHQkc2NvcGUub25PcGVuKHt9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2xvc2UoKSB7XHJcblx0XHRcdFx0JGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JG1lbnUuZGF0YSgnb3BlbicsIGZhbHNlKTtcclxuXHRcdFx0XHQkc2NvcGUub3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25DbG9zZSkpXHJcblx0XHRcdFx0XHQkc2NvcGUub25DbG9zZSh7fSk7XHJcblx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZihzY3JvbGxFdmVudElkKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKHJlc2l6ZUV2ZW50SWQpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoa2V5RXZlbnRJZCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkgPT4gbmV3IEl6ZW5kYUJvb3RzdHJhcERyb3Bkb3duKCR3aW5kb3cpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUJvb3RzdHJhcERyb3Bkb3duJywgWyckd2luZG93JywgSXplbmRhQm9vdHN0cmFwRHJvcGRvd24uZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhQ29sb3JQaWNrZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdNb2RlbDogYW55O1xyXG5cdGlubGluZTogYW55O1xyXG5cdGFkZGl0aW9uYWxDbGFzczogYW55O1xyXG5cdGNvbG9yOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2xvciBwaWNrZXIgZGlyZWN0aXZlLiBSZXF1aXJlcyBcImpxdWVyeS1taW5pY29sb3JzXCIgalF1ZXJ5IHBsdWdpbi4gVXNhZ2U6XHJcbiAqIDxpemVuZGEtY29sb3ItcGlja2VyIG5nLW1vZGVsPVwiLi4uXCI+PC9pemVuZGEtY29sb3ItcGlja2VyPlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQ29sb3JQaWNrZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdG5nTW9kZWw6ICc9JyxcclxuXHRcdGlubGluZTogJ0AnLFxyXG5cdFx0YWRkaXRpb25hbENsYXNzOiAnQCdcclxuXHR9O1xyXG5cdHRlbXBsYXRlID0gJzxpbnB1dCBjbGFzcz1cIm1pbmljb2xvcnMgZm9ybS1jb250cm9sXCIgbmctY2xhc3M9XCJhZGRpdGlvbmFsQ2xhc3NcIj48L2lucHV0Pic7XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYUNvbG9yUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYUNvbG9yUGlja2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUNvbG9yUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdGNvbnN0ICRpbnB1dCA9ICRlbGVtZW50LmZpbmQoJ2lucHV0Lm1pbmljb2xvcnMnKTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGFjdGl2ZSBpdGVtIGNoYW5nZWRcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWw6IHN0cmluZywgb2xkVmFsOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09PSBvbGRWYWwpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0JGlucHV0LnZhbChuZXdWYWwpO1xyXG5cdFx0XHRcdCRpbnB1dFsnbWluaWNvbG9ycyddKCd2YWx1ZScsIG5ld1ZhbCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aW5pdGlhbGl6ZUNvbnRyb2woKTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHQkaW5wdXQucmVtb3ZlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbnRyb2woKSB7XHJcblx0XHRcdFx0JGlucHV0WydtaW5pY29sb3JzJ10oJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHQkaW5wdXQudmFsKCRzY29wZS5uZ01vZGVsKTtcclxuXHRcdFx0XHQkaW5wdXRbJ21pbmljb2xvcnMnXSh7XHJcblx0XHRcdFx0XHRpbmxpbmU6ICRzY29wZS5pbmxpbmUgPT09ICd0cnVlJyxcclxuXHRcdFx0XHRcdGxldHRlcmNhc2U6ICdsb3dlcmNhc2UnLFxyXG5cdFx0XHRcdFx0dGhlbWU6ICdib290c3RyYXAnLFxyXG5cdFx0XHRcdFx0Y29sb3I6ICRzY29wZS5jb2xvcixcclxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnYm90dG9tIHJpZ2h0JyxcclxuXHRcdFx0XHRcdGNoYW5nZTogaGV4ID0+IHtcclxuXHRcdFx0XHRcdFx0dmFyIHZhbCA9IFN0cmluZygkaW5wdXQudmFsKCkpO1xyXG5cdFx0XHRcdFx0XHRpZiAodmFsLm1hdGNoKC9eI3swLDF9WzAtOWEtZl17Nn0kL2dpKSkge1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5uZ01vZGVsID0gaGV4O1xyXG5cdFx0XHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnLml6LWRhc2gtYmFja2dyb3VuZCcpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhleCk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0JGVsZW1lbnQuZmluZCgnLm1pbmljb2xvcnMtZ3JpZCwgLm1pbmljb2xvcnMtc2xpZGVyJykuY2xpY2soZSA9PiB7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFDb2xvclBpY2tlcigpO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFDb2xvclBpY2tlcicsIFtJemVuZGFDb2xvclBpY2tlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5cclxudHlwZSBJemVuZGFEYXRlVGltZVBpY2tlckRhdGVQYXJ0ID0gJ2RhdGUnIHwgJ3RpbWUnIHwgJ2RhdGV0aW1lJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhRGF0ZVRpbWVQaWNrZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bW9kZWw6IGFueTtcclxuXHRuZ0Rpc2FibGVkOiBhbnk7XHJcblx0ZGF0ZUZvcm1hdDogYW55O1xyXG5cdGxvY2FsZTogYW55O1xyXG5cdGRhdGVwYXJ0OiBJemVuZGFEYXRlVGltZVBpY2tlckRhdGVQYXJ0O1xyXG5cdHNob3dBZGRpdGlvbmFsQnV0dG9uczogYW55O1xyXG5cdGh0bWxDb250YWluZXJTZWxlY3RvcjogYW55O1xyXG5cdG9uQ2hhbmdlOiBhbnk7XHJcblx0ZGF0ZVRpbWVQaWNrZXI6IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFEYXRlVGltZVBpY2tlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhRGF0ZVRpbWVQaWNrZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRyZXF1aXJlID0gJ25nTW9kZWwnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0bW9kZWw6ICc9bmdNb2RlbCcsXHJcblx0XHRuZ0Rpc2FibGVkOiAnPScsXHJcblx0XHRkYXRlRm9ybWF0OiAnPScsXHJcblx0XHRsb2NhbGU6ICc9JyxcclxuXHRcdGRhdGVwYXJ0OiAnPScsXHJcblx0XHRzaG93QWRkaXRpb25hbEJ1dHRvbnM6ICdAJyxcclxuXHRcdGh0bWxDb250YWluZXJTZWxlY3RvcjogJ0AnLFxyXG5cdFx0b25DaGFuZ2U6ICcmJ1xyXG5cdH07XHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgLz5cclxuPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxyXG5cdDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uLWNhbGVuZGFyIGdseXBoaWNvblwiPjwvc3Bhbj5cclxuPC9zcGFuPmA7XHJcblx0bGluazogKCRzY29wZTogSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0YXR0cnM6IG5nLklBdHRyaWJ1dGVzLCBuZ01vZGVsQ3RybDogbmcuSUNvbnRyb2xsZXIpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0Ly8gY2hhbmdlIHRlbXBsYXRlIGlmIHJlc29sdXRpb24gaXMgdG9vIGxvd1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU21hbGxSZXNvbHV0aW9uKCkpXHJcblx0XHRcdHRoaXMudGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tZGF0ZS1waWNrZXItaW5saW5lXCIvPic7XHJcblxyXG5cclxuXHRcdEl6ZW5kYURhdGVUaW1lUGlja2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYURhdGVUaW1lUGlja2VyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0XHRhdHRyczogbmcuSUF0dHJpYnV0ZXMsIG5nTW9kZWxDdHJsOiBuZy5JQ29udHJvbGxlcikgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgdWlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCk7XHJcblx0XHRcdGNvbnN0ICRpbnB1dCA9ICRlbGVtZW50LmNoaWxkcmVuKCdpbnB1dCwuaXplbmRhLWNvbW1vbi1kYXRlLXBpY2tlci1pbmxpbmUnKTtcclxuXHRcdFx0Y29uc3QgJGJ0biA9ICRlbGVtZW50LmNoaWxkcmVuKCcuaW5wdXQtZ3JvdXAtYWRkb24nKTtcclxuXHRcdFx0Y29uc3QgaXNTbWFsbFJlc29sdXRpb24gPSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNTbWFsbFJlc29sdXRpb24oKTtcclxuXHRcdFx0Y29uc3QgZ2V0UGlja2VyOiAoKSA9PiBhbnkgPSAoKSA9PiAkaW5wdXQuZGF0YSgnRGF0ZVRpbWVQaWNrZXInKTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDcmVhdGUgbmV3IGRhdGUgb2JqZWN0IGJhc2VkIG9uIGJhc2VEYXRlIHdpdGggdXBkYXRlZCBmcm9tIHRoZSBuZXdEYXRlIGRhdGUgb3IgdGltZSBvciBib3RoLlxyXG5cdFx0XHQgKiBAcGFyYW0ge0RhdGV9IGJhc2VEYXRlIGN1cnJlbnQgZGF0ZVxyXG5cdFx0XHQgKiBAcGFyYW0ge0RhdGV9IG5ld0RhdGUgdXBkYXRlZCBkYXRlXHJcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlcGFydCB3aGF0IHBhcnQgd2lsbCBiZSB1cGRhdGVkOiAnXCJkYXRlXCJ8XCJ0aW1lXCJ8XCJkYXRldGltZVwiJ1xyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgZ2V0VXBkYXRlZERhdGVWYWx1ZSA9IChiYXNlRGF0ZSwgbmV3RGF0ZSwgZGF0ZXBhcnQpID0+IHtcclxuXHRcdFx0XHRpZiAoIWJhc2VEYXRlKVxyXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBEYXRlKG5ld0RhdGUpO1xyXG5cclxuXHRcdFx0XHR2YXIgY3VyckRhdGUgPSBuZXcgRGF0ZShiYXNlRGF0ZSk7XHJcblx0XHRcdFx0aWYgKGRhdGVwYXJ0ID09PSAnZGF0ZXRpbWUnKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZSA9IG5ldyBEYXRlKG5ld0RhdGUpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0ZXBhcnQgPT09ICdkYXRlJykge1xyXG5cdFx0XHRcdFx0Y3VyckRhdGUgPSBuZXcgRGF0ZShcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRGdWxsWWVhcigpLFxyXG5cdFx0XHRcdFx0XHRuZXdEYXRlLmdldE1vbnRoKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0RGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRIb3VycygpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRNaW51dGVzKCksXHJcblx0XHRcdFx0XHRcdGJhc2VEYXRlLmdldFNlY29uZHMoKSxcclxuXHRcdFx0XHRcdFx0MCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChkYXRlcGFydCA9PT0gJ3RpbWUnKSB7XHJcblx0XHRcdFx0XHRjdXJyRGF0ZSA9IG5ldyBEYXRlKFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRGdWxsWWVhcigpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXRNb250aCgpLFxyXG5cdFx0XHRcdFx0XHRiYXNlRGF0ZS5nZXREYXRlKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0SG91cnMoKSxcclxuXHRcdFx0XHRcdFx0bmV3RGF0ZS5nZXRNaW51dGVzKCksXHJcblx0XHRcdFx0XHRcdG5ld0RhdGUuZ2V0U2Vjb25kcygpLFxyXG5cdFx0XHRcdFx0XHQwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJEYXRlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2V0IGRhdGUgdG8gdGhlIHBpY2tlclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3Qgc2V0RGF0ZSA9IG5ld0RhdGUgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3RGF0ZSlcclxuXHRcdFx0XHRcdGdldFBpY2tlcigpLmRhdGUobnVsbCk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUobmV3RGF0ZSkpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kYXRlKGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBuZXdEYXRlLCAkc2NvcGUuZGF0ZXBhcnQpKTtcclxuXHRcdFx0XHRlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKG5ld0RhdGUpKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGF0ZShnZXRVcGRhdGVkRGF0ZVZhbHVlKCRzY29wZS5tb2RlbCwgbmV3IERhdGUobmV3RGF0ZSksICRzY29wZS5kYXRlcGFydCkpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRocm93IGBVbmtub3duIGRhdGUgdHlwZTogJHt0eXBlb2YgKG5ld0RhdGUpfWA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBFbmFibGUvRGlzYWJsZSBwaWNrZXJcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHNldERpc2FibGVkID0gaXNEaXNhYmxlZCA9PiB7XHJcblx0XHRcdFx0aWYgKGlzRGlzYWJsZWQpXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5kaXNhYmxlKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZW5hYmxlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBseSBkYXRlIGZvcm1hdCBpbiB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXRGb3JtYXQgPSBmb3JtYXQgPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhmb3JtYXQpKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZm9ybWF0KGZhbHNlKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRnZXRQaWNrZXIoKS5mb3JtYXQoZm9ybWF0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFwcGx5IGxvY2FsZSBpbiB0aGUgcGlja2VyXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBzZXRMb2NhbGUgPSBsb2NhbGUgPT4ge1xyXG5cdFx0XHRcdGlmICghYW5ndWxhci5pc1N0cmluZyhsb2NhbGUpKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGdldFBpY2tlcigpLmxvY2FsZShsb2NhbGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgZGF0ZSBwaWNrZXIgY29uZmlnIGpzb25cclxuXHRcdFx0dmFyIGNvbmZpZyA9IHt9O1xyXG5cdFx0XHRpZiAoJHNjb3BlLnNob3dBZGRpdGlvbmFsQnV0dG9ucyA9PT0gJ3RydWUnKSB7XHJcblx0XHRcdFx0Y29uZmlnID0ge1xyXG5cdFx0XHRcdFx0c2hvd1RvZGF5QnV0dG9uOiB0cnVlLFxyXG5cdFx0XHRcdFx0c2hvd0NsZWFyOiB0cnVlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChjb25maWcsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0bG9jYWxlOiAkc2NvcGUubG9jYWxlLFxyXG5cdFx0XHRcdFx0aW5saW5lOiBpc1NtYWxsUmVzb2x1dGlvbixcclxuXHRcdFx0XHRcdHdpZGdldFBhcmVudDogaXNTbWFsbFJlc29sdXRpb24gPyBudWxsIDogYW5ndWxhci5lbGVtZW50KCRzY29wZS5odG1sQ29udGFpbmVyU2VsZWN0b3IpLFxyXG5cdFx0XHRcdFx0dG9vbGJhclBsYWNlbWVudDogJ2JvdHRvbScsXHJcblx0XHRcdFx0XHR3aWRnZXRQb3NpdGlvbmluZzoge1xyXG5cdFx0XHRcdFx0XHR2ZXJ0aWNhbDogJ2JvdHRvbSdcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR0b29sdGlwczoge1xyXG5cdFx0XHRcdFx0XHR0b2RheTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfR29Ub1RvZGF5JywgJ0dvIHRvIHRvZGF5JyksXHJcblx0XHRcdFx0XHRcdGNsZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19DbGVhclNlbGVjdGlvbicsICdDbGVhciBzZWxlY3Rpb24nKSxcclxuXHRcdFx0XHRcdFx0Y2xvc2U6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Nsb3NlUGlja2VyJywgJ0Nsb3NlIHRoZSBwaWNrZXInKSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0TW9udGg6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NlbGVjdE1vbnRoJywgJ1NlbGVjdCBNb250aCcpLFxyXG5cdFx0XHRcdFx0XHRwcmV2TW9udGg6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzTW9udGgnLCAnUHJldmlvdXMgTW9udGgnKSxcclxuXHRcdFx0XHRcdFx0bmV4dE1vbnRoOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXh0TW9udGgnLCAnTmV4dCBNb250aCcpLFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RZZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19TZWxlY3RZZWFyJywgJ1NlbGVjdCBZZWFyJyksXHJcblx0XHRcdFx0XHRcdHByZXZZZWFyOiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19QcmV2aW91c1llYXInLCAnUHJldmlvdXMgWWVhcicpLFxyXG5cdFx0XHRcdFx0XHRuZXh0WWVhcjogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfTmV4dFllYXInLCAnTmV4dCBZZWFyJyksXHJcblx0XHRcdFx0XHRcdHNlbGVjdERlY2FkZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2VsZWN0RGVjYWRlJywgJ1NlbGVjdCBEZWNhZGUnKSxcclxuXHRcdFx0XHRcdFx0cHJldkRlY2FkZTogJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfUHJldmlvdXNEZWNhZGUnLCAnUHJldmlvdXMgRGVjYWRlJyksXHJcblx0XHRcdFx0XHRcdG5leHREZWNhZGU6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX05leHREZWNhZGUnLCAnTmV4dCBEZWNhZGUnKSxcclxuXHRcdFx0XHRcdFx0cHJldkNlbnR1cnk6ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1ByZXZpb3VzQ2VudHVyeScsICdQcmV2aW91cyBDZW50dXJ5JyksXHJcblx0XHRcdFx0XHRcdG5leHRDZW50dXJ5OiAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXh0Q2VudHVyeScsICdOZXh0IENlbnR1cnknKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHQvLyBjcmVhdGUgcGlja2VyXHJcblx0XHRcdCRzY29wZS5kYXRlVGltZVBpY2tlciA9ICRpbnB1dFsnZGF0ZXRpbWVwaWNrZXInXShjb25maWcpO1xyXG5cclxuXHRcdFx0Ly8gZGF0ZSBwaWNrZXIgJ29uIHNob3cnIGhhbmRsZXJcclxuXHRcdFx0JGlucHV0Lm9uKCdkcC5zaG93JywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1NtYWxsUmVzb2x1dGlvbilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHdpZGdldCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuaHRtbENvbnRhaW5lclNlbGVjdG9yICsgJyA+IC5ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXItd2lkZ2V0Jyk7XHJcblx0XHRcdFx0JHdpZGdldC5zaG93KCk7XHJcblx0XHRcdFx0JHdpZGdldC5jc3Moe1xyXG5cdFx0XHRcdFx0dG9wOiAkaW5wdXQub2Zmc2V0KCkudG9wIC0gJHdpZGdldC5wYXJlbnQoKS5vZmZzZXQoKS50b3AgKyAkaW5wdXQuaGVpZ2h0KCkgKyAyMCxcclxuXHRcdFx0XHRcdGxlZnQ6ICRpbnB1dC5vZmZzZXQoKS5sZWZ0IC0gJHdpZGdldC5wYXJlbnQoKS5vZmZzZXQoKS5sZWZ0XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2luZG93IHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplLmRwJyArIHVpZCwgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1NtYWxsUmVzb2x1dGlvbilcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR2YXIgJHdpZGdldCA9IGFuZ3VsYXIuZWxlbWVudCgkc2NvcGUuaHRtbENvbnRhaW5lclNlbGVjdG9yICsgJyA+IC5ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXItd2lkZ2V0Jyk7XHJcblx0XHRcdFx0JHdpZGdldC5oaWRlKCk7XHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4gJGlucHV0LmJsdXIoKSwgMTApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRidG4ub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghJHNjb3BlLm5nRGlzYWJsZWQpXHJcblx0XHRcdFx0XHQkaW5wdXQuZm9jdXMoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCB2YXJpYWJsZXM6XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nRGlzYWJsZWQnLCBuZXdWYWwgPT4gc2V0RGlzYWJsZWQobmV3VmFsKSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2RhdGVGb3JtYXQnLCBuZXdWYWwgPT4gc2V0Rm9ybWF0KG5ld1ZhbCkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdsb2NhbGUnLCBuZXdWYWwgPT4gc2V0TG9jYWxlKG5ld1ZhbCkpO1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSB2YWx1ZXNcclxuXHRcdFx0c2V0RGlzYWJsZWQoJHNjb3BlLm5nRGlzYWJsZWQpO1xyXG5cdFx0XHRzZXRGb3JtYXQoJHNjb3BlLmRhdGVGb3JtYXQpO1xyXG5cdFx0XHRzZXRMb2NhbGUoJHNjb3BlLmxvY2FsZSk7XHJcblxyXG5cdFx0XHRpZiAobmdNb2RlbEN0cmwpIHtcclxuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKCdtb2RlbCcsIG5ld1ZhbCA9PiBzZXREYXRlKG5ld1ZhbCkpO1xyXG5cdFx0XHRcdCR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdG5nTW9kZWxDdHJsLiRyZW5kZXIgPSAoKSA9PiBzZXREYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQkaW5wdXQub24oJ2RwLmNoYW5nZScsIGUgPT4ge1xyXG5cdFx0XHRcdFx0dmFyIG5ld0RhdGVWYWx1ZSA9IGVbJ2RhdGUnXSA/IGdldFVwZGF0ZWREYXRlVmFsdWUoJHNjb3BlLm1vZGVsLCBlWydkYXRlJ10udG9EYXRlKCksICRzY29wZS5kYXRlcGFydCkgOiBudWxsO1xyXG5cdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXdEYXRlVmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZS5kcCcgKyB1aWQpO1xyXG5cdFx0XHRcdHZhciBwaWNrZXIgPSBnZXRQaWNrZXIoKTtcclxuXHRcdFx0XHRpZiAocGlja2VyKVxyXG5cdFx0XHRcdFx0Z2V0UGlja2VyKCkuZGVzdHJveSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRcdCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRcdFx0JGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRcdFx0JGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSkgPT5cclxuXHRcdFx0bmV3IEl6ZW5kYURhdGVUaW1lUGlja2VyKCR3aW5kb3csICR0aW1lb3V0LCAkaXplbmRhTG9jYWxlU2VydmljZSwgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhRGF0ZVRpbWVQaWNrZXInLFxyXG5cdFsnJHdpbmRvdycsICckdGltZW91dCcsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCBJemVuZGFEYXRlVGltZVBpY2tlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFSZXBvcnRWaWV3ZXJSb290U2NvcGUgZXh0ZW5kcyBuZy5JUm9vdFNjb3BlU2VydmljZSB7XHJcblx0aXNEcmFnZ2luZ05vdzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0YWxsb3dDb2xSZW9yZGVyOiBhbnk7XHJcblx0YWxsb3dlZENvbHVtbnNGb3JSZW9yZGVyOiBhbnk7XHJcblx0cmVwb3J0U2V0T3B0aW9uczogeyBpc1ZnVXNlZDogYm9vbGVhbjsgdmdTdHlsZTogc3RyaW5nLCBzb3J0ZWRBY3RpdmVGaWVsZHM6IGFueVtdIH07XHJcblx0YWxsb3dDb2xSZW1vdmU6IGFueTtcclxuXHRkcm9wcGFibGVBY2NlcHQ6IGFueTtcclxuXHRvblJlb3JkZXI6IGFueTtcclxuXHRvbkhlYWRlckNsaWNrOiBhbnk7XHJcblx0b25QYWdpbmdDbGljazogYW55O1xyXG5cdG9uRHJhZ092ZXI6IGFueTtcclxuXHRvblJlbW92ZTogYW55O1xyXG5cdGVtcHR5VGV4dDogYW55O1xyXG5cdGN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlcjogYW55O1xyXG5cdGh0bWxUZXh0OiBhbnk7XHJcblxyXG5cdHJlb3JkZXJTdGF0ZTogYW55O1xyXG5cdCR0YWJsZTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhUmVwb3J0Vmlld2VyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0YWxsb3dDb2xSZW9yZGVyOiAnQCcsXHJcblx0XHRhbGxvd2VkQ29sdW1uc0ZvclJlb3JkZXI6ICc9JyxcclxuXHRcdHJlcG9ydFNldE9wdGlvbnM6ICc9JyxcclxuXHRcdGFsbG93Q29sUmVtb3ZlOiAnQCcsXHJcblx0XHRkcm9wcGFibGVBY2NlcHQ6ICdAJyxcclxuXHRcdG9uUmVvcmRlcjogJyYnLFxyXG5cdFx0b25IZWFkZXJDbGljazogJyYnLFxyXG5cdFx0b25QYWdpbmdDbGljazogJyYnLFxyXG5cdFx0b25EcmFnT3ZlcjogJyYnLFxyXG5cdFx0b25SZW1vdmU6ICcmJyxcclxuXHRcdGVtcHR5VGV4dDogJz0nLFxyXG5cdFx0Y3VycmVudEluc2VydENvbHVtbk9yZGVyOiAnPScsXHJcblx0XHRodG1sVGV4dDogJz0nXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxkaXYgY2xhc3M9XCJpemVuZGEtcmVwb3J0LXZpZXdlclwiPlxyXG5cdDxkaXYgY2xhc3M9XCJodG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlciBoaWRkZW5cIj48L2Rpdj5cclxuXHQ8ZGl2IGNsYXNzPVwiaHRtbC1jb250YWluZXItbG9hZGluZ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBuZy1iaW5kPVwiOjogJ2pzX0xvYWRpbmcnIHwgaXplbmRhTG9jYWxlOiAnTG9hZGluZy4uLidcIj48L2Rpdj5cclxuXHQ8ZGl2IGlkPVwicmVuZGVyZWRSZXBvcnREaXZcIiBjbGFzcz1cImh0bWwtY29udGFpbmVyXCI+PC9kaXY+XHJcbjwvZGl2PmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclJvb3RTY29wZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cdFx0SXplbmRhUmVwb3J0Vmlld2VyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdFx0Ly8gYXBwbHkgdGlsZSBodG1sIGZ1bmN0aW9uXHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyID0gJGVsZW1lbnQuZmluZCgnLmh0bWwtY29udGFpbmVyJyk7XHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyTG9hZGluZyA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1sb2FkaW5nJyk7XHJcblx0XHRcdGNvbnN0ICRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIgPSAkZWxlbWVudC5maW5kKCcuaHRtbC1jb250YWluZXItcGxhY2Vob2xkZXInKTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBQcmVwYXJlIHJlcG9ydCB0YWJsZVxyXG5cdFx0XHQgKiBAcGFyYW0ge2pxdWVyeSBvYmplY3R9ICR0YWJsZSBcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHByb2Nlc3NSZXBvcnRUYWJsZSA9ICgpID0+IHtcclxuXHRcdFx0XHQvLyBwcmVwYXJlIHRhYmxlXHJcblx0XHRcdFx0aWYgKCFJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUlzR29vZCgkc2NvcGUuJHRhYmxlKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkQ29sUmVvcmRlckhhbmRsZXIoJHNjb3BlLCAkdGltZW91dCwgKCRmcm9tLCAkdG8sIGlzVmlzdWFsR3JvdXApID0+IHtcclxuXHRcdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5vblJlb3JkZXIoJHNjb3BlLCAkZnJvbSwgJHRvLCBpc1Zpc3VhbEdyb3VwKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBhZGQgb3RoZXIgaGFuZGxlcnNcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkRHJhZ0hhbmRsZXJzKCRzY29wZSwgJHJvb3RTY29wZSwgJGVsZW1lbnQpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5hZGRDbGlja0hhbmRsZXIoJHNjb3BlKTtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIuYWRkQ29sUmVtb3ZlQnV0dG9ucygkc2NvcGUpO1xyXG5cdFx0XHRcdGl6ZW5kYS5yZXBvcnQucmVnaXN0ZXJQb3N0UmVuZGVySGFuZGxlcnMoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBseSByZXBvcnQgY29udGVudCBodG1sXHJcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgYXBwbHlIdG1sID0gKGh0bWw6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdC8vIHNob3cvaGlkZSBsb2FkaW5nIGluZGljYXRvclxyXG5cdFx0XHRcdGlmIChodG1sID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci5oaWRlKCk7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lckxvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lci5zaG93KCk7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lckxvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBlbXB0eSByZXN1bHRcclxuXHRcdFx0XHRpZiAodHlwZW9mIChodG1sKSAhPT0gJ3N0cmluZycgfHwgKGh0bWwgJiYgdHlwZW9mIChodG1sKSA9PT0gJ3N0cmluZycgJiYgaHRtbC50cmltKCkgPT09ICcnKSkge1xyXG5cdFx0XHRcdFx0JGh0bWxDb250YWluZXIudGV4dCgkc2NvcGUuZW1wdHlUZXh0KTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGh0bWxDb250YWluZXIuaHRtbChodG1sKTtcclxuXHJcblx0XHRcdFx0Ly8gaXMgcGFnaW5nIGVuYWJsZWRcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJlcGFyZVBhZ2VMaW5rcygkc2NvcGUsICRodG1sQ29udGFpbmVyKTtcclxuXHRcdFx0XHRJemVuZGFSZXBvcnRWaWV3ZXIucHJlcGFyZVBhZ2luZ0lucHV0KCRzY29wZSwgJGh0bWxDb250YWluZXIpO1xyXG5cdFx0XHRcdEl6ZW5kYVJlcG9ydFZpZXdlci5wcmVwYXJlR29Ub1JlY29yZEJ0bigkc2NvcGUsICRodG1sQ29udGFpbmVyKTtcclxuXHJcblx0XHRcdFx0JHNjb3BlLiR0YWJsZSA9ICRodG1sQ29udGFpbmVyLmZpbmQoJ3RhYmxlW25hbWU9cmVwb3J0VGFibGVdLHRhYmxlLlJlcG9ydFRhYmxlJyk7XHJcblx0XHRcdFx0aWYgKCRzY29wZS4kdGFibGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Ly8gcHJlcGFyZSByZXBvcnQgdGFibGVcclxuXHRcdFx0XHRcdHByb2Nlc3NSZXBvcnRUYWJsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGh0bWxUZXh0IGNoYW5nZSBoYW5kbGVyXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2h0bWxUZXh0JywgKG5ld1ZhbDogc3RyaW5nKSA9PiBhcHBseUh0bWwobmV3VmFsKSk7XHJcblxyXG5cdFx0XHQvLyBpcyBkcmFnZ2luZyBlbmFibGVkIGhhbmRsZXJcclxuXHRcdFx0JHJvb3RTY29wZS4kd2F0Y2goJ2lzRHJhZ2dpbmdOb3cnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdGlmICghbmV3VmFsKSB7XHJcblx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gcnVuXHJcblx0XHRcdGFwcGx5SHRtbCgkc2NvcGUuaHRtbFRleHQpO1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGFueSBraW5kIG9mIHZpc3VhbCBncm91cCBhcHBsaWVkLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGlzVmdBcHBseWVkKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci5pc09iamVjdCgkc2NvcGUucmVwb3J0U2V0T3B0aW9ucylcclxuXHRcdFx0PyAkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy5pc1ZnVXNlZFxyXG5cdFx0XHQ6IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgYXBwbGllZCBBRyBvciBWR0hpZXJhcmNoeS5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBpc1RhYmxlQ29udGFpblZnQ29sdW1ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIEl6ZW5kYVJlcG9ydFZpZXdlci5pc1ZnQXBwbHllZCgkc2NvcGUpICYmXHJcblx0XHRcdFsnQW5hbHlzaXNHcmlkJywgJ1ZHSGllcmFyY2h5J10uaW5kZXhPZigkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy52Z1N0eWxlKSA+PSAwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FsY3VsYXRlIGNvdW50IG9mIHZpc3VhbCBncm91cCBjb2x1bW4uXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2V0Q291bnRPZlZnQ29sdW1ucygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IG51bWJlciB7XHJcblx0XHRsZXQgY291bnRPZlZnQ29sdW1ucyA9IDA7XHJcblx0XHRpZiAoSXplbmRhUmVwb3J0Vmlld2VyLmlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZSkpIHtcclxuXHRcdFx0dmFyIGZpZWxkc0luVGFibGUgPSAkc2NvcGUucmVwb3J0U2V0T3B0aW9ucy5zb3J0ZWRBY3RpdmVGaWVsZHM7XHJcblx0XHRcdGNvdW50T2ZWZ0NvbHVtbnMgPSBmaWVsZHNJblRhYmxlLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5pc1ZnVXNlZCkubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNvdW50T2ZWZ0NvbHVtbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZmllbGRzIHdoaWNoIGhhdmUgb3duIGNvbHVtbiBpbiBwcmV2aWV3IHRhYmxlXHJcblx0ICogQHJldHVybnMge0FycmF5fSBhcnJheSBvZiBmaWVsZCBvYmplY3RzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGdldENvbHVtbkZpZWxkcygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSk6IGFueVtdIHtcclxuXHRcdGxldCBmaWVsZHNJblRhYmxlOiBhbnlbXTtcclxuXHRcdGlmIChJemVuZGFSZXBvcnRWaWV3ZXIuaXNUYWJsZUNvbnRhaW5WZ0NvbHVtbnMoJHNjb3BlKSlcclxuXHRcdFx0ZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcztcclxuXHRcdGVsc2VcclxuXHRcdFx0ZmllbGRzSW5UYWJsZSA9ICRzY29wZS5yZXBvcnRTZXRPcHRpb25zLnNvcnRlZEFjdGl2ZUZpZWxkcy5maWx0ZXIoZmllbGQgPT4gIWZpZWxkLmlzVmdVc2VkKTtcclxuXHRcdHJldHVybiBmaWVsZHNJblRhYmxlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgaXNUYWJsZUlzR29vZCgkdGFibGU6IEpRdWVyeTxIVE1MRWxlbWVudD4pOiBib29sZWFuIHtcclxuXHRcdGlmICghJHRhYmxlKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHQvLyBpZiBubyB0YWJsZSBoZWFkZXJzIC0gc3RvcDpcclxuXHRcdHZhciAkdGFibGVIZWFkZXIgPSAkdGFibGUuY2hpbGRyZW4oJ3Rib2R5JykuY2hpbGRyZW4oJ3RyLlJlcG9ydEhlYWRlcicpO1xyXG5cdFx0aWYgKCR0YWJsZUhlYWRlci5sZW5ndGggPT09IDApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdC8vIGNoZWNrIGlmIHRhYmxlIGNvbnRhaW5zIHZpc3VhbCBncm91cHM6XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBjb2wgcmVvcmRlciBoYW5kbGVyLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENvbFJlb3JkZXJIYW5kbGVyKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCBvbkNvbHVtblJlb3JkZXJDb21wbGV0ZWQ6ICguLi5hbnkpID0+IHZvaWQpIHtcclxuXHRcdGlmICgkc2NvcGUuYWxsb3dDb2xSZW9yZGVyICE9PSAndHJ1ZScpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHRjb25zdCBib2R5T25zZWxlY3RzdGFydFNhdmUgPSBTdHJpbmcoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnKSk7XHJcblx0XHRjb25zdCBib2R5VW5zZWxlY3RhYmxlU2F2ZSA9IFN0cmluZyhhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJykpO1xyXG5cdFx0Y29uc3QgZGlzYWJsZVRleHRTZWxlY3Rpb24gPSAoKSA9PiB7XHJcblx0XHRcdC8vIGpRdWVyeSBkb2Vzbid0IHN1cHBvcnQgdGhlIGVsZW1lbnQudGV4dCBhdHRyaWJ1dGUgaW4gTVNJRSA4XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjY5Mjc3MC9zdHlsZS1zdHlsZS10ZXh0Y3NzLWFwcGVuZHRvaGVhZC1kb2VzLW5vdC13b3JrLWluLWllXHJcblx0XHRcdHZhciAkc3R5bGUgPVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChcclxuXHRcdFx0XHRcdCc8c3R5bGUgaWQ9XCJfX2Rpc2FibGVfdGV4dF9zZWxlY3Rpb25fX1wiIHR5cGU9XCJ0ZXh0L2Nzc1wiPmJvZHkgeyAtbXMtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Oi1tb3otbm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTsgfTwvc3R5bGU+Jyk7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5hcHBlbmQoJHN0eWxlKTtcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmF0dHIoJ29uc2VsZWN0c3RhcnQnLCAncmV0dXJuIGZhbHNlOycpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsICdvbicpO1xyXG5cdFx0XHRpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xyXG5cdFx0XHRcdHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTsgLy8gTVNJRSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzU4NjklMjh2PVZTLjg1JTI5LmFzcHhcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNvbnN0IHJlc3RvcmVUZXh0U2VsZWN0aW9uID0gKCkgPT4ge1xyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnQoJyNfX2Rpc2FibGVfdGV4dF9zZWxlY3Rpb25fXycpLnJlbW92ZSgpO1xyXG5cdFx0XHRpZiAoYm9keU9uc2VsZWN0c3RhcnRTYXZlKVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hdHRyKCdvbnNlbGVjdHN0YXJ0JywgYm9keU9uc2VsZWN0c3RhcnRTYXZlKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCdvbnNlbGVjdHN0YXJ0Jyk7XHJcblx0XHRcdGlmIChib2R5VW5zZWxlY3RhYmxlU2F2ZSlcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJywgYm9keVVuc2VsZWN0YWJsZVNhdmUpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ3Vuc2VsZWN0YWJsZScpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGNyZWF0ZUhlbHBlciA9IGlubmVyT2Zmc2V0ID0+IHtcclxuXHRcdFx0dmFyICRjZWxsID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbTtcclxuXHRcdFx0dmFyICRjbG9uZSA9ICRjZWxsLmNsb25lKCkud3JhcCgnPGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGVscGVyXCI+PC9kaXY+JykucGFyZW50KCk7XHJcblx0XHRcdCRjbG9uZS53aWR0aCgkY2VsbC5vdXRlcldpZHRoKCkpO1xyXG5cdFx0XHQkY2xvbmUuaGVpZ2h0KCRjZWxsLm91dGVySGVpZ2h0KCkpO1xyXG5cdFx0XHQkY2xvbmUuY3NzKCd0b3AnLCAkY2VsbC5wb3NpdGlvbigpLnRvcCk7XHJcblx0XHRcdCRjbG9uZS5jc3MoJ2xlZnQnLCAkY2VsbC5wb3NpdGlvbigpLmxlZnQgKyBpbm5lck9mZnNldCk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGhlbHBlciA9ICRjbG9uZTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5oZWxwZXJPZmZzZXQgPSBpbm5lck9mZnNldDtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5hcHBlbmQoJGNsb25lKTtcclxuXHRcdFx0cmV0dXJuICRjbG9uZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCByZW1vdmVIZWxwZXIgPSAoKSA9PiB7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJGhlbHBlci5yZW1vdmUoKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBiZWZvcmVSZW9yZGVyU3RhcnRlZCA9ICgpID0+IHtcclxuXHRcdFx0ZGlzYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kZnJvbS5hZGRDbGFzcygnaXplbmRhLXJlb3JkZXItY2VsbC1zZWxlY3RlZCcpO1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLnByZXZpb3VzUG9zaXRpb24gPSAkc2NvcGUuJHRhYmxlLmNzcygncG9zaXRpb24nKTtcclxuXHRcdFx0JHNjb3BlLiR0YWJsZS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgYWZ0ZXJSZW9yZGVyQ29tcGxldGVkID0gKCkgPT4ge1xyXG5cdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLnJlbW92ZUNsYXNzKCdpemVuZGEtcmVvcmRlci1jZWxsLXNlbGVjdGVkJyk7XHJcblx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZSA9IG51bGw7XHJcblx0XHRcdCRzY29wZS4kdGFibGUuY3NzKCdwb3NpdGlvbicsICRzY29wZS5yZW9yZGVyU3RhdGUucHJldmlvdXNQb3NpdGlvbik7XHJcblx0XHRcdCRzY29wZS4kdGFibGUuZmluZCgnLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb2wtcmVvcmRlci1hY3RpdmUnKTtcclxuXHRcdFx0cmVtb3ZlSGVscGVyKCk7XHJcblx0XHRcdHJlc3RvcmVUZXh0U2VsZWN0aW9uKCk7XHJcblx0XHR9O1xyXG5cdFx0Y29uc3QgZ2V0Q3VycmVudEl0ZW1zRm9yUmVvcmRlciA9ICgpID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLml0ZW1zQ2FjaGUpIHtcclxuXHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLml0ZW1zQ2FjaGUgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLnBhcmVudCgpLmNoaWxkcmVuKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICRzY29wZS5yZW9yZGVyU3RhdGUuaXRlbXNDYWNoZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBjb21wbGV0ZVJlb3JkZXIgPSAoKSA9PiB7XHJcblx0XHRcdGlmICghJHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdGFmdGVyUmVvcmRlckNvbXBsZXRlZCgpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZCkpIHtcclxuXHRcdFx0XHR2YXIgaXNWZyA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uYXR0cignZGF0YS1pcy12Zy1jb2x1bW4nKSA9PT0gJ3RydWUnO1xyXG5cdFx0XHRcdG9uQ29sdW1uUmVvcmRlckNvbXBsZXRlZCgkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLCAkc2NvcGUucmVvcmRlclN0YXRlLiR0bywgaXNWZyk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZSA9IHtcclxuXHRcdFx0c3RhcnRlZDogZmFsc2UsXHJcblx0XHRcdCRmcm9tOiBudWxsXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGFkZCB0YWJsZSBoYW5kbGVyczpcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub2ZmKCdtb3VzZW1vdmUuaXplbmRhQ29sUmVvcmRlcicpO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vZmYoJ21vdXNldXAuaXplbmRhQ29sUmVvcmRlcicpO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vbignbW91c2Vtb3ZlLml6ZW5kYUNvbFJlb3JkZXInLCBlID0+IHtcclxuXHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLnN0YXJ0ZWQpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50VGFibGVYID0gZS5wYWdlWCAtICRzY29wZS4kdGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0Y29uc3QgaXNGcm9tQ29sdW1uVmcgPSAkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJykgPT09ICd0cnVlJztcclxuXHJcblxyXG5cdFx0XHQvLyBoaWdobGlnaHQgY3VycmVudCBjb2x1bW5cclxuXHRcdFx0dmFyICR0ZHMgPSBnZXRDdXJyZW50SXRlbXNGb3JSZW9yZGVyKCk7XHJcblx0XHRcdHZhciAkdG9UZCA9IG51bGw7XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0ZHMsIChpVGQsIHRkKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGN1cnJUZCA9IGFuZ3VsYXIuZWxlbWVudCh0ZCk7XHJcblx0XHRcdFx0Y29uc3QgdGRMZWZ0ID0gJGN1cnJUZC5wb3NpdGlvbigpLmxlZnQsIHRkV2lkdGggPSAkY3VyclRkLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHRjb25zdCBpc1RkQ29sdW1uVmcgPSBTdHJpbmcoJGN1cnJUZC5hdHRyKCdkYXRhLWlzLXZnLWNvbHVtbicpKSA9PT0gJ3RydWUnO1xyXG5cdFx0XHRcdGlmICghJGN1cnJUZC5oYXNDbGFzcygnaXplbmRhLWNvbC1yZW9yZGVyLWRpc2FibGVkJykgJiZcclxuXHRcdFx0XHRcdGlzRnJvbUNvbHVtblZnID09PSBpc1RkQ29sdW1uVmcgJiZcclxuXHRcdFx0XHRcdGN1cnJlbnRUYWJsZVggPj0gdGRMZWZ0ICYmXHJcblx0XHRcdFx0XHRjdXJyZW50VGFibGVYIDwgdGRMZWZ0ICsgdGRXaWR0aCkge1xyXG5cdFx0XHRcdFx0JHRvVGQgPSAkY3VyclRkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBpcyAkdG9UZCBjaGFuZ2VkP1xyXG5cdFx0XHRpZiAoJHRvVGQgJiYgKCEkc2NvcGUucmVvcmRlclN0YXRlLiR0byB8fCAkdG9UZC5pbmRleCgpICE9PSAkc2NvcGUucmVvcmRlclN0YXRlLiR0by5pbmRleCgpKSkge1xyXG5cdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuJHRvID0gJHRvVGQ7XHJcblxyXG5cdFx0XHRcdCR0ZHMucmVtb3ZlQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJyk7XHJcblx0XHRcdFx0aWYgKCEkc2NvcGUucmVvcmRlclN0YXRlLiR0by5oYXNDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1hY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8uYWRkQ2xhc3MoJ2l6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBidWJibGUgaW5uZXIgY29udGVudFxyXG5cdFx0XHRcdGNvbnN0IGZyb21JbmRleCA9ICRzY29wZS5yZW9yZGVyU3RhdGUuJGZyb20uaW5kZXgoKTtcclxuXHRcdFx0XHRjb25zdCB0b0luZGV4ID0gJHNjb3BlLnJlb3JkZXJTdGF0ZS4kdG8uaW5kZXgoKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkdGRzLCAoaVRkLCB0ZCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGN1cnJUZDIgPSBhbmd1bGFyLmVsZW1lbnQodGQpO1xyXG5cdFx0XHRcdFx0Y29uc3QgJGJhY2t1cHMgPSAkY3VyclRkMi5jaGlsZHJlbignLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRpZiAoJGJhY2t1cHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHQkY3VyclRkMi5jaGlsZHJlbigpLm5vdCgnLml6ZW5kYS1jb21tb24tY29sLXJlb3JkZXItaGlkZGVuJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkY3VyclRkMi5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdpemVuZGEtY29tbW9uLWNvbC1yZW9yZGVyLWhpZGRlbicpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRsZXQgJGN1cnJlbnRUZDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHRcdFx0XHRsZXQgJG5leHRUZDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHRcdFx0XHRsZXQgaTogbnVtYmVyO1xyXG5cdFx0XHRcdGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPCB0b0luZGV4OyBpKyspIHtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2ldKTtcclxuXHRcdFx0XHRcdFx0JG5leHRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2kgKyAxXSk7XHJcblx0XHRcdFx0XHRcdCRjdXJyZW50VGQuY2hpbGRyZW4oKS5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5hcHBlbmQoJG5leHRUZC5jaGlsZHJlbigpLmNsb25lKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPiB0b0luZGV4OyBpLS0pIHtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2ldKTtcclxuXHRcdFx0XHRcdFx0JG5leHRUZCA9IGFuZ3VsYXIuZWxlbWVudCgkdGRzW2kgLSAxXSk7XHJcblx0XHRcdFx0XHRcdCRjdXJyZW50VGQuY2hpbGRyZW4oKS5hZGRDbGFzcygnaXplbmRhLWNvbW1vbi1jb2wtcmVvcmRlci1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JGN1cnJlbnRUZC5hcHBlbmQoJG5leHRUZC5jaGlsZHJlbigpLmNsb25lKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbW92ZSBoZWxwZXJcclxuXHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS4kaGVscGVyLmNzcygnbGVmdCcsIGN1cnJlbnRUYWJsZVggLSAkc2NvcGUucmVvcmRlclN0YXRlLmhlbHBlck9mZnNldCk7XHJcblx0XHR9KTtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub24oJ21vdXNldXAuaXplbmRhQ29sUmVvcmRlcicsICgpID0+IHtcclxuXHRcdFx0aWYgKCRzY29wZS5yZW9yZGVyU3RhdGUuZG93blRpbWVyKVxyXG5cdFx0XHRcdCR0aW1lb3V0LmNhbmNlbCgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcik7XHJcblx0XHRcdGNvbXBsZXRlUmVvcmRlcigpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gaW5pdGlhbGl6ZTpcclxuXHRcdHZhciAkaGVhZGVyUm93cyA9ICRzY29wZS4kdGFibGUuZmluZCgndHIuUmVwb3J0SGVhZGVyJyk7XHJcblxyXG5cdFx0Ly8gZmllbGRzSW5UYWJsZSBzaG91bGQgY29udGFpbiBvbmx5IGZpZWxkcyB3aGljaCBoYXZlIGNvbHVtblxyXG5cdFx0dmFyIGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkaGVhZGVyUm93cywgKGlIZWFkZXJSb3csIHRhYmxlSGVhZGVyKSA9PiB7XHJcblx0XHRcdHZhciAkdGFibGVIZWFkZXIgPSBhbmd1bGFyLmVsZW1lbnQodGFibGVIZWFkZXIpO1xyXG5cdFx0XHRpZiAoJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCcuRW1wdHlDZWxsJykubGVuZ3RoID4gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKSwgKGlDZWxsLCBjZWxsKSA9PiB7XHJcblx0XHRcdFx0dmFyICRjZWxsID0gYW5ndWxhci5lbGVtZW50KGNlbGwpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA8IGZpZWxkc0luVGFibGUubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRpZiAoSXplbmRhUmVwb3J0Vmlld2VyLmlzVGFibGVDb250YWluVmdDb2x1bW5zKCRzY29wZSkpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkID0gZmllbGRzSW5UYWJsZVtpQ2VsbF07XHJcblx0XHRcdFx0XHRcdCRjZWxsLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJywgZmllbGQuaXNWZ1VzZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRjZWxsLmF0dHIoJ2RhdGEtaXMtdmctY29sdW1uJywgJ2ZhbHNlJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gbW91c2UgZG93biBoYW5kbGVyXHJcblx0XHRcdFx0XHQkY2VsbC5vbignbW91c2Vkb3duLml6ZW5kYUNvbFJlb3JkZXInLCBlID0+IHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnJlb3JkZXJTdGF0ZS5zdGFydGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGlmIChlLndoaWNoICE9PSAxKSByZXR1cm47XHJcblx0XHRcdFx0XHRcdGlmICgkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lcilcclxuXHRcdFx0XHRcdFx0XHQkdGltZW91dC5jYW5jZWwoJHNjb3BlLnJlb3JkZXJTdGF0ZS5kb3duVGltZXIpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lciA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLiRmcm9tID0gYW5ndWxhci5lbGVtZW50KGUuZGVsZWdhdGVUYXJnZXQpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUucmVvcmRlclN0YXRlLmRvd25UaW1lciA9ICR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRiZWZvcmVSZW9yZGVyU3RhcnRlZCgpO1xyXG5cdFx0XHRcdFx0XHRcdGNyZWF0ZUhlbHBlcihlLm9mZnNldFgpO1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5yZW9yZGVyU3RhdGUuc3RhcnRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGNlbGwuYWRkQ2xhc3MoJ2l6ZW5kYS1jb2wtcmVvcmRlci1kaXNhYmxlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlb3JkZXIgY29tcGxldGVkIGhhbmRsZXJcclxuXHQgKiBAcGFyYW0ge2pxdWVyeSBkb20gZWxlbWVudH0gJGZyb20uIEVsZW1lbnQgd2hpY2ggd2UgZHJhZ2dlZFxyXG5cdCAqIEBwYXJhbSB7anF1ZXJ5IGRvbSBlbGVtZW50fSAkdG8uICRmcm9tIGVsZW1lbnQgZHJvcHBlZCB0byB0aGlzIGVsZW1lbnQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgb25SZW9yZGVyKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkZnJvbSwgJHRvLCBpc1ZnKSB7XHJcblx0XHRpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZW9yZGVyKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKCEkdG8gfHwgISRmcm9tKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRsZXQgZnJvbUluZGV4ID0gJGZyb20uaW5kZXgoKTtcclxuXHRcdGxldCB0b0luZGV4ID0gJHRvLmluZGV4KCk7XHJcblx0XHRpZiAoZnJvbUluZGV4ID09PSB0b0luZGV4KVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRpZiAoIWlzVmcpIHtcclxuXHRcdFx0Y29uc3QgdmdDb2x1bW5zQ291bnQgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q291bnRPZlZnQ29sdW1ucygkc2NvcGUpO1xyXG5cdFx0XHRmcm9tSW5kZXggLT0gdmdDb2x1bW5zQ291bnQ7XHJcblx0XHRcdHRvSW5kZXggLT0gdmdDb2x1bW5zQ291bnQ7XHJcblx0XHR9XHJcblx0XHQkc2NvcGUub25SZW9yZGVyKHsgYXJnMDogZnJvbUluZGV4LCBhcmcxOiB0b0luZGV4LCBhcmcyOiBpc1ZnIH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBkcmFnIGhhbmRsZXJzIHRvIHRhYmxlXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWRkRHJhZ0hhbmRsZXJzKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkge1xyXG5cdFx0Y29uc3QgJGh0bWxDb250YWluZXJQbGFjZWhvbGRlciA9ICRlbGVtZW50LmZpbmQoJy5odG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpO1xyXG5cclxuXHRcdC8vIG1vdXNlIG92ZXJcclxuXHRcdGlmICghYW5ndWxhci5pc1N0cmluZygkc2NvcGUuZHJvcHBhYmxlQWNjZXB0KSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgJGN1cnJlbnR0YWJsZSA9ICRzY29wZS4kdGFibGU7XHJcblx0XHRsZXQgY3VycmVudFRhYmxlTGVmdCA9ICRjdXJyZW50dGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuaGVpZ2h0KCRjdXJyZW50dGFibGUuaGVpZ2h0KCkpO1xyXG5cclxuXHRcdGNvbnN0IGNvbHVtbkNvb3JkczogQXJyYXk8eyBsZWZ0OiBudW1iZXI7IHdpZHRoOiBudW1iZXIgfT4gPSBbXTtcclxuXHRcdGNvbnN0ICRjdXJyZW50dGFibGVIZWFkZXIgPSAkc2NvcGUuJHRhYmxlLmZpbmQoJ3RyLlJlcG9ydEhlYWRlcicpLmxhc3QoKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRjb25zdCAkY3VycmVudHRhYmxlUm93cyA9ICRjdXJyZW50dGFibGVIZWFkZXIuY2hpbGRyZW4oJ3RkJykuc2xpY2UoMCwgZmllbGRzSW5UYWJsZS5sZW5ndGgpO1xyXG5cdFx0Y29uc3QgY291bnRPZlZnQ29sdW1ucyA9IEl6ZW5kYVJlcG9ydFZpZXdlci5nZXRDb3VudE9mVmdDb2x1bW5zKCRzY29wZSk7XHJcblxyXG5cdFx0Ly8gY2FsY3VsYXRlIFxyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJGN1cnJlbnR0YWJsZVJvd3MsIChpVGg6IG51bWJlciwgdGg6IGFueSkgPT4ge1xyXG5cdFx0XHR2YXIgJHRoID0gYW5ndWxhci5lbGVtZW50KHRoKTtcclxuXHRcdFx0aWYgKGlUaCA+PSBjb3VudE9mVmdDb2x1bW5zKSB7XHJcblx0XHRcdFx0Y29sdW1uQ29vcmRzLnB1c2goe1xyXG5cdFx0XHRcdFx0bGVmdDogJHRoLnBvc2l0aW9uKCkubGVmdCxcclxuXHRcdFx0XHRcdHdpZHRoOiAkdGgub3V0ZXJXaWR0aCgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIG1vdXNlIGVudGVyIGhhbmRsZXJcclxuXHRcdCRzY29wZS4kdGFibGUub24oJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcblx0XHRcdGlmICghJHJvb3RTY29wZS5pc0RyYWdnaW5nTm93KVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Y3VycmVudFRhYmxlTGVmdCA9ICRjdXJyZW50dGFibGUub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ3RvcCcsICRjdXJyZW50dGFibGUucG9zaXRpb24oKS50b3AgKyAncHgnKTtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5oZWlnaHQoJGN1cnJlbnR0YWJsZS5oZWlnaHQoKSk7XHJcblx0XHRcdGlmIChjb2x1bW5Db29yZHMubGVuZ3RoID4gMClcclxuXHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIGNvbHVtbkNvb3Jkc1swXS5sZWZ0ICsgJ3B4Jyk7XHJcblx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gbW91c2UgbGVhdmUgaGFuZGxlclxyXG5cdFx0JHNjb3BlLiR0YWJsZS5vbignbW91c2VsZWF2ZScsICgpID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRpZiAoZXZlbnRbJ3RvRWxlbWVudCddICYmIGFuZ3VsYXIuZWxlbWVudChldmVudFsndG9FbGVtZW50J10pLmhhc0NsYXNzKCdodG1sLWNvbnRhaW5lci1wbGFjZWhvbGRlcicpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBtb3VzZSBtb3ZlIGhhbmRsZXJcclxuXHRcdCRzY29wZS4kdGFibGUub24oJ21vdXNlbW92ZScsIGV2ZW50ID0+IHtcclxuXHRcdFx0aWYgKCEkcm9vdFNjb3BlLmlzRHJhZ2dpbmdOb3cpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR2YXIgbGVmdCA9IGV2ZW50LnBhZ2VYIC0gY3VycmVudFRhYmxlTGVmdDtcclxuXHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCBjb2x1bW5Db29yZHMubGVuZ3RoOyBrKyspIHtcclxuXHRcdFx0XHRjb25zdCBjb2x1bW4gPSBjb2x1bW5Db29yZHNba107XHJcblx0XHRcdFx0aWYgKGsgPCBjb2x1bW5Db29yZHMubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbmV4dENvbHVtbiA9IGNvbHVtbkNvb3Jkc1trICsgMV07XHJcblx0XHRcdFx0XHRpZiAoY29sdW1uLmxlZnQgPD0gbGVmdCAmJiBsZWZ0IDwgbmV4dENvbHVtbi5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdGlmIChsZWZ0IDw9IGNvbHVtbi5sZWZ0ICsgKG5leHRDb2x1bW4ubGVmdCAtIGNvbHVtbi5sZWZ0KSAvIDIpIHtcclxuXHRcdFx0XHRcdFx0XHQkaHRtbENvbnRhaW5lclBsYWNlaG9sZGVyLmNzcygnbGVmdCcsIGNvbHVtbi5sZWZ0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLmN1cnJlbnRJbnNlcnRDb2x1bW5PcmRlciA9IGs7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0JGh0bWxDb250YWluZXJQbGFjZWhvbGRlci5jc3MoJ2xlZnQnLCBuZXh0Q29sdW1uLmxlZnQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gayArIDE7XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGxlZnQgPj0gY29sdW1uLmxlZnQgKyBjb2x1bW4ud2lkdGggLyAyKSB7XHJcblx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgKGNvbHVtbi5sZWZ0ICsgY29sdW1uLndpZHRoKSArICdweCcpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gayArIDE7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChsZWZ0ID49IGNvbHVtbi5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdCRodG1sQ29udGFpbmVyUGxhY2Vob2xkZXIuY3NzKCdsZWZ0JywgKGNvbHVtbi5sZWZ0KSArICdweCcpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudEluc2VydENvbHVtbk9yZGVyID0gaztcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgdGFibGUgaGVhZGVyIGNsaWNrIGhhbmRsZXJcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZGRDbGlja0hhbmRsZXIoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpIHtcclxuXHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkhlYWRlckNsaWNrKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0ICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkaGVhZGVyUm93cywgKGlUYWJsZUhlYWRlciwgdGFibGVIZWFkZXIpID0+IHtcclxuXHRcdFx0dmFyICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudCh0YWJsZUhlYWRlcik7XHJcblx0XHRcdGlmICgkdGFibGVIZWFkZXIuY2hpbGRyZW4oJy5FbXB0eUNlbGwnKS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Ly8gaXRlcmF0ZSBoZWFkZXIgY2VsbHNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCd0ZCcpLCAoaUNlbGwsIGNlbGwpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkY2VsbCA9IGFuZ3VsYXIuZWxlbWVudChjZWxsKTtcclxuXHRcdFx0XHRpZiAoaUNlbGwgPj0gZmllbGRzSW5UYWJsZS5sZW5ndGgpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0JGNlbGwub24oJ21vdXNlZG93bicsIGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUud2hpY2ggIT09IDEpIHJldHVybjtcclxuXHRcdFx0XHRcdGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vbkhlYWRlckNsaWNrKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgJHRoaXMgPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZEluZGV4ID0gJHRoaXMuaW5kZXgoKTtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkhlYWRlckNsaWNrKHsgYXJnMDogZmllbGRzSW5UYWJsZVtmaWVsZEluZGV4XSB9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgYnV0dG9ucyB3aGljaCBhbGxvdyB0byByZW12b2UgdGFibGUgY29sdW1uc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFkZENvbFJlbW92ZUJ1dHRvbnMoJHNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyU2NvcGUpIHtcclxuXHRcdGlmICgkc2NvcGUuYWxsb3dDb2xSZW1vdmUgIT09ICd0cnVlJylcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0ICRoZWFkZXJSb3dzID0gJHNjb3BlLiR0YWJsZS5maW5kKCd0ci5SZXBvcnRIZWFkZXInKTtcclxuXHRcdGNvbnN0IGZpZWxkc0luVGFibGUgPSBJemVuZGFSZXBvcnRWaWV3ZXIuZ2V0Q29sdW1uRmllbGRzKCRzY29wZSk7XHJcblx0XHQvLyBpdGVyYXRlIGhlYWRlcnNcclxuXHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCRoZWFkZXJSb3dzLCAoaUhlYWRlclJvdywgaGVhZGVyUm93KSA9PiB7XHJcblx0XHRcdGNvbnN0ICR0YWJsZUhlYWRlciA9IGFuZ3VsYXIuZWxlbWVudChoZWFkZXJSb3cpO1xyXG5cdFx0XHRpZiAoJHRhYmxlSGVhZGVyLmNoaWxkcmVuKCcuRW1wdHlDZWxsJykubGVuZ3RoID4gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdC8vIGl0ZXJhdGUgaGVhZGVyIGNlbGxzXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudC5lYWNoKCR0YWJsZUhlYWRlci5jaGlsZHJlbigndGQnKSwgKGlDZWxsLCBjZWxsKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGNlbGwgPSBhbmd1bGFyLmVsZW1lbnQoY2VsbCk7XHJcblx0XHRcdFx0JGNlbGwuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xyXG5cdFx0XHRcdGlmIChpQ2VsbCA+PSBmaWVsZHNJblRhYmxlLmxlbmd0aClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQvLyBhZGQgY2VsbCBoYW5kbGVyc1xyXG5cdFx0XHRcdCRjZWxsLm9uKCdtb3VzZW92ZXIucmVtb3ZlYnRuJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0bicpLnNob3coKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkY2VsbC5vbignbW91c2VvdXQucmVtb3ZlYnRuJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcuaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0bicpLmhpZGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIGJ1dHRvblxyXG5cdFx0XHRcdGNvbnN0ICRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24gPVxyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1yZW1vdmUtY29sdW1uLWJ0blwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9kaXY+Jyk7XHJcblx0XHRcdFx0JGNlbGwuYXBwZW5kKCRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24pO1xyXG5cdFx0XHRcdCRyZXBvcnRDb2x1bW5SZW1vdmVCdXR0b24ub24oJ21vdXNlZG93bi5yZW1vdmVidG4nLCBlID0+IHtcclxuXHRcdFx0XHRcdGlmIChlLndoaWNoICE9PSAxKSByZXR1cm47XHJcblx0XHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uUmVtb3ZlKSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Y29uc3QgZmllbGRJbmRleCA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uUmVtb3ZlKHsgYXJnMDogZmllbGRzSW5UYWJsZVtmaWVsZEluZGV4XSB9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgJ29ua2V5ZG93bicgZXZlbnQgYW5kIGFkZCBvd24ga2V5ZG93biBhbmQgYmx1ciBldmVudHMsIHdoaWNoIGNhbGwgb25QYWdpbmdDbGljayBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7fSAkc2NvcGUgQ3VycmVudCBkaXJlY3RpdmUgc2NvcGUuXHJcblx0ICogQHBhcmFtIHt9ICRodG1sQ29udGFpbmVyIFJlcG9ydCBjb250YWluZXIsIHdoaWNoIGNvbnRhaW5zIHBhZ2luZyBjb250cm9sc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHByZXBhcmVQYWdpbmdJbnB1dCgkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGh0bWxDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcclxuXHRcdGNvbnN0ICRwYWdlSW5wdXRzID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLWV4YWN0LXBhZ2UtaW5wdXQnKTtcclxuXHRcdGlmICghJHBhZ2VJbnB1dHMubGVuZ3RoKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQuZWFjaCgkcGFnZUlucHV0cywgKGlQYWdlSW5wdXQsIHBhZ2VJbnB1dCkgPT4ge1xyXG5cdFx0XHR2YXIgJHBhZ2VJbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChwYWdlSW5wdXQpO1xyXG5cdFx0XHQkcGFnZUlucHV0LmF0dHIoJ29ua2V5ZG93bicsIG51bGwpO1xyXG5cclxuXHRcdFx0Ly8gaW5wdXQgY2hhbmdlZCBoYW5kbGVyXHJcblx0XHRcdHZhciBvbklucHV0Q2hhbmdlZCA9ICgkaW5wdXQ6IEpRdWVyeTxIVE1MRWxlbWVudD4pID0+IHtcclxuXHRcdFx0XHRjb25zdCBwYWdlc0NvdW50ID0gcGFyc2VJbnQoU3RyaW5nKCRpbnB1dC5hdHRyKCdkYXRhLXBhZ2VzLWNvdW50JykpKTtcclxuXHRcdFx0XHRjb25zdCBpdGVtc1BlclBhZ2UgPSBwYXJzZUludChTdHJpbmcoJGlucHV0LmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnKSkpO1xyXG5cdFx0XHRcdGxldCB2YWwgPSBOdW1iZXIoJGlucHV0LnZhbCgpKTtcclxuXHRcdFx0XHRpZiAodmFsIDwgMSkgdmFsID0gMTtcclxuXHRcdFx0XHRpZiAodmFsID4gcGFnZXNDb3VudCkgdmFsID0gcGFnZXNDb3VudDtcclxuXHRcdFx0XHRjb25zdCBzdGFydFJlY29yZCA9ICgodmFsIC0gMSkgKiBpdGVtc1BlclBhZ2UpICsgMTtcclxuXHRcdFx0XHRjb25zdCBmaW5pc2hSZWNvcmQgPSBzdGFydFJlY29yZCArIGl0ZW1zUGVyUGFnZSAtIDE7XHJcblx0XHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdFx0YXJnMDogJ2l6LXBhZ2VsaW5rLWV4YWN0LXBhZ2UtaW5wdXQnLFxyXG5cdFx0XHRcdFx0YXJnMTogc3RhcnRSZWNvcmQgKyAnLScgKyBmaW5pc2hSZWNvcmRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkcGFnZUlucHV0Lm9uKCdibHVyJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRcdHZhciAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChldmVudC5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0b25JbnB1dENoYW5nZWQoJHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHBhZ2VJbnB1dC5vbigna2V5ZG93bicsIGV2ZW50ID0+IHtcclxuXHRcdFx0XHR2YXIga2MgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoO1xyXG5cdFx0XHRcdGlmIChrYyAhPT0gMTMpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dmFyICR0aGlzID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0XHRvbklucHV0Q2hhbmdlZCgkdGhpcyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgJ29uY2xpY2snIGV2ZW50IGFuZCBhZGQgb3duIGNsaWNrIGV2ZW50LCB3aGljaCBjYWxsIG9uUGFnaW5nQ2xpY2sgaGFuZGxlci5cclxuXHQgKiBAcGFyYW0ge30gJHNjb3BlIGN1cnJlbnQgRGlyZWN0aXZlIHNjb3BlLlxyXG5cdCAqIEBwYXJhbSB7fSAkaHRtbENvbnRhaW5lciBSZXBvcnQgY29udGFpbmVyLCB3aGljaCBjb250YWlucyBwYWdpbmcgY29udHJvbHMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcHJlcGFyZVBhZ2VMaW5rcygkc2NvcGU6IElJemVuZGFSZXBvcnRWaWV3ZXJTY29wZSwgJGh0bWxDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcclxuXHRcdHZhciAkcGFnZUxpbmtzID0gJGh0bWxDb250YWluZXIuZmluZCgnLml6LXBhZ2VsaW5rLCAuaXotcGFnZWxpbmstZGlyZWN0aW9uLWJ0bicpO1xyXG5cdFx0aWYgKCEkcGFnZUxpbmtzLmxlbmd0aCB8fCAhYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5vblBhZ2luZ0NsaWNrKSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0YW5ndWxhci5lbGVtZW50LmVhY2goJHBhZ2VMaW5rcywgKGlQYWdlTGluaywgcGFnZUxpbmspID0+IHtcclxuXHRcdFx0Y29uc3QgJHBhZ2VMaW5rID0gYW5ndWxhci5lbGVtZW50KHBhZ2VMaW5rKTtcclxuXHRcdFx0Y29uc3Qgb25DbGlja1NjcmlwdCA9IFN0cmluZygkcGFnZUxpbmsuYXR0cignb25jbGljaycpKTtcclxuXHRcdFx0Y29uc3QgbWF0Y2hSZXN1bHQgPSAvcmVzdWx0cz0oXFxkK1xcLVxcZCspL2cuZXhlYyhvbkNsaWNrU2NyaXB0KTtcclxuXHRcdFx0aWYgKG1hdGNoUmVzdWx0ICYmIG1hdGNoUmVzdWx0Lmxlbmd0aCA9PT0gMilcclxuXHRcdFx0XHQkcGFnZUxpbmsuYXR0cignZGF0YS1hY3RpdmUtcGFnZScsIG1hdGNoUmVzdWx0WzFdKTtcclxuXHRcdFx0JHBhZ2VMaW5rLmF0dHIoJ29uY2xpY2snLCBudWxsKTtcclxuXHRcdFx0JHBhZ2VMaW5rLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdHZhciAkY3VycmVudExpbmsgPSBhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCk7XHJcblx0XHRcdFx0JHNjb3BlLm9uUGFnaW5nQ2xpY2soe1xyXG5cdFx0XHRcdFx0YXJnMDogJ2l6LXBhZ2VsaW5rJyxcclxuXHRcdFx0XHRcdGFyZzE6ICRjdXJyZW50TGluay5hdHRyKCdkYXRhLWFjdGl2ZS1wYWdlJylcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSAnb25jbGljaycgZXZlbnQgYW5kIGFkZCBvd24gY2xpY2sgZXZlbnQuXHJcblx0ICogQHBhcmFtIHt9ICRzY29wZSBjdXJyZW50IERpcmVjdGl2ZSBzY29wZS5cclxuXHQgKiBAcGFyYW0ge30gJGh0bWxDb250YWluZXIgUmVwb3J0IGNvbnRhaW5lciwgd2hpY2ggY29udGFpbnMgcGFnaW5nIGNvbnRyb2xzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHByZXBhcmVHb1RvUmVjb3JkQnRuKCRzY29wZTogSUl6ZW5kYVJlcG9ydFZpZXdlclNjb3BlLCAkaHRtbENvbnRhaW5lcjogSlF1ZXJ5PEhUTUxFbGVtZW50Pikge1xyXG5cdFx0Y29uc3QgJGJ0biA9ICRodG1sQ29udGFpbmVyLmZpbmQoJy5pei1wYWdlbGluay1nby10by1wYWdlLWJ0bicpO1xyXG5cdFx0JGJ0bi5hdHRyKCdvbmNsaWNrJywgbnVsbCk7XHJcblx0XHQkYnRuLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRjb25zdCAkdGhpcyA9IGFuZ3VsYXIuZWxlbWVudChlLmRlbGVnYXRlVGFyZ2V0KTtcclxuXHRcdFx0Y29uc3QgaXRlbXNDb3VudCA9IHBhcnNlSW50KFN0cmluZygkdGhpcy5hdHRyKCdkYXRhLWl0ZW1zLWNvdW50JykpKTtcclxuXHRcdFx0Y29uc3QgaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQoU3RyaW5nKCR0aGlzLmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnKSkpO1xyXG5cdFx0XHRsZXQgaW5wdXRWYWx1ZTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpbnB1dFZhbHVlID0gcGFyc2VJbnQoU3RyaW5nKGFuZ3VsYXIuZWxlbWVudCgnI3BhZ2VOdW1FZCcpLnZhbCgpKSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRpbnB1dFZhbHVlID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaXRlbXNDb3VudCA8IGlucHV0VmFsdWUpIGlucHV0VmFsdWUgPSBpdGVtc0NvdW50O1xyXG5cdFx0XHRjb25zdCBzdGFydFJlY29yZCA9IGlucHV0VmFsdWUgLSAoaW5wdXRWYWx1ZSAtIDEpICUgaXRlbXNQZXJQYWdlO1xyXG5cdFx0XHRjb25zdCBmaW5pc2hSZWNvcmQgPSBzdGFydFJlY29yZCArIGl0ZW1zUGVyUGFnZSAtIDE7XHJcblx0XHRcdCRzY29wZS5vblBhZ2luZ0NsaWNrKHtcclxuXHRcdFx0XHRhcmcwOiAnaXotcGFnZWxpbmstZXhhY3QtcGFnZS1pbnB1dCcsXHJcblx0XHRcdFx0YXJnMTogc3RhcnRSZWNvcmQgKyAnLScgKyBmaW5pc2hSZWNvcmRcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkcm9vdFNjb3BlOiBJSXplbmRhUmVwb3J0Vmlld2VyUm9vdFNjb3BlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PlxyXG5cdFx0XHRuZXcgSXplbmRhUmVwb3J0Vmlld2VyKCRyb290U2NvcGUsICR0aW1lb3V0KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhVWlNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFSZXBvcnRWaWV3ZXInLFxyXG5cdFsnJHJvb3RTY29wZScsICckdGltZW91dCcsIEl6ZW5kYVJlcG9ydFZpZXdlci5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGV4aXN0ZW50VmFsdWVzOiBhbnk7XHJcblx0bmdNb2RlbDogYW55O1xyXG5cdGlzQ2hlY2tlZDogYW55O1xyXG5cdGNsaWNrQ2hlY2tib3g6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbGVjdCBjaGVja2JveGVzIGRpcmVjdGl2ZS4gXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFTZWxlY3RDaGVja2JveGVzIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQUUnO1xyXG5cclxuXHRzY29wZSA9IHtcclxuXHRcdGV4aXN0ZW50VmFsdWVzOiAnPScsXHJcblx0XHRuZ01vZGVsOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPGRpdiBuZy1yZXBlYXQ9XCJleGlzdGVudFZhbHVlIGluIGV4aXN0ZW50VmFsdWVzXCI+XHJcblx0PGxhYmVsIGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zZWxlY3QtY2hlY2tib3hlcy1sYWJlbFwiPlxyXG5cdFx0PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLWNsaWNrPVwiY2xpY2tDaGVja2JveChleGlzdGVudFZhbHVlKVwiIG5nLWNoZWNrZWQ9XCJpc0NoZWNrZWQoZXhpc3RlbnRWYWx1ZSlcIi8+XHJcblx0XHQ8c3BhbiBuZy1iaW5kPVwiZXhpc3RlbnRWYWx1ZS50ZXh0XCI+PC9zcGFuPlxyXG5cdDwvbGFiZWw+XHJcbjwvZGl2PmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU2VsZWN0Q2hlY2tib3hlcy5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFTZWxlY3RDaGVja2JveGVzU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdCRlbGVtZW50LmFkZENsYXNzKCdpemVuZGEtY29tbW9uLXNlbGVjdC1jaGVja2JveGVzJyk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdleGlzdGVudFZhbHVlcycsICgpID0+ICRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKSwgdHJ1ZSk7XHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCduZ01vZGVsJywgKCkgPT4gJHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubmdDaGFuZ2UpKTtcclxuXHJcblx0XHRcdCRzY29wZS5pc0NoZWNrZWQgPSBleGlzdGVudFZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3VmFsdWUgPSAkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHRyZXR1cm4gdmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSkgPj0gMDtcclxuXHRcdFx0fTtcclxuXHRcdFx0JHNjb3BlLmNsaWNrQ2hlY2tib3ggPSBleGlzdGVudFZhbHVlID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3VmFsdWUgPSAkc2NvcGUubmdNb2RlbDtcclxuXHRcdFx0XHRpZiAodmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSkgPj0gMClcclxuXHRcdFx0XHRcdHZpZXdWYWx1ZS5zcGxpY2Uodmlld1ZhbHVlLmluZGV4T2YoZXhpc3RlbnRWYWx1ZS52YWx1ZSksIDEpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHZpZXdWYWx1ZS5wdXNoKGV4aXN0ZW50VmFsdWUudmFsdWUpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFTZWxlY3RDaGVja2JveGVzKCk7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVNlbGVjdENoZWNrYm94ZXMnLCBbSXplbmRhU2VsZWN0Q2hlY2tib3hlcy5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFTcGxhc2hTY3JlZW5TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0bmdTaG93OiBhbnk7XHJcblx0dGV4dDogYW55O1xyXG5cdGxvYWRpbmdJbmRpY2F0b3JVcmw6IGFueTtcclxuXHRwYXJlbnRTZWxlY3RvcjogYW55O1xyXG59XHJcblxyXG5jbGFzcyBJemVuZGFTcGxhc2hTY3JlZW4gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRuZ1Nob3c6ICc9JyxcclxuXHRcdHRleHQ6ICc9JyxcclxuXHRcdGxvYWRpbmdJbmRpY2F0b3JVcmw6ICdAJyxcclxuXHRcdHBhcmVudFNlbGVjdG9yOiAnQCdcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFTcGxhc2hTY3JlZW5TY29wZSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSkge1xyXG5cdFx0SXplbmRhU3BsYXNoU2NyZWVuLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVNwbGFzaFNjcmVlblNjb3BlKSA9PiB7XHJcblxyXG5cdFx0XHR2YXIgc3BsYXNoVGltZW91dDogbmcuSVByb21pc2U8YW55PiA9IG51bGw7XHJcblx0XHRcdHZhciB0ZW1wbGF0ZSA9XHJcblx0XHRcdFx0YDxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbiBoaWRkZW5cIj5cclxuXHQ8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi1zcGxhc2hzY3JlZW4taW5uZXIgdGV4dC1jZW50ZXJcIj5cclxuXHRcdDxpbWcgY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi1sb2FkaW5nXCIvPlxyXG5cdFx0PHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLXNwbGFzaHNjcmVlbi10ZXh0XCI+PC9zcGFuPlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cdFx0XHRjb25zdCAkZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCh0ZW1wbGF0ZSk7XHJcblx0XHRcdGxldCBhZGRlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gbG9hZGluZyBzcGlubmVyXHJcblx0XHRcdGNvbnN0IGRlZmF1bHRMb2FkaW5nSW5kaWNhdG9yVXJsID0gYW5ndWxhci5pc1N0cmluZygkc2NvcGUubG9hZGluZ0luZGljYXRvclVybClcclxuXHRcdFx0XHQ/ICRzY29wZS5sb2FkaW5nSW5kaWNhdG9yVXJsXHJcblx0XHRcdFx0OiAkaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxScFBhZ2UgKyAnaW1hZ2U9TW9kZXJuSW1hZ2VzLmxvYWRpbmctZ3JpZC5naWYnO1xyXG5cdFx0XHRjb25zdCBwYXJlbnRTZWxlY3RvclRleHQgPSBhbmd1bGFyLmlzU3RyaW5nKCRzY29wZS5wYXJlbnRTZWxlY3RvcikgPyAkc2NvcGUucGFyZW50U2VsZWN0b3IgOiAnYm9keSc7XHJcblx0XHRcdGxldCBib2R5T3ZlcmZsb3c6IHN0cmluZztcclxuXHRcdFx0bGV0IGJvZHlQYWRkaW5nOiBzdHJpbmc7XHJcblx0XHRcdGxldCAkYm9keTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcclxuXHJcblx0XHRcdGNvbnN0IGluaXRpYWxpemUgPSAoKSA9PiB7XHJcblx0XHRcdFx0JGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLWxvYWRpbmcnKS5hdHRyKCdzcmMnLCBkZWZhdWx0TG9hZGluZ0luZGljYXRvclVybCk7XHJcblx0XHRcdFx0JGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQocGFyZW50U2VsZWN0b3JUZXh0KTtcclxuXHRcdFx0XHRpZiAoJGJvZHkubGVuZ3RoID4gMCAmJiAhYWRkZWQpIHtcclxuXHRcdFx0XHRcdGJvZHlPdmVyZmxvdyA9ICRib2R5LmNzcygnb3ZlcmZsb3cnKTtcclxuXHRcdFx0XHRcdGJvZHlQYWRkaW5nID0gJGJvZHkuY3NzKCdwYWRkaW5nLWxlZnQnKTtcclxuXHRcdFx0XHRcdCRib2R5LmFwcGVuZCgkZWxlbWVudCk7XHJcblx0XHRcdFx0XHRhZGRlZCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3Qgc2V0VGV4dCA9ICgpID0+IHtcclxuXHRcdFx0XHR2YXIgJGlubmVyID0gJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3BsYXNoc2NyZWVuLXRleHQnKTtcclxuXHRcdFx0XHQkaW5uZXIudGV4dCgkc2NvcGUudGV4dCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGJvZHlIYXNTY3JvbGxiYXIgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdFx0cmV0dXJuICRib2R5Lmxlbmd0aCA+IDAgJiYgJGJvZHkuZ2V0KDApLnNjcm9sbEhlaWdodCA+ICRib2R5LmhlaWdodCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3Qgc2hvd1NwbGFzaCA9ICgpID0+IHtcclxuXHRcdFx0XHRpbml0aWFsaXplKCk7XHJcblx0XHRcdFx0aWYgKHNwbGFzaFRpbWVvdXQgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdCR0aW1lb3V0LmNhbmNlbChzcGxhc2hUaW1lb3V0KTtcclxuXHRcdFx0XHRcdHNwbGFzaFRpbWVvdXQgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzcGxhc2hUaW1lb3V0ID0gJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0Ym9keU92ZXJmbG93ID0gJGJvZHkuY3NzKCdvdmVyZmxvdycpO1xyXG5cdFx0XHRcdFx0JGJvZHkuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdGlmIChib2R5SGFzU2Nyb2xsYmFyKCkpIHtcclxuXHRcdFx0XHRcdFx0Ym9keVBhZGRpbmcgPSAkYm9keS5jc3MoJ3BhZGRpbmctbGVmdCcpO1xyXG5cdFx0XHRcdFx0XHQkYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCAnMTdweCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgaGlkZVNwbGFzaCA9ICgpID0+IHtcclxuXHRcdFx0XHRpbml0aWFsaXplKCk7XHJcblx0XHRcdFx0aWYgKHNwbGFzaFRpbWVvdXQgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdCR0aW1lb3V0LmNhbmNlbChzcGxhc2hUaW1lb3V0KTtcclxuXHRcdFx0XHRcdHNwbGFzaFRpbWVvdXQgPSBudWxsO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0JGJvZHkuY3NzKCdvdmVyZmxvdycsIGJvZHlPdmVyZmxvdyk7XHJcblx0XHRcdFx0XHRpZiAoYm9keUhhc1Njcm9sbGJhcigpKSB7XHJcblx0XHRcdFx0XHRcdCRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWRkaW5nKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCduZ1Nob3cnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpXHJcblx0XHRcdFx0XHRzaG93U3BsYXNoKCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0aGlkZVNwbGFzaCgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3RleHQnLCAoKSA9PiBzZXRUZXh0KCkpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0Y29uc3QgZGlyZWN0aXZlID0gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlKSA9PiBuZXcgSXplbmRhU3BsYXNoU2NyZWVuKCR0aW1lb3V0LCAkaXplbmRhVXJsU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVNwbGFzaFNjcmVlbicsIFsnJHRpbWVvdXQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCBJemVuZGFTcGxhc2hTY3JlZW4uZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhU3dpdGNoZXJTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0dG9vbHRpcDogc3RyaW5nO1xyXG5cdGxhYmVsOiBzdHJpbmc7XHJcblx0bmdNb2RlbDogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN3aXRjaGVyIGRpcmVjdGl2ZVxyXG4gKi9cclxuY2xhc3MgSXplbmRhU3dpdGNoZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHJcblx0c2NvcGUgPSB7XHJcblx0XHR0b29sdGlwOiAnPScsXHJcblx0XHRsYWJlbDogJz0nLFxyXG5cdFx0bmdNb2RlbDogJz0nXHJcblx0fTtcclxuXHJcblx0dGVtcGxhdGUgPVxyXG5cdFx0YDxzcGFuIG5nLXNob3c9XCJsYWJlbCAhPSBudWxsICYmIGxhYmVsICE9ICcnXCIgY2xhc3M9XCJpemVuZGEtY29tbW9uLXN3aXRjaGVyLWxhYmVsXCI+e3tsYWJlbH19PC9zcGFuPlxyXG48c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXJcIiB0aXRsZT1cInt7dG9vbHRpcH19XCI+XHJcblx0PHNwYW4gY2xhc3M9XCJpemVuZGEtY29tbW9uLXN3aXRjaGVyLXRleHQtb2ZmXCI+Tzwvc3Bhbj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItaXRlbVwiPjwvc3Bhbj5cclxuXHQ8c3BhbiBjbGFzcz1cIml6ZW5kYS1jb21tb24tc3dpdGNoZXItdGV4dC1vblwiPkk8L3NwYW4+XHJcbjwvc3Bhbj5gO1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhU3dpdGNoZXIucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhU3dpdGNoZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdCRlbGVtZW50LmNsaWNrKGUgPT4ge1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0JHNjb3BlLm5nTW9kZWwgPSAhJHNjb3BlLm5nTW9kZWw7XHJcblx0XHRcdFx0JHNjb3BlLiRwYXJlbnQuJGFwcGx5KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgJHN3aXRjaGVyID0gJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1jb21tb24tc3dpdGNoZXInKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWw6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsKVxyXG5cdFx0XHRcdFx0JHN3aXRjaGVyLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdCRzd2l0Y2hlci5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gKCkgPT4gbmV3IEl6ZW5kYVN3aXRjaGVyKCk7XHJcblx0fVxyXG59XHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhU3dpdGNoZXInLCBbSXplbmRhU3dpdGNoZXIuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhVWlNb2R1bGUgZnJvbSAnY29tbW9uL3VpL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVG9nZ2xlQnV0dG9uU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdHRydWVWYWx1ZTogYW55O1xyXG5cdGZhbHNlVmFsdWU6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvZ2dsZSBidXR0b24gZGlyZWN0aXZlXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUb2dnbGVCdXR0b24gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFQSc7XHJcblx0dHJhbnNjbHVkZSA9IHRydWU7XHJcblx0cmVxdWlyZSA9IFsnbmdNb2RlbCddO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0dHJ1ZVZhbHVlOiAnPScsXHJcblx0XHRmYWxzZVZhbHVlOiAnPSdcclxuXHR9O1xyXG5cclxuXHR0ZW1wbGF0ZSA9XHJcblx0XHRgPHNwYW4gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGl6ZW5kYS10b2dnbGUtYnV0dG9uLWJ0biBhY3RpdmVcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvblwiPlxyXG5cdDxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT5cclxuPC9zcGFuPmA7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUb2dnbGVCdXR0b25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcywgcmVxdWlyZWRQYXJhbXM6IG5nLklDb250cm9sbGVyKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdEl6ZW5kYVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUb2dnbGVCdXR0b25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcyxcclxuXHRcdFx0cmVxdWlyZWRQYXJhbXM6IG5nLklDb250cm9sbGVyKSA9PiB7XHJcblx0XHRcdGNvbnN0IG5nTW9kZWw6IGFueSA9IHJlcXVpcmVkUGFyYW1zWzBdO1xyXG5cdFx0XHRjb25zdCBidG4gPSAkZWxlbWVudC5jaGlsZHJlbignLmJ0bicpO1xyXG5cclxuXHRcdFx0JHNjb3BlLiRwYXJlbnQuJHdhdGNoKGF0dHJzLm5nTW9kZWwsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwgPT09IG9sZFZhbClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09ICRzY29wZS50cnVlVmFsdWUpIHtcclxuXHRcdFx0XHRcdGlmIChidG4uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKG5ld1ZhbCA9PSAkc2NvcGUuZmFsc2VWYWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKCFidG4uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm5nQ2hhbmdlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAobmdNb2RlbC4kdmlld1ZhbHVlID09PSAkc2NvcGUudHJ1ZVZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKGJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKG5nTW9kZWwuJHZpZXdWYWx1ZSA9PT0gJHNjb3BlLmZhbHNlVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAoIWJ0bi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoIW5nTW9kZWwuJHZpZXdWYWx1ZSkpO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHsgfSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG5cdFx0cmV0dXJuICgpID0+IG5ldyBJemVuZGFUb2dnbGVCdXR0b24oKTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYVVpTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVG9nZ2xlQnV0dG9uJywgW0l6ZW5kYVRvZ2dsZUJ1dHRvbi5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXRlVGltZUZvcm1hdCB9IGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9zZXR0aW5ncy1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTY2hlZHVsZSBjb21wb25lbnQgZGVmaW5pdGlvblxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFVaU1vZHVsZSxcclxuXHQnaXplbmRhU2NoZWR1bGVDb21wb25lbnQnLFxyXG5cdFsnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhU2NoZWR1bGVTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi51aS5jb21wb25lbnRzLnNjaGVkdWxlLnNjaGVkdWxlLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0c2NoZWR1bGVDb25maWc6ICc9JyxcclxuXHRcdFx0cmVwZWF0VHlwZXM6ICc8JyxcclxuXHRcdFx0ZW1haWxUeXBlczogJzwnLFxyXG5cdFx0XHR0aW1lem9uZXM6ICc8J1xyXG5cdFx0fVxyXG5cdH0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNjaGVkdWxlQ29tcG9uZW50IHtcclxuXHRkYXRlRm9ybWF0OiBEYXRlVGltZUZvcm1hdDtcclxuXHRjdWx0dXJlOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U6IEl6ZW5kYVNjaGVkdWxlU2VydmljZSkge1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29tcG9uZW50IGluaXRcclxuXHQgKi9cclxuXHQkb25Jbml0KCkge1xyXG5cdFx0dGhpcy5kYXRlRm9ybWF0ID0gdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmRhdGVGb3JtYXQ7XHJcblx0XHR0aGlzLmN1bHR1cmUgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuY3VsdHVyZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZWxlY3QgcmVwb3J0IGNvbXBvbmVudCBkZWZpbml0aW9uXHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYVVpTW9kdWxlLFxyXG5cdCdpemVuZGFTZWxlY3RSZXBvcnRDb21wb25lbnQnLFxyXG5cdFsnJHRpbWVvdXQnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmNvbW1vbi51aS5jb21wb25lbnRzLnNlbGVjdC1yZXBvcnQuc2VsZWN0LXJlcG9ydC10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdG9wZW5lZDogJzwnLFxyXG5cdFx0XHRvblNlbGVjdGVkOiAnJicsXHJcblx0XHRcdG9uTW9kYWxDbG9zZWQ6ICcmJ1xyXG5cdFx0fVxyXG5cdH0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl6ZW5kYVNlbGVjdFJlcG9ydENvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHVuY2F0ZWdvcml6ZWRUZXh0OiBzdHJpbmc7XHJcblx0Ly8gYmluZGluZ3NcclxuXHRvcGVuZWQ6IGJvb2xlYW47XHJcblx0b25TZWxlY3RlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0b25Nb2RhbENsb3NlZDogKHBhcmFtOiBhbnkpID0+IHZvaWQ7XHJcblx0Ly8gb3RoZXJcclxuXHRvcGVuZWRJbm5lcjogYm9vbGVhbjtcclxuXHRjYXRlZ29yeTogc3RyaW5nO1xyXG5cdGNhdGVnb3JpZXM6IHN0cmluZ1tdO1xyXG5cdGdyb3VwczogYW55W107XHJcblx0aXNMb2FkaW5nOiBib29sZWFuO1xyXG5cdGhpZGVBbGw6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKTtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblxyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iaikge1xyXG5cdFx0aWYgKCFjaGFuZ2VzT2JqLm9wZW5lZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgY3VycmVudE9wZW5lZCA9IGNoYW5nZXNPYmoub3BlbmVkLmN1cnJlbnRWYWx1ZTtcclxuXHRcdGlmIChjdXJyZW50T3BlbmVkKSB7XHJcblx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdFx0dGhpcy5vcGVuZWRJbm5lciA9IHRydWU7XHJcblx0XHRcdC8vIHRpbWVvdXQgaXMgbmVlZGVkIGZvciB0aGUgc21vb3RoZXIgbW9kYWwgYW5pbWF0aW9uXHJcblx0XHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuaGlkZUFsbCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5nZXRSZXBvcnRTZXRDYXRlZ29yeSh0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0KS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmVwb3J0U2V0cyA9IGRhdGEuUmVwb3J0U2V0cztcclxuXHRcdFx0XHRcdHRoaXMuYWRkQ2F0ZWdvcmllc1RvTW9kYWwocmVwb3J0U2V0cyk7XHJcblx0XHRcdFx0XHR0aGlzLmFkZFJlcG9ydHNUb01vZGFsKHJlcG9ydFNldHMpO1xyXG5cdFx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgMTAwMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVwb3J0IHBhcnRzIHRvIG1vZGFsXHJcblx0ICovXHJcblx0YWRkUmVwb3J0UGFydHNUb01vZGFsKHJlcG9ydFBhcnRzOiBhbnlbXSkge1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdGlmICghcmVwb3J0UGFydHMgfHwgIXJlcG9ydFBhcnRzLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdC8vIGFkZCBncm91cHM6XHJcblx0XHRsZXQgY3VycmVudEdyb3VwID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlcG9ydFBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChpID4gMCAmJiBpICUgNCA9PT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHRcdFx0XHRjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCByZXBvcnRQYXJ0ID0gcmVwb3J0UGFydHNbaV07XHJcblx0XHRcdHJlcG9ydFBhcnQuaXNSZXBvcnRQYXJ0ID0gdHJ1ZTtcclxuXHRcdFx0Y3VycmVudEdyb3VwLnB1c2gocmVwb3J0UGFydCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcmVwb3J0c2V0IGNhdGVnb3JpZXMgdG8gbW9kYWwgc2VsZWN0IGNvbnRyb2wuXHJcblx0ICovXHJcblx0YWRkQ2F0ZWdvcmllc1RvTW9kYWwocmVwb3J0U2V0czogYW55W10pIHtcclxuXHRcdGlmICghcmVwb3J0U2V0cylcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gcmVwb3J0U2V0c1xyXG5cdFx0XHQuZmlsdGVyKHJlcG9ydCA9PiAhcmVwb3J0LkRhc2hib2FyZClcclxuXHRcdFx0Lm1hcDxzdHJpbmc+KHJlcG9ydCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2F0ZWdvcnkgPSByZXBvcnQuQ2F0ZWdvcnkgPyByZXBvcnQuQ2F0ZWdvcnkgOiB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdFx0XHRcdHJldHVybiAhcmVwb3J0LlN1YmNhdGVnb3J5XHJcblx0XHRcdFx0XHQ/IGNhdGVnb3J5XHJcblx0XHRcdFx0XHQ6IGNhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXBvcnQuU3ViY2F0ZWdvcnk7XHJcblx0XHRcdH0pO1xyXG5cdFx0Ly8gbWFrZSBjYXRlZ29yaWVzIHVuaXF1ZVxyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gQXJyYXkuZnJvbShuZXcgU2V0PHN0cmluZz4odGhpcy5jYXRlZ29yaWVzKSk7XHJcblx0XHRpZiAoIXRoaXMuY2F0ZWdvcnkpXHJcblx0XHRcdHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHJlcG9ydCB0byBtb2RhbCBkaWFsb2cgYm9keS5cclxuXHQgKi9cclxuXHRhZGRSZXBvcnRzVG9Nb2RhbChyZXBvcnRTZXRzOiBhbnlbXSkge1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdGxldCByZXBvcnRTZXRzVG9TaG93ID0gW107XHJcblxyXG5cdFx0aWYgKHJlcG9ydFNldHMgJiYgcmVwb3J0U2V0cy5sZW5ndGgpXHJcblx0XHRcdHJlcG9ydFNldHNUb1Nob3cgPSByZXBvcnRTZXRzLmZpbHRlcihycyA9PiAhcnMuRGFzaGJvYXJkICYmIHJzLk5hbWUpO1xyXG5cdFx0aWYgKCFyZXBvcnRTZXRzVG9TaG93IHx8ICFyZXBvcnRTZXRzVG9TaG93Lmxlbmd0aClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdC8vIGFkZCBncm91cHM6XHJcblx0XHRsZXQgY3VycmVudEdyb3VwID0gW107XHJcblx0XHR0aGlzLmdyb3Vwcy5sZW5ndGggPSAwO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZXBvcnRTZXRzVG9TaG93Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChpID4gMCAmJiBpICUgNCA9PT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTtcclxuXHRcdFx0XHRjdXJyZW50R3JvdXAgPSBbXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCByZXBvcnRTZXQgPSByZXBvcnRTZXRzVG9TaG93W2ldO1xyXG5cdFx0XHRyZXBvcnRTZXQuaXNSZXBvcnRQYXJ0ID0gZmFsc2U7XHJcblx0XHRcdGN1cnJlbnRHcm91cC5wdXNoKHJlcG9ydFNldCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QgY2F0ZWdvcnkgaGFuZGxlclxyXG5cdCAqL1xyXG5cdGNhdGVnb3J5Q2hhbmdlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAodGhpcy5pc0xvYWRpbmcpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdHRoaXMuZ3JvdXBzID0gW107XHJcblx0XHRpZiAoIXRoaXMuY2F0ZWdvcnkpXHJcblx0XHRcdHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMuY2F0ZWdvcnkpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdHRoaXMuYWRkUmVwb3J0c1RvTW9kYWwoZGF0YS5SZXBvcnRTZXRzKTtcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTW9kYWwgY2xvc2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRtb2RhbENsb3NlZEhhbmRsZXIoKSB7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25Nb2RhbENsb3NlZCkpXHJcblx0XHRcdHRoaXMub25Nb2RhbENsb3NlZCh7fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVc2VyIGNsaWNrZWQgdG8gcmVwb3J0IHNldCBpdGVtXHJcblx0ICovXHJcblx0aXRlbVNlbGVjdGVkSGFuZGxlcihpdGVtKSB7XHJcblx0XHRjb25zdCBpc1JlcG9ydFBhcnQgPSBpdGVtLmlzUmVwb3J0UGFydDtcclxuXHRcdGxldCByZXBvcnRGdWxsTmFtZSA9IGl0ZW0uTmFtZTtcclxuXHJcblx0XHRpZiAoaXRlbS5DYXRlZ29yeUZ1bGwpXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lID0gaXRlbS5DYXRlZ29yeUZ1bGwgKyB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArIHJlcG9ydEZ1bGxOYW1lO1xyXG5cclxuXHRcdGlmICghaXNSZXBvcnRQYXJ0KSB7XHJcblx0XHRcdC8vIGlmIHJlcG9ydCBzZXQgc2VsZWN0ZWRcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21tb25RdWVyeVNlcnZpY2UuZ2V0UmVwb3J0UGFydHMocmVwb3J0RnVsbE5hbWUpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0dmFyIHJlcG9ydHMgPSBkYXRhLlJlcG9ydHM7XHJcblx0XHRcdFx0dGhpcy5hZGRSZXBvcnRQYXJ0c1RvTW9kYWwocmVwb3J0cyk7XHJcblx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLm9wZW5lZElubmVyID0gZmFsc2U7XHJcblx0XHRcdC8vIGlmIHJlcG9ydCBwYXJ0IHNlbGVjdGVkXHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vblNlbGVjdGVkKSlcclxuXHRcdFx0XHR0aGlzLm9uU2VsZWN0ZWQoeyByZXBvcnRQYXJ0SW5mbzogaXRlbSB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc2V0IGZvcm1cclxuXHQgKi9cclxuXHRyZXNldCgpIHtcclxuXHRcdHRoaXMub3BlbmVkSW5uZXIgPSBmYWxzZTtcclxuXHRcdHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnVuY2F0ZWdvcml6ZWRUZXh0O1xyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cdFx0dGhpcy5oaWRlQWxsID0gdHJ1ZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL2NvbW1vbi1xdWVyeS1zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZWxlY3QgcmVwb3J0IG5hbWUgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhVWlNb2R1bGUsXHJcblx0J2l6ZW5kYVNlbGVjdFJlcG9ydE5hbWVDb21wb25lbnQnLFxyXG5cdFsnJHEnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlJywgJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0JyxcclxuXHRcdCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVFbXB0eUVycm9yJywgJ2l6ZW5kYS5jb21tb24udWkucmVwb3J0TmFtZUludmFsaWRFcnJvciddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5jb21tb24udWkuY29tcG9uZW50cy5zZWxlY3QtcmVwb3J0LW5hbWUuc2VsZWN0LXJlcG9ydC1uYW1lLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHtcclxuXHRcdFx0b3BlbmVkOiAnPCcsXHJcblx0XHRcdG9uU2VsZWN0ZWQ6ICcmJyxcclxuXHRcdFx0b25Nb2RhbENsb3NlZDogJyYnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2VsZWN0UmVwb3J0TmFtZUNvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHQvLyBiaW5kaW5nc1xyXG5cdG9uU2VsZWN0ZWQ6IChwYXJhbTogYW55KSA9PiB2b2lkO1xyXG5cdG9uTW9kYWxDbG9zZWQ6IChwYXJhbTogYW55KSA9PiB2b2lkO1xyXG5cdC8vIG90aGVyXHJcblx0cHJpdmF0ZSBuZXh0SWQ6IG51bWJlciA9IDE7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0Q3JlYXRlTmV3OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0VW5jYXRlZ29yaXplZDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSB0ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGV4dEVycm9ySW52YWxpZENhdGVnb3J5TmFtZTogc3RyaW5nO1xyXG5cclxuXHRpc0NhdGVnb3J5QWxsb3dlZDogYm9vbGVhbjtcclxuXHRpc09wZW5lZElubmVyOiBib29sZWFuO1xyXG5cdGlzTmV3UmVwb3J0RGlhbG9nOiBib29sZWFuO1xyXG5cdGlzQ3JlYXRpbmdOZXdDYXRlZ29yeTogYm9vbGVhbjtcclxuXHRpc1NlbGVjdERpc2FibGVkOiBib29sZWFuO1xyXG5cdGlzTmFtZUZvY3VzZWQ6IGJvb2xlYW47XHJcblx0aXNDYXRlZ29yeUZvY3VzZWQ6IGJvb2xlYW47XHJcblxyXG5cdHJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dDogc3RyaW5nO1xyXG5cdHJlcG9ydE5hbWU6IHN0cmluZztcclxuXHRuZXdDYXRlZ29yeU5hbWU6IHN0cmluZztcclxuXHRjYXRlZ29yaWVzOiBBcnJheTxDYXRlZ29yeU9iamVjdD47XHJcblx0c2VsZWN0ZWRDYXRlZ29yeTogQ2F0ZWdvcnlPYmplY3Q7XHJcblx0cmVwb3J0U2V0czogYW55W107XHJcblx0ZXJyb3JNZXNzYWdlczogc3RyaW5nW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlOiBJemVuZGFDb21tb25RdWVyeVNlcnZpY2UsXHJcblx0XHRyZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHQ6IHN0cmluZ1tdLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByZXBvcnROYW1lRW1wdHlFcnJvcjogc3RyaW5nLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByZXBvcnROYW1lSW52YWxpZEVycm9yOiBzdHJpbmcpIHtcclxuXHJcblx0XHR0aGlzLmlzQ2F0ZWdvcnlBbGxvd2VkID0gJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDb21tb25TZXR0aW5ncygpLnNob3dDYXRlZ29yeVRleHRib3hJblNhdmVEaWFsb2c7XHJcblx0XHR0aGlzLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2VcclxuXHRcdFx0LmxvY2FsZVRleHQocmVwb3J0TmFtZUlucHV0UGxhY2Vob2xkZXJUZXh0WzBdLCByZXBvcnROYW1lSW5wdXRQbGFjZWhvbGRlclRleHRbMV0pO1xyXG5cdFx0dGhpcy50ZXh0Q3JlYXRlTmV3ID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfQ3JlYXRlTmV3JywgJ0NyZWF0ZSBOZXcnKTtcclxuXHRcdHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19VbmNhdGVnb3JpemVkJywgJ1VuY2F0ZWdvcml6ZWQnKTtcclxuXHRcdHRoaXMudGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5ID0gJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dChyZXBvcnROYW1lRW1wdHlFcnJvclswXSwgcmVwb3J0TmFtZUVtcHR5RXJyb3JbMV0pO1xyXG5cdFx0dGhpcy50ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZSA9ICRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQocmVwb3J0TmFtZUludmFsaWRFcnJvclswXSwgcmVwb3J0TmFtZUludmFsaWRFcnJvclsxXSk7XHJcblx0XHR0aGlzLnRleHRFcnJvckludmFsaWRDYXRlZ29yeU5hbWUgPSAkaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19JbnZhbGlkQ2F0ZWdvcnlOYW1lJywgJ0ludmFsaWQgQ2F0ZWdvcnkgTmFtZScpO1xyXG5cclxuXHRcdHRoaXMuaXNPcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc05ld1JlcG9ydERpYWxvZyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lID0gJyc7XHJcblx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5uZXdDYXRlZ29yeU5hbWUgPSAnJztcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcclxuXHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLnJlcG9ydFNldHMgPSBbXTtcclxuXHRcdHRoaXMuZXJyb3JNZXNzYWdlcyA9IFtdO1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQkb25DaGFuZ2VzKGNoYW5nZXNPYmopIHtcclxuXHRcdGlmIChjaGFuZ2VzT2JqLm9wZW5lZCkge1xyXG5cdFx0XHR2YXIgY3VycmVudE9wZW5lZCA9IGNoYW5nZXNPYmoub3BlbmVkLmN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0aWYgKGN1cnJlbnRPcGVuZWQpXHJcblx0XHRcdFx0dGhpcy5vcGVuTW9kYWwoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1vZGFsIGNsb3NlZCBoYW5kbGVyXHJcblx0ICovXHJcblx0bW9kYWxDbG9zZWRIYW5kbGVyKCkge1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uTW9kYWxDbG9zZWQpKVxyXG5cdFx0XHR0aGlzLm9uTW9kYWxDbG9zZWQoe30pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2UgbW9kYWwgZGlhbG9nXHJcblx0ICovXHJcblx0Y2xvc2VNb2RhbCgpIHtcclxuXHRcdHRoaXMuaXNPcGVuZWRJbm5lciA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT3BlbiBtb2RhbCBkaWFsb2dcclxuXHQgKi9cclxuXHRvcGVuTW9kYWwoKSB7XHJcblx0XHR0aGlzLmlzU2VsZWN0RGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5pc09wZW5lZElubmVyID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVzZXRGb3JtKCk7XHJcblxyXG5cdFx0Y29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0dGhpcy5uZXh0SWQgPSAxO1xyXG5cclxuXHRcdC8vIHNob3cgbG9hZGluZyBtZXNzYWdlIGluc2lkZSBzZWxlY3QgY29udHJvbFxyXG5cdFx0dGhpcy5jYXRlZ29yaWVzID0gW107XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdGlkOiAtMSxcclxuXHRcdFx0bmFtZTogdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Mb2FkaW5nJywgJ0xvYWRpbmcuLi4nKVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3JpZXNbMF07XHJcblx0XHR0aGlzLnJlcG9ydE5hbWUgPSByZXBvcnRJbmZvLm5hbWU7XHJcblxyXG5cdFx0dGhpcy4kaXplbmRhQ29tbW9uUXVlcnlTZXJ2aWNlLmdldFJlcG9ydFNldENhdGVnb3J5KHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnJlcG9ydFNldHMgPSBkYXRhLlJlcG9ydFNldHM7XHJcblxyXG5cdFx0XHQvLyBhZGQgY2F0ZWdvcmllc1xyXG5cdFx0XHQvLyBcIkNyZWF0ZSBuZXdcIlxyXG5cdFx0XHRpZiAodGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCkuYWxsb3dDcmVhdGVOZXdDYXRlZ29yeSlcclxuXHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMucHVzaCh7XHJcblx0XHRcdFx0XHRpZDogdGhpcy5uZXh0SWQrKyxcclxuXHRcdFx0XHRcdG5hbWU6IHRoaXMudGV4dENyZWF0ZU5ld1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gXCJVbmNhdGVnb3JpemVkXCJcclxuXHRcdFx0dGhpcy5jYXRlZ29yaWVzLnB1c2goe1xyXG5cdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdG5hbWU6IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWRcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUodGhpcy50ZXh0VW5jYXRlZ29yaXplZCk7XHJcblxyXG5cdFx0XHQvLyBPdGhlciBjYXRlZ29yaWVzXHJcblx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkodGhpcy5yZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdHRoaXMucmVwb3J0U2V0cy5mb3JFYWNoKHJlcG9ydCA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBpZCA9IHRoaXMubmV4dElkKys7XHJcblx0XHRcdFx0XHRsZXQgY3VycmVudENhdGVnb3J5TmFtZSA9IHJlcG9ydC5DYXRlZ29yeTtcclxuXHRcdFx0XHRcdGlmICghY3VycmVudENhdGVnb3J5TmFtZSlcclxuXHRcdFx0XHRcdFx0Y3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMudGV4dFVuY2F0ZWdvcml6ZWQ7XHJcblx0XHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gIXJlcG9ydC5TdWJjYXRlZ29yeVxyXG5cdFx0XHRcdFx0XHQ/IGN1cnJlbnRDYXRlZ29yeU5hbWVcclxuXHRcdFx0XHRcdFx0OiBjdXJyZW50Q2F0ZWdvcnlOYW1lICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXBvcnQuU3ViY2F0ZWdvcnk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuY2F0ZWdvcmllcyAmJiB0aGlzLmNhdGVnb3JpZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdGlmICghdGhpcy5jYXRlZ29yaWVzLmZpbmQoYyA9PiBjLm5hbWUgPT09IGN1cnJlbnRDYXRlZ29yeU5hbWUpKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gaWYgaGF2ZSd0IGFscmVhZHkgYWRkZWRcclxuXHRcdFx0XHRcdFx0XHR2YXIgY2F0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogY3VycmVudENhdGVnb3J5TmFtZVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0KTtcclxuXHRcdFx0XHRcdFx0XHRpZiAocmVwb3J0SW5mby5jYXRlZ29yeSA9PT0gY3VycmVudENhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gY2F0O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmlzU2VsZWN0RGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogXCJFbnRlclwiIGJ1dHRvbiBrZXkgcHJlc3MgaGFuZGxlciBmb3IgcmVwb3J0IG5hbWUgPGlucHV0PlxyXG5cdCAqIEBwYXJhbSB7ZXZlbnQgb2JqZWN0fSAkZXZlbnQuXHJcblx0ICovXHJcblx0cmVwb3J0TmFtZUtleVByZXNzZWQoJGV2ZW50OiBKUXVlcnkuRXZlbnQpIHtcclxuXHRcdGlmICgkZXZlbnQua2V5Q29kZSA9PT0gSlF1ZXJ5LktleS5FbnRlcilcclxuXHRcdFx0dGhpcy5jb21wbGV0ZUhhbmRsZXIoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9LIGJ1dHRvbiBwcmVzc2VkXHJcblx0ICovXHJcblx0Y29tcGxldGVIYW5kbGVyKCkge1xyXG5cdFx0dGhpcy52YWxpZGF0ZUZvcm0oKS50aGVuKCgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZU1vZGFsKCk7XHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5TmFtZSA9IHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID8gdGhpcy5uZXdDYXRlZ29yeU5hbWUgOiB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZTtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uU2VsZWN0ZWQpKSB7XHJcblx0XHRcdFx0dGhpcy5vblNlbGVjdGVkKHtcclxuXHRcdFx0XHRcdHJlcG9ydE5hbWU6IHRoaXMucmVwb3J0TmFtZSxcclxuXHRcdFx0XHRcdGNhdGVnb3J5TmFtZTogY2F0ZWdvcnlOYW1lXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0sICgpID0+IHsgfSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgcmVwb3J0IHdpdGggZ2l2ZW4gbmFtZSBmcm9tIHJlcG9ydCBsaXN0XHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydCBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGxpc3Qgd2l0aCByZXBvcnRzLlxyXG5cdCAqL1xyXG5cdGlzUmVwb3J0SW5SZXBvcnRMaXN0KHJlcG9ydE5hbWU6IHN0cmluZywgcmVwb3J0TGlzdDogYW55W10pOiBib29sZWFuIHtcclxuXHRcdGlmICghcmVwb3J0TGlzdCB8fCAhcmVwb3J0TGlzdC5sZW5ndGgpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiByZXBvcnRMaXN0LmZpbmQocnMgPT4gcnMuTmFtZSA9PT0gcmVwb3J0TmFtZS50cmltKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZvcm0gdG8gaXQncyBpbml0aWFsIHN0YXRlXHJcblx0ICovXHJcblx0cmVzZXRGb3JtKCkge1xyXG5cdFx0Y29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZ2V0UmVwb3J0SW5mbygpO1xyXG5cdFx0dGhpcy5lcnJvck1lc3NhZ2VzID0gW107XHJcblx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5uZXdDYXRlZ29yeU5hbWUgPSAnJztcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xyXG5cdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcclxuXHRcdHRoaXMuaXNTZWxlY3REaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLnJlcG9ydFNldHMgPSBbXTtcclxuXHRcdHRoaXMuaXNOYW1lRm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0NhdGVnb3J5Rm9jdXNlZCA9IGZhbHNlO1xyXG5cdFx0aWYgKHRoaXMuaXNOZXdSZXBvcnREaWFsb2cpIHtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gJyc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBzZXBhcmF0b3JJbmRleCA9IChyZXBvcnRJbmZvICYmIHJlcG9ydEluZm8ubmFtZSlcclxuXHRcdFx0XHQ/IHJlcG9ydEluZm8ubmFtZS5sYXN0SW5kZXhPZih0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSlcclxuXHRcdFx0XHQ6IC0xO1xyXG5cdFx0XHR0aGlzLnJlcG9ydE5hbWUgPSAoc2VwYXJhdG9ySW5kZXggPCAwKSA/IHJlcG9ydEluZm8ubmFtZSA6IHJlcG9ydEluZm8ubmFtZS5zdWJzdHIoc2VwYXJhdG9ySW5kZXggKyAxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFyIGFsbCBmb2N1c1xyXG5cdCAqL1xyXG5cdGNsZWFyRm9jdXMoKSB7XHJcblx0XHR0aGlzLmlzTmFtZUZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNDYXRlZ29yeUZvY3VzZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmb2N1cyBvbiByZXBvcnQgbmFtZSBpbnB1dFxyXG5cdCAqL1xyXG5cdHNldEZvY3VzKCkge1xyXG5cdFx0dGhpcy5pc05hbWVGb2N1c2VkID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhdGVnb3JpZXMgd2VyZSB1cGRhdGVkLlxyXG5cdCAqL1xyXG5cdHVwZGF0ZUNhdGVnb3JpZXNIYW5kbGVyKG5ld0NhdGVnb3JpZXM6IHN0cmluZ1tdKSB7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBuZXdDYXRlZ29yaWVzLm1hcChuZXdDYXRlZ29yeU5hbWUgPT4ge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGlkOiB0aGlzLm5leHRJZCsrLFxyXG5cdFx0XHRcdG5hbWU6IG5ld0NhdGVnb3J5TmFtZVxyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBzZWxlY3RlZENhdGVnb3J5TmFtZSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA/IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lIDogbnVsbDtcclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUoc2VsZWN0ZWRDYXRlZ29yeU5hbWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVwb3J0IGNhdGVnb3J5IHNlbGVjdGVkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRjYXRlZ29yeVNlbGVjdGVkSGFuZGxlcihjYXRlZ29yeTogc3RyaW5nKSB7XHJcblx0XHRpZiAoIXRoaXMuaXNDYXRlZ29yeUFsbG93ZWQpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeU9iamVjdEJ5TmFtZSh0aGlzLnRleHRVbmNhdGVnb3JpemVkKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUoY2F0ZWdvcnkpO1xyXG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSAhPT0gbnVsbCkge1xyXG5cdFx0XHRpZiAodGhpcy5zZWxlY3RlZENhdGVnb3J5Lm5hbWUgPT09IHRoaXMudGV4dENyZWF0ZU5ldykge1xyXG5cdFx0XHRcdHRoaXMuaXNDcmVhdGluZ05ld0NhdGVnb3J5ID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLmNsZWFyRm9jdXMoKTtcclxuXHRcdFx0XHR0aGlzLmlzQ2F0ZWdvcnlGb2N1c2VkID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgZm9ybVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgdmFsaWRhdGVGb3JtKCk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lIG5vdCBlbXB0eVxyXG5cdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMubGVuZ3RoID0gMDtcclxuXHRcdFx0dGhpcy5yZXBvcnROYW1lID0gYW5ndWxhci5pc1N0cmluZyh0aGlzLnJlcG9ydE5hbWUpID8gdGhpcy5yZXBvcnROYW1lLnRyaW0oKSA6ICcnO1xyXG5cdFx0XHRpZiAoIXRoaXMucmVwb3J0TmFtZSkge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMudGV4dEVycm9yUmVwb3J0TmFtZUVtcHR5KTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBuYW1lIGlzIHZhbGlkXHJcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDb21tb25TZXR0aW5ncygpO1xyXG5cdFx0XHR2YXIgcmVwb3J0TmFtZUZpeGVkID0gd2luZG93LnV0aWxpdHkuZml4UmVwb3J0TmFtZVBhdGgodGhpcy5yZXBvcnROYW1lLFxyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpLFxyXG5cdFx0XHRcdHNldHRpbmdzLnN0cmlwSW52YWxpZENoYXJhY3RlcnMsXHJcblx0XHRcdFx0c2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycyk7XHJcblx0XHRcdGlmICghcmVwb3J0TmFtZUZpeGVkKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JJbnZhbGlkUmVwb3J0TmFtZSk7XHJcblx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMucmVwb3J0TmFtZSA9IHJlcG9ydE5hbWVGaXhlZDtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGNhdGVnb3J5XHJcblx0XHRcdGlmICh0aGlzLmlzQ3JlYXRpbmdOZXdDYXRlZ29yeSkge1xyXG5cdFx0XHRcdHZhciBmaXhlZENhdGVnb3J5TmFtZSA9IHdpbmRvdy51dGlsaXR5LmZpeFJlcG9ydE5hbWVQYXRoKHRoaXMubmV3Q2F0ZWdvcnlOYW1lLFxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCksXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5zdHJpcEludmFsaWRDaGFyYWN0ZXJzLFxyXG5cdFx0XHRcdFx0c2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycyk7XHJcblx0XHRcdFx0aWYgKCFmaXhlZENhdGVnb3J5TmFtZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy50ZXh0RXJyb3JJbnZhbGlkQ2F0ZWdvcnlOYW1lKTtcclxuXHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLm5ld0NhdGVnb3J5TmFtZSA9IGZpeGVkQ2F0ZWdvcnlOYW1lO1xyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMubmV3Q2F0ZWdvcnlOYW1lID09PSB0aGlzLmNhdGVnb3JpZXNbaV1bJ25hbWUnXSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dENhdGVnb3J5RXhpc3QodGhpcy5uZXdDYXRlZ29yeU5hbWUpKTtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjaGVjayByZXBvcnQgbmFtZVxyXG5cdFx0XHR2YXIgc2VsZWN0ZWRDYXRlZ29yeU5hbWUgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkubmFtZTtcclxuXHJcblx0XHRcdC8vIHJlc29sdmUgaWYgaXQgaXMgc2FtZSByZXBvcnRcclxuXHRcdFx0dmFyIHJlcG9ydEluZm8gPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLmdldFJlcG9ydEluZm8oKTtcclxuXHRcdFx0aWYgKHJlcG9ydEluZm8ubmFtZSA9PT0gdGhpcy5yZXBvcnROYW1lICYmIHJlcG9ydEluZm8uY2F0ZWdvcnkgPT09IHNlbGVjdGVkQ2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy5nZXRFcnJvclRleHRSZXBvcnRFeGlzdChzZWxlY3RlZENhdGVnb3J5TmFtZSArXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArXHJcblx0XHRcdFx0XHR0aGlzLnJlcG9ydE5hbWUpKTtcclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIHJlcG9ydCBpc24ndCBpbiB0aGF0IGNhdGVnb3J5XHJcblx0XHRcdGlmIChzZWxlY3RlZENhdGVnb3J5TmFtZSA9PT0gdGhpcy50ZXh0VW5jYXRlZ29yaXplZCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLmlzUmVwb3J0SW5SZXBvcnRMaXN0KHRoaXMucmVwb3J0TmFtZSwgdGhpcy5yZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdFx0dGhpcy5lcnJvck1lc3NhZ2VzLnB1c2godGhpcy5nZXRFcnJvclRleHRSZXBvcnRFeGlzdChzZWxlY3RlZENhdGVnb3J5TmFtZSArXHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZXBvcnROYW1lKSk7XHJcblx0XHRcdFx0XHRyZWplY3QoKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUNvbW1vblF1ZXJ5U2VydmljZS5nZXRSZXBvcnRTZXRDYXRlZ29yeShzZWxlY3RlZENhdGVnb3J5TmFtZSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucmVwb3J0U2V0cyA9IGRhdGEuUmVwb3J0U2V0cztcclxuXHRcdFx0XHRcdGlmICh0aGlzLmlzUmVwb3J0SW5SZXBvcnRMaXN0KHRoaXMucmVwb3J0TmFtZSwgZGF0YS5SZXBvcnRTZXRzKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVycm9yTWVzc2FnZXMucHVzaCh0aGlzLmdldEVycm9yVGV4dFJlcG9ydEV4aXN0KHNlbGVjdGVkQ2F0ZWdvcnlOYW1lICtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKSArXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZXBvcnROYW1lKSk7XHJcblx0XHRcdFx0XHRcdHJlamVjdCgpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNhdGVnb3J5IG9iamVjdCBieSBpdCdzIGlkXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRDYXRlZ29yeU9iamVjdEJ5SWQoaWQ6IG51bWJlcik6IENhdGVnb3J5T2JqZWN0IHtcclxuXHRcdHJldHVybiB0aGlzLmNhdGVnb3JpZXMuZmluZChjYXRlZ29yeSA9PiBjYXRlZ29yeS5pZCA9PT0gaWQpIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY2F0ZWdvcnkgb2JqZWN0IGJ5IGl0J3MgbmFtZVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0Q2F0ZWdvcnlPYmplY3RCeU5hbWUobmFtZTogc3RyaW5nKTogQ2F0ZWdvcnlPYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2F0ZWdvcmllcy5maW5kKGNhdGVnb3J5ID0+IGNhdGVnb3J5Lm5hbWUgPT09IG5hbWUpIHx8IG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEludmFsaWRDaGFyc1JlZ2V4KCk6IFJlZ0V4cCB7XHJcblx0XHRsZXQgYWRkaXRpb25hbENoYXJhY3RlciA9ICcnO1xyXG5cdFx0aWYgKGpzUmVzb3VyY2VzLmNhdGVnb3J5Q2hhcmFjdGVyICE9PSAnXFxcXCcpXHJcblx0XHRcdGFkZGl0aW9uYWxDaGFyYWN0ZXIgPSBqc1Jlc291cmNlcy5jYXRlZ29yeUNoYXJhY3Rlci5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcclxuXHRcdHJldHVybiBuZXcgUmVnRXhwKCdbXkEtWmEtejAtOV8vJyArIGFkZGl0aW9uYWxDaGFyYWN0ZXIgKyBcIlxcXFwtJycgXFxcXFxcXFxdXCIsICdnJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEVycm9yVGV4dENhdGVnb3J5RXhpc3QoY2F0ZWdvcnlOYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0V2l0aFBhcmFtcygnanNfQ2F0ZWdvcnlFeGlzdCcsXHJcblx0XHRcdCdDYXRlZ29yeSB3aXRoIG5hbWUgXCJ7MH1cIiBhbHJlYWR5IGV4aXN0LicsXHJcblx0XHRcdFtjYXRlZ29yeU5hbWVdKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RXJyb3JUZXh0UmVwb3J0RXhpc3QoZnVsbFJlcG9ydE5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHRXaXRoUGFyYW1zKCdqc19SZXBvcnRBbHJlYWR5RXhpc3QnLFxyXG5cdFx0XHQnRGFzaGJvYXJkIG9yIHJlcG9ydCBcInswfVwiIGFscmVhZHkgZXhpc3QnLFxyXG5cdFx0XHRbZnVsbFJlcG9ydE5hbWVdKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFDYXRlZ29yeVNlbGVjdFNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxuXHRjYXRlZ29yaWVzOiBDYXRlZ29yeU9iamVjdFtdO1xyXG5cdGNhdGVnb3J5OiBDYXRlZ29yeU9iamVjdDtcclxuXHRvblNlbGVjdDogYW55O1xyXG5cdG9uQ2F0ZWdvcmllc0NoYW5nZWQ6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpcmVjdGl2ZSBkb2NzLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhQ2F0ZWdvcnlTZWxlY3QgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdBJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGNhdGVnb3JpZXM6ICc9JyxcclxuXHRcdGNhdGVnb3J5OiAnPScsXHJcblx0XHRvblNlbGVjdDogJyYnLFxyXG5cdFx0b25DYXRlZ29yaWVzQ2hhbmdlZDogJyYnXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhQ2F0ZWdvcnlTZWxlY3RTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYUNhdGVnb3J5U2VsZWN0LnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYUNhdGVnb3J5U2VsZWN0U2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBjYXRlZ29yeUNoYXJhY3RlciA9ICRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlDaGFyYWN0ZXIoKTtcclxuXHRcdFx0Y29uc3QgY29tbW9uU2V0dGluZ3MgPSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCk7XHJcblx0XHRcdGNvbnN0IHN0cmlwSW52YWxpZENoYXJhY3RlcnMgPSBjb21tb25TZXR0aW5ncy5zdHJpcEludmFsaWRDaGFyYWN0ZXJzO1xyXG5cdFx0XHRjb25zdCBhbGxvd0ludmFsaWRDaGFyYWN0ZXJzID0gY29tbW9uU2V0dGluZ3MuYWxsb3dJbnZhbGlkQ2hhcmFjdGVycztcclxuXHRcdFx0Y29uc3QgY2F0ZWdvcnlDb250cm9sID0gbmV3IEFkSG9jLlV0aWxpdHkuSXplbmRhQ2F0ZWdvcnlTZWxlY3RvckNvbnRyb2woXHJcblx0XHRcdFx0JGVsZW1lbnQsXHJcblx0XHRcdFx0Y2F0ZWdvcnlDaGFyYWN0ZXIsXHJcblx0XHRcdFx0c3RyaXBJbnZhbGlkQ2hhcmFjdGVycyxcclxuXHRcdFx0XHRhbGxvd0ludmFsaWRDaGFyYWN0ZXJzKTtcclxuXHRcdFx0Y2F0ZWdvcnlDb250cm9sLmFkZFNlbGVjdGVkSGFuZGxlcih2YWwgPT4ge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uU2VsZWN0KSkge1xyXG5cdFx0XHRcdFx0JHNjb3BlLm9uU2VsZWN0KHtcclxuXHRcdFx0XHRcdFx0dmFsOiB2YWxcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGZvciBjb2xsYXBzZWQgc3RhdGUgY2hhbmdlXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCdjYXRlZ29yaWVzJywgKCkgPT4ge1xyXG5cdFx0XHRcdHVwZGF0ZUNhdGVnb3JpZXMoKTtcclxuXHRcdFx0XHR1cGRhdGVDYXRlZ29yeSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnY2F0ZWdvcnknLCAoKSA9PiB7XHJcblx0XHRcdFx0dXBkYXRlQ2F0ZWdvcnkoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiB1cGRhdGVDYXRlZ29yaWVzKCkge1xyXG5cdFx0XHRcdGNvbnN0IHByZXZpb3VzTGVuZ3RoID0gJHNjb3BlLmNhdGVnb3JpZXMubGVuZ3RoO1xyXG5cdFx0XHRcdGNhdGVnb3J5Q29udHJvbC5zZXRDYXRlZ29yaWVzKCRzY29wZS5jYXRlZ29yaWVzKTtcclxuXHRcdFx0XHRjb25zdCBuZXdDYXRlZ29yaWVzID0gY29sbGVjdENhdGVnb3JpZXMoKTtcclxuXHRcdFx0XHRpZiAocHJldmlvdXNMZW5ndGggIT09IG5ld0NhdGVnb3JpZXMubGVuZ3RoICYmIGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25DYXRlZ29yaWVzQ2hhbmdlZCkpIHtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNhdGVnb3JpZXNDaGFuZ2VkKHtcclxuXHRcdFx0XHRcdFx0bmV3Q2F0ZWdvcmllczogbmV3Q2F0ZWdvcmllc1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3J5KCkge1xyXG5cdFx0XHRcdGlmIChhbmd1bGFyLmlzT2JqZWN0KCRzY29wZS5jYXRlZ29yeSkgJiYgJHNjb3BlLmNhdGVnb3J5LmlkICE9PSAxKSB7XHJcblx0XHRcdFx0XHRjYXRlZ29yeUNvbnRyb2wuc2VsZWN0KCRzY29wZS5jYXRlZ29yeS5uYW1lKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbGxlY3RDYXRlZ29yaWVzKCkge1xyXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSBhbmd1bGFyLmVsZW1lbnQubWFwKCRlbGVtZW50LmNoaWxkcmVuKCdvcHRpb24nKSwgKCRvcHRpb246IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRvcHRpb24udmFsdWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSkgPT4gbmV3IEl6ZW5kYUNhdGVnb3J5U2VsZWN0KCRpemVuZGFTZXR0aW5nc1NlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFVaU1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYUNhdGVnb3J5U2VsZWN0JywgWyckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgSXplbmRhQ2F0ZWdvcnlTZWxlY3QuZmFjdG9yeSgpXSk7XHJcblxyXG5jbGFzcyBDYXRlZ29yeU9iamVjdCB7XHJcblx0aWQ6IG51bWJlcjtcclxuXHRuYW1lOiBzdHJpbmc7XHJcbn0iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNlbGVjdEl0ZW1Nb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zZWxlY3QtaXRlbS1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYVNoYXJlUnVsZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvbG9jYWxpemF0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhVWlNb2R1bGUsXHJcblx0J2l6ZW5kYVNoYXJlQ29tcG9uZW50JyxcclxuXHRbJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFTaGFyZVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuY29tbW9uLnVpLmNvbXBvbmVudHMuc2hhcmUuc2hhcmUtdGVtcGxhdGUuaHRtbCcsXHJcblx0XHRiaW5kaW5nczoge1xyXG5cdFx0XHRzdWJqZWN0czogJzwnLFxyXG5cdFx0XHRyaWdodHM6ICc8JyxcclxuXHRcdFx0c2hhcmVSdWxlczogJzwnXHJcblx0XHR9XHJcblx0fSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXplbmRhU2hhcmVDb21wb25lbnQge1xyXG5cdC8vIHZhcmlhYmxlcyBmb3IgYmluZGluZyBkZWZpbml0aW9uOlxyXG5cdHN1YmplY3RzOiBBcnJheTxJemVuZGFTZWxlY3RJdGVtTW9kZWw+O1xyXG5cdHJpZ2h0czogQXJyYXk8SXplbmRhU2VsZWN0SXRlbU1vZGVsPjtcclxuXHRzaGFyZVJ1bGVzOiBBcnJheTxJemVuZGFTaGFyZVJ1bGVNb2RlbD47XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNoYXJlU2VydmljZTogSXplbmRhU2hhcmVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpcyBzaGFyZSBydWxlIHNlbGVjdGVkIHJpZ2h0IGlzIHZhbGlkXHJcblx0ICovXHJcblx0Z2V0U2hhcmVSdWxlVmFsaWRhdGlvbk1lc3NhZ2Uoc2hhcmVSdWxlOiBJemVuZGFTaGFyZVJ1bGVNb2RlbCkge1xyXG5cdFx0aWYgKCFzaGFyZVJ1bGUucmlnaHQgJiYgIXNoYXJlUnVsZS5zdWJqZWN0KVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19OZXNzZXNhcnlTZWxlY3RSaWdodCcsXHJcblx0XHRcdFx0J0l0IGlzIG5lY2Vzc2FyeSB0byBjaG9vc2UgdGhlIHJpZ2h0LCBvdGhlcndpc2UgaXQgd2lsbCBiZSBpZ25vcmVkLicpO1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgc2hhcmUgcnVsZSBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7Q29yZS5JemVuZGFTaGFyZVJ1bGVNb2RlbH0gc2hhcmVSdWxlXHJcblx0ICovXHJcblx0cmVtb3ZlU2hhcmVSdWxlKHNoYXJlUnVsZTogSXplbmRhU2hhcmVSdWxlTW9kZWwpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVNoYXJlU2VydmljZS5yZW1vdmVTaGFyZVJ1bGUoc2hhcmVSdWxlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBzaGFyZSBydWxlXHJcblx0ICovXHJcblx0YWRkU2hhcmVSdWxlKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLmFkZE5ld1NoYXJlUnVsZSgpO1xyXG5cdH1cclxufSIsImltcG9ydCBpemVuZGFVaU1vZHVsZSBmcm9tICdjb21tb24vdWkvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNjaGVkdWxlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2NoZWR1bGUtc2VydmljZSc7XHJcbkl6ZW5kYVNoYXJlU2VydmljZS5yZWdpc3RlcihpemVuZGFVaU1vZHVsZSk7XHJcbkl6ZW5kYVNjaGVkdWxlU2VydmljZS5yZWdpc3RlcihpemVuZGFVaU1vZHVsZSk7XHJcblxyXG4vLyByZWdpc3RlciBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzXHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYWxpZ24tc3dpdGNoZXInO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2F1dG9jb21wbGV0ZSc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvYm9vdHN0cmFwJztcclxuaW1wb3J0ICdjb21tb24vdWkvZGlyZWN0aXZlcy9jb2xvci1waWNrZXInO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL2RhdGV0aW1lLXBpY2tlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvcmVwb3J0LXZpZXdlcic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc2VsZWN0LWNoZWNrYm94ZXMnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL3NwbGFzaHNjcmVlbic7XHJcbmltcG9ydCAnY29tbW9uL3VpL2RpcmVjdGl2ZXMvc3dpdGNoZXInO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9kaXJlY3RpdmVzL3RvZ2dsZS1idXR0b24nO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9jb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2VsZWN0LXJlcG9ydC9zZWxlY3QtcmVwb3J0LWNvbXBvbmVudCc7XHJcbmltcG9ydCAnY29tbW9uL3VpL2NvbXBvbmVudHMvc2VsZWN0LXJlcG9ydC1uYW1lL3NlbGVjdC1yZXBvcnQtbmFtZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2NvbW1vbi91aS9jb21wb25lbnRzL3NoYXJlL3NoYXJlLWNvbXBvbmVudCc7IiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAnY29tbW9uL2NvcmUvbW9kdWxlJztcclxuaW1wb3J0ICdjb21tb24vcXVlcnkvbW9kdWxlJztcclxuaW1wb3J0ICdjb21tb24vdWkvbW9kdWxlJztcclxuXHJcbi8vIGNvbW1vblxyXG5pbXBvcnQgeyBJemVuZGFDb21tb25Mb2FkZXIgfSBmcm9tICdjb21tb24vY29tbW9uLW1vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IGl6ZW5kYVVpTW9kdWxlIGZyb20gJ2NvbW1vbi91aS9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG4vKipcclxuICogcmVxdWlyZWpzIG1vZHVsZSwgd2hpY2ggY3JlYXRlcyBhbmd1bGFyIG1vZHVsZXMuXHJcbiAqIHJldHVybnMgJ2xvYWRTZXR0aW5ncycgZnVuY3Rpb24sIHdoaWNoIGNvdWxkIGxvYWQgc2V0dGluZ3MgZm9yIHRoaXMgbW9kdWxlLlxyXG4gKi9cclxuLy8gQ3JlYXRlIGRhc2hib2FyZHMgYW5ndWxhciBtb2R1bGVcclxuY29uc3QgaXplbmRhRGFzaGJvYXJkTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2l6ZW5kYURhc2hib2FyZCcsIFtcclxuXHQnbmdDb29raWVzJyxcclxuXHQncngnLFxyXG5cdCdpemVuZGEuY29tbW9uLmNvcmUnLFxyXG5cdCdpemVuZGEuY29tbW9uLnF1ZXJ5JyxcclxuXHQnaXplbmRhLmNvbW1vbi51aScsXHJcblx0J2l6ZW5kYUZpbHRlcnMnXHJcbl0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaXplbmRhRGFzaGJvYXJkTW9kdWxlO1xyXG5cclxuLy8gY29uZmlndXJlIGNvbW1vbiB1aSBtb2R1bGU6XHJcbml6ZW5kYVVpTW9kdWxlXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnB1dFBsYWNlaG9sZGVyVGV4dCcsIFsnanNfRGFzaGJvYXJkTmFtZScsICdEYXNoYm9hcmQgTmFtZSddKVxyXG5cdC52YWx1ZSgnaXplbmRhLmNvbW1vbi51aS5yZXBvcnROYW1lRW1wdHlFcnJvcicsIFsnanNfRGFzaGJvYXJkTmFtZUNhbnRCZUVtcHR5JywgJ0Rhc2hib2FyZCBuYW1lIGNhblxcJ3QgYmUgZW1wdHkuJ10pXHJcblx0LnZhbHVlKCdpemVuZGEuY29tbW9uLnVpLnJlcG9ydE5hbWVJbnZhbGlkRXJyb3InLCBbJ2pzX0ludmFsaWREYXNoYm9hcmROYW1lJywgJ0ludmFsaWQgZGFzaGJvYXJkIE5hbWUnXSk7XHJcblxyXG5leHBvcnQgY2xhc3MgSXplbmRhRGFzaGJvYXJkc0xvYWRlciB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhbmQgY29uZmlndXJlIG1vZHVsZXNcclxuXHQgKi9cclxuXHRzdGF0aWMgY29uZmlndXJlTW9kdWxlcyhjb25maWdPYmplY3QpIHtcclxuXHRcdGNvbnN0IGRhc2hib2FyZFNldHRpbmdzID0gY29uZmlnT2JqZWN0IGFzIElJemVuZGFEYXNoYm9hcmRTZXR0aW5ncztcclxuXHRcdGNvbnN0IGRhc2hib2FyZENvbmZpZyA9IHtcclxuXHRcdFx0c2hvd0Rhc2hib2FyZFRvb2xiYXI6IHRydWUsXHJcblx0XHRcdGRlZmF1bHREYXNoYm9hcmRDYXRlZ29yeTogbnVsbCwgLy8ncXdlXFxcXHF3ZXdxZScsXHJcblx0XHRcdGRlZmF1bHREYXNoYm9hcmROYW1lOiBudWxsLCAvLydxcXFxJyxcclxuXHRcdFx0ZGFzaGJvYXJkVG9vbEJhckl0ZW1zU29ydDogKGl0ZW0xLCBpdGVtMikgPT4gaXRlbTEubG9jYWxlQ29tcGFyZShpdGVtMilcclxuXHRcdH0gYXMgSUl6ZW5kYURhc2hib2FyZENvbmZpZztcclxuXHRcdC8vIGNvbmZpZ3VyZSBpbnN0YW50IHJlcG9ydCBtb2R1bGVcclxuXHRcdGNvbnN0IG1vZHVsZSA9IGFuZ3VsYXJcclxuXHRcdFx0Lm1vZHVsZSgnaXplbmRhRGFzaGJvYXJkJylcclxuXHRcdFx0LmNvbnN0YW50KCdpemVuZGFEYXNoYm9hcmRDb25maWcnLCBkYXNoYm9hcmRDb25maWcpXHJcblx0XHRcdC5jb25maWcoWyckbG9nUHJvdmlkZXInLCAkbG9nUHJvdmlkZXIgPT4geyAkbG9nUHJvdmlkZXIuZGVidWdFbmFibGVkKGZhbHNlKTsgfV0pXHJcblx0XHRcdC5jb25maWcoW1xyXG5cdFx0XHRcdCckcHJvdmlkZScsICRwcm92aWRlID0+IHtcclxuXHRcdFx0XHRcdCRwcm92aWRlLmRlY29yYXRvcignJGJyb3dzZXInLCBbXHJcblx0XHRcdFx0XHRcdCckZGVsZWdhdGUnLCAkZGVsZWdhdGUgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdCRkZWxlZ2F0ZS5vblVybENoYW5nZSA9ICgpID0+IHsgfTtcclxuXHRcdFx0XHRcdFx0XHQkZGVsZWdhdGUudXJsID0gKCkgPT4gJyc7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuICRkZWxlZ2F0ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRdKVxyXG5cdFx0XHQuY29uc3RhbnQoJyRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncycsIGRhc2hib2FyZFNldHRpbmdzKTtcclxuXHJcblx0XHRyZXR1cm4gbW9kdWxlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQm9vdHN0cmFwIGFuZ3VsYXIgYXBwOlxyXG5cdCAqIHdpbmRvdy51cmxTZXR0aW5ncyQgb2JqZWN0cyBzaG91bGQgYmUgZGVmaW5lZCBiZWZvcmUgdGhpcyBtb21lbnQuXHJcblx0ICovXHJcblx0c3RhdGljIGJvb3RzdHJhcCgpIHtcclxuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG5cdFx0XHQvLyBjb21tb24gc2V0dGluZ3MgcHJvbWlzZTpcclxuXHRcdFx0dmFyIGNvbW1vblF1ZXJ5U2V0dGluZ3NQcm9taXNlID0gSXplbmRhQ29tbW9uTG9hZGVyLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0Ly8gaW5zdGFudCByZXBvcnQgc2V0dGluZ3MgcHJvbWlzZTpcclxuXHRcdFx0dmFyIHVybFNldHRpbmdzID0gd2luZG93LnVybFNldHRpbmdzJDtcclxuXHRcdFx0dmFyIHJzUGFnZVVybCA9IHVybFNldHRpbmdzLnVybFJzUGFnZTtcclxuXHRcdFx0dmFyIHNldHRpbmdzVXJsID0gcnNQYWdlVXJsICsgJz93c2NtZD1nZXREYXNoYm9hcmRTZXR0aW5ncyc7XHJcblx0XHRcdHZhciBkYXNoYm9hcmRzU2V0dGluZ3NQcm9taXNlID0gYW5ndWxhci5lbGVtZW50LmdldChzZXR0aW5nc1VybCk7XHJcblxyXG5cdFx0XHQvLyB3YWl0IHdoaWxlIGFsbCBzZXR0aW5ncyBhcmUgbG9hZGVkOlxyXG5cdFx0XHRhbmd1bGFyLmVsZW1lbnRcclxuXHRcdFx0XHQud2hlbihjb21tb25RdWVyeVNldHRpbmdzUHJvbWlzZSwgZGFzaGJvYXJkc1NldHRpbmdzUHJvbWlzZSlcclxuXHRcdFx0XHQudGhlbigoY29tbW9uU2V0dGluZ3NSZXN1bHQsIGRhc2hib2FyZHNTZXR0aW5nc1Jlc3VsdCkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdC8vIGdldCBpbnN0YW50IHJlcG9ydCBjb25maWcgb2JqZWN0XHJcblx0XHRcdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gZGFzaGJvYXJkc1NldHRpbmdzUmVzdWx0WzBdO1xyXG5cclxuXHRcdFx0XHRcdC8vIGNyZWF0ZSBhbmQgY29uZmlndXJlIG1vZHVsZXM6XHJcblx0XHRcdFx0XHRJemVuZGFEYXNoYm9hcmRzTG9hZGVyLmNvbmZpZ3VyZU1vZHVsZXMoY29uZmlnT2JqZWN0KTtcclxuXHJcblx0XHRcdFx0XHQvLyBib290c3RyYXAgYXBwbGljYXRpb246XHJcblx0XHRcdFx0XHRhbmd1bGFyLmJvb3RzdHJhcCgnI2l6ZW5kYURhc2hib2FyZE1haW5Db250YWluZXInLCBbJ2l6ZW5kYURhc2hib2FyZCddKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzIHtcclxuXHRhbGxvd2VkUHJpbnRFbmdpbmU6IHN0cmluZztcclxuXHRkYXNoYm9hcmRzQWxsb3dlZDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSXplbmRhRGFzaGJvYXJkQ29uZmlnIHtcclxuXHRzaG93RGFzaGJvYXJkVG9vbGJhcjogYm9vbGVhbjtcclxuXHRkZWZhdWx0RGFzaGJvYXJkQ2F0ZWdvcnk6IHN0cmluZztcclxuXHRkZWZhdWx0RGFzaGJvYXJkTmFtZTogc3RyaW5nO1xyXG5cdGRhc2hib2FyZFRvb2xCYXJJdGVtc1NvcnQ6IGFueTtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuXHJcbi8qKlxyXG4gKiBEYXNoYm9hcmQgc3RvcmFnZSBzZXJ2aWNlLiBTdG9yZXMgY3VycmVudCBkYXNoYm9hcmQgc3RhdGUuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSB7XHJcblx0aHVlUm90YXRlOiBib29sZWFuO1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFsnJGNvb2tpZXMnLCAnJHJvb3RTY29wZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRjb29raWVzOiBhbnkpIHtcclxuXHRcdHRoaXMuaHVlUm90YXRlID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRnZXQgZmluYWxCYWNrZ3JvdW5kSW1hZ2VVcmwoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmJhY2tncm91bmRJbWFnZVR5cGUgPT09ICdmaWxlJ1xyXG5cdFx0XHQ/IHRoaXMuYmFja2dyb3VuZEltYWdlQmFzZTY0XHJcblx0XHRcdDogdGhpcy5iYWNrZ3JvdW5kSW1hZ2VVcmw7XHJcblx0fVxyXG5cclxuXHQvLyBodWVSb3RhdGUgZ2V0L3NldFxyXG5cclxuXHRnZXQgYmFja2dyb3VuZEh1ZVJvdGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmh1ZVJvdGF0ZTtcclxuXHR9XHJcblxyXG5cdHNldCBiYWNrZ3JvdW5kSHVlUm90YXRlKHZhbDogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5odWVSb3RhdGUgPSB2YWw7XHJcblx0fVxyXG5cclxuXHQvLyBjb2xvciBnZXQvc2V0XHJcblxyXG5cdGdldCBiYWNrZ3JvdW5kQ29sb3IoKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGJhY2tDb2xvciA9IHRoaXMuZ2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kQ29sb3InKTtcclxuXHRcdHJldHVybiBiYWNrQ29sb3IgfHwgJyMxYzhmZDYnO1xyXG5cdH1cclxuXHJcblx0c2V0IGJhY2tncm91bmRDb2xvcih2YWw6IHN0cmluZykge1xyXG5cdFx0dGhpcy5zZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRDb2xvcicsIHZhbCk7XHJcblx0fVxyXG5cclxuXHQvLyBpbWFnZSByZXBlYXQgZ2V0L3NldFxyXG5cclxuXHRnZXQgYmFja2dyb3VuZEltYWdlUmVwZWF0KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VSZXBlYXQnKSA9PT0gJ3RydWUnO1xyXG5cdH1cclxuXHJcblx0c2V0IGJhY2tncm91bmRJbWFnZVJlcGVhdCh2YWw6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMuc2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VSZXBlYXQnLCB2YWwgPyAndHJ1ZScgOiAnZmFsc2UnKTtcclxuXHR9XHJcblxyXG5cdC8vIGJhY2tncm91bmRJbWFnZVR5cGUgZ2V0L3NldFxyXG5cclxuXHRnZXQgYmFja2dyb3VuZEltYWdlVHlwZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VUeXBlJyk7XHJcblx0fVxyXG5cclxuXHRzZXQgYmFja2dyb3VuZEltYWdlVHlwZSh2YWw6IHN0cmluZykge1xyXG5cdFx0dGhpcy5zZXRDb29raWUoJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZVR5cGUnLCB2YWwpO1xyXG5cdH1cclxuXHJcblx0Ly8gYmFja2dyb3VuZEltYWdlQmFzZTY0IGdldC9zZXRcclxuXHJcblx0Z2V0IGJhY2tncm91bmRJbWFnZUJhc2U2NCgpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlc3VsdCA9ICcnO1xyXG5cdFx0aWYgKHRoaXMuaXNTdG9yYWdlQXZhaWxhYmxlKCkpIHtcclxuXHRcdFx0Y29uc3QgZGF0YUltYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZUJhc2U2NCcpO1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhkYXRhSW1hZ2UpKVxyXG5cdFx0XHRcdHJlc3VsdCA9IGRhdGFJbWFnZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZ2V0Q29va2llKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kSW1hZ2VCYXNlNjQnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRzZXQgYmFja2dyb3VuZEltYWdlQmFzZTY0KHZhbDogc3RyaW5nKSB7XHJcblx0XHRpZiAodGhpcy5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRpZiAodmFsICE9IG51bGwpXHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2l6ZW5kYURhc2hib2FyZEJhY2tncm91bmRJbWFnZUJhc2U2NCcsIHZhbCk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlQmFzZTY0Jyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnNldENvb2tpZSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlQmFzZTY0JywgdmFsKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGltYWdlIHVybCBnZXQvc2V0XHJcblxyXG5cdGdldCBiYWNrZ3JvdW5kSW1hZ2VVcmwoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmdldENvb2tpZSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlVXJsJyk7XHJcblx0fVxyXG5cclxuXHRzZXQgYmFja2dyb3VuZEltYWdlVXJsKHZhbDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNldENvb2tpZSgnaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZEltYWdlVXJsJywgdmFsKTtcclxuXHR9XHJcblxyXG5cdC8vIHV0aWxpdHkgZnVuY3Rpb25zXHJcblxyXG5cdGdldENvb2tpZShuYW1lKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLiRjb29raWVzLmdldChuYW1lKTtcclxuXHR9XHJcblxyXG5cdHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuJGNvb2tpZXMucHV0KG5hbWUsIHZhbHVlKTtcclxuXHR9XHJcblxyXG5cdGlzU3RvcmFnZUF2YWlsYWJsZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0eXBlb2YgKFN0b3JhZ2UpICE9PSAndW5kZWZpbmVkJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFuZ3VsYXIgZGVwZW5kZW5jaWVzXHJcblx0ICovXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhQmFja2dyb3VuZFNlcnZpY2UnLCBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBJSXplbmRhUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJveCB7XHJcblx0eDogbnVtYmVyO1xyXG5cdHk6IG51bWJlcjtcclxuXHR3aWR0aDogbnVtYmVyO1xyXG5cdGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogSXplbmRhIGRhc2hib2FyZCB0aWxlIG1vZGVsIGNsYXNzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIGltcGxlbWVudHMgSUJveCwgSUl6ZW5kYVJhd01vZGVsIHtcclxuXHRzdGF0aWMgJCRUaWxlSWRDb3VudGVyOiBudW1iZXIgPSAxO1xyXG5cclxuXHRpZDogbnVtYmVyO1xyXG5cdGlzTmV3OiBib29sZWFuID0gZmFsc2U7XHJcblx0aXNTb3VyY2VSZXBvcnREZWxldGVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0dGl0bGU6IHN0cmluZyA9ICcnO1xyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmcgPSAnJztcclxuXHR4OiBudW1iZXIgPSAwO1xyXG5cdHk6IG51bWJlciA9IDA7XHJcblx0d2lkdGg6IG51bWJlciA9IDY7XHJcblx0aGVpZ2h0OiBudW1iZXIgPSAzO1xyXG5cdGNhbkJlTG9hZGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHRkZXNpZ25lclR5cGU6IHN0cmluZyA9ICdSZXBvcnREZXNpZ25lcic7XHJcblx0bWF4UmlnaHRzOiBzdHJpbmcgPSAnRnVsbCBBY2Nlc3MnO1xyXG5cdHRvcDogbnVtYmVyID0gMTAwO1xyXG5cdHRvcFN0cmluZzogc3RyaW5nID0gJzEwMCc7XHJcblx0cmVwb3J0TmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnRDYXRlZ29yeTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnRGdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnRQYXJ0TmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRyZXBvcnROYW1lV2l0aENhdGVnb3J5OiBzdHJpbmcgPSBudWxsO1xyXG5cdHJlcG9ydFNldE5hbWU6IHN0cmluZyA9IG51bGw7XHJcblx0cmVwb3J0VHlwZTogc3RyaW5nID0gbnVsbDtcclxuXHRwcmV2aW91c1JlcG9ydEZ1bGxOYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuXHRiYWNrVGlsZVBvcHVwT3BlbmVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0ZmxpcDogYW55ID0gbnVsbDtcclxuXHR1cGRhdGVGcm9tU291cmNlOiBib29sZWFuO1xyXG5cdGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBGYWN0b3J5IG1ldGhvZFxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNOZXcgaXMgdGhpcyB0aWxlIG1hcmtlZCBhcyBuZXcuXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IHJhd01vZGVsIHRpbGUgcHJvcGVydGllcy5cclxuXHQgKiBAcmV0dXJucyB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSBtb2RlbCBpbnN0YW5jZS5cclxuXHQgKi9cclxuXHRzdGF0aWMgY3JlYXRlSW5zdGFuY2UoaXNOZXc6IGJvb2xlYW4sIGpzb246IGFueSA9IG51bGwpOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwge1xyXG5cdFx0cmV0dXJuIG5ldyBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwoaXNOZXcsIGpzb24pO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoaXNOZXc6IGJvb2xlYW4sIGpzb246IGFueSkge1xyXG5cdFx0dGhpcy5pZCA9IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbC4kJFRpbGVJZENvdW50ZXIrKztcclxuXHRcdHRoaXMuaXNOZXcgPSBpc05ldztcclxuXHRcdHRoaXMuZnJvbUpzb24oanNvbik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaWxsIHRoaXMgb2JqZWN0IGZyb20gdGhlIHJhdyByZXByZXNlbnRhdGlvblxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFJhdyBtb2RlbC5cclxuXHQgKi9cclxuXHRmcm9tSnNvbihqc29uOiBhbnkpIHtcclxuXHRcdGlmICghanNvbilcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5pc1NvdXJjZVJlcG9ydERlbGV0ZWQgPSBqc29uLmlzU291cmNlUmVwb3J0RGVsZXRlZCB8fCBmYWxzZTtcclxuXHRcdHRoaXMudGl0bGUgPSBqc29uLnJlcG9ydFRpdGxlIHx8ICcnO1xyXG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGpzb24ucmVwb3J0RGVzY3JpcHRpb24gfHwgJyc7XHJcblx0XHR0aGlzLnggPSBqc29uLnggfHwgMDtcclxuXHRcdHRoaXMueSA9IGpzb24ueSB8fCAwO1xyXG5cdFx0dGhpcy53aWR0aCA9IGpzb24ud2lkdGggfHwgNjtcclxuXHRcdHRoaXMuaGVpZ2h0ID0ganNvbi5oZWlnaHQgfHwgMztcclxuXHRcdHRoaXMuY2FuQmVMb2FkZWQgPSBqc29uLmNhbkJlTG9hZGVkIHx8IHRydWU7XHJcblx0XHR0aGlzLmRlc2lnbmVyVHlwZSA9IGpzb24uZGVzaWduZXJUeXBlIHx8ICdSZXBvcnREZXNpZ25lcic7XHJcblx0XHR0aGlzLm1heFJpZ2h0cyA9IGpzb24ubWF4UmlnaHRzIHx8ICdGdWxsIEFjY2Vzcyc7XHJcblx0XHR0aGlzLnRvcCA9IGpzb24ucmVjb3Jkc0NvdW50IHx8IDEwMDtcclxuXHRcdHRoaXMudG9wU3RyaW5nID0gdGhpcy50b3AgKyAnJztcclxuXHRcdHRoaXMucmVwb3J0TmFtZSA9IGpzb24ucmVwb3J0TmFtZSB8fCBudWxsO1xyXG5cdFx0dGhpcy5yZXBvcnRDYXRlZ29yeSA9IGpzb24ucmVwb3J0Q2F0ZWdvcnkgfHwgbnVsbDtcclxuXHRcdHRoaXMucmVwb3J0RnVsbE5hbWUgPSBqc29uLnJlcG9ydEZ1bGxOYW1lIHx8IG51bGw7XHJcblx0XHR0aGlzLnJlcG9ydFBhcnROYW1lID0ganNvbi5yZXBvcnRQYXJ0TmFtZSB8fCBudWxsO1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lV2l0aENhdGVnb3J5ID0gdGhpcy5yZXBvcnRTZXROYW1lID0ganNvbi5yZXBvcnRTZXROYW1lIHx8IG51bGw7XHJcblx0XHR0aGlzLnJlcG9ydFR5cGUgPSBqc29uLnJlcG9ydFR5cGUgfHwgbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBKU09OIGNvbmZpZyBmb3Igc2VuZGluZyBpdCB0byBzZXJ2ZXJcclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHRcdGNvbnN0IGpzb24gPSB7XHJcblx0XHRcdGlzU291cmNlUmVwb3J0RGVsZXRlZDogdGhpcy5pc1NvdXJjZVJlcG9ydERlbGV0ZWQsXHJcblx0XHRcdHJlcG9ydFRpdGxlOiB0aGlzLnRpdGxlLCAvLyBvdGhlciBuYW1lXHJcblx0XHRcdHJlcG9ydERlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLCAvLyBvdGhlciBuYW1lXHJcblx0XHRcdHg6IHRoaXMueCxcclxuXHRcdFx0eTogdGhpcy55LFxyXG5cdFx0XHR3aWR0aDogdGhpcy53aWR0aCxcclxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlaWdodCxcclxuXHRcdFx0Y2FuQmVMb2FkZWQ6IHRoaXMuY2FuQmVMb2FkZWQsXHJcblx0XHRcdGRlc2lnbmVyVHlwZTogdGhpcy5kZXNpZ25lclR5cGUsXHJcblx0XHRcdG1heFJpZ2h0czogdGhpcy5tYXhSaWdodHMsXHJcblx0XHRcdHJlY29yZHNDb3VudDogdGhpcy50b3AsIC8vIG90aGVyIG5hbWUgXHJcblx0XHRcdHJlcG9ydE5hbWU6IHRoaXMucmVwb3J0TmFtZSB8fCAnJyxcclxuXHRcdFx0cmVwb3J0Q2F0ZWdvcnk6IHRoaXMucmVwb3J0Q2F0ZWdvcnkgfHwgJycsXHJcblx0XHRcdHJlcG9ydEZ1bGxOYW1lOiB0aGlzLnJlcG9ydEZ1bGxOYW1lIHx8ICcnLFxyXG5cdFx0XHRyZXBvcnRQYXJ0TmFtZTogdGhpcy5yZXBvcnRQYXJ0TmFtZSB8fCAnJyxcclxuXHRcdFx0cmVwb3J0U2V0TmFtZTogdGhpcy5yZXBvcnRTZXROYW1lIHx8ICcnLFxyXG5cdFx0XHRyZXBvcnRUeXBlOiB0aGlzLnJlcG9ydFR5cGVcclxuXHRcdH07XHJcblx0XHRyZXR1cm4ganNvbjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0aWxlIGdlb21ldHJpYyBwb3NpdGlvblxyXG5cdCAqIEBwYXJhbSB7QXJyYXk8SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsPn0gdGlsZXMgQ29sbGVjdGlvbiB3aGVyZSB0aGlzIHRpbGUgcGxhY2VkXHJcblx0ICovXHJcblx0Z2V0VGlsZU9yZGVyKHRpbGVzOiBJQm94W10pOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgdGlsZXNDb3B5ID0gdGlsZXMuc2xpY2UoKTtcclxuXHRcdHRpbGVzQ29weS5zb3J0KCh0aWxlMSwgdGlsZTIpID0+IHtcclxuXHRcdFx0aWYgKHRpbGUxLnkgIT09IHRpbGUyLnkpXHJcblx0XHRcdFx0cmV0dXJuIHRpbGUxLnkgLSB0aWxlMi55O1xyXG5cdFx0XHRyZXR1cm4gdGlsZTEueCAtIHRpbGUyLng7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiB0aWxlc0NvcHkuaW5kZXhPZih0aGlzKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBJemVuZGFTaGFyZU1vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL3NoYXJlLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhU2NoZWR1bGVNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9zY2hlZHVsZS1tb2RlbCc7XHJcbmltcG9ydCB7IElJemVuZGFSYXdNb2RlbCB9IGZyb20gJ2NvbW1vbi9jb3JlL21vZGVscy9yYXctbW9kZWwnO1xyXG5cclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5pbXBvcnQgeyBJQm94IH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5cclxuLyoqXHJcbiAqIEl6ZW5kYSBkYXNoYm9hcmQgbW9kZWwgY2xhc3NcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFEYXNoYm9hcmRNb2RlbCBpbXBsZW1lbnRzIElJemVuZGFSYXdNb2RlbCB7XHJcblx0aXNOZXc6IGJvb2xlYW4gPSB0cnVlO1xyXG5cdHJlcG9ydE5hbWU6IHN0cmluZyA9IG51bGw7XHJcblx0cmVwb3J0Q2F0ZWdvcnk6IHN0cmluZyA9IG51bGw7XHJcblx0cmVwb3J0RnVsbE5hbWU6IHN0cmluZyA9IG51bGw7XHJcblx0cHJldmlvdXNSZXBvcnROYW1lOiBzdHJpbmcgPSBudWxsO1xyXG5cdHByZXZpb3VzUmVwb3J0Q2F0ZWdvcnk6IHN0cmluZyA9IG51bGw7XHJcblx0cHJldmlvdXNSZXBvcnRGdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRzb3VyY2VSZXBvcnRGdWxsTmFtZTogc3RyaW5nID0gbnVsbDtcclxuXHRlZmZlY3RpdmVSaWdodHM6IHN0cmluZyA9IG51bGw7XHJcblx0dXNlc0hpZGRlbkNvbHVtbnM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRyZXBvcnRzV2l0aEhpZGRlbkNvbHVtbnM6IHN0cmluZ1tdID0gW107XHJcblx0ZmlsdGVyczogYW55O1xyXG5cdHRpbGVzOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWxbXSA9IFtdO1xyXG5cclxuXHQvKipcclxuXHQgKiBGYWN0b3J5IG1ldGhvZFxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNOZXcgbmV3IGRhc2hib2FyZCB3aXRoIGRlZnVhbHQgY29uZmlnIG9yIG5vdC5cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBkYXNoYm9hcmQgc2VydmVyLXNpZGUgcHJvcGVydGllcy5cclxuXHQgKiBAcmV0dXJucyB7SXplbmRhRGFzaGJvYXJkTW9kZWx9IG1vZGVsIGluc3RhbmNlLlxyXG5cdCAqL1xyXG5cdHN0YXRpYyBjcmVhdGVJbnN0YW5jZShcclxuXHRcdGlzTmV3OiBib29sZWFuLFxyXG5cdFx0anNvbj86IGFueSk6IEl6ZW5kYURhc2hib2FyZE1vZGVsIHtcclxuXHRcdHJldHVybiBuZXcgSXplbmRhRGFzaGJvYXJkTW9kZWwoaXNOZXcsIGpzb24pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSnNvbiB2YWxpZGF0aW9uLlxyXG5cdCAqL1xyXG5cdHN0YXRpYyBpc1ZhbGlkSnNvbihqc29uOiBhbnkpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBqc29uICYmIHR5cGVvZiAoanNvbikgPT09ICdvYmplY3QnICYmIGpzb24uaGFzT3duUHJvcGVydHkoJ3RpbGVzJyk7XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihpc05ldzogYm9vbGVhbiwganNvbjogYW55LCBzaGFyZT86IEl6ZW5kYVNoYXJlTW9kZWwsIHNjaGVkdWxlPzogSXplbmRhU2NoZWR1bGVNb2RlbCkge1xyXG5cdFx0aWYgKCFpc05ldyAmJiAhanNvbilcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IGluaXRpYWxpemUgZGFzaGJvYXJkIG1vZGVsIHdoZW4gaXNOZXc9ZmFsc2UgYW5kIHJhd01vZGVsIGlzIGVtcHR5LicpO1xyXG5cdFx0dGhpcy5pc05ldyA9IGlzTmV3O1xyXG5cdFx0aWYgKGlzTmV3KSB7XHJcblx0XHRcdHRoaXMucmVwb3J0TmFtZSA9IG51bGw7XHJcblx0XHRcdHRoaXMucmVwb3J0Q2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnJlcG9ydEZ1bGxOYW1lID0gbnVsbDtcclxuXHRcdFx0dGhpcy5zb3VyY2VSZXBvcnRGdWxsTmFtZSA9IG51bGw7XHJcblx0XHRcdHRoaXMudGlsZXMgPSBbXHJcblx0XHRcdFx0SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsLmNyZWF0ZUluc3RhbmNlKHRydWUpXHJcblx0XHRcdF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmZyb21Kc29uKGpzb24sIHNoYXJlLCBzY2hlZHVsZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgc29ydGVkIHRpbGVzIGJ5IGl0cyBwb3NpdGlvbnMuXHJcblx0ICogQHJldHVybnMge0l6ZW5kYURhc2hib2FyZFRpbGVNb2RlbFtdfSBzb3J0ZWQgdGlsZXMgYXJyYXkgKGFub3RoZXIgaW5zdGFuY2Ugb2YgYXJyYXkhKVxyXG5cdCAqL1xyXG5cdGdldCB0aWxlc1NvcnRlZCgpOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWxbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy50aWxlcy5zb3J0KCh0aWxlMSwgdGlsZTIpID0+IHtcclxuXHRcdFx0aWYgKHRpbGUxLnkgIT09IHRpbGUyLnkpXHJcblx0XHRcdFx0cmV0dXJuIHRpbGUxLnkgLSB0aWxlMi55O1xyXG5cdFx0XHRyZXR1cm4gdGlsZTEueCAtIHRpbGUyLng7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldCB0aWxlc1dpdGhIaWRkZW5Db2x1bW5zKCk6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbFtdIHtcclxuXHRcdHJldHVybiB0aGlzLnRpbGVzLmZpbHRlcih0ID0+IHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVwb3J0c1dpdGhIaWRkZW5Db2x1bW5zLmluZGV4T2YodC5yZXBvcnRGdWxsTmFtZSkgPj0gMDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmlsbCB0aGlzIG9iamVjdCBmcm9tIHRoZSByYXcgcmVwcmVzZW50YXRpb25cclxuXHQgKiBAcGFyYW0ge2FueX0ganNvbiBSYXcgbW9kZWwuXHJcblx0ICovXHJcblx0ZnJvbUpzb24oanNvbjogYW55LCBzaGFyZT86IEl6ZW5kYVNoYXJlTW9kZWwsIHNjaGVkdWxlPzogSXplbmRhU2NoZWR1bGVNb2RlbCkge1xyXG5cdFx0dGhpcy5yZXBvcnROYW1lID0ganNvbi5yZXBvcnROYW1lO1xyXG5cdFx0dGhpcy5yZXBvcnRDYXRlZ29yeSA9IGpzb24ucmVwb3J0Q2F0ZWdvcnk7XHJcblx0XHR0aGlzLnJlcG9ydEZ1bGxOYW1lID0ganNvbi5yZXBvcnRGdWxsTmFtZTtcclxuXHRcdHRoaXMuc291cmNlUmVwb3J0RnVsbE5hbWUgPSBqc29uLnNvdXJjZVJlcG9ydEZ1bGxOYW1lO1xyXG5cdFx0dGhpcy5lZmZlY3RpdmVSaWdodHMgPSBqc29uLmVmZmVjdGl2ZVJpZ2h0cztcclxuXHRcdHRoaXMudXNlc0hpZGRlbkNvbHVtbnMgPSBqc29uLnVzZXNIaWRkZW5Db2x1bW5zO1xyXG5cdFx0dGhpcy5yZXBvcnRzV2l0aEhpZGRlbkNvbHVtbnMgPSBqc29uLnJlcG9ydHNXaXRoSGlkZGVuQ29sdW1ucztcclxuXHJcblx0XHR0aGlzLmZpbHRlcnMgPSBqc29uLmZpbHRlcnM7XHJcblx0XHR0aGlzLnRpbGVzID0ganNvbi50aWxlcy5tYXAodGlsZUNmZyA9PiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwuY3JlYXRlSW5zdGFuY2UoZmFsc2UsIHRpbGVDZmcpKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBKU09OIGNvbmZpZyBmb3Igc2VuZGluZyBpdCB0byBzZXJ2ZXJcclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55IHtcclxuXHJcblx0XHQvLyBmaWx0ZXIgb3V0IGludmFsaWQgdGlsZXMgYW5kIHNvcnQgYnkgaXQncyBnZW9tZXRyaWNhbCBwb3NpdGlvblxyXG5cdFx0Y29uc3QgdGlsZXNDb3B5ID0gdGhpcy50aWxlc1xyXG5cdFx0XHQuZmlsdGVyKHRpbGUgPT4gISF0aWxlLnJlcG9ydEZ1bGxOYW1lKVxyXG5cdFx0XHQuc2xpY2UoKTtcclxuXHRcdHRpbGVzQ29weS5zb3J0KCh0aWxlMSwgdGlsZTIpID0+IHtcclxuXHRcdFx0aWYgKHRpbGUxLnkgIT09IHRpbGUyLnkpXHJcblx0XHRcdFx0cmV0dXJuIHRpbGUxLnkgLSB0aWxlMi55O1xyXG5cdFx0XHRyZXR1cm4gdGlsZTEueCAtIHRpbGUyLng7XHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHtcclxuXHRcdFx0aXNEYXNoYm9hcmQ6IHRydWUsXHJcblx0XHRcdGlzTmV3OiB0aGlzLmlzTmV3LFxyXG5cdFx0XHRyZXBvcnROYW1lOiB0aGlzLnJlcG9ydE5hbWUsXHJcblx0XHRcdHJlcG9ydENhdGVnb3J5OiB0aGlzLnJlcG9ydENhdGVnb3J5LFxyXG5cdFx0XHRyZXBvcnRGdWxsTmFtZTogdGhpcy5yZXBvcnRGdWxsTmFtZSxcclxuXHRcdFx0c291cmNlUmVwb3J0RnVsbE5hbWU6IHRoaXMuc291cmNlUmVwb3J0RnVsbE5hbWUsXHJcblx0XHRcdGZpbHRlcnM6IHRoaXMuZmlsdGVycyxcclxuXHRcdFx0dGlsZXM6IHRpbGVzQ29weS5tYXAodGlsZSA9PiB0aWxlLnRvSnNvbigpKVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgbmV3IHRpbGUgd2l0aCBsZWZ0LCB0b3AgY29vcmRpbmF0ZXMge3gsIHl9LlxyXG5cdCAqIE1heGltdW0gc2l6ZSBvZiB0aGUgY3JlYXRlZCB0aWxlIGlzIDZ4My5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0geCBsZWZ0IGNvb3JkaW5hdGUuXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHkgdG9wIGNvb3JkaW5hdGUuXHJcblx0ICovXHJcblx0YWRkUGl4ZWxUaWxlKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBuZXdUaWxlID0gSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsLmNyZWF0ZUluc3RhbmNlKHRydWUpO1xyXG5cdFx0bmV3VGlsZS54ID0geDtcclxuXHRcdG5ld1RpbGUueSA9IHk7XHJcblx0XHRuZXdUaWxlLndpZHRoID0gMTtcclxuXHRcdG5ld1RpbGUuaGVpZ2h0ID0gMTtcclxuXHRcdHdoaWxlICghdGhpcy5jaGVja1RpbGVJbnRlcnNlY3RzQmJveChuZXdUaWxlKSAmJiBuZXdUaWxlLndpZHRoIDwgNiAmJiBuZXdUaWxlLndpZHRoICsgbmV3VGlsZS54IDwgMTIpXHJcblx0XHRcdG5ld1RpbGUud2lkdGgrKztcclxuXHRcdGlmICh0aGlzLmNoZWNrVGlsZUludGVyc2VjdHNCYm94KG5ld1RpbGUpKVxyXG5cdFx0XHRuZXdUaWxlLndpZHRoLS07XHJcblx0XHR3aGlsZSAoIXRoaXMuY2hlY2tUaWxlSW50ZXJzZWN0c0Jib3gobmV3VGlsZSkgJiYgbmV3VGlsZS5oZWlnaHQgPCAzKVxyXG5cdFx0XHRuZXdUaWxlLmhlaWdodCsrO1xyXG5cdFx0aWYgKHRoaXMuY2hlY2tUaWxlSW50ZXJzZWN0c0Jib3gobmV3VGlsZSkpXHJcblx0XHRcdG5ld1RpbGUuaGVpZ2h0LS07XHJcblx0XHRpZiAobmV3VGlsZS53aWR0aCA8PSAwIHx8IG5ld1RpbGUuaGVpZ2h0IDw9IDApXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMudGlsZXMucHVzaChuZXdUaWxlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSB0aWxlIGZyb20gZGFzaGJvYXJkXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGUgdGlsZSBmb3IgcmVtb3ZhbC5cclxuXHQgKi9cclxuXHRyZW1vdmVUaWxlKHRpbGU6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCkge1xyXG5cdFx0dGhpcy50aWxlcy5zcGxpY2UodGhpcy50aWxlcy5pbmRleE9mKHRpbGUpLCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElmIHRpbGUgaW50ZXJzZWN0cyB3aXRoIGF0IGxlYXN0IG9uZSBvZiBpdCdzIG5laWdoYm9ycyAtIHJldHVybiB0cnVlLlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIHRpbGUgd2hpY2ggd2UgY2hlY2tcclxuXHQgKi9cclxuXHRjaGVja1RpbGVJbnRlcnNlY3RzQmJveCh0aWxlOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IGhpdFRlc3QgPSAoYTogSUJveCwgYjogSUJveCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0XHRjb25zdCBhTGVmdCA9IGEueDtcclxuXHRcdFx0Y29uc3QgYVJpZ2h0ID0gYS54ICsgYS53aWR0aCAtIDE7XHJcblx0XHRcdGNvbnN0IGFUb3AgPSBhLnk7XHJcblx0XHRcdGNvbnN0IGFCb3R0b20gPSBhLnkgKyBhLmhlaWdodCAtIDE7XHJcblx0XHRcdGNvbnN0IGJMZWZ0ID0gYi54O1xyXG5cdFx0XHRjb25zdCBiUmlnaHQgPSBiLnggKyBiLndpZHRoIC0gMTtcclxuXHRcdFx0Y29uc3QgYlRvcCA9IGIueTtcclxuXHRcdFx0Y29uc3QgYkJvdHRvbSA9IGIueSArIGIuaGVpZ2h0IC0gMTtcclxuXHRcdFx0cmV0dXJuICEoYkxlZnQgPiBhUmlnaHQgfHwgYlJpZ2h0IDwgYUxlZnQgfHwgYlRvcCA+IGFCb3R0b20gfHwgYkJvdHRvbSA8IGFUb3ApO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IG90aGVyVGlsZXMgPSB0aGlzLnRpbGVzLmZpbHRlcih0ID0+IHQuaWQgIT09IHRpbGUuaWQpO1xyXG5cdFx0cmV0dXJuIG90aGVyVGlsZXMuc29tZSh0ID0+IGhpdFRlc3QodGlsZSwgdCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IG1heGltdW0gdGlsZSBoZWlnaHQuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpc09uZUNvbHVtblZpZXcgZGVza3RvcC9tb2JpbGUgdmVyc2lvbi5cclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSBtYXhpbXVtIGhlaWdodCBpbiBjb29yZGluYXRlIHBvaW50cy5cclxuXHQgKi9cclxuXHRnZXRNYXhIZWlnaHQoaXNPbmVDb2x1bW5WaWV3OiBib29sZWFuKTogbnVtYmVyIHtcclxuXHRcdGlmIChpc09uZUNvbHVtblZpZXcpXHJcblx0XHRcdHJldHVybiB0aGlzLnRpbGVzLmxlbmd0aCAqIDQ7XHJcblx0XHR2YXIgbWF4SGVpZ2h0ID0gMDtcclxuXHRcdHRoaXMudGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcclxuXHRcdFx0aWYgKG1heEhlaWdodCA8IHRpbGUueSArIHRpbGUuaGVpZ2h0KVxyXG5cdFx0XHRcdG1heEhlaWdodCA9IHRpbGUueSArIHRpbGUuaGVpZ2h0O1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gbWF4SGVpZ2h0O1xyXG5cdH1cclxuXHJcblxyXG59XHJcbiIsImltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUnNRdWVyeVNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3JzLXF1ZXJ5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTY2hlZHVsZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NjaGVkdWxlLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2hhcmVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zaGFyZS1zZXJ2aWNlJztcclxuXHJcbmltcG9ydCB7IEl6ZW5kYURhc2hib2FyZE1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL2Rhc2hib2FyZC1tb2RlbCc7XHJcbmltcG9ydCB7IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC90aWxlLW1vZGVsJztcclxuXHJcbi8qKlxyXG5cdCAqIERhc2hib2FyZCBxdWVyeSBzZXJ2aWNlLiBUaGlzIHNlcnZpY2UgaXMgbm90IGltcGxpZWQgZm9yIGRpcmVjdCB1c2UgaW4gY29tcG9uZW50cy5cclxuXHQgKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFzaGJvYXJkUXVlcnlTZXJ2aWNlIHtcclxuXHJcblx0c3RhdGljIGdldCBpbmplY3RNb2R1bGVzKCk6IGFueVtdIHtcclxuXHRcdHJldHVybiBbJyRxJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJywgJyRpemVuZGFSc1F1ZXJ5U2VydmljZScsICckaXplbmRhTG9jYWxlU2VydmljZScsICckaXplbmRhU2NoZWR1bGVTZXJ2aWNlJyxcclxuXHRcdFx0JyRpemVuZGFTaGFyZVNlcnZpY2UnXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcTogbmcuSVFTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlOiBJemVuZGFSc1F1ZXJ5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U6IEl6ZW5kYVNjaGVkdWxlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNoYXJlU2VydmljZTogSXplbmRhU2hhcmVTZXJ2aWNlKSB7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiAobmV3ISkgTG9hZCBkYXNoYm9hcmQgY29uZmlnIGpzb25cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZGFzaGJvYXJkRnVsbE5hbWUgZGFzaGJvYXJkIHJlcG9ydCBzZXQgZnVsbCBuYW1lXHJcblx0ICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVGcm9tU291cmNlIHdoZXRoZXIgbmVlZCB0byB1cGRhdGUgZGFzaGJvYXJkIHRpbGVzIGZyb20gc291cmNlIHJlcG9ydCBvciBub3QuXHJcblx0ICovXHJcblx0bG9hZERhc2hib2FyZE5ldyhkYXNoYm9hcmRGdWxsTmFtZTogc3RyaW5nLCB1cGRhdGVGcm9tU291cmNlOiBib29sZWFuKTogYW5ndWxhci5JUHJvbWlzZTxJemVuZGFEYXNoYm9hcmRNb2RlbD4ge1xyXG5cdFx0aWYgKCFkYXNoYm9hcmRGdWxsTmFtZSlcclxuXHRcdFx0dGhyb3cgJ2Rhc2hib2FyZEZ1bGxOYW1lIHNob3VsZCBiZSBub24tZW1wdHkgc3RyaW5nLic7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5hcGlRdWVyeSgnbG9hZERhc2hib2FyZENvbmZpZ05ldycsIFtkYXNoYm9hcmRGdWxsTmFtZSwgdXBkYXRlRnJvbVNvdXJjZV0pLnRoZW4oanNvbiA9PiB7XHJcblx0XHRcdFx0Ly8gdmFsaWRhdGUgcXVlcnkgcmVzdWx0XHJcblx0XHRcdFx0aWYgKCFJemVuZGFEYXNoYm9hcmRNb2RlbC5pc1ZhbGlkSnNvbihqc29uKSkge1xyXG5cdFx0XHRcdFx0cmVqZWN0KGBRdWVyeSBcImxvYWREYXNoYm9hcmRDb25maWdOZXdcIiByZXR1cm5lZCBpbnZhbGlkIHJlc3VsdDoke0pTT04uc3RyaW5naWZ5KGpzb24pfWApO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gZXh0cmFjdCBzaGFyZSAmIHNjaGVkdWxlIGNvbmZpZ3MgZnJvbSBqc29uIGFuZCBjcmVhdGUgaXRzIG1vZGVscyBpbiB0aGUgc2hhcmUgYW5kIHNjaGVkdWxlIHNlcnZpY2VzLlxyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVNjaGVkdWxlU2VydmljZS5zZXRTY2hlZHVsZUNvbmZpZyhqc29uLnNjaGVkdWxlKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFTaGFyZVNlcnZpY2Uuc2V0U2hhcmVDb25maWcoanNvbi5zaGFyZSk7XHJcblx0XHRcdFx0Y29uc3QgZGFzaGJvYXJkTW9kZWwgPSBJemVuZGFEYXNoYm9hcmRNb2RlbC5jcmVhdGVJbnN0YW5jZShmYWxzZSwganNvbik7XHJcblx0XHRcdFx0cmVzb2x2ZShkYXNoYm9hcmRNb2RlbCk7XHJcblx0XHRcdH0sIGVycm9yID0+IHtcclxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogKG5ldyEpIFNhdmUgZGFzaGJvYXJkLlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIGRhc2hib2FyZCBtb2RlbC5cclxuXHQgKi9cclxuXHRzYXZlRGFzaGJvYXJkTmV3KGpzb246IGFueSk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XHJcblx0XHRpZiAoIWpzb24pXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignRGFzaGJvYXJkIGpzb24gaXMgZW1wdHknKTtcclxuXHRcdGNvbnN0IGRhc2hib2FyZENvbmZpZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ3NhdmVSZXBvcnRTZXROZXcnLCBbZGFzaGJvYXJkQ29uZmlnUGFyYW1dKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2VyZWFsaXplIGRhc2hib2FyZCBpbnRvIEN1cnJlbnRSZXBvcnRTZXQuXHJcblx0ICogQHBhcmFtIHthbnl9IGpzb24gZGFzaGJvYXJkIGpzb25cclxuXHQgKiBAcGFyYW0ge0l6ZW5kYURhc2hib2FyZFRpbGVNb2RlbH0gdGlsZVxyXG5cdCAqL1xyXG5cdHN5bmNUaWxlc05ldyhqc29uOiBhbnksIHRpbGU/OiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwpIHtcclxuXHRcdGNvbnN0IGRhc2hib2FyZENvbmZpZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmFwaVF1ZXJ5KCdzeW5jRGFzaGJvYXJkTmV3JyxcclxuXHRcdFx0W2Rhc2hib2FyZENvbmZpZ1BhcmFtLCB0aWxlICYmIHRpbGUucmVwb3J0RnVsbE5hbWUgPyB0aWxlLnJlcG9ydEZ1bGxOYW1lIDogJyddKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2VyZWFsaXplIGRhc2hib2FyZCBhbmQgcmV0dXJuIGl0J3MgZmlsdGVyc1xyXG5cdCAqIEBwYXJhbSB7anNvbn0gZGFzaGJvYXJkQ29uZmlnXHJcblx0ICovXHJcblx0c3luY0ZpbHRlcnNOZXcoZGFzaGJvYXJkQ29uZmlnKSB7XHJcblx0XHRjb25zdCBkYXNoYm9hcmRDb25maWdQYXJhbSA9IEpTT04uc3RyaW5naWZ5KGRhc2hib2FyZENvbmZpZyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmFwaVF1ZXJ5KCdzeW5jRGFzaGJvYXJkRmlsdGVyc05ldycsIFtkYXNoYm9hcmRDb25maWdQYXJhbV0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCB0aWxlIEhUTUxcclxuXHQgKiBAcGFyYW0ge2FueX0gZGFzaGJvYXJkQ29uZmlnXHJcblx0ICogQHBhcmFtIHtJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWx9IHRpbGVzIHdoaWNoIHByZXZpZXcgaXMgcmVxdWlyZWRcclxuXHQgKi9cclxuXHRsb2FkVGlsZXNQcmV2aWV3TmV3KGRhc2hib2FyZENvbmZpZywgdGlsZSwgc2l6ZSkge1xyXG5cdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KHRpbGUpKVxyXG5cdFx0XHR0aHJvdyAnQXJndW1lbnQgZXhjZXB0aW9uOiBcInRpbGVcIiBwYXJhbWV0ZXIgc2hvdWxkIGJlIG9iamVjdC4nO1xyXG5cclxuXHRcdGNvbnN0IGRhc2hib2FyZENvbmZpZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoZGFzaGJvYXJkQ29uZmlnKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ2dldERhc2hib2FyZFRpbGVQcmV2aWV3TmV3JyxcclxuXHRcdFx0W2Rhc2hib2FyZENvbmZpZ1BhcmFtLCB0aWxlLnJlcG9ydEZ1bGxOYW1lLCBzaXplLndpZHRoLCBzaXplLmhlaWdodF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCByZXBvcnQgdmlhIGVtYWlsXHJcblx0ICovXHJcblx0c2VuZFJlcG9ydFZpYUVtYWlsTmV3KGRhc2hib2FyZENvbmZpZywgdHlwZSwgdG8pIHtcclxuXHRcdGNvbnN0IGRhc2hib2FyZENvbmZpZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoZGFzaGJvYXJkQ29uZmlnKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ3NlbmREYXNoYm9hcmRFbWFpbE5ldycsIFtkYXNoYm9hcmRDb25maWdQYXJhbSwgdHlwZSwgdG9dKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgcmVmcmVzaCBpbnRldmFscyBjb25maWd1cmVkIGluIEFkSG9jU2V0dGluZ3MuXHJcblx0ICovXHJcblx0bG9hZEF1dG9SZWZyZXNoSW50ZXJ2YWxzTmV3KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEocmVzb2x2ZSA9PiB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmFwaVF1ZXJ5KCdhdXRvcmVmcmVzaGludGVydmFscycsIFtdKS50aGVuKFxyXG5cdFx0XHRcdHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRlcnJvciA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPVxyXG5cdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZEF1dG9SZWZyZXNoRXJyb3InLCAnRmFpbGVkIHRvIGdldCBhdXRvIHJlZnJlc2ggaW50ZXJ2YWxzJyk7XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhgJHtlcnJvck1lc3NhZ2V9OiAke2Vycm9yfWApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGRhc2hib2FyZCBuYXZpZ2F0aW9uXHJcblx0ICovXHJcblx0bG9hZERhc2hib2FyZE5hdmlnYXRpb25OZXcoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuYXBpUXVlcnkoJ2dldERhc2hib2FyZENhdGVnb3JpZXNOZXcnLCBbXSk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2UnLCBEYXNoYm9hcmRRdWVyeVNlcnZpY2UuaW5qZWN0TW9kdWxlcy5jb25jYXQoRGFzaGJvYXJkUXVlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBJemVuZGFEYXNoYm9hcmRHYWxsZXJ5U3RhdGVNb2RlbCB7XHJcblx0cHJpdmF0ZSBpc0VuYWJsZWRJbm5lcjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdGlzRnVsbFNjcmVlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHBsYXlEZWxheTogbnVtYmVyID0gNTAwMDtcclxuXHRpc1BsYXlTdGFydGVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0aXNQbGF5UmVwZWF0OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0cmVzZXQoKSB7XHJcblx0XHR0aGlzLmlzRW5hYmxlZElubmVyID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzRnVsbFNjcmVlbiA9IGZhbHNlO1xyXG5cdFx0dGhpcy5wbGF5RGVsYXkgPSA1MDAwO1xyXG5cdFx0dGhpcy5pc1BsYXlTdGFydGVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzUGxheVJlcGVhdCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Z2V0IGlzRW5hYmxlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzRW5hYmxlZElubmVyO1xyXG5cdH1cclxuXHJcblx0c2V0IGlzRW5hYmxlZCh2YWx1ZSkge1xyXG5cdFx0dGhpcy5pc0VuYWJsZWRJbm5lciA9IHZhbHVlO1xyXG5cdFx0dGhpcy5pc0Z1bGxTY3JlZW4gPSBmYWxzZTsgLy8gdHVybiBvZmYgZnVsbHNjcmVlblxyXG5cdFx0dGhpcy5pc1BsYXlTdGFydGVkID0gZmFsc2U7IC8vIHR1cm4gb2ZmIHBsYXlcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBJemVuZGFVcmxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy91cmwtc2VydmljZSc7XHJcbmltcG9ydCB7IEl6ZW5kYURhc2hib2FyZEdhbGxlcnlTdGF0ZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL2dhbGxlcnktc3RhdGUtbW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFzaGJvYXJkR2FsbGVyeVNlcnZpY2Uge1xyXG5cdCRnYWxsZXJ5U3RhdGU6IGFueTtcclxuXHRsb2NhdGlvbjogYW55O1xyXG5cdGdhbGxlcnlTdGF0ZTogSXplbmRhRGFzaGJvYXJkR2FsbGVyeVN0YXRlTW9kZWw7XHJcblxyXG5cdHN0YXRpYyBnZXQgaW5qZWN0TW9kdWxlcygpOiBhbnlbXSB7XHJcblx0XHRyZXR1cm4gWyckaXplbmRhVXJsU2VydmljZSddO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVcmxTZXJ2aWNlOiBJemVuZGFVcmxTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmdhbGxlcnlTdGF0ZSA9IG5ldyBJemVuZGFEYXNoYm9hcmRHYWxsZXJ5U3RhdGVNb2RlbCgpO1xyXG5cdFx0Ly8gc3Vic2NpYmUgb24gbG9jYXRpb24gY2hhbmdlLlxyXG5cdFx0dGhpcy5sb2NhdGlvbiA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UubG9jYXRpb247XHJcblx0XHR0aGlzLmxvY2F0aW9uLnN1YnNjcmliZU9uTmV4dCh0aGlzLiRvbkxvY2F0aW9uQ2hhbmdlZCwgdGhpcyk7XHJcblx0fVxyXG5cclxuXHQkb25Mb2NhdGlvbkNoYW5nZWQobmV3TG9jYXRpb24pIHtcclxuXHRcdHRoaXMuZ2FsbGVyeVN0YXRlLnJlc2V0KCk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbmplY3RNb2R1bGVzO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHJlZ2lzdGVyKG1vZHVsZTogbmcuSU1vZHVsZSkge1xyXG5cdFx0bW9kdWxlLnNlcnZpY2UoJyRpemVuZGFHYWxsZXJ5U2VydmljZScsIERhc2hib2FyZEdhbGxlcnlTZXJ2aWNlLmluamVjdE1vZHVsZXMuY29uY2F0KERhc2hib2FyZEdhbGxlcnlTZXJ2aWNlKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IElJemVuZGFSYXdNb2RlbCBhcyBJUmF3TW9kZWwgfSBmcm9tICdjb21tb24vY29yZS9tb2RlbHMvcmF3LW1vZGVsJztcclxuXHJcbi8qKlxyXG4gKiBTZXJ2ZXItc2lkZSBmaWx0ZXJzIG9iamVjdCByYXcgbW9kZWwuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSXplbmRhRmlsdGVyc01vZGVsIGltcGxlbWVudHMgSVJhd01vZGVsIHtcclxuXHJcblx0ZmlsdGVyTG9naWM6IHN0cmluZyA9ICcnO1xyXG5cdGZpbHRlcnM6IGFueVtdID0gW107XHJcblx0c3VicmVwb3J0c0ZpbHRlcnM6IGFueSA9IG51bGw7XHJcblxyXG5cdGZyb21Kc29uKGpzb246IGFueSkge1xyXG5cdFx0dGhpcy5maWx0ZXJMb2dpYyA9IGpzb24uRmlsdGVyTG9naWMgfHwgJyc7XHJcblx0XHR0aGlzLmZpbHRlcnMgPSBqc29uLkZpbHRlcnMgfHwgW107XHJcblx0XHR0aGlzLnN1YnJlcG9ydHNGaWx0ZXJzID0ganNvbi5TdWJyZXBvcnRzRmlsdGVycyB8fCBudWxsO1xyXG5cdH1cclxuXHJcblx0dG9Kc29uKCk6IGFueSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRGaWx0ZXJMb2dpYzogdGhpcy5maWx0ZXJMb2dpYyxcclxuXHRcdFx0RmlsdGVyczogdGhpcy5maWx0ZXJzLFxyXG5cdFx0XHRTdWJyZXBvcnRGaWx0ZXJzOiB0aGlzLnN1YnJlcG9ydHNGaWx0ZXJzXHJcblx0XHR9O1xyXG5cdH1cclxufSIsImltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3NldHRpbmdzLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVJzUXVlcnlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9xdWVyeS9zZXJ2aWNlcy9ycy1xdWVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxVaVNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC11aS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNjaGVkdWxlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2NoZWR1bGUtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFTaGFyZVNlcnZpY2UgZnJvbSAnY29tbW9uL3VpL3NlcnZpY2VzL3NoYXJlLXNlcnZpY2UnO1xyXG5cclxuaW1wb3J0IHsgSXplbmRhRmlsdGVyc01vZGVsIH0gZnJvbSAnY29tbW9uL2NvcmUvbW9kZWxzL2ZpbHRlcnMtbW9kZWwnO1xyXG5pbXBvcnQgeyBJSXplbmRhRGFzaGJvYXJkQ29uZmlnIH0gZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvZGFzaGJvYXJkLW1vZGVsJztcclxuaW1wb3J0IERhc2hib2FyZFF1ZXJ5U2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXF1ZXJ5LXNlcnZpY2UnO1xyXG5cclxuXHJcblxyXG4vKipcclxuICogRGFzaGJvYXJkIHN0b3JhZ2Ugc2VydmljZS4gU3RvcmVzIGN1cnJlbnQgZGFzaGJvYXJkIHN0YXRlLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2Uge1xyXG5cclxuXHRVTkNBVEVHT1JJWkVEOiBzdHJpbmc7XHJcblxyXG5cdC8vIHJ4IHN1YmplY3RzXHJcblx0bW9kZWw6IGFueTtcclxuXHRjYXRlZ29yaWVzOiBhbnk7XHJcblx0Y3VycmVudENhdGVnb3J5OiBhbnk7XHJcblx0Y3VycmVudERhc2hib2FyZDogYW55O1xyXG5cdGlzTG9hZGVkOiBhbnk7XHJcblx0aXNGaWx0ZXJzQWN0aXZlOiBhbnk7XHJcblx0ZXhwb3J0UHJvZ3Jlc3M6IGFueTtcclxuXHRhdXRvUmVmcmVzaDogYW55O1xyXG5cdHJlZnJlc2hPYnNlcnZhYmxlOiBhbnk7XHJcblx0d2luZG93U2l6ZTogYW55O1xyXG5cdHdpbmRvd1NpemVBY3RpdmU6IGFueTtcclxuXHRsb2NhdGlvbjogYW55O1xyXG5cclxuXHRzdGF0aWMgZ2V0IGluamVjdE1vZHVsZXMoKTogYW55W10ge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0J3J4JywgJyRxJywgJyR3aW5kb3cnLCAnJGludGVydmFsJywgJyR0aW1lb3V0JywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0XHRcdCckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFVdGlsU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhUnNRdWVyeVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLCAnaXplbmRhRGFzaGJvYXJkQ29uZmlnJywgJyRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2UnLFxyXG5cdFx0XHQnJGl6ZW5kYVNjaGVkdWxlU2VydmljZScsICckaXplbmRhU2hhcmVTZXJ2aWNlJ1xyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcng6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHE6IG5nLklRU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUxvY2FsZVNlcnZpY2U6IEl6ZW5kYUxvY2FsaXphdGlvblNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZTogSXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTZXR0aW5nc1NlcnZpY2U6IEl6ZW5kYVF1ZXJ5U2V0dGluZ3NTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlOiBJemVuZGFSc1F1ZXJ5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxVaVNlcnZpY2U6IEl6ZW5kYVV0aWxVaVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRDb25maWc6IElJemVuZGFEYXNoYm9hcmRDb25maWcsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2U6IERhc2hib2FyZFF1ZXJ5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNjaGVkdWxlU2VydmljZTogSXplbmRhU2NoZWR1bGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2hhcmVTZXJ2aWNlOiBJemVuZGFTaGFyZVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLlVOQ0FURUdPUklaRUQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1VuY2F0ZWdvcml6ZWQnLCAnVW5jYXRlZ29yaXplZCcpO1xyXG5cclxuXHRcdC8vIHJ4IHN1YmplY3RzXHJcblx0XHR0aGlzLm1vZGVsID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdChudWxsKTtcclxuXHRcdHRoaXMuY2F0ZWdvcmllcyA9IG5ldyB0aGlzLiRyeC5CZWhhdmlvclN1YmplY3QoW10pO1xyXG5cdFx0dGhpcy5jdXJyZW50Q2F0ZWdvcnkgPSBuZXcgdGhpcy4kcnguQmVoYXZpb3JTdWJqZWN0KFtdKTtcclxuXHRcdHRoaXMuY3VycmVudERhc2hib2FyZCA9IG5ldyB0aGlzLiRyeC5CZWhhdmlvclN1YmplY3QobnVsbCk7XHJcblx0XHR0aGlzLmlzTG9hZGVkID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdChmYWxzZSk7XHJcblx0XHR0aGlzLmlzRmlsdGVyc0FjdGl2ZSA9IG5ldyB0aGlzLiRyeC5CZWhhdmlvclN1YmplY3QoZmFsc2UpO1xyXG5cdFx0dGhpcy5leHBvcnRQcm9ncmVzcyA9IG5ldyB0aGlzLiRyeC5CZWhhdmlvclN1YmplY3QobnVsbCk7XHJcblx0XHR0aGlzLmF1dG9SZWZyZXNoID0gbmV3IHRoaXMuJHJ4LkJlaGF2aW9yU3ViamVjdCh7XHJcblx0XHRcdGludGVydmFsczogW11cclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5yZWZyZXNoT2JzZXJ2YWJsZSA9IG5ldyB0aGlzLiRyeC5TdWJqZWN0KCk7XHJcblx0XHR0aGlzLndpbmRvd1NpemUgPSBuZXcgdGhpcy4kcnguQmVoYXZpb3JTdWJqZWN0KHtcclxuXHRcdFx0d2lkdGg6IHRoaXMuJHdpbmRvdy5pbm5lcldpZHRoLFxyXG5cdFx0XHRoZWlnaHQ6IHRoaXMuJHdpbmRvdy5pbm5lckhlaWdodFxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLndpbmRvd1NpemVBY3RpdmUgPSB0cnVlO1xyXG5cclxuXHRcdC8vIHNldCBjdXN0b20gcmVmcmVzaCBjYXNjYWRpbmcgZmlsdGVycyBmdW5jdGlvblxyXG5cdFx0dGhpcy5fc2V0RmlsdGVyc1JlZnJlc2hDYXNjYWRpbmdJbnRlcmNlcHRvcigpO1xyXG5cclxuXHRcdC8vIHN1YnNjcmliZSBvbiBsb2NhdGlvbiBjaGFuZ2UuXHJcblx0XHR0aGlzLmxvY2F0aW9uID0gJGl6ZW5kYVVybFNlcnZpY2UubG9jYXRpb247XHJcblx0XHR0aGlzLmxvY2F0aW9uLnN1YnNjcmliZU9uTmV4dCh0aGlzLl8kb25Mb2NhdGlvbkNoYW5nZWQsIHRoaXMpO1xyXG5cclxuXHRcdC8vIHN1YnNjcmliZSBvbiB3aW5kb3cgcmVzaXplXHJcblx0XHR0aGlzLnR1cm5PblJlc2l6ZUhhbmRsZXIoKTtcclxuXHJcblx0XHQvLyBsb2FkIHNvbWUgc3RhdGljIHN0dWZmLlxyXG5cdFx0dGhpcy5sb2FkQXV0b1JlZnJlc2hJbnRlcnZhbHMoKTtcclxuXHR9XHJcblxyXG5cdHR1cm5PblJlc2l6ZUhhbmRsZXIoKSB7XHJcblx0XHRjb25zdCByZXNpemUgPSBuZXcgdGhpcy4kcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQodGhpcy4kd2luZG93LCAncmVzaXplJyk7XHJcblx0XHRjb25zdCByZXNpemVEZWJvdW5jZSA9IHJlc2l6ZS5kZWJvdW5jZSg1MDApO1xyXG5cdFx0Y29uc3QgcmVzaXplQ29tYmluZWQgPSB0aGlzLiRyeC5PYnNlcnZhYmxlLm1lcmdlKFxyXG5cdFx0XHRyZXNpemUubWFwKGUgPT4gKHsgZXZlbnQ6IGUsIGlzRGVib3VuY2VBcHBsaWVkOiBmYWxzZSB9KSksXHJcblx0XHRcdHJlc2l6ZURlYm91bmNlLm1hcChlID0+ICh7IGV2ZW50OiBlLCBpc0RlYm91bmNlQXBwbGllZDogdHJ1ZSB9KSlcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gY29tYmluZWQgcmVzaXplIGV2ZW50cyBlbWl0dGVyIChzaW1wbGUgcmVzaXplIGV2ZW50IHdpbGwgY29tZSBlYXJsaWVyIHRoYW4gaXQncyBkZWJvdW5jZWQgdmVyc2lvbilcclxuXHRcdHJlc2l6ZUNvbWJpbmVkLnN1YnNjcmliZShvYmogPT4ge1xyXG5cdFx0XHQvLyBpZiByZXNpemUgaXMgdHVybmVkIG9mZiAtIGRvIG5vdGhpbmdcclxuXHRcdFx0aWYgKCF0aGlzLndpbmRvd1NpemVBY3RpdmUpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjb25zdCBpc0RlYm91bmNlQXBwbGllZCA9IG9iai5pc0RlYm91bmNlQXBwbGllZDtcclxuXHRcdFx0aWYgKCFpc0RlYm91bmNlQXBwbGllZCkge1xyXG5cdFx0XHRcdC8vdmFyIG92ZXJmbG93VmFsdWUgPSBhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93Jyk7XHJcblx0XHRcdFx0Ly9pZiAob3ZlcmZsb3dWYWx1ZSAhPT0gJ2hpZGRlbicpIHtcclxuXHRcdFx0XHQvL1x0YW5ndWxhci5lbGVtZW50KCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcclxuXHRcdFx0XHQvL31cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBub3RpZnlcclxuXHRcdFx0XHR0aGlzLndpbmRvd1NpemUub25OZXh0KHtcclxuXHRcdFx0XHRcdHdpZHRoOiB0aGlzLiR3aW5kb3cuaW5uZXJXaWR0aCxcclxuXHRcdFx0XHRcdGhlaWdodDogdGhpcy4kd2luZG93LmlubmVySGVpZ2h0XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hhbmdlIGxvY2F0aW9uIHRvIG5ldyBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRuYXZpZ2F0ZU5ld0Rhc2hib2FyZCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0SXNOZXcoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoYW5nZSBsb2NhdGlvbiB0byBleGlzdGluZyBkYXNoYm9hcmRcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZGFzaGJvYXJkRnVsbE5hbWUgZGFzaGJvYXJkIHJlcG9ydCBzZXQgZnVsbCBuYW1lLlxyXG5cdCAqL1xyXG5cdG5hdmlnYXRlVG9EYXNoYm9hcmQoZGFzaGJvYXJkRnVsbE5hbWUpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0UmVwb3J0RnVsbE5hbWUoZGFzaGJvYXJkRnVsbE5hbWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZSBkYXNoYm9hcmQuIElmIGFzc2lnbmVkIG5ldyByZXBvcnQgbmFtZSBhbmQgY2F0ZWdvcnkgLSBuYXZpZ2F0aW9uIHRvIHRoZSBuZXcgZGFzaGJvYXJkIHdpbGwgb2NjdXIuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlcG9ydE5hbWUgTmV3IHJlcG9ydCBuYW1lIChvcHRpb25hbCkuIElmIG5vdCBzZXQgLSByZXBvcnQgd2lsbCBiZSBzYXZlZCB1c2luZyBjdXJyZW50IHJlcG9ydCBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeU5hbWUgTmV3IGNhdGVnb3J5IG5hbWUgKG9wdGlvbmFsKS4gSWYgbm90IHNldCAob3IgcmVwb3J0TmFtZSBub3Qgc2V0KSAtIHJlcG9ydFxyXG5cdCAqIHdpbGwgYmUgc2F2ZWQgdXNpbmcgY3VycmVudCBjYXRlZ29yeSBuYW1lLlxyXG5cdCAqIEB0aHJvd3Mge3JlamVjdCBmdW5jdGlvbn0gcHJvbWlzZSB3aWxsIHJlamVjdCB3aXRoIGEgbWVzc2FnZSBhcyBhcmd1bWVudCBpZiBzb21ldGhpbmcgd2VudCB3cm9uZy5cclxuXHQgKi9cclxuXHRzYXZlRGFzaGJvYXJkKHJlcG9ydE5hbWU/OiBzdHJpbmcsIGNhdGVnb3J5TmFtZT86IHN0cmluZyk6IG5nLklQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IHJlc3RvcmVQcmV2aW91c1JlcG9ydE5hbWUgPSAobW9kZWw6IEl6ZW5kYURhc2hib2FyZE1vZGVsKSA9PiB7XHJcblx0XHRcdG1vZGVsLnJlcG9ydENhdGVnb3J5ID0gbW9kZWwucHJldmlvdXNSZXBvcnRDYXRlZ29yeTtcclxuXHRcdFx0bW9kZWwucmVwb3J0TmFtZSA9IG1vZGVsLnByZXZpb3VzUmVwb3J0TmFtZTtcclxuXHRcdFx0bW9kZWwucmVwb3J0RnVsbE5hbWUgPSBtb2RlbC5wcmV2aW91c1JlcG9ydEZ1bGxOYW1lO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IG1vZGVsOiBJemVuZGFEYXNoYm9hcmRNb2RlbCA9IHRoaXMubW9kZWwuZ2V0VmFsdWUoKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHQvLyBwcmVwYXJlIHJlcG9ydCBuYW1lIHZhcmlhYmxlc1xyXG5cdFx0XHRcdGxldCBuZXdSZXBvcnROYW1lID0gcmVwb3J0TmFtZSB8fCBudWxsO1xyXG5cdFx0XHRcdGxldCBuZXdSZXBvcnRDYXRlZ29yeSA9IGNhdGVnb3J5TmFtZSB8fCBudWxsO1xyXG5cdFx0XHRcdGxldCBuZXdSZXBvcnRGdWxsTmFtZTogc3RyaW5nO1xyXG5cdFx0XHRcdGlmICh0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQobmV3UmVwb3J0Q2F0ZWdvcnkpKVxyXG5cdFx0XHRcdFx0bmV3UmVwb3J0Q2F0ZWdvcnkgPSBudWxsO1xyXG5cdFx0XHRcdGlmIChuZXdSZXBvcnROYW1lKSB7XHJcblx0XHRcdFx0XHQvLyBpZiBuYW1lIHdhcyBzZXRcclxuXHRcdFx0XHRcdG5ld1JlcG9ydEZ1bGxOYW1lID0gdGhpcy4kaXplbmRhVXRpbFNlcnZpY2UuY3JlYXRlUmVwb3J0RnVsbE5hbWUobmV3UmVwb3J0TmFtZSxcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCksXHJcblx0XHRcdFx0XHRcdG5ld1JlcG9ydENhdGVnb3J5KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gaWYgbmFtZSB3YXNuJ3Qgc2V0XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50TG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uLmdldFZhbHVlKCk7XHJcblx0XHRcdFx0XHRuZXdSZXBvcnROYW1lID0gY3VycmVudExvY2F0aW9uLm5hbWU7XHJcblx0XHRcdFx0XHRuZXdSZXBvcnRDYXRlZ29yeSA9IGN1cnJlbnRMb2NhdGlvbi5jYXRlZ29yeTtcclxuXHRcdFx0XHRcdG5ld1JlcG9ydEZ1bGxOYW1lID0gY3VycmVudExvY2F0aW9uLmZ1bGxOYW1lO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gdXBkYXRlIHJlcG9ydCBuYW1lcyBpbiB0aGUgbW9kZWxcclxuXHRcdFx0XHRtb2RlbC5wcmV2aW91c1JlcG9ydENhdGVnb3J5ID0gbW9kZWwucmVwb3J0Q2F0ZWdvcnk7XHJcblx0XHRcdFx0bW9kZWwucHJldmlvdXNSZXBvcnROYW1lID0gbW9kZWwucmVwb3J0TmFtZTtcclxuXHRcdFx0XHRtb2RlbC5wcmV2aW91c1JlcG9ydEZ1bGxOYW1lID0gbW9kZWwucmVwb3J0RnVsbE5hbWU7XHJcblx0XHRcdFx0bW9kZWwucmVwb3J0Q2F0ZWdvcnkgPSBuZXdSZXBvcnRDYXRlZ29yeTtcclxuXHRcdFx0XHRtb2RlbC5yZXBvcnROYW1lID0gbmV3UmVwb3J0TmFtZTtcclxuXHRcdFx0XHRtb2RlbC5yZXBvcnRGdWxsTmFtZSA9IHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRSZXBvcnRGdWxsTmFtZShuZXdSZXBvcnROYW1lLCBuZXdSZXBvcnRDYXRlZ29yeSk7XHJcblxyXG5cdFx0XHRcdGlmIChtb2RlbC50aWxlcy5maWx0ZXIodCA9PiB0ICYmICEhdC5yZXBvcnRGdWxsTmFtZSkubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHQvLyBzaG93IFwibm8gdGlsZXNcIiBlcnJvci5cclxuXHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2UgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NhbnRTYXZlRW1wdHlEYXNoYm9hcmQnLCAnQ2FuXFwndCBzYXZlIGVtcHR5IGRhc2hib2FyZC4nKTtcclxuXHRcdFx0XHRcdHJlc3RvcmVQcmV2aW91c1JlcG9ydE5hbWUobW9kZWwpO1xyXG5cdFx0XHRcdFx0cmVqZWN0KG1lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gY3JlYXRlIGpzb24gYW5kIHNlbmQgc2F2ZSByZXF1ZXN0XHJcblx0XHRcdFx0Y29uc3QganNvbiA9IHRoaXMuY3JlYXRlSnNvbkNvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2Uuc2F2ZURhc2hib2FyZE5ldyhqc29uKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0UmVwb3J0RnVsbE5hbWUobmV3UmVwb3J0RnVsbE5hbWUpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0sIChlcnJvcikgPT4ge1xyXG5cdFx0XHRcdFx0cmVzdG9yZVByZXZpb3VzUmVwb3J0TmFtZShtb2RlbCk7XHJcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0cmVzdG9yZVByZXZpb3VzUmVwb3J0TmFtZShtb2RlbCk7XHJcblx0XHRcdFx0cmVqZWN0KGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgdGlsZXMgSFRNTCBjb250ZW50LlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIFRpbGUgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzaXplIHt3aWR0aCwgaGVpZ2h0fSBvYmplY3QuXHJcblx0ICovXHJcblx0bG9hZFRpbGVzUHJldmlldyh0aWxlLCBzaXplKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3Qgc2l6ZU9iamVjdCA9IHNpemUgfHwgeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XHJcblx0XHRcdFx0Y29uc3QganNvbiA9IHRoaXMuY3JlYXRlSnNvbkNvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2UubG9hZFRpbGVzUHJldmlld05ldyhqc29uLCB0aWxlLCBzaXplT2JqZWN0KVxyXG5cdFx0XHRcdFx0LnRoZW4ocmVzdWx0ID0+IHJlc29sdmUocmVzdWx0KSwgZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRyZWplY3QoZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBhbmQgcHJlcGFyZSByZXBvcnQgaW50byBjb250YWluZXJcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0IGh0bWwgZGF0YS5cclxuXHQgKiBAcGFyYW0ge2pxdWVyeSBkb20gZWxlbWVudH0gY29udGFpbmVyLlxyXG5cdCAqL1xyXG5cdGxvYWRSZXBvcnRJbnRvQ29udGFpbmVyKGh0bWxEYXRhLCAkY29udGFpbmVyKSB7XHJcblx0XHRjb25zdCBjdXN0b21Dc3NTdGFydCA9ICcvKkN1c3RvbUNzc1N0YXJ0Ki8nO1xyXG5cdFx0Y29uc3QgY3VzdG9tQ3NzRW5kID0gJy8qQ3VzdG9tQ3NzRW5kKi8nO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXh0cmFjdCBjdXN0b20gY3NzIHJ1bGVzXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0IGV4dHJhY3RDdXN0b21Dc3MgPSBodG1sID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzRnVuY3Rpb24oQ1NTUGFyc2VyKSlcclxuXHRcdFx0XHR0aHJvdyAnQ3NzIHBhcnNlciAoY3NzUGFyc2VyLmpzKSBub3QgZm91bmQnO1xyXG5cdFx0XHRjb25zdCBzdGFydEluZGV4ID0gaHRtbC5pbmRleE9mKGN1c3RvbUNzc1N0YXJ0KTtcclxuXHRcdFx0Y29uc3QgZW5kSW5kZXggPSBodG1sLmluZGV4T2YoY3VzdG9tQ3NzRW5kKTtcclxuXHRcdFx0aWYgKHN0YXJ0SW5kZXggPCAwIHx8IGVuZEluZGV4IDwgMCB8fCBzdGFydEluZGV4ID4gZW5kSW5kZXgpXHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgY3VzdG9tQ3NzID0gaHRtbC5zdWJzdHJpbmcoc3RhcnRJbmRleCArIGN1c3RvbUNzc1N0YXJ0Lmxlbmd0aCwgZW5kSW5kZXgpO1xyXG5cdFx0XHRcdGNvbnN0IHBhcnNlciA9IG5ldyBDU1NQYXJzZXIoKTtcclxuXHRcdFx0XHRjb25zdCBzaGVldCA9IHBhcnNlci5wYXJzZShjdXN0b21Dc3MsIGZhbHNlLCB0cnVlKTtcclxuXHRcdFx0XHRyZXR1cm4gc2hlZXQ7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluamVjdCBjdXN0b20gY3NzXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0IGluamVjdEN1c3RvbUNzcyA9IChodG1sLCBjdXN0b21Dc3MpID0+IHtcclxuXHRcdFx0Y29uc3Qgc3RhcnRJbmRleCA9IGh0bWwuaW5kZXhPZihjdXN0b21Dc3NTdGFydCk7XHJcblx0XHRcdGNvbnN0IGVuZEluZGV4ID0gaHRtbC5pbmRleE9mKGN1c3RvbUNzc0VuZCk7XHJcblx0XHRcdGlmIChzdGFydEluZGV4IDwgMCB8fCBlbmRJbmRleCA8IDAgfHwgc3RhcnRJbmRleCA+IGVuZEluZGV4KVxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBbXHJcblx0XHRcdFx0aHRtbC5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCksXHJcblx0XHRcdFx0Y3VzdG9tQ3NzU3RhcnQsXHJcblx0XHRcdFx0Y3VzdG9tQ3NzLFxyXG5cdFx0XHRcdGN1c3RvbUNzc0VuZCxcclxuXHRcdFx0XHRodG1sLnN1YnN0cmluZyhlbmRJbmRleCArIGN1c3RvbUNzc1N0YXJ0Lmxlbmd0aClcclxuXHRcdFx0XS5qb2luKCcnKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2UgcnVsZXNcclxuXHRcdCAqL1xyXG5cdFx0Y29uc3QgcmVwbGFjZUNzc1J1bGVzID0gKHNvdXJjZVN0eWxlU2hlZXQsIHNlbGVjdG9yVGV4dENoYW5nZUZ1bmN0aW9uKSA9PiB7XHJcblx0XHRcdGNvbnN0IGNzc1J1bGVzID0gc291cmNlU3R5bGVTaGVldC5jc3NSdWxlcztcclxuXHRcdFx0Y3NzUnVsZXMuZm9yRWFjaChydWxlID0+IHtcclxuXHRcdFx0XHRpZiAocnVsZS50eXBlID09PSAxKSB7XHJcblx0XHRcdFx0XHRjb25zdCBzZWxlY3RvciA9IHJ1bGUubVNlbGVjdG9yVGV4dDtcclxuXHRcdFx0XHRcdHJ1bGUubVNlbGVjdG9yVGV4dCA9IHNlbGVjdG9yVGV4dENoYW5nZUZ1bmN0aW9uKHNlbGVjdG9yKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gNCkge1xyXG5cdFx0XHRcdFx0cmVwbGFjZUNzc1J1bGVzKHJ1bGUsIHNlbGVjdG9yVGV4dENoYW5nZUZ1bmN0aW9uKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR2YXIgdGlsZUlkID0gJGNvbnRhaW5lci5jbG9zZXN0KCcuaXplbmRhLXJlcG9ydC13aXRoLWlkJykuYXR0cigncmVwb3J0aWQnKTtcclxuXHRcdFx0Ly8gY2xlYXIgcHJldmlvdXMgY29udGVudFxyXG5cdFx0XHQkY29udGFpbmVyLmVtcHR5KCk7XHJcblxyXG5cdFx0XHQvLyB0dXJuIG9mZiBpbnRlcm5hbCB2aXN1YWxpemF0aW9uIHdpbmRvdyByZXNpemUgaGFuZGxlci5cclxuXHRcdFx0aXplbmRhLnZpc3VhbGl6YXRpb24uaXNSZXNpemVIYW5kbGVyRW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gbG9hZCByZXNwb25zZSB0byBjb250YWluZXJcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QoaHRtbERhdGEpICYmIGh0bWxEYXRhLmhhc093blByb3BlcnR5KCdtZXNzYWdlJykpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGh0bWxEYXRhKTtcclxuXHRcdFx0XHRpemVuZGEucmVwb3J0LmxvYWRSZXBvcnRSZXNwb25zZShodG1sRGF0YVsnbWVzc2FnZSddLCAkY29udGFpbmVyKTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0aXplbmRhLnJlcG9ydC5sb2FkUmVwb3J0UmVzcG9uc2UoaHRtbERhdGEsICRjb250YWluZXIpO1xyXG5cclxuXHRcdFx0Ly8gcmVwbGFjZSBDU1NcclxuXHRcdFx0Y29uc3QgJGN1c3RvbUNzcyA9ICRjb250YWluZXIuZmluZCgnc3R5bGVbaWQ9YWRkaXRpb25hbFN0eWxlXScpO1xyXG5cdFx0XHRpZiAoJGN1c3RvbUNzcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Y29uc3QgY3NzaHRtbCA9ICRjdXN0b21Dc3MuaHRtbCgpO1xyXG5cdFx0XHRcdGNvbnN0IHN0eWxlU2hlZXQgPSBleHRyYWN0Q3VzdG9tQ3NzKGNzc2h0bWwpO1xyXG5cdFx0XHRcdGlmIChzdHlsZVNoZWV0KSB7XHJcblx0XHRcdFx0XHQvLyByZXBsYWNlIHJ1bGUgc2VsZWN0b3JzOlxyXG5cdFx0XHRcdFx0cmVwbGFjZUNzc1J1bGVzKHN0eWxlU2hlZXQsXHJcblx0XHRcdFx0XHRcdHNlbGVjdG9yID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBwYXJ0cyA9IHNlbGVjdG9yLnNwbGl0KCcsJyk7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHJlc3VsdCA9ICcnO1xyXG5cdFx0XHRcdFx0XHRcdHBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQsIGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPiAwKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgKz0gJywgJztcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCArPSBgLml6ZW5kYS1yZXBvcnQtd2l0aC1pZFtyZXBvcnRpZD1cIiR7dGlsZUlkfVwiXSAke3BhcnQudHJpbSgpfWA7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNvbnN0IG5ld0NzcyA9IHN0eWxlU2hlZXQuY3NzVGV4dCgpO1xyXG5cdFx0XHRcdGNvbnN0IG5ld0h0bWwgPSBpbmplY3RDdXN0b21Dc3MoY3NzaHRtbCwgbmV3Q3NzKTtcclxuXHRcdFx0XHQkY3VzdG9tQ3NzLmh0bWwobmV3SHRtbCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRjb250YWluZXIuZmluZCgnW2lkJD1fb3V0ZXJTcGFuXScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG5cdFx0XHQvLyBwcmVwYXJlIGNvbnRlbnQgZGl2XHJcblx0XHRcdGNvbnN0IGRpdnMkID0gJGNvbnRhaW5lci5maW5kKCdkaXYuRGFzaFBhcnRCb2R5LCBkaXYuRGFzaFBhcnRCb2R5Tm9TY3JvbGwnKTtcclxuXHRcdFx0aWYgKGRpdnMkLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRkaXZzJC5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XHJcblx0XHRcdFx0ZGl2cyQuZmluZCgnc3BhbicpLmVhY2goZnVuY3Rpb24gKGlTcGFuLCBzcGFuKSB7XHJcblx0XHRcdFx0XHRjb25zdCAkc3BhbiA9IGFuZ3VsYXIuZWxlbWVudChzcGFuKTtcclxuXHRcdFx0XHRcdGlmICgkc3Bhbi5hdHRyKCdpZCcpICYmIFN0cmluZygkc3Bhbi5hdHRyKCdpZCcpKS5pbmRleE9mKCdfb3V0ZXJTcGFuJykgPj0gMCkge1xyXG5cdFx0XHRcdFx0XHQkc3Bhbi5jc3MoJ2Rpc3BsYXknLCAnaW5saW5lJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y29uc3QgJHplcm9jaGFydFJlc3VsdHMgPSBkaXZzJC5maW5kKCcuaXotemVyby1jaGFydC1yZXN1bHRzJyk7XHJcblx0XHRcdFx0aWYgKCR6ZXJvY2hhcnRSZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdCR6ZXJvY2hhcnRSZXN1bHRzLmNsb3Nlc3QoJ3RhYmxlJykuY3NzKCdoZWlnaHQnLCAnMTAwJScpO1xyXG5cdFx0XHRcdFx0ZGl2cyQuY3NzKCdoZWlnaHQnLCAnMTAwJScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpbml0IGdhdWdlXHJcblx0XHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChBZEhvYykgJiZcclxuXHRcdFx0XHRhbmd1bGFyLmlzT2JqZWN0KEFkSG9jLlV0aWxpdHkpICYmXHJcblx0XHRcdFx0YW5ndWxhci5pc0Z1bmN0aW9uKEFkSG9jLlV0aWxpdHkuSW5pdEdhdWdlQW5pbWF0aW9ucykpIHtcclxuXHRcdFx0XHRBZEhvYy5VdGlsaXR5LkluaXRHYXVnZUFuaW1hdGlvbnMobnVsbCwgbnVsbCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0JGNvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0XHRjb25zdCBmYWlsZWRNc2cgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFRvTG9hZFJlcG9ydCcsICdGYWlsZWQgdG8gbG9hZCByZXBvcnQnKSArICc6ICcgKyBlO1xyXG5cdFx0XHQkY29udGFpbmVyLmFwcGVuZChgPGI+JHtmYWlsZWRNc2d9PC9iPmApO1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGZhaWxlZE1zZyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQcmludCBkYXNoYm9hcmRcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkKHR5cGUsIHJlcG9ydEZvclByaW50Pykge1xyXG5cdFx0dGhpcy5leHBvcnRQcm9ncmVzcy5vbk5leHQoJ3ByaW50Jyk7XHJcblx0XHRyZXR1cm4gdGhpcy4kcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IHJlc29sdmVXcmFwcGVyID0gKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZXhwb3J0UHJvZ3Jlc3Mub25OZXh0KG51bGwpO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0Y29uc3QgcmVqZWN0V3JhcHBlciA9IChlcnJvcikgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZXhwb3J0UHJvZ3Jlc3Mub25OZXh0KG51bGwpO1xyXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpZiAodHlwZSAhPT0gJ2h0bWwnICYmIHR5cGUgIT09ICdwZGYnICYmIHR5cGUgIT09ICdleGNlbCcpIHtcclxuXHRcdFx0XHRyZWplY3RXcmFwcGVyKGBVbmtub3duIHByaW50IHR5cGU6ICR7dHlwZX1gKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGpzb24gPSB0aGlzLmNyZWF0ZUpzb25Db25maWdGb3JTZW5kKCk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5zeW5jVGlsZXNOZXcoanNvbiwgcmVwb3J0Rm9yUHJpbnQpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdGlmICh0eXBlID09PSAnaHRtbCcpXHJcblx0XHRcdFx0XHR0aGlzLnByaW50RGFzaGJvYXJkQXNIdG1sKHJlcG9ydEZvclByaW50KS50aGVuKCgpID0+IHJlc29sdmVXcmFwcGVyKCksIGVycm9yID0+IHJlamVjdFdyYXBwZXIoZXJyb3IpKTtcclxuXHRcdFx0XHRlbHNlIGlmICh0eXBlID09PSAnZXhjZWwnKVxyXG5cdFx0XHRcdFx0dGhpcy5wcmludERhc2hib2FyZEFzRXhjZWwocmVwb3J0Rm9yUHJpbnQpLnRoZW4oKCkgPT4gcmVzb2x2ZVdyYXBwZXIoKSwgZXJyb3IgPT4gcmVqZWN0V3JhcHBlcihlcnJvcikpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKHR5cGUgPT09ICdwZGYnKVxyXG5cdFx0XHRcdFx0dGhpcy5wcmludERhc2hib2FyZEFzUERGKHJlcG9ydEZvclByaW50KS50aGVuKCgpID0+IHJlc29sdmVXcmFwcGVyKCksIGVycm9yID0+IHJlamVjdFdyYXBwZXIoZXJyb3IpKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0XHRlcnJvciA9PiByZWplY3RXcmFwcGVyKGVycm9yKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9wZW4gbmV3IHdpbmRvdyB3aXRoIHRoZSBuZXcgZGFzaGJvYXJkIGZvciBwcmludGluZy5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0Rm9yUHJpbnQgcmVwb3J0IHBhcnQuIE9ubHkgb25lIHJlcG9ydCB3aWxsIGJlIHByaW50ZWQgaWYgZGVmaW5lZC5cclxuXHQgKi9cclxuXHRwcmludERhc2hib2FyZEFzSHRtbChyZXBvcnRGb3JQcmludCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHZhciBwcmludFVybCA9IGAke3RoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnNQYWdlfT9wPWh0bWxyZXBvcnQmcHJpbnQ9MWA7XHJcblx0XHRcdFx0Ly8gcHJpbnQgc2luZ2xlIHRpbGUgaWYgcGFyYW1ldGVyIGlzIHNldDpcclxuXHRcdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhyZXBvcnRGb3JQcmludCkgJiYgcmVwb3J0Rm9yUHJpbnQgIT09ICcnKVxyXG5cdFx0XHRcdFx0cHJpbnRVcmwgKz0gYCZyZXBvcnRQYXJ0TmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChyZXBvcnRGb3JQcmludCl9YDtcclxuXHJcblx0XHRcdFx0Ly8gaXpwaWQgYW5kIGFucGlkIHdpbGwgYmUgYWRkZWQgaW5zaWRlIHRoZSBFeHRlbmRSZXBvcnRFeHBvcnQgbWV0aG9kIFxyXG5cdFx0XHRcdHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IG5ld1dpbmRvdyA9IEV4dGVuZFJlcG9ydEV4cG9ydChyZXNwb25zZVNlcnZlci5PcGVuVXJsLCBwcmludFVybCwgJ2FzcG5ldEZvcm0nLCAnJywgJycsIHRydWUpO1xyXG5cdFx0XHRcdFx0aWYgKCdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHtcclxuXHRcdFx0XHRcdFx0bGV0IGludGVydmFsSWQgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFuZXdXaW5kb3cgfHwgbmV3V2luZG93LmNsb3NlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsSWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aW50ZXJ2YWxJZCA9IG51bGw7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LCA1MDApO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDUwMCk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0XHRcdHJlamVjdChlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHBvcnQgZGFzaGJvYXJkIHRvIGZpbGVcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3V0cHV0VHlwZSBvdXRwdXQgdHlwZSBxdWVyeSBwYXJhbWV0ZXJcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0Rm9yUHJpbnQgcmVwb3J0IHBhcnQuIE9ubHkgb25lIHJlcG9ydCB3aWxsIGJlIHByaW50ZWQgaWYgZGVmaW5lZC5cclxuXHQgKi9cclxuXHRwcmludERhc2hib2FyZEFzRmlsZShvdXRwdXRUeXBlLCByZXBvcnRGb3JQcmludCkge1xyXG5cdFx0aWYgKCFvdXRwdXRUeXBlKVxyXG5cdFx0XHR0aHJvdyAnUGFyYW1ldGVyIFwib3V0cHV0VHlwZVwiIHNob3VsZCBiZSBkZWZpbmVkJztcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRsZXQgYWRkUGFyYW0gPSAnJztcclxuXHRcdFx0XHRpZiAodHlwZW9mICh3aW5kb3cuaXplbmRhUGFnZUlkJCkgIT09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRcdFx0YWRkUGFyYW0gKz0gYCZpenBpZD0ke3dpbmRvdy5pemVuZGFQYWdlSWQkfWA7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiAod2luZG93LmFuZ3VsYXJQYWdlSWQkKSAhPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdFx0XHRhZGRQYXJhbSArPSBgJmFucGlkPSR7d2luZG93LmFuZ3VsYXJQYWdlSWQkfWA7XHJcblxyXG5cdFx0XHRcdGxldCB1cmwgPSB0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybFJzUGFnZSArICc/JztcclxuXHRcdFx0XHRpZiAocmVwb3J0Rm9yUHJpbnQpXHJcblx0XHRcdFx0XHR1cmwgKz0gYHJwbj0ke3JlcG9ydEZvclByaW50fSZgO1xyXG5cdFx0XHRcdHVybCArPSBgb3V0cHV0PSR7b3V0cHV0VHlwZX0ke2FkZFBhcmFtfWA7XHJcblxyXG5cdFx0XHRcdC8vIGRvd25sb2FkIHRoZSBmaWxlXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhUnNRdWVyeVNlcnZpY2UuZG93bmxvYWRGaWxlUmVxdWVzdCgnR0VUJywgdXJsKS50aGVuKCgpID0+IHJlc29sdmUoKSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0XHRcdHJlamVjdChlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHBvcnQgZGFzaGJvYXJkIHRpbGUgYXMgZXhjZWxcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0Rm9yUHJpbnQgcmVwb3J0IHBhcnQuIE9ubHkgb25lIHJlcG9ydCB3aWxsIGJlIHByaW50ZWQgaWYgZGVmaW5lZC5cclxuXHQgKi9cclxuXHRwcmludERhc2hib2FyZEFzRXhjZWwocmVwb3J0Rm9yUHJpbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW50RGFzaGJvYXJkQXNGaWxlKCdYTFMoTUlNRSknLCByZXBvcnRGb3JQcmludCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQcmludCBkYXNoYm9hcmQgaW50byBQREZcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0Rm9yUHJpbnQgcmVwb3J0IHBhcnQuIE9ubHkgb25lIHJlcG9ydCB3aWxsIGJlIHByaW50ZWQgaWYgZGVmaW5lZC5cclxuXHQgKi9cclxuXHRwcmludERhc2hib2FyZEFzUERGKHJlcG9ydEZvclByaW50KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmludERhc2hib2FyZEFzRmlsZSgnUERGJywgcmVwb3J0Rm9yUHJpbnQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCBlbWFpbFxyXG5cdCAqL1xyXG5cdHNlbmRFbWFpbChzZW5kVHlwZSwgZW1haWwpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBqc29uID0gdGhpcy5jcmVhdGVKc29uQ29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5zZW5kUmVwb3J0VmlhRW1haWxOZXcoanNvbiwgc2VuZFR5cGUsIGVtYWlsKVxyXG5cdFx0XHRcdFx0LnRoZW4ocmVzdWx0ID0+IHJlc29sdmUocmVzdWx0KSwgZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRyZWplY3QoZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVHVybiBvbi9vZmYgZmlsdGVycyBwYW5lbC5cclxuXHQgKiBAcGFyYW0ge2FueX0gb3BlbmVkXHJcblx0ICovXHJcblx0dG9nZ2xlRmlsdGVyc1BhbmVsKG9wZW5lZD8pIHtcclxuXHRcdGNvbnN0IGN1cnJlbnRPcGVuZWQgPSB0aGlzLmlzRmlsdGVyc0FjdGl2ZS5nZXRWYWx1ZSgpO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG9wZW5lZCkpIHtcclxuXHRcdFx0aWYgKGN1cnJlbnRPcGVuZWQgIT0gb3BlbmVkKVxyXG5cdFx0XHRcdHRoaXMuaXNGaWx0ZXJzQWN0aXZlLm9uTmV4dChvcGVuZWQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5pc0ZpbHRlcnNBY3RpdmUub25OZXh0KCFjdXJyZW50T3BlbmVkKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBkYXNoYm9hcmQgZmlsdGVyc1xyXG5cdCAqL1xyXG5cdHJlZnJlc2hGaWx0ZXJzKCkge1xyXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuY3JlYXRlSnNvbkNvbmZpZ0ZvclNlbmQoKTtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFF1ZXJ5U2VydmljZS5zeW5jRmlsdGVyc05ldyhqc29uKS50aGVuKGZpbHRlcnNEYXRhID0+IHtcclxuXHRcdFx0dGhpcy5fc2V0RmlsdGVyc0RhdGEoZmlsdGVyc0RhdGEpO1xyXG5cdFx0fSxcclxuXHRcdFx0ZXJyb3IgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgZmlsdGVycyBkYXRhOiAnLCBlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVmcmVzaCBkYXNoYm9hcmRcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IHJlbG9hZExheW91dCByZWxvYWQgZGFzaGJvYXJkIGxheW91dCBmcm9tIHRoZSBzZXJ2ZXIuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVGcm9tU291cmNlIHVwZGF0ZSB0aWxlcyBmcm9tIGl0J3Mgc291cmNlcy5cclxuXHQgKiBAcGFyYW0ge0l6ZW5kYURhc2hib2FyZFRpbGVNb2RlbH0gdGlsZSB1cGRhdGUgb25seSBvbmUgdGlsZS5cclxuXHQgKi9cclxuXHRyZWZyZXNoRGFzaGJvYXJkKHJlbG9hZExheW91dCwgdXBkYXRlRnJvbVNvdXJjZSwgdGlsZT8pIHtcclxuXHRcdGlmIChyZWxvYWRMYXlvdXQpIHtcclxuXHRcdFx0dGhpcy5fJG9uTG9jYXRpb25DaGFuZ2VkKHRoaXMubG9jYXRpb24uZ2V0VmFsdWUoKSwgISF1cGRhdGVGcm9tU291cmNlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMucmVmcmVzaE9ic2VydmFibGUub25OZXh0KHtcclxuXHRcdFx0XHR0aWxlOiB0aWxlIHx8IG51bGwsXHJcblx0XHRcdFx0dXBkYXRlRnJvbVNvdXJjZTogISF1cGRhdGVGcm9tU291cmNlXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FuY2VscyByZWZyZXNoIGRhc2hib2FyZCBxdWVyaWVzXHJcblx0ICovXHJcblx0Y2FuY2VsUmVmcmVzaERhc2hib2FyZFF1ZXJpZXMoKSB7XHJcblx0XHR0aGlzLiRpemVuZGFSc1F1ZXJ5U2VydmljZS5jYW5jZWxBbGxRdWVyaWVzKHtcclxuXHRcdFx0Y2FuY2VsTGlzdDogW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHdzY21kOiAnZ2V0RGFzaGJvYXJkVGlsZVByZXZpZXdOZXcnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgYXV0byByZWZyZXNoIGludGVydmFscyBjb25maWcuIEFmdGVyIGNvbXBsZXRlIHRoaXMuYXV0b1JlZnJlc2ggaXMgbm90aWZpZWRcclxuXHQgKi9cclxuXHRsb2FkQXV0b1JlZnJlc2hJbnRlcnZhbHMoKSB7XHJcblx0XHR2YXIgbmV3QXV0b1JlZnJlc2ggPSB7XHJcblx0XHRcdGludGVydmFsczogW11cclxuXHRcdH07XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2UubG9hZEF1dG9SZWZyZXNoSW50ZXJ2YWxzTmV3KCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0Zm9yIChsZXQgbmFtZSBpbiBkYXRhKVxyXG5cdFx0XHRcdGlmIChkYXRhLmhhc093blByb3BlcnR5KG5hbWUpKVxyXG5cdFx0XHRcdFx0bmV3QXV0b1JlZnJlc2guaW50ZXJ2YWxzLnB1c2goeyBuYW1lOiBuYW1lLCB2YWx1ZTogZGF0YVtuYW1lXSwgc2VsZWN0ZWQ6IGZhbHNlIH0pO1xyXG5cdFx0XHR0aGlzLmF1dG9SZWZyZXNoLm9uTmV4dChuZXdBdXRvUmVmcmVzaCwgdGhpcyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFR1cm4gb24gd2luZG93IHJlc2l6ZSBoYW5kbGVyIGV2ZW50IGVtaXR0ZXJcclxuXHQgKi9cclxuXHR0dXJuT25XaW5kb3dSZXNpemVIYW5kbGVyKCkge1xyXG5cdFx0dGhpcy53aW5kb3dTaXplQWN0aXZlID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFR1cm4gb2ZmIHdpbmRvdyByZXNpemUgaGFuZGxlciBldmVudCBlbWl0dGVyXHJcblx0ICovXHJcblx0dHVybk9mZldpbmRvd1Jlc2l6ZUhhbmRsZXIoKSB7XHJcblx0XHR0aGlzLndpbmRvd1NpemVBY3RpdmUgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBqc29uIGNvbmZpZ1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3JlYXRlSnNvbkNvbmZpZ0ZvclNlbmQoKTogYW55IHtcclxuXHRcdC8vIGNyZWF0ZSBqc29uIGZvciBzZW5kaW5nIHRvIHNlcnZlclxyXG5cdFx0Y29uc3QgbW9kZWw6IEl6ZW5kYURhc2hib2FyZE1vZGVsID0gdGhpcy5tb2RlbC5nZXRWYWx1ZSgpO1xyXG5cdFx0Y29uc3Qgc2NoZWR1bGVKc29uID0gdGhpcy4kaXplbmRhU2NoZWR1bGVTZXJ2aWNlLmdldFNjaGVkdWxlQ29uZmlnRm9yU2VuZCgpO1xyXG5cdFx0Y29uc3Qgc2hhcmVKc29uID0gdGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLmdldFNoYXJlQ29uZmlnRm9yU2VuZCgpO1xyXG5cclxuXHRcdC8vIGxlZ2FjeSBBUEkgY2FsbC5cclxuXHRcdGxldCBmaWx0ZXJzSnNvbiA9IFtdO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihHZXREYXRhVG9Db21taXQpKVxyXG5cdFx0XHRmaWx0ZXJzSnNvbiA9IEdldERhdGFUb0NvbW1pdCgpO1xyXG5cdFx0bGV0IGZpbHRlcnNSYXcgPSBuZXcgSXplbmRhRmlsdGVyc01vZGVsKCk7XHJcblx0XHRmaWx0ZXJzUmF3LmZyb21Kc29uKHtcclxuXHRcdFx0RmlsdGVyTG9naWM6ICcnLFxyXG5cdFx0XHRGaWx0ZXJzOiBmaWx0ZXJzSnNvbixcclxuXHRcdFx0U3VicmVwb3J0c0ZpbHRlcnM6IFtdXHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBqc29uID0gbW9kZWwudG9Kc29uKCk7XHJcblx0XHRqc29uLnNoYXJlID0gc2hhcmVKc29uO1xyXG5cdFx0anNvbi5zY2hlZHVsZSA9IHNjaGVkdWxlSnNvbjtcclxuXHRcdGpzb24uZmlsdGVycyA9IGZpbHRlcnNSYXcudG9Kc29uKCk7XHJcblx0XHRyZXR1cm4ganNvbjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENhbGN1bGF0ZSBjYXRlZ29yeSBuYW1lXHJcblx0ICovXHJcblx0X2dldFdhbnRlZENhdGVnb3J5TmFtZSgpIHtcclxuXHRcdGNvbnN0IHVybEZ1bGxOYW1lID0gdGhpcy5sb2NhdGlvbi5nZXRWYWx1ZSgpLmZ1bGxOYW1lO1xyXG5cdFx0Y29uc3QgY2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5nZXRWYWx1ZSgpO1xyXG5cdFx0Y29uc3QgaXNVcmxGdWxsTmFtZUV4aXN0ID1cclxuXHRcdFx0dGVzdEZ1bGxOYW1lID0+IGNhdGVnb3JpZXMuc29tZShjYXQgPT4gY2F0LmRhc2hib2FyZHMuc29tZShkYXNoTmFtZSA9PiBkYXNoTmFtZSA9PT0gdGVzdEZ1bGxOYW1lKSk7XHJcblx0XHQvLyBjYWxjIGN1cnJlbnQgZGFzaGJvYXJkIGNhdGVnb3J5XHJcblx0XHRsZXQgY3VycmVudENhdGVnb3J5TmFtZSA9ICcnO1xyXG5cdFx0bGV0IGlzQ2F0ZWdvcnlTZXQgPSBmYWxzZTtcclxuXHRcdGlmIChpc1VybEZ1bGxOYW1lRXhpc3QodXJsRnVsbE5hbWUpKSB7XHJcblx0XHRcdGN1cnJlbnRDYXRlZ29yeU5hbWUgPSB0aGlzLmxvY2F0aW9uLmdldFZhbHVlKCkuY2F0ZWdvcnk7XHJcblx0XHRcdGlzQ2F0ZWdvcnlTZXQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFpc0NhdGVnb3J5U2V0ICYmIHRoaXMuJGl6ZW5kYURhc2hib2FyZENvbmZpZy5kZWZhdWx0RGFzaGJvYXJkQ2F0ZWdvcnkgIT09IG51bGwpIHtcclxuXHRcdFx0Y3VycmVudENhdGVnb3J5TmFtZSA9IHRoaXMuJGl6ZW5kYURhc2hib2FyZENvbmZpZy5kZWZhdWx0RGFzaGJvYXJkQ2F0ZWdvcnk7XHJcblx0XHRcdGlzQ2F0ZWdvcnlTZXQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFpc0NhdGVnb3J5U2V0KSB7XHJcblx0XHRcdGNvbnN0IHVuY2F0ZWdvcml6ZWQgPSBjYXRlZ29yaWVzLmZpcnN0KGNhdCA9PiB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQoY2F0Lm5hbWUpKTtcclxuXHRcdFx0aWYgKHVuY2F0ZWdvcml6ZWQpXHJcblx0XHRcdFx0Y3VycmVudENhdGVnb3J5TmFtZSA9IHVuY2F0ZWdvcml6ZWQubmFtZTsgLy8gaWYgd2UgaGF2ZSBcInVuY2F0ZWdvcml6ZWRcIiBkYXNoYm9hcmRzIC0gc2VsZWN0IGl0XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lID0gY2F0ZWdvcmllcy5sZW5ndGggPyBjYXRlZ29yaWVzWzBdLm5hbWUgOiAnJztcclxuXHRcdH1cclxuXHRcdHJldHVybiBjdXJyZW50Q2F0ZWdvcnlOYW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgcmVwb3J0IG5hbWUgb2J0YWluZWQgZnJvbSB0aGUgJ3JuJyBwYXJhbWV0ZXIgYW5kIGxvYWQgZGVmYXVsdCBkYXNoYm9hcmQgaWYgcm4gcGFyYW1ldGVyIGRvZXNuJ3RcclxuXHQgKiBjb250YWluIHZhbGlkIGRhc2hib2FyZCBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBsb2NhdGlvbiBMb2NhdGlvbiBvYmplY3QuXHJcblx0ICogQHJldHVybnMge3N0cmluZ30gZml4ZWQgZGFzaGJvYXJkIGZ1bGwgbmFtZSAob3IgZW1wdHkgc3RyaW5nIGlmIGNhbid0IGZpbmQgZGVmYXVsdCBkYXNoYm9hcmQpLlxyXG5cdCAqL1xyXG5cdF9nZXRXYW50ZWRSZXBvcnRGdWxsTmFtZShsb2NhdGlvbikge1xyXG5cdFx0Y29uc3QgdXJsRnVsbE5hbWUgPSBsb2NhdGlvbi5mdWxsTmFtZTtcclxuXHRcdGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLmNhdGVnb3JpZXMuZ2V0VmFsdWUoKTtcclxuXHRcdGNvbnN0IGlzVXJsRnVsbE5hbWVFeGlzdCA9XHJcblx0XHRcdHRlc3RGdWxsTmFtZSA9PiBjYXRlZ29yaWVzLnNvbWUoY2F0ID0+IGNhdC5kYXNoYm9hcmRzLnNvbWUoZGFzaE5hbWUgPT4gZGFzaE5hbWUgPT09IHRlc3RGdWxsTmFtZSkpO1xyXG5cclxuXHRcdC8vIGNhbGMgY3VycmVudCBkYXNoYm9hcmQgY2F0ZWdvcnlcclxuXHRcdGNvbnN0IGN1cnJlbnRDYXRlZ29yeU5hbWUgPSB0aGlzLl9nZXRXYW50ZWRDYXRlZ29yeU5hbWUoKTtcclxuXHJcblx0XHQvLyBjYWxjIGN1cnJlbnQgZGFzaGJvYXJkIGZ1bGwgbmFtZVxyXG5cdFx0bGV0IGN1cnJlbnREYXNoYm9hcmRGdWxsTmFtZSA9ICcnO1xyXG5cdFx0bGV0IGlzQ3VycmVudERhc2hiaWFyZE5hbWVTZXQgPSBmYWxzZTtcclxuXHRcdGlmIChpc1VybEZ1bGxOYW1lRXhpc3QodXJsRnVsbE5hbWUpKSB7XHJcblx0XHRcdGN1cnJlbnREYXNoYm9hcmRGdWxsTmFtZSA9IHVybEZ1bGxOYW1lO1xyXG5cdFx0XHRpc0N1cnJlbnREYXNoYmlhcmROYW1lU2V0ID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGlmICghaXNDdXJyZW50RGFzaGJpYXJkTmFtZVNldCAmJiB0aGlzLiRpemVuZGFEYXNoYm9hcmRDb25maWcuZGVmYXVsdERhc2hib2FyZE5hbWUgIT09IG51bGwpIHtcclxuXHRcdFx0Y3VycmVudERhc2hib2FyZEZ1bGxOYW1lID0gdGhpcy4kaXplbmRhRGFzaGJvYXJkQ29uZmlnLmRlZmF1bHREYXNoYm9hcmROYW1lO1xyXG5cdFx0XHRpZiAoY3VycmVudERhc2hib2FyZEZ1bGxOYW1lICYmIGN1cnJlbnRDYXRlZ29yeU5hbWUgJiYgIXRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChjdXJyZW50Q2F0ZWdvcnlOYW1lKSkge1xyXG5cdFx0XHRcdGN1cnJlbnREYXNoYm9hcmRGdWxsTmFtZSA9XHJcblx0XHRcdFx0XHRjdXJyZW50Q2F0ZWdvcnlOYW1lICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyBjdXJyZW50RGFzaGJvYXJkRnVsbE5hbWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aXNDdXJyZW50RGFzaGJpYXJkTmFtZVNldCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY291bGRuJ3QgZmluZCBkYXNoYm9hcmQgLSB1c2UgZmlyc3RcclxuXHRcdGlmICghaXNDdXJyZW50RGFzaGJpYXJkTmFtZVNldCkge1xyXG5cdFx0XHRjb25zdCBkZWZhdWx0Q2F0cyA9IGNhdGVnb3JpZXMuZmlsdGVyKGNhdCA9PiBjYXQuZGFzaGJvYXJkcy5sZW5ndGgpO1xyXG5cdFx0XHRjdXJyZW50RGFzaGJvYXJkRnVsbE5hbWUgPSBkZWZhdWx0Q2F0cy5sZW5ndGggPyBkZWZhdWx0Q2F0c1swXS5kYXNoYm9hcmRzWzBdIDogJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGN1cnJlbnREYXNoYm9hcmRGdWxsTmFtZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBkYXNoYm9hcmRzIGluIGN1cnJlbnQgY2F0ZWdvcnkgY29sbGVjdGlvbiBhbmQgY3VycmVudCBhY3RpdmUgZGFzaGJvYXJkXHJcblx0ICovXHJcblx0X3VwZGF0ZUN1cnJlbnRDYXRlZ29yeSgpIHtcclxuXHRcdGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLmNhdGVnb3JpZXMuZ2V0VmFsdWUoKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRDYXRlZ29yeU5hbWUgPSB0aGlzLl9nZXRXYW50ZWRDYXRlZ29yeU5hbWUoKTtcclxuXHRcdGNvbnN0IGN1cnJlbnREYXNoYm9hcmROYW1lID0gdGhpcy5fZ2V0V2FudGVkUmVwb3J0RnVsbE5hbWUodGhpcy5sb2NhdGlvbi5nZXRWYWx1ZSgpKTtcclxuXHRcdGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcmllcy5maXJzdChjYXQgPT4gY3VycmVudENhdGVnb3J5TmFtZSA9PT0gY2F0Lm5hbWUgfHxcclxuXHRcdFx0KHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChjdXJyZW50Q2F0ZWdvcnlOYW1lKSAmJiB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQoY2F0Lm5hbWUpKSk7XHJcblx0XHR2YXIgY3VycmVudERhc2hib2FyZHNDb2xsZWN0aW9uID0gW107XHJcblx0XHR2YXIgY3VycmVudERhc2hib2FyZCA9IG51bGw7XHJcblx0XHRpZiAoY2F0ZWdvcnkpIHtcclxuXHRcdFx0Y2F0ZWdvcnkuZGFzaGJvYXJkcy5mb3JFYWNoKChkYXNoLCBpRGFzaCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGRhc2hPYmogPSB7XHJcblx0XHRcdFx0XHRpZDogaURhc2gsXHJcblx0XHRcdFx0XHRmdWxsTmFtZTogZGFzaCxcclxuXHRcdFx0XHRcdHRleHQ6IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZXh0cmFjdFJlcG9ydE5hbWUoZGFzaClcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGN1cnJlbnREYXNoYm9hcmRzQ29sbGVjdGlvbi5wdXNoKGRhc2hPYmopO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5sb2NhdGlvbi5nZXRWYWx1ZSgpLmlzTmV3KVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGlmIChkYXNoID09PSBjdXJyZW50RGFzaGJvYXJkTmFtZSlcclxuXHRcdFx0XHRcdGN1cnJlbnREYXNoYm9hcmQgPSBkYXNoT2JqO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuY3VycmVudENhdGVnb3J5Lm9uTmV4dChjdXJyZW50RGFzaGJvYXJkc0NvbGxlY3Rpb24pO1xyXG5cdFx0dGhpcy5jdXJyZW50RGFzaGJvYXJkLm9uTmV4dChjdXJyZW50RGFzaGJvYXJkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvY2F0aW9uIGNoYW5nZWQgaGFuZGxlcjpcclxuXHQgKiAxLiBMb2FkIGNhdGVnb3JpZXMuXHJcblx0ICogMi4gQ3JlYXRlL09wZW4gZGFzaGJvYXJkLlxyXG5cdCAqIDMuIE5hdmlnYXRlIHRvIGRlZmF1bHQgZGFzaGJvYXJkIGlmIHNvbWV0aGluZyB3ZW50IHdyb25nIChkYXNoYm9hcmQgbm90IGV4aXN0cywgb3IgdXJsIHBhcmFtZXRlcnMgbm90IHNldCkuXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG5ld0xvY2F0aW9uIGxvY2F0aW9uIGluZm8gb2JqZWN0XHJcblx0ICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVGcm9tU291cmNlIGlzIHJlbG9hZCB0aWxlcyBmcm9tIGl0cyBzb3VyY2VzIHJlcXVpcmVkP1xyXG5cdCAqL1xyXG5cdF8kb25Mb2NhdGlvbkNoYW5nZWQobmV3TG9jYXRpb24sIHVwZGF0ZUZyb21Tb3VyY2UpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYVJzUXVlcnlTZXJ2aWNlLmNhbmNlbEFsbFF1ZXJpZXMoKTtcclxuXHRcdHRoaXMubW9kZWwub25OZXh0KG51bGwpO1xyXG5cdFx0dGhpcy5fbG9hZENhdGVnb3JpZXMoKS50aGVuKCgpID0+IHtcclxuXHRcdFx0aWYgKG5ld0xvY2F0aW9uLmlzTmV3KSB7XHJcblx0XHRcdFx0dGhpcy5fbmV3RGFzaGJvYXJkKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHZhbGlkYXRlIHJlcG9ydCBmdWxsIG5hbWU6XHJcblx0XHRcdGNvbnN0IHdhbnRlZEZ1bGxOYW1lID0gdGhpcy5fZ2V0V2FudGVkUmVwb3J0RnVsbE5hbWUobmV3TG9jYXRpb24pO1xyXG5cdFx0XHRpZiAoIXdhbnRlZEZ1bGxOYW1lKSB7XHJcblx0XHRcdFx0dGhpcy5uYXZpZ2F0ZU5ld0Rhc2hib2FyZCgpOyAvLyBjaGFuZ2UgdXJsIHRvIFwiP2lzTmV3PTFcIlxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAobmV3TG9jYXRpb24uZnVsbE5hbWUgPT09IHdhbnRlZEZ1bGxOYW1lKSB7XHJcblx0XHRcdFx0Ly8gd2FudGVkIHJlcG9ydCBhbmQgcmVwb3J0IGZyb20gdGhlIGxvY2F0aW9uIGFyZSB0aGUgc2FtZSAtIG9wZW4gZGFzaGJvYXJkLlxyXG5cdFx0XHRcdHRoaXMubG9hZERhc2hib2FyZEludGVybmFsKHdhbnRlZEZ1bGxOYW1lLCAhIXVwZGF0ZUZyb21Tb3VyY2UpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChuZXdMb2NhdGlvbi5mdWxsTmFtZSkge1xyXG5cdFx0XHRcdFx0Ly8gc2hvdyBub3RpZmljYXRpb24gdG8gYSB1c2VyIGlmIHdlIGNoYW5nZSB0aGUgbG9jYXRpb24gZnJvbSB3cm9uZyByZXBvcnQgdG8gZGVmYXVsdC5cclxuXHRcdFx0XHRcdGxldCBtZXNzYWdlID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRUb0xvYWREYXNoYm9hcmQnLFxyXG5cdFx0XHRcdFx0XHQnRmFpbGVkIHRvIGxvYWQgZGFzaGJvYXJkIFwiezB9XCIuIE9wZW5pbmcgZGVmYXVsdCBkYXNoYm9hcmQgXCJ7MX1cIi4nKTtcclxuXHRcdFx0XHRcdG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoJ3swfScsIG5ld0xvY2F0aW9uLmZ1bGxOYW1lKTtcclxuXHRcdFx0XHRcdG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoJ3sxfScsIHdhbnRlZEZ1bGxOYW1lKTtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihtZXNzYWdlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5uYXZpZ2F0ZVRvRGFzaGJvYXJkKHdhbnRlZEZ1bGxOYW1lKTsgLy8gY2hhbmdlIHVybCB0byBcIj9ybj1kZWZhdWx0X2Rhc2hib2FyZFwiXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBkYXNoYm9hcmQgY2F0ZWdvcmllc1xyXG5cdCAqL1xyXG5cdF9sb2FkQ2F0ZWdvcmllcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLmxvYWREYXNoYm9hcmROYXZpZ2F0aW9uTmV3KCkudGhlbihcclxuXHRcdFx0XHQoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdFx0XHRcdHJlamVjdChgRmFpbGVkIHRvIGxvYWQgZGFzaGJvYXJkIGNhdGVnb3JpZXMuIFJlc3VsdDogJHtkYXRhfWApO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsZXQgaWRDb3VudGVyID0gMDtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld0NhdGVnb3JpZXM6IGFueSA9IFtdO1xyXG5cdFx0XHRcdFx0Zm9yIChsZXQgY2F0ZWdvcnkgaW4gZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeSkpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZGFzaGJvYXJkcyA9IGRhdGFbY2F0ZWdvcnldO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChkYXNoYm9hcmRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRhc2hib2FyZHMgPSBkYXNoYm9hcmRzLmZpbHRlcihkYXNoID0+IGRhc2ggJiYgZGFzaCAhPT0gJycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXRlbSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ6IGlkQ291bnRlcisrLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBjYXRlZ29yeSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGFzaGJvYXJkczogZGFzaGJvYXJkc1xyXG5cdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIHNvcnQgXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMuJGl6ZW5kYURhc2hib2FyZENvbmZpZy5kYXNoYm9hcmRUb29sQmFySXRlbXNTb3J0KSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXRlbS5kYXNoYm9hcmRzLnNvcnQoKGl0ZW0xLCBpdGVtMikgPT4gdGhpcy4kaXplbmRhRGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZFRvb2xCYXJJdGVtc1NvcnQoaXRlbTEsIGl0ZW0yKSk7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXdDYXRlZ29yaWVzLnB1c2goaXRlbSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmNhdGVnb3JpZXMub25OZXh0KG5ld0NhdGVnb3JpZXMsIHRoaXMpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSh0aGlzLmNhdGVnb3JpZXMpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZXJyb3IgPT4ge1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yTWVzc2FnZSA9XHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRGFzaGJvYXJkTG9hZENhdHNFcnJvcicsICdGYWlsZWQgdG8gZ2V0IGRhc2hib2FyZCBjYXRlZ29yaWVzJyk7XHJcblx0XHRcdFx0XHRyZWplY3QoYCR7ZXJyb3JNZXNzYWdlfTogJHtlcnJvcn1gKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0X3NldEZpbHRlcnNSZWZyZXNoQ2FzY2FkaW5nSW50ZXJjZXB0b3IoKSB7XHJcblx0XHR3aW5kb3cuY2FzY2FkaW5nRmlsdGVyc0NoYW5nZWRDdXN0b21Db250ZXh0ID0gdGhpcztcclxuXHRcdC8vIHR1cm4gb2ZmIGxlZ2FjeSBmaWx0ZXJzIHF1ZXJpZXM6IHdlJ2xsIGRvIGl0IGJ5IG91cnNlbHZlcy5cclxuXHRcdHdpbmRvdy5jYXNjYWRpbmdGaWx0ZXJzQ2hhbmdlZEN1c3RvbSA9ICgpID0+IHtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihDYXNjYWRpbmdGaWx0ZXJzQ2hhbmdlZCkpIHtcclxuXHRcdFx0XHR3aW5kb3cucmVmcmVzaEZpbHRlcnNMYXN0R1VJRCA9IEdlbmVyYXRlR3VpZCgpO1xyXG5cdFx0XHRcdGNvbnN0IGpzb24gPSB0aGlzLmNyZWF0ZUpzb25Db25maWdGb3JTZW5kKCk7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkUXVlcnlTZXJ2aWNlLnN5bmNGaWx0ZXJzTmV3KGpzb24pLnRoZW4oZmlsdGVyc0RhdGEgPT4ge1xyXG5cdFx0XHRcdFx0Q2FzY2FkaW5nRmlsdGVyc0NoYW5nZWQoZmlsdGVyc0RhdGEsIGByZWZyZXNoY2FzY2FkaW5nZmlsdGVycy0ke3dpbmRvdy5yZWZyZXNoRmlsdGVyc0xhc3RHVUlEfWApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0X3NldEZpbHRlcnNEYXRhKGZpbHRlcnNEYXRhKSB7XHJcblx0XHQvLyBzZXQgbGVnYWN5IGZpbHRlcnMgZnJvbSByZXNwb25zZVxyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihHb3RGaWx0ZXJzRGF0YSkpIHtcclxuXHRcdFx0R290RmlsdGVyc0RhdGEoXHJcblx0XHRcdFx0YW5ndWxhci5pc09iamVjdChmaWx0ZXJzRGF0YSlcclxuXHRcdFx0XHRcdD8gZmlsdGVyc0RhdGFcclxuXHRcdFx0XHRcdDoge1xyXG5cdFx0XHRcdFx0XHRGaWx0ZXJzOiBbXSxcclxuXHRcdFx0XHRcdFx0U3VicmVwb3J0c0ZpbHRlcnM6IFtdLFxyXG5cdFx0XHRcdFx0XHRGaWx0ZXJMb2dpYzogJydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0J2dldGZpbHRlcnNkYXRhJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGRhc2hib2FyZCBjb25maWcgZnJvbSB0aGUgc2VydmVyIGFuZCBmaWxsIGRhc2hib2FyZCBtb2RlbC5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0RnVsbE5hbWUgZGFzaGJvYXJkIHJlcG9ydCBmdWxsIG5hbWUuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVGcm9tU291cmNlIGlzIHJlbG9hZCB0aWxlcyBmcm9tIGl0cyBzb3VyY2VzIHJlcXVpcmVkP1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZERhc2hib2FyZEludGVybmFsKHJlcG9ydEZ1bGxOYW1lLCB1cGRhdGVGcm9tU291cmNlKSB7XHJcblx0XHR0aGlzLl91cGRhdGVDdXJyZW50Q2F0ZWdvcnkoKTsgLy8gdXBkYXRlIGNhdGVnb3J5IG9iamVjdHNcclxuXHJcblx0XHQvLyBzdGFydCBsb2FkaW5nXHJcblx0XHR0aGlzLmlzTG9hZGVkLm9uTmV4dChmYWxzZSwgdGhpcyk7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRRdWVyeVNlcnZpY2UubG9hZERhc2hib2FyZE5ldyhyZXBvcnRGdWxsTmFtZSwgISF1cGRhdGVGcm9tU291cmNlKS50aGVuKGRhc2hib2FyZE1vZGVsID0+IHtcclxuXHRcdFx0aWYgKCFhbmd1bGFyLmlzT2JqZWN0KGRhc2hib2FyZE1vZGVsKSlcclxuXHRcdFx0XHR0aHJvdyBgRmFpbGVkIHRvIGxvYWQgZGFzaGJvYXJkICcke3JlcG9ydEZ1bGxOYW1lfSdgO1xyXG5cclxuXHRcdFx0Ly8gc2V0IGN1cnJlbnQgcmlnaHRzXHJcblx0XHRcdHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLnNldFJpZ2h0cyhkYXNoYm9hcmRNb2RlbC5lZmZlY3RpdmVSaWdodHMpO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5zZXRVc2VzSGlkZGVuQ29sdW1ucyhkYXNoYm9hcmRNb2RlbC51c2VzSGlkZGVuQ29sdW1ucyk7XHJcblxyXG5cdFx0XHQvLyB1cGRhdGUgbmFtZXNcclxuXHRcdFx0ZGFzaGJvYXJkTW9kZWwucmVwb3J0RnVsbE5hbWUgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0UmVwb3J0RnVsbE5hbWUoZGFzaGJvYXJkTW9kZWwucmVwb3J0TmFtZSwgZGFzaGJvYXJkTW9kZWwucmVwb3J0Q2F0ZWdvcnkpO1xyXG5cdFx0XHRkYXNoYm9hcmRNb2RlbC50aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xyXG5cdFx0XHRcdHRpbGUucmVwb3J0TmFtZSA9IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZXh0cmFjdFJlcG9ydE5hbWUodGlsZS5yZXBvcnRTZXROYW1lKTtcclxuXHRcdFx0XHR0aWxlLnJlcG9ydENhdGVnb3J5ID0gdGhpcy4kaXplbmRhVXJsU2VydmljZS5leHRyYWN0UmVwb3J0Q2F0ZWdvcnkodGlsZS5yZXBvcnRTZXROYW1lKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBzZXQgbGVnYWN5IGZpbHRlcnMgZnJvbSByZXNwb25zZVxyXG5cdFx0XHR0aGlzLl9zZXRGaWx0ZXJzRGF0YShkYXNoYm9hcmRNb2RlbC5maWx0ZXJzKTtcclxuXHJcblx0XHRcdC8vIG5vdGlmeSB0aGF0IG1vZGVsIHdhcyBjaGFuZ2VkIGFuZCByZXBvcnQgd2FzIGxvYWRlZFxyXG5cdFx0XHR0aGlzLm1vZGVsLm9uTmV4dChkYXNoYm9hcmRNb2RlbCwgdGhpcyk7XHJcblxyXG5cdFx0XHQvLyBzaG93IGhpZGRlbiBjb2x1bW5zIHdhcm5pbmdcclxuXHRcdFx0aWYgKHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzVXNlc0hpZGRlbkNvbHVtbnMoKSkge1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd01lc3NhZ2VEaWFsb2coXHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoXHJcblx0XHRcdFx0XHRcdCdqc19kYXNoYm9hcmRVc2VzSGlkZGVuQ29sdW1ucycsXHJcblx0XHRcdFx0XHRcdCdEYXNoYm9hcmQgY29udGFpbnMgdGlsZSB3aXRoIHJlcG9ydCB3aGljaCBjb250YWlucyB1bmF2YWlsYWJsZSBmaWVsZHMuIFBsZWFzZSByZS1zYXZlIG9yaWdpbmFsIHJlcG9ydCBvciBjaG9zZSBhbm90aGVyIG9uZS4nKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuaXNMb2FkZWQub25OZXh0KHRydWUsIHRoaXMpO1xyXG5cclxuXHRcdH0sIGVycm9yID0+IHtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19MYXlvdXRMb2FkRXJyb3InLCAnRmFpbGVkIHRvIGxvYWQgZGFzaGJvYXJkIGxheW91dCcpO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhgJHtlcnJvck1lc3NhZ2V9OiAke2Vycm9yfWApO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgbmV3IGRhc2hib2FyZC5cclxuXHQgKi9cclxuXHRfbmV3RGFzaGJvYXJkKCkge1xyXG5cdFx0dGhpcy5fdXBkYXRlQ3VycmVudENhdGVnb3J5KCk7IC8vIHVwZGF0ZSBjYXRlZ29yeSBvYmplY3RzXHJcblxyXG5cdFx0dGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2Uuc2V0UmlnaHRzKCdGdWxsIEFjY2VzcycpO1xyXG5cdFx0Y29uc3QgbmV3TW9kZWxJbnN0YW5jZSA9IEl6ZW5kYURhc2hib2FyZE1vZGVsLmNyZWF0ZUluc3RhbmNlKHRydWUpO1xyXG5cdFx0Y29uc3Qgc2NoZWR1bGVQcm9taXNlID0gdGhpcy4kaXplbmRhU2NoZWR1bGVTZXJ2aWNlLnNldFNjaGVkdWxlQ29uZmlnKG51bGwpO1xyXG5cdFx0Y29uc3Qgc2hhcmVQcm9taXNlID0gdGhpcy4kaXplbmRhU2hhcmVTZXJ2aWNlLnNldFNoYXJlQ29uZmlnKG51bGwpO1xyXG5cdFx0dGhpcy4kcS5hbGwoW3NjaGVkdWxlUHJvbWlzZSwgc2hhcmVQcm9taXNlXSkudGhlbigoKSA9PiB7XHJcblx0XHRcdHRoaXMubW9kZWwub25OZXh0KG5ld01vZGVsSW5zdGFuY2UsIHRoaXMpO1xyXG5cdFx0XHR0aGlzLmlzTG9hZGVkLm9uTmV4dCh0cnVlLCB0aGlzKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5qZWN0TW9kdWxlcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZWdpc3Rlcihtb2R1bGU6IG5nLklNb2R1bGUpIHtcclxuXHRcdG1vZHVsZS5zZXJ2aWNlKCckaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UnLCBEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5pbmplY3RNb2R1bGVzLmNvbmNhdChEYXNoYm9hcmRTdG9yYWdlU2VydmljZSkpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYURhc2hib2FyZEJhY2tncm91bmRTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0YmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcblx0YmFja2dyb3VuZEltYWdlOiBzdHJpbmc7XHJcblx0YmFja2dyb3VuZEltYWdlUmVwZWF0OiBib29sZWFuO1xyXG5cdGh1ZVJvdGF0ZTogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIERhc2hib2FyZCBiYWNrZ3JvdW5kIGRpcmVjdGl2ZS4gVXNlZCB0byBzZXQgYmFja2dyb3VuZCBjb2xvciwgaW1hZ2UgYW5kIGh1ZSByb3RhdGUuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnRSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRiYWNrZ3JvdW5kQ29sb3I6ICc9JyxcclxuXHRcdGJhY2tncm91bmRJbWFnZTogJz0nLFxyXG5cdFx0YmFja2dyb3VuZEltYWdlUmVwZWF0OiAnPScsXHJcblx0XHRodWVSb3RhdGU6ICc9J1xyXG5cdH07XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYURhc2hib2FyZEJhY2tncm91bmQucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBpZCA9IFN0cmluZyhNYXRoLnJhbmRvbSgpKTtcclxuXHJcblx0XHRcdGxldCBvbGRNb3VzZVggPSAwO1xyXG5cdFx0XHRsZXQgb2xkTW91c2VZID0gMDtcclxuXHRcdFx0bGV0IGRlZ3JlZSA9IDA7XHJcblxyXG5cdFx0XHQvLyBlbnN1cmUgYmFja2dyb3VuZCB3YXMgYWRkZWRcclxuXHRcdFx0bGV0ICRiYWNrZ3JvdW5kID0gYW5ndWxhci5lbGVtZW50KCdib2R5ID4gLml6LWRhc2gtYmFja2dyb3VuZCcpO1xyXG5cdFx0XHRsZXQgJGRhc2hib2FyZHNEaXYgPSBhbmd1bGFyLmVsZW1lbnQoJyNpemVuZGFEYXNoYm9hcmRNYWluQ29udGFpbmVyJyk7XHJcblx0XHRcdGlmICgkYmFja2dyb3VuZC5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHQkYmFja2dyb3VuZCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIml6LWRhc2gtYmFja2dyb3VuZFwiPjwvZGl2PicpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLnByZXBlbmQoJGJhY2tncm91bmQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgYmFja2dyb3VuZFxyXG5cdFx0XHRjb25zdCB1cGRhdGVCYWNrZ3JvdW5kID0gKCkgPT4ge1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kID0gYW5ndWxhci5lbGVtZW50KCdib2R5ID4gLml6LWRhc2gtYmFja2dyb3VuZCcpO1xyXG5cdFx0XHRcdGlmICgkc2NvcGUuYmFja2dyb3VuZEltYWdlKVxyXG5cdFx0XHRcdFx0JGJhY2tncm91bmQuY3NzKCdiYWNrZ3JvdW5kJywgYHVybCgnJHskc2NvcGUuYmFja2dyb3VuZEltYWdlfScpYCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0JGJhY2tncm91bmQuY3NzKCdiYWNrZ3JvdW5kJywgJycpO1xyXG5cdFx0XHRcdGlmICgkc2NvcGUuYmFja2dyb3VuZEltYWdlUmVwZWF0KSB7XHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQtcmVwZWF0JywgJ3JlcGVhdCcpO1xyXG5cdFx0XHRcdFx0JGJhY2tncm91bmQuY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCAnaW5pdGlhbCcpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoJ2JhY2tncm91bmQtcmVwZWF0JywgJycpO1xyXG5cdFx0XHRcdFx0JGJhY2tncm91bmQuY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCAnJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICgkc2NvcGUuYmFja2dyb3VuZENvbG9yKVxyXG5cdFx0XHRcdFx0JGJhY2tncm91bmQuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJHNjb3BlLmJhY2tncm91bmRDb2xvcik7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0JGJhY2tncm91bmQuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gc2V0IGJhY2tncm91bmQgcG9zaXRpb25cclxuXHRcdFx0Y29uc3Qgc2V0QmFja2dyb3VuZFBvc2l0aW9uID0gKCkgPT4ge1xyXG5cdFx0XHRcdGxldCBuZXdCYWNrZ3JvdW5kVG9wID0gJGRhc2hib2FyZHNEaXYub2Zmc2V0KCkudG9wICsgNTAgLSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdFx0aWYgKG5ld0JhY2tncm91bmRUb3AgPCAwKSBuZXdCYWNrZ3JvdW5kVG9wID0gMDtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3Moe1xyXG5cdFx0XHRcdFx0Jy1tb3otYmFja2dyb3VuZC1wb3NpdGlvbi15JzogbmV3QmFja2dyb3VuZFRvcCArICdweCcsXHJcblx0XHRcdFx0XHQnLW8tYmFja2dyb3VuZC1wb3NpdGlvbi15JzogbmV3QmFja2dyb3VuZFRvcCArICdweCcsXHJcblx0XHRcdFx0XHQnYmFja2dyb3VuZC1wb3NpdGlvbi15JzogbmV3QmFja2dyb3VuZFRvcCArICdweCdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIEh1ZSBjYW4gdXNlIHJvdGF0ZVxyXG5cdFx0XHRjb25zdCBpc1RvZ2dsZUh1ZVJvdGF0ZUVuYWJsZWQgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgaXNDaHJvbWUgPSAvQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9Hb29nbGUgSW5jLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xyXG5cdFx0XHRcdGNvbnN0IGlzU2FmYXJpID0gL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XHJcblx0XHRcdFx0Y29uc3QgaXNGaXJlZm94ID0gL0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcblx0XHRcdFx0cmV0dXJuIGlzQ2hyb21lIHx8IGlzU2FmYXJpIHx8IGlzRmlyZWZveDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVHVybiBvZmYgYmFja2dyb3VuZCBodWUgcm90YXRlXHJcblx0XHRcdGNvbnN0IHJlc2V0Um90YXRlID0gKCkgPT4ge1xyXG5cdFx0XHRcdGNsZWFyVGltZW91dCgkd2luZG93Lmh1ZVJvdGF0ZVRpbWVPdXQpO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7ICctd2Via2l0LWZpbHRlcic6ICdodWUtcm90YXRlKCcgKyAnMCcgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJy1tb3otZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArICcwJyArICdkZWcpJyB9KTtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnLW8tZmlsdGVyJzogJ2h1ZS1yb3RhdGUoJyArICcwJyArICdkZWcpJyB9KTtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnLW1zLWZpbHRlcic6ICdodWUtcm90YXRlKCcgKyAnMCcgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJ2ZpbHRlcic6ICdodWUtcm90YXRlKCcgKyAnMCcgKyAnZGVnKScgfSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBSdW4gaHVlIHJvdGF0ZVxyXG5cdFx0XHRjb25zdCByb3RhdGUgPSAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFpc1RvZ2dsZUh1ZVJvdGF0ZUVuYWJsZWQoKSlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQkYmFja2dyb3VuZC5jc3MoeyAnLXdlYmtpdC1maWx0ZXInOiAnaHVlLXJvdGF0ZSgnICsgZGVncmVlICsgJ2RlZyknIH0pO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7ICctbW96LWZpbHRlcic6ICdodWUtcm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJy1vLWZpbHRlcic6ICdodWUtcm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScgfSk7XHJcblx0XHRcdFx0JGJhY2tncm91bmQuY3NzKHsgJy1tcy1maWx0ZXInOiAnaHVlLXJvdGF0ZSgnICsgZGVncmVlICsgJ2RlZyknIH0pO1xyXG5cdFx0XHRcdCRiYWNrZ3JvdW5kLmNzcyh7ICdmaWx0ZXInOiAnaHVlLXJvdGF0ZSgnICsgZGVncmVlICsgJ2RlZyknIH0pO1xyXG5cdFx0XHRcdCR3aW5kb3cuaHVlUm90YXRlVGltZU91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IGFkZFBhdGg6IG51bWJlcjtcclxuXHRcdFx0XHRcdGNvbnN0IGR4ID0gKCR3aW5kb3cubW91c2VYIC0gb2xkTW91c2VYKTtcclxuXHRcdFx0XHRcdGNvbnN0IGR5ID0gKCR3aW5kb3cubW91c2VZIC0gb2xkTW91c2VZKTtcclxuXHRcdFx0XHRcdGFkZFBhdGggPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG5cdFx0XHRcdFx0Y29uc3Qgd25kUGF0aCA9IE1hdGguc3FydCgkd2luZG93LmlubmVySGVpZ2h0ICogJHdpbmRvdy5pbm5lckhlaWdodCArICR3aW5kb3cuaW5uZXJXaWR0aCAqICR3aW5kb3cuaW5uZXJXaWR0aCk7XHJcblx0XHRcdFx0XHRhZGRQYXRoID0gYWRkUGF0aCAqIDM2MCAvIHduZFBhdGg7XHJcblx0XHRcdFx0XHRvbGRNb3VzZVggPSAkd2luZG93Lm1vdXNlWDtcclxuXHRcdFx0XHRcdG9sZE1vdXNlWSA9ICR3aW5kb3cubW91c2VZO1xyXG5cdFx0XHRcdFx0aWYgKGlzTmFOKGFkZFBhdGgpKVxyXG5cdFx0XHRcdFx0XHRhZGRQYXRoID0gMDtcclxuXHRcdFx0XHRcdGRlZ3JlZSArPSA2ICsgYWRkUGF0aDtcclxuXHRcdFx0XHRcdHdoaWxlIChkZWdyZWUgPiAzNjApXHJcblx0XHRcdFx0XHRcdGRlZ3JlZSAtPSAzNjA7XHJcblx0XHRcdFx0XHRyb3RhdGUoKTtcclxuXHRcdFx0XHR9LCAxMDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBydW4gYmFja2dyb3VuZFxyXG5cdFx0XHRzZXRCYWNrZ3JvdW5kUG9zaXRpb24oKTtcclxuXHJcblx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbignc2Nyb2xsLicgKyBpZCwgKCkgPT4gc2V0QmFja2dyb3VuZFBvc2l0aW9uKCkpO1xyXG5cclxuXHRcdFx0dXBkYXRlQmFja2dyb3VuZCgpO1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2ggYmluZGluZ3MgY2hhbmdlZFxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdiYWNrZ3JvdW5kQ29sb3InLCAoKSA9PiB1cGRhdGVCYWNrZ3JvdW5kKCkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdiYWNrZ3JvdW5kSW1hZ2UnLCAoKSA9PiB1cGRhdGVCYWNrZ3JvdW5kKCkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdiYWNrZ3JvdW5kSW1hZ2VSZXBlYXQnLCAoKSA9PiB1cGRhdGVCYWNrZ3JvdW5kKCkpO1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdodWVSb3RhdGUnLCBuZXdWYWwgPT4ge1xyXG5cdFx0XHRcdGlmIChuZXdWYWwpIHJvdGF0ZSgpO1xyXG5cdFx0XHRcdGVsc2UgcmVzZXRSb3RhdGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Njcm9sbC4nICsgaWQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UpID0+IG5ldyBJemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kKCR3aW5kb3cpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblx0fVxyXG59XHJcblxyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuZGlyZWN0aXZlKCdpemVuZGFEYXNoYm9hcmRCYWNrZ3JvdW5kJywgWyckd2luZG93JywgSXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZC5mYWN0b3J5KCldKTtcclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIElJemVuZGFUaWxlVG9wU2xpZGVyU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGRpc2FibGVkOiBhbnk7XHJcblx0cmVuZGVyZWQ6IGFueTtcclxuXHRuZ01vZGVsOiBhbnk7XHJcblx0c2hvd0l0ZW1BbGw6IGFueTtcclxuXHRvbkNoYW5nZUVuZDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogU2xpZGVyIGZvciBzZWxlY3RpbmcgdG9wIHZhbHVlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhVGlsZVRvcFNsaWRlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHJlcXVpcmUgPSBbJ25nTW9kZWwnXTtcclxuXHRzY29wZSA9IHtcclxuXHRcdGRpc2FibGVkOiAnPScsXHJcblx0XHRyZW5kZXJlZDogJz0nLFxyXG5cdFx0bmdNb2RlbDogJz0nLFxyXG5cdFx0c2hvd0l0ZW1BbGw6ICc9JyxcclxuXHRcdG9uQ2hhbmdlRW5kOiAnJidcclxuXHR9O1xyXG5cdHRlbXBsYXRlID0gJzxpbnB1dD48L2lucHV0Pic7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUaWxlVG9wU2xpZGVyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0SXplbmRhVGlsZVRvcFNsaWRlci5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUaWxlVG9wU2xpZGVyU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdGxldCBzbGlkZXIgPSBudWxsO1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSB2YWx1ZXMgYXJyYXlcclxuXHRcdFx0bGV0IHZhbHVlc0FycmF5OiBBcnJheTxzdHJpbmcgfCBudW1iZXI+ID0gW107XHJcblx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IDEwOyBpKyspXHJcblx0XHRcdFx0dmFsdWVzQXJyYXkucHVzaChpKTtcclxuXHRcdFx0Zm9yIChsZXQgaiA9IDIwOyBqIDw9IDEwMDsgaiA9IGogKyAxMClcclxuXHRcdFx0XHR2YWx1ZXNBcnJheS5wdXNoKGopO1xyXG5cdFx0XHR2YWx1ZXNBcnJheS5wdXNoKDI1MCk7XHJcblx0XHRcdHZhbHVlc0FycmF5LnB1c2goNTAwKTtcclxuXHRcdFx0dmFsdWVzQXJyYXkucHVzaCgxMDAwKTtcclxuXHRcdFx0dmFsdWVzQXJyYXkucHVzaCg1MDAwKTtcclxuXHRcdFx0dmFsdWVzQXJyYXkucHVzaCgxMDAwMCk7XHJcblx0XHRcdHZhbHVlc0FycmF5LnB1c2goJ0FMTCcpO1xyXG5cclxuXHRcdFx0Ly8gY29udmVydCB2YWx1ZSBmcm9tIHZhbHVlcyBhcnJheSB0byB0aGUgbnVtYmVyXHJcblx0XHRcdGNvbnN0IGNvbnZlcnRGcm9tVG9WYWx1ZSA9ICh2YWx1ZXNBcnJheUluZGV4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG5cdFx0XHRcdGxldCB2YWw6IHN0cmluZyB8IG51bWJlciA9IHZhbHVlc0FycmF5W3ZhbHVlc0FycmF5SW5kZXhdO1xyXG5cdFx0XHRcdGlmICh2YWwgPT09ICdBTEwnKSB2YWwgPSAtMTtcclxuXHRcdFx0XHRyZXR1cm4gTnVtYmVyKHZhbCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBhZGQgbmV3IHZhbHVlIHRvIHRoZSB2YWx1ZXNBcnJheVxyXG5cdFx0XHRjb25zdCBhcHBlbmRWYWx1ZVRvRnJvbUFycmF5ID0gKHZhbHVlOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuXHRcdFx0XHRjb25zdCBpbmRleCA9IHZhbHVlID4gMCA/IHZhbHVlc0FycmF5LmluZGV4T2YodmFsdWUpIDogdmFsdWVzQXJyYXkuaW5kZXhPZignQUxMJyk7XHJcblx0XHRcdFx0aWYgKGluZGV4ID49IDApXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHVwZGF0ZWRBcnJheTogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPiA9IFtdO1xyXG5cdFx0XHRcdHZhbHVlc0FycmF5LmZvckVhY2goY3VyclZhbHVlID0+IHtcclxuXHRcdFx0XHRcdGlmIChjdXJyVmFsdWUgPiB2YWx1ZSAmJiB1cGRhdGVkQXJyYXkuaW5kZXhPZih2YWx1ZSkgPCAwKVxyXG5cdFx0XHRcdFx0XHR1cGRhdGVkQXJyYXkucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVkQXJyYXkucHVzaChjdXJyVmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHZhbHVlc0FycmF5ID0gdXBkYXRlZEFycmF5O1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gY29udmVydCBudW1iZXIgaW50byB2YWx1ZXMgYXJyYXkgdmFsdWUgYW5kIHJldHVybiBpbmRleCBvZiB0aGUgZm91bmQgdmFsdWUuXHJcblx0XHRcdGNvbnN0IGNvbnZlcnRBbmRHZXRWYWx1ZXNBcnJheUluZGV4ID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG5cdFx0XHRcdGxldCBpbmRleCA9IHZhbHVlID4gMCA/IHZhbHVlc0FycmF5LmluZGV4T2YodmFsdWUpIDogdmFsdWVzQXJyYXkuaW5kZXhPZignQUxMJyk7XHJcblx0XHRcdFx0aWYgKGluZGV4IDwgMClcclxuXHRcdFx0XHRcdGluZGV4ID0gdmFsdWVzQXJyYXkuaW5kZXhPZignQUxMJyk7XHJcblx0XHRcdFx0cmV0dXJuIGluZGV4O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBzbGlkZXJcclxuXHRcdFx0Y29uc3QgaW5pdGlhbGl6ZVNsaWRlciA9ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCAkaW5wdXQgPSAkZWxlbWVudC5jaGlsZHJlbignaW5wdXQnKTtcclxuXHRcdFx0XHRhcHBlbmRWYWx1ZVRvRnJvbUFycmF5KCRzY29wZS5uZ01vZGVsKTsgLy8gYWRkIGN1cnJlbnQgdmFsdWUgdG8gdGhlIHZhbHVlc0FycmF5IGlmIG5vIGV4aXN0LlxyXG5cdFx0XHRcdCRpbnB1dC52YWwoJycpO1xyXG5cdFx0XHRcdCRpbnB1dFsnaW9uUmFuZ2VTbGlkZXInXSh7XHJcblx0XHRcdFx0XHRkaXNhYmxlOiAkc2NvcGUuZGlzYWJsZWQsXHJcblx0XHRcdFx0XHRncmlkOiB0cnVlLFxyXG5cdFx0XHRcdFx0aGlkZV9taW5fbWF4OiB0cnVlLFxyXG5cdFx0XHRcdFx0ZnJvbTogY29udmVydEFuZEdldFZhbHVlc0FycmF5SW5kZXgoJHNjb3BlLm5nTW9kZWwpLFxyXG5cdFx0XHRcdFx0dmFsdWVzOiB2YWx1ZXNBcnJheSxcclxuXHRcdFx0XHRcdG9uRmluaXNoOiBkYXRhID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBjb252ZXJ0RnJvbVRvVmFsdWUoZGF0YS5mcm9tKTtcclxuXHRcdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25DaGFuZ2VFbmQpKVxyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS5vbkNoYW5nZUVuZCh7IG5ld1RvcDogdmFsdWUgfSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0c2xpZGVyID0gJGlucHV0LmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0IHZhbHVlIHRvIHNsaWRlclxyXG5cdFx0XHRjb25zdCBzZXRTbGlkZXJWYWx1ZSA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFzbGlkZXIpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Ly8gYWRkIHZhbHVlIHRvIHRoZSB2YWx1ZXMgYXJyYXkgaWYgbm90IGV4aXN0LlxyXG5cdFx0XHRcdGlmIChhcHBlbmRWYWx1ZVRvRnJvbUFycmF5KHZhbHVlKSlcclxuXHRcdFx0XHRcdHNsaWRlci51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHR2YWx1ZXM6IHZhbHVlc0FycmF5XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjb25zdCBmcm9tID0gY29udmVydEFuZEdldFZhbHVlc0FycmF5SW5kZXgodmFsdWUpO1xyXG5cdFx0XHRcdHNsaWRlci51cGRhdGUoe1xyXG5cdFx0XHRcdFx0ZnJvbTogZnJvbVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gd2F0Y2hlczogXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ25nTW9kZWwnLCAobmV3VmFsdWU6IG51bWJlcikgPT4gc2V0U2xpZGVyVmFsdWUobmV3VmFsdWUpKTtcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnc2hvd0l0ZW1BbGwnLCB2YWx1ZSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgaXNBbGxFbGVtZW50RXhpc3RzID0gdmFsdWVzQXJyYXkuaW5kZXhPZignQUxMJykgPj0gMDtcclxuXHRcdFx0XHRpZiAoaXNBbGxFbGVtZW50RXhpc3RzICYmICF2YWx1ZSlcclxuXHRcdFx0XHRcdHZhbHVlc0FycmF5LnBvcCgpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKCFpc0FsbEVsZW1lbnRFeGlzdHMgJiYgdmFsdWUpXHJcblx0XHRcdFx0XHR2YWx1ZXNBcnJheS5wdXNoKCdBTEwnKTtcclxuXHRcdFx0XHRpZiAoc2xpZGVyKVxyXG5cdFx0XHRcdFx0c2xpZGVyLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdHZhbHVlczogdmFsdWVzQXJyYXlcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3JlbmRlcmVkJywgKHZhbHVlOiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0aWYgKHZhbHVlKVxyXG5cdFx0XHRcdFx0aW5pdGlhbGl6ZVNsaWRlcigpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKHNsaWRlcikge1xyXG5cdFx0XHRcdFx0c2xpZGVyLmRlc3Ryb3koKTtcclxuXHRcdFx0XHRcdHNsaWRlciA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2Rpc2FibGVkJywgKHZhbHVlOiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0aWYgKHNsaWRlcilcclxuXHRcdFx0XHRcdHNsaWRlci51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRkaXNhYmxlOiB2YWx1ZVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gbWV0aG9kXHJcblx0XHRcdCRlbGVtZW50Lm9uKCckZGVzdHJveScsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoc2xpZGVyKSB7XHJcblx0XHRcdFx0XHRzbGlkZXIuZGVzdHJveSgpO1xyXG5cdFx0XHRcdFx0c2xpZGVyID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdHJldHVybiAoKSA9PiBuZXcgSXplbmRhVGlsZVRvcFNsaWRlcigpO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVGlsZVRvcFNsaWRlcicsIFtJemVuZGFUaWxlVG9wU2xpZGVyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFNlcnZpY2UgZnJvbSAnY29tbW9uL2NvcmUvc2VydmljZXMvdXRpbC1zZXJ2aWNlJztcclxuXHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuXHJcbmludGVyZmFjZSBJSXplbmRhVG9vbGJhckZvbGRlck1lbnVBY2NvcmRpb25TY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0Y2F0ZWdvcmllczogYW55O1xyXG5cdGdldENhdGVnb3J5Q2xhc3M6IGFueTtcclxuXHRnZXRDYXRlZ29yeUl0ZW1DbGFzczogYW55O1xyXG5cdGV4dHJhY3RSZXBvcnROYW1lOiBhbnk7XHJcblx0Z29Ub0Rhc2hib2FyZDogYW55O1xyXG5cdHRvZ2dsZUFjY29yZGlvbjogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogRGFzaGJvYXJkIHRvb2xiYXIgd2l0aCBhYmlsaXR5IHRvIHNjcm9sbC4gVXNlZCBmb3IgbmF2aWdhdGlvbiBiZXR3ZWVuIGRhc2hib2FyZHMuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvbiBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0Y2F0ZWdvcmllczogJz0nXHJcblx0fTtcclxuXHR0ZW1wbGF0ZVVybCA9ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5kaXJlY3RpdmVzLnRvb2xiYXItZm9sZGVyLW1lbnUtYWNjb3JkaW9uLmh0bWwnO1xyXG5cclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhVG9vbGJhckZvbGRlck1lbnVBY2NvcmRpb25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXJsU2VydmljZTogSXplbmRhVXJsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxTZXJ2aWNlOiBJemVuZGFVdGlsU2VydmljZSkge1xyXG5cdFx0SXplbmRhVG9vbGJhckZvbGRlck1lbnVBY2NvcmRpb24ucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhVG9vbGJhckZvbGRlck1lbnVBY2NvcmRpb25TY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHRcdFx0Ly8gYWRkIGNhdGVnb3J5ICdpbicgY2xhc3MgZm9yIGN1cnJlbnRDYXRlZ29yeVxyXG5cdFx0XHQkc2NvcGUuZ2V0Q2F0ZWdvcnlDbGFzcyA9IChpbmRleDogbnVtYmVyKTogc3RyaW5nID0+XHJcblx0XHRcdFx0JGl6ZW5kYVV0aWxTZXJ2aWNlLmlzQ2F0ZWdvcmllc0VxdWFsKCRzY29wZS5jYXRlZ29yaWVzW2luZGV4XS5uYW1lLCAkaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCkuY2F0ZWdvcnkpID8gJ2luJyA6ICcnO1xyXG5cclxuXHRcdFx0Ly8gZ2V0IGNhdGVnb3J5IGl0ZW0gYWN0aXZhdGVkIG9yIG5vdCBjbGFzc1xyXG5cdFx0XHQkc2NvcGUuZ2V0Q2F0ZWdvcnlJdGVtQ2xhc3MgPSAoaXRlbU5hbWU6IHN0cmluZyk6IHN0cmluZyA9PlxyXG5cdFx0XHRcdGl0ZW1OYW1lID09PSAkaXplbmRhVXJsU2VydmljZS5nZXRSZXBvcnRJbmZvKCkuZnVsbE5hbWUgPyAnYWN0aXZlJyA6ICcnO1xyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIGNhdGVnb3J5IHBhcnQgZnJvbSByZXBvcnQgbmFtZVxyXG5cdFx0XHQkc2NvcGUuZXh0cmFjdFJlcG9ydE5hbWUgPSAoZnVsbE5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiAkaXplbmRhVXJsU2VydmljZS5leHRyYWN0UmVwb3J0TmFtZShmdWxsTmFtZSk7XHJcblxyXG5cdFx0XHQvLyBuYXZpZ2F0ZSB0byBkYXNoYm9hcmRcclxuXHRcdFx0JHNjb3BlLmdvVG9EYXNoYm9hcmQgPSAoZGFzaGJvYXJkOiBzdHJpbmcpOiB2b2lkID0+ICRpemVuZGFVcmxTZXJ2aWNlLnNldFJlcG9ydEZ1bGxOYW1lKGRhc2hib2FyZCk7XHJcblxyXG5cdFx0XHQvLyB0b2dnbGUgYWNjb3JkaW9uIGhhbmRsZXJcclxuXHRcdFx0JHNjb3BlLnRvZ2dsZUFjY29yZGlvbiA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgJGNhdGVnb3J5Q29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50LmNoaWxkcmVuKClbaW5kZXhdKTtcclxuXHRcdFx0XHRjb25zdCAkY2F0ZWdvcnkgPSAkY2F0ZWdvcnlDb250YWluZXIuZmluZCgnLmNhdGVnb3J5Jyk7XHJcblx0XHRcdFx0aWYgKCRjYXRlZ29yeS5oYXNDbGFzcygnaW4nKSlcclxuXHRcdFx0XHRcdCRjYXRlZ29yeS5yZW1vdmVDbGFzcygnaW4nKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHQkY2F0ZWdvcnkuYWRkQ2xhc3MoJ2luJyk7XHJcblx0XHRcdFx0aWYgKCRjYXRlZ29yeS5oYXNDbGFzcygnaW4nKSlcclxuXHRcdFx0XHRcdCRjYXRlZ29yeUNvbnRhaW5lci5jbG9zZXN0KCcuaXotZGFzaC1kYXNoYm9hcmRzLWRyb3Bkb3duLWNvbnRhaW5lcicpLmFuaW1hdGUoe1xyXG5cdFx0XHRcdFx0XHRzY3JvbGxUb3A6ICRjYXRlZ29yeUNvbnRhaW5lci5wb3NpdGlvbigpLnRvcCAtICRjYXRlZ29yeUNvbnRhaW5lci5wYXJlbnQoKS5wb3NpdGlvbigpLnRvcFxyXG5cdFx0XHRcdFx0fSwgNTAwKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9IChcclxuXHRcdFx0JHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdFx0JGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRcdCRpemVuZGFVdGlsU2VydmljZTogSXplbmRhVXRpbFNlcnZpY2UpID0+XHJcblx0XHRcdG5ldyBJemVuZGFUb29sYmFyRm9sZGVyTWVudUFjY29yZGlvbigkdGltZW91dCwgJGl6ZW5kYVVybFNlcnZpY2UsICRpemVuZGFVdGlsU2VydmljZSk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxTZXJ2aWNlJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVG9vbGJhckZvbGRlck1lbnVBY2NvcmRpb24nLCBbJyR0aW1lb3V0JywgJyRpemVuZGFVcmxTZXJ2aWNlJywgJyRpemVuZGFVdGlsU2VydmljZScsXHJcblx0SXplbmRhVG9vbGJhckZvbGRlck1lbnVBY2NvcmRpb24uZmFjdG9yeSgpXSk7XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdHRvb2xiYXJJdGVtczogYW55W107XHJcblx0dG9vbGJhckFjdGl2ZUl0ZW06IGFueTtcclxuXHR0b29sYmFyQWN0aXZlSXRlbUNoYW5nZUNvdW50ZXI6IGFueTtcclxuXHRvbkNsaWNrOiBhbnk7XHJcblx0ZXF1YWxzRnVuYzogYW55O1xyXG5cdGdldFRpdGxlOiBhbnk7XHJcblxyXG5cdG1vdmVUbzogKGFueSkgPT4gdm9pZDtcclxuXHRtb3ZlUmlnaHQ6ICgpID0+IHZvaWQ7XHJcblx0bW92ZUxlZnQ6ICgpID0+IHZvaWQ7XHJcblx0Z2V0TGlDbGFzczogKGFueSkgPT4gc3RyaW5nO1xyXG5cdGlzQnV0dG9uc1Zpc2libGU6ICgpID0+IGJvb2xlYW47XHJcblx0cmVmcmVzaEJ1dHRvbnNXaWR0aDogYm9vbGVhbjtcclxuXHRzdW1XaWR0aDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogRGFzaGJvYXJkIHRvb2xiYXIgd2l0aCBhYmlsaXR5IHRvIHNjcm9sbC4gVXNlZCBmb3IgbmF2aWdhdGlvbiBiZXR3ZWVuIGRhc2hib2FyZHMuXHJcbiAqL1xyXG5jbGFzcyBJemVuZGFUb29sYmFyTGlua3NQYW5lbCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0EnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0dG9vbGJhckl0ZW1zOiAnPScsXHJcblx0XHR0b29sYmFyQWN0aXZlSXRlbTogJz0nLFxyXG5cdFx0dG9vbGJhckFjdGl2ZUl0ZW1DaGFuZ2VDb3VudGVyOiAnPScsXHJcblx0XHRvbkNsaWNrOiAnJicsXHJcblx0XHRlcXVhbHNGdW5jOiAnJicsXHJcblx0XHRnZXRUaXRsZTogJyYnXHJcblx0fTtcclxuXHR0ZW1wbGF0ZVVybCA9ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5kaXJlY3RpdmVzLnRvb2xiYXItbGlua3MtcGFuZWwuaHRtbCc7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUb29sYmFyTGlua3NQYW5lbFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsIHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0ICRzbGlkZVNjcm9sbENvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgkZWxlbWVudCkuZmluZCgnLml6LWRhc2gtbGlua3NwYW5lbC1uYXZiYXItMicpO1xyXG5cclxuXHRcdFx0Y29uc3QgJHNsaWRlQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KS5maW5kKCcuaXotZGFzaC1saW5rc3BhbmVsLW5hdmJhci0zJyk7XHJcblxyXG5cdFx0XHRjb25zdCBnZXRNaW5MZWZ0ID0gKCkgPT4gJHNsaWRlU2Nyb2xsQ29udGFpbmVyLndpZHRoKCkgLSAkc2xpZGVDb250YWluZXIud2lkdGgoKSAtIDgwO1xyXG5cclxuXHRcdFx0Y29uc3QgZ2V0TWF4TGVmdCA9ICgpID0+IDA7XHJcblxyXG5cdFx0XHRjb25zdCBzZXRMZWZ0VmFsdWUgPSAodmFsdWU6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRcdCRzbGlkZUNvbnRhaW5lci5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgTWF0aC5mbG9vcih2YWx1ZSkgKyAncHgsIDBweCwgMHB4KScpO1xyXG5cdFx0XHRcdCRzbGlkZUNvbnRhaW5lci5hdHRyKCd0cmFuc2Zvcm0tbGVmdCcsIE1hdGguZmxvb3IodmFsdWUpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgcmVzcGVjdEVkZ2VzID0gKHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG5cdFx0XHRcdGxldCByZXN1bHQgPSBwb3NpdGlvbjtcclxuXHRcdFx0XHRyZXN1bHQgPSBNYXRoLm1heChyZXN1bHQsIGdldE1pbkxlZnQoKSk7XHJcblx0XHRcdFx0cmVzdWx0ID0gTWF0aC5taW4ocmVzdWx0LCBnZXRNYXhMZWZ0KCkpO1xyXG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG1vdmUgdG9vbGJhciBidXR0b25zIGxlZnQgb3IgcmlnaHRcclxuXHRcdFx0Y29uc3QgbW92ZU1lbnVJdGVtcyA9IChsZWZ0RGVsdGE6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGxlZnRTdHJpbmcgPSAkc2xpZGVDb250YWluZXIuYXR0cigndHJhbnNmb3JtLWxlZnQnKTtcclxuXHRcdFx0XHRsZXQgbGVmdE51bWJlciA9IDA7XHJcblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcobGVmdFN0cmluZykpXHJcblx0XHRcdFx0XHRsZWZ0TnVtYmVyID0gcGFyc2VJbnQobGVmdFN0cmluZyk7XHJcblx0XHRcdFx0bGVmdE51bWJlciArPSBsZWZ0RGVsdGE7XHJcblx0XHRcdFx0bGVmdE51bWJlciA9IHJlc3BlY3RFZGdlcyhsZWZ0TnVtYmVyKTtcclxuXHRcdFx0XHRzZXRMZWZ0VmFsdWUobGVmdE51bWJlcik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG1vdmUgdG8gaXRlbVxyXG5cdFx0XHQkc2NvcGUubW92ZVRvID0gKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRpZiAoISRzY29wZS50b29sYmFySXRlbXMpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dmFyIGl0ZW1Ub01vdmUgPSBpdGVtO1xyXG5cdFx0XHRcdGlmICghaXRlbVRvTW92ZSAmJiAkc2NvcGUudG9vbGJhckl0ZW1zLmxlbmd0aCA+IDApXHJcblx0XHRcdFx0XHRpdGVtVG9Nb3ZlID0gJHNjb3BlLnRvb2xiYXJJdGVtc1skc2NvcGUudG9vbGJhckl0ZW1zLmxlbmd0aCAtIDFdO1xyXG5cclxuXHRcdFx0XHRpZiAoaXRlbVRvTW92ZSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgJGl0ZW0gPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQpLmZpbmQoJyNpekRhc2hUb29sYmFySXRlbScgKyBpdGVtVG9Nb3ZlLmlkKTtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW1MZWZ0ID0gJGl0ZW0ucG9zaXRpb24oKS5sZWZ0ICsgJGl0ZW0ud2lkdGgoKSAvIDI7XHJcblx0XHRcdFx0XHRsZXQgbGVmdE51bWJlciA9ICRzbGlkZVNjcm9sbENvbnRhaW5lci53aWR0aCgpIC8gMiAtIGl0ZW1MZWZ0O1xyXG5cdFx0XHRcdFx0bGVmdE51bWJlciA9IHJlc3BlY3RFZGdlcyhsZWZ0TnVtYmVyKTtcclxuXHRcdFx0XHRcdHNldExlZnRWYWx1ZShsZWZ0TnVtYmVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBtb3ZlIHJpZ2h0IGJ1dHRvblxyXG5cdFx0XHQkc2NvcGUubW92ZVJpZ2h0ID0gKCkgPT4gbW92ZU1lbnVJdGVtcygtNTAwKTtcclxuXHJcblx0XHRcdC8vIG1vdmUgbGVmdCBidXR0b25cclxuXHRcdFx0JHNjb3BlLm1vdmVMZWZ0ID0gKCkgPT4gbW92ZU1lbnVJdGVtcyg1MDApO1xyXG5cclxuXHRcdFx0Ly8gZ2V0IGFjdGl2ZSBsaSBjbGFzcyBcclxuXHRcdFx0JHNjb3BlLmdldExpQ2xhc3MgPSAoaXRlbSk6IHN0cmluZyA9PiAkc2NvcGUuZXF1YWxzRnVuYyh7IGFyZzA6IGl0ZW0sIGFyZzE6ICRzY29wZS50b29sYmFyQWN0aXZlSXRlbSB9KSA/ICdhY3RpdmUnIDogJyc7XHJcblxyXG5cdFx0XHQvLyBjaGVjayBsZWZ0IGFuZCByaWdodCBidXR0b25zIGlzIG5lZWRlZFxyXG5cdFx0XHQkc2NvcGUuaXNCdXR0b25zVmlzaWJsZSA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdFx0XHRpZiAoJHNjb3BlLnJlZnJlc2hCdXR0b25zV2lkdGgpIHtcclxuXHRcdFx0XHRcdCRzY29wZS5zdW1XaWR0aCA9IDA7XHJcblx0XHRcdFx0XHQkc2xpZGVDb250YWluZXIuZmluZCgnLml6LWRhc2gtbGlua3NwYW5lbC1uYXZiYXItaXRlbScpLmVhY2goKGlOYXZiYXJJdGVtLCBuYXZiYXJJdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5zdW1XaWR0aCArPSBhbmd1bGFyLmVsZW1lbnQobmF2YmFySXRlbSkud2lkdGgoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLnJlZnJlc2hCdXR0b25zV2lkdGggPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29uc3Qgd2lkdGggPSAkc2xpZGVTY3JvbGxDb250YWluZXIud2lkdGgoKTtcclxuXHRcdFx0XHRyZXR1cm4gd2lkdGggJiYgJHNjb3BlLnN1bVdpZHRoID4gd2lkdGg7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyB3YXRjaCB0b29sYmFyIGl0ZW0gY29sbGVjdGlvbiBjaGFuZ2VkXHJcblx0XHRcdCRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCd0b29sYmFySXRlbXMnLCAoKSA9PiB7XHJcblx0XHRcdFx0JHNjb3BlLnJlZnJlc2hCdXR0b25zV2lkdGggPSB0cnVlO1xyXG5cdFx0XHRcdCRzbGlkZUNvbnRhaW5lci5maW5kKCcuaXotZGFzaC1saW5rc3BhbmVsLW5hdmJhci1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBpZFN0ciA9IFN0cmluZyhhbmd1bGFyLmVsZW1lbnQoZS5kZWxlZ2F0ZVRhcmdldCkuYXR0cignaWQnKSk7XHJcblx0XHRcdFx0XHRjb25zdCBpZCA9IHBhcnNlSW50KGlkU3RyLnNwbGl0KCdpekRhc2hUb29sYmFySXRlbScpWzFdKTtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW0gPSAkc2NvcGUudG9vbGJhckl0ZW1zLmZpbmQodG9vbGJhckl0ZW0gPT4gdG9vbGJhckl0ZW0uaWQgPT09IGlkKSB8fCBudWxsO1xyXG5cdFx0XHRcdFx0JHNjb3BlLm1vdmVUbyhpdGVtKTtcclxuXHRcdFx0XHRcdCRzY29wZS5vbkNsaWNrKHsgYXJnMDogaXRlbSB9KTtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHdhdGNoIGFjdGl2ZSBpdGVtIGNoYW5nZWRcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgndG9vbGJhckFjdGl2ZUl0ZW1DaGFuZ2VDb3VudGVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdCR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdCRzY29wZS5tb3ZlVG8oJHNjb3BlLnRvb2xiYXJBY3RpdmVJdGVtKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnRvb2xiYXJBY3RpdmVJdGVtKTtcclxuXHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyB3YXRjaCBhY3RpdmUgaXRlbSBjaGFuZ2VkXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ3Rvb2xiYXJBY3RpdmVJdGVtJywgKCkgPT4ge1xyXG5cdFx0XHRcdCR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdCRzY29wZS5tb3ZlVG8oJHNjb3BlLnRvb2xiYXJBY3RpdmVJdGVtKTtcclxuXHRcdFx0XHRcdCRzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnRvb2xiYXJBY3RpdmVJdGVtKTtcclxuXHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4geyB9KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcblx0XHRjb25zdCBkaXJlY3RpdmUgPSAoJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UpID0+IG5ldyBJemVuZGFUb29sYmFyTGlua3NQYW5lbCgkdGltZW91dCwgJHdpbmRvdyk7XHJcblx0XHRkaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnLCAnJHdpbmRvdyddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYURhc2hib2FyZE1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVRvb2xiYXJMaW5rc1BhbmVsJywgWyckdGltZW91dCcsICckd2luZG93JywgSXplbmRhVG9vbGJhckxpbmtzUGFuZWwuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCB7IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC90aWxlLW1vZGVsJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuXHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVRpbGVEcmFnZ2FibGVTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHRncmlkV2lkdGg6IG51bWJlcjtcclxuXHRncmlkSGVpZ2h0OiBudW1iZXI7XHJcblx0dGlsZTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsO1xyXG5cdHRpbGVzOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWxbXTtcclxuXHRvbk1vdmU6IGFueTtcclxuXHRvbk1vdmVTdGFydDogYW55O1xyXG5cdG9uTW92ZUVuZDogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogRGlyZWN0aXZlIHByb3ZpZGVzIG1vdmUgZnVuY3Rpb24gZm9yIGRhc2hib2FyZCB0aWxlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhVGlsZURyYWdnYWJsZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cdHJlc3RyaWN0ID0gJ0UnO1xyXG5cdHNjb3BlID0ge1xyXG5cdFx0ZW5hYmxlZDogJz0nLFxyXG5cdFx0Z3JpZFdpZHRoOiAnPScsXHJcblx0XHRncmlkSGVpZ2h0OiAnPScsXHJcblx0XHR0aWxlOiAnPScsXHJcblx0XHR0aWxlczogJz0nLFxyXG5cdFx0b25Nb3ZlOiAnJicsXHJcblx0XHRvbk1vdmVTdGFydDogJyYnLFxyXG5cdFx0b25Nb3ZlRW5kOiAnJidcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUaWxlRHJhZ2dhYmxlU2NvcGUsICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpIHtcclxuXHRcdEl6ZW5kYVRpbGVEcmFnZ2FibGUucHJvdG90eXBlLmxpbmsgPSAoJHNjb3BlOiBJSXplbmRhVGlsZURyYWdnYWJsZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgZ2V0VGlsZUJ5VGlsZSQgPSAoJHQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwgPT4ge1xyXG5cdFx0XHRcdGlmICghJHQgfHwgIWFuZ3VsYXIuaXNBcnJheSgkc2NvcGUudGlsZXMpKSByZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR2YXIgdGlsZWlkID0gTnVtYmVyKCR0LmF0dHIoJ3RpbGVpZCcpKTtcclxuXHRcdFx0XHRyZXR1cm4gJHNjb3BlLnRpbGVzLmZpbmQodCA9PiB0LmlkID09PSB0aWxlaWQpIHx8IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBGaW5kIHRpbGUgd2hpY2ggY29udGFpbiBwb2ludCB7eCx5fVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgZ2V0VW5kZXJseWluZ1RpbGUkID0gKGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsICR0aWxlczogbmcuSUF1Z21lbnRlZEpRdWVyeVtdKTogbmcuSUF1Z21lbnRlZEpRdWVyeSA9PiB7XHJcblx0XHRcdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoJHNjb3BlLnRpbGVzKSlcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9ICR0aWxlcy5maW5kKCgkY3VycmVudFRpbGUsIGN1cnJlbnRUaWxlSW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHRpbGVPZmZzZXQgPSAkY3VycmVudFRpbGUub2Zmc2V0KCk7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50VGlsZSA9ICRzY29wZS50aWxlc1tjdXJyZW50VGlsZUluZGV4XTtcclxuXHRcdFx0XHRcdGlmICgkc2NvcGUudGlsZS5pZCA9PT0gY3VycmVudFRpbGUuaWQpXHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdHJldHVybiB0aWxlT2Zmc2V0LmxlZnQgPD0gbGVmdFxyXG5cdFx0XHRcdFx0XHQmJiBsZWZ0IDw9IHRpbGVPZmZzZXQubGVmdCArICRjdXJyZW50VGlsZS53aWR0aCgpXHJcblx0XHRcdFx0XHRcdCYmIHRpbGVPZmZzZXQudG9wIDw9IHRvcFxyXG5cdFx0XHRcdFx0XHQmJiB0b3AgPD0gdGlsZU9mZnNldC50b3AgKyAkY3VycmVudFRpbGUuaGVpZ2h0KCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdCB8fCBudWxsO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ2hlY2sgdGlsZSBpbnRlcnNlY3RzIHRvIGFueSBvdGhlciB0aWxlXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBjaGVja1RpbGVJbnRlcnNlY3RzID0gKCRoZWxwZXI6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHRcdFx0XHRjb25zdCBoaXRUZXN0ID0gKFxyXG5cdFx0XHRcdFx0YTogbmcuSUF1Z21lbnRlZEpRdWVyeSxcclxuXHRcdFx0XHRcdG90aGVyVGlsZTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsLFxyXG5cdFx0XHRcdFx0YWNjdXJhY3lYOiBudW1iZXIsXHJcblx0XHRcdFx0XHRhY2N1cmFjeVk6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgYVBvcyA9IGEucG9zaXRpb24oKTtcclxuXHRcdFx0XHRcdGNvbnN0IGFUb3AgPSBhUG9zLnRvcCA+IDAgPyBhUG9zLnRvcCA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCBhQm90dG9tID0gYVRvcCArIGEuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRsZXQgYUxlZnQgPSBhUG9zLmxlZnQgPiAwID8gYVBvcy5sZWZ0IDogMDtcclxuXHRcdFx0XHRcdGxldCBhUmlnaHQgPSBhTGVmdCArIGEud2lkdGgoKTtcclxuXHRcdFx0XHRcdGlmIChhUmlnaHQgLyAkc2NvcGUuZ3JpZFdpZHRoID4gMTIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZGVsdGEgPSBhUmlnaHQgLSAkc2NvcGUuZ3JpZFdpZHRoICogMTI7XHJcblx0XHRcdFx0XHRcdGFMZWZ0IC09IGRlbHRhO1xyXG5cdFx0XHRcdFx0XHRhUmlnaHQgPSAkc2NvcGUuZ3JpZFdpZHRoICogMTI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCBiTGVmdCA9IG90aGVyVGlsZS54ICogJHNjb3BlLmdyaWRXaWR0aCArIGFjY3VyYWN5WDtcclxuXHRcdFx0XHRcdGNvbnN0IGJUb3AgPSBvdGhlclRpbGUueSAqICRzY29wZS5ncmlkSGVpZ2h0ICsgYWNjdXJhY3lZO1xyXG5cdFx0XHRcdFx0Y29uc3QgYlJpZ2h0ID0gKG90aGVyVGlsZS54ICsgb3RoZXJUaWxlLndpZHRoKSAqICRzY29wZS5ncmlkV2lkdGggLSBhY2N1cmFjeVg7XHJcblx0XHRcdFx0XHRjb25zdCBiQm90dG9tID0gKG90aGVyVGlsZS55ICsgb3RoZXJUaWxlLmhlaWdodCkgKiAkc2NvcGUuZ3JpZEhlaWdodCAtIGFjY3VyYWN5WTtcclxuXHRcdFx0XHRcdHJldHVybiAhKGJMZWZ0ID4gYVJpZ2h0IHx8IGJSaWdodCA8IGFMZWZ0IHx8IGJUb3AgPiBhQm90dG9tIHx8IGJCb3R0b20gPCBhVG9wKTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRsZXQgcmVzdWx0ID0gZmFsc2U7XHJcblx0XHRcdFx0JHNjb3BlLnRpbGVzLmZvckVhY2gob1RpbGUgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKG9UaWxlLmlkID09PSAkc2NvcGUudGlsZS5pZClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0aWYgKGhpdFRlc3QoJGhlbHBlciwgb1RpbGUsICRzY29wZS5ncmlkV2lkdGggLyAyLCAkc2NvcGUuZ3JpZEhlaWdodCAvIDIpKVxyXG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBHZXQgc25hcHBlZCB0byBncmlkIGJib3guXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCBnZXRUYXJnZXRCYm94ID0gKGhlbHBlckxlZnQ6IG51bWJlciwgaGVscGVyVG9wOiBudW1iZXIsIGhlbHBlcldpZHRoOiBudW1iZXIsIGhlbHBlckhlaWdodDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRpbGUgc2hhZG93IHBvc2l0aW9uXHJcblx0XHRcdFx0Y29uc3QgeCA9IE1hdGgucm91bmQoaGVscGVyTGVmdCAvICRzY29wZS5ncmlkV2lkdGgpICogJHNjb3BlLmdyaWRXaWR0aDtcclxuXHRcdFx0XHRjb25zdCB5ID0gTWF0aC5yb3VuZChoZWxwZXJUb3AgLyAkc2NvcGUuZ3JpZEhlaWdodCkgKiAkc2NvcGUuZ3JpZEhlaWdodDtcclxuXHRcdFx0XHRjb25zdCBoZWxwZXJCYm94ID0ge1xyXG5cdFx0XHRcdFx0bGVmdDogeCxcclxuXHRcdFx0XHRcdHRvcDogeSxcclxuXHRcdFx0XHRcdHdpZHRoOiBoZWxwZXJXaWR0aCxcclxuXHRcdFx0XHRcdGhlaWdodDogaGVscGVySGVpZ2h0XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRyZXR1cm4gaGVscGVyQmJveDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0ICR0aWxlID0gJGVsZW1lbnQuY2xvc2VzdCgnLml6LWRhc2gtdGlsZScpO1xyXG5cdFx0XHRsZXQgcHJldmlvdXNIZWxwZXJCYm94ID0geyBsZWZ0OiAwLCB0b3A6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcclxuXHRcdFx0bGV0IGhlbHBlcldpZHRoID0gMDtcclxuXHRcdFx0bGV0IGhlbHBlckhlaWdodCA9IDA7XHJcblx0XHRcdGxldCAkdGlsZUZsaXBwaWVzOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xyXG5cdFx0XHRsZXQgJHRpbGVzQXJyYXk6IEpRdWVyeTxIVE1MRWxlbWVudD5bXSA9IFtdO1xyXG5cclxuXHRcdFx0Ly8gaW5pdCBkcmFnZ2FibGVcclxuXHRcdFx0JHRpbGVbJ2RyYWdnYWJsZSddKHtcclxuXHRcdFx0XHRzdGFjazogJy5pei1kYXNoLXRpbGUnLFxyXG5cdFx0XHRcdGhhbmRsZTogJy50aXRsZS1jb250YWluZXIsIC5pei1kYXNoLXNlbGVjdC1yZXBvcnQtZnJvbnQtY29udGFpbmVyJyxcclxuXHRcdFx0XHRkaXN0YW5jZTogMTAsXHJcblxyXG5cdFx0XHRcdGhlbHBlcjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3Qgd2lkdGggPSAkc2NvcGUudGlsZS53aWR0aCAqICRzY29wZS5ncmlkV2lkdGg7XHJcblx0XHRcdFx0XHRjb25zdCBoZWlnaHQgPSAkc2NvcGUudGlsZS5oZWlnaHQgKiAkc2NvcGUuZ3JpZEhlaWdodDtcclxuXHRcdFx0XHRcdGNvbnN0IGhlbHBlclN0ciA9XHJcblx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwiaXotZGFzaC10aWxlIGl6LWRhc2gtdGlsZS1oZWxwZXJcIiBzdHlsZT1cInotaW5kZXg6MTAwMDt0b3A6MDtsZWZ0OjA7aGVpZ2h0OiR7aGVpZ2h0fXB4O3dpZHRoOiR7d2lkdGh9cHg7b3BhY2l0eToxO3RyYW5zZm9ybTptYXRyaXgoMSwwLDAsMSwwLDApO1wiPlxyXG5cdDxkaXYgY2xhc3M9XCJhbmltYXRlLWZsaXBcIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJmbGlwcHkgZmxpcHB5LWZyb250IGFuaW1hdGVkIGZhc3RcIj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRpdGxlLWNvbnRhaW5lclwiIHN0eWxlPVwiaGVpZ2h0OiAzNXB4OyBvdmVyZmxvdzogaGlkZGVuO1wiPjxkaXYgY2xhc3M9XCJ0aXRsZVwiPjxzcGFuIGNsYXNzPVwidGl0bGUtdGV4dFwiPjwvc3Bhbj48L2Rpdj48L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGFuZ3VsYXIuZWxlbWVudChoZWxwZXJTdHIpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0c3RhcnQ6IChldmVudCwgdWkpID0+IHtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMgPSAkdGlsZS5jaGlsZHJlbignLmFuaW1hdGUtZmxpcCcpLmNoaWxkcmVuKCcuZmxpcHB5Jyk7XHJcblxyXG5cdFx0XHRcdFx0JHNjb3BlLnRpbGVzLmZvckVhY2godGlsZSA9PiB7XHJcblx0XHRcdFx0XHRcdHRpbGUuYmFja1RpbGVQb3B1cE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gdHVybiBvZmYgd2luZG93IHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdFx0XHQkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudHVybk9mZldpbmRvd1Jlc2l6ZUhhbmRsZXIoKTtcclxuXHJcblx0XHRcdFx0XHQvLyB1cGRhdGUgdGlsZXMgYXJyYXk7XHJcblx0XHRcdFx0XHQkdGlsZXNBcnJheSA9ICRzY29wZS50aWxlcy5tYXAoY3VycmVudFRpbGUgPT4gYW5ndWxhci5lbGVtZW50KGAuaXotZGFzaC10aWxlW3RpbGVpZD0ke2N1cnJlbnRUaWxlLmlkfV1gKSk7XHJcblxyXG5cdFx0XHRcdFx0JHRpbGUgPSAkZWxlbWVudC5jbG9zZXN0KCcuaXotZGFzaC10aWxlJyk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmlyZSBvbk1vdmVTdGFydCBoYW5kbGVyOlxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25Nb3ZlU3RhcnQpKVxyXG5cdFx0XHRcdFx0XHQkc2NvcGUub25Nb3ZlU3RhcnQoeyB0aWxlOiAkc2NvcGUudGlsZSB9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBwcmVwYXJlIGhlbHBlcjpcclxuXHRcdFx0XHRcdGNvbnN0ICRoZWxwZXIgPSB1aS5oZWxwZXI7XHJcblx0XHRcdFx0XHRoZWxwZXJXaWR0aCA9ICRoZWxwZXIud2lkdGgoKTtcclxuXHRcdFx0XHRcdGhlbHBlckhlaWdodCA9ICRoZWxwZXIuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRjb25zdCAkaGVscGVyRmxpcEZyb250ID0gJGhlbHBlci5maW5kKCcuZmxpcHB5LWZyb250Jyk7XHJcblx0XHRcdFx0XHQkaGVscGVyRmxpcEZyb250LnJlbW92ZUNsYXNzKCdmbGlwSW5ZJyk7XHJcblx0XHRcdFx0XHQkaGVscGVyRmxpcEZyb250LnJlbW92ZUNsYXNzKCdhbmltYXRlZCcpO1xyXG5cdFx0XHRcdFx0JGhlbHBlckZsaXBGcm9udC5yZW1vdmVDbGFzcygnZmFzdCcpO1xyXG5cdFx0XHRcdFx0JGhlbHBlckZsaXBGcm9udC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSg1MCwyMDUsNTAsIDAuMyknKTtcclxuXHRcdFx0XHRcdCRoZWxwZXJGbGlwRnJvbnQuZmluZCgnLmZyYW1lJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHQkaGVscGVyLmNzcygnei1pbmRleCcsIDEwMDApO1xyXG5cdFx0XHRcdFx0JGhlbHBlci5jc3MoJ29wYWNpdHknLCAxKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGRyYWc6IChldmVudCwgdWkpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0ICRoZWxwZXIgPSB1aS5oZWxwZXI7XHJcblx0XHRcdFx0XHRjb25zdCAkaGVscGVyRmxpcEZyb250ID0gJGhlbHBlci5maW5kKCcuZmxpcHB5LWZyb250Jyk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRpbGUgc2hhZG93IHBvc2l0aW9uXHJcblx0XHRcdFx0XHR2YXIgaGVscGVyUG9zID0gJGhlbHBlci5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0dmFyIGhlbHBlckJib3ggPSBnZXRUYXJnZXRCYm94KGhlbHBlclBvcy5sZWZ0LCBoZWxwZXJQb3MudG9wLCBoZWxwZXJXaWR0aCwgaGVscGVySGVpZ2h0KTtcclxuXHRcdFx0XHRcdCRoZWxwZXJGbGlwRnJvbnQuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3JnYmEoNTAsMjA1LDUwLCAwLjMpJyk7IC8vIHNlbWktdHJhbnNwYXJlbnQgZ3JlZW5cclxuXHJcblx0XHRcdFx0XHQvLyBjaGVjayB1bmRlcmx5aW5nIHRpbGVcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzQXJyYXkoJHNjb3BlLnRpbGVzKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUudGlsZXMuZm9yRWFjaChjdXJyZW50VGlsZSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudFRpbGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0dmFyIHRhcmdldFRpbGUgPSBnZXRUaWxlQnlUaWxlJChnZXRVbmRlcmx5aW5nVGlsZSQoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZLCAkdGlsZXNBcnJheSkpO1xyXG5cdFx0XHRcdFx0XHRpZiAodGFyZ2V0VGlsZSlcclxuXHRcdFx0XHRcdFx0XHQvLyBoaWdobGlnaHQgdGlsZSBmb3Igc3dhcFxyXG5cdFx0XHRcdFx0XHRcdHRhcmdldFRpbGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoNTAsMjA1LDUwLCAxKSc7XHJcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGNoZWNrVGlsZUludGVyc2VjdHMoJGhlbHBlcikpXHJcblx0XHRcdFx0XHRcdFx0JGhlbHBlckZsaXBGcm9udC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSgyMjAsMjAsNjAsMC4yKScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIHByZXZlbnQgZHVwbGljYXRlIGNhbGxzXHJcblx0XHRcdFx0XHRpZiAocHJldmlvdXNIZWxwZXJCYm94LmxlZnQgPT09IGhlbHBlckJib3gubGVmdCAmJlxyXG5cdFx0XHRcdFx0XHRwcmV2aW91c0hlbHBlckJib3gudG9wID09PSBoZWxwZXJCYm94LnRvcCAmJlxyXG5cdFx0XHRcdFx0XHRwcmV2aW91c0hlbHBlckJib3gud2lkdGggPT09IGhlbHBlckJib3gud2lkdGggJiZcclxuXHRcdFx0XHRcdFx0cHJldmlvdXNIZWxwZXJCYm94LmhlaWdodCA9PT0gaGVscGVyQmJveC5oZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHByZXZpb3VzSGVscGVyQmJveCA9IGhlbHBlckJib3g7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmlyZSBvbk1vdmUgaGFuZGxlcjpcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uTW92ZSkpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm9uTW92ZSh7XHJcblx0XHRcdFx0XHRcdFx0dGlsZTogJHNjb3BlLnRpbGUsXHJcblx0XHRcdFx0XHRcdFx0c2hhZG93UG9zaXRpb246IGhlbHBlckJib3hcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5QXN5bmMoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHN0b3A6IChldmVudCwgdWkpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0ICRoZWxwZXIgPSB1aS5oZWxwZXI7XHJcblxyXG5cdFx0XHRcdFx0Ly8gcmV0dXJuIGRlZmF1bHQgdGlsZSBjb2xvclxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNBcnJheSgkc2NvcGUudGlsZXMpKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlcy5mb3JFYWNoKGN1cnJlbnRUaWxlID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50VGlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkc2NvcGUudGlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcclxuXHRcdFx0XHRcdGNvbnN0ICRhbmltYXRlZFRpbGVzOiBKUXVlcnk8SFRNTEVsZW1lbnQ+W10gPSBbXTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBldmVudFJlc3VsdCA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZTogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRpc1RpbGVTaXplQ2hhbmdlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHRpbGU6ICRzY29wZS50aWxlLFxyXG5cdFx0XHRcdFx0XHR0YXJnZXRUaWxlOiBnZXRUaWxlQnlUaWxlJChnZXRVbmRlcmx5aW5nVGlsZSQoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZLCAkdGlsZXNBcnJheSkpXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0aWYgKGV2ZW50UmVzdWx0LnRhcmdldFRpbGUpIHtcclxuXHRcdFx0XHRcdFx0Ly8gc3dhcCB0aWxlc1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdC50eXBlID0gJ3N3YXAnO1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdC5pc1RpbGVTaXplQ2hhbmdlZCA9ICRzY29wZS50aWxlLndpZHRoICE9PSBldmVudFJlc3VsdC50YXJnZXRUaWxlLndpZHRoIHx8XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUuaGVpZ2h0ICE9PSBldmVudFJlc3VsdC50YXJnZXRUaWxlLmhlaWdodDtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGV4Y2hhbmdlIHNpemVzXHJcblx0XHRcdFx0XHRcdHZhciB0aWxlQ2hhbmdlT2JqZWN0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdHg6ICRzY29wZS50aWxlLngsXHJcblx0XHRcdFx0XHRcdFx0eTogJHNjb3BlLnRpbGUueSxcclxuXHRcdFx0XHRcdFx0XHR3aWR0aDogJHNjb3BlLnRpbGUud2lkdGgsXHJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiAkc2NvcGUudGlsZS5oZWlnaHRcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0Ly8gc2V0IG5ldyBzaXplIGZvciBjdXJyZW50IHRpbGU6XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlLnggPSBldmVudFJlc3VsdC50YXJnZXRUaWxlLng7XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlLnkgPSBldmVudFJlc3VsdC50YXJnZXRUaWxlLnk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlLndpZHRoID0gZXZlbnRSZXN1bHQudGFyZ2V0VGlsZS53aWR0aDtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUuaGVpZ2h0ID0gZXZlbnRSZXN1bHQudGFyZ2V0VGlsZS5oZWlnaHQ7XHJcblx0XHRcdFx0XHRcdC8vIHNldCBuZXcgc2l6ZSBmb3IgdGFyZ2V0IHRpbGVcclxuXHRcdFx0XHRcdFx0ZXZlbnRSZXN1bHQudGFyZ2V0VGlsZS54ID0gdGlsZUNoYW5nZU9iamVjdC54O1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdC50YXJnZXRUaWxlLnkgPSB0aWxlQ2hhbmdlT2JqZWN0Lnk7XHJcblx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0LnRhcmdldFRpbGUud2lkdGggPSB0aWxlQ2hhbmdlT2JqZWN0LndpZHRoO1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdC50YXJnZXRUaWxlLmhlaWdodCA9IHRpbGVDaGFuZ2VPYmplY3QuaGVpZ2h0O1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gcnVuIGFuaW1hdGlvbjpcclxuXHRcdFx0XHRcdFx0Ly8gY2xlYXIgdGlsZSBjb250ZW50IGZvciBzbW9vdGggYW5pbWF0aW9uXHJcblx0XHRcdFx0XHRcdFskc2NvcGUudGlsZSwgZXZlbnRSZXN1bHQudGFyZ2V0VGlsZV0uZm9yRWFjaChhZmZlY3RlZFRpbGUgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0ICRhZmZlY3RlZFRpbGUgPSBhbmd1bGFyLmVsZW1lbnQoJy5pei1kYXNoLXRpbGVbdGlsZWlkPScgKyBhZmZlY3RlZFRpbGUuaWQgKyAnXScpO1xyXG5cdFx0XHRcdFx0XHRcdCRhZmZlY3RlZFRpbGUuYWRkQ2xhc3MoJ3RyYW5zaXRpb24nKTtcclxuXHRcdFx0XHRcdFx0XHQkYW5pbWF0ZWRUaWxlcy5wdXNoKCRhZmZlY3RlZFRpbGUpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIWNoZWNrVGlsZUludGVyc2VjdHMoJGhlbHBlcikpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnRSZXN1bHQudHlwZSA9ICdtb3ZlJztcclxuXHRcdFx0XHRcdFx0Y29uc3QgaGVscGVyUG9zID0gJGhlbHBlci5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBoZWxwZXJCYm94ID0gZ2V0VGFyZ2V0QmJveChoZWxwZXJQb3MubGVmdCwgaGVscGVyUG9zLnRvcCwgaGVscGVyV2lkdGgsIGhlbHBlckhlaWdodCk7XHJcblx0XHRcdFx0XHRcdCRzY29wZS50aWxlLnggPSBNYXRoLnJvdW5kKGhlbHBlckJib3gubGVmdCAvICRzY29wZS5ncmlkV2lkdGgpO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUudGlsZS55ID0gTWF0aC5yb3VuZChoZWxwZXJCYm94LnRvcCAvICRzY29wZS5ncmlkSGVpZ2h0KTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUud2lkdGggPSBNYXRoLnJvdW5kKGhlbHBlckJib3gud2lkdGggLyAkc2NvcGUuZ3JpZFdpZHRoKTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUuaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWxwZXJCYm94LmhlaWdodCAvICRzY29wZS5ncmlkSGVpZ2h0KTtcclxuXHRcdFx0XHRcdFx0aWYgKCRzY29wZS50aWxlLnggPCAwKVxyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS50aWxlLnggPSAwO1xyXG5cdFx0XHRcdFx0XHRpZiAoJHNjb3BlLnRpbGUueSA8IDApXHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLnRpbGUueSA9IDA7XHJcblx0XHRcdFx0XHRcdGlmICgkc2NvcGUudGlsZS54ICsgJHNjb3BlLnRpbGUud2lkdGggPiAxMikge1xyXG5cdFx0XHRcdFx0XHRcdCRzY29wZS50aWxlLnggPSAxMiAtICRzY29wZS50aWxlLndpZHRoO1xyXG5cdFx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0LmlzVGlsZVNpemVDaGFuZ2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gcnVuIGFuaW1hdGlvbiBmb3IgY3VycmVudCB0aWxlOlxyXG5cdFx0XHRcdFx0XHRjb25zdCAkdCA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWRhc2gtdGlsZVt0aWxlaWQ9JyArICRzY29wZS50aWxlLmlkICsgJ10nKTtcclxuXHRcdFx0XHRcdFx0JHQuYWRkQ2xhc3MoJ3RyYW5zaXRpb24nKTtcclxuXHRcdFx0XHRcdFx0JGFuaW1hdGVkVGlsZXMucHVzaCgkdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkYW5pbWF0ZWRUaWxlcy5mb3JFYWNoKCR0ID0+IHtcclxuXHRcdFx0XHRcdFx0JHQuZmluZCgnLnJlcG9ydCcpLmhpZGUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblxyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdCRhbmltYXRlZFRpbGVzLmZvckVhY2goJHQgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdCR0LnJlbW92ZUNsYXNzKCd0cmFuc2l0aW9uJyk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHQkdGlsZS5jc3MoJ3otaW5kZXgnLCAnMScpO1xyXG5cdFx0XHRcdFx0XHQkdGlsZS5maW5kKCcuZnJhbWUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMucmVtb3ZlQ2xhc3MoJ2ZsaXBJblknKTtcclxuXHRcdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5yZW1vdmVDbGFzcygnYW5pbWF0ZWQnKTtcclxuXHRcdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5yZW1vdmVDbGFzcygnZmFzdCcpO1xyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHQkYW5pbWF0ZWRUaWxlcy5mb3JFYWNoKCR0ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdCR0LmZpbmQoJy5yZXBvcnQnKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gdHVybiBvbiB3aW5kb3cgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRcdFx0XHQkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudHVybk9uV2luZG93UmVzaXplSGFuZGxlcigpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIGZpcmUgb25Nb3ZlRW5kIGhhbmRsZXI6XHJcblx0XHRcdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25Nb3ZlRW5kKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0JHNjb3BlLm9uTW92ZUVuZCh7IGV2ZW50UmVzdWx0OiBldmVudFJlc3VsdCB9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseUFzeW5jKCk7XHJcblx0XHRcdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdFx0XHR9LCAzMDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBoYW5kbGVyc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdlbmFibGVkJywgKGVuYWJsZWQsIHByZXZFbmFibGVkKSA9PiB7XHJcblx0XHRcdFx0aWYgKGVuYWJsZWQgPT09IHByZXZFbmFibGVkKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdCR0aWxlWydkcmFnZ2FibGUnXShlbmFibGVkID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9IChcclxuXHRcdFx0JHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXHJcblx0XHRcdCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRcdCRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpID0+XHJcblx0XHRcdG5ldyBJemVuZGFUaWxlRHJhZ2dhYmxlKCRyb290U2NvcGUsICR0aW1lb3V0LCAkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJ107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVGlsZURyYWdnYWJsZScsXHJcblx0Wyckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZScsIEl6ZW5kYVRpbGVEcmFnZ2FibGUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVRpbGVGbGlwU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xyXG5cdGZsaXBPYmplY3Q6IGFueTtcclxuXHRmbGlwSGFuZGxlcjogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogVGlsZSBmbGlwIGRpcmVjdGl2ZS4gRmxpcHMgdGlsZSBhbmQgY2FsbHMgaGFuZGxlci5cclxuICovXHJcbmNsYXNzIEl6ZW5kYVRpbGVGbGlwIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblx0c2NvcGUgPSB7XHJcblx0XHRmbGlwT2JqZWN0OiAnPWl6ZW5kYVRpbGVGbGlwT2JqZWN0JyxcclxuXHRcdGZsaXBIYW5kbGVyOiAnJml6ZW5kYVRpbGVGbGlwSGFuZGxlcidcclxuXHR9O1xyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUaWxlRmxpcFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcblx0XHRJemVuZGFUaWxlRmxpcC5wcm90b3R5cGUubGluayA9ICgkc2NvcGU6IElJemVuZGFUaWxlRmxpcFNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgZ2V0RmxpcHB5RnJvbnQgPSAoKSA9PiAkZWxlbWVudC5jaGlsZHJlbignLmFuaW1hdGUtZmxpcCcpLmNoaWxkcmVuKCcuZmxpcHB5LWZyb250Jyk7XHJcblx0XHRcdGNvbnN0IGdldEZsaXBweUJhY2sgPSAoKSA9PiAkZWxlbWVudC5jaGlsZHJlbignLmFuaW1hdGUtZmxpcCcpLmNoaWxkcmVuKCcuZmxpcHB5LWJhY2snKTtcclxuXHJcblx0XHRcdGNvbnN0IGZsaXBUaWxlRnJvbnQgPSAodXBkYXRlOiBib29sZWFuLCB1cGRhdGVGcm9tU291cmNlUmVwb3J0OiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2hvd0NsYXNzID0gJ2FuaW1hdGVkIGZhc3QgZmxpcEluWSc7XHJcblx0XHRcdFx0Y29uc3QgaGlkZUNsYXNzID0gJ2FuaW1hdGVkIGZhc3QgZmxpcE91dFknO1xyXG5cdFx0XHRcdGNvbnN0ICRmcm9udCA9IGdldEZsaXBweUZyb250KCk7XHJcblx0XHRcdFx0Y29uc3QgJGJhY2sgPSBnZXRGbGlwcHlCYWNrKCk7XHJcblxyXG5cdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcudWktcmVzaXphYmxlLWhhbmRsZScpLmhpZGUoKTtcclxuXHRcdFx0XHQkYmFjay5hZGRDbGFzcyhoaWRlQ2xhc3MpO1xyXG5cdFx0XHRcdCRmcm9udC5yZW1vdmVDbGFzcyhzaG93Q2xhc3MpO1xyXG5cdFx0XHRcdCRmcm9udC5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKS5hZGRDbGFzcyhzaG93Q2xhc3MpO1xyXG5cdFx0XHRcdCRiYWNrLmNzcygnZGlzcGxheScsICdub25lJykucmVtb3ZlQ2xhc3MoaGlkZUNsYXNzKTtcclxuXHJcblx0XHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0JGZyb250LnJlbW92ZUNsYXNzKCdmbGlwSW5ZJyk7XHJcblx0XHRcdFx0XHQkYmFjay5yZW1vdmVDbGFzcygnZmxpcEluWScpO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY2hpbGRyZW4oJy51aS1yZXNpemFibGUtaGFuZGxlJykuZmFkZUluKDIwMCk7XHJcblx0XHRcdFx0fSwgMjAwKS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdC8vIGNhbGwgaGFuZGxlclxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUuZmxpcEhhbmRsZXIpKVxyXG5cdFx0XHRcdFx0XHQkc2NvcGUuZmxpcEhhbmRsZXIoe1xyXG5cdFx0XHRcdFx0XHRcdGlzRnJvbnQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0dXBkYXRlOiB1cGRhdGUsXHJcblx0XHRcdFx0XHRcdFx0dXBkYXRlRnJvbVNvdXJjZVJlcG9ydDogdXBkYXRlRnJvbVNvdXJjZVJlcG9ydFxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgZmxpcFRpbGVCYWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHNob3dDbGFzcyA9ICdhbmltYXRlZCBmYXN0IGZsaXBJblknO1xyXG5cdFx0XHRcdGNvbnN0IGhpZGVDbGFzcyA9ICdhbmltYXRlZCBmYXN0IGZsaXBPdXRZJztcclxuXHRcdFx0XHRjb25zdCAkZnJvbnQgPSBnZXRGbGlwcHlGcm9udCgpO1xyXG5cdFx0XHRcdGNvbnN0ICRiYWNrID0gZ2V0RmxpcHB5QmFjaygpO1xyXG5cclxuXHRcdFx0XHQkZWxlbWVudC5jaGlsZHJlbignLnVpLXJlc2l6YWJsZS1oYW5kbGUnKS5oaWRlKCk7XHJcblx0XHRcdFx0JGZyb250LmFkZENsYXNzKGhpZGVDbGFzcyk7XHJcblx0XHRcdFx0JGJhY2sucmVtb3ZlQ2xhc3Moc2hvd0NsYXNzKTtcclxuXHRcdFx0XHQkYmFjay5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKS5hZGRDbGFzcyhzaG93Q2xhc3MpO1xyXG5cdFx0XHRcdCRmcm9udC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpLnJlbW92ZUNsYXNzKGhpZGVDbGFzcyk7XHJcblxyXG5cdFx0XHRcdCR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdCRmcm9udC5yZW1vdmVDbGFzcygnZmxpcEluWScpO1xyXG5cdFx0XHRcdFx0JGJhY2sucmVtb3ZlQ2xhc3MoJ2ZsaXBJblknKTtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNoaWxkcmVuKCcudWktcmVzaXphYmxlLWhhbmRsZScpLmZhZGVJbigyMDApO1xyXG5cdFx0XHRcdH0sIDIwMCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBjYWxsIGhhbmRsZXJcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLmZsaXBIYW5kbGVyKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuZmxpcEhhbmRsZXIoe1xyXG5cdFx0XHRcdFx0XHRcdGlzRnJvbnQ6IGZhbHNlXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdmbGlwT2JqZWN0JywgKG5ld1ZhbHVlOiBhbnksIG9sZFZhbHVlOiBhbnkpID0+IHtcclxuXHRcdFx0XHRpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGlmIChuZXdWYWx1ZS5pc0Zyb250KVxyXG5cdFx0XHRcdFx0ZmxpcFRpbGVGcm9udChuZXdWYWx1ZS51cGRhdGUsIG5ld1ZhbHVlLnVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGZsaXBUaWxlQmFjaygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgSXplbmRhVGlsZUZsaXAoJHRpbWVvdXQpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyR0aW1lb3V0J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVGlsZUZsaXAnLCBbJyR0aW1lb3V0JywgSXplbmRhVGlsZUZsaXAuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVRpbGVIb3ZlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRpbGUgaG92ZXIgZGlyZWN0aXZlLiBBZGRzIG9uSG92ZXIgZXZlbnQgaGFuZGxlciB0byB0aWxlLlxyXG4gKi9cclxuY2xhc3MgSXplbmRhVGlsZUhvdmVyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblx0cmVzdHJpY3QgPSAnQSc7XHJcblxyXG5cdGxpbms6ICgkc2NvcGU6IElJemVuZGFUaWxlSG92ZXJTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkge1xyXG5cdFx0SXplbmRhVGlsZUhvdmVyLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRpbGVIb3ZlclNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB1aWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTtcclxuXHRcdFx0Y29uc3Qgd2luZG93TW91c2VNb3ZlRXZlbnROYW1lID0gYG1vdXNlbW92ZS50aWxlaG92ZXIke3VpZH1gO1xyXG5cdFx0XHRsZXQgaXNIb3ZlcmluZ092ZXJUaWxlID0gZmFsc2U7XHJcblx0XHRcdGxldCBpc0hvdmVyTG9ja2VkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBzZXQgaG92ZXIgY2xhc3NlcyBmdW5jXHJcblx0XHRcdGNvbnN0IGFwcGx5VGlsZUhvdmVyID0gKCR0aWxlOiBuZy5JQXVnbWVudGVkSlF1ZXJ5LCBpc0hvdmVyaW5nTm93OiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcmVwb3J0Q29tcGxleGl0eUNvZWZmaWNlbnQgPSAkc2NvcGUuJGV2YWwoYXR0cnMuaXplbmRhVGlsZUhvdmVyUmVwb3J0Q29tcGxleGl0eSk7XHJcblx0XHRcdFx0aWYgKGlzSG92ZXJMb2NrZWQgJiYgcmVwb3J0Q29tcGxleGl0eUNvZWZmaWNlbnQgPCAwLjUpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0aWYgKGlzSG92ZXJpbmdOb3cpIHtcclxuXHRcdFx0XHRcdCR0aWxlLmFkZENsYXNzKCdob3ZlcicpO1xyXG5cdFx0XHRcdFx0JHRpbGUucmVtb3ZlQ2xhc3MoJ25vLWhvdmVyLW92ZXJmbG93Jyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCR0aWxlLmFkZENsYXNzKCduby1ob3Zlci1vdmVyZmxvdycpO1xyXG5cdFx0XHRcdFx0JHRpbGUucmVtb3ZlQ2xhc3MoJ2hvdmVyJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gaG92ZXIgZXZlbnQgaGFuZGxlcnNcclxuXHRcdFx0JGVsZW1lbnQuaG92ZXIoKCkgPT4ge1xyXG5cdFx0XHRcdGFwcGx5VGlsZUhvdmVyKCRlbGVtZW50LCB0cnVlKTtcclxuXHRcdFx0fSwgKCkgPT4ge1xyXG5cdFx0XHRcdGFwcGx5VGlsZUhvdmVyKCRlbGVtZW50LCBmYWxzZSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gd2luZG93IG1vdXNlIG1vdmUgZXZlbnQgaGFuZGxlcnNcclxuXHRcdFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKHdpbmRvd01vdXNlTW92ZUV2ZW50TmFtZSwgKGUpID0+IHtcclxuXHRcdFx0XHR2YXIgJHRpbGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGUudGFyZ2V0KS5jbG9zZXN0KCdkaXYuaXotZGFzaC10aWxlJyk7XHJcblx0XHRcdFx0dmFyIG92ZXJUaWxlID0gJHRpbGVFbGVtZW50Lmxlbmd0aCA+IDAgJiYgJHRpbGVFbGVtZW50LmF0dHIoJ3RpbGVpZCcpID09ICRlbGVtZW50LmF0dHIoJ3RpbGVpZCcpO1xyXG5cdFx0XHRcdGlmIChvdmVyVGlsZSAhPT0gaXNIb3ZlcmluZ092ZXJUaWxlKSB7XHJcblx0XHRcdFx0XHRhcHBseVRpbGVIb3ZlcigkZWxlbWVudCwgb3ZlclRpbGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpc0hvdmVyaW5nT3ZlclRpbGUgPSBvdmVyVGlsZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCckY3RybC50aWxlLmJhY2tUaWxlUG9wdXBPcGVuZWQnLCAobmV3VmFsLCBvbGRWYWwpID0+IHtcclxuXHRcdFx0XHRpZiAoIW5ld1ZhbCAmJiBvbGRWYWwpIHtcclxuXHRcdFx0XHRcdC8vIGJhY2tUaWxlUG9wdXBPcGVuZWQgdHVybmVkIG9mZlxyXG5cdFx0XHRcdFx0aXNIb3ZlckxvY2tlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YXBwbHlUaWxlSG92ZXIoJGVsZW1lbnQsIGlzSG92ZXJpbmdPdmVyVGlsZSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChuZXdWYWwgJiYgIW9sZFZhbCkge1xyXG5cdFx0XHRcdFx0Ly8gYmFja1RpbGVQb3B1cE9wZW5lZCB0dXJuZWQgb25cclxuXHRcdFx0XHRcdGFwcGx5VGlsZUhvdmVyKCRlbGVtZW50LCB0cnVlKTtcclxuXHRcdFx0XHRcdGlzSG92ZXJMb2NrZWQgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZXN0cnVjdGlvbiBtZXRob2RcclxuXHRcdFx0JGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG5cdFx0XHRcdCRlbGVtZW50Lm9mZignaG92ZXInKTtcclxuXHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKHdpbmRvd01vdXNlTW92ZUV2ZW50TmFtZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkd2luZG93OiBuZy5JV2luZG93U2VydmljZSkgPT4gbmV3IEl6ZW5kYVRpbGVIb3Zlcigkd2luZG93KTtcclxuXHRcdGRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93J107XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cdH1cclxufVxyXG5cclxuaXplbmRhRGFzaGJvYXJkTW9kdWxlLmRpcmVjdGl2ZSgnaXplbmRhVGlsZUhvdmVyJywgWyckd2luZG93JywgSXplbmRhVGlsZUhvdmVyLmZhY3RvcnkoKV0pO1xyXG4iLCJpbXBvcnQgKiBhcyBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgJ2l6ZW5kYS1leHRlcm5hbC1saWJzJztcclxuaW1wb3J0IGl6ZW5kYURhc2hib2FyZE1vZHVsZSBmcm9tICdkYXNoYm9hcmQvbW9kdWxlLWRlZmluaXRpb24nO1xyXG5pbXBvcnQgeyBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvdGlsZS1tb2RlbCc7XHJcbmltcG9ydCBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgSUl6ZW5kYVRpbGVSZXNpemFibGVTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XHJcblx0Z3JpZFdpZHRoOiBhbnk7XHJcblx0Z3JpZEhlaWdodDogYW55O1xyXG5cdHRpbGU6IGFueTtcclxuXHR0aWxlczogYW55O1xyXG5cdG9uUmVzaXplOiBhbnk7XHJcblx0b25SZXNpemVTdGFydDogYW55O1xyXG5cdG9uUmVzaXplRW5kOiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaXJlY3RpdmUgcHJvdmlkZXMgcmVzaXplIGZ1bmN0aW9uIGZvciBkYXNoYm9hcmQgdGlsZS5cclxuICovXHJcbmNsYXNzIEl6ZW5kYVRpbGVSZXNpemFibGUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHRyZXN0cmljdCA9ICdFJztcclxuXHRzY29wZSA9IHtcclxuXHRcdGdyaWRXaWR0aDogJz0nLFxyXG5cdFx0Z3JpZEhlaWdodDogJz0nLFxyXG5cdFx0dGlsZTogJz0nLFxyXG5cdFx0dGlsZXM6ICc9JyxcclxuXHRcdG9uUmVzaXplOiAnJicsXHJcblx0XHRvblJlc2l6ZVN0YXJ0OiAnJicsXHJcblx0XHRvblJlc2l6ZUVuZDogJyYnXHJcblx0fTtcclxuXHRsaW5rOiAoJHNjb3BlOiBJSXplbmRhVGlsZVJlc2l6YWJsZVNjb3BlLCAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogYW55KSB7XHJcblx0XHRJemVuZGFUaWxlUmVzaXphYmxlLnByb3RvdHlwZS5saW5rID0gKCRzY29wZTogSUl6ZW5kYVRpbGVSZXNpemFibGVTY29wZSwgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnkpID0+IHtcclxuXHJcblx0XHRcdC8vIGluaXRpYWxpemUgcmVzaXphYmxlXHJcblx0XHRcdGxldCAkdGlsZSA9ICRlbGVtZW50LmNsb3Nlc3QoJy5pei1kYXNoLXRpbGUnKTtcclxuXHRcdFx0bGV0ICR0aWxlRmxpcHBpZXM6IG5nLklBdWdtZW50ZWRKUXVlcnk7XHJcblx0XHRcdGxldCBwcmV2aW91c0hlbHBlckJib3ggPSB7IGxlZnQ6IDAsIHRvcDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENoZWNrIHRpbGUgaW50ZXJzZWN0cyB0byBhbnkgb3RoZXIgdGlsZVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y29uc3QgY2hlY2tUaWxlSW50ZXJzZWN0cyA9ICgkaGVscGVyOiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgaGl0VGVzdCA9IChcclxuXHRcdFx0XHRcdGE6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRcdFx0XHRvdGhlclRpbGU6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCxcclxuXHRcdFx0XHRcdGFjY3VyYWN5WDogbnVtYmVyLFxyXG5cdFx0XHRcdFx0YWNjdXJhY3lZOiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGFQb3MgPSBhLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHRjb25zdCBhVG9wID0gYVBvcy50b3AgPiAwID8gYVBvcy50b3AgOiAwO1xyXG5cdFx0XHRcdFx0Y29uc3QgYUJvdHRvbSA9IGFUb3AgKyBhLmhlaWdodCgpO1xyXG5cdFx0XHRcdFx0bGV0IGFMZWZ0ID0gYVBvcy5sZWZ0ID4gMCA/IGFQb3MubGVmdCA6IDA7XHJcblx0XHRcdFx0XHRsZXQgYVJpZ2h0ID0gYUxlZnQgKyBhLndpZHRoKCk7XHJcblx0XHRcdFx0XHRpZiAoYVJpZ2h0IC8gJHNjb3BlLmdyaWRXaWR0aCA+IDEyKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRlbHRhID0gYVJpZ2h0IC0gJHNjb3BlLmdyaWRXaWR0aCAqIDEyO1xyXG5cdFx0XHRcdFx0XHRhTGVmdCAtPSBkZWx0YTtcclxuXHRcdFx0XHRcdFx0YVJpZ2h0ID0gJHNjb3BlLmdyaWRXaWR0aCAqIDEyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgYkxlZnQgPSBvdGhlclRpbGUueCAqICRzY29wZS5ncmlkV2lkdGggKyBhY2N1cmFjeVg7XHJcblx0XHRcdFx0XHRjb25zdCBiVG9wID0gb3RoZXJUaWxlLnkgKiAkc2NvcGUuZ3JpZEhlaWdodCArIGFjY3VyYWN5WTtcclxuXHRcdFx0XHRcdGNvbnN0IGJSaWdodCA9IChvdGhlclRpbGUueCArIG90aGVyVGlsZS53aWR0aCkgKiAkc2NvcGUuZ3JpZFdpZHRoIC0gYWNjdXJhY3lYO1xyXG5cdFx0XHRcdFx0Y29uc3QgYkJvdHRvbSA9IChvdGhlclRpbGUueSArIG90aGVyVGlsZS5oZWlnaHQpICogJHNjb3BlLmdyaWRIZWlnaHQgLSBhY2N1cmFjeVk7XHJcblx0XHRcdFx0XHRyZXR1cm4gIShiTGVmdCA+IGFSaWdodCB8fCBiUmlnaHQgPCBhTGVmdCB8fCBiVG9wID4gYUJvdHRvbSB8fCBiQm90dG9tIDwgYVRvcCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0bGV0IHJlc3VsdCA9IGZhbHNlO1xyXG5cdFx0XHRcdCRzY29wZS50aWxlcy5mb3JFYWNoKG9UaWxlID0+IHtcclxuXHRcdFx0XHRcdGlmIChvVGlsZS5pZCA9PT0gJHNjb3BlLnRpbGUuaWQpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdGlmIChoaXRUZXN0KCRoZWxwZXIsIG9UaWxlLCAkc2NvcGUuZ3JpZFdpZHRoIC8gMiwgJHNjb3BlLmdyaWRIZWlnaHQgLyAyKSlcclxuXHRcdFx0XHRcdFx0cmVzdWx0ID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogVXBkYXRlIHJlc2l6YWJsZSBhY2NvcmRpbmcgdG8gY3VycmVudCBncmlkV2lkdGggYW5kIGdyaWRIZWlnaHRcclxuXHRcdFx0ICovXHJcblx0XHRcdGNvbnN0IHVwZGF0ZUNvbnRyYWludHMgPSAoKSA9PiB7XHJcblx0XHRcdFx0JHRpbGVbJ3Jlc2l6YWJsZSddKCdvcHRpb24nLCAnZ3JpZCcsIFskc2NvcGUuZ3JpZFdpZHRoLCAkc2NvcGUuZ3JpZEhlaWdodF0pO1xyXG5cdFx0XHRcdCR0aWxlWydyZXNpemFibGUnXSgnb3B0aW9uJywgJ21pbkhlaWdodCcsICRzY29wZS5ncmlkV2lkdGgpO1xyXG5cdFx0XHRcdCR0aWxlWydyZXNpemFibGUnXSgnb3B0aW9uJywgJ21pbldpZHRoJywgJHNjb3BlLmdyaWRIZWlnaHQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogVXBkYXRlIHRpbGUgeCx5LHdpZHRoLGhlaWdodCBhY2NvcmRpbmcgdG8gdGhlIG5ldyBkb20gZWxlbWVudCBzaXplXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRjb25zdCB1cGRhdGVUaWxlU2l6ZSA9ICh0aWxlOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWwsICR0OiBuZy5JQXVnbWVudGVkSlF1ZXJ5KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGlsZVBvc2l0aW9uID0gJHQucG9zaXRpb24oKTtcclxuXHRcdFx0XHRjb25zdCB4ID0gTWF0aC5yb3VuZCh0aWxlUG9zaXRpb24ubGVmdCAvICRzY29wZS5ncmlkV2lkdGgpO1xyXG5cdFx0XHRcdGNvbnN0IHkgPSBNYXRoLnJvdW5kKHRpbGVQb3NpdGlvbi50b3AgLyAkc2NvcGUuZ3JpZEhlaWdodCk7XHJcblx0XHRcdFx0bGV0IHdpZHRoID0gTWF0aC5yb3VuZCgkdC53aWR0aCgpIC8gJHNjb3BlLmdyaWRXaWR0aCk7XHJcblx0XHRcdFx0bGV0IGhlaWdodCA9IE1hdGgucm91bmQoJHQuaGVpZ2h0KCkgLyAkc2NvcGUuZ3JpZEhlaWdodCk7XHJcblx0XHRcdFx0Y29uc3QgaXNUaWxlU2l6ZU5lZWRUb0NvcnJlY3QgPSB4IDwgMCB8fCB5IDwgMCB8fCB4ICsgd2lkdGggPiAxMjtcclxuXHRcdFx0XHRpZiAoeCA8IDApIHtcclxuXHRcdFx0XHRcdHdpZHRoID0gd2lkdGggKyB4O1xyXG5cdFx0XHRcdFx0dGlsZS54ID0gMDtcclxuXHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHRpbGUueCA9IHg7XHJcblx0XHRcdFx0aWYgKHkgPCAwKSB7XHJcblx0XHRcdFx0XHRoZWlnaHQgPSBoZWlnaHQgKyB5O1xyXG5cdFx0XHRcdFx0dGlsZS55ID0gMDtcclxuXHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHRpbGUueSA9IHk7XHJcblx0XHRcdFx0dGlsZS53aWR0aCA9IHdpZHRoO1xyXG5cdFx0XHRcdHRpbGUuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cdFx0XHRcdGlmICh0aWxlLnggKyB0aWxlLndpZHRoID4gMTIpIHtcclxuXHRcdFx0XHRcdHRpbGUud2lkdGggPSAxMiAtIHRpbGUueDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGlzVGlsZVNpemVOZWVkVG9Db3JyZWN0KSB7XHJcblx0XHRcdFx0XHRjb25zdCBsID0gdGlsZS54ICogJHNjb3BlLmdyaWRXaWR0aDtcclxuXHRcdFx0XHRcdGNvbnN0IHQgPSB0aWxlLnkgKiAkc2NvcGUuZ3JpZEhlaWdodDtcclxuXHRcdFx0XHRcdCR0LmNzcygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZTNkKCR7bH1weCwke3R9cHgsMClgKTtcclxuXHRcdFx0XHRcdCR0LndpZHRoKHRpbGUud2lkdGggKiAkc2NvcGUuZ3JpZFdpZHRoKTtcclxuXHRcdFx0XHRcdCR0LmhlaWdodCh0aWxlLmhlaWdodCAqICRzY29wZS5ncmlkSGVpZ2h0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGluaXRpYWxpemUgcmVzaXphYmxlIGZvciB0aWxlXHJcblx0XHRcdCR0aWxlWydyZXNpemFibGUnXSh7XHJcblx0XHRcdFx0bWluV2lkdGg6ICRzY29wZS5ncmlkV2lkdGgsXHJcblx0XHRcdFx0bWluSGVpZ2h0OiAkc2NvcGUuZ3JpZEhlaWdodCxcclxuXHRcdFx0XHRncmlkOiBbJHNjb3BlLmdyaWRXaWR0aCwgJHNjb3BlLmdyaWRIZWlnaHRdLFxyXG5cdFx0XHRcdGhhbmRsZXM6ICduLCBlLCBzLCB3LCBzZScsXHJcblx0XHRcdFx0Ly8gc3RhcnQgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRzdGFydDogZXZlbnQgPT4ge1xyXG5cdFx0XHRcdFx0JHNjb3BlLnRpbGVzLmZvckVhY2godCA9PiB7XHJcblx0XHRcdFx0XHRcdHQuYmFja1RpbGVQb3B1cE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQvLyB0dXJuIG9mZiB3aW5kb3cgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnR1cm5PZmZXaW5kb3dSZXNpemVIYW5kbGVyKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gY29udGV4dCB2YXJpYWJsZXNcclxuXHRcdFx0XHRcdCR0aWxlID0gKGFuZ3VsYXIuZWxlbWVudChldmVudC50YXJnZXQpIGFzIGFuZ3VsYXIuSUF1Z21lbnRlZEpRdWVyeSk7XHJcblx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzID0gJHRpbGUuY2hpbGRyZW4oJy5hbmltYXRlLWZsaXAnKS5jaGlsZHJlbignLmZsaXBweScpO1xyXG5cclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMuY2hpbGRyZW4oJy5mcmFtZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMucmVtb3ZlQ2xhc3MoJ2ZsaXBJblknKTtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3JnYmEoNTAsMjA1LDUwLCAwLjMpJyk7XHJcblx0XHRcdFx0XHQkdGlsZS5jc3MoJ3otaW5kZXgnLCAxMDAwKTtcclxuXHRcdFx0XHRcdCR0aWxlLmNzcygnb3BhY2l0eScsIDEpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGZpcmUgb25SZXNpemVTdGFydCBoYW5kbGVyOlxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZXNpemVTdGFydCkpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZXZlbnRSZXN1bHQgPSB7XHJcblx0XHRcdFx0XHRcdFx0dGlsZTogJHNjb3BlLnRpbGVcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm9uUmVzaXplU3RhcnQoeyBldmVudFJlc3VsdDogZXZlbnRSZXN1bHQgfSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQvLyByZXNpemUgaGFuZGxlclxyXG5cdFx0XHRcdHJlc2l6ZTogKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaGVscGVyUG9zaXRpb24gPSAkdGlsZS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0Y29uc3QgeCA9IE1hdGgucm91bmQoaGVscGVyUG9zaXRpb24ubGVmdCAvICRzY29wZS5ncmlkV2lkdGgpICogJHNjb3BlLmdyaWRXaWR0aDtcclxuXHRcdFx0XHRcdGNvbnN0IHkgPSBNYXRoLnJvdW5kKGhlbHBlclBvc2l0aW9uLnRvcCAvICRzY29wZS5ncmlkSGVpZ2h0KSAqICRzY29wZS5ncmlkSGVpZ2h0O1xyXG5cdFx0XHRcdFx0Y29uc3QgaGVscGVyQmJveCA9IHtcclxuXHRcdFx0XHRcdFx0bGVmdDogeCxcclxuXHRcdFx0XHRcdFx0dG9wOiB5LFxyXG5cdFx0XHRcdFx0XHR3aWR0aDogTWF0aC5yb3VuZCgkdGlsZS53aWR0aCgpIC8gJHNjb3BlLmdyaWRXaWR0aCkgKiAkc2NvcGUuZ3JpZFdpZHRoLFxyXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IE1hdGgucm91bmQoJHRpbGUuaGVpZ2h0KCkgLyAkc2NvcGUuZ3JpZEhlaWdodCkgKiAkc2NvcGUuZ3JpZFdpZHRoXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0Ly8gcHJldmVudCBkdXBsaWNhdGUgY2FsbHNcclxuXHRcdFx0XHRcdGlmIChwcmV2aW91c0hlbHBlckJib3gubGVmdCA9PT0gaGVscGVyQmJveC5sZWZ0ICYmXHJcblx0XHRcdFx0XHRcdHByZXZpb3VzSGVscGVyQmJveC50b3AgPT09IGhlbHBlckJib3gudG9wICYmXHJcblx0XHRcdFx0XHRcdHByZXZpb3VzSGVscGVyQmJveC53aWR0aCA9PT0gaGVscGVyQmJveC53aWR0aCAmJlxyXG5cdFx0XHRcdFx0XHRwcmV2aW91c0hlbHBlckJib3guaGVpZ2h0ID09PSBoZWxwZXJCYm94LmhlaWdodClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0cHJldmlvdXNIZWxwZXJCYm94ID0gaGVscGVyQmJveDtcclxuXHJcblx0XHRcdFx0XHQvLyBmaXJlIG9uTW92ZSBoYW5kbGVyOlxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub25SZXNpemUpKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGV2ZW50UmVzdWx0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdHRpbGU6ICRzY29wZS50aWxlLFxyXG5cdFx0XHRcdFx0XHRcdHNoYWRvd1Bvc2l0aW9uOiBoZWxwZXJCYm94XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdCRzY29wZS5vblJlc2l6ZSh7IGV2ZW50UmVzdWx0OiBldmVudFJlc3VsdCB9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3JnYmEoNTAsMjA1LDUwLCAwLjUpJyk7XHJcblx0XHRcdFx0XHRpZiAoY2hlY2tUaWxlSW50ZXJzZWN0cygkdGlsZSkpIHtcclxuXHRcdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSgyMjAsMjAsNjAsMC41KScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ly8gZW5kIHJlc2l6ZSBoYW5kbGVyXHJcblx0XHRcdFx0c3RvcDogKGV2ZW50LCB1aSkgPT4ge1xyXG5cdFx0XHRcdFx0JHRpbGUuY3NzKCd6LWluZGV4JywgJzEnKTtcclxuXHRcdFx0XHRcdCR0aWxlLmZpbmQoJy5mcmFtZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMucmVtb3ZlQ2xhc3MoJ2ZsaXBJblknKTtcclxuXHRcdFx0XHRcdCR0aWxlRmxpcHBpZXMucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7XHJcblx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzLnJlbW92ZUNsYXNzKCdmYXN0Jyk7XHJcblxyXG5cdFx0XHRcdFx0JHRpbGVGbGlwcGllcy5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XHJcblx0XHRcdFx0XHRsZXQgZXZlbnRSZXN1bHQ6IGFueTtcclxuXHRcdFx0XHRcdGlmIChjaGVja1RpbGVJbnRlcnNlY3RzKCR0aWxlKSkge1xyXG5cdFx0XHRcdFx0XHQkdGlsZS5hbmltYXRlKHtcclxuXHRcdFx0XHRcdFx0XHRsZWZ0OiB1aS5vcmlnaW5hbFBvc2l0aW9uLmxlZnQsXHJcblx0XHRcdFx0XHRcdFx0dG9wOiB1aS5vcmlnaW5hbFBvc2l0aW9uLnRvcCxcclxuXHRcdFx0XHRcdFx0XHR3aWR0aDogdWkub3JpZ2luYWxTaXplLndpZHRoLFxyXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogdWkub3JpZ2luYWxTaXplLmhlaWdodFxyXG5cdFx0XHRcdFx0XHR9LCAyMDApO1xyXG5cdFx0XHRcdFx0XHRldmVudFJlc3VsdCA9IHtcclxuXHRcdFx0XHRcdFx0XHRhY3Rpb246ICdyZXNpemUgY2FuY2VsJyxcclxuXHRcdFx0XHRcdFx0XHRpc1RpbGVTaXplQ2hhbmdlZDogZmFsc2VcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlzVGlsZVNpemVDaGFuZ2VkID0gJHRpbGUud2lkdGgoKSAhPT0gdWkub3JpZ2luYWxTaXplLndpZHRoIHx8ICR0aWxlLmhlaWdodCgpICE9PSB1aS5vcmlnaW5hbFNpemUuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNUaWxlU2l6ZUNoYW5nZWQpXHJcblx0XHRcdFx0XHRcdFx0dXBkYXRlVGlsZVNpemUoJHNjb3BlLnRpbGUsICR0aWxlKTtcclxuXHRcdFx0XHRcdFx0ZXZlbnRSZXN1bHQgPSB7XHJcblx0XHRcdFx0XHRcdFx0YWN0aW9uOiAncmVzaXplIGVuZCcsXHJcblx0XHRcdFx0XHRcdFx0aXNUaWxlU2l6ZUNoYW5nZWQ6IGlzVGlsZVNpemVDaGFuZ2VkXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkdGlsZUZsaXBwaWVzLmNoaWxkcmVuKCcuZnJhbWUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHQkdGlsZS5jc3MoJ29wYWNpdHknLCAxKTtcclxuXHJcblx0XHRcdFx0XHQvLyB0dXJuIG9uIHdpbmRvdyByZXNpemUgaGFuZGxlclxyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudHVybk9uV2luZG93UmVzaXplSGFuZGxlcigpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGZpcmUgb25SZXNpemVFbmQgaGFuZGxlcjpcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oJHNjb3BlLm9uUmVzaXplRW5kKSkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUub25SZXNpemVFbmQoe1xyXG5cdFx0XHRcdFx0XHRcdGV2ZW50UmVzdWx0OiBldmVudFJlc3VsdFxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gaGFuZGxlcnNcclxuXHRcdFx0JHNjb3BlLiR3YXRjaCgnZW5hYmxlZCcsIChlbmFibGVkLCBwcmV2RW5hYmxlZCkgPT4ge1xyXG5cdFx0XHRcdGlmIChlbmFibGVkID09PSBwcmV2RW5hYmxlZClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHQkdGlsZVsncmVzaXphYmxlJ10oZW5hYmxlZCA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKCdncmlkV2lkdGgnLCAobmV3VmFsLCBvbGRWYWwpID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09PSBvbGRWYWwpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlQ29udHJhaW50cygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goJ2dyaWRIZWlnaHQnLCAobmV3VmFsLCBvbGRWYWwpID0+IHtcclxuXHRcdFx0XHRpZiAobmV3VmFsID09PSBvbGRWYWwpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlQ29udHJhaW50cygpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGRlc3RydWN0aW9uIG1ldGhvZFxyXG5cdFx0XHQkZWxlbWVudC5vbignJGRlc3Ryb3knLCAoKSA9PiB7IH0pO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuXHRcdGNvbnN0IGRpcmVjdGl2ZSA9ICgkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2U6IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlKSA9PiBuZXcgSXplbmRhVGlsZVJlc2l6YWJsZSgkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpO1xyXG5cdFx0ZGlyZWN0aXZlLiRpbmplY3QgPSBbJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZSddO1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHR9XHJcbn1cclxuXHJcbml6ZW5kYURhc2hib2FyZE1vZHVsZS5kaXJlY3RpdmUoJ2l6ZW5kYVRpbGVSZXNpemFibGUnLCBbJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZScsIEl6ZW5kYVRpbGVSZXNpemFibGUuZmFjdG9yeSgpXSk7XHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5cclxuaW1wb3J0IHsgSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzIH0gZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBCYWNrIHRpbGUgY29tcG9uZW50IGRlZmluaXRpb25cclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhRGFzaGJvYXJkTW9kdWxlLFxyXG5cdCdpemVuZGFEYXNoYm9hcmRUaWxlQmFjaycsXHJcblx0WyckaXplbmRhU2V0dGluZ3NTZXJ2aWNlJywgJyRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncycsICckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnXSxcclxuXHR7XHJcblx0XHR0ZW1wbGF0ZVVybDogJyMjI1JTIyMjZXh0cmVzPWNvbXBvbmVudHMuZGFzaGJvYXJkLmNvbXBvbmVudHMudGlsZS1iYWNrLnRpbGUtYmFjay10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdHRpbGU6ICc8JyxcclxuXHRcdFx0Zm9jdXNlZDogJzwnLFxyXG5cdFx0XHRvblNldFRpbGVUb3A6ICcmJyxcclxuXHRcdFx0b25QcmludDogJyYnLFxyXG5cdFx0XHRvbkV4cG9ydEV4Y2VsOiAnJicsXHJcblx0XHRcdG9uR29Ub0VkaXRvcjogJyYnLFxyXG5cdFx0XHRvbkdvVG9WaWV3ZXI6ICcmJyxcclxuXHRcdFx0b25SZWxvYWQ6ICcmJyxcclxuXHRcdFx0b25TZWxlY3RSZXBvcnQ6ICcmJ1xyXG5cdFx0fVxyXG5cdH0pXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFEYXNoYm9hcmRUaWxlQmFja0NvbXBvbmVudCBpbXBsZW1lbnRzIG5nLklDb21wb25lbnRDb250cm9sbGVyIHtcclxuXHJcblx0Ly8gYmluZGluZ3NcclxuXHR0aWxlOiBJemVuZGFEYXNoYm9hcmRUaWxlTW9kZWw7XHJcblx0Zm9jdXNlZDogYm9vbGVhbjtcclxuXHRvblNldFRpbGVUb3A6ICh7IHRvcDogbnVtYmVyIH0pID0+IHZvaWQ7XHJcblx0b25QcmludDogKGFueSkgPT4gdm9pZDtcclxuXHRvbkV4cG9ydEV4Y2VsOiAoYW55KSA9PiB2b2lkO1xyXG5cdG9uR29Ub0VkaXRvcjogKGFueSkgPT4gdm9pZDtcclxuXHRvbkdvVG9WaWV3ZXI6IChhbnkpID0+IHZvaWQ7XHJcblx0b25SZWxvYWQ6IChhbnkpID0+IHZvaWQ7XHJcblx0b25TZWxlY3RSZXBvcnQ6IChhbnkpID0+IHZvaWQ7XHJcblx0Ly8gb3RoZXJcclxuXHRzaG93QWxsSW5SZXN1bHRzOiBib29sZWFuO1xyXG5cdGlzRGVzaWduTGlua3NBbGxvd2VkOiBib29sZWFuO1xyXG5cdHByaW50TW9kZTogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTZXR0aW5nczogSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2U6IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlKSB7XHJcblxyXG5cdFx0dGhpcy5zaG93QWxsSW5SZXN1bHRzID0gdHJ1ZTtcclxuXHRcdHRoaXMuaXNEZXNpZ25MaW5rc0FsbG93ZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5wcmludE1vZGUgPSAnSHRtbDJQZGZBbmRIdG1sJztcclxuXHR9XHJcblxyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLmluaXRpYWxpemVBZEhvY1NldHRpbmdzKCk7XHJcblx0fTtcclxuXHJcblx0dG9wU2VsZWN0ZWQobmV3VG9wOiBudW1iZXIpIHtcclxuXHRcdGlmICh0aGlzLm9uU2V0VGlsZVRvcClcclxuXHRcdFx0dGhpcy5vblNldFRpbGVUb3AoeyB0b3A6IG5ld1RvcCB9KTtcclxuXHR9XHJcblxyXG5cdHByaW50VGlsZSgpIHtcclxuXHRcdHRoaXMuZmlyZUhhbmRsZXIodGhpcy5vblByaW50KTtcclxuXHR9XHJcblxyXG5cdGZpcmVFeHBvcnRUb0V4Y2VsKCkge1xyXG5cdFx0dGhpcy5maXJlSGFuZGxlcih0aGlzLm9uRXhwb3J0RXhjZWwpO1xyXG5cdH1cclxuXHJcblx0ZmlyZVJlcG9ydEVkaXRvckxpbmsoKSB7XHJcblx0XHR0aGlzLmZpcmVIYW5kbGVyKHRoaXMub25Hb1RvRWRpdG9yKTtcclxuXHR9XHJcblxyXG5cdGZpcmVSZXBvcnRWaWV3ZXJMaW5rKCkge1xyXG5cdFx0dGhpcy5maXJlSGFuZGxlcih0aGlzLm9uR29Ub1ZpZXdlcik7XHJcblx0fVxyXG5cclxuXHRyZWxvYWRUaWxlKCkge1xyXG5cdFx0dGhpcy5maXJlSGFuZGxlcih0aGlzLm9uUmVsb2FkKTtcclxuXHR9XHJcblxyXG5cdHNlbGVjdFJlcG9ydFBhcnQoKSB7XHJcblx0XHR0aGlzLmZpcmVIYW5kbGVyKHRoaXMub25TZWxlY3RSZXBvcnQpO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIHJpZ2h0c1xyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRoYXNSaWdodExldmVsKHJlcXVpcmVkTGV2ZWwpOiBib29sZWFuIHtcclxuXHRcdHZhciByaWdodHMgPSBbJ05vbmUnLCAnTG9ja2VkJywgJ1ZpZXcgT25seScsICdSZWFkIE9ubHknLCAnRnVsbCBBY2Nlc3MnXTtcclxuXHRcdHZhciBjdXJyZW50UmlnaHRMZXZlbCA9IHJpZ2h0cy5pbmRleE9mKHRoaXMudGlsZS5tYXhSaWdodHMpO1xyXG5cdFx0aWYgKGN1cnJlbnRSaWdodExldmVsIDwgMClcclxuXHRcdFx0dGhyb3cgJ1Vua25vd24gcmlnaHQgc3RyaW5nOiAnICsgdGhpcy50aWxlLm1heFJpZ2h0cztcclxuXHRcdHJldHVybiBjdXJyZW50UmlnaHRMZXZlbCA+PSByZXF1aXJlZExldmVsO1xyXG5cdH1cclxuXHJcblx0aGFzTG9ja2VkUmlnaHRzT3JNb3JlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaGFzUmlnaHRMZXZlbCgxKTtcclxuXHR9XHJcblxyXG5cdGhhc1ZpZXdPbmx5UmlnaHRzT3JNb3JlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaGFzUmlnaHRMZXZlbCgyKTtcclxuXHR9XHJcblxyXG5cdGhhc1JlYWRPbmx5UmlnaHRzT3JNb3JlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaGFzUmlnaHRMZXZlbCgzKTtcclxuXHR9XHJcblxyXG5cdGhhc0Z1bGxSaWdodHMoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5oYXNSaWdodExldmVsKDQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSXMgaHRtbCBtb2RlbCBlbmFibGVkIGluIEFkSG9jU2V0dGluZ3NcclxuXHQgKi9cclxuXHRpc1ByaW50VGlsZVZpc2libGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmludE1vZGUgPT09ICdIdG1sJyB8fCB0aGlzLnByaW50TW9kZSA9PT0gJ0h0bWwyUGRmQW5kSHRtbCc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBvbmUgY29sdW1uIHZpZXcgcmVxdWlyZWRcclxuXHQgKi9cclxuXHRpc09uZUNvbHVtblZpZXcoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNPbmVDb2x1bW5WaWV3KCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGluaXRpYWxpemVBZEhvY1NldHRpbmdzKCkge1xyXG5cdFx0dmFyIHNldHRpbmdzID0gdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENvbW1vblNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmlzRGVzaWduTGlua3NBbGxvd2VkID0gc2V0dGluZ3Muc2hvd0Rlc2lnbkxpbmtzOyAvLyBzaG93L2hpZGUgXCJnbyB0byBkZXNpZ25lclwiIGJ1dHRvblxyXG5cdFx0dGhpcy5zaG93QWxsSW5SZXN1bHRzID0gc2V0dGluZ3Muc2hvd0FsbEluUmVzdWx0czsgLy8gc2hvdyBcIkFMTFwiIGluIHRpbGUgdG9wIHNsaWRlclxyXG5cdFx0dGhpcy5wcmludE1vZGUgPSB0aGlzLiRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncy5hbGxvd2VkUHJpbnRFbmdpbmU7IC8vIGFsbG93ZWQgcHJpbnQgbW9kZXNcclxuXHR9XHJcblxyXG5cdGZpcmVIYW5kbGVyKGhhbmRsZXJGdW5jdGlvbjogKGFueSkgPT4gdm9pZCkge1xyXG5cdFx0aWYgKGhhbmRsZXJGdW5jdGlvbilcclxuXHRcdFx0aGFuZGxlckZ1bmN0aW9uKHt9KTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUsIHsgSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzIH0gZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXRpbFVpU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy91dGlsLXVpLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9sb2NhbGl6YXRpb24tc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFRdWVyeVNldHRpbmdzU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvc2V0dGluZ3Mtc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZSc7XHJcbmltcG9ydCB7IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbCB9IGZyb20gJ2Rhc2hib2FyZC9tb2RlbC90aWxlLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvZGFzaGJvYXJkLW1vZGVsJztcclxuXHJcbi8qKlxyXG4gKiBUaWxlIGRlZmF1bHQgc3RhdGUgb2JqZWN0XHJcbiAqL1xyXG5pemVuZGFEYXNoYm9hcmRNb2R1bGUuY29uc3RhbnQoJ3RpbGVEZWZhdWx0cycsIHtcclxuXHRpZDogbnVsbCxcclxuXHRjYW5CZUxvYWRlZDogZmFsc2UsXHJcblx0bWF4UmlnaHRzOiAnTm9uZScsXHJcblx0dGl0bGU6IG51bGwsXHJcblx0ZGVzY3JpcHRpb246IG51bGwsXHJcblx0cmVwb3J0RnVsbE5hbWU6IG51bGwsXHJcblx0cmVwb3J0UGFydE5hbWU6IG51bGwsXHJcblx0cmVwb3J0U2V0TmFtZTogbnVsbCxcclxuXHRyZXBvcnROYW1lOiBudWxsLFxyXG5cdHJlcG9ydENhdGVnb3J5OiBudWxsLFxyXG5cdHJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnk6IG51bGwsXHJcblx0cHJldmlvdXNSZXBvcnRGdWxsTmFtZTogbnVsbCxcclxuXHRpc1NvdXJjZVJlcG9ydERlbGV0ZWQ6IGZhbHNlLFxyXG5cdGRlc2lnbmVyVHlwZTogJ1JlcG9ydERlc2lnbmVyJyxcclxuXHR4OiAwLFxyXG5cdHk6IDAsXHJcblx0d2lkdGg6IDEsXHJcblx0aGVpZ2h0OiAxLFxyXG5cdHRvcDogMTAwLFxyXG5cdHRvcFN0cmluZzogJzEwMCcsXHJcblx0ZmxpcDogZmFsc2UsXHJcblx0YXBwbHlGaWx0ZXJQYXJhbXM6IGZhbHNlLFxyXG5cdGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxyXG5cdGJhY2tUaWxlUG9wdXBPcGVuZWQ6IGZhbHNlXHJcbn0pO1xyXG5cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFEYXNoYm9hcmRNb2R1bGUsXHJcblx0J2l6ZW5kYURhc2hib2FyZFRpbGUnLFxyXG5cdFsncngnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyR0aW1lb3V0JywgJyR3aW5kb3cnLCAnJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlJywgJyRpemVuZGFVdGlsU2VydmljZScsICckaXplbmRhVXJsU2VydmljZScsXHJcblx0XHQnJGl6ZW5kYVV0aWxVaVNlcnZpY2UnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVNldHRpbmdzU2VydmljZScsICckaXplbmRhRGFzaGJvYXJkU2V0dGluZ3MnLCAnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5jb21wb25lbnRzLnRpbGUudGlsZS10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdHRpbGU6ICc8JywgLy8gbWFpbiB0aWxlIG9iamVjdFxyXG5cdFx0XHR0aWxlczogJzwnLCAvLyBhbGwgdGlsZSBvYmplY3RzIGluIGRhc2hib2FyZFxyXG5cdFx0XHRncmlkV2lkdGg6ICc8JyxcclxuXHRcdFx0Z3JpZEhlaWdodDogJzwnLFxyXG5cdFx0XHRpc0Rhc2hib2FyZENoYW5naW5nTm93OiAnPCcsXHJcblx0XHRcdG9uVGlsZURyYWc6ICcmJyxcclxuXHRcdFx0b25UaWxlRHJhZ1N0YXJ0OiAnJicsXHJcblx0XHRcdG9uVGlsZURyYWdFbmQ6ICcmJyxcclxuXHRcdFx0b25UaWxlUmVzaXplOiAnJicsXHJcblx0XHRcdG9uVGlsZVJlc2l6ZVN0YXJ0OiAnJicsXHJcblx0XHRcdG9uVGlsZVJlc2l6ZUVuZDogJyYnLFxyXG5cdFx0XHRvblRpbGVEZWxldGU6ICcmJyxcclxuXHRcdFx0b25UaWxlUmVwb3J0U2VsZWN0ZWQ6ICcmJ1xyXG5cdFx0fVxyXG5cdH0pXHJcbmNsYXNzIEl6ZW5kYURhc2hib2FyZFRpbGVDb21wb25lbnQgaW1wbGVtZW50cyBuZy5JQ29tcG9uZW50Q29udHJvbGxlciB7XHJcblxyXG5cdHN1YnNjcmlwdGlvbnM6IGFueVtdO1xyXG5cclxuXHRpc0llOiBib29sZWFuO1xyXG5cdGlzQnV0dG9uc1Zpc2libGU6IGJvb2xlYW47XHJcblxyXG5cdHRpbGU6IEl6ZW5kYURhc2hib2FyZFRpbGVNb2RlbDtcclxuXHR0aWxlczogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsW107XHJcblx0bW9kZWw6IEl6ZW5kYURhc2hib2FyZE1vZGVsO1xyXG5cclxuXHRkZWxldGVDb25maXJtQ2xhc3M6IHN0cmluZyA9ICd0aXRsZS1idXR0b24gaGlkZGVuLWNvbmZpcm0tYnRuJztcclxuXHR0aWxlU2l6ZUNoYW5nZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRzdGF0ZTogYW55O1xyXG5cdGlzU2VsZWN0UmVwb3J0UGFydE1vZGFsVmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdGV4cG9ydFByb2dyZXNzOiBzdHJpbmc7XHJcblx0cHJldmlvdXNXaWR0aDogbnVtYmVyO1xyXG5cdGlzRGFzaGJvYXJkQ2hhbmdpbmdOb3c6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRncmlkV2lkdGg6IG51bWJlcjtcclxuXHRncmlkSGVpZ2h0OiBudW1iZXI7XHJcblxyXG5cdG9uVGlsZURlbGV0ZTogYW55O1xyXG5cdG9uVGlsZVJlc2l6ZVN0YXJ0OiBhbnk7XHJcblx0b25UaWxlUmVzaXplOiBhbnk7XHJcblx0b25UaWxlUmVzaXplRW5kOiBhbnk7XHJcblx0b25UaWxlRHJhZ0VuZDogYW55O1xyXG5cdG9uVGlsZVJlcG9ydFNlbGVjdGVkOiBhbnk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSByeDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVV0aWxTZXJ2aWNlOiBJemVuZGFVdGlsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFVdGlsVWlTZXJ2aWNlOiBJemVuZGFVdGlsVWlTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNldHRpbmdzU2VydmljZTogSXplbmRhUXVlcnlTZXR0aW5nc1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTZXR0aW5nczogSUl6ZW5kYURhc2hib2FyZFNldHRpbmdzLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2U6IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlKSB7XHJcblxyXG5cdH1cclxuXHJcblx0JG9uSW5pdCgpIHtcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xyXG5cclxuXHRcdHRoaXMuaXNJZSA9IHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzSWUoKTtcclxuXHRcdHRoaXMuaXNCdXR0b25zVmlzaWJsZSA9IHRydWU7XHJcblx0XHR0aGlzLmRlbGV0ZUNvbmZpcm1DbGFzcyA9ICd0aXRsZS1idXR0b24gaGlkZGVuLWNvbmZpcm0tYnRuJztcclxuXHRcdHRoaXMudGlsZVNpemVDaGFuZ2VkID0gZmFsc2U7XHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRlbXB0eTogdHJ1ZSxcclxuXHRcdFx0cmVzaXphYmxlSGFuZGxlclN0YXJ0ZWQ6IGZhbHNlLFxyXG5cdFx0XHRyZWxhdGl2ZVJlcG9ydENvbXBsZXhpdHk6IDBcclxuXHRcdH07XHJcblx0XHR0aGlzLmlzU2VsZWN0UmVwb3J0UGFydE1vZGFsVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5leHBvcnRQcm9ncmVzcyA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5wcmV2aW91c1dpZHRoID0gdGhpcy4kd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW1xyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5yZWZyZXNoT2JzZXJ2YWJsZS5zdWJzY3JpYmUocmVmcmVzaEluZm8gPT4gdGhpcy4kb25SZWZyZXNoKHJlZnJlc2hJbmZvKSksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLndpbmRvd1NpemUuc3Vic2NyaWJlT25OZXh0KG5ld1dpbmRvd1NpemUgPT4ge1xyXG5cdFx0XHRcdGlmICh0aGlzLnByZXZpb3VzV2lkdGggPT09IG5ld1dpbmRvd1NpemUud2lkdGgpXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dGhpcy5wcmV2aW91c1dpZHRoID0gbmV3V2luZG93U2l6ZS53aWR0aDtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hUaWxlKGZhbHNlKTtcclxuXHRcdFx0fSlcclxuXHRcdF07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCaW5kaW5ncyBsaXN0ZW5lclxyXG5cdCAqL1xyXG5cdCRvbkNoYW5nZXMoY2hhbmdlc09iaikge1xyXG5cdFx0aWYgKGNoYW5nZXNPYmoudGlsZSAmJiBhbmd1bGFyLmlzT2JqZWN0KGNoYW5nZXNPYmoudGlsZSkpIHtcclxuXHRcdFx0dGhpcy5yZWZyZXNoVGlsZSgpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdCRvbkRlc3Ryb3koKSB7XHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWIgPT4gc3ViLmRpc3Bvc2UoKSk7XHJcblx0fVxyXG5cclxuXHQkb25SZWZyZXNoKHJlZnJlc2hJbmZvKSB7XHJcblx0XHRjb25zdCB1cGRhdGVGcm9tU291cmNlID0gcmVmcmVzaEluZm8udXBkYXRlRnJvbVNvdXJjZTtcclxuXHRcdGNvbnN0IHRpbGUgPSByZWZyZXNoSW5mby50aWxlO1xyXG5cdFx0aWYgKCF0aWxlIHx8IHRpbGUgPT09IHRoaXMudGlsZSlcclxuXHRcdFx0dGhpcy5yZWZyZXNoVGlsZSh1cGRhdGVGcm9tU291cmNlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlmIHRpbGUgaXMgZW1wdHlcclxuXHQgKi9cclxuXHRpc1RpbGVFbXB0eSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnN0YXRlLmVtcHR5O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgb25lIGNvbHVtbiB2aWV3IHJlcXVpcmVkXHJcblx0ICovXHJcblx0aXNPbmVDb2x1bW5WaWV3KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzT25lQ29sdW1uVmlldygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgdGlsZSBpcyByZWFkIG9ubHlcclxuXHQgKi9cclxuXHRpc0VkaXRBbGxvd2VkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRWRpdEFsbG93ZWQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlmIHRpbGUgdGl0bGUgc2V0XHJcblx0ICovXHJcblx0aXNUaXRsZVNldCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBhbmd1bGFyLmlzU3RyaW5nKHRoaXMudGlsZS50aXRsZSkgJiYgdGhpcy50aWxlLnRpdGxlICE9PSAnJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElzIHRpbGUgc21hbGwgZW5vdWdoIGFuZCB3ZSBuZWVkIHRvIHNob3cgYnV0dG9ucyB3aXRob3V0IGxhYmVscy5cclxuXHQgKi9cclxuXHRpc1RpbGVCdXR0b25zVGlnaHQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy50aWxlLndpZHRoICogdGhpcy5ncmlkV2lkdGggPCA0MDA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBjaGFuZ2UgcmVwb3J0IGNhdGVnb3J5IGZyb20gY2F0MVxcY2F0MlxcY2F0MyB0byBjYXQxL2NhdDIvY2F0M1xyXG5cdCAqL1xyXG5cdGdldENvbnZlcnRlZFJlcG9ydENhdGVnb3J5KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci5pc1N0cmluZyh0aGlzLnRpbGUucmVwb3J0Q2F0ZWdvcnkpID8gdGhpcy50aWxlLnJlcG9ydENhdGVnb3J5IDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIHRpdGxlIHRleHRcclxuXHQgKi9cclxuXHRnZXRUaXRsZVRleHQoKTogc3RyaW5nIHtcclxuXHRcdGlmICh0aGlzLmlzVGl0bGVTZXQoKSlcclxuXHRcdFx0cmV0dXJuIHRoaXMudGlsZS50aXRsZTtcclxuXHRcdGxldCByZXN1bHQgPSAnJztcclxuXHRcdGlmICh0aGlzLmdldENvbnZlcnRlZFJlcG9ydENhdGVnb3J5KCkpXHJcblx0XHRcdHJlc3VsdCArPSB0aGlzLmdldENvbnZlcnRlZFJlcG9ydENhdGVnb3J5KCkgKyAnIC8gJztcclxuXHRcdGlmICh0aGlzLnRpbGUucmVwb3J0TmFtZSAmJiB0aGlzLnRpbGUucmVwb3J0UGFydE5hbWUpXHJcblx0XHRcdHJlc3VsdCArPSB0aGlzLnRpbGUucmVwb3J0TmFtZSArICcgLyAnICsgdGhpcy50aWxlLnJlcG9ydFBhcnROYW1lO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElzIGh0bWwgbW9kZWwgZW5hYmxlZCBpbiBBZEhvY1NldHRpbmdzXHJcblx0ICovXHJcblx0aXNSZXBvcnREaXZIaWRkZW4oKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gIXRoaXMudGlsZS5yZXBvcnRGdWxsTmFtZSB8fCB0aGlzLmlzRGFzaGJvYXJkQ2hhbmdpbmdOb3c7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJcyB0aWxlIGNvbnRlbnQgc2hvdWxkIGJlIGhpZGRlbiBub3cuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBpc1RpbGVTbWFsbEVub3VnaCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnRpbGUud2lkdGggKiB0aGlzLmdyaWRXaWR0aCA8IDQwMCB8fCB0aGlzLnRpbGUuaGVpZ2h0ICogdGhpcy5ncmlkSGVpZ2h0IDwgNDAwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xhc3MgZm9yIGNvbmZpcm0gZGVsZXRlIGJ1dHRvbiAoZGVwZW5kcyBvbiB0aWxlIHNpemUpXHJcblx0ICovXHJcblx0Z2V0Q29uZmlybURlbGV0ZUNsYXNzKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCB0aWdodENsYXNzID0gdGhpcy5pc1RpbGVCdXR0b25zVGlnaHQoKSA/ICcgc2hvcnQnIDogJyc7XHJcblx0XHRyZXR1cm4gYHRpdGxlLWJ1dHRvbi1jb25maXJtLXJlbW92ZSR7dGlnaHRDbGFzc31gO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xhc3MgZm9yIGNhbmNlbCBkZWxldGUgYnV0dG9uIChkZXBlbmRzIG9uIHRpbGUgc2l6ZSlcclxuXHQgKi9cclxuXHRnZXRDYW5jZWxEZWxldGVDbGFzcygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgdGlnaHRDbGFzcyA9IHRoaXMuaXNUaWxlQnV0dG9uc1RpZ2h0KCkgPyAnIHNob3J0JyA6ICcnO1xyXG5cdFx0cmV0dXJuIGB0aXRsZS1idXR0b24tY2FuY2VsLXJlbW92ZSR7dGlnaHRDbGFzc31gO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIGV4cG9ydCBtb2RhbFxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0Z2V0V2FpdE1lc3NhZ2VIZWFkZXJUZXh0KCkge1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPT09ICdleHBvcnQnKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FeHBvcnRpbmdJblByb2dyZXNzJywgJ0V4cG9ydGluZyBpbiBwcm9ncmVzcy4nKTtcclxuXHRcdGlmICh0aGlzLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19QcmludGluZ0luUHJvZ3Jlc3MnLCAnUHJpbnRpbmcgaW4gcHJvZ3Jlc3MuJyk7XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fVxyXG5cclxuXHRnZXRXYWl0TWVzc2FnZVRleHQoKSB7XHJcblx0XHRpZiAodGhpcy5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZpbmlzaEV4cG9ydGluZycsICdQbGVhc2Ugd2FpdCB0aWxsIGV4cG9ydCBpcyBjb21wbGV0ZWQuLi4nKTtcclxuXHRcdGlmICh0aGlzLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GaW5pc2hQcmludGluZycsICdQbGVhc2UgZmluaXNoIHByaW50aW5nIGJlZm9yZSBjb250aW51ZS4nKTtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHQvLyB0aWxlIGFjdGlvbnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3cgY29uZmlybSBkZWxldGUgZGlhbG9nIGluIHRpdGxlXHJcblx0ICovXHJcblx0c2hvd0NvbmZpcm1EZWxldGUoKSB7XHJcblx0XHRpZiAoIXRoaXMudGlsZS5yZXBvcnRGdWxsTmFtZSkge1xyXG5cdFx0XHR0aGlzLmRlbGV0ZVRpbGUoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5kZWxldGVDb25maXJtQ2xhc3MgPSAndGl0bGUtYnV0dG9uJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhpZGUgY29uZmlybSBkZWxldGUgZGlhbG9nIGluIHRpdGxlXHJcblx0ICovXHJcblx0aGlkZUNvbmZpcm1EZWxldGUoKSB7XHJcblx0XHR0aGlzLmRlbGV0ZUNvbmZpcm1DbGFzcyA9ICd0aXRsZS1idXR0b24gaGlkZGVuLWNvbmZpcm0tYnRuJztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlbGV0ZSB0aGlzIHRpbGVcclxuXHQgKi9cclxuXHRkZWxldGVUaWxlKCkge1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uVGlsZURlbGV0ZSkpIHtcclxuXHRcdFx0dGhpcy5vblRpbGVEZWxldGUodGhpcy50aWxlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb3NlIGJhY2sgdGlsZSBwb3B1cFxyXG5cdCAqL1xyXG5cdGNsb3NlQmFja1RpbGVQb3B1cCgpIHtcclxuXHRcdHRoaXMudGlsZS5iYWNrVGlsZVBvcHVwT3BlbmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCYWNrIHRpbGUgcG9wdXAgY2xvc2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHRvbkJhY2tUaWxlUG9wdXBDbG9zZWQoKSB7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUHJpbnQgdGlsZVxyXG5cdCAqL1xyXG5cdHByaW50VGlsZSgpIHtcclxuXHRcdHRoaXMuY2xvc2VCYWNrVGlsZVBvcHVwKCk7XHJcblxyXG5cdFx0Ly8gcHJpbnQgc2luZ2xlIHRpbGUgaWYgcGFyYW1ldGVyIGlzIHNldDpcclxuXHRcdGlmICghdGhpcy50aWxlLnJlcG9ydEZ1bGxOYW1lKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UucHJpbnREYXNoYm9hcmQoJ2h0bWwnLCB0aGlzLnRpbGUucmVwb3J0RnVsbE5hbWUpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHQvLyBIVE1MIHByaW50IHByaW50IHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQgaGFuZGxlclxyXG5cdFx0XHR0aGlzLmZsaXBGcm9udCh0cnVlLCBmYWxzZSk7XHJcblx0XHR9LCBlcnJvciA9PiB7XHJcblx0XHRcdGNvbnN0IGVycm9yVGl0bGUgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFByaW50UmVwb3J0VGl0bGUnLCAnUmVwb3J0IHByaW50IGVycm9yJyk7XHJcblx0XHRcdGxldCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFByaW50UmVwb3J0JyxcclxuXHRcdFx0XHQnRmFpbGVkIHRvIHByaW50IHJlcG9ydCBcInswfVwiLiBFcnJvciBkZXNjcmlwdGlvbjogezF9LicpO1xyXG5cdFx0XHRlcnJvclRleHQgPSBlcnJvclRleHQucmVwbGFjZUFsbCgnezB9JywgdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSA/IHRoaXMubW9kZWwucmVwb3J0RnVsbE5hbWUgOiAnJyk7XHJcblx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MX0nLCBlcnJvcik7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCwgZXJyb3JUaXRsZSk7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHR0aGlzLmZsaXBGcm9udCh0cnVlLCBmYWxzZSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4cG9ydCB0byBleGNlbFxyXG5cdCAqL1xyXG5cdGV4cG9ydEV4Y2VsKCkge1xyXG5cdFx0dGhpcy5jbG9zZUJhY2tUaWxlUG9wdXAoKTtcclxuXHRcdC8vIGRvd25sb2FkIHRoZSBmaWxlXHJcblx0XHQvLyBUT0RPIHZlcnkgZWFzeSB0byBhZGQgUERGIHByaW50IGZvciB0aWxlOiAnZXhjZWwnID0+ICdwZGYnXHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5wcmludERhc2hib2FyZCgnZXhjZWwnLCB0aGlzLnRpbGUucmVwb3J0RnVsbE5hbWUpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmZsaXBGcm9udCh0cnVlLCBmYWxzZSk7XHJcblx0XHR9LCAoZXJyb3IpID0+IHtcclxuXHRcdFx0Y29uc3QgZXJyb3JUaXRsZSA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkRXhwb3J0UmVwb3J0VGl0bGUnLCAnUmVwb3J0IGV4cG9ydCBlcnJvcicpO1xyXG5cdFx0XHRsZXQgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRFeHBvcnRSZXBvcnQnLFxyXG5cdFx0XHRcdCdGYWlsZWQgdG8gZXhwb3J0IHJlcG9ydCBcInswfVwiLiBFcnJvciBkZXNjcmlwdGlvbjogezF9LicpO1xyXG5cdFx0XHRlcnJvclRleHQgPSBlcnJvclRleHQucmVwbGFjZUFsbCgnezB9JywgdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSA/IHRoaXMubW9kZWwucmVwb3J0RnVsbE5hbWUgOiAnJyk7XHJcblx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MX0nLCBlcnJvcik7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCwgZXJyb3JUaXRsZSk7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHR0aGlzLmZsaXBGcm9udCh0cnVlLCBmYWxzZSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJhY2sgdGlsZSBzaWRlIGNsaWNrIGhhbmRsZXJcclxuXHQgKi9cclxuXHRvbkJhY2tUaWxlQ2xpY2soKSB7XHJcblx0XHR0aGlzLnRpbGVzLmZvckVhY2godGlsZSA9PiB7XHJcblx0XHRcdGlmICh0aWxlLmlkICE9PSB0aGlzLnRpbGUuaWQpXHJcblx0XHRcdFx0dGlsZS5iYWNrVGlsZVBvcHVwT3BlbmVkID0gZmFsc2U7XHJcblx0XHR9KTtcclxuXHRcdGlmICh0aGlzLmlzVGlsZVNtYWxsRW5vdWdoKCkpIHtcclxuXHRcdFx0dGhpcy50aWxlLmJhY2tUaWxlUG9wdXBPcGVuZWQgPSAhdGhpcy50aWxlLmJhY2tUaWxlUG9wdXBPcGVuZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmZsaXBCYWNrKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGbGlwIHRpbGUgYmFja1xyXG5cdCAqL1xyXG5cdGZsaXBCYWNrKCkge1xyXG5cdFx0dGhpcy50aWxlLmZsaXAgPSB7XHJcblx0XHRcdGlzRnJvbnQ6IGZhbHNlXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmxpcCB0aWxlIGZyb250XHJcblx0ICovXHJcblx0ZmxpcEZyb250KHVwZGF0ZT86IGJvb2xlYW4sIHVwZGF0ZUZyb21Tb3VyY2VSZXBvcnQ/OiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmNsb3NlQmFja1RpbGVQb3B1cCgpO1xyXG5cdFx0dGhpcy50aWxlLmZsaXAgPSB7XHJcblx0XHRcdGlzRnJvbnQ6IHRydWUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHR1cGRhdGVGcm9tU291cmNlUmVwb3J0OiB1cGRhdGVGcm9tU291cmNlUmVwb3J0XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR28gdG8gcmVwb3J0IHZpZXdlclxyXG5cdCAqL1xyXG5cdGZpcmVSZXBvcnRWaWV3ZXJMaW5rKCkge1xyXG5cdFx0dGhpcy5jbG9zZUJhY2tUaWxlUG9wdXAoKTtcclxuXHJcblx0XHRpZiAoIXRoaXMudGlsZS5pc1NvdXJjZVJlcG9ydERlbGV0ZWQpIHtcclxuXHRcdFx0dGhpcy4kd2luZG93Lm9wZW4odGhpcy5nZXRSZXBvcnRWaWV3ZXJMaW5rKCksICdfYmxhbmsnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxldCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX1NvdXJjZVJlcG9ydE5vdEV4aXN0JywgJ1NvdXJjZSByZXBvcnQgXCJ7MH1cIiBkb2VzblxcJ3QgZXhpc3QuJyk7XHJcblx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoL1xcezBcXH0vZyksIHRoaXMuZ2V0U291cmNlUmVwb3J0TmFtZSgpKTtcclxuXHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdvIHRvIHJlcG9ydCBlZGl0b3JcclxuXHQgKi9cclxuXHRmaXJlUmVwb3J0RWRpdG9yTGluaygpIHtcclxuXHRcdHRoaXMuY2xvc2VCYWNrVGlsZVBvcHVwKCk7XHJcblxyXG5cdFx0aWYgKCF0aGlzLnRpbGUuaXNTb3VyY2VSZXBvcnREZWxldGVkKSB7XHJcblx0XHRcdHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMuZ2V0UmVwb3J0RWRpdG9yTGluaygpLCAnX2JsYW5rJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsZXQgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19Tb3VyY2VSZXBvcnROb3RFeGlzdCcsICdTb3VyY2UgcmVwb3J0IFwiezB9XCIgbm90IGV4aXN0LicpO1xyXG5cdFx0XHRlcnJvclRleHQgPSBlcnJvclRleHQucmVwbGFjZShuZXcgUmVnRXhwKC9cXHswXFx9L2cpLCB0aGlzLmdldFNvdXJjZVJlcG9ydE5hbWUoKSk7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWZyZXNoIHRpbGUgY29udGVudFxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gdXBkYXRlRnJvbVNvdXJjZVJlcG9ydC4gSXMgdGlsZSBjb250ZW50IG5lZWQgdG8gYmUgcmVmcmVzaGVkIGZyb20gdGhlIHNvdXJjZSByZXBvcnQuXHJcblx0ICogVE9ETzogcmVtb3ZlIERPTSBtYW5pcHVsYXRpb25zIHRvIHNlcGFyYXRlIGRpcmVjdGl2ZS5cclxuXHQgKi9cclxuXHRyZWZyZXNoVGlsZSh1cGRhdGVGcm9tU291cmNlUmVwb3J0PzogYm9vbGVhbikge1xyXG5cdFx0Ly8gVE9ETzogZG8gd2UgbmVlZCB0aGlzIHZhcmlhYmxlP1xyXG5cdFx0Ly9jb25zdCB1cGRhdGVGcm9tU291cmNlID0gdGhpcy50aWxlLnVwZGF0ZUZyb21Tb3VyY2UgfHwgdXBkYXRlRnJvbVNvdXJjZVJlcG9ydDtcclxuXHJcblx0XHR0aGlzLnRpbGVTaXplQ2hhbmdlZCA9IGZhbHNlOyAvLyByZXNldCB0aWxlIHNpemUgaW5mb3JtYXRpb25cclxuXHRcdHRoaXMudGlsZS51cGRhdGVGcm9tU291cmNlID0gZmFsc2U7IC8vIHJlc2V0IHVwZGF0ZSBmcm9tIHNvdXJjZSBmbGFnXHJcblxyXG5cdFx0aWYgKCF0aGlzLnRpbGUucmVwb3J0RnVsbE5hbWUpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMudGlsZS5wcmV2aW91c1JlcG9ydEZ1bGxOYW1lID0gbnVsbDtcclxuXHJcblx0XHQvLyBzZXQgbG9hZGluZyBodG1sXHJcblx0XHRjb25zdCBsb2FkaW5nSHRtbCA9XHJcblx0XHRcdGA8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi12Y2VudGVyZWQtY29udGFpbmVyXCI+XHJcblx0PGRpdiBjbGFzcz1cIml6ZW5kYS1jb21tb24tdmNlbnRlcmVkLWl0ZW1cIj5cclxuXHRcdDxpbWcgY2xhc3M9XCJpemVuZGEtY29tbW9uLWltZy1sb2FkaW5nXCIgc3JjPVwiJHt0aGlzLiRpemVuZGFVcmxTZXJ2aWNlLnNldHRpbmdzLnVybFJwUGFnZX1pbWFnZT1Nb2Rlcm5JbWFnZXMubG9hZGluZy1ncmlkLmdpZlwiIGFsdD1cIkxvYWRpbmcuLi5cIiAvPlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cdFx0Y29uc3QgJGJvZHkgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5hbmltYXRlLWZsaXA+IC5mbGlwcHktZnJvbnQ+IC5mcmFtZT4gLnJlcG9ydCcpO1xyXG5cdFx0JGJvZHkuaHRtbChsb2FkaW5nSHRtbCk7XHJcblxyXG5cdFx0Ly8gY2FsY3VsYXRlIHRpbGUgd2lkdGggYW5kIGhlaWdodCBpbiBwaXhlbHNcclxuXHRcdGNvbnN0IHRpbGVXaWR0aCA9IHRoaXMuZ2V0V2lkdGgoKSAqIHRoaXMuZ3JpZFdpZHRoIC0gMjA7XHJcblx0XHRsZXQgdGlsZUhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCkgKiB0aGlzLmdyaWRIZWlnaHQgLSA1NTtcclxuXHRcdGlmICh0aGlzLnRpbGUuZGVzY3JpcHRpb24pXHJcblx0XHRcdHRpbGVIZWlnaHQgLT0gMzI7XHJcblx0XHRjb25zdCBzaXplID0ge1xyXG5cdFx0XHRoZWlnaHQ6IHRpbGVIZWlnaHQsXHJcblx0XHRcdHdpZHRoOiB0aWxlV2lkdGhcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gbG9hZCBwcmV2aWV3XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5sb2FkVGlsZXNQcmV2aWV3KHRoaXMudGlsZSwgc2l6ZSkudGhlbih0aWxlc0h0bWwgPT4ge1xyXG5cdFx0XHR0aGlzLmFwcGx5VGlsZUh0bWwodGlsZXNIdG1sKTtcclxuXHRcdH0sIGVycm9yID0+IHtcclxuXHRcdFx0dGhpcy5hcHBseVRpbGVIdG1sKGVycm9yKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHRpbGUgdG9wIHZhbHVlcy5cclxuXHQgKi9cclxuXHRzZXRUaWxlVG9wKG5ld1RvcDogbnVtYmVyKSB7XHJcblx0XHR0aGlzLnRpbGUudG9wID0gbmV3VG9wO1xyXG5cdFx0dGhpcy50aWxlLnRvcFN0cmluZyA9ICcnICsgbmV3VG9wO1xyXG5cdH1cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdC8vIHRpbGUgaGFuZGxlcnNcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc2l6ZSBzdGFydCBoYW5kbGVyXHJcblx0ICovXHJcblx0b25UaWxlUmVzaXplU3RhcnRJbm5lcihldmVudFJlc3VsdCkge1xyXG5cdFx0dGhpcy5pc0J1dHRvbnNWaXNpYmxlID0gZmFsc2U7XHJcblx0XHRpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25UaWxlUmVzaXplU3RhcnQpKVxyXG5cdFx0XHR0aGlzLm9uVGlsZVJlc2l6ZVN0YXJ0KGV2ZW50UmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlc2l6ZSBoYW5kbGVyXHJcblx0ICovXHJcblx0b25UaWxlUmVzaXplSW5uZXIoZXZlbnRSZXN1bHQpIHtcclxuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vblRpbGVSZXNpemUpKVxyXG5cdFx0XHR0aGlzLm9uVGlsZVJlc2l6ZShldmVudFJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXNpemUgZW5kIGhhbmRsZXJcclxuXHQgKi9cclxuXHRvblRpbGVSZXNpemVFbmRJbm5lcihldmVudFJlc3VsdCkge1xyXG5cdFx0aWYgKGV2ZW50UmVzdWx0LmlzVGlsZVNpemVDaGFuZ2VkKSB7XHJcblx0XHRcdHRoaXMuZmxpcEZyb250KCk7XHJcblx0XHRcdHRoaXMucmVmcmVzaFRpbGUoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uVGlsZVJlc2l6ZUVuZCkpIHtcclxuXHRcdFx0dGhpcy5vblRpbGVSZXNpemVFbmQoZXZlbnRSZXN1bHQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pc0J1dHRvbnNWaXNpYmxlID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERyYWcgZW5kIGhhbmRsZXJcclxuXHQgKi9cclxuXHRvblRpbGVEcmFnRW5kSW5uZXIoZXZlbnRSZXN1bHQpIHtcclxuXHRcdGNvbnN0IHJlc3VsdFR5cGUgPSBldmVudFJlc3VsdC50eXBlOyAvLyAnc3dhcCcsICdtb3ZlJyBvciAnbm9uZSdcclxuXHRcdGlmIChyZXN1bHRUeXBlID09PSAnc3dhcCcgJiYgZXZlbnRSZXN1bHQudGFyZ2V0VGlsZSAmJiBldmVudFJlc3VsdC5pc1RpbGVTaXplQ2hhbmdlZCkge1xyXG5cdFx0XHQvLyB3ZSBoYXZlIHRvIG5vdGlmeSBhbm90aGVyIHRpbGUgYWJvdXQgc3dhcFxyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5yZWZyZXNoRGFzaGJvYXJkKGZhbHNlLCBmYWxzZSwgZXZlbnRSZXN1bHQudGFyZ2V0VGlsZSk7XHJcblx0XHR9XHJcblx0XHRpZiAoZXZlbnRSZXN1bHQuaXNUaWxlU2l6ZUNoYW5nZWQpXHJcblx0XHRcdHRoaXMucmVmcmVzaFRpbGUoZmFsc2UpO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uVGlsZURyYWdFbmQpKVxyXG5cdFx0XHR0aGlzLm9uVGlsZURyYWdFbmQoZXZlbnRSZXN1bHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VsZWN0IHJlcG9ydCBwYXJ0IGZvciB0aWxlXHJcblx0ICovXHJcblx0c2VsZWN0UmVwb3J0UGFydCgpIHtcclxuXHRcdHRoaXMuaXNTZWxlY3RSZXBvcnRQYXJ0TW9kYWxWaXNpYmxlID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbGVjdCByZXBvcnQgcGFydCBjYW5jZWxsZWRcclxuXHQgKi9cclxuXHRvblNlbGVjdFJlcG9ydE1vZGFsQ2xvc2VkKCkge1xyXG5cdFx0Ly8gd2UgbmVlZCB0byByZXNldCBcIm9wZW5lZFwiIGJpbmRpbmcuXHJcblx0XHR0aGlzLmlzU2VsZWN0UmVwb3J0UGFydE1vZGFsVmlzaWJsZSA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVwb3J0IHBhcnQgc2VsZWN0ZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uU2VsZWN0UmVwb3J0UGFydChyZXBvcnRQYXJ0SW5mbykge1xyXG5cdFx0Ly8gaGlkZSBzZWxlY3QgcmVwb3J0IHBhcnQgZGlhbG9nXHJcblx0XHR0aGlzLmNsb3NlQmFja1RpbGVQb3B1cCgpO1xyXG5cdFx0Y29uc3QgcnBJbmZvID0gcmVwb3J0UGFydEluZm87XHJcblx0XHRpZiAocnBJbmZvLlVzZXNIaWRkZW5Db2x1bW5zKSB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd01lc3NhZ2VEaWFsb2coXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KFxyXG5cdFx0XHRcdFx0J2pzX2Nhbm5vdEFkZFJlcG9ydFdpdGhIaWRkZW5Db2x1bW5zVG9UaWxlJyxcclxuXHRcdFx0XHRcdCdZb3UgY2Fubm90IGFkZCB0aGlzIHJlcG9ydCBpbnRvIHRoZSBkYXNoYm9hcmQgYmVjYXVzZSBpdCBjb250YWlucyBoaWRkZW4gY29sdW1ucy4gUGxlYXNlIHJlLXNhdmUgdGhlIG9yaWdpbmFsIHJlcG9ydCBhcyBhIHJlcG9ydCB3aXRoIGEgZGlmZmVyZW50IG5hbWUgb3IgY2hvc2UgYW5vdGhlciBvbmUuJykpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGZOYW1lID0gcnBJbmZvLk5hbWU7XHJcblx0XHRpZiAoIXRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZChycEluZm8uQ2F0ZWdvcnkpKVxyXG5cdFx0XHRmTmFtZSA9IHJwSW5mby5DYXRlZ29yeSArIHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICsgZk5hbWU7XHJcblxyXG5cdFx0Y29uc3QgbmFtZXBhcnRzID0gcnBJbmZvLk5hbWUuc3BsaXQoJ0AnKTtcclxuXHRcdGNvbnN0IG5hbWUgPSBuYW1lcGFydHNbMF07XHJcblx0XHRjb25zdCBwYXJ0ID0gbmFtZXBhcnRzWzFdO1xyXG5cclxuXHRcdC8vIGNoZWNrIGlmIHRpbGUgYWxyZWFkeSBleGlzdFxyXG5cdFx0Y29uc3QgaXNUaWxlSW5EYXNoYm9hcmQgPSB0aGlzLnRpbGVzLmZpbHRlcigodGlsZSkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGlsZS5yZXBvcnRQYXJ0TmFtZSA9PT0gcGFydCAmJlxyXG5cdFx0XHRcdHRpbGUucmVwb3J0TmFtZSA9PT0gbmFtZSAmJlxyXG5cdFx0XHRcdCgodGlsZS5yZXBvcnRDYXRlZ29yeSA9PT0gcnBJbmZvLkNhdGVnb3J5KSB8fFxyXG5cdFx0XHRcdFx0KHRoaXMuJGl6ZW5kYVV0aWxTZXJ2aWNlLmlzVW5jYXRlZ29yaXplZCh0aWxlLnJlcG9ydENhdGVnb3J5KSAmJiB0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQocnBJbmZvLkNhdGVnb3J5KSkpO1xyXG5cdFx0fSkubGVuZ3RoID4gMDtcclxuXHJcblx0XHRpZiAoaXNUaWxlSW5EYXNoYm9hcmQpIHtcclxuXHRcdFx0Y29uc3QgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19DYW50U2VsZWN0UmVwb3J0UGFydCcsXHJcblx0XHRcdFx0J0NhblxcJ3Qgc2VsZWN0IHJlcG9ydCBwYXJ0IGJlY2F1c2UgZGFzaGJvYXJkIGFscmVhZHkgY29udGFpbnMgdGlsZSB3aXRoIHRoYXQgcmVwb3J0LicpO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dOb3RpZmljYXRpb24oZXJyb3JUZXh0KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHVwZGF0ZSByZXBvcnQgcGFyYW1ldGVyc1xyXG5cdFx0dGhpcy50aWxlLnByZXZpb3VzUmVwb3J0RnVsbE5hbWUgPSB0aGlzLnRpbGUucmVwb3J0RnVsbE5hbWU7XHJcblx0XHRhbmd1bGFyLmV4dGVuZCh0aGlzLnRpbGUsIHRoaXMuJGl6ZW5kYVVybFNlcnZpY2UuZXh0cmFjdFJlcG9ydFBhcnROYW1lcyhmTmFtZSwgdHJ1ZSkpO1xyXG5cdFx0dGhpcy50aWxlLnRpdGxlID0gcnBJbmZvLlRpdGxlO1xyXG5cclxuXHRcdC8vIHVwZGF0ZSByZXBvcnQgbmFtZSB3aXRoIGNhdGVnb3J5IHZhcmlhYmxlXHJcblx0XHR0aGlzLnRpbGUucmVwb3J0TmFtZVdpdGhDYXRlZ29yeSA9IHRoaXMudGlsZS5yZXBvcnROYW1lO1xyXG5cdFx0aWYgKCF0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQodGhpcy50aWxlLnJlcG9ydENhdGVnb3J5KSlcclxuXHRcdFx0dGhpcy50aWxlLnJlcG9ydE5hbWVXaXRoQ2F0ZWdvcnkgPSB0aGlzLnRpbGUucmVwb3J0Q2F0ZWdvcnkgK1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVNldHRpbmdzU2VydmljZS5nZXRDYXRlZ29yeUNoYXJhY3RlcigpICtcclxuXHRcdFx0XHR0aGlzLnRpbGUucmVwb3J0TmFtZVdpdGhDYXRlZ29yeTtcclxuXHJcblx0XHRpZiAocnBJbmZvLklzTG9ja2VkKVxyXG5cdFx0XHR0aGlzLnRpbGUubWF4UmlnaHRzID0gJ0xvY2tlZCc7XHJcblx0XHRlbHNlIGlmIChycEluZm8uVmlld09ubHkpXHJcblx0XHRcdHRoaXMudGlsZS5tYXhSaWdodHMgPSAnVmlldyBPbmx5JztcclxuXHRcdGVsc2UgaWYgKHJwSW5mby5SZWFkT25seSlcclxuXHRcdFx0dGhpcy50aWxlLm1heFJpZ2h0cyA9ICdSZWFkIE9ubHknO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aGlzLnRpbGUubWF4UmlnaHRzID0gJ0Z1bGwgQWNjZXNzJztcclxuXHJcblx0XHQvLyBzZXQgdG9wIHZhcmlhYmxlcyBmb3IgdGlsZTpcclxuXHRcdGNvbnN0IG5ld1RvcCA9IHJwSW5mby5OYXRpdmVUb3AgJiYgcnBJbmZvLk5hdGl2ZVRvcCA+IDAgPyBycEluZm8uTmF0aXZlVG9wIDogMTAwO1xyXG5cdFx0dGhpcy5zZXRUaWxlVG9wKG5ld1RvcCk7XHJcblx0XHR0aGlzLnRpbGUuZGVzaWduZXJUeXBlID0gcnBJbmZvLkRlc2lnbmVyVHlwZTtcclxuXHRcdHRoaXMuZmxpcEZyb250KHRydWUsIHRydWUpO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uVGlsZVJlcG9ydFNlbGVjdGVkKSkge1xyXG5cdFx0XHR0aGlzLm9uVGlsZVJlcG9ydFNlbGVjdGVkKHRoaXMudGlsZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaWxlIGZsaXAgaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uVGlsZUZsaXAoaXNGcm9udCwgdXBkYXRlLCB1cGRhdGVGcm9tU291cmNlUmVwb3J0KSB7XHJcblx0XHRpZiAoaXNGcm9udCAmJiB1cGRhdGUpIHtcclxuXHRcdFx0dGhpcy5yZWZyZXNoVGlsZSh1cGRhdGVGcm9tU291cmNlUmVwb3J0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRpbGUgdG9wIGNoYW5nZWQ6XHJcblx0ICovXHJcblx0b25TZXRUaWxlVG9wKHRvcCkge1xyXG5cdFx0aWYgKHRoaXMudGlsZS50b3AgPT09IHRvcClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy50aWxlLnRvcCA9IHRvcDtcclxuXHRcdHRoaXMudGlsZS50b3BTdHJpbmcgPSAnJyArIHRvcDtcclxuXHRcdHRoaXMuZmxpcEZyb250KHRydWUsIGZhbHNlKTtcclxuXHRcdHRoaXMuY2xvc2VCYWNrVGlsZVBvcHVwKCk7XHJcblx0fVxyXG5cclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly8gdGlsZSBwb3NpdGlvblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJuIHN0eWxlIG9iamVjdCBmb3IgJy5pei1kYXNoLXRpbGUnXHJcblx0ICovXHJcblx0Z2V0VGlsZVN0eWxlKCkge1xyXG5cdFx0Y29uc3QgdG9wID0gdGhpcy5ncmlkSGVpZ2h0ICogdGhpcy5nZXRZKCk7XHJcblx0XHRjb25zdCBsZWZ0ID0gdGhpcy5ncmlkV2lkdGggKiB0aGlzLmdldFgoKTtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHtcclxuXHRcdFx0J2xlZnQnOiAnMCcsXHJcblx0XHRcdCd0b3AnOiAnMCcsXHJcblx0XHRcdCd3aWR0aCc6ICh0aGlzLmdyaWRXaWR0aCAqIHRoaXMuZ2V0V2lkdGgoKSkgKyAncHgnLFxyXG5cdFx0XHQnaGVpZ2h0JzogKHRoaXMuZ3JpZEhlaWdodCAqIHRoaXMuZ2V0SGVpZ2h0KCkpICsgJ3B4JyxcclxuXHRcdFx0J3otaW5kZXgnOiAodGhpcy50aWxlLmJhY2tUaWxlUG9wdXBPcGVuZWQgPyAnMycgOiAnMScpXHJcblx0XHR9O1xyXG5cdFx0aWYgKHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzTHRlSWUxMCgpKSB7XHJcblx0XHRcdHJlc3VsdFsneCddID0gYCR7bGVmdH1weGA7XHJcblx0XHRcdHJlc3VsdFsneSddID0gYCR7dG9wfXB4YDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlc3VsdFsndHJhbnNmb3JtJ10gPSBgdHJhbnNsYXRlM2QoJHtsZWZ0fXB4LCR7dG9wfXB4LDApYDtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdGlsZSB3aWR0aFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0V2lkdGgoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc09uZUNvbHVtblZpZXcoKSA/IDEyIDogdGhpcy50aWxlLndpZHRoO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRpbGUgaGVpZ2h0XHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRIZWlnaHQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc09uZUNvbHVtblZpZXcoKSA/IDQgOiB0aGlzLnRpbGUuaGVpZ2h0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFggY29vcmRpbmF0ZSBmb3IgdGlsZS4gVGhpcyBjb29yZGluYXRlIHVzZWQgZm9yIGRyYXdpbmcgdGlsZSBVSVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0WCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzT25lQ29sdW1uVmlldygpID8gMCA6IHRoaXMudGlsZS54O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFkgY29vcmRpbmF0ZSBmb3IgdGlsZS4gVGhpcyBjb29yZGluYXRlIHVzZWQgZm9yIGRyYXdpbmcgdGlsZSBVSVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0WSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzT25lQ29sdW1uVmlldygpID8gNCAqIHRoaXMudGlsZS5nZXRUaWxlT3JkZXIodGhpcy50aWxlcykgOiB0aGlzLnRpbGUueTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCByZXBvcnQgdmlld2VyIGxpbmsgZm9yIHRpbGUgcmVwb3J0XHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRSZXBvcnRWaWV3ZXJMaW5rKCkge1xyXG5cdFx0cmV0dXJuIGdldEFwcGVuZGVkVXJsKGAke3RoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUmVwb3J0Vmlld2VyfT9ybj0ke3RoaXMuZ2V0U291cmNlUmVwb3J0TmFtZSgpfWApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHJlcG9ydCBlZGl0b3IgbGluayBmb3IgdGlsZSByZXBvcnRcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldFJlcG9ydEVkaXRvckxpbmsoKSB7XHJcblx0XHRjb25zdCBkZXNpZ25lclVybCA9IHRoaXMudGlsZS5kZXNpZ25lclR5cGUgPT09ICdJbnN0YW50UmVwb3J0J1xyXG5cdFx0XHQ/IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsSW5zdGFudFJlcG9ydFxyXG5cdFx0XHQ6IHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUmVwb3J0RGVzaWduZXI7XHJcblx0XHRyZXR1cm4gZ2V0QXBwZW5kZWRVcmwoYCR7ZGVzaWduZXJVcmx9P3JuPSR7dGhpcy5nZXRTb3VyY2VSZXBvcnROYW1lKCl9YCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgc291cmNlIHJlcG9ydCBuYW1lXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRTb3VyY2VSZXBvcnROYW1lKCkge1xyXG5cdFx0bGV0IHJlc3VsdCA9IHRoaXMudGlsZS5yZXBvcnROYW1lO1xyXG5cdFx0aWYgKCF0aGlzLiRpemVuZGFVdGlsU2VydmljZS5pc1VuY2F0ZWdvcml6ZWQodGhpcy50aWxlLnJlcG9ydENhdGVnb3J5KSlcclxuXHRcdFx0cmVzdWx0ID0gdGhpcy50aWxlLnJlcG9ydENhdGVnb3J5ICsgdGhpcy4kaXplbmRhU2V0dGluZ3NTZXJ2aWNlLmdldENhdGVnb3J5Q2hhcmFjdGVyKCkgKyByZXN1bHQ7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHRpbGUgaW5uZXIgaHRtbFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgYXBwbHlUaWxlSHRtbChodG1sRGF0YSkge1xyXG5cdFx0Ly8gbG9hZCB0aWxlIGNvbnRlbnRcclxuXHRcdGNvbnN0ICRyZXBvcnQgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZWxlbWVudCkuZmluZCgnLnJlcG9ydCcpO1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UubG9hZFJlcG9ydEludG9Db250YWluZXIoaHRtbERhdGEsICRyZXBvcnQpO1xyXG5cclxuXHRcdGNvbnN0IG51bWJlck9mQ2VsbEluQ29tcGxleFJlcG9ydCA9IDMwMDA7XHJcblx0XHRjb25zdCBudW1iZXJPZkNlbGxzID0gYW5ndWxhci5lbGVtZW50KHRoaXMuJGVsZW1lbnQpLmZpbmQoJy5SZXBvcnRUYWJsZSB0ZCcpLmxlbmd0aDtcclxuXHRcdHRoaXMuc3RhdGUucmVsYXRpdmVSZXBvcnRDb21wbGV4aXR5ID0gbnVtYmVyT2ZDZWxscyAvIG51bWJlck9mQ2VsbEluQ29tcGxleFJlcG9ydDtcclxuXHRcdGlmICh0aGlzLnN0YXRlLnJlbGF0aXZlUmVwb3J0Q29tcGxleGl0eSA+IDEpXHJcblx0XHRcdHRoaXMuc3RhdGUucmVsYXRpdmVSZXBvcnRDb21wbGV4aXR5ID0gMTtcclxuXHJcblx0XHRpZiAodGhpcy5pc0llICYmIHRoaXMuc3RhdGUucmVsYXRpdmVSZXBvcnRDb21wbGV4aXR5ID49IDAuNSlcclxuXHRcdFx0dGhpcy4kZWxlbWVudC5hZGRDbGFzcygnaG92ZXItaWUnKTtcclxuXHJcblx0XHR0aGlzLnN0YXRlLmVtcHR5ID0gZmFsc2U7XHJcblx0fVxyXG59IiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuXHJcblxyXG4vKipcclxuICogPGl6ZW5kYS1kYXNoYm9hcmQtZmlsdGVycz4gY29tcG9uZW50XHJcbiAqL1xyXG5ASXplbmRhQ29tcG9uZW50KFxyXG5cdGl6ZW5kYURhc2hib2FyZE1vZHVsZSxcclxuXHQnaXplbmRhRGFzaGJvYXJkRmlsdGVycycsXHJcblx0WydyeCcsICckd2luZG93JywgJyR0aW1lb3V0JywgJyRlbGVtZW50JywgJyRpemVuZGFVcmxTZXJ2aWNlJywgJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZSddLFxyXG5cdHtcclxuXHRcdHRlbXBsYXRlVXJsOiAnIyMjUlMjIyNleHRyZXM9Y29tcG9uZW50cy5kYXNoYm9hcmQuY29tcG9uZW50cy5maWx0ZXIuZmlsdGVyLXRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0YmluZGluZ3M6IHt9XHJcblx0fSlcclxuZXhwb3J0IGNsYXNzIEl6ZW5kYURhc2hib2FyZEZpbHRlcnNDb21wb25lbnQgaW1wbGVtZW50cyBuZy5JQ29tcG9uZW50Q29udHJvbGxlciB7XHJcblx0aXNGaWx0ZXJzQWN0aXZlOiBhbnk7XHJcblx0c3Vic2NyaXB0aW9uczogYW55O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJ4OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkZWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLiR3aW5kb3cudXNlR2V0UmVuZGVyZWRSZXBvcnRTZXRGb3JGaWx0ZXJzID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzRmlsdGVyc0FjdGl2ZSA9IHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmlzRmlsdGVyc0FjdGl2ZS5nZXRWYWx1ZSgpO1xyXG5cdFx0Ly8gc3Vic2NyaWJlXHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmlzRmlsdGVyc0FjdGl2ZS5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25GaWx0ZXJzQWN0aXZlQ2hhbmdlLCB0aGlzKVxyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdCRvbkluaXQoKSB7XHJcblx0XHRJekxvY2FsLkxvY2FsaXplUGFnZSgpO1xyXG5cdFx0dGhpcy5zZXRSZWZyZXNoQnV0dG9uSGFuZGxlcigpO1xyXG5cdH1cclxuXHJcblx0JG9uRGVzdHJveSgpIHtcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YiA9PiBzdWIuZGlzcG9zZSgpKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbHRlcnMgcGFuZWwgb24vb2ZmIGhhbmRsZXJcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRmlsdGVyc0FjdGl2ZSBuZXcgcGFuZWwgc3RhdGUuXHJcblx0ICovXHJcblx0JG9uRmlsdGVyc0FjdGl2ZUNoYW5nZShpc0ZpbHRlcnNBY3RpdmUpIHtcclxuXHRcdHRoaXMuaXNGaWx0ZXJzQWN0aXZlID0gaXNGaWx0ZXJzQWN0aXZlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIFwidXBkYXRlXCIgYnV0dG9uIGhhbmRsZXJcclxuXHQgKi9cclxuXHRzZXRSZWZyZXNoQnV0dG9uSGFuZGxlcigpIHtcclxuXHRcdHZhciAkYnRuID0gdGhpcy4kZWxlbWVudC5maW5kKCcuZmlsdGVycy1sZWdhY3ktdXBkYXRlLWJ0bicpO1xyXG5cdFx0aWYgKCEkYnRuLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0Y29uc3QgY2xpY2tzID0gdGhpcy4kcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoJGJ0bi5nZXQoMCksICdjbGljaycpO1xyXG5cdFx0Y29uc3QgY2xpY2tzVGhyb3R0bGUgPSBjbGlja3MuZGVib3VuY2UoNTAwKTtcclxuXHRcdC8vIGRvIG1lcmdlIHRvIGVuc3VyZSB0aGF0IHRoZSBoYW5kbGVycyBvcmRlciB3aWxsIGJlIGNvcnJlY3RcclxuXHRcdHRoaXMuJHJ4Lk9ic2VydmFibGUubWVyZ2UoXHJcblx0XHRcdGNsaWNrcy5tYXAoZSA9PiAoeyBldmVudDogZSwgaXNUaHJvdHRsZUFwcGxpZWQ6IGZhbHNlIH0pKSxcclxuXHRcdFx0Y2xpY2tzVGhyb3R0bGUubWFwKGUgPT4gKHsgZXZlbnQ6IGUsIGlzVGhyb3R0bGVBcHBsaWVkOiB0cnVlIH0pKSlcclxuXHRcdFx0LnN1YnNjcmliZShvYmogPT4ge1xyXG5cdFx0XHRcdG9iai5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGNvbnN0IGlzVGhyb3R0bGVBcHBsaWVkID0gb2JqLmlzVGhyb3R0bGVBcHBsaWVkO1xyXG5cdFx0XHRcdGlmICghaXNUaHJvdHRsZUFwcGxpZWQpIHtcclxuXHRcdFx0XHRcdC8vIGZhc3QgY2xpY2tzIGhhbmRsZXIgKGFsd2F5cyBydW5zIGJlZm9yZSB0aGUgaGFuZGxlciB3aXRoIHRoZSBlbmFibGVkIHRocm90dGxlIGNvbmRpdGlvbilcclxuXHRcdFx0XHRcdCRidG4uY2hpbGRyZW4oJ2EnKS5yZW1vdmVDbGFzcygnYmx1ZScpO1xyXG5cdFx0XHRcdFx0JGJ0bi5jaGlsZHJlbignYScpLmFkZENsYXNzKCdncmF5Jyk7XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5jYW5jZWxSZWZyZXNoRGFzaGJvYXJkUXVlcmllcygpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBydW4gcmVmcmVzaCB3aGVuIHRocm90dGxpbmcgaXMgZG9uZS5cclxuXHRcdFx0XHRcdCRidG4uY2hpbGRyZW4oJ2EnKS5yZW1vdmVDbGFzcygnZ3JheScpO1xyXG5cdFx0XHRcdFx0JGJ0bi5jaGlsZHJlbignYScpLmFkZENsYXNzKCdibHVlJyk7XHJcblx0XHRcdFx0XHR0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UucmVmcmVzaERhc2hib2FyZChmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcclxuaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBJemVuZGFDb21wb25lbnQgZnJvbSAnY29tbW9uL2NvcmUvdG9vbHMvaXplbmRhLWNvbXBvbmVudCc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IEl6ZW5kYVVybFNlcnZpY2UgZnJvbSAnY29tbW9uL3F1ZXJ5L3NlcnZpY2VzL3VybC1zZXJ2aWNlJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkTW9kZWwgfSBmcm9tICdkYXNoYm9hcmQvbW9kZWwvZGFzaGJvYXJkLW1vZGVsJztcclxuaW1wb3J0IHsgSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsIH0gZnJvbSAnZGFzaGJvYXJkL21vZGVsL3RpbGUtbW9kZWwnO1xyXG5pbXBvcnQgRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2Rhc2hib2FyZC1zdG9yYWdlLXNlcnZpY2UnO1xyXG5pbXBvcnQgRGFzaGJvYXJkQmFja2dyb3VuZFNlcnZpY2UgZnJvbSAnZGFzaGJvYXJkL3NlcnZpY2VzL2JhY2tncm91bmQtc2VydmljZSc7XHJcblxyXG4vKipcclxuICogPGl6ZW5kYS1nYWxsZXJ5PiBjb21wb25lbnRcclxuICovXHJcbkBJemVuZGFDb21wb25lbnQoXHJcblx0aXplbmRhRGFzaGJvYXJkTW9kdWxlLFxyXG5cdCdpemVuZGFHYWxsZXJ5JyxcclxuXHRbJ3J4JywgJyRzY29wZScsICckd2luZG93JywgJyRlbGVtZW50JywgJyRpbnRlcnZhbCcsICckdGltZW91dCcsICckaXplbmRhVXJsU2VydmljZScsICckaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UnLCAnJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5jb21wb25lbnRzLmdhbGxlcnkuZ2FsbGVyeS10ZW1wbGF0ZS5odG1sJyxcclxuXHRcdGJpbmRpbmdzOiB7XHJcblx0XHRcdG1vZGVsOiAnPCcsIC8vIEl6ZW5kYURhc2hib2FyZE1vZGVsIGluc3RhbmNlXHJcblx0XHRcdHdpZHRoOiAnQCcsXHJcblx0XHRcdGhlaWdodDogJ0AnLFxyXG5cdFx0XHRwbGF5VGltZW91dDogJzwnLFxyXG5cdFx0XHRwbGF5U3RhcnRlZDogJzwnLFxyXG5cdFx0XHRwbGF5U3RvcE9uQ29tcGxldGU6ICc8JyxcclxuXHRcdFx0aXNGdWxsU2NyZWVuOiAnPCcsXHJcblx0XHRcdGVuYWJsZWQ6ICc8JyxcclxuXHRcdFx0b25QbGF5U3RhcnRlZENoYW5nZTogJyYnLFxyXG5cdFx0XHRvbkZ1bGxzY3JlZW5DaGFuZ2U6ICcmJ1xyXG5cdFx0fVxyXG5cdH0pXHJcbmV4cG9ydCBjbGFzcyBJemVuZGFHYWxsZXJ5Q29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdHN1YnNjcmlwdGlvbnMgPSBbXTtcclxuXHRtb2RlbDogSXplbmRhRGFzaGJvYXJkTW9kZWw7XHJcblxyXG5cdCRzbWFsbEJ1dHRvbnNQYW5lbDogbmcuSUF1Z21lbnRlZEpRdWVyeTtcclxuXHQkcGFyZW50RWxlbWVudDogbmcuSUF1Z21lbnRlZEpRdWVyeTtcclxuXHQkdGl0bGVQYW5lbDogbmcuSUF1Z21lbnRlZEpRdWVyeTtcclxuXHRwcmV2aW91c1dpZHRoOiBudW1iZXI7XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHRjdXJyZW50VGlsZTogSXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsO1xyXG5cdHN0YXRlOiBhbnk7XHJcblx0aXNGdWxsU2NyZWVuOiBib29sZWFuO1xyXG5cdG9uRnVsbHNjcmVlbkNoYW5nZTogYW55O1xyXG5cdG9uUGxheVN0YXJ0ZWRDaGFuZ2U6IGFueTtcclxuXHRmdWxsc2NyZWVuSGFuZGxlcjogYW55O1xyXG5cclxuXHRwbGF5U3RvcE9uQ29tcGxldGU6IGJvb2xlYW47XHJcblx0cGxheVN0YXJ0ZWQ6IGJvb2xlYW47XHJcblx0cGxheVRpbWVvdXQ6IG51bWJlcjtcclxuXHR3aWR0aDogbnVtYmVyO1xyXG5cdGhlaWdodDogbnVtYmVyO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHJ4OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRzY29wZTogbmcuSVNjb3BlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGVsZW1lbnQ6IG5nLklBdWdtZW50ZWRKUXVlcnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFCYWNrZ3JvdW5kU2VydmljZTogRGFzaGJvYXJkQmFja2dyb3VuZFNlcnZpY2UpIHtcclxuXHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcclxuXHJcblx0XHR0aGlzLiRwYXJlbnRFbGVtZW50ID0gdGhpcy4kZWxlbWVudC5wYXJlbnQoKTtcclxuXHRcdGlmICghdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaXplbmRhLWdhbGxlcnktY29udGFpbmVyJykpXHJcblx0XHRcdHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ2l6ZW5kYS1nYWxsZXJ5LWNvbnRhaW5lcicpO1xyXG5cclxuXHRcdHRoaXMuJHNtYWxsQnV0dG9uc1BhbmVsID0gdGhpcy4kcGFyZW50RWxlbWVudC5maW5kKCcuaXplbmRhLWdhbGxlcnktY29udHJvbHMtcm91bmQtcGFuZWwnKTtcclxuXHRcdHRoaXMuJHRpdGxlUGFuZWwgPSB0aGlzLiRwYXJlbnRFbGVtZW50LmZpbmQoJy5pemVuZGEtZ2FsbGVyeS10aXRsZS1jb250cm9scycpO1xyXG5cclxuXHRcdHRoaXMuY3VycmVudFRpbGUgPSBudWxsO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHtcclxuXHRcdFx0aXNVaUhpZGRlbjogZmFsc2UsXHJcblx0XHRcdHdpZHRoOiAwLFxyXG5cdFx0XHRoZWlnaHQ6IDAsXHJcblx0XHRcdGVsZW1lbnRIZWlnaHQ6IHRoaXMuJHBhcmVudEVsZW1lbnQuaGVpZ2h0KCksXHJcblx0XHRcdHNtYWxsQnV0dG9uc1BhbmVsSGVpZ2h0OiB0aGlzLiRzbWFsbEJ1dHRvbnNQYW5lbC5oZWlnaHQoKSxcclxuXHRcdFx0dGl0bGVQYW5lbFBvc2l0aW9uOiB0aGlzLiR0aXRsZVBhbmVsLnBvc2l0aW9uKCksXHJcblx0XHRcdHRpdGxlUGFuZWxIZWlnaHQ6IHRoaXMuJHRpdGxlUGFuZWwuaGVpZ2h0KClcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5zZXRGdWxsc2NyZWVuSGFuZGxlcnMoKTtcclxuXHR9XHJcblxyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLnByZXZpb3VzV2lkdGggPSB0aGlzLiR3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2Uud2luZG93U2l6ZS5zdWJzY3JpYmVPbk5leHQobmV3V2luZG93U2l6ZSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMucHJldmlvdXNXaWR0aCA9PT0gbmV3V2luZG93U2l6ZS53aWR0aCB8fCAhdGhpcy5lbmFibGVkKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHRoaXMucHJldmlvdXNXaWR0aCA9IG5ld1dpbmRvd1NpemUud2lkdGg7XHJcblx0XHRcdFx0dGhpcy4kb25XaW5kb3dSZXNpemUoKTtcclxuXHRcdFx0fSwgdGhpcylcclxuXHRcdF07XHJcblx0fVxyXG5cclxuXHQkb25DaGFuZ2VzKGNoYW5nZXNPYmplY3QpIHtcclxuXHRcdGlmIChjaGFuZ2VzT2JqZWN0LmVuYWJsZWQpIHtcclxuXHRcdFx0Y29uc3QgaXNFbmFibGVkID0gY2hhbmdlc09iamVjdC5lbmFibGVkLmN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0aWYgKGlzRW5hYmxlZClcclxuXHRcdFx0XHR0aGlzLmFjdGl2YXRlR2FsbGVyeSgpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhpcy5kZWFjdGl2YXRlR2FsbGVyeSgpO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuZ2VzT2JqZWN0LnBsYXlTdGFydGVkKSB7XHJcblx0XHRcdGNvbnN0IGlzU3RhcnRlZCA9IGNoYW5nZXNPYmplY3QucGxheVN0YXJ0ZWQuY3VycmVudFZhbHVlO1xyXG5cdFx0XHRpZiAoaXNTdGFydGVkKVxyXG5cdFx0XHRcdHRoaXMucGxheSgpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhpcy5zdG9wKCk7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5nZXNPYmplY3QuaXNGdWxsU2NyZWVuKSB7XHJcblx0XHRcdGNvbnN0IGlzRnVsbHNjcmVlbiA9IGNoYW5nZXNPYmplY3QuaXNGdWxsU2NyZWVuLmN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0dGhpcy50b2dnbGVGdWxsc2NyZWVuKGlzRnVsbHNjcmVlbik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQkb25EZXN0cm95KCkge1xyXG5cdFx0dGhpcy5yZW1vdmVGdWxsc2NyZWVuSGFuZGxlcnMoKTtcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YiA9PiBzdWIuZGlzcG9zZSgpKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9uIGZ1bGxzY3JlZW4gY2hhbmdlIGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25mdWxsc2NyZWVuY2hhbmdlKCkge1xyXG5cdFx0aWYgKCF0aGlzLmVuYWJsZWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGNvbnN0IGlzRnVsbHNjcmVlbiA9ICEhKGRvY3VtZW50WydmdWxsc2NyZWVuRWxlbWVudCddIHx8IGRvY3VtZW50Wyd3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCddIHx8IGRvY3VtZW50Wydtb3pGdWxsU2NyZWVuRWxlbWVudCddIHx8IGRvY3VtZW50Wydtc0Z1bGxzY3JlZW5FbGVtZW50J10pO1xyXG5cdFx0aWYgKHRoaXMuaXNGdWxsU2NyZWVuICE9PSBpc0Z1bGxzY3JlZW4gJiYgYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub25GdWxsc2NyZWVuQ2hhbmdlKSkge1xyXG5cdFx0XHR0aGlzLm9uRnVsbHNjcmVlbkNoYW5nZSh7IGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2FsbGVyeVxyXG5cdCAqL1xyXG5cdCRvbldpbmRvd1Jlc2l6ZSgpIHtcclxuXHRcdGlmICghdGhpcy5lbmFibGVkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLnRvZ2dsZVRpbGVBbmltYXRpb25zKGZhbHNlKTtcclxuXHRcdHRoaXMuaW5pdFNpemVzKCk7XHJcblx0XHR0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5sb2FkVGlsZXNUb0dhbGxlcnkoKTtcclxuXHRcdFx0dGhpcy50b2dnbGVUaWxlQW5pbWF0aW9ucyh0cnVlKTtcclxuXHRcdH0sXHJcblx0XHRcdDEsXHJcblx0XHRcdHRydWUpO1xyXG5cdH1cclxuXHJcblx0ZW5hYmxlS2V5SGFuZGxlcnMoKSB7XHJcblx0XHQvLyBob3RrZXlzIGhhbmRsZXJcclxuXHRcdGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLm9uKCdrZXlkb3duLml6ZW5kYUdhbGxlcnknLCAoZTogSlF1ZXJ5LkV2ZW50KSA9PiB7XHJcblx0XHRcdGlmICghdGhpcy5lbmFibGVkKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Y29uc3Qga2V5Q29kZSA9IGUua2V5Q29kZTtcclxuXHRcdFx0dGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuXHRcdFx0XHRpZiAoIXRoaXMuZW5hYmxlZClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBKUXVlcnkuS2V5LkFycm93TGVmdCkge1xyXG5cdFx0XHRcdFx0dGhpcy5nb1ByZXZpb3VzKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChrZXlDb2RlID09PSBKUXVlcnkuS2V5LkFycm93UmlnaHQgfHwga2V5Q29kZSA9PT0gSlF1ZXJ5LktleS5TcGFjZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5nb05leHQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRkaXNhYmxlS2V5SGFuZGxlcnMoKSB7XHJcblx0XHRhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5vZmYoJ2tleWRvd24uaXplbmRhR2FsbGVyeScpO1xyXG5cdH1cclxuXHJcblx0c2V0RnVsbHNjcmVlbkhhbmRsZXJzKCkge1xyXG5cdFx0Y29uc3QgZnVsbHNjcmVlblJvb3RFbGVtZW50ID0gdGhpcy4kcGFyZW50RWxlbWVudC5nZXQoMCk7XHJcblx0XHR0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyID0gdGhpcy4kb25mdWxsc2NyZWVuY2hhbmdlLmJpbmQodGhpcyk7XHJcblx0XHRmdWxsc2NyZWVuUm9vdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZnVsbHNjcmVlblJvb3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyKTtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyKTtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyKTtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdH1cclxuXHJcblx0cmVtb3ZlRnVsbHNjcmVlbkhhbmRsZXJzKCkge1xyXG5cdFx0Y29uc3QgZnVsbHNjcmVlblJvb3RFbGVtZW50ID0gdGhpcy4kcGFyZW50RWxlbWVudC5nZXQoMCk7XHJcblx0XHRmdWxsc2NyZWVuUm9vdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdFx0ZnVsbHNjcmVlblJvb3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyKTtcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyKTtcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5IYW5kbGVyKTtcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbkhhbmRsZXIpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlR2FsbGVyeUJhY2tncm91bmQoaXNGdWxsU2NyZWVuOiBib29sZWFuKSB7XHJcblx0XHRjb25zdCAkZ2FsbGVyeUNvbnRhaW5lciA9IHRoaXMuJHBhcmVudEVsZW1lbnQ7XHJcblx0XHQvLyB3aGVuIHdlJ3JlIGdvaW5nIHRvIGZ1bGxzY3JlZW4gbW9kZSAtIHdlIG5lZWQgdG8gYWRkIGJhY2tncm91bmQgZm9yIGVsZW1lbnQsIHdoaWNoIHdpbGwgYmUgdGhlIHJvb3QgaW4gZnVsbHNjcmVlbiB2aWV3LlxyXG5cdFx0aWYgKGlzRnVsbFNjcmVlbikge1xyXG5cdFx0XHRjb25zdCBiYWNrZ3JvdW5kSW1nID0gdGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuZmluYWxCYWNrZ3JvdW5kSW1hZ2VVcmw7XHJcblx0XHRcdCRnYWxsZXJ5Q29udGFpbmVyLmNzcygnYmFja2dyb3VuZC1pbWFnZScsIGJhY2tncm91bmRJbWcgPyBgdXJsKFwiJHtiYWNrZ3JvdW5kSW1nfVwiKWAgOiAnJyk7XHJcblx0XHRcdGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHRoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmRDb2xvcjtcclxuXHRcdFx0JGdhbGxlcnlDb250YWluZXIuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYmFja2dyb3VuZENvbG9yKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCRnYWxsZXJ5Q29udGFpbmVyLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICcnKTtcclxuXHRcdFx0JGdhbGxlcnlDb250YWluZXIuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dG9nZ2xlRnVsbHNjcmVlbihpc0Z1bGxzY3JlZW4pIHtcclxuXHRcdGNvbnN0IGxhdW5jaEZ1bGxTY3JlZW4gPSBlbGVtZW50ID0+IHtcclxuXHRcdFx0aWYgKGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4pXHJcblx0XHRcdFx0ZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG5cdFx0XHRlbHNlIGlmIChlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKVxyXG5cdFx0XHRcdGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcclxuXHRcdFx0ZWxzZSBpZiAoZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbilcclxuXHRcdFx0XHRlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKCk7XHJcblx0XHRcdGVsc2UgaWYgKGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbilcclxuXHRcdFx0XHRlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGNhbmNlbEZ1bGxzY3JlZW4gPSAoKSA9PiB7XHJcblx0XHRcdGlmIChkb2N1bWVudFsnZXhpdEZ1bGxzY3JlZW4nXSlcclxuXHRcdFx0XHRkb2N1bWVudFsnZXhpdEZ1bGxzY3JlZW4nXSgpO1xyXG5cdFx0XHRlbHNlIGlmIChkb2N1bWVudFsnbW96Q2FuY2VsRnVsbFNjcmVlbiddKVxyXG5cdFx0XHRcdGRvY3VtZW50Wydtb3pDYW5jZWxGdWxsU2NyZWVuJ10oKTtcclxuXHRcdFx0ZWxzZSBpZiAoZG9jdW1lbnRbJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nXSlcclxuXHRcdFx0XHRkb2N1bWVudFsnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbiddKCk7XHJcblx0XHRcdGVsc2UgaWYgKGRvY3VtZW50Wydtc0V4aXRGdWxsc2NyZWVuJ10pXHJcblx0XHRcdFx0ZG9jdW1lbnRbJ21zRXhpdEZ1bGxzY3JlZW4nXSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudXBkYXRlR2FsbGVyeUJhY2tncm91bmQoaXNGdWxsc2NyZWVuKTtcclxuXHRcdGlmIChpc0Z1bGxzY3JlZW4pIHtcclxuXHRcdFx0Y29uc3QgZnVsbHNjcmVlblJvb3RFbGVtZW50ID0gdGhpcy4kcGFyZW50RWxlbWVudC5nZXQoMCk7XHJcblx0XHRcdGxhdW5jaEZ1bGxTY3JlZW4oZnVsbHNjcmVlblJvb3RFbGVtZW50KTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHRjYW5jZWxGdWxsc2NyZWVuKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHYWxsZXJ5IGVuYWJsZWQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdGFjdGl2YXRlR2FsbGVyeSgpIHtcclxuXHRcdHRoaXMuc3RhdGUuaXNVaUhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0dGhpcy5jdXJyZW50VGlsZSA9IG51bGw7XHJcblx0XHRpZiAodGhpcy5tb2RlbCAmJiB0aGlzLmdhbGxlcnlUaWxlcy5sZW5ndGgpXHJcblx0XHRcdHRoaXMuY3VycmVudFRpbGUgPSB0aGlzLmdhbGxlcnlUaWxlc1swXTtcclxuXHRcdHRoaXMuaW5pdFNpemVzKCk7XHJcblx0XHR0aGlzLmVuYWJsZUtleUhhbmRsZXJzKCk7XHJcblxyXG5cdFx0dGhpcy4kZWxlbWVudC5maW5kKCcuaXplbmRhLWdhbGxlcnktaXRlbScpLmNzcygnb3BhY2l0eScsIDEpO1xyXG5cdFx0dGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMudG9nZ2xlVGlsZUFuaW1hdGlvbnModHJ1ZSk7XHJcblx0XHRcdHRoaXMubG9hZFRpbGVzVG9HYWxsZXJ5KCk7XHJcblx0XHR9LFxyXG5cdFx0XHQyNTAsXHJcblx0XHRcdHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2FsbGVyeSBkaXNhYmxlZCBoYW5kbGVyXHJcblx0ICovXHJcblx0ZGVhY3RpdmF0ZUdhbGxlcnkoKSB7XHJcblx0XHR0aGlzLmNsZWFyVGlsZXMoKTtcclxuXHRcdHRoaXMuc3RhdGUuaXNVaUhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0dGhpcy5jdXJyZW50VGlsZSA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5kaXNhYmxlS2V5SGFuZGxlcnMoKTtcclxuXHRcdHRoaXMudG9nZ2xlVGlsZUFuaW1hdGlvbnMoZmFsc2UpO1xyXG5cdFx0dGhpcy4kZWxlbWVudC5maW5kKCcuaXplbmRhLWdhbGxlcnktaXRlbScpLmNzcygnb3BhY2l0eScsIDApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgcm90YXRpbmcgZ2FsbGVyeSB0aWxlcy5cclxuXHQgKi9cclxuXHRwbGF5KCkge1xyXG5cdFx0dGhpcy5zdG9wKCk7XHJcblx0XHRpZiAodGhpcy5nYWxsZXJ5VGlsZXMubGVuZ3RoIDw9IDEpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHRpZiAodGhpcy5wbGF5U3RvcE9uQ29tcGxldGUgJiYgdGhpcy5nYWxsZXJ5VGlsZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRUaWxlKSA9PT0gdGhpcy5nYWxsZXJ5VGlsZXMubGVuZ3RoIC0gMSlcclxuXHRcdFx0dGhpcy5nb1RvKHRoaXMuZ2FsbGVyeVRpbGVzWzBdKTtcclxuXHJcblx0XHR0aGlzLnN0YXRlLnVwZGF0ZVBsYXlJbnRlcnZhbElkID0gdGhpcy4kaW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5wbGF5U3RvcE9uQ29tcGxldGUgJiYgdGhpcy5nYWxsZXJ5VGlsZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRUaWxlKSA9PT0gdGhpcy5nYWxsZXJ5VGlsZXMubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdHRoaXMucGxheVN0YXJ0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnN0b3AoKTtcclxuXHRcdFx0XHR0aGlzLnJ1blN0b3BIYW5kbGVyKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5nb05leHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgdGhpcy5wbGF5VGltZW91dCk7XHJcblxyXG5cdFx0dGhpcy5zdGF0ZS51cGRhdGVQbGF5VGltZW91dElkID0gdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuc3RhdGUuaXNVaUhpZGRlbiA9IHRydWU7XHJcblx0XHR9LCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3Agcm90YXRpbmcgZ2FsbGVyeSB0aWxlcy5cclxuXHQgKi9cclxuXHRzdG9wKCkge1xyXG5cdFx0aWYgKHRoaXMuc3RhdGUudXBkYXRlUGxheUludGVydmFsSWQpIHtcclxuXHRcdFx0dGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMuc3RhdGUudXBkYXRlUGxheUludGVydmFsSWQpO1xyXG5cdFx0XHR0aGlzLnN0YXRlLnVwZGF0ZVBsYXlJbnRlcnZhbElkID0gbnVsbDtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLnN0YXRlLnVwZGF0ZVBsYXlUaW1lb3V0SWQgIT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLiR0aW1lb3V0LmNhbmNlbCh0aGlzLnN0YXRlLnVwZGF0ZVBsYXlUaW1lb3V0SWQpO1xyXG5cdFx0XHR0aGlzLnN0YXRlLnVwZGF0ZVBsYXlUaW1lb3V0SWQgPSBudWxsO1xyXG5cdFx0XHR0aGlzLnN0YXRlLmlzVWlIaWRkZW4gPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJ1blN0b3BIYW5kbGVyKCkge1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9uUGxheVN0YXJ0ZWRDaGFuZ2UpKSB7XHJcblx0XHRcdHRoaXMub25QbGF5U3RhcnRlZENoYW5nZSh7IGlzUGxheVN0YXJ0ZWQ6IHRoaXMucGxheVN0YXJ0ZWQgfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93IHNlbGVjdGVkIHRpbGVcclxuXHQgKiBAcGFyYW0ge0l6ZW5kYURhc2hib2FyZFRpbGVNb2RlbH0gdGlsZSB0aWxlIG1vZGVsLlxyXG5cdCAqL1xyXG5cdGdvVG8odGlsZSkge1xyXG5cdFx0dGhpcy5jdXJyZW50VGlsZSA9IHRpbGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTaG93IHByZXZpb3VzIHRpbGVcclxuXHQgKi9cclxuXHRnb1ByZXZpb3VzKCkge1xyXG5cdFx0aWYgKHRoaXMuZ2FsbGVyeVRpbGVzLmxlbmd0aCA8IDIpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGxldCBpbmRleCA9IHRoaXMuY3VycmVudFRpbGUgPyB0aGlzLmdhbGxlcnlUaWxlcy5pbmRleE9mKHRoaXMuY3VycmVudFRpbGUpIDogMDtcclxuXHRcdGluZGV4LS07XHJcblx0XHRpZiAoaW5kZXggPCAwKVxyXG5cdFx0XHRpbmRleCA9IHRoaXMuZ2FsbGVyeVRpbGVzLmxlbmd0aCAtIDE7XHJcblx0XHR0aGlzLmdvVG8odGhpcy5nYWxsZXJ5VGlsZXNbaW5kZXhdKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3cgbmV4dCB0aWxlLlxyXG5cdCAqL1xyXG5cdGdvTmV4dCgpIHtcclxuXHRcdGlmICh0aGlzLmdhbGxlcnlUaWxlcy5sZW5ndGggPCAyKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRsZXQgaW5kZXggPSB0aGlzLmN1cnJlbnRUaWxlID8gdGhpcy5nYWxsZXJ5VGlsZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRUaWxlKSA6IDA7XHJcblx0XHRpbmRleCsrO1xyXG5cdFx0aWYgKGluZGV4ID4gdGhpcy5nYWxsZXJ5VGlsZXMubGVuZ3RoIC0gMSlcclxuXHRcdFx0aW5kZXggPSAwO1xyXG5cdFx0dGhpcy5nb1RvKHRoaXMuZ2FsbGVyeVRpbGVzW2luZGV4XSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplIGJhc2ljIHNpemVzXHJcblx0ICovXHJcblx0aW5pdFNpemVzKCkge1xyXG5cdFx0Y29uc3QgdGlsZUNvbnRhaW5lclRvcCA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWRhc2gtcm9vdCcpLm9mZnNldCgpLnRvcDtcclxuXHRcdGNvbnN0IGZ1bGxIZWlnaHQgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kd2luZG93KS5oZWlnaHQoKSAtIHRpbGVDb250YWluZXJUb3AgLSAzMDtcclxuXHRcdHRoaXMuJHBhcmVudEVsZW1lbnQuaGVpZ2h0KGZ1bGxIZWlnaHQpO1xyXG5cdFx0dGhpcy5zdGF0ZS53aWR0aCA9IHRoaXMuJHBhcmVudEVsZW1lbnQud2lkdGgoKTtcclxuXHRcdHRoaXMuc3RhdGUuaGVpZ2h0ID0gdGhpcy4kcGFyZW50RWxlbWVudC5oZWlnaHQoKTtcclxuXHRcdHRoaXMuc3RhdGUuZWxlbWVudEhlaWdodCA9IHRoaXMuJHBhcmVudEVsZW1lbnQuaGVpZ2h0KCk7XHJcblx0XHR0aGlzLnN0YXRlLnNtYWxsQnV0dG9uc1BhbmVsSGVpZ2h0ID0gdGhpcy4kc21hbGxCdXR0b25zUGFuZWwuaGVpZ2h0KCk7IC8vIGNhY2hlIHNpemVzXHJcblx0XHR0aGlzLnN0YXRlLnRpdGxlUGFuZWxQb3NpdGlvbiA9IHRoaXMuJHRpdGxlUGFuZWwucG9zaXRpb24oKTtcclxuXHRcdHRoaXMuc3RhdGUudGl0bGVQYW5lbEhlaWdodCA9IHRoaXMuJHRpdGxlUGFuZWwuaGVpZ2h0KCk7XHJcblx0XHRjb25zdCB0aWxlU2l6ZSA9IHRoaXMuY3VycmVudFRpbGVcclxuXHRcdFx0PyB0aGlzLmdldFRpbGVTaXplKHRoaXMuY3VycmVudFRpbGUpXHJcblx0XHRcdDoge1xyXG5cdFx0XHRcdHg6IDAsXHJcblx0XHRcdFx0eTogMCxcclxuXHRcdFx0XHR3aWR0aDogMCxcclxuXHRcdFx0XHRoZWlnaHQ6IDAsXHJcblx0XHRcdFx0ZGVsdGE6IDBcclxuXHRcdFx0fTtcclxuXHRcdHRoaXMuJHNtYWxsQnV0dG9uc1BhbmVsLmNzcygndG9wJywgdGlsZVNpemUueSArIHRpbGVTaXplLmhlaWdodCArICdweCcpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2FsbGVyeSB0aWxlcyBnZXR0ZXIgLSB0aWxlcyBhdmFpbGFibGUgZm9yIHNob3dpbmcgaW4gZ2FsbGVyeS5cclxuXHQgKi9cclxuXHRnZXQgZ2FsbGVyeVRpbGVzKCkge1xyXG5cdFx0aWYgKCF0aGlzLm1vZGVsIHx8ICF0aGlzLm1vZGVsLnRpbGVzLmxlbmd0aClcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0cmV0dXJuIHRoaXMubW9kZWwudGlsZXNTb3J0ZWQuZmlsdGVyKHQgPT4gISF0LnJlcG9ydE5hbWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIHRpdGxlIGZvciB0aGUgdGlsZVxyXG5cdCAqL1xyXG5cdGdldCB0aWxlVGl0bGUoKSB7XHJcblx0XHRpZiAoIXRoaXMuY3VycmVudFRpbGUpXHJcblx0XHRcdHJldHVybiAnJztcclxuXHRcdGlmICh0aGlzLmN1cnJlbnRUaWxlLnRpdGxlKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50VGlsZS50aXRsZTtcclxuXHRcdGxldCByZXN1bHQgPSAnJztcclxuXHRcdGlmICh0aGlzLmN1cnJlbnRUaWxlLnJlcG9ydENhdGVnb3J5KVxyXG5cdFx0XHRyZXN1bHQgPSB0aGlzLmN1cnJlbnRUaWxlLnJlcG9ydENhdGVnb3J5ICsgJyAvICc7XHJcblx0XHRyZXN1bHQgPSByZXN1bHQgKyB0aGlzLmN1cnJlbnRUaWxlLnJlcG9ydE5hbWUgKyAnIC8gJyArIHRoaXMuY3VycmVudFRpbGUucmVwb3J0UGFydE5hbWU7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRpbGUgQ1NTIHN0eWxlLlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIHRpbGUgbW9kZWwgaW5zdGFuY2UuXHJcblx0ICovXHJcblx0Z2V0VGlsZVN0eWxlKHRpbGUpIHtcclxuXHRcdGNvbnN0IHNpemUgPSB0aGlzLmdldFRpbGVTaXplKHRpbGUpO1xyXG5cdFx0Y29uc3Qgc3R5bGUgPSB7XHJcblx0XHRcdCd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7c2l6ZS54fXB4LCAke3NpemUueX1weClgLFxyXG5cdFx0XHQnd2lkdGgnOiBgJHtzaXplLndpZHRofXB4YCxcclxuXHRcdFx0J2hlaWdodCc6IGAke3NpemUuaGVpZ2h0fXB4YCxcclxuXHRcdFx0J29wYWNpdHknOiBzaXplLmRlbHRhID8gJzAuNScgOiAnMSdcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gc3R5bGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDYWxjdWxhdGUgdGlsZSBzaXplLlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIHRpbGUgbW9kZWwgaW5zdGFuY2UuXHJcblx0ICovXHJcblx0Z2V0VGlsZVNpemUodGlsZSkge1xyXG5cdFx0Y29uc3QgdGlsZUluZGV4ID0gdGhpcy5nYWxsZXJ5VGlsZXMuaW5kZXhPZih0aWxlKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRUaWxlSW5kZXggPSB0aGlzLmdhbGxlcnlUaWxlcy5pbmRleE9mKHRoaXMuY3VycmVudFRpbGUpO1xyXG5cclxuXHRcdGNvbnN0IHBhcnNlZFdpZHRoID0gdGhpcy5wYXJzZVNpemUodGhpcy53aWR0aCk7XHJcblx0XHRjb25zdCBwYXJzZWRIZWlnaHQgPSB0aGlzLnBhcnNlU2l6ZSh0aGlzLmhlaWdodCk7XHJcblxyXG5cdFx0Y29uc3QgZ2FsbGVyeUl0ZW1XaWR0aCA9XHJcblx0XHRcdE1hdGgucm91bmQocGFyc2VkV2lkdGguaXNQZXJjZW50ID8gdGhpcy5zdGF0ZS53aWR0aCAqIHBhcnNlZFdpZHRoLnZhbHVlIDogcGFyc2VkV2lkdGgudmFsdWUpO1xyXG5cdFx0bGV0IGdhbGxlcnlJdGVtSGVpZ2h0ID1cclxuXHRcdFx0TWF0aC5yb3VuZChwYXJzZWRIZWlnaHQuaXNQZXJjZW50ID8gdGhpcy5zdGF0ZS5oZWlnaHQgKiBwYXJzZWRIZWlnaHQudmFsdWUgOiBwYXJzZWRIZWlnaHQudmFsdWUpO1xyXG5cclxuXHRcdGNvbnN0IHNwYWNlV2lkdGggPSAxMDA7XHJcblx0XHRjb25zdCBkZWx0YSA9IHRpbGVJbmRleCAtIGN1cnJlbnRUaWxlSW5kZXg7XHJcblx0XHRjb25zdCB0cmFuc2Zvcm1YID0gTWF0aC5yb3VuZCgodGhpcy5zdGF0ZS53aWR0aCAtIGdhbGxlcnlJdGVtV2lkdGgpIC8gMiArIGRlbHRhICogKGdhbGxlcnlJdGVtV2lkdGggKyBzcGFjZVdpZHRoKSk7XHJcblx0XHRsZXQgdHJhbnNmb3JtWSA9IE1hdGgucm91bmQoKHRoaXMuc3RhdGUuaGVpZ2h0IC0gZ2FsbGVyeUl0ZW1IZWlnaHQpIC8gMik7XHJcblxyXG5cdFx0Y29uc3QgY29uc3RyYWludEJvdHRvbSA9IHRoaXMuc3RhdGUuc21hbGxCdXR0b25zUGFuZWxIZWlnaHQ7XHJcblx0XHRjb25zdCBjb25zdHJhaW50VG9wID0gdGhpcy5zdGF0ZS50aXRsZVBhbmVsUG9zaXRpb24udG9wICsgdGhpcy5zdGF0ZS50aXRsZVBhbmVsSGVpZ2h0ICsgMTA7XHJcblx0XHRpZiAodHJhbnNmb3JtWSA8IGNvbnN0cmFpbnRUb3ApXHJcblx0XHRcdHRyYW5zZm9ybVkgPSBjb25zdHJhaW50VG9wO1xyXG5cdFx0aWYgKHRyYW5zZm9ybVkgKyBnYWxsZXJ5SXRlbUhlaWdodCA+IHRoaXMuc3RhdGUuZWxlbWVudEhlaWdodCAtIGNvbnN0cmFpbnRCb3R0b20pIHtcclxuXHRcdFx0Z2FsbGVyeUl0ZW1IZWlnaHQgPSB0aGlzLnN0YXRlLmVsZW1lbnRIZWlnaHQgLSB0cmFuc2Zvcm1ZIC0gY29uc3RyYWludEJvdHRvbTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHg6IHRyYW5zZm9ybVgsXHJcblx0XHRcdHk6IHRyYW5zZm9ybVksXHJcblx0XHRcdHdpZHRoOiBnYWxsZXJ5SXRlbVdpZHRoLFxyXG5cdFx0XHRoZWlnaHQ6IGdhbGxlcnlJdGVtSGVpZ2h0LFxyXG5cdFx0XHRkZWx0YTogZGVsdGFcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQYXJzZSBzaXplIHN0cmluZ1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzaXplU3RyaW5nXHJcblx0ICovXHJcblx0cGFyc2VTaXplKHNpemVTdHJpbmcpIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHtcclxuXHRcdFx0aXNQZXJjZW50OiBmYWxzZSxcclxuXHRcdFx0dmFsdWU6IDBcclxuXHRcdH07XHJcblx0XHRpZiAoc2l6ZVN0cmluZy5lbmRzV2l0aCgnJScpKSB7XHJcblx0XHRcdHJlc3VsdC5pc1BlcmNlbnQgPSB0cnVlO1xyXG5cdFx0XHRyZXN1bHQudmFsdWUgPSBwYXJzZUludChzaXplU3RyaW5nLnN1YnN0cmluZygwLCBzaXplU3RyaW5nLmxlbmd0aCAtIDEpKSAvIDEwMDtcclxuXHRcdH0gZWxzZSBpZiAoc2l6ZVN0cmluZy5lbmRzV2l0aCgncHgnKSlcclxuXHRcdFx0cmVzdWx0LnZhbHVlID0gcGFyc2VJbnQoc2l6ZVN0cmluZy5zdWJzdHJpbmcoMCwgc2l6ZVN0cmluZy5sZW5ndGggLSAyKSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJlc3VsdC52YWx1ZSA9IHBhcnNlSW50KHNpemVTdHJpbmcpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFR1cm4gb24vb2ZmIENTUyB0aWxlIGFuaW1hdGlvbnNcclxuXHQgKiBAcGFyYW0ge2Jvb2x9IGVuYWJsZWRcclxuXHQgKi9cclxuXHR0b2dnbGVUaWxlQW5pbWF0aW9ucyhlbmFibGVkKSB7XHJcblx0XHRpZiAoZW5hYmxlZCkge1xyXG5cdFx0XHR0aGlzLiRlbGVtZW50LmZpbmQoJy5pemVuZGEtZ2FsbGVyeS1pdGVtJykuYWRkQ2xhc3MoJ2l6ZW5kYS1nYWxsZXJ5LXRyYW5zaXRpb24nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuJGVsZW1lbnQuZmluZCgnLml6ZW5kYS1nYWxsZXJ5LWl0ZW0nKS5yZW1vdmVDbGFzcygnaXplbmRhLWdhbGxlcnktdHJhbnNpdGlvbicpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xlYXIgdGlsZXMuXHJcblx0ICovXHJcblx0Y2xlYXJUaWxlcygpIHtcclxuXHRcdHRoaXMuZ2FsbGVyeVRpbGVzLmZvckVhY2godGlsZSA9PiB7XHJcblx0XHRcdHZhciAkdGlsZSA9IHRoaXMuJGVsZW1lbnQuZmluZChgLml6ZW5kYS1nYWxsZXJ5LWl0ZW1bdGlsZS1pZD0ke3RpbGUuaWR9XSA+IC5pemVuZGEtZ2FsbGVyeS1pdGVtLWlubmVyYCk7XHJcblx0XHRcdCR0aWxlLmVtcHR5KCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCogTG9hZCBnYWxsZXJ5IHRpbGVcclxuXHQqL1xyXG5cdGxvYWRUaWxlc1RvR2FsbGVyeSgpIHtcclxuXHRcdHRoaXMuZ2FsbGVyeVRpbGVzLmZvckVhY2godGlsZSA9PiB7XHJcblx0XHRcdHZhciAkdGlsZSA9IHRoaXMuJGVsZW1lbnQuZmluZChgLml6ZW5kYS1nYWxsZXJ5LWl0ZW1bdGlsZS1pZD0ke3RpbGUuaWR9XSA+IC5pemVuZGEtZ2FsbGVyeS1pdGVtLWlubmVyYCk7XHJcblx0XHRcdHZhciBsb2FkaW5nSHRtbCA9ICc8ZGl2IGNsYXNzPVwiaXplbmRhLWNvbW1vbi12Y2VudGVyZWQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJpemVuZGEtY29tbW9uLXZjZW50ZXJlZC1pdGVtXCI+JyArXHJcblx0XHRcdFx0JzxpbWcgY2xhc3M9XCJpemVuZGEtY29tbW9uLWltZy1sb2FkaW5nXCIgc3JjPVwiJyArXHJcblx0XHRcdFx0dGhpcy4kaXplbmRhVXJsU2VydmljZS5zZXR0aW5ncy51cmxScFBhZ2UgK1xyXG5cdFx0XHRcdCdpbWFnZT1Nb2Rlcm5JbWFnZXMubG9hZGluZy1ncmlkLmdpZlwiIGFsdD1cIkxvYWRpbmcuLi5cIiAvPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JztcclxuXHRcdFx0JHRpbGUuaHRtbChsb2FkaW5nSHRtbCk7XHJcblxyXG5cdFx0XHR2YXIgc2l6ZSA9IHtcclxuXHRcdFx0XHRoZWlnaHQ6ICR0aWxlLmhlaWdodCgpLFxyXG5cdFx0XHRcdHdpZHRoOiAkdGlsZS53aWR0aCgpXHJcblx0XHRcdH07XHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmxvYWRUaWxlc1ByZXZpZXcodGlsZSwgc2l6ZSkudGhlbih0aWxlc0h0bWwgPT4ge1xyXG5cdFx0XHRcdHZhciAkcmVwb3J0RGl2ID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwicmVwb3J0XCI+PC9kaXY+Jyk7XHJcblx0XHRcdFx0JHRpbGUuZW1wdHkoKTtcclxuXHRcdFx0XHQkdGlsZS5hcHBlbmQoJHJlcG9ydERpdik7XHJcblxyXG5cdFx0XHRcdC8vIGxvYWQgaHRtbCBpbnRvIHRoaXMgZGl2XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UubG9hZFJlcG9ydEludG9Db250YWluZXIodGlsZXNIdG1sLCAkcmVwb3J0RGl2KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0XHRlcnJvciA9PiB7XHJcblx0XHRcdFx0XHQkdGlsZS5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0JHRpbGUudGV4dChlcnJvcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlIGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2NvbXBhdGliaWxpdHktc2VydmljZSc7XHJcbmltcG9ydCB7IElJemVuZGFEYXNoYm9hcmRTZXR0aW5ncyB9IGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvYmFja2dyb3VuZC1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZEdhbGxlcnlTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9nYWxsZXJ5LXNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIEl6ZW5kYSBkYXNoYm9hcmQgY29tcG9uZW50LlxyXG4gKi9cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFEYXNoYm9hcmRNb2R1bGUsXHJcblx0J2l6ZW5kYURhc2hib2FyZCcsXHJcblx0WydyeCcsICckd2luZG93JywgJyRlbGVtZW50JywgJyRpbnRlcnZhbCcsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRpemVuZGFMb2NhbGVTZXJ2aWNlJywgJyRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZScsXHJcblx0XHQnJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzJywgJyRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZScsICckaXplbmRhQmFja2dyb3VuZFNlcnZpY2UnLCAnJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5jb21wb25lbnRzLmRhc2hib2FyZC5kYXNoYm9hcmQtdGVtcGxhdGUuaHRtbCdcclxuXHR9KVxyXG5leHBvcnQgY2xhc3MgSXplbmRhRGFzaGJvYXJkQ29tcG9uZW50IGltcGxlbWVudHMgbmcuSUNvbXBvbmVudENvbnRyb2xsZXIge1xyXG5cdGlzTGljZW5zZUZhaWxlZDogYm9vbGVhbjtcclxuXHRleHBvcnRQcm9ncmVzczogc3RyaW5nO1xyXG5cdHRpbGVXaWR0aDogbnVtYmVyO1xyXG5cdHRpbGVIZWlnaHQ6IG51bWJlcjtcclxuXHR0aWxlQ29udGFpbmVyU3R5bGU6IGFueTtcclxuXHRpc01vdXNlRXZlbnRzRW5hYmxlZE1hbnVhbDogYm9vbGVhbjtcclxuXHRnYWxsZXJ5Q29udGFpbmVyU3R5bGU6IGFueTtcclxuXHRyb290V2lkdGg6IG51bWJlcjtcclxuXHRwcmV2aW91c1dpZHRoOiBudW1iZXI7XHJcblx0c3Vic2NyaXB0aW9uczogYW55W107XHJcblx0bW9kZWw6IGFueTtcclxuXHRpc0dyaWRWaXNpYmxlOiBib29sZWFuO1xyXG5cdGdyaWRTdHlsZTogYW55O1xyXG5cdGlzR3JpZFNoYWRvd1Zpc2libGU6IGJvb2xlYW47XHJcblx0aXNHcmlkU2hhZG93UGx1c0J1dHRvblZpc2libGU6IGJvb2xlYW47XHJcblx0Z3JpZFNoYWRvd1N0eWxlOiBhbnk7XHJcblx0aXNMb2FkZWQ6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcng6IGFueSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRlbGVtZW50OiBuZy5JQXVnbWVudGVkSlF1ZXJ5LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhTG9jYWxlU2VydmljZTogSXplbmRhTG9jYWxpemF0aW9uU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFNldHRpbmdzOiBJSXplbmRhRGFzaGJvYXJkU2V0dGluZ3MsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZTogRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFCYWNrZ3JvdW5kU2VydmljZTogRGFzaGJvYXJkQmFja2dyb3VuZFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFHYWxsZXJ5U2VydmljZTogRGFzaGJvYXJkR2FsbGVyeVNlcnZpY2UpIHtcclxuXHR9XHJcblxyXG5cdCRvbkluaXQoKSB7XHJcblx0XHR0aGlzLmlzTGljZW5zZUZhaWxlZCA9ICF0aGlzLiRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncy5kYXNoYm9hcmRzQWxsb3dlZDtcclxuXHRcdGlmICh0aGlzLmlzTGljZW5zZUZhaWxlZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5leHBvcnRQcm9ncmVzcyA9IG51bGw7XHJcblx0XHR0aGlzLnRpbGVXaWR0aCA9IDEwMDtcclxuXHRcdHRoaXMudGlsZUhlaWdodCA9IDEwMDtcclxuXHRcdHRoaXMudGlsZUNvbnRhaW5lclN0eWxlID0ge1xyXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcclxuXHRcdH07XHJcblx0XHR0aGlzLmlzTW91c2VFdmVudHNFbmFibGVkTWFudWFsID0gdHJ1ZTtcclxuXHJcblx0XHR0aGlzLmluaXRHcmlkKCk7XHJcblxyXG5cdFx0dGhpcy5nYWxsZXJ5Q29udGFpbmVyU3R5bGUgPSB7XHJcblx0XHRcdCdoZWlnaHQnOiAwXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5yb290V2lkdGggPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pei1kYXNoLXJvb3QnKS53aWR0aCgpO1xyXG5cclxuXHRcdC8vIHN1YnNjcmliZVxyXG5cclxuXHRcdHRoaXMucHJldmlvdXNXaWR0aCA9IHRoaXMuJHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UubW9kZWwuc3Vic2NyaWJlT25OZXh0KHRoaXMuJG9uRGFzaGJvYXJkTW9kZWxVcGRhdGUsIHRoaXMpLFxyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5pc0xvYWRlZC5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25EYXNoYm9hcmRJc0xvYWRlZFVwZGF0ZSwgdGhpcyksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmV4cG9ydFByb2dyZXNzLnN1YnNjcmliZU9uTmV4dCgobmV3VmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLiR0aW1lb3V0KCgpID0+IHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPSBuZXdWYWx1ZSwgMSk7XHJcblx0XHRcdH0sIHRoaXMpLFxyXG5cdFx0XHQvL3RoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmQuc3Vic2NyaWJlT25OZXh0KHRoaXMuJG9uRGFzaGJvYXJkQmFja2dyb3VuZENoYW5nZWQsIHRoaXMpLFxyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS53aW5kb3dTaXplLnN1YnNjcmliZU9uTmV4dChuZXdXaW5kb3dTaXplID0+IHtcclxuXHRcdFx0XHRpZiAodGhpcy5wcmV2aW91c1dpZHRoID09PSBuZXdXaW5kb3dTaXplLndpZHRoKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHRoaXMucHJldmlvdXNXaWR0aCA9IG5ld1dpbmRvd1NpemUud2lkdGg7XHJcblx0XHRcdFx0dGhpcy5yb290V2lkdGggPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pei1kYXNoLXJvb3QnKS53aWR0aCgpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRGFzaGJvYXJkU2l6ZSgpO1xyXG5cdFx0XHRcdHRoaXMuJHJvb3RTY29wZS4kYXBwbHlBc3luYygpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdGdldCBpc01vdXNlRXZlbnRzRW5hYmxlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzTW91c2VFdmVudHNFbmFibGVkTWFudWFsICYmIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRWRpdEFsbG93ZWQoKTtcclxuXHR9XHJcblxyXG5cdGluaXRHcmlkKCkge1xyXG5cdFx0dGhpcy5pc0dyaWRWaXNpYmxlID0gZmFsc2U7XHJcblx0XHR0aGlzLmdyaWRTdHlsZSA9IG51bGw7XHJcblx0XHR0aGlzLmlzR3JpZFNoYWRvd1Zpc2libGUgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNHcmlkU2hhZG93UGx1c0J1dHRvblZpc2libGUgPSBmYWxzZTtcclxuXHRcdHRoaXMuZ3JpZFNoYWRvd1N0eWxlID0ge1xyXG5cdFx0XHQnbGVmdCc6IDAsXHJcblx0XHRcdCd0b3AnOiAwLFxyXG5cdFx0XHQnd2lkdGgnOiAwLFxyXG5cdFx0XHQnaGVpZ2h0JzogMFxyXG5cdFx0fVxyXG5cdFx0dGhpcy51cGRhdGVHcmlkU3R5bGUoKTsgLy8gaW5pdCBncmlkIHN0eWxlXHJcblx0fVxyXG5cclxuXHQkb25EZXN0cm95KCkge1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi5kaXNwb3NlKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGFzaGJvYXJkIG1vZGVsIGNoYW5nZWQgaGFuZGxlci4gT2NjdXJzIHdoZW4gdXNlciBuYXZpZ2F0ZXMgdG8gZXhpc3Rpbmcgb3IgbmV3IGRhc2hib2FyZC5cclxuXHQgKiBAcGFyYW0ge0l6ZW5kYURhc2hib2FyZE1vZGVsfSBuZXdNb2RlbCBuZXcgZGFzaGJvYXJkIG1vZGVsIG9iamVjdC5cclxuXHQgKi9cclxuXHQkb25EYXNoYm9hcmRNb2RlbFVwZGF0ZShuZXdNb2RlbCkge1xyXG5cdFx0dGhpcy5oaWRlR3JpZCgpO1xyXG5cdFx0dGhpcy5pc01vdXNlRXZlbnRzRW5hYmxlZE1hbnVhbCA9IHRydWU7XHJcblx0XHR0aGlzLm1vZGVsID0gbmV3TW9kZWw7XHJcblx0XHRpZiAoIXRoaXMubW9kZWwpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMudXBkYXRlRGFzaGJvYXJkU2l6ZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGFzaGJvYXJkIGlzTG9hZGVkIGNoYW5nZWQgaGFuZGxlci5cclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IG5ld0lzTG9hZGVkIG5ldyBpc0xvYWRlZCB2YWx1ZS5cclxuXHQgKi9cclxuXHQkb25EYXNoYm9hcmRJc0xvYWRlZFVwZGF0ZShuZXdJc0xvYWRlZCkge1xyXG5cdFx0dGhpcy5oaWRlR3JpZCgpO1xyXG5cdFx0dGhpcy5pc0xvYWRlZCA9IG5ld0lzTG9hZGVkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZlbnQgZmlyZXMgb24gdGlsZSBkcmFnIHN0YXJ0XHJcblx0ICovXHJcblx0JG9uVGlsZURyYWdTdGFydCh0aWxlKSB7XHJcblx0XHR0aGlzLnR1cm5PZmZNb3VzZUhhbmRsZXJzKCk7XHJcblx0XHR0aGlzLnNob3dHcmlkKCk7XHJcblx0XHR0aGlzLnNob3dUaWxlR3JpZFNoYWRvdyh7XHJcblx0XHRcdGxlZnQ6IHRpbGUueCAqIHRoaXMudGlsZVdpZHRoLFxyXG5cdFx0XHR0b3A6IHRpbGUueSAqIHRoaXMudGlsZUhlaWdodCxcclxuXHRcdFx0d2lkdGg6IHRpbGUud2lkdGggKiB0aGlzLnRpbGVXaWR0aCxcclxuXHRcdFx0aGVpZ2h0OiB0aWxlLmhlaWdodCAqIHRoaXMudGlsZUhlaWdodFxyXG5cdFx0fSxcclxuXHRcdFx0ZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZlbnQgZmlyZXMgb24gdGlsZSBkcmFnIGNoYW5nZSBwb3NpdGlvblxyXG5cdCAqL1xyXG5cdCRvblRpbGVEcmFnKHRpbGUsIHNoYWRvd1Bvc2l0aW9uKSB7XHJcblx0XHR0aGlzLnNob3dUaWxlR3JpZFNoYWRvdyh7XHJcblx0XHRcdGxlZnQ6IHNoYWRvd1Bvc2l0aW9uLmxlZnQsXHJcblx0XHRcdHRvcDogc2hhZG93UG9zaXRpb24udG9wLFxyXG5cdFx0XHR3aWR0aDogc2hhZG93UG9zaXRpb24ud2lkdGgsXHJcblx0XHRcdGhlaWdodDogc2hhZG93UG9zaXRpb24uaGVpZ2h0XHJcblx0XHR9LFxyXG5cdFx0XHRmYWxzZSk7XHJcblx0XHR0aGlzLnVwZGF0ZURhc2hib2FyZFNpemUoc2hhZG93UG9zaXRpb24pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZlbnQgZmlyZXMgb24gdGlsZSBkcmFnIGVuZFxyXG5cdCAqL1xyXG5cdCRvblRpbGVEcmFnRW5kKGV2ZW50UmVzdWx0KSB7XHJcblx0XHR0aGlzLmhpZGVHcmlkKCk7XHJcblx0XHR0aGlzLnR1cm5Pbk1vdXNlSGFuZGxlcnMoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IHRpbGUgcmVzaXplIGV2ZW50IGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25UaWxlUmVzaXplU3RhcnQodGlsZSkge1xyXG5cdFx0dGhpcy50dXJuT2ZmTW91c2VIYW5kbGVycygpO1xyXG5cdFx0dGhpcy5zaG93R3JpZCgpO1xyXG5cdFx0dGhpcy5zaG93VGlsZUdyaWRTaGFkb3coe1xyXG5cdFx0XHRsZWZ0OiB0aWxlLnggKiB0aGlzLnRpbGVXaWR0aCxcclxuXHRcdFx0dG9wOiB0aWxlLnkgKiB0aGlzLnRpbGVIZWlnaHQsXHJcblx0XHRcdHdpZHRoOiB0aWxlLndpZHRoICogdGhpcy50aWxlV2lkdGgsXHJcblx0XHRcdGhlaWdodDogdGlsZS5oZWlnaHQgKiB0aGlzLnRpbGVIZWlnaHRcclxuXHRcdH0sXHJcblx0XHRcdGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRpbGUgcmVzaXplIGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25UaWxlUmVzaXplKHRpbGUsIHNoYWRvd1Bvc2l0aW9uKSB7XHJcblx0XHR0aGlzLnNob3dUaWxlR3JpZFNoYWRvdyh7XHJcblx0XHRcdGxlZnQ6IHNoYWRvd1Bvc2l0aW9uLmxlZnQsXHJcblx0XHRcdHRvcDogc2hhZG93UG9zaXRpb24udG9wLFxyXG5cdFx0XHR3aWR0aDogc2hhZG93UG9zaXRpb24ud2lkdGgsXHJcblx0XHRcdGhlaWdodDogc2hhZG93UG9zaXRpb24uaGVpZ2h0XHJcblx0XHR9LFxyXG5cdFx0XHRmYWxzZSk7XHJcblx0XHR0aGlzLnVwZGF0ZURhc2hib2FyZFNpemUoc2hhZG93UG9zaXRpb24pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGlsZSByZXNpemUgY29tcGxldGVkIGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25UaWxlUmVzaXplRW5kKGV2ZW50UmVzdWx0KSB7XHJcblx0XHR0aGlzLmhpZGVHcmlkKCk7XHJcblx0XHR0aGlzLnR1cm5Pbk1vdXNlSGFuZGxlcnMoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRpbGUgZGVsZXRlIGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25UaWxlRGVsZXRlKHRpbGUpIHtcclxuXHRcdGlmICh0aWxlID09IG51bGwpXHJcblx0XHRcdHRocm93ICdUaWxlIG5vdCBmb3VuZCc7XHJcblx0XHR0aGlzLm1vZGVsLnJlbW92ZVRpbGUodGlsZSk7XHJcblx0XHR0aGlzLnVwZGF0ZURhc2hib2FyZFNpemUoKTtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hGaWx0ZXJzKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaWxlIHJlcG9ydCBzZWxlY3RlZCBoYW5kbGVyLlxyXG5cdCAqIEBwYXJhbSB7SXplbmRhRGFzaGJvYXJkVGlsZU1vZGVsfSB0aWxlIHRpbGUgbW9kZWwgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdCRvblRpbGVSZXBvcnRTZWxlY3RlZCh0aWxlKSB7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5yZWZyZXNoRmlsdGVycygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGFzaGJvYXJkIG1vdXNlIGhvdmVyXHJcblx0ICovXHJcblx0Z2xvYmFsTW91c2Vtb3ZlSGFuZGxlcigkZXZlbnQpIHtcclxuXHRcdGlmICghdGhpcy5pc01vdXNlRXZlbnRzRW5hYmxlZCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgJHRhcmdldCA9IGFuZ3VsYXIuZWxlbWVudCgkZXZlbnQudGFyZ2V0KTtcclxuXHRcdGlmICgkdGFyZ2V0LmNsb3Nlc3QoJy5pei1kYXNoLXRpbGUnKS5sZW5ndGgpIHtcclxuXHRcdFx0dGhpcy5oaWRlR3JpZCgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZ2V0IHt4LCB5fSBjbGljayBjb29yZGluYXRlc1xyXG5cdFx0Y29uc3QgeCA9IE1hdGguZmxvb3IoJGV2ZW50Lm9mZnNldFggLyB0aGlzLnRpbGVXaWR0aCk7XHJcblx0XHRjb25zdCB5ID0gTWF0aC5mbG9vcigkZXZlbnQub2Zmc2V0WSAvIHRoaXMudGlsZUhlaWdodCk7XHJcblxyXG5cdFx0dGhpcy5zaG93R3JpZCgpO1xyXG5cdFx0aWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ2Rhc2hib2FyZC1ncmlkJykgJiYgJHRhcmdldC53aWR0aCgpID4gMCkge1xyXG5cdFx0XHR0aGlzLnNob3dUaWxlR3JpZFNoYWRvdyh7XHJcblx0XHRcdFx0bGVmdDogeCAqIHRoaXMudGlsZVdpZHRoLFxyXG5cdFx0XHRcdHRvcDogeSAqIHRoaXMudGlsZUhlaWdodCxcclxuXHRcdFx0XHR3aWR0aDogdGhpcy50aWxlV2lkdGgsXHJcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLnRpbGVIZWlnaHRcclxuXHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEYXNoYm9hcmQgbW91c2Ugb3V0XHJcblx0ICovXHJcblx0Z2xvYmFsTW91c2VvdXRIYW5kbGVyKCRldmVudCkge1xyXG5cdFx0aWYgKCF0aGlzLmlzTW91c2VFdmVudHNFbmFibGVkXHJcblx0XHRcdHx8ICgkZXZlbnQucmVsYXRlZFRhcmdldCAmJiBhbmd1bGFyLmVsZW1lbnQoJGV2ZW50LnJlbGF0ZWRUYXJnZXQpLmNsb3Nlc3QoJy5pei1kYXNoLWJvZHktY29udGFpbmVyJykubGVuZ3RoID4gMCkpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHRoaXMuaGlkZUdyaWQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsaWNrIHRvIGFueSBwYXJ0IG9mIHRoZSBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRnbG9iYWxDbGlja0hhbmRsZXIoJGV2ZW50KSB7XHJcblx0XHRpZiAoIXRoaXMuaXNNb3VzZUV2ZW50c0VuYWJsZWQpXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0aWYgKHR5cGVvZiAoJGV2ZW50Wyd3aGljaCddKSAhPT0gJ3VuZGVmaW5lZCcgJiYgJGV2ZW50Wyd3aGljaCddICE9PSAxKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdC8vIGdldCB7eCwgeX0gY2xpY2sgY29vcmRpbmF0ZXNcclxuXHRcdGNvbnN0IHggPSBNYXRoLmZsb29yKCRldmVudC5vZmZzZXRYIC8gdGhpcy50aWxlV2lkdGgpO1xyXG5cdFx0Y29uc3QgeSA9IE1hdGguZmxvb3IoJGV2ZW50Lm9mZnNldFkgLyB0aGlzLnRpbGVIZWlnaHQpO1xyXG5cdFx0dGhpcy5tb2RlbC5hZGRQaXhlbFRpbGUoeCwgeSk7XHJcblx0XHR0aGlzLnVwZGF0ZURhc2hib2FyZFNpemUoKTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc2FibGUgbW91c2UgbW92ZS9vdXQvY2xpY2sgaGFuZGxlcnMgZm9yIGRhc2hib2FyZCBcclxuXHQgKi9cclxuXHR0dXJuT2ZmTW91c2VIYW5kbGVycygpIHtcclxuXHRcdHRoaXMuaXNNb3VzZUV2ZW50c0VuYWJsZWRNYW51YWwgPSBmYWxzZTtcclxuXHRcdHRoaXMuaGlkZUdyaWQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEVuYWJsZSBtb3VzZSBtb3ZlL291dC9jbGljayBoYW5kbGVycyBmb3IgZGFzaGJvYXJkIFxyXG5cdCAqL1xyXG5cdHR1cm5Pbk1vdXNlSGFuZGxlcnMoKSB7XHJcblx0XHRpZiAodGhpcy4kaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UuaXNFZGl0QWxsb3dlZCgpKVxyXG5cdFx0XHR0aGlzLmlzTW91c2VFdmVudHNFbmFibGVkTWFudWFsID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSB0aWxlIGNvbnRhaW5lciBzaXplc1xyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBhZGRpdGlvbmFsQm94LiBJZiB3ZSB3YW50IHRvIGV4dGVuZCBkYXNoYm9hcmQgY29udGFpbmVyIHNpemUgd2UgY2FuXHJcblx0ICogdXNlIHRoaXMgcGFyYW1ldGVyIGFuZCBhZGQgYWRkaXRpb25hbCBhcmVhLlxyXG5cdCAqL1xyXG5cdHVwZGF0ZURhc2hib2FyZFNpemUoYWRkaXRpb25hbEJveD8pIHtcclxuXHRcdGlmICghdGhpcy5tb2RlbClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy51cGRhdGVUaWxlU2l6ZSgpO1xyXG5cdFx0dGhpcy51cGRhdGVHYWxsZXJ5U2l6ZSgpO1xyXG5cdFx0Y29uc3QgaXNPbmVDb2x1bW4gPSB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc09uZUNvbHVtblZpZXcoKTtcclxuXHRcdGNvbnN0IG1heEhlaWdodCA9IHRoaXMubW9kZWwuZ2V0TWF4SGVpZ2h0KGlzT25lQ29sdW1uKTtcclxuXHJcblx0XHRsZXQgbWF4SGVpZ2h0UGl4ZWxzID0gbWF4SGVpZ2h0ICogdGhpcy50aWxlSGVpZ2h0O1xyXG5cdFx0Ly8gdXBkYXRlIGhlaWdodCBvZiB1bmlvbiBvZiB0aWxlcyBhbmQgYWRkaXRpb25hbCBib3ggaXQgaXMgc2V0XHJcblx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQoYWRkaXRpb25hbEJveCkpXHJcblx0XHRcdGlmIChhZGRpdGlvbmFsQm94LnRvcCArIGFkZGl0aW9uYWxCb3guaGVpZ2h0ID4gbWF4SGVpZ2h0UGl4ZWxzKVxyXG5cdFx0XHRcdG1heEhlaWdodFBpeGVscyA9IGFkZGl0aW9uYWxCb3gudG9wICsgYWRkaXRpb25hbEJveC5oZWlnaHQ7XHJcblx0XHQvLyBzZXQgaGVpZ2h0OlxyXG5cdFx0YW5ndWxhci5lbGVtZW50KCcuaXotZGFzaC1ib2R5LWNvbnRhaW5lcicpLmhlaWdodCgobWF4SGVpZ2h0UGl4ZWxzICsgdGhpcy50aWxlSGVpZ2h0ICsgMSkgKyAncHgnKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSB0aWxlIGdyaWQgc2l6ZXNcclxuXHQgKi9cclxuXHR1cGRhdGVUaWxlU2l6ZSgpIHtcclxuXHRcdGNvbnN0IHdpZHRoID0gTWF0aC5mbG9vcih0aGlzLnJvb3RXaWR0aCAvIDEyKSAqIDEyIC0gMjQ7XHJcblx0XHR0aGlzLiRlbGVtZW50LmZpbmQoJy5pei1kYXNoLWJvZHktY29udGFpbmVyJykud2lkdGgod2lkdGgpO1xyXG5cdFx0dGhpcy50aWxlV2lkdGggPSB3aWR0aCAvIDEyO1xyXG5cdFx0dGhpcy50aWxlSGVpZ2h0ID0gdGhpcy50aWxlV2lkdGggPiAxMDAgPyB0aGlzLnRpbGVXaWR0aCA6IDEwMDtcclxuXHRcdHRoaXMudXBkYXRlR3JpZFN0eWxlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgdGlsZSBncmlkIHN0eWxlIHZhcmlhYmxlLlxyXG5cdCAqL1xyXG5cdHVwZGF0ZUdyaWRTdHlsZSgpIHtcclxuXHRcdHRoaXMuZ3JpZFN0eWxlID0ge1xyXG5cdFx0XHQnYmFja2dyb3VuZC1zaXplJzogdGhpcy50aWxlV2lkdGggK1xyXG5cdFx0XHRcdCdweCAnICtcclxuXHRcdFx0XHR0aGlzLnRpbGVIZWlnaHQgK1xyXG5cdFx0XHRcdCdweCwgJyArXHJcblx0XHRcdFx0dGhpcy50aWxlV2lkdGggK1xyXG5cdFx0XHRcdCdweCAnICtcclxuXHRcdFx0XHR0aGlzLnRpbGVIZWlnaHQgK1xyXG5cdFx0XHRcdCdweCdcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgZ2FsbGVyeSBjb250YWluZXIgc2l6ZVxyXG5cdCAqL1xyXG5cdHVwZGF0ZUdhbGxlcnlTaXplKCkge1xyXG5cdFx0Y29uc3QgdGlsZUNvbnRhaW5lclRvcCA9IGFuZ3VsYXIuZWxlbWVudCgnLml6LWRhc2gtcm9vdCcpLm9mZnNldCgpLnRvcDtcclxuXHRcdHRoaXMuZ2FsbGVyeUNvbnRhaW5lclN0eWxlLmhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLiR3aW5kb3cpLmhlaWdodCgpIC0gdGlsZUNvbnRhaW5lclRvcCAtIDMwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZlbnQgaGFuZGxlciB3aGljaCBydW5zIHdoZW4gdXNlciB0dXJucyBvbiBmdWxsc2NyZWVuLlxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNGdWxsc2NyZWVuXHJcblx0ICovXHJcblx0Z2FsbGVyeVRvZ2dsZUZ1bGxzY3JlZW4oaXNGdWxsc2NyZWVuKSB7XHJcblx0XHR0aGlzLiRpemVuZGFHYWxsZXJ5U2VydmljZS5nYWxsZXJ5U3RhdGUuaXNGdWxsU2NyZWVuID0gaXNGdWxsc2NyZWVuO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZlbnQgaGFuZGxlciB3aGljaCBydW5zIHdoZW4gZ2FsbGVyeSBzdG9wIHBsYXlpbmcuXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBpc1BsYXlTdGFydGVkIGlzUGxheVN0YXJ0ZWRcclxuXHQgKi9cclxuXHRnYWxsZXJ5VG9nZ2xlUGxheVN0YXJ0ZWQoaXNQbGF5U3RhcnRlZCkge1xyXG5cdFx0dGhpcy4kaXplbmRhR2FsbGVyeVNlcnZpY2UuZ2FsbGVyeVN0YXRlLmlzUGxheVN0YXJ0ZWQgPSBpc1BsYXlTdGFydGVkO1xyXG5cdH1cclxuXHJcblx0c2hvd0dyaWQoKSB7XHJcblx0XHRjb25zdCBpc09uZUNvbHVtbiA9IHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzT25lQ29sdW1uVmlldygpO1xyXG5cdFx0aWYgKGlzT25lQ29sdW1uKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmlzR3JpZFZpc2libGUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0aGlkZUdyaWQoKSB7XHJcblx0XHRpZiAoIXRoaXMuaXNHcmlkVmlzaWJsZSlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dGhpcy5pc0dyaWRWaXNpYmxlID0gZmFsc2U7XHJcblx0XHR0aGlzLmhpZGVUaWxlR3JpZFNoYWRvdygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvdyB0aWxlIGdyaWQgc2hhZG93XHJcblx0ICovXHJcblx0c2hvd1RpbGVHcmlkU2hhZG93KHNoYWRvd0Jib3gsIHNob3dQbHVzQnV0dG9uKSB7XHJcblx0XHRjb25zdCBpc09uZUNvbHVtbiA9IHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzT25lQ29sdW1uVmlldygpO1xyXG5cdFx0aWYgKGlzT25lQ29sdW1uKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR0aGlzLmlzR3JpZFNoYWRvd1Zpc2libGUgPSB0cnVlO1xyXG5cdFx0dGhpcy5pc0dyaWRTaGFkb3dQbHVzQnV0dG9uVmlzaWJsZSA9IHNob3dQbHVzQnV0dG9uO1xyXG5cdFx0bGV0IGxlZnQgPSBzaGFkb3dCYm94LmxlZnQ7XHJcblx0XHRsZXQgdG9wID0gc2hhZG93QmJveC50b3A7XHJcblx0XHRjb25zdCB3aWR0aCA9IHNoYWRvd0Jib3gud2lkdGg7XHJcblx0XHRjb25zdCBoZWlnaHQgPSBzaGFkb3dCYm94LmhlaWdodDtcclxuXHRcdGlmIChsZWZ0IDwgMCkgbGVmdCA9IDA7XHJcblx0XHRpZiAobGVmdCArIHdpZHRoID49IHRoaXMudGlsZVdpZHRoICogMTIpIGxlZnQgPSB0aGlzLnRpbGVXaWR0aCAqIDEyIC0gd2lkdGg7XHJcblx0XHRpZiAodG9wIDwgMCkgdG9wID0gMDtcclxuXHRcdHRoaXMuZ3JpZFNoYWRvd1N0eWxlID0ge1xyXG5cdFx0XHQnbGVmdCc6IGxlZnQgKyAxLFxyXG5cdFx0XHQndG9wJzogdG9wICsgMSxcclxuXHRcdFx0J3dpZHRoJzogd2lkdGggLSAxLFxyXG5cdFx0XHQnaGVpZ2h0JzogaGVpZ2h0IC0gMVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhpZGUgdGlsZSBncmlkIHNoYWRvd1xyXG5cdCAqL1xyXG5cdGhpZGVUaWxlR3JpZFNoYWRvdygpIHtcclxuXHRcdHRoaXMuaXNHcmlkU2hhZG93VmlzaWJsZSA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Z2V0RXhwb3J0V2FpdE1lc3NhZ2VIZWFkZXJUZXh0KCkge1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0UHJvZ3Jlc3MgPT09ICdleHBvcnQnKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FeHBvcnRpbmdJblByb2dyZXNzJywgJ0V4cG9ydGluZyBpbiBwcm9ncmVzcy4nKTtcclxuXHRcdGlmICh0aGlzLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19QcmludGluZ0luUHJvZ3Jlc3MnLCAnUHJpbnRpbmcgaW4gcHJvZ3Jlc3MuJyk7XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fVxyXG5cclxuXHRnZXRFeHBvcnRXYWl0TWVzc2FnZVRleHQoKSB7XHJcblx0XHRpZiAodGhpcy5leHBvcnRQcm9ncmVzcyA9PT0gJ2V4cG9ydCcpXHJcblx0XHRcdHJldHVybiB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZpbmlzaEV4cG9ydGluZycsICdQbGVhc2Ugd2FpdCB0aWxsIGV4cG9ydCBpcyBjb21wbGV0ZWQuLi4nKTtcclxuXHRcdGlmICh0aGlzLmV4cG9ydFByb2dyZXNzID09PSAncHJpbnQnKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GaW5pc2hQcmludGluZycsICdQbGVhc2UgZmluaXNoIHByaW50aW5nIGJlZm9yZSBjb250aW51ZS4nKTtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcbn1cclxuXHJcbiIsImltcG9ydCAqIGFzIGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCAnaXplbmRhLWV4dGVybmFsLWxpYnMnO1xyXG5pbXBvcnQgSXplbmRhQ29tcG9uZW50IGZyb20gJ2NvbW1vbi9jb3JlL3Rvb2xzL2l6ZW5kYS1jb21wb25lbnQnO1xyXG5pbXBvcnQgaXplbmRhRGFzaGJvYXJkTW9kdWxlLCB7IElJemVuZGFEYXNoYm9hcmRTZXR0aW5ncyB9IGZyb20gJ2Rhc2hib2FyZC9tb2R1bGUtZGVmaW5pdGlvbic7XHJcbmltcG9ydCBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL2xvY2FsaXphdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVV0aWxTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFVdGlsVWlTZXJ2aWNlIGZyb20gJ2NvbW1vbi9jb3JlL3NlcnZpY2VzL3V0aWwtdWktc2VydmljZSc7XHJcbmltcG9ydCBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSBmcm9tICdjb21tb24vY29yZS9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhVXJsU2VydmljZSBmcm9tICdjb21tb24vcXVlcnkvc2VydmljZXMvdXJsLXNlcnZpY2UnO1xyXG5pbXBvcnQgSXplbmRhU2NoZWR1bGVTZXJ2aWNlIGZyb20gJ2NvbW1vbi91aS9zZXJ2aWNlcy9zY2hlZHVsZS1zZXJ2aWNlJztcclxuaW1wb3J0IEl6ZW5kYVNoYXJlU2VydmljZSBmcm9tICdjb21tb24vdWkvc2VydmljZXMvc2hhcmUtc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZGFzaGJvYXJkLXN0b3JhZ2Utc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvYmFja2dyb3VuZC1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZEdhbGxlcnlTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9nYWxsZXJ5LXNlcnZpY2UnO1xyXG5cclxuQEl6ZW5kYUNvbXBvbmVudChcclxuXHRpemVuZGFEYXNoYm9hcmRNb2R1bGUsXHJcblx0J2l6ZW5kYURhc2hib2FyZFRvb2xiYXInLFxyXG5cdFsncngnLCAnJHdpbmRvdycsICckZWxlbWVudCcsICckaW50ZXJ2YWwnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsXHJcblx0XHQnaXplbmRhRGFzaGJvYXJkQ29uZmlnJywgJyRpemVuZGFTZXR0aW5nc1NlcnZpY2UnLCAnJGl6ZW5kYUxvY2FsZVNlcnZpY2UnLCAnJGl6ZW5kYVV0aWxTZXJ2aWNlJywgJyRpemVuZGFVdGlsVWlTZXJ2aWNlJyxcclxuXHRcdCckaXplbmRhQ29tcGF0aWJpbGl0eVNlcnZpY2UnLCAnJGl6ZW5kYVVybFNlcnZpY2UnLFxyXG5cdFx0JyRpemVuZGFTY2hlZHVsZVNlcnZpY2UnLCAnJGl6ZW5kYVNoYXJlU2VydmljZScsICckaXplbmRhRGFzaGJvYXJkU2V0dGluZ3MnLCAnJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlJyxcclxuXHRcdCckaXplbmRhQmFja2dyb3VuZFNlcnZpY2UnLCAnJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlJ10sXHJcblx0e1xyXG5cdFx0dGVtcGxhdGVVcmw6ICcjIyNSUyMjI2V4dHJlcz1jb21wb25lbnRzLmRhc2hib2FyZC5jb21wb25lbnRzLnRvb2xiYXIudG9vbGJhci10ZW1wbGF0ZS5odG1sJ1xyXG5cdH0pXHJcbmNsYXNzIEl6ZW5kYURhc2hib2FyZFRvb2xiYXJDb21wb25lbnQgaW1wbGVtZW50cyBuZy5JQ29tcG9uZW50Q29udHJvbGxlciB7XHJcblx0aXNMaWNlbnNlRmFpbGVkOiBib29sZWFuO1xyXG5cdGlzSHVlUm90YXRlOiBib29sZWFuO1xyXG5cdGlzSHVlUm90YXRlRW5hYmxlZDogYm9vbGVhbjtcclxuXHRpc0h0bWw1RnVsbFNjcmVlblN1cHBvcnRlZDogYm9vbGVhbjtcclxuXHRpc0Rlc2lnbkxpbmtzQWxsb3dlZDogYm9vbGVhbjtcclxuXHRpc1N0b3JhZ2VBdmFpbGFibGU6IGJvb2xlYW47XHJcblxyXG5cdGlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkOiBib29sZWFuO1xyXG5cdHNjaGVkdWxlTW9kYWxPcGVuZWQ6IGJvb2xlYW47XHJcblx0c2hhcmVNb2RhbE9wZW5lZDogYm9vbGVhbjtcclxuXHRzZWxlY3RCYWNrZ3JvdW5kSW1hZ2VNb2RhbE9wZW5lZDogYm9vbGVhbjtcclxuXHJcblx0c3Vic2NyaXB0aW9uczogYW55W107XHJcblx0Y29tbW9uU2V0dGluZ3M6IGFueTtcclxuXHJcblx0cHJpbnRNb2RlOiBzdHJpbmc7XHJcblx0YmFja2dyb3VuZE1vZGFsUmFkaW86IHN0cmluZztcclxuXHJcblx0aXNCdXR0b25CYXJWaXNpYmxlOiBib29sZWFuO1xyXG5cdGJ1dHRvbmJhckNsYXNzOiBzdHJpbmc7XHJcblx0YnV0dG9uYmFyQ29sbGFwc2VkQ2xhc3M6IHN0cmluZztcclxuXHJcblx0cmVmcmVzaEludGVydmFsOiBudW1iZXI7XHJcblx0YXV0b1JlZnJlc2g6IGFueTtcclxuXHJcblx0c2VuZEVtYWlsTW9kYWxPcGVuZWQ6IGJvb2xlYW47XHJcblx0c2VuZEVtYWlsU3RhdGU6IGFueTtcclxuXHJcblx0Y3VycmVudENhdGVnb3J5OiBzdHJpbmc7XHJcblx0Y3VycmVudERhc2hib2FyZDogc3RyaW5nO1xyXG5cclxuXHRtb2RlbDogYW55O1xyXG5cdGNhdGVnb3JpZXM6IGFueTtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRyeDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkd2luZG93OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRlbGVtZW50OiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpbnRlcnZhbDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkdGltZW91dDogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkcm9vdFNjb3BlOiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5IGRhc2hib2FyZENvbmZpZzogYW55LFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhU2V0dGluZ3NTZXJ2aWNlOiBhbnksXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFMb2NhbGVTZXJ2aWNlOiBJemVuZGFMb2NhbGl6YXRpb25TZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFNlcnZpY2U6IEl6ZW5kYVV0aWxTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhVXRpbFVpU2VydmljZTogSXplbmRhVXRpbFVpU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlOiBJemVuZGFDb21wYXRpYmlsaXR5U2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVVybFNlcnZpY2U6IEl6ZW5kYVVybFNlcnZpY2UsXHJcblx0XHRwcml2YXRlIHJlYWRvbmx5ICRpemVuZGFTY2hlZHVsZVNlcnZpY2U6IEl6ZW5kYVNjaGVkdWxlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYVNoYXJlU2VydmljZTogSXplbmRhU2hhcmVTZXJ2aWNlLFxyXG5cdFx0cHJpdmF0ZSByZWFkb25seSAkaXplbmRhRGFzaGJvYXJkU2V0dGluZ3M6IElJemVuZGFEYXNoYm9hcmRTZXR0aW5ncyxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlOiBEYXNoYm9hcmRTdG9yYWdlU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlOiBEYXNoYm9hcmRCYWNrZ3JvdW5kU2VydmljZSxcclxuXHRcdHByaXZhdGUgcmVhZG9ubHkgJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlOiBEYXNoYm9hcmRHYWxsZXJ5U2VydmljZSkge1xyXG5cclxuXHRcdGNvbnN0IGlzQ2hyb21lID0gL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvR29vZ2xlIEluYy8udGVzdChuYXZpZ2F0b3IudmVuZG9yKTtcclxuXHRcdGNvbnN0IGlzU2FmYXJpID0gL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XHJcblx0XHRjb25zdCBpc0ZpcmVmb3ggPSAvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHRcdHRoaXMuaXNIdWVSb3RhdGUgPSBpc0Nocm9tZSB8fCBpc1NhZmFyaSB8fCBpc0ZpcmVmb3g7XHJcblx0XHR0aGlzLmlzSHVlUm90YXRlRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc1NhdmVSZXBvcnRNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5pc0h0bWw1RnVsbFNjcmVlblN1cHBvcnRlZCA9IHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzSHRtbDVGdWxsU2NyZWVuU3VwcG9ydGVkKCk7XHJcblx0fVxyXG5cclxuXHQkb25Jbml0KCkge1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW107XHJcblx0XHR0aGlzLmlzTGljZW5zZUZhaWxlZCA9ICF0aGlzLiRpemVuZGFEYXNoYm9hcmRTZXR0aW5ncy5kYXNoYm9hcmRzQWxsb3dlZDtcclxuXHRcdGlmICh0aGlzLmlzTGljZW5zZUZhaWxlZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdHRoaXMuc2NoZWR1bGVNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5zaGFyZU1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblxyXG5cdFx0Ly8gc2V0dGluZ3NcclxuXHRcdHRoaXMuY29tbW9uU2V0dGluZ3MgPSB0aGlzLiRpemVuZGFTZXR0aW5nc1NlcnZpY2UuZ2V0Q29tbW9uU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuaXNEZXNpZ25MaW5rc0FsbG93ZWQgPSB0aGlzLmNvbW1vblNldHRpbmdzLnNob3dEZXNpZ25MaW5rcztcclxuXHRcdHRoaXMucHJpbnRNb2RlID0gdGhpcy4kaXplbmRhRGFzaGJvYXJkU2V0dGluZ3MuYWxsb3dlZFByaW50RW5naW5lO1xyXG5cclxuXHRcdC8vIGJhY2tncm91bmRcclxuXHRcdHRoaXMuaXNTdG9yYWdlQXZhaWxhYmxlID0gdGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuaXNTdG9yYWdlQXZhaWxhYmxlKCk7XHJcblx0XHR0aGlzLnNlbGVjdEJhY2tncm91bmRJbWFnZU1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmJhY2tncm91bmRNb2RhbFJhZGlvID0gJ3VybCc7XHJcblx0XHQvLyBidXR0b24gYmFyXHJcblx0XHR0aGlzLmlzQnV0dG9uQmFyVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5idXR0b25iYXJDbGFzcyA9ICduYXYgbmF2YmFyLW5hdiBpei1kYXNoLXRvb2xidG4tcGFuZWwgbGVmdC10cmFuc2l0aW9uJztcclxuXHRcdHRoaXMuYnV0dG9uYmFyQ29sbGFwc2VkQ2xhc3MgPSAnbmF2IG5hdmJhci1uYXYgaXotZGFzaC1jb2xsYXBzZWQtdG9vbGJ0bi1wYW5lbCBsZWZ0LXRyYW5zaXRpb24gb3BlbmVkJztcclxuXHRcdC8vIHJlZnJlc2hcclxuXHRcdHRoaXMucmVmcmVzaEludGVydmFsID0gbnVsbDtcclxuXHRcdHRoaXMuYXV0b1JlZnJlc2ggPSBudWxsO1xyXG5cdFx0Ly9lbWFpbFxyXG5cdFx0dGhpcy5zZW5kRW1haWxNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5zZW5kRW1haWxTdGF0ZSA9IHtcclxuXHRcdFx0ZXJyb3JzOiBbXSxcclxuXHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcclxuXHRcdFx0ZXJyb3JPY2N1cmVkOiBmYWxzZSxcclxuXHRcdFx0c2VuZFR5cGU6ICdMaW5rJyxcclxuXHRcdFx0ZW1haWw6ICcnLFxyXG5cdFx0XHRvcGVuZWQ6IGZhbHNlLFxyXG5cdFx0XHRmb2N1c2VkOiBmYWxzZVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBzdWJzY3JpYmVcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtcclxuXHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UubW9kZWwuc3Vic2NyaWJlT25OZXh0KHRoaXMuJG9uRGFzaGJvYXJkTW9kZWxVcGRhdGUsIHRoaXMpLFxyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5hdXRvUmVmcmVzaC5zdWJzY3JpYmVPbk5leHQodGhpcy4kb25BdXRvcmVmcmVzaFVwZGF0ZSwgdGhpcyksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmNhdGVnb3JpZXMuc3Vic2NyaWJlT25OZXh0KHRoaXMuJG9uQ2F0ZWdvcmllc1VwZGF0ZSwgdGhpcyksXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLmN1cnJlbnRDYXRlZ29yeS5zdWJzY3JpYmVPbk5leHQobmV4dCA9PiB0aGlzLmN1cnJlbnRDYXRlZ29yeSA9IG5leHQpLFxyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5jdXJyZW50RGFzaGJvYXJkLnN1YnNjcmliZU9uTmV4dChuZXh0ID0+IHRoaXMuY3VycmVudERhc2hib2FyZCA9IG5leHQpLFxyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS53aW5kb3dTaXplLnN1YnNjcmliZU9uTmV4dChuZXdXaW5kb3dTaXplID0+IHtcclxuXHRcdFx0XHQvLyByZXNpemUgaGFuZGxlclxyXG5cdFx0XHR9LCB0aGlzKVxyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdCRvbkRlc3Ryb3koKSB7XHJcblx0XHR0aGlzLmNhbmNlbFJlZnJlc2hJbnRlcnZhbCgpO1xyXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi5kaXNwb3NlKCkpO1xyXG5cdH1cclxuXHJcblx0JG9uRGFzaGJvYXJkTW9kZWxVcGRhdGUobmV3TW9kZWwpIHtcclxuXHRcdHRoaXMuY2FuY2VsUmVmcmVzaEludGVydmFsKCk7XHJcblx0XHR0aGlzLm1vZGVsID0gbmV3TW9kZWw7XHJcblx0fVxyXG5cclxuXHQkb25BdXRvcmVmcmVzaFVwZGF0ZShuZXdBdXRvcmVmcmVzaCkge1xyXG5cdFx0dGhpcy5hdXRvUmVmcmVzaCA9IG5ld0F1dG9yZWZyZXNoO1xyXG5cdH1cclxuXHJcblx0JG9uQ2F0ZWdvcmllc1VwZGF0ZShuZXdDYXRlZ29yaWVzKSB7XHJcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBuZXdDYXRlZ29yaWVzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIG5ldyBkYXNoYm9hcmQgYnV0dG9uIGhhbmRsZXIuXHJcblx0ICovXHJcblx0Y3JlYXRlTmV3RGFzaGJvYXJkKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UubmF2aWdhdGVOZXdEYXNoYm9hcmQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgZGFzaGJvYXJkXHJcblx0ICogQHBhcmFtIHtib29sZWFufSBzaG93TmFtZURpYWxvZyBkYXNoYm9hcmQgcmVwb3J0IHNldCBuYW1lLlxyXG5cdCAqL1xyXG5cdHNhdmVEYXNoYm9hcmQoc2hvd05hbWVEaWFsb2cpIHtcclxuXHRcdGlmIChzaG93TmFtZURpYWxvZyB8fCAhdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSkge1xyXG5cdFx0XHR0aGlzLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuaGlkZUJ1dHRvbkJhcigpO1xyXG5cdFx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZVxyXG5cdFx0XHRcdC5zYXZlRGFzaGJvYXJkKClcclxuXHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dOb3RpZmljYXRpb24odGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19EYXNoYm9hcmRTYXZlZCcsXHJcblx0XHRcdFx0XHRcdCdEYXNoYm9hcmQgc3VjZXNzZnVsbHkgc2F2ZWQnKSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQoZXJyb3IpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG1zZ0NhbnRTYXZlID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19DYW50U2F2ZURhc2hib2FyZCcsICdDYW5cXCd0IHNhdmUgZGFzaGJvYXJkJyk7XHJcblx0XHRcdFx0XHRjb25zdCBtc2dFcnJvciA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRXJyb3InLCAnRXJyb3InKTtcclxuXHRcdFx0XHRcdHZhciBlcnJvclRleHQgPSBgJHttc2dDYW50U2F2ZX0gXCIke3RoaXMubW9kZWwucmVwb3J0RnVsbE5hbWV9XCIuICR7bXNnRXJyb3J9OiBcIiR7ZXJyb3J9XCJgO1xyXG5cdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAgKiBTYXZlIGRpYWxvZyBjbG9zZWQgaGFuZGxlci5cclxuXHQgICovXHJcblx0b25TYXZlQ2xvc2VkKCkge1xyXG5cdFx0dGhpcy5oaWRlQnV0dG9uQmFyKCk7XHJcblx0XHR0aGlzLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXBvcnQgbmFtZS9jYXRlZ29yeSBzZWxlY3RlZC4gU2F2ZSByZXBvcnQgaGFuZGxlci4gSW4gdGhpcyBzY2VuYXJpbyB3ZSBoYXZlIHRvIHR1cm4gYnV0dG9uIGJhciBvZmZcclxuXHQgKi9cclxuXHRvblNhdmUocmVwb3J0TmFtZSwgY2F0ZWdvcnlOYW1lKSB7XHJcblx0XHR0aGlzLmhpZGVCdXR0b25CYXIoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmlzU2F2ZVJlcG9ydE1vZGFsT3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlXHJcblx0XHRcdFx0LnNhdmVEYXNoYm9hcmQocmVwb3J0TmFtZSwgY2F0ZWdvcnlOYW1lKVxyXG5cdFx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbih0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0Rhc2hib2FyZFNhdmVkJyxcclxuXHRcdFx0XHRcdFx0J0Rhc2hib2FyZCBzdWNlc3NmdWxseSBzYXZlZCcpKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdChlcnJvcikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgbXNnQ2FudFNhdmUgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NhbnRTYXZlRGFzaGJvYXJkJywgJ0NhblxcJ3Qgc2F2ZSBkYXNoYm9hcmQnKTtcclxuXHRcdFx0XHRcdGNvbnN0IG1zZ0Vycm9yID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19FcnJvcicsICdFcnJvcicpO1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yVGV4dCA9IGAke21zZ0NhbnRTYXZlfSBcIiR7dGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZX1cIi4gJHttc2dFcnJvcn06IFwiJHtlcnJvcn1cImA7XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dFcnJvckRpYWxvZyhlcnJvclRleHQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVmcmVzaCBhbGwgZGFzaGJvYXJkIHRpbGVzICh3aXRob3V0IHJlbG9hZGluZylcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWxJbmRleCBhdXRvIHJlZnJlc2ggaW50ZXJ2YWwgaW5kZXguIEF1dG9tYXRpYyByZWZyZXNoIHdpbGwgdHVybiBvbiBpZiB0aGlzIGFyZ3VtZW50IGlzIHNldC5cclxuXHQgKi9cclxuXHRyZWZyZXNoRGFzaGJvYXJkKGludGVydmFsSW5kZXgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnJlZnJlc2hEYXNoYm9hcmQoZmFsc2UsIGZhbHNlKTtcclxuXHRcdGlmICghdGhpcy5hdXRvUmVmcmVzaClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0aWYgKGFuZ3VsYXIuaXNOdW1iZXIoaW50ZXJ2YWxJbmRleCkpIHtcclxuXHRcdFx0dGhpcy5jYW5jZWxSZWZyZXNoSW50ZXJ2YWwoKTtcclxuXHRcdFx0Y29uc3Qgc2VsZWN0ZWRJbnRlcnZhbCA9IHRoaXMuYXV0b1JlZnJlc2guaW50ZXJ2YWxzW2ludGVydmFsSW5kZXhdO1xyXG5cdFx0XHRzZWxlY3RlZEludGVydmFsLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0bGV0IGludGVydmFsVmFsdWUgPSBzZWxlY3RlZEludGVydmFsLnZhbHVlO1xyXG5cdFx0XHRpZiAoaW50ZXJ2YWxWYWx1ZSA+PSAxKSB7XHJcblx0XHRcdFx0aW50ZXJ2YWxWYWx1ZSAqPSAxMDAwO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoXHJcblx0XHRcdFx0XHQoKSA9PiB0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5yZWZyZXNoRGFzaGJvYXJkKGZhbHNlLCBmYWxzZSksXHJcblx0XHRcdFx0XHRpbnRlcnZhbFZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y2xvc2VTY2hlZHVsZURpYWxvZygpIHtcclxuXHRcdHRoaXMuc2NoZWR1bGVNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y2xvc2VTaGFyZURpYWxvZygpIHtcclxuXHRcdHRoaXMuc2hhcmVNb2RhbE9wZW5lZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0b3BlblRvb2xiYXJEYXNoYm9hcmQoZGFzaGJvYXJkT2JqKSB7XHJcblx0XHR0aGlzLiRpemVuZGFEYXNoYm9hcmRTdG9yYWdlU2VydmljZS5uYXZpZ2F0ZVRvRGFzaGJvYXJkKGRhc2hib2FyZE9iai5mdWxsTmFtZSk7XHJcblx0fVxyXG5cclxuXHRzaG93QnV0dG9uQmFyKCkge1xyXG5cdFx0dGhpcy5pc0J1dHRvbkJhclZpc2libGUgPSB0cnVlO1xyXG5cdFx0dGhpcy5idXR0b25iYXJDbGFzcyA9ICduYXYgbmF2YmFyLW5hdiBpei1kYXNoLXRvb2xidG4tcGFuZWwgdHJhbnNmb3JtLXRyYW5zaXRpb24gb3BlbmVkJztcclxuXHRcdHRoaXMuYnV0dG9uYmFyQ29sbGFwc2VkQ2xhc3MgPSAnbmF2IG5hdmJhci1uYXYgaXotZGFzaC1jb2xsYXBzZWQtdG9vbGJ0bi1wYW5lbCB0cmFuc2Zvcm0tdHJhbnNpdGlvbic7XHJcblx0fVxyXG5cclxuXHRoaWRlQnV0dG9uQmFyKGNvbXBsZXRlZEhhbmRsZXI/KSB7XHJcblx0XHR0aGlzLmlzQnV0dG9uQmFyVmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5idXR0b25iYXJDbGFzcyA9ICduYXYgbmF2YmFyLW5hdiBpei1kYXNoLXRvb2xidG4tcGFuZWwnO1xyXG5cdFx0dGhpcy5idXR0b25iYXJDb2xsYXBzZWRDbGFzcyA9ICduYXYgbmF2YmFyLW5hdiBpei1kYXNoLWNvbGxhcHNlZC10b29sYnRuLXBhbmVsIG9wZW5lZCc7XHJcblx0XHR0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihjb21wbGV0ZWRIYW5kbGVyKSlcclxuXHRcdFx0XHRjb21wbGV0ZWRIYW5kbGVyLmNhbGwodGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHQyMDApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWN0aXZhdGUvZGVhY3RpdmF0ZSBkYXNoYm9hcmQgbW9kZVxyXG5cdCAqL1xyXG5cdHRvZ2dsZUdhbGxlcnlNb2RlKGVuYWJsZUdhbGxlcnlNb2RlKSB7XHJcblx0XHRpZiAoZW5hYmxlR2FsbGVyeU1vZGUpXHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnRvZ2dsZUZpbHRlcnNQYW5lbChmYWxzZSk7XHJcblx0XHR0aGlzLiRpemVuZGFHYWxsZXJ5U2VydmljZS5nYWxsZXJ5U3RhdGUuaXNFbmFibGVkID0gZW5hYmxlR2FsbGVyeU1vZGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIGdhbGxlcnkgaW4gZnVsbHNjcmVlbiBtb2RlXHJcblx0ICovXHJcblx0dG9nZ2xlR2FsbGVyeU1vZGVGdWxsU2NyZWVuKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudG9nZ2xlRmlsdGVyc1BhbmVsKGZhbHNlKTtcclxuXHRcdHRoaXMuJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlLmdhbGxlcnlTdGF0ZS5pc0Z1bGxTY3JlZW4gPSAhdGhpcy4kaXplbmRhR2FsbGVyeVNlcnZpY2UuZ2FsbGVyeVN0YXRlLmlzRnVsbFNjcmVlbjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFR1cm4gb2ZmL29uIGdhbGxlcnkgcGxheVxyXG5cdCAqL1xyXG5cdHRvZ2dsZUdhbGxlcnlQbGF5KCkge1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UudG9nZ2xlRmlsdGVyc1BhbmVsKGZhbHNlKTtcclxuXHRcdHRoaXMuJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlLmdhbGxlcnlTdGF0ZS5pc1BsYXlTdGFydGVkID0gIXRoaXMuJGl6ZW5kYUdhbGxlcnlTZXJ2aWNlLmdhbGxlcnlTdGF0ZS5pc1BsYXlTdGFydGVkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGN1cnJlbnQgc2VsZWN0ZWQgaW50ZXJ2YWxcclxuXHQgKi9cclxuXHRnZXQgc2VsZWN0ZWRJbnRlcnZhbCgpIHtcclxuXHRcdGlmICghdGhpcy5hdXRvUmVmcmVzaClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRjb25zdCBzZWxlY3RlZCA9IHRoaXMuYXV0b1JlZnJlc2guaW50ZXJ2YWxzLmZpbHRlcihpbnRlcnZhbCA9PiBpbnRlcnZhbC5zZWxlY3RlZCk7XHJcblx0XHRpZiAoc2VsZWN0ZWQubGVuZ3RoID4gMSlcclxuXHRcdFx0dGhyb3cgJ0ZvdW5kIG1vcmUgdGhhbiAyIHNlbGVjdGVkIHJlZnJlc2ggaW50ZXJ2YWxzJztcclxuXHRcdHJldHVybiBzZWxlY3RlZC5sZW5ndGggPyBzZWxlY3RlZFswXSA6IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIGN1cnJlbnQgaW50ZXJ2YWwgbG9vcCBhbmQgdW5zZWxlY3QgY3VycmVudCBpbnRlcnZhbCBpbiBVSS5cclxuXHQgKi9cclxuXHRjYW5jZWxSZWZyZXNoSW50ZXJ2YWwoKSB7XHJcblx0XHRpZiAodGhpcy5yZWZyZXNoSW50ZXJ2YWwpIHtcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnJlZnJlc2hJbnRlcnZhbCk7XHJcblx0XHRcdHRoaXMucmVmcmVzaEludGVydmFsID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMuYXV0b1JlZnJlc2gpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGlmIChhbmd1bGFyLmlzQXJyYXkodGhpcy5hdXRvUmVmcmVzaC5pbnRlcnZhbHMpKSB7XHJcblx0XHRcdHRoaXMuYXV0b1JlZnJlc2guaW50ZXJ2YWxzLmZvckVhY2goaW50ZXJ2YWwgPT4ge1xyXG5cdFx0XHRcdGludGVydmFsLnNlbGVjdGVkID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVG9nZ2xlIGRhc2hib2FyZCBmaWx0ZXJzIHBhbmVsXHJcblx0ICovXHJcblx0dG9nZ2xlRGFzaGJvYXJkRmlsdGVycygpIHtcclxuXHRcdGlmICh0aGlzLmlzRmlsdGVyc0VkaXRBbGxvd2VkKSB7XHJcblx0XHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnRvZ2dsZUZpbHRlcnNQYW5lbCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSHVlIHJvdGF0ZSB0b29sYmFyIGJ0biBpY29uXHJcblx0ICovXHJcblx0Z2V0IGh1ZVJvdGF0ZUJ0bkltYWdlVXJsKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYVVybFNlcnZpY2Uuc2V0dGluZ3MudXJsUnBQYWdlICsgJ2V4dHJlcz1pbWFnZXMuY29sb3InICsgKCF0aGlzLmlzSHVlUm90YXRlRW5hYmxlZCA/ICctYncnIDogJycpICsgJy5wbmcnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgb25lIGNvbHVtbiB2aWV3IHJlcXVpcmVkXHJcblx0ICovXHJcblx0Z2V0IGlzT25lQ29sdW1uVmlldygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc09uZUNvbHVtblZpZXcoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGZpbHRlcnMgYWxsb3dlZFxyXG5cdCovXHJcblx0Z2V0IGlzRnVsbEFjY2VzcygpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc0Z1bGxBY2Nlc3MoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGZpbHRlcnMgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGdldCBpc0ZpbHRlcnNFZGl0QWxsb3dlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc0ZpbHRlcnNFZGl0QWxsb3dlZCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgc2F2ZSBhbGxvd2VkXHJcblx0ICovXHJcblx0Z2V0IGlzU2F2ZUFsbG93ZWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tb2RlbCAmJiB0aGlzLiRpemVuZGFDb21wYXRpYmlsaXR5U2VydmljZS5pc1NhdmVBbGxvd2VkV2l0aEhpZGRlbigpICYmICF0aGlzLm1vZGVsLnRpbGVzV2l0aEhpZGRlbkNvbHVtbnMubGVuZ3RoO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaXMgc2F2ZSBhcyBhbGxvd2VkXHJcblx0ICovXHJcblx0Z2V0IGlzU2F2ZUFzQWxsb3dlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLm1vZGVsICYmIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzU2F2ZUFzQWxsb3dlZCgpICYmICF0aGlzLm1vZGVsLnRpbGVzV2l0aEhpZGRlbkNvbHVtbnMubGVuZ3RoO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvdyBvciBub3Qgc2F2ZSBjb250cm9sc1xyXG5cdCAqL1xyXG5cdGdldCBpc1Nob3dTYXZlQ29udHJvbHMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21tb25TZXR0aW5ncy5zaG93U2F2ZUNvbnRyb2xzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSXMgXCJzYXZlIGFzXCIgYnV0dG9uIGFsbG93ZWRcclxuXHQgKi9cclxuXHRnZXQgaXNTaG93U2F2ZUFzVG9vbGJhckJ1dHRvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbW1vblNldHRpbmdzLnNob3dTYXZlQXNUb29sYmFyQnV0dG9uO1xyXG5cdH1cclxuXHJcblx0Z2V0IGlzU2hvd0Rlc2lnbkRhc2hib2FyZExpbmsoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21tb25TZXR0aW5ncy5zaG93RGVzaWduRGFzaGJvYXJkTGluaztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIGlzIGVkaXQgYWxsb3dlZFxyXG5cdCAqL1xyXG5cdGdldCBpc1JlYWRPbmx5KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUNvbXBhdGliaWxpdHlTZXJ2aWNlLmlzRWRpdEFsbG93ZWQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoZWNrIHRvZ2dsZUh1ZVJvdGF0ZUVuYWJsZWRcclxuXHQgKi9cclxuXHRnZXQgaXNUb2dnbGVIdWVSb3RhdGVFbmFibGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNIdWVSb3RhdGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCYWNrZ3JvdW5kIG1vZGFsIFwiT0tcIiBjbGljayBoYW5kbGVyXHJcblx0ICovXHJcblx0JG9uQmFja2dyb3VuZERpYWxvZ0hhbmRsZXJPaygpIHtcclxuXHRcdHRoaXMuc2VsZWN0QmFja2dyb3VuZEltYWdlTW9kYWxPcGVuZWQgPSBmYWxzZTtcclxuXHRcdGlmICh0aGlzLmJhY2tncm91bmRNb2RhbFJhZGlvID09PSAnZmlsZScpXHJcblx0XHRcdHRoaXMuc2V0QmFja2dyb3VuZEltYWdlRnJvbUxvY2FsaG9zdCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQmFja2dyb3VuZCBmaWxlL3VybCBjaGFuZ2VkIGhhbmRsZXJcclxuXHQgKi9cclxuXHQkb25CYWNrZ3JvdW5kTW9kYWxSYWRpb0NoYW5nZSgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmRJbWFnZVR5cGUgPSB0aGlzLmJhY2tncm91bmRNb2RhbFJhZGlvO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGZpbGUgc2VsZWN0ZWQgaW4gZmlsZSBpbnB1dCBhcyBiYWNrZ3JvdW5kXHJcblx0ICovXHJcblx0c2V0QmFja2dyb3VuZEltYWdlRnJvbUxvY2FsaG9zdCgpIHtcclxuXHRcdGNvbnN0ICRmaWxlQnRuID0gYW5ndWxhci5lbGVtZW50KCcjaXplbmRhRGFzaGJvYXJkQmFja2dyb3VuZCcpO1xyXG5cdFx0aWYgKHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYikge1xyXG5cdFx0XHRpZiAoJGZpbGVCdG5bMF1bJ2ZpbGVzJ10ubGVuZ3RoID09PSAwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0Y29uc3QgZmlsZSA9ICRmaWxlQnRuWzBdWydmaWxlcyddWzBdO1xyXG5cdFx0XHQvLyB0ZXN0IGZpbGUgaW5mb3JtYXRpb25cclxuXHRcdFx0aWYgKCFmaWxlLnR5cGUubWF0Y2goJ2ltYWdlLionKSkge1xyXG5cdFx0XHRcdGFsZXJ0KHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfU2hvdWxkQmVJbWFnZScsICdGaWxlIHNob3VsZCBiZSBpbWFnZScpKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gcmVhZCB0aGUgZmlsZTpcclxuXHRcdFx0Ly8gVE9ETyBSRUFERVIgKyBUWVBFU0NSSVBUIVxyXG5cdFx0XHRjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cdFx0XHRyZWFkZXIub25sb2FkID0gKGV2ZW50OiBhbnkpID0+IHtcclxuXHRcdFx0XHR2YXIgYnl0ZXMgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmRJbWFnZUJhc2U2NCA9IGJ5dGVzO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHQvL3JlYWRlci5vbmxvYWQgPSAoKCkgPT4ge1xyXG5cdFx0XHQvL1x0cmV0dXJuIGV2ZW50ID0+IHtcclxuXHRcdFx0Ly9cdFx0dmFyIGJ5dGVzID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcclxuXHRcdFx0Ly9cdFx0dGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZEltYWdlQmFzZTY0ID0gYnl0ZXM7XHJcblx0XHRcdC8vXHR9O1xyXG5cdFx0XHQvL30pKGZpbGUpO1xyXG5cdFx0XHQvLyBSZWFkIGluIHRoZSBpbWFnZSBmaWxlIGFzIGEgZGF0YSBVUkwuXHJcblx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IGlzQmFja2dyb3VuZEltYWdlU2V0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJGl6ZW5kYUJhY2tncm91bmRTZXJ2aWNlLmJhY2tncm91bmRJbWFnZUJhc2U2NCB8fCB0aGlzLiRpemVuZGFCYWNrZ3JvdW5kU2VydmljZS5iYWNrZ3JvdW5kSW1hZ2VVcmw7XHJcblx0fVxyXG5cclxuXHRyZW1vdmVCYWNrZ3JvdW5kSW1hZ2VIYW5kbGVyKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhQmFja2dyb3VuZFNlcnZpY2UuYmFja2dyb3VuZEltYWdlQmFzZTY0ID0gJyc7XHJcblx0XHR0aGlzLiRpemVuZGFCYWNrZ3JvdW5kU2VydmljZS5iYWNrZ3JvdW5kSW1hZ2VVcmwgPSAnJztcclxuXHR9XHJcblxyXG5cdC8vIFBSSU5UXHJcblxyXG5cdC8qKlxyXG5cdCAqIElzIGh0bWwgbW9kZWwgZW5hYmxlZCBpbiBBZEhvY1NldHRpbmdzXHJcblx0ICovXHJcblx0Z2V0IGlzUHJpbnREYXNoYm9hcmRWaXNpYmxlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJpbnRNb2RlID09PSAnSHRtbCcgfHwgdGhpcy5wcmludE1vZGUgPT09ICdIdG1sMlBkZkFuZEh0bWwnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSXMgaHRtbDJwZGYgbW9kZSBlbmFibGVkIGluIEFkSG9jU2V0dGluZ3NcclxuXHQgKi9cclxuXHRnZXQgaXNQcmludERhc2hib2FyZFBkZlZpc2libGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmludE1vZGUgPT09ICdIdG1sMlBkZicgfHwgdGhpcy5wcmludE1vZGUgPT09ICdIdG1sMlBkZkFuZEh0bWwnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSXMgcHJpbnQgYnV0dG9uIHZpc2libGVcclxuXHQgKi9cclxuXHRnZXQgaXNQcmludERyb3Bkb3duVmlzaWJsZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlzUHJpbnREYXNoYm9hcmRQZGZWaXNpYmxlIHx8IHRoaXMuaXNQcmludERhc2hib2FyZFZpc2libGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQcmludCB3aG9sZSBkYXNoYm9hcmRcclxuXHQgKi9cclxuXHRwcmludERhc2hib2FyZCgpIHtcclxuXHRcdHRoaXMuJGl6ZW5kYURhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlLnByaW50RGFzaGJvYXJkKCdodG1sJykudGhlbigoKSA9PiB7XHJcblx0XHRcdC8vIEhUTUwgcHJpbnQgcHJpbnQgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZCBoYW5kbGVyXHJcblx0XHR9LFxyXG5cdFx0XHRlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZXJyb3JUaXRsZSA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkUHJpbnRSZXBvcnRUaXRsZScsICdSZXBvcnQgcHJpbnQgZXJyb3InKTtcclxuXHRcdFx0XHRsZXQgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRQcmludFJlcG9ydCcsXHJcblx0XHRcdFx0XHQnRmFpbGVkIHRvIHByaW50IHJlcG9ydCBcInswfVwiLiBFcnJvciBkZXNjcmlwdGlvbjogezF9LicpO1xyXG5cdFx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MH0nLCB0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lID8gdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSA6ICcnKTtcclxuXHRcdFx0XHRlcnJvclRleHQgPSBlcnJvclRleHQucmVwbGFjZUFsbCgnezF9JywgZXJyb3IpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCwgZXJyb3JUaXRsZSk7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUHJpbnQgZGFzaGJvYXJkIGFzIHBkZlxyXG5cdCAqL1xyXG5cdHByaW50RGFzaGJvYXJkUGRmKCkge1xyXG5cdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2UucHJpbnREYXNoYm9hcmQoJ3BkZicpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHQvLyBQREYgcHJpbnQgcHJpbnQgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZCBoYW5kbGVyXHJcblx0XHR9LFxyXG5cdFx0XHRlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZXJyb3JUaXRsZSA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkUHJpbnRSZXBvcnRUaXRsZScsICdSZXBvcnQgcHJpbnQgZXJyb3InKTtcclxuXHRcdFx0XHRsZXQgZXJyb3JUZXh0ID0gdGhpcy4kaXplbmRhTG9jYWxlU2VydmljZS5sb2NhbGVUZXh0KCdqc19GYWlsZWRQcmludFJlcG9ydCcsXHJcblx0XHRcdFx0XHQnRmFpbGVkIHRvIHByaW50IHJlcG9ydCBcInswfVwiLiBFcnJvciBkZXNjcmlwdGlvbjogezF9LicpO1xyXG5cdFx0XHRcdGVycm9yVGV4dCA9IGVycm9yVGV4dC5yZXBsYWNlQWxsKCd7MH0nLCB0aGlzLm1vZGVsLnJlcG9ydEZ1bGxOYW1lID8gdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSA6ICcnKTtcclxuXHRcdFx0XHRlcnJvclRleHQgPSBlcnJvclRleHQucmVwbGFjZUFsbCgnezF9JywgZXJyb3IpO1xyXG5cdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCwgZXJyb3JUaXRsZSk7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gRU1BSUxcclxuXHJcblx0LyoqXHJcblx0ICogT3BlbiBzZW5kIGVtYWlsIGRpYWxvZ1xyXG5cdCAqL1xyXG5cdHNob3dFbWFpbE1vZGFsKHR5cGUpIHtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XHJcblx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLm9wZW5lZCA9IHRydWU7XHJcblx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLnNlbmRUeXBlID0gdHlwZTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZW1haWwgPSAnJztcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZXJyb3JzID0gW107XHJcblx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLmVycm9yT2NjdXJlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VuZCBlbWFpbCBkaWFsb2cgc2hvd24gZXZlbnQuXHJcblx0ICovXHJcblx0c2V0Rm9jdXMoKSB7XHJcblx0XHR0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5mb2N1c2VkID0gdHJ1ZTtcclxuXHRcdH0sIDEpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xvc2Ugc2VuZCBlbWFpbCBkaWFsb2dcclxuXHQgKi9cclxuXHRoaWRlRW1haWxNb2RhbChzdWNjZXNzKSB7XHJcblx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLmZvY3VzZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZXJyb3JPY2N1cmVkID0gdHJ1ZTtcclxuXHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUuZXJyb3JzID0gW107XHJcblx0XHRpZiAoc3VjY2Vzcykge1xyXG5cdFx0XHQvLyBPSyBwcmVzc2VkXHJcblx0XHRcdGNvbnN0IGlzRW1haWxWYWxpZCA9XHJcblx0XHRcdFx0L14oW1xcdy1dKyg/OlxcLltcXHctXSspKilAKCg/OltcXHctXStcXC4pKlxcd1tcXHctXXswLDY2fSlcXC4oW2Etel17Miw2fSg/OlxcLlthLXpdezJ9KT8pJC9pLnRlc3QodGhpcy5zZW5kRW1haWxTdGF0ZVxyXG5cdFx0XHRcdFx0LmVtYWlsKTtcclxuXHRcdFx0aWYgKCFpc0VtYWlsVmFsaWQpIHtcclxuXHRcdFx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLmVycm9yT2NjdXJlZCA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy5zZW5kRW1haWxTdGF0ZS5lcnJvcnMucHVzaCh0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0luY29ycmVjdEVtYWlsJywgJ0luY29ycmVjdCBFbWFpbCcpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLmlzTG9hZGluZyA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy4kaXplbmRhRGFzaGJvYXJkU3RvcmFnZVNlcnZpY2Uuc2VuZEVtYWlsKHRoaXMuc2VuZEVtYWlsU3RhdGUuc2VuZFR5cGUsIHRoaXMuc2VuZEVtYWlsU3RhdGUuZW1haWwpLnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuc2VuZEVtYWlsU3RhdGUub3BlbmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRpZiAocmVzdWx0ID09PSAnT0snKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihcclxuXHRcdFx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0VtYWlsV2FzU2VudCcsICdFbWFpbCAgd2FzIHNlbnQnKSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvclRleHQgPSB0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0ZhaWxlZFRvU2VuZEVtYWlsJywgJ0ZhaWxlZCB0byBzZW5kIGVtYWlsJyk7XHJcblx0XHRcdFx0XHRcdHRoaXMuJGl6ZW5kYVV0aWxVaVNlcnZpY2Uuc2hvd0Vycm9yRGlhbG9nKGVycm9yVGV4dCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuJGl6ZW5kYUxvY2FsZVNlcnZpY2UubG9jYWxlVGV4dCgnanNfRmFpbGVkVG9TZW5kRW1haWwnLCAnRmFpbGVkIHRvIHNlbmQgZW1haWwnKTtcclxuXHRcdFx0XHRcdFx0dGhpcy4kaXplbmRhVXRpbFVpU2VydmljZS5zaG93RXJyb3JEaWFsb2coZXJyb3JUZXh0KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBjYW5jZWwgcHJlc3NlZFxyXG5cdFx0XHR0aGlzLnNlbmRFbWFpbFN0YXRlLm9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbmQgZGFzaGJvYXJkIHZpYSBlbWFpbFxyXG5cdCAqL1xyXG5cdHNlbmRFbWFpbCh0eXBlKSB7XHJcblx0XHRpZiAodHlwZSA9PT0gJ0xpbmsnKSB7XHJcblx0XHRcdGlmICghdGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSkge1xyXG5cdFx0XHRcdGNvbnN0IGVycm9yVGV4dCA9XHJcblx0XHRcdFx0XHR0aGlzLiRpemVuZGFMb2NhbGVTZXJ2aWNlLmxvY2FsZVRleHQoJ2pzX0NhbnRTZW5kVW5zYXZlZExpbmsnLCAnQ2Fubm90IGVtYWlsIGxpbmsgdG8gdW5zYXZlZCBkYXNoYm9hcmQnKTtcclxuXHRcdFx0XHR0aGlzLiRpemVuZGFVdGlsVWlTZXJ2aWNlLnNob3dOb3RpZmljYXRpb24oZXJyb3JUZXh0KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHJlZGlyZWN0VXJsID1cclxuXHRcdFx0XHRgP3N1YmplY3Q9JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5tb2RlbC5yZXBvcnRGdWxsTmFtZSl9JmJvZHk9JHtlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZil9YDtcclxuXHRcdFx0cmVkaXJlY3RVcmwgPSBgbWFpbHRvOiR7cmVkaXJlY3RVcmwucmVwbGFjZSgvIC9nLCAnJTIwJyl9YDtcclxuXHRcdFx0d2luZG93LnRvcC5sb2NhdGlvbi5ocmVmID0gcmVkaXJlY3RVcmw7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0dGhpcy5zaG93RW1haWxNb2RhbCh0eXBlKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICdpemVuZGEtZXh0ZXJuYWwtbGlicyc7XHJcbmltcG9ydCBpemVuZGFEYXNoYm9hcmRNb2R1bGUgZnJvbSAnZGFzaGJvYXJkL21vZHVsZS1kZWZpbml0aW9uJztcclxuaW1wb3J0IERhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9iYWNrZ3JvdW5kLXNlcnZpY2UnO1xyXG5pbXBvcnQgRGFzaGJvYXJkUXVlcnlTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtcXVlcnktc2VydmljZSc7XHJcbmltcG9ydCBEYXNoYm9hcmRHYWxsZXJ5U2VydmljZSBmcm9tICdkYXNoYm9hcmQvc2VydmljZXMvZ2FsbGVyeS1zZXJ2aWNlJztcclxuaW1wb3J0IERhc2hib2FyZFN0b3JhZ2VTZXJ2aWNlIGZyb20gJ2Rhc2hib2FyZC9zZXJ2aWNlcy9kYXNoYm9hcmQtc3RvcmFnZS1zZXJ2aWNlJztcclxuXHJcbi8vIHJlZ2lzdGVyIHNlcnZpY2VzXHJcbkRhc2hib2FyZEJhY2tncm91bmRTZXJ2aWNlLnJlZ2lzdGVyKGl6ZW5kYURhc2hib2FyZE1vZHVsZSk7XHJcbkRhc2hib2FyZFF1ZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFEYXNoYm9hcmRNb2R1bGUpO1xyXG5EYXNoYm9hcmRHYWxsZXJ5U2VydmljZS5yZWdpc3RlcihpemVuZGFEYXNoYm9hcmRNb2R1bGUpO1xyXG5EYXNoYm9hcmRTdG9yYWdlU2VydmljZS5yZWdpc3RlcihpemVuZGFEYXNoYm9hcmRNb2R1bGUpO1xyXG5cclxuLy8gcmVnaXN0ZXIgY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlc1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9kaXJlY3RpdmVzL2Rhc2hib2FyZC1iYWNrZ3JvdW5kJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvZGlyZWN0aXZlcy90aWxlLXRvcC1zbGlkZXInO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9kaXJlY3RpdmVzL3Rvb2xiYXItZm9sZGVyLW1lbnUtYWNjb3JkaW9uJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvZGlyZWN0aXZlcy90b29sYmFyLWxpbmtzLXBhbmVsJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtZHJhZ2dhYmxlLWRpcmVjdGl2ZSc7XHJcbmltcG9ydCAnZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS90aWxlLWZsaXAtZGlyZWN0aXZlJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtaG92ZXItZGlyZWN0aXZlJztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy90aWxlL3RpbGUtcmVzaXphYmxlLWRpcmVjdGl2ZSc7XHJcbmltcG9ydCAnZGFzaGJvYXJkL2NvbXBvbmVudHMvdGlsZS1iYWNrL3RpbGUtYmFjay1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL3RpbGUvdGlsZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgJ2Rhc2hib2FyZC9jb21wb25lbnRzL2ZpbHRlci9maWx0ZXItY29tcG9uZW50JztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktY29tcG9uZW50JztcclxuaW1wb3J0ICdkYXNoYm9hcmQvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLWNvbXBvbmVudCc7XHJcbmltcG9ydCAnZGFzaGJvYXJkL2NvbXBvbmVudHMvdG9vbGJhci90b29sYmFyLWNvbXBvbmVudCc7XHJcblxyXG4iLCJkZWNsYXJlIGdsb2JhbCB7XHJcblxyXG5cdHR5cGUgUHJlZGljYXRlPFQ+ID0gKGFyZzogVCkgPT4gYm9vbGVhbjtcclxuXHJcblx0aW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogTElOUSBGaXJzdE9yRGVmYXVsdCBtZXRob2QgYW5hbG9nLlxyXG5cdFx0ICogQHBhcmFtIHByZWRpY2F0ZSBTZWFyY2ggcHJlZGljYXRlLlxyXG5cdFx0ICogQHJldHVybnMge1QgfCBudWxsfSBSZXR1cm5zIGZpcnN0IGZvdW5kIHZhbHVlIG9yIG51bGwuXHJcblx0XHQgKi9cclxuXHRcdGZpcnN0T3JEZWZhdWx0KHByZWRpY2F0ZTogUHJlZGljYXRlPFQ+KTogVDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZCBjb2xsZWN0aW9uXHJcblx0XHQgKiBAcGFyYW0gY29sbGVjdGlvblxyXG5cdFx0ICovXHJcblx0XHRwdXNoQWxsKGNvbGxlY3Rpb246IEFycmF5PFQ+KTogQXJyYXk8VD47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGZpcnN0IG9jY3VyZW5jZSBpbiBhcnJheSdzIG5lc3RlZCBvYmplY3RzLlxyXG5cdFx0ICogSS5lLiBmb3IgYXJyYXk6XHJcblx0XHQgKiBjb25zdCBhID0gWyB7YToxLCBiOlsnYScsJ2InXX0sIHthOjEwMCwgYjpbJ2FhYScsICdkJ119LCB7YToxMDAwLCBiOlsnZScsJ2FhYWEnXX0gXTtcclxuXHRcdCAqIGEuZmlyc3RPckRlZmF1bHRJbklubmVyKCdiJywgYkl0ZW0gPT4gYkl0ZW0uaW5kZXhPZignYScpID49IDApO1xyXG5cdFx0ICogd2lsbCByZXR1cm4gZmlyc3QgdmFsdWUgZnJvbSAuYiBhcnJheXMgd2l0aCBzdWJzdHJpbmcgJ2EnLlxyXG5cdFx0ICogQHBhcmFtIGlubmVyT2JqZWN0S2V5IElubmVyIGNvbGxlY3Rpb24gcHJvcGVydHkgbmFtZS5cclxuXHRcdCAqIEBwYXJhbSBpbm5lck9iamVjdFByZWRpY2F0ZSBQcmVkaWNhdGUgZm9yIHNlYXJjaCBhY3Jvc3MgaW5uZXIgY29sbGVjdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdGZpcnN0T3JEZWZhdWx0SW5Jbm5lcjxLIGV4dGVuZHMga2V5b2YgVD4oaW5uZXJPYmplY3RLZXk6IEssIGlubmVyT2JqZWN0UHJlZGljYXRlOiBQcmVkaWNhdGU8VFtLXT4pOiBUW0tdO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmluZCBhbGwgb2NjdXJlbmNlcyBpbiBhcnJheSdzIG5lc3RlZCBvYmplY3RzLlxyXG5cdFx0ICogSS5lLiBmb3IgYXJyYXk6XHJcblx0XHQgKiBjb25zdCBhID0gWyB7YToxLCBiOlsnYScsJ2InXX0sIHthOjEwMCwgYjpbJ2FhYScsICdkJ119LCB7YToxMDAwLCBiOlsnZScsJ2FhYWEnXX0gXTtcclxuXHRcdCAqIGEuZmlsdGVySW5Jbm5lcignYicsIGJJdGVtID0+IGJJdGVtLmluZGV4T2YoJ2EnKSA+PSAwKTtcclxuXHRcdCAqIHdpbGwgcmV0dXJuIGFsbCB2YWx1ZXMgZnJvbSAuYiBhcnJheXMgd2l0aCBzdWJzdHJpbmcgJ2EnOiBbJ2EnLCAnYWFhJywgJ2FhYWEnXS5cclxuXHRcdCAqIEBwYXJhbSBpbm5lck9iamVjdEtleSBJbm5lciBjb2xsZWN0aW9uIHByb3BlcnR5IG5hbWUuXHJcblx0XHQgKiBAcGFyYW0gaW5uZXJPYmplY3RQcmVkaWNhdGUgUHJlZGljYXRlIGZvciBzZWFyY2ggYWNyb3NzIGlubmVyIGNvbGxlY3Rpb25zLlxyXG5cdFx0ICovXHJcblx0XHRmaWx0ZXJJbklubmVyPEsgZXh0ZW5kcyBrZXlvZiBUPihpbm5lck9iamVjdEtleTogSywgaW5uZXJPYmplY3RQcmVkaWNhdGU6IFByZWRpY2F0ZTxUW0tdPik6IEFycmF5PFRbS10+O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IG1vZHVsZSBJemVuZGFMaW5xIHtcclxuXHJcblx0QXJyYXkucHJvdG90eXBlLmZpcnN0T3JEZWZhdWx0ID0gZnVuY3Rpb24gPFQ+KHByZWRpY2F0ZTogUHJlZGljYXRlPFQ+KTogVCB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZWR1Y2UoKGFjY3VtdWxhdG9yOiBULCBjdXJyZW50VmFsdWU6IFQpID0+IHtcclxuXHRcdFx0aWYoIWFjY3VtdWxhdG9yICYmIHByZWRpY2F0ZShjdXJyZW50VmFsdWUpKSBcclxuXHRcdFx0XHRhY2N1bXVsYXRvciA9IGN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0cmV0dXJuIGFjY3VtdWxhdG9yO1xyXG5cdFx0fSwgbnVsbCk7XHJcblx0fVxyXG5cclxuXHRBcnJheS5wcm90b3R5cGUucHVzaEFsbCA9IGZ1bmN0aW9uPFQ+KGNvbGxlY3Rpb246IEFycmF5PFQ+KTogQXJyYXk8VD4ge1xyXG5cdFx0aWYgKGNvbGxlY3Rpb24gPT09IG51bGwpXHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0Y29sbGVjdGlvbi5mb3JFYWNoKHQgPT4gdGhpcy5wdXNoKHQpKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0QXJyYXkucHJvdG90eXBlLmZpcnN0T3JEZWZhdWx0SW5Jbm5lciA9IGZ1bmN0aW9uPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPihpbm5lck9iamVjdEtleTogSyxcclxuXHRcdGlubmVyT2JqZWN0UHJlZGljYXRlOiBQcmVkaWNhdGU8VFtLXT4pOiBUW0tdIHwgbnVsbCB7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IHBhcmVudE9iamVjdCA9IHRoaXNbaV0gYXMgVDtcclxuXHRcdFx0aWYgKCFwYXJlbnRPYmplY3QuaGFzT3duUHJvcGVydHkoaW5uZXJPYmplY3RLZXkpKVxyXG5cdFx0XHRcdHRocm93IGBLZXkgJHtpbm5lck9iamVjdEtleX0gbm90IGZvdW5kIGluIG9iamVjdCAke3BhcmVudE9iamVjdH1gO1xyXG5cclxuXHRcdFx0Y29uc3QgaW5uZXJPYmplY3QgPSBwYXJlbnRPYmplY3RbaW5uZXJPYmplY3RLZXldO1xyXG5cdFx0XHRpZiAoaW5uZXJPYmplY3QgJiYgaW5uZXJPYmplY3QgaW5zdGFuY2VvZiBBcnJheSkge1xyXG5cdFx0XHRcdGNvbnN0IGZvdW5kSW5uZXIgPSBpbm5lck9iamVjdC5maXJzdE9yRGVmYXVsdChpbm5lck9iamVjdFByZWRpY2F0ZSk7XHJcblx0XHRcdFx0aWYgKGZvdW5kSW5uZXIpXHJcblx0XHRcdFx0XHRyZXR1cm4gZm91bmRJbm5lcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRBcnJheS5wcm90b3R5cGUuZmlsdGVySW5Jbm5lciA9IGZ1bmN0aW9uPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPihpbm5lck9iamVjdEtleTogSyxcclxuXHRcdGlubmVyT2JqZWN0UHJlZGljYXRlOiBQcmVkaWNhdGU8VFtLXT4pOiBBcnJheTxUW0tdPiB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucmVkdWNlKChyZXN1bHQ6IEFycmF5PFRbS10+LCBjdXJyZW50VG9wTGV2ZWw6IFQpID0+IHtcclxuXHRcdFx0aWYgKCFjdXJyZW50VG9wTGV2ZWwuaGFzT3duUHJvcGVydHkoaW5uZXJPYmplY3RLZXkpKVxyXG5cdFx0XHRcdHRocm93IGBLZXkgJHtpbm5lck9iamVjdEtleX0gbm90IGZvdW5kIGluIG9iamVjdCAke2N1cnJlbnRUb3BMZXZlbH1gO1xyXG5cdFx0XHRjb25zdCBpbm5lciA9IGN1cnJlbnRUb3BMZXZlbFtpbm5lck9iamVjdEtleV07XHJcblx0XHRcdGlmIChpbm5lciAmJiBpbm5lciBpbnN0YW5jZW9mIEFycmF5KVxyXG5cdFx0XHRcdHJldHVybiByZXN1bHQuY29uY2F0KGlubmVyLmZpbHRlcihpbm5lck9iamVjdFByZWRpY2F0ZSkpO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSwgW10pO1xyXG5cdH07XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoaXMgaW50ZXJmYWNlIHVzZWQgZm9yIHRoZSBjb252ZXJ0YXRpb24gZnJvbS90byBzZXJ2ZXItc2lkZSBqc29uIG9iamVjdHMuXHJcbiAqIE9iamVjdCB3aXRoIHRoaXMgaW50ZXJmYWNlIGFyZSB1c2VkIGFzIHRoZSBwcm9taXNlIHBhcmFtZXRlcnMgZm9yIHF1ZXJ5IG1ldGhvZHMuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElJemVuZGFSYXdNb2RlbCB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgcmF3IGpzb24gKG9yIGFueSBvdGhlciB0eXBlKSBpbnRvIHRoZSByYXcgbW9kZWwgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSB7YW55fSBqc29uIFNvdXJjZSByYXcgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdGZyb21Kc29uKGpzb246IGFueSwgLi4ub3B0aW9uYWwpO1xyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRoaXMgb2JqZWN0IGludG8gdGhlIHJhdyBmb3JtYXQuXHJcblx0ICogQHJldHVybnMge2FueX0gUmF3IG9iamVjdC5cclxuXHQgKi9cclxuXHR0b0pzb24oKTogYW55O1xyXG59Il19
